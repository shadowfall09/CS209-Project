{"items":[{"tags":["java","junit4","vert.x"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1681176714,"post_id":75961197,"comment_id":134010937,"body_markdown":"what does the hello method do? Is that deadlocking? I do think they are using different service objects","body":"what does the hello method do? Is that deadlocking? I do think they are using different service objects"},{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1681328349,"post_id":75961197,"comment_id":134040494,"body_markdown":"It is in the linked repo. `&quot;Hello %s&quot;.formatted(name)`.","body":"It is in the linked repo. <code>&quot;Hello %s&quot;.formatted(name)</code>."}],"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680893186,"creation_date":1680893186,"question_id":75961197,"body_markdown":"I wrote a small example of an issue I am having with sharing a service between a set of test classes. What I did was write a base class and extend it in the other classes.\r\n\r\n```\r\n@RunWith(VertxUnitRunner.class)\r\npublic abstract class BaseTest {\r\n\r\n    @ClassRule\r\n    public static final RunTestOnContext contextRule = new RunTestOnContext();\r\n\r\n    @ClassRule\r\n    public static final Timeout timeout = Timeout.seconds(2);\r\n\r\n    static HelloService service;\r\n\r\n    @BeforeClass\r\n    public static void setupClass(TestContext context) {\r\n        contextRule.vertx().exceptionHandler(context.exceptionHandler());\r\n        contextRule.vertx().deployVerticle(new HelloVerticle(), context.asyncAssertSuccess(result -&gt; {\r\n            Assertions.assertThat(result).isNotBlank();\r\n        }));\r\n        service = HelloService.createProxy(contextRule.vertx(), VERTX_HELLO_SERVICE);\r\n    }\r\n\r\n    @AfterClass\r\n    public static void teardownClass(TestContext context) {\r\n        contextRule.vertx().close(context.asyncAssertSuccess());\r\n    }\r\n}\r\n```\r\n\r\nAnd I have two test classes.\r\n\r\n```\r\npublic class HelloTest extends BaseTest {\r\n\r\n    @Test\r\n    public void test(TestContext context) {\r\n        service.hello(&quot;John&quot;, context.asyncAssertSuccess(r -&gt; {\r\n           assertThat(r).isEqualTo(&quot;Hello John&quot;);\r\n        }));\r\n    }\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\npublic class Hello2Test extends BaseTest {\r\n    @Test\r\n    public void test(TestContext context) {\r\n        service.hello(&quot;John2&quot;, context.asyncAssertSuccess(r -&gt; {\r\n           assertThat(r).isEqualTo(&quot;Hello John2&quot;);\r\n        }));\r\n    }\r\n}\r\n```\r\n\r\nEach class can run individually but when they are run together from intellij or from the `mvn test`, one class will run and the tests will freeze and never fail. Even with the timeout rule.\r\n\r\nWhat is causing this issue and is there a better solution to sharing the service in other tests. My goal is to not need to startup the verticle multiple times in the tests.\r\n\r\nThese tests are in junit4. I added the example repo [here][1].\r\n\r\n\r\n  [1]: https://github.com/moaxcp/vertx-examples","title":"How to share service between tests in vertx","body":"<p>I wrote a small example of an issue I am having with sharing a service between a set of test classes. What I did was write a base class and extend it in the other classes.</p>\n<pre><code>@RunWith(VertxUnitRunner.class)\npublic abstract class BaseTest {\n\n    @ClassRule\n    public static final RunTestOnContext contextRule = new RunTestOnContext();\n\n    @ClassRule\n    public static final Timeout timeout = Timeout.seconds(2);\n\n    static HelloService service;\n\n    @BeforeClass\n    public static void setupClass(TestContext context) {\n        contextRule.vertx().exceptionHandler(context.exceptionHandler());\n        contextRule.vertx().deployVerticle(new HelloVerticle(), context.asyncAssertSuccess(result -&gt; {\n            Assertions.assertThat(result).isNotBlank();\n        }));\n        service = HelloService.createProxy(contextRule.vertx(), VERTX_HELLO_SERVICE);\n    }\n\n    @AfterClass\n    public static void teardownClass(TestContext context) {\n        contextRule.vertx().close(context.asyncAssertSuccess());\n    }\n}\n</code></pre>\n<p>And I have two test classes.</p>\n<pre><code>public class HelloTest extends BaseTest {\n\n    @Test\n    public void test(TestContext context) {\n        service.hello(&quot;John&quot;, context.asyncAssertSuccess(r -&gt; {\n           assertThat(r).isEqualTo(&quot;Hello John&quot;);\n        }));\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class Hello2Test extends BaseTest {\n    @Test\n    public void test(TestContext context) {\n        service.hello(&quot;John2&quot;, context.asyncAssertSuccess(r -&gt; {\n           assertThat(r).isEqualTo(&quot;Hello John2&quot;);\n        }));\n    }\n}\n</code></pre>\n<p>Each class can run individually but when they are run together from intellij or from the <code>mvn test</code>, one class will run and the tests will freeze and never fail. Even with the timeout rule.</p>\n<p>What is causing this issue and is there a better solution to sharing the service in other tests. My goal is to not need to startup the verticle multiple times in the tests.</p>\n<p>These tests are in junit4. I added the example repo <a href=\"https://github.com/moaxcp/vertx-examples\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","android","objective-c","react-native","react-native-native-module"],"answers":[{"tags":[],"owner":{"account_id":28243424,"reputation":1,"user_id":21590868,"display_name":"Valentin Kisimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680892919,"creation_date":1680892919,"answer_id":75961170,"question_id":61854949,"body_markdown":"I see that the thread is quite old, but this can be useful in the future.\r\n\r\nA way that works for me is encoding the bitmap to Base64.\r\n\r\nJava Side:\r\n\r\n    iconBase64 = Base64.encodeToString(byteArray, Base64.DEFAULT);\r\n\r\nReact-native side:\r\n\r\n       &lt;Image source={{uri: `data:image/png;base64,${props.item.iconBase64}`}}/&gt;\r\n\r\nIf needed you can even compress the image:\r\n\r\n    bitmap.compress(Bitmap.CompressFormat.PNG, 10, byteArrayOutputStream);\r\n\r\n\r\n","title":"Display png image from native module in react native","body":"<p>I see that the thread is quite old, but this can be useful in the future.</p>\n<p>A way that works for me is encoding the bitmap to Base64.</p>\n<p>Java Side:</p>\n<pre><code>iconBase64 = Base64.encodeToString(byteArray, Base64.DEFAULT);\n</code></pre>\n<p>React-native side:</p>\n<pre><code>   &lt;Image source={{uri: `data:image/png;base64,${props.item.iconBase64}`}}/&gt;\n</code></pre>\n<p>If needed you can even compress the image:</p>\n<pre><code>bitmap.compress(Bitmap.CompressFormat.PNG, 10, byteArrayOutputStream);\n</code></pre>\n"}],"owner":{"account_id":15543881,"reputation":21,"user_id":11213774,"display_name":"Sourav Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680892919,"creation_date":1589732062,"question_id":61854949,"body_markdown":"I have a slider component which I want to have a handle as png image pass as a prop. Now, I want that png image to pass through react native to native modules(android and ios both). The component is written at native side for both ios(Objective C) and android(Java).\r\n\r\n 1. How can I pass png image as a prop to native modules?\r\n 2. How can I use them at native Java part?(I am using Canvas to draw my\r\n    slider as shown below).\r\n 3. How can I use them at native Objective C?(I am using CGContext to\r\n    draw my slider).\r\n\r\nWhat I have tried:\r\n\r\n 1. I resolved path of png image by following code at React Native side.\r\n````\r\n  const myImage = require(&#39;../assets/slider-handle.png&#39;);\r\n  const resolveAssetSource = require(&#39;react-native/Libraries/Image/resolveAssetSource&#39;);\r\n  const resolvedImage = resolveAssetSource(myImage); \r\n````\r\nThen pass the path of image as a prop ````imagePath={resolvedImage.uri}````.\r\n\r\nThen at Java part I do following:\r\n ```` \r\npublic void drawImage(String imagePath, Canvas canvas, int x, int y) {\r\n      Bitmap bitmap = BitmapFactory.decodeFile(imagePath);\r\n      canvas.drawBitmap(bitmap, y, x, somePaintValue);\r\n}\r\n````\r\nI am getting the path of image(the path is something like this: (*http:/10.0.2.2:8081/assets/app/components/slider/assets/slider.png*), I have verified that at native side by consoling the path.\r\n\r\nNot sure if I need to pass only path of image or maybe there is a way to pass whole png.\r\nThis is my first time working with Java and Objective C.\r\n[This is the slider I am developing.][1] \r\nAny help will be really appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/dQiBt.png","title":"Display png image from native module in react native","body":"<p>I have a slider component which I want to have a handle as png image pass as a prop. Now, I want that png image to pass through react native to native modules(android and ios both). The component is written at native side for both ios(Objective C) and android(Java).</p>\n\n<ol>\n<li>How can I pass png image as a prop to native modules?</li>\n<li>How can I use them at native Java part?(I am using Canvas to draw my\nslider as shown below).</li>\n<li>How can I use them at native Objective C?(I am using CGContext to\ndraw my slider).</li>\n</ol>\n\n<p>What I have tried:</p>\n\n<ol>\n<li>I resolved path of png image by following code at React Native side.</li>\n</ol>\n\n<pre><code>  const myImage = require('../assets/slider-handle.png');\n  const resolveAssetSource = require('react-native/Libraries/Image/resolveAssetSource');\n  const resolvedImage = resolveAssetSource(myImage); \n</code></pre>\n\n<p>Then pass the path of image as a prop <code>imagePath={resolvedImage.uri}</code>.</p>\n\n<p>Then at Java part I do following:</p>\n\n<pre><code>public void drawImage(String imagePath, Canvas canvas, int x, int y) {\n     Bitmap bitmap = BitmapFactory.decodeFile(imagePath);\n     canvas.drawBitmap(bitmap, y, x, somePaintValue);\n}\n</code></pre>\n\n<p>I am getting the path of image(the path is something like this: (<em>http:/10.0.2.2:8081/assets/app/components/slider/assets/slider.png</em>), I have verified that at native side by consoling the path.</p>\n\n<p>Not sure if I need to pass only path of image or maybe there is a way to pass whole png.\nThis is my first time working with Java and Objective C.\n<a href=\"https://i.stack.imgur.com/dQiBt.png\" rel=\"nofollow noreferrer\">This is the slider I am developing.</a> \nAny help will be really appreciated.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":0,"creation_date":1680890634,"post_id":75960923,"comment_id":133977037,"body_markdown":"What the error? What&#39;s in logcat?","body":"What the error? What&#39;s in logcat?"},{"owner":{"account_id":25867309,"reputation":1,"user_id":19598753,"display_name":"cls"},"score":0,"creation_date":1680892103,"post_id":75960923,"comment_id":133977295,"body_markdown":"@MarcinOrlowski I added a screenshots of the logcats                      https://i.stack.imgur.com/SAOYD.png","body":"@MarcinOrlowski I added a screenshots of the logcats                      <a href=\"https://i.stack.imgur.com/SAOYD.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/SAOYD.png</a>"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1680899201,"post_id":75960923,"comment_id":133978469,"body_markdown":"Have you logged in the button click and `onCreate` of Activity 3 to confirm they are being called as expected? What does MainActivity3 look like?","body":"Have you logged in the button click and <code>onCreate</code> of Activity 3 to confirm they are being called as expected? What does MainActivity3 look like?"}],"owner":{"account_id":25867309,"reputation":1,"user_id":19598753,"display_name":"cls"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680892799,"creation_date":1680890531,"question_id":75960923,"body_markdown":"I try to redirect my app to activity_main3 with Intent but for some reason I can&#39;t figure out why it is redirecting to activity_main2. I have one button and a listView click event which are supposed to handle this transition correctly,I think they are linked with the correct ids   and the code compiles. Even debugger finds activity_main3 but the emulator still show the activity_main2. Do you have any idea?\r\n\r\n\r\nReferences to the button and listView:\r\n\r\n```\r\n        textViewCities = findViewById(R.id.listViewFirestore);\r\n        recyclerRedirect = findViewById(R.id.firestoreRecycler);\r\n\r\n```\r\n\r\nthey exist on the respective xml files\r\n\r\n```    \r\n    &lt;Button\r\n        android:id=&quot;@+id/firestoreRecycler&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/delAccount&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:hint=&quot;testingRecyclerViewFirestore&quot;\r\n        /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listViewFirestore&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;400dp&quot;\r\n        android:paddingTop=&quot;30dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/signOut&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.428&quot; /&gt;\r\n```\r\n\r\nI need this button to send me to main_activity3 but it sends me the content of main_activity2\r\n\r\n```\r\n    recyclerRedirect.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent d = new Intent(MainActivity.this, MainActivity3.class);\r\n                d.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                startActivity(d);\r\n            }\r\n        });\r\n```\r\n\r\nthis listView click event that sends to main_activity2 works correctly.\r\nBoth  are instantiated in the first main activity under the method on create. \r\n\r\n```\r\n  textViewCities.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n                clickedCity = (City)  adapterView.getItemAtPosition(i);\r\n\r\n\r\n                Bundle bundle = new Bundle();\r\n\r\n                bundle.putString(&quot;country&quot;, clickedCity.getCountry());\r\n                bundle.putString(&quot;name&quot;, clickedCity.getName());\r\n                bundle.putLong(&quot;population&quot;, clickedCity.getPopulation());\r\n\r\n\r\n                Intent c = new Intent(getApplicationContext(), MainActivity2.class);\r\n                c.putExtras(bundle);\r\n               startActivity(c);\r\n\r\n            }\r\n        });\r\n```\r\n\r\nimage of logcats after clicking the button:\r\n\r\n![x](https://i.stack.imgur.com/SAOYD.png)","title":"Android Intent class not redirecting to desired activity","body":"<p>I try to redirect my app to activity_main3 with Intent but for some reason I can't figure out why it is redirecting to activity_main2. I have one button and a listView click event which are supposed to handle this transition correctly,I think they are linked with the correct ids   and the code compiles. Even debugger finds activity_main3 but the emulator still show the activity_main2. Do you have any idea?</p>\n<p>References to the button and listView:</p>\n<pre><code>        textViewCities = findViewById(R.id.listViewFirestore);\n        recyclerRedirect = findViewById(R.id.firestoreRecycler);\n\n</code></pre>\n<p>they exist on the respective xml files</p>\n<pre><code>    &lt;Button\n        android:id=&quot;@+id/firestoreRecycler&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/delAccount&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:hint=&quot;testingRecyclerViewFirestore&quot;\n        /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listViewFirestore&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;400dp&quot;\n        android:paddingTop=&quot;30dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/signOut&quot;\n        app:layout_constraintVertical_bias=&quot;0.428&quot; /&gt;\n</code></pre>\n<p>I need this button to send me to main_activity3 but it sends me the content of main_activity2</p>\n<pre><code>    recyclerRedirect.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent d = new Intent(MainActivity.this, MainActivity3.class);\n                d.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                startActivity(d);\n            }\n        });\n</code></pre>\n<p>this listView click event that sends to main_activity2 works correctly.\nBoth  are instantiated in the first main activity under the method on create.</p>\n<pre><code>  textViewCities.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n                clickedCity = (City)  adapterView.getItemAtPosition(i);\n\n\n                Bundle bundle = new Bundle();\n\n                bundle.putString(&quot;country&quot;, clickedCity.getCountry());\n                bundle.putString(&quot;name&quot;, clickedCity.getName());\n                bundle.putLong(&quot;population&quot;, clickedCity.getPopulation());\n\n\n                Intent c = new Intent(getApplicationContext(), MainActivity2.class);\n                c.putExtras(bundle);\n               startActivity(c);\n\n            }\n        });\n</code></pre>\n<p>image of logcats after clicking the button:</p>\n<p><img src=\"https://i.stack.imgur.com/SAOYD.png\" alt=\"x\" /></p>\n"},{"tags":["java","spring-boot","netty"],"answers":[{"tags":[],"owner":{"account_id":5747167,"reputation":316,"user_id":4538070,"display_name":"KevinC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680892609,"creation_date":1680892024,"answer_id":75961079,"question_id":66806605,"body_markdown":"You&#39;re almost there. I&#39;m using Spring Boot 3.0.4\r\n\r\nThe application config looks correct, but you&#39;ll need to add a WebFluxConfigurer...\r\n\r\n        @Configuration\r\n        public class GeodataConfigurer implements WebFluxConfigurer {\r\n            @Override\r\n            public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n                var mimeTypes = new HashMap&lt;String, MediaType&gt;();\r\n                mimeTypes.put(&quot;geojson&quot;, MediaType.parseMediaType(&quot;application/geo+json&quot;));\r\n                registry.addResourceHandler(&quot;/World_Countries_Boundaries.geojson&quot;)\r\n                        .addResourceLocations(&quot;classpath://internal/\r\n    World_Countries_Boundaries.geojson&quot;)\r\n                        .setMediaTypes(mimeTypes);\r\n            }\r\n        }","title":"spring-boot with netty project is unable to recognize .geojson file mime type for compression","body":"<p>You're almost there. I'm using Spring Boot 3.0.4</p>\n<p>The application config looks correct, but you'll need to add a WebFluxConfigurer...</p>\n<pre><code>    @Configuration\n    public class GeodataConfigurer implements WebFluxConfigurer {\n        @Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            var mimeTypes = new HashMap&lt;String, MediaType&gt;();\n            mimeTypes.put(&quot;geojson&quot;, MediaType.parseMediaType(&quot;application/geo+json&quot;));\n            registry.addResourceHandler(&quot;/World_Countries_Boundaries.geojson&quot;)\n                    .addResourceLocations(&quot;classpath://internal/\nWorld_Countries_Boundaries.geojson&quot;)\n                    .setMediaTypes(mimeTypes);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680892609,"creation_date":1616701708,"question_id":66806605,"body_markdown":"I have a spring-boot/netty application setup to serve some static file from `main/resource/static`. The application is also setup for compression.\r\n\r\n\r\n```\r\nserver:\r\n  compression:\r\n    enabled: true\r\n    mime-types: application/geo+json, application/geo+json-seq, text/html, text/xml, text/plain, text/css, text/javascript, application/javascript, application/json, image/jpeg, application/vnd.geo+json\r\n    min-response-size: 2KB\r\n```\r\n\r\nOne of the files is `World_Countries_Boundaries.geojson` which is roughly 10MB and contains country boundaries.\r\n\r\nThe goal is to get this file gzip encoded.\r\n\r\nThis file should be considered `application/geo+json` but the response header shows `application/octet-stream`. It should also be gzip encoded.\r\n\r\n[![response headers][1]][1]\r\n\r\nHow can I get this file to compress? My first thought was that spring is not resolving the mime-type correctly. This let me to an answer [here](https://stackoverflow.com/a/47263286/1997707). But this answer is only for a servlet container. My application is using netty. So I tried the netty factory.\r\n\r\n```\r\nimport org.springframework.boot.web.embedded.netty.NettyReactiveWebServerFactory;\r\nimport org.springframework.boot.web.server.MimeMappings;\r\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\r\nimport org.springframework.context.annotation.Configuration;\r\n@Configuration\r\npublic class CustomMimeMappings implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\r\n    @Override\r\n    public void customize(NettyReactiveWebServerFactory factory) {\r\n        MimeMappings mappings = new MimeMappings(MimeMappings.DEFAULT);\r\n        mappings.add(&quot;geojson&quot;, &quot;application/geo+json&quot;);\r\n        factory.setMimeMappings(mappings);\r\n    }\r\n}\r\n```\r\n\r\nThis solution does not compile because the netty factory does not have a `setMimeMappings` method. This is where I am stuck.\r\n\r\nHow do I configure the application to correctly resolve the mime-type and compress this geojson file?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9uHat.png","title":"spring-boot with netty project is unable to recognize .geojson file mime type for compression","body":"<p>I have a spring-boot/netty application setup to serve some static file from <code>main/resource/static</code>. The application is also setup for compression.</p>\n<pre><code>server:\n  compression:\n    enabled: true\n    mime-types: application/geo+json, application/geo+json-seq, text/html, text/xml, text/plain, text/css, text/javascript, application/javascript, application/json, image/jpeg, application/vnd.geo+json\n    min-response-size: 2KB\n</code></pre>\n<p>One of the files is <code>World_Countries_Boundaries.geojson</code> which is roughly 10MB and contains country boundaries.</p>\n<p>The goal is to get this file gzip encoded.</p>\n<p>This file should be considered <code>application/geo+json</code> but the response header shows <code>application/octet-stream</code>. It should also be gzip encoded.</p>\n<p><a href=\"https://i.stack.imgur.com/9uHat.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9uHat.png\" alt=\"response headers\" /></a></p>\n<p>How can I get this file to compress? My first thought was that spring is not resolving the mime-type correctly. This let me to an answer <a href=\"https://stackoverflow.com/a/47263286/1997707\">here</a>. But this answer is only for a servlet container. My application is using netty. So I tried the netty factory.</p>\n<pre><code>import org.springframework.boot.web.embedded.netty.NettyReactiveWebServerFactory;\nimport org.springframework.boot.web.server.MimeMappings;\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\nimport org.springframework.context.annotation.Configuration;\n@Configuration\npublic class CustomMimeMappings implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\n    @Override\n    public void customize(NettyReactiveWebServerFactory factory) {\n        MimeMappings mappings = new MimeMappings(MimeMappings.DEFAULT);\n        mappings.add(&quot;geojson&quot;, &quot;application/geo+json&quot;);\n        factory.setMimeMappings(mappings);\n    }\n}\n</code></pre>\n<p>This solution does not compile because the netty factory does not have a <code>setMimeMappings</code> method. This is where I am stuck.</p>\n<p>How do I configure the application to correctly resolve the mime-type and compress this geojson file?</p>\n"},{"tags":["java","database","postgresql","spring-boot","flyway"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1680620892,"post_id":75930947,"comment_id":133927141,"body_markdown":"Please read [ask]. Everything should be English, directly here, with a [mre]. Personal help is not what StackOverflow offers. Please take the [tour], it would have helped you with most of those problems.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Everything should be English, directly here, with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Personal help is not what StackOverflow offers. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, it would have helped you with most of those problems."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1680621126,"post_id":75930947,"comment_id":133927222,"body_markdown":"No joke, instead of `localhost:5432` try `0.0.0.0:5432`. Also `jdbc:postgresql://postgres:5432/news-portal` should probably be `jdbc:postgresql://0.0.0.0:5432/news-portal` -- not sure why you put `postgres` for host.","body":"No joke, instead of <code>localhost:5432</code> try <code>0.0.0.0:5432</code>. Also <code>jdbc:postgresql:&#47;&#47;postgres:5432&#47;news-portal</code> should probably be <code>jdbc:postgresql:&#47;&#47;0.0.0.0:5432&#47;news-portal</code> -- not sure why you put <code>postgres</code> for host."},{"owner":{"account_id":14524487,"reputation":1,"user_id":18534333,"display_name":"Aida"},"score":0,"creation_date":1680633750,"post_id":75930947,"comment_id":133930506,"body_markdown":"I did it following the tutorials on youtube, &#39;postgres&#39; is the name of the container. and according to the tutorial in application.properties i should change it into the name of db container, as i understood)","body":"I did it following the tutorials on youtube, &#39;postgres&#39; is the name of the container. and according to the tutorial in application.properties i should change it into the name of db container, as i understood)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680779600,"post_id":75930947,"comment_id":133957437,"body_markdown":"The error suggest that your application is using `jdbc:postgresql://localhost:5432/news_portal` instead of `jdbc:postgresql://postgresqldb:5432/news_portal`","body":"The error suggest that your application is using <code>jdbc:postgresql:&#47;&#47;localhost:5432&#47;news_portal</code> instead of <code>jdbc:postgresql:&#47;&#47;postgresqldb:5432&#47;news_portal</code>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680779630,"post_id":75930947,"comment_id":133957450,"body_markdown":"@ElliottFrisch Communication between docker-compose defined machines needs to use the hostnames/containernames defined in the docker-compose file.","body":"@ElliottFrisch Communication between docker-compose defined machines needs to use the hostnames/containernames defined in the docker-compose file."},{"owner":{"account_id":14524487,"reputation":1,"user_id":18534333,"display_name":"Aida"},"score":0,"creation_date":1680891984,"post_id":75930947,"comment_id":133977275,"body_markdown":"@MarkRotteveel thanks for answer, but even when i changed localhost to postgresqldb i&#39;m getting same error","body":"@MarkRotteveel thanks for answer, but even when i changed localhost to postgresqldb i&#39;m getting same error"},{"owner":{"account_id":15874551,"reputation":101,"user_id":11454171,"display_name":"Gayathry S"},"score":0,"creation_date":1688702803,"post_id":75930947,"comment_id":135112181,"body_markdown":"@Aida I have a very similar setup. I used the ```host.docker.internal``` instead of localhost or container name like jdbc:postgresql://host.docker.internal:5432/news_portal and this works fine for me. Could you try the same?","body":"@Aida I have a very similar setup. I used the <code>host.docker.internal</code> instead of localhost or container name like jdbc:postgresql://host.docker.internal:5432/news_portal and this works fine for me. Could you try the same?"}],"owner":{"account_id":14524487,"reputation":1,"user_id":18534333,"display_name":"Aida"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680891712,"creation_date":1680620505,"question_id":75930947,"body_markdown":"I&#39;m getting this message: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections. i can&#39;t find what is wrong, please help me \r\nhere&#39;s my docker-compose file \r\n\r\n\r\n```\r\nservices:\r\n  postgresqldb:\r\n    image: &#39;postgres:15.1&#39;\r\n    container_name: &#39;postgresqldb&#39;\r\n    ports:\r\n      - 5432:5432\r\n    expose:\r\n      - 5432\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: 1234\r\n      POSTGRES_ROOT_PASSWORD: 1234\r\n      POSTGRES_DATABASE: news_portal\r\n      PGDATA: /data/postgres\r\n      POSTGRES_HOST_AUTH_METHOD: trust\r\n    networks:\r\n      - apinetwork\r\n    volumes:\r\n      - ./postgresql/:/var/lib/postgresql/data/\r\n    healthcheck:\r\n      test: [ &quot;CMD-SHELL&quot;, &quot;pg_isready -U postgres&quot; ]\r\n      interval: 30s\r\n      timeout: 10s\r\n      retries: 5\r\n\r\n  app:\r\n    container_name: &#39;news-portal&#39;\r\n    image: news-portal\r\n    build:\r\n      context: .\r\n    restart: always\r\n    ports:\r\n      - 8080:8080\r\n    expose:\r\n      - 8080\r\n    environment:\r\n      SPRING_DATASOURCE_URL: jdbc:postgresql://postgresqldb:5432/news_portal\r\n      SPRING_DATASOURCE_USERNAME: postgres\r\n      SPRING_DATASOURCE_PASSWORD: 1234\r\n      SPRING_JPA_HIBERNATE_DDL_AUTO: create-drop\r\n    depends_on:\r\n      - postgresqldb\r\n    networks:\r\n      - apinetwork\r\n\r\nnetworks:\r\n  apinetwork:\r\n    driver: bridge\r\n\r\n\r\n```\r\n\r\nand the Dockerfile:\r\n\r\n```\r\nFROM maven:3.8.6 AS build\r\nWORKDIR /app\r\nCOPY pom.xml /app\r\nRUN mvn dependency:resolve\r\nCOPY . /app\r\nRUN mvn clean\r\nRUN mvn package -DskipTests\r\n\r\nFROM openjdk:17-jdk-alpine\r\nCOPY --from=build /app/target/*.jar app.jar\r\nEXPOSE 8080\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n```\r\n\r\n\r\nThe application.propeties file\r\n```\r\n# Server configs\r\nserver.port=8080\r\n\r\nserver.servlet.context-path=/\r\n\r\nspring.jackson.serialization.write_dates_as_timestamps=false\r\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n\r\n# Datasource\r\nspring.datasource.url=jdbc:postgresql://postgresqldb:5432/news_portal\r\nspring.datasource.username= postgres\r\nspring.datasource.password=1234\r\n\r\n# JPA\r\nspring.jpa.database= postgresql\r\nspring.jpa.properties.hibernate.dialect =org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto = create-drop\r\nspring.jpa.show-sql = true\r\n\r\n#Flyway\r\nspring.flyway.url=jdbc:postgresql://postgresqldb:5432/news_portal\r\nspring.flyway.locations=classpath:/db/migration\r\nspring.flyway.enabled=true\r\nspring.flyway.table=schema_version\r\nspring.flyway.schemas=public\r\nspring.flyway.user=postgres\r\nspring.flyway.password=1234\r\nspring.flyway.sql-migration-prefix=V\r\nspring.flyway.validate-on-migrate=true\r\nspring.flyway.encoding=UTF-8\r\n```\r\n\r\nthe whole project on github\r\nhttps://github.com/aidatynybekkyzy/news_portal.git\r\n\r\n","title":"getting message : Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP cons","body":"<p>I'm getting this message: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections. i can't find what is wrong, please help me\nhere's my docker-compose file</p>\n<pre><code>services:\n  postgresqldb:\n    image: 'postgres:15.1'\n    container_name: 'postgresqldb'\n    ports:\n      - 5432:5432\n    expose:\n      - 5432\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: 1234\n      POSTGRES_ROOT_PASSWORD: 1234\n      POSTGRES_DATABASE: news_portal\n      PGDATA: /data/postgres\n      POSTGRES_HOST_AUTH_METHOD: trust\n    networks:\n      - apinetwork\n    volumes:\n      - ./postgresql/:/var/lib/postgresql/data/\n    healthcheck:\n      test: [ &quot;CMD-SHELL&quot;, &quot;pg_isready -U postgres&quot; ]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n\n  app:\n    container_name: 'news-portal'\n    image: news-portal\n    build:\n      context: .\n    restart: always\n    ports:\n      - 8080:8080\n    expose:\n      - 8080\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:postgresql://postgresqldb:5432/news_portal\n      SPRING_DATASOURCE_USERNAME: postgres\n      SPRING_DATASOURCE_PASSWORD: 1234\n      SPRING_JPA_HIBERNATE_DDL_AUTO: create-drop\n    depends_on:\n      - postgresqldb\n    networks:\n      - apinetwork\n\nnetworks:\n  apinetwork:\n    driver: bridge\n\n\n</code></pre>\n<p>and the Dockerfile:</p>\n<pre><code>FROM maven:3.8.6 AS build\nWORKDIR /app\nCOPY pom.xml /app\nRUN mvn dependency:resolve\nCOPY . /app\nRUN mvn clean\nRUN mvn package -DskipTests\n\nFROM openjdk:17-jdk-alpine\nCOPY --from=build /app/target/*.jar app.jar\nEXPOSE 8080\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p>The application.propeties file</p>\n<pre><code># Server configs\nserver.port=8080\n\nserver.servlet.context-path=/\n\nspring.jackson.serialization.write_dates_as_timestamps=false\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\n\n# Datasource\nspring.datasource.url=jdbc:postgresql://postgresqldb:5432/news_portal\nspring.datasource.username= postgres\nspring.datasource.password=1234\n\n# JPA\nspring.jpa.database= postgresql\nspring.jpa.properties.hibernate.dialect =org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto = create-drop\nspring.jpa.show-sql = true\n\n#Flyway\nspring.flyway.url=jdbc:postgresql://postgresqldb:5432/news_portal\nspring.flyway.locations=classpath:/db/migration\nspring.flyway.enabled=true\nspring.flyway.table=schema_version\nspring.flyway.schemas=public\nspring.flyway.user=postgres\nspring.flyway.password=1234\nspring.flyway.sql-migration-prefix=V\nspring.flyway.validate-on-migrate=true\nspring.flyway.encoding=UTF-8\n</code></pre>\n<p>the whole project on github\n<a href=\"https://github.com/aidatynybekkyzy/news_portal.git\" rel=\"nofollow noreferrer\">https://github.com/aidatynybekkyzy/news_portal.git</a></p>\n"},{"tags":["java","flutter","android-studio"],"comments":[{"owner":{"account_id":6815051,"reputation":71,"user_id":5244039,"display_name":"gginter"},"score":0,"creation_date":1679584759,"post_id":75642467,"comment_id":133751079,"body_markdown":"Facing the same issue, I&#39;m postponing the update for now, did you find a solution? I think I used the same scripts as the one you described below","body":"Facing the same issue, I&#39;m postponing the update for now, did you find a solution? I think I used the same scripts as the one you described below"},{"owner":{"account_id":27940242,"reputation":1,"user_id":21336418,"display_name":"emrecemaksu"},"score":0,"creation_date":1679861274,"post_id":75642467,"comment_id":133792486,"body_markdown":"As a workaround, I uninstalled Android Studio from Applications folder and installed the new version. The issue still awaits a permanent solution. @gginter","body":"As a workaround, I uninstalled Android Studio from Applications folder and installed the new version. The issue still awaits a permanent solution. @gginter"}],"answers":[{"tags":[],"owner":{"account_id":27940242,"reputation":1,"user_id":21336418,"display_name":"emrecemaksu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678028544,"creation_date":1678028544,"answer_id":75643126,"question_id":75642467,"body_markdown":"I have used these commands for flutter before. Could the problem be with these codes?\r\n\r\n```\r\ncd /Applications/Android\\ Studio.app/Contents/jre\r\nln -s ../jre jdk\r\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n```","title":"Android Studio Update JavaAppletPlugin M1 Error","body":"<p>I have used these commands for flutter before. Could the problem be with these codes?</p>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents/jre\nln -s ../jre jdk\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\n</code></pre>\n"}],"owner":{"account_id":27940242,"reputation":1,"user_id":21336418,"display_name":"emrecemaksu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680891525,"creation_date":1678022079,"question_id":75642467,"body_markdown":"I&#39;m a Flutter developer. I use M1 Pro chip. I want to Update my android studio but i have this error message.\r\n\r\njava.io.IOException: An absolute link: /Applications/Android Studio.app/Contents/jre/JavaAppletPlugin.plugin -&gt; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin\r\n\r\n```\r\n05/03 14:00:18 INFO  PatchFileCreator.prepareAndValidate - Electric Eel | 2022.1.1 Patch 1 -&gt; Electric Eel | 2022.1.1 Patch 2\r\n05/03 14:00:18 INFO  Patch.forEach - Validating installation... [4239 actions]\r\n05/03 14:00:18 ERROR Runner.install - prepare failed\r\njava.io.IOException: An absolute link: /Applications/Android Studio.app/Contents/jre/JavaAppletPlugin.plugin -&gt; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin\r\n\tat com.intellij.updater.Digester.digestRegularFile(Digester.java:50)\r\n\tat com.intellij.updater.Patch.digestFile(Patch.java:450)\r\n\tat com.intellij.updater.DeleteAction.validate(DeleteAction.java:42)\r\n\tat com.intellij.updater.Patch.lambda$validate$0(Patch.java:292)\r\n\tat com.intellij.updater.Patch.forEach(Patch.java:438)\r\n\tat com.intellij.updater.Patch.validate(Patch.java:291)\r\n\tat com.intellij.updater.PatchFileCreator.prepareAndValidate(PatchFileCreator.java:109)\r\n\tat com.intellij.updater.Runner.install(Runner.java:413)\r\n\tat com.intellij.updater.Runner._main(Runner.java:221)\r\n\tat com.intellij.updater.Runner.main(Runner.java:49)\r\n\r\n\r\n```\r\njava version &quot;19.0.2&quot; 2023-01-17\r\nJava(TM) SE Runtime Environment (build 19.0.2+7-44)\r\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\r\n\r\n\r\n\r\nI need Android Studio Update. Does anyone have an idea?","title":"Android Studio Update JavaAppletPlugin M1 Error","body":"<p>I'm a Flutter developer. I use M1 Pro chip. I want to Update my android studio but i have this error message.</p>\n<p>java.io.IOException: An absolute link: /Applications/Android Studio.app/Contents/jre/JavaAppletPlugin.plugin -&gt; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin</p>\n<pre><code>05/03 14:00:18 INFO  PatchFileCreator.prepareAndValidate - Electric Eel | 2022.1.1 Patch 1 -&gt; Electric Eel | 2022.1.1 Patch 2\n05/03 14:00:18 INFO  Patch.forEach - Validating installation... [4239 actions]\n05/03 14:00:18 ERROR Runner.install - prepare failed\njava.io.IOException: An absolute link: /Applications/Android Studio.app/Contents/jre/JavaAppletPlugin.plugin -&gt; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin\n    at com.intellij.updater.Digester.digestRegularFile(Digester.java:50)\n    at com.intellij.updater.Patch.digestFile(Patch.java:450)\n    at com.intellij.updater.DeleteAction.validate(DeleteAction.java:42)\n    at com.intellij.updater.Patch.lambda$validate$0(Patch.java:292)\n    at com.intellij.updater.Patch.forEach(Patch.java:438)\n    at com.intellij.updater.Patch.validate(Patch.java:291)\n    at com.intellij.updater.PatchFileCreator.prepareAndValidate(PatchFileCreator.java:109)\n    at com.intellij.updater.Runner.install(Runner.java:413)\n    at com.intellij.updater.Runner._main(Runner.java:221)\n    at com.intellij.updater.Runner.main(Runner.java:49)\n\n\n</code></pre>\n<p>java version &quot;19.0.2&quot; 2023-01-17\nJava(TM) SE Runtime Environment (build 19.0.2+7-44)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)</p>\n<p>I need Android Studio Update. Does anyone have an idea?</p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1680889795,"post_id":75960611,"comment_id":133976885,"body_markdown":"It should not be necessary to mock either a List or an Iterator. Instead, you can use the built-in Java collections and trust that they are behaving according to their contracts. It may be helpful to phrase your method by taking in an `Iterable&lt;Item&gt;` (for which you use an `ArrayList&lt;Item&gt;` in your test), which would save you a lot of hassle and bugs in simulating a Collection using Mockito.","body":"It should not be necessary to mock either a List or an Iterator. Instead, you can use the built-in Java collections and trust that they are behaving according to their contracts. It may be helpful to phrase your method by taking in an <code>Iterable&lt;Item&gt;</code> (for which you use an <code>ArrayList&lt;Item&gt;</code> in your test), which would save you a lot of hassle and bugs in simulating a Collection using Mockito."},{"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"score":0,"creation_date":1680891671,"post_id":75960611,"comment_id":133977212,"body_markdown":"@JeffBowman But in this case I just have to test the results of my table are being added to the list so I have to create some type of logic where it has to mock a list.","body":"@JeffBowman But in this case I just have to test the results of my table are being added to the list so I have to create some type of logic where it has to mock a list."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680889662,"creation_date":1680888781,"answer_id":75960733,"question_id":75960611,"body_markdown":"Unsolicited Suggestion 1:\r\nLearn how to use the Mockito annotations,\r\nthey make everything easier to do and easier to read.\r\n\r\nUnsolicited Suggestion 2:\r\nUse `doReturn().when()` instead of `when().thenReturn()`.\r\nTry a google search for &quot;is doReturn better than thenReturn&quot; for discussion.\r\n\r\nSuggested Answer:\r\nDon&#39;t instantiate a new User class mock object in the subbing of the \r\n`list.add` method.\r\nInstead,\r\nmatch any instance of the User class.\r\n\r\nHere is some example code:\r\n```Java\r\n@ExtendWith(MockitoExtension.clss)\r\npublic class TestBlam\r\n{\r\n\tprivate static final String VALUE_PRETTY_JSON = &quot;{}&quot;;\r\n\t\r\n\tprivate Blam classToTest; // Blam is the class that you are actually testing.\r\n\t\r\n\t@Mock\r\n\tprivate ItemCollection&lt;QueryOutcome&gt; mockCollection;\r\n\t\r\n\t@Mock\r\n\tprivate Item mockItem;\r\n\t\r\n\t@Mock\r\n\tprivate IteratorSupport&lt;Item, QueryOutcome&gt; mockIterator;\r\n\t\r\n\t@BeforeEach\r\n\tvoid beforeEach()\r\n\t{\r\n\t\t// instantiate the thing that you will actually test.\r\n\t\tclassToTest = new Blam();\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid blamTest()\r\n\t{\r\n\t\tdoReturn(mockIterator).when(mockCollection).iterator();\r\n\t\tdoReturn(true).doReturn(false).when(Iterator).hasNext();\r\n\r\n// The answer to your question is the next line.\r\n\t\tdoReturn(true).when(mockList).add(any(User.class));\r\n\r\n\r\n\t\tdoReturn(mockItem).when(mockIterator).next();\r\n\t\tdoReturn(VALUE_PRETTY_JSON).when(mockItem).toJSONPretty();\r\n\t\t\r\n\t\t// perform the test. ...\r\n\t}\r\n}\r\n```\r\n\r\n","title":"How to mock adding to a List&lt;Object&gt; inside an Iterator","body":"<p>Unsolicited Suggestion 1:\nLearn how to use the Mockito annotations,\nthey make everything easier to do and easier to read.</p>\n<p>Unsolicited Suggestion 2:\nUse <code>doReturn().when()</code> instead of <code>when().thenReturn()</code>.\nTry a google search for &quot;is doReturn better than thenReturn&quot; for discussion.</p>\n<p>Suggested Answer:\nDon't instantiate a new User class mock object in the subbing of the\n<code>list.add</code> method.\nInstead,\nmatch any instance of the User class.</p>\n<p>Here is some example code:</p>\n<pre><code>@ExtendWith(MockitoExtension.clss)\npublic class TestBlam\n{\n    private static final String VALUE_PRETTY_JSON = &quot;{}&quot;;\n    \n    private Blam classToTest; // Blam is the class that you are actually testing.\n    \n    @Mock\n    private ItemCollection&lt;QueryOutcome&gt; mockCollection;\n    \n    @Mock\n    private Item mockItem;\n    \n    @Mock\n    private IteratorSupport&lt;Item, QueryOutcome&gt; mockIterator;\n    \n    @BeforeEach\n    void beforeEach()\n    {\n        // instantiate the thing that you will actually test.\n        classToTest = new Blam();\n    }\n    \n    @Test\n    void blamTest()\n    {\n        doReturn(mockIterator).when(mockCollection).iterator();\n        doReturn(true).doReturn(false).when(Iterator).hasNext();\n\n// The answer to your question is the next line.\n        doReturn(true).when(mockList).add(any(User.class));\n\n\n        doReturn(mockItem).when(mockIterator).next();\n        doReturn(VALUE_PRETTY_JSON).when(mockItem).toJSONPretty();\n        \n        // perform the test. ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75960733,"answer_count":1,"score":0,"last_activity_date":1680890728,"creation_date":1680887666,"question_id":75960611,"body_markdown":"How do I mock adding to a list inside iterator like the code below? I want to add to the list because my method returns List&lt;Users&gt; and I want to do an assert on that but not sure how to add my object to the list inside the iterator? Or am I misunderstanding and the mocking should occur in the `Util.jsonToObject`?\r\n\r\n    public List&lt;Users&gt; getUsers(String userId) {\r\n        List&lt;Users&gt; usersList = new ArrayList&lt;&gt;();\r\n        Table table = dynamoDB.getTable(&quot;users&quot;);\r\n\t\tItemCollection&lt;QueryOutcome&gt; items = table.getIndex(&quot;userIndex&quot;).query(QuerySpec);\r\n\t\tIterator&lt;Item&gt; iterator = items.iterator();\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t\tlist.add(Util.jsonToObject(iterator.next().toJSONPretty(), Users.class));\r\n\t\t}\r\n\t\treturn usersList;\r\n\t}\r\n\r\nHere is the test\r\n\r\n        List&lt;Users&gt; mockList = mock(ArrayList.class);\r\n        Users details = new Users(&quot;1&quot;, UUID.randomUUID().toString(), null, &quot;&quot;);\r\n        List&lt;Users&gt; usersList = new ArrayList&lt;&gt;();\r\n        usersList.add(details);\r\n        Table mockTable = mock(Table.class);\r\n        Item item = mock(Item.class);\r\n        mockTable.putItem(item);\r\n        Index mockIndex = mock(Index.class);\r\n        ItemCollection&lt;QueryOutcome&gt; mockCollection = mock(ItemCollection.class);\r\n        Item mockItem = mock(Item.class);\r\n        IteratorSupport&lt;Item, QueryOutcome&gt; mockIterator = mock(IteratorSupport.class);\r\n        when(dynamoDB.getTable(&quot;users&quot;)).thenReturn(mockTable);\r\n        when(mockTable.getIndex(anyString())).thenReturn(mockIndex);\r\n        when(mockIndex.query(any(QuerySpec.class))).thenReturn(mockCollection);\r\n        when(mockCollection.iterator()).thenReturn(mockIterator);\r\n        when(mockIterator.hasNext()).thenReturn(true).thenReturn(false);\r\n        doReturn(true).when(mockList).add(details);\r\n        when(mockIterator.next()).thenReturn(mockItem);\r\n        when(mockItem.toJSONPretty()).thenReturn(&quot;&quot;);\r\n        assertSame(dynamoDBService.getUsers(&quot;&quot;).get(0), usersList);","title":"How to mock adding to a List&lt;Object&gt; inside an Iterator","body":"<p>How do I mock adding to a list inside iterator like the code below? I want to add to the list because my method returns List and I want to do an assert on that but not sure how to add my object to the list inside the iterator? Or am I misunderstanding and the mocking should occur in the <code>Util.jsonToObject</code>?</p>\n<pre><code>public List&lt;Users&gt; getUsers(String userId) {\n    List&lt;Users&gt; usersList = new ArrayList&lt;&gt;();\n    Table table = dynamoDB.getTable(&quot;users&quot;);\n    ItemCollection&lt;QueryOutcome&gt; items = table.getIndex(&quot;userIndex&quot;).query(QuerySpec);\n    Iterator&lt;Item&gt; iterator = items.iterator();\n    while (iterator.hasNext()) {\n        list.add(Util.jsonToObject(iterator.next().toJSONPretty(), Users.class));\n    }\n    return usersList;\n}\n</code></pre>\n<p>Here is the test</p>\n<pre><code>    List&lt;Users&gt; mockList = mock(ArrayList.class);\n    Users details = new Users(&quot;1&quot;, UUID.randomUUID().toString(), null, &quot;&quot;);\n    List&lt;Users&gt; usersList = new ArrayList&lt;&gt;();\n    usersList.add(details);\n    Table mockTable = mock(Table.class);\n    Item item = mock(Item.class);\n    mockTable.putItem(item);\n    Index mockIndex = mock(Index.class);\n    ItemCollection&lt;QueryOutcome&gt; mockCollection = mock(ItemCollection.class);\n    Item mockItem = mock(Item.class);\n    IteratorSupport&lt;Item, QueryOutcome&gt; mockIterator = mock(IteratorSupport.class);\n    when(dynamoDB.getTable(&quot;users&quot;)).thenReturn(mockTable);\n    when(mockTable.getIndex(anyString())).thenReturn(mockIndex);\n    when(mockIndex.query(any(QuerySpec.class))).thenReturn(mockCollection);\n    when(mockCollection.iterator()).thenReturn(mockIterator);\n    when(mockIterator.hasNext()).thenReturn(true).thenReturn(false);\n    doReturn(true).when(mockList).add(details);\n    when(mockIterator.next()).thenReturn(mockItem);\n    when(mockItem.toJSONPretty()).thenReturn(&quot;&quot;);\n    assertSame(dynamoDBService.getUsers(&quot;&quot;).get(0), usersList);\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":1,"creation_date":1582753265,"post_id":60422906,"comment_id":106890253,"body_markdown":"are you using jackson ?","body":"are you using jackson ?"},{"owner":{"account_id":16812898,"reputation":149,"user_id":12155485,"display_name":"Brodiman"},"score":0,"creation_date":1582811754,"post_id":60422906,"comment_id":106911714,"body_markdown":"@IPValverde I&#39;m not sure I understand how to set that up. I&#39;m using Jackson. I tried to use the method in the blog you posted but had no luck. I&#39;m not sure what I&#39;m missing. :(","body":"@IPValverde I&#39;m not sure I understand how to set that up. I&#39;m using Jackson. I tried to use the method in the blog you posted but had no luck. I&#39;m not sure what I&#39;m missing. :("},{"owner":{"account_id":16812898,"reputation":149,"user_id":12155485,"display_name":"Brodiman"},"score":0,"creation_date":1582811765,"post_id":60422906,"comment_id":106911723,"body_markdown":"@Deadpool, I&#39;m using Jackson.","body":"@Deadpool, I&#39;m using Jackson."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1582907634,"post_id":60422906,"comment_id":106950500,"body_markdown":"@IPValverde How can a question about a C# JSON library answer a question about a Java JSON library?","body":"@IPValverde How can a question about a C# JSON library answer a question about a Java JSON library?"},{"owner":{"account_id":939379,"reputation":2019,"user_id":967736,"accept_rate":69,"display_name":"IPValverde"},"score":0,"creation_date":1582930064,"post_id":60422906,"comment_id":106958914,"body_markdown":"It can&#39;t... Sorry about that, I didn&#39;t pay enough attention to it.","body":"It can&#39;t... Sorry about that, I didn&#39;t pay enough attention to it."}],"answers":[{"tags":[],"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582756173,"creation_date":1582756173,"answer_id":60423582,"question_id":60422906,"body_markdown":"You could use custom Jackson serializer.\r\n\r\n\r\n```\r\npublic class ConditionalValueSerializer extends StdSerializer&lt;Integer&gt; {\r\n    public ConditionalValueSerializer() {\r\n        this(null);\r\n    }\r\n\r\n    public ConditionalValueSerializer(Class&lt;Integer&gt; t) {\r\n        super(t);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(Integer a, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        if(a == 5 ){\r\n            gen.writeString(a.toString());\r\n        } else {\r\n            gen.writeString(&quot;&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen use the custom serializer in the object.\r\n```\r\npublic class SomeThing {\r\n    public String name;\r\n\r\n    @JsonSerialize(using = ConditionalValueSerializer.class)\r\n    public Integer value;\r\n}\r\n```","title":"@JsonIgnore with Conditions","body":"<p>You could use custom Jackson serializer.</p>\n\n<pre><code>public class ConditionalValueSerializer extends StdSerializer&lt;Integer&gt; {\n    public ConditionalValueSerializer() {\n        this(null);\n    }\n\n    public ConditionalValueSerializer(Class&lt;Integer&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(Integer a, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        if(a == 5 ){\n            gen.writeString(a.toString());\n        } else {\n            gen.writeString(\"\");\n        }\n\n    }\n}\n\n</code></pre>\n\n<p>Then use the custom serializer in the object.</p>\n\n<pre><code>public class SomeThing {\n    public String name;\n\n    @JsonSerialize(using = ConditionalValueSerializer.class)\n    public Integer value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1582817897,"creation_date":1582817897,"answer_id":60436767,"question_id":60422906,"body_markdown":"I know your question is about `@JsonIgnore`, but you may want to try `@JsonInclude`:\r\n\r\n```java\r\n@JsonInclude(value = JsonInclude.Include.CUSTOM, \r\n             valueFilter = CustomValueFilter.class)\r\nprivate Integer value;\r\n```\r\n\r\n```java\r\npublic class CustomValueFilter {\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n\r\n        Integer a = (Integer) other;\r\n        return a == 1;\r\n    }\r\n}\r\n```","title":"@JsonIgnore with Conditions","body":"<p>I know your question is about <code>@JsonIgnore</code>, but you may want to try <code>@JsonInclude</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(value = JsonInclude.Include.CUSTOM, \n             valueFilter = CustomValueFilter.class)\nprivate Integer value;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomValueFilter {\n\n    @Override\n    public boolean equals(Object other) {\n\n        Integer a = (Integer) other;\n        return a == 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680890036,"creation_date":1680890036,"answer_id":75960877,"question_id":60422906,"body_markdown":"The most straightforward solution I&#39;ve found for my needs involves using \r\n\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n\r\nBasically if you can conditionally set a value to null, you can then exclude it entirely from serialization using the above annotation. Here&#39;s a quick example.\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public String getValueToConditionallyExclude() {\r\n        if (conditionWhereIWantToExcludethisField) {\r\n            return null;\r\n        }\r\n        return theRealValueWhichWillNeverOtherwiseBeNull;\r\n    }","title":"@JsonIgnore with Conditions","body":"<p>The most straightforward solution I've found for my needs involves using</p>\n<pre><code>    @JsonInclude(JsonInclude.Include.NON_NULL)\n</code></pre>\n<p>Basically if you can conditionally set a value to null, you can then exclude it entirely from serialization using the above annotation. Here's a quick example.</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic String getValueToConditionallyExclude() {\n    if (conditionWhereIWantToExcludethisField) {\n        return null;\n    }\n    return theRealValueWhichWillNeverOtherwiseBeNull;\n}\n</code></pre>\n"}],"owner":{"account_id":16812898,"reputation":149,"user_id":12155485,"display_name":"Brodiman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7108,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60436767,"answer_count":3,"score":4,"last_activity_date":1680890036,"creation_date":1582752831,"question_id":60422906,"body_markdown":"Is it possible to serialize a JSON response while excluding some elements based on If conditions? \r\n\r\n```\r\nif(a == 1) {\r\n   //show element\r\n} else {\r\n   //don&#39;t show element\r\n}\r\n```\r\n\r\nI&#39;ve tried using @JSONIgnore, but that simply ignores the element regardless of conditions. I&#39;m new to this space. Any ideas? \r\n\r\nEDIT: I&#39;m working on enterprise software, so using 3rd party libraries and such won&#39;t be a possibility. ","title":"@JsonIgnore with Conditions","body":"<p>Is it possible to serialize a JSON response while excluding some elements based on If conditions? </p>\n\n<pre><code>if(a == 1) {\n   //show element\n} else {\n   //don't show element\n}\n</code></pre>\n\n<p>I've tried using @JSONIgnore, but that simply ignores the element regardless of conditions. I'm new to this space. Any ideas? </p>\n\n<p>EDIT: I'm working on enterprise software, so using 3rd party libraries and such won't be a possibility. </p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1680798727,"post_id":75951620,"comment_id":133962280,"body_markdown":"The static block will be executed before the constructor, which results in the NPE, so could move the static code to the constructor.  But since it&#39;s now a Component, it probably should not have any static methods.  But if it really does need to have static methods, then perhaps create an @Configuration class that receives the @Value, and sets the value in the `ExpressionTokenClassifier2` via a static setter.","body":"The static block will be executed before the constructor, which results in the NPE, so could move the static code to the constructor.  But since it&#39;s now a Component, it probably should not have any static methods.  But if it really does need to have static methods, then perhaps create an @Configuration class that receives the @Value, and sets the value in the <code>ExpressionTokenClassifier2</code> via a static setter."}],"answers":[{"tags":[],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680889958,"creation_date":1680798271,"answer_id":75951716,"question_id":75951620,"body_markdown":"I would just use a `@Component` and `@PostConstruct` method for init task:\r\n\r\nSpring conponent is singleton, so no need for static.\r\n\r\n\r\n    @Component // singleton\r\n    public class ExpressionTokenClassifier {\r\n        \r\n        @Value(&quot;${app.keywords-file}&quot;)\r\n        private String file;\r\n\r\n        private List&lt;String&gt; KEYWORDS;\r\n\r\n        @PostConstruct\r\n        public void init() {\r\n           [...]\r\n        }\r\n\r\n    }\r\n\r\nif static access is essential, you can init your static class as soon as the application is started:\r\n\r\n    public class ExpressionTokenClassifier {\r\n        \r\n        private List&lt;String&gt; KEYWORDS;\r\n    \r\n        static void init(String file) {\r\n    \t\tList&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(file);\r\n    \t\tKEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\r\n        }\r\n    \t\r\n    \t public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\r\n    \t\t// KEYWORDS is used in here\r\n    \t}\r\n    \r\n    }\r\n    \r\n    @Component\r\n    public class ExpressionTokenClassifierInitializer {\r\n        \r\n        @Value(&quot;${app.keywords-file}&quot;)\r\n        private String file;\r\n    \r\n    \t@EventListener(ContextRefreshedEvent.class)\r\n        public void onApplicationStartedEvent() {\r\n           ExpressionTokenClassifier.init(file);\r\n        }\r\n    \r\n    }","title":"Spring: Inject a value into a statically accessed class","body":"<p>I would just use a <code>@Component</code> and <code>@PostConstruct</code> method for init task:</p>\n<p>Spring conponent is singleton, so no need for static.</p>\n<pre><code>@Component // singleton\npublic class ExpressionTokenClassifier {\n    \n    @Value(&quot;${app.keywords-file}&quot;)\n    private String file;\n\n    private List&lt;String&gt; KEYWORDS;\n\n    @PostConstruct\n    public void init() {\n       [...]\n    }\n\n}\n</code></pre>\n<p>if static access is essential, you can init your static class as soon as the application is started:</p>\n<pre><code>public class ExpressionTokenClassifier {\n    \n    private List&lt;String&gt; KEYWORDS;\n\n    static void init(String file) {\n        List&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(file);\n        KEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\n    }\n    \n     public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\n        // KEYWORDS is used in here\n    }\n\n}\n\n@Component\npublic class ExpressionTokenClassifierInitializer {\n    \n    @Value(&quot;${app.keywords-file}&quot;)\n    private String file;\n\n    @EventListener(ContextRefreshedEvent.class)\n    public void onApplicationStartedEvent() {\n       ExpressionTokenClassifier.init(file);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75951716,"answer_count":1,"score":1,"last_activity_date":1680889958,"creation_date":1680797609,"question_id":75951620,"body_markdown":"Consider the following class:\r\n\r\n\tpublic class ExpressionTokenClassifier {\r\n\r\n\t  private static final String       PROMQL_KEYWORDS = &quot;promql-keywords.json&quot;;\r\n\t  private static final List&lt;String&gt; KEYWORDS;\r\n\r\n\t  static {\r\n\t\tList&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(PROMQL_KEYWORDS);\r\n\t\tKEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\r\n\t  }\r\n\r\n\t  public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\r\n\t\t... // KEYWORDS is used in here\r\n\t  }\r\n\r\n\t}\r\n\r\nNotice the hardwired file name (`PROMQL_KEYWORDS`) specified and used in the static initialization block. This works, but I would like to remove the hardcoded value and instead use dependency injection (Spring) to set the value from `application.yaml`. **This class is intended to only be used statically.**\r\n\r\nMy research indicates that the Spring framework does not allow setting a static field with the `@Value` annotation. I have seen some suggestions of a workaround, but do not understand how they would work. Here is an example where I attempted to do this:\r\n\r\n\t@Component\r\n\tpublic class ExpressionTokenClassifier2 {\r\n\r\n\t  private static final List&lt;String&gt; KEYWORDS;\r\n\r\n\t  private static String             KEYWORDS_FILE;\r\n\r\n\t  @Value(&quot;${app.keywords-file}&quot;)\r\n\t  public void setKeywordsFileName(String name) {\r\n\t\tKEYWORDS_FILE = name;\r\n\t  }\r\n\r\n\t  static {\r\n\t\tList&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(KEYWORDS_FILE);\r\n\t\tKEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\r\n\t  }\r\n\r\n\t  public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\r\n\t    ... // KEYWORDS is used in here\r\n\t  }\r\n\r\n\t}\r\n\r\nWhen I tried it, the application fails to start because of NPE (`KEYWORDS_FILE` is null). My immediate question is: *Where and when would the `setKeywordsFileName()` method be called?* Nowhere, as far as I can tell - and the results agree. Am I missing some logic?\r\n\r\nDoes anyone know of a way to accomplish this? I could change this class so that it&#39;s instantiated instead of statically accessed, but the class that uses this class is **also** a statically accessed class. I really don&#39;t want to have to change a bunch of code to fix this.\r\n\r\n**UPDATE**:\r\n\r\nUpon further investigation, it appears that this is essentially not doable, at least not without a lot of extra work that probably defeats the purpose. This link, to me, describes the situation quite well.\r\n\r\nhttps://stackoverflow.com/questions/45192373/how-to-assign-a-value-from-application-properties-to-a-static-variable\r\n\r\nLooks like I&#39;m going to have to think about this for awhile.","title":"Spring: Inject a value into a statically accessed class","body":"<p>Consider the following class:</p>\n<pre><code>public class ExpressionTokenClassifier {\n\n  private static final String       PROMQL_KEYWORDS = &quot;promql-keywords.json&quot;;\n  private static final List&lt;String&gt; KEYWORDS;\n\n  static {\n    List&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(PROMQL_KEYWORDS);\n    KEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\n  }\n\n  public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\n    ... // KEYWORDS is used in here\n  }\n\n}\n</code></pre>\n<p>Notice the hardwired file name (<code>PROMQL_KEYWORDS</code>) specified and used in the static initialization block. This works, but I would like to remove the hardcoded value and instead use dependency injection (Spring) to set the value from <code>application.yaml</code>. <strong>This class is intended to only be used statically.</strong></p>\n<p>My research indicates that the Spring framework does not allow setting a static field with the <code>@Value</code> annotation. I have seen some suggestions of a workaround, but do not understand how they would work. Here is an example where I attempted to do this:</p>\n<pre><code>@Component\npublic class ExpressionTokenClassifier2 {\n\n  private static final List&lt;String&gt; KEYWORDS;\n\n  private static String             KEYWORDS_FILE;\n\n  @Value(&quot;${app.keywords-file}&quot;)\n  public void setKeywordsFileName(String name) {\n    KEYWORDS_FILE = name;\n  }\n\n  static {\n    List&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(KEYWORDS_FILE);\n    KEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\n  }\n\n  public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\n    ... // KEYWORDS is used in here\n  }\n\n}\n</code></pre>\n<p>When I tried it, the application fails to start because of NPE (<code>KEYWORDS_FILE</code> is null). My immediate question is: <em>Where and when would the <code>setKeywordsFileName()</code> method be called?</em> Nowhere, as far as I can tell - and the results agree. Am I missing some logic?</p>\n<p>Does anyone know of a way to accomplish this? I could change this class so that it's instantiated instead of statically accessed, but the class that uses this class is <strong>also</strong> a statically accessed class. I really don't want to have to change a bunch of code to fix this.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>Upon further investigation, it appears that this is essentially not doable, at least not without a lot of extra work that probably defeats the purpose. This link, to me, describes the situation quite well.</p>\n<p><a href=\"https://stackoverflow.com/questions/45192373/how-to-assign-a-value-from-application-properties-to-a-static-variable\">How to assign a value from application.properties to a static variable?</a></p>\n<p>Looks like I'm going to have to think about this for awhile.</p>\n"},{"tags":["java","multithreading","concurrency","scheduled-tasks","completable-future"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680995818,"post_id":75960857,"comment_id":133988633,"body_markdown":"Yes, the 2nd approach doesn&#39;t swallow an exception.","body":"Yes, the 2nd approach doesn&#39;t swallow an exception."},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1681157154,"post_id":75960857,"comment_id":134008358,"body_markdown":"Depending on you use case you might want to use resilicen4j&#39;s Retry facility: https://resilience4j.readme.io/docs/retry","body":"Depending on you use case you might want to use resilicen4j&#39;s Retry facility: <a href=\"https://resilience4j.readme.io/docs/retry\" rel=\"nofollow noreferrer\">resilience4j.readme.io/docs/retry</a>"}],"owner":{"account_id":28109441,"reputation":1,"user_id":21477460,"display_name":"stlew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680889867,"creation_date":1680889867,"question_id":75960857,"body_markdown":"There is a very straightforward way to perform retry task using `while` loop:\r\n\r\n```\r\n    public &lt;T&gt; T runRetryTask(Supplier&lt;T&gt; supplier) {\r\n        T taskExecutionResult = null;\r\n        while (currentTime &lt; expectedEndTime) {\r\n            try {\r\n                taskExecutionResult = supplier.get();\r\n                if (taskExecutionResult != null) return taskExecutionResult;\r\n                Thread.sleep( waitTime );\r\n            } catch (Exception ex) {\r\n            }\r\n        }\r\n        return taskExecutionResult;\r\n    }\r\n```\r\n\r\nI figured there is another way to perform such retry task using `ScheduledFuture` and `CompletableFuture`:\r\n\r\n```\r\n    public &lt;T&gt; T runRetryTask(Supplier&lt;T&gt; supplier) {\r\n        CompletableFuture&lt;T&gt; completableFuture = new CompletableFuture&lt;&gt;();\r\n        ScheduledFuture&lt;?&gt; scheduledFuture = executor.scheduleWithFixedDelay(() -&gt; {\r\n\r\n            T taskExecutionResult = supplier.get();\r\n            if (taskExecutionResult != null || currentTime &gt; expectedEndTime)\r\n                completableFuture.complete(taskExecutionResult);\r\n        }, 0, totalTime, TimeUnit.SECONDS);\r\n\r\n        completableFuture.whenComplete((result, throwable) () -&gt; {\r\n            scheduledFuture.cancel(true);\r\n        });\r\n        return completableFuture;\r\n    }\r\n```\r\n\r\nAre there any advantages of using the second approach?","title":"Different ways to perform retry task","body":"<p>There is a very straightforward way to perform retry task using <code>while</code> loop:</p>\n<pre><code>    public &lt;T&gt; T runRetryTask(Supplier&lt;T&gt; supplier) {\n        T taskExecutionResult = null;\n        while (currentTime &lt; expectedEndTime) {\n            try {\n                taskExecutionResult = supplier.get();\n                if (taskExecutionResult != null) return taskExecutionResult;\n                Thread.sleep( waitTime );\n            } catch (Exception ex) {\n            }\n        }\n        return taskExecutionResult;\n    }\n</code></pre>\n<p>I figured there is another way to perform such retry task using <code>ScheduledFuture</code> and <code>CompletableFuture</code>:</p>\n<pre><code>    public &lt;T&gt; T runRetryTask(Supplier&lt;T&gt; supplier) {\n        CompletableFuture&lt;T&gt; completableFuture = new CompletableFuture&lt;&gt;();\n        ScheduledFuture&lt;?&gt; scheduledFuture = executor.scheduleWithFixedDelay(() -&gt; {\n\n            T taskExecutionResult = supplier.get();\n            if (taskExecutionResult != null || currentTime &gt; expectedEndTime)\n                completableFuture.complete(taskExecutionResult);\n        }, 0, totalTime, TimeUnit.SECONDS);\n\n        completableFuture.whenComplete((result, throwable) () -&gt; {\n            scheduledFuture.cancel(true);\n        });\n        return completableFuture;\n    }\n</code></pre>\n<p>Are there any advantages of using the second approach?</p>\n"},{"tags":["java","spring-boot","app-config","azure-app-configuration"],"comments":[{"owner":{"account_id":1219806,"reputation":449,"user_id":1186656,"accept_rate":60,"display_name":"mrm9084"},"score":1,"creation_date":1680893395,"post_id":75960843,"comment_id":133977534,"body_markdown":"are you seeing the log of them getting refreshed https://microsoft.github.io/spring-cloud-azure/docs/azure-app-configuration/2.9.0/reference/html/index.html#configuration-refresh. Also, are your configurations in the refresh scope?","body":"are you seeing the log of them getting refreshed <a href=\"https://microsoft.github.io/spring-cloud-azure/docs/azure-app-configuration/2.9.0/reference/html/index.html#configuration-refresh\" rel=\"nofollow noreferrer\">microsoft.github.io/spring-cloud-azure/docs/&hellip;</a>. Also, are your configurations in the refresh scope?"}],"owner":{"account_id":28243524,"reputation":1,"user_id":21590944,"display_name":"kaleb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680889757,"creation_date":1680889757,"question_id":75960843,"body_markdown":"I have tried both manual refresh and auto refresh described on https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh\r\nHowever, it still cannot get the updated values in the app config when I refresh the page.\r\nI even set the refresh interval to 10s.\r\nThis is the bootstrap.properties file.\r\n```\r\nspring.cloud.azure.appconfiguration.stores[0].connection-string=${APP_CONFIGURATION_CONNECTION_STRING}\r\nspring.cloud.azure.appconfiguration.stores[0].monitoring.enabled=true\r\nspring.cloud.azure.appconfiguration.stores[0].monitoring.triggers[0].key=sentinel\r\nspring.cloud.azure.appconfiguration.stores[0].monitoring.refresh-interval= 10s\r\n```\r\nI have both of the dependency in my pom.xml file.\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n      &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config&lt;/artifactId&gt;\r\n      &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n      &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config-web&lt;/artifactId&gt;\r\n      &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```\r\nI have followed every steps on the https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh\r\nExpected value can refresh, but actually it remain the old value after I update the values and the sentinel.","title":"azure app config not able to refresh in my spring boot application","body":"<p>I have tried both manual refresh and auto refresh described on <a href=\"https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh</a>\nHowever, it still cannot get the updated values in the app config when I refresh the page.\nI even set the refresh interval to 10s.\nThis is the bootstrap.properties file.</p>\n<pre><code>spring.cloud.azure.appconfiguration.stores[0].connection-string=${APP_CONFIGURATION_CONNECTION_STRING}\nspring.cloud.azure.appconfiguration.stores[0].monitoring.enabled=true\nspring.cloud.azure.appconfiguration.stores[0].monitoring.triggers[0].key=sentinel\nspring.cloud.azure.appconfiguration.stores[0].monitoring.refresh-interval= 10s\n</code></pre>\n<p>I have both of the dependency in my pom.xml file.</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config&lt;/artifactId&gt;\n      &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config-web&lt;/artifactId&gt;\n      &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n</code></pre>\n<p>I have followed every steps on the <a href=\"https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh</a>\nExpected value can refresh, but actually it remain the old value after I update the values and the sentinel.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1680877990,"post_id":75959221,"comment_id":133974420,"body_markdown":"Add `@Validated` to the `@RestController` class.","body":"Add <code>@Validated</code> to the <code>@RestController</code> class."},{"owner":{"account_id":28219875,"reputation":101,"user_id":21570778,"display_name":"Mayuri"},"score":0,"creation_date":1680878279,"post_id":75959221,"comment_id":133974476,"body_markdown":"Please provide entity details","body":"Please provide entity details"},{"owner":{"account_id":11609571,"reputation":37,"user_id":8504176,"display_name":"Nayan J"},"score":0,"creation_date":1680879287,"post_id":75959221,"comment_id":133974703,"body_markdown":"@AbhijitSarkar although I did not have to add this annotation in first time when it finally worked, I added as you suggested. Still no luck","body":"@AbhijitSarkar although I did not have to add this annotation in first time when it finally worked, I added as you suggested. Still no luck"},{"owner":{"account_id":11609571,"reputation":37,"user_id":8504176,"display_name":"Nayan J"},"score":0,"creation_date":1680879310,"post_id":75959221,"comment_id":133974712,"body_markdown":"@Mayuri added entity details. There has not been much  change in the entity other than adding few more fields (with or without validation annotations)","body":"@Mayuri added entity details. There has not been much  change in the entity other than adding few more fields (with or without validation annotations)"}],"answers":[{"tags":[],"owner":{"account_id":11609571,"reputation":37,"user_id":8504176,"display_name":"Nayan J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680886496,"creation_date":1680886496,"answer_id":75960455,"question_id":75959221,"body_markdown":"After trying so many things, I am finally able to resolve the issue. Along with the fields in entity, @Valid annotation at field name in main request pojo was also required.\r\n\r\nMy Main request POJO:\r\n\r\n```java\r\nclass MyPojo{\r\n   // Other fields;\r\n   @Valid\r\n   private AppClientDetails clientDetails;\r\n   // getters setters\r\n}\r\n```\r\n\r\nThis @Valid annotation here resolved the issue.","title":"@Valid annotation stopped working in Spring Boot","body":"<p>After trying so many things, I am finally able to resolve the issue. Along with the fields in entity, @Valid annotation at field name in main request pojo was also required.</p>\n<p>My Main request POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyPojo{\n   // Other fields;\n   @Valid\n   private AppClientDetails clientDetails;\n   // getters setters\n}\n</code></pre>\n<p>This @Valid annotation here resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":9606953,"reputation":64,"user_id":7132691,"accept_rate":0,"display_name":"Akshay Tyagi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680889056,"creation_date":1680889056,"answer_id":75960763,"question_id":75959221,"body_markdown":"First of all, please let us know whether you are validating your request body(i.e MyRequst) or Entity(i.e AppClientDetails) or both. Not clear to me completely so providing you the answers for both\r\n\r\n\r\n 1. **Validating request body-** In POST and PUT requests, it’s common to pass a JSON payload within the request body. Spring automatically maps the incoming JSON to a Java object. Now, we want to check if the incoming Java object meets our requirements. We should use `spring-boot-starter-validation` dependency that brings bean validation api. In request body(DTO), we use constraint annotations such as `@NotNull` etc. and In controller method, we use `@Valid`. Now Spring does validation and throws `MethodArgumentNotValidException` if validation fails.\r\n\r\n\r\n 2. **Validating JPA entity-** Again, we have to use `spring-boot-starter-validation`. By default, Spring Data uses Hibernate underneath, which supports Bean Validation out of the box. Any time **we use the repository** to store the entity object whose constraint annotations are violated, we’ll get a `ConstraintViolationException`. *Note that Bean Validation is only triggered by Hibernate once the EntityManager is flushed. Hibernate flushes the EntityManager automatically under certain circumstances*. If we want to disable Bean Validation in our Spring Data repositories, we can set the Spring Boot property `spring.jpa.properties.javax.persistence.validation.mode` to none.\r\n\r\n\r\nNote that the persistence layer should definitely not be the only location for validation. If validation fails here, it usually means that some sort of validation is missing in other application components. Persistence layer validation should be seen as the last line of defense. In addition to that, the persistence layer is usually too late for business related validation.","title":"@Valid annotation stopped working in Spring Boot","body":"<p>First of all, please let us know whether you are validating your request body(i.e MyRequst) or Entity(i.e AppClientDetails) or both. Not clear to me completely so providing you the answers for both</p>\n<ol>\n<li><p><strong>Validating request body-</strong> In POST and PUT requests, it’s common to pass a JSON payload within the request body. Spring automatically maps the incoming JSON to a Java object. Now, we want to check if the incoming Java object meets our requirements. We should use <code>spring-boot-starter-validation</code> dependency that brings bean validation api. In request body(DTO), we use constraint annotations such as <code>@NotNull</code> etc. and In controller method, we use <code>@Valid</code>. Now Spring does validation and throws <code>MethodArgumentNotValidException</code> if validation fails.</p>\n</li>\n<li><p><strong>Validating JPA entity-</strong> Again, we have to use <code>spring-boot-starter-validation</code>. By default, Spring Data uses Hibernate underneath, which supports Bean Validation out of the box. Any time <strong>we use the repository</strong> to store the entity object whose constraint annotations are violated, we’ll get a <code>ConstraintViolationException</code>. <em>Note that Bean Validation is only triggered by Hibernate once the EntityManager is flushed. Hibernate flushes the EntityManager automatically under certain circumstances</em>. If we want to disable Bean Validation in our Spring Data repositories, we can set the Spring Boot property <code>spring.jpa.properties.javax.persistence.validation.mode</code> to none.</p>\n</li>\n</ol>\n<p>Note that the persistence layer should definitely not be the only location for validation. If validation fails here, it usually means that some sort of validation is missing in other application components. Persistence layer validation should be seen as the last line of defense. In addition to that, the persistence layer is usually too late for business related validation.</p>\n"}],"owner":{"account_id":11609571,"reputation":37,"user_id":8504176,"display_name":"Nayan J"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680889056,"creation_date":1680876902,"question_id":75959221,"body_markdown":"I know there are already several questions on this.\r\n\r\nI started a personal project on Spring Boot version 2.7.9 and wanted to use field level validation using @NotNull, @NotBlank, etc. After coding accordingly, it turned out the code is not able to detect the error. I came across [this][1] question and found that starter-validation is required to be explicitly mentioned. I added and restarted, but still it did not work. I scrolled down the same question and found one answer that IDE needs to be restarted as well. After doing so, it started working.\r\n\r\nA couple of days later, I started working on it again. I added some business logic and some config like request logging. However, this time the annotation stopped working again.\r\n\r\nI tried:\r\n\r\n - Removing starter-validation dependency and re-added, restarted IDE\r\n - Removing whole requestlogging component (using OncePerRequestFilter) just for peace of mind.\r\n - Checked a few more questions here. All talk about missing dependency only. From [here][2], I added the two properties as well.\r\n\r\nNothing has worked so far. Did someone also face a similar issue?\r\n\r\nObservation: I don&#39;t know if it helps or not, although code fails to detect the error, I do get ConstraintViolationException when it tries to persist the entity.\r\n\r\nMy Pom.xml: (dependencies section only)\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6.15&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nController: \r\n\r\n```java\r\n@PostMapping(value = &quot;/create&quot;)\r\npublic ResponseEntity&lt;MyDetailedResponse&gt; createClient(\r\n\t\t@Valid @RequestBody MyRequest request) {\r\n    //business logic\r\n}\r\n```\r\n**EDIT 1:** Entity class as requested:\r\n\r\n```java\r\n@Entity\r\n@Audited\r\n@Table(name = &quot;client_details&quot;)\r\n@JsonIgnoreProperties(value = { &quot;optlock&quot;, &quot;createdDate&quot;, &quot;createdBy&quot;, &quot;lastModifiedDate&quot;,\r\n&#160; &#160; &#160; &#160; &quot;lastModifiedBy&quot; }, ignoreUnknown = true)\r\npublic class AppClientDetails extends EntityVersionedMetaData {\r\n\r\n&#160; &#160; /**\r\n&#160; &#160; &#160;*&#160;\r\n&#160; &#160; &#160;*/\r\n&#160; &#160; private static final long serialVersionUID = 756964595629774899L;\r\n\r\n&#160; &#160; @NotBlank(message = &quot;Name can not be blank&quot;)\r\n&#160; &#160; private String fullName;\r\n\r\n&#160; &#160; @NotBlank(message = &quot;Please choose a short code for the client&quot;)\r\n&#160; &#160; private String shortCode;\r\n\r\n&#160; &#160; @NotBlank(message = &quot;Address is mandatory.&quot;)\r\n&#160; &#160; @Size(min = 1, max = 255)\r\n&#160;// @Pattern(regexp = &quot;^([a-zA-Z0-9.&amp;:-\\\\S+]{1,255})$&quot;, message = &quot;Invalid address. Only alphabets, number and . &amp; : - are allowed&quot;)\r\n&#160; &#160; private String address;\r\n\r\n&#160; &#160; @NotBlank(message = &quot;Contact person name is mandatory&quot;)\r\n&#160; &#160; private String contactPerson;\r\n\r\n&#160; &#160; private long phoneNumber;\r\n\r\n&#160; &#160; private String emailId;\r\n\r\n&#160; &#160; private String logoUrl;\r\n\r\n&#160; &#160; @NotNull(message = &quot;Strength is required&quot;)\r\n&#160; &#160; private Short strength;\r\n\r\n&#160; &#160; @Temporal(TemporalType.DATE)\r\n&#160; &#160; private Date establishedDate;\r\n\r\n&#160; &#160; @Temporal(TemporalType.DATE)\r\n&#160; &#160; private Date onboardingDate;\r\n\r\n&#160; &#160; @NotBlank(message = &quot;Plan must be selected&quot;)\r\n&#160; &#160; private String currentPlan;\r\n\r\n&#160; &#160; @Enumerated(EnumType.ORDINAL)\r\n&#160; &#160; private AppUserStatus clientStatus = AppUserStatus.ACTIVE;\r\n\r\n   //getters setters\r\n}\r\n```\r\nJust to add, I had commented @Pattern as it was throwing illegal character exception due to the \\s in regex. That is also one issue.\r\n\r\n**EDIT 2:**\r\nAs last resort, I deleted whole .m2 directory and workspace both. Freshly created the whole project. Still it did not work.\r\n\r\n  [1]: https://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working\r\n  [2]: https://stackoverflow.com/a/64520592/8504176","title":"@Valid annotation stopped working in Spring Boot","body":"<p>I know there are already several questions on this.</p>\n<p>I started a personal project on Spring Boot version 2.7.9 and wanted to use field level validation using @NotNull, @NotBlank, etc. After coding accordingly, it turned out the code is not able to detect the error. I came across <a href=\"https://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working\">this</a> question and found that starter-validation is required to be explicitly mentioned. I added and restarted, but still it did not work. I scrolled down the same question and found one answer that IDE needs to be restarted as well. After doing so, it started working.</p>\n<p>A couple of days later, I started working on it again. I added some business logic and some config like request logging. However, this time the annotation stopped working again.</p>\n<p>I tried:</p>\n<ul>\n<li>Removing starter-validation dependency and re-added, restarted IDE</li>\n<li>Removing whole requestlogging component (using OncePerRequestFilter) just for peace of mind.</li>\n<li>Checked a few more questions here. All talk about missing dependency only. From <a href=\"https://stackoverflow.com/a/64520592/8504176\">here</a>, I added the two properties as well.</li>\n</ul>\n<p>Nothing has worked so far. Did someone also face a similar issue?</p>\n<p>Observation: I don't know if it helps or not, although code fails to detect the error, I do get ConstraintViolationException when it tries to persist the entity.</p>\n<p>My Pom.xml: (dependencies section only)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.15&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/create&quot;)\npublic ResponseEntity&lt;MyDetailedResponse&gt; createClient(\n        @Valid @RequestBody MyRequest request) {\n    //business logic\n}\n</code></pre>\n<p><strong>EDIT 1:</strong> Entity class as requested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Audited\n@Table(name = &quot;client_details&quot;)\n@JsonIgnoreProperties(value = { &quot;optlock&quot;, &quot;createdDate&quot;, &quot;createdBy&quot;, &quot;lastModifiedDate&quot;,\n        &quot;lastModifiedBy&quot; }, ignoreUnknown = true)\npublic class AppClientDetails extends EntityVersionedMetaData {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 756964595629774899L;\n\n    @NotBlank(message = &quot;Name can not be blank&quot;)\n    private String fullName;\n\n    @NotBlank(message = &quot;Please choose a short code for the client&quot;)\n    private String shortCode;\n\n    @NotBlank(message = &quot;Address is mandatory.&quot;)\n    @Size(min = 1, max = 255)\n // @Pattern(regexp = &quot;^([a-zA-Z0-9.&amp;:-\\\\S+]{1,255})$&quot;, message = &quot;Invalid address. Only alphabets, number and . &amp; : - are allowed&quot;)\n    private String address;\n\n    @NotBlank(message = &quot;Contact person name is mandatory&quot;)\n    private String contactPerson;\n\n    private long phoneNumber;\n\n    private String emailId;\n\n    private String logoUrl;\n\n    @NotNull(message = &quot;Strength is required&quot;)\n    private Short strength;\n\n    @Temporal(TemporalType.DATE)\n    private Date establishedDate;\n\n    @Temporal(TemporalType.DATE)\n    private Date onboardingDate;\n\n    @NotBlank(message = &quot;Plan must be selected&quot;)\n    private String currentPlan;\n\n    @Enumerated(EnumType.ORDINAL)\n    private AppUserStatus clientStatus = AppUserStatus.ACTIVE;\n\n   //getters setters\n}\n</code></pre>\n<p>Just to add, I had commented @Pattern as it was throwing illegal character exception due to the \\s in regex. That is also one issue.</p>\n<p><strong>EDIT 2:</strong>\nAs last resort, I deleted whole .m2 directory and workspace both. Freshly created the whole project. Still it did not work.</p>\n"},{"tags":["java","android","branch.io"],"answers":[{"tags":[],"owner":{"account_id":15043710,"reputation":1,"user_id":10857531,"display_name":"Devesh Pant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546429756,"creation_date":1546429756,"answer_id":54005815,"question_id":53958301,"body_markdown":"Could you please confirm the SDK version that you are using? As our latest SDK versions had some TLS related changes.\r\n\r\nPlease refer to: https://github.com/BranchMetrics/android-branch-deep-linking/releases\r\n\r\nwhere release 3.0.0 had some TLS related changes.Please update the Branch SDK and write to integrations@branch.io if the issue still persists.\r\n\r\nThanks.","title":"BranchSDK: User session has not been initialized","body":"<p>Could you please confirm the SDK version that you are using? As our latest SDK versions had some TLS related changes.</p>\n\n<p>Please refer to: <a href=\"https://github.com/BranchMetrics/android-branch-deep-linking/releases\" rel=\"nofollow noreferrer\">https://github.com/BranchMetrics/android-branch-deep-linking/releases</a></p>\n\n<p>where release 3.0.0 had some TLS related changes.Please update the Branch SDK and write to integrations@branch.io if the issue still persists.</p>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":10314724,"reputation":191,"user_id":7609373,"display_name":"Valeriy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1546947915,"creation_date":1546947915,"answer_id":54091149,"question_id":53958301,"body_markdown":"For version 3.0.3 and below, helped me only add a string when initializing the BranchSDK: `ProviderInstaller.installIfNeeded(context);`","title":"BranchSDK: User session has not been initialized","body":"<p>For version 3.0.3 and below, helped me only add a string when initializing the BranchSDK: <code>ProviderInstaller.installIfNeeded(context);</code></p>\n"},{"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658474260,"creation_date":1658474260,"answer_id":73076499,"question_id":53958301,"body_markdown":"Add this line on base application oncreate method \r\n\r\n     Branch.getAutoInstance(this);","title":"BranchSDK: User session has not been initialized","body":"<p>Add this line on base application oncreate method</p>\n<pre><code> Branch.getAutoInstance(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4505056,"reputation":1045,"user_id":3662639,"display_name":"Mher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680888791,"creation_date":1680858799,"answer_id":75957076,"question_id":53958301,"body_markdown":"For React Native Expo IOS (`react-native-branch@5.4.0`, `@config-plugins/react-native-branch@5.0.0`, `expo@48.0.10`) just make sure to implement \r\n\r\n```\r\n#import &quot;AppDelegate.h&quot;\r\n#import &lt;RNBranch/RNBranch.h&gt;\r\n  \r\n@implementation AppDelegate\r\n  \r\n// Initialize the Branch Session at the top of existing application:didFinishLaunchingWithOptions:\r\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\r\n{\r\n    // Uncomment this line to use the test key instead of the live one.\r\n    // [RNBranch useTestInstance];\r\n    [RNBranch initSessionWithLaunchOptions:launchOptions isReferrable:YES];\r\n    NSURL *jsCodeLocation;\r\n    //...\r\n}\r\n\r\n- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options {\r\n    [RNBranch application:application openURL:url options:options];\r\n    return YES;\r\n}\r\n\r\n- (BOOL)application:(UIApplication *)application continueUserActivity:(NSUserActivity *)userActivity restorationHandler:(void (^)(NSArray&lt;id&lt;UIUserActivityRestoring&gt;&gt; * _Nullable))restorationHandler {\r\n   [RNBranch continueUserActivity:userActivity];\r\n   return YES;\r\n}\r\n```\r\n\r\nin `AppDelegate.mm` file. \r\nIn official documentation it use \r\n```\r\n- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options {\r\n    [RNBranch application:app openURL:url options:options];\r\n    return YES;\r\n}\r\n``` \r\nbut it throws `use of undeclared identifier &#39;app&#39;` error in my environment. I had to change `app` to `application` to force this work.","title":"BranchSDK: User session has not been initialized","body":"<p>For React Native Expo IOS (<code>react-native-branch@5.4.0</code>, <code>@config-plugins/react-native-branch@5.0.0</code>, <code>expo@48.0.10</code>) just make sure to implement</p>\n<pre><code>#import &quot;AppDelegate.h&quot;\n#import &lt;RNBranch/RNBranch.h&gt;\n  \n@implementation AppDelegate\n  \n// Initialize the Branch Session at the top of existing application:didFinishLaunchingWithOptions:\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n    // Uncomment this line to use the test key instead of the live one.\n    // [RNBranch useTestInstance];\n    [RNBranch initSessionWithLaunchOptions:launchOptions isReferrable:YES];\n    NSURL *jsCodeLocation;\n    //...\n}\n\n- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options {\n    [RNBranch application:application openURL:url options:options];\n    return YES;\n}\n\n- (BOOL)application:(UIApplication *)application continueUserActivity:(NSUserActivity *)userActivity restorationHandler:(void (^)(NSArray&lt;id&lt;UIUserActivityRestoring&gt;&gt; * _Nullable))restorationHandler {\n   [RNBranch continueUserActivity:userActivity];\n   return YES;\n}\n</code></pre>\n<p>in <code>AppDelegate.mm</code> file.\nIn official documentation it use</p>\n<pre><code>- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options {\n    [RNBranch application:app openURL:url options:options];\n    return YES;\n}\n</code></pre>\n<p>but it throws <code>use of undeclared identifier 'app'</code> error in my environment. I had to change <code>app</code> to <code>application</code> to force this work.</p>\n"}],"owner":{"account_id":10314724,"reputation":191,"user_id":7609373,"display_name":"Valeriy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54091149,"answer_count":4,"score":0,"last_activity_date":1680888791,"creation_date":1545998549,"question_id":53958301,"body_markdown":"I have problem with BranchSDK, during initialization i receive error:\r\n\r\n&lt;code&gt;12-28 13:50:22.203 D/FirebasePerformance: Logging NetworkRequestMetric - https://api2.branch.io/v1/install 0b 1136ms,\r\n12-28 13:50:22.204 I/FirebasePerformance: Did not receive a HTTP Response Code\r\n12-28 13:50:22.204 W/FirebasePerformance: Unable to process the PerfMetric due to missing or invalid values. See earlier log statements for additional information on the specific missing/invalid values.\r\n12-28 13:50:22.208 E/BranchNetworkClient: Error in doRestfulGet(https://api2.branch.io/v1/install)\r\n    javax.net.ssl.SSLHandshakeException: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x63395a88: Failure in SSL library, usually a protocol error\r\n    error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:744 0x5d9ce808:0x00000000)\r\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:449)\r\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:318)\r\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:282)\r\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)\r\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\r\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\r\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\r\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\r\n        at okhttp3.RealCall.execute(RealCall.java:77)\r\n        at com.google.firebase.perf.network.FirebasePerfOkHttpClient.execute(Unknown Source)\r\n        at com.riversoft.eventssion.network.BranchNetworkClient.doRestfulPost(BranchNetworkClient.java:59)\r\n        at io.branch.referral.network.BranchRemoteInterface.make_restful_post(BranchRemoteInterface.java:136)\r\n        at io.branch.referral.Branch$BranchPostTask.doInBackground(Branch.java:2860)\r\n        at io.branch.referral.Branch$BranchPostTask.doInBackground(Branch.java:2835)\r\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n        at java.lang.Thread.run(Thread.java:841)\r\n     Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x63395a88: Failure in SSL library, usually a protocol error\r\n    error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:744 0x5d9ce808:0x00000000)\r\n        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\r\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:406)\r\n        \t... 29 more&lt;/code&gt;\r\n\r\nI tried:\r\nhttps://github.com/BranchMetrics/android-branch-deep-linking/issues/552\r\nand:\r\n\r\n    ConnectionSpec spec = new \r\n    ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)  \r\n        .tlsVersions(TlsVersion.TLS_1_2)\r\n        .cipherSuites(\r\n              CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\r\n              CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\r\n              CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256)\r\n        .build();\r\n    \r\n    OkHttpClient client = new OkHttpClient.Builder() \r\n        .connectionSpecs(Collections.singletonList(spec))\r\n        .build();\r\n\r\nP.S. This is problem is on API19, but API 28, 27, 25, 23 all is good worked.\r\n\r\n","title":"BranchSDK: User session has not been initialized","body":"<p>I have problem with BranchSDK, during initialization i receive error:</p>\n\n<p><code>12-28 13:50:22.203 D/FirebasePerformance: Logging NetworkRequestMetric - <a href=\"https://api2.branch.io/v1/install\" rel=\"nofollow noreferrer\">https://api2.branch.io/v1/install</a> 0b 1136ms,\n12-28 13:50:22.204 I/FirebasePerformance: Did not receive a HTTP Response Code\n12-28 13:50:22.204 W/FirebasePerformance: Unable to process the PerfMetric due to missing or invalid values. See earlier log statements for additional information on the specific missing/invalid values.\n12-28 13:50:22.208 E/BranchNetworkClient: Error in doRestfulGet(<a href=\"https://api2.branch.io/v1/install\" rel=\"nofollow noreferrer\">https://api2.branch.io/v1/install</a>)\n    javax.net.ssl.SSLHandshakeException: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x63395a88: Failure in SSL library, usually a protocol error\n    error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:744 0x5d9ce808:0x00000000)\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:449)\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:318)\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:282)\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\n        at okhttp3.RealCall.execute(RealCall.java:77)\n        at com.google.firebase.perf.network.FirebasePerfOkHttpClient.execute(Unknown Source)\n        at com.riversoft.eventssion.network.BranchNetworkClient.doRestfulPost(BranchNetworkClient.java:59)\n        at io.branch.referral.network.BranchRemoteInterface.make_restful_post(BranchRemoteInterface.java:136)\n        at io.branch.referral.Branch$BranchPostTask.doInBackground(Branch.java:2860)\n        at io.branch.referral.Branch$BranchPostTask.doInBackground(Branch.java:2835)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:841)\n     Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x63395a88: Failure in SSL library, usually a protocol error\n    error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:744 0x5d9ce808:0x00000000)\n        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:406)\n            ... 29 more</code></p>\n\n<p>I tried:\n<a href=\"https://github.com/BranchMetrics/android-branch-deep-linking/issues/552\" rel=\"nofollow noreferrer\">https://github.com/BranchMetrics/android-branch-deep-linking/issues/552</a>\nand:</p>\n\n<pre><code>ConnectionSpec spec = new \nConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)  \n    .tlsVersions(TlsVersion.TLS_1_2)\n    .cipherSuites(\n          CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\n          CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\n          CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256)\n    .build();\n\nOkHttpClient client = new OkHttpClient.Builder() \n    .connectionSpecs(Collections.singletonList(spec))\n    .build();\n</code></pre>\n\n<p>P.S. This is problem is on API19, but API 28, 27, 25, 23 all is good worked.</p>\n"},{"tags":["java","java.util.concurrent","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680888238,"creation_date":1680888238,"answer_id":75960668,"question_id":75958948,"body_markdown":"Interpreting your data structure based on the code you&#39;re using to access it, you have an outer map from `String` codes to inner singleton maps, and each inner map maps exactly one code to a `Model`.  The `Model`s have multiple distinct properties that are to be updated, as a group, from time to time.  Each key of the outer map is the same as the single key of the corresponding inner map.  Each key of each inner map is the same as the `code` property of the corresponding `Model`.\r\n\r\nI guess, then, the idea for the inner maps, which otherwise seem redundant, is to use their `ConcurrentHashMap.compute()` methods to perform modifications of multiple properties of the `Model` objects as atomic groups, without blocking concurrent modification of different `Model` objects.\r\n\r\n&gt; Multiple threads will try to update values of same mainCode, does below cause trouble?\r\n\r\n[Each entire invocation of `ConcurrentHashMap.compute()` is performed atomically][1], so multiple threads invoking `securities.compute()` via your `updateModel()` method, whether for the same or for different keys, will not interfere with each other with respect to the `securities` map itself.\r\n\r\nSimilarly, multiple threads concurrently invoking `modifyValue()` with the same first argument will not interfere with each other with respect to that map. The `Model`-property modifications will be performed as an atomic group *with respect to other operations on the map*.\r\n\r\nBut **that&#39;s not sufficient**.  If those properties of your `Model` objects are accessed by any other path (and surely they are at least *read* at some point), then that produces data races.  At minimum, those reads can observe inconsistent combinations of property values.\r\n\r\nIt might be possible to build sufficient additional infrastructure around this nested-map idea to serve all your needs without data races, but this cure is probably worse than the disease.  I see two potential approaches that are superior:\r\n\r\n 1. Make the `Model` objects immutable, and remove the inner maps (the outer map will map codes directly to `Model`s).  Instead of updating existing `Model` objects, *replace* them with new ones having the desired properties.\r\n\r\nOR\r\n\r\n 2. Apply explicit locks or conventional synchronization appropriately to protect all accesses to the `Model` objects, and remove the inner maps.\r\n\r\nIf (1) is viable for you with respect to the other requirements of your application then that&#39;s what I would recommend.  If not, then probably there is no alternative better than (2).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)","title":"applying concurrency when a ConcurrentHashMap is map value","body":"<p>Interpreting your data structure based on the code you're using to access it, you have an outer map from <code>String</code> codes to inner singleton maps, and each inner map maps exactly one code to a <code>Model</code>.  The <code>Model</code>s have multiple distinct properties that are to be updated, as a group, from time to time.  Each key of the outer map is the same as the single key of the corresponding inner map.  Each key of each inner map is the same as the <code>code</code> property of the corresponding <code>Model</code>.</p>\n<p>I guess, then, the idea for the inner maps, which otherwise seem redundant, is to use their <code>ConcurrentHashMap.compute()</code> methods to perform modifications of multiple properties of the <code>Model</code> objects as atomic groups, without blocking concurrent modification of different <code>Model</code> objects.</p>\n<blockquote>\n<p>Multiple threads will try to update values of same mainCode, does below cause trouble?</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Each entire invocation of <code>ConcurrentHashMap.compute()</code> is performed atomically</a>, so multiple threads invoking <code>securities.compute()</code> via your <code>updateModel()</code> method, whether for the same or for different keys, will not interfere with each other with respect to the <code>securities</code> map itself.</p>\n<p>Similarly, multiple threads concurrently invoking <code>modifyValue()</code> with the same first argument will not interfere with each other with respect to that map. The <code>Model</code>-property modifications will be performed as an atomic group <em>with respect to other operations on the map</em>.</p>\n<p>But <strong>that's not sufficient</strong>.  If those properties of your <code>Model</code> objects are accessed by any other path (and surely they are at least <em>read</em> at some point), then that produces data races.  At minimum, those reads can observe inconsistent combinations of property values.</p>\n<p>It might be possible to build sufficient additional infrastructure around this nested-map idea to serve all your needs without data races, but this cure is probably worse than the disease.  I see two potential approaches that are superior:</p>\n<ol>\n<li>Make the <code>Model</code> objects immutable, and remove the inner maps (the outer map will map codes directly to <code>Model</code>s).  Instead of updating existing <code>Model</code> objects, <em>replace</em> them with new ones having the desired properties.</li>\n</ol>\n<p>OR</p>\n<ol start=\"2\">\n<li>Apply explicit locks or conventional synchronization appropriately to protect all accesses to the <code>Model</code> objects, and remove the inner maps.</li>\n</ol>\n<p>If (1) is viable for you with respect to the other requirements of your application then that's what I would recommend.  If not, then probably there is no alternative better than (2).</p>\n"}],"owner":{"account_id":393450,"reputation":25,"user_id":4151342,"display_name":"SmokingTurtle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75960668,"answer_count":1,"score":0,"last_activity_date":1680888238,"creation_date":1680874849,"question_id":75958948,"body_markdown":"Multiple threads will try to update values of same mainCode, does below cause trouble? Also another job will consistently read values of securities and apply operations if values match. \r\n\r\n    public class MyObj {\r\n    \r\n        \tprivate static ConcurrentHashMap&lt;String, ConcurrentHashMap&lt;String, Model&gt;&gt; securities = new ConcurrentHashMap&lt;&gt;();\r\n        \r\n        \tprivate static void updateModel(String mainCode, String code, BigDecimal valueA, BigDecimal valueB) {\r\n        \t\tsecurities.compute(mainCode, (k, v) -&gt; {\r\n        \t\t\tmodifyValue(v, valueA, valueB, code);\r\n        \t\t\treturn v;\r\n        \t\t});\r\n        \t}\r\n        \r\n        \tprivate static void modifyValue(ConcurrentHashMap&lt;String, Model&gt; v, BigDecimal valueA, BigDecimal ValueB, String code) {\r\n        \t\tv.compute(code, (k, val) -&gt; {\r\n        \t\t\tval.setCode(code);\r\n        \t\t\tval.setValueA(valueA);\r\n        \t\t\tval.setValueB(ValueB);\r\n        \t\t\treturn val;\r\n        \t\t});\r\n        \r\n        \t}\r\n        \r\n        }\r\n\r\n","title":"applying concurrency when a ConcurrentHashMap is map value","body":"<p>Multiple threads will try to update values of same mainCode, does below cause trouble? Also another job will consistently read values of securities and apply operations if values match.</p>\n<pre><code>public class MyObj {\n\n        private static ConcurrentHashMap&lt;String, ConcurrentHashMap&lt;String, Model&gt;&gt; securities = new ConcurrentHashMap&lt;&gt;();\n    \n        private static void updateModel(String mainCode, String code, BigDecimal valueA, BigDecimal valueB) {\n            securities.compute(mainCode, (k, v) -&gt; {\n                modifyValue(v, valueA, valueB, code);\n                return v;\n            });\n        }\n    \n        private static void modifyValue(ConcurrentHashMap&lt;String, Model&gt; v, BigDecimal valueA, BigDecimal ValueB, String code) {\n            v.compute(code, (k, val) -&gt; {\n                val.setCode(code);\n                val.setValueA(valueA);\n                val.setValueB(ValueB);\n                return val;\n            });\n    \n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","performance","encryption","wildfly"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1680913333,"post_id":75960617,"comment_id":133980128,"body_markdown":"Try using a profiler - it will show where exactly CPU time is spent in both cases.","body":"Try using a profiler - it will show where exactly CPU time is spent in both cases."},{"owner":{"account_id":17756185,"reputation":23,"user_id":12893238,"display_name":"Yannick Forster"},"score":0,"creation_date":1681405333,"post_id":75960617,"comment_id":134054795,"body_markdown":"I have tried with the profiler but couldn&#39;t get to the bottom of it. However I noticed building the .jar and running it over the command line the Spring version is now on par with the Wildfly one but running it from within IntelliJ is still slow. Is it possible that running it through intelliJ makes it slower? Do they share resources when run that way or something?","body":"I have tried with the profiler but couldn&#39;t get to the bottom of it. However I noticed building the .jar and running it over the command line the Spring version is now on par with the Wildfly one but running it from within IntelliJ is still slow. Is it possible that running it through intelliJ makes it slower? Do they share resources when run that way or something?"}],"owner":{"account_id":17756185,"reputation":23,"user_id":12893238,"display_name":"Yannick Forster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680887712,"creation_date":1680887712,"question_id":75960617,"body_markdown":"I have a java web service using jakarta and javax.ws.rs. The service takes a GET request and returns a generated captcha image alongside a token containing the encrypted solution. I am using the Cipherhandler class to encrypt the solution string after generating the image from it.\r\n\r\nThe code in question:\r\n\r\n```\r\n@ApplicationPath(&quot;/captcha&quot;)\r\n@Path(&quot;/demo&quot;)\r\n@Log4j2\r\npublic class Api extends Application {\r\n\r\n\tprivate final SecureTextCaptchaHandler handler = new SecureTextCaptchaHandler();\r\n\tprivate final SimpleTextImageRenderer renderer = new SimpleTextImageRenderer();\r\n\tprivate final CaptchaTextGenerator gen = new SimpleCaptchaTextGenerator();\r\n\tprivate final CipherHandler ch = new CipherHandler();\r\n\tprivate final Validator validator = new Validator();\r\n\r\n\t@GET\r\n\t@Path(&quot;/text&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic Response getTextCaptcha() {\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\tString solution = gen.generate(4);\r\n\t\tCaptcha captcha = handler.toCaptcha(solution, ch, &quot;SomeSaltSource&quot;, &quot;myPassword&quot;, renderer, 200, 600, true);\r\n\t\tSystem.out.println(&quot;Serving TextCaptcha took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\r\n\t\treturn Response.ok().entity(captcha).build();\r\n\t}\r\n```\r\n\r\n\r\nI have also created a spring boot application with spring boot 3.0.5 that implements the same functionality and runs the exact same code. Essentially it just calls the same methods with the same arguments from a RestController. However I observed that while the image generation takes roughly the same time between the two, encrypting the string to create the token is considerably slower with spring boot.\r\n\r\nThe spring boot version:\r\n```\r\n@Log4j2\r\n@Component\r\n@RestController\r\npublic class Api {\r\n\r\n    private final SecureTextCaptchaHandler handler = new SecureTextCaptchaHandler();\r\n    private final SimpleTextImageRenderer renderer = new SimpleTextImageRenderer();\r\n    private final CaptchaTextGenerator gen = new SimpleCaptchaTextGenerator();\r\n    private final CipherHandler ch = new CipherHandler();\r\n    private final Validator validator = new Validator();\r\n\r\n    @GetMapping(value = &quot;/captcha/demo/text&quot;, produces = &quot;application/json; charset=UTF-8&quot;)\r\n    public ResponseEntity&lt;Captcha&gt; getTextCaptcha() {\r\n        long start = System.currentTimeMillis();\r\n        String solution = gen.generate(4);\r\n        Captcha captcha = handler.toCaptcha(solution, ch, &quot;SomeSaltSource&quot;, &quot;myPassword&quot;, renderer, 200, 600, true);\r\n        System.out.println(&quot;Serving TextCaptcha took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\r\n        return ResponseEntity.ok(captcha);\r\n    }\r\n```\r\n\r\n\r\nThe encrypting method:\r\n\r\n```\r\npublic byte[] encryptString(byte[] input, String password, Serializable saltSource, byte[] ivBytes) {\r\n\t\tif(StringUtils.isEmpty(password)) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;The supplied password is empty or null. Encryption can not proceed.&quot;);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tCipher cipher = getCipher(password, saltSource, Cipher.ENCRYPT_MODE, ivBytes);\r\n\t\t\tbyte[] cipherBytes = cipher.doFinal(input);\r\n\t\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream( );\r\n\t\t\toutputStream.write( ivBytes );\r\n\t\t\toutputStream.write( cipherBytes );\r\n\t\t\treturn outputStream.toByteArray( );\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.fatal(&quot;Fatal error producing byte array data of the salt source object: &quot; + e.getLocalizedMessage());\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tlog.fatal(&quot;Unknown algorithm specified for token encryption: &quot; + e.getLocalizedMessage());\r\n\t\t} catch (NoSuchPaddingException e) {\r\n\t\t\tlog.fatal(&quot;Unknown padding specified for token encryption: &quot; + e.getLocalizedMessage());\r\n\t\t} catch (InvalidKeySpecException | InvalidKeyException | InvalidAlgorithmParameterException\r\n\t\t\t\t| IllegalBlockSizeException | BadPaddingException e) {\r\n\t\t\tlog.fatal(&quot;Fatal error during token encryption: &quot; + e.getLocalizedMessage());\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\n\r\nI decided to log the time before and after calling the method.\r\n\r\n```\r\nstart = System.currentTimeMillis();\r\nbyte[] encryptedToken = cipherHandler.encryptString(captchaText.getBytes(), password, saltSource);\r\nSystem.out.println(&quot;Generating token took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\r\n```\r\n\r\n\r\n When using spring boot I get the following:\r\n```\r\nGenerating token took 88 milliseconds.\r\nGenerating token took 92 milliseconds.\r\nGenerating token took 90 milliseconds.\r\nGenerating token took 90 milliseconds.\r\n```\r\n\r\nOn wildfly however, I get:\r\n```\r\n18:25:37,559 INFO  [stdout] (default task-1) Generating token took 15 milliseconds.\r\n18:25:39,449 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\r\n18:25:42,776 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\r\n18:25:44,206 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\r\n```\r\n\r\nSince it&#39;s possible I need to encrypt twice (because of how I want the token to look) this essentially ruins the response time for the service.\r\n\r\nCan someone explain to my where this difference comes from and what I could do to improve performance when running the application with spring boot?\r\n\r\nI made sure both times are running on the same JDK (17) and swapped the embedded tomcat in spring for netty but saw no difference. Both are running on my machine locally.\r\n\r\nI expected the response time on spring to be around the same as the with the application running on wildfly.","title":"Encrypting Strings runs much slower in Spring Boot than on Wildfly26","body":"<p>I have a java web service using jakarta and javax.ws.rs. The service takes a GET request and returns a generated captcha image alongside a token containing the encrypted solution. I am using the Cipherhandler class to encrypt the solution string after generating the image from it.</p>\n<p>The code in question:</p>\n<pre><code>@ApplicationPath(&quot;/captcha&quot;)\n@Path(&quot;/demo&quot;)\n@Log4j2\npublic class Api extends Application {\n\n    private final SecureTextCaptchaHandler handler = new SecureTextCaptchaHandler();\n    private final SimpleTextImageRenderer renderer = new SimpleTextImageRenderer();\n    private final CaptchaTextGenerator gen = new SimpleCaptchaTextGenerator();\n    private final CipherHandler ch = new CipherHandler();\n    private final Validator validator = new Validator();\n\n    @GET\n    @Path(&quot;/text&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getTextCaptcha() {\n        long start = System.currentTimeMillis();\n        String solution = gen.generate(4);\n        Captcha captcha = handler.toCaptcha(solution, ch, &quot;SomeSaltSource&quot;, &quot;myPassword&quot;, renderer, 200, 600, true);\n        System.out.println(&quot;Serving TextCaptcha took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\n        return Response.ok().entity(captcha).build();\n    }\n</code></pre>\n<p>I have also created a spring boot application with spring boot 3.0.5 that implements the same functionality and runs the exact same code. Essentially it just calls the same methods with the same arguments from a RestController. However I observed that while the image generation takes roughly the same time between the two, encrypting the string to create the token is considerably slower with spring boot.</p>\n<p>The spring boot version:</p>\n<pre><code>@Log4j2\n@Component\n@RestController\npublic class Api {\n\n    private final SecureTextCaptchaHandler handler = new SecureTextCaptchaHandler();\n    private final SimpleTextImageRenderer renderer = new SimpleTextImageRenderer();\n    private final CaptchaTextGenerator gen = new SimpleCaptchaTextGenerator();\n    private final CipherHandler ch = new CipherHandler();\n    private final Validator validator = new Validator();\n\n    @GetMapping(value = &quot;/captcha/demo/text&quot;, produces = &quot;application/json; charset=UTF-8&quot;)\n    public ResponseEntity&lt;Captcha&gt; getTextCaptcha() {\n        long start = System.currentTimeMillis();\n        String solution = gen.generate(4);\n        Captcha captcha = handler.toCaptcha(solution, ch, &quot;SomeSaltSource&quot;, &quot;myPassword&quot;, renderer, 200, 600, true);\n        System.out.println(&quot;Serving TextCaptcha took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\n        return ResponseEntity.ok(captcha);\n    }\n</code></pre>\n<p>The encrypting method:</p>\n<pre><code>public byte[] encryptString(byte[] input, String password, Serializable saltSource, byte[] ivBytes) {\n        if(StringUtils.isEmpty(password)) {\n            throw new IllegalArgumentException(&quot;The supplied password is empty or null. Encryption can not proceed.&quot;);\n        }\n        try {\n            Cipher cipher = getCipher(password, saltSource, Cipher.ENCRYPT_MODE, ivBytes);\n            byte[] cipherBytes = cipher.doFinal(input);\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream( );\n            outputStream.write( ivBytes );\n            outputStream.write( cipherBytes );\n            return outputStream.toByteArray( );\n        } catch (IOException e) {\n            log.fatal(&quot;Fatal error producing byte array data of the salt source object: &quot; + e.getLocalizedMessage());\n        } catch (NoSuchAlgorithmException e) {\n            log.fatal(&quot;Unknown algorithm specified for token encryption: &quot; + e.getLocalizedMessage());\n        } catch (NoSuchPaddingException e) {\n            log.fatal(&quot;Unknown padding specified for token encryption: &quot; + e.getLocalizedMessage());\n        } catch (InvalidKeySpecException | InvalidKeyException | InvalidAlgorithmParameterException\n                | IllegalBlockSizeException | BadPaddingException e) {\n            log.fatal(&quot;Fatal error during token encryption: &quot; + e.getLocalizedMessage());\n        }\n        return null;\n    }\n</code></pre>\n<p>I decided to log the time before and after calling the method.</p>\n<pre><code>start = System.currentTimeMillis();\nbyte[] encryptedToken = cipherHandler.encryptString(captchaText.getBytes(), password, saltSource);\nSystem.out.println(&quot;Generating token took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\n</code></pre>\n<p>When using spring boot I get the following:</p>\n<pre><code>Generating token took 88 milliseconds.\nGenerating token took 92 milliseconds.\nGenerating token took 90 milliseconds.\nGenerating token took 90 milliseconds.\n</code></pre>\n<p>On wildfly however, I get:</p>\n<pre><code>18:25:37,559 INFO  [stdout] (default task-1) Generating token took 15 milliseconds.\n18:25:39,449 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\n18:25:42,776 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\n18:25:44,206 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\n</code></pre>\n<p>Since it's possible I need to encrypt twice (because of how I want the token to look) this essentially ruins the response time for the service.</p>\n<p>Can someone explain to my where this difference comes from and what I could do to improve performance when running the application with spring boot?</p>\n<p>I made sure both times are running on the same JDK (17) and swapped the embedded tomcat in spring for netty but saw no difference. Both are running on my machine locally.</p>\n<p>I expected the response time on spring to be around the same as the with the application running on wildfly.</p>\n"},{"tags":["java","maven","plugins","jar"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1469361807,"post_id":38548271,"comment_id":64494201,"body_markdown":"This is really too broad to answer. Take a look at the documentation of each plugin to see what it does. There are examples also in the docs.","body":"This is really too broad to answer. Take a look at the documentation of each plugin to see what it does. There are examples also in the docs."},{"owner":{"account_id":396691,"reputation":1552,"user_id":760393,"accept_rate":71,"display_name":"Ra&#250;l"},"score":18,"creation_date":1479214016,"post_id":38548271,"comment_id":68454649,"body_markdown":"IMHO, This is a good question. For a newbie, (or many experts, for that matter) this choice is confusing. And yes, have docs been suffice for each/every thing - there was no need for SO at first place.","body":"IMHO, This is a good question. For a newbie, (or many experts, for that matter) this choice is confusing. And yes, have docs been suffice for each/every thing - there was no need for SO at first place."}],"answers":[{"tags":[],"owner":{"account_id":2453753,"reputation":2564,"user_id":2139422,"display_name":"Arthur Noseda"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1469405794,"creation_date":1469405794,"answer_id":38558129,"question_id":38548271,"body_markdown":"[Jar plugin][1]\r\n\r\nLet&#39;s see what the following command can tell.\r\n\r\n`mvn help:describe -Dplugin=org.apache.maven.plugins:maven-jar-plugin`\r\n\r\nIt has 3 goals, `help`, `jar` and `test-jar`. I believe you are mostly interested in the `jar` goal, which according to the description does the following:\r\n\r\n&gt; Build a JAR from the current project.\r\n\r\n\r\nAs a side note, executing `mvn help:effective-pom` on a project with packaging set to `jar`, shows that this plugin is automatically configured and gets executed during the `package` phase.\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-jar&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n[Assembly plugin][2]\r\n\r\nThis one serves a different purpose. It has 8 goals, but 6 of them are deprecated. So apart from the `help` goal, this leaves us with the `single` goal.\r\n\r\n`mvn help:describe -Dplugin=org.apache.maven.plugins:maven-assembly-plugin`\r\n\r\n&gt; Assemble an application bundle or distribution from an assembly descriptor. This goal is suitable either for binding to the lifecycle or calling directly from the command line (provided all required files are available before the build starts, or are produced by another goal specified before this one on the command line).\r\n\r\nYou may use the assembly plugin when you want to deliver more than your project&#39;s artifact (JAR, WAR, etc.), but the configuration goes in another file.\r\n\r\n[Shade plugin][3]\r\n\r\nThe description of the main goal is a bit disappointing.\r\n\r\n`mvn help:describe -Dplugin=org.apache.maven.plugins:maven-shade-plugin`\r\n\r\n&gt; Mojo that performs shading delegating to the Shader component.\r\n\r\nYou mostly want to use this plugin if you want to produce an uber-jar, which is your artifact in a JAR with all its transitive dependencies in it.\r\n\r\nBasicly, if you&#39;re building a library, you&#39;ll stick with the default JAR plugin. If you&#39;re building an application, you could consider using the shade plugin, though to me, it&#39;s kind of quick and dirty. If uber-jar is not your taste or the distribution cannot fit inside a single JAR (external configuration, native dependencies, etc.) then you should go for the assembly plugin.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-jar-plugin/\r\n  [2]: http://maven.apache.org/plugins/maven-assembly-plugin/\r\n  [3]: https://maven.apache.org/plugins/maven-shade-plugin/","title":"Difference between the maven-assembly-plugin, maven-jar-plugin and maven-shade-plugin?","body":"<p><a href=\"https://maven.apache.org/plugins/maven-jar-plugin/\" rel=\"noreferrer\">Jar plugin</a></p>\n\n<p>Let's see what the following command can tell.</p>\n\n<p><code>mvn help:describe -Dplugin=org.apache.maven.plugins:maven-jar-plugin</code></p>\n\n<p>It has 3 goals, <code>help</code>, <code>jar</code> and <code>test-jar</code>. I believe you are mostly interested in the <code>jar</code> goal, which according to the description does the following:</p>\n\n<blockquote>\n  <p>Build a JAR from the current project.</p>\n</blockquote>\n\n<p>As a side note, executing <code>mvn help:effective-pom</code> on a project with packaging set to <code>jar</code>, shows that this plugin is automatically configured and gets executed during the <code>package</code> phase.</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;default-jar&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;jar&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p><a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"noreferrer\">Assembly plugin</a></p>\n\n<p>This one serves a different purpose. It has 8 goals, but 6 of them are deprecated. So apart from the <code>help</code> goal, this leaves us with the <code>single</code> goal.</p>\n\n<p><code>mvn help:describe -Dplugin=org.apache.maven.plugins:maven-assembly-plugin</code></p>\n\n<blockquote>\n  <p>Assemble an application bundle or distribution from an assembly descriptor. This goal is suitable either for binding to the lifecycle or calling directly from the command line (provided all required files are available before the build starts, or are produced by another goal specified before this one on the command line).</p>\n</blockquote>\n\n<p>You may use the assembly plugin when you want to deliver more than your project's artifact (JAR, WAR, etc.), but the configuration goes in another file.</p>\n\n<p><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"noreferrer\">Shade plugin</a></p>\n\n<p>The description of the main goal is a bit disappointing.</p>\n\n<p><code>mvn help:describe -Dplugin=org.apache.maven.plugins:maven-shade-plugin</code></p>\n\n<blockquote>\n  <p>Mojo that performs shading delegating to the Shader component.</p>\n</blockquote>\n\n<p>You mostly want to use this plugin if you want to produce an uber-jar, which is your artifact in a JAR with all its transitive dependencies in it.</p>\n\n<p>Basicly, if you're building a library, you'll stick with the default JAR plugin. If you're building an application, you could consider using the shade plugin, though to me, it's kind of quick and dirty. If uber-jar is not your taste or the distribution cannot fit inside a single JAR (external configuration, native dependencies, etc.) then you should go for the assembly plugin.</p>\n"},{"tags":[],"owner":{"account_id":5207197,"reputation":4387,"user_id":4164722,"accept_rate":0,"display_name":"secfree"},"down_vote_count":0,"up_vote_count":132,"is_accepted":false,"score":132,"last_activity_date":1547729008,"creation_date":1492392981,"answer_id":43444019,"question_id":38548271,"body_markdown":"1. `maven-jar-plugin`: This plugin provides the capability to build and sign JARs. But it just compiles the java files under `src/main/java` and `src/main/resources/`. It doesn&#39;t include the dependencies JAR files.\r\n1. `maven-assembly-plugin`: This plugin extracts all dependency JARs into raw classes and groups them together. It can also be used to build an executable JAR by specifying the main class. It works in project with less dependencies only; for large project with many dependencies, it will cause Java class names to conflict.\r\n1. `maven-shade-plugin`: It packages all dependencies into one uber-JAR. It can also be used to build an executable JAR by specifying the main class. This plugin is particularly useful as it merges content of specific files instead of overwriting them by [relocating classes](http://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html). This is needed when there are resource files that have the same name across the JARs and the plugin tries to package all the resource files together.\r\n\r\nRefer: [comparison:maven plugin jar,assembly,shade](https://gist.github.com/simonwoo/04b133cb0745e1a0f1d6)","title":"Difference between the maven-assembly-plugin, maven-jar-plugin and maven-shade-plugin?","body":"<ol>\n<li><code>maven-jar-plugin</code>: This plugin provides the capability to build and sign JARs. But it just compiles the java files under <code>src/main/java</code> and <code>src/main/resources/</code>. It doesn't include the dependencies JAR files.</li>\n<li><code>maven-assembly-plugin</code>: This plugin extracts all dependency JARs into raw classes and groups them together. It can also be used to build an executable JAR by specifying the main class. It works in project with less dependencies only; for large project with many dependencies, it will cause Java class names to conflict.</li>\n<li><code>maven-shade-plugin</code>: It packages all dependencies into one uber-JAR. It can also be used to build an executable JAR by specifying the main class. This plugin is particularly useful as it merges content of specific files instead of overwriting them by <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html\" rel=\"noreferrer\">relocating classes</a>. This is needed when there are resource files that have the same name across the JARs and the plugin tries to package all the resource files together.</li>\n</ol>\n\n<p>Refer: <a href=\"https://gist.github.com/simonwoo/04b133cb0745e1a0f1d6\" rel=\"noreferrer\">comparison:maven plugin jar,assembly,shade</a></p>\n"}],"owner":{"account_id":8664516,"reputation":1661,"user_id":6485606,"accept_rate":19,"display_name":"ilovejavaAJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30499,"favorite_count":0,"down_vote_count":3,"up_vote_count":109,"answer_count":2,"score":106,"last_activity_date":1680887627,"creation_date":1469328578,"question_id":38548271,"body_markdown":"I am a beginner in maven and now I&#39;m confused with the difference between the following 3 Maven plugins:\r\n\r\n- `maven-assembly-plugin`\r\n- `maven-jar-plugin`\r\n- `maven-shade-plugin`\r\n\r\nDo all of these create jar files? If so what is the difference between the Jar files they create? What is the purpose of each plugin and in what context should each be used?","title":"Difference between the maven-assembly-plugin, maven-jar-plugin and maven-shade-plugin?","body":"<p>I am a beginner in maven and now I'm confused with the difference between the following 3 Maven plugins:</p>\n<ul>\n<li><code>maven-assembly-plugin</code></li>\n<li><code>maven-jar-plugin</code></li>\n<li><code>maven-shade-plugin</code></li>\n</ul>\n<p>Do all of these create jar files? If so what is the difference between the Jar files they create? What is the purpose of each plugin and in what context should each be used?</p>\n"},{"tags":["java","spring-boot","file-upload","frontend","multipartfile"],"comments":[{"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"score":0,"creation_date":1680854491,"post_id":75954008,"comment_id":133970098,"body_markdown":"MockMultipartFile suggests you are getting this exception in the test. can you provide your test code?","body":"MockMultipartFile suggests you are getting this exception in the test. can you provide your test code?"},{"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"score":0,"creation_date":1680887152,"post_id":75954008,"comment_id":133976351,"body_markdown":"@Yury I&#39;m not using the MockMultipartFile in the tests. As u can see in the convert() method, I&#39;m using it to convert the File object I&#39;m providing to the saveFile() method to a MultipartFile that can be sent to the server. I couldn&#39;t figure out a better way to make the conversion.","body":"@Yury I&#39;m not using the MockMultipartFile in the tests. As u can see in the convert() method, I&#39;m using it to convert the File object I&#39;m providing to the saveFile() method to a MultipartFile that can be sent to the server. I couldn&#39;t figure out a better way to make the conversion."}],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680887477,"creation_date":1680817666,"question_id":75954008,"body_markdown":"My Springboot project that builds using gradle has an upload feature that lets the user choose a file from their PC and upload it the server for later use. The backend is fully functioning as I could test it with Postman, so the error must be generated somewhere in the frontend. I added the multipart dependencies in the build.gradle, but I&#39;m not sure what else to do.\r\n```\r\n\timplementation &#39;org.glassfish.jersey.media:jersey-media-multipart:2.34&#39;\r\n```\r\nThis is the error message: \r\n```\r\nCaused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:224)\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)\r\n\tat org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1116)\r\n\tat org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:461)\r\n\tat org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:443)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:369)\r\nCaused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\r\n\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267)\r\n\tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:205)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:686)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:461)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:357)\r\n\tat client.utils.ServerUtils.filePostRequest(ServerUtils.java:273)\r\n\tat client.utils.ServerUtils.saveFile(ServerUtils.java:278)\r\n\tat client.scenes.MediaPlayerCtrl.save(MediaPlayerCtrl.java:121)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 57 more\r\n```\r\nThis is the client part that&#39;s making the call to the server: \r\n```\r\npublic void saveFile(File file) throws IOException {\r\n        MultipartFile file1=convert(file);\r\n        filePostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\r\n                Entity.entity(file1, &quot;multipart/form-data&quot;), new GenericType&lt;&gt;(){});\r\n    }\r\npublic static MultipartFile convert(File file) throws IOException {\r\n        String filename = file.getName();\r\n        FileInputStream inputStream = new FileInputStream(file);\r\n        return new MockMultipartFile(filename, inputStream);\r\n    }\r\nprivate &lt;T&gt; void filePostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\r\n        ClientBuilder.newClient(new ClientConfig())\r\n                .target(getServer()).path(path)\r\n                .request(&quot;multipart/form-data&quot;)\r\n                .post(send, retType);\r\n    }\r\n```\r\nAnd this is the Controller on the server side: \r\n```\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\r\npublic class FileController {\r\n    @Autowired\r\n    private StorageService service;\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        String uploadFile = service.uploadFile(file);\r\n        return ResponseEntity.status(HttpStatus.OK)\r\n                .body(uploadFile);\r\n    }\r\n```\r\nEdit:\r\nI tried adding the following class to the tests as indicated in [this][1] thread, but I&#39;m encountering a &quot;Cannot access jakarta.ws.rs.core.Configurable&quot; in-IDE error (I mean it&#39;s underlined with red and it says this when hovered over) from the conf.register() method. \r\n```\r\npackage server.api;\r\nimport org.glassfish.jersey.client.ClientConfig;\r\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\r\nimport org.glassfish.jersey.test.JerseyTest;\r\n\r\npublic class FileControllerTest extends JerseyTest {\r\n    @Override\r\n    protected void configureClient(ClientConfig conf) {\r\n        conf.register(MultiPartFeature.class);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19668426/how-to-resolve-messagebodywriter-not-found-for-media-type-multipart-form-data-er","title":"Getting a MessageBodyProviderNotFoundException when uploading a MultipartFile to the server","body":"<p>My Springboot project that builds using gradle has an upload feature that lets the user choose a file from their PC and upload it the server for later use. The backend is fully functioning as I could test it with Postman, so the error must be generated somewhere in the frontend. I added the multipart dependencies in the build.gradle, but I'm not sure what else to do.</p>\n<pre><code>    implementation 'org.glassfish.jersey.media:jersey-media-multipart:2.34'\n</code></pre>\n<p>This is the error message:</p>\n<pre><code>Caused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:224)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1116)\n    at org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:461)\n    at org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:443)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:369)\nCaused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\n\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687)\n    at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\n    at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:686)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:461)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:357)\n    at client.utils.ServerUtils.filePostRequest(ServerUtils.java:273)\n    at client.utils.ServerUtils.saveFile(ServerUtils.java:278)\n    at client.scenes.MediaPlayerCtrl.save(MediaPlayerCtrl.java:121)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 57 more\n</code></pre>\n<p>This is the client part that's making the call to the server:</p>\n<pre><code>public void saveFile(File file) throws IOException {\n        MultipartFile file1=convert(file);\n        filePostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\n                Entity.entity(file1, &quot;multipart/form-data&quot;), new GenericType&lt;&gt;(){});\n    }\npublic static MultipartFile convert(File file) throws IOException {\n        String filename = file.getName();\n        FileInputStream inputStream = new FileInputStream(file);\n        return new MockMultipartFile(filename, inputStream);\n    }\nprivate &lt;T&gt; void filePostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\n        ClientBuilder.newClient(new ClientConfig())\n                .target(getServer()).path(path)\n                .request(&quot;multipart/form-data&quot;)\n                .post(send, retType);\n    }\n</code></pre>\n<p>And this is the Controller on the server side:</p>\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\npublic class FileController {\n    @Autowired\n    private StorageService service;\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n        String uploadFile = service.uploadFile(file);\n        return ResponseEntity.status(HttpStatus.OK)\n                .body(uploadFile);\n    }\n</code></pre>\n<p>Edit:\nI tried adding the following class to the tests as indicated in <a href=\"https://stackoverflow.com/questions/19668426/how-to-resolve-messagebodywriter-not-found-for-media-type-multipart-form-data-er\">this</a> thread, but I'm encountering a &quot;Cannot access jakarta.ws.rs.core.Configurable&quot; in-IDE error (I mean it's underlined with red and it says this when hovered over) from the conf.register() method.</p>\n<pre><code>package server.api;\nimport org.glassfish.jersey.client.ClientConfig;\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\nimport org.glassfish.jersey.test.JerseyTest;\n\npublic class FileControllerTest extends JerseyTest {\n    @Override\n    protected void configureClient(ClientConfig conf) {\n        conf.register(MultiPartFeature.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680887037,"post_id":75960535,"comment_id":133976318,"body_markdown":"[Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?](https://stackoverflow.com/q/2745265), note that `FooBarHandler extends MessageHandler&lt;FooBarMessageType&gt;` but `MessageHandler&lt;FooBarMessageType&gt;` is not subtype of `MessageHandler&lt;MessageType&gt;` as explained in linked question.","body":"<a href=\"https://stackoverflow.com/q/2745265\">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a>, note that <code>FooBarHandler extends MessageHandler&lt;FooBarMessageType&gt;</code> but <code>MessageHandler&lt;FooBarMessageType&gt;</code> is not subtype of <code>MessageHandler&lt;MessageType&gt;</code> as explained in linked question."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1680887199,"post_id":75960535,"comment_id":133976361,"body_markdown":"What is `StuffDoer`? Your abstract class or your concrete class? If it&#39;s your abstract class, then you&#39;re using a reference with the wrong generic type.","body":"What is <code>StuffDoer</code>? Your abstract class or your concrete class? If it&#39;s your abstract class, then you&#39;re using a reference with the wrong generic type."},{"owner":{"account_id":11280063,"reputation":23,"user_id":8272854,"display_name":"Kyle Dumouchelle"},"score":0,"creation_date":1680887640,"post_id":75960535,"comment_id":133976467,"body_markdown":"@Pshemo that question was entirely unhelpful. However, the issue was resolved by adding a type parameter to processMessage.\n\nprivate &lt;T extends MessageType&gt; void processMessage(T message, MessageHandler&lt;T&gt; handler)\n\nHowever you were hasty for flagging and didn&#39;t even let me submit a self answer.","body":"@Pshemo that question was entirely unhelpful. However, the issue was resolved by adding a type parameter to processMessage.  private &lt;T extends MessageType&gt; void processMessage(T message, MessageHandler&lt;T&gt; handler)  However you were hasty for flagging and didn&#39;t even let me submit a self answer."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680887926,"post_id":75960535,"comment_id":133976520,"body_markdown":"@KyleDumouchelle What makes you think I flag your question? Also how understanding cause of problem is &quot;entirely unhelpful&quot; in finding a way to solve it?","body":"@KyleDumouchelle What makes you think I flag your question? Also how understanding cause of problem is &quot;entirely unhelpful&quot; in finding a way to solve it?"}],"owner":{"account_id":11280063,"reputation":23,"user_id":8272854,"display_name":"Kyle Dumouchelle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680887447,"answer_count":0,"score":0,"last_activity_date":1680887166,"creation_date":1680886954,"question_id":75960535,"body_markdown":"I have some code like so:\r\n\r\n\r\n```\r\nprivate void processMessage(MessageType message, MessageHandler&lt;MessageType&gt; handler)\r\n{\r\n    handler.handleMessage(message);\r\n}\r\n```\r\nWith message handler being an abstract class.\r\n\r\n```\r\npublic abstract class MessageHandler &lt;T extends MessageType&gt;\r\n{\r\n    public abstract T handleMessage(T message);\r\n}\r\n```\r\n\r\nI have a child class:\r\n\r\n```\r\npublic class FooBarHandler extends MessageHandler&lt;FooBarMessageType&gt;\r\n{\r\n    public FooBarMessageType handleMessage(FooBarMessageType message)\r\n    {...}\r\n}\r\n```\r\nWhere FooBarMessageType is a subclass of MessageType.\r\n\r\nNow, when I call processMessage as such:\r\n-----------------\r\n`processMessage((FooBarMessageType)message, new FooBarHandler());`\r\n\r\nI get this error in eclipse:\r\n\r\n**The method processMessage(MessageType, MessageHandler&lt;MessageType&gt;) in the type StuffDoer is not applicable for the arguments (FooBarMessageType, FooBarHandler)**\r\n\r\nI noticed that when I made the second formal parameter for processMessage raw:\r\n\r\n`private void processMessage(MessageType message, MessageHandler handler)`\r\n\r\nIt *just* becomes a warning. However, the only solution eclipse gives to fix this warning generates the error again.","title":"Java Generics - Method not applicable for arguments using a child type","body":"<p>I have some code like so:</p>\n<pre><code>private void processMessage(MessageType message, MessageHandler&lt;MessageType&gt; handler)\n{\n    handler.handleMessage(message);\n}\n</code></pre>\n<p>With message handler being an abstract class.</p>\n<pre><code>public abstract class MessageHandler &lt;T extends MessageType&gt;\n{\n    public abstract T handleMessage(T message);\n}\n</code></pre>\n<p>I have a child class:</p>\n<pre><code>public class FooBarHandler extends MessageHandler&lt;FooBarMessageType&gt;\n{\n    public FooBarMessageType handleMessage(FooBarMessageType message)\n    {...}\n}\n</code></pre>\n<p>Where FooBarMessageType is a subclass of MessageType.</p>\n<h2>Now, when I call processMessage as such:</h2>\n<p><code>processMessage((FooBarMessageType)message, new FooBarHandler());</code></p>\n<p>I get this error in eclipse:</p>\n<p><strong>The method processMessage(MessageType, MessageHandler) in the type StuffDoer is not applicable for the arguments (FooBarMessageType, FooBarHandler)</strong></p>\n<p>I noticed that when I made the second formal parameter for processMessage raw:</p>\n<p><code>private void processMessage(MessageType message, MessageHandler handler)</code></p>\n<p>It <em>just</em> becomes a warning. However, the only solution eclipse gives to fix this warning generates the error again.</p>\n"},{"tags":["java","amazon-web-services","cypher","amazon-neptune","bolt"],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680886847,"creation_date":1680886847,"answer_id":75960517,"question_id":75957095,"body_markdown":"Currently the Amazon Neptune integration with the Java Bolt client does not support use of the Java `LocalDateTime` class. \r\n\r\nYou can however use the `datetime` function and add the date information to the query that way (as a string). For example:\r\n\r\n```\r\nMERGE (l:Location_J {locationId: $locationId}) \r\nMERGE (d:Device_J {deviceId: $deviceId}) \r\nMERGE (l)-[a:ACCESSES_J {loginAt: datetime(&#39;2023-04-07T16:44:19Z&#39;}]-&gt;(d)\r\n```\r\n\r\nor, using the parameterized form\r\n\r\n```\r\nMERGE (l:Location_J {locationId: $locationId}) \r\nMERGE (d:Device_J {deviceId: $deviceId}) \r\nMERGE (l)-[a:ACCESSES_J {loginAt: datetime($myDatetimeString)}]-&gt;(d)\r\n```\r\n\r\nThe key part being, that for right now, the date parameter needs to be provided as a string.","title":"Date specific queries to AWS neptune using java bolt driver","body":"<p>Currently the Amazon Neptune integration with the Java Bolt client does not support use of the Java <code>LocalDateTime</code> class.</p>\n<p>You can however use the <code>datetime</code> function and add the date information to the query that way (as a string). For example:</p>\n<pre><code>MERGE (l:Location_J {locationId: $locationId}) \nMERGE (d:Device_J {deviceId: $deviceId}) \nMERGE (l)-[a:ACCESSES_J {loginAt: datetime('2023-04-07T16:44:19Z'}]-&gt;(d)\n</code></pre>\n<p>or, using the parameterized form</p>\n<pre><code>MERGE (l:Location_J {locationId: $locationId}) \nMERGE (d:Device_J {deviceId: $deviceId}) \nMERGE (l)-[a:ACCESSES_J {loginAt: datetime($myDatetimeString)}]-&gt;(d)\n</code></pre>\n<p>The key part being, that for right now, the date parameter needs to be provided as a string.</p>\n"}],"owner":{"account_id":7599708,"reputation":182,"user_id":5764770,"display_name":"Vishal Jamdade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75960517,"answer_count":1,"score":1,"last_activity_date":1680886847,"creation_date":1680858940,"question_id":75957095,"body_markdown":"I want to add edges to AWS neptune Graph DB using bolt java driver. And one of the property of the edge contains date and time. But it seems that neptune supports java.util.Date Object but bolt driver doesn&#39;t supports java.util.Date Object and It supports java.time.LocalDateTime Object. Is there any way to solve this problem ? Adding some more details below which may help.\r\n\r\nBolt driver version: 4.3.3\r\n\r\nJava version: Java 11 (I am running the code from AWS Lambda which doesn&#39;t supports java later than java11)\r\n\r\n**My sample code is as below:**\r\n\r\nMaven Dependency: \r\n```\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\r\n          &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\r\n          &lt;version&gt;4.3.3&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n```\r\n\r\nJava Code to write the data to AWS Neptune Graph DB:\r\n```\r\nDriver boltDriver = GraphDatabase.driver(neptuneConnectionString,\r\n                    Config.builder().withConnectionTimeout(30, TimeUnit.SECONDS)\r\n                            .withEncryption()\r\n                            .withTrustStrategy(Config.TrustStrategy.trustSystemCertificates())\r\n                            .build());\r\n\r\nMap&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n        allParameters.put(&quot;locationId&quot;, &quot;dsfsdf3453&quot;);\r\n        allParameters.put(&quot;deviceId&quot;, &quot;fdfdf4534&quot;);\r\n        allParameters.put(&quot;edgeId&quot;, &quot;dfdf45345&quot;);\r\n        allParameters.put(&quot;loginAt&quot;, LocalDateTime.now());\r\n\r\nvar query = &quot;MERGE (l:Location_J {locationId: $locationId}) MERGE (d:Device_J {deviceId: $deviceId}) MERGE (l)-[a:ACCESSES_J {loginAt: $loginAt}]-&gt;(d)&quot;;\r\n\r\nboltDriver.session().run(query, parameters);\r\n```\r\n\r\nI am getting below exception:\r\n```\r\nWARNING: [0x06247997][uat-niyothon-neptune-2023.cluster-cfg5tfk5qker.ap-south-1.neptune.amazonaws.com:8182][021cdffffe623928-000035fc-0000b02d-f131b528da33cefe-05e79a93] Fatal error occurred in the pipeline\r\norg.neo4j.driver.exceptions.DatabaseException: &quot;Unexpected server exception &#39;Operation terminated (internal error)&#39;&quot;\r\nat org.neo4j.driver.internal.util.ErrorUtil.newNeo4jError(ErrorUtil.java:90)\r\nat org.neo4j.driver.internal.async.inbound.InboundMessageDispatcher.handleFailureMessage(InboundMessageDispatcher.java:108)\r\nat org.neo4j.driver.internal.messaging.common.CommonMessageReader.unpackFailureMessage(CommonMessageReader.java:83)\r\nat org.neo4j.driver.internal.messaging.common.CommonMessageReader.read(CommonMessageReader.java:59)\r\nat org.neo4j.driver.internal.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:83)\r\nat org.neo4j.driver.internal.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:35)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\r\nat org.neo4j.driver.internal.async.inbound.MessageDecoder.channelRead(MessageDecoder.java:47)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1368)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1234)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1280)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\nat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\nat org.neo4j.driver.internal.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\nat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nat java.base/java.lang.Thread.run(Unknown Source)```","title":"Date specific queries to AWS neptune using java bolt driver","body":"<p>I want to add edges to AWS neptune Graph DB using bolt java driver. And one of the property of the edge contains date and time. But it seems that neptune supports java.util.Date Object but bolt driver doesn't supports java.util.Date Object and It supports java.time.LocalDateTime Object. Is there any way to solve this problem ? Adding some more details below which may help.</p>\n<p>Bolt driver version: 4.3.3</p>\n<p>Java version: Java 11 (I am running the code from AWS Lambda which doesn't supports java later than java11)</p>\n<p><strong>My sample code is as below:</strong></p>\n<p>Maven Dependency:</p>\n<pre><code>      &lt;dependency&gt;\n          &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\n          &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\n          &lt;version&gt;4.3.3&lt;/version&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>Java Code to write the data to AWS Neptune Graph DB:</p>\n<pre><code>Driver boltDriver = GraphDatabase.driver(neptuneConnectionString,\n                    Config.builder().withConnectionTimeout(30, TimeUnit.SECONDS)\n                            .withEncryption()\n                            .withTrustStrategy(Config.TrustStrategy.trustSystemCertificates())\n                            .build());\n\nMap&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n        allParameters.put(&quot;locationId&quot;, &quot;dsfsdf3453&quot;);\n        allParameters.put(&quot;deviceId&quot;, &quot;fdfdf4534&quot;);\n        allParameters.put(&quot;edgeId&quot;, &quot;dfdf45345&quot;);\n        allParameters.put(&quot;loginAt&quot;, LocalDateTime.now());\n\nvar query = &quot;MERGE (l:Location_J {locationId: $locationId}) MERGE (d:Device_J {deviceId: $deviceId}) MERGE (l)-[a:ACCESSES_J {loginAt: $loginAt}]-&gt;(d)&quot;;\n\nboltDriver.session().run(query, parameters);\n</code></pre>\n<p>I am getting below exception:</p>\n<pre><code>WARNING: [0x06247997][uat-niyothon-neptune-2023.cluster-cfg5tfk5qker.ap-south-1.neptune.amazonaws.com:8182][021cdffffe623928-000035fc-0000b02d-f131b528da33cefe-05e79a93] Fatal error occurred in the pipeline\norg.neo4j.driver.exceptions.DatabaseException: &quot;Unexpected server exception 'Operation terminated (internal error)'&quot;\nat org.neo4j.driver.internal.util.ErrorUtil.newNeo4jError(ErrorUtil.java:90)\nat org.neo4j.driver.internal.async.inbound.InboundMessageDispatcher.handleFailureMessage(InboundMessageDispatcher.java:108)\nat org.neo4j.driver.internal.messaging.common.CommonMessageReader.unpackFailureMessage(CommonMessageReader.java:83)\nat org.neo4j.driver.internal.messaging.common.CommonMessageReader.read(CommonMessageReader.java:59)\nat org.neo4j.driver.internal.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:83)\nat org.neo4j.driver.internal.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:35)\nat org.neo4j.driver.internal.shaded.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\nat org.neo4j.driver.internal.async.inbound.MessageDecoder.channelRead(MessageDecoder.java:47)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1368)\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1234)\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1280)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\nat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\nat org.neo4j.driver.internal.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Unknown Source)```\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","nhibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":4791885,"reputation":1200,"user_id":3870855,"display_name":"heisbrandon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459197504,"creation_date":1459197504,"answer_id":36270761,"question_id":36258677,"body_markdown":"AuditReaderFactory only has two static methods. Can you autowire a SessionFactory object or your EntityMananger? Looks like either would give you what you want, which is access to an AuditReader.\r\n\r\n    AuditReaderFactory.get(sessionFactory.getCurrentSession())\r\n\r\n**EDIT** [this][1] post has some detail or wiring SessionFactory if needed\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25063995/spring-boot-handle-to-hibernate-sessionfactory","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>AuditReaderFactory only has two static methods. Can you autowire a SessionFactory object or your EntityMananger? Looks like either would give you what you want, which is access to an AuditReader.</p>\n\n<pre><code>AuditReaderFactory.get(sessionFactory.getCurrentSession())\n</code></pre>\n\n<p><strong>EDIT</strong> <a href=\"https://stackoverflow.com/questions/25063995/spring-boot-handle-to-hibernate-sessionfactory\">this</a> post has some detail or wiring SessionFactory if needed</p>\n"},{"tags":[],"owner":{"account_id":47708,"reputation":3213,"user_id":141437,"accept_rate":88,"display_name":"Jay"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1528274506,"creation_date":1528274506,"answer_id":50715904,"question_id":36258677,"body_markdown":"Following up on above answer, and linked question, I found this to work.  (Would be nice if this can be turned into an autowire of the reader directly somehow)\r\n\r\n    @Autowired\r\n    private EntityManagerFactory factory;\r\n\r\n    public void stuff() {\r\n        AuditReader audit = AuditReaderFactory.get(factory.createEntityManager());\r\n    }","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>Following up on above answer, and linked question, I found this to work.  (Would be nice if this can be turned into an autowire of the reader directly somehow)</p>\n\n<pre><code>@Autowired\nprivate EntityManagerFactory factory;\n\npublic void stuff() {\n    AuditReader audit = AuditReaderFactory.get(factory.createEntityManager());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3740802,"reputation":235,"user_id":3110626,"display_name":"deniss-s"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1643924677,"creation_date":1534335009,"answer_id":51858463,"question_id":36258677,"body_markdown":"Create configuration class such as AuditConfiguration.java:\r\n\r\n    import org.hibernate.envers.AuditReader;\r\n    import org.hibernate.envers.AuditReaderFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import javax.persistence.EntityManagerFactory;\r\n\r\n    @Configuration\r\n    public class AuditConfiguration {\r\n    \r\n        private final EntityManagerFactory entityManagerFactory;\r\n    \r\n        AuditConfiguration(EntityManagerFactory entityManagerFactory) {\r\n            this.entityManagerFactory = entityManagerFactory;\r\n        }\r\n\r\n        @Bean\r\n        AuditReader auditReader() {\r\n            return AuditReaderFactory.get(entityManagerFactory.createEntityManager());\r\n        }\r\n    }\r\n\r\nAfter that you can autowire `AuditReader` in your component classes.","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>Create configuration class such as AuditConfiguration.java:</p>\n<pre><code>import org.hibernate.envers.AuditReader;\nimport org.hibernate.envers.AuditReaderFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport javax.persistence.EntityManagerFactory;\n\n@Configuration\npublic class AuditConfiguration {\n\n    private final EntityManagerFactory entityManagerFactory;\n\n    AuditConfiguration(EntityManagerFactory entityManagerFactory) {\n        this.entityManagerFactory = entityManagerFactory;\n    }\n\n    @Bean\n    AuditReader auditReader() {\n        return AuditReaderFactory.get(entityManagerFactory.createEntityManager());\n    }\n}\n</code></pre>\n<p>After that you can autowire <code>AuditReader</code> in your component classes.</p>\n"},{"tags":[],"owner":{"account_id":266507,"reputation":344,"user_id":554117,"accept_rate":100,"display_name":"Giulio Pulina"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1680886769,"creation_date":1638318605,"answer_id":70177753,"question_id":36258677,"body_markdown":"In my opinion, @deniss-s answer (top-voted one) is not correct because EntityManager must not be reused outside of the context of a transaction (see https://stackoverflow.com/a/9375891/554117), while the solution makes use of it as a singleton.\r\n\r\nA correct retrieval of AuditReader looks like this:\r\n\r\n    public class AuditRepository {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        private AuditReader getAuditReader() {\r\n            return AuditReaderFactory.get(entityManager);\r\n        }\r\n     \r\n         public Optional&lt;T&gt; getRevision() {\r\n             final AuditReader auditReader = getAuditReader();\r\n             ...\r\n        }\r\n}\r\n\r\nEDIT: I just realized that @deniss-s updated his answer (likely after reading mine), but his answer is still incorrect: AuditReader is still created as a singleton, while a new instance must be created each time.\r\n\r\n","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>In my opinion, @deniss-s answer (top-voted one) is not correct because EntityManager must not be reused outside of the context of a transaction (see <a href=\"https://stackoverflow.com/a/9375891/554117\">https://stackoverflow.com/a/9375891/554117</a>), while the solution makes use of it as a singleton.</p>\n<p>A correct retrieval of AuditReader looks like this:</p>\n<pre><code>public class AuditRepository {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    private AuditReader getAuditReader() {\n        return AuditReaderFactory.get(entityManager);\n    }\n \n     public Optional&lt;T&gt; getRevision() {\n         final AuditReader auditReader = getAuditReader();\n         ...\n    }\n</code></pre>\n<p>}</p>\n<p>EDIT: I just realized that @deniss-s updated his answer (likely after reading mine), but his answer is still incorrect: AuditReader is still created as a singleton, while a new instance must be created each time.</p>\n"},{"tags":[],"owner":{"account_id":14818819,"reputation":33,"user_id":10701857,"display_name":"Dmitrii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680782228,"creation_date":1680782228,"answer_id":75949253,"question_id":36258677,"body_markdown":"I can&#39;t create a comment, so I&#39;ll duplicate Giulio Pulina&#39;s answer. His answer is indeed more correct than those with more upvotes. Other answers are also working, but only as long as there is a connection to the database. In case of loss of connection with the database (restart of the container with the database), AuditReader becomes inoperable. Therefore, the current response, when the AuditReader is created before each request, is most preferable.\r\n\r\nA correct retrieval of AuditReader looks like this:\r\n```\r\npublic class AuditRepository {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    private AuditReader getAuditReader() {\r\n        return AuditReaderFactory.get(entityManager);\r\n    }\r\n \r\n     public Optional&lt;T&gt; getRevision() {\r\n         final AuditReader auditReader = getAuditReader();\r\n         ...\r\n    }\r\n}\r\n```\r\n","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>I can't create a comment, so I'll duplicate Giulio Pulina's answer. His answer is indeed more correct than those with more upvotes. Other answers are also working, but only as long as there is a connection to the database. In case of loss of connection with the database (restart of the container with the database), AuditReader becomes inoperable. Therefore, the current response, when the AuditReader is created before each request, is most preferable.</p>\n<p>A correct retrieval of AuditReader looks like this:</p>\n<pre><code>public class AuditRepository {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    private AuditReader getAuditReader() {\n        return AuditReaderFactory.get(entityManager);\n    }\n \n     public Optional&lt;T&gt; getRevision() {\n         final AuditReader auditReader = getAuditReader();\n         ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7965,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1680886769,"creation_date":1459153764,"question_id":36258677,"body_markdown":"I am using spring boot and spring data jpa. I am also using hibernate envers and I need access to AuditReaderFactory so that I can write Audit Queries. \r\n\r\nSince, its a spring boot and spring data jpa, everything is auto configured. So when I do this, \r\n\r\n    @Autowired\r\n    AuditReaderFactory auditReaderFactory;\r\n\r\nIt doesn&#39;t work. I get the following error.\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.hibernate.envers.AuditReaderFactory] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency\r\n\r\nHow do I get a proper reference to AuditReaderFactory in my repository classes?\r\n","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>I am using spring boot and spring data jpa. I am also using hibernate envers and I need access to AuditReaderFactory so that I can write Audit Queries. </p>\n\n<p>Since, its a spring boot and spring data jpa, everything is auto configured. So when I do this, </p>\n\n<pre><code>@Autowired\nAuditReaderFactory auditReaderFactory;\n</code></pre>\n\n<p>It doesn't work. I get the following error.</p>\n\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.hibernate.envers.AuditReaderFactory] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency\n</code></pre>\n\n<p>How do I get a proper reference to AuditReaderFactory in my repository classes?</p>\n"},{"tags":["java","constants"],"answers":[{"tags":[],"owner":{"account_id":90696,"reputation":33605,"user_id":249543,"accept_rate":98,"display_name":"jefflunt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1318717856,"creation_date":1318717555,"answer_id":7781067,"question_id":7781037,"body_markdown":"As with many things, there are many ways to do it. One thing you should *not* do is declare them multiple times - that&#39;s just plain silly. :P\r\n\r\nEverything has to be in a class in Java, so either:\r\n\r\n 1. Pick a &quot;main&quot; class (say I have a project called &quot;FTPServerApp&quot; - I could put them there)\r\n 2. Create a &quot;Util&quot; class that contains all of them\r\n\r\nWhen you figure out where to put them, declare them all this way:\r\n\r\n    public static final [type] [NAME_IN_ALL_CAPS] = [value];\r\n\r\nThis will\r\n\r\n - make them available to all your project code, anywhere (`public`)\r\n - only one copy of the value exists across all instances of the class (`static`)\r\n - they cannot be changed (`final`).\r\n\r\nThe `ALL_CAPS_FOR_CONSTANT_NAMES`, separated by underscores, is the convention in Java.\r\n\r\nSo, if this was declared in a class called `FTPServerAPP`, and you had a constant called `SERVICE_PORT` it might be:\r\n\r\n    public class FTPServerApp {\r\n      public static final int SERVICE_PORT = 21;\r\n      \r\n      ...\r\n    }\r\n\r\n...and you would access it, from any class, like this...\r\n\r\n    \r\n      FTPServerApp.SERVICE_PORT","title":"What&#39;s the proper way of declaring project constants in Java?","body":"<p>As with many things, there are many ways to do it. One thing you should <em>not</em> do is declare them multiple times - that's just plain silly. :P</p>\n\n<p>Everything has to be in a class in Java, so either:</p>\n\n<ol>\n<li>Pick a \"main\" class (say I have a project called \"FTPServerApp\" - I could put them there)</li>\n<li>Create a \"Util\" class that contains all of them</li>\n</ol>\n\n<p>When you figure out where to put them, declare them all this way:</p>\n\n<pre><code>public static final [type] [NAME_IN_ALL_CAPS] = [value];\n</code></pre>\n\n<p>This will</p>\n\n<ul>\n<li>make them available to all your project code, anywhere (<code>public</code>)</li>\n<li>only one copy of the value exists across all instances of the class (<code>static</code>)</li>\n<li>they cannot be changed (<code>final</code>).</li>\n</ul>\n\n<p>The <code>ALL_CAPS_FOR_CONSTANT_NAMES</code>, separated by underscores, is the convention in Java.</p>\n\n<p>So, if this was declared in a class called <code>FTPServerAPP</code>, and you had a constant called <code>SERVICE_PORT</code> it might be:</p>\n\n<pre><code>public class FTPServerApp {\n  public static final int SERVICE_PORT = 21;\n\n  ...\n}\n</code></pre>\n\n<p>...and you would access it, from any class, like this...</p>\n\n<pre><code>  FTPServerApp.SERVICE_PORT\n</code></pre>\n"},{"tags":[],"owner":{"account_id":948893,"reputation":694,"user_id":975497,"accept_rate":80,"display_name":"chooks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318733394,"creation_date":1318733394,"answer_id":7782047,"question_id":7781037,"body_markdown":"Take a look at enumeration types (&lt;http://download.oracle.com/javase/tutorial/java/javaOO/enum.html&gt;) They are supposed to provide a mechanism to supply constants without defining a concrete class (or an Interface with the desired constants, as is another option that people use). \r\n\r\nOne other technique I find helpful (similar to the FTPServerApp example given above) is to define a Context for whatever subsystem/component/etc... that holds not only the constants needed by components in that system, but can hold any state that you want to make more visible or don&#39;t want individual components to hold.  I believe this is along the lines of one of the GoF patterns, but it has been so long since I have looked at that book that I can&#39;t be certain (and I am too lazy to look it up right now!)","title":"What&#39;s the proper way of declaring project constants in Java?","body":"<p>Take a look at enumeration types (<a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/java/javaOO/enum.html</a>) They are supposed to provide a mechanism to supply constants without defining a concrete class (or an Interface with the desired constants, as is another option that people use). </p>\n\n<p>One other technique I find helpful (similar to the FTPServerApp example given above) is to define a Context for whatever subsystem/component/etc... that holds not only the constants needed by components in that system, but can hold any state that you want to make more visible or don't want individual components to hold.  I believe this is along the lines of one of the GoF patterns, but it has been so long since I have looked at that book that I can't be certain (and I am too lazy to look it up right now!)</p>\n"},{"tags":[],"owner":{"account_id":16415077,"reputation":63,"user_id":11857423,"display_name":"Arunabha Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680886639,"creation_date":1680886639,"answer_id":75960478,"question_id":7781037,"body_markdown":"Very old question. but here&#39;s my Ans adding few point on top of jefflunt&#39;s ans.\r\nLets consider you want a `MyConstant` class\r\n 1. Make the class `final` (if you want it to be extended, ignore)\r\n 2. Make member variables `final static` \r\n     - if you want these as a global constants mark them as `public`\r\n     - if only at package you can mark them as `protected`\r\n 3. Make constructor as `private`. Ideally you&#39;d not want to create multiple instances of this Constant class\r\n 4. Write a `static` `initialize()` method that you&#39;d call from your main class. This is for the initialization of all object member variables\r\n```\r\npublic final class MyConstants {\r\n\t\r\n\tpublic static final int CONSTANT_ONE = 10;\r\n\tprivate static final Map&lt;String, String&gt; DATA = new HashMap&lt;&gt;();\r\n\r\n\tpublic static void initialize() {\r\n\t\tDATA.put(&quot;RANDOM&quot;, &quot;VALUE&quot;);\r\n\t}\r\n\tpublic enum color {\r\n\t\tred, blue;\r\n\t};\r\n\r\n\tprivate MyConstants() {\r\n\t}\r\n\r\n\tpublic static Map&lt;String, String&gt; getData() {\r\n\t\treturn DATA;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class SomeOtherClass {\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tMyConstants.initialize();\r\n\t\tSystem.out.println(MyConstants.getData());\r\n\t\tSystem.out.println(MyConstants.CONSTANT_ONE);\r\n\t}\r\n}\r\n```","title":"What&#39;s the proper way of declaring project constants in Java?","body":"<p>Very old question. but here's my Ans adding few point on top of jefflunt's ans.\nLets consider you want a <code>MyConstant</code> class</p>\n<ol>\n<li>Make the class <code>final</code> (if you want it to be extended, ignore)</li>\n<li>Make member variables <code>final static</code>\n<ul>\n<li>if you want these as a global constants mark them as <code>public</code></li>\n<li>if only at package you can mark them as <code>protected</code></li>\n</ul>\n</li>\n<li>Make constructor as <code>private</code>. Ideally you'd not want to create multiple instances of this Constant class</li>\n<li>Write a <code>static</code> <code>initialize()</code> method that you'd call from your main class. This is for the initialization of all object member variables</li>\n</ol>\n<pre><code>public final class MyConstants {\n    \n    public static final int CONSTANT_ONE = 10;\n    private static final Map&lt;String, String&gt; DATA = new HashMap&lt;&gt;();\n\n    public static void initialize() {\n        DATA.put(&quot;RANDOM&quot;, &quot;VALUE&quot;);\n    }\n    public enum color {\n        red, blue;\n    };\n\n    private MyConstants() {\n    }\n\n    public static Map&lt;String, String&gt; getData() {\n        return DATA;\n    }\n}\n</code></pre>\n<pre><code>public class SomeOtherClass {\n\n    public static void main(String args[]) {\n        MyConstants.initialize();\n        System.out.println(MyConstants.getData());\n        System.out.println(MyConstants.CONSTANT_ONE);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":470184,"reputation":27911,"user_id":877235,"accept_rate":79,"display_name":"stdcall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6915,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7781067,"answer_count":3,"score":7,"last_activity_date":1680886639,"creation_date":1318717275,"question_id":7781037,"body_markdown":"This may seems a silly question for Java developers, however, I&#39;m new to Java, and my background is from low level c.\r\nI used to include an header file with all the constants that were relevant for my projects. (usually #define&#39;s).\r\nI&#39;m working on a big Java project now, and there a few constants I need to make global (they fit in more than one class, and used in various parts of the project )\r\n\r\nIt makes it hard for me to decide where to put it, should I declare the same constant few times, one in each class ?\r\n\r\nA lot of framework, uses XML files to declare constants &amp; definitions for the framework (Hibernate, Log4J, etc.) Is it wise to use this kind of technique in my project ? if so, how can it be done easily ?  ","title":"What&#39;s the proper way of declaring project constants in Java?","body":"<p>This may seems a silly question for Java developers, however, I'm new to Java, and my background is from low level c.\nI used to include an header file with all the constants that were relevant for my projects. (usually #define's).\nI'm working on a big Java project now, and there a few constants I need to make global (they fit in more than one class, and used in various parts of the project )</p>\n\n<p>It makes it hard for me to decide where to put it, should I declare the same constant few times, one in each class ?</p>\n\n<p>A lot of framework, uses XML files to declare constants &amp; definitions for the framework (Hibernate, Log4J, etc.) Is it wise to use this kind of technique in my project ? if so, how can it be done easily ?  </p>\n"},{"tags":["java","android","gradle","import","module"],"owner":{"account_id":22666965,"reputation":33,"user_id":16839187,"display_name":"Shogery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680886571,"creation_date":1680886571,"question_id":75960466,"body_markdown":"I can&#39;t seem to import a gradle project into my android studio project. Other solutions from similar questions have been unsuccessful.\r\n\r\nMost applicable question I attempted to follow\\\r\n&lt;https://stackoverflow.com/questions/41764338/importing-module-in-android-studio&gt;\r\n\r\nSteps Taken: \\\r\nFile -&gt; New -&gt; Import Module\\\r\nNavigate to Project Structure -&gt; Dependencies -&gt; app -&gt; Declared Dependencies\r\n\r\nI have two opens in the Dependencies list:\r\n&gt; All Modules\r\n\r\n&gt; app\r\n\r\nIssue:\r\nThere are only two options to adding Declared Dependencies instead of Module Dependency:\r\n&gt; Library Dependency\r\n\r\n&gt; JAR/AAR Dependency\r\n\r\nI attempted to add as a library dependency but the search yields nothing.\r\n\r\n\r\nAttempting to use the import was unsuccessful.\r\nCalling classes and functions directly and import all returned errors\r\n\r\nWhat am I missing?\r\n","title":"Importing module in Android Electric Eel","body":"<p>I can't seem to import a gradle project into my android studio project. Other solutions from similar questions have been unsuccessful.</p>\n<p>Most applicable question I attempted to follow<br />\n<a href=\"https://stackoverflow.com/questions/41764338/importing-module-in-android-studio\">Importing Module in Android Studio</a></p>\n<p>Steps Taken: <br />\nFile -&gt; New -&gt; Import Module<br />\nNavigate to Project Structure -&gt; Dependencies -&gt; app -&gt; Declared Dependencies</p>\n<p>I have two opens in the Dependencies list:</p>\n<blockquote>\n<p>All Modules</p>\n</blockquote>\n<blockquote>\n<p>app</p>\n</blockquote>\n<p>Issue:\nThere are only two options to adding Declared Dependencies instead of Module Dependency:</p>\n<blockquote>\n<p>Library Dependency</p>\n</blockquote>\n<blockquote>\n<p>JAR/AAR Dependency</p>\n</blockquote>\n<p>I attempted to add as a library dependency but the search yields nothing.</p>\n<p>Attempting to use the import was unsuccessful.\nCalling classes and functions directly and import all returned errors</p>\n<p>What am I missing?</p>\n"},{"tags":["java","spring","hibernate","jackson"],"answers":[{"tags":[],"owner":{"account_id":21465978,"reputation":36,"user_id":21570258,"display_name":"PraveenJubburu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680885290,"creation_date":1680885290,"answer_id":75960317,"question_id":75959650,"body_markdown":"you can use the @JsonIgnoreProperties annotation on the goods field of the Manufacturer entity to ignore the Good entity during serialization and deserialization. You can also remove the @JsonManagedReference and @JsonBackReference annotations as they are not necessary with the @JsonIgnoreProperties annotation.\r\n\r\n","title":"Jackson Cannot handle managed/back reference error with @ManyToOne hibernate relation","body":"<p>you can use the @JsonIgnoreProperties annotation on the goods field of the Manufacturer entity to ignore the Good entity during serialization and deserialization. You can also remove the @JsonManagedReference and @JsonBackReference annotations as they are not necessary with the @JsonIgnoreProperties annotation.</p>\n"}],"owner":{"account_id":26929571,"reputation":25,"user_id":20502277,"display_name":"velovatik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680885290,"creation_date":1680880100,"question_id":75959650,"body_markdown":"I make shoe shop application with Spring Boot + Hibernate + PostgreSQL and I have table with Goods and Manufacturers. One manufacturer can have many goods\r\n\r\nI have made all relations with entities in my project, and faced with some problems while testing my Controller. I need to send post request body via Postman\r\n\r\n[![enter image description here][1]][1]\r\nAnd get 415 error. \r\n`Failed to evaluate Jackson deserialization for type [[simple type, class com.velov.shoeshop.entities.Good]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference &#39;defaultReference&#39;: back reference type (`java.util.List&lt;com.velov.shoeshop.entities.Good&gt;`) not compatible with managed type (com.velov.shoeshop.entities.Good)`\r\n\r\nI get errors with POST and PUT methods\r\n\r\nAnd there is my code:\r\n\r\nclass for Good:\r\n```\r\n@Entity\r\n@Table(name = &quot;goods&quot;)\r\npublic class Good {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int Id;\r\n\r\n    @Column(name = &quot;Title&quot;)\r\n    private String title;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;sex&quot;)\r\n    private sexType sexType;\r\n\r\n    /**\r\n     * proved and it actually works!\r\n     */\r\n    @JsonManagedReference\r\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\r\n    CascadeType.REFRESH, CascadeType.MERGE})\r\n    @JoinColumn(name = &quot;ManufacturerId&quot;)\r\n    Manufacturer manufacturer; //Many goods can refer to one manufacturer\r\n\r\n\r\n    @JsonManagedReference\r\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\r\n            CascadeType.REFRESH, CascadeType.MERGE}, mappedBy = &quot;good&quot;)//Uni-directional reference to size array\r\n    List&lt;Size&gt; sizes;\r\n```\r\n\r\nClass for Manufacturer:\r\n```\r\n@Entity\r\n@Table(name = &quot;manufacturers&quot;)\r\npublic class Manufacturer {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int Id;\r\n\r\n    @Column(name = &quot;ManufacturerName&quot;)\r\n    private String manufacturerName;\r\n\r\n    @Column(name = &quot;Address&quot;)\r\n    private String address;\r\n\r\n    @Column(name = &quot;Telephone&quot;)\r\n    private String telephone;\r\n\r\n    @JsonBackReference\r\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\r\n            CascadeType.REFRESH, CascadeType.MERGE},\r\n            mappedBy = &quot;manufacturer&quot;)\r\n    private List&lt;Good&gt; goods;\r\n```\r\nMy REST controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class MyRESTController {\r\n\r\n    @Autowired\r\n    private GoodService goodService;\r\n\r\n    @GetMapping(&quot;/goods&quot;)\r\n    public List&lt;Good&gt; showAllGoods() {\r\n        List&lt;Good&gt; allGoods = goodService.getAllGoods();\r\n        return allGoods;\r\n    }\r\n\r\n    @PostMapping(&quot;/goods&quot;)\r\n    public Good addNewGood(@RequestBody Good good) {\r\n        goodService.saveGood(good);\r\n        return good;\r\n    }\r\n\r\n    @PutMapping(&quot;/goods&quot;)\r\n    public Good updateGood(@RequestBody Good good) {\r\n        goodService.saveGood(good);\r\n        return good;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/goods/{id}&quot;)\r\n    public String deleteGood(@PathVariable int id) {\r\n        goodService.deleteGood(id);\r\n        return &quot;Good with id = &quot; + id + &quot;deleted&quot;;\r\n    }\r\n}\r\n```\r\nJSON Examle I need to send as body:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;title&quot;: &quot;Dean&quot;,\r\n    &quot;sexType&quot;: &quot;MAN&quot;,\r\n    &quot;manufacturer&quot;: {\r\n      &quot;id&quot;: 1,\r\n      &quot;manufacturerName&quot;: &quot;Ralf&quot;,\r\n      &quot;address&quot;: &quot;Moscow&quot;,\r\n      &quot;telephone&quot;: &quot;9-999-999-99-99&quot;\r\n    },\r\n    &quot;sizes&quot;: [\r\n      {\r\n        &quot;id&quot;: 3,\r\n        &quot;size&quot;: 42,\r\n        &quot;quantity&quot;: 6\r\n      },\r\n      {\r\n        &quot;id&quot;: 4,\r\n        &quot;size&quot;: 45,\r\n        &quot;quantity&quot;: 2\r\n      }\r\n    ],\r\n    &quot;id&quot;: 5\r\n  }\r\n]\r\n```\r\nPostman error:\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-04-07T15:02:08.771+00:00&quot;,\r\n    &quot;status&quot;: 415,\r\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n    &quot;path&quot;: &quot;/api/goods&quot;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried to write @JsonIdentityInfo and change JSON body\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FdRbB.png","title":"Jackson Cannot handle managed/back reference error with @ManyToOne hibernate relation","body":"<p>I make shoe shop application with Spring Boot + Hibernate + PostgreSQL and I have table with Goods and Manufacturers. One manufacturer can have many goods</p>\n<p>I have made all relations with entities in my project, and faced with some problems while testing my Controller. I need to send post request body via Postman</p>\n<p><a href=\"https://i.stack.imgur.com/FdRbB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FdRbB.png\" alt=\"enter image description here\" /></a>\nAnd get 415 error.\n<code>Failed to evaluate Jackson deserialization for type [[simple type, class com.velov.shoeshop.entities.Good]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (</code>java.util.List&lt;com.velov.shoeshop.entities.Good&gt;<code>) not compatible with managed type (com.velov.shoeshop.entities.Good)</code></p>\n<p>I get errors with POST and PUT methods</p>\n<p>And there is my code:</p>\n<p>class for Good:</p>\n<pre><code>@Entity\n@Table(name = &quot;goods&quot;)\npublic class Good {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int Id;\n\n    @Column(name = &quot;Title&quot;)\n    private String title;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;sex&quot;)\n    private sexType sexType;\n\n    /**\n     * proved and it actually works!\n     */\n    @JsonManagedReference\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\n    CascadeType.REFRESH, CascadeType.MERGE})\n    @JoinColumn(name = &quot;ManufacturerId&quot;)\n    Manufacturer manufacturer; //Many goods can refer to one manufacturer\n\n\n    @JsonManagedReference\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\n            CascadeType.REFRESH, CascadeType.MERGE}, mappedBy = &quot;good&quot;)//Uni-directional reference to size array\n    List&lt;Size&gt; sizes;\n</code></pre>\n<p>Class for Manufacturer:</p>\n<pre><code>@Entity\n@Table(name = &quot;manufacturers&quot;)\npublic class Manufacturer {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int Id;\n\n    @Column(name = &quot;ManufacturerName&quot;)\n    private String manufacturerName;\n\n    @Column(name = &quot;Address&quot;)\n    private String address;\n\n    @Column(name = &quot;Telephone&quot;)\n    private String telephone;\n\n    @JsonBackReference\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\n            CascadeType.REFRESH, CascadeType.MERGE},\n            mappedBy = &quot;manufacturer&quot;)\n    private List&lt;Good&gt; goods;\n</code></pre>\n<p>My REST controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyRESTController {\n\n    @Autowired\n    private GoodService goodService;\n\n    @GetMapping(&quot;/goods&quot;)\n    public List&lt;Good&gt; showAllGoods() {\n        List&lt;Good&gt; allGoods = goodService.getAllGoods();\n        return allGoods;\n    }\n\n    @PostMapping(&quot;/goods&quot;)\n    public Good addNewGood(@RequestBody Good good) {\n        goodService.saveGood(good);\n        return good;\n    }\n\n    @PutMapping(&quot;/goods&quot;)\n    public Good updateGood(@RequestBody Good good) {\n        goodService.saveGood(good);\n        return good;\n    }\n\n    @DeleteMapping(&quot;/goods/{id}&quot;)\n    public String deleteGood(@PathVariable int id) {\n        goodService.deleteGood(id);\n        return &quot;Good with id = &quot; + id + &quot;deleted&quot;;\n    }\n}\n</code></pre>\n<p>JSON Examle I need to send as body:</p>\n<pre><code>[\n  {\n    &quot;title&quot;: &quot;Dean&quot;,\n    &quot;sexType&quot;: &quot;MAN&quot;,\n    &quot;manufacturer&quot;: {\n      &quot;id&quot;: 1,\n      &quot;manufacturerName&quot;: &quot;Ralf&quot;,\n      &quot;address&quot;: &quot;Moscow&quot;,\n      &quot;telephone&quot;: &quot;9-999-999-99-99&quot;\n    },\n    &quot;sizes&quot;: [\n      {\n        &quot;id&quot;: 3,\n        &quot;size&quot;: 42,\n        &quot;quantity&quot;: 6\n      },\n      {\n        &quot;id&quot;: 4,\n        &quot;size&quot;: 45,\n        &quot;quantity&quot;: 2\n      }\n    ],\n    &quot;id&quot;: 5\n  }\n]\n</code></pre>\n<p>Postman error:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-07T15:02:08.771+00:00&quot;,\n    &quot;status&quot;: 415,\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;path&quot;: &quot;/api/goods&quot;\n}\n</code></pre>\n<p>I tried to write @JsonIdentityInfo and change JSON body</p>\n"},{"tags":["java","reactjs","spring-boot","cors"],"comments":[{"owner":{"account_id":906446,"reputation":47553,"user_id":941240,"display_name":"Wiktor Zychla"},"score":1,"creation_date":1680695952,"post_id":75939151,"comment_id":133940930,"body_markdown":"*The Cors have been configured in the backend globally and it works* apparently it doesn&#39;t","body":"<i>The Cors have been configured in the backend globally and it works</i> apparently it doesn&#39;t"},{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":0,"creation_date":1680696027,"post_id":75939151,"comment_id":133940955,"body_markdown":"What `CORS` related configuration has been done on the backend? Can you please post some details about it as well ?","body":"What <code>CORS</code> related configuration has been done on the backend? Can you please post some details about it as well ?"},{"owner":{"account_id":17559007,"reputation":871,"user_id":12737879,"display_name":"Aleksandar"},"score":0,"creation_date":1680696920,"post_id":75939151,"comment_id":133941222,"body_markdown":"`reactjs` tags, where is the React code?","body":"<code>reactjs</code> tags, where is the React code?"},{"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"score":0,"creation_date":1680726063,"post_id":75939151,"comment_id":133949108,"body_markdown":"I think the cors works as the gets work fine. Here it is:","body":"I think the cors works as the gets work fine. Here it is:"},{"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"score":0,"creation_date":1680726301,"post_id":75939151,"comment_id":133949158,"body_markdown":"@inkredusk:  \n            public void addCorsMappings(CorsRegistry registry) {\n                registry\n                        .addMapping(&quot;/**&quot;)\n                        .allowedMethods(CorsConfiguration.ALL)\n                        .allowedHeaders(CorsConfiguration.ALL)\n                        .allowedOriginPatterns(CorsConfiguration.ALL);\n            }\n        };\n    }","body":"@inkredusk:               public void addCorsMappings(CorsRegistry registry) {                 registry                         .addMapping(&quot;/**&quot;)                         .allowedMethods(CorsConfiguration.ALL)                         .allowedHeaders(CorsConfiguration.ALL)                         .allowedOriginPatterns(CorsConfiguration.ALL);             }         };     }"},{"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"score":0,"creation_date":1680726369,"post_id":75939151,"comment_id":133949170,"body_markdown":"has the right annotations over the class and WebMvcConfigurer implemented in the class","body":"has the right annotations over the class and WebMvcConfigurer implemented in the class"},{"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"score":0,"creation_date":1680726429,"post_id":75939151,"comment_id":133949180,"body_markdown":"@Aleksandar    async function handleSubmit(event) {\n        event.preventDefault(); //provides this event\n        await axios.post(COURSE_API_URL, userData, axiosConfig).then(res =&gt; {\n            setUserData({\n                email: &#39;&#39;,\n                pass: &#39;&#39;,\n                firstName: &#39;&#39;,\n                lastName: &#39;&#39;,\n                employeeAddress: &#39;&#39;,\n                employeePhoneNumber: &#39;56678&#39;,\n                salaryPA: &#39;5600&#39;,\n                b2b: &#39;No&#39;,\n                team: &#39;HR&#39;,\n                departmentId: 102\n            })\n        }).catch(","body":"@Aleksandar    async function handleSubmit(event) {         event.preventDefault(); //provides this event         await axios.post(COURSE_API_URL, userData, axiosConfig).then(res =&gt; {             setUserData({                 email: &#39;&#39;,                 pass: &#39;&#39;,                 firstName: &#39;&#39;,                 lastName: &#39;&#39;,                 employeeAddress: &#39;&#39;,                 employeePhoneNumber: &#39;56678&#39;,                 salaryPA: &#39;5600&#39;,                 b2b: &#39;No&#39;,                 team: &#39;HR&#39;,                 departmentId: 102             })         }).catch("},{"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"score":0,"creation_date":1680726492,"post_id":75939151,"comment_id":133949196,"body_markdown":"I believe the react is fine as I can see the payload is full of the input and it is merely the error above that I get","body":"I believe the react is fine as I can see the payload is full of the input and it is merely the error above that I get"},{"owner":{"account_id":10238255,"reputation":5074,"user_id":7556457,"display_name":"kca"},"score":0,"creation_date":1680810674,"post_id":75939151,"comment_id":133964871,"body_markdown":"_&quot;GET works, POST doesn&#39;t&quot;_ makes me think it might be related to [simple requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#simple_requests) vs [Preflighted requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests)","body":"<i>&quot;GET works, POST doesn&#39;t&quot;</i> makes me think it might be related to <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#simple_requests\" rel=\"nofollow noreferrer\">simple requests</a> vs <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests\" rel=\"nofollow noreferrer\">Preflighted requests</a>"}],"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680884779,"creation_date":1680695844,"question_id":75939151,"body_markdown":"the console error\r\n\r\n    Access to XMLHttpRequest at &#39;http://localhost:9191/api/v1/employee&#39; from origin     &#39;http://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nThe Cors have been configured in the backend globally and it works.\r\n\r\nHere are 2 endpoints, very standard, except the Post does&#39;t work and the Get does:\r\n\r\n    @PostMapping(value = &quot;/employee&quot;)\r\n    @ResponseBody\r\n    public EmployeeDTO createEmployee(EmployeeDTO employee){\r\n        return employeeService.createEmployee(employee);\r\n    }\r\n\r\n    @GetMapping(&quot;/employee&quot;)\r\n    public List&lt;EmployeeDTO&gt; getEmployees(){\r\n        return employeeService.getAllEmployees();\r\n    }\r\n\r\n\r\n\r\n","title":"CORS is blocking Post, Put and Delete but Get all and Get by Id work fine. React to Springboot","body":"<p>the console error</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:9191/api/v1/employee' from origin     'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>The Cors have been configured in the backend globally and it works.</p>\n<p>Here are 2 endpoints, very standard, except the Post does't work and the Get does:</p>\n<pre><code>@PostMapping(value = &quot;/employee&quot;)\n@ResponseBody\npublic EmployeeDTO createEmployee(EmployeeDTO employee){\n    return employeeService.createEmployee(employee);\n}\n\n@GetMapping(&quot;/employee&quot;)\npublic List&lt;EmployeeDTO&gt; getEmployees(){\n    return employeeService.getAllEmployees();\n}\n</code></pre>\n"},{"tags":["java","user-interface","intellij-idea","javafx-2"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1408042257,"creation_date":1399010335,"answer_id":23421720,"question_id":23421325,"body_markdown":"There is nothing to convert.\r\n\r\nI don&#39;t believe there is any difference in Idea between a &quot;normal&quot; Java project and a JavaFX project.\r\n\r\nSure, in Idea 12.x+ there is a wizard you can use to create a new JavaFX project.  But I think that all it does is create a sample hello world application - after initial creation, the way the project works is not any different than any other Java project.  \r\n\r\nAnd this is how it should be, JavaFX is just Java.  Oracle doesn&#39;t differentiate between JavaFX and Java in their distribution, and neither should IDEs in their project types.\r\n\r\nI believe, in this case, even if I&#39;m wrong, that I am right enough that it doesn&#39;t really matter if I&#39;m wrong.\r\n\r\n**Update**\r\n\r\nSo I was wrong enough that it matters :-)\r\n\r\nUsing Idea 13.1.4, if I create a new project using `File | New Project | Java`, there are the following resource settings (`File | Settings | Compiler`):\r\n\r\n    ?*.properties;?*.xml;?*.gif;?*.png;?*.jpeg;?*.jpg;?*.html;?*.dtd;?*.tld;?*.ftl\r\n\r\nThat is, the resources for the project are just set to copy only specific file types.  So you could modify it to get the additional file types required in some JavaFX projects by adding resource copying support for fxml and css; i.e, appending `;?*.fxml;?*.css`.\r\n\r\nThe interesting part is that if you create a new project using `File | New Project | JavaFX`, there are the following resource settings:\r\n\r\n    !?*.java;!?*.form;!?*.class;!?*.groovy;!?*.scala;!?*.flex;!?*.kt;!?*.clj\r\n\r\nEssentially, it&#39;s copying everything which not a source file, a kind of file blacklist set rather than a file whitelist set as is used by other project creation templates.  Really weird...  Anyway, the resource sets are user configurable, so you can modify them as you see fit and once you do so, you shouldn&#39;t have any issues (I believe, but I&#39;ve been wrong before ;-)\r\n\r\n**Suggestion - Use 3rd party build tools in conjunction with your IDE**\r\n\r\nYou might be better off basing your build off of a 3rd party tool such as Gradle or Maven.  *Idea works really well with both these external build tools (and others)*.  The advantages of using a 3rd party tool is:\r\n\r\n 1. Projects with those tools follow a convention where resources are placed in a specific resource folder and everything in that folder is treated as a resource to be packaged in your build output.  So there is less confusion there.  \r\n 2. The resultant projects are more portable and easier to use by other developers who may not be using Idea.\r\n 3. The projects can be built easily by continuous integration build systems like Jenkins.\r\n 4. Both Gradle and Maven have JavaFX specific plugins which provide additional support for packaging JavaFX applications.\r\n\r\nOf course, the disadvantage of using a 3rd party build tool, is the complexity (and many quirks) of learning them as sometimes they can be quite the beast.  So I think it&#39;s a bit of a tradeoff - small, personal exploratory projects don&#39;t need them, larger projects or projects you intend to share with others benefit from using such tools.","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>There is nothing to convert.</p>\n\n<p>I don't believe there is any difference in Idea between a \"normal\" Java project and a JavaFX project.</p>\n\n<p>Sure, in Idea 12.x+ there is a wizard you can use to create a new JavaFX project.  But I think that all it does is create a sample hello world application - after initial creation, the way the project works is not any different than any other Java project.  </p>\n\n<p>And this is how it should be, JavaFX is just Java.  Oracle doesn't differentiate between JavaFX and Java in their distribution, and neither should IDEs in their project types.</p>\n\n<p>I believe, in this case, even if I'm wrong, that I am right enough that it doesn't really matter if I'm wrong.</p>\n\n<p><strong>Update</strong></p>\n\n<p>So I was wrong enough that it matters :-)</p>\n\n<p>Using Idea 13.1.4, if I create a new project using <code>File | New Project | Java</code>, there are the following resource settings (<code>File | Settings | Compiler</code>):</p>\n\n<pre><code>?*.properties;?*.xml;?*.gif;?*.png;?*.jpeg;?*.jpg;?*.html;?*.dtd;?*.tld;?*.ftl\n</code></pre>\n\n<p>That is, the resources for the project are just set to copy only specific file types.  So you could modify it to get the additional file types required in some JavaFX projects by adding resource copying support for fxml and css; i.e, appending <code>;?*.fxml;?*.css</code>.</p>\n\n<p>The interesting part is that if you create a new project using <code>File | New Project | JavaFX</code>, there are the following resource settings:</p>\n\n<pre><code>!?*.java;!?*.form;!?*.class;!?*.groovy;!?*.scala;!?*.flex;!?*.kt;!?*.clj\n</code></pre>\n\n<p>Essentially, it's copying everything which not a source file, a kind of file blacklist set rather than a file whitelist set as is used by other project creation templates.  Really weird...  Anyway, the resource sets are user configurable, so you can modify them as you see fit and once you do so, you shouldn't have any issues (I believe, but I've been wrong before ;-)</p>\n\n<p><strong>Suggestion - Use 3rd party build tools in conjunction with your IDE</strong></p>\n\n<p>You might be better off basing your build off of a 3rd party tool such as Gradle or Maven.  <em>Idea works really well with both these external build tools (and others)</em>.  The advantages of using a 3rd party tool is:</p>\n\n<ol>\n<li>Projects with those tools follow a convention where resources are placed in a specific resource folder and everything in that folder is treated as a resource to be packaged in your build output.  So there is less confusion there.  </li>\n<li>The resultant projects are more portable and easier to use by other developers who may not be using Idea.</li>\n<li>The projects can be built easily by continuous integration build systems like Jenkins.</li>\n<li>Both Gradle and Maven have JavaFX specific plugins which provide additional support for packaging JavaFX applications.</li>\n</ol>\n\n<p>Of course, the disadvantage of using a 3rd party build tool, is the complexity (and many quirks) of learning them as sometimes they can be quite the beast.  So I think it's a bit of a tradeoff - small, personal exploratory projects don't need them, larger projects or projects you intend to share with others benefit from using such tools.</p>\n"},{"tags":[],"owner":{"account_id":449003,"reputation":677,"user_id":843545,"accept_rate":75,"display_name":"Noah Ternullo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408032713,"creation_date":1407946682,"answer_id":25291241,"question_id":23421325,"body_markdown":"One solution is to generate your code using Scene Builder, and then integrate it into your existing IntelliJ project.  While it should be possible to import this as a module, you can also simply move the code to where it needs to be (making appropriate corrections to package statements, etc).  If you notice that the javafx imports aren&#39;t recognized within your project, try this solution:\r\n\r\nFirst ensure that you&#39;ve set up IntelliJ in general for JavaFX by following the intial steps in this [tutorial][1].  Note: Below I mention 1.8, but this should work with 1.7+.  I recommend 1.8+.\r\n\r\nSecond ensure that the existing project settings allow for javaFX use\r\n\r\n 1. Open Project Structure\r\n 2. Click on Project under the project settings pane\r\n 3. Ensure that the Project SDK is 1.8+.  \r\n\r\nThird Ensure that the modules are configured for a JDK supporting JavaFX\r\n\r\n 1. Open Project Structure\r\n 2. Click on Modules under the project settings pane\r\n 3. Ensure that the module SDK being used supports javaFX, Again I use JDK 1.8 but it should work with 1.7.\r\n\r\nAlso, please be aware that if you have a maven project, you may need to put your fxml in a particular location, &quot;/main/resources/&quot;.  Take a look at [this.][2]\r\n\r\nThat worked for me, and I hope it helps you.\r\n\r\n\r\n  [1]: http://www.jetbrains.com/idea/webhelp/preparing-for-javafx-application-development.html\r\n  [2]: https://stackoverflow.com/questions/20507591/javafx-location-is-required-even-though-it-is-in-the-same-package","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>One solution is to generate your code using Scene Builder, and then integrate it into your existing IntelliJ project.  While it should be possible to import this as a module, you can also simply move the code to where it needs to be (making appropriate corrections to package statements, etc).  If you notice that the javafx imports aren't recognized within your project, try this solution:</p>\n\n<p>First ensure that you've set up IntelliJ in general for JavaFX by following the intial steps in this <a href=\"http://www.jetbrains.com/idea/webhelp/preparing-for-javafx-application-development.html\" rel=\"nofollow noreferrer\">tutorial</a>.  Note: Below I mention 1.8, but this should work with 1.7+.  I recommend 1.8+.</p>\n\n<p>Second ensure that the existing project settings allow for javaFX use</p>\n\n<ol>\n<li>Open Project Structure</li>\n<li>Click on Project under the project settings pane</li>\n<li>Ensure that the Project SDK is 1.8+.  </li>\n</ol>\n\n<p>Third Ensure that the modules are configured for a JDK supporting JavaFX</p>\n\n<ol>\n<li>Open Project Structure</li>\n<li>Click on Modules under the project settings pane</li>\n<li>Ensure that the module SDK being used supports javaFX, Again I use JDK 1.8 but it should work with 1.7.</li>\n</ol>\n\n<p>Also, please be aware that if you have a maven project, you may need to put your fxml in a particular location, \"/main/resources/\".  Take a look at <a href=\"https://stackoverflow.com/questions/20507591/javafx-location-is-required-even-though-it-is-in-the-same-package\">this.</a></p>\n\n<p>That worked for me, and I hope it helps you.</p>\n"},{"tags":[],"owner":{"account_id":2983940,"reputation":12531,"user_id":2533290,"accept_rate":53,"display_name":"Martin Pfeffer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445681130,"creation_date":1445681130,"answer_id":33316928,"question_id":23421325,"body_markdown":"Please keep in mind that your source(s) folder(s) has to be set correctly. \r\nSee screenshot to get an idea what I mean..\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sGagc.png","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>Please keep in mind that your source(s) folder(s) has to be set correctly. \nSee screenshot to get an idea what I mean..</p>\n\n<p><a href=\"https://i.stack.imgur.com/sGagc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sGagc.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5580966,"reputation":11038,"user_id":4422856,"display_name":"shakram02"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504845255,"creation_date":1504844482,"answer_id":46108596,"question_id":23421325,"body_markdown":"I followed those steps\r\n\r\n- Create a new module in your existing intellij project (A)\r\n- Create a new JavaFx project elsewhere\r\n- Copy the code from the JavaFx project, namely `Controller.java,Main.java and sample.fxml` into your module in the (A) project under the src directory as in `A/user-interface/src`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- You&#39;ll find an error in `sample.fxml` since it references the controller class as `sample.Controller` change it to &#39;Controller&#39; only. it worked this way (as I removed the `sample` package folder\r\n\r\n[![Fixing sample.fxml][2]][2]\r\n\r\n- In (A) open the settings menu `File | Project Structure | Modules`\r\n- Select the `user-interface` module from the list on the left side of the settings window\r\n- Switch to the `dependencies` tab\r\n- Add your old non-gui module as a module dependency using the green `+` mark on the right-hand side\r\n- Now you can use the classes in the non-gui module, enjoy!\r\n\r\nnote: you can skip the add module dependency and let intellij do it for you, just type a name of a class in the old module, `alt+enter` (the light bulb magic) -&gt; `add module depenency`\r\n\r\n[![Module dependency window][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kNkWi.png\r\n  [2]: https://i.stack.imgur.com/e1UUi.png\r\n  [3]: https://i.stack.imgur.com/gQhzi.png","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>I followed those steps</p>\n\n<ul>\n<li>Create a new module in your existing intellij project (A)</li>\n<li>Create a new JavaFx project elsewhere</li>\n<li>Copy the code from the JavaFx project, namely <code>Controller.java,Main.java and sample.fxml</code> into your module in the (A) project under the src directory as in <code>A/user-interface/src</code></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/kNkWi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kNkWi.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>You'll find an error in <code>sample.fxml</code> since it references the controller class as <code>sample.Controller</code> change it to 'Controller' only. it worked this way (as I removed the <code>sample</code> package folder</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/e1UUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e1UUi.png\" alt=\"Fixing sample.fxml\"></a></p>\n\n<ul>\n<li>In (A) open the settings menu <code>File | Project Structure | Modules</code></li>\n<li>Select the <code>user-interface</code> module from the list on the left side of the settings window</li>\n<li>Switch to the <code>dependencies</code> tab</li>\n<li>Add your old non-gui module as a module dependency using the green <code>+</code> mark on the right-hand side</li>\n<li>Now you can use the classes in the non-gui module, enjoy!</li>\n</ul>\n\n<p>note: you can skip the add module dependency and let intellij do it for you, just type a name of a class in the old module, <code>alt+enter</code> (the light bulb magic) -> <code>add module depenency</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/gQhzi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQhzi.png\" alt=\"Module dependency window\"></a></p>\n"},{"tags":[],"owner":{"account_id":13853443,"reputation":2057,"user_id":10000823,"display_name":"Rainb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680884466,"creation_date":1549024146,"answer_id":54479550,"question_id":23421325,"body_markdown":"So after lots of googling I finally found it out myself!\r\n\r\nIf you can create new Javafx projects in IntelliJ and it works perfectly, but when you open a normal java application that happens to use javafx doesn&#39;t work, (because java just doesn&#39;t want to resolve the javafx references)\r\n\r\n**what works for me is this:**\r\nYou must add the `&quot;jre/lib/ext/jfxrt.jar&quot;` file to the module classpath that is located inside IDEA on my windows machine this is `C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\jre64\\lib\\ext\\jfxrt.jar`.\r\n\r\nAnd now it finally builds! \r\n","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>So after lots of googling I finally found it out myself!</p>\n<p>If you can create new Javafx projects in IntelliJ and it works perfectly, but when you open a normal java application that happens to use javafx doesn't work, (because java just doesn't want to resolve the javafx references)</p>\n<p><strong>what works for me is this:</strong>\nYou must add the <code>&quot;jre/lib/ext/jfxrt.jar&quot;</code> file to the module classpath that is located inside IDEA on my windows machine this is <code>C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\jre64\\lib\\ext\\jfxrt.jar</code>.</p>\n<p>And now it finally builds!</p>\n"}],"owner":{"account_id":1949949,"reputation":1154,"user_id":1754276,"accept_rate":70,"display_name":"Wizard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35055,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"accepted_answer_id":23421720,"answer_count":5,"score":20,"last_activity_date":1680884466,"creation_date":1399008267,"question_id":23421325,"body_markdown":"I am currently using a normal java project (gradle project) and want to convert this into a JavaFx project without having to reimport the existing sources into a new Javafx project. Is there any way to achieve this?","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>I am currently using a normal java project (gradle project) and want to convert this into a JavaFx project without having to reimport the existing sources into a new Javafx project. Is there any way to achieve this?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":9064433,"reputation":568,"user_id":6749813,"display_name":"S.Tushinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680882491,"creation_date":1680882491,"answer_id":75959980,"question_id":75959501,"body_markdown":"If the class that defines the method `loginUser(LoginRequest request)` is an implementation of the interface `AuthenticationProvider` then the part of your code which calls \r\n`Authentication auth = authenticationManager.authenticate(authToken)` might resolve in an infinite loop which will fill up your stack.\r\n\r\nThe default implementation of the `AuthenticationManager` is the `ProviderManager` class. `ProviderManager` loops through the implementations of `AuthenticationProvider` within the Spring Application and calls their `AuthenticationProvider#authenticate` method.\r\n\r\nSo if your method\r\n\r\n      public AuthenticationResponse loginUser(LoginRequest request) {\r\n        AuthenticationResponse authenticationResponse = new AuthenticationResponse();\r\n        AppUser appUser = appUserService.getAppUserByEmail(request.getEmail());\r\n\r\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword());\r\n        Authentication auth = authenticationManager.authenticate(authToken); //Thin\r\n        SecurityContextHolder.getContext().setAuthentication(auth);\r\n        String jwtToken = tokenManager.generateToken(auth);\r\n        authenticationResponse.setAccessToken(&quot;Bearer &quot; + jwtToken);\r\n        authenticationResponse.setRefreshToken(refreshTokenService.createRefreshToken(appUser));\r\n        authenticationResponse.setAppUser(AppUserResponse.convert(appUser));\r\n        return authenticationResponse;\r\n    }\r\n\r\nis inside a class which is an implementation of `AuthenticationProvider` you are infinitely looping between the `AuthenticationManager` and `AuthenticationProvider`\r\n\r\nExample: `authenticationManager.authenticate()` calls `authenticationProvide.authenticate()` calls `authenticationManager.authenticate()` and you stack gets filled up.\r\n\r\np.s. You can also check out the spring documentation for `AuthenticationManager` [here][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html#servlet-authentication-providermanager","title":"Spring Boot authentication throws java.lang.StackOverflowError: null","body":"<p>If the class that defines the method <code>loginUser(LoginRequest request)</code> is an implementation of the interface <code>AuthenticationProvider</code> then the part of your code which calls\n<code>Authentication auth = authenticationManager.authenticate(authToken)</code> might resolve in an infinite loop which will fill up your stack.</p>\n<p>The default implementation of the <code>AuthenticationManager</code> is the <code>ProviderManager</code> class. <code>ProviderManager</code> loops through the implementations of <code>AuthenticationProvider</code> within the Spring Application and calls their <code>AuthenticationProvider#authenticate</code> method.</p>\n<p>So if your method</p>\n<pre><code>  public AuthenticationResponse loginUser(LoginRequest request) {\n    AuthenticationResponse authenticationResponse = new AuthenticationResponse();\n    AppUser appUser = appUserService.getAppUserByEmail(request.getEmail());\n\n    UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword());\n    Authentication auth = authenticationManager.authenticate(authToken); //Thin\n    SecurityContextHolder.getContext().setAuthentication(auth);\n    String jwtToken = tokenManager.generateToken(auth);\n    authenticationResponse.setAccessToken(&quot;Bearer &quot; + jwtToken);\n    authenticationResponse.setRefreshToken(refreshTokenService.createRefreshToken(appUser));\n    authenticationResponse.setAppUser(AppUserResponse.convert(appUser));\n    return authenticationResponse;\n}\n</code></pre>\n<p>is inside a class which is an implementation of <code>AuthenticationProvider</code> you are infinitely looping between the <code>AuthenticationManager</code> and <code>AuthenticationProvider</code></p>\n<p>Example: <code>authenticationManager.authenticate()</code> calls <code>authenticationProvide.authenticate()</code> calls <code>authenticationManager.authenticate()</code> and you stack gets filled up.</p>\n<p>p.s. You can also check out the spring documentation for <code>AuthenticationManager</code> <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html#servlet-authentication-providermanager\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75959980,"answer_count":1,"score":0,"last_activity_date":1680884369,"creation_date":1680879022,"question_id":75959501,"body_markdown":"I can successfully signup users. However, when it comes to logging in the following error is thrown. I couldn&#39;t solve this problem for days.\r\n\r\n**stacktrace**\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Handler dispatch failed; nested exception is java.lang.StackOverflowError] with root cause\r\n\r\njava.lang.StackOverflowError: null\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n...\r\n```\r\n\r\nHere is where the error is thrown\r\n```\r\n  public AuthenticationResponse loginUser(LoginRequest request) {\r\n        AuthenticationResponse authenticationResponse = new AuthenticationResponse();\r\n        AppUser appUser = appUserService.getAppUserByEmail(request.getEmail());\r\n\r\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword());\r\n        Authentication auth = authenticationManager.authenticate(authToken); //Thin\r\n        SecurityContextHolder.getContext().setAuthentication(auth);\r\n        String jwtToken = tokenManager.generateToken(auth);\r\n        authenticationResponse.setAccessToken(&quot;Bearer &quot; + jwtToken);\r\n        authenticationResponse.setRefreshToken(refreshTokenService.createRefreshToken(appUser));\r\n        authenticationResponse.setAppUser(AppUserResponse.convert(appUser));\r\n        return authenticationResponse;\r\n    }\r\n```\r\n\r\n\r\n**AppUser** entity\r\n\r\n```\r\npackage com.napsam.wo.entities;\r\n\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotBlank;\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.util.*;\r\n\r\n@Entity\r\npublic class AppUser implements UserDetails, Serializable {\r\n    @Id\r\n  /*  @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )*/\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long appUserId;\r\n\r\n\r\n    @Column(nullable = false, unique = true)\r\n    @NotBlank(message = &quot;Email boş olamaz&quot;)\r\n    private String email;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String username;\r\n\r\n    @Column(nullable = false)\r\n    @NotBlank\r\n    private String password;\r\n    private String fullName;\r\n    @Enumerated(EnumType.STRING)\r\n    private Gender gender;\r\n    private String biography;\r\n    @CreationTimestamp\r\n    private LocalDateTime createdAt;\r\n    @UpdateTimestamp\r\n    private LocalDateTime updatedAt;\r\n    private String avatar;\r\n    private int score;\r\n    private boolean isEnabled;\r\n    private boolean isLocked;\r\n    public AppUser() {\r\n    }\r\n\r\n    public AppUser(Long appUserId,\r\n                   String email,\r\n                   String username,\r\n                   String password,\r\n                   String fullName,\r\n                   Gender gender,\r\n                   String biography,\r\n                   LocalDateTime createdAt,\r\n                   LocalDateTime updatedAt,\r\n                   String avatar,\r\n                   int score, boolean isLocked) {\r\n        this.appUserId = appUserId;\r\n        this.email = email;\r\n        this.username = username;\r\n        this.password = password;\r\n        this.fullName = fullName;\r\n        this.gender = gender;\r\n        this.biography = biography;\r\n        this.createdAt = createdAt;\r\n        this.updatedAt = updatedAt;\r\n        this.avatar = avatar;\r\n        this.score = score;\r\n        this.isLocked = isLocked;\r\n    }\r\n\r\n    public Long getAppUserId() {\r\n        return appUserId;\r\n    }\r\n\r\n    public void setAppUserId(Long appUserId) {\r\n        this.appUserId = appUserId;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    public void setFullName(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public Gender getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public void setGender(Gender gender) {\r\n        this.gender = gender;\r\n    }\r\n\r\n    public String getBiography() {\r\n        return biography;\r\n    }\r\n\r\n    public void setBiography(String biography) {\r\n        this.biography = biography;\r\n    }\r\n\r\n    public LocalDateTime getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(LocalDateTime createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public LocalDateTime getUpdatedAt() {\r\n        return updatedAt;\r\n    }\r\n\r\n    public void setUpdatedAt(LocalDateTime updatedAt) {\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n    public String getAvatar() {\r\n        return avatar;\r\n    }\r\n\r\n    public void setAvatar(String avatar) {\r\n        this.avatar = avatar;\r\n    }\r\n\r\n    public int getScore() {\r\n        return score;\r\n    }\r\n\r\n    public void setScore(int score) {\r\n        this.score = score;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return !isLocked;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return isEnabled;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI tried to use `lombok` but didn&#39;t work. I tried to override `toString`, `hashCode` and `equals` methods but didn&#39;t work either. \r\n\r\nIf further information is required, please let me know.\r\n","title":"Spring Boot authentication throws java.lang.StackOverflowError: null","body":"<p>I can successfully signup users. However, when it comes to logging in the following error is thrown. I couldn't solve this problem for days.</p>\n<p><strong>stacktrace</strong></p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Handler dispatch failed; nested exception is java.lang.StackOverflowError] with root cause\n\njava.lang.StackOverflowError: null\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n...\n</code></pre>\n<p>Here is where the error is thrown</p>\n<pre><code>  public AuthenticationResponse loginUser(LoginRequest request) {\n        AuthenticationResponse authenticationResponse = new AuthenticationResponse();\n        AppUser appUser = appUserService.getAppUserByEmail(request.getEmail());\n\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword());\n        Authentication auth = authenticationManager.authenticate(authToken); //Thin\n        SecurityContextHolder.getContext().setAuthentication(auth);\n        String jwtToken = tokenManager.generateToken(auth);\n        authenticationResponse.setAccessToken(&quot;Bearer &quot; + jwtToken);\n        authenticationResponse.setRefreshToken(refreshTokenService.createRefreshToken(appUser));\n        authenticationResponse.setAppUser(AppUserResponse.convert(appUser));\n        return authenticationResponse;\n    }\n</code></pre>\n<p><strong>AppUser</strong> entity</p>\n<pre><code>package com.napsam.wo.entities;\n\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.*;\n\n@Entity\npublic class AppUser implements UserDetails, Serializable {\n    @Id\n  /*  @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )*/\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long appUserId;\n\n\n    @Column(nullable = false, unique = true)\n    @NotBlank(message = &quot;Email boş olamaz&quot;)\n    private String email;\n\n    @Column(nullable = false, unique = true)\n    private String username;\n\n    @Column(nullable = false)\n    @NotBlank\n    private String password;\n    private String fullName;\n    @Enumerated(EnumType.STRING)\n    private Gender gender;\n    private String biography;\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n    @UpdateTimestamp\n    private LocalDateTime updatedAt;\n    private String avatar;\n    private int score;\n    private boolean isEnabled;\n    private boolean isLocked;\n    public AppUser() {\n    }\n\n    public AppUser(Long appUserId,\n                   String email,\n                   String username,\n                   String password,\n                   String fullName,\n                   Gender gender,\n                   String biography,\n                   LocalDateTime createdAt,\n                   LocalDateTime updatedAt,\n                   String avatar,\n                   int score, boolean isLocked) {\n        this.appUserId = appUserId;\n        this.email = email;\n        this.username = username;\n        this.password = password;\n        this.fullName = fullName;\n        this.gender = gender;\n        this.biography = biography;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n        this.avatar = avatar;\n        this.score = score;\n        this.isLocked = isLocked;\n    }\n\n    public Long getAppUserId() {\n        return appUserId;\n    }\n\n    public void setAppUserId(Long appUserId) {\n        this.appUserId = appUserId;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    public void setFullName(String fullName) {\n        this.fullName = fullName;\n    }\n\n    public Gender getGender() {\n        return gender;\n    }\n\n    public void setGender(Gender gender) {\n        this.gender = gender;\n    }\n\n    public String getBiography() {\n        return biography;\n    }\n\n    public void setBiography(String biography) {\n        this.biography = biography;\n    }\n\n    public LocalDateTime getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDateTime createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public LocalDateTime getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(LocalDateTime updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    public String getAvatar() {\n        return avatar;\n    }\n\n    public void setAvatar(String avatar) {\n        this.avatar = avatar;\n    }\n\n    public int getScore() {\n        return score;\n    }\n\n    public void setScore(int score) {\n        this.score = score;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return new HashSet&lt;&gt;();\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return false;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !isLocked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return false;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return isEnabled;\n    }\n\n\n}\n</code></pre>\n<p>I tried to use <code>lombok</code> but didn't work. I tried to override <code>toString</code>, <code>hashCode</code> and <code>equals</code> methods but didn't work either.</p>\n<p>If further information is required, please let me know.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":2,"creation_date":1579514885,"post_id":59820087,"comment_id":105779022,"body_markdown":"AFAIK, Java does not provide any native library for processing JSON.","body":"AFAIK, Java does not provide any native library for processing JSON."}],"answers":[{"tags":[],"owner":{"account_id":14280875,"reputation":683,"user_id":10436569,"display_name":"Suryakant Bharti"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1579512049,"creation_date":1579512049,"answer_id":59820182,"question_id":59820087,"body_markdown":"&gt; The Java API for JSON Processing provides portable APIs to parse,\r\n&gt; generate, transform, and query JSON.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOfficial Website Reference - https://www.oracle.com/technical-resources/articles/java/json.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QgKee.png","title":"Java in-built JSON parser","body":"<blockquote>\n  <p>The Java API for JSON Processing provides portable APIs to parse,\n  generate, transform, and query JSON.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/QgKee.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QgKee.png\" alt=\"enter image description here\"></a></p>\n\n<p>Official Website Reference - <a href=\"https://www.oracle.com/technical-resources/articles/java/json.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/json.html</a></p>\n"},{"tags":[],"owner":{"account_id":10184227,"reputation":59,"user_id":7519860,"display_name":"devNNP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579512110,"creation_date":1579512110,"answer_id":59820200,"question_id":59820087,"body_markdown":"There is no such libraries in Java. But if you use maven, you can add [GSON][1] or [JSON-lib][2] dependencies.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.gson/gson\r\n  [2]: https://mvnrepository.com/artifact/net.sf.json-lib/json-lib","title":"Java in-built JSON parser","body":"<p>There is no such libraries in Java. But if you use maven, you can add <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">GSON</a> or <a href=\"https://mvnrepository.com/artifact/net.sf.json-lib/json-lib\" rel=\"nofollow noreferrer\">JSON-lib</a> dependencies.</p>\n"},{"tags":[],"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680884180,"creation_date":1579512162,"answer_id":59820214,"question_id":59820087,"body_markdown":"There is not. \r\n\r\nYou can use built-in Nashorn engine to evaluate Javascript in Java 8\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.Map;\r\nimport javax.script.ScriptEngine;\r\nimport javax.script.ScriptEngineManager;\r\nimport javax.script.ScriptException;\r\n\r\npublic class JSONParsingTest {\r\n\r\n    private ScriptEngine engine;\r\n\r\n    @Before\r\n    public void initEngine() {\r\n        ScriptEngineManager sem = new ScriptEngineManager();\r\n        this.engine = sem.getEngineByName(&quot;javascript&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void parseJson() throws IOException, ScriptException {\r\n        String json = new String(Files.readAllBytes(/*path*/);\r\n        String script = &quot;Java.asJSONCompatible(&quot; + json + &quot;)&quot;;\r\n        Object result = this.engine.eval(script);\r\n        assertThat(result, instanceOf(Map.class));\r\n        Map contents = (Map) result;\r\n        contents.forEach((t, u) -&gt; {\r\n        //key-value pairs\r\n        });\r\n    }\r\n}\r\n```\r\nsource : [Converting JSON To Map With Java 8 Without Dependencies](http://www.adam-bien.com/roller/abien/entry/converting_json_to_map_with)\r\n\r\n**Update** : Nashorn has been removed from [Java 15](https://openjdk.java.net/jeps/372)","title":"Java in-built JSON parser","body":"<p>There is not.</p>\n<p>You can use built-in Nashorn engine to evaluate Javascript in Java 8</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.Map;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptException;\n\npublic class JSONParsingTest {\n\n    private ScriptEngine engine;\n\n    @Before\n    public void initEngine() {\n        ScriptEngineManager sem = new ScriptEngineManager();\n        this.engine = sem.getEngineByName(&quot;javascript&quot;);\n    }\n\n    @Test\n    public void parseJson() throws IOException, ScriptException {\n        String json = new String(Files.readAllBytes(/*path*/);\n        String script = &quot;Java.asJSONCompatible(&quot; + json + &quot;)&quot;;\n        Object result = this.engine.eval(script);\n        assertThat(result, instanceOf(Map.class));\n        Map contents = (Map) result;\n        contents.forEach((t, u) -&gt; {\n        //key-value pairs\n        });\n    }\n}\n</code></pre>\n<p>source : <a href=\"http://www.adam-bien.com/roller/abien/entry/converting_json_to_map_with\" rel=\"nofollow noreferrer\">Converting JSON To Map With Java 8 Without Dependencies</a></p>\n<p><strong>Update</strong> : Nashorn has been removed from <a href=\"https://openjdk.java.net/jeps/372\" rel=\"nofollow noreferrer\">Java 15</a></p>\n"}],"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8027,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"closed_date":1579523903,"answer_count":3,"score":7,"last_activity_date":1680884180,"creation_date":1579511756,"question_id":59820087,"body_markdown":"I&#39;ve been working on a task where I need to make a request and get value of a specific key in JSON. Because of some limitations/complications, I&#39;m suppose to use only in-built libraries of Java.\r\n\r\nFor making a request, I&#39;m using `HttpURLConnection` but for parsing JSON I could not find. Could you please point me to Java in built JSON parsers.\r\n\r\nI found similar question [here][1] but that does not have satisfactory answer and pretty old hence asking again, in case, this is available with latest versions of Java.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9256669/java-built-in-data-parser-for-json-or-xml-or-else","title":"Java in-built JSON parser","body":"<p>I've been working on a task where I need to make a request and get value of a specific key in JSON. Because of some limitations/complications, I'm suppose to use only in-built libraries of Java.</p>\n\n<p>For making a request, I'm using <code>HttpURLConnection</code> but for parsing JSON I could not find. Could you please point me to Java in built JSON parsers.</p>\n\n<p>I found similar question <a href=\"https://stackoverflow.com/questions/9256669/java-built-in-data-parser-for-json-or-xml-or-else\">here</a> but that does not have satisfactory answer and pretty old hence asking again, in case, this is available with latest versions of Java.</p>\n"},{"tags":["java","eclipse","maven"],"answers":[{"tags":[],"owner":{"account_id":28218549,"reputation":29,"user_id":21569670,"display_name":"omprakash K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680864944,"creation_date":1680859402,"answer_id":75957164,"question_id":75957141,"body_markdown":"you can use maven-archetype-quickstart 1.4 version it&#39;s support web development with java 17\r\n\r\nYou can go through the Central maven Repository \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T1Gmq.png","title":"Maven and Java 17 - Which Maven Archetype supports Java 17 Development?","body":"<p>you can use maven-archetype-quickstart 1.4 version it's support web development with java 17</p>\n<p>You can go through the Central maven Repository</p>\n<p><a href=\"https://i.stack.imgur.com/T1Gmq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T1Gmq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680882843,"creation_date":1680882843,"answer_id":75960028,"question_id":75957141,"body_markdown":"Unclear what you mean by &quot;support&quot;. Eclipse and Maven both use Java to run. If neither supported it, you&#39;d have already gotten errors.\r\n\r\nWhen the code generates, you can add property `maven.compiler.target` to be `17`, if you wish ","title":"Maven and Java 17 - Which Maven Archetype supports Java 17 Development?","body":"<p>Unclear what you mean by &quot;support&quot;. Eclipse and Maven both use Java to run. If neither supported it, you'd have already gotten errors.</p>\n<p>When the code generates, you can add property <code>maven.compiler.target</code> to be <code>17</code>, if you wish</p>\n"}],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680884152,"creation_date":1680859199,"question_id":75957141,"body_markdown":"### Which Maven archetypes support Java 17, and how can I find archetypes which support Java 17?\r\n\r\nThis question comes about as I do not know which archetype I should choose when creating a Maven project with Eclipse. (The fact that I am using Eclipse is not particularly relevant other than to say it produces a long list of possible archetypes, and I currently have this filtered to &quot;Internal&quot;.)\r\n\r\n[![eclipse Maven archetype][1]][1]\r\n\r\n#### The &quot;default&quot; option, often quoted in media on the web, is &quot;maven-archetype-quickstart&quot;.\r\n\r\nHowever I am aware that this does not support Java (language) Version 17, so I wonder if there is an alternative that I should be using instead?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/thvJV.png","title":"Maven and Java 17 - Which Maven Archetype supports Java 17 Development?","body":"<h3>Which Maven archetypes support Java 17, and how can I find archetypes which support Java 17?</h3>\n<p>This question comes about as I do not know which archetype I should choose when creating a Maven project with Eclipse. (The fact that I am using Eclipse is not particularly relevant other than to say it produces a long list of possible archetypes, and I currently have this filtered to &quot;Internal&quot;.)</p>\n<p><a href=\"https://i.stack.imgur.com/thvJV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thvJV.png\" alt=\"eclipse Maven archetype\" /></a></p>\n<h4>The &quot;default&quot; option, often quoted in media on the web, is &quot;maven-archetype-quickstart&quot;.</h4>\n<p>However I am aware that this does not support Java (language) Version 17, so I wonder if there is an alternative that I should be using instead?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":2,"creation_date":1680863019,"post_id":75957464,"comment_id":133971611,"body_markdown":"Straight from the [Oracle website](https://www.oracle.com/java/technologies/javase/jdk7-naming.html). `1.7` is version 7.  From what I read, I believe Java 9+ just uses the version number. So you would want `20` or `17`.","body":"Straight from the <a href=\"https://www.oracle.com/java/technologies/javase/jdk7-naming.html\" rel=\"nofollow noreferrer\">Oracle website</a>. <code>1.7</code> is version 7.  From what I read, I believe Java 9+ just uses the version number. So you would want <code>20</code> or <code>17</code>."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1680863945,"post_id":75957464,"comment_id":133971785,"body_markdown":"@CalvinP. Not sure I understand how that helps as it discusses Java 7 only.","body":"@CalvinP. Not sure I understand how that helps as it discusses Java 7 only."},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":2,"creation_date":1680865570,"post_id":75957464,"comment_id":133972047,"body_markdown":"I haven’t found much of anything that explicitly says it, but through searching I’ve found several pom.xml examples using `&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;` and likewise for `target`. One such example for adding Java 17 support is [here](https://simply-how.com/getting-started-with-java-17) in section 3 (roughly halfway down the page), titled “Tooling support for Java 17”","body":"I haven’t found much of anything that explicitly says it, but through searching I’ve found several pom.xml examples using <code>&lt;maven.compiler.source&gt;17&lt;&#47;maven.compiler.source&gt;</code> and likewise for <code>target</code>. One such example for adding Java 17 support is <a href=\"https://simply-how.com/getting-started-with-java-17\" rel=\"nofollow noreferrer\">here</a> in section 3 (roughly halfway down the page), titled “Tooling support for Java 17”"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680883898,"creation_date":1680883418,"answer_id":75960111,"question_id":75957464,"body_markdown":"As of Java 11 (or maybe 9), the period was dropped, so yes, you want 17 or 20, respectively.\r\n\r\nAlthough, you cannot set the value higher than the JDK that Maven is using (often set by `JAVA_HOME` environment variable)\r\n\r\nUse the `javac` command to list supported versions you can use \r\n\r\n&gt; The supported values of release are the current Java SE release and a **limited number of previous releases, detailed in the command-line help**.\r\n\r\n&gt; **Note: The target release must be equal to or higher than the source release.**\r\n\r\nYou don&#39;t need to set them the same value, though. For example, you&#39;d down-compile to JDK 1.7 / 1.8 if you were to run your code on legacy systems that don&#39;t have  an updated JRE installed ","title":"Maven: maven.compiler.source, maven.compiler.target settings - which version numbers correspond to which Java Language Versions?","body":"<p>As of Java 11 (or maybe 9), the period was dropped, so yes, you want 17 or 20, respectively.</p>\n<p>Although, you cannot set the value higher than the JDK that Maven is using (often set by <code>JAVA_HOME</code> environment variable)</p>\n<p>Use the <code>javac</code> command to list supported versions you can use</p>\n<blockquote>\n<p>The supported values of release are the current Java SE release and a <strong>limited number of previous releases, detailed in the command-line help</strong>.</p>\n</blockquote>\n<blockquote>\n<p><strong>Note: The target release must be equal to or higher than the source release.</strong></p>\n</blockquote>\n<p>You don't need to set them the same value, though. For example, you'd down-compile to JDK 1.7 / 1.8 if you were to run your code on legacy systems that don't have  an updated JRE installed</p>\n"}],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680883898,"creation_date":1680862199,"question_id":75957464,"body_markdown":"For my particular install of Eclipse, with the particular Maven archetype which I am using, I find these defaults in `pom.xml`:\r\n\r\n```\r\n&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n```\r\n\r\nI don&#39;t understand what &quot;1.7&quot; means. What does this number correspond to? Is it the JDK version?\r\n\r\nI thought that this should be the Java Language version, but that is clearly not correct. At the time of writing, I believe the most up to date version of &quot;Java the Language&quot; is Java 20, although Java 17 is the current &quot;long term support&quot; version.\r\n\r\nHow do I figure out the corresponding numbers for `maven.compiler.source` and `maven.compiler.target`, for each Java (language) version?\r\n\r\nFor example:\r\n\r\n- Java 20 -&gt; what value for `maven.compiler.source/target` ?\r\n- Java 17 -&gt; what value for `maven.compiler.source/target` ?\r\n","title":"Maven: maven.compiler.source, maven.compiler.target settings - which version numbers correspond to which Java Language Versions?","body":"<p>For my particular install of Eclipse, with the particular Maven archetype which I am using, I find these defaults in <code>pom.xml</code>:</p>\n<pre><code>&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>I don't understand what &quot;1.7&quot; means. What does this number correspond to? Is it the JDK version?</p>\n<p>I thought that this should be the Java Language version, but that is clearly not correct. At the time of writing, I believe the most up to date version of &quot;Java the Language&quot; is Java 20, although Java 17 is the current &quot;long term support&quot; version.</p>\n<p>How do I figure out the corresponding numbers for <code>maven.compiler.source</code> and <code>maven.compiler.target</code>, for each Java (language) version?</p>\n<p>For example:</p>\n<ul>\n<li>Java 20 -&gt; what value for <code>maven.compiler.source/target</code> ?</li>\n<li>Java 17 -&gt; what value for <code>maven.compiler.source/target</code> ?</li>\n</ul>\n"},{"tags":["java","obfuscation"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1483375850,"creation_date":1483375850,"answer_id":41430519,"question_id":41430227,"body_markdown":"You really can&#39;t.  You can obfuscate method names because in the end the original method name never needs to be known.  You can just work with the obfuscation.  Here you do eventually need to know the real URL.  So there would need to be an unobfuscate function.  Which means you could trivially get the result from there.  Or you know, just track what url outgoing HTTP requests use via a proxy.","title":"Obfuscate Strings in Java","body":"<p>You really can't.  You can obfuscate method names because in the end the original method name never needs to be known.  You can just work with the obfuscation.  Here you do eventually need to know the real URL.  So there would need to be an unobfuscate function.  Which means you could trivially get the result from there.  Or you know, just track what url outgoing HTTP requests use via a proxy.</p>\n"},{"tags":[],"owner":{"account_id":3846747,"reputation":1146,"user_id":6223139,"display_name":"Vaishakh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1529512788,"creation_date":1528357888,"answer_id":50735721,"question_id":41430227,"body_markdown":"For obfuscating Strings you can now use a new gradle plugin + library, Please check it here\r\n\r\nhttps://github.com/MichaelRocks/paranoid\r\n\r\nAlso now there is a new plugin which can obfuscate resources also, please check it below\r\n\r\nhttps://github.com/shwenzhang/AndResGuard\r\n\r\nshare so more developers can use it and thus more and more developers will contribute to the further development of these plugins, and thus we can collectively improve these plugins.","title":"Obfuscate Strings in Java","body":"<p>For obfuscating Strings you can now use a new gradle plugin + library, Please check it here</p>\n\n<p><a href=\"https://github.com/MichaelRocks/paranoid\" rel=\"nofollow noreferrer\">https://github.com/MichaelRocks/paranoid</a></p>\n\n<p>Also now there is a new plugin which can obfuscate resources also, please check it below</p>\n\n<p><a href=\"https://github.com/shwenzhang/AndResGuard\" rel=\"nofollow noreferrer\">https://github.com/shwenzhang/AndResGuard</a></p>\n\n<p>share so more developers can use it and thus more and more developers will contribute to the further development of these plugins, and thus we can collectively improve these plugins.</p>\n"},{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1549720468,"creation_date":1544615239,"answer_id":53742372,"question_id":41430227,"body_markdown":"Taking a look back at this question after almost 2 years, This question has gotten quite a lot of attention, I have found some obfuscators that I ended up using for String obfuscation but every Obfuscation can be broken. This is my List of obfuscators that encrypts Strings I will start of by listing paid obfuscators.\r\n\r\n**1. Zelix Klass Master**\r\n\r\nTheir official website is https://zelix.com\r\n\r\nThis is one of the best java obfuscators for either jar or android in my opinion.\r\nHow ever It&#39;s not cheap as expected because of how good the obfuscator is.\r\n\r\nA single license can cost you $239 If you are a small developer or $479 if you are a team of developer (Comapany).\r\n\r\nYou can see the list of features [here][1] \r\n\r\n**2. DexGuard**\r\n\r\nTheir official website is https://www.guardsquare.com/en\r\n\r\nDexGuard is an Obfuscator made by the people who are behind Proguard\r\n\r\nThis is the second best obfuscator in my opinion. The name obfuscation is way better then the name obfuscation on Zelix. \r\n\r\nI am not sure about their pricing since I have never used it but I have seen it being used on applications. How ever you can request a pricing [here][2]\r\n\r\n**Free Obfuscators.**\r\n\r\n\r\nYou can find free alternative&#39;s such as [StringCare][3] and [Paranoid][4]\r\n\r\nThey aren&#39;t as good as the one&#39;s I listed above, It would take at most 5 seconds for someone with basic knowledge of java to crack your program with these two tools.\r\n\r\n\r\n  [1]: https://www.zelix.com/klassmaster/features.html\r\n  [2]: https://www.guardsquare.com/en/get-your-quote\r\n  [3]: https://github.com/StringCare/AndroidLibrary\r\n  [4]: https://github.com/MichaelRocks/paranoid","title":"Obfuscate Strings in Java","body":"<p>Taking a look back at this question after almost 2 years, This question has gotten quite a lot of attention, I have found some obfuscators that I ended up using for String obfuscation but every Obfuscation can be broken. This is my List of obfuscators that encrypts Strings I will start of by listing paid obfuscators.</p>\n\n<p><strong>1. Zelix Klass Master</strong></p>\n\n<p>Their official website is <a href=\"https://zelix.com\" rel=\"nofollow noreferrer\">https://zelix.com</a></p>\n\n<p>This is one of the best java obfuscators for either jar or android in my opinion.\nHow ever It's not cheap as expected because of how good the obfuscator is.</p>\n\n<p>A single license can cost you $239 If you are a small developer or $479 if you are a team of developer (Comapany).</p>\n\n<p>You can see the list of features <a href=\"https://www.zelix.com/klassmaster/features.html\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p><strong>2. DexGuard</strong></p>\n\n<p>Their official website is <a href=\"https://www.guardsquare.com/en\" rel=\"nofollow noreferrer\">https://www.guardsquare.com/en</a></p>\n\n<p>DexGuard is an Obfuscator made by the people who are behind Proguard</p>\n\n<p>This is the second best obfuscator in my opinion. The name obfuscation is way better then the name obfuscation on Zelix. </p>\n\n<p>I am not sure about their pricing since I have never used it but I have seen it being used on applications. How ever you can request a pricing <a href=\"https://www.guardsquare.com/en/get-your-quote\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><strong>Free Obfuscators.</strong></p>\n\n<p>You can find free alternative's such as <a href=\"https://github.com/StringCare/AndroidLibrary\" rel=\"nofollow noreferrer\">StringCare</a> and <a href=\"https://github.com/MichaelRocks/paranoid\" rel=\"nofollow noreferrer\">Paranoid</a></p>\n\n<p>They aren't as good as the one's I listed above, It would take at most 5 seconds for someone with basic knowledge of java to crack your program with these two tools.</p>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680882864,"creation_date":1610627783,"answer_id":65719077,"question_id":41430227,"body_markdown":"One possibility is to use the array of integers with some shift operation for the strings which needs to be obfuscated. But as others already mentioned, this is just a mechanism to hide the plain string. With some effort, it can be decoded easily. \r\n\r\nGettign int array code\r\n\r\n    public static String getIntArrayCode(String string) {\r\n      int[] result = new int[string.length()];\r\n      for (int i = 0; i &lt; string.length(); i) {\r\n        int numericValue = Character.codePointAt(string, i);\r\n        result[i] = numericValue &lt;&lt; 3;\r\n      }\r\n      StringBuffer arrayCode = new StringBuffer();\r\n      arrayCode.append(&quot;new int[]{&quot;);\r\n      for (int i = 0; i &lt; result.length; i) {\r\n        arrayCode.append(result[i]);\r\n        if (i &lt; result.length - 1) {\r\n          arrayCode.append(&quot;,&quot;);\r\n        }\r\n      }\r\n      arrayCode.append(&quot;}&quot;);\r\n      return arrayCode.toString();\r\n    }\r\n\r\nThis int array needs to be copied to the code.\r\n\r\nTo unobfuscate, use the method\r\n\r\n    public static String getString(int[] data) {\r\n      StringBuffer test = new StringBuffer();\r\n      for (int i = 0; i &lt; data.length; i) {\r\n        int t = data[i] &gt;&gt; 3;\r\n        test.append((char) t);\r\n      }\r\n      return test.toString();\r\n    }\r\n\r\nUsage : \r\n\r\n    //&quot;Hello12345&amp;%$&quot;;\r\n    int []data1 = new int[]{1152,1616,1728,1728,1776,784,800,816,832,848,608,592,576};\r\n    System.out.println(getString(data1));\r\n\r\nObfuscating the application (eg : using Proguard ) would help to hide the decode function to some extend.","title":"Obfuscate Strings in Java","body":"<p>One possibility is to use the array of integers with some shift operation for the strings which needs to be obfuscated. But as others already mentioned, this is just a mechanism to hide the plain string. With some effort, it can be decoded easily.</p>\n<p>Gettign int array code</p>\n<pre><code>public static String getIntArrayCode(String string) {\n  int[] result = new int[string.length()];\n  for (int i = 0; i &lt; string.length(); i) {\n    int numericValue = Character.codePointAt(string, i);\n    result[i] = numericValue &lt;&lt; 3;\n  }\n  StringBuffer arrayCode = new StringBuffer();\n  arrayCode.append(&quot;new int[]{&quot;);\n  for (int i = 0; i &lt; result.length; i) {\n    arrayCode.append(result[i]);\n    if (i &lt; result.length - 1) {\n      arrayCode.append(&quot;,&quot;);\n    }\n  }\n  arrayCode.append(&quot;}&quot;);\n  return arrayCode.toString();\n}\n</code></pre>\n<p>This int array needs to be copied to the code.</p>\n<p>To unobfuscate, use the method</p>\n<pre><code>public static String getString(int[] data) {\n  StringBuffer test = new StringBuffer();\n  for (int i = 0; i &lt; data.length; i) {\n    int t = data[i] &gt;&gt; 3;\n    test.append((char) t);\n  }\n  return test.toString();\n}\n</code></pre>\n<p>Usage :</p>\n<pre><code>//&quot;Hello12345&amp;%$&quot;;\nint []data1 = new int[]{1152,1616,1728,1728,1776,784,800,816,832,848,608,592,576};\nSystem.out.println(getString(data1));\n</code></pre>\n<p>Obfuscating the application (eg : using Proguard ) would help to hide the decode function to some extend.</p>\n"}],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14292,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":53742372,"answer_count":4,"score":2,"last_activity_date":1680882864,"creation_date":1483374357,"question_id":41430227,"body_markdown":"I&#39;m working on a project and I need specific URL calls to be hidden; I don&#39;t want this URL to be visible. Here&#39;s an example of how the URL call would look.\r\n\r\n    public void example(View view) {\r\n        goToUrl(&quot;example.com&quot;);\r\n    }","title":"Obfuscate Strings in Java","body":"<p>I'm working on a project and I need specific URL calls to be hidden; I don't want this URL to be visible. Here's an example of how the URL call would look.</p>\n<pre><code>public void example(View view) {\n    goToUrl(&quot;example.com&quot;);\n}\n</code></pre>\n"},{"tags":["java","vscode-debugger"],"comments":[{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680735445,"post_id":75944005,"comment_id":133950647,"body_markdown":"Could you please post the exact exception as written?  And the entire call stack if possible.","body":"Could you please post the exact exception as written?  And the entire call stack if possible."},{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":0,"creation_date":1680735756,"post_id":75944005,"comment_id":133950686,"body_markdown":"It will locate config.xml under ${workspaceRoot}/data, is your config.xml there?","body":"It will locate config.xml under ${workspaceRoot}/data, is your config.xml there?"},{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":0,"creation_date":1680735821,"post_id":75944005,"comment_id":133950696,"body_markdown":"By the way, you should create a launch config from vscode instead edit the launch file directly. Changing startup config is absolutely no problem.","body":"By the way, you should create a launch config from vscode instead edit the launch file directly. Changing startup config is absolutely no problem."}],"answers":[{"tags":[],"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680736521,"creation_date":1680735713,"answer_id":75944595,"question_id":75944005,"body_markdown":"&gt; A JAR (&quot;Java archive&quot;) file is a package file format typically used to\r\n&gt; aggregate many Java class files and associated metadata and resources\r\n&gt; (text, images, etc.) into one file for distribution.  JAR files are\r\n&gt; archive files that include a Java-specific manifest file. They are\r\n&gt; built on the ZIP format and typically have a .jar file extension.\r\n\r\nYou can debug a jar file, but without seeing the actual source code that you want to understand, you won&#39;t get too much benefit.  This is how.\r\n\r\nhttps://stackoverflow.com/questions/19842322/how-can-i-debug-a-jar-at-runtime\r\n\r\nIn order to debug a Java application, line by line, you will need the source code.  Since you have the jar file, you can get the source code using this tool.\r\n\r\nhttp://java-decompiler.github.io/\r\n\r\nThen download Visual Studio Code IDE (it&#39;s free).  Looks like you already have it!  Install the Java extension.  Then you should be able to compile your .java files into .class files and step through your code since the IDE has tools to do so.\r\n\r\nTo do both, use this reference:\r\n\r\nhttps://stackoverflow.com/questions/62041053/how-to-debug-code-by-stepping-into-jar-file-code-for-which-i-have-the-source-cod","title":"Trouble making VSCode Java launch.json for large project","body":"<blockquote>\n<p>A JAR (&quot;Java archive&quot;) file is a package file format typically used to\naggregate many Java class files and associated metadata and resources\n(text, images, etc.) into one file for distribution.  JAR files are\narchive files that include a Java-specific manifest file. They are\nbuilt on the ZIP format and typically have a .jar file extension.</p>\n</blockquote>\n<p>You can debug a jar file, but without seeing the actual source code that you want to understand, you won't get too much benefit.  This is how.</p>\n<p><a href=\"https://stackoverflow.com/questions/19842322/how-can-i-debug-a-jar-at-runtime\">how can I debug a jar at runtime?</a></p>\n<p>In order to debug a Java application, line by line, you will need the source code.  Since you have the jar file, you can get the source code using this tool.</p>\n<p><a href=\"http://java-decompiler.github.io/\" rel=\"nofollow noreferrer\">http://java-decompiler.github.io/</a></p>\n<p>Then download Visual Studio Code IDE (it's free).  Looks like you already have it!  Install the Java extension.  Then you should be able to compile your .java files into .class files and step through your code since the IDE has tools to do so.</p>\n<p>To do both, use this reference:</p>\n<p><a href=\"https://stackoverflow.com/questions/62041053/how-to-debug-code-by-stepping-into-jar-file-code-for-which-i-have-the-source-cod\">How to debug code by stepping into jar file code for which I have the source code in Visual Studio Code?</a></p>\n"}],"owner":{"account_id":7526469,"reputation":111,"user_id":5716464,"display_name":"Liz C."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680882780,"creation_date":1680729056,"question_id":75944005,"body_markdown":"I have this command to get output from a program:\r\n\r\n```sh\r\nproject_path/data $ java -classpath ../jars/jdom.jar:[etc, more jars] path/to/class/MainClass config.xml command arg1 arg2\r\n```\r\n\r\nWhen I do this, I get the output I expect. But I want to be able to debug it so I can step through as the code runs. \r\n\r\nSo I tried making a launch.json file:\r\n\r\n```json\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;name&quot;: &quot;Run Project&quot;,\r\n            &quot;cwd&quot;: &quot;${workspaceRoot}/data&quot;,\r\n            &quot;mainClass&quot;: &quot;path.to.class.MainClass&quot;,\r\n            &quot;args&quot;: [&quot;config.xml&quot;, &quot;command&quot;, &quot;arg1&quot;, &quot;arg2&quot;]\r\n        },\r\n    ]\r\n}\r\n```\r\n\r\nHowever, when I do it this way I always get an error that the config file cannot be found, so it seems like something about the paths is not being resolved the same way when I run a JVM directly from the terminal as when I try to call the class directly with a `launch.json`, but because I&#39;m not super familiar with Java I don&#39;t know how to fix this. ","title":"Trouble making VSCode Java launch.json for large project","body":"<p>I have this command to get output from a program:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>project_path/data $ java -classpath ../jars/jdom.jar:[etc, more jars] path/to/class/MainClass config.xml command arg1 arg2\n</code></pre>\n<p>When I do this, I get the output I expect. But I want to be able to debug it so I can step through as the code runs.</p>\n<p>So I tried making a launch.json file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;name&quot;: &quot;Run Project&quot;,\n            &quot;cwd&quot;: &quot;${workspaceRoot}/data&quot;,\n            &quot;mainClass&quot;: &quot;path.to.class.MainClass&quot;,\n            &quot;args&quot;: [&quot;config.xml&quot;, &quot;command&quot;, &quot;arg1&quot;, &quot;arg2&quot;]\n        },\n    ]\n}\n</code></pre>\n<p>However, when I do it this way I always get an error that the config file cannot be found, so it seems like something about the paths is not being resolved the same way when I run a JVM directly from the terminal as when I try to call the class directly with a <code>launch.json</code>, but because I'm not super familiar with Java I don't know how to fix this.</p>\n"},{"tags":["java","sockets","networking","tcp","udp"],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679743309,"creation_date":1679743309,"answer_id":75841356,"question_id":75841186,"body_markdown":"&gt; The blocking receive will return when I receive data from ANY remote UDP socket.\r\n\r\nAn unbound UDP socket will receive data from any remote UDP socket - as long as it is destined for the specific IP and port the local socket is bound to. So, if you want to have multiple UDP endpoints with different ports in your application, you need to create multiple sockets for this. A common use case for this are real-time audio and video in SIP, H.323, WebRTC ... where each media channel is typically using a different port.\r\n\r\nApart from that it can also be useful to actually bind UDP sockets so that one socket receives data only from a specific remote endpoint. This can make programming easier but also can help with scaling the application by removing the single socket bottleneck.","title":"Are non-blocking UDP sockets completely redundant?","body":"<blockquote>\n<p>The blocking receive will return when I receive data from ANY remote UDP socket.</p>\n</blockquote>\n<p>An unbound UDP socket will receive data from any remote UDP socket - as long as it is destined for the specific IP and port the local socket is bound to. So, if you want to have multiple UDP endpoints with different ports in your application, you need to create multiple sockets for this. A common use case for this are real-time audio and video in SIP, H.323, WebRTC ... where each media channel is typically using a different port.</p>\n<p>Apart from that it can also be useful to actually bind UDP sockets so that one socket receives data only from a specific remote endpoint. This can make programming easier but also can help with scaling the application by removing the single socket bottleneck.</p>\n"}],"owner":{"account_id":12573545,"reputation":897,"user_id":9146804,"display_name":"cmhteixeira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680881640,"creation_date":1679741454,"question_id":75841186,"body_markdown":"How are non-blocking UDP sockets **not** completely pointless?\r\n\r\nI see no advantage of using them over blocking UDP sockets, and don&#39;t understand why they exist as a construct. Books don&#39;t address this. What am I missing?\r\n\r\n### Contextualizing my understanding\r\n\r\nI understand the advantages of non-blocking TCP sockets to write scalable servers. As a TCP socket (blocking or non-blocking) represents a connection to a **single** remote host, it can only send and receive data from that host. So if you have 1 thread serving more than 1 connection, i.e. more than 1 socket instance per thread, than if one of them blocks, the remaining won&#39;t get served. So you need a model of 1 thread per connection (i.e. socket instance), but this doesn&#39;t scale well because each thread comes at a cost (famous C10k problem).\r\n\r\nNon-blocking solves the issue by having 1 thread serving many TCP connections. In Java parlance, a Selector is able to tell when **at least** one Channel is ready for IO and tell which Channels are ready. A Selector in non-blocking IO is a multiplexer across many TCP sockets.\r\n\r\nNow, in UDP, a `DatagramSocket` already acts as a multiplexer.\r\nA single (blocking) UDP socket can receive (and send) datagrams from any remote host, so when I do\r\n\r\n```scala\r\nimport java.net.{DatagramPacket, DatagramSocket}\r\n\r\nval udpSocket = new DatagramSocket(&lt;some-port&gt;)\r\ndef run(): Unit = {\r\n  val packet = new Datagrampacket(new Array[Byte](150), 150)\r\n  udpSocket.receive(packet)\r\n  // datagram contains the source IP and port.\r\n  // do something with the datagram\r\n  run()\r\n}\r\n```\r\n\r\nThe blocking `receive` will return when I receive data from **ANY** remote UDP socket. So the behavior that is only achievable with non-blocking channels/selectors in TCP, can be achieved by blocking UDP due to the nature of UDP.\r\n\r\nDoes this make sense?\r\n\r\n1. If so, why do we also have the concept of non-blocking UDP connections in Java? What value do they add?\r\n2. I imagine the underlying OS also has that construct? Why?\r\n\r\n","title":"Are non-blocking UDP sockets completely redundant?","body":"<p>How are non-blocking UDP sockets <strong>not</strong> completely pointless?</p>\n<p>I see no advantage of using them over blocking UDP sockets, and don't understand why they exist as a construct. Books don't address this. What am I missing?</p>\n<h3>Contextualizing my understanding</h3>\n<p>I understand the advantages of non-blocking TCP sockets to write scalable servers. As a TCP socket (blocking or non-blocking) represents a connection to a <strong>single</strong> remote host, it can only send and receive data from that host. So if you have 1 thread serving more than 1 connection, i.e. more than 1 socket instance per thread, than if one of them blocks, the remaining won't get served. So you need a model of 1 thread per connection (i.e. socket instance), but this doesn't scale well because each thread comes at a cost (famous C10k problem).</p>\n<p>Non-blocking solves the issue by having 1 thread serving many TCP connections. In Java parlance, a Selector is able to tell when <strong>at least</strong> one Channel is ready for IO and tell which Channels are ready. A Selector in non-blocking IO is a multiplexer across many TCP sockets.</p>\n<p>Now, in UDP, a <code>DatagramSocket</code> already acts as a multiplexer.\nA single (blocking) UDP socket can receive (and send) datagrams from any remote host, so when I do</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import java.net.{DatagramPacket, DatagramSocket}\n\nval udpSocket = new DatagramSocket(&lt;some-port&gt;)\ndef run(): Unit = {\n  val packet = new Datagrampacket(new Array[Byte](150), 150)\n  udpSocket.receive(packet)\n  // datagram contains the source IP and port.\n  // do something with the datagram\n  run()\n}\n</code></pre>\n<p>The blocking <code>receive</code> will return when I receive data from <strong>ANY</strong> remote UDP socket. So the behavior that is only achievable with non-blocking channels/selectors in TCP, can be achieved by blocking UDP due to the nature of UDP.</p>\n<p>Does this make sense?</p>\n<ol>\n<li>If so, why do we also have the concept of non-blocking UDP connections in Java? What value do they add?</li>\n<li>I imagine the underlying OS also has that construct? Why?</li>\n</ol>\n"},{"tags":["java","spring-boot","jersey","jax-rs"],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680881302,"creation_date":1680878225,"question_id":75959417,"body_markdown":"I have the below code using which I am able to fetch the input Stream using getEntityStream().\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    \tpublic String getRequestEntityStream(ContainerRequestContext requestContext) throws IOException {\r\n\r\n    \t\ttry (InputStream in = requestContext.getEntityStream()) {\r\n    \t\t\tByteArrayOutputStream out = new ByteArrayOutputStream(64 * 1024);\r\n    \t\t\tIOUtils.copy(in, out);\r\n    \t\t\tbyte[] entity = out.toByteArray();\r\n\r\n    \t\t\t// reset the input stream\r\n    \t\t\tByteArrayInputStream inNew = new ByteArrayInputStream(entity);\r\n    \t\t\trequestContext.setEntityStream(inNew);\r\n\r\n    \t\t\tString str = new String(entity);\r\n    \t\t\treturn str;\r\n    \t\t}\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**I am able to fetch the entity stream just fine as below:**\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n\r\n    Request Entity Stream :grant_type=password&amp;username=system&amp;password=system&amp;client_id=xxx\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**The problem is the API call throws error as below after I read the Request Entity Stream. The error shows that grant_type is missing even though its clearly evident from the above data of &quot;Request Entity Stream&quot; that &quot;grant_type&quot; is present. May be the data type where I did &quot;setEntityStream&quot; isnt working. How can I just read the input stream without a need to convert to ByteArrayInputStream[]. What am I missing ? Thanks in advance.**\r\n\r\n***UPDATE:*** I found some details [here][1] regarding the JBOSS env and I use the same. However, how do I get the input stream ?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47349109/formparameter-data-becomes-null-after-reading-and-setting-the-same-data-in-cont\r\n  [2]: https://i.stack.imgur.com/8WSFW.png","title":"API breaks after reading entityStream using ContainerRequestContext in JBOSS environment","body":"<p>I have the below code using which I am able to fetch the input Stream using getEntityStream().</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public String getRequestEntityStream(ContainerRequestContext requestContext) throws IOException {\n\n        try (InputStream in = requestContext.getEntityStream()) {\n            ByteArrayOutputStream out = new ByteArrayOutputStream(64 * 1024);\n            IOUtils.copy(in, out);\n            byte[] entity = out.toByteArray();\n\n            // reset the input stream\n            ByteArrayInputStream inNew = new ByteArrayInputStream(entity);\n            requestContext.setEntityStream(inNew);\n\n            String str = new String(entity);\n            return str;\n        }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>I am able to fetch the entity stream just fine as below:</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Request Entity Stream :grant_type=password&amp;username=system&amp;password=system&amp;client_id=xxx</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>The problem is the API call throws error as below after I read the Request Entity Stream. The error shows that grant_type is missing even though its clearly evident from the above data of &quot;Request Entity Stream&quot; that &quot;grant_type&quot; is present. May be the data type where I did &quot;setEntityStream&quot; isnt working. How can I just read the input stream without a need to convert to ByteArrayInputStream[]. What am I missing ? Thanks in advance.</strong></p>\n<p><em><strong>UPDATE:</strong></em> I found some details <a href=\"https://stackoverflow.com/questions/47349109/formparameter-data-becomes-null-after-reading-and-setting-the-same-data-in-cont\">here</a> regarding the JBOSS env and I use the same. However, how do I get the input stream ?</p>\n<p><a href=\"https://i.stack.imgur.com/8WSFW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8WSFW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1680364907,"post_id":75864882,"comment_id":133887756,"body_markdown":"These issues may be relevant: https://github.com/reactor/reactor-core/issues/2942 and https://github.com/reactor/reactor-core/issues/3106. BR","body":"These issues may be relevant: <a href=\"https://github.com/reactor/reactor-core/issues/2942\" rel=\"nofollow noreferrer\">github.com/reactor/reactor-core/issues/2942</a> and <a href=\"https://github.com/reactor/reactor-core/issues/3106\" rel=\"nofollow noreferrer\">github.com/reactor/reactor-core/issues/3106</a>. BR"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1680375322,"post_id":75864882,"comment_id":133889314,"body_markdown":"Hey @RoarS. thank you for your comment here. Do you know if there is an alternative, maybe using other reactive operators, which will help mitigate / workaround this issue?","body":"Hey @RoarS. thank you for your comment here. Do you know if there is an alternative, maybe using other reactive operators, which will help mitigate / workaround this issue?"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680881275,"creation_date":1679998031,"question_id":75864882,"body_markdown":"What I am trying to achieve:\r\n\r\nSaving a Flux with any spring data (elastic / mongo / cassandra) reactive repository.\r\n\r\nWhat I tried:\r\n\r\n```\r\npublic Flux&lt;Foo&gt; issue() {\r\n        Sinks.Many&lt;Foo&gt; sink = Sinks.many().unicast().onBackpressureBuffer();\r\n        kafkaReceiver.receive()\r\n                .map(message -&gt; convertMesageToFoo(message)\r\n                )\r\n                .bufferTimeout(Integer.MAX_VALUE, Duration.ofMillis(500))//tried many values for maxSize and maxTime\r\n                .subscribe(new Subscriber&lt;&gt;() {\r\n                    private Subscription subscription;\r\n                    volatile boolean upstreamComplete = false;\r\n\r\n                    @Override\r\n                    public void onSubscribe(Subscription subscription) {\r\n                        this.subscription = subscription;\r\n                        subscription.request(1);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onNext(List&lt;Foo&gt; foos) {\r\n                        reactiveElasticRepository.saveAll(foos)\r\n                                .map(sink::tryEmitNext)\r\n                                .doOnComplete(() -&gt; {\r\n                                    if (!upstreamComplete) {\r\n                                        subscription.request(1);\r\n                                    } else {\r\n                                        sink.tryEmitComplete();\r\n                                    }\r\n                                })\r\n                                .subscribe();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(Throwable throwable) {\r\n                        throwable.printStackTrace();\r\n                        System.err.println(&quot;I am able to reproduce this issue 100% &quot; + throwable.getLocalizedMessage());\r\n                        subscription.cancel();\r\n                        sink.tryEmitError(throwable);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onComplete() {\r\n                        upstreamComplete = true;\r\n                    }\r\n                });\r\n\r\n        return sink.asFlux();\r\n    }\r\n```\r\n\r\nIssue:\r\n\r\nReproducible 100%, I am observing this error:\r\n\r\n```\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.core.Exceptions$OverflowException: Could not emit buffer due to lack of requests\r\nCaused by: reactor.core.Exceptions$OverflowException: Could not emit buffer due to lack of requests\r\n\tat reactor.core.Exceptions.failWithOverflow(Exceptions.java:249)\r\n\tat reactor.core.publisher.FluxBufferTimeout$BufferTimeoutSubscriber.flushCallback(FluxBufferTimeout.java:227)\r\n\tat reactor.core.publisher.FluxBufferTimeout$BufferTimeoutSubscriber.lambda$new$0(FluxBufferTimeout.java:158)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nQuestion:\r\n\r\nHow to workaround or fix this issue?","title":"reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.core.Exceptions$OverflowException: Could not emit buffer due to lack of requests","body":"<p>What I am trying to achieve:</p>\n<p>Saving a Flux with any spring data (elastic / mongo / cassandra) reactive repository.</p>\n<p>What I tried:</p>\n<pre><code>public Flux&lt;Foo&gt; issue() {\n        Sinks.Many&lt;Foo&gt; sink = Sinks.many().unicast().onBackpressureBuffer();\n        kafkaReceiver.receive()\n                .map(message -&gt; convertMesageToFoo(message)\n                )\n                .bufferTimeout(Integer.MAX_VALUE, Duration.ofMillis(500))//tried many values for maxSize and maxTime\n                .subscribe(new Subscriber&lt;&gt;() {\n                    private Subscription subscription;\n                    volatile boolean upstreamComplete = false;\n\n                    @Override\n                    public void onSubscribe(Subscription subscription) {\n                        this.subscription = subscription;\n                        subscription.request(1);\n                    }\n\n                    @Override\n                    public void onNext(List&lt;Foo&gt; foos) {\n                        reactiveElasticRepository.saveAll(foos)\n                                .map(sink::tryEmitNext)\n                                .doOnComplete(() -&gt; {\n                                    if (!upstreamComplete) {\n                                        subscription.request(1);\n                                    } else {\n                                        sink.tryEmitComplete();\n                                    }\n                                })\n                                .subscribe();\n                    }\n\n                    @Override\n                    public void onError(Throwable throwable) {\n                        throwable.printStackTrace();\n                        System.err.println(&quot;I am able to reproduce this issue 100% &quot; + throwable.getLocalizedMessage());\n                        subscription.cancel();\n                        sink.tryEmitError(throwable);\n                    }\n\n                    @Override\n                    public void onComplete() {\n                        upstreamComplete = true;\n                    }\n                });\n\n        return sink.asFlux();\n    }\n</code></pre>\n<p>Issue:</p>\n<p>Reproducible 100%, I am observing this error:</p>\n<pre><code>reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.core.Exceptions$OverflowException: Could not emit buffer due to lack of requests\nCaused by: reactor.core.Exceptions$OverflowException: Could not emit buffer due to lack of requests\n    at reactor.core.Exceptions.failWithOverflow(Exceptions.java:249)\n    at reactor.core.publisher.FluxBufferTimeout$BufferTimeoutSubscriber.flushCallback(FluxBufferTimeout.java:227)\n    at reactor.core.publisher.FluxBufferTimeout$BufferTimeoutSubscriber.lambda$new$0(FluxBufferTimeout.java:158)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Question:</p>\n<p>How to workaround or fix this issue?</p>\n"},{"tags":["java","unit-testing","logging"],"answers":[{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1345167410,"creation_date":1345167410,"answer_id":11998725,"question_id":11998713,"body_markdown":"I wouldn&#39;t unit test code that does nothing but call into a library that you trust.  \r\nDo you trust your logging library? If the test fails, is it because there&#39;s a bug in the library, or simply because you haven&#39;t configured the library correctly? Do you _care_ about testing the configuration?","title":"Should we unit test logging?","body":"<p>I wouldn't unit test code that does nothing but call into a library that you trust.<br>\nDo you trust your logging library? If the test fails, is it because there's a bug in the library, or simply because you haven't configured the library correctly? Do you <em>care</em> about testing the configuration?</p>\n"},{"tags":[],"owner":{"account_id":48650,"reputation":4439,"user_id":144604,"accept_rate":73,"display_name":"Carl Raymond"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1345168270,"creation_date":1345168270,"answer_id":11998830,"question_id":11998713,"body_markdown":"It&#39;s not up to you to test the logging library.  But it can be worthwhile to test that when an exception is thrown, your class logs a message at the right level.  What you&#39;re testing is that your code does the right thing with the logging library.\r\n\r\nTo make the code above testable, use dependency injection.  This assumes that the logger implements an interface, `ILog`. You would pass in the logger as a constructor parameter to class A.  Then the test code would create a mock implementation of `ILog`, and pass that into the constructor.  Not shown in the code above is how the exception comes about, but presumably it would be through some other dependent object.  So you mock that as well, and make it throw an exception.  Then check that the mock `ILog` invoked the `error` method.  Maybe you want to examine the message that it logs, but that might be going too far, by making the test code  fragile.","title":"Should we unit test logging?","body":"<p>It's not up to you to test the logging library.  But it can be worthwhile to test that when an exception is thrown, your class logs a message at the right level.  What you're testing is that your code does the right thing with the logging library.</p>\n\n<p>To make the code above testable, use dependency injection.  This assumes that the logger implements an interface, <code>ILog</code>. You would pass in the logger as a constructor parameter to class A.  Then the test code would create a mock implementation of <code>ILog</code>, and pass that into the constructor.  Not shown in the code above is how the exception comes about, but presumably it would be through some other dependent object.  So you mock that as well, and make it throw an exception.  Then check that the mock <code>ILog</code> invoked the <code>error</code> method.  Maybe you want to examine the message that it logs, but that might be going too far, by making the test code  fragile.</p>\n"},{"tags":[],"owner":{"account_id":3533121,"reputation":1545,"user_id":2952093,"accept_rate":88,"display_name":"kap"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1584387690,"creation_date":1493024851,"answer_id":43583942,"question_id":11998713,"body_markdown":"Yes, we should test logging when the logging is doing something that is required. For example, you have hooks in some external application that scans the log for certain events. In that case you certainly want to ensure the logging is done.\r\n\r\nOf course you do not want to test every loging event, and I would think that mostly only ERROR (and not all of them) should be tested.\r\n\r\nWith modern logging frameworks such as SLF4j you can simply inject a custom handler that stores the events for in memory and that can be asserted against afterwards.\r\n\r\nThere are two of them that come to my mind right now:\r\n\r\n[SLF4JTesting][1]: Requires no modification of logging configuration but requires to inject a logging factory which might lead to modified code.\r\n\r\n[SLF4J Test][2]: Not as powerful as slf4jtesting and seems not to be developed, but works well with existing code. No modifications besides the logger configuration for test.\r\n\r\n\r\nWhen using SLF4J Test, the assertions are quite strict and check the whole event for equality. A custom matcher is probably interesting in such a case:\r\n\r\n    public static Matcher&lt;LoggingEvent&gt; errorMessageContains(final String s) {\r\n        return new TypeSafeMatcher&lt;LoggingEvent&gt;() {\r\n            @Override\r\n            public void describeTo(final Description description) {\r\n                description.appendText(&quot; type &quot; + Level.ERROR + &quot; should contain &quot;)\r\n                        .appendValue(s);\r\n            }\r\n\r\n            @Override\r\n            protected void describeMismatchSafely(final LoggingEvent item, final Description mismatchDescription) {\r\n                mismatchDescription.appendText(&quot; was type &quot;).appendValue(l)\r\n                        .appendText(&quot; message &quot;).appendValue(item.getMessage());\r\n            }\r\n\r\n            @Override\r\n            protected boolean matchesSafely(final LoggingEvent item) {\r\n                return item.getLevel().equals(Level.ERROR)\r\n                        &amp;&amp; item.getMessage().contains(s);\r\n            }\r\n        };\r\n    }\r\n\r\nThis only checks that the message contains a text but not if it is equal. Thus, when the message is modified to fix a typo or give more detail, the test does not break if the essential part is still contained.\r\n\r\n  [1]: https://github.com/portingle/slf4jtesting\r\n  [2]: http://projects.lidalia.org.uk/slf4j-test","title":"Should we unit test logging?","body":"<p>Yes, we should test logging when the logging is doing something that is required. For example, you have hooks in some external application that scans the log for certain events. In that case you certainly want to ensure the logging is done.</p>\n\n<p>Of course you do not want to test every loging event, and I would think that mostly only ERROR (and not all of them) should be tested.</p>\n\n<p>With modern logging frameworks such as SLF4j you can simply inject a custom handler that stores the events for in memory and that can be asserted against afterwards.</p>\n\n<p>There are two of them that come to my mind right now:</p>\n\n<p><a href=\"https://github.com/portingle/slf4jtesting\" rel=\"noreferrer\">SLF4JTesting</a>: Requires no modification of logging configuration but requires to inject a logging factory which might lead to modified code.</p>\n\n<p><a href=\"http://projects.lidalia.org.uk/slf4j-test\" rel=\"noreferrer\">SLF4J Test</a>: Not as powerful as slf4jtesting and seems not to be developed, but works well with existing code. No modifications besides the logger configuration for test.</p>\n\n<p>When using SLF4J Test, the assertions are quite strict and check the whole event for equality. A custom matcher is probably interesting in such a case:</p>\n\n<pre><code>public static Matcher&lt;LoggingEvent&gt; errorMessageContains(final String s) {\n    return new TypeSafeMatcher&lt;LoggingEvent&gt;() {\n        @Override\n        public void describeTo(final Description description) {\n            description.appendText(\" type \" + Level.ERROR + \" should contain \")\n                    .appendValue(s);\n        }\n\n        @Override\n        protected void describeMismatchSafely(final LoggingEvent item, final Description mismatchDescription) {\n            mismatchDescription.appendText(\" was type \").appendValue(l)\n                    .appendText(\" message \").appendValue(item.getMessage());\n        }\n\n        @Override\n        protected boolean matchesSafely(final LoggingEvent item) {\n            return item.getLevel().equals(Level.ERROR)\n                    &amp;&amp; item.getMessage().contains(s);\n        }\n    };\n}\n</code></pre>\n\n<p>This only checks that the message contains a text but not if it is equal. Thus, when the message is modified to fix a typo or give more detail, the test does not break if the essential part is still contained.</p>\n"},{"tags":[],"owner":{"account_id":7826,"reputation":8262,"user_id":13729,"accept_rate":43,"display_name":"ssmith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502368355,"creation_date":1502368355,"answer_id":45613853,"question_id":11998713,"body_markdown":"If the logging is a business requirement, and will provide business value (i.e. in the event of a failure, to diagnose or triage a problem), then you should treat it as any other requirement. As such, you should probably write unit tests not to verify that your logging library works, but to verify that, under the expected circumstances, your code logs what it should.\r\n\r\nMore on this topic: https://ardalis.com/logging-and-monitoring-are-requirements","title":"Should we unit test logging?","body":"<p>If the logging is a business requirement, and will provide business value (i.e. in the event of a failure, to diagnose or triage a problem), then you should treat it as any other requirement. As such, you should probably write unit tests not to verify that your logging library works, but to verify that, under the expected circumstances, your code logs what it should.</p>\n\n<p>More on this topic: <a href=\"https://ardalis.com/logging-and-monitoring-are-requirements\" rel=\"nofollow noreferrer\">https://ardalis.com/logging-and-monitoring-are-requirements</a></p>\n"},{"tags":[],"owner":{"account_id":2048905,"reputation":109,"user_id":1828339,"accept_rate":80,"display_name":"Ming Cheng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505979540,"creation_date":1505979540,"answer_id":46338107,"question_id":11998713,"body_markdown":"there&#39;s another way: you can mock LogFactory! for example:\r\n\r\n    import junit.framework.Assert;\r\n    import mockit.Mock;\r\n    import mockit.MockUp;\r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    import org.junit.Test;\r\n    \r\n    public class XXXTest {\r\n        class MyLog implements Log {\r\n            public static final String INFO = &quot;info&quot;;\r\n    \r\n            private String logLevel;\r\n            private Object logContent;\r\n    \r\n            public String getLogLevel() {\r\n                return logLevel;\r\n            }\r\n    \r\n            public Object getLogContent() {\r\n                return logContent;\r\n            }\r\n    \r\n            @Override\r\n            public void info(Object o) {\r\n                logLevel = &quot;info&quot;;\r\n                logContent = o;\r\n            }\r\n            \r\n            //Implement other methods\r\n        }\r\n    \r\n        @Test\r\n        public void testXXXFunction() {\r\n            final MyLog log = new MyLog();\r\n            new MockUp&lt;LogFactory&gt;() {\r\n                @Mock\r\n                public Log getLog(String name) {\r\n                    return log;\r\n                }\r\n            };\r\n    \r\n            //invoke function and log by MyLog\r\n            FunctionToBeTest.invoke();\r\n            Assert.assertEquals(&quot;expected log text&quot;, log.getLogContent());\r\n        }\r\n    }\r\n   \r\ngood luck! ","title":"Should we unit test logging?","body":"<p>there's another way: you can mock LogFactory! for example:</p>\n\n<pre><code>import junit.framework.Assert;\nimport mockit.Mock;\nimport mockit.MockUp;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.junit.Test;\n\npublic class XXXTest {\n    class MyLog implements Log {\n        public static final String INFO = \"info\";\n\n        private String logLevel;\n        private Object logContent;\n\n        public String getLogLevel() {\n            return logLevel;\n        }\n\n        public Object getLogContent() {\n            return logContent;\n        }\n\n        @Override\n        public void info(Object o) {\n            logLevel = \"info\";\n            logContent = o;\n        }\n\n        //Implement other methods\n    }\n\n    @Test\n    public void testXXXFunction() {\n        final MyLog log = new MyLog();\n        new MockUp&lt;LogFactory&gt;() {\n            @Mock\n            public Log getLog(String name) {\n                return log;\n            }\n        };\n\n        //invoke function and log by MyLog\n        FunctionToBeTest.invoke();\n        Assert.assertEquals(\"expected log text\", log.getLogContent());\n    }\n}\n</code></pre>\n\n<p>good luck! </p>\n"},{"tags":[],"owner":{"account_id":204774,"reputation":2575,"user_id":453176,"accept_rate":90,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597397881,"creation_date":1597397881,"answer_id":63410323,"question_id":11998713,"body_markdown":"I would definitely consider unit tests for logging scenarios. when testing, think about the information you would require in a situation where the code has failed. if you have a live issue you&#39;d want to be reassured that you have enough information to find the cause of the issue.\r\n\r\navoid excessive logging as you may not see *the wood through the trees* when debugging.\r\n","title":"Should we unit test logging?","body":"<p>I would definitely consider unit tests for logging scenarios. when testing, think about the information you would require in a situation where the code has failed. if you have a live issue you'd want to be reassured that you have enough information to find the cause of the issue.</p>\n<p>avoid excessive logging as you may not see <em>the wood through the trees</em> when debugging.</p>\n"},{"tags":[],"owner":{"account_id":10026387,"reputation":183,"user_id":7414461,"display_name":"vvauban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680881197,"creation_date":1680881197,"answer_id":75959808,"question_id":11998713,"body_markdown":"I used the Baeldung website tip: https://www.baeldung.com/junit-asserting-logs ✌\r\n\r\n1️⃣ You have a class creating logs:\r\n\r\n    \r\n        public class BusinessWorker {\r\n        private static Logger LOGGER = LoggerFactory.getLogger(BusinessWorker.class);\r\n    \r\n        public void generateLogs(String msg) {\r\n            LOGGER.trace(msg);\r\n            LOGGER.debug(msg);\r\n            LOGGER.info(msg);\r\n            LOGGER.warn(msg);\r\n            LOGGER.error(msg);\r\n        }\r\n    }\r\n\r\n2️⃣ You use copy-verbatim another class stacking the logs temporarily:\r\n\r\n\r\n    public class MemoryAppender extends ListAppender&lt;ILoggingEvent&gt; {\r\n        public void reset() {\r\n            this.list.clear();\r\n        }\r\n    \r\n        public boolean contains(String string, Level level) {\r\n            return this.list.stream()\r\n              .anyMatch(event -&gt; event.toString().contains(string)\r\n                &amp;&amp; event.getLevel().equals(level));\r\n        }\r\n    \r\n        public int countEventsForLogger(String loggerName) {\r\n            return (int) this.list.stream()\r\n              .filter(event -&gt; event.getLoggerName().contains(loggerName))\r\n              .count();\r\n        }\r\n    \r\n        public List&lt;ILoggingEvent&gt; search(String string) {\r\n            return this.list.stream()\r\n              .filter(event -&gt; event.toString().contains(string))\r\n              .collect(Collectors.toList());\r\n        }\r\n    \r\n        public List&lt;ILoggingEvent&gt; search(String string, Level level) {\r\n            return this.list.stream()\r\n              .filter(event -&gt; event.toString().contains(string)\r\n                &amp;&amp; event.getLevel().equals(level))\r\n              .collect(Collectors.toList());\r\n        }\r\n    \r\n        public int getSize() {\r\n            return this.list.size();\r\n        }\r\n    \r\n        public List&lt;ILoggingEvent&gt; getLoggedEvents() {\r\n            return Collections.unmodifiableList(this.list);\r\n        }\r\n    }\r\n\r\n\r\n\r\n3️⃣ You use it in your unit test\r\n\r\n\r\n    @Before\r\n    public void setup() {\r\n        Logger logger = (Logger) LoggerFactory.getLogger(LOGGER_NAME);\r\n        memoryAppender = new MemoryAppender();\r\n        memoryAppender.setContext((LoggerContext) LoggerFactory.getILoggerFactory());\r\n        logger.setLevel(Level.DEBUG);\r\n        logger.addAppender(memoryAppender);\r\n        memoryAppender.start();\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        BusinessWorker worker = new BusinessWorker();\r\n        worker.generateLogs(MSG);\r\n            \r\n        assertThat(memoryAppender.countEventsForLogger(LOGGER_NAME)).isEqualTo(4);\r\n        assertThat(memoryAppender.search(MSG, Level.INFO).size()).isEqualTo(1);\r\n        assertThat(memoryAppender.contains(MSG, Level.TRACE)).isFalse();\r\n    }\r\n\r\n\r\n","title":"Should we unit test logging?","body":"<p>I used the Baeldung website tip: <a href=\"https://www.baeldung.com/junit-asserting-logs\" rel=\"nofollow noreferrer\">https://www.baeldung.com/junit-asserting-logs</a> ✌</p>\n<p>1️⃣ You have a class creating logs:</p>\n<pre><code>    public class BusinessWorker {\n    private static Logger LOGGER = LoggerFactory.getLogger(BusinessWorker.class);\n\n    public void generateLogs(String msg) {\n        LOGGER.trace(msg);\n        LOGGER.debug(msg);\n        LOGGER.info(msg);\n        LOGGER.warn(msg);\n        LOGGER.error(msg);\n    }\n}\n</code></pre>\n<p>2️⃣ You use copy-verbatim another class stacking the logs temporarily:</p>\n<pre><code>public class MemoryAppender extends ListAppender&lt;ILoggingEvent&gt; {\n    public void reset() {\n        this.list.clear();\n    }\n\n    public boolean contains(String string, Level level) {\n        return this.list.stream()\n          .anyMatch(event -&gt; event.toString().contains(string)\n            &amp;&amp; event.getLevel().equals(level));\n    }\n\n    public int countEventsForLogger(String loggerName) {\n        return (int) this.list.stream()\n          .filter(event -&gt; event.getLoggerName().contains(loggerName))\n          .count();\n    }\n\n    public List&lt;ILoggingEvent&gt; search(String string) {\n        return this.list.stream()\n          .filter(event -&gt; event.toString().contains(string))\n          .collect(Collectors.toList());\n    }\n\n    public List&lt;ILoggingEvent&gt; search(String string, Level level) {\n        return this.list.stream()\n          .filter(event -&gt; event.toString().contains(string)\n            &amp;&amp; event.getLevel().equals(level))\n          .collect(Collectors.toList());\n    }\n\n    public int getSize() {\n        return this.list.size();\n    }\n\n    public List&lt;ILoggingEvent&gt; getLoggedEvents() {\n        return Collections.unmodifiableList(this.list);\n    }\n}\n</code></pre>\n<p>3️⃣ You use it in your unit test</p>\n<pre><code>@Before\npublic void setup() {\n    Logger logger = (Logger) LoggerFactory.getLogger(LOGGER_NAME);\n    memoryAppender = new MemoryAppender();\n    memoryAppender.setContext((LoggerContext) LoggerFactory.getILoggerFactory());\n    logger.setLevel(Level.DEBUG);\n    logger.addAppender(memoryAppender);\n    memoryAppender.start();\n}\n\n@Test\npublic void test() {\n    BusinessWorker worker = new BusinessWorker();\n    worker.generateLogs(MSG);\n        \n    assertThat(memoryAppender.countEventsForLogger(LOGGER_NAME)).isEqualTo(4);\n    assertThat(memoryAppender.search(MSG, Level.INFO).size()).isEqualTo(1);\n    assertThat(memoryAppender.contains(MSG, Level.TRACE)).isFalse();\n}\n</code></pre>\n"}],"owner":{"account_id":1062494,"reputation":1757,"user_id":1063824,"accept_rate":71,"display_name":"Rrr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37950,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":11998830,"answer_count":7,"score":40,"last_activity_date":1680881197,"creation_date":1345167266,"question_id":11998713,"body_markdown":"It&#39;s usual to see logging functionality in the code:\r\n\r\n    public class A {\r\n\r\n        private static final Log LOG = LogFactory.getLog(A.class);\r\n\r\nand usage:\r\n\r\n    } catch (Exception e) {\r\n        LOG.error(e.getMessage(), e);\r\n        throw e;\r\n    }\r\n\r\nbut I never saw even single unit test for such code. \r\n\r\nOff course I do test throwing exception and exception type, but should I write test for checking logging information? I tend to think that logging is another part of system behavior, so it&#39;s quit logically to cover it in the tests.\r\n\r\nAssuming that I should cover it, means that I should change my original code to inject mock log and check that &quot;error&quot; method was invoked with expected message. But what to do if my original class is service and it&#39;s instantiated by spring, should I inject some logger as well as other dependencies?","title":"Should we unit test logging?","body":"<p>It's usual to see logging functionality in the code:</p>\n\n<pre><code>public class A {\n\n    private static final Log LOG = LogFactory.getLog(A.class);\n</code></pre>\n\n<p>and usage:</p>\n\n<pre><code>} catch (Exception e) {\n    LOG.error(e.getMessage(), e);\n    throw e;\n}\n</code></pre>\n\n<p>but I never saw even single unit test for such code. </p>\n\n<p>Off course I do test throwing exception and exception type, but should I write test for checking logging information? I tend to think that logging is another part of system behavior, so it's quit logically to cover it in the tests.</p>\n\n<p>Assuming that I should cover it, means that I should change my original code to inject mock log and check that \"error\" method was invoked with expected message. But what to do if my original class is service and it's instantiated by spring, should I inject some logger as well as other dependencies?</p>\n"},{"tags":["java","json","box","boxsdk"],"answers":[{"tags":[],"owner":{"account_id":26200523,"reputation":36,"user_id":19881001,"display_name":"rb-devrel-box"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680881055,"creation_date":1680881055,"answer_id":75959785,"question_id":75879321,"body_markdown":"Wanted to add this to a comment, but I&#39;m unable to do so.\r\nTake a look at this [Search Example][1], and let me know if it helped.\r\nIf not I&#39;ll try to create a sample for you.\r\n\r\nI think you may be missing something like this (from the above example):\r\n\r\n    public static void crawlSearchResultExample(BoxSearchParameters bsp, BoxSearch bs) {\r\n        /**\r\n         * Example of how to crawl more than 1000+ results in a search query\r\n         */\r\n    \r\n        //Setup Result Partial Object\r\n        PartialCollection&lt;BoxItem.Info&gt; searchResults;\r\n    \r\n        //Starting point of the result set\r\n        long offset = 0;\r\n        //Number of results that would be pulled back\r\n        long limit = 1000;\r\n    \r\n        //Storing the full size of the results\r\n        long fullSizeOfResult = 0;\r\n\r\n        while (offset &lt;= fullSizeOfResult) {\r\n            searchResults = bs.searchRange(offset, limit, bsp);\r\n            fullSizeOfResult = searchResults.fullSize();\r\n    \r\n            print(&quot;offset: &quot; + offset + &quot; of fullSizeOfResult: &quot; + fullSizeOfResult);\r\n            printSearchResults(searchResults);\r\n    \r\n            offset += limit;\r\n        }\r\n    }\r\n\r\n\r\n    private static void printSearchResults(PartialCollection&lt;BoxItem.Info&gt; searchResults) {\r\n        //Crawl the folder\r\n        System.out.println(&quot;--==Results fullResultSize: &quot; + searchResults.fullSize() + &quot;==--&quot;);\r\n\r\n        for (BoxItem.Info itemInfo : searchResults) {\r\n            System.out.println(&quot;File Found: &quot; + itemInfo.getName() + &quot;, Owner: &quot; + itemInfo.getOwnedBy().getID());\r\n        }\r\n\r\n        System.out.println();\r\n    }\r\n\r\n  [1]: https://github.com/box/box-java-sdk/blob/main/src/example/java/com/box/sdk/example/SearchExamplesAsAppUser.java","title":"BoxSearch logging response","body":"<p>Wanted to add this to a comment, but I'm unable to do so.\nTake a look at this <a href=\"https://github.com/box/box-java-sdk/blob/main/src/example/java/com/box/sdk/example/SearchExamplesAsAppUser.java\" rel=\"nofollow noreferrer\">Search Example</a>, and let me know if it helped.\nIf not I'll try to create a sample for you.</p>\n<p>I think you may be missing something like this (from the above example):</p>\n<pre><code>public static void crawlSearchResultExample(BoxSearchParameters bsp, BoxSearch bs) {\n    /**\n     * Example of how to crawl more than 1000+ results in a search query\n     */\n\n    //Setup Result Partial Object\n    PartialCollection&lt;BoxItem.Info&gt; searchResults;\n\n    //Starting point of the result set\n    long offset = 0;\n    //Number of results that would be pulled back\n    long limit = 1000;\n\n    //Storing the full size of the results\n    long fullSizeOfResult = 0;\n\n    while (offset &lt;= fullSizeOfResult) {\n        searchResults = bs.searchRange(offset, limit, bsp);\n        fullSizeOfResult = searchResults.fullSize();\n\n        print(&quot;offset: &quot; + offset + &quot; of fullSizeOfResult: &quot; + fullSizeOfResult);\n        printSearchResults(searchResults);\n\n        offset += limit;\n    }\n}\n\n\nprivate static void printSearchResults(PartialCollection&lt;BoxItem.Info&gt; searchResults) {\n    //Crawl the folder\n    System.out.println(&quot;--==Results fullResultSize: &quot; + searchResults.fullSize() + &quot;==--&quot;);\n\n    for (BoxItem.Info itemInfo : searchResults) {\n        System.out.println(&quot;File Found: &quot; + itemInfo.getName() + &quot;, Owner: &quot; + itemInfo.getOwnedBy().getID());\n    }\n\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":15607433,"reputation":13,"user_id":11259814,"display_name":"Terrenus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680881055,"creation_date":1680104071,"question_id":75879321,"body_markdown":"I am working on BoxSDK Java and I am attempting to capture the response from BoxSearch. As shown in their sample code:\r\n\r\nhttps://developer.box.com/guides/search/\r\n\r\nI am unable to capture the JSON response from searchResults.\r\nIf I print this as toString it will shows PartialCollection object.\r\nAnd If I print it as Array(or Arrays.toString(searchResults) it will print me BoxItem.Info object.\r\n\r\nI also tried using a different library like GSON, but it was giving me \r\n```\r\njava. Lang. IllegalArgumentException: class com.box.sdk.BoxUser$Info declares multiple JSON fields named login at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:170)\r\n```\r\n\r\nWhen I check the BoxSearch code in github I can see they are parsing it via jsonArray but it seems not the case.\r\n\r\nCan you suggest me what I might be doing wrong?\r\n\r\nMy ideal outcome would be something like below (Used developer box Api Try me): \r\n\r\nI.e.\r\n```\r\n{\r\n&quot;total count&quot;: 2,\r\n&quot;entries&quot;:\r\n&quot;type&quot;: &quot;file&quot;,\r\n&quot;id&quot;: &quot;1234567890&quot;,\r\n&quot;etag&quot;: &quot;7&quot;,\r\n&quot;name&quot;: &quot;test.paf&quot;,\r\n&quot;shared link&quot;: (\r\n&quot;url&quot;: https://box.com/s/&lt;random&gt;&quot;\r\n&quot;download_url&quot;, &quot;https://box.com/shared/static/&lt;random&gt;&quot;\r\n&quot;vanity _urd&quot;: null,\r\n&quot;vanity_ name&quot;: null,\r\n&quot;effective access&quot;: &quot;collaborators&quot;,\r\n&quot;effective _permission&quot;: &quot;can preview&quot;\r\n&quot;is _password enabled&quot;; false,\r\n&quot;unshared at&quot;; null,\r\n&quot;download count&quot;; 1,\r\n&quot;preview count&quot;: 0,\r\n&quot;access&quot;: &quot;collaborators&quot;\r\n&quot;permissions&quot;: (\r\n&quot;can preview&quot;: true,\r\n&quot;can download&quot;: false,\r\n&quot;can edit&quot;: false\r\n].\r\n&quot;tags&quot;: [\r\n&quot;NoClue&quot;\r\nGET\r\n&quot;type&quot;: &quot;file&quot;,\r\n&quot;id&quot;: &quot;1177053766282&quot;,\r\n&quot;etag&quot;: &quot;1&quot;,\r\n&quot;name&quot;; &quot;Tester.doc&quot;\r\n“shared_link&quot;…\r\n```\r\n\r\n\r\nSteps and expectations have been mentioned above","title":"BoxSearch logging response","body":"<p>I am working on BoxSDK Java and I am attempting to capture the response from BoxSearch. As shown in their sample code:</p>\n<p><a href=\"https://developer.box.com/guides/search/\" rel=\"nofollow noreferrer\">https://developer.box.com/guides/search/</a></p>\n<p>I am unable to capture the JSON response from searchResults.\nIf I print this as toString it will shows PartialCollection object.\nAnd If I print it as Array(or Arrays.toString(searchResults) it will print me BoxItem.Info object.</p>\n<p>I also tried using a different library like GSON, but it was giving me</p>\n<pre><code>java. Lang. IllegalArgumentException: class com.box.sdk.BoxUser$Info declares multiple JSON fields named login at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:170)\n</code></pre>\n<p>When I check the BoxSearch code in github I can see they are parsing it via jsonArray but it seems not the case.</p>\n<p>Can you suggest me what I might be doing wrong?</p>\n<p>My ideal outcome would be something like below (Used developer box Api Try me):</p>\n<p>I.e.</p>\n<pre><code>{\n&quot;total count&quot;: 2,\n&quot;entries&quot;:\n&quot;type&quot;: &quot;file&quot;,\n&quot;id&quot;: &quot;1234567890&quot;,\n&quot;etag&quot;: &quot;7&quot;,\n&quot;name&quot;: &quot;test.paf&quot;,\n&quot;shared link&quot;: (\n&quot;url&quot;: https://box.com/s/&lt;random&gt;&quot;\n&quot;download_url&quot;, &quot;https://box.com/shared/static/&lt;random&gt;&quot;\n&quot;vanity _urd&quot;: null,\n&quot;vanity_ name&quot;: null,\n&quot;effective access&quot;: &quot;collaborators&quot;,\n&quot;effective _permission&quot;: &quot;can preview&quot;\n&quot;is _password enabled&quot;; false,\n&quot;unshared at&quot;; null,\n&quot;download count&quot;; 1,\n&quot;preview count&quot;: 0,\n&quot;access&quot;: &quot;collaborators&quot;\n&quot;permissions&quot;: (\n&quot;can preview&quot;: true,\n&quot;can download&quot;: false,\n&quot;can edit&quot;: false\n].\n&quot;tags&quot;: [\n&quot;NoClue&quot;\nGET\n&quot;type&quot;: &quot;file&quot;,\n&quot;id&quot;: &quot;1177053766282&quot;,\n&quot;etag&quot;: &quot;1&quot;,\n&quot;name&quot;; &quot;Tester.doc&quot;\n“shared_link&quot;…\n</code></pre>\n<p>Steps and expectations have been mentioned above</p>\n"},{"tags":["java","sonarqube","rules","sonar-runner","sonarqube-scan"],"comments":[{"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"score":2,"creation_date":1471980585,"post_id":39109228,"comment_id":65565867,"body_markdown":"Create a new quality profile, and you can fine tune whatever you want.","body":"Create a new quality profile, and you can fine tune whatever you want."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":2,"creation_date":1471981004,"post_id":39109228,"comment_id":65566058,"body_markdown":"You can activate/deactivate rules (for profiles that your project is associated with) from the sonar web application. But must be loggedin to be able to that.","body":"You can activate/deactivate rules (for profiles that your project is associated with) from the sonar web application. But must be loggedin to be able to that."},{"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"score":0,"creation_date":1471981557,"post_id":39109228,"comment_id":65566336,"body_markdown":"@BheshGurung For the first one I wasn&#39;t able to find the exact tag to deactivate but the closest one I could find was &quot;Public types, methods and fields (API) should be documented with Javadoc&quot; (http://localhost:9000/coding_rules#q=Document this public class|languages=java). After I deactivate it, should I re run the scanner ? When I went to the analysis page and refresh, that tag still comes up and it still affects the total time that has to be spent on fixing bugs.","body":"@BheshGurung For the first one I wasn&#39;t able to find the exact tag to deactivate but the closest one I could find was &quot;Public types, methods and fields (API) should be documented with Javadoc&quot; (<a href=\"http://localhost:9000/coding_rules#q=Document\" rel=\"nofollow noreferrer\">localhost:9000/coding_rules#q=Document</a> this public class|languages=java). After I deactivate it, should I re run the scanner ? When I went to the analysis page and refresh, that tag still comes up and it still affects the total time that has to be spent on fixing bugs."}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":3,"up_vote_count":33,"is_accepted":false,"score":30,"last_activity_date":1471982174,"creation_date":1471981969,"answer_id":39109612,"question_id":39109228,"body_markdown":"If you have the id of the rule ypu want to ignore, then you can add the **SuppressWarnings** for that\n\n# Example:\n\n    @SuppressWarnings(&quot;squid:S0016&quot;)\n\nI dont like this too much and use to add the comment **//NOSONAR**\n that tells **SonarQube** to ignore all errors for a specific line.\n\n\n# Example2:\nIf I do this:\n\n\n    System.setErr(System.out);\n    ConsoleHandler h = new ConsoleHandler(); \n    System.setErr(err);\n\nmy sonar complains asking me to use logger instead of system.out...\n\ntherefore I can silent the warning doing:\n\n\n    System.setErr(System.out);  //NOSONAR \n    ConsoleHandler h = new ConsoleHandler(); \n    System.setErr(err);\n","title":"How can we ignore some SonarQube rules in Java?","body":"<p>If you have the id of the rule ypu want to ignore, then you can add the <strong>SuppressWarnings</strong> for that</p>\n<h1>Example:</h1>\n<pre><code>@SuppressWarnings(&quot;squid:S0016&quot;)\n</code></pre>\n<p>I dont like this too much and use to add the comment <strong>//NOSONAR</strong>\nthat tells <strong>SonarQube</strong> to ignore all errors for a specific line.</p>\n<h1>Example2:</h1>\n<p>If I do this:</p>\n<pre><code>System.setErr(System.out);\nConsoleHandler h = new ConsoleHandler(); \nSystem.setErr(err);\n</code></pre>\n<p>my sonar complains asking me to use logger instead of system.out...</p>\n<p>therefore I can silent the warning doing:</p>\n<pre><code>System.setErr(System.out);  //NOSONAR \nConsoleHandler h = new ConsoleHandler(); \nSystem.setErr(err);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1471986712,"creation_date":1471986712,"answer_id":39110735,"question_id":39109228,"body_markdown":"As noted in the comments, all you have to do is remove the rules from your profile or edit them to lower their priority. You need the Global Administer Quality Profiles permission to do that. Once you&#39;re logged in with that permission, go to the Rules interface, search for a rule you want to deactivate, select the rule, click on it, and Deactivate it from the relevant profile.","title":"How can we ignore some SonarQube rules in Java?","body":"<p>As noted in the comments, all you have to do is remove the rules from your profile or edit them to lower their priority. You need the Global Administer Quality Profiles permission to do that. Once you're logged in with that permission, go to the Rules interface, search for a rule you want to deactivate, select the rule, click on it, and Deactivate it from the relevant profile.</p>\n"},{"tags":[],"owner":{"account_id":7312824,"reputation":1824,"user_id":5571441,"display_name":"Eduard Streltsov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1652190840,"creation_date":1608208341,"answer_id":65340805,"question_id":39109228,"body_markdown":"The right thing to do is to put something like this on `sonar-project.properties` file per project:\r\n\r\n    sonar.issue.ignore.multicriteria=e1,e2\r\n    # tab characters should not be used\r\n    sonar.issue.ignore.multicriteria.e1.ruleKey=squid:S00105\r\n    sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.java\r\n    # right curly braces should be on a new line\r\n    sonar.issue.ignore.multicriteria.e2.ruleKey=squid:RightCurlyBraceStartLineCheck\r\n    sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.java\r\n\r\n","title":"How can we ignore some SonarQube rules in Java?","body":"<p>The right thing to do is to put something like this on <code>sonar-project.properties</code> file per project:</p>\n<pre><code>sonar.issue.ignore.multicriteria=e1,e2\n# tab characters should not be used\nsonar.issue.ignore.multicriteria.e1.ruleKey=squid:S00105\nsonar.issue.ignore.multicriteria.e1.resourceKey=**/*.java\n# right curly braces should be on a new line\nsonar.issue.ignore.multicriteria.e2.ruleKey=squid:RightCurlyBraceStartLineCheck\nsonar.issue.ignore.multicriteria.e2.resourceKey=**/*.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14155041,"reputation":124,"user_id":10467794,"display_name":"Richard K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680880894,"creation_date":1680880894,"answer_id":75959760,"question_id":39109228,"body_markdown":"Perhaps these answers are somewhat old, as there is an easy way to do this in the SonarQube UI.\r\n\r\n1. Locate your project in SonarQube\r\n2. Click on the issues tab\r\n3. Click on a specific issue\r\n4. At the top, you&#39;ll see the issue code name (such as: `typescript:S1135` or `java:S107`). Copy this code.\r\n5. At the top right of the screen click on Project Settings &gt;&gt; General Settings\r\n6. Click on the Analysis Scope tab on the left\r\n7. Scroll down to &quot;Ignore Issues on Multiple Criteria&quot;\r\n8. In this section you create your exclusion rules. \r\n\r\n***Examples***\r\n- **Ignore an issue everywhere**: For example, if you want to ignore `typescript:S1135` everywhere. You enter `typescript:S1135` as the Rule Key Pattern and enter `**/*` as the File Path Pattern (** matches zero or more directories. * matches zero or more characters).\r\n- **Ignore all issues in a specific file**: Enter `*` as the Rule Key Pattern and the path (`path/to/your/file.js`) as the File Path Pattern.\r\n\r\nMore examples: https://docs.sonarqube.org/9.8/project-administration/narrowing-the-focus/#excluding-specific-rules-from-specific-files","title":"How can we ignore some SonarQube rules in Java?","body":"<p>Perhaps these answers are somewhat old, as there is an easy way to do this in the SonarQube UI.</p>\n<ol>\n<li>Locate your project in SonarQube</li>\n<li>Click on the issues tab</li>\n<li>Click on a specific issue</li>\n<li>At the top, you'll see the issue code name (such as: <code>typescript:S1135</code> or <code>java:S107</code>). Copy this code.</li>\n<li>At the top right of the screen click on Project Settings &gt;&gt; General Settings</li>\n<li>Click on the Analysis Scope tab on the left</li>\n<li>Scroll down to &quot;Ignore Issues on Multiple Criteria&quot;</li>\n<li>In this section you create your exclusion rules.</li>\n</ol>\n<p><em><strong>Examples</strong></em></p>\n<ul>\n<li><strong>Ignore an issue everywhere</strong>: For example, if you want to ignore <code>typescript:S1135</code> everywhere. You enter <code>typescript:S1135</code> as the Rule Key Pattern and enter <code>**/*</code> as the File Path Pattern (** matches zero or more directories. * matches zero or more characters).</li>\n<li><strong>Ignore all issues in a specific file</strong>: Enter <code>*</code> as the Rule Key Pattern and the path (<code>path/to/your/file.js</code>) as the File Path Pattern.</li>\n</ul>\n<p>More examples: <a href=\"https://docs.sonarqube.org/9.8/project-administration/narrowing-the-focus/#excluding-specific-rules-from-specific-files\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/9.8/project-administration/narrowing-the-focus/#excluding-specific-rules-from-specific-files</a></p>\n"}],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43282,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":39110735,"answer_count":4,"score":21,"last_activity_date":1680880894,"creation_date":1471980381,"question_id":39109228,"body_markdown":"We recently started using **SonarQube**. We have found some rules that are suggested by SonarQube but we want to ignore them or give them a low priority and even configure the time suggested by SonarQube. For e.g\r\n\r\nWe want to avoid the rule (and/or configure the priority and time suggested by SonarQube) for\r\n\r\n\r\n 1. Document this public class.  and\r\n 2. Complete the task associated to this TODO comment.\r\n\r\nI couldn’t find a way to configure this rules to be ignored. We want this kind of rules to be ignored for the whole project not specific classes.\r\n\r\nConfiguring this values would help us to have a better time estimation to fix major issues and give low priority for the rules like the above two. We are using SonarQube 6\r\n\r\nI appericiate your advice.","title":"How can we ignore some SonarQube rules in Java?","body":"<p>We recently started using <strong>SonarQube</strong>. We have found some rules that are suggested by SonarQube but we want to ignore them or give them a low priority and even configure the time suggested by SonarQube. For e.g</p>\n\n<p>We want to avoid the rule (and/or configure the priority and time suggested by SonarQube) for</p>\n\n<ol>\n<li>Document this public class.  and</li>\n<li>Complete the task associated to this TODO comment.</li>\n</ol>\n\n<p>I couldn’t find a way to configure this rules to be ignored. We want this kind of rules to be ignored for the whole project not specific classes.</p>\n\n<p>Configuring this values would help us to have a better time estimation to fix major issues and give low priority for the rules like the above two. We are using SonarQube 6</p>\n\n<p>I appericiate your advice.</p>\n"},{"tags":["java","apache-poi","xslf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1680881220,"post_id":75959748,"comment_id":133975155,"body_markdown":"https://stackoverflow.com/questions/73537742/is-there-any-way-to-add-images-into-ppt-table-cell-using-apache-poi/73543221#73543221 - Just tested. Works using `apache poi 5.2.3`.","body":"<a href=\"https://stackoverflow.com/questions/73537742/is-there-any-way-to-add-images-into-ppt-table-cell-using-apache-poi/73543221#73543221\" title=\"is there any way to add images into ppt table cell using apache poi\">stackoverflow.com/questions/73537742/&hellip;</a> - Just tested. Works using <code>apache poi 5.2.3</code>."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1680881867,"post_id":75959748,"comment_id":133975292,"body_markdown":"Needs `poi-ooxml-full.jar`, see https://poi.apache.org/help/faq.html#faq-N10025","body":"Needs <code>poi-ooxml-full.jar</code>, see <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">poi.apache.org/help/faq.html#faq-N10025</a>"},{"owner":{"account_id":28242189,"reputation":1,"user_id":21589810,"display_name":"Kein H"},"score":0,"creation_date":1680883763,"post_id":75959748,"comment_id":133975659,"body_markdown":"@AxelRichter Could you share a pom? I added the poi-ooxml-full ver 5.2.3, and running with xml beans 5.1.1 and poi 5.2.3, and maven still fails to compile with errors like &quot;cannot find symbol&quot;, nor do I see a function to get the TcPr of a cell.","body":"@AxelRichter Could you share a pom? I added the poi-ooxml-full ver 5.2.3, and running with xml beans 5.1.1 and poi 5.2.3, and maven still fails to compile with errors like &quot;cannot find symbol&quot;, nor do I see a function to get the TcPr of a cell."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1680884028,"post_id":75959748,"comment_id":133975719,"body_markdown":"Me not using maven. But you need `poi-ooxml-full` **additionally**. So `poi-ooxml` **and** `poi-ooxml-full`, always both of same version.","body":"Me not using maven. But you need <code>poi-ooxml-full</code> <b>additionally</b>. So <code>poi-ooxml</code> <b>and</b> <code>poi-ooxml-full</code>, always both of same version."},{"owner":{"account_id":28242189,"reputation":1,"user_id":21589810,"display_name":"Kein H"},"score":0,"creation_date":1680885118,"post_id":75959748,"comment_id":133975939,"body_markdown":"@AxelRichter I just verified, I have both poi-ooxml and poi-ooxml-full, same version, and and after fixing my code a bitit works (forgot I needed to cast the xml object to the right XML class) Thanks for the quick responses!","body":"@AxelRichter I just verified, I have both poi-ooxml and poi-ooxml-full, same version, and and after fixing my code a bitit works (forgot I needed to cast the xml object to the right XML class) Thanks for the quick responses!"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1680935342,"post_id":75959748,"comment_id":133981582,"body_markdown":"Yes, casting is necessary since Apache Poi version 3.13 (since 2015!). Versions before had overwritten method `getXmlObject` to return appropriate `CT*`-classes. From Apache Poi version 3.13 on `getXmlObject` only returns `org.apache.xmlbeans.XmlObject`.","body":"Yes, casting is necessary since Apache Poi version 3.13 (since 2015!). Versions before had overwritten method <code>getXmlObject</code> to return appropriate <code>CT*</code>-classes. From Apache Poi version 3.13 on <code>getXmlObject</code> only returns <code>org.apache.xmlbeans.XmlObject</code>."},{"owner":{"account_id":28242189,"reputation":1,"user_id":21589810,"display_name":"Kein H"},"score":0,"creation_date":1681707181,"post_id":75959748,"comment_id":134094053,"body_markdown":"Thanks @AxelRichter ! I&#39;m updating a lot of code from poi 3.12, now we suddenly have a need for newer version features due to new requirements. I was wondering if you know of an article or a blog post that explains the details of the version changes more? The changelog wasn&#39;t very useful and I&#39;m now running into another issue where XSLFTable::getNumberOfRows doesn&#39;t match XSLFTable::getRows().sizeI()","body":"Thanks @AxelRichter ! I&#39;m updating a lot of code from poi 3.12, now we suddenly have a need for newer version features due to new requirements. I was wondering if you know of an article or a blog post that explains the details of the version changes more? The changelog wasn&#39;t very useful and I&#39;m now running into another issue where XSLFTable::getNumberOfRows doesn&#39;t match XSLFTable::getRows().sizeI()"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1681710963,"post_id":75959748,"comment_id":134094485,"body_markdown":"No, I do not know such article. But [XSLFTable.getNumberOfRows](https://svn.apache.org/viewvc/poi/tags/REL_5_2_3/poi-ooxml/src/main/java/org/apache/poi/xslf/usermodel/XSLFTable.java?view=markup#l120) and [XSLFTable.getRows](https://svn.apache.org/viewvc/poi/tags/REL_3_12_FINAL/src/ooxml/java/org/apache/poi/xslf/usermodel/XSLFTable.java?view=markup#l106)`.size()` is not the same.","body":"No, I do not know such article. But <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_3/poi-ooxml/src/main/java/org/apache/poi/xslf/usermodel/XSLFTable.java?view=markup#l120\" rel=\"nofollow noreferrer\">XSLFTable.getNumberOfRows</a> and <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_3_12_FINAL/src/ooxml/java/org/apache/poi/xslf/usermodel/XSLFTable.java?view=markup#l106\" rel=\"nofollow noreferrer\">XSLFTable.getRows</a><code>.size()</code> is not the same."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1681710968,"post_id":75959748,"comment_id":134094486,"body_markdown":"The first gets size of TR array from `CTTable` while the other gets size of `List&lt;XSLFTableRow&gt;`. That might differ if a row was added only into underlying `CTTable` without updating the `List`. But that has not changed since version 3.12.","body":"The first gets size of TR array from <code>CTTable</code> while the other gets size of <code>List&lt;XSLFTableRow&gt;</code>. That might differ if a row was added only into underlying <code>CTTable</code> without updating the <code>List</code>. But that has not changed since version 3.12."},{"owner":{"account_id":28242189,"reputation":1,"user_id":21589810,"display_name":"Kein H"},"score":0,"creation_date":1681738833,"post_id":75959748,"comment_id":134100737,"body_markdown":"That&#39;s very weird, I&#39;ve double checked the ppt presentation and the table rows is much higher than the ones being reported by XSLFTable.getNumberOfRows, I&#39;ve even recreated the table multiple times. I should report this on the apache poi bug list right?","body":"That&#39;s very weird, I&#39;ve double checked the ppt presentation and the table rows is much higher than the ones being reported by XSLFTable.getNumberOfRows, I&#39;ve even recreated the table multiple times. I should report this on the apache poi bug list right?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1681744613,"post_id":75959748,"comment_id":134102394,"body_markdown":"&quot;I should report this on the apache poi bug list right?&quot;: Yes. But that only will be successfully together with a [SSCCE](http://www.sscce.org/). Most of the time you find the cause of the issue yourself while creation a such. If not, you could ask a question providing that SSCCE aka [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) here.","body":"&quot;I should report this on the apache poi bug list right?&quot;: Yes. But that only will be successfully together with a <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>. Most of the time you find the cause of the issue yourself while creation a such. If not, you could ask a question providing that SSCCE aka <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a> here."},{"owner":{"account_id":28242189,"reputation":1,"user_id":21589810,"display_name":"Kein H"},"score":0,"creation_date":1681750310,"post_id":75959748,"comment_id":134103798,"body_markdown":"Thanks! I will do some extra verification and then file a bug if it&#39;s indeed apache poi at fault. Thanks for all the help and info Alex.","body":"Thanks! I will do some extra verification and then file a bug if it&#39;s indeed apache poi at fault. Thanks for all the help and info Alex."}],"owner":{"account_id":28242189,"reputation":1,"user_id":21589810,"display_name":"Kein H"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680880817,"creation_date":1680880817,"question_id":75959748,"body_markdown":"I&#39;m trying to update from an Apache POI dependency to the latest (5.2.3) and I can&#39;t seem to find a way of getting the BlipFill from a XSLFTableCell. Currently the new XSLFTableCell has a .getFillPaint() that returns a PaintStyle instance, whose class has a BlipFill static inner class but that&#39;s not accessible. Before we would get the TcPr from a table cell xml object but that&#39;s not longer possible. Is this a gap in the current POI version or is there&#39;s another way around it? \r\n\r\nThe code in question is more or less the answer here: https://stackoverflow.com/questions/14495288/how-to-add-image-to-powerpoint-ppt-table-cell-using-apache-poi-hslf-xslf \r\n\r\nMore exactly trying to do this:\r\n```\r\nCTBlipFillProperties blipPr = (XSLFTableCell cell).getXmlObject().getTcPr().addNewBlipFill();\r\n```","title":"How to get XSLFTableCell BlipFill in ApachePoi 5+?","body":"<p>I'm trying to update from an Apache POI dependency to the latest (5.2.3) and I can't seem to find a way of getting the BlipFill from a XSLFTableCell. Currently the new XSLFTableCell has a .getFillPaint() that returns a PaintStyle instance, whose class has a BlipFill static inner class but that's not accessible. Before we would get the TcPr from a table cell xml object but that's not longer possible. Is this a gap in the current POI version or is there's another way around it?</p>\n<p>The code in question is more or less the answer here: <a href=\"https://stackoverflow.com/questions/14495288/how-to-add-image-to-powerpoint-ppt-table-cell-using-apache-poi-hslf-xslf\">How to add image to PowerPoint ppt table cell using apache POI hslf/xslf?</a></p>\n<p>More exactly trying to do this:</p>\n<pre><code>CTBlipFillProperties blipPr = (XSLFTableCell cell).getXmlObject().getTcPr().addNewBlipFill();\n</code></pre>\n"},{"tags":["java","arrays","zoho"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680142250,"post_id":75883469,"comment_id":133849117,"body_markdown":"If this problem is from a website, please include a link to the page that has the problem. If you cannot post a working link, it would help to describe the problem the code is intended to solve. Even though we can follow the code, it is helpful to check if the code seems to match the description","body":"If this problem is from a website, please include a link to the page that has the problem. If you cannot post a working link, it would help to describe the problem the code is intended to solve. Even though we can follow the code, it is helpful to check if the code seems to match the description"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680142436,"post_id":75883469,"comment_id":133849134,"body_markdown":"So, what is your question? Does the code you have shown work, and you want to see if it can be improved? The question might be more suited to [Code Review](https://codereview.stackexchange.com/)","body":"So, what is your question? Does the code you have shown work, and you want to see if it can be improved? The question might be more suited to <a href=\"https://codereview.stackexchange.com/\">Code Review</a>"}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680880665,"creation_date":1680880665,"answer_id":75959725,"question_id":75883469,"body_markdown":"Are you concerned about performance, if the array is very large?\r\n\r\nYou can improve your bubble sort slightly. After the first iteration of the outer `for` loop, the inner `for` loop would have moved the element with the greatest number of factors to the beginning of the array. So, on the next iteration, that element can be skipped over. So, you should be able to change `for (int j = 0; j &lt; f_count.length - 1; j++) {` to `for (int j = i; j &lt; f_count.length - 1; j++) {`. That will reduce the number of comparisons by about half. \r\n\r\nHowever, either way, the number of comparisons will be O(n^2). There are faster sorts, such as merge sort, which run in O(n log n). Java offers built in sorts, in the [`Arrays` API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html) and the [`Collections` API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html). \r\n\r\nThe sort methods in the `Arrays` API that are overloaded for primitives sort only using the &quot;natural order&quot;. But, you don&#39;t want to sort by the &quot;natural order&quot; for integers. You want to create a [`Comparator`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html), which will allow you to provide logic to make the comparisons. To do that, you will want to have an array or `Collection` of Objects, not of primitives. \r\n\r\nYou could put your data into a `List&lt;Integer&gt;` or an array of `Integer`. That will allow use of the sort methods in `Collections` or `Arrays` that accept a `Comparator` argument. But, that would result in repeated calculations of each element. Potentially, there would be `2 * n * lg n` calculations of factors.  \r\n\r\nSince you have to have an Object to use the built in sorts, why not have a `class` in which each instance has the original value and the number of factors? \r\n\r\n\r\n\r\n    package decreasingintacctofactors; \r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.Scanner;\r\n\r\n    public class DecreasingIntAccToFactors {\r\n    \r\n        static class NumberFactorPair {\r\n\r\n            int number;\r\n            int factorCount;\r\n\r\n            NumberFactorPair() {\r\n            number = 0;\r\n            factorCount = 0;\r\n        }\r\n\r\n        NumberFactorPair(int num) {\r\n            number = num;\r\n            factorCount = 2; // number is a factor of itself, \r\n                             // and 1 is a factor\r\n            for (int i = 2; i &lt;= num / 2; i++) {\r\n                if (num % i == 0) {\r\n                    factorCount++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n\r\n    static Scanner sc = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        // Static Way of Array Creation\r\n        // int[] a = { 3, 4, 7, 8, 16, 33 };\r\n        //        NumberFactorPair [] a = {\r\n        //              new NumberFactorPair ( 3), new NumberFactorPair ( 4)\r\n        //            , new NumberFactorPair ( 7), new NumberFactorPair ( 8)\r\n        //            , new NumberFactorPair (16), new NumberFactorPair (33)\r\n        //        };\r\n\r\n        // Dynamic Way of Array Creation\r\n        System.out.print(&quot;Enter the Size of an Array :- &quot;);\r\n        int n = sc.nextInt();\r\n        NumberFactorPair [] a = new NumberFactorPair [n];\r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            System.out.print\r\n               (&quot;Enter the Elements of an Array [ &quot; + i + &quot; ] :- &quot;);                     \r\n            a[i] = new NumberFactorPair (sc.nextInt());            \r\n        }    \r\n        \r\n        Arrays.sort (a, new Comparator&lt;NumberFactorPair&gt;() { \r\n            @Override\r\n            public int compare (NumberFactorPair nf1, NumberFactorPair nf2) {\r\n                return Integer.compare (nf2.factorCount, nf1.factorCount);\r\n            }\r\n        });    \r\n\r\n        // Printing the Given Array with the Help of Method\r\n        System.out.println(&quot;Given Array : - &quot;);\r\n        printingArray(a, false);\r\n        System.out.println();\r\n        System.out.println(&quot;The Factors of the Given Array :-&quot;);\r\n        printingArray (a, true); \r\n\r\n        // Printing the Resultant Array with the help of Method\r\n        System.out.println(&quot;\\n\\n&quot;);\r\n        System.out.println(&quot;Resultant Array : - &quot;);\r\n        printingArray(a, false);\r\n        System.out.println();\r\n        System.out.println(&quot;The Factors of the Resultant Array :-&quot;);\r\n        printingArray(a,true);\r\n    }\r\n\r\n    // Printing the Array\r\n    public static void printingArray(NumberFactorPair[] a, boolean factors) {\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            System.out.print\r\n              ((factors ? a[i].factorCount : a[i].number) + &quot; &quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nThe field `factorCount` is derived from `number`, but exists so that the number of factors for an instance is calculated only once. ","title":"Sorting an Integer Array According to their No. of Factors (Zoho Placement Questions)","body":"<p>Are you concerned about performance, if the array is very large?</p>\n<p>You can improve your bubble sort slightly. After the first iteration of the outer <code>for</code> loop, the inner <code>for</code> loop would have moved the element with the greatest number of factors to the beginning of the array. So, on the next iteration, that element can be skipped over. So, you should be able to change <code>for (int j = 0; j &lt; f_count.length - 1; j++) {</code> to <code>for (int j = i; j &lt; f_count.length - 1; j++) {</code>. That will reduce the number of comparisons by about half.</p>\n<p>However, either way, the number of comparisons will be O(n^2). There are faster sorts, such as merge sort, which run in O(n log n). Java offers built in sorts, in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>Arrays</code> API</a> and the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html\" rel=\"nofollow noreferrer\"><code>Collections</code> API</a>.</p>\n<p>The sort methods in the <code>Arrays</code> API that are overloaded for primitives sort only using the &quot;natural order&quot;. But, you don't want to sort by the &quot;natural order&quot; for integers. You want to create a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>, which will allow you to provide logic to make the comparisons. To do that, you will want to have an array or <code>Collection</code> of Objects, not of primitives.</p>\n<p>You could put your data into a <code>List&lt;Integer&gt;</code> or an array of <code>Integer</code>. That will allow use of the sort methods in <code>Collections</code> or <code>Arrays</code> that accept a <code>Comparator</code> argument. But, that would result in repeated calculations of each element. Potentially, there would be <code>2 * n * lg n</code> calculations of factors.</p>\n<p>Since you have to have an Object to use the built in sorts, why not have a <code>class</code> in which each instance has the original value and the number of factors?</p>\n<pre><code>package decreasingintacctofactors; \n\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class DecreasingIntAccToFactors {\n\n    static class NumberFactorPair {\n\n        int number;\n        int factorCount;\n\n        NumberFactorPair() {\n        number = 0;\n        factorCount = 0;\n    }\n\n    NumberFactorPair(int num) {\n        number = num;\n        factorCount = 2; // number is a factor of itself, \n                         // and 1 is a factor\n        for (int i = 2; i &lt;= num / 2; i++) {\n            if (num % i == 0) {\n                factorCount++;\n            }\n        }\n    }\n}\n\n\n\nstatic Scanner sc = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    // Static Way of Array Creation\n    // int[] a = { 3, 4, 7, 8, 16, 33 };\n    //        NumberFactorPair [] a = {\n    //              new NumberFactorPair ( 3), new NumberFactorPair ( 4)\n    //            , new NumberFactorPair ( 7), new NumberFactorPair ( 8)\n    //            , new NumberFactorPair (16), new NumberFactorPair (33)\n    //        };\n\n    // Dynamic Way of Array Creation\n    System.out.print(&quot;Enter the Size of an Array :- &quot;);\n    int n = sc.nextInt();\n    NumberFactorPair [] a = new NumberFactorPair [n];\n\n    for (int i = 0; i &lt; a.length; i++) {\n        System.out.print\n           (&quot;Enter the Elements of an Array [ &quot; + i + &quot; ] :- &quot;);                     \n        a[i] = new NumberFactorPair (sc.nextInt());            \n    }    \n    \n    Arrays.sort (a, new Comparator&lt;NumberFactorPair&gt;() { \n        @Override\n        public int compare (NumberFactorPair nf1, NumberFactorPair nf2) {\n            return Integer.compare (nf2.factorCount, nf1.factorCount);\n        }\n    });    \n\n    // Printing the Given Array with the Help of Method\n    System.out.println(&quot;Given Array : - &quot;);\n    printingArray(a, false);\n    System.out.println();\n    System.out.println(&quot;The Factors of the Given Array :-&quot;);\n    printingArray (a, true); \n\n    // Printing the Resultant Array with the help of Method\n    System.out.println(&quot;\\n\\n&quot;);\n    System.out.println(&quot;Resultant Array : - &quot;);\n    printingArray(a, false);\n    System.out.println();\n    System.out.println(&quot;The Factors of the Resultant Array :-&quot;);\n    printingArray(a,true);\n}\n\n// Printing the Array\npublic static void printingArray(NumberFactorPair[] a, boolean factors) {\n    for (int i = 0; i &lt; a.length; i++) {\n        System.out.print\n          ((factors ? a[i].factorCount : a[i].number) + &quot; &quot;);\n    }\n  }\n}\n</code></pre>\n<p>The field <code>factorCount</code> is derived from <code>number</code>, but exists so that the number of factors for an instance is calculated only once.</p>\n"}],"owner":{"account_id":27837393,"reputation":1,"user_id":21254549,"display_name":"Suriya Jaisankar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680880665,"creation_date":1680140581,"question_id":75883469,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class DecreasingIntAccToFactors {\r\n\r\n\tstatic Scanner sc = new Scanner(System.in);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// Static Way of Array Creation\r\n\t\t// int[] a = { 3, 4, 7, 8, 16, 33 };\r\n\r\n\t\t// Dynamic Way of Array Creation\r\n\t\tSystem.out.print(&quot;Enter the Size of an Array :- &quot;);\r\n\t\tint n = sc.nextInt();\r\n\t\tint[] a = new int[n];\r\n\r\n\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n\t\t\tSystem.out.print(&quot;Enter the Elements of an Array [ &quot; + i + &quot; ] :- &quot;);\r\n\t\t\ta[i] = sc.nextInt();\r\n\t\t}\r\n\r\n\t\tint[] f_count = new int[a.length];\r\n\r\n\t\t// Creating a Count Array to Store the No. of Factors that a Number has\r\n\t\t// According to their Array order\r\n\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n\t\t\tint count = 0;\r\n\t\t\tfor (int j = a[i] - 1; j &gt; 0; j--) {\r\n\t\t\t\tif (a[i] % j == 0) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tf_count[i] = count;\r\n\t\t}\r\n\r\n\t\t// Printing the Given Array with the Help of Method\r\n\t\tSystem.out.println(&quot;Given Array : - &quot;);\r\n\t\tprintingArray(a);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;The Factors of the Given Array :-&quot;);\r\n\t\tprintingArray(f_count);\r\n\r\n\t\t// Sorting the Count Array and Swapping the Given Array\r\n\t\tfor (int i = 0; i &lt; f_count.length - 1; i++) {\r\n\t\t\tfor (int j = 0; j &lt; f_count.length - 1; j++) {\r\n\t\t\t\tif (f_count[j] &lt; f_count[j + 1]) {\r\n\t\t\t\t\t// Swapping elements of the Count Array\r\n\t\t\t\t\tint temp_c = f_count[j];\r\n\t\t\t\t\tf_count[j] = f_count[j + 1];\r\n\t\t\t\t\tf_count[j + 1] = temp_c;\r\n\t\t\t\t\t// Swapping the Elements according to Count Array\r\n\t\t\t\t\tint temp = a[j];\r\n\t\t\t\t\ta[j] = a[j + 1];\r\n\t\t\t\t\ta[j + 1] = temp;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Printing the Resultant Array with the help of Method\r\n\t\tSystem.out.println(&quot;\\n\\n&quot;);\r\n\t\tSystem.out.println(&quot;Resultant Array : - &quot;);\r\n\t\tprintingArray(a);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;The Factors of the Resultant Array :-&quot;);\r\n\t\tprintingArray(f_count);\r\n\r\n\t}\r\n\r\n\t// Printing the Array\r\n\tpublic static void printingArray(int[] a) {\r\n\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n\t\t\tSystem.out.print(a[i] + &quot; &quot;);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nI approached this problem with creating a new Array for the factors that the numbers had, and and sorted the factors, during the sorting of factors i swapped the elements of the given array\r\n\r\nIs there any logical ways to solve them in a easy way?\r\n\r\nThe question is:\r\n\r\n&gt; Arrange the given numbers in the decreasing order of their number of\r\n&gt; factors.\r\n&gt; \r\n&gt; Input: 4,2,8,16,5\r\n&gt; \r\n&gt; Output: 16,8,4,5,2 (or) 16,8,4,2,5\r\n\r\n\r\n\r\n","title":"Sorting an Integer Array According to their No. of Factors (Zoho Placement Questions)","body":"<pre><code>import java.util.Scanner;\n\npublic class DecreasingIntAccToFactors {\n\n    static Scanner sc = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        // Static Way of Array Creation\n        // int[] a = { 3, 4, 7, 8, 16, 33 };\n\n        // Dynamic Way of Array Creation\n        System.out.print(&quot;Enter the Size of an Array :- &quot;);\n        int n = sc.nextInt();\n        int[] a = new int[n];\n\n        for (int i = 0; i &lt; a.length; i++) {\n            System.out.print(&quot;Enter the Elements of an Array [ &quot; + i + &quot; ] :- &quot;);\n            a[i] = sc.nextInt();\n        }\n\n        int[] f_count = new int[a.length];\n\n        // Creating a Count Array to Store the No. of Factors that a Number has\n        // According to their Array order\n        for (int i = 0; i &lt; a.length; i++) {\n            int count = 0;\n            for (int j = a[i] - 1; j &gt; 0; j--) {\n                if (a[i] % j == 0) {\n                    count++;\n                }\n            }\n            f_count[i] = count;\n        }\n\n        // Printing the Given Array with the Help of Method\n        System.out.println(&quot;Given Array : - &quot;);\n        printingArray(a);\n        System.out.println();\n        System.out.println(&quot;The Factors of the Given Array :-&quot;);\n        printingArray(f_count);\n\n        // Sorting the Count Array and Swapping the Given Array\n        for (int i = 0; i &lt; f_count.length - 1; i++) {\n            for (int j = 0; j &lt; f_count.length - 1; j++) {\n                if (f_count[j] &lt; f_count[j + 1]) {\n                    // Swapping elements of the Count Array\n                    int temp_c = f_count[j];\n                    f_count[j] = f_count[j + 1];\n                    f_count[j + 1] = temp_c;\n                    // Swapping the Elements according to Count Array\n                    int temp = a[j];\n                    a[j] = a[j + 1];\n                    a[j + 1] = temp;\n                }\n\n            }\n        }\n\n        // Printing the Resultant Array with the help of Method\n        System.out.println(&quot;\\n\\n&quot;);\n        System.out.println(&quot;Resultant Array : - &quot;);\n        printingArray(a);\n        System.out.println();\n        System.out.println(&quot;The Factors of the Resultant Array :-&quot;);\n        printingArray(f_count);\n\n    }\n\n    // Printing the Array\n    public static void printingArray(int[] a) {\n        for (int i = 0; i &lt; a.length; i++) {\n            System.out.print(a[i] + &quot; &quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>I approached this problem with creating a new Array for the factors that the numbers had, and and sorted the factors, during the sorting of factors i swapped the elements of the given array</p>\n<p>Is there any logical ways to solve them in a easy way?</p>\n<p>The question is:</p>\n<blockquote>\n<p>Arrange the given numbers in the decreasing order of their number of\nfactors.</p>\n<p>Input: 4,2,8,16,5</p>\n<p>Output: 16,8,4,5,2 (or) 16,8,4,2,5</p>\n</blockquote>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680883773,"post_id":75959553,"comment_id":133975661,"body_markdown":"Are you saying the List could be either `List&lt;Object&gt;` or `list&lt;Map&lt;String, Object&gt;&gt;`?  Or do you have two lists of the two different types?","body":"Are you saying the List could be either <code>List&lt;Object&gt;</code> or <code>list&lt;Map&lt;String, Object&gt;&gt;</code>?  Or do you have two lists of the two different types?"}],"answers":[{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680879642,"creation_date":1680879642,"answer_id":75959575,"question_id":75959553,"body_markdown":"generic type information is not available at runtime. This is why you can&#39;t use a parameterized type with `instanceof`.\r\n\r\nA way to work around this limitation is to check if the elements of the list are indeed instances of `Map&lt;String, Object&gt;.`\r\n\r\n    if (rows instanceof List) {\r\n        List&lt;?&gt; rowsList = (List&lt;?&gt;) rows;\r\n        boolean canCast = true;\r\n        \r\n        for (Object row : rowsList) {\r\n            if (!(row instanceof Map)) {\r\n                canCast = false;\r\n                break;\r\n            }\r\n            \r\n            Map&lt;?, ?&gt; rowMap = (Map&lt;?, ?&gt;) row;\r\n            for (Map.Entry&lt;?, ?&gt; entry : rowMap.entrySet()) {\r\n                if (!(entry.getKey() instanceof String) || !(entry.getValue() instanceof Object)) {\r\n                    canCast = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        if (canCast) {\r\n            List&lt;Map&lt;String, Object&gt;&gt; typedRows = (List&lt;Map&lt;String, Object&gt;&gt;) rows;\r\n            // Do something with typedRows\r\n        }\r\n    }\r\n\r\n","title":"How to cast Object to Map&lt;String, Object&gt;, avoiding unchecked cast and illegal generic type for instanceof","body":"<p>generic type information is not available at runtime. This is why you can't use a parameterized type with <code>instanceof</code>.</p>\n<p>A way to work around this limitation is to check if the elements of the list are indeed instances of <code>Map&lt;String, Object&gt;.</code></p>\n<pre><code>if (rows instanceof List) {\n    List&lt;?&gt; rowsList = (List&lt;?&gt;) rows;\n    boolean canCast = true;\n    \n    for (Object row : rowsList) {\n        if (!(row instanceof Map)) {\n            canCast = false;\n            break;\n        }\n        \n        Map&lt;?, ?&gt; rowMap = (Map&lt;?, ?&gt;) row;\n        for (Map.Entry&lt;?, ?&gt; entry : rowMap.entrySet()) {\n            if (!(entry.getKey() instanceof String) || !(entry.getValue() instanceof Object)) {\n                canCast = false;\n                break;\n            }\n        }\n    }\n    \n    if (canCast) {\n        List&lt;Map&lt;String, Object&gt;&gt; typedRows = (List&lt;Map&lt;String, Object&gt;&gt;) rows;\n        // Do something with typedRows\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":74658,"reputation":4237,"user_id":214416,"accept_rate":50,"display_name":"mcv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75959575,"answer_count":1,"score":0,"last_activity_date":1680880345,"creation_date":1680879395,"question_id":75959553,"body_markdown":"I&#39;ve got my JSON neatly into a Map&lt;String, Object&gt;. My JSON object has two fields, one of which is a List&lt;String&gt;, the other is a List&lt;Map&lt;String, Object&gt;&gt;. I want to get both of them into a variable of the appropriate type.\r\n\r\nIf I do\r\n\r\n    if (rows instanceof List) {\r\n        List&lt;Map&lt;String, Object&gt;&gt; rows = (List&lt;Map&lt;String, Object&gt;&gt;) rows);\r\n    }\r\n\r\nI get an &quot;Unchecked cast&quot;. If I do:\r\n\r\n    if (rows instanceof List&lt;Map&lt;String, Object&gt;&gt;) {\r\n        List&lt;Map&lt;String, Object&gt;&gt; rows = List&lt;Map&lt;String, Object&gt;&gt;) rows);\r\n    }\r\n\r\nI get &quot;Illegal generic type for instanceof&quot;.\r\n\r\nSo what is the right way to cast this while checking that I can cast this? I&#39;ve looked everywhere and I can&#39;t find a good answer to this, yet this seems like a really obvious use case that should not be impossible.","title":"How to cast Object to Map&lt;String, Object&gt;, avoiding unchecked cast and illegal generic type for instanceof","body":"<p>I've got my JSON neatly into a Map&lt;String, Object&gt;. My JSON object has two fields, one of which is a List, the other is a List&lt;Map&lt;String, Object&gt;&gt;. I want to get both of them into a variable of the appropriate type.</p>\n<p>If I do</p>\n<pre><code>if (rows instanceof List) {\n    List&lt;Map&lt;String, Object&gt;&gt; rows = (List&lt;Map&lt;String, Object&gt;&gt;) rows);\n}\n</code></pre>\n<p>I get an &quot;Unchecked cast&quot;. If I do:</p>\n<pre><code>if (rows instanceof List&lt;Map&lt;String, Object&gt;&gt;) {\n    List&lt;Map&lt;String, Object&gt;&gt; rows = List&lt;Map&lt;String, Object&gt;&gt;) rows);\n}\n</code></pre>\n<p>I get &quot;Illegal generic type for instanceof&quot;.</p>\n<p>So what is the right way to cast this while checking that I can cast this? I've looked everywhere and I can't find a good answer to this, yet this seems like a really obvious use case that should not be impossible.</p>\n"},{"tags":["java","macos","ide"],"answers":[{"tags":[],"owner":{"account_id":12080858,"reputation":26,"user_id":8832668,"display_name":"Hemant Dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1508946847,"creation_date":1508946847,"answer_id":46936948,"question_id":46936883,"body_markdown":"There are multiple version for intelij community and paid, for paid you need a license.Here are some links how to install inteliJ\r\n\r\nhttps://treehouse.github.io/installation-guides/mac/intellij-idea-mac.html\r\nhttps://www.jetbrains.com/help/idea/installing-and-launching.html\r\n\r\nWith brew:-\r\n\r\nhttp://macappstore.org/intellij-idea/\r\n\r\nInstall the App\r\n\r\nPress Command+Space and type Terminal and press enter/return key.\r\nRun in Terminal app:\r\nruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; &lt; /dev/null 2&gt; /dev/null ; brew install caskroom/cask/brew-cask 2&gt; /dev/null\r\nand press enter/return key. Wait for the command to finish.\r\nRun:\r\nbrew cask install intellij-idea\r\nDone! You can now use IntelliJ IDEA.\r\n\r\n","title":"How to install InteliJ on Mac? (MacOS Sierra)","body":"<p>There are multiple version for intelij community and paid, for paid you need a license.Here are some links how to install inteliJ</p>\n\n<p><a href=\"https://treehouse.github.io/installation-guides/mac/intellij-idea-mac.html\" rel=\"nofollow noreferrer\">https://treehouse.github.io/installation-guides/mac/intellij-idea-mac.html</a>\n<a href=\"https://www.jetbrains.com/help/idea/installing-and-launching.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/installing-and-launching.html</a></p>\n\n<p>With brew:-</p>\n\n<p><a href=\"http://macappstore.org/intellij-idea/\" rel=\"nofollow noreferrer\">http://macappstore.org/intellij-idea/</a></p>\n\n<p>Install the App</p>\n\n<p>Press Command+Space and type Terminal and press enter/return key.\nRun in Terminal app:\nruby -e \"$(curl -fsSL <a href=\"https://raw.githubusercontent.com/Homebrew/install/master/install\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/Homebrew/install/master/install</a>)\" &lt; /dev/null 2> /dev/null ; brew install caskroom/cask/brew-cask 2> /dev/null\nand press enter/return key. Wait for the command to finish.\nRun:\nbrew cask install intellij-idea\nDone! You can now use IntelliJ IDEA.</p>\n"}],"owner":{"account_id":6876934,"reputation":12193,"user_id":5285068,"accept_rate":35,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5843,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46936948,"answer_count":1,"score":3,"last_activity_date":1680880230,"creation_date":1508946674,"question_id":46936883,"body_markdown":"Trying to see should I download and install dmg for *InteliJ* or use `brew cask install`?\r\n\r\n***What is recommendation and how to do with brew?***\r\n\r\n(looking for newest community version)","title":"How to install InteliJ on Mac? (MacOS Sierra)","body":"<p>Trying to see should I download and install dmg for <em>InteliJ</em> or use <code>brew cask install</code>?</p>\n\n<p><strong><em>What is recommendation and how to do with brew?</em></strong></p>\n\n<p>(looking for newest community version)</p>\n"},{"tags":["java","database-connection","datasource","hostname"],"answers":[{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1680879451,"creation_date":1308038620,"answer_id":6340710,"question_id":6340684,"body_markdown":"Once you have the `DatabaseMetaData`, just call the [getURL()][1] method which should contain the hostname like so:\r\n\r\n    dataSource.getConnection().getMetaData().getURL();\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/sql/DatabaseMetaData.html#getURL%28%29","title":"Get the hostname from a DataSource class","body":"<p>Once you have the <code>DatabaseMetaData</code>, just call the <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/sql/DatabaseMetaData.html#getURL%28%29\" rel=\"nofollow noreferrer\">getURL()</a> method which should contain the hostname like so:</p>\n<pre><code>dataSource.getConnection().getMetaData().getURL();\n</code></pre>\n"}],"owner":{"account_id":224693,"reputation":2225,"user_id":484702,"accept_rate":80,"display_name":"Ron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21237,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":6340710,"answer_count":1,"score":25,"last_activity_date":1680879520,"creation_date":1308038410,"question_id":6340684,"body_markdown":"Is there a way to get the hostname from the `DataSource` type in java? I mean, I have a `DataSource` object (DS), which is annotated to get the JBoss datasource. Anyway, I want to get the hostname used in that DS.\r\n\r\nDebugging, i can see it this way: I get the `Connection` from `DataSource`, then I get the `DataSourceMetaData` and inside of that the is something called `Protocol Connection` which have the hostname, but I don&#39;t know how to get it.\r\n\r\nAnyone here knows how? or another way to get the hostname? \r\nThanks in advance. Kind regards, RDAM","title":"Get the hostname from a DataSource class","body":"<p>Is there a way to get the hostname from the <code>DataSource</code> type in java? I mean, I have a <code>DataSource</code> object (DS), which is annotated to get the JBoss datasource. Anyway, I want to get the hostname used in that DS.</p>\n<p>Debugging, i can see it this way: I get the <code>Connection</code> from <code>DataSource</code>, then I get the <code>DataSourceMetaData</code> and inside of that the is something called <code>Protocol Connection</code> which have the hostname, but I don't know how to get it.</p>\n<p>Anyone here knows how? or another way to get the hostname?\nThanks in advance. Kind regards, RDAM</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-envers"],"comments":[{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1680670481,"post_id":75799082,"comment_id":133935471,"body_markdown":"Its not possible to change the type of `Revision Number` to string only allowed values are int, long, one possible solution that I can think of is using one more column in REVINFO table using Custom Revision entity and Storing UUID in that column.","body":"Its not possible to change the type of <code>Revision Number</code> to string only allowed values are int, long, one possible solution that I can think of is using one more column in REVINFO table using Custom Revision entity and Storing UUID in that column."}],"answers":[{"tags":[],"owner":{"account_id":22141394,"reputation":21,"user_id":16391366,"display_name":"Abdelilah Razzouk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680593780,"creation_date":1680592655,"answer_id":75926505,"question_id":75799082,"body_markdown":"It&#39;s true that @RevisionNumber by Hibernate Envers only supports integer-based data types (int, Integer, Long, and long). However, you can still use a UUID data type for your revision identifier column, but you would need to implement your own custom revision entity listener to generate and assign UUID values to the column.\r\n\r\nHere is the link to the documentatio that might help you with that:\r\n\r\nhttps://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#envers\r\n","title":"Can we customize rev column data type in Hibernate envers revinfo table?","body":"<p>It's true that @RevisionNumber by Hibernate Envers only supports integer-based data types (int, Integer, Long, and long). However, you can still use a UUID data type for your revision identifier column, but you would need to implement your own custom revision entity listener to generate and assign UUID values to the column.</p>\n<p>Here is the link to the documentatio that might help you with that:</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#envers\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#envers</a></p>\n"}],"owner":{"account_id":28073740,"reputation":19,"user_id":21445933,"display_name":"Partho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1680879505,"creation_date":1679389141,"question_id":75799082,"body_markdown":"Default DDL of `revinfo` table is like shown below:\r\n\r\n```\r\nCREATE TABLE revinfo (\r\n\trev int4 NOT NULL,\r\n\trevtstmp int8 NULL,\r\n\tCONSTRAINT revinfo_pkey PRIMARY KEY (rev)\r\n);\r\n```\r\n\r\nMy requirement is to have `rev` column as `non-monotonic` preferably of `UUID` type. But my exploration suggest that `@RevisionNumber` annotation mandates rev field to accept `int, Integer, Long &amp; long` data types only. \r\n\r\nDoes Hibernate envers support changing data type for rev column, if so than how it can be done, or are there some alternatives available to implement audit mechanism for table without the need of revinfo table?\r\n","title":"Can we customize rev column data type in Hibernate envers revinfo table?","body":"<p>Default DDL of <code>revinfo</code> table is like shown below:</p>\n<pre><code>CREATE TABLE revinfo (\n    rev int4 NOT NULL,\n    revtstmp int8 NULL,\n    CONSTRAINT revinfo_pkey PRIMARY KEY (rev)\n);\n</code></pre>\n<p>My requirement is to have <code>rev</code> column as <code>non-monotonic</code> preferably of <code>UUID</code> type. But my exploration suggest that <code>@RevisionNumber</code> annotation mandates rev field to accept <code>int, Integer, Long &amp; long</code> data types only.</p>\n<p>Does Hibernate envers support changing data type for rev column, if so than how it can be done, or are there some alternatives available to implement audit mechanism for table without the need of revinfo table?</p>\n"},{"tags":["java","android","canvas","view","mit-scratch"],"comments":[{"owner":{"account_id":2898745,"reputation":10678,"user_id":2485966,"display_name":"Ruud Helderman"},"score":0,"creation_date":1681500437,"post_id":75959547,"comment_id":134072237,"body_markdown":"You already have the PNG, so what&#39;s there to draw other than `drawBitmap`? If you have additional requirements (e.g. scalable), please say so. If you want advice on improving your code, please post your best effort.","body":"You already have the PNG, so what&#39;s there to draw other than <code>drawBitmap</code>? If you have additional requirements (e.g. scalable), please say so. If you want advice on improving your code, please post your best effort."}],"owner":{"account_id":21195640,"reputation":108,"user_id":15587264,"display_name":"ANDROID PRIME"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680879355,"creation_date":1680879355,"question_id":75959547,"body_markdown":"I want to draw the first block type that in the picture at the bottom  in android java using Canvas how can i draw it i tried many ways to draw it but every time its shape is not like the one in the picture [![scratch block][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wuGlc.png","title":"Draw scratch block shape in android using java","body":"<p>I want to draw the first block type that in the picture at the bottom  in android java using Canvas how can i draw it i tried many ways to draw it but every time its shape is not like the one in the picture <a href=\"https://i.stack.imgur.com/wuGlc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wuGlc.png\" alt=\"scratch block\" /></a></p>\n"},{"tags":["java","dependency-injection","dagger"],"owner":{"account_id":19765943,"reputation":57,"user_id":14473971,"display_name":"mitriola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680879140,"creation_date":1680878702,"question_id":75959469,"body_markdown":"I am still pretty new to dagger dependency injection and can&#39;t figure out a way to do this. \r\nI have 2 objects, `ExecutorService` and `CompletionService` that I want to inject into my module, where `CompletionService` is dependent on the other. I want to dependency inject both to be able to mock `CompletionService`&#39;s `.take()` method in my tests and I need the same `ExecutorService` to be able to shutdown the threadpool.\r\n\r\nI want to dependency inject Java&#39;s `ExecutorService` and `CompletionService` into the same object where one depends on the other:\r\n```  \r\nExecutorService executorService = Executors.newFixedThreadPool(5);\r\nCompletionService&lt;List&lt;String&gt;&gt; completionService = new ExecutorCompletionService&lt;&gt;(executorService);\r\n```\r\n\r\nIt would look like the following:\r\n\r\n```\r\n@Provides\r\n@Singleton\r\nExecutorService provideExecutorService() {\r\n    return Executors.newFixedThreadPool(5);\r\n}\r\n\r\n@Provides\r\n@Singleton\r\nCompletionService&lt;List&lt;String&gt;&gt; provideExecutorCompletionService() {\r\n    return new ExecutorCompletionService&lt;&gt;(provideExecutorService());\r\n}\r\n\r\n//Inject into parent object\r\n\r\n@Provides\r\n@Singleton\r\nFoo provideFoo(final executorService, final executorCompletionService) {\r\n    return new Foo(executorService, executorCompletionService);\r\n}\r\n\r\n```\r\n\r\nHowever, the `executorService` instantiated within `executorCompletionService` is not the same as the one passed into `Foo`, and thus later on when calling `executorService.shutdown()`, on the executorService it doesn&#39;t shutdown the threadpool on executorCompletionService. Is there a way to make sure the executorService passed into CompletionService is the same as Foo?","title":"Dagger dependency injection - how to inject 2 objects where one depends on another?","body":"<p>I am still pretty new to dagger dependency injection and can't figure out a way to do this.\nI have 2 objects, <code>ExecutorService</code> and <code>CompletionService</code> that I want to inject into my module, where <code>CompletionService</code> is dependent on the other. I want to dependency inject both to be able to mock <code>CompletionService</code>'s <code>.take()</code> method in my tests and I need the same <code>ExecutorService</code> to be able to shutdown the threadpool.</p>\n<p>I want to dependency inject Java's <code>ExecutorService</code> and <code>CompletionService</code> into the same object where one depends on the other:</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(5);\nCompletionService&lt;List&lt;String&gt;&gt; completionService = new ExecutorCompletionService&lt;&gt;(executorService);\n</code></pre>\n<p>It would look like the following:</p>\n<pre><code>@Provides\n@Singleton\nExecutorService provideExecutorService() {\n    return Executors.newFixedThreadPool(5);\n}\n\n@Provides\n@Singleton\nCompletionService&lt;List&lt;String&gt;&gt; provideExecutorCompletionService() {\n    return new ExecutorCompletionService&lt;&gt;(provideExecutorService());\n}\n\n//Inject into parent object\n\n@Provides\n@Singleton\nFoo provideFoo(final executorService, final executorCompletionService) {\n    return new Foo(executorService, executorCompletionService);\n}\n\n</code></pre>\n<p>However, the <code>executorService</code> instantiated within <code>executorCompletionService</code> is not the same as the one passed into <code>Foo</code>, and thus later on when calling <code>executorService.shutdown()</code>, on the executorService it doesn't shutdown the threadpool on executorCompletionService. Is there a way to make sure the executorService passed into CompletionService is the same as Foo?</p>\n"},{"tags":["java","runtime-error"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638164624,"creation_date":1638164624,"answer_id":70150222,"question_id":70149494,"body_markdown":"If you have not already done so, I suggest that you read the documentation for class [java.util.Scanner][1].\r\n\r\nThis line of your code is throwing the `InputMismatchException`.\r\n```java\r\nproductPrice = scnr.nextInt();\r\n```\r\nThat means that `scnr` read a token that was not an `int`. This is because your product contained two words, namely *Chocolate Chips*. So this line of your code only read *Chocolate*\r\n```java\r\nproductName = scnr.next();\r\n```\r\nand hence method `nextInt` read *Chips* which is not an `int`.\r\n\r\nYou need to change the code and call method `nextLine` rather than method `next`. Again, refer to the documentation to understand why.\r\n\r\nAlso, after calling method `nextInt` and before calling method `nextLine`, you need an extra call to method `nextLine`. Refer to [Scanner is skipping nextLine() after using next() or nextFoo()?][2] to understand why.\r\n\r\nOnly class `ShoppingCartPrinter` needs to be changed. Here is the changed code. I have added comments to indicate the changes, namely `CHANGE HERE` and `ADDED THIS LINE`.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ShoppingCartPrinter {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        int i = 0;\r\n        String productName;\r\n        int productPrice = 0;\r\n        int productQuantity = 0;\r\n        int cartTotal = 0;\r\n\r\n        ItemToPurchase item1 = new ItemToPurchase();\r\n        ItemToPurchase item2 = new ItemToPurchase();\r\n        // Get item 1 details from user, create itemToPurchase object\r\n        System.out.println(&quot;Item 1&quot;);\r\n\r\n        System.out.println(&quot;Enter the item name: &quot;);\r\n        productName = scnr.nextLine(); // CHANGE HERE\r\n        item1.setName(productName);\r\n\r\n        System.out.println(&quot;Enter the item price: &quot;);\r\n        productPrice = scnr.nextInt();\r\n        item1.setPrice(productPrice);\r\n\r\n        System.out.println(&quot;Enter the item quantity: &quot;);\r\n        productQuantity = scnr.nextInt();\r\n        item1.setQuantity(productQuantity);\r\n\r\n        scnr.nextLine(); // ADDED THIS LINE\r\n        System.out.println(&quot;&quot;);\r\n\r\n        // Get item 2 details from user, create itemToPurchase object\r\n        System.out.println(&quot;Item 2&quot;);\r\n\r\n        System.out.println(&quot;Enter the item name: &quot;);\r\n        productName = scnr.nextLine(); // CHANGE HERE\r\n        item2.setName(productName);\r\n\r\n        System.out.println(&quot;Enter the item price: &quot;);\r\n        productPrice = scnr.nextInt();\r\n        item2.setPrice(productPrice);\r\n\r\n        System.out.println(&quot;Enter the item quantity: &quot;);\r\n        productQuantity = scnr.nextInt();\r\n        item2.setQuantity(productQuantity);\r\n\r\n        System.out.println(&quot;&quot;);\r\n\r\n        // Add costs of two items and print total\r\n        cartTotal = (item1.getQuantity() * item1.getPrice())\r\n                + (item2.getQuantity() * item2.getPrice());\r\n        System.out.println(&quot;TOTAL COST&quot;);\r\n        // cartTotal = item one price + item two price\r\n        // Totoal Cost\r\n        // item one information\r\n        int item1Total = item1.getPrice() * item1.getQuantity();\r\n        System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() + &quot; @ $&quot; + item1.getPrice()\r\n                + &quot; = $&quot; + item1Total);\r\n        // item two information\r\n        int item2Total = item2.getPrice() * item2.getQuantity();\r\n        System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() + &quot; @ $&quot; + item2.getPrice()\r\n                + &quot; = $&quot; + item2Total);\r\n        // Total output\r\n        System.out.println(&quot;&quot;);\r\n        System.out.print(&quot;Total: $&quot; + cartTotal);\r\n        return;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html\r\n  [2]: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","title":"What causes the &quot;Exception in thread &quot;main&quot; java.util.InputMismatchException&quot; error?","body":"<p>If you have not already done so, I suggest that you read the documentation for class <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">java.util.Scanner</a>.</p>\n<p>This line of your code is throwing the <code>InputMismatchException</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>productPrice = scnr.nextInt();\n</code></pre>\n<p>That means that <code>scnr</code> read a token that was not an <code>int</code>. This is because your product contained two words, namely <em>Chocolate Chips</em>. So this line of your code only read <em>Chocolate</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>productName = scnr.next();\n</code></pre>\n<p>and hence method <code>nextInt</code> read <em>Chips</em> which is not an <code>int</code>.</p>\n<p>You need to change the code and call method <code>nextLine</code> rather than method <code>next</code>. Again, refer to the documentation to understand why.</p>\n<p>Also, after calling method <code>nextInt</code> and before calling method <code>nextLine</code>, you need an extra call to method <code>nextLine</code>. Refer to <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> to understand why.</p>\n<p>Only class <code>ShoppingCartPrinter</code> needs to be changed. Here is the changed code. I have added comments to indicate the changes, namely <code>CHANGE HERE</code> and <code>ADDED THIS LINE</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ShoppingCartPrinter {\n\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int i = 0;\n        String productName;\n        int productPrice = 0;\n        int productQuantity = 0;\n        int cartTotal = 0;\n\n        ItemToPurchase item1 = new ItemToPurchase();\n        ItemToPurchase item2 = new ItemToPurchase();\n        // Get item 1 details from user, create itemToPurchase object\n        System.out.println(&quot;Item 1&quot;);\n\n        System.out.println(&quot;Enter the item name: &quot;);\n        productName = scnr.nextLine(); // CHANGE HERE\n        item1.setName(productName);\n\n        System.out.println(&quot;Enter the item price: &quot;);\n        productPrice = scnr.nextInt();\n        item1.setPrice(productPrice);\n\n        System.out.println(&quot;Enter the item quantity: &quot;);\n        productQuantity = scnr.nextInt();\n        item1.setQuantity(productQuantity);\n\n        scnr.nextLine(); // ADDED THIS LINE\n        System.out.println(&quot;&quot;);\n\n        // Get item 2 details from user, create itemToPurchase object\n        System.out.println(&quot;Item 2&quot;);\n\n        System.out.println(&quot;Enter the item name: &quot;);\n        productName = scnr.nextLine(); // CHANGE HERE\n        item2.setName(productName);\n\n        System.out.println(&quot;Enter the item price: &quot;);\n        productPrice = scnr.nextInt();\n        item2.setPrice(productPrice);\n\n        System.out.println(&quot;Enter the item quantity: &quot;);\n        productQuantity = scnr.nextInt();\n        item2.setQuantity(productQuantity);\n\n        System.out.println(&quot;&quot;);\n\n        // Add costs of two items and print total\n        cartTotal = (item1.getQuantity() * item1.getPrice())\n                + (item2.getQuantity() * item2.getPrice());\n        System.out.println(&quot;TOTAL COST&quot;);\n        // cartTotal = item one price + item two price\n        // Totoal Cost\n        // item one information\n        int item1Total = item1.getPrice() * item1.getQuantity();\n        System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() + &quot; @ $&quot; + item1.getPrice()\n                + &quot; = $&quot; + item1Total);\n        // item two information\n        int item2Total = item2.getPrice() * item2.getQuantity();\n        System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() + &quot; @ $&quot; + item2.getPrice()\n                + &quot; = $&quot; + item2Total);\n        // Total output\n        System.out.println(&quot;&quot;);\n        System.out.print(&quot;Total: $&quot; + cartTotal);\n        return;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23484902,"reputation":11,"user_id":17536539,"display_name":"steven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1203,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680878942,"creation_date":1638157161,"question_id":70149494,"body_markdown":"To begin my question, here is my question prompt:\r\n\r\n\r\n    Create a program using classes that does the following in the zyLabs developer below. For this lab, you will be working with two different class files. To switch files, look for where it says &quot;Current File&quot; at the top of the developer window. Click the current file name, then select the file you need.\r\n    \r\n    (1) Create two files to submit:\r\n    \r\n    ItemToPurchase.java - Class definition\r\n    ShoppingCartPrinter.java - Contains main() method\r\n    Build the ItemToPurchase class with the following specifications:\r\n    \r\n    Private fields\r\n    String itemName - Initialized in default constructor to &quot;none&quot;\r\n    int itemPrice - Initialized in default constructor to 0\r\n    int itemQuantity - Initialized in default constructor to 0\r\n    Default constructor\r\n    Public member methods (mutators &amp; accessors)\r\n    setName() &amp; getName() (2 pts)\r\n    setPrice() &amp; getPrice() (2 pts)\r\n    setQuantity() &amp; getQuantity() (2 pts)\r\n    (2) In main(), prompt the user for two items and create two objects of the ItemToPurchase class. Before prompting for the second item, call scnr.nextLine(); to allow the user to input a new string. (2 pts)\r\n    \r\n    Ex:\r\n    \r\n    Item 1\r\n    Enter the item name: Chocolate Chips\r\n    Enter the item price: 3\r\n    Enter the item quantity: 1\r\n    \r\n    Item 2\r\n    Enter the item name: Bottled Water\r\n    Enter the item price: 1\r\n    Enter the item quantity: 10\r\n    \r\n    (3) Add the costs of the two items together and output the total cost. (2 pts)\r\n    \r\n    Ex:\r\n    \r\n    TOTAL COST\r\n    Chocolate Chips 1 @ $3 = $3\r\n    Bottled Water 10 @ $1 = $10\r\n    \r\n    Total: $13  \r\n\r\nMy code:\r\n&gt; ItemToPurhase.java  \r\n\r\n        public class ItemToPurchase {\r\n       //Private fields - itemName, itemPrice, and itemQuanity\r\n       private String itemName = &quot;none&quot;;\r\n       private int itemPrice = 0;\r\n       private int itemQuantity = 0;\r\n    \r\n       /*Default Constructor\r\n        itemName - Initialized to &quot;none&quot;\r\n        itemPrice - Initialized to 0\r\n        itemQuantity - Initialized ito 0\r\n       */\r\n       \r\n       public ItemToPurchase () {\r\n          this.itemName = &quot;none&quot;;\r\n          this.itemPrice = 0;\r\n          this.itemQuantity = 0;\r\n       }   \r\n        \r\n       //public member methods (mutators &amp; accessors)\r\n       \r\n       //setName() &amp; getName() \r\n       public void setName (String itemName) {\r\n          this.itemName = itemName;\r\n       }\r\n       \r\n       public String getName() {\r\n          return itemName;\r\n       }\r\n       \r\n       //setPrice() &amp; getPrice() \r\n       public void setPrice (int itemPrice) {\r\n          this.itemPrice = itemPrice;\r\n       }\r\n       \r\n       public int getPrice(){\r\n          return itemPrice;\r\n       }\r\n       \r\n       //setQuantity() &amp; getQuantity() \r\n       public void setQuantity (int itemQuantity) {\r\n          this.itemQuantity = itemQuantity;\r\n       }\r\n       \r\n       public int getQuantity() {\r\n          return itemQuantity;\r\n       }\r\n       \r\n       //print item to purchase\r\n       \r\n       public void printItemPurchase() {\r\n          System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +  \r\n                             &quot; = $&quot; + (itemPrice * itemQuantity));\r\n       }\r\n    }\r\n\r\n&gt; ShoppingCartPrinter.java  \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ShoppingCartPrinter {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          int i = 0;\r\n          String productName;\r\n          int productPrice = 0;\r\n          int productQuantity = 0;\r\n          int cartTotal = 0;\r\n      \r\n          ItemToPurchase item1 = new ItemToPurchase();\r\n          ItemToPurchase item2 = new ItemToPurchase();\r\n    \r\n          // Get item 1 details from user, create itemToPurchase object\r\n          System.out.println(&quot;Item 1&quot;);\r\n          \r\n          System.out.println(&quot;Enter the item name: &quot;);\r\n          productName = scnr.next();\r\n          item1.setName(productName);\r\n          \r\n          System.out.println(&quot;Enter the item price: &quot;);\r\n          productPrice = scnr.nextInt();\r\n          item1.setPrice(productPrice);\r\n          \r\n          System.out.println(&quot;Enter the item quantity: &quot;);\r\n          productQuantity = scnr.nextInt();\r\n          item1.setQuantity(productQuantity);\r\n          \r\n          System.out.println(&quot;&quot;);\r\n     \r\n          // Get item 2 details from user, create itemToPurchase object\r\n          System.out.println(&quot;Item 2&quot;);\r\n          \r\n          System.out.println(&quot;Enter the item name: &quot;);\r\n          productName = scnr.next();\r\n          item2.setName(productName);\r\n          \r\n          System.out.println(&quot;Enter the item price: &quot;);\r\n          productPrice = scnr.nextInt();\r\n          item2.setPrice(productPrice);\r\n          \r\n          System.out.println(&quot;Enter the item quantity: &quot;);\r\n          productQuantity = scnr.nextInt();\r\n          item2.setQuantity(productQuantity);\r\n          \r\n          System.out.println(&quot;&quot;);\r\n          \r\n          \r\n          // Add costs of two items and print total\r\n          cartTotal = (item1.getQuantity() * item1.getPrice()) + (item2.getQuantity() * item2.getPrice());\r\n          System.out.println(&quot;TOTAL COST&quot;);\r\n          // cartTotal = item one price + item two price\r\n          // Totoal Cost\r\n          // item one information\r\n          int item1Total = item1.getPrice() * item1.getQuantity();\r\n          System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() +  &quot; @ $&quot; + item1.getPrice() + &quot; = $&quot; + item1Total);\r\n          // item two information\r\n          int item2Total = item2.getPrice() * item2.getQuantity();\r\n          System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() +  &quot; @ $&quot; + item2.getPrice() + &quot; = $&quot; + item2Total);\r\n          // Total output\r\n          System.out.println(&quot;&quot;);\r\n          System.out.print(&quot;Total: $&quot; + cartTotal);\r\n          return;\r\n       }\r\n       \r\n    }\r\n\r\nAlthough I am getting no errors for most of the submissions, there are 2 submissions that raise the &quot;Exception in thread &quot;main&quot; java.util.InputMismatchException&quot; error.\r\n\r\nExample:\r\n\r\n    Exited with return code 1.  \r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException  \r\n    \tat java.base/java.util.Scanner.throwFor(Scanner.java:939)  \r\n    \tat java.base/java.util.Scanner.next(Scanner.java:1594)  \r\n    \tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)  \r\n    \tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)  \r\n    \tat ShoppingCartPrinter.main(ShoppingCartPrinter.java:23)\r\n\r\n  \r\n\r\n    Output differs. See highlights below. \r\n  \r\n    Input:\r\n\r\n    Chocolate Chips\r\n    3\r\n    1\r\n    Bottled Water\r\n    1\r\n    10\r\n\r\n    Your output:\r\n\r\n    Item 1\r\n    Enter the item name: \r\n    Enter the item price: \r\n\r\n    Expected output(!):\r\n\r\n    Item 1\r\n    Enter the item name: \r\n    Enter the item price: \r\n    Enter the item quantity: \r\n    \r\n    Item 2\r\n    Enter the item name: \r\n    Enter the item price: \r\n    Enter the item quantity: \r\n    \r\n    TOTAL COST\r\n    Chocolate Chips 1 @ $3 = $3\r\n    Bottled Water 10 @ $1 = $10\r\n    \r\n    Total: $13\r\n\r\nMy code seems correct for other inputs that are very similar but for some reason, the compiler that my professor uses keeps prompting this error for a very few cases. \r\n","title":"What causes the &quot;Exception in thread &quot;main&quot; java.util.InputMismatchException&quot; error?","body":"<p>To begin my question, here is my question prompt:</p>\n<pre><code>Create a program using classes that does the following in the zyLabs developer below. For this lab, you will be working with two different class files. To switch files, look for where it says &quot;Current File&quot; at the top of the developer window. Click the current file name, then select the file you need.\n\n(1) Create two files to submit:\n\nItemToPurchase.java - Class definition\nShoppingCartPrinter.java - Contains main() method\nBuild the ItemToPurchase class with the following specifications:\n\nPrivate fields\nString itemName - Initialized in default constructor to &quot;none&quot;\nint itemPrice - Initialized in default constructor to 0\nint itemQuantity - Initialized in default constructor to 0\nDefault constructor\nPublic member methods (mutators &amp; accessors)\nsetName() &amp; getName() (2 pts)\nsetPrice() &amp; getPrice() (2 pts)\nsetQuantity() &amp; getQuantity() (2 pts)\n(2) In main(), prompt the user for two items and create two objects of the ItemToPurchase class. Before prompting for the second item, call scnr.nextLine(); to allow the user to input a new string. (2 pts)\n\nEx:\n\nItem 1\nEnter the item name: Chocolate Chips\nEnter the item price: 3\nEnter the item quantity: 1\n\nItem 2\nEnter the item name: Bottled Water\nEnter the item price: 1\nEnter the item quantity: 10\n\n(3) Add the costs of the two items together and output the total cost. (2 pts)\n\nEx:\n\nTOTAL COST\nChocolate Chips 1 @ $3 = $3\nBottled Water 10 @ $1 = $10\n\nTotal: $13  \n</code></pre>\n<p>My code:</p>\n<blockquote>\n<p>ItemToPurhase.java</p>\n</blockquote>\n<pre><code>    public class ItemToPurchase {\n   //Private fields - itemName, itemPrice, and itemQuanity\n   private String itemName = &quot;none&quot;;\n   private int itemPrice = 0;\n   private int itemQuantity = 0;\n\n   /*Default Constructor\n    itemName - Initialized to &quot;none&quot;\n    itemPrice - Initialized to 0\n    itemQuantity - Initialized ito 0\n   */\n   \n   public ItemToPurchase () {\n      this.itemName = &quot;none&quot;;\n      this.itemPrice = 0;\n      this.itemQuantity = 0;\n   }   \n    \n   //public member methods (mutators &amp; accessors)\n   \n   //setName() &amp; getName() \n   public void setName (String itemName) {\n      this.itemName = itemName;\n   }\n   \n   public String getName() {\n      return itemName;\n   }\n   \n   //setPrice() &amp; getPrice() \n   public void setPrice (int itemPrice) {\n      this.itemPrice = itemPrice;\n   }\n   \n   public int getPrice(){\n      return itemPrice;\n   }\n   \n   //setQuantity() &amp; getQuantity() \n   public void setQuantity (int itemQuantity) {\n      this.itemQuantity = itemQuantity;\n   }\n   \n   public int getQuantity() {\n      return itemQuantity;\n   }\n   \n   //print item to purchase\n   \n   public void printItemPurchase() {\n      System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +  \n                         &quot; = $&quot; + (itemPrice * itemQuantity));\n   }\n}\n</code></pre>\n<blockquote>\n<p>ShoppingCartPrinter.java</p>\n</blockquote>\n<pre><code>import java.util.Scanner;\n\npublic class ShoppingCartPrinter {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int i = 0;\n      String productName;\n      int productPrice = 0;\n      int productQuantity = 0;\n      int cartTotal = 0;\n  \n      ItemToPurchase item1 = new ItemToPurchase();\n      ItemToPurchase item2 = new ItemToPurchase();\n\n      // Get item 1 details from user, create itemToPurchase object\n      System.out.println(&quot;Item 1&quot;);\n      \n      System.out.println(&quot;Enter the item name: &quot;);\n      productName = scnr.next();\n      item1.setName(productName);\n      \n      System.out.println(&quot;Enter the item price: &quot;);\n      productPrice = scnr.nextInt();\n      item1.setPrice(productPrice);\n      \n      System.out.println(&quot;Enter the item quantity: &quot;);\n      productQuantity = scnr.nextInt();\n      item1.setQuantity(productQuantity);\n      \n      System.out.println(&quot;&quot;);\n \n      // Get item 2 details from user, create itemToPurchase object\n      System.out.println(&quot;Item 2&quot;);\n      \n      System.out.println(&quot;Enter the item name: &quot;);\n      productName = scnr.next();\n      item2.setName(productName);\n      \n      System.out.println(&quot;Enter the item price: &quot;);\n      productPrice = scnr.nextInt();\n      item2.setPrice(productPrice);\n      \n      System.out.println(&quot;Enter the item quantity: &quot;);\n      productQuantity = scnr.nextInt();\n      item2.setQuantity(productQuantity);\n      \n      System.out.println(&quot;&quot;);\n      \n      \n      // Add costs of two items and print total\n      cartTotal = (item1.getQuantity() * item1.getPrice()) + (item2.getQuantity() * item2.getPrice());\n      System.out.println(&quot;TOTAL COST&quot;);\n      // cartTotal = item one price + item two price\n      // Totoal Cost\n      // item one information\n      int item1Total = item1.getPrice() * item1.getQuantity();\n      System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() +  &quot; @ $&quot; + item1.getPrice() + &quot; = $&quot; + item1Total);\n      // item two information\n      int item2Total = item2.getPrice() * item2.getQuantity();\n      System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() +  &quot; @ $&quot; + item2.getPrice() + &quot; = $&quot; + item2Total);\n      // Total output\n      System.out.println(&quot;&quot;);\n      System.out.print(&quot;Total: $&quot; + cartTotal);\n      return;\n   }\n   \n}\n</code></pre>\n<p>Although I am getting no errors for most of the submissions, there are 2 submissions that raise the &quot;Exception in thread &quot;main&quot; java.util.InputMismatchException&quot; error.</p>\n<p>Example:</p>\n<pre><code>Exited with return code 1.  \nException in thread &quot;main&quot; java.util.InputMismatchException  \n    at java.base/java.util.Scanner.throwFor(Scanner.java:939)  \n    at java.base/java.util.Scanner.next(Scanner.java:1594)  \n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)  \n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)  \n    at ShoppingCartPrinter.main(ShoppingCartPrinter.java:23)\n\n\n\nOutput differs. See highlights below. \n\nInput:\n\nChocolate Chips\n3\n1\nBottled Water\n1\n10\n\nYour output:\n\nItem 1\nEnter the item name: \nEnter the item price: \n\nExpected output(!):\n\nItem 1\nEnter the item name: \nEnter the item price: \nEnter the item quantity: \n\nItem 2\nEnter the item name: \nEnter the item price: \nEnter the item quantity: \n\nTOTAL COST\nChocolate Chips 1 @ $3 = $3\nBottled Water 10 @ $1 = $10\n\nTotal: $13\n</code></pre>\n<p>My code seems correct for other inputs that are very similar but for some reason, the compiler that my professor uses keeps prompting this error for a very few cases.</p>\n"},{"tags":["java","sql-server","database","jdbc","junit4"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1589479387,"post_id":61803691,"comment_id":109318556,"body_markdown":"[Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/q/284236/2029983)","body":"<a href=\"https://meta.stackoverflow.com/q/284236/2029983\">Why is “Can someone help me?” not an actual question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3339739,"reputation":1756,"user_id":2806265,"display_name":"Matthias Steinbauer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1680878887,"creation_date":1589479992,"answer_id":61804447,"question_id":61803691,"body_markdown":"I believe what you are trying to achieve is to pre-seed your database prior running tests. For this I usually use one of two strategies.\r\n\r\n1. You can put a file called `data.sql` into your `src/main/resources` or `src/test/resources` folder. Spring Boot will automatically pick it up and import the data into your database. If you only want to import a schema you can use `schema.sql` as an alternative.\r\n\r\n2. If you want specific data and schema loaded for tests you can always also use the `@Sql` annotation for that. It allows you to specify a list of SQL files to be run prior running your tests.\r\n\r\n```java\r\n@Sql({&quot;/employee_schema.sql&quot;, &quot;/employee_test_data.sql&quot;})\r\npublic class EmployeeTest {\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n \r\n    @Test\r\n    public void testLoadDataForTestClass() {\r\n        assertEquals(3, employeeRepository.findAll().size());\r\n    }\r\n}\r\n```\r\n\r\nI usually refer to this excellent tutorial: \r\n\r\n* [Quick Guide on Loading Initial Data with Spring Boot](https://www.baeldung.com/spring-boot-data-sql-and-schema-sql)","title":"To Run an sql script only one time before executing Spring boot JUnit Class","body":"<p>I believe what you are trying to achieve is to pre-seed your database prior running tests. For this I usually use one of two strategies.</p>\n<ol>\n<li><p>You can put a file called <code>data.sql</code> into your <code>src/main/resources</code> or <code>src/test/resources</code> folder. Spring Boot will automatically pick it up and import the data into your database. If you only want to import a schema you can use <code>schema.sql</code> as an alternative.</p>\n</li>\n<li><p>If you want specific data and schema loaded for tests you can always also use the <code>@Sql</code> annotation for that. It allows you to specify a list of SQL files to be run prior running your tests.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Sql({&quot;/employee_schema.sql&quot;, &quot;/employee_test_data.sql&quot;})\npublic class EmployeeTest {\n    @Autowired\n    private EmployeeRepository employeeRepository;\n \n    @Test\n    public void testLoadDataForTestClass() {\n        assertEquals(3, employeeRepository.findAll().size());\n    }\n}\n</code></pre>\n<p>I usually refer to this excellent tutorial:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\" rel=\"nofollow noreferrer\">Quick Guide on Loading Initial Data with Spring Boot</a></li>\n</ul>\n"}],"owner":{"account_id":9857056,"reputation":53,"user_id":7301246,"display_name":"devzone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9683,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61804447,"answer_count":1,"score":4,"last_activity_date":1680878908,"creation_date":1589477459,"question_id":61803691,"body_markdown":"I am Trying to execute an Sql file which may contain any CRUD operation(s) before executing a Spring boot Junit class/ regression Test Suite. I did it using typical/legacy JDBC way, but want to use latest API. JDBC template won&#39;t help here it seems as i am trying to run the Script. Please help me here.\r\n","title":"To Run an sql script only one time before executing Spring boot JUnit Class","body":"<p>I am Trying to execute an Sql file which may contain any CRUD operation(s) before executing a Spring boot Junit class/ regression Test Suite. I did it using typical/legacy JDBC way, but want to use latest API. JDBC template won't help here it seems as i am trying to run the Script. Please help me here.</p>\n"},{"tags":["java","jython","ghidra"],"owner":{"account_id":5428841,"reputation":11,"user_id":6247405,"display_name":"LN2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680878835,"creation_date":1680878835,"question_id":75959478,"body_markdown":"Is there a similar way to change the FSLR (&quot;File System Resource Locator&quot;) of a file in GHidra, like there is to change its &quot;Executable Location&quot; with &#39;currentProgram.setExecutablePath(&quot;/new/path/to/binary.elf&quot;)&#39; as described [here](https://stackoverflow.com/questions/65733481/how-to-change-the-program-path-in-ghidra)?\r\n\r\nThere doesn&#39;t seem to be a GUI option and entering the currentProgram.setFSRL(&quot;/new/path/to/binary.elf&quot;) into the Python REPL only results in:\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;python&quot;, line 1, in &lt;module&gt;\r\nAttributeError: &#39;ghidra.program.database.ProgramDB&#39; object has no attribute &#39;setFSRL&#39;\r\n```\r\n\r\n\r\n\r\nWhile manually editing the &quot;.db&quot; files in the &quot;idata&quot; directory with a hex-editor and then re-saving the file in Ghidra does seem to work, that might break things in unexpected ways, so that&#39;s probably not a good work-around either.","title":"How to change the FSRL for a file in Ghidra","body":"<p>Is there a similar way to change the FSLR (&quot;File System Resource Locator&quot;) of a file in GHidra, like there is to change its &quot;Executable Location&quot; with 'currentProgram.setExecutablePath(&quot;/new/path/to/binary.elf&quot;)' as described <a href=\"https://stackoverflow.com/questions/65733481/how-to-change-the-program-path-in-ghidra\">here</a>?</p>\n<p>There doesn't seem to be a GUI option and entering the currentProgram.setFSRL(&quot;/new/path/to/binary.elf&quot;) into the Python REPL only results in:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;python&quot;, line 1, in &lt;module&gt;\nAttributeError: 'ghidra.program.database.ProgramDB' object has no attribute 'setFSRL'\n</code></pre>\n<p>While manually editing the &quot;.db&quot; files in the &quot;idata&quot; directory with a hex-editor and then re-saving the file in Ghidra does seem to work, that might break things in unexpected ways, so that's probably not a good work-around either.</p>\n"},{"tags":["java","spring-boot","apache-nifi"],"comments":[{"owner":{"account_id":288211,"reputation":5020,"user_id":588492,"accept_rate":67,"display_name":"edjm"},"score":0,"creation_date":1680861872,"post_id":75957165,"comment_id":133971408,"body_markdown":"Here is a link to an article: https://www.projectpro.io/recipes/read-csv-files-and-convert-data-into-json-format-using-nifi-controller-services","body":"Here is a link to an article: <a href=\"https://www.projectpro.io/recipes/read-csv-files-and-convert-data-into-json-format-using-nifi-controller-services\" rel=\"nofollow noreferrer\">projectpro.io/recipes/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21478524,"reputation":497,"user_id":15826337,"display_name":"Mike R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680878643,"creation_date":1680878643,"answer_id":75959462,"question_id":75957165,"body_markdown":"What you could transform the CSV to JSON using the ConvertRecord Processor and then use something like JOLT to transform the data to the proper format. https://jolt-demo.appspot.com/#inception\r\n\r\nOr you could write a script to do it.","title":"How to convert Csv File to nested Json using Nifi?","body":"<p>What you could transform the CSV to JSON using the ConvertRecord Processor and then use something like JOLT to transform the data to the proper format. <a href=\"https://jolt-demo.appspot.com/#inception\" rel=\"nofollow noreferrer\">https://jolt-demo.appspot.com/#inception</a></p>\n<p>Or you could write a script to do it.</p>\n"}],"owner":{"account_id":27715916,"reputation":35,"user_id":21157631,"display_name":"Destiel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680878643,"creation_date":1680859403,"question_id":75957165,"body_markdown":"I am converting CSV File file to json in a nested format. How Can I convert my csv to required json in nifi? There is alot of list and array thing.\r\n\r\nAssume CSV FILE like this\r\n\r\n| Agent| Location| Company| Model1| Sub-Model1|\r\n|:-----|:--------|:------|:-----------|:-----------|\r\n| A1   | L1      | Hyundai | Verna         | 2018        |\r\n| A1   | L1      | Hyundai | creta| 2015  |\r\n| A1   | L1      | Hyundai | Aura| 2022        |\r\n| A2   | L1      | Toyota| Fortuner| 2020        |\r\n\r\n\r\nRequired JSON Nested format\r\n```\r\n[\r\n{&quot;Agent&quot;:&quot;A1&quot;,\r\n  &quot;loc_id&quot;:&quot;L1&quot;,\r\n   &quot;Company&quot;:{ \r\n        &quot;Hyundai&quot;:[ {&quot;Verna&quot;:[\r\n                              {\r\n                               &quot;2018&quot;:[]\r\n                              }\r\n                             ]\r\n                    },\r\n                    {&quot;Creta&quot;:[\r\n                              {\r\n                                &quot;2015&quot;:[]\r\n                              }\r\n                             ]\r\n                    },\r\n                    {&quot;Aura&quot;:[\r\n                              {\r\n                               &quot;2022&quot;:[]\r\n                              }\r\n                             ]\r\n                    }\r\n                ]\r\n             }\r\n},\r\n{&quot;Agent&quot;:&quot;A2&quot;,\r\n &quot;loc_id&quot;:&quot;L1&quot;,\r\n &quot;Company&quot;:{\r\n             &quot;Toyota&quot;:[\r\n                      {\r\n                       &quot;Fortuner&quot;:[\r\n                                  {\r\n                                    &quot;2020&quot;:[]\r\n                                  }\r\n                                  ]\r\n                      }\r\n                      ]\r\n           }\r\n}\r\n]\r\n```","title":"How to convert Csv File to nested Json using Nifi?","body":"<p>I am converting CSV File file to json in a nested format. How Can I convert my csv to required json in nifi? There is alot of list and array thing.</p>\n<p>Assume CSV FILE like this</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Agent</th>\n<th style=\"text-align: left;\">Location</th>\n<th style=\"text-align: left;\">Company</th>\n<th style=\"text-align: left;\">Model1</th>\n<th style=\"text-align: left;\">Sub-Model1</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">A1</td>\n<td style=\"text-align: left;\">L1</td>\n<td style=\"text-align: left;\">Hyundai</td>\n<td style=\"text-align: left;\">Verna</td>\n<td style=\"text-align: left;\">2018</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">A1</td>\n<td style=\"text-align: left;\">L1</td>\n<td style=\"text-align: left;\">Hyundai</td>\n<td style=\"text-align: left;\">creta</td>\n<td style=\"text-align: left;\">2015</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">A1</td>\n<td style=\"text-align: left;\">L1</td>\n<td style=\"text-align: left;\">Hyundai</td>\n<td style=\"text-align: left;\">Aura</td>\n<td style=\"text-align: left;\">2022</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">A2</td>\n<td style=\"text-align: left;\">L1</td>\n<td style=\"text-align: left;\">Toyota</td>\n<td style=\"text-align: left;\">Fortuner</td>\n<td style=\"text-align: left;\">2020</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Required JSON Nested format</p>\n<pre><code>[\n{&quot;Agent&quot;:&quot;A1&quot;,\n  &quot;loc_id&quot;:&quot;L1&quot;,\n   &quot;Company&quot;:{ \n        &quot;Hyundai&quot;:[ {&quot;Verna&quot;:[\n                              {\n                               &quot;2018&quot;:[]\n                              }\n                             ]\n                    },\n                    {&quot;Creta&quot;:[\n                              {\n                                &quot;2015&quot;:[]\n                              }\n                             ]\n                    },\n                    {&quot;Aura&quot;:[\n                              {\n                               &quot;2022&quot;:[]\n                              }\n                             ]\n                    }\n                ]\n             }\n},\n{&quot;Agent&quot;:&quot;A2&quot;,\n &quot;loc_id&quot;:&quot;L1&quot;,\n &quot;Company&quot;:{\n             &quot;Toyota&quot;:[\n                      {\n                       &quot;Fortuner&quot;:[\n                                  {\n                                    &quot;2020&quot;:[]\n                                  }\n                                  ]\n                      }\n                      ]\n           }\n}\n]\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":18075815,"reputation":101,"user_id":13139131,"display_name":"Roshan Kumar"},"score":0,"creation_date":1680835767,"post_id":75954609,"comment_id":133968022,"body_markdown":"Did you get any error message?","body":"Did you get any error message?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680838550,"post_id":75954609,"comment_id":133968251,"body_markdown":"There is **way** too much code here for us to effectively help with, and not enough information on what&#39;s going wrong. Somebody may of course happen to catch what&#39;s going wrong, but chances drastically go up if you increase the focus and information. Please read [how to create a minimal, complete, verifiable example](http://stackoverflow.com/help/mcve) and follow those instruction to update your question to be more concise and actionable.","body":"There is <b>way</b> too much code here for us to effectively help with, and not enough information on what&#39;s going wrong. Somebody may of course happen to catch what&#39;s going wrong, but chances drastically go up if you increase the focus and information. Please read <a href=\"http://stackoverflow.com/help/mcve\">how to create a minimal, complete, verifiable example</a> and follow those instruction to update your question to be more concise and actionable."},{"owner":{"account_id":24809392,"reputation":43,"user_id":18691018,"display_name":"Myriam_2189"},"score":0,"creation_date":1680844108,"post_id":75954609,"comment_id":133968700,"body_markdown":"@RoshanKumar No , just the app don&#39;t display anything and in logcat all attributes are null","body":"@RoshanKumar No , just the app don&#39;t display anything and in logcat all attributes are null"},{"owner":{"account_id":10085608,"reputation":669,"user_id":7454336,"display_name":"Thomas Meinhart"},"score":0,"creation_date":1680844551,"post_id":75954609,"comment_id":133968751,"body_markdown":"Have you tried to read the data only once with using `get()` ?\nhttps://firebase.google.com/docs/database/android/read-and-write#read_data_once","body":"Have you tried to read the data only once with using <code>get()</code> ? <a href=\"https://firebase.google.com/docs/database/android/read-and-write#read_data_once\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680849770,"creation_date":1680849770,"answer_id":75956074,"question_id":75954609,"body_markdown":"&gt; No, just the app doesn&#39;t display anything and in logcat all attributes are null.\r\n\r\nThis is happening because you&#39;re trying to read user data from a location that doesn&#39;t exist. When you create the following reference and attach a listener to it:\r\n\r\n    mDatabase = FirebaseDatabase.getInstance().getReference()                              \r\n                                              .child(&quot;Users&quot;)\r\n                                              .child(currentUser.getUid());\r\n    //                                                              &#128077;\r\n\r\nIt means that you want to read data under a node, that is the UID of the user that was provided in the authentication process. Such a UID contains 28 characters and looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn the other hand, in your database, there are no such nodes:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSee? Those nodes are created using the [DatabaseReference#push()][3] method. To solve this issue, when you create the user data in the database, remove the call to push(), because each time you call it, it generates a new random ID. And instead, use the UID of the user. In code, it will be as simple as:\r\n\r\n    mDatabase.setValue(userObj);    \r\n\r\n  [1]: https://i.stack.imgur.com/6tKjw.png\r\n  [2]: https://i.stack.imgur.com/sLHJC.png\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#push()","title":"Retrieve data from firebase using android studio","body":"<blockquote>\n<p>No, just the app doesn't display anything and in logcat all attributes are null.</p>\n</blockquote>\n<p>This is happening because you're trying to read user data from a location that doesn't exist. When you create the following reference and attach a listener to it:</p>\n<pre><code>mDatabase = FirebaseDatabase.getInstance().getReference()                              \n                                          .child(&quot;Users&quot;)\n                                          .child(currentUser.getUid());\n//                                                              👍\n</code></pre>\n<p>It means that you want to read data under a node, that is the UID of the user that was provided in the authentication process. Such a UID contains 28 characters and looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/6tKjw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6tKjw.png\" alt=\"enter image description here\" /></a></p>\n<p>On the other hand, in your database, there are no such nodes:</p>\n<p><a href=\"https://i.stack.imgur.com/sLHJC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sLHJC.png\" alt=\"enter image description here\" /></a></p>\n<p>See? Those nodes are created using the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#push()\" rel=\"nofollow noreferrer\">DatabaseReference#push()</a> method. To solve this issue, when you create the user data in the database, remove the call to push(), because each time you call it, it generates a new random ID. And instead, use the UID of the user. In code, it will be as simple as:</p>\n<pre><code>mDatabase.setValue(userObj);    \n</code></pre>\n"}],"owner":{"account_id":24809392,"reputation":43,"user_id":18691018,"display_name":"Myriam_2189"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680878617,"creation_date":1680826401,"question_id":75954609,"body_markdown":"Good Morning,\r\nHope you all doing well,\r\n\r\nI want to retrieve data from Firebase Realtime Database and display it in profile user using Firebase Realtime Database and authentication database, and there&#39;s the code to understand.\r\n\r\nThanks in advance\r\n\r\nSign up:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    mAuth.createUserWithEmailAndPassword(email, password)\r\n                        .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                if (task.isSuccessful()) {\r\n                                    FirebaseUser user = mAuth.getCurrentUser();\r\n                                    Users users = new Users(name, email, password, phonenumber);\r\n\r\n                                    databaseReference.setValue(users);//.push()\r\n                                    \r\n                                    startActivity(new Intent(SignUp.this, Home.class));\r\n                                    finish();\r\n\r\n                                } else {\r\n                                    Toast.makeText(SignUp.this, &quot;Register failed.&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nProfile xml:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Profile&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;10dp&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linear&quot;\r\n            android:layout_width=&quot;50dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:background=&quot;@drawable/buttonstyle2&quot;\r\n            android:elevation=&quot;5dp&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:gravity=&quot;center&quot;&gt;\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/back&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:src=&quot;@drawable/back&quot;/&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_toEndOf=&quot;@id/linear&quot;\r\n            android:layout_marginTop=&quot;26dp&quot;\r\n            android:text=&quot;Mon Profile &quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n            android:fontFamily=&quot;@font/poppins_semibold&quot;\r\n            android:gravity=&quot;center&quot;\r\n            /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tname&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;nom&quot;\r\n        android:fontFamily=&quot;@font/poppins_semibold&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:layout_marginStart=&quot;30dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:textSize=&quot;16sp&quot;/&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/temail&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;email&quot;\r\n        android:fontFamily=&quot;@font/poppins_semibold&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:layout_marginStart=&quot;30dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:textSize=&quot;16sp&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tphonenumber&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;num&#233;ro &quot;\r\n        android:fontFamily=&quot;@font/poppins_semibold&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:layout_marginStart=&quot;30dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:textSize=&quot;16sp&quot;/&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tpassword&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;mot de passe&quot;\r\n        android:fontFamily=&quot;@font/poppins_semibold&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:layout_marginStart=&quot;30dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:textSize=&quot;16sp&quot;/&gt;\r\n\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/editProfileButton&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;37dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:layout_marginHorizontal=&quot;90dp&quot;\r\n        android:layout_marginBottom=&quot;30dp&quot;\r\n        android:text=&quot;Modifier Profile&quot;\r\n        android:fontFamily=&quot;@font/poppins_semibold&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:background=&quot;@drawable/buttonstyle1&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI do this code for Profile.java, but it does not work:\r\n\r\n```java\r\npublic class Profile extends AppCompatActivity {\r\n    ImageView back;\r\n    AppCompatButton mEditButton;\r\n\r\n    private DatabaseReference mDatabase;\\\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.fragment_profile);\r\n\r\n        back = findViewById(R.id.back);\r\n\r\n        // In your onCreate method:\r\n        FirebaseUser currentUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(currentUser.getUid());\r\n\r\n        mDatabase.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                // Get user data from the dataSnapshot\r\n                String email = dataSnapshot.child(&quot;email&quot;).getValue(String.class);\r\n                String name = dataSnapshot.child(&quot;name&quot;).getValue(String.class);\r\n                String password = dataSnapshot.child(&quot;password&quot;).getValue(String.class);\r\n                String phoneNumber = dataSnapshot.child(&quot;phonenumber&quot;).getValue(String.class);\r\n\r\n                // Display user data in profile\r\n                TextView emailTextView = findViewById(R.id.temail);\r\n                emailTextView.setText(email);\r\n\r\n                TextView nameTextView = findViewById(R.id.tname);\r\n                nameTextView.setText(name);\r\n\r\n                TextView passwordTextView = findViewById(R.id.tpassword);\r\n                passwordTextView.setText(password);\r\n\r\n                TextView phoneNumberTextView = findViewById(R.id.tphonenumber);\r\n                phoneNumberTextView.setText(phoneNumber);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Log.d(TAG, &quot;onCancelled: &quot; + databaseError.getMessage());\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThe realtime data \r\n\r\n![enter image description here][1]\r\n\r\nThe auth data \r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pLNgj.png\r\n  [2]: https://i.stack.imgur.com/D7r0x.png","title":"Retrieve data from firebase using android studio","body":"<p>Good Morning,\nHope you all doing well,</p>\n<p>I want to retrieve data from Firebase Realtime Database and display it in profile user using Firebase Realtime Database and authentication database, and there's the code to understand.</p>\n<p>Thanks in advance</p>\n<p>Sign up:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>mAuth.createUserWithEmailAndPassword(email, password)\n                    .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                            if (task.isSuccessful()) {\n                                FirebaseUser user = mAuth.getCurrentUser();\n                                Users users = new Users(name, email, password, phonenumber);\n\n                                databaseReference.setValue(users);//.push()\n                                \n                                startActivity(new Intent(SignUp.this, Home.class));\n                                finish();\n\n                            } else {\n                                Toast.makeText(SignUp.this, \"Register failed.\",\n                                        Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Profile xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Profile&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;10dp&quot;&gt;\n        &lt;LinearLayout\n            android:id=&quot;@+id/linear&quot;\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:background=&quot;@drawable/buttonstyle2&quot;\n            android:elevation=&quot;5dp&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:padding=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:gravity=&quot;center&quot;&gt;\n            &lt;ImageView\n                android:id=&quot;@+id/back&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:src=&quot;@drawable/back&quot;/&gt;\n\n\n        &lt;/LinearLayout&gt;\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_toEndOf=&quot;@id/linear&quot;\n            android:layout_marginTop=&quot;26dp&quot;\n            android:text=&quot;Mon Profile &quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;22sp&quot;\n            android:fontFamily=&quot;@font/poppins_semibold&quot;\n            android:gravity=&quot;center&quot;\n            /&gt;\n    &lt;/RelativeLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tname&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;nom&quot;\n        android:fontFamily=&quot;@font/poppins_semibold&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_marginStart=&quot;30dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:textSize=&quot;16sp&quot;/&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/temail&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;email&quot;\n        android:fontFamily=&quot;@font/poppins_semibold&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_marginStart=&quot;30dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:textSize=&quot;16sp&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tphonenumber&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;numéro &quot;\n        android:fontFamily=&quot;@font/poppins_semibold&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_marginStart=&quot;30dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:textSize=&quot;16sp&quot;/&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/tpassword&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;mot de passe&quot;\n        android:fontFamily=&quot;@font/poppins_semibold&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_marginStart=&quot;30dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:textSize=&quot;16sp&quot;/&gt;\n\n\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/editProfileButton&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;37dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_marginHorizontal=&quot;90dp&quot;\n        android:layout_marginBottom=&quot;30dp&quot;\n        android:text=&quot;Modifier Profile&quot;\n        android:fontFamily=&quot;@font/poppins_semibold&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:background=&quot;@drawable/buttonstyle1&quot;/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I do this code for Profile.java, but it does not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Profile extends AppCompatActivity {\n    ImageView back;\n    AppCompatButton mEditButton;\n\n    private DatabaseReference mDatabase;\\\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.fragment_profile);\n\n        back = findViewById(R.id.back);\n\n        // In your onCreate method:\n        FirebaseUser currentUser = FirebaseAuth.getInstance().getCurrentUser();\n        mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(currentUser.getUid());\n\n        mDatabase.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                // Get user data from the dataSnapshot\n                String email = dataSnapshot.child(&quot;email&quot;).getValue(String.class);\n                String name = dataSnapshot.child(&quot;name&quot;).getValue(String.class);\n                String password = dataSnapshot.child(&quot;password&quot;).getValue(String.class);\n                String phoneNumber = dataSnapshot.child(&quot;phonenumber&quot;).getValue(String.class);\n\n                // Display user data in profile\n                TextView emailTextView = findViewById(R.id.temail);\n                emailTextView.setText(email);\n\n                TextView nameTextView = findViewById(R.id.tname);\n                nameTextView.setText(name);\n\n                TextView passwordTextView = findViewById(R.id.tpassword);\n                passwordTextView.setText(password);\n\n                TextView phoneNumberTextView = findViewById(R.id.tphonenumber);\n                phoneNumberTextView.setText(phoneNumber);\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Log.d(TAG, &quot;onCancelled: &quot; + databaseError.getMessage());\n            }\n        });\n    }\n}\n</code></pre>\n<p>The realtime data</p>\n<p><img src=\"https://i.stack.imgur.com/pLNgj.png\" alt=\"enter image description here\" /></p>\n<p>The auth data</p>\n<p><img src=\"https://i.stack.imgur.com/D7r0x.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":24472062,"reputation":13,"user_id":18391646,"display_name":"MusicVoice"},"score":0,"creation_date":1646662272,"post_id":71382367,"comment_id":126172059,"body_markdown":"Sometimes it works with some arrays, with others it doesn&#39;t.","body":"Sometimes it works with some arrays, with others it doesn&#39;t."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1646662838,"post_id":71382367,"comment_id":126172296,"body_markdown":"It would help if you would explain more what you are trying to achieve.  And provide a [mre] that includes filled arrays etc.  And please don&#39;t post links to images.  Include them in  your question with a description of how they are to be used.  At is stands your image doesn&#39;t really mean anything.","body":"It would help if you would explain more what you are trying to achieve.  And provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that includes filled arrays etc.  And please don&#39;t post links to images.  Include them in  your question with a description of how they are to be used.  At is stands your image doesn&#39;t really mean anything."}],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1646664218,"creation_date":1646664218,"answer_id":71382788,"question_id":71382367,"body_markdown":"You need to loop through the array until you find an index that has a value that is greater than 0. You can also use that loop to check that there are _any_ values greater than 0:\r\n```\r\npublic int next() {\r\n   \tint count = 0;\r\n   \twhile (count &lt; arr.length &amp;&amp; arr[position %= arr.length] &lt;= 0) {\r\n   \t\tposition++;\r\n   \t\tcount++;\r\n   \t}\r\n\tif (count == arr.length) return -1;\r\n\treturn arr[position++]--;\r\n}\r\n```","title":"Decrement Carousel created through array. I don&#39;t understand what went wrong","body":"<p>You need to loop through the array until you find an index that has a value that is greater than 0. You can also use that loop to check that there are <em>any</em> values greater than 0:</p>\n<pre><code>public int next() {\n    int count = 0;\n    while (count &lt; arr.length &amp;&amp; arr[position %= arr.length] &lt;= 0) {\n        position++;\n        count++;\n    }\n    if (count == arr.length) return -1;\n    return arr[position++]--;\n}\n</code></pre>\n"}],"owner":{"account_id":24472062,"reputation":13,"user_id":18391646,"display_name":"MusicVoice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71382788,"answer_count":1,"score":0,"last_activity_date":1680878530,"creation_date":1646662202,"question_id":71382367,"body_markdown":"I had to make a decrementing carousel [1]: https://i.stack.imgur.com/T7E4d.png. Although it kinda works, I need it to return right results so I can pass the tests. The code:\r\n\r\n    int position = 0;\r\n    int capacity = 3;\r\n    \r\n        public int next() {\r\n            if (allNegative(arr)) return -1;\r\n            \r\n            if (position &gt;= capacity) position = 0;\r\n            \r\n            if (arr[position] &lt;= 0) {\r\n                if (position == arr.length - 1) {\r\n                    position = 0;\r\n                    if (arr[position] == 0) {\r\n                        return arr[++position]--;\r\n                    }\r\n                    else {return arr[position++]--;}\r\n                }\r\n                else {\r\n                    return arr[++position]--;\r\n                }\r\n    \r\n            }\r\n            return arr[position++]--;\r\n    \r\n        }\r\n\r\nSo it takes elements into the array and next() method should return the current value and decrement it, after that it moves to the next element. It should skip zero elements. When it has nothing to decrement, it returns -1. I&#39;ve stuck here and I don&#39;t understand what doesn&#39;t work.\r\n\r\n\r\nThe entire code of a program:\r\n\r\n    public class DecrementingCarousel {\r\n        static int capacity;\r\n        int counter = 0;\r\n       //static List &lt;Integer&gt; elements = new ArrayList&lt;&gt;();\r\n        static int [] arr ;\r\n    \r\n    \r\n        public DecrementingCarousel(int capacity) {\r\n            DecrementingCarousel.capacity = capacity;\r\n            arr = new int[capacity];\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        public boolean addElement(int element){\r\n            if (counter &lt; capacity &amp;&amp; element &gt; 0) {\r\n                arr[counter] = element;\r\n                counter++;\r\n                return true;\r\n            }\r\n            return false;\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        public CarouselRun run(){\r\n            return new CarouselRun();\r\n        }\r\n    }\r\n    public class CarouselRun {\r\n        int position = 0;\r\n        int number = 0;\r\n        /*\r\n                if (arr[position] &gt; 0) return arr[position++]--;\r\n                if (arr[position] &lt;= 0) {\r\n                    arr = removeTheElement(arr,position);\r\n                    capacity--;\r\n                    if (position &gt;= capacity) position = 0;\r\n                }\r\n    \r\n                return arr[position++]--;\r\n    \r\n         */\r\n    \r\n        public int next() {\r\n            if (allNegative(arr)) return -1;\r\n    \r\n            if (position &gt;= capacity) position = 0;\r\n    \r\n            if (arr[position] &lt;= 0) {\r\n                if (position == arr.length - 1) {\r\n                    position = 0;\r\n                    if (arr[position] == 0) {\r\n                        return arr[++position]--;\r\n                    }\r\n                    else {return arr[position++]--;}\r\n                }\r\n                else {\r\n                    return arr[++position]--;\r\n                }\r\n    \r\n            }\r\n            return arr[position++]--;\r\n    \r\n        }\r\n    \r\n            public static int[] removeTheElement(int[] arr, int index)\r\n            {\r\n    \r\n                // If the array is empty\r\n                // or the index is not in array range\r\n                // return the original array\r\n                if (arr == null || index &lt; 0\r\n                        || index &gt;= arr.length) {\r\n    \r\n                    return arr;\r\n                }\r\n    \r\n                // Create another array of size one less\r\n                int[] anotherArray = new int[arr.length - 1];\r\n    \r\n                // Copy the elements except the index\r\n                // from original array to the other array\r\n                for (int i = 0, k = 0; i &lt; arr.length; i++) {\r\n    \r\n                    // if the index is\r\n                    // the removal element index\r\n                    if (i == index) {\r\n                        continue;\r\n                    }\r\n    \r\n                    // if the index is not\r\n                    // the removal element index\r\n                    anotherArray[k++] = arr[i];\r\n                }\r\n    \r\n                // return the resultant array\r\n                return anotherArray;\r\n            }\r\n    \r\n        public static boolean allNegative (int arr[]) {\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                if (arr[i] &gt; 0) return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    \r\n    \r\n        public boolean isFinished() {\r\n            for (int var: arr) {\r\n                if (var &gt; 0) return false;\r\n            }\r\n            return true;\r\n    \r\n        }\r\n    \r\n    }\r\nThe main method and how the output should look:\r\n\r\n    public class Main {\r\n        public static void main (String args[]) {\r\n            DecrementingCarousel carousel = new DecrementingCarousel(7);\r\n    \r\n            carousel.addElement(2);\r\n            carousel.addElement(3);\r\n            carousel.addElement(1);\r\n    \r\n            CarouselRun run = carousel.run();\r\n    \r\n            System.out.println(run.isFinished()); //false\r\n    \r\n            System.out.println(run.next()); //2\r\n            System.out.println(run.next()); //3\r\n            System.out.println(run.next()); //1\r\n    \r\n            System.out.println(run.next()); //1\r\n            System.out.println(run.next()); //2\r\n    \r\n            System.out.println(run.next()); //1\r\n    \r\n            System.out.println(run.isFinished()); //true\r\n            System.out.println(run.next()); //-1\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n","title":"Decrement Carousel created through array. I don&#39;t understand what went wrong","body":"<p>I had to make a decrementing carousel [1]: <a href=\"https://i.stack.imgur.com/T7E4d.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/T7E4d.png</a>. Although it kinda works, I need it to return right results so I can pass the tests. The code:</p>\n<pre><code>int position = 0;\nint capacity = 3;\n\n    public int next() {\n        if (allNegative(arr)) return -1;\n        \n        if (position &gt;= capacity) position = 0;\n        \n        if (arr[position] &lt;= 0) {\n            if (position == arr.length - 1) {\n                position = 0;\n                if (arr[position] == 0) {\n                    return arr[++position]--;\n                }\n                else {return arr[position++]--;}\n            }\n            else {\n                return arr[++position]--;\n            }\n\n        }\n        return arr[position++]--;\n\n    }\n</code></pre>\n<p>So it takes elements into the array and next() method should return the current value and decrement it, after that it moves to the next element. It should skip zero elements. When it has nothing to decrement, it returns -1. I've stuck here and I don't understand what doesn't work.</p>\n<p>The entire code of a program:</p>\n<pre><code>public class DecrementingCarousel {\n    static int capacity;\n    int counter = 0;\n   //static List &lt;Integer&gt; elements = new ArrayList&lt;&gt;();\n    static int [] arr ;\n\n\n    public DecrementingCarousel(int capacity) {\n        DecrementingCarousel.capacity = capacity;\n        arr = new int[capacity];\n\n    }\n\n\n\n    public boolean addElement(int element){\n        if (counter &lt; capacity &amp;&amp; element &gt; 0) {\n            arr[counter] = element;\n            counter++;\n            return true;\n        }\n        return false;\n\n\n\n    }\n\n    public CarouselRun run(){\n        return new CarouselRun();\n    }\n}\npublic class CarouselRun {\n    int position = 0;\n    int number = 0;\n    /*\n            if (arr[position] &gt; 0) return arr[position++]--;\n            if (arr[position] &lt;= 0) {\n                arr = removeTheElement(arr,position);\n                capacity--;\n                if (position &gt;= capacity) position = 0;\n            }\n\n            return arr[position++]--;\n\n     */\n\n    public int next() {\n        if (allNegative(arr)) return -1;\n\n        if (position &gt;= capacity) position = 0;\n\n        if (arr[position] &lt;= 0) {\n            if (position == arr.length - 1) {\n                position = 0;\n                if (arr[position] == 0) {\n                    return arr[++position]--;\n                }\n                else {return arr[position++]--;}\n            }\n            else {\n                return arr[++position]--;\n            }\n\n        }\n        return arr[position++]--;\n\n    }\n\n        public static int[] removeTheElement(int[] arr, int index)\n        {\n\n            // If the array is empty\n            // or the index is not in array range\n            // return the original array\n            if (arr == null || index &lt; 0\n                    || index &gt;= arr.length) {\n\n                return arr;\n            }\n\n            // Create another array of size one less\n            int[] anotherArray = new int[arr.length - 1];\n\n            // Copy the elements except the index\n            // from original array to the other array\n            for (int i = 0, k = 0; i &lt; arr.length; i++) {\n\n                // if the index is\n                // the removal element index\n                if (i == index) {\n                    continue;\n                }\n\n                // if the index is not\n                // the removal element index\n                anotherArray[k++] = arr[i];\n            }\n\n            // return the resultant array\n            return anotherArray;\n        }\n\n    public static boolean allNegative (int arr[]) {\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] &gt; 0) return false;\n        }\n        return true;\n    }\n\n\n\n    public boolean isFinished() {\n        for (int var: arr) {\n            if (var &gt; 0) return false;\n        }\n        return true;\n\n    }\n\n}\n</code></pre>\n<p>The main method and how the output should look:</p>\n<pre><code>public class Main {\n    public static void main (String args[]) {\n        DecrementingCarousel carousel = new DecrementingCarousel(7);\n\n        carousel.addElement(2);\n        carousel.addElement(3);\n        carousel.addElement(1);\n\n        CarouselRun run = carousel.run();\n\n        System.out.println(run.isFinished()); //false\n\n        System.out.println(run.next()); //2\n        System.out.println(run.next()); //3\n        System.out.println(run.next()); //1\n\n        System.out.println(run.next()); //1\n        System.out.println(run.next()); //2\n\n        System.out.println(run.next()); //1\n\n        System.out.println(run.isFinished()); //true\n        System.out.println(run.next()); //-1\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","http"],"answers":[{"tags":[],"owner":{"account_id":2325187,"reputation":71,"user_id":2039863,"display_name":"soKira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664539177,"creation_date":1664539177,"answer_id":73908419,"question_id":70582996,"body_markdown":"You need to set &quot;Content-Type&quot; as &quot;application/json&quot; in the request header.\r\n\r\nSee: https://stackoverflow.com/questions/477816/which-json-content-type-do-i-use","title":"HttpRequest.BodyPublishers.ofString(jsonasstring) does not put anything in the POST request","body":"<p>You need to set &quot;Content-Type&quot; as &quot;application/json&quot; in the request header.</p>\n<p>See: <a href=\"https://stackoverflow.com/questions/477816/which-json-content-type-do-i-use\">Which JSON content type do I use?</a></p>\n"},{"tags":[],"owner":{"account_id":19813788,"reputation":35,"user_id":14511967,"display_name":"Birio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680878412,"creation_date":1680878412,"answer_id":75959436,"question_id":70582996,"body_markdown":"I had the same problem. I solved by adding an header with **Content-Type** set to **application/x-www-form-urlencoded** and by writing the credentials **URL encoded**.\r\n\r\n    HttpRequest request = HttpRequest.newBuilder()\r\n            .uri(URI.create(&quot;https://example.com/post.php&quot;))\r\n            .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n            .POST(BodyPublishers.ofString(&quot;password=password&amp;email=someone@example.com&quot;))\r\n            .build();","title":"HttpRequest.BodyPublishers.ofString(jsonasstring) does not put anything in the POST request","body":"<p>I had the same problem. I solved by adding an header with <strong>Content-Type</strong> set to <strong>application/x-www-form-urlencoded</strong> and by writing the credentials <strong>URL encoded</strong>.</p>\n<pre><code>HttpRequest request = HttpRequest.newBuilder()\n        .uri(URI.create(&quot;https://example.com/post.php&quot;))\n        .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n        .POST(BodyPublishers.ofString(&quot;password=password&amp;email=someone@example.com&quot;))\n        .build();\n</code></pre>\n"}],"owner":{"account_id":13369811,"reputation":43,"user_id":9648660,"display_name":"Brice Gaffiero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1907,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1680878412,"creation_date":1641318409,"question_id":70582996,"body_markdown":"I&#39;m trying to make a POST request with custom headers and json as string on body\r\n\r\nHere&#39;s my code\r\n```        \r\nHttpRequest request2 = HttpRequest.newBuilder()\r\n                .uri(URI.create(POSTS_API_URL))\r\n                .headers(&quot;accept&quot;, &quot;text/plain; charset=UTF-8&quot;, &quot;XF-Api-Key&quot;, &quot;MYAPIKEY&quot;)\r\n                .POST(HttpRequest.BodyPublishers.ofString(json))\r\n\r\n                .build();\r\n\r\n        System.out.println(request2); //result : https://******.fr/api/auth/ POST\r\n        System.out.println(request2.headers()); //result : java.net.http.HttpHeaders@8e33ff08 { {accept=[text/plain; charset=UTF-8], XF-Api-Key=[MYAPIKEY]} }\r\n\r\n        HttpResponse&lt;String&gt; response2 = client.send(request2, HttpResponse.BodyHandlers.ofString());\r\n\r\n        // print status code\r\n        System.out.println(response2.statusCode()); //400\r\n        // print json code\r\n        System.out.println(json); //{&quot;login&quot;:&quot;LunaLune&quot;,&quot;password&quot;:&quot;***********&quot;}\r\n        // print response body\r\n        System.out.println(response2.body()); //mandatory input missing : login, password\r\n```\r\nAnd my json String\r\n```\r\n String json = &quot;{&quot; +\r\n                &quot;\\&quot;login\\&quot;:\\&quot;LunaLune\\&quot;,&quot; +\r\n                &quot;\\&quot;password\\&quot;:\\&quot;*********\\&quot;&quot; +\r\n                &quot;}&quot;;\r\n```\r\nBut when I print the request I get : https://*******.fr/api/auth/ POST\r\n\r\n**the POST request is empty**\r\n\r\nI googled many forums, code examples ect... but I see that my code where correct according many examples I seen.\r\n\r\nSo if someone know what is my problem ?\r\nThanks in advance !","title":"HttpRequest.BodyPublishers.ofString(jsonasstring) does not put anything in the POST request","body":"<p>I'm trying to make a POST request with custom headers and json as string on body</p>\n<p>Here's my code</p>\n<pre><code>HttpRequest request2 = HttpRequest.newBuilder()\n                .uri(URI.create(POSTS_API_URL))\n                .headers(&quot;accept&quot;, &quot;text/plain; charset=UTF-8&quot;, &quot;XF-Api-Key&quot;, &quot;MYAPIKEY&quot;)\n                .POST(HttpRequest.BodyPublishers.ofString(json))\n\n                .build();\n\n        System.out.println(request2); //result : https://******.fr/api/auth/ POST\n        System.out.println(request2.headers()); //result : java.net.http.HttpHeaders@8e33ff08 { {accept=[text/plain; charset=UTF-8], XF-Api-Key=[MYAPIKEY]} }\n\n        HttpResponse&lt;String&gt; response2 = client.send(request2, HttpResponse.BodyHandlers.ofString());\n\n        // print status code\n        System.out.println(response2.statusCode()); //400\n        // print json code\n        System.out.println(json); //{&quot;login&quot;:&quot;LunaLune&quot;,&quot;password&quot;:&quot;***********&quot;}\n        // print response body\n        System.out.println(response2.body()); //mandatory input missing : login, password\n</code></pre>\n<p>And my json String</p>\n<pre><code> String json = &quot;{&quot; +\n                &quot;\\&quot;login\\&quot;:\\&quot;LunaLune\\&quot;,&quot; +\n                &quot;\\&quot;password\\&quot;:\\&quot;*********\\&quot;&quot; +\n                &quot;}&quot;;\n</code></pre>\n<p>But when I print the request I get : https://*******.fr/api/auth/ POST</p>\n<p><strong>the POST request is empty</strong></p>\n<p>I googled many forums, code examples ect... but I see that my code where correct according many examples I seen.</p>\n<p>So if someone know what is my problem ?\nThanks in advance !</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680875576,"post_id":75958914,"comment_id":133973940,"body_markdown":"You&#39;re asking two different things. 1) how to map to the DTO, and 2) how to create a JSON object. Please focus on one thing per question. Also, it is good to know that creating JSON from objects is practically built-in into Spring Boot, but the right solution depends on **where** you need to serialize to JSON, so you need to be specific about what you need.","body":"You&#39;re asking two different things. 1) how to map to the DTO, and 2) how to create a JSON object. Please focus on one thing per question. Also, it is good to know that creating JSON from objects is practically built-in into Spring Boot, but the right solution depends on <b>where</b> you need to serialize to JSON, so you need to be specific about what you need."}],"answers":[{"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680878121,"creation_date":1680878121,"answer_id":75959399,"question_id":75958914,"body_markdown":"We could achieve this DTO to JSON response conversion in a Spring boot REST API project by using the model mapper library.\r\n\r\nThis will reduce the boiler plate code that we need to write manually otherwise.\r\n\r\nPlease check the below sample dummy code for your need.\r\n\r\nFirst you need to add the modelMapper dependency in your project pom.xml.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen You need to configure ModelMapper class as a Spring Bean to inject for your REST Controller.\r\n\r\n    import org.modelmapper.ModelMapper;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    public class SpringbootApp {\r\n    \r\n\t@Bean\r\n\tpublic ModelMapper modelMapper() {\r\n\t\treturn new ModelMapper();\r\n\t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringbootApp.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nAccording to your given example, you could directly write your conversion in the controller layer while getting the Repository layer address results.\r\n\r\nIdeally, it could be done in a separate Service Layer as well.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/addresses&quot;)\r\n    public class AddressController {\r\n    \r\n    \t@Autowired\r\n    \tprivate ModelMapper modelMapper;\r\n    \r\n    \tprivate AddressRepo addressRepo ;\r\n    \r\n        @Autowired\r\n    \tpublic AddressController(AddressRepo AddressRepo ) {\r\n    \t\tsuper();\r\n    \t\tthis.addressRepo = addressRepo ;\r\n    \t}\r\n    \r\n    \t@GetMapping\r\n    \tpublic  List&lt;Address&gt; getAllAddress() {\r\n    \r\n           // Address Entity to DTO conversion\r\n    \t\treturn addressRepo.getAdressResults().stream().map(address-&gt; modelMapper.map(address, AddressDto.class))\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \t}\r\nNow, This will return you the expected JSON response object for your API call.\r\n\r\nMoreover, you could also wrap your Address List response in a `ResponseEntity&lt;List&lt;Address&gt;&gt;` and return it as well.\r\n","title":"Mapping results of DB query to JSON object","body":"<p>We could achieve this DTO to JSON response conversion in a Spring boot REST API project by using the model mapper library.</p>\n<p>This will reduce the boiler plate code that we need to write manually otherwise.</p>\n<p>Please check the below sample dummy code for your need.</p>\n<p>First you need to add the modelMapper dependency in your project pom.xml.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n    &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n    &lt;version&gt;2.3.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then You need to configure ModelMapper class as a Spring Bean to inject for your REST Controller.</p>\n<pre><code>import org.modelmapper.ModelMapper;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class SpringbootApp {\n\n@Bean\npublic ModelMapper modelMapper() {\n    return new ModelMapper();\n}\n    \n    public static void main(String[] args) {\n        SpringApplication.run(SpringbootApp.class, args);\n    }\n\n}\n</code></pre>\n<p>According to your given example, you could directly write your conversion in the controller layer while getting the Repository layer address results.</p>\n<p>Ideally, it could be done in a separate Service Layer as well.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/addresses&quot;)\npublic class AddressController {\n\n    @Autowired\n    private ModelMapper modelMapper;\n\n    private AddressRepo addressRepo ;\n\n    @Autowired\n    public AddressController(AddressRepo AddressRepo ) {\n        super();\n        this.addressRepo = addressRepo ;\n    }\n\n    @GetMapping\n    public  List&lt;Address&gt; getAllAddress() {\n\n       // Address Entity to DTO conversion\n        return addressRepo.getAdressResults().stream().map(address-&gt; modelMapper.map(address, AddressDto.class))\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p>Now, This will return you the expected JSON response object for your API call.</p>\n<p>Moreover, you could also wrap your Address List response in a <code>ResponseEntity&lt;List&lt;Address&gt;&gt;</code> and return it as well.</p>\n"}],"owner":{"account_id":26174516,"reputation":19,"user_id":19858917,"display_name":"unknown1101"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75959399,"answer_count":1,"score":1,"last_activity_date":1680878121,"creation_date":1680874488,"question_id":75958914,"body_markdown":"Entity class is as follows:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;ADDRESS&quot;)\r\n    public class Address implements Serializable {\r\n       \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;, nullable = false)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;line1&quot;)\r\n        private String line1;\r\n    \r\n        @Column(name = &quot;line2&quot;)\r\n        private String line2;\r\n    }\r\n\r\nRepository Class\r\n\r\n    @Repository\r\n    public interface AddressRepo extends JpaRepository&lt;SourceAddress, int&gt;, JpaSpecificationExecutor&lt;SourceAddress&gt; {\r\n    \r\n        @Query(value = &quot;select * from Address &quot;, nativeQuery = true)\r\n        List&lt;Address&gt; getAdressResults();\r\n    }\r\n\r\nDTO is as follows\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    \r\n    public class AddressDto implements Serializable {\r\n        private int id;\r\n        private String line1;\r\n        private Strinline2;\r\n    }\r\n\r\nIf I invoke getAddressResults() from Address repository, how can I map it to DTO, and create a JSON object? \r\n\r\n","title":"Mapping results of DB query to JSON object","body":"<p>Entity class is as follows:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;ADDRESS&quot;)\npublic class Address implements Serializable {\n   \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;, nullable = false)\n    private int id;\n\n    @Column(name = &quot;line1&quot;)\n    private String line1;\n\n    @Column(name = &quot;line2&quot;)\n    private String line2;\n}\n</code></pre>\n<p>Repository Class</p>\n<pre><code>@Repository\npublic interface AddressRepo extends JpaRepository&lt;SourceAddress, int&gt;, JpaSpecificationExecutor&lt;SourceAddress&gt; {\n\n    @Query(value = &quot;select * from Address &quot;, nativeQuery = true)\n    List&lt;Address&gt; getAdressResults();\n}\n</code></pre>\n<p>DTO is as follows</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n\npublic class AddressDto implements Serializable {\n    private int id;\n    private String line1;\n    private Strinline2;\n}\n</code></pre>\n<p>If I invoke getAddressResults() from Address repository, how can I map it to DTO, and create a JSON object?</p>\n"},{"tags":["java","http","post","datainputstream"],"owner":{"account_id":12413948,"reputation":1,"user_id":21589640,"display_name":"SnowingSilently"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680878004,"creation_date":1680878004,"question_id":75959377,"body_markdown":"I have a simple HTTP server that must manually implement handling for POST requests that send in a file. The problem is, if the header does not include an Expect: 100-continue and thus sends the HTTP body along with the headers, when I call `DataInputStream.readFully()` to read, there&#39;s no data to be read and it blocks indefinitely.\r\n\r\nI make the POST request via cURL: `curl &quot;localhost:40000/test1.txt&quot; --data-binary @./test.txt --trace dump`, sending a small text file containing only `hello world` in it.\r\n\r\n\r\n```\r\nprivate static void postRequest(InputStream input, OutputStream output, BufferedReader reader, String fileName) throws IOException {\r\n    var dataInput = new DataInputStream(input);\r\n    String line;\r\n    byte[] byteArray = new byte[0];\r\n    int length = 0;\r\n    var writer = new BufferedWriter(new OutputStreamWriter(output));\r\n\r\n    while ((line = reader.readLine()) != null &amp;&amp; !line.isEmpty()) {\r\n        String[] split = line.split(&quot; &quot;);\r\n        if (split[0].equals(&quot;Content-Length:&quot;)) {\r\n            length = Integer.parseInt(split[1]);\r\n            byteArray = new byte[length];\r\n        } else if (line.equals(&quot;Expect: 100-continue&quot;)) {\r\n            writer.write(CONTINUE_HEADER); // HTTP/1.1 100 Continue\r\n            writer.flush();\r\n        }\r\n        System.out.println(line);\r\n    }\r\n    System.out.println(line);\r\n    writeToFile(fileName, dataInput, byteArray, length, writer);\r\n}\r\n\r\nprivate static void writeToFile(String fileName, DataInputStream dataInput, byte[] byteArray, int length, BufferedWriter writer) throws IOException {\r\n    dataInput.readFully(byteArray, 0, length);\r\n\r\n    try (var stream = new FileOutputStream(fileName)) {\r\n        stream.write(byteArray);\r\n        System.out.println(&quot;File successfully saved to server.&quot;);\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;Could not write to file.&quot;);\r\n        writer.write(INTERNAL_SERVICE_ERROR_HEADER);\r\n    }\r\n    writer.write(CREATED_HEADER);\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried calling `DataInputStream.available()` right before calling `readFully()`, and it always returns 0. Calling `BufferedReader.ready()` returns false if there&#39;s an Expect: 100-continue, but true otherwise. However, it still doesn&#39;t have any data to read.","title":"DataInputStream.readFully() doesn&#39;t have data to read when reading an HTTP POST request with no Expect: 100-continue","body":"<p>I have a simple HTTP server that must manually implement handling for POST requests that send in a file. The problem is, if the header does not include an Expect: 100-continue and thus sends the HTTP body along with the headers, when I call <code>DataInputStream.readFully()</code> to read, there's no data to be read and it blocks indefinitely.</p>\n<p>I make the POST request via cURL: <code>curl &quot;localhost:40000/test1.txt&quot; --data-binary @./test.txt --trace dump</code>, sending a small text file containing only <code>hello world</code> in it.</p>\n<pre><code>private static void postRequest(InputStream input, OutputStream output, BufferedReader reader, String fileName) throws IOException {\n    var dataInput = new DataInputStream(input);\n    String line;\n    byte[] byteArray = new byte[0];\n    int length = 0;\n    var writer = new BufferedWriter(new OutputStreamWriter(output));\n\n    while ((line = reader.readLine()) != null &amp;&amp; !line.isEmpty()) {\n        String[] split = line.split(&quot; &quot;);\n        if (split[0].equals(&quot;Content-Length:&quot;)) {\n            length = Integer.parseInt(split[1]);\n            byteArray = new byte[length];\n        } else if (line.equals(&quot;Expect: 100-continue&quot;)) {\n            writer.write(CONTINUE_HEADER); // HTTP/1.1 100 Continue\n            writer.flush();\n        }\n        System.out.println(line);\n    }\n    System.out.println(line);\n    writeToFile(fileName, dataInput, byteArray, length, writer);\n}\n\nprivate static void writeToFile(String fileName, DataInputStream dataInput, byte[] byteArray, int length, BufferedWriter writer) throws IOException {\n    dataInput.readFully(byteArray, 0, length);\n\n    try (var stream = new FileOutputStream(fileName)) {\n        stream.write(byteArray);\n        System.out.println(&quot;File successfully saved to server.&quot;);\n    } catch (IOException e) {\n        System.out.println(&quot;Could not write to file.&quot;);\n        writer.write(INTERNAL_SERVICE_ERROR_HEADER);\n    }\n    writer.write(CREATED_HEADER);\n}\n</code></pre>\n<p>I've tried calling <code>DataInputStream.available()</code> right before calling <code>readFully()</code>, and it always returns 0. Calling <code>BufferedReader.ready()</code> returns false if there's an Expect: 100-continue, but true otherwise. However, it still doesn't have any data to read.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":3630600,"reputation":5980,"user_id":3026886,"accept_rate":93,"display_name":"rado"},"score":7,"creation_date":1619815897,"post_id":2843366,"comment_id":119028057,"body_markdown":"although this question has +10 years and it is important to compare the differences between lists and arrays, it&#39;s astonishing how deep I had to roll to find how to actually have a resulting array with a new element added, as OP originally asked for","body":"although this question has +10 years and it is important to compare the differences between lists and arrays, it&#39;s astonishing how deep I had to roll to find how to actually have a resulting array with a new element added, as OP originally asked for"}],"answers":[{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"down_vote_count":2,"up_vote_count":466,"is_accepted":true,"score":464,"last_activity_date":1360733176,"creation_date":1274006308,"answer_id":2843371,"question_id":2843366,"body_markdown":"The size of an array can&#39;t be modified. If you want a bigger array you have to instantiate a new one.\r\n\r\nA better solution would be to use an [`ArrayList`][1] which can grow as you need it. The method `ArrayList.toArray( T[] a )` gives you back your array if you need it in this form.\r\n\r\n    List&lt;String&gt; where = new ArrayList&lt;String&gt;();\r\n    where.add( ContactsContract.Contacts.HAS_PHONE_NUMBER+&quot;=1&quot; );\r\n    where.add( ContactsContract.Contacts.IN_VISIBLE_GROUP+&quot;=1&quot; );\r\n    \r\nIf you need to convert it to a simple array...\r\n\r\n    String[] simpleArray = new String[ where.size() ];\r\n    where.toArray( simpleArray );\r\n\r\nBut most things you do with an array you can do with this ArrayList, too:\r\n\r\n    // iterate over the array\r\n    for( String oneItem : where ) {\r\n        ...\r\n    }\r\n\r\n    // get specific items\r\n    where.get( 1 );\r\n    \r\n\r\n  [1]: http://java.sun.com/javase/7/docs/api/java/util/ArrayList.html","title":"How to add new elements to an array?","body":"<p>The size of an array can't be modified. If you want a bigger array you have to instantiate a new one.</p>\n\n<p>A better solution would be to use an <a href=\"http://java.sun.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList</code></a> which can grow as you need it. The method <code>ArrayList.toArray( T[] a )</code> gives you back your array if you need it in this form.</p>\n\n<pre><code>List&lt;String&gt; where = new ArrayList&lt;String&gt;();\nwhere.add( ContactsContract.Contacts.HAS_PHONE_NUMBER+\"=1\" );\nwhere.add( ContactsContract.Contacts.IN_VISIBLE_GROUP+\"=1\" );\n</code></pre>\n\n<p>If you need to convert it to a simple array...</p>\n\n<pre><code>String[] simpleArray = new String[ where.size() ];\nwhere.toArray( simpleArray );\n</code></pre>\n\n<p>But most things you do with an array you can do with this ArrayList, too:</p>\n\n<pre><code>// iterate over the array\nfor( String oneItem : where ) {\n    ...\n}\n\n// get specific items\nwhere.get( 1 );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":1,"up_vote_count":122,"is_accepted":false,"score":121,"last_activity_date":1360733070,"creation_date":1274006325,"answer_id":2843373,"question_id":2843366,"body_markdown":"Use a [`List&lt;String&gt;`][1], such as an [`ArrayList&lt;String&gt;`][2]. It&#39;s dynamically growable, unlike arrays (see: _Effective Java 2nd Edition, Item 25: Prefer lists to arrays_).\r\n\r\n    import java.util.*;\r\n    //....\r\n    \r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;1&quot;);\r\n    list.add(&quot;2&quot;);\r\n    list.add(&quot;3&quot;);\r\n    System.out.println(list); // prints &quot;[1, 2, 3]&quot;\r\n\r\nIf you insist on using arrays, you can use [`java.util.Arrays.copyOf`][3] to allocate a bigger array to accomodate the additional element. This is really not the best solution, though.\r\n\r\n    static &lt;T&gt; T[] append(T[] arr, T element) {\r\n        final int N = arr.length;\r\n        arr = Arrays.copyOf(arr, N + 1);\r\n        arr[N] = element;\r\n        return arr;\r\n    }\r\n    \r\n    String[] arr = { &quot;1&quot;, &quot;2&quot;, &quot;3&quot; };\r\n    System.out.println(Arrays.toString(arr)); // prints &quot;[1, 2, 3]&quot;\r\n    arr = append(arr, &quot;4&quot;);\r\n    System.out.println(Arrays.toString(arr)); // prints &quot;[1, 2, 3, 4]&quot;\r\n\r\nThis is `O(N)` per `append`. `ArrayList`, on the other hand, has `O(1)` amortized cost per operation.\r\n\r\n### See also\r\n\r\n* [Java Tutorials/Arrays][4]\r\n   * An array is a container object that holds a fixed number of values of a single type. The length of an array is established when the array is created. After creation, its length is fixed.\r\n* [Java Tutorials/The List interface][5]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/7/docs/api/java/util/List.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf%28T%5B%5D,%20int%29\r\n  [4]: http://java.sun.com/docs/books/tutorial/java/nutsandbolts/arrays.html\r\n  [5]: http://java.sun.com/docs/books/tutorial/collections/interfaces/list.html","title":"How to add new elements to an array?","body":"<p>Use a <a href=\"http://java.sun.com/javase/7/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List&lt;String&gt;</code></a>, such as an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList&lt;String&gt;</code></a>. It's dynamically growable, unlike arrays (see: <em>Effective Java 2nd Edition, Item 25: Prefer lists to arrays</em>).</p>\n\n<pre><code>import java.util.*;\n//....\n\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(\"1\");\nlist.add(\"2\");\nlist.add(\"3\");\nSystem.out.println(list); // prints \"[1, 2, 3]\"\n</code></pre>\n\n<p>If you insist on using arrays, you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf%28T%5B%5D,%20int%29\" rel=\"noreferrer\"><code>java.util.Arrays.copyOf</code></a> to allocate a bigger array to accomodate the additional element. This is really not the best solution, though.</p>\n\n<pre><code>static &lt;T&gt; T[] append(T[] arr, T element) {\n    final int N = arr.length;\n    arr = Arrays.copyOf(arr, N + 1);\n    arr[N] = element;\n    return arr;\n}\n\nString[] arr = { \"1\", \"2\", \"3\" };\nSystem.out.println(Arrays.toString(arr)); // prints \"[1, 2, 3]\"\narr = append(arr, \"4\");\nSystem.out.println(Arrays.toString(arr)); // prints \"[1, 2, 3, 4]\"\n</code></pre>\n\n<p>This is <code>O(N)</code> per <code>append</code>. <code>ArrayList</code>, on the other hand, has <code>O(1)</code> amortized cost per operation.</p>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/java/nutsandbolts/arrays.html\" rel=\"noreferrer\">Java Tutorials/Arrays</a>\n\n<ul>\n<li>An array is a container object that holds a fixed number of values of a single type. The length of an array is established when the array is created. After creation, its length is fixed.</li>\n</ul></li>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/collections/interfaces/list.html\" rel=\"noreferrer\">Java Tutorials/The List interface</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1274006457,"creation_date":1274006457,"answer_id":2843378,"question_id":2843366,"body_markdown":"As tangens said, the size of an array is fixed. But you have to instantiate it first, else it will be only a null reference.\r\n\r\n    String[] where = new String[10];\r\n\r\nThis array can contain only 10 elements. So you can append a value only 10 times. In your code you&#39;re accessing a null reference. That&#39;s why it doesnt work. In order to have a \r\ndynamically growing collection, use the ArrayList.","title":"How to add new elements to an array?","body":"<p>As tangens said, the size of an array is fixed. But you have to instantiate it first, else it will be only a null reference.</p>\n\n<pre><code>String[] where = new String[10];\n</code></pre>\n\n<p>This array can contain only 10 elements. So you can append a value only 10 times. In your code you're accessing a null reference. That's why it doesnt work. In order to have a \ndynamically growing collection, use the ArrayList.</p>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1274006469,"creation_date":1274006469,"answer_id":2843379,"question_id":2843366,"body_markdown":"I&#39;m not that experienced in Java but I have always been told that arrays are static structures that have a predefined size. \r\nYou have to use an ArrayList&lt;String&gt; or a Vector or any other dynamic structure.","title":"How to add new elements to an array?","body":"<p>I'm not that experienced in Java but I have always been told that arrays are static structures that have a predefined size. \nYou have to use an ArrayList or a Vector or any other dynamic structure.</p>\n"},{"tags":[],"owner":{"account_id":137813,"reputation":493,"user_id":342292,"accept_rate":90,"display_name":"Paligulus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1274006502,"creation_date":1274006502,"answer_id":2843381,"question_id":2843366,"body_markdown":"You need to use a Collection List.  You cannot re-dimension an array.","title":"How to add new elements to an array?","body":"<p>You need to use a Collection List.  You cannot re-dimension an array.</p>\n"},{"tags":[],"owner":{"account_id":46497,"reputation":8446,"user_id":137435,"accept_rate":92,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1274007539,"creation_date":1274007539,"answer_id":2843435,"question_id":2843366,"body_markdown":"There is no method `append()` on arrays.  Instead as already suggested a List object can service the need for dynamically inserting elements eg.\r\n\r\n    List&lt;String&gt; where = new ArrayList&lt;String&gt;();\r\n    where.add(ContactsContract.Contacts.HAS_PHONE_NUMBER + &quot;=1&quot;);\r\n    where.add(ContactsContract.Contacts.IN_VISIBLE_GROUP + &quot;=1&quot;);\r\n\r\nOr if you are really keen to use an array:\r\n\r\n    String[] where = new String[]{\r\n        ContactsContract.Contacts.HAS_PHONE_NUMBER + &quot;=1&quot;,\r\n        ContactsContract.Contacts.IN_VISIBLE_GROUP + &quot;=1&quot;\r\n    };\r\nbut then this is a fixed size and no elements can be added.\r\n\r\n ","title":"How to add new elements to an array?","body":"<p>There is no method <code>append()</code> on arrays.  Instead as already suggested a List object can service the need for dynamically inserting elements eg.</p>\n\n<pre><code>List&lt;String&gt; where = new ArrayList&lt;String&gt;();\nwhere.add(ContactsContract.Contacts.HAS_PHONE_NUMBER + \"=1\");\nwhere.add(ContactsContract.Contacts.IN_VISIBLE_GROUP + \"=1\");\n</code></pre>\n\n<p>Or if you are really keen to use an array:</p>\n\n<pre><code>String[] where = new String[]{\n    ContactsContract.Contacts.HAS_PHONE_NUMBER + \"=1\",\n    ContactsContract.Contacts.IN_VISIBLE_GROUP + \"=1\"\n};\n</code></pre>\n\n<p>but then this is a fixed size and no elements can be added.</p>\n"},{"tags":[],"owner":{"account_id":1453902,"reputation":3608,"user_id":1370062,"accept_rate":96,"display_name":"RMachnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390567708,"creation_date":1390567708,"answer_id":21333166,"question_id":2843366,"body_markdown":"If you would like to store your data in simple array like this \r\n\r\n    String[] where = new String[10];\r\nand you want to add some elements to it like numbers please us StringBuilder which is much more efficient than concatenating string.\r\n\r\n    StringBuilder phoneNumber = new StringBuilder();\r\n    phoneNumber.append(&quot;1&quot;);\r\n    phoneNumber.append(&quot;2&quot;);\r\n    where[0] = phoneNumber.toString();\r\n\r\nThis is much better method to build your string and store it into your &#39;where&#39; array.","title":"How to add new elements to an array?","body":"<p>If you would like to store your data in simple array like this </p>\n\n<pre><code>String[] where = new String[10];\n</code></pre>\n\n<p>and you want to add some elements to it like numbers please us StringBuilder which is much more efficient than concatenating string.</p>\n\n<pre><code>StringBuilder phoneNumber = new StringBuilder();\nphoneNumber.append(\"1\");\nphoneNumber.append(\"2\");\nwhere[0] = phoneNumber.toString();\n</code></pre>\n\n<p>This is much better method to build your string and store it into your 'where' array.</p>\n"},{"tags":[],"owner":{"account_id":3825992,"reputation":113,"user_id":3172812,"accept_rate":0,"display_name":"ratzip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391435013,"creation_date":1391435013,"answer_id":21528977,"question_id":2843366,"body_markdown":"you can create a arraylist, and use `Collection.addAll()` to convert the string array to your arraylist\r\n","title":"How to add new elements to an array?","body":"<p>you can create a arraylist, and use <code>Collection.addAll()</code> to convert the string array to your arraylist</p>\n"},{"tags":[],"owner":{"account_id":4605684,"reputation":53,"user_id":3735253,"display_name":"Jiao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570510739,"creation_date":1411619802,"answer_id":26030619,"question_id":2843366,"body_markdown":"Size of array cannot be modified. If you have to use an array, you can use:\r\n```\r\nSystem.arraycopy(src, srcpos, dest, destpos, length); \r\n```","title":"How to add new elements to an array?","body":"<p>Size of array cannot be modified. If you have to use an array, you can use:</p>\n\n<pre><code>System.arraycopy(src, srcpos, dest, destpos, length); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":66569,"reputation":2134,"user_id":195216,"accept_rate":44,"display_name":"dforce"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1433767830,"creation_date":1433767830,"answer_id":30709648,"question_id":2843366,"body_markdown":"    String[] source = new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; };\r\n    String[] destination = new String[source.length + 2];\r\n    destination[0] = &quot;/bin/sh&quot;;\r\n    destination[1] = &quot;-c&quot;;\r\n    System.arraycopy(source, 0, destination, 2, source.length);\r\n\r\n    for (String parts : destination) {\r\n      System.out.println(parts);\r\n    }","title":"How to add new elements to an array?","body":"<pre><code>String[] source = new String[] { \"a\", \"b\", \"c\", \"d\" };\nString[] destination = new String[source.length + 2];\ndestination[0] = \"/bin/sh\";\ndestination[1] = \"-c\";\nSystem.arraycopy(source, 0, destination, 2, source.length);\n\nfor (String parts : destination) {\n  System.out.println(parts);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3368959,"reputation":630,"user_id":2828729,"display_name":"aclima"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1647255915,"creation_date":1440155193,"answer_id":32138750,"question_id":2843366,"body_markdown":"There is another option which i haven&#39;t seen here and which doesn&#39;t involve &quot;complex&quot; Objects or Collections.\r\n\r\n    String[] array1 = new String[]{&quot;one&quot;, &quot;two&quot;};\r\n    String[] array2 = new String[]{&quot;three&quot;};\r\n    \r\n    // declare a new array with enough space for all elements\r\n    String[] combinedArray = new String[array1.length + array2.length];\r\n\r\n    // copy the separate arrays into the combined array\r\n    System.arraycopy(array1, 0, combinedArray, 0, array1.length);\r\n    System.arraycopy(array2, 0, combinedArray, array1.length, array2.length);","title":"How to add new elements to an array?","body":"<p>There is another option which i haven't seen here and which doesn't involve &quot;complex&quot; Objects or Collections.</p>\n<pre><code>String[] array1 = new String[]{&quot;one&quot;, &quot;two&quot;};\nString[] array2 = new String[]{&quot;three&quot;};\n\n// declare a new array with enough space for all elements\nString[] combinedArray = new String[array1.length + array2.length];\n\n// copy the separate arrays into the combined array\nSystem.arraycopy(array1, 0, combinedArray, 0, array1.length);\nSystem.arraycopy(array2, 0, combinedArray, array1.length, array2.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888717,"reputation":749,"user_id":1707375,"accept_rate":38,"display_name":"Kris"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1449853690,"creation_date":1449851133,"answer_id":34228121,"question_id":2843366,"body_markdown":"Adding new items to String array.\r\n\r\n    String[] myArray = new String[] {&quot;x&quot;, &quot;y&quot;};\r\n    \r\n    // Convert array to list\r\n    List&lt;String&gt; listFromArray = Arrays.asList(myArray);\r\n    \r\n    // Create new list, because, List to Array always returns a fixed-size list backed by the specified array.\r\n    List&lt;String&gt; tempList = new ArrayList&lt;String&gt;(listFromArray);\r\n    tempList.add(&quot;z&quot;);\r\n    \r\n    //Convert list back to array\r\n    String[] tempArray = new String[tempList.size()];\r\n    myArray = tempList.toArray(tempArray);","title":"How to add new elements to an array?","body":"<p>Adding new items to String array.</p>\n\n<pre><code>String[] myArray = new String[] {\"x\", \"y\"};\n\n// Convert array to list\nList&lt;String&gt; listFromArray = Arrays.asList(myArray);\n\n// Create new list, because, List to Array always returns a fixed-size list backed by the specified array.\nList&lt;String&gt; tempList = new ArrayList&lt;String&gt;(listFromArray);\ntempList.add(\"z\");\n\n//Convert list back to array\nString[] tempArray = new String[tempList.size()];\nmyArray = tempList.toArray(tempArray);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6004556"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486027170,"creation_date":1486027170,"answer_id":41998327,"question_id":2843366,"body_markdown":"You can simply do this:\r\n\r\n\r\n    System.arraycopy(initialArray, 0, newArray, 0, initialArray.length);","title":"How to add new elements to an array?","body":"<p>You can simply do this:</p>\n\n<pre><code>System.arraycopy(initialArray, 0, newArray, 0, initialArray.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1501188134,"creation_date":1501188134,"answer_id":45360648,"question_id":2843366,"body_markdown":"Apache Commons Lang has\r\n\r\n    T[] t = ArrayUtils.add( initialArray, newitem );\r\n\r\nit returns a new array, but if you&#39;re really working with arrays for some reason, this may be the ideal way to do this.","title":"How to add new elements to an array?","body":"<p>Apache Commons Lang has</p>\n\n<pre><code>T[] t = ArrayUtils.add( initialArray, newitem );\n</code></pre>\n\n<p>it returns a new array, but if you're really working with arrays for some reason, this may be the ideal way to do this.</p>\n"},{"tags":[],"owner":{"account_id":1512944,"reputation":250,"user_id":1414603,"display_name":"AngeL"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1504992846,"creation_date":1504992343,"answer_id":46135247,"question_id":2843366,"body_markdown":"I&#39;ve made this code! It works like a charm!\r\n\r\n    public String[] AddToStringArray(String[] oldArray, String newString)\r\n    {\r\n        String[] newArray = Arrays.copyOf(oldArray, oldArray.length+1);\r\n        newArray[oldArray.length] = newString;\r\n        return newArray;\r\n    }\r\n\r\nI hope you like it!!","title":"How to add new elements to an array?","body":"<p>I've made this code! It works like a charm!</p>\n\n<pre><code>public String[] AddToStringArray(String[] oldArray, String newString)\n{\n    String[] newArray = Arrays.copyOf(oldArray, oldArray.length+1);\n    newArray[oldArray.length] = newString;\n    return newArray;\n}\n</code></pre>\n\n<p>I hope you like it!!</p>\n"},{"tags":[],"owner":{"account_id":4008749,"reputation":3475,"user_id":3302747,"accept_rate":61,"display_name":"Baked Inhalf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510526018,"creation_date":1510526018,"answer_id":47254767,"question_id":2843366,"body_markdown":"If one really want to resize an array you could do something like this:\r\n\r\n\tString[] arr = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n\tSystem.out.println(Arrays.toString(arr)); \r\n    // Output is: [a, b, c]\r\n\r\n\tarr = Arrays.copyOf(arr, 10); // new size will be 10 elements\r\n\tarr[3] = &quot;d&quot;;\r\n\tarr[4] = &quot;e&quot;;\r\n\tarr[5] = &quot;f&quot;;\r\n\t\t\r\n\tSystem.out.println(Arrays.toString(arr));\r\n    // Output is: [a, b, c, d, e, f, null, null, null, null]","title":"How to add new elements to an array?","body":"<p>If one really want to resize an array you could do something like this:</p>\n\n<pre><code>String[] arr = {\"a\", \"b\", \"c\"};\nSystem.out.println(Arrays.toString(arr)); \n// Output is: [a, b, c]\n\narr = Arrays.copyOf(arr, 10); // new size will be 10 elements\narr[3] = \"d\";\narr[4] = \"e\";\narr[5] = \"f\";\n\nSystem.out.println(Arrays.toString(arr));\n// Output is: [a, b, c, d, e, f, null, null, null, null]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7008272,"reputation":7615,"user_id":5372008,"display_name":"Teocci"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1546955228,"creation_date":1537515379,"answer_id":52438829,"question_id":2843366,"body_markdown":"There are many ways to add an element to an array. You can use a temp `List` to manage the element and then convert it back to `Array` or you can use the `java.util.Arrays.copyOf` and combine it with generics for better results.\r\n\r\nThis example will show you how:\r\n\r\n    public static &lt;T&gt; T[] append2Array(T[] elements, T element)\r\n    {\r\n        T[] newArray = Arrays.copyOf(elements, elements.length + 1);\r\n        newArray[elements.length] = element;\r\n\r\n        return newArray;\r\n    }\r\n \r\nTo use this method you just need to call it like this:\r\n\r\n    String[] numbers = new String[]{&quot;one&quot;, &quot;two&quot;, &quot;three&quot;};\r\n    System.out.println(Arrays.toString(numbers));\r\n    numbers = append2Array(numbers, &quot;four&quot;);\r\n    System.out.println(Arrays.toString(numbers));\r\n\r\nIf you want to merge two array you can modify the previous method like this:\r\n\r\n    public static &lt;T&gt; T[] append2Array(T[] elements, T[] newElements)\r\n    {\r\n        T[] newArray = Arrays.copyOf(elements, elements.length + newElements.length);\r\n        System.arraycopy(newElements, 0, newArray, elements.length, newElements.length);\r\n\r\n        return newArray;\r\n    }\r\n\r\nNow you can call the method like this:\r\n\r\n    String[] numbers = new String[]{&quot;one&quot;, &quot;two&quot;, &quot;three&quot;};\r\n    String[] moreNumbers = new String[]{&quot;four&quot;, &quot;five&quot;, &quot;six&quot;};\r\n    System.out.println(Arrays.toString(numbers));\r\n    numbers = append2Array(numbers, moreNumbers);\r\n    System.out.println(Arrays.toString(numbers));\r\n\r\n\r\nAs I mentioned, you also may use `List` objects. However, it will require a little hack to cast it safe like this:\r\n\r\n    public static &lt;T&gt; T[] append2Array(Class&lt;T[]&gt; clazz, List&lt;T&gt; elements, T element)\r\n    {\r\n        elements.add(element);\r\n        return clazz.cast(elements.toArray());\r\n    }\r\n\r\nNow you can call the method like this:\r\n\r\n    String[] numbers = new String[]{&quot;one&quot;, &quot;two&quot;, &quot;three&quot;};\r\n    System.out.println(Arrays.toString(numbers));\r\n    numbers = append2Array(String[].class, Arrays.asList(numbers), &quot;four&quot;);\r\n    System.out.println(Arrays.toString(numbers));","title":"How to add new elements to an array?","body":"<p>There are many ways to add an element to an array. You can use a temp <code>List</code> to manage the element and then convert it back to <code>Array</code> or you can use the <code>java.util.Arrays.copyOf</code> and combine it with generics for better results.</p>\n\n<p>This example will show you how:</p>\n\n<pre><code>public static &lt;T&gt; T[] append2Array(T[] elements, T element)\n{\n    T[] newArray = Arrays.copyOf(elements, elements.length + 1);\n    newArray[elements.length] = element;\n\n    return newArray;\n}\n</code></pre>\n\n<p>To use this method you just need to call it like this:</p>\n\n<pre><code>String[] numbers = new String[]{\"one\", \"two\", \"three\"};\nSystem.out.println(Arrays.toString(numbers));\nnumbers = append2Array(numbers, \"four\");\nSystem.out.println(Arrays.toString(numbers));\n</code></pre>\n\n<p>If you want to merge two array you can modify the previous method like this:</p>\n\n<pre><code>public static &lt;T&gt; T[] append2Array(T[] elements, T[] newElements)\n{\n    T[] newArray = Arrays.copyOf(elements, elements.length + newElements.length);\n    System.arraycopy(newElements, 0, newArray, elements.length, newElements.length);\n\n    return newArray;\n}\n</code></pre>\n\n<p>Now you can call the method like this:</p>\n\n<pre><code>String[] numbers = new String[]{\"one\", \"two\", \"three\"};\nString[] moreNumbers = new String[]{\"four\", \"five\", \"six\"};\nSystem.out.println(Arrays.toString(numbers));\nnumbers = append2Array(numbers, moreNumbers);\nSystem.out.println(Arrays.toString(numbers));\n</code></pre>\n\n<p>As I mentioned, you also may use <code>List</code> objects. However, it will require a little hack to cast it safe like this:</p>\n\n<pre><code>public static &lt;T&gt; T[] append2Array(Class&lt;T[]&gt; clazz, List&lt;T&gt; elements, T element)\n{\n    elements.add(element);\n    return clazz.cast(elements.toArray());\n}\n</code></pre>\n\n<p>Now you can call the method like this:</p>\n\n<pre><code>String[] numbers = new String[]{\"one\", \"two\", \"three\"};\nSystem.out.println(Arrays.toString(numbers));\nnumbers = append2Array(String[].class, Arrays.asList(numbers), \"four\");\nSystem.out.println(Arrays.toString(numbers));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8570956,"reputation":1387,"user_id":6421877,"display_name":"baz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588976466,"creation_date":1588976466,"answer_id":61689064,"question_id":2843366,"body_markdown":"It&#39;s also possible to pre-allocate large enough memory size. Here is a simple stack implementation: the program is supposed to output 3 and 5.\r\n\r\n    class Stk {\r\n    \tstatic public final int STKSIZ = 256;\r\n    \tpublic int[] info = new int[STKSIZ];\r\n    \tpublic int sp = 0; // stack pointer\r\n    \tpublic void push(int value) {\r\n    \t\tinfo[sp++] = value;\r\n    \t}\r\n    }\r\n    class App {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tStk stk = new Stk();\r\n    \t\tstk.push(3);\r\n    \t\tstk.push(5);\r\n    \t\tSystem.out.println(stk.info[0]);\r\n    \t\tSystem.out.println(stk.info[1]);\r\n    \t}\r\n    }","title":"How to add new elements to an array?","body":"<p>It's also possible to pre-allocate large enough memory size. Here is a simple stack implementation: the program is supposed to output 3 and 5.</p>\n\n<pre><code>class Stk {\n    static public final int STKSIZ = 256;\n    public int[] info = new int[STKSIZ];\n    public int sp = 0; // stack pointer\n    public void push(int value) {\n        info[sp++] = value;\n    }\n}\nclass App {\n    public static void main(String[] args) {\n        Stk stk = new Stk();\n        stk.push(3);\n        stk.push(5);\n        System.out.println(stk.info[0]);\n        System.out.println(stk.info[1]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20952963,"reputation":1782,"user_id":15394199,"display_name":"random_hooman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617887260,"creation_date":1617887260,"answer_id":67004658,"question_id":2843366,"body_markdown":"It is not compiling because an array has no function named append the better and the correct way to go with is to use ArrayList\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    ArrayList where = new ArrayList&lt;String&gt;();\r\n\r\n    where.add(ContactsContract.Contacts.HAS_PHONE_NUMBER + &quot;=1&quot;)\r\n    where.add(ContactsContract.Contacts.IN_VISIBLE_GROUP + &quot;=1&quot;)","title":"How to add new elements to an array?","body":"<p>It is not compiling because an array has no function named append the better and the correct way to go with is to use ArrayList</p>\n<pre><code>import java.util.ArrayList;\n\nArrayList where = new ArrayList&lt;String&gt;();\n\nwhere.add(ContactsContract.Contacts.HAS_PHONE_NUMBER + &quot;=1&quot;)\nwhere.add(ContactsContract.Contacts.IN_VISIBLE_GROUP + &quot;=1&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24438904,"reputation":169,"user_id":18362842,"display_name":"Паван Викаситха"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680878004,"creation_date":1680878004,"answer_id":75959376,"question_id":2843366,"body_markdown":"books[books.length + 1] = new_book_name;\r\n\r\n&gt; array_name[array_name.length + 1] = &quot;New Value&quot;;","title":"How to add new elements to an array?","body":"<p>books[books.length + 1] = new_book_name;</p>\n<blockquote>\n<p>array_name[array_name.length + 1] = &quot;New Value&quot;;</p>\n</blockquote>\n"}],"owner":{"account_id":88036,"reputation":205429,"user_id":243782,"accept_rate":94,"display_name":"Pentium10"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1680247,"favorite_count":0,"down_vote_count":0,"up_vote_count":359,"accepted_answer_id":2843371,"answer_count":20,"score":359,"last_activity_date":1680878004,"creation_date":1274006250,"question_id":2843366,"body_markdown":"I have the following code:\r\n\r\n    String[] where;\r\n    where.append(ContactsContract.Contacts.HAS_PHONE_NUMBER + &quot;=1&quot;);\r\n    where.append(ContactsContract.Contacts.IN_VISIBLE_GROUP + &quot;=1&quot;);\r\n\r\nThose two appends are not compiling. How would that work correctly?\r\n","title":"How to add new elements to an array?","body":"<p>I have the following code:</p>\n\n<pre><code>String[] where;\nwhere.append(ContactsContract.Contacts.HAS_PHONE_NUMBER + \"=1\");\nwhere.append(ContactsContract.Contacts.IN_VISIBLE_GROUP + \"=1\");\n</code></pre>\n\n<p>Those two appends are not compiling. How would that work correctly?</p>\n"},{"tags":["java","spring-boot","dns","jakarta-mail","round-robin"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680877498,"post_id":75959236,"comment_id":133974320,"body_markdown":"JakartaMail delegates this to Java itself, which does perform some form of DNS caching, see the duplicate for details how to configure its TTL.","body":"JakartaMail delegates this to Java itself, which does perform some form of DNS caching, see the duplicate for details how to configure its TTL."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1680879499,"post_id":75959236,"comment_id":133974752,"body_markdown":"@Mark Rotteveel Thank you","body":"@Mark Rotteveel Thank you"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680877545,"answer_count":0,"score":0,"last_activity_date":1680877638,"creation_date":1680877011,"question_id":75959236,"body_markdown":"I have a class:\r\n\r\n    @Service\r\n    public class MyEmailService {\r\n    \r\n        public SendEmailResponse sendEmail(...) {\r\n            try {\r\n                ...\r\n                javaMailSender.send(mimeMessage);\r\n             ...\r\n\r\nIn configuration, the mail server is set as a DNS name. But this DNS could be resolved by different IP addresses. DNS round robin is implemented this way. For me it is a way of load balancing between servers.\r\n\r\nTo make it working I have to make sure that javaMailSender will make DNS query before each request. I haven&#39;t found anything about it in documentation. Could you please help?","title":"Does JavaMailSender make DNS call before each send?","body":"<p>I have a class:</p>\n<pre><code>@Service\npublic class MyEmailService {\n\n    public SendEmailResponse sendEmail(...) {\n        try {\n            ...\n            javaMailSender.send(mimeMessage);\n         ...\n</code></pre>\n<p>In configuration, the mail server is set as a DNS name. But this DNS could be resolved by different IP addresses. DNS round robin is implemented this way. For me it is a way of load balancing between servers.</p>\n<p>To make it working I have to make sure that javaMailSender will make DNS query before each request. I haven't found anything about it in documentation. Could you please help?</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679898628,"post_id":75850698,"comment_id":133796781,"body_markdown":"Aside from my answer, I think that you might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"Aside from my answer, I think that you might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a>."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679898590,"creation_date":1679898590,"answer_id":75852695,"question_id":75850698,"body_markdown":"If you don&#39;t know ahead of time if a user is a trainer or a trainee, then you have to explicitly check that. As I see in your code, you have two different collections, `trainers` and `trainees`. Which in your case, doesn&#39;t help much, because you have to perform two different checks.\r\n\r\nSo in your case, I would recommend a schema with a single collection that looks like this:\r\n\r\n    db\r\n    |\r\n    --- users (collection)\r\n         |\r\n         --- $email (document)\r\n               |\r\n               --- type: &quot;trainee&quot;\r\n               |\r\n               --- //other user fields\r\n\r\nTo check if a user is a trainer or a trainee, you only have to create a reference that points to the user document, read the document, and check the type of the user like this:\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    CollectionReference usersRef = db.collection(&quot;users&quot;);\r\n    DocumentReference emailRef = usersRef.document(email);\r\n    emailRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                DocumentSnapshot document = task.getResult();\r\n                if (document.exists()) {\r\n                    String type = document.getString(&quot;type&quot;);\r\n                    if(type.equals(&quot;trainer&quot;)) {\r\n                        //Do something.\r\n                    } else {\r\n                        //Do something else.\r\n                    }\r\n                }\r\n            } else {\r\n                Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\n\r\nWhen you call [DocumentReference#get()][1], the type of object that is returned is a `Task&lt;DocumentSnapshot&gt;`. So in order to get the result, you have to attach a listener, which is an asynchronous operation There is no way you can make that operation synchronous. This means that you cannot return the result of an asynchronous operation as a result of the method. For more information, I recommend you read my answer in the following post:\r\n\r\n* https://stackoverflow.com/questions/48499310/how-to-return-a-documentsnapshot-as-a-result-of-a-method/48500679#48500679\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#get()","title":"Method that checks if a firestore document is a specific type of document","body":"<p>If you don't know ahead of time if a user is a trainer or a trainee, then you have to explicitly check that. As I see in your code, you have two different collections, <code>trainers</code> and <code>trainees</code>. Which in your case, doesn't help much, because you have to perform two different checks.</p>\n<p>So in your case, I would recommend a schema with a single collection that looks like this:</p>\n<pre><code>db\n|\n--- users (collection)\n     |\n     --- $email (document)\n           |\n           --- type: &quot;trainee&quot;\n           |\n           --- //other user fields\n</code></pre>\n<p>To check if a user is a trainer or a trainee, you only have to create a reference that points to the user document, read the document, and check the type of the user like this:</p>\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\nCollectionReference usersRef = db.collection(&quot;users&quot;);\nDocumentReference emailRef = usersRef.document(email);\nemailRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            DocumentSnapshot document = task.getResult();\n            if (document.exists()) {\n                String type = document.getString(&quot;type&quot;);\n                if(type.equals(&quot;trainer&quot;)) {\n                    //Do something.\n                } else {\n                    //Do something else.\n                }\n            }\n        } else {\n            Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>When you call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#get()\" rel=\"nofollow noreferrer\">DocumentReference#get()</a>, the type of object that is returned is a <code>Task&lt;DocumentSnapshot&gt;</code>. So in order to get the result, you have to attach a listener, which is an asynchronous operation There is no way you can make that operation synchronous. This means that you cannot return the result of an asynchronous operation as a result of the method. For more information, I recommend you read my answer in the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48499310/how-to-return-a-documentsnapshot-as-a-result-of-a-method/48500679#48500679\">How to return a DocumentSnapShot as a result of a method?</a></li>\n</ul>\n"}],"owner":{"account_id":26210450,"reputation":13,"user_id":19889412,"display_name":"Raz Dar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680877407,"creation_date":1679866379,"question_id":75850698,"body_markdown":"I have an Android Studio project with 2 user collections: trainers and trainees. I want to make a method that receives the user&#39;s string email as input (the user&#39;s email is the document ID in both collections and a user can be either in the trainees collection or in the trainers collection not in both) and the method returns a boolean containing true if the user is a trainer and false if he isn&#39;t (meaning he is a trainee).  \r\n\r\nThis is the code I came up with but its not working, it returns false all the time even if the user is a trainer. Am I doing something wrong? is there a better way to do this?\r\n\r\n```\r\npublic static boolean isTrainer(String email)\r\n{\r\n    FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n    DocumentReference trainerRef = firestore.collection(&quot;trainers&quot;).document(email);\r\n    DocumentReference traineeRef = firestore.collection(&quot;trainees&quot;).document(email);\r\n    // Check if the trainer document exists\r\n    Task&lt;DocumentSnapshot&gt; trainerTask = trainerRef.get();\r\n    boolean isTrainer = trainerTask.isSuccessful() &amp;&amp; trainerTask.getResult().exists();\r\n    // Check if the trainee document exists\r\n    Task&lt;DocumentSnapshot&gt; traineeTask = traineeRef.get();\r\n    boolean isTrainee = traineeTask.isSuccessful() &amp;&amp; traineeTask.getResult().exists();\r\n    // If the trainer document exists but the trainee document doesn&#39;t, the user is a trainer\r\n    Log.d(&quot;FirestoreExample&quot;, &quot;isTrainer: &quot; + isTrainer + &quot;, isTrainee: &quot; + isTrainee);\r\n    return isTrainer &amp;&amp; !isTrainee;\r\n}\r\n```\r\n\r\nI tried many things but nothing worked","title":"Method that checks if a firestore document is a specific type of document","body":"<p>I have an Android Studio project with 2 user collections: trainers and trainees. I want to make a method that receives the user's string email as input (the user's email is the document ID in both collections and a user can be either in the trainees collection or in the trainers collection not in both) and the method returns a boolean containing true if the user is a trainer and false if he isn't (meaning he is a trainee).</p>\n<p>This is the code I came up with but its not working, it returns false all the time even if the user is a trainer. Am I doing something wrong? is there a better way to do this?</p>\n<pre><code>public static boolean isTrainer(String email)\n{\n    FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n    DocumentReference trainerRef = firestore.collection(&quot;trainers&quot;).document(email);\n    DocumentReference traineeRef = firestore.collection(&quot;trainees&quot;).document(email);\n    // Check if the trainer document exists\n    Task&lt;DocumentSnapshot&gt; trainerTask = trainerRef.get();\n    boolean isTrainer = trainerTask.isSuccessful() &amp;&amp; trainerTask.getResult().exists();\n    // Check if the trainee document exists\n    Task&lt;DocumentSnapshot&gt; traineeTask = traineeRef.get();\n    boolean isTrainee = traineeTask.isSuccessful() &amp;&amp; traineeTask.getResult().exists();\n    // If the trainer document exists but the trainee document doesn't, the user is a trainer\n    Log.d(&quot;FirestoreExample&quot;, &quot;isTrainer: &quot; + isTrainer + &quot;, isTrainee: &quot; + isTrainee);\n    return isTrainer &amp;&amp; !isTrainee;\n}\n</code></pre>\n<p>I tried many things but nothing worked</p>\n"},{"tags":["java","sql","spring","spring-boot"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1535546876,"post_id":52077711,"comment_id":91105440,"body_markdown":"Can you show us how you make the test for one of h2 or MySQL","body":"Can you show us how you make the test for one of h2 or MySQL"},{"owner":{"account_id":7844482,"reputation":1806,"user_id":5929974,"accept_rate":33,"display_name":"Andreas Gelever"},"score":0,"creation_date":1535547807,"post_id":52077711,"comment_id":91106141,"body_markdown":"Added the test case","body":"Added the test case"},{"owner":{"account_id":3831907,"reputation":375,"user_id":3177263,"display_name":"Stefano Curcio"},"score":1,"creation_date":1535548246,"post_id":52077711,"comment_id":91106467,"body_markdown":"Why don&#39;t you use @Profile with separated classes putting the common logic in an another class?","body":"Why don&#39;t you use @Profile with separated classes putting the common logic in an another class?"},{"owner":{"account_id":7844482,"reputation":1806,"user_id":5929974,"accept_rate":33,"display_name":"Andreas Gelever"},"score":0,"creation_date":1535548962,"post_id":52077711,"comment_id":91106966,"body_markdown":"OK, that seem to be one solution!","body":"OK, that seem to be one solution!"}],"answers":[{"tags":[],"owner":{"account_id":3831907,"reputation":375,"user_id":3177263,"display_name":"Stefano Curcio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680876485,"creation_date":1535550710,"answer_id":52079085,"question_id":52077711,"body_markdown":"You could use `@Profile` annotation with separated classes, each for every DMBS, putting the common logic in an another class to avoid the code duplication. You are using Spring so you could get it with something as below.\r\n\r\n    @Profile(&quot;mysql&quot;)\r\n    @Sql(scripts=&quot;... my mysql scripts...&quot;)\r\n    public class MySqlTests{\r\n        \r\n        @Autowired\r\n        private CommonTestsLogic commonLogic;\r\n        \r\n        @Test\r\n        public void mySqlTest1(){\r\n           commonlogic.test1();\r\n        }\r\n    \r\n    }\r\n\r\n    @Profile(&quot;oracle&quot;)\r\n    @Sql(scripts=&quot;... my oracle scripts...&quot;)\r\n    public class MyOracleTests{\r\n       \r\n       @Autowired\r\n       private CommonTestsLogic commonLogic;\r\n       \r\n       @Test\r\n       public void myOracleTest1(){\r\n           commonlogic.test1();\r\n       }\r\n    \r\n    }\r\n\r\n","title":"Spring Boot Test: execute different sql scripts in tests depending on the active profile?","body":"<p>You could use <code>@Profile</code> annotation with separated classes, each for every DMBS, putting the common logic in an another class to avoid the code duplication. You are using Spring so you could get it with something as below.</p>\n<pre><code>@Profile(&quot;mysql&quot;)\n@Sql(scripts=&quot;... my mysql scripts...&quot;)\npublic class MySqlTests{\n    \n    @Autowired\n    private CommonTestsLogic commonLogic;\n    \n    @Test\n    public void mySqlTest1(){\n       commonlogic.test1();\n    }\n\n}\n\n@Profile(&quot;oracle&quot;)\n@Sql(scripts=&quot;... my oracle scripts...&quot;)\npublic class MyOracleTests{\n   \n   @Autowired\n   private CommonTestsLogic commonLogic;\n   \n   @Test\n   public void myOracleTest1(){\n       commonlogic.test1();\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7844482,"reputation":1806,"user_id":5929974,"accept_rate":33,"display_name":"Andreas Gelever"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1680876377,"creation_date":1535982951,"answer_id":52151202,"question_id":52077711,"body_markdown":"After some deeper digging into the issue I ended up with this simple workaround.\r\n\r\n    @Sql(scripts = &quot;/scripts/entity_test_clear.sql&quot;, \r\n         executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\r\n\r\nFor the `scripts` parameter, it is required to be a compile time constant. You cannot simply fetch a current profile value from the `application.properties` file and substitute it to run the right script name.\r\n\r\nIntroducing `@After` and `@Before` methods with `ScriptUtils` executing the right scripts is rather verbose and, in fact, didn&#39;t work for me (some freezing during script executing process occurred).\r\n\r\nSo what I did was just introducing a class with a single constant:\r\n\r\n    /**\r\n     * Constant holder for exceptionally database IT testing purposes\r\n     * for switching between h2 and mysql\r\n     */\r\n    public class ActiveProfile {\r\n        /**\r\n         * Current profile for database IT tests.\r\n         * Make sure the value is equal to the value of\r\n         * &lt;i&gt;spring.profiles.active&lt;/i&gt; property from test application.properties\r\n         */\r\n        public static final String NOW = &quot;h2&quot;;\r\n    }\r\n\r\nThen the @sql line becomes:\r\n\r\n    @Sql(scripts = &quot;/scripts/test_data_clear_&quot;+ ActiveProfile.NOW+&quot;.sql&quot;, \r\n         executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\r\n\r\nTo use another database for testing (mysql) I just need to \r\n\r\n1. change the current `spring.profiles.active=mysql` profile in the `application.properties` file \r\n2. change this constant to `mysql`;\r\n\r\nThat doesn&#39;t mean to be the exemplary solution, just a workaround that simply works.","title":"Spring Boot Test: execute different sql scripts in tests depending on the active profile?","body":"<p>After some deeper digging into the issue I ended up with this simple workaround.</p>\n<pre><code>@Sql(scripts = &quot;/scripts/entity_test_clear.sql&quot;, \n     executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\n</code></pre>\n<p>For the <code>scripts</code> parameter, it is required to be a compile time constant. You cannot simply fetch a current profile value from the <code>application.properties</code> file and substitute it to run the right script name.</p>\n<p>Introducing <code>@After</code> and <code>@Before</code> methods with <code>ScriptUtils</code> executing the right scripts is rather verbose and, in fact, didn't work for me (some freezing during script executing process occurred).</p>\n<p>So what I did was just introducing a class with a single constant:</p>\n<pre><code>/**\n * Constant holder for exceptionally database IT testing purposes\n * for switching between h2 and mysql\n */\npublic class ActiveProfile {\n    /**\n     * Current profile for database IT tests.\n     * Make sure the value is equal to the value of\n     * &lt;i&gt;spring.profiles.active&lt;/i&gt; property from test application.properties\n     */\n    public static final String NOW = &quot;h2&quot;;\n}\n</code></pre>\n<p>Then the @sql line becomes:</p>\n<pre><code>@Sql(scripts = &quot;/scripts/test_data_clear_&quot;+ ActiveProfile.NOW+&quot;.sql&quot;, \n     executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\n</code></pre>\n<p>To use another database for testing (mysql) I just need to</p>\n<ol>\n<li>change the current <code>spring.profiles.active=mysql</code> profile in the <code>application.properties</code> file</li>\n<li>change this constant to <code>mysql</code>;</li>\n</ol>\n<p>That doesn't mean to be the exemplary solution, just a workaround that simply works.</p>\n"}],"owner":{"account_id":7844482,"reputation":1806,"user_id":5929974,"accept_rate":33,"display_name":"Andreas Gelever"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18876,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":52151202,"answer_count":2,"score":8,"last_activity_date":1680877357,"creation_date":1535546393,"question_id":52077711,"body_markdown":"Is it possible with Spring Boot Test to set a conditional execution of sql scripts depending on the active profile?\r\nI mean, I have my integration tests for repositories annotated with some `@sql` annotations like:\r\n\r\n    @Sql(scripts = &quot;/scripts/entity_test_clear.sql&quot;, \r\n         executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\r\n\r\n - For a profile `h2` I want to execute **entity_test_clear.sql**\r\n   \r\n - For a profile `mysql` I want to execute **entity_test_clear_mysql.sql**\r\n\r\nThe reason for it is that I use different syntax for these databases, particularly this one:\r\n\r\n - `ALTER TABLE organisation ALTER COLUMN org_id RESTART WITH 1;`\r\n - `ALTER TABLE organisation AUTO_INCREMENT = 1;`\r\n\r\n`Mysql` doesn&#39;t understand the syntax **#1**, while `h2` doesn&#39;t understand the syntax **#2** (despite the `mysql` mode set, like `MODE=MYSQL`)\r\n\r\nBy default, I use `h2` for IT tests, but also, in some rarer cases, I would like to check everything works smoothly with `Mysql` too.\r\n\r\nP.S I could of course try a straight-forward solution with `@Profile` and hard code two copies of each test for `h2` and `Mysql`, but it is coupled with huge code duplication in tests, which I would like to avoid.\r\n\r\n**EDITED:**\r\n\r\nThe test case looks like this:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace= AutoConfigureTestDatabase.Replace.NONE)\r\n    public class EntityRepositoryTestIT {\r\n    \r\n        @Autowired\r\n        private EntityRepository entityRepository;\r\n\r\n    @Test\r\n    @Sql(scripts = {&quot;/scripts/entity_test_data.sql&quot;, &quot;/scripts/entity_test_data_many.sql&quot;}, \r\n         executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\r\n    @Sql(scripts = &quot;/scripts/entity_test_clear.sql&quot;, \r\n         executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\r\n    public void findTest() {\r\n        Page&lt;Entity&gt; e = entityRepository.findBySomeDetails(1L, PageRequest.of(0, 20));\r\n        Assert.assertEquals(3, e.getContent().size());\r\n        Assert.assertEquals(1, e.getContent().get(0).getResources().size());\r\n    // more asserts\r\n\r\n    }\r\n\r\nThank you for any suggestions!","title":"Spring Boot Test: execute different sql scripts in tests depending on the active profile?","body":"<p>Is it possible with Spring Boot Test to set a conditional execution of sql scripts depending on the active profile?\nI mean, I have my integration tests for repositories annotated with some <code>@sql</code> annotations like:</p>\n<pre><code>@Sql(scripts = &quot;/scripts/entity_test_clear.sql&quot;, \n     executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\n</code></pre>\n<ul>\n<li><p>For a profile <code>h2</code> I want to execute <strong>entity_test_clear.sql</strong></p>\n</li>\n<li><p>For a profile <code>mysql</code> I want to execute <strong>entity_test_clear_mysql.sql</strong></p>\n</li>\n</ul>\n<p>The reason for it is that I use different syntax for these databases, particularly this one:</p>\n<ul>\n<li><code>ALTER TABLE organisation ALTER COLUMN org_id RESTART WITH 1;</code></li>\n<li><code>ALTER TABLE organisation AUTO_INCREMENT = 1;</code></li>\n</ul>\n<p><code>Mysql</code> doesn't understand the syntax <strong>#1</strong>, while <code>h2</code> doesn't understand the syntax <strong>#2</strong> (despite the <code>mysql</code> mode set, like <code>MODE=MYSQL</code>)</p>\n<p>By default, I use <code>h2</code> for IT tests, but also, in some rarer cases, I would like to check everything works smoothly with <code>Mysql</code> too.</p>\n<p>P.S I could of course try a straight-forward solution with <code>@Profile</code> and hard code two copies of each test for <code>h2</code> and <code>Mysql</code>, but it is coupled with huge code duplication in tests, which I would like to avoid.</p>\n<p><strong>EDITED:</strong></p>\n<p>The test case looks like this:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@AutoConfigureTestDatabase(replace= AutoConfigureTestDatabase.Replace.NONE)\npublic class EntityRepositoryTestIT {\n\n    @Autowired\n    private EntityRepository entityRepository;\n\n@Test\n@Sql(scripts = {&quot;/scripts/entity_test_data.sql&quot;, &quot;/scripts/entity_test_data_many.sql&quot;}, \n     executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\n@Sql(scripts = &quot;/scripts/entity_test_clear.sql&quot;, \n     executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\npublic void findTest() {\n    Page&lt;Entity&gt; e = entityRepository.findBySomeDetails(1L, PageRequest.of(0, 20));\n    Assert.assertEquals(3, e.getContent().size());\n    Assert.assertEquals(1, e.getContent().get(0).getResources().size());\n// more asserts\n\n}\n</code></pre>\n<p>Thank you for any suggestions!</p>\n"},{"tags":["java","angular","spring-boot","spring-mvc"],"comments":[{"owner":{"display_name":"user10527814"},"score":0,"creation_date":1540578215,"post_id":53014101,"comment_id":92932245,"body_markdown":"Did you try another browser, like Chrome?","body":"Did you try another browser, like Chrome?"},{"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"score":0,"creation_date":1540581333,"post_id":53014101,"comment_id":92933633,"body_markdown":"In Chrome, I actually receive different errors: `[Violation] &#39;load&#39; handler took 891ms\n[Violation] Forced reflow while executing JavaScript took 62ms`","body":"In Chrome, I actually receive different errors: <code>[Violation] &#39;load&#39; handler took 891ms [Violation] Forced reflow while executing JavaScript took 62ms</code>"},{"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"score":0,"creation_date":1540581869,"post_id":53014101,"comment_id":92933863,"body_markdown":"Chrome&#39;s error message helped me out. The issue is now resolved. The problem was that the Java app was writing to the assert directory of the Angular app, forcing it to recompile and reload (I was using `ng serve` with the Angular CLI). Thanks.","body":"Chrome&#39;s error message helped me out. The issue is now resolved. The problem was that the Java app was writing to the assert directory of the Angular app, forcing it to recompile and reload (I was using <code>ng serve</code> with the Angular CLI). Thanks."}],"answers":[{"tags":[],"owner":{"account_id":13059268,"reputation":2323,"user_id":9437031,"display_name":"Dhwanil Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555225848,"creation_date":1555225848,"answer_id":55672836,"question_id":53014101,"body_markdown":"i&#39;m not sure but I suppose this answer help you somehow\r\n\r\nI faced same problem once and after studding some of the points, I realize that spring boot provide some extended level of security for CORS origins, to restrict CROSS SITE ATTACK.\r\n\r\nWe discuss it later, first we comes to the point,\r\n\r\nThe code which you written in class SimpleCORSFilter is mainly responsible for header level security when your work with any of the CORS origin. \r\n\r\nFor verify this check your response header using inspect element(Point - 1). \r\n\r\nCheck each of the header element which you required or used for executing your front-end code (Anguler code as per you mention earlier). Some param like content-type, content-disposition are required for downloading file. I suppose you’re not mention it properly or not use as per spring boot standards(Point - 2). \r\n\r\nIf this parameter is missing then send it in your response, I’m not sure your code is working or not but it’s a better practice when your work with spring boot send your multipart file as Resource with each of header param like \r\n\r\ncontent-type : file MIME type, \r\nContent – Disposition : file name and action you perform : attachment / inline (Point - 3).\r\n\r\nIn some of the cases this all parameter are there still you not able to download (which I face), \r\n\r\nThe solution is you add that parameter as response but not allow them to access by CORS origin. \r\n\r\nFor that you need to set some required parameter in “Access-Control-Expose-Headers”(Point - 4).\r\nalso add some other params which you want to add.\r\n\r\n\r\n\r\n&gt; 1.\tRight Click browser -&gt; select inspect element -&gt; Go in network pane  -&gt;  Click on requested url -&gt; In newly open block you see the request and their relevant content -&gt; Go in response header option \r\n&gt; \r\n&gt; 2.\tAdd debugger on front-end code -&gt; console.log(“&lt;header-param&gt;”) \r\n&gt; \r\n&gt; 3.\tGo the end point -&gt; Take Resource param -&gt; Add file as OutputStream   -&gt; Send it as ResponseEntity&lt;Resource/?&gt;\r\n\r\n    Path path = Paths.get(&lt;directory-path&gt;).normalize();\r\n    Path filePath = path.resolve(fileName).normalize();\r\n    Resource resource = new UrlResource(filePath.toUri());\r\n    Return ResponseEntity.ok\r\n    \t\t.contentType(MediaType.&lt;MIME-Type&gt;)\r\n    \t\t.header(HttpHeaders.CONTENT_DISPOSITION, “attachment; filename=””+ resource.filename())\r\n    \t\t.body(resource);\r\n\r\n&gt; 4.\tSimpleCORSFilter class -&gt; doFilter() method -&gt; add\r\n\r\n    response.setHeader(“Access-Control-Expose-Headers”, “xsrf-token, X-Total-Results, Authorization, Content-type, Content-Disposition”)\r\n\r\nStill you face some problem mention in comment I&#39;ll send one demo for this.\r\n\r\n\r\n\r\n","title":"Cross-Origin Request blocked only when file uploads/downloads are involved","body":"<p>i'm not sure but I suppose this answer help you somehow</p>\n\n<p>I faced same problem once and after studding some of the points, I realize that spring boot provide some extended level of security for CORS origins, to restrict CROSS SITE ATTACK.</p>\n\n<p>We discuss it later, first we comes to the point,</p>\n\n<p>The code which you written in class SimpleCORSFilter is mainly responsible for header level security when your work with any of the CORS origin. </p>\n\n<p>For verify this check your response header using inspect element(Point - 1). </p>\n\n<p>Check each of the header element which you required or used for executing your front-end code (Anguler code as per you mention earlier). Some param like content-type, content-disposition are required for downloading file. I suppose you’re not mention it properly or not use as per spring boot standards(Point - 2). </p>\n\n<p>If this parameter is missing then send it in your response, I’m not sure your code is working or not but it’s a better practice when your work with spring boot send your multipart file as Resource with each of header param like </p>\n\n<p>content-type : file MIME type, \nContent – Disposition : file name and action you perform : attachment / inline (Point - 3).</p>\n\n<p>In some of the cases this all parameter are there still you not able to download (which I face), </p>\n\n<p>The solution is you add that parameter as response but not allow them to access by CORS origin. </p>\n\n<p>For that you need to set some required parameter in “Access-Control-Expose-Headers”(Point - 4).\nalso add some other params which you want to add.</p>\n\n<blockquote>\n  <ol>\n  <li><p>Right Click browser -> select inspect element -> Go in network pane  ->  Click on requested url -> In newly open block you see the request and their relevant content -> Go in response header option </p></li>\n  <li><p>Add debugger on front-end code -> console.log(“”) </p></li>\n  <li><p>Go the end point -> Take Resource param -> Add file as OutputStream   -> Send it as ResponseEntity</p></li>\n  </ol>\n</blockquote>\n\n<pre><code>Path path = Paths.get(&lt;directory-path&gt;).normalize();\nPath filePath = path.resolve(fileName).normalize();\nResource resource = new UrlResource(filePath.toUri());\nReturn ResponseEntity.ok\n        .contentType(MediaType.&lt;MIME-Type&gt;)\n        .header(HttpHeaders.CONTENT_DISPOSITION, “attachment; filename=””+ resource.filename())\n        .body(resource);\n</code></pre>\n\n<blockquote>\n  <ol start=\"4\">\n  <li>SimpleCORSFilter class -> doFilter() method -> add</li>\n  </ol>\n</blockquote>\n\n<pre><code>response.setHeader(“Access-Control-Expose-Headers”, “xsrf-token, X-Total-Results, Authorization, Content-type, Content-Disposition”)\n</code></pre>\n\n<p>Still you face some problem mention in comment I'll send one demo for this.</p>\n"}],"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680877351,"creation_date":1540576999,"question_id":53014101,"body_markdown":"I have an Angular application that makes a request to a Spring Boot RESTful API. I have, for development purposes, set a very loose CORS policy in my Spring Boot (please note, to any reading this and potentially copying or pasting, these are not meant to be secure production values). \r\n\r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class SimpleCORSFilter implements Filter {\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\tHttpServletResponse response = (HttpServletResponse) res;\r\n    \t\tHttpServletRequest request = (HttpServletRequest) req;\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE, PATCH&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;,\r\n    \t\t\t\t&quot;Origin, X-Requested-With, Content-Type, Accept, xsrf-token, authorization&quot;);\r\n    \r\n    \t\tresponse.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Location&quot;);\r\n    \t\tresponse.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;xsrf-token&quot;);\r\n    \r\n    \t\tif (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\r\n    \t\t\tresponse.setStatus(HttpServletResponse.SC_OK);\r\n    \t\t} else {\r\n    \t\t\tchain.doFilter(req, res);\r\n    \t\t}\r\n    \t}\r\n\r\nA `@Configuration` class that consumes it:\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Autowired\r\n    \tprivate PasswordEncoder passwordEncoder;\r\n    \r\n    \t@Autowired\r\n    \tprivate SimpleCORSFilter corsFilter;\r\n    \r\n    \t@Bean\r\n    \t@Override\r\n    \tprotected AuthenticationManager authenticationManager() throws Exception {\r\n    \t\treturn super.authenticationManager();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \r\n    \t\thttp.addFilterBefore(corsFilter, ChannelProcessingFilter.class).authorizeRequests().antMatchers(&quot;/admin/**&quot;)\r\n    \t\t\t\t.hasAnyAuthority(&quot;ROLE_ADMIN&quot;).antMatchers(HttpMethod.GET, &quot;/public&quot;).permitAll().and()\r\n    \t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().httpBasic()\r\n    \t\t\t\t.realmName(&quot;test&quot;).and().csrf().disable();\r\n    \r\n    \t}\r\n    }\r\n\r\nTypically, the communication between the apps works just find. I can retrieve and post JSON data without issue. However, whenever I attempt to either upload an image or run some code that is supposed to download a file, I receive the following error in my browser (Firefox) console:\r\n\r\n&gt; Cross-Origin Request Blocked: The Same Origin Policy disallows reading\r\n&gt; the remote resource at http://localhost:8092/report/csv/detail.\r\n&gt; (Reason: CORS request did not succeed).\r\n\r\nThe controller endpoint (Java):\r\n\r\n    @RequestMapping(&quot;/csv/detail&quot;)\r\n    public ResponseEntity&lt;?&gt; getDetailedCSV(@RequestBody ReportRequestDTO dto) {\r\n    \tHttpHeaders headers = new HttpHeaders();\r\n    \tbyte[] contents;\r\n    \ttry {\r\n    \t\tcontents = IOUtils.toByteArray(new FileInputStream(reportService.getPDFSummary((dto))));\r\n    \t\theaders.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\r\n    \t\theaders.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n    \t\tResponseEntity&lt;byte[]&gt; response = new ResponseEntity&lt;byte[]&gt;(contents, headers, HttpStatus.OK);\r\n    \t\treturn response;\r\n    \t} catch (FileNotFoundException ex) {\r\n    \t\treturn new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t} catch (IOException ex) {\r\n    \t\treturn new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \r\n    \t}\r\n    }\r\n\r\nThe getPDFSummary method:\r\n\r\n    @Override\r\n    public String getPDFSummary(ReportRequestDTO req) {\r\n    \tString outputName = outDir + UUID.randomUUID().toString() + &quot;.pdf&quot;;\r\n    \tList&lt;SummaryReport&gt; rows = new ArrayList&lt;&gt;();\r\n    \r\n    \tif (req.getStatusType() == ReportStatus.ALL) {\r\n    \t\trows = summaryRepo.getSummaryReportAllStatus(req.getPropertyIDs(), req.getItemIDs(), req.getStart(),\r\n    \t\t\t\treq.getEnd());\r\n    \t} else {\r\n    \t\tboolean isOpen = req.getStatusType() == ReportStatus.OPEN;\r\n    \t\trows = summaryRepo.getSummaryReport(isOpen, req.getPropertyIDs(), req.getItemIDs(), req.getStart(),\r\n    \t\t\t\treq.getEnd());\r\n    \t}\r\n    \r\n    \tString html = convertRepsToHtml(rows);\r\n    \tPdfConverterExtension.exportToPdf(outputName, html, &quot;&quot;, options);\r\n    \treturn outputName;\r\n    }\r\n\r\n\r\nThis Angular service that contacts the Spring Boot application:\r\n\r\n    @Injectable()\r\n    export class ReportService {\r\n      private baseEndpoint: String = &#39;http://localhost:8092&#39;;\r\n      constructor(private http: HttpClient) {}\r\n    \r\n      public getReport(req: ReportRequestModel): Observable&lt;Blob&gt; {\r\n        return this.http.post(\r\n          `${this.baseEndpoint}/report/${req.exportType}`,\r\n          req,\r\n          { responseType: &#39;blob&#39; }\r\n        );\r\n      }\r\n    }\r\n\r\nWhile I have encountered similar issues before, I had assumed the CORSFilter in my Java code would have prevented the error. What am I missing?\r\n","title":"Cross-Origin Request blocked only when file uploads/downloads are involved","body":"<p>I have an Angular application that makes a request to a Spring Boot RESTful API. I have, for development purposes, set a very loose CORS policy in my Spring Boot (please note, to any reading this and potentially copying or pasting, these are not meant to be secure production values).</p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class SimpleCORSFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletResponse response = (HttpServletResponse) res;\n        HttpServletRequest request = (HttpServletRequest) req;\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE, PATCH&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;,\n                &quot;Origin, X-Requested-With, Content-Type, Accept, xsrf-token, authorization&quot;);\n\n        response.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Location&quot;);\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;xsrf-token&quot;);\n\n        if (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\n            response.setStatus(HttpServletResponse.SC_OK);\n        } else {\n            chain.doFilter(req, res);\n        }\n    }\n</code></pre>\n<p>A <code>@Configuration</code> class that consumes it:</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Autowired\n    private SimpleCORSFilter corsFilter;\n\n    @Bean\n    @Override\n    protected AuthenticationManager authenticationManager() throws Exception {\n        return super.authenticationManager();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.addFilterBefore(corsFilter, ChannelProcessingFilter.class).authorizeRequests().antMatchers(&quot;/admin/**&quot;)\n                .hasAnyAuthority(&quot;ROLE_ADMIN&quot;).antMatchers(HttpMethod.GET, &quot;/public&quot;).permitAll().and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().httpBasic()\n                .realmName(&quot;test&quot;).and().csrf().disable();\n\n    }\n}\n</code></pre>\n<p>Typically, the communication between the apps works just find. I can retrieve and post JSON data without issue. However, whenever I attempt to either upload an image or run some code that is supposed to download a file, I receive the following error in my browser (Firefox) console:</p>\n<blockquote>\n<p>Cross-Origin Request Blocked: The Same Origin Policy disallows reading\nthe remote resource at http://localhost:8092/report/csv/detail.\n(Reason: CORS request did not succeed).</p>\n</blockquote>\n<p>The controller endpoint (Java):</p>\n<pre><code>@RequestMapping(&quot;/csv/detail&quot;)\npublic ResponseEntity&lt;?&gt; getDetailedCSV(@RequestBody ReportRequestDTO dto) {\n    HttpHeaders headers = new HttpHeaders();\n    byte[] contents;\n    try {\n        contents = IOUtils.toByteArray(new FileInputStream(reportService.getPDFSummary((dto))));\n        headers.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\n        headers.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\n        ResponseEntity&lt;byte[]&gt; response = new ResponseEntity&lt;byte[]&gt;(contents, headers, HttpStatus.OK);\n        return response;\n    } catch (FileNotFoundException ex) {\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n    } catch (IOException ex) {\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n\n    }\n}\n</code></pre>\n<p>The getPDFSummary method:</p>\n<pre><code>@Override\npublic String getPDFSummary(ReportRequestDTO req) {\n    String outputName = outDir + UUID.randomUUID().toString() + &quot;.pdf&quot;;\n    List&lt;SummaryReport&gt; rows = new ArrayList&lt;&gt;();\n\n    if (req.getStatusType() == ReportStatus.ALL) {\n        rows = summaryRepo.getSummaryReportAllStatus(req.getPropertyIDs(), req.getItemIDs(), req.getStart(),\n                req.getEnd());\n    } else {\n        boolean isOpen = req.getStatusType() == ReportStatus.OPEN;\n        rows = summaryRepo.getSummaryReport(isOpen, req.getPropertyIDs(), req.getItemIDs(), req.getStart(),\n                req.getEnd());\n    }\n\n    String html = convertRepsToHtml(rows);\n    PdfConverterExtension.exportToPdf(outputName, html, &quot;&quot;, options);\n    return outputName;\n}\n</code></pre>\n<p>This Angular service that contacts the Spring Boot application:</p>\n<pre><code>@Injectable()\nexport class ReportService {\n  private baseEndpoint: String = 'http://localhost:8092';\n  constructor(private http: HttpClient) {}\n\n  public getReport(req: ReportRequestModel): Observable&lt;Blob&gt; {\n    return this.http.post(\n      `${this.baseEndpoint}/report/${req.exportType}`,\n      req,\n      { responseType: 'blob' }\n    );\n  }\n}\n</code></pre>\n<p>While I have encountered similar issues before, I had assumed the CORSFilter in my Java code would have prevented the error. What am I missing?</p>\n"},{"tags":["java","eclipse","arraylist"],"answers":[{"tags":[],"owner":{"account_id":25573860,"reputation":21,"user_id":19353744,"display_name":"Ravindu Sasanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680791056,"creation_date":1680790857,"answer_id":75950617,"question_id":75948075,"body_markdown":"The problem with the source code is that it&#39;s storing all the grades for every discipline in a single list (```disciplineGrades```). Therefore, when calculating the average, it&#39;s using the sum of all grades instead of the sum of grades for the specific discipline.\r\n\r\nTo solve this problem, you need to create a list of lists to store the grades for each discipline separately. You can modify the code as follows:\r\n\r\n    package graduation;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    public class GraduationGrade {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; disciplines = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;Integer&gt;&gt; disciplineGrades = new ArrayList&lt;&gt;();\r\n            List&lt;Integer&gt; disciplineAverages = new ArrayList&lt;&gt;();\r\n    \r\n            while(true) {\r\n                System.out.println(&quot;Please enter a discipline or type EXIT&quot;);\r\n                Scanner sc = new Scanner(System.in);\r\n                String discipline = sc.next();\r\n    \r\n                if(discipline.equals(&quot;EXIT&quot;)) {\r\n                    System.out.println(&quot;    DISCIPLINE      GRADES          AVERAGE &quot;);\r\n                    for (int j = 0; j &lt; disciplines.size(); j++) {\r\n                        List&lt;Integer&gt; grades = disciplineGrades.get(j);\r\n                        int sum = grades.stream().mapToInt(Integer::intValue).sum();\r\n                        int average = sum / grades.size();\r\n                        System.out.println((j + 1) + &quot;      &quot; + disciplines.get(j) + &quot;       &quot; + grades.toString() + &quot;         &quot; + average);\r\n                    }\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;Please enter how many grades do you have for &quot; + discipline);\r\n                    sc = new Scanner(System.in);\r\n                    int gradeNumbers = sc.nextInt();\r\n    \r\n                    List&lt;Integer&gt; grades = new ArrayList&lt;&gt;();\r\n                    for (int i = 0; i &lt; gradeNumbers; i++) {\r\n                        System.out.println(&quot;Please enter your grade for &quot; + discipline + &quot; (between 4 and 10)&quot;);\r\n                        sc = new Scanner(System.in);\r\n                        int grade = sc.nextInt();\r\n                        grades.add(grade);\r\n                    }\r\n    \r\n                    disciplines.add(discipline);\r\n                    disciplineGrades.add(grades);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis code creates a ```List&lt;List&lt;Integer&gt;&gt;``` called ```disciplineGrades``` to hold the grades for each discipline. When a new discipline is added, a new empty list of grades is created and added to ```disciplineGrades```. Then, when the user enters grades for that discipline, those grades are added to the corresponding list in ```disciplineGrades```.\r\n\r\nWhen the program is done accepting input, the average grade for each discipline is calculated by iterating over the ```disciplineGrades``` list, summing the grades for each discipline, and dividing by the number of grades. The averages are stored in a separate ```List&lt;Integer&gt;``` called ```disciplineAverages```.\r\n\r\nFinally, when the user enters &quot;EXIT&quot;, the program prints out the table of disciplines, grades, and averages by iterating over the ```disciplines```, ```disciplineGrades```, and ```disciplineAverages``` lists, retrieving the corresponding values for each discipline, and printing them out in the desired format.\r\n\r\nThe final output would be as follows.\r\n\r\n    Please enter a discipline or type EXIT\r\n    Math\r\n    Please enter how many grades do you have for Math\r\n    4\r\n    Please enter your grade for Math (between 4 and 10)\r\n    4\r\n    Please enter your grade for Math (between 4 and 10)\r\n    5\r\n    Please enter your grade for Math (between 4 and 10)\r\n    6\r\n    Please enter your grade for Math (between 4 and 10)\r\n    7\r\n    Please enter a discipline or type EXIT\r\n    Biology\r\n    Please enter how many grades do you have for Biology\r\n    10\r\n    Please enter your grade for Biology (between 4 and 10)\r\n    4\r\n    Please enter your grade for Biology (between 4 and 10)\r\n    5\r\n    Please enter your grade for Biology (between 4 and 10)\r\n    6\r\n    Please enter your grade for Biology (between 4 and 10)\r\n    7\r\n    Please enter your grade for Biology (between 4 and 10)\r\n    8\r\n    Please enter your grade for Biology (between 4 and 10)\r\n    9\r\n    Please enter your grade for Biology (between 4 and 10)\r\n    4\r\n    Please enter your grade for Biology (between 4 and 10)\r\n    5\r\n    Please enter your grade for Biology (between 4 and 10)\r\n    6\r\n    Please enter your grade for Biology (between 4 and 10)\r\n    7\r\n    Please enter a discipline or type EXIT\r\n    EXIT\r\n        DISCIPLINE      GRADES          AVERAGE \r\n    1      Math       [4, 5, 6, 7]         5\r\n    2      Biology       [4, 5, 6, 7, 8, 9, 4, 5, 6, 7]         6\r\n\r\n","title":"How to create a new list for every scanned discipline in Java in Eclipse","body":"<p>The problem with the source code is that it's storing all the grades for every discipline in a single list (<code>disciplineGrades</code>). Therefore, when calculating the average, it's using the sum of all grades instead of the sum of grades for the specific discipline.</p>\n<p>To solve this problem, you need to create a list of lists to store the grades for each discipline separately. You can modify the code as follows:</p>\n<pre><code>package graduation;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class GraduationGrade {\n\n    public static void main(String[] args) {\n        List&lt;String&gt; disciplines = new ArrayList&lt;&gt;();\n        List&lt;List&lt;Integer&gt;&gt; disciplineGrades = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; disciplineAverages = new ArrayList&lt;&gt;();\n\n        while(true) {\n            System.out.println(&quot;Please enter a discipline or type EXIT&quot;);\n            Scanner sc = new Scanner(System.in);\n            String discipline = sc.next();\n\n            if(discipline.equals(&quot;EXIT&quot;)) {\n                System.out.println(&quot;    DISCIPLINE      GRADES          AVERAGE &quot;);\n                for (int j = 0; j &lt; disciplines.size(); j++) {\n                    List&lt;Integer&gt; grades = disciplineGrades.get(j);\n                    int sum = grades.stream().mapToInt(Integer::intValue).sum();\n                    int average = sum / grades.size();\n                    System.out.println((j + 1) + &quot;      &quot; + disciplines.get(j) + &quot;       &quot; + grades.toString() + &quot;         &quot; + average);\n                }\n                break;\n            } else {\n                System.out.println(&quot;Please enter how many grades do you have for &quot; + discipline);\n                sc = new Scanner(System.in);\n                int gradeNumbers = sc.nextInt();\n\n                List&lt;Integer&gt; grades = new ArrayList&lt;&gt;();\n                for (int i = 0; i &lt; gradeNumbers; i++) {\n                    System.out.println(&quot;Please enter your grade for &quot; + discipline + &quot; (between 4 and 10)&quot;);\n                    sc = new Scanner(System.in);\n                    int grade = sc.nextInt();\n                    grades.add(grade);\n                }\n\n                disciplines.add(discipline);\n                disciplineGrades.add(grades);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This code creates a <code>List&lt;List&lt;Integer&gt;&gt;</code> called <code>disciplineGrades</code> to hold the grades for each discipline. When a new discipline is added, a new empty list of grades is created and added to <code>disciplineGrades</code>. Then, when the user enters grades for that discipline, those grades are added to the corresponding list in <code>disciplineGrades</code>.</p>\n<p>When the program is done accepting input, the average grade for each discipline is calculated by iterating over the <code>disciplineGrades</code> list, summing the grades for each discipline, and dividing by the number of grades. The averages are stored in a separate <code>List&lt;Integer&gt;</code> called <code>disciplineAverages</code>.</p>\n<p>Finally, when the user enters &quot;EXIT&quot;, the program prints out the table of disciplines, grades, and averages by iterating over the <code>disciplines</code>, <code>disciplineGrades</code>, and <code>disciplineAverages</code> lists, retrieving the corresponding values for each discipline, and printing them out in the desired format.</p>\n<p>The final output would be as follows.</p>\n<pre><code>Please enter a discipline or type EXIT\nMath\nPlease enter how many grades do you have for Math\n4\nPlease enter your grade for Math (between 4 and 10)\n4\nPlease enter your grade for Math (between 4 and 10)\n5\nPlease enter your grade for Math (between 4 and 10)\n6\nPlease enter your grade for Math (between 4 and 10)\n7\nPlease enter a discipline or type EXIT\nBiology\nPlease enter how many grades do you have for Biology\n10\nPlease enter your grade for Biology (between 4 and 10)\n4\nPlease enter your grade for Biology (between 4 and 10)\n5\nPlease enter your grade for Biology (between 4 and 10)\n6\nPlease enter your grade for Biology (between 4 and 10)\n7\nPlease enter your grade for Biology (between 4 and 10)\n8\nPlease enter your grade for Biology (between 4 and 10)\n9\nPlease enter your grade for Biology (between 4 and 10)\n4\nPlease enter your grade for Biology (between 4 and 10)\n5\nPlease enter your grade for Biology (between 4 and 10)\n6\nPlease enter your grade for Biology (between 4 and 10)\n7\nPlease enter a discipline or type EXIT\nEXIT\n    DISCIPLINE      GRADES          AVERAGE \n1      Math       [4, 5, 6, 7]         5\n2      Biology       [4, 5, 6, 7, 8, 9, 4, 5, 6, 7]         6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680877252,"creation_date":1680877252,"answer_id":75959270,"question_id":75948075,"body_markdown":"First off, don&#39;t place the Scanner declaration into the `while` loop. Upon each `while` loop iteration, you are declaring a new Scanner object. You only need the one Scanner, so declare it in the members area so that it can be used globally throughout the entire class. You are also declaring a new Scanner for ever prompt (`sc = new Scanner(System.in);`)... try not to do that.\r\n\r\nInstead of using a bunch of Lists, use one List of Discipline (`List&lt;Discipline&gt;`). Create a **Discipline** object class instead and use that for your **one** List.\r\n\r\nIt&#39;s also a good idea to validate a User&#39;s entry within all prompts to that User so as not to encounter any errors down the road. You will notice in the supplied runnable code, I like to only use the [Scanner#nextLine()](https://www.tutorialspoint.com/java/util/scanner_nextline.htm) method for all alpha, numerical, or alphanumerical entry prompts. This however, is a personal choice since I find it to be the most flexible and I don&#39;t need to utilize *Try/Catch* mechanisms for prompt validations. \r\n\r\nThe runnable code below makes use of a Discipline class. Although in the demo code below, it is an *inner class*, it should really be a **.java** class file of its own. Here is the runnable code. Be sure to read all the comments in code. If you like, You can delete those comments when you are done with them since too many comments can be rather obtrusive.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class GraduationGrade {\r\n    \r\n    // Member variables:\r\n    // OS related newline character sequence.\r\n    private final String ls = System.lineSeparator();\r\n    \r\n    /* Open a keyboard input Stream. Do not close. The JVM\r\n       will close this resource automatically when the app\r\n       closes.                     */\r\n    private final Scanner userInput = new Scanner(System.in);\r\n    \r\n    /* List of available school courses that can be entered by \r\n       the User. This is used for Discipline entry validation.\r\n       Any courses can be added or removed from this list.  */\r\n    private final List&lt;String&gt; coursesList = Arrays.asList(\r\n            &quot;English&quot;, &quot;Math&quot;, &quot;Art&quot;, &quot;Science&quot;, &quot;History&quot;, &quot;Music&quot;,\r\n            &quot;Geography&quot;, &quot;P.E.&quot;, &quot;Drama&quot;, &quot;Biology&quot;, &quot;Chemistry&quot;,\r\n            &quot;Physics&quot;, &quot;I.T.&quot;, &quot;Foreign Languages&quot;, &quot;Social Studies&quot;, \r\n            &quot;Technology&quot;, &quot;Philosophy&quot;, &quot;Graphic Design&quot;, &quot;Literature&quot;,\r\n            &quot;Algebra&quot;, &quot;Geometry&quot;\r\n        );\r\n    \r\n    \r\n    // Application start entry point method:\r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need for statics\r\n           except where desired.        */\r\n        new GraduationGrade().StartApp(args);  // See the `startApp()` method.\r\n    }\r\n\r\n    private void StartApp(String[] args) {\r\n        /* List Interface of Discipline (List&lt;Discipline&gt;) to hold all \r\n           instances of created disciplines.        */\r\n        List&lt;Discipline&gt; disciplinesList = new ArrayList&lt;&gt;();\r\n        \r\n        // Variable to hold Discipline Number (ID):\r\n        int idx = 0;\r\n        \r\n        // Variable to hold current discipline name (Math, Art, Biology, etc):\r\n        String discipline;\r\n\r\n        // Main Outer `while` loop (enter &#39;e&#39; to print table and exit this loop:\r\n        while (true) {\r\n            discipline = &quot;&quot;; // Initialize `discipline` to hold Null String:\r\n            \r\n            // Prompt for Discipline Name (Math, Art, Biology, etc):\r\n            while (discipline.isEmpty()) {\r\n                System.out.print(&quot;Please enter a Discipline (e to exit): -&gt; &quot;);\r\n                discipline = userInput.nextLine().trim();  // Get User input:\r\n                \r\n                // Validate Input...\r\n                boolean haveIt = false; // Flag\r\n\r\n                /* Check User supplied discipline name with what is contained\r\n                   within the `coursesList` List:          */\r\n                for (String course : coursesList) {\r\n                    // If the discipline name exist in List then...\r\n                    if (discipline.equalsIgnoreCase(course)) {\r\n                        haveIt = true;       // set flag to boolean true\r\n                        /* Set `discipline` to what it&#39;s named within the\r\n                           `coursesList` List. It will be assumed that the\r\n                           `coursesList` will contain proper letter case\r\n                           for the discipline at hand.                  */\r\n                        discipline = course;  \r\n                        break; // Since found, break out of this `for` loop.\r\n                    }\r\n                }\r\n                \r\n                /* If the provided discipline name does not exist and\r\n                   the provided discipline name is not the letter &#39;e&#39;\r\n                   inform of invalid entry and permit the User to view\r\n                   all available courses that can be entered.      */\r\n                if (!haveIt &amp;&amp; !discipline.equalsIgnoreCase(&quot;e&quot;)) {\r\n                    System.out.println(&quot;Invalid Discipline Entry (&quot; + discipline + &quot;)! Not In Course List!&quot;);\r\n                    String listIt = &quot;&quot;;\r\n                    while (listIt.isEmpty()) {\r\n                        System.out.print(&quot;Enter &#39;List&#39; to see course list or just ENTER to skip: -&gt; &quot;);\r\n                        listIt = userInput.nextLine().trim();  // Get User input:\r\n                        if (listIt.isEmpty()) {\r\n                            break;\r\n                        }\r\n                        else if (listIt.equalsIgnoreCase(&quot;list&quot;)) {\r\n                            /* Display the available Courses that can be entered as a\r\n                               four column sorted list within the console window:  */\r\n                            System.out.println();\r\n                            System.out.println(&quot;Available Courses:&quot; + ls + &quot;==================&quot;);\r\n                            Collections.sort(coursesList);\r\n                            int cnt = 0;\r\n                            for (String clst : coursesList) {\r\n                                System.out.printf(&quot;%-20s&quot;, clst);\r\n                                cnt++;\r\n                                if (cnt == 4) {\r\n                                    System.out.println();\r\n                                    cnt = 0;\r\n                                }\r\n                            }\r\n                            System.out.println(ls);\r\n                        }\r\n                        else {\r\n                            // Otherwise just indicate an Invalid Entry and allow User to try again:\r\n                            System.out.println(&quot;Invalid Entry (&quot; + listIt + &quot;)! Try again...&quot; + ls);\r\n                            listIt = &quot;&quot;; // Empty `listIt` to ensure re-loop.\r\n                        }\r\n                    }\r\n                    discipline = &quot;&quot;; // Empty `discipline` to ensure re-loop.\r\n                }\r\n            }\r\n            \r\n            // If the code makes this far, then validation passed!\r\n            // Was &#39;e&#39; Entered?\r\n            if (discipline.equalsIgnoreCase(&quot;e&quot;)) {\r\n                // Yes...it was:\r\n                // Display the List of Discipline to the Console Window:\r\n                System.out.println();\r\n                for (int d = 0; d &lt; disciplinesList.size(); d++) {\r\n                    if (d == 0) {\r\n                        System.out.println(disciplinesList.get(d).toTableString(true));\r\n                    }\r\n                    else{\r\n                        System.out.println(disciplinesList.get(d).toTableString());\r\n                    }\r\n                }\r\n                break; // This break will effectively end the application.\r\n            }\r\n            \r\n            // Otherwise, move onto next application Prompt:\r\n            // The Number of Grades for currently supplied Discipline:\r\n            else {\r\n                // PROMPT: Number of grades for supplied Discipline:\r\n                String numOfGrades = &quot;&quot;; // For prompt use\r\n                while (numOfGrades.isEmpty()) {\r\n                    System.out.print(&quot;Please enter how many grades do you have for &#39;&quot;\r\n                            + discipline + &quot;&#39;: -&gt; &quot;);\r\n                    numOfGrades = userInput.nextLine().trim();  // Get User input:\r\n                    // Validate Input...\r\n                    /* Is the User input a string representation of a unsigned\r\n                       integer value and is that value greater than 0?     */\r\n                    if (!numOfGrades.matches(&quot;\\\\d+&quot;) &amp;&amp; Integer.parseInt(numOfGrades) &gt; 0) {\r\n                        // No...Inform User of invalid entry and allow to try again:\r\n                        System.out.println(&quot;Invalid Entry (&quot; + numOfGrades + &quot;)! Try Again...&quot; + ls);\r\n                        numOfGrades = &quot;&quot;;   // Empty `numOfGrades` to ensure re-loop.\r\n                    }\r\n                }\r\n                \r\n                // If the code makes this far, then validation passed!\r\n                // Convert `numOfGrades` into an int type value:\r\n                int numberOfGrades = Integer.parseInt(numOfGrades);\r\n                System.out.println();\r\n                \r\n                /* Declare a List Interface of Integer (List&lt;Integer&gt;) so \r\n                   to hold all the grades that will be entered for the \r\n                   supplied Discipline. This list will later be converted\r\n                   to an int[] array so that it can be properly applied \r\n                   later to a Discipline instance.                */\r\n                List&lt;Integer&gt; gradeList = new ArrayList&lt;&gt;();\r\n                \r\n                // PROMPT: Cycling prompt for Grades entry:\r\n                int j = 1; // Counter used to keep track of the number of grades entered.\r\n                // Outer loop to ensure the proper number of grades are supplied.\r\n                while (j &lt;= numberOfGrades) {\r\n                    String grd = &quot;&quot;; // variable used for prompt input:\r\n                    while (grd.isEmpty()) {\r\n                        System.out.print(&quot;Please enter your grade #&quot; + j + &quot; for &quot;\r\n                                        + discipline + &quot; (between 4 and 10): -&gt; &quot;);\r\n                        grd = userInput.nextLine().trim();  // Get User input:\r\n                        \r\n                        /* Is the User input a string representation of a signed\r\n                           or unsigned integer value and is that value inclusively \r\n                           between 4 qnd 10?     */\r\n                        if (!grd.matches(&quot;-?\\\\d+&quot;) &amp;&amp; (Integer.parseInt(grd) &lt; 4 || Integer.parseInt(grd) &gt; 10)) {\r\n                            // No...Inform User and allow to try again:\r\n                            System.out.println(&quot;Invalid Grade Entry (&quot; + grd + &quot;)! Try Again...&quot; + ls);\r\n                            grd = &quot;&quot;;   // Empty `grd` to ensure re-loop.\r\n                        }\r\n                    }\r\n                    \r\n                    // If the code makes this far, then validation passed!\r\n                    // Convert `grd` into an int type value:\r\n                    gradeList.add(Integer.valueOf(grd));\r\n                    j++;  // Increment the number of grades tracker variable.\r\n                }\r\n                \r\n                // Convert List&lt;Integer&gt; to int[] array:\r\n                int[] grades = gradeList.stream().mapToInt(d -&gt; d).toArray();\r\n                \r\n                /* Sum the supplied grades for the supplied Discipline \r\n                   contained within the `gradesList` List:          */\r\n                double sum = gradeList.stream().mapToInt(Integer::intValue).sum();\r\n                \r\n                // Get the average for those supplied grades:\r\n                double average = sum / numberOfGrades;\r\n\r\n                // Create an instance of Discipline and add it to the List:\r\n                disciplinesList.add(new Discipline((idx + 1), discipline, grades, average));\r\n            }\r\n            System.out.println();\r\n            idx++;  // Increment the Discipline number:\r\n        }\r\n    }\r\n\r\n    /* INNER CLASS:\r\n       Used this way for demo purpose. Although this works, it\r\n       would be better if it were a .java class file of it&#39;s own: */\r\n    public class Discipline {\r\n        // Member variables:\r\n        private int disciplineID;\r\n        private String disciplineName;\r\n        private int[] grades;\r\n        private double gradesAverage;\r\n\r\n        // Constructor\r\n        public Discipline(int disciplineID, String disciplineName, int[] grades, double gradesAverage) {\r\n            this.disciplineID = disciplineID;\r\n            this.disciplineName = disciplineName;\r\n            this.grades = grades;\r\n            this.gradesAverage = gradesAverage;\r\n        }\r\n\r\n        // Getters and Setters:\r\n        public int getDisciplineID() {\r\n            return disciplineID;\r\n        }\r\n\r\n        public void setDisciplineID(int disciplineID) {\r\n            this.disciplineID = disciplineID;\r\n        }\r\n\r\n        public String getDisciplineName() {\r\n            return disciplineName;\r\n        }\r\n\r\n        public void setDisciplineName(String disciplineName) {\r\n            this.disciplineName = disciplineName;\r\n        }\r\n\r\n        public int[] getGrades() {\r\n            return grades;\r\n        }\r\n\r\n        public void setGrades(int[] grades) {\r\n            this.grades = grades;\r\n        }\r\n\r\n        public double getGradesAverage() {\r\n            return gradesAverage;\r\n        }\r\n\r\n        public void setGradesAverage(double gradesAverage) {\r\n            this.gradesAverage = gradesAverage;\r\n        }\r\n\r\n        /**\r\n         * A custom toString() type method for returning Table spaced strings \r\n         * of instance data.\r\n         * \r\n         * @param applyTheHeader (boolean - Optional - Default is false) If \r\n         * set to boolean true then this method will return a lined header \r\n         * with the table spaced instance data. This would only ever be \r\n         * supplied for the first call to this method unless you want the \r\n         * header to be applied to each line of instance data returned. if \r\n         * nothing is supplied then boolean false is implied.\r\n         * \r\n         * @return (String)\r\n         */\r\n        public String toTableString(boolean...applyTheHeader) {\r\n            boolean applyHeader = false;\r\n            if (applyTheHeader.length &gt; 0) {\r\n                applyHeader = applyTheHeader[0];\r\n            }\r\n            String header = String.format(&quot;%-24s %-24s %-6s%n&quot;,&quot;DISCIPLINE&quot;, &quot;GRADES&quot;, &quot;AVERAGE&quot;);\r\n            String tableTopLine = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length() - 2, &quot;=&quot;)) + ls;\r\n            String headerUnderline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length() - 2, &quot;-&quot;)) + ls;\r\n            \r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            if(applyHeader) {\r\n                sb.append(tableTopLine).append(header).append(headerUnderline);\r\n            }\r\n            String id = String.valueOf(this.getDisciplineID());\r\n            String dis = String.format(&quot;%-4s%-12s&quot;, id, disciplineName);\r\n            StringBuilder sb2 = new StringBuilder(&quot;&quot;);\r\n            for (Integer n : grades) {\r\n                if (!sb2.toString().isEmpty()) {\r\n                    sb2.append(&quot;, &quot;);\r\n                }\r\n                sb2.append(n);\r\n            }\r\n            String gradesStrg = sb2.toString();\r\n            String average = String.format(&quot;%.2f&quot;, gradesAverage);\r\n            String dataLine = String.format(&quot;%-24s %-24s %-22s&quot;, dis, gradesStrg, average);\r\n            sb.append(dataLine);\r\n            return sb.toString();\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return disciplineID + &quot;; &quot; + disciplineName + &quot;; &quot; \r\n                    + Arrays.toString(grades).replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;) + &quot;; &quot; + gradesAverage;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen running this code, entries could look like....\r\n\r\n```\r\nPlease enter a Discipline (e to exit): -&gt; Forign Languages\r\nInvalid Discipline Entry (Forign Languages)! Not In Course List!\r\nEnter &#39;List&#39; to see course list or just ENTER to skip: -&gt; list\r\n\r\nAvailable Courses:\r\n==================\r\nAlgebra             Art                 Biology             Chemistry           \r\nDrama               English             Foreign Languages   Geography           \r\nGeometry            Graphic Design      History             I.T.                \r\nLiterature          Math                Music               P.E.                \r\nPhilosophy          Physics             Science             Social Studies      \r\nTechnology          \r\n\r\nPlease enter a Discipline (e to exit): -&gt; Foreign Languages\r\nPlease enter how many grades do you have for &#39;Foreign Languages&#39;: -&gt; 4\r\n\r\nPlease enter your grade #1 for Foreign Languages (between 4 and 10): -&gt; 4\r\nPlease enter your grade #2 for Foreign Languages (between 4 and 10): -&gt; 5\r\nPlease enter your grade #3 for Foreign Languages (between 4 and 10): -&gt; 6\r\nPlease enter your grade #4 for Foreign Languages (between 4 and 10): -&gt; 7\r\n\r\nPlease enter a Discipline (e to exit): -&gt; Music\r\nPlease enter how many grades do you have for &#39;Music&#39;: -&gt; 3\r\n\r\nPlease enter your grade #1 for Music (between 4 and 10): -&gt; 7\r\nPlease enter your grade #2 for Music (between 4 and 10): -&gt; 8\r\nPlease enter your grade #3 for Music (between 4 and 10): -&gt; 9\r\n\r\nPlease enter a Discipline (e to exit): -&gt; Biology\r\nPlease enter how many grades do you have for &#39;Biology&#39;: -&gt; 5\r\n\r\nPlease enter your grade #1 for Biology (between 4 and 10): -&gt; 5\r\nPlease enter your grade #2 for Biology (between 4 and 10): -&gt; 6\r\nPlease enter your grade #3 for Biology (between 4 and 10): -&gt; 7\r\nPlease enter your grade #4 for Biology (between 4 and 10): -&gt; 8\r\nPlease enter your grade #5 for Biology (between 4 and 10): -&gt; 9\r\n\r\nPlease enter a Discipline (e to exit): -&gt; e\r\n\r\n=========================================================\r\nDISCIPLINE               GRADES                   AVERAGE\r\n---------------------------------------------------------\r\n1   Foreign Languages    4, 5, 6, 7               5.50                  \r\n2   Music                7, 8, 9                  8.00                  \r\n3   Biology              5, 6, 7, 8, 9            7.00                  \r\n```","title":"How to create a new list for every scanned discipline in Java in Eclipse","body":"<p>First off, don't place the Scanner declaration into the <code>while</code> loop. Upon each <code>while</code> loop iteration, you are declaring a new Scanner object. You only need the one Scanner, so declare it in the members area so that it can be used globally throughout the entire class. You are also declaring a new Scanner for ever prompt (<code>sc = new Scanner(System.in);</code>)... try not to do that.</p>\n<p>Instead of using a bunch of Lists, use one List of Discipline (<code>List&lt;Discipline&gt;</code>). Create a <strong>Discipline</strong> object class instead and use that for your <strong>one</strong> List.</p>\n<p>It's also a good idea to validate a User's entry within all prompts to that User so as not to encounter any errors down the road. You will notice in the supplied runnable code, I like to only use the <a href=\"https://www.tutorialspoint.com/java/util/scanner_nextline.htm\" rel=\"nofollow noreferrer\">Scanner#nextLine()</a> method for all alpha, numerical, or alphanumerical entry prompts. This however, is a personal choice since I find it to be the most flexible and I don't need to utilize <em>Try/Catch</em> mechanisms for prompt validations.</p>\n<p>The runnable code below makes use of a Discipline class. Although in the demo code below, it is an <em>inner class</em>, it should really be a <strong>.java</strong> class file of its own. Here is the runnable code. Be sure to read all the comments in code. If you like, You can delete those comments when you are done with them since too many comments can be rather obtrusive.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class GraduationGrade {\n    \n    // Member variables:\n    // OS related newline character sequence.\n    private final String ls = System.lineSeparator();\n    \n    /* Open a keyboard input Stream. Do not close. The JVM\n       will close this resource automatically when the app\n       closes.                     */\n    private final Scanner userInput = new Scanner(System.in);\n    \n    /* List of available school courses that can be entered by \n       the User. This is used for Discipline entry validation.\n       Any courses can be added or removed from this list.  */\n    private final List&lt;String&gt; coursesList = Arrays.asList(\n            &quot;English&quot;, &quot;Math&quot;, &quot;Art&quot;, &quot;Science&quot;, &quot;History&quot;, &quot;Music&quot;,\n            &quot;Geography&quot;, &quot;P.E.&quot;, &quot;Drama&quot;, &quot;Biology&quot;, &quot;Chemistry&quot;,\n            &quot;Physics&quot;, &quot;I.T.&quot;, &quot;Foreign Languages&quot;, &quot;Social Studies&quot;, \n            &quot;Technology&quot;, &quot;Philosophy&quot;, &quot;Graphic Design&quot;, &quot;Literature&quot;,\n            &quot;Algebra&quot;, &quot;Geometry&quot;\n        );\n    \n    \n    // Application start entry point method:\n    public static void main(String[] args) {\n        /* App started this way to avoid the need for statics\n           except where desired.        */\n        new GraduationGrade().StartApp(args);  // See the `startApp()` method.\n    }\n\n    private void StartApp(String[] args) {\n        /* List Interface of Discipline (List&lt;Discipline&gt;) to hold all \n           instances of created disciplines.        */\n        List&lt;Discipline&gt; disciplinesList = new ArrayList&lt;&gt;();\n        \n        // Variable to hold Discipline Number (ID):\n        int idx = 0;\n        \n        // Variable to hold current discipline name (Math, Art, Biology, etc):\n        String discipline;\n\n        // Main Outer `while` loop (enter 'e' to print table and exit this loop:\n        while (true) {\n            discipline = &quot;&quot;; // Initialize `discipline` to hold Null String:\n            \n            // Prompt for Discipline Name (Math, Art, Biology, etc):\n            while (discipline.isEmpty()) {\n                System.out.print(&quot;Please enter a Discipline (e to exit): -&gt; &quot;);\n                discipline = userInput.nextLine().trim();  // Get User input:\n                \n                // Validate Input...\n                boolean haveIt = false; // Flag\n\n                /* Check User supplied discipline name with what is contained\n                   within the `coursesList` List:          */\n                for (String course : coursesList) {\n                    // If the discipline name exist in List then...\n                    if (discipline.equalsIgnoreCase(course)) {\n                        haveIt = true;       // set flag to boolean true\n                        /* Set `discipline` to what it's named within the\n                           `coursesList` List. It will be assumed that the\n                           `coursesList` will contain proper letter case\n                           for the discipline at hand.                  */\n                        discipline = course;  \n                        break; // Since found, break out of this `for` loop.\n                    }\n                }\n                \n                /* If the provided discipline name does not exist and\n                   the provided discipline name is not the letter 'e'\n                   inform of invalid entry and permit the User to view\n                   all available courses that can be entered.      */\n                if (!haveIt &amp;&amp; !discipline.equalsIgnoreCase(&quot;e&quot;)) {\n                    System.out.println(&quot;Invalid Discipline Entry (&quot; + discipline + &quot;)! Not In Course List!&quot;);\n                    String listIt = &quot;&quot;;\n                    while (listIt.isEmpty()) {\n                        System.out.print(&quot;Enter 'List' to see course list or just ENTER to skip: -&gt; &quot;);\n                        listIt = userInput.nextLine().trim();  // Get User input:\n                        if (listIt.isEmpty()) {\n                            break;\n                        }\n                        else if (listIt.equalsIgnoreCase(&quot;list&quot;)) {\n                            /* Display the available Courses that can be entered as a\n                               four column sorted list within the console window:  */\n                            System.out.println();\n                            System.out.println(&quot;Available Courses:&quot; + ls + &quot;==================&quot;);\n                            Collections.sort(coursesList);\n                            int cnt = 0;\n                            for (String clst : coursesList) {\n                                System.out.printf(&quot;%-20s&quot;, clst);\n                                cnt++;\n                                if (cnt == 4) {\n                                    System.out.println();\n                                    cnt = 0;\n                                }\n                            }\n                            System.out.println(ls);\n                        }\n                        else {\n                            // Otherwise just indicate an Invalid Entry and allow User to try again:\n                            System.out.println(&quot;Invalid Entry (&quot; + listIt + &quot;)! Try again...&quot; + ls);\n                            listIt = &quot;&quot;; // Empty `listIt` to ensure re-loop.\n                        }\n                    }\n                    discipline = &quot;&quot;; // Empty `discipline` to ensure re-loop.\n                }\n            }\n            \n            // If the code makes this far, then validation passed!\n            // Was 'e' Entered?\n            if (discipline.equalsIgnoreCase(&quot;e&quot;)) {\n                // Yes...it was:\n                // Display the List of Discipline to the Console Window:\n                System.out.println();\n                for (int d = 0; d &lt; disciplinesList.size(); d++) {\n                    if (d == 0) {\n                        System.out.println(disciplinesList.get(d).toTableString(true));\n                    }\n                    else{\n                        System.out.println(disciplinesList.get(d).toTableString());\n                    }\n                }\n                break; // This break will effectively end the application.\n            }\n            \n            // Otherwise, move onto next application Prompt:\n            // The Number of Grades for currently supplied Discipline:\n            else {\n                // PROMPT: Number of grades for supplied Discipline:\n                String numOfGrades = &quot;&quot;; // For prompt use\n                while (numOfGrades.isEmpty()) {\n                    System.out.print(&quot;Please enter how many grades do you have for '&quot;\n                            + discipline + &quot;': -&gt; &quot;);\n                    numOfGrades = userInput.nextLine().trim();  // Get User input:\n                    // Validate Input...\n                    /* Is the User input a string representation of a unsigned\n                       integer value and is that value greater than 0?     */\n                    if (!numOfGrades.matches(&quot;\\\\d+&quot;) &amp;&amp; Integer.parseInt(numOfGrades) &gt; 0) {\n                        // No...Inform User of invalid entry and allow to try again:\n                        System.out.println(&quot;Invalid Entry (&quot; + numOfGrades + &quot;)! Try Again...&quot; + ls);\n                        numOfGrades = &quot;&quot;;   // Empty `numOfGrades` to ensure re-loop.\n                    }\n                }\n                \n                // If the code makes this far, then validation passed!\n                // Convert `numOfGrades` into an int type value:\n                int numberOfGrades = Integer.parseInt(numOfGrades);\n                System.out.println();\n                \n                /* Declare a List Interface of Integer (List&lt;Integer&gt;) so \n                   to hold all the grades that will be entered for the \n                   supplied Discipline. This list will later be converted\n                   to an int[] array so that it can be properly applied \n                   later to a Discipline instance.                */\n                List&lt;Integer&gt; gradeList = new ArrayList&lt;&gt;();\n                \n                // PROMPT: Cycling prompt for Grades entry:\n                int j = 1; // Counter used to keep track of the number of grades entered.\n                // Outer loop to ensure the proper number of grades are supplied.\n                while (j &lt;= numberOfGrades) {\n                    String grd = &quot;&quot;; // variable used for prompt input:\n                    while (grd.isEmpty()) {\n                        System.out.print(&quot;Please enter your grade #&quot; + j + &quot; for &quot;\n                                        + discipline + &quot; (between 4 and 10): -&gt; &quot;);\n                        grd = userInput.nextLine().trim();  // Get User input:\n                        \n                        /* Is the User input a string representation of a signed\n                           or unsigned integer value and is that value inclusively \n                           between 4 qnd 10?     */\n                        if (!grd.matches(&quot;-?\\\\d+&quot;) &amp;&amp; (Integer.parseInt(grd) &lt; 4 || Integer.parseInt(grd) &gt; 10)) {\n                            // No...Inform User and allow to try again:\n                            System.out.println(&quot;Invalid Grade Entry (&quot; + grd + &quot;)! Try Again...&quot; + ls);\n                            grd = &quot;&quot;;   // Empty `grd` to ensure re-loop.\n                        }\n                    }\n                    \n                    // If the code makes this far, then validation passed!\n                    // Convert `grd` into an int type value:\n                    gradeList.add(Integer.valueOf(grd));\n                    j++;  // Increment the number of grades tracker variable.\n                }\n                \n                // Convert List&lt;Integer&gt; to int[] array:\n                int[] grades = gradeList.stream().mapToInt(d -&gt; d).toArray();\n                \n                /* Sum the supplied grades for the supplied Discipline \n                   contained within the `gradesList` List:          */\n                double sum = gradeList.stream().mapToInt(Integer::intValue).sum();\n                \n                // Get the average for those supplied grades:\n                double average = sum / numberOfGrades;\n\n                // Create an instance of Discipline and add it to the List:\n                disciplinesList.add(new Discipline((idx + 1), discipline, grades, average));\n            }\n            System.out.println();\n            idx++;  // Increment the Discipline number:\n        }\n    }\n\n    /* INNER CLASS:\n       Used this way for demo purpose. Although this works, it\n       would be better if it were a .java class file of it's own: */\n    public class Discipline {\n        // Member variables:\n        private int disciplineID;\n        private String disciplineName;\n        private int[] grades;\n        private double gradesAverage;\n\n        // Constructor\n        public Discipline(int disciplineID, String disciplineName, int[] grades, double gradesAverage) {\n            this.disciplineID = disciplineID;\n            this.disciplineName = disciplineName;\n            this.grades = grades;\n            this.gradesAverage = gradesAverage;\n        }\n\n        // Getters and Setters:\n        public int getDisciplineID() {\n            return disciplineID;\n        }\n\n        public void setDisciplineID(int disciplineID) {\n            this.disciplineID = disciplineID;\n        }\n\n        public String getDisciplineName() {\n            return disciplineName;\n        }\n\n        public void setDisciplineName(String disciplineName) {\n            this.disciplineName = disciplineName;\n        }\n\n        public int[] getGrades() {\n            return grades;\n        }\n\n        public void setGrades(int[] grades) {\n            this.grades = grades;\n        }\n\n        public double getGradesAverage() {\n            return gradesAverage;\n        }\n\n        public void setGradesAverage(double gradesAverage) {\n            this.gradesAverage = gradesAverage;\n        }\n\n        /**\n         * A custom toString() type method for returning Table spaced strings \n         * of instance data.\n         * \n         * @param applyTheHeader (boolean - Optional - Default is false) If \n         * set to boolean true then this method will return a lined header \n         * with the table spaced instance data. This would only ever be \n         * supplied for the first call to this method unless you want the \n         * header to be applied to each line of instance data returned. if \n         * nothing is supplied then boolean false is implied.\n         * \n         * @return (String)\n         */\n        public String toTableString(boolean...applyTheHeader) {\n            boolean applyHeader = false;\n            if (applyTheHeader.length &gt; 0) {\n                applyHeader = applyTheHeader[0];\n            }\n            String header = String.format(&quot;%-24s %-24s %-6s%n&quot;,&quot;DISCIPLINE&quot;, &quot;GRADES&quot;, &quot;AVERAGE&quot;);\n            String tableTopLine = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length() - 2, &quot;=&quot;)) + ls;\n            String headerUnderline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length() - 2, &quot;-&quot;)) + ls;\n            \n            StringBuilder sb = new StringBuilder(&quot;&quot;);\n            if(applyHeader) {\n                sb.append(tableTopLine).append(header).append(headerUnderline);\n            }\n            String id = String.valueOf(this.getDisciplineID());\n            String dis = String.format(&quot;%-4s%-12s&quot;, id, disciplineName);\n            StringBuilder sb2 = new StringBuilder(&quot;&quot;);\n            for (Integer n : grades) {\n                if (!sb2.toString().isEmpty()) {\n                    sb2.append(&quot;, &quot;);\n                }\n                sb2.append(n);\n            }\n            String gradesStrg = sb2.toString();\n            String average = String.format(&quot;%.2f&quot;, gradesAverage);\n            String dataLine = String.format(&quot;%-24s %-24s %-22s&quot;, dis, gradesStrg, average);\n            sb.append(dataLine);\n            return sb.toString();\n        }\n        \n        @Override\n        public String toString() {\n            return disciplineID + &quot;; &quot; + disciplineName + &quot;; &quot; \n                    + Arrays.toString(grades).replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;) + &quot;; &quot; + gradesAverage;\n        }\n    }\n}\n</code></pre>\n<p>When running this code, entries could look like....</p>\n<pre><code>Please enter a Discipline (e to exit): -&gt; Forign Languages\nInvalid Discipline Entry (Forign Languages)! Not In Course List!\nEnter 'List' to see course list or just ENTER to skip: -&gt; list\n\nAvailable Courses:\n==================\nAlgebra             Art                 Biology             Chemistry           \nDrama               English             Foreign Languages   Geography           \nGeometry            Graphic Design      History             I.T.                \nLiterature          Math                Music               P.E.                \nPhilosophy          Physics             Science             Social Studies      \nTechnology          \n\nPlease enter a Discipline (e to exit): -&gt; Foreign Languages\nPlease enter how many grades do you have for 'Foreign Languages': -&gt; 4\n\nPlease enter your grade #1 for Foreign Languages (between 4 and 10): -&gt; 4\nPlease enter your grade #2 for Foreign Languages (between 4 and 10): -&gt; 5\nPlease enter your grade #3 for Foreign Languages (between 4 and 10): -&gt; 6\nPlease enter your grade #4 for Foreign Languages (between 4 and 10): -&gt; 7\n\nPlease enter a Discipline (e to exit): -&gt; Music\nPlease enter how many grades do you have for 'Music': -&gt; 3\n\nPlease enter your grade #1 for Music (between 4 and 10): -&gt; 7\nPlease enter your grade #2 for Music (between 4 and 10): -&gt; 8\nPlease enter your grade #3 for Music (between 4 and 10): -&gt; 9\n\nPlease enter a Discipline (e to exit): -&gt; Biology\nPlease enter how many grades do you have for 'Biology': -&gt; 5\n\nPlease enter your grade #1 for Biology (between 4 and 10): -&gt; 5\nPlease enter your grade #2 for Biology (between 4 and 10): -&gt; 6\nPlease enter your grade #3 for Biology (between 4 and 10): -&gt; 7\nPlease enter your grade #4 for Biology (between 4 and 10): -&gt; 8\nPlease enter your grade #5 for Biology (between 4 and 10): -&gt; 9\n\nPlease enter a Discipline (e to exit): -&gt; e\n\n=========================================================\nDISCIPLINE               GRADES                   AVERAGE\n---------------------------------------------------------\n1   Foreign Languages    4, 5, 6, 7               5.50                  \n2   Music                7, 8, 9                  8.00                  \n3   Biology              5, 6, 7, 8, 9            7.00                  \n</code></pre>\n"}],"owner":{"account_id":27726602,"reputation":11,"user_id":21166013,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680877252,"creation_date":1680774297,"question_id":75948075,"body_markdown":"I want to print a list with the following information:\r\n\r\n| Discipline     |              Grades          |       Average       |\r\n| -------------- | -----------------------------|-------------------- |\r\n| Discipline 1   | Grade 1, Grade 2, Grade 3,   |Average Discipline 1 |\r\n| Discipline 2   | Grade 1, Grade 2, Grade 3,   |Average Discipline 1 |\r\n\r\nThe problem is that I made only one list for grades. I don`t know how to make new list for every discipline.\r\n\r\nI tried this:\r\n\r\n```\r\npackage graduation;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class GraduationGrade {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tList &lt;String&gt; disciplines = new ArrayList&lt;&gt;();\r\n\t\tList &lt;Integer&gt; disciplineGrades = new ArrayList&lt;&gt;();\r\n\t\tList &lt;Integer&gt; disciplineAverage = new ArrayList&lt;&gt;();\r\n\t\tint i=0;\r\n\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\tSystem.out.println(&quot;Please enter a discipline or type EXIT&quot;);\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tString discipline = sc.next();\r\n\t\r\n\t\t\t\r\n\t\t\tif(discipline.equals(&quot;EXIT&quot;)) {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;\tDISCIPLINE\t\tGRADES\t\t\tAVERAGE\t&quot;);\t\r\n\t\t\t\t\r\n\t\t\t\tfor (int j = 0; j &lt; disciplines.size(); j++) {\r\n\t\t            System.out.println((j + 1) + &quot; \t\t&quot; + disciplines.get(j) + &quot;\t\t &quot; + disciplineGrades.get(j)+ &quot; \t\t&quot; + disciplineAverage.get(j));\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Please enter how many grades do you have for &quot; + discipline);\r\n\t\t\t\tsc = new Scanner(System.in);\r\n\t\t\t\tint gradeNumbers = sc.nextInt();\r\n\t\t\t\t\r\n\t\t\t\tdo {\r\n\t\t\t\t\tSystem.out.println(&quot;Please enter your grades for &quot; + discipline + &quot; one by one (between 4 and 10)&quot;);\r\n\t\t\t\t\tsc = new Scanner(System.in);\r\n\t\t\t\t\tint grades = sc.nextInt();\r\n\t\t\r\n\t\t\t\t\tint sum = disciplineGrades.stream().mapToInt(Integer::intValue).sum();\r\n\t\t\t\t\tint average= sum/gradeNumbers;\r\n\t\t\t\t\t\r\n\t\t\t\t\tdisciplines.add(discipline);\r\n\t\t\t\t\tdisciplineGrades.add(grades);\r\n\t\t\t\t\tdisciplineAverage.add(average);\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t} while(i&lt;gradeNumbers);\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen I run the program this is what I get:\r\n```\r\nPlease enter a discipline or type EXIT\r\nMath\r\nPlease enter how many grades do you have for Math\r\n4\r\nPlease enter your grades for Math one by one (between 4 and 10)\r\n4\r\nPlease enter your grades for Math one by one (between 4 and 10)\r\n5\r\nPlease enter your grades for Math one by one (between 4 and 10)\r\n6\r\nPlease enter your grades for Math one by one (between 4 and 10)\r\n7\r\nPlease enter a discipline or type EXIT\r\nBiology\r\nPlease enter how many grades do you have for Biology\r\n10\r\nPlease enter your grades for Biology one by one (between 4 and 10)\r\n8\r\nPlease enter your grades for Biology one by one (between 4 and 10)\r\n6\r\nPlease enter your grades for Biology one by one (between 4 and 10)\r\n7\r\nPlease enter your grades for Biology one by one (between 4 and 10)\r\n5\r\nPlease enter your grades for Biology one by one (between 4 and 10)\r\n4\r\nPlease enter your grades for Biology one by one (between 4 and 10)\r\n6\r\nPlease enter a discipline or type EXIT\r\nEXIT\r\nDISCIPLINE\t\tGRADES\t\t\tAVERAGE\t\r\n1 \t\tMath\t\t 4 \t\t0\r\n2 \t\tMath\t\t 5 \t\t1\r\n3 \t\tMath\t\t 6 \t\t2\r\n4 \t\tMath\t\t 7 \t\t3\r\n5 \t\tBiology\t\t 8 \t\t2\r\n6 \t\tBiology\t\t 6 \t\t3\r\n7 \t\tBiology\t\t 7 \t\t3\r\n8 \t\tBiology\t\t 5 \t\t4\r\n9 \t\tBiology\t\t 4 \t\t4\r\n10 \t\tBiology\t\t 6 \t\t5\r\n```","title":"How to create a new list for every scanned discipline in Java in Eclipse","body":"<p>I want to print a list with the following information:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Discipline</th>\n<th>Grades</th>\n<th>Average</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Discipline 1</td>\n<td>Grade 1, Grade 2, Grade 3,</td>\n<td>Average Discipline 1</td>\n</tr>\n<tr>\n<td>Discipline 2</td>\n<td>Grade 1, Grade 2, Grade 3,</td>\n<td>Average Discipline 1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The problem is that I made only one list for grades. I don`t know how to make new list for every discipline.</p>\n<p>I tried this:</p>\n<pre><code>package graduation;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class GraduationGrade {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        List &lt;String&gt; disciplines = new ArrayList&lt;&gt;();\n        List &lt;Integer&gt; disciplineGrades = new ArrayList&lt;&gt;();\n        List &lt;Integer&gt; disciplineAverage = new ArrayList&lt;&gt;();\n        int i=0;\n\n        \n        while(true) {\n            System.out.println(&quot;Please enter a discipline or type EXIT&quot;);\n            Scanner sc = new Scanner(System.in);\n            String discipline = sc.next();\n    \n            \n            if(discipline.equals(&quot;EXIT&quot;)) {\n                \n                System.out.println(&quot;    DISCIPLINE      GRADES          AVERAGE &quot;); \n                \n                for (int j = 0; j &lt; disciplines.size(); j++) {\n                    System.out.println((j + 1) + &quot;      &quot; + disciplines.get(j) + &quot;       &quot; + disciplineGrades.get(j)+ &quot;         &quot; + disciplineAverage.get(j));\n                }\n                \n                break;\n            } else {\n                System.out.println(&quot;Please enter how many grades do you have for &quot; + discipline);\n                sc = new Scanner(System.in);\n                int gradeNumbers = sc.nextInt();\n                \n                do {\n                    System.out.println(&quot;Please enter your grades for &quot; + discipline + &quot; one by one (between 4 and 10)&quot;);\n                    sc = new Scanner(System.in);\n                    int grades = sc.nextInt();\n        \n                    int sum = disciplineGrades.stream().mapToInt(Integer::intValue).sum();\n                    int average= sum/gradeNumbers;\n                    \n                    disciplines.add(discipline);\n                    disciplineGrades.add(grades);\n                    disciplineAverage.add(average);\n                    i++;\n                    \n                    \n                } while(i&lt;gradeNumbers);\n                \n            \n            }\n        }\n    }\n\n}\n</code></pre>\n<p>When I run the program this is what I get:</p>\n<pre><code>Please enter a discipline or type EXIT\nMath\nPlease enter how many grades do you have for Math\n4\nPlease enter your grades for Math one by one (between 4 and 10)\n4\nPlease enter your grades for Math one by one (between 4 and 10)\n5\nPlease enter your grades for Math one by one (between 4 and 10)\n6\nPlease enter your grades for Math one by one (between 4 and 10)\n7\nPlease enter a discipline or type EXIT\nBiology\nPlease enter how many grades do you have for Biology\n10\nPlease enter your grades for Biology one by one (between 4 and 10)\n8\nPlease enter your grades for Biology one by one (between 4 and 10)\n6\nPlease enter your grades for Biology one by one (between 4 and 10)\n7\nPlease enter your grades for Biology one by one (between 4 and 10)\n5\nPlease enter your grades for Biology one by one (between 4 and 10)\n4\nPlease enter your grades for Biology one by one (between 4 and 10)\n6\nPlease enter a discipline or type EXIT\nEXIT\nDISCIPLINE      GRADES          AVERAGE \n1       Math         4      0\n2       Math         5      1\n3       Math         6      2\n4       Math         7      3\n5       Biology      8      2\n6       Biology      6      3\n7       Biology      7      3\n8       Biology      5      4\n9       Biology      4      4\n10      Biology      6      5\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1680589986,"post_id":75925765,"comment_id":133919363,"body_markdown":"Which jackson libs are using? Versions?","body":"Which jackson libs are using? Versions?"},{"owner":{"account_id":9189354,"reputation":17,"user_id":6830437,"display_name":"Sujata Kattimani"},"score":0,"creation_date":1680593230,"post_id":75925765,"comment_id":133920092,"body_markdown":"&lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;2.14.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n      &lt;version&gt;2.14.2&lt;/version&gt;\n    &lt;/dependency&gt;","body":"&lt;dependency&gt;       &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;       &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;       &lt;version&gt;2.14.2&lt;/version&gt;     &lt;/dependency&gt;     &lt;dependency&gt;       &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;       &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;       &lt;version&gt;2.14.2&lt;/version&gt;     &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680601574,"creation_date":1680601574,"answer_id":75927899,"question_id":75925765,"body_markdown":"Try using library such as JAXB and write class\r\n\r\n    @XmlRootElement(name = &quot;XMLRequest&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class XMLRequest {\r\n     @XmlElement(name = &quot;RequestAction&quot;)\r\n    private String requestAction;\r\n    \r\n    @XmlElement(name = &quot;MerchantDetail&quot;)\r\n    private MerchantDetail merchantDetail;\r\n    \r\n    @XmlElementWrapper(name = &quot;CardTypes&quot;)\r\n    @XmlElement(name = &quot;CardType&quot;)\r\n    private CardType[] cardTypes;\r\n}\r\n\r\nand MerchantDetail  class\r\n\r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class MerchantDetail {\r\n    \r\n    @XmlElement(name = &quot;CloverID&quot;)\r\n    private int cloverID;\r\n    \r\n    @XmlElement(name = &quot;MerchantNumber&quot;)\r\n    private int merchantNumber;\r\n    \r\n    @XmlElement(name = &quot;Platform&quot;)\r\n    private String platform;\r\n    \r\n    @XmlElement(name = &quot;DBAName&quot;)\r\n    private String dbaName;\r\n    \r\n    @XmlElement(name = &quot;LegalName&quot;)\r\n    private String legalName;\r\n    \r\n    @XmlElement(name = &quot;Address1&quot;)\r\n    private String address1;\r\n    \r\n    @XmlElement(name = &quot;City&quot;)\r\n    private String city;\r\n    \r\n    @XmlElement(name = &quot;State&quot;)\r\n    private String state;\r\n    \r\n    @XmlElement(name = &quot;Zip&quot;)\r\n    private String zip;\r\n    \r\n    @XmlElement(name = &quot;Country&quot;)\r\n    private String country;\r\n    \r\n    @XmlElement(name = &quot;PhoneNumber&quot;)\r\n    private String phoneNumber;\r\n    \r\n    @XmlElement(name = &quot;Email&quot;)\r\n    private String email;\r\n    \r\n    @XmlElement(name = &quot;Contact&quot;)\r\n    private String contact;\r\n    \r\n    @XmlElement(name = &quot;Reseller&quot;)\r\n    private String reseller;\r\n    \r\n    @XmlElement(name = &quot;MCCCode&quot;)\r\n    private int mccCode;\r\n    \r\n    @XmlElement(name = &quot;Currency&quot;)\r\n    private String currency;\r\n    \r\n    @XmlElement(name = &quot;TAEncryptionType&quot;)\r\n    private String taEncryptionType;\r\n    \r\n    @XmlElement(name = &quot;GroupID&quot;)\r\n    private int groupID;\r\n    \r\n    @XmlElement(name = &quot;SupportPhone&quot;)\r\n    private String supportPhone;\r\n    \r\n    @XmlElement(name = &quot;ABAAccountNumber&quot;)\r\n    private String abaAccountNumber;\r\n    \r\n    @XmlElement(name = &quot;DDAAccountNumber&quot;)\r\n    private String ddaAccountNumber;\r\n    \r\n    // add getter and setters\r\n}\r\n\r\nLike wise CardType class\r\n\r\nthen \r\n\r\n    JAXBContext context = JAXBContext.newInstance(XMLRequest.class);\r\n        Unmarshaller unmarshaller = context.createUnmarshaller();\r\n        XMLRequest xmlRequest = (XMLRequest) unmarshaller.unmarshal(new File(&quot;input.xml&quot;));","title":"How to convert to XMl string to java object or json object","body":"<p>Try using library such as JAXB and write class</p>\n<pre><code>@XmlRootElement(name = &quot;XMLRequest&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class XMLRequest {\n @XmlElement(name = &quot;RequestAction&quot;)\nprivate String requestAction;\n\n@XmlElement(name = &quot;MerchantDetail&quot;)\nprivate MerchantDetail merchantDetail;\n\n@XmlElementWrapper(name = &quot;CardTypes&quot;)\n@XmlElement(name = &quot;CardType&quot;)\nprivate CardType[] cardTypes;\n</code></pre>\n<p>}</p>\n<p>and MerchantDetail  class</p>\n<pre><code>    @XmlAccessorType(XmlAccessType.FIELD)\npublic class MerchantDetail {\n\n@XmlElement(name = &quot;CloverID&quot;)\nprivate int cloverID;\n\n@XmlElement(name = &quot;MerchantNumber&quot;)\nprivate int merchantNumber;\n\n@XmlElement(name = &quot;Platform&quot;)\nprivate String platform;\n\n@XmlElement(name = &quot;DBAName&quot;)\nprivate String dbaName;\n\n@XmlElement(name = &quot;LegalName&quot;)\nprivate String legalName;\n\n@XmlElement(name = &quot;Address1&quot;)\nprivate String address1;\n\n@XmlElement(name = &quot;City&quot;)\nprivate String city;\n\n@XmlElement(name = &quot;State&quot;)\nprivate String state;\n\n@XmlElement(name = &quot;Zip&quot;)\nprivate String zip;\n\n@XmlElement(name = &quot;Country&quot;)\nprivate String country;\n\n@XmlElement(name = &quot;PhoneNumber&quot;)\nprivate String phoneNumber;\n\n@XmlElement(name = &quot;Email&quot;)\nprivate String email;\n\n@XmlElement(name = &quot;Contact&quot;)\nprivate String contact;\n\n@XmlElement(name = &quot;Reseller&quot;)\nprivate String reseller;\n\n@XmlElement(name = &quot;MCCCode&quot;)\nprivate int mccCode;\n\n@XmlElement(name = &quot;Currency&quot;)\nprivate String currency;\n\n@XmlElement(name = &quot;TAEncryptionType&quot;)\nprivate String taEncryptionType;\n\n@XmlElement(name = &quot;GroupID&quot;)\nprivate int groupID;\n\n@XmlElement(name = &quot;SupportPhone&quot;)\nprivate String supportPhone;\n\n@XmlElement(name = &quot;ABAAccountNumber&quot;)\nprivate String abaAccountNumber;\n\n@XmlElement(name = &quot;DDAAccountNumber&quot;)\nprivate String ddaAccountNumber;\n\n// add getter and setters\n</code></pre>\n<p>}</p>\n<p>Like wise CardType class</p>\n<p>then</p>\n<pre><code>JAXBContext context = JAXBContext.newInstance(XMLRequest.class);\n    Unmarshaller unmarshaller = context.createUnmarshaller();\n    XMLRequest xmlRequest = (XMLRequest) unmarshaller.unmarshal(new File(&quot;input.xml&quot;));\n</code></pre>\n"}],"owner":{"account_id":9189354,"reputation":17,"user_id":6830437,"display_name":"Sujata Kattimani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75927899,"answer_count":1,"score":1,"last_activity_date":1680877174,"creation_date":1680585800,"question_id":75925765,"body_markdown":"I have a XML string, I want to convert to XML to java object. \r\n\r\n```html\r\n&lt;XMLRequest&gt;\r\n    &lt;RequestAction&gt;Modify&lt;/RequestAction&gt;\r\n    &lt;MerchantDetail&gt;\r\n        &lt;CloverID&gt;10&lt;/CloverID&gt;\r\n        &lt;MerchantNumber&gt;111111&lt;/MerchantNumber&gt;\r\n        &lt;Platform&gt;N&lt;/Platform&gt;\r\n        &lt;DBAName&gt;Test_306&lt;/DBAName&gt;\r\n        &lt;LegalName&gt;Test_306&lt;/LegalName&gt;\r\n        &lt;Address1&gt;Fountain road&lt;/Address1&gt;\r\n        &lt;City&gt;Vista&lt;/City&gt;\r\n        &lt;State&gt;Boulder&lt;/State&gt;\r\n        &lt;Zip&gt;1518580&lt;/Zip&gt;\r\n        &lt;Country&gt;US&lt;/Country&gt;\r\n        &lt;PhoneNumber&gt;1234567890&lt;/PhoneNumber&gt;\r\n        &lt;Email&gt;test@gmail.com&lt;/Email&gt;\r\n        &lt;Contact&gt;Test_306&lt;/Contact&gt;\r\n        &lt;Reseller&gt;DevelopersUS&lt;/Reseller&gt;\r\n        &lt;MCCCode&gt;7394&lt;/MCCCode&gt;\r\n        &lt;Currency&gt;USD&lt;/Currency&gt;\r\n        &lt;TAEncryptionType&gt;0001&lt;/TAEncryptionType&gt;\r\n        &lt;GroupID&gt;10001&lt;/GroupID&gt;\r\n        &lt;SupportPhone&gt;1234567890&lt;/SupportPhone&gt;\r\n        &lt;ABAAccountNumber&gt;000000000000000&lt;/ABAAccountNumber&gt;\r\n        &lt;DDAAccountNumber&gt;***********3770&lt;/DDAAccountNumber&gt;\r\n    &lt;/MerchantDetail&gt;\r\n    &lt;CardTypes&gt;\r\n        &lt;CardType CardName = &quot;MASTER&quot;&gt;\r\n            &lt;SENUMBER /&gt;\r\n            &lt;AlphaID&gt;1234&lt;/AlphaID&gt;\r\n            &lt;ServiceType&gt;F&lt;/ServiceType&gt;\r\n        &lt;/CardType&gt;\r\n        &lt;CardType CardName = &quot;VISA&quot;&gt;\r\n            &lt;SENUMBER /&gt;\r\n            &lt;AlphaID /&gt;\r\n            &lt;ServiceType /&gt;\r\n        &lt;/CardType&gt;\r\n    &lt;/CardTypes&gt;\r\n&lt;/XMLRequest&gt;\r\n```\r\n\r\nI tried using below code. And also created respective pojos as well. But I am getting below error. Please help, what I missed.\r\n\r\n**Code:** \r\n```java\r\nObjectMapper xmlMapper = new XmlMapper();\r\nRequest value = xmlMapper.readValue(xmlContent, Request.class);\r\nSystem.out.println(xmlMapper.writeValueAsString(value));\r\n```\r\n\r\n&gt; Error: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError:\r\n&gt; &#39;com.fasterxml.jackson.core.io.ContentReference\r\n&gt; com.fasterxml.jackson.dataformat.xml.XmlFactory._createContentReference(java.lang.Object)&#39;\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.dataformat.xml.XmlFactory.createParser(XmlFactory.java:492)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3645)\r\n&gt; \tat\r\n&gt; com.clover.myspringbootapp.example.XmlToJsonObject.main(XmlToJsonObject.java:25)\r\n\r\n","title":"How to convert to XMl string to java object or json object","body":"<p>I have a XML string, I want to convert to XML to java object.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;XMLRequest&gt;\n    &lt;RequestAction&gt;Modify&lt;/RequestAction&gt;\n    &lt;MerchantDetail&gt;\n        &lt;CloverID&gt;10&lt;/CloverID&gt;\n        &lt;MerchantNumber&gt;111111&lt;/MerchantNumber&gt;\n        &lt;Platform&gt;N&lt;/Platform&gt;\n        &lt;DBAName&gt;Test_306&lt;/DBAName&gt;\n        &lt;LegalName&gt;Test_306&lt;/LegalName&gt;\n        &lt;Address1&gt;Fountain road&lt;/Address1&gt;\n        &lt;City&gt;Vista&lt;/City&gt;\n        &lt;State&gt;Boulder&lt;/State&gt;\n        &lt;Zip&gt;1518580&lt;/Zip&gt;\n        &lt;Country&gt;US&lt;/Country&gt;\n        &lt;PhoneNumber&gt;1234567890&lt;/PhoneNumber&gt;\n        &lt;Email&gt;test@gmail.com&lt;/Email&gt;\n        &lt;Contact&gt;Test_306&lt;/Contact&gt;\n        &lt;Reseller&gt;DevelopersUS&lt;/Reseller&gt;\n        &lt;MCCCode&gt;7394&lt;/MCCCode&gt;\n        &lt;Currency&gt;USD&lt;/Currency&gt;\n        &lt;TAEncryptionType&gt;0001&lt;/TAEncryptionType&gt;\n        &lt;GroupID&gt;10001&lt;/GroupID&gt;\n        &lt;SupportPhone&gt;1234567890&lt;/SupportPhone&gt;\n        &lt;ABAAccountNumber&gt;000000000000000&lt;/ABAAccountNumber&gt;\n        &lt;DDAAccountNumber&gt;***********3770&lt;/DDAAccountNumber&gt;\n    &lt;/MerchantDetail&gt;\n    &lt;CardTypes&gt;\n        &lt;CardType CardName = &quot;MASTER&quot;&gt;\n            &lt;SENUMBER /&gt;\n            &lt;AlphaID&gt;1234&lt;/AlphaID&gt;\n            &lt;ServiceType&gt;F&lt;/ServiceType&gt;\n        &lt;/CardType&gt;\n        &lt;CardType CardName = &quot;VISA&quot;&gt;\n            &lt;SENUMBER /&gt;\n            &lt;AlphaID /&gt;\n            &lt;ServiceType /&gt;\n        &lt;/CardType&gt;\n    &lt;/CardTypes&gt;\n&lt;/XMLRequest&gt;\n</code></pre>\n<p>I tried using below code. And also created respective pojos as well. But I am getting below error. Please help, what I missed.</p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper xmlMapper = new XmlMapper();\nRequest value = xmlMapper.readValue(xmlContent, Request.class);\nSystem.out.println(xmlMapper.writeValueAsString(value));\n</code></pre>\n<blockquote>\n<p>Error: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError:\n'com.fasterxml.jackson.core.io.ContentReference\ncom.fasterxml.jackson.dataformat.xml.XmlFactory._createContentReference(java.lang.Object)'\nat\ncom.fasterxml.jackson.dataformat.xml.XmlFactory.createParser(XmlFactory.java:492)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3645)\nat\ncom.clover.myspringbootapp.example.XmlToJsonObject.main(XmlToJsonObject.java:25)</p>\n</blockquote>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":11026359,"reputation":101,"user_id":8167850,"display_name":"Guilherme Bigois"},"score":1,"creation_date":1685553927,"post_id":75959252,"comment_id":134677810,"body_markdown":"same error here :(","body":"same error here :("},{"owner":{"account_id":1100788,"reputation":3607,"user_id":1093228,"accept_rate":66,"display_name":"Navid_pdp11"},"score":0,"creation_date":1685621987,"post_id":75959252,"comment_id":134687653,"body_markdown":"I changed my mapping to **MapStrutc** and it was working like a charm :(","body":"I changed my mapping to <b>MapStrutc</b> and it was working like a charm :("},{"owner":{"account_id":11026359,"reputation":101,"user_id":8167850,"display_name":"Guilherme Bigois"},"score":0,"creation_date":1685936209,"post_id":75959252,"comment_id":134725349,"body_markdown":"Could you post your code as answer and solve this topic?","body":"Could you post your code as answer and solve this topic?"},{"owner":{"account_id":1100788,"reputation":3607,"user_id":1093228,"accept_rate":66,"display_name":"Navid_pdp11"},"score":1,"creation_date":1686041415,"post_id":75959252,"comment_id":134741194,"body_markdown":"you can find my code here: https://github.com/shokri-navid/spring-boot-learning/tree/master/todo/ @Guilherme Bigois","body":"you can find my code here: <a href=\"https://github.com/shokri-navid/spring-boot-learning/tree/master/todo/\" rel=\"nofollow noreferrer\">github.com/shokri-navid/spring-boot-learning/tree/master/tod&zwnj;&#8203;o</a> @Guilherme Bigois"}],"owner":{"account_id":1100788,"reputation":3607,"user_id":1093228,"accept_rate":66,"display_name":"Navid_pdp11"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680877130,"creation_date":1680877130,"question_id":75959252,"body_markdown":"I am trying to use JMapper in my spring boot application. \r\n\r\nthese are my model: \r\n\r\n```\r\npublic class TodoItemDto {\r\n    private Integer id; \r\n    \r\n    private String title;\r\n    \r\n    private String description;\r\n   \r\n    private Boolean isDone; \r\n    //getter &amp; setters\r\n   }\r\n\r\n@Entity\r\npublic class TodoItem {\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Integer id; \r\n\r\n    private String title; \r\n\r\n    private String description; \r\n     \r\n    private Boolean isDone; \r\n\r\n    private Date createdAt; \r\n\r\n    private Date doneAt;\r\n    //getter &amp; setter\r\n}\r\n\r\n```\r\n\r\nand I am configuring my mapper this way: \r\n\r\n```\r\nOptional&lt;TodoItem&gt; result = todoRepository.findById(id);\r\nJMapperAPI mapperss = new JMapperAPI()\r\n\t\t.add(new MappedClass(TodoItemDto.class)\r\n\t\t\t.add(new Attribute(&quot;id&quot;).value(&quot;id&quot;))\r\n\t\t\t.add(new Attribute(&quot;title&quot;).value(&quot;title&quot;))\t\r\n\t\t\t.add(new Attribute(&quot;description&quot;).value(&quot;description&quot;))\r\n\t\t\t.add(new Attribute(&quot;isDone&quot;).value(&quot;isDone&quot;))\r\n\t\t);\r\n        \r\n        JMapper&lt;TodoItemDto, TodoItem&gt; mapper = new JMapper(TodoItemDto.class, TodoItem.class, mapperss);\r\n        \r\n        var res = mapper.getDestination(result); \r\n\r\n````\r\n\r\nBut when I am running my code this exception will be thrown: \r\n\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: com.googlecode.jmapper.exceptions.JMapperException: java.lang.ExceptionInInitializerError] with root cause\r\n\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6b81ce95\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source) ~[na:na]\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source) ~[na:na]\r\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Unknown Source) ~[na:na]\r\n        at java.base/java.lang.reflect.Field.setAccessible(Unknown Source) ~[na:na]\r\n        at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:40) ~[xstream-1.4.9.jar:1.4.9]\r\n        at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50) ~[xstream-1.4.9.jar:1.4.9]\r\n        at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:832) ~[xstream-1.4.9.jar:1.4.9]\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574) ~[xstream-1.4.9.jar:1.4.9]\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496) ~[xstream-1.4.9.jar:1.4.9]\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465) ~[xstream-1.4.9.jar:1.4.9]\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411) ~[xstream-1.4.9.jar:1.4.9]\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:350) ~[xstream-1.4.9.jar:1.4.9]\r\n        at com.googlecode.jmapper.util.FilesManager.toXmlJmapper(FilesManager.java:1047) ~[jmapper-core-1.6.1.CR1.jar:na]\r\n        at com.googlecode.jmapper.util.FilesManager.readAtRuntime(FilesManager.java:1036) ~[jmapper-core-1.6.1.CR1.jar:na]\r\n        at com.googlecode.jmapper.xml.XML.&lt;init&gt;(XML.java:66) ~[jmapper-core-1.6.1.CR1.jar:na]\r\n        at com.googlecode.jmapper.xml.XmlBuilder.atRuntime(XmlBuilder.java:44) ~[jmapper-core-1.6.1.CR1.jar:na]\r\n        at com.googlecode.jmapper.generation.MapperBuilder.generate(MapperBuilder.java:84) ~[jmapper-core-1.6.1.CR1.jar:na]\r\n        at com.googlecode.jmapper.JMapper.createMapper(JMapper.java:450) ~[jmapper-core-1.6.1.CR1.jar:na]\r\n        at com.googlecode.jmapper.JMapper.&lt;init&gt;(JMapper.java:432) ~[jmapper-core-1.6.1.CR1.jar:na]\r\n        at com.googlecode.jmapper.JMapper.&lt;init&gt;(JMapper.java:412) ~[jmapper-core-1.6.1.CR1.jar:na]\r\n        at com.googlecode.jmapper.JMapper.&lt;init&gt;(JMapper.java:386) ~[jmapper-core-1.6.1.CR1.jar:na]\r\n        at com.example.todo.controllers.TodoController.getTodoItam(TodoController.java:59) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:537) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n        at java.base/java.lang.Thread.run(Unknown Source) ~[na:an]\r\n```\r\n\r\nI am using java version 17","title":"why am I getting error when try to use JMapper in java spring boot?","body":"<p>I am trying to use JMapper in my spring boot application.</p>\n<p>these are my model:</p>\n<pre><code>public class TodoItemDto {\n    private Integer id; \n    \n    private String title;\n    \n    private String description;\n   \n    private Boolean isDone; \n    //getter &amp; setters\n   }\n\n@Entity\npublic class TodoItem {\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Integer id; \n\n    private String title; \n\n    private String description; \n     \n    private Boolean isDone; \n\n    private Date createdAt; \n\n    private Date doneAt;\n    //getter &amp; setter\n}\n\n</code></pre>\n<p>and I am configuring my mapper this way:</p>\n<pre><code>Optional&lt;TodoItem&gt; result = todoRepository.findById(id);\nJMapperAPI mapperss = new JMapperAPI()\n        .add(new MappedClass(TodoItemDto.class)\n            .add(new Attribute(&quot;id&quot;).value(&quot;id&quot;))\n            .add(new Attribute(&quot;title&quot;).value(&quot;title&quot;)) \n            .add(new Attribute(&quot;description&quot;).value(&quot;description&quot;))\n            .add(new Attribute(&quot;isDone&quot;).value(&quot;isDone&quot;))\n        );\n        \n        JMapper&lt;TodoItemDto, TodoItem&gt; mapper = new JMapper(TodoItemDto.class, TodoItem.class, mapperss);\n        \n        var res = mapper.getDestination(result); \n\n</code></pre>\n<p>But when I am running my code this exception will be thrown:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: com.googlecode.jmapper.exceptions.JMapperException: java.lang.ExceptionInInitializerError] with root cause\n\njava.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6b81ce95\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Field.setAccessible(Unknown Source) ~[na:na]\n        at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:40) ~[xstream-1.4.9.jar:1.4.9]\n        at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50) ~[xstream-1.4.9.jar:1.4.9]\n        at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:832) ~[xstream-1.4.9.jar:1.4.9]\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574) ~[xstream-1.4.9.jar:1.4.9]\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496) ~[xstream-1.4.9.jar:1.4.9]\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465) ~[xstream-1.4.9.jar:1.4.9]\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411) ~[xstream-1.4.9.jar:1.4.9]\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:350) ~[xstream-1.4.9.jar:1.4.9]\n        at com.googlecode.jmapper.util.FilesManager.toXmlJmapper(FilesManager.java:1047) ~[jmapper-core-1.6.1.CR1.jar:na]\n        at com.googlecode.jmapper.util.FilesManager.readAtRuntime(FilesManager.java:1036) ~[jmapper-core-1.6.1.CR1.jar:na]\n        at com.googlecode.jmapper.xml.XML.&lt;init&gt;(XML.java:66) ~[jmapper-core-1.6.1.CR1.jar:na]\n        at com.googlecode.jmapper.xml.XmlBuilder.atRuntime(XmlBuilder.java:44) ~[jmapper-core-1.6.1.CR1.jar:na]\n        at com.googlecode.jmapper.generation.MapperBuilder.generate(MapperBuilder.java:84) ~[jmapper-core-1.6.1.CR1.jar:na]\n        at com.googlecode.jmapper.JMapper.createMapper(JMapper.java:450) ~[jmapper-core-1.6.1.CR1.jar:na]\n        at com.googlecode.jmapper.JMapper.&lt;init&gt;(JMapper.java:432) ~[jmapper-core-1.6.1.CR1.jar:na]\n        at com.googlecode.jmapper.JMapper.&lt;init&gt;(JMapper.java:412) ~[jmapper-core-1.6.1.CR1.jar:na]\n        at com.googlecode.jmapper.JMapper.&lt;init&gt;(JMapper.java:386) ~[jmapper-core-1.6.1.CR1.jar:na]\n        at com.example.todo.controllers.TodoController.getTodoItam(TodoController.java:59) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.7.jar:6.0.7]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:537) ~[tomcat-embed-core-10.1.7.jar:6.0]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n        at java.base/java.lang.Thread.run(Unknown Source) ~[na:an]\n</code></pre>\n<p>I am using java version 17</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":23366081,"reputation":129,"user_id":17437705,"display_name":"rongfeiyue"},"score":0,"creation_date":1680867600,"post_id":75957816,"comment_id":133972396,"body_markdown":"@ NotBlank\npublic Integer status;\nchange to @ NotNull, try again?","body":"@ NotBlank public Integer status; change to @ NotNull, try again?"},{"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"score":0,"creation_date":1680868002,"post_id":75957816,"comment_id":133972456,"body_markdown":"this also doesnt help(","body":"this also doesnt help("},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680871091,"post_id":75957816,"comment_id":133972988,"body_markdown":"Why are all fields public? Should be private with public getters/setters. Probably this confuses the validation software. Hope it helps.","body":"Why are all fields public? Should be private with public getters/setters. Probably this confuses the validation software. Hope it helps."},{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1680875606,"post_id":75957816,"comment_id":133973948,"body_markdown":"You should add @Validated above your MyController","body":"You should add @Validated above your MyController"},{"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"score":0,"creation_date":1680876117,"post_id":75957816,"comment_id":133974047,"body_markdown":"Pawan.Java, I&#39;ve tried this, it did not helped(","body":"Pawan.Java, I&#39;ve tried this, it did not helped("},{"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"score":0,"creation_date":1680876376,"post_id":75957816,"comment_id":133974090,"body_markdown":"Mar-Z, making fields of InputMessage didn&#39;t helped(","body":"Mar-Z, making fields of InputMessage didn&#39;t helped("}],"answers":[{"tags":[],"owner":{"account_id":4989848,"reputation":1593,"user_id":4012408,"display_name":"Rafael Guillen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680866867,"creation_date":1680866867,"answer_id":75957996,"question_id":75957816,"body_markdown":"First of all, you should fix your dependencies, for validation this three are enough:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAlso `@NotBlank` validator doesn&#39;t apply to integers, you should use `@NotNull`\r\n\r\n```\r\nimport javax.validation.constraints.*;\r\n@Data\r\npublic class InputMessage {\r\n    @Size(min = 1, max = 10)\r\n    public String id;\r\n\r\n    @NotBlank @Email\r\n    public String email;\r\n\r\n    @NotNull\r\n    public Integer status;\r\n\r\n    @NotBlank\r\n    public String error;\r\n}\r\n```","title":"Validation does not work with Spring Boot + RestController","body":"<p>First of all, you should fix your dependencies, for validation this three are enough:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Also <code>@NotBlank</code> validator doesn't apply to integers, you should use <code>@NotNull</code></p>\n<pre><code>import javax.validation.constraints.*;\n@Data\npublic class InputMessage {\n    @Size(min = 1, max = 10)\n    public String id;\n\n    @NotBlank @Email\n    public String email;\n\n    @NotNull\n    public Integer status;\n\n    @NotBlank\n    public String error;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680877129,"creation_date":1680877129,"answer_id":75959250,"question_id":75957816,"body_markdown":"UPD: changing all packages from `javax` to `jakarta` in imports solved an issue...","title":"Validation does not work with Spring Boot + RestController","body":"<p>UPD: changing all packages from <code>javax</code> to <code>jakarta</code> in imports solved an issue...</p>\n"}],"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75959250,"answer_count":2,"score":0,"last_activity_date":1680877129,"creation_date":1680865128,"question_id":75957816,"body_markdown":"I have Spring Boot project with Rest Controller, where I need to validate input data.\r\nHere is what I have in my POM: \r\n\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    \t&lt;/parent&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${javax.validation.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nHere is my Controller. Also I&#39;ve tried to place Validated annotation on the whole class instead of Valid on method. Also, I&#39;ve tried to place Valid(ated) annotations on Service class:\r\n\r\n    @Slf4j @RestController\r\n    //@Validated placing this annotation here didn&#39;t helped either\r\n    public class MyController {\r\n        @Autowired\r\n        MyService myService;\r\n    \r\n        private final Counter requestCounter;\r\n    \r\n        public MyController(MeterRegistry meterRegistry) {\r\n            this.requestCounter = meterRegistry.counter(&quot;my.counter&quot;);\r\n        }\r\n    \r\n        @PostMapping(&quot;/somepath&quot;)\r\n        public ResponseEntity&lt;String&gt; handle(@RequestBody @Valid InputMessage im) {\r\n            log.debug(&quot;Received message {}&quot;,im);\r\n            requestCounter.increment();\r\n            try {\r\n                myService.handleDoc(im);\r\n                return new ResponseEntity&lt;&gt;(&quot;Done&quot;, HttpStatus.CREATED);\r\n            }catch (Exception ex){\r\n                log.error(&quot;Error with document with message id {}&quot;,im.getId(), ex);\r\n                return new ResponseEntity&lt;&gt;(&quot;Failed to process request&quot;, HttpStatus.BAD_REQUEST);\r\n            }\r\n        }\r\n    }\r\n\r\nInputMessage class:\r\n\r\n    import javax.validation.constraints.*;\r\n    @Data\r\n    public class InputMessage {\r\n        @Size(min = 1, max = 10)\r\n        public String id;\r\n    \r\n        @NotBlank @Email\r\n        public String email;\r\n    \r\n        @NotBlank //the same with @NotNull here\r\n        public Integer status;\r\n    \r\n        @NotBlank\r\n        public String error;\r\n    }\r\n\r\nNo matter which data I send in request - I receive 201 Created. This works the same both in tests and via starting application and using postman. Also, I&#39;ve tries to remove try-catch, leaving only counter incrementation and handleDoc method.\r\n\r\nWhat should I do to enable validation?\r\n","title":"Validation does not work with Spring Boot + RestController","body":"<p>I have Spring Boot project with Rest Controller, where I need to validate input data.\nHere is what I have in my POM:</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;${javax.validation.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Here is my Controller. Also I've tried to place Validated annotation on the whole class instead of Valid on method. Also, I've tried to place Valid(ated) annotations on Service class:</p>\n<pre><code>@Slf4j @RestController\n//@Validated placing this annotation here didn't helped either\npublic class MyController {\n    @Autowired\n    MyService myService;\n\n    private final Counter requestCounter;\n\n    public MyController(MeterRegistry meterRegistry) {\n        this.requestCounter = meterRegistry.counter(&quot;my.counter&quot;);\n    }\n\n    @PostMapping(&quot;/somepath&quot;)\n    public ResponseEntity&lt;String&gt; handle(@RequestBody @Valid InputMessage im) {\n        log.debug(&quot;Received message {}&quot;,im);\n        requestCounter.increment();\n        try {\n            myService.handleDoc(im);\n            return new ResponseEntity&lt;&gt;(&quot;Done&quot;, HttpStatus.CREATED);\n        }catch (Exception ex){\n            log.error(&quot;Error with document with message id {}&quot;,im.getId(), ex);\n            return new ResponseEntity&lt;&gt;(&quot;Failed to process request&quot;, HttpStatus.BAD_REQUEST);\n        }\n    }\n}\n</code></pre>\n<p>InputMessage class:</p>\n<pre><code>import javax.validation.constraints.*;\n@Data\npublic class InputMessage {\n    @Size(min = 1, max = 10)\n    public String id;\n\n    @NotBlank @Email\n    public String email;\n\n    @NotBlank //the same with @NotNull here\n    public Integer status;\n\n    @NotBlank\n    public String error;\n}\n</code></pre>\n<p>No matter which data I send in request - I receive 201 Created. This works the same both in tests and via starting application and using postman. Also, I've tries to remove try-catch, leaving only counter incrementation and handleDoc method.</p>\n<p>What should I do to enable validation?</p>\n"},{"tags":["java","spring","tomcat","war"],"answers":[{"tags":[],"owner":{"account_id":4940551,"reputation":499,"user_id":3977363,"display_name":"The.Laughing.Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680877064,"creation_date":1680877064,"answer_id":75959245,"question_id":75573449,"body_markdown":"I determined that the Tomcat UI will close an application context and trigger ApplicationEvent ContextClosedEvent when the &quot;Stop&quot; button is clicked. It will not trigger the ContextClosedEvent when clicking the &quot;Undeploy&quot; button. \r\n\r\nTo properly remove an application from Tomcat, you&#39;ll want to click stop and then undeploy. To date, I&#39;ve not found this documented anywhere so hopefully this helps someone else. ","title":"Tomcat 9 UI Stop Command not Triggering ApplicationListener","body":"<p>I determined that the Tomcat UI will close an application context and trigger ApplicationEvent ContextClosedEvent when the &quot;Stop&quot; button is clicked. It will not trigger the ContextClosedEvent when clicking the &quot;Undeploy&quot; button.</p>\n<p>To properly remove an application from Tomcat, you'll want to click stop and then undeploy. To date, I've not found this documented anywhere so hopefully this helps someone else.</p>\n"}],"owner":{"account_id":4940551,"reputation":499,"user_id":3977363,"display_name":"The.Laughing.Man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680877064,"creation_date":1677429419,"question_id":75573449,"body_markdown":"I am starting and stopping an application via Tomcat 9 UI and am getting stuck threads. While trying to investigate, I am not seeing a ContextClosedEvent triggered to stop an executorserivce. \r\n\r\nI&#39;ve tried implementing ApplicationListener&lt;ContextClosedEvent&gt; and using the annotation @EventListener.\r\n\r\nI then tried using a @PreDestroy annotation and even a Runtime shutdown hook. None of these get called when I click &quot;stop&quot; in the Tomcat UI, causing stuck threads. \r\n\r\nDoes anyone know why Tomcat will not trigger any context clues that the application was shutdown? Is there some other trigger I should use to identify the application was closed? ","title":"Tomcat 9 UI Stop Command not Triggering ApplicationListener","body":"<p>I am starting and stopping an application via Tomcat 9 UI and am getting stuck threads. While trying to investigate, I am not seeing a ContextClosedEvent triggered to stop an executorserivce.</p>\n<p>I've tried implementing ApplicationListener and using the annotation @EventListener.</p>\n<p>I then tried using a @PreDestroy annotation and even a Runtime shutdown hook. None of these get called when I click &quot;stop&quot; in the Tomcat UI, causing stuck threads.</p>\n<p>Does anyone know why Tomcat will not trigger any context clues that the application was shutdown? Is there some other trigger I should use to identify the application was closed?</p>\n"},{"tags":["java","docker","docker-compose","javac"],"answers":[{"tags":[],"owner":{"account_id":15823360,"reputation":29,"user_id":11417059,"display_name":"Jonathan Olson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680840710,"creation_date":1680840710,"answer_id":75955416,"question_id":75955070,"body_markdown":"I figured out what was wrong. I needed to run the javac and java commands as a shell script so the solution is using:\r\n\r\ncommand: sh -c &quot;javac Program.java &amp;&amp; java Program&quot;\r\n\r\nfor my command line.","title":"Why can&#39;t I run javac and java commands through docker-compose.yml","body":"<p>I figured out what was wrong. I needed to run the javac and java commands as a shell script so the solution is using:</p>\n<p>command: sh -c &quot;javac Program.java &amp;&amp; java Program&quot;</p>\n<p>for my command line.</p>\n"}],"owner":{"account_id":15823360,"reputation":29,"user_id":11417059,"display_name":"Jonathan Olson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1680877032,"creation_date":1680834434,"question_id":75955070,"body_markdown":"I am trying to use command: javac -cp &quot;/src/java&quot; Program.java &amp;&amp; java -cp &quot;/src/java&quot; Program in my docker-compose.yml file to build and run a java program that outputs some text upon starting my container but I get an error that states the java file cannot be found.\r\n\r\nI have tried various forms of command: javac -cp &quot;/src/java&quot; Program.java &amp;&amp; java -cp &quot;/src/java&quot; Program such as:\r\n - command: `javac Program.java &amp;&amp; java Program`\r\n - command: `[&quot;javac&quot;, &quot;Program.java&quot;] &amp;&amp; [&quot;java&quot;, &quot;Program&quot;]`\r\n - command: `javac /jonolson/Program.java &amp;&amp; java Program`\r\n - command: `javac jonolson/Program.java &amp;&amp; java jonolson/Program`\r\nbut nothing is working.\r\nright now my docker-compose.yml file looks like:\r\n\r\n```\r\nservices:\r\n  my-java-app:\r\n    image: openjdk:19\r\n    working_dir: /src/java\r\n    command: javac -cp &quot;/src/java&quot; Program.java &amp;&amp; java -cp &quot;/src/java&quot; Program\r\n    volumes:\r\n      - type: bind\r\n        source: jonolson\r\n        target: /src/java\r\n```\r\nand I get this error message when I run docker-compose up in command line:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/twLfE.png","title":"Why can&#39;t I run javac and java commands through docker-compose.yml","body":"<p>I am trying to use command: javac -cp &quot;/src/java&quot; Program.java &amp;&amp; java -cp &quot;/src/java&quot; Program in my docker-compose.yml file to build and run a java program that outputs some text upon starting my container but I get an error that states the java file cannot be found.</p>\n<p>I have tried various forms of command: javac -cp &quot;/src/java&quot; Program.java &amp;&amp; java -cp &quot;/src/java&quot; Program such as:</p>\n<ul>\n<li>command: <code>javac Program.java &amp;&amp; java Program</code></li>\n<li>command: <code>[&quot;javac&quot;, &quot;Program.java&quot;] &amp;&amp; [&quot;java&quot;, &quot;Program&quot;]</code></li>\n<li>command: <code>javac /jonolson/Program.java &amp;&amp; java Program</code></li>\n<li>command: <code>javac jonolson/Program.java &amp;&amp; java jonolson/Program</code>\nbut nothing is working.\nright now my docker-compose.yml file looks like:</li>\n</ul>\n<pre><code>services:\n  my-java-app:\n    image: openjdk:19\n    working_dir: /src/java\n    command: javac -cp &quot;/src/java&quot; Program.java &amp;&amp; java -cp &quot;/src/java&quot; Program\n    volumes:\n      - type: bind\n        source: jonolson\n        target: /src/java\n</code></pre>\n<p>and I get this error message when I run docker-compose up in command line:\n<a href=\"https://i.stack.imgur.com/twLfE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/twLfE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":9606953,"reputation":64,"user_id":7132691,"accept_rate":0,"display_name":"Akshay Tyagi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680876744,"creation_date":1680852573,"answer_id":75956361,"question_id":75899150,"body_markdown":"First of all, you should have added more description to your question such as what you are trying to do along with some code snippet. Nevertheless, If you are creating spring-boot application, you should always use starter dependencies. Spring Boot starters can help to reduce the number of manually added dependencies just by adding one dependency and provides powerful feature i.e `Auto-configuration`. Spring Boot auto-configuration attempts to automatically configure your Spring application based on the jar dependencies that you have added. For your reference, you can see all the starters here- https://www.baeldung.com/spring-boot-starters\r\n\r\nSpring Boot can also auto-configure the dataSource bean, depending on the database you&#39;re using. Now instead of using `spring-data-jpa`, you should add `spring-boot-starter-data-jpa`. Even you do NOT need to add `spring-boot-starter-jdbc` as it already comes with `spring-boot-starter-data-jpa`. In the same way, you should check if the dependencies like Jakarta, jackson, jaxb are already added by `spring-boot-starter-web` then you do not need to add those explicitly.\r\n\r\nIf you are new to Spring-Boot then for your reference start from here\r\n\r\n    Spring boot reference guide:-\r\n    \r\n    Web- [https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web][1] \r\n    Data- [https://docs.spring.io/spring-boot/docs/current/reference/html/data.html][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/data.html","title":"Error when running DemoApplication.java -dependencies","body":"<p>First of all, you should have added more description to your question such as what you are trying to do along with some code snippet. Nevertheless, If you are creating spring-boot application, you should always use starter dependencies. Spring Boot starters can help to reduce the number of manually added dependencies just by adding one dependency and provides powerful feature i.e <code>Auto-configuration</code>. Spring Boot auto-configuration attempts to automatically configure your Spring application based on the jar dependencies that you have added. For your reference, you can see all the starters here- <a href=\"https://www.baeldung.com/spring-boot-starters\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-starters</a></p>\n<p>Spring Boot can also auto-configure the dataSource bean, depending on the database you're using. Now instead of using <code>spring-data-jpa</code>, you should add <code>spring-boot-starter-data-jpa</code>. Even you do NOT need to add <code>spring-boot-starter-jdbc</code> as it already comes with <code>spring-boot-starter-data-jpa</code>. In the same way, you should check if the dependencies like Jakarta, jackson, jaxb are already added by <code>spring-boot-starter-web</code> then you do not need to add those explicitly.</p>\n<p>If you are new to Spring-Boot then for your reference start from here</p>\n<pre><code>Spring boot reference guide:-\n\nWeb- [https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web][1] \nData- [https://docs.spring.io/spring-boot/docs/current/reference/html/data.html][1]\n</code></pre>\n"}],"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75956361,"answer_count":1,"score":0,"last_activity_date":1680876744,"creation_date":1680269626,"question_id":75899150,"body_markdown":"When I try to run the DemoApplication with the following dependencies in maven\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.5.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.5.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n I get these errors.\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-04-04T12:29:29.085+03:00 ERROR 13816 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:9) ~[classes/:na]\r\nCaused by: java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 16 common frames omitted\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n I checked other questions and the documentation on org.springframework.jpa and I added their dependency assuming that the jpa dependency is the problem.\r\nI am new to java spring so the dependency might be a little messy","title":"Error when running DemoApplication.java -dependencies","body":"<p>When I try to run the DemoApplication with the following dependencies in maven</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.12.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.5.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.5.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n<p>I get these errors.</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-04T12:29:29.085+03:00 ERROR 13816 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.1.0-20230328.143142-136.jar:3.1.0-SNAPSHOT]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:9) ~[classes/:na]\nCaused by: java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 16 common frames omitted\nProcess finished with exit code 1\n\n</code></pre>\n<p>I checked other questions and the documentation on org.springframework.jpa and I added their dependency assuming that the jpa dependency is the problem.\nI am new to java spring so the dependency might be a little messy</p>\n"},{"tags":["java","sql","jboss"],"answers":[{"tags":[],"owner":{"account_id":5765894,"reputation":972,"user_id":4550871,"display_name":"Doug Grove"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680876669,"creation_date":1680876669,"answer_id":75959186,"question_id":75949575,"body_markdown":"I&#39;m puzzled by your question.  Your issue is happening with JBoss Messaging, but JBoss Messaging was not included in JBoss 4.2.1 GA.\r\n\r\nIn any event, your JBoss Messaging (JMS service) is not functioning.  Most likely, it is completely offline.  I would recommend clearing out all of the JBoss Messaging tables from the database and starting with a clean database.\r\n\r\nIn your servers `deploy/messaging` directory, there should be a `*-persistence-service.xml` file.  This configures the database storage.  If the `CreateTablesOnStartup` are set to `true`, then JBoss Messaging will create the tables automatically.  Maybe just rename the existing tables, or take backups if you like.  \r\n\r\nThe `*-persistence-service.xml` file will have the connection details for the database, the tables will be named `JBM`.","title":"Error - org.jboss.resource.connectionmanager.JBossLocalXAException: Trying to start a new tx when old is not complete","body":"<p>I'm puzzled by your question.  Your issue is happening with JBoss Messaging, but JBoss Messaging was not included in JBoss 4.2.1 GA.</p>\n<p>In any event, your JBoss Messaging (JMS service) is not functioning.  Most likely, it is completely offline.  I would recommend clearing out all of the JBoss Messaging tables from the database and starting with a clean database.</p>\n<p>In your servers <code>deploy/messaging</code> directory, there should be a <code>*-persistence-service.xml</code> file.  This configures the database storage.  If the <code>CreateTablesOnStartup</code> are set to <code>true</code>, then JBoss Messaging will create the tables automatically.  Maybe just rename the existing tables, or take backups if you like.</p>\n<p>The <code>*-persistence-service.xml</code> file will have the connection details for the database, the tables will be named <code>JBM</code>.</p>\n"}],"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680876669,"creation_date":1680784415,"question_id":75949575,"body_markdown":"Our Java Application is running on RHEL 8.5 OS. And we are using the JBoss version of 4.2.1 GA. Our application worked fine for a few months. Recently, we encountered the below problem repeatedly which occupied almost 5 GB in the jboss.log file and we are trying to find the root cause.\r\n\r\n```\r\nWARN  [JDBCSupport] SQLException caught, SQLState null code:0- assuming deadlock detected, try:18\r\norg.jboss.util.NestedSQLException: Could not enlist in transaction on entering meta-aware object!; - nested throwable: (javax.transaction.SystemException: java.lang.Throwable: Unabled to enlist resource, see the previous warnings. tx=TransactionImple &lt; ac, BasicAction: 6a288574:63f3:63d001d8:7c1fff status: ActionStatus.ABORT_ONLY &gt;); - nested throwable: (org.jboss.resource.JBossResourceException: Could not enlist in transaction on entering meta-aware object!; - nested throwable: (javax.transaction.SystemException: java.lang.Throwable: Unabled to enlist resource, see the previous warnings. tx=TransactionImple &lt; ac, BasicAction: 6a288574:63f3:63d001d8:7c1fff status: ActionStatus.ABORT_ONLY &gt;))\r\n        at org.jboss.resource.adapter.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:94)\r\n        at org.jboss.messaging.core.impl.JDBCSupport$JDBCTxRunner.execute(JDBCSupport.java:383)\r\n        at org.jboss.messaging.core.impl.JDBCSupport$JDBCTxRunner.executeWithRetry(JDBCSupport.java:407)\r\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager.reapUnreferencedMessages(JDBCPersistenceManager.java:2357)\r\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager.access$1000(JDBCPersistenceManager.java:78)\r\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager$Reaper.run(JDBCPersistenceManager.java:2381)\r\n        at java.util.TimerThread.mainLoop(Timer.java:555)\r\n        at java.util.TimerThread.run(Timer.java:505)\r\nCaused by: org.jboss.resource.JBossResourceException: Could not enlist in transaction on entering meta-aware object!; - nested throwable: (javax.transaction.SystemException: java.lang.Throwable: Unabled to enlist resource, see the previous warnings. tx=TransactionImple &lt; ac, BasicAction: 6a288574:63f3:63d001d8:7c1fff status: ActionStatus.ABORT_ONLY &gt;)\r\n        at org.jboss.resource.connectionmanager.TxConnectionManager.managedConnectionReconnected(TxConnectionManager.java:343)\r\n        at org.jboss.resource.connectionmanager.BaseConnectionManager2.reconnectManagedConnection(BaseConnectionManager2.java:518)\r\n        at org.jboss.resource.connectionmanager.BaseConnectionManager2.allocateConnection(BaseConnectionManager2.java:399)\r\n        at org.jboss.resource.connectionmanager.BaseConnectionManager2$ConnectionManagerProxy.allocateConnection(BaseConnectionManager2.java:842)\r\n        at org.jboss.resource.adapter.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:88)\r\n        ... 7 more\r\nCaused by: javax.transaction.SystemException: java.lang.Throwable: Unabled to enlist resource, see the previous warnings. tx=TransactionImple &lt; ac, BasicAction: 6a288574:63f3:63d001d8:7c1fff status: ActionStatus.ABORT_ONLY &gt;\r\n        at org.jboss.resource.connectionmanager.TxConnectionManager$TxConnectionEventListener$TransactionSynchronization.checkEnlisted(TxConnectionManager.java:744)\r\n        at org.jboss.resource.connectionmanager.TxConnectionManager$TxConnectionEventListener.enlist(TxConnectionManager.java:577)\r\n        at org.jboss.resource.connectionmanager.TxConnectionManager.managedConnectionReconnected(TxConnectionManager.java:337)\r\n        ... 11 more\r\n05:51:09,339 WARN  [JDBCSupport] Trying again after a pause\r\n05:51:09,531 WARN  [loggerI18N] [com.arjuna.ats.internal.jta.transaction.arjunacore.enliststarterror] [com.arjuna.ats.internal.jta.transaction.arjunacore.enliststarterror] TransactionImple.enlistResource - XAResource.start returned: XAException.XAER_PROTO for &lt; 131075, 31, 29, 1-6a288574:63f3:63d001d8:7c20036a288574:63f3:63d001d8:7c2006^\r\n ERROR [STDERR] org.jboss.resource.connectionmanager.JBossLocalXAException: Trying to start a new tx when old is not complete! old: &lt; 131075, 31, 29, 1-6a288574:63f3:63d001d8:7bf8476a288574:63f3:63d001d8:7bf84a^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@ &gt;, new &lt; 131075, 31, 29, 1-6a288574:63f3:63d001d8:7c20036a288574:63f3:63d001d8:7c2006^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@ &gt;, flags 0\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.TxConnectionManager$LocalXAResource.start(TxConnectionManager.java:886)\r\n05:51:09,531 ERROR [STDERR]     at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.enlistResource(TransactionImple.java:774)\r\n05:51:09,531 ERROR [STDERR]     at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.enlistResource(TransactionImple.java:497)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.TxConnectionManager$TxConnectionEventListener$TransactionSynchronization.enlist(TxConnectionManager.java:773)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.TxConnectionManager$TxConnectionEventListener.enlist(TxConnectionManager.java:564)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.TxConnectionManager.managedConnectionReconnected(TxConnectionManager.java:337)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.BaseConnectionManager2.reconnectManagedConnection(BaseConnectionManager2.java:518)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.BaseConnectionManager2.allocateConnection(BaseConnectionManager2.java:399)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.BaseConnectionManager2$ConnectionManagerProxy.allocateConnection(BaseConnectionManager2.java:842)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.adapter.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:88)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.messaging.core.impl.JDBCSupport$JDBCTxRunner.execute(JDBCSupport.java:383)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.messaging.core.impl.JDBCSupport$JDBCTxRunner.executeWithRetry(JDBCSupport.java:407)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.messaging.core.impl.JDBCPersistenceManager.reapUnreferencedMessages(JDBCPersistenceManager.java:2357)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.messaging.core.impl.JDBCPersistenceManager.access$1000(JDBCPersistenceManager.java:78)\r\n05:51:09,531 ERROR [STDERR]     at org.jboss.messaging.core.impl.JDBCPersistenceManager$Reaper.run(JDBCPersistenceManager.java:2381)\r\n05:51:09,531 ERROR [STDERR]     at java.util.TimerThread.mainLoop(Timer.java:555)\r\n05:51:09,531 ERROR [STDERR]     at java.util.TimerThread.run(Timer.java:505)\r\n\r\n\r\n\r\n\r\n ERROR [JDBCSupport] Retried 25 times, now giving up\r\n05:51:06,096 ERROR [JDBCPersistenceManager] Failed to reap\r\njava.lang.IllegalStateException: Failed to excecute transaction\r\n        at org.jboss.messaging.core.impl.JDBCSupport$JDBCTxRunner.executeWithRetry(JDBCSupport.java:423)\r\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager.reapUnreferencedMessages(JDBCPersistenceManager.java:2357)\r\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager.access$1000(JDBCPersistenceManager.java:78)\r\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager$Reaper.run(JDBCPersistenceManager.java:2381)\r\n        at java.util.TimerThread.mainLoop(Timer.java:555)\r\n        at java.util.TimerThread.run(Timer.java:505)\r\n\t\t\r\n```\r\n\r\n\r\nPlease let us clear the below questions,\r\n1) Why this error occured repeatedly?\r\n2) In which condition, the above error occurs?\r\n3) How to prevent this error? \r\n","title":"Error - org.jboss.resource.connectionmanager.JBossLocalXAException: Trying to start a new tx when old is not complete","body":"<p>Our Java Application is running on RHEL 8.5 OS. And we are using the JBoss version of 4.2.1 GA. Our application worked fine for a few months. Recently, we encountered the below problem repeatedly which occupied almost 5 GB in the jboss.log file and we are trying to find the root cause.</p>\n<pre><code>WARN  [JDBCSupport] SQLException caught, SQLState null code:0- assuming deadlock detected, try:18\norg.jboss.util.NestedSQLException: Could not enlist in transaction on entering meta-aware object!; - nested throwable: (javax.transaction.SystemException: java.lang.Throwable: Unabled to enlist resource, see the previous warnings. tx=TransactionImple &lt; ac, BasicAction: 6a288574:63f3:63d001d8:7c1fff status: ActionStatus.ABORT_ONLY &gt;); - nested throwable: (org.jboss.resource.JBossResourceException: Could not enlist in transaction on entering meta-aware object!; - nested throwable: (javax.transaction.SystemException: java.lang.Throwable: Unabled to enlist resource, see the previous warnings. tx=TransactionImple &lt; ac, BasicAction: 6a288574:63f3:63d001d8:7c1fff status: ActionStatus.ABORT_ONLY &gt;))\n        at org.jboss.resource.adapter.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:94)\n        at org.jboss.messaging.core.impl.JDBCSupport$JDBCTxRunner.execute(JDBCSupport.java:383)\n        at org.jboss.messaging.core.impl.JDBCSupport$JDBCTxRunner.executeWithRetry(JDBCSupport.java:407)\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager.reapUnreferencedMessages(JDBCPersistenceManager.java:2357)\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager.access$1000(JDBCPersistenceManager.java:78)\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager$Reaper.run(JDBCPersistenceManager.java:2381)\n        at java.util.TimerThread.mainLoop(Timer.java:555)\n        at java.util.TimerThread.run(Timer.java:505)\nCaused by: org.jboss.resource.JBossResourceException: Could not enlist in transaction on entering meta-aware object!; - nested throwable: (javax.transaction.SystemException: java.lang.Throwable: Unabled to enlist resource, see the previous warnings. tx=TransactionImple &lt; ac, BasicAction: 6a288574:63f3:63d001d8:7c1fff status: ActionStatus.ABORT_ONLY &gt;)\n        at org.jboss.resource.connectionmanager.TxConnectionManager.managedConnectionReconnected(TxConnectionManager.java:343)\n        at org.jboss.resource.connectionmanager.BaseConnectionManager2.reconnectManagedConnection(BaseConnectionManager2.java:518)\n        at org.jboss.resource.connectionmanager.BaseConnectionManager2.allocateConnection(BaseConnectionManager2.java:399)\n        at org.jboss.resource.connectionmanager.BaseConnectionManager2$ConnectionManagerProxy.allocateConnection(BaseConnectionManager2.java:842)\n        at org.jboss.resource.adapter.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:88)\n        ... 7 more\nCaused by: javax.transaction.SystemException: java.lang.Throwable: Unabled to enlist resource, see the previous warnings. tx=TransactionImple &lt; ac, BasicAction: 6a288574:63f3:63d001d8:7c1fff status: ActionStatus.ABORT_ONLY &gt;\n        at org.jboss.resource.connectionmanager.TxConnectionManager$TxConnectionEventListener$TransactionSynchronization.checkEnlisted(TxConnectionManager.java:744)\n        at org.jboss.resource.connectionmanager.TxConnectionManager$TxConnectionEventListener.enlist(TxConnectionManager.java:577)\n        at org.jboss.resource.connectionmanager.TxConnectionManager.managedConnectionReconnected(TxConnectionManager.java:337)\n        ... 11 more\n05:51:09,339 WARN  [JDBCSupport] Trying again after a pause\n05:51:09,531 WARN  [loggerI18N] [com.arjuna.ats.internal.jta.transaction.arjunacore.enliststarterror] [com.arjuna.ats.internal.jta.transaction.arjunacore.enliststarterror] TransactionImple.enlistResource - XAResource.start returned: XAException.XAER_PROTO for &lt; 131075, 31, 29, 1-6a288574:63f3:63d001d8:7c20036a288574:63f3:63d001d8:7c2006^\n ERROR [STDERR] org.jboss.resource.connectionmanager.JBossLocalXAException: Trying to start a new tx when old is not complete! old: &lt; 131075, 31, 29, 1-6a288574:63f3:63d001d8:7bf8476a288574:63f3:63d001d8:7bf84a^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@ &gt;, new &lt; 131075, 31, 29, 1-6a288574:63f3:63d001d8:7c20036a288574:63f3:63d001d8:7c2006^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@ &gt;, flags 0\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.TxConnectionManager$LocalXAResource.start(TxConnectionManager.java:886)\n05:51:09,531 ERROR [STDERR]     at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.enlistResource(TransactionImple.java:774)\n05:51:09,531 ERROR [STDERR]     at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.enlistResource(TransactionImple.java:497)\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.TxConnectionManager$TxConnectionEventListener$TransactionSynchronization.enlist(TxConnectionManager.java:773)\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.TxConnectionManager$TxConnectionEventListener.enlist(TxConnectionManager.java:564)\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.TxConnectionManager.managedConnectionReconnected(TxConnectionManager.java:337)\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.BaseConnectionManager2.reconnectManagedConnection(BaseConnectionManager2.java:518)\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.BaseConnectionManager2.allocateConnection(BaseConnectionManager2.java:399)\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.connectionmanager.BaseConnectionManager2$ConnectionManagerProxy.allocateConnection(BaseConnectionManager2.java:842)\n05:51:09,531 ERROR [STDERR]     at org.jboss.resource.adapter.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:88)\n05:51:09,531 ERROR [STDERR]     at org.jboss.messaging.core.impl.JDBCSupport$JDBCTxRunner.execute(JDBCSupport.java:383)\n05:51:09,531 ERROR [STDERR]     at org.jboss.messaging.core.impl.JDBCSupport$JDBCTxRunner.executeWithRetry(JDBCSupport.java:407)\n05:51:09,531 ERROR [STDERR]     at org.jboss.messaging.core.impl.JDBCPersistenceManager.reapUnreferencedMessages(JDBCPersistenceManager.java:2357)\n05:51:09,531 ERROR [STDERR]     at org.jboss.messaging.core.impl.JDBCPersistenceManager.access$1000(JDBCPersistenceManager.java:78)\n05:51:09,531 ERROR [STDERR]     at org.jboss.messaging.core.impl.JDBCPersistenceManager$Reaper.run(JDBCPersistenceManager.java:2381)\n05:51:09,531 ERROR [STDERR]     at java.util.TimerThread.mainLoop(Timer.java:555)\n05:51:09,531 ERROR [STDERR]     at java.util.TimerThread.run(Timer.java:505)\n\n\n\n\n ERROR [JDBCSupport] Retried 25 times, now giving up\n05:51:06,096 ERROR [JDBCPersistenceManager] Failed to reap\njava.lang.IllegalStateException: Failed to excecute transaction\n        at org.jboss.messaging.core.impl.JDBCSupport$JDBCTxRunner.executeWithRetry(JDBCSupport.java:423)\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager.reapUnreferencedMessages(JDBCPersistenceManager.java:2357)\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager.access$1000(JDBCPersistenceManager.java:78)\n        at org.jboss.messaging.core.impl.JDBCPersistenceManager$Reaper.run(JDBCPersistenceManager.java:2381)\n        at java.util.TimerThread.mainLoop(Timer.java:555)\n        at java.util.TimerThread.run(Timer.java:505)\n        \n</code></pre>\n<p>Please let us clear the below questions,</p>\n<ol>\n<li>Why this error occured repeatedly?</li>\n<li>In which condition, the above error occurs?</li>\n<li>How to prevent this error?</li>\n</ol>\n"},{"tags":["java","linked-list","complexity-theory"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1680817942,"post_id":75954022,"comment_id":133966164,"body_markdown":"the problem is how to get to that element you need to move from the start till you find it which in worest case will require to visit all element","body":"the problem is how to get to that element you need to move from the start till you find it which in worest case will require to visit all element"},{"owner":{"account_id":7844323,"reputation":94,"user_id":5929859,"display_name":"shubhkr1"},"score":0,"creation_date":1680818028,"post_id":75954022,"comment_id":133966175,"body_markdown":"the complexity to delete element in DoublyLinkedLidt is O(n) because we need to search that element in that list first, and only then we can perform the link updates. The search operation takes O(n)","body":"the complexity to delete element in DoublyLinkedLidt is O(n) because we need to search that element in that list first, and only then we can perform the link updates. The search operation takes O(n)"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680818660,"post_id":75954022,"comment_id":133966254,"body_markdown":"Removing the element is O(1) but stepping through each of the links to get to the one to remove is O(n)","body":"Removing the element is O(1) but stepping through each of the links to get to the one to remove is O(n)"},{"owner":{"account_id":3191697,"reputation":21,"user_id":2695795,"display_name":"user2695795"},"score":0,"creation_date":1680853880,"post_id":75954022,"comment_id":133970002,"body_markdown":"The question is about if I have already the object. Suppose I have a LinkedList&lt;Person&gt; ll, I have the Person p1 and I want to do ll.remove(p1). This should be O(1) since I have the reference to p1, but Java does not work like this.","body":"The question is about if I have already the object. Suppose I have a LinkedList&lt;Person&gt; ll, I have the Person p1 and I want to do ll.remove(p1). This should be O(1) since I have the reference to p1, but Java does not work like this."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1680878793,"post_id":75954022,"comment_id":133974600,"body_markdown":"O(1) remove would be possible if Java supported proper iterators (an iterator is an reference to a node) for a Linked List, such as C++ std::list. In C++, nodes can also be moved within a list or from one list to another using std::list::splice(), but Java doesn&#39;t have an equivalent API.","body":"O(1) remove would be possible if Java supported proper iterators (an iterator is an reference to a node) for a Linked List, such as C++ std::list. In C++, nodes can also be moved within a list or from one list to another using std::list::splice(), but Java doesn&#39;t have an equivalent API."}],"answers":[{"tags":[],"owner":{"account_id":5519922,"reputation":60,"user_id":4383248,"display_name":"Denis Rozhko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680820458,"creation_date":1680820458,"answer_id":75954258,"question_id":75954022,"body_markdown":"The link to prev and next objects not in the object itself. In linkedlist we have some nodes with link to prev, next and object, to find this node we have to check every node one by one.","title":"Complexity remove an element from a LinkedList in Java","body":"<p>The link to prev and next objects not in the object itself. In linkedlist we have some nodes with link to prev, next and object, to find this node we have to check every node one by one.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680876650,"creation_date":1680855647,"answer_id":75956696,"question_id":75954022,"body_markdown":"If you already have the `element`, then indeed the delete operation has a time complexity of O(1).\r\n\r\nBut:\r\n\r\n* Java&#39;s [`LinkedList`](https://docs.oracle.com/javase/10/docs/api/java/util/LinkedList.html) class implements a doubly linked list, but its nodes are private. The API only provides access to the *values* in the linked list, not the nodes. So you never have a reference to the *element* to delete.\r\n\r\n* Even if you use an alternative implementation where you *do* have access to the nodes, you start out with a reference to the *head* node only, not with an array of references to *all* nodes in the list. So that means if you want to delete the *k*&lt;sup&gt;th&lt;/sup&gt; node in the list, you&#39;ll have to traverse the list to locate it first. It is only fair to include that work in the work of deleting the *k*&lt;sup&gt;th&lt;/sup&gt; node.\r\n\r\nYou wrote in a comment:\r\n\r\n&gt; Suppose I have a `LinkedList&lt;Person&gt; ll`, I have the `Person p1` and I want to do `ll.remove(p1)`. \r\n\r\nThat will not work like you hoped, because `Person` does not have the prev/next properties. When you create `LinkedList&lt;Person&gt; ll`, there is a private node class involved that *contains* a reference to a `Person`, but has in addition those prev/next references. That `p1` does not help you to get access to those prev/next members. You would still need to traverse the list to find which node has that particular `p1` and then update that node. This is what Java&#39;s [`removeFirstOccurrence`](https://docs.oracle.com/javase/10/docs/api/java/util/LinkedList.html#removeFirstOccurrence(java.lang.Object)) does.\r\n\r\n## Should Java&#39;s `LinkedList` have given access to nodes for better performance?\r\n\r\nYou may think that Java&#39;s choice to make the Node objects private and not provide methods to work on those nodes directly is a bad one, as it seems to make some operations on the list less efficient, but consider this:\r\n\r\n* If you have access to nodes directly, you can accidently make the list &quot;inconsistent&quot; in a way: you could:\r\n\r\n    1. introduce cycles\r\n    2. link to a node that is actually part of another list, and consequently:\r\n    3. mutate another list B by mutating list A.\r\n\r\n* Even if those effects are acceptable in your scenario, then consider that you don&#39;t have a direct reference to **each** node in the linked list. If you *would*, then you really ended up with a collection of node references, where you have the additional task to manage CRUD operations on that collection. For instance, if it is a vector, then deletion of a node reference in that vector will be O(n). Or if it is a Map, you need unique keys for your nodes, while linked lists allow for duplicates.\r\n\r\n    Whatever that collection would be like, it would represent an additional overhead, and in some cases you might then decide to drop the linked list and only keep that collection. For instance, with a TreeMap you get the order, and you get sublinear methods to get, set and delete an entry. ","title":"Complexity remove an element from a LinkedList in Java","body":"<p>If you already have the <code>element</code>, then indeed the delete operation has a time complexity of O(1).</p>\n<p>But:</p>\n<ul>\n<li><p>Java's <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\"><code>LinkedList</code></a> class implements a doubly linked list, but its nodes are private. The API only provides access to the <em>values</em> in the linked list, not the nodes. So you never have a reference to the <em>element</em> to delete.</p>\n</li>\n<li><p>Even if you use an alternative implementation where you <em>do</em> have access to the nodes, you start out with a reference to the <em>head</em> node only, not with an array of references to <em>all</em> nodes in the list. So that means if you want to delete the <em>k</em><sup>th</sup> node in the list, you'll have to traverse the list to locate it first. It is only fair to include that work in the work of deleting the <em>k</em><sup>th</sup> node.</p>\n</li>\n</ul>\n<p>You wrote in a comment:</p>\n<blockquote>\n<p>Suppose I have a <code>LinkedList&lt;Person&gt; ll</code>, I have the <code>Person p1</code> and I want to do <code>ll.remove(p1)</code>.</p>\n</blockquote>\n<p>That will not work like you hoped, because <code>Person</code> does not have the prev/next properties. When you create <code>LinkedList&lt;Person&gt; ll</code>, there is a private node class involved that <em>contains</em> a reference to a <code>Person</code>, but has in addition those prev/next references. That <code>p1</code> does not help you to get access to those prev/next members. You would still need to traverse the list to find which node has that particular <code>p1</code> and then update that node. This is what Java's <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/LinkedList.html#removeFirstOccurrence(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>removeFirstOccurrence</code></a> does.</p>\n<h2>Should Java's <code>LinkedList</code> have given access to nodes for better performance?</h2>\n<p>You may think that Java's choice to make the Node objects private and not provide methods to work on those nodes directly is a bad one, as it seems to make some operations on the list less efficient, but consider this:</p>\n<ul>\n<li><p>If you have access to nodes directly, you can accidently make the list &quot;inconsistent&quot; in a way: you could:</p>\n<ol>\n<li>introduce cycles</li>\n<li>link to a node that is actually part of another list, and consequently:</li>\n<li>mutate another list B by mutating list A.</li>\n</ol>\n</li>\n<li><p>Even if those effects are acceptable in your scenario, then consider that you don't have a direct reference to <strong>each</strong> node in the linked list. If you <em>would</em>, then you really ended up with a collection of node references, where you have the additional task to manage CRUD operations on that collection. For instance, if it is a vector, then deletion of a node reference in that vector will be O(n). Or if it is a Map, you need unique keys for your nodes, while linked lists allow for duplicates.</p>\n<p>Whatever that collection would be like, it would represent an additional overhead, and in some cases you might then decide to drop the linked list and only keep that collection. For instance, with a TreeMap you get the order, and you get sublinear methods to get, set and delete an entry.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":3191697,"reputation":21,"user_id":2695795,"display_name":"user2695795"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680876650,"creation_date":1680817801,"question_id":75954022,"body_markdown":"I do not understand why the complexity of removing an element in a LinkedList in Java is O(n).\r\nThe LinkedList in Java is a DoublyLinkedList. In an ideal DoublyLinkedList each element have a field prev and next that points to the next and previous element respectively.\r\nNow if I think about a method remove(element), the only thing to do is to update the next and the prev field of the previous and next element. This is O(1). This is the good thing of picking a DoublyLinked List.\r\n\r\n\r\nI tried to search in the built-in API an implementation that assure this complexity, but I failed.\r\nIs there a class in the Java API that allow to remove in O(1)?","title":"Complexity remove an element from a LinkedList in Java","body":"<p>I do not understand why the complexity of removing an element in a LinkedList in Java is O(n).\nThe LinkedList in Java is a DoublyLinkedList. In an ideal DoublyLinkedList each element have a field prev and next that points to the next and previous element respectively.\nNow if I think about a method remove(element), the only thing to do is to update the next and the prev field of the previous and next element. This is O(1). This is the good thing of picking a DoublyLinked List.</p>\n<p>I tried to search in the built-in API an implementation that assure this complexity, but I failed.\nIs there a class in the Java API that allow to remove in O(1)?</p>\n"},{"tags":["python","java","apache-spark","pyspark"],"answers":[{"tags":[],"owner":{"account_id":6134674,"reputation":4246,"user_id":4801289,"accept_rate":89,"display_name":"Ismail H"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641978023,"creation_date":1635493792,"answer_id":69765364,"question_id":69763427,"body_markdown":"I think you might be using the wrong version of Java. From the [doc][1]:\r\n\r\n&gt; Spark runs on Java 8/11, Scala 2.12, Python 3.6+ and R 3.5+. Python 3.6 support is deprecated as of Spark 3.2.0. Java 8 prior to version 8u201 support is deprecated as of Spark 3.2.0. For the Scala API, Spark 3.2.0 uses Scala 2.12. You will need to use a compatible Scala version (2.12.x).\r\n\r\nTry installing **Java 11** instead of your current version.\r\n\r\n  [1]: https://spark.apache.org/docs/latest/","title":"PySpark not initialized","body":"<p>I think you might be using the wrong version of Java. From the <a href=\"https://spark.apache.org/docs/latest/\" rel=\"nofollow noreferrer\">doc</a>:</p>\n<blockquote>\n<p>Spark runs on Java 8/11, Scala 2.12, Python 3.6+ and R 3.5+. Python 3.6 support is deprecated as of Spark 3.2.0. Java 8 prior to version 8u201 support is deprecated as of Spark 3.2.0. For the Scala API, Spark 3.2.0 uses Scala 2.12. You will need to use a compatible Scala version (2.12.x).</p>\n</blockquote>\n<p>Try installing <strong>Java 11</strong> instead of your current version.</p>\n"},{"tags":[],"owner":{"account_id":6275685,"reputation":411,"user_id":4878423,"display_name":"Arvind Pant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640055015,"creation_date":1640055015,"answer_id":70430146,"question_id":69763427,"body_markdown":"Yes, this is java version issue. I just installed OpenJDK 8 and uninstalled other versions of java and pyspark works fine now\r\n\r\nI m using \r\n\r\n - spark - 3.2.0\r\n - OS - macOS Monterey\r\n - Java - 16.0.1\r\n - Python - 3.9\r\n\r\nCheck Install java versions\r\n\r\n    /usr/libexec/java_home --verbose\r\n[![enter image description here][1]][1]\r\n\r\nUninstall other java versions\r\n\r\n    brew uninstall AdoptOpenJDK\r\n[![enter image description here][2]][2]\r\n\r\nRun `pyspark` and you will get below screen\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kjS2Q.png\r\n  [2]: https://i.stack.imgur.com/X9BXe.png\r\n  [3]: https://i.stack.imgur.com/R4WJD.png","title":"PySpark not initialized","body":"<p>Yes, this is java version issue. I just installed OpenJDK 8 and uninstalled other versions of java and pyspark works fine now</p>\n<p>I m using</p>\n<ul>\n<li>spark - 3.2.0</li>\n<li>OS - macOS Monterey</li>\n<li>Java - 16.0.1</li>\n<li>Python - 3.9</li>\n</ul>\n<p>Check Install java versions</p>\n<pre><code>/usr/libexec/java_home --verbose\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kjS2Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kjS2Q.png\" alt=\"enter image description here\" /></a></p>\n<p>Uninstall other java versions</p>\n<pre><code>brew uninstall AdoptOpenJDK\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/X9BXe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9BXe.png\" alt=\"enter image description here\" /></a></p>\n<p>Run <code>pyspark</code> and you will get below screen\n<a href=\"https://i.stack.imgur.com/R4WJD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R4WJD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18590235,"reputation":91,"user_id":13547620,"display_name":"bloussou"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1649844105,"creation_date":1649844105,"answer_id":71855571,"question_id":69763427,"body_markdown":"PySpark is using Py4J which requires:\r\n\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED\r\n\r\nAnd it requires:\r\n\r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n\r\nSo to have it work with Java 17 I&#39;m creating the session using:\r\n\r\n    SparkSession.builder.appName(&quot;test&quot;).config(\r\n        &quot;spark.driver.extraJavaOptions&quot;,\r\n        &quot;--add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED&quot;,\r\n    ).getOrCreate()\r\n\r\nHope this help","title":"PySpark not initialized","body":"<p>PySpark is using Py4J which requires:</p>\n<pre><code>--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED\n</code></pre>\n<p>And it requires:</p>\n<pre><code>--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n</code></pre>\n<p>So to have it work with Java 17 I'm creating the session using:</p>\n<pre><code>SparkSession.builder.appName(&quot;test&quot;).config(\n    &quot;spark.driver.extraJavaOptions&quot;,\n    &quot;--add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED&quot;,\n).getOrCreate()\n</code></pre>\n<p>Hope this help</p>\n"},{"tags":[],"owner":{"account_id":17441266,"reputation":33,"user_id":12643242,"display_name":"Jedidiah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655222187,"creation_date":1655222187,"answer_id":72620036,"question_id":69763427,"body_markdown":"From what I understand of this error, this is a compatibility issue. When installing Spark, you&#39;ll need to select &quot;Pre-built for Apache Hadoop 2.7&quot; as your package type:&lt;br&gt;\r\nhttps://spark.apache.org/downloads.html\r\n\r\nThen use hadoop-2.7.7/bin winutils.exe for your hadoop folder:&lt;br&gt;\r\nhttps://github.com/cdarlint/winutils/tree/master/hadoop-2.7.7\r\n","title":"PySpark not initialized","body":"<p>From what I understand of this error, this is a compatibility issue. When installing Spark, you'll need to select &quot;Pre-built for Apache Hadoop 2.7&quot; as your package type:<br>\n<a href=\"https://spark.apache.org/downloads.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/downloads.html</a></p>\n<p>Then use hadoop-2.7.7/bin winutils.exe for your hadoop folder:<br>\n<a href=\"https://github.com/cdarlint/winutils/tree/master/hadoop-2.7.7\" rel=\"nofollow noreferrer\">https://github.com/cdarlint/winutils/tree/master/hadoop-2.7.7</a></p>\n"},{"tags":[],"owner":{"account_id":17651229,"reputation":1,"user_id":12811663,"display_name":"Rajish Nair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672162746,"creation_date":1672162746,"answer_id":74932484,"question_id":69763427,"body_markdown":"Spark runs on Java 8/11/17, Scala 2.12/2.13, Python 3.7+ and R 3.5+. Java 8 prior to version 8u201 support is deprecated as of Spark 3.2.0.\r\nhttps://spark.apache.org/docs/latest/","title":"PySpark not initialized","body":"<p>Spark runs on Java 8/11/17, Scala 2.12/2.13, Python 3.7+ and R 3.5+. Java 8 prior to version 8u201 support is deprecated as of Spark 3.2.0.\n<a href=\"https://spark.apache.org/docs/latest/\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/</a></p>\n"}],"owner":{"account_id":19305991,"reputation":51,"user_id":14112791,"display_name":"Trung Tran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9053,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1680876558,"creation_date":1635479475,"question_id":69763427,"body_markdown":"I can run &quot;spark-shell&quot; on my local PC.\r\nBut I cannot have pyspark running on PC with the error attached with a log.\r\n\r\nI also googled on many places, but that did not solve my problem. \r\nAny people with experience with PySpark could enlighten my path. Thank you in advance.\r\n\r\nMy Config:\r\n\r\n - Spark: 3.2.0\r\n - Java 17\r\n - Python 3.8.6\r\n\r\n```\r\nPython 3.8.6 (tags/v3.8.6:db45529, Sep 23 2020, 15:52:53) [MSC v.1927 64 bit (AMD64)] on win32\r\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\nUsing Spark&#39;s default log4j profile: org/apache/spark/log4j-defaults.properties\r\nSetting default log level to &quot;WARN&quot;.\r\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\r\n21/10/29 10:37:08 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n21/10/29 10:37:08 WARN SparkContext: Another SparkContext is being constructed (or threw an exception in its constructor). This may indicate an error, since only one SparkContext should be running in this JVM (see SPARK-2243). The other SparkContext was created at:\r\norg.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\njava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\njava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\njava.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\njava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\njava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\npy4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\r\npy4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\npy4j.Gateway.invoke(Gateway.java:238)\r\npy4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\r\npy4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\r\npy4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\npy4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\njava.base/java.lang.Thread.run(Thread.java:833)\r\nC:\\DS\\spark\\python\\pyspark\\shell.py:42: UserWarning: Failed to initialize Spark session.\r\n  warnings.warn(&quot;Failed to initialize Spark session.&quot;)\r\nTraceback (most recent call last):\r\n  File &quot;C:\\DS\\spark\\python\\pyspark\\shell.py&quot;, line 38, in &lt;module&gt;\r\n    spark = SparkSession._create_shell_session()  # type: ignore\r\n  File &quot;C:\\DS\\spark\\python\\pyspark\\sql\\session.py&quot;, line 553, in _create_shell_session\r\n    return SparkSession.builder.getOrCreate()\r\n  File &quot;C:\\DS\\spark\\python\\pyspark\\sql\\session.py&quot;, line 228, in getOrCreate\r\n    sc = SparkContext.getOrCreate(sparkConf)\r\n  File &quot;C:\\DS\\spark\\python\\pyspark\\context.py&quot;, line 392, in getOrCreate\r\n    SparkContext(conf=conf or SparkConf())\r\n  File &quot;C:\\DS\\spark\\python\\pyspark\\context.py&quot;, line 146, in __init__\r\n    self._do_init(master, appName, sparkHome, pyFiles, environment, batchSize, serializer,\r\n  File &quot;C:\\DS\\spark\\python\\pyspark\\context.py&quot;, line 209, in _do_init\r\n    self._jsc = jsc or self._initialize_context(self._conf._jconf)\r\n  File &quot;C:\\DS\\spark\\python\\pyspark\\context.py&quot;, line 329, in _initialize_context\r\n    return self._jvm.JavaSparkContext(jconf)\r\n  File &quot;C:\\DS\\spark\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\java_gateway.py&quot;, line 1573, in __call__\r\n    return_value = get_return_value(\r\n  File &quot;C:\\DS\\spark\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\protocol.py&quot;, line 326, in get_return_value\r\n    raise Py4JJavaError(\r\npy4j.protocol.Py4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext.\r\n: java.lang.NoClassDefFoundError: Could not initialize class org.apache.spark.storage.StorageUtils$\r\n        at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110)\r\n        at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348)\r\n        at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287)\r\n        at org.apache.spark.SparkEnv$.create(SparkEnv.scala:336)\r\n        at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191)\r\n        at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\r\n        at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460)\r\n        at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\r\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n        at py4j.Gateway.invoke(Gateway.java:238)\r\n        at py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\r\n        at py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\r\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\nC:\\DS\\spark\\bin&gt;SUCCESS: The process with PID 29408 (child process of PID 19416) has been terminated.\r\nSUCCESS: The process with PID 19416 (child process of PID 37944) has been terminated.\r\nSUCCESS: The process with PID 37944 (child process of PID 23752) has been terminated.\r\n```","title":"PySpark not initialized","body":"<p>I can run &quot;spark-shell&quot; on my local PC.\nBut I cannot have pyspark running on PC with the error attached with a log.</p>\n<p>I also googled on many places, but that did not solve my problem.\nAny people with experience with PySpark could enlighten my path. Thank you in advance.</p>\n<p>My Config:</p>\n<ul>\n<li>Spark: 3.2.0</li>\n<li>Java 17</li>\n<li>Python 3.8.6</li>\n</ul>\n<pre><code>Python 3.8.6 (tags/v3.8.6:db45529, Sep 23 2020, 15:52:53) [MSC v.1927 64 bit (AMD64)] on win32\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\nSetting default log level to &quot;WARN&quot;.\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\n21/10/29 10:37:08 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n21/10/29 10:37:08 WARN SparkContext: Another SparkContext is being constructed (or threw an exception in its constructor). This may indicate an error, since only one SparkContext should be running in this JVM (see SPARK-2243). The other SparkContext was created at:\norg.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\njava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\njava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\njava.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\njava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\njava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\npy4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\npy4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\npy4j.Gateway.invoke(Gateway.java:238)\npy4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\npy4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\npy4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\npy4j.ClientServerConnection.run(ClientServerConnection.java:106)\njava.base/java.lang.Thread.run(Thread.java:833)\nC:\\DS\\spark\\python\\pyspark\\shell.py:42: UserWarning: Failed to initialize Spark session.\n  warnings.warn(&quot;Failed to initialize Spark session.&quot;)\nTraceback (most recent call last):\n  File &quot;C:\\DS\\spark\\python\\pyspark\\shell.py&quot;, line 38, in &lt;module&gt;\n    spark = SparkSession._create_shell_session()  # type: ignore\n  File &quot;C:\\DS\\spark\\python\\pyspark\\sql\\session.py&quot;, line 553, in _create_shell_session\n    return SparkSession.builder.getOrCreate()\n  File &quot;C:\\DS\\spark\\python\\pyspark\\sql\\session.py&quot;, line 228, in getOrCreate\n    sc = SparkContext.getOrCreate(sparkConf)\n  File &quot;C:\\DS\\spark\\python\\pyspark\\context.py&quot;, line 392, in getOrCreate\n    SparkContext(conf=conf or SparkConf())\n  File &quot;C:\\DS\\spark\\python\\pyspark\\context.py&quot;, line 146, in __init__\n    self._do_init(master, appName, sparkHome, pyFiles, environment, batchSize, serializer,\n  File &quot;C:\\DS\\spark\\python\\pyspark\\context.py&quot;, line 209, in _do_init\n    self._jsc = jsc or self._initialize_context(self._conf._jconf)\n  File &quot;C:\\DS\\spark\\python\\pyspark\\context.py&quot;, line 329, in _initialize_context\n    return self._jvm.JavaSparkContext(jconf)\n  File &quot;C:\\DS\\spark\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\java_gateway.py&quot;, line 1573, in __call__\n    return_value = get_return_value(\n  File &quot;C:\\DS\\spark\\python\\lib\\py4j-0.10.9.2-src.zip\\py4j\\protocol.py&quot;, line 326, in get_return_value\n    raise Py4JJavaError(\npy4j.protocol.Py4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext.\n: java.lang.NoClassDefFoundError: Could not initialize class org.apache.spark.storage.StorageUtils$\n        at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110)\n        at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348)\n        at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287)\n        at org.apache.spark.SparkEnv$.create(SparkEnv.scala:336)\n        at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191)\n        at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\n        at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460)\n        at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n        at py4j.Gateway.invoke(Gateway.java:238)\n        at py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)\n        at py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n\n\nC:\\DS\\spark\\bin&gt;SUCCESS: The process with PID 29408 (child process of PID 19416) has been terminated.\nSUCCESS: The process with PID 19416 (child process of PID 37944) has been terminated.\nSUCCESS: The process with PID 37944 (child process of PID 23752) has been terminated.\n</code></pre>\n"},{"tags":["java","sql","mybatis"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1680877227,"post_id":75959078,"comment_id":133974261,"body_markdown":"Difficult to tell without debug info. Please enable DEBUG level for the mapper and add the log to the question. The debug level will show the input parameters and the actual/final SQL statement that is run.","body":"Difficult to tell without debug info. Please enable DEBUG level for the mapper and add the log to the question. The debug level will show the input parameters and the actual/final SQL statement that is run."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1680951182,"post_id":75959078,"comment_id":133983212,"body_markdown":"@Dmytro There aren&#39;t enough information and the snippet you posted does not seem accurate, but (unlike `test` attribute of `&lt;if&gt;`) `#{}` does not support OGNL expression. To access map content, you need to use `#{myFilter.myMap.key1}` (OGNL supports this expression as well, BTW).","body":"@Dmytro There aren&#39;t enough information and the snippet you posted does not seem accurate, but (unlike <code>test</code> attribute of <code>&lt;if&gt;</code>) <code>#{}</code> does not support OGNL expression. To access map content, you need to use <code>#{myFilter.myMap.key1}</code> (OGNL supports this expression as well, BTW)."}],"owner":{"account_id":28241778,"reputation":1,"user_id":21589451,"display_name":"Dmytro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680875842,"creation_date":1680875842,"question_id":75959078,"body_markdown":"In mapper interface I have:\r\n\r\n`ArrayList&lt;Item&gt; select(@Param(&quot;myFilter&quot;)int Filter myFilter);`\r\n\r\nIn class Filter I have:\r\n`class Filter{\r\nString str;\r\nHashMap&lt;String,String&gt; myMap;\r\n}`\r\n\r\nMy Map has:\r\n`myMap.put(&quot;key1&quot;, &quot;val1&quot;);\r\nmyMap.put(&quot;key2&quot;, &quot;val2&quot;);`\r\n\r\nIn mapper xml I want to check muMap value in &lt;IF&gt; and add in SQL code filter with this value, like:\r\n\r\n` &lt;select id=&quot;select&quot; resultMap=&quot;RM&quot;&gt;\r\n        SELECT ... \r\n        FROM ....\r\n        WHERE id=#{myFilter.str}\r\n        &lt;if test=&quot;myFilter != null\r\n\t\tand myFilter.myMap !=null\r\n\t\tand myFilter.myMap.get(&#39;key1&#39;) != null&gt;\r\n        AND code = #{myFilter.myMap.get(&#39;key1&#39;)};\r\n        &lt;/if&gt;\r\n    &lt;/select&gt;`\r\n\r\nNo errors but the result is not as expected (it returns empty set but I know item with such id exists). \r\nThe #{myFilter.myMap.get(&#39;key1&#39;)} and myFilter.myMap.get(&#39;key1&#39;) in &lt;IF&gt; seems do not to work. \r\nWhere is my mistake? Thank you.\r\n\r\nThe #{myFilter.myMap.get(&#39;key1&#39;)} and myFilter.myMap.get(&#39;key1&#39;) in &lt;IF&gt; seems do not to work. \r\nWhere is my mistake? Thank you.","title":"MyBatis nested parameter from HashMap","body":"<p>In mapper interface I have:</p>\n<p><code>ArrayList&lt;Item&gt; select(@Param(&quot;myFilter&quot;)int Filter myFilter);</code></p>\n<p>In class Filter I have:\n<code>class Filter{ String str; HashMap&lt;String,String&gt; myMap; }</code></p>\n<p>My Map has:\n<code>myMap.put(&quot;key1&quot;, &quot;val1&quot;); myMap.put(&quot;key2&quot;, &quot;val2&quot;);</code></p>\n<p>In mapper xml I want to check muMap value in  and add in SQL code filter with this value, like:</p>\n<p><code> &lt;select id=&quot;select&quot; resultMap=&quot;RM&quot;&gt; SELECT ...  FROM .... WHERE id=#{myFilter.str} &lt;if test=&quot;myFilter != null and myFilter.myMap !=null and myFilter.myMap.get('key1') != null&gt; AND code = #{myFilter.myMap.get('key1')}; &lt;/if&gt; &lt;/select&gt;</code></p>\n<p>No errors but the result is not as expected (it returns empty set but I know item with such id exists).\nThe #{myFilter.myMap.get('key1')} and myFilter.myMap.get('key1') in  seems do not to work.\nWhere is my mistake? Thank you.</p>\n<p>The #{myFilter.myMap.get('key1')} and myFilter.myMap.get('key1') in  seems do not to work.\nWhere is my mistake? Thank you.</p>\n"},{"tags":["java","jms","spring-jms"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1680708858,"post_id":75938724,"comment_id":133944941,"body_markdown":"Have you considered removing the @Valid annotation and performing the validation within the method?","body":"Have you considered removing the @Valid annotation and performing the validation within the method?"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1680872976,"post_id":75938724,"comment_id":133973360,"body_markdown":"@DwB yes, but i think that it would be prettier if I perform validation by annotations. I&#39;m trying to avoid having the validation process appear in the listener method and leaving only the business logic there.","body":"@DwB yes, but i think that it would be prettier if I perform validation by annotations. I&#39;m trying to avoid having the validation process appear in the listener method and leaving only the business logic there."}],"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680875580,"creation_date":1680693148,"question_id":75938724,"body_markdown":"I use LocalValidatorFactoryBean and javax.validation annotations to validate my payload in @JmsListener.Is there any way to prevent message rollback if message is not valid and exception was thrown? Setting `ErrorHandler` to `ADTJmsListenerContainerFactory` is not a solution because the `ErrorHandler` is invoked after the rollback.\r\n\r\nHere is my config:\r\n\r\nOracleAQConfig:\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @EnableJms\r\n    @RequiredArgsConstructor\r\n    public class OracleAQConfig {\r\n        private final ConnectionFactory receiverActiveMQConnectionFactory;\r\n    \r\n        @Bean(name = &quot;jmsListenerFactory&quot;)\r\n        public ADTJmsListenerContainerFactory orderADTJmsListenerContainerFactory(final ClobConverter clobConverter,\r\n                                                                                  final DatasourceProperties datasourceProperties,\r\n                                                                                  @Value(&quot;${listener.concurrency}&quot;) final String concurrency) {\r\n            ADTJmsListenerContainerFactory factory =\r\n                    new ADTJmsListenerContainerFactory();\r\n            factory.setConnectionFactory(receiverActiveMQConnectionFactory);\r\n            factory.setAutoStartup(true);\r\n            factory.setSessionTransacted(true);\r\n            factory.setRecoveryInterval(datasourceProperties.getQueueRecoveryInterval());\r\n            factory.setMessageConverter(clobConverter);\r\n            factory.setConcurrency(concurrency);\r\n            return factory;\r\n        }\r\n    }\r\n    \r\nADTJmsListenerContainerFactory:\r\n\r\n    public class ADTJmsListenerContainerFactory extends DefaultJmsListenerContainerFactory {\r\n    \r\n        @Override\r\n        protected DefaultMessageListenerContainer createContainerInstance() {\r\n            return new AdtMessageListenerContainer();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nActiveMQConfig:\r\n\r\n    @EnableJms\r\n    @Configuration\r\n    public class ActiveMQConfig implements JmsListenerConfigurer {\r\n    \r\n        @Override\r\n        public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\r\n            registrar.setMessageHandlerMethodFactory(methodFactory());\r\n        }\r\n    \r\n        @Bean\r\n        public DefaultMessageHandlerMethodFactory methodFactory() {\r\n            DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\r\n            factory.setValidator(validator());\r\n    \r\n            return factory;\r\n        }\r\n    \r\n        @Bean\r\n        public Validator validator() {\r\n            return new LocalValidatorFactoryBean();\r\n        }\r\n    }\r\n\r\nListener:\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class MyListener {\r\n    \r\n        @JmsListener(destination = &quot;${queue.name}&quot;, containerFactory = &quot;jmsListenerFactory&quot;)\r\n        public void process(@Payload @Valid Pojo pojo, Session session) throws JMSException {\r\n            log.info(&quot;New message from queue {}&quot;, pojo);\r\n    \r\n            try {\r\n                //do smth\r\n                session.commit();\r\n            } catch (SpecificException e) {\r\n                log.error(e.getMessage(), e);\r\n                session.rollback();\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage(), e);\r\n            }\r\n        }\r\n    }\r\n\r\nPojo:\r\n\r\n    @Getter\r\n    public class Pojo {\r\n        private String field1;\r\n    \r\n        @NotNull\r\n        private String field2;\r\n    }\r\n\r\nStacktrace:\r\n\r\n    2023-04-05 13:52:45.699 | DefaultMessageListenerContainer-2 | WARN  | o.s.data.jdbc.jms.listener.oracle.AdtMessageListenerContainer           - Execution of JMS message listener failed, and no ErrorHandler has been set.\r\n            org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method could not be invoked with incoming message\r\n            Endpoint handler details:\r\n            Method [public void mypackage.MyListener.process(mypackage.dto.POJO,javax.jms.Session) throws javax.jms.JMSException]\r\n            Bean [mypackage.MyListener@7a572b4]\r\n            ; nested exception is org.springframework.messaging.handler.annotation.support.MethodArgumentNotValidException: Could not resolve method parameter","title":"@JmsListener prevent message rollback if message not valid","body":"<p>I use LocalValidatorFactoryBean and javax.validation annotations to validate my payload in @JmsListener.Is there any way to prevent message rollback if message is not valid and exception was thrown? Setting <code>ErrorHandler</code> to <code>ADTJmsListenerContainerFactory</code> is not a solution because the <code>ErrorHandler</code> is invoked after the rollback.</p>\n<p>Here is my config:</p>\n<p>OracleAQConfig:</p>\n<pre><code>@Slf4j\n@Configuration\n@EnableJms\n@RequiredArgsConstructor\npublic class OracleAQConfig {\n    private final ConnectionFactory receiverActiveMQConnectionFactory;\n\n    @Bean(name = &quot;jmsListenerFactory&quot;)\n    public ADTJmsListenerContainerFactory orderADTJmsListenerContainerFactory(final ClobConverter clobConverter,\n                                                                              final DatasourceProperties datasourceProperties,\n                                                                              @Value(&quot;${listener.concurrency}&quot;) final String concurrency) {\n        ADTJmsListenerContainerFactory factory =\n                new ADTJmsListenerContainerFactory();\n        factory.setConnectionFactory(receiverActiveMQConnectionFactory);\n        factory.setAutoStartup(true);\n        factory.setSessionTransacted(true);\n        factory.setRecoveryInterval(datasourceProperties.getQueueRecoveryInterval());\n        factory.setMessageConverter(clobConverter);\n        factory.setConcurrency(concurrency);\n        return factory;\n    }\n}\n</code></pre>\n<p>ADTJmsListenerContainerFactory:</p>\n<pre><code>public class ADTJmsListenerContainerFactory extends DefaultJmsListenerContainerFactory {\n\n    @Override\n    protected DefaultMessageListenerContainer createContainerInstance() {\n        return new AdtMessageListenerContainer();\n    }\n\n}\n</code></pre>\n<p>ActiveMQConfig:</p>\n<pre><code>@EnableJms\n@Configuration\npublic class ActiveMQConfig implements JmsListenerConfigurer {\n\n    @Override\n    public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\n        registrar.setMessageHandlerMethodFactory(methodFactory());\n    }\n\n    @Bean\n    public DefaultMessageHandlerMethodFactory methodFactory() {\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\n        factory.setValidator(validator());\n\n        return factory;\n    }\n\n    @Bean\n    public Validator validator() {\n        return new LocalValidatorFactoryBean();\n    }\n}\n</code></pre>\n<p>Listener:</p>\n<pre><code>@Slf4j\n@Component\npublic class MyListener {\n\n    @JmsListener(destination = &quot;${queue.name}&quot;, containerFactory = &quot;jmsListenerFactory&quot;)\n    public void process(@Payload @Valid Pojo pojo, Session session) throws JMSException {\n        log.info(&quot;New message from queue {}&quot;, pojo);\n\n        try {\n            //do smth\n            session.commit();\n        } catch (SpecificException e) {\n            log.error(e.getMessage(), e);\n            session.rollback();\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n        }\n    }\n}\n</code></pre>\n<p>Pojo:</p>\n<pre><code>@Getter\npublic class Pojo {\n    private String field1;\n\n    @NotNull\n    private String field2;\n}\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>2023-04-05 13:52:45.699 | DefaultMessageListenerContainer-2 | WARN  | o.s.data.jdbc.jms.listener.oracle.AdtMessageListenerContainer           - Execution of JMS message listener failed, and no ErrorHandler has been set.\n        org.springframework.jms.listener.adapter.ListenerExecutionFailedException: Listener method could not be invoked with incoming message\n        Endpoint handler details:\n        Method [public void mypackage.MyListener.process(mypackage.dto.POJO,javax.jms.Session) throws javax.jms.JMSException]\n        Bean [mypackage.MyListener@7a572b4]\n        ; nested exception is org.springframework.messaging.handler.annotation.support.MethodArgumentNotValidException: Could not resolve method parameter\n</code></pre>\n"},{"tags":["java","parsing","csv"],"comments":[{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1318892345,"post_id":7800494,"comment_id":9503297,"body_markdown":"No idea about easily, CSV has a few fiddly edge cases: escaped quotes – using several styles no less; and newlines in field values – fun if you have to report errors with the CSV line they occured on. If you can&#39;t use an existing parser and might have to deal with these, write a parser. (Which is also fun to do if you&#39;re not allowed a parser generator.)","body":"No idea about easily, CSV has a few fiddly edge cases: escaped quotes – using several styles no less; and newlines in field values – fun if you have to report errors with the CSV line they occured on. If you can&#39;t use an existing parser and might have to deal with these, write a parser. (Which is also fun to do if you&#39;re not allowed a parser generator.)"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":2,"creation_date":1318894546,"post_id":7800494,"comment_id":9503698,"body_markdown":"if the company asks for no open source libs {regardless the license) and you need help w/ a simple parse...","body":"if the company asks for no open source libs {regardless the license) and you need help w/ a simple parse..."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1318894633,"post_id":7800494,"comment_id":9503708,"body_markdown":"@Inerdia, the parsing is around 30lines of hand written code, no need for generator.","body":"@Inerdia, the parsing is around 30lines of hand written code, no need for generator."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1396531124,"post_id":7800494,"comment_id":34837071,"body_markdown":"possible duplicate of [Parsing CSV in java](http://stackoverflow.com/questions/3908012/parsing-csv-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3908012/parsing-csv-in-java\">Parsing CSV in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1318891716,"creation_date":1318891716,"answer_id":7800519,"question_id":7800494,"body_markdown":"You could use `Matcher.find` with the following regular expression:\r\n\r\n&lt;pre&gt;\r\n\\s*(&quot;[^&quot;]*&quot;|[^,]*)\\s*\r\n&lt;/pre&gt;\r\n\r\nHere&#39;s a more complete example:\r\n\r\n    String s = &quot;a1, a2, a3, \\&quot;a4,a5\\&quot;, a6&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;\\\\s*(\\&quot;[^\\&quot;]*\\&quot;|[^,]*)\\\\s*&quot;);\r\n    Matcher matcher = pattern.matcher(s);\r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group(1));\r\n    }\r\n\r\nSee it working online: [ideone][1]\r\n\r\n[1]: http://ideone.com/CkVGH","title":"Parse CSV with double quote in some cases","body":"<p>You could use <code>Matcher.find</code> with the following regular expression:</p>\n\n<pre>\n\\s*(\"[^\"]*\"|[^,]*)\\s*\n</pre>\n\n<p>Here's a more complete example:</p>\n\n<pre><code>String s = \"a1, a2, a3, \\\"a4,a5\\\", a6\";\nPattern pattern = Pattern.compile(\"\\\\s*(\\\"[^\\\"]*\\\"|[^,]*)\\\\s*\");\nMatcher matcher = pattern.matcher(s);\nwhile (matcher.find()) {\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n\n<p>See it working online: <a href=\"http://ideone.com/CkVGH\">ideone</a></p>\n"},{"tags":[],"owner":{"account_id":461510,"reputation":147,"user_id":863239,"display_name":"K4KYA"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1318893208,"creation_date":1318892712,"answer_id":7800637,"question_id":7800494,"body_markdown":"I came across this same problem (but in Python), one way I found to solve it, without regexes, was:\r\nWhen you get the line, check for any quotes, if there are quotes, split the string on quotes, and split the even indexed results of the resulting array on commas. The odd indexed strings should be the full quoted values.\r\n\r\nI&#39;m no Java coder, so take this as pseudocode...\r\n\r\n    line = String[];\r\n    \tif (&#39;&quot;&#39; in row){\r\n    \t\tvals = row.split(&#39;&quot;&#39;);\r\n    \t\tfor (int i =0; i&lt;vals.length();i+=2){\r\n    \t\t\tline+=vals[i].split(&#39;,&#39;);\r\n    \t\t}\r\n    \t\tfor (int j=1; j&lt;vals.length();j+=2){\r\n    \t\t\tline+=vals[j];\r\n    \t\t}\r\n    \t}\r\n    \telse{\r\n    \t\tline = row.split(&#39;,&#39;)\r\n    \t}\r\nAlternatively, use a regex.","title":"Parse CSV with double quote in some cases","body":"<p>I came across this same problem (but in Python), one way I found to solve it, without regexes, was:\nWhen you get the line, check for any quotes, if there are quotes, split the string on quotes, and split the even indexed results of the resulting array on commas. The odd indexed strings should be the full quoted values.</p>\n\n<p>I'm no Java coder, so take this as pseudocode...</p>\n\n<pre><code>line = String[];\n    if ('\"' in row){\n        vals = row.split('\"');\n        for (int i =0; i&lt;vals.length();i+=2){\n            line+=vals[i].split(',');\n        }\n        for (int j=1; j&lt;vals.length();j+=2){\n            line+=vals[j];\n        }\n    }\n    else{\n        line = row.split(',')\n    }\n</code></pre>\n\n<p>Alternatively, use a regex.</p>\n"},{"tags":[],"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1318897741,"creation_date":1318897741,"answer_id":7801164,"question_id":7800494,"body_markdown":"Here is some code for you, I hope using code out of here doesn&#39;t count open source, which is.\r\n\r\n    package bestsss.util;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class SplitCSVLine {\r\n    \tpublic static String[] splitCSV(BufferedReader reader) throws IOException{\r\n    \t\treturn splitCSV(reader, null, &#39;,&#39;, &#39;&quot;&#39;);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t * @param reader - some line enabled reader, we lazy\r\n    \t * @param expectedColumns - convenient int[1] to return the expected\r\n    \t * @param separator - the C(omma) SV (or alternative like semi-colon) \r\n    \t * @param quote - double quote char (&#39;&quot;&#39;) or alternative\r\n    \t * @return String[] containing the field\r\n    \t * @throws IOException\r\n    \t */\r\n    \tpublic static String[] splitCSV(BufferedReader reader, int[] expectedColumns, char separator, char quote) throws IOException{\t\t\r\n    \t\tfinal List&lt;String&gt; tokens = new ArrayList&lt;String&gt;(expectedColumns==null?8:expectedColumns[0]);\r\n    \t\tfinal StringBuilder sb = new StringBuilder(24);\r\n    \r\n    \t\tfor(boolean quoted=false;;sb.append(&#39;\\n&#39;)) {//lazy, we do not preserve the original new line, but meh\r\n    \t\t\tfinal String line = reader.readLine();\r\n    \t\t\tif (line==null)\r\n    \t\t\t\tbreak;\r\n    \t\t\tfor (int i = 0, len= line.length(); i &lt; len; i++) {\t\r\n    \t\t\t\tfinal char c = line.charAt(i);\r\n    \t\t\t\tif (c == quote) {\r\n    \t\t\t\t\tif( quoted   &amp;&amp; i&lt;len-1 &amp;&amp; line.charAt(i+1) == quote ){//2xdouble quote in quoted \r\n    \t\t\t\t\t\tsb.append(c);\r\n    \t\t\t\t\t\ti++;//skip it\r\n    \t\t\t\t\t}else{\r\n    \t\t\t\t\t\tif (quoted){\r\n    \t\t\t\t\t\t\t//next symbol must be either separator or eol according to RFC 4180\r\n    \t\t\t\t\t\t\tif (i==len-1 || line.charAt(i+1) == separator){\r\n    \t\t\t\t\t\t\t\tquoted = false;\r\n    \t\t\t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t} else{//not quoted\r\n    \t\t\t\t\t\t\tif (sb.length()==0){//at the very start\r\n    \t\t\t\t\t\t\t\tquoted=true;\r\n    \t\t\t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t//if fall here, bogus, just add the quote and move on; or throw exception if you like to\r\n    \t\t\t\t\t\t/*\r\n    \t\t\t\t\t\t5.  Each field may or may not be enclosed in double quotes (however\r\n    \t\t\t\t\t       some programs, such as Microsoft Excel, do not use double quotes\r\n    \t\t\t\t\t       at all).  If fields are not enclosed with double quotes, then\r\n    \t\t\t\t\t       double quotes may not appear inside the fields.\r\n    \t\t\t\t\t  */ \r\n    \t\t\t\t\t\tsb.append(c);\t          \t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else if (c == separator &amp;&amp; !quoted) {\r\n    \t\t\t\t\ttokens.add(sb.toString());\r\n    \t\t\t\t\tsb.setLength(0); \r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tsb.append(c);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (!quoted)\r\n    \t\t\t\tbreak;\t\t\r\n    \t\t}\r\n    \t\ttokens.add(sb.toString());//add last\r\n    \t\tif (expectedColumns !=null)\r\n    \t\t\texpectedColumns[0] = tokens.size();\r\n    \t\treturn tokens.toArray(new String[tokens.size()]);\r\n    \t}\r\n    \tpublic static void main(String[] args) throws Throwable{\r\n    \t\tjava.io.StringReader r = new java.io.StringReader(&quot;222,\\&quot;\\&quot;\\&quot;zzzz\\&quot;, abc\\&quot;\\&quot; ,   111   ,\\&quot;1\\n2\\n3\\n\\&quot;&quot;);\r\n    \t\tSystem.out.println(java.util.Arrays.toString(splitCSV(new BufferedReader(r))));\r\n    \t}\r\n    }\r\n\r\n","title":"Parse CSV with double quote in some cases","body":"<p>Here is some code for you, I hope using code out of here doesn't count open source, which is.</p>\n\n<pre><code>package bestsss.util;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SplitCSVLine {\n    public static String[] splitCSV(BufferedReader reader) throws IOException{\n        return splitCSV(reader, null, ',', '\"');\n    }\n\n    /**\n     * \n     * @param reader - some line enabled reader, we lazy\n     * @param expectedColumns - convenient int[1] to return the expected\n     * @param separator - the C(omma) SV (or alternative like semi-colon) \n     * @param quote - double quote char ('\"') or alternative\n     * @return String[] containing the field\n     * @throws IOException\n     */\n    public static String[] splitCSV(BufferedReader reader, int[] expectedColumns, char separator, char quote) throws IOException{       \n        final List&lt;String&gt; tokens = new ArrayList&lt;String&gt;(expectedColumns==null?8:expectedColumns[0]);\n        final StringBuilder sb = new StringBuilder(24);\n\n        for(boolean quoted=false;;sb.append('\\n')) {//lazy, we do not preserve the original new line, but meh\n            final String line = reader.readLine();\n            if (line==null)\n                break;\n            for (int i = 0, len= line.length(); i &lt; len; i++) { \n                final char c = line.charAt(i);\n                if (c == quote) {\n                    if( quoted   &amp;&amp; i&lt;len-1 &amp;&amp; line.charAt(i+1) == quote ){//2xdouble quote in quoted \n                        sb.append(c);\n                        i++;//skip it\n                    }else{\n                        if (quoted){\n                            //next symbol must be either separator or eol according to RFC 4180\n                            if (i==len-1 || line.charAt(i+1) == separator){\n                                quoted = false;\n                                continue;\n                            }\n                        } else{//not quoted\n                            if (sb.length()==0){//at the very start\n                                quoted=true;\n                                continue;\n                            }\n                        }\n                        //if fall here, bogus, just add the quote and move on; or throw exception if you like to\n                        /*\n                        5.  Each field may or may not be enclosed in double quotes (however\n                           some programs, such as Microsoft Excel, do not use double quotes\n                           at all).  If fields are not enclosed with double quotes, then\n                           double quotes may not appear inside the fields.\n                      */ \n                        sb.append(c);                   \n                    }\n                } else if (c == separator &amp;&amp; !quoted) {\n                    tokens.add(sb.toString());\n                    sb.setLength(0); \n                } else {\n                    sb.append(c);\n                }\n            }\n            if (!quoted)\n                break;      \n        }\n        tokens.add(sb.toString());//add last\n        if (expectedColumns !=null)\n            expectedColumns[0] = tokens.size();\n        return tokens.toArray(new String[tokens.size()]);\n    }\n    public static void main(String[] args) throws Throwable{\n        java.io.StringReader r = new java.io.StringReader(\"222,\\\"\\\"\\\"zzzz\\\", abc\\\"\\\" ,   111   ,\\\"1\\n2\\n3\\n\\\"\");\n        System.out.println(java.util.Arrays.toString(splitCSV(new BufferedReader(r))));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1413245,"reputation":3058,"user_id":1339436,"accept_rate":82,"display_name":"craigrs84"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405091189,"creation_date":1404956548,"answer_id":24666248,"question_id":7800494,"body_markdown":"The below code seems to work well and can handle quotes within quotes.\r\n\r\n    final static Pattern quote = Pattern.compile(&quot;^\\\\s*\\&quot;((?:[^\\&quot;]|(?:\\&quot;\\&quot;))*?)\\&quot;\\\\s*,&quot;);\r\n\r\n\tpublic static List&lt;String&gt; parseCsv(String line) throws Exception\r\n    {\t\t\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\tline += &quot;,&quot;;\r\n\t\t\r\n\t\tfor (int x = 0; x &lt; line.length(); x++)\r\n    \t{\r\n    \t\tString s = line.substring(x);\r\n    \t\tif (s.trim().startsWith(&quot;\\&quot;&quot;))\r\n    \t\t{\r\n    \t\t\tMatcher m = quote.matcher(s);\r\n    \t\t\tif (!m.find())\r\n    \t\t\t\tthrow new Exception(&quot;CSV is malformed&quot;);\r\n    \t\t\tlist.add(m.group(1).replace(&quot;\\&quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\r\n    \t\t\tx += m.end() - 1;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tint y = s.indexOf(&quot;,&quot;);\r\n    \t\t\tif (y == -1)\r\n    \t\t\t\tthrow new Exception(&quot;CSV is malformed&quot;);\r\n\t\t\t\tlist.add(s.substring(0, y));\r\n\t\t\t\tx += y;\r\n    \t\t}\r\n    \t}\r\n    \treturn list;\r\n    }","title":"Parse CSV with double quote in some cases","body":"<p>The below code seems to work well and can handle quotes within quotes.</p>\n\n<pre><code>final static Pattern quote = Pattern.compile(\"^\\\\s*\\\"((?:[^\\\"]|(?:\\\"\\\"))*?)\\\"\\\\s*,\");\n\npublic static List&lt;String&gt; parseCsv(String line) throws Exception\n{       \n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    line += \",\";\n\n    for (int x = 0; x &lt; line.length(); x++)\n    {\n        String s = line.substring(x);\n        if (s.trim().startsWith(\"\\\"\"))\n        {\n            Matcher m = quote.matcher(s);\n            if (!m.find())\n                throw new Exception(\"CSV is malformed\");\n            list.add(m.group(1).replace(\"\\\"\\\"\", \"\\\"\"));\n            x += m.end() - 1;\n        }\n        else\n        {\n            int y = s.indexOf(\",\");\n            if (y == -1)\n                throw new Exception(\"CSV is malformed\");\n            list.add(s.substring(0, y));\n            x += y;\n        }\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1943887,"reputation":1,"user_id":1749455,"display_name":"Marco Guardigli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671853542,"creation_date":1671745526,"answer_id":74894152,"question_id":7800494,"body_markdown":"Here is my solution, in Python.\r\nIt can take care of single level quotes.\r\n\r\n```python\r\ndef parserow(line):\r\n    &#39;&#39;&#39; this splits the input line on commas &#39;,&#39; but allowing commas within fields\r\n    if they are within double quotes &#39;&quot;&#39;\r\n    example:\r\n        fieldname1,fieldname2,fieldname3\r\n        field value1,&quot;field, value2, allowing, commas&quot;, field value3\r\n    gives:\r\n        [&#39;field value1&#39;,&#39;&quot;field, value2, allowing, commas&quot;&#39;, &#39; field value3&#39;]\r\n    &#39;&#39;&#39;\r\n    out = []\r\n    current_field = &#39;&#39;\r\n    within_quote = False\r\n    for c in line:\r\n        if c == &#39;&quot;&#39;:\r\n            within_quote = not within_quote\r\n        if c == &#39;,&#39;:\r\n            if not within_quote:\r\n                out.append(current_field)\r\n                current_field = &#39;&#39;\r\n                continue\r\n        current_field += c\r\n    if len(current_field) != 0:\r\n        out.append(current_field)\r\n    return out\r\n```","title":"Parse CSV with double quote in some cases","body":"<p>Here is my solution, in Python.\nIt can take care of single level quotes.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def parserow(line):\n    ''' this splits the input line on commas ',' but allowing commas within fields\n    if they are within double quotes '&quot;'\n    example:\n        fieldname1,fieldname2,fieldname3\n        field value1,&quot;field, value2, allowing, commas&quot;, field value3\n    gives:\n        ['field value1','&quot;field, value2, allowing, commas&quot;', ' field value3']\n    '''\n    out = []\n    current_field = ''\n    within_quote = False\n    for c in line:\n        if c == '&quot;':\n            within_quote = not within_quote\n        if c == ',':\n            if not within_quote:\n                out.append(current_field)\n                current_field = ''\n                continue\n        current_field += c\n    if len(current_field) != 0:\n        out.append(current_field)\n    return out\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28241745,"reputation":1,"user_id":21589425,"display_name":"sandeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680875478,"creation_date":1680875478,"answer_id":75959034,"question_id":7800494,"body_markdown":"\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tfinal StringBuilder sb = new StringBuilder(240000);\r\n\t\tString s = &quot;&quot;;\r\n\t\tboolean start = false;\r\n\t\tboolean ending = false;\r\n\t\tboolean nestedQuote = false;\r\n\t\tboolean nestedComma = false;\r\n\t\t\r\n\t\tchar previous = 0 ;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tchar c = s.charAt(i);\r\n           if(!start &amp;&amp;c==&#39;&quot;&#39; &amp;&amp; previous == &#39;,&#39; &amp;&amp; !nestedQuote ) {\r\n            \tSystem.out.println(&quot;sarted&quot;);\r\n            \tsb.append(c); \r\n            \tstart = true;\r\n            \tprevious = c;\r\n            \tSystem.out.println(sb);\r\n            \tcontinue;\r\n            }\r\n           \r\n           if(start &amp;&amp; c==&#39;,&#39; &amp;&amp; previous == &#39;&quot;&#39;)  \r\n           {\r\n        \tnestedQuote = false;\r\n           \tSystem.out.println(&quot;ended&quot;);\r\n           \tsb.append(c); \r\n           \tprevious = c;\r\n           \tSystem.out.println(sb);\r\n           \tstart = false;\r\n           \tending = true;\r\n           \tcontinue;\r\n           }\r\n         \r\n           if(start  &amp;&amp; c== &#39;,&#39; &amp;&amp; previous!=&#39;\\&quot;&#39;&amp;&amp; !nestedQuote) \r\n           {\r\n        \t   previous = c;\r\n        \t   sb.append(&#39;;&#39;); \r\n        \t   continue;\r\n           }\r\n        \t   \r\n           \r\n           if(start &amp;&amp; ending &amp;&amp; c== &#39;&quot;&#39;) \r\n           {\r\n        \t   nestedQuote = true;\r\n        \t   sb.append(c); \r\n        \t   previous = c;\r\n        \t   continue;\r\n           }\r\n           if(start &amp;&amp; c== &#39;&quot;&#39; &amp;&amp; nestedQuote) \r\n           {\r\n        \t   nestedQuote = false;\r\n        \t   previous = c;\r\n        \t   continue;\r\n           }\r\n           \r\n           if(start &amp;&amp; c==&#39;,&#39; &amp;&amp; nestedQuote) \r\n           {\r\n        \t   nestedComma = true;\r\n        \t   sb.append(&#39;;&#39;); \r\n        \t   previous = c;\r\n        \t   continue;\r\n           }\r\n           \r\n           if(start &amp;&amp;c==&#39;,&#39; &amp;&amp; nestedQuote &amp;&amp; nestedComma) \r\n           {\r\n        \t   nestedComma = false;\r\n        \t   previous = c;\r\n        \t   continue;\r\n           }\r\n           \r\n            sb.append(c);  \r\n            previous = c;\r\n            \r\n        }\r\n\t\tSystem.out.println(sb.toString().replaceAll(&quot;\\&quot;&quot;, &quot;&quot;));\r\n\t}\r\n","title":"Parse CSV with double quote in some cases","body":"<pre><code>public static void main(String[] args) {\n    \n    final StringBuilder sb = new StringBuilder(240000);\n    String s = &quot;&quot;;\n    boolean start = false;\n    boolean ending = false;\n    boolean nestedQuote = false;\n    boolean nestedComma = false;\n    \n    char previous = 0 ;\n    \n    for (int i = 0; i &lt; s.length(); i++) {\n        char c = s.charAt(i);\n       if(!start &amp;&amp;c=='&quot;' &amp;&amp; previous == ',' &amp;&amp; !nestedQuote ) {\n            System.out.println(&quot;sarted&quot;);\n            sb.append(c); \n            start = true;\n            previous = c;\n            System.out.println(sb);\n            continue;\n        }\n       \n       if(start &amp;&amp; c==',' &amp;&amp; previous == '&quot;')  \n       {\n        nestedQuote = false;\n        System.out.println(&quot;ended&quot;);\n        sb.append(c); \n        previous = c;\n        System.out.println(sb);\n        start = false;\n        ending = true;\n        continue;\n       }\n     \n       if(start  &amp;&amp; c== ',' &amp;&amp; previous!='\\&quot;'&amp;&amp; !nestedQuote) \n       {\n           previous = c;\n           sb.append(';'); \n           continue;\n       }\n           \n       \n       if(start &amp;&amp; ending &amp;&amp; c== '&quot;') \n       {\n           nestedQuote = true;\n           sb.append(c); \n           previous = c;\n           continue;\n       }\n       if(start &amp;&amp; c== '&quot;' &amp;&amp; nestedQuote) \n       {\n           nestedQuote = false;\n           previous = c;\n           continue;\n       }\n       \n       if(start &amp;&amp; c==',' &amp;&amp; nestedQuote) \n       {\n           nestedComma = true;\n           sb.append(';'); \n           previous = c;\n           continue;\n       }\n       \n       if(start &amp;&amp;c==',' &amp;&amp; nestedQuote &amp;&amp; nestedComma) \n       {\n           nestedComma = false;\n           previous = c;\n           continue;\n       }\n       \n        sb.append(c);  \n        previous = c;\n        \n    }\n    System.out.println(sb.toString().replaceAll(&quot;\\&quot;&quot;, &quot;&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":50116,"reputation":19386,"user_id":149367,"accept_rate":74,"display_name":"HP."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35280,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":7800519,"answer_count":6,"score":27,"last_activity_date":1680875478,"creation_date":1318891485,"question_id":7800494,"body_markdown":"I have csv that comes with format:\r\n\r\na1, a2, a3, &quot;a4,a5&quot;, a6\r\n\r\nOnly field with , will have quotes\r\n\r\nUsing Java, how to easily parse this? I try to avoid using open source CSV parser as company policy. Thanks.","title":"Parse CSV with double quote in some cases","body":"<p>I have csv that comes with format:</p>\n\n<p>a1, a2, a3, \"a4,a5\", a6</p>\n\n<p>Only field with , will have quotes</p>\n\n<p>Using Java, how to easily parse this? I try to avoid using open source CSV parser as company policy. Thanks.</p>\n"},{"tags":["java","algorithm","sorting","quicksort"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1680813489,"post_id":75953553,"comment_id":133965422,"body_markdown":"Well, quicksort normally doesn&#39;t allocate new arrays. `new int[size]` is suspect.  I also notice the sorting doesn&#39;t seem to be recursive, which is suspect too.","body":"Well, quicksort normally doesn&#39;t allocate new arrays. <code>new int[size]</code> is suspect.  I also notice the sorting doesn&#39;t seem to be recursive, which is suspect too."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1680815956,"post_id":75953553,"comment_id":133965859,"body_markdown":"I kinda figured that out eventually, but you&#39;d think the OP would go into a little more how it works if they do something nonstandard like that, and also where they think the bug is at.  Does the bug still occur if the &quot;stack&quot; is replaced by recursion?  Stuff like that.  The current version leaves a lot of questions on the table, imo.","body":"I kinda figured that out eventually, but you&#39;d think the OP would go into a little more how it works if they do something nonstandard like that, and also where they think the bug is at.  Does the bug still occur if the &quot;stack&quot; is replaced by recursion?  Stuff like that.  The current version leaves a lot of questions on the table, imo."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":0,"creation_date":1680852294,"post_id":75953553,"comment_id":133969722,"body_markdown":"If you choose the pivot as the first or last element in the array, then your code will take quadratic time when the input is already sorted or reverse-sorted.","body":"If you choose the pivot as the first or last element in the array, then your code will take quadratic time when the input is already sorted or reverse-sorted."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":0,"creation_date":1680852435,"post_id":75953553,"comment_id":133969739,"body_markdown":"And standard quicksort is quadratic (no matter the pivot) for input arrays that contain a lot of duplicates.","body":"And standard quicksort is quadratic (no matter the pivot) for input arrays that contain a lot of duplicates."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":0,"creation_date":1680852565,"post_id":75953553,"comment_id":133969762,"body_markdown":"The question would be improved with an example or examples showing why you think the code is &quot;really slow&quot;.","body":"The question would be improved with an example or examples showing why you think the code is &quot;really slow&quot;."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":0,"creation_date":1680852927,"post_id":75953553,"comment_id":133969824,"body_markdown":"@markspace if you don&#39;t understand the code, perhaps you don&#39;t need to comment on the question? It seems like an elementary use of a hand-written stack -- there&#39;s something like 10 lines of code that manages the stack in an obvious way. I think if this were professionally-written code, I&#39;d expect a comment saying why it&#39;s using a manual stack (and a benchmark), but as a algorithm coding exercise it&#39;s not necessary in my opinion.","body":"@markspace if you don&#39;t understand the code, perhaps you don&#39;t need to comment on the question? It seems like an elementary use of a hand-written stack -- there&#39;s something like 10 lines of code that manages the stack in an obvious way. I think if this were professionally-written code, I&#39;d expect a comment saying why it&#39;s using a manual stack (and a benchmark), but as a algorithm coding exercise it&#39;s not necessary in my opinion."},{"owner":{"account_id":26507354,"reputation":19,"user_id":20143301,"display_name":"Sertan Orenay"},"score":0,"creation_date":1680867325,"post_id":75953553,"comment_id":133972350,"body_markdown":"@PaulHankin Theese are the running times of my sorting methods for same 100000 size integer array:\nSelection Sort: 2082 ms,\nBubble Sort: 996 ms,\nMerge Sort: 23 ms,\nQuick Sort: 961 ms,\nCounting Sort: 20 ms. (Additionally merge sort was recursive but quick sort not because of stackoverflow error.)","body":"@PaulHankin Theese are the running times of my sorting methods for same 100000 size integer array: Selection Sort: 2082 ms, Bubble Sort: 996 ms, Merge Sort: 23 ms, Quick Sort: 961 ms, Counting Sort: 20 ms. (Additionally merge sort was recursive but quick sort not because of stackoverflow error.)"},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":1,"creation_date":1680868785,"post_id":75953553,"comment_id":133972589,"body_markdown":"@Sertan&#214;renay better to include the information into the question, including how you generate the test array.","body":"@Sertan&#214;renay better to include the information into the question, including how you generate the test array."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":0,"creation_date":1680868915,"post_id":75953553,"comment_id":133972614,"body_markdown":"(Note the fact that you got a stackoverflow strongly suggests you are running into a quadratic case of quicksort).","body":"(Note the fact that you got a stackoverflow strongly suggests you are running into a quadratic case of quicksort)."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1680870381,"post_id":75953553,"comment_id":133972873,"body_markdown":"@PaulHankin - for arrays with a lot of duplicates, Lomuto degrades towards worst case, but Hoare improves towards best case. [wiki reference](https://en.wikipedia.org/wiki/Quicksort#Repeated_elements) .","body":"@PaulHankin - for arrays with a lot of duplicates, Lomuto degrades towards worst case, but Hoare improves towards best case. <a href=\"https://en.wikipedia.org/wiki/Quicksort#Repeated_elements\" rel=\"nofollow noreferrer\">wiki reference</a> ."}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680875474,"creation_date":1680874130,"answer_id":75958865,"question_id":75953553,"body_markdown":"The code in the question is using the last element as pivot, which is worst case on already sorted or reverse sorted data. Not shown in the question is the code to benchmark the sort functions: it is possible that the first sort sorts the array, and then that sorted array is being used for the rest of the sort functions in the bench mark. To avoid this, use a second array. After creating the randomized array, for each sort test, copy it to a second array and test the sort on the second array.\r\n\r\nThe question is also using Lomuto partition scheme, which degrades towards worst case if there are duplicate values.\r\n\r\nThe following code is a near duplicate of Hoare&#39;s original version of quick sort which was implemented  on a system without a native stack. To limit stack size to O(log2(n)), the  larger partition indexes are pushed onto the stack, while the smaller partition is handled by looping back to partition code.\r\n\r\n```java\r\n    @SuppressWarnings(&quot;empty-statement&quot;)\r\n    public static void qsort(int[] a)\r\n    {\r\n        if(a.length &lt; 2)\r\n            return;\r\n        // count = (1+floor(log2(a.length)))&lt;&lt;1 \r\n        int count  = (32-Integer.numberOfLeadingZeros(a.length))&lt;&lt;1;\r\n        int[] stack = new int[count];\r\n        count = 0;\r\n        stack[count++] = a.length-1;\r\n        stack[count++] = 0;\r\n        while(count != 0){\r\n            int lo = stack[--count];\r\n            int hi = stack[--count];\r\n            while(lo &lt; hi){\r\n                int  md = lo+(hi-lo)/2;     // partition\r\n                int  ll = lo-1;\r\n                int  hh = hi+1;\r\n                int t;\r\n                int p = a[md];\r\n                while(true){\r\n                    while(a[++ll] &lt; p);\r\n                    while(a[--hh] &gt; p);\r\n                    if(ll &gt;= hh)\r\n                        break;\r\n                    t     = a[ll];\r\n                    a[ll] = a[hh];\r\n                    a[hh] = t;\r\n                }\r\n                ll = hh++;\r\n                // push larger partition indexes onto stack\r\n                // loop on smaller partition\r\n                if((ll - lo) &gt;= (hi - hh)){\r\n                    stack[count++] = ll;\r\n                    stack[count++] = lo;\r\n                    lo = hh;\r\n                } else {\r\n                    stack[count++] = hi;\r\n                    stack[count++] = hh;\r\n                    hi = ll;\r\n                }\r\n            }\r\n        }\r\n    }\r\n````","title":"Why is my Quick Sort method extremely slow?","body":"<p>The code in the question is using the last element as pivot, which is worst case on already sorted or reverse sorted data. Not shown in the question is the code to benchmark the sort functions: it is possible that the first sort sorts the array, and then that sorted array is being used for the rest of the sort functions in the bench mark. To avoid this, use a second array. After creating the randomized array, for each sort test, copy it to a second array and test the sort on the second array.</p>\n<p>The question is also using Lomuto partition scheme, which degrades towards worst case if there are duplicate values.</p>\n<p>The following code is a near duplicate of Hoare's original version of quick sort which was implemented  on a system without a native stack. To limit stack size to O(log2(n)), the  larger partition indexes are pushed onto the stack, while the smaller partition is handled by looping back to partition code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SuppressWarnings(&quot;empty-statement&quot;)\n    public static void qsort(int[] a)\n    {\n        if(a.length &lt; 2)\n            return;\n        // count = (1+floor(log2(a.length)))&lt;&lt;1 \n        int count  = (32-Integer.numberOfLeadingZeros(a.length))&lt;&lt;1;\n        int[] stack = new int[count];\n        count = 0;\n        stack[count++] = a.length-1;\n        stack[count++] = 0;\n        while(count != 0){\n            int lo = stack[--count];\n            int hi = stack[--count];\n            while(lo &lt; hi){\n                int  md = lo+(hi-lo)/2;     // partition\n                int  ll = lo-1;\n                int  hh = hi+1;\n                int t;\n                int p = a[md];\n                while(true){\n                    while(a[++ll] &lt; p);\n                    while(a[--hh] &gt; p);\n                    if(ll &gt;= hh)\n                        break;\n                    t     = a[ll];\n                    a[ll] = a[hh];\n                    a[hh] = t;\n                }\n                ll = hh++;\n                // push larger partition indexes onto stack\n                // loop on smaller partition\n                if((ll - lo) &gt;= (hi - hh)){\n                    stack[count++] = ll;\n                    stack[count++] = lo;\n                    lo = hh;\n                } else {\n                    stack[count++] = hi;\n                    stack[count++] = hh;\n                    hi = ll;\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26507354,"reputation":19,"user_id":20143301,"display_name":"Sertan Orenay"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1680875474,"creation_date":1680813300,"question_id":75953553,"body_markdown":"Just trying the iterative version of merge sort and it performs much slower than all sorting algorithms. Where am I going wrong? \r\n```\r\npublic static void quickSort(int[] arr) {\r\n    int size = arr.length;\r\n    int count = 0;\r\n    int[] stackArr = new int[size]; \r\n\r\n    stackArr[count] = 0;\r\n    stackArr[++count] = size - 1;\r\n\r\n    while (count &gt;= 0) {\r\n        int end = stackArr[count--];\r\n        int start = stackArr[count--];\r\n            \r\n        int pivot = partition(arr, start, end);\r\n\r\n        if (pivot - 1 &gt; start) {\r\n            stackArr[++count] = start;\r\n            stackArr[++count] = pivot - 1;\r\n         }\r\n        if (pivot + 1 &lt; end) {\r\n            stackArr[++count] = pivot + 1;\r\n            stackArr[++count] = end;\r\n        }         \r\n    }\r\n}\r\n\r\npublic static int partition(int[] arr, int start, int end) {\r\n    int countIndex = start ;\r\n    for (int i = start; i &lt; end; i++) {\r\n        if (arr[i] &lt;= arr[end]) {\r\n            swap(arr, i, countIndex);\r\n            countIndex++;\r\n        }\r\n    }\r\n    swap(arr, countIndex, end);\r\n    return countIndex;\r\n}\r\n\r\npublic static void swap(int[] arr, int i, int j) {\r\n    int temp = arr[i];\r\n    arr[i] = arr[j];\r\n    arr[j] = temp;\r\n}\r\n```\r\n\r\n\r\nI just tried to write a quickSort() method in java for testing and it performs really slow. I want to find out what is wrong?","title":"Why is my Quick Sort method extremely slow?","body":"<p>Just trying the iterative version of merge sort and it performs much slower than all sorting algorithms. Where am I going wrong?</p>\n<pre><code>public static void quickSort(int[] arr) {\n    int size = arr.length;\n    int count = 0;\n    int[] stackArr = new int[size]; \n\n    stackArr[count] = 0;\n    stackArr[++count] = size - 1;\n\n    while (count &gt;= 0) {\n        int end = stackArr[count--];\n        int start = stackArr[count--];\n            \n        int pivot = partition(arr, start, end);\n\n        if (pivot - 1 &gt; start) {\n            stackArr[++count] = start;\n            stackArr[++count] = pivot - 1;\n         }\n        if (pivot + 1 &lt; end) {\n            stackArr[++count] = pivot + 1;\n            stackArr[++count] = end;\n        }         \n    }\n}\n\npublic static int partition(int[] arr, int start, int end) {\n    int countIndex = start ;\n    for (int i = start; i &lt; end; i++) {\n        if (arr[i] &lt;= arr[end]) {\n            swap(arr, i, countIndex);\n            countIndex++;\n        }\n    }\n    swap(arr, countIndex, end);\n    return countIndex;\n}\n\npublic static void swap(int[] arr, int i, int j) {\n    int temp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = temp;\n}\n</code></pre>\n<p>I just tried to write a quickSort() method in java for testing and it performs really slow. I want to find out what is wrong?</p>\n"},{"tags":["java","opengl","textures","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205320,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680875348,"creation_date":1680875348,"answer_id":75959018,"question_id":75958987,"body_markdown":"In Opengl immediate mode, two-dimensional texturing needs to be enabled, see [`glEnable`](https://www.khronos.org/registry/OpenGL-Refpages/gl2.1/xhtml/glEnable.xml). Enable `GL_TEXTURE_2D`, before drawing the geometry with the `glBegin`/`glEnd` sequence: \r\n\r\n```java\r\nglEnable(GL_TEXTURE_2D);\r\n```","title":"Texture is not Binding","body":"<p>In Opengl immediate mode, two-dimensional texturing needs to be enabled, see <a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl2.1/xhtml/glEnable.xml\" rel=\"nofollow noreferrer\"><code>glEnable</code></a>. Enable <code>GL_TEXTURE_2D</code>, before drawing the geometry with the <code>glBegin</code>/<code>glEnd</code> sequence:</p>\n<pre class=\"lang-java prettyprint-override\"><code>glEnable(GL_TEXTURE_2D);\n</code></pre>\n"}],"owner":{"account_id":26996326,"reputation":1,"user_id":21589453,"display_name":"JustACuriousMind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680875348,"creation_date":1680875147,"question_id":75958987,"body_markdown":"I&#39;ve been having a problem with lwjgl and slick 2d where the texture won&#39;t bind. There aren&#39;t any compiation errors, it just outputs a white box where the texture is supposed to go.\r\n\r\n\r\nHere is the code i used\r\n\r\n\r\n```\r\npublic static void BeginSession() {\r\n        try {\r\n            Display.setTitle(&quot;Game Tower&quot;);\r\n            Display.setDisplayMode(new DisplayMode(WIDTH,HEIGHT));\r\n            Display.create();\r\n        } catch (LWJGLException ex) {\r\n            Logger.getLogger(Boot.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        \r\n        glMatrixMode(GL_PROJECTION);\r\n        glLoadIdentity();\r\n        glOrtho(0,WIDTH,HEIGHT,0,-1,-1);\r\n        glMatrixMode(GL_MODELVIEW);\r\n        \r\n        \r\n    }\r\n\r\npublic static void DrawQuadText(Texture tex,float x, float y, float width, float height) { \r\n        float ndcX1 = (2.0f * x) / Display.getWidth() - 1.0f;\r\n        float ndcY1 = 1.0f - (2.0f * y) / Display.getHeight();\r\n        float ndcX2 = (2.0f * (x+width)) / Display.getWidth() - 1.0f;\r\n        float ndcY2 = 1.0f - (2.0f * (y+height)) / Display.getHeight();\r\n          \r\n        tex.bind();\r\n        System.out.println(GL11.glGetError());  // this is where the error 1282 shows up\r\n        glTranslatef(x,y,0);\r\n        glBegin(GL_QUADS);\r\n        glTexCoord2f(0.0f,0.0f);\r\n        glVertex2f(ndcX1,ndcY1);\r\n        \r\n        glTexCoord2f(1,0);\r\n        glVertex2f(ndcX2,ndcY1);\r\n        \r\n        glTexCoord2f(1,1);\r\n        glVertex2f(ndcX2,ndcY2);\r\n        \r\n        glTexCoord2f(0,1);\r\n        glVertex2f(ndcX1,ndcY2);\r\n        \r\n        glLoadIdentity();\r\n        //System.out.println(GL11.glGetError());\r\n        glEnd();\r\n        \r\n        \r\n        \r\n        }\r\n        \r\n        public static Texture LoadTexture(String path, String fileType) {\r\n            // all of this seems to be working\r\n            Texture tex = null;\r\n            InputStream in = ResourceLoader.getResourceAsStream(path);\r\n            try {\r\n                tex = TextureLoader.getTexture(fileType,in);\r\n                //System.out.println(GL11.glGetError());\r\n                System.out.println(tex);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Artist.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            System.out.println(path);\r\n                return tex;\r\n        }\r\n\r\n\r\n```\r\n\r\nThis is the main function\r\n\r\n```\r\npublic class Boot {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    \r\n    public Boot() {\r\n\r\n        BeginSession();\r\n        \r\n        int x1 = 100;\r\n        int y1 = 100;\r\n        int x2 = 200;\r\n        int y2 = 200;\r\n        \r\n        Texture t = LoadTexture(&quot;towerdefenseproject/grass.png&quot;,&quot;PNG&quot;);\r\n        System.out.println(GL11.glGetError());\r\n        while(!Display.isCloseRequested())  {\r\n            \r\n            DrawQuadText(t,0,0,64,64);\r\n            \r\n            Display.update();\r\n            Display.sync(60);\r\n        }\r\n        \r\n        Display.destroy();\r\n    }\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n        new Boot();\r\n    }\r\n    \r\n}\r\n\r\n```\r\nIhave tried everything i could think of too fix the issue but it doesn&#39;t seem to work\r\n","title":"Texture is not Binding","body":"<p>I've been having a problem with lwjgl and slick 2d where the texture won't bind. There aren't any compiation errors, it just outputs a white box where the texture is supposed to go.</p>\n<p>Here is the code i used</p>\n<pre><code>public static void BeginSession() {\n        try {\n            Display.setTitle(&quot;Game Tower&quot;);\n            Display.setDisplayMode(new DisplayMode(WIDTH,HEIGHT));\n            Display.create();\n        } catch (LWJGLException ex) {\n            Logger.getLogger(Boot.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        \n        glMatrixMode(GL_PROJECTION);\n        glLoadIdentity();\n        glOrtho(0,WIDTH,HEIGHT,0,-1,-1);\n        glMatrixMode(GL_MODELVIEW);\n        \n        \n    }\n\npublic static void DrawQuadText(Texture tex,float x, float y, float width, float height) { \n        float ndcX1 = (2.0f * x) / Display.getWidth() - 1.0f;\n        float ndcY1 = 1.0f - (2.0f * y) / Display.getHeight();\n        float ndcX2 = (2.0f * (x+width)) / Display.getWidth() - 1.0f;\n        float ndcY2 = 1.0f - (2.0f * (y+height)) / Display.getHeight();\n          \n        tex.bind();\n        System.out.println(GL11.glGetError());  // this is where the error 1282 shows up\n        glTranslatef(x,y,0);\n        glBegin(GL_QUADS);\n        glTexCoord2f(0.0f,0.0f);\n        glVertex2f(ndcX1,ndcY1);\n        \n        glTexCoord2f(1,0);\n        glVertex2f(ndcX2,ndcY1);\n        \n        glTexCoord2f(1,1);\n        glVertex2f(ndcX2,ndcY2);\n        \n        glTexCoord2f(0,1);\n        glVertex2f(ndcX1,ndcY2);\n        \n        glLoadIdentity();\n        //System.out.println(GL11.glGetError());\n        glEnd();\n        \n        \n        \n        }\n        \n        public static Texture LoadTexture(String path, String fileType) {\n            // all of this seems to be working\n            Texture tex = null;\n            InputStream in = ResourceLoader.getResourceAsStream(path);\n            try {\n                tex = TextureLoader.getTexture(fileType,in);\n                //System.out.println(GL11.glGetError());\n                System.out.println(tex);\n            } catch (IOException ex) {\n                Logger.getLogger(Artist.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            System.out.println(path);\n                return tex;\n        }\n\n\n</code></pre>\n<p>This is the main function</p>\n<pre><code>public class Boot {\n\n    /**\n     * @param args the command line arguments\n     */\n    \n    public Boot() {\n\n        BeginSession();\n        \n        int x1 = 100;\n        int y1 = 100;\n        int x2 = 200;\n        int y2 = 200;\n        \n        Texture t = LoadTexture(&quot;towerdefenseproject/grass.png&quot;,&quot;PNG&quot;);\n        System.out.println(GL11.glGetError());\n        while(!Display.isCloseRequested())  {\n            \n            DrawQuadText(t,0,0,64,64);\n            \n            Display.update();\n            Display.sync(60);\n        }\n        \n        Display.destroy();\n    }\n    public static void main(String[] args) {\n        // TODO code application logic here\n        new Boot();\n    }\n    \n}\n\n</code></pre>\n<p>Ihave tried everything i could think of too fix the issue but it doesn't seem to work</p>\n"},{"tags":["java","spring","spring-boot","record"],"answers":[{"tags":[],"owner":{"account_id":28219875,"reputation":101,"user_id":21570778,"display_name":"Mayuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680835451,"creation_date":1680835451,"answer_id":75955117,"question_id":75954442,"body_markdown":"1. Once check with database, May be same id is storing two times.\r\n2. Also check your entity class and mapping if present.\r\n\r\nHere Method is calling two times so most probably there are two records with same id. \r\n","title":"responseEntity.ok generate malform response body by duplicate it spring-boot","body":"<ol>\n<li>Once check with database, May be same id is storing two times.</li>\n<li>Also check your entity class and mapping if present.</li>\n</ol>\n<p>Here Method is calling two times so most probably there are two records with same id.</p>\n"},{"tags":[],"owner":{"account_id":28236339,"reputation":11,"user_id":21584740,"display_name":"eynoc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680875193,"creation_date":1680875193,"answer_id":75958994,"question_id":75954442,"body_markdown":"The problem was in my CustomAuthorization filter. I have reload the internal filter twice like this, \r\n\r\n```\r\n\r\n@Component\r\n@WebFilter(filterName = &quot;authorizationFilter&quot;, urlPatterns = &quot;/*&quot;)\r\npublic class AuthorizationFilter extends OncePerRequestFilter {\r\n\r\n  private final AuthenticationUserService authenticationUserService;\r\n  private final AuthenticationAssertion authenticationAssertion;\r\n\r\n  @Autowired\r\n  public AuthorizationFilter(AuthenticationUserService authenticationUserService) {\r\n    this.authenticationUserService = authenticationUserService;\r\n    this.authenticationAssertion = new AuthenticationAssertion();\r\n  }\r\n\r\n  @Override\r\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n    if (\r\n        this.authenticationAssertion.isUnAuthenticateURL(request)\r\n    ) {\r\n      final String header = request.getHeader(&quot;Authorization&quot;);\r\n      try {\r\n        if (!authenticationUserService.hasBearerHeader(header)) {\r\n          filterChain.doFilter(request, response);\r\n          return;\r\n        }\r\n\r\n        final String token = this.authenticationUserService.getAccessTokenString(header);\r\n        Token retrievedToken = this.authenticationUserService.retrievedToken(token);\r\n\r\n        if (!this.authenticationUserService.validateToken(retrievedToken)) {\r\n          filterChain.doFilter(request, response);\r\n          return;\r\n        }\r\n\r\n        UserDetails userDetails = this.authenticationUserService.loadUserByUsername(retrievedToken.getUsername());\r\n        this.setAuthenticationContext(userDetails, request);\r\n        filterChain.doFilter(request, response);\r\n      } catch (Exception exception) {\r\n        response.setStatus(HttpServletResponse.SC_FORBIDDEN);\r\n        Map&lt;String, String&gt; responseBody = new HashMap&lt;&gt;();\r\n        responseBody.put(&quot;error&quot;, exception.getMessage());\r\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n        new ObjectMapper().writeValue(response.getOutputStream(), responseBody);\r\n      }\r\n    }\r\n    filterChain.doFilter(request, response);\r\n  }\r\n\r\n  private void setAuthenticationContext(UserDetails userDetails, HttpServletRequest request) {\r\n    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\r\n        userDetails,\r\n        null,\r\n        userDetails.getAuthorities()\r\n    );\r\n\r\n    authenticationToken.setDetails(\r\n        new WebAuthenticationDetailsSource().buildDetails(request)\r\n    );\r\n\r\n    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n  }\r\n}\r\n\r\n``` \r\n\r\nBy passing the doFilter inside an else statetment is working well now.\r\n\r\n```\r\n@Override\r\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n    if (\r\n        this.authenticationAssertion.isUnAuthenticateURL(request)\r\n    ) {\r\n      final String header = request.getHeader(&quot;Authorization&quot;);\r\n      try {\r\n        if (!authenticationUserService.hasBearerHeader(header)) {\r\n          filterChain.doFilter(request, response);\r\n          return;\r\n        }\r\n\r\n        final String token = this.authenticationUserService.getAccessTokenString(header);\r\n        Token retrievedToken = this.authenticationUserService.retrievedToken(token);\r\n\r\n        if (!this.authenticationUserService.validateToken(retrievedToken)) {\r\n          filterChain.doFilter(request, response);\r\n          return;\r\n        }\r\n\r\n        UserDetails userDetails = this.authenticationUserService.loadUserByUsername(retrievedToken.getUsername());\r\n        this.setAuthenticationContext(userDetails, request);\r\n        filterChain.doFilter(request, response);\r\n      } catch (Exception exception) {\r\n        response.setStatus(HttpServletResponse.SC_FORBIDDEN);\r\n        Map&lt;String, String&gt; responseBody = new HashMap&lt;&gt;();\r\n        responseBody.put(&quot;error&quot;, exception.getMessage());\r\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n        new ObjectMapper().writeValue(response.getOutputStream(), responseBody);\r\n      }\r\n    } else {\r\n      filterChain.doFilter(request, response);\r\n    }\r\n  }\r\n```","title":"responseEntity.ok generate malform response body by duplicate it spring-boot","body":"<p>The problem was in my CustomAuthorization filter. I have reload the internal filter twice like this,</p>\n<pre><code>\n@Component\n@WebFilter(filterName = &quot;authorizationFilter&quot;, urlPatterns = &quot;/*&quot;)\npublic class AuthorizationFilter extends OncePerRequestFilter {\n\n  private final AuthenticationUserService authenticationUserService;\n  private final AuthenticationAssertion authenticationAssertion;\n\n  @Autowired\n  public AuthorizationFilter(AuthenticationUserService authenticationUserService) {\n    this.authenticationUserService = authenticationUserService;\n    this.authenticationAssertion = new AuthenticationAssertion();\n  }\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    if (\n        this.authenticationAssertion.isUnAuthenticateURL(request)\n    ) {\n      final String header = request.getHeader(&quot;Authorization&quot;);\n      try {\n        if (!authenticationUserService.hasBearerHeader(header)) {\n          filterChain.doFilter(request, response);\n          return;\n        }\n\n        final String token = this.authenticationUserService.getAccessTokenString(header);\n        Token retrievedToken = this.authenticationUserService.retrievedToken(token);\n\n        if (!this.authenticationUserService.validateToken(retrievedToken)) {\n          filterChain.doFilter(request, response);\n          return;\n        }\n\n        UserDetails userDetails = this.authenticationUserService.loadUserByUsername(retrievedToken.getUsername());\n        this.setAuthenticationContext(userDetails, request);\n        filterChain.doFilter(request, response);\n      } catch (Exception exception) {\n        response.setStatus(HttpServletResponse.SC_FORBIDDEN);\n        Map&lt;String, String&gt; responseBody = new HashMap&lt;&gt;();\n        responseBody.put(&quot;error&quot;, exception.getMessage());\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        new ObjectMapper().writeValue(response.getOutputStream(), responseBody);\n      }\n    }\n    filterChain.doFilter(request, response);\n  }\n\n  private void setAuthenticationContext(UserDetails userDetails, HttpServletRequest request) {\n    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\n        userDetails,\n        null,\n        userDetails.getAuthorities()\n    );\n\n    authenticationToken.setDetails(\n        new WebAuthenticationDetailsSource().buildDetails(request)\n    );\n\n    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n  }\n}\n\n</code></pre>\n<p>By passing the doFilter inside an else statetment is working well now.</p>\n<pre><code>@Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    if (\n        this.authenticationAssertion.isUnAuthenticateURL(request)\n    ) {\n      final String header = request.getHeader(&quot;Authorization&quot;);\n      try {\n        if (!authenticationUserService.hasBearerHeader(header)) {\n          filterChain.doFilter(request, response);\n          return;\n        }\n\n        final String token = this.authenticationUserService.getAccessTokenString(header);\n        Token retrievedToken = this.authenticationUserService.retrievedToken(token);\n\n        if (!this.authenticationUserService.validateToken(retrievedToken)) {\n          filterChain.doFilter(request, response);\n          return;\n        }\n\n        UserDetails userDetails = this.authenticationUserService.loadUserByUsername(retrievedToken.getUsername());\n        this.setAuthenticationContext(userDetails, request);\n        filterChain.doFilter(request, response);\n      } catch (Exception exception) {\n        response.setStatus(HttpServletResponse.SC_FORBIDDEN);\n        Map&lt;String, String&gt; responseBody = new HashMap&lt;&gt;();\n        responseBody.put(&quot;error&quot;, exception.getMessage());\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        new ObjectMapper().writeValue(response.getOutputStream(), responseBody);\n      }\n    } else {\n      filterChain.doFilter(request, response);\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":28236339,"reputation":11,"user_id":21584740,"display_name":"eynoc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680875193,"creation_date":1680823631,"question_id":75954442,"body_markdown":"I attempt to call a get endpoint. But it return duplicate object under my response, i don&#39;t know why Spring return those malformed objects\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v0/api/user&quot;)\r\npublic class UserResource {\r\n  private final UserApplication userApplication;\r\n  private final UserRequestResponseAssembler requestResponseAssembler;\r\n\r\n  public UserResource(UserApplication userApplication, UserRequestResponseAssembler userRequestResponseAssembler) {\r\n    this.userApplication = userApplication;\r\n    this.requestResponseAssembler = userRequestResponseAssembler;\r\n  }\r\n\r\n  @PostMapping\r\n  public ResponseEntity&lt;?&gt; createUser(@Valid @RequestBody UserRequest userRequest) {\r\n    UserCreationRequest userCreationRequest = this.requestResponseAssembler.toUserCreationRequest(userRequest);\r\n    UserCreationResponse userCreationResponse = this.userApplication.createUser(userCreationRequest);\r\n    EntityModel&lt;?&gt; model = this.requestResponseAssembler.toEntityModel(userCreationResponse);\r\n    return ResponseEntity.created(model.getRequiredLink(IanaLinkRelations.SELF).toUri()).build();\r\n  }\r\n\r\n  @GetMapping(&quot;/{id}&quot;)\r\n  public ResponseEntity&lt;?&gt; getUserById(@PathVariable(&quot;id&quot;) String userId) {\r\n    UserResponse user = this.userApplication.findById(userId);\r\n    EntityModel&lt;UserResponse&gt; entityModel = this.requestResponseAssembler.toEntityModel(user);\r\n    return ResponseEntity.ok(entityModel);\r\n  }\r\n\r\n  @RequestMapping(value = &quot;/{email}&quot;, method = RequestMethod.HEAD)\r\n  public ResponseEntity&lt;?&gt; existByEmail(@PathVariable(&quot;email&quot;) String email) {\r\n    if (userApplication.checkIfUserExistByEmail(email)) return ResponseEntity.status(HttpStatus.FOUND).build();\r\n    return ResponseEntity.notFound().build();\r\n  }\r\n\r\n}\r\n```\r\n\r\nthis is a the userResponse record: \r\n```\r\n\r\n\r\npublic record UserResponse(String userId,\r\n                           String firstname, String lastname, String email, String profession) {\r\n}\r\n\r\n```\r\nThis is the User.class\r\n\r\n \r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User implements Serializable {\r\n  @Id\r\n  @Column(name = &quot;id&quot;, nullable = false)\r\n  @GeneratedValue(generator = &quot;ID_GENERATOR&quot;)\r\n  private Long id;\r\n  @Embedded\r\n  private UserInformation userInformation;\r\n  @Embedded\r\n  private AuditInformation auditInformation;\r\n  @Embedded\r\n  private UserId userId;\r\n\r\n  @Embedded\r\n  private AuthInformation authInformation;\r\n\r\n  User() {\r\n  }\r\n\r\n  public User(UserInformation userInformation, AuditInformation auditInformation, AuthInformation authInformation, UserId userId) {\r\n    this.userInformation = userInformation;\r\n    this.userId = userId;\r\n    this.auditInformation = auditInformation;\r\n    this.authInformation = authInformation;\r\n  }\r\n\r\n  public UserInformation getUserInformation() {\r\n    return userInformation;\r\n  }\r\n\r\n  public AuthInformation getAuthInformation() {\r\n    return authInformation;\r\n  }\r\n\r\n  public UserId getUserId() {\r\n    return userId;\r\n  }\r\n\r\n  public Set&lt;Role&gt; getActiveRoles() {\r\n    Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    roles.add(Role.DEFAULT);\r\n    return roles;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (!(o instanceof User user)) return false;\r\n    return getUserId().equals(user.getUserId());\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(getUserId());\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;User{&quot; +\r\n        &quot;id=&quot; + id +\r\n        &quot;, userInformation=&quot; + userInformation +\r\n        &quot;, auditInformation=&quot; + auditInformation +\r\n        &quot;, userId=&quot; + userId +\r\n        &quot;, authInformation=&quot; + authInformation +\r\n        &#39;}&#39;;\r\n  }\r\n}\r\n```\r\n\r\nThis is the UserId.class\r\n\r\n```\r\n\r\n@Embeddable\r\npublic class UserId {\r\n  @Column(name = &quot;user_id&quot;, nullable = false, unique = true)\r\n  private final String id;\r\n\r\n  public UserId() {\r\n    this.id = UUID.randomUUID().toString();\r\n  }\r\n\r\n  public UserId(String stringUserId) {\r\n    this.id = stringUserId;\r\n  }\r\n\r\n  public String getId() {\r\n    return id;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (!(o instanceof UserId userId)) return false;\r\n    return getId().equals(userId.getId());\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(getId());\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;UserId{&quot; +\r\n        &quot;id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n        &#39;}&#39;;\r\n  }\r\n}\r\n\r\n```\r\n \r\n \r\nThis is the response of the get endpoint :\r\n\r\n\r\n```\r\n{\r\n    &quot;userId&quot;: &quot;8db4c6ab-0872-4688-8cc2-26ea93019f78&quot;,\r\n    &quot;firstname&quot;: &quot;wetryyuf&quot;,\r\n    &quot;lastname&quot;: &quot;dtdddddddf&quot;,\r\n    &quot;email&quot;: &quot;eleanr@waldorf.com&quot;,\r\n    &quot;profession&quot;: null,\r\n    &quot;_links&quot;: {\r\n        &quot;self&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/v0/api/user/8db4c6ab-0872-4688-8cc2-26ea93019f78&quot;\r\n        }\r\n    }\r\n}{\r\n    &quot;userId&quot;: &quot;8db4c6ab-0872-4688-8cc2-26ea93019f78&quot;,\r\n    &quot;firstname&quot;: &quot;wetryyuf&quot;,\r\n    &quot;lastname&quot;: &quot;dtdddddddf&quot;,\r\n    &quot;email&quot;: &quot;eleanr@waldorf.com&quot;,\r\n    &quot;profession&quot;: null,\r\n    &quot;_links&quot;: {\r\n        &quot;self&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/v0/api/user/8db4c6ab-0872-4688-8cc2-26ea93019f78&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI don&#39;t know why the response is duplicated.\r\n\r\nI&#39;m using Springboot with java 17.\r\n\r\n\r\nI attempt to call a get endpoint. But it return duplicate object under my response, i don&#39;t know why Spring return those malformed objects.\r\n\r\nIt seems like the method is call twice.\r\n\r\nThis is an image of what happens after one call.\r\n\r\n[The endpoint](https://i.stack.imgur.com/0XuMf.jpg)\r\n\r\n[The response](https://i.stack.imgur.com/ysAkK.jpg)\r\n\r\nThe ouput suggested that the method is call twice.\r\n\r\n\r\nI should specify that the others endpoints is working fine.","title":"responseEntity.ok generate malform response body by duplicate it spring-boot","body":"<p>I attempt to call a get endpoint. But it return duplicate object under my response, i don't know why Spring return those malformed objects</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v0/api/user&quot;)\npublic class UserResource {\n  private final UserApplication userApplication;\n  private final UserRequestResponseAssembler requestResponseAssembler;\n\n  public UserResource(UserApplication userApplication, UserRequestResponseAssembler userRequestResponseAssembler) {\n    this.userApplication = userApplication;\n    this.requestResponseAssembler = userRequestResponseAssembler;\n  }\n\n  @PostMapping\n  public ResponseEntity&lt;?&gt; createUser(@Valid @RequestBody UserRequest userRequest) {\n    UserCreationRequest userCreationRequest = this.requestResponseAssembler.toUserCreationRequest(userRequest);\n    UserCreationResponse userCreationResponse = this.userApplication.createUser(userCreationRequest);\n    EntityModel&lt;?&gt; model = this.requestResponseAssembler.toEntityModel(userCreationResponse);\n    return ResponseEntity.created(model.getRequiredLink(IanaLinkRelations.SELF).toUri()).build();\n  }\n\n  @GetMapping(&quot;/{id}&quot;)\n  public ResponseEntity&lt;?&gt; getUserById(@PathVariable(&quot;id&quot;) String userId) {\n    UserResponse user = this.userApplication.findById(userId);\n    EntityModel&lt;UserResponse&gt; entityModel = this.requestResponseAssembler.toEntityModel(user);\n    return ResponseEntity.ok(entityModel);\n  }\n\n  @RequestMapping(value = &quot;/{email}&quot;, method = RequestMethod.HEAD)\n  public ResponseEntity&lt;?&gt; existByEmail(@PathVariable(&quot;email&quot;) String email) {\n    if (userApplication.checkIfUserExistByEmail(email)) return ResponseEntity.status(HttpStatus.FOUND).build();\n    return ResponseEntity.notFound().build();\n  }\n\n}\n</code></pre>\n<p>this is a the userResponse record:</p>\n<pre><code>\n\npublic record UserResponse(String userId,\n                           String firstname, String lastname, String email, String profession) {\n}\n\n</code></pre>\n<p>This is the User.class</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User implements Serializable {\n  @Id\n  @Column(name = &quot;id&quot;, nullable = false)\n  @GeneratedValue(generator = &quot;ID_GENERATOR&quot;)\n  private Long id;\n  @Embedded\n  private UserInformation userInformation;\n  @Embedded\n  private AuditInformation auditInformation;\n  @Embedded\n  private UserId userId;\n\n  @Embedded\n  private AuthInformation authInformation;\n\n  User() {\n  }\n\n  public User(UserInformation userInformation, AuditInformation auditInformation, AuthInformation authInformation, UserId userId) {\n    this.userInformation = userInformation;\n    this.userId = userId;\n    this.auditInformation = auditInformation;\n    this.authInformation = authInformation;\n  }\n\n  public UserInformation getUserInformation() {\n    return userInformation;\n  }\n\n  public AuthInformation getAuthInformation() {\n    return authInformation;\n  }\n\n  public UserId getUserId() {\n    return userId;\n  }\n\n  public Set&lt;Role&gt; getActiveRoles() {\n    Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n    roles.add(Role.DEFAULT);\n    return roles;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof User user)) return false;\n    return getUserId().equals(user.getUserId());\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getUserId());\n  }\n\n  @Override\n  public String toString() {\n    return &quot;User{&quot; +\n        &quot;id=&quot; + id +\n        &quot;, userInformation=&quot; + userInformation +\n        &quot;, auditInformation=&quot; + auditInformation +\n        &quot;, userId=&quot; + userId +\n        &quot;, authInformation=&quot; + authInformation +\n        '}';\n  }\n}\n</code></pre>\n<p>This is the UserId.class</p>\n<pre><code>\n@Embeddable\npublic class UserId {\n  @Column(name = &quot;user_id&quot;, nullable = false, unique = true)\n  private final String id;\n\n  public UserId() {\n    this.id = UUID.randomUUID().toString();\n  }\n\n  public UserId(String stringUserId) {\n    this.id = stringUserId;\n  }\n\n  public String getId() {\n    return id;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof UserId userId)) return false;\n    return getId().equals(userId.getId());\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getId());\n  }\n\n  @Override\n  public String toString() {\n    return &quot;UserId{&quot; +\n        &quot;id='&quot; + id + '\\'' +\n        '}';\n  }\n}\n\n</code></pre>\n<p>This is the response of the get endpoint :</p>\n<pre><code>{\n    &quot;userId&quot;: &quot;8db4c6ab-0872-4688-8cc2-26ea93019f78&quot;,\n    &quot;firstname&quot;: &quot;wetryyuf&quot;,\n    &quot;lastname&quot;: &quot;dtdddddddf&quot;,\n    &quot;email&quot;: &quot;eleanr@waldorf.com&quot;,\n    &quot;profession&quot;: null,\n    &quot;_links&quot;: {\n        &quot;self&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/v0/api/user/8db4c6ab-0872-4688-8cc2-26ea93019f78&quot;\n        }\n    }\n}{\n    &quot;userId&quot;: &quot;8db4c6ab-0872-4688-8cc2-26ea93019f78&quot;,\n    &quot;firstname&quot;: &quot;wetryyuf&quot;,\n    &quot;lastname&quot;: &quot;dtdddddddf&quot;,\n    &quot;email&quot;: &quot;eleanr@waldorf.com&quot;,\n    &quot;profession&quot;: null,\n    &quot;_links&quot;: {\n        &quot;self&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/v0/api/user/8db4c6ab-0872-4688-8cc2-26ea93019f78&quot;\n        }\n    }\n}\n</code></pre>\n<p>I don't know why the response is duplicated.</p>\n<p>I'm using Springboot with java 17.</p>\n<p>I attempt to call a get endpoint. But it return duplicate object under my response, i don't know why Spring return those malformed objects.</p>\n<p>It seems like the method is call twice.</p>\n<p>This is an image of what happens after one call.</p>\n<p><a href=\"https://i.stack.imgur.com/0XuMf.jpg\" rel=\"nofollow noreferrer\">The endpoint</a></p>\n<p><a href=\"https://i.stack.imgur.com/ysAkK.jpg\" rel=\"nofollow noreferrer\">The response</a></p>\n<p>The ouput suggested that the method is call twice.</p>\n<p>I should specify that the others endpoints is working fine.</p>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1680874262,"post_id":75958442,"comment_id":133973631,"body_markdown":"Could we get a [mcve] please?","body":"Could we get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please?"}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680875052,"creation_date":1680874413,"answer_id":75958901,"question_id":75958442,"body_markdown":"Use `disabled` instead of `readonly`. `readonly` only affects the editable text value of a field - whereas a checkbox has a _state_ not an editable value.\r\n\r\nYou don&#39;t actually need any specific Thymeleaf variables for this. You can just use the following plain HTML in your Thymeleaf template:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;input type=&quot;checkbox&quot; id=&quot;randomId&quot; disabled checked&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n---\r\n\r\n\r\nIf you do want to use Thymeleaf expressions, you can use this:\r\n\r\n```html\r\n&lt;input type=&quot;checkbox&quot; id=&quot;randomId&quot; th:disabled=&quot;${true}&quot; th:checked=&quot;${true}&quot;&gt;\r\n```\r\n\r\nThese are Thymeleaf [boolean attributes](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#fixed-value-boolean-attributes).\r\n\r\nI would just use plain HTML.","title":"Thymeleaf - Flatten form fields","body":"<p>Use <code>disabled</code> instead of <code>readonly</code>. <code>readonly</code> only affects the editable text value of a field - whereas a checkbox has a <em>state</em> not an editable value.</p>\n<p>You don't actually need any specific Thymeleaf variables for this. You can just use the following plain HTML in your Thymeleaf template:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"checkbox\" id=\"randomId\" disabled checked&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<p>If you do want to use Thymeleaf expressions, you can use this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;checkbox&quot; id=&quot;randomId&quot; th:disabled=&quot;${true}&quot; th:checked=&quot;${true}&quot;&gt;\n</code></pre>\n<p>These are Thymeleaf <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#fixed-value-boolean-attributes\" rel=\"nofollow noreferrer\">boolean attributes</a>.</p>\n<p>I would just use plain HTML.</p>\n"},{"tags":[],"owner":{"account_id":28232789,"reputation":1,"user_id":21581754,"display_name":"Fehmi Tahsin Demirkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680874649,"creation_date":1680874649,"answer_id":75958931,"question_id":75958442,"body_markdown":"To make checkboxes not editable, you can use the disabled attribute instead of readonly. The disabled attribute prevents the user from interacting with the element altogether, while readonly allows the user to see the current value of the checkbox, but they cannot change it.\r\n\r\nSo, your code should look something like this:\r\n\r\n    &lt;input type=&quot;checkbox&quot; id=&quot;randomId&quot; checked=&quot;checked&quot; disabled=&quot;disabled&quot;/&gt;\r\n\r\nThis will create a checkbox that is initially checked and cannot be changed by the user.\r\n\r\n\r\n\r\n\r\n","title":"Thymeleaf - Flatten form fields","body":"<p>To make checkboxes not editable, you can use the disabled attribute instead of readonly. The disabled attribute prevents the user from interacting with the element altogether, while readonly allows the user to see the current value of the checkbox, but they cannot change it.</p>\n<p>So, your code should look something like this:</p>\n<pre><code>&lt;input type=&quot;checkbox&quot; id=&quot;randomId&quot; checked=&quot;checked&quot; disabled=&quot;disabled&quot;/&gt;\n</code></pre>\n<p>This will create a checkbox that is initially checked and cannot be changed by the user.</p>\n"}],"owner":{"account_id":28241299,"reputation":1,"user_id":21589030,"display_name":"aleksando123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1680875052,"creation_date":1680870627,"question_id":75958442,"body_markdown":"I&#39;m trying to create a PDF and make some checkboxes not editable, else they can be changed and that&#39;s not what I need.\r\n\r\nI tried using \r\n`&lt;input type=&quot;checkbox&quot; id=&quot;randomId&quot; th:checked=&quot;true&quot; readonly=&quot;readonly&quot;/&gt;`, but it&#39;s not working, tried to disable it, but still not working. Any suggestions?","title":"Thymeleaf - Flatten form fields","body":"<p>I'm trying to create a PDF and make some checkboxes not editable, else they can be changed and that's not what I need.</p>\n<p>I tried using\n<code>&lt;input type=&quot;checkbox&quot; id=&quot;randomId&quot; th:checked=&quot;true&quot; readonly=&quot;readonly&quot;/&gt;</code>, but it's not working, tried to disable it, but still not working. Any suggestions?</p>\n"},{"tags":["java","html","url","file-io","inputstream"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1679962766,"post_id":75861338,"comment_id":133811746,"body_markdown":"Did you read [the Javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStreamReader.html)? It says: *An InputStreamReader is a bridge from byte streams to character streams: It reads bytes and decodes them into characters using a specified charset.* What about that confuses you? Your Question is not really focused enough for posting on Stack Overflow.","body":"Did you read <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStreamReader.html\" rel=\"nofollow noreferrer\">the Javadoc</a>? It says: <i>An InputStreamReader is a bridge from byte streams to character streams: It reads bytes and decodes them into characters using a specified charset.</i> What about that confuses you? Your Question is not really focused enough for posting on Stack Overflow."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679962815,"post_id":75861338,"comment_id":133811755,"body_markdown":"If you do not understand **character sets** (a set of numbers, each assigned to each letter of an alphabet, digit, etc.) and **character encoding** (how text is represented in bit &amp; bytes/octets), then read this surprisingly entertaining article: [*The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)*](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/)","body":"If you do not understand <b>character sets</b> (a set of numbers, each assigned to each letter of an alphabet, digit, etc.) and <b>character encoding</b> (how text is represented in bit &amp; bytes/octets), then read this surprisingly entertaining article: <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\"><i>The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</i></a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679962929,"post_id":75861338,"comment_id":133811771,"body_markdown":"It&#39;s hard to figure what kind of answer we can give that won&#39;t be too &quot;jargon based&quot;. A URL is a way to locate a &quot;resource&quot;. The `https` bit is the protocol used to communicate at the application layer (see OSI Model). The Java `URL` class encapsulates a URL and provides ways to open connections to the specified &quot;resource&quot;. And `InputStreamReader` translates the &quot;raw&quot; byte stream into characters using a particular encoding (e.g., UTF-8).","body":"It&#39;s hard to figure what kind of answer we can give that won&#39;t be too &quot;jargon based&quot;. A URL is a way to locate a &quot;resource&quot;. The <code>https</code> bit is the protocol used to communicate at the application layer (see OSI Model). The Java <code>URL</code> class encapsulates a URL and provides ways to open connections to the specified &quot;resource&quot;. And <code>InputStreamReader</code> translates the &quot;raw&quot; byte stream into characters using a particular encoding (e.g., UTF-8)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679963146,"post_id":75861338,"comment_id":133811799,"body_markdown":"Honestly, I think your best bet is to look up jargon/concepts you don&#39;t understand. If you don&#39;t understand jargon/concepts used to explain the previous jargon/concepts, then look up the new jargon/concepts. Continue doing this until you have enough foundational knowledge to understand what you were originally trying to. Note that doesn&#39;t mean you need to understand everything about how computers and networks work in full detail; only research what you need to know.","body":"Honestly, I think your best bet is to look up jargon/concepts you don&#39;t understand. If you don&#39;t understand jargon/concepts used to explain the previous jargon/concepts, then look up the new jargon/concepts. Continue doing this until you have enough foundational knowledge to understand what you were originally trying to. Note that doesn&#39;t mean you need to understand everything about how computers and networks work in full detail; only research what you need to know."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679962975,"creation_date":1679962975,"answer_id":75861400,"question_id":75861338,"body_markdown":"## URLConnection\r\n\r\nA highly abstract thing - it represents a connection to a URL. It doesn&#39;t have to be active (in that there is a separate `.connect()` method, and things like `.getInputStream()` implicitly connect if it isn&#39;t already), and it can be to anything - a file, a resource in a jar, a BLOB in an SQL-based database, or a connection to a webserver, which is what is happening here.\r\n\r\nSuch connections can be two-way (where you can send data to them, as well as receive data from them) but doesn&#39;t have to be. Web connections are one-way, unless it&#39;s a POST call, such as when you submit a web form, where it&#39;s two way (you send the form data, which might be a lot if it includes a file upload element, and then you receive the response).\r\n\r\n## InputStream\r\n\r\nAs produced by `con.getInputStream()`. An InputStream is a thing that can produce a stream of bytes. It may be endless (for example, a stream that produces random numbers, as many as you want, or a web connection, which could be endless if the server decides to serve bytes as long as you continue to ask for them), but more usually it will end. You don&#39;t know when - another property of inputstreams is that the source that provides these bytes doesn&#39;t have to tell you in advance if it will ever end or when that will happen.\r\n\r\n`con.getInputStream()` represents the data that the server sends. It&#39;s _just_ the data - the &#39;raw data&#39; sent directly by a webserver includes headers and the like. `con.getInputStream()` represents __only__ the &#39;payload&#39; - for example, when connecting to `https://www.pravda.ru/` (if for some reason you want to do that), `con.getInputStream()` returns an `InputStream` that gives you the HTML.\r\n\r\n## InputStreamReader\r\n\r\nInputStream provides __bytes__ and bytes are not characters. If you&#39;re receiving ASCII, there is virtually no difference between bytes and characters, but, it&#39;s 2023, and there are way more characters than that, so, for example, most websites are sent as UTF-8 where 1 to 4 bytes represents a character. `Reader` is to `InputStream` as &#39;character&#39; is to &#39;byte&#39; - where `InputStream` gives you bytes until the stream is done, a `Reader` gives you `char`s until it is done.\r\n\r\nAn `InputStreamReader` bridges them - it turns an inputstream into a reader, by giving it an `InputStream`, and a charset encoding. This code provides a non-standard way to say &quot;it is UTF-8&quot;. `StandardCharsets.UTF8` is the standard way, `&quot;UTF8&quot;` is less standard (if you typo `UTF8`, you won&#39;t know until you run it, whereas if you typo `StandardCharsets.UTF8` you know as you type, because your editor will immediately red-wavy-underline it).\r\n\r\n## BufferedReader\r\n\r\nOne &#39;issue&#39; that connections can have is that they have peculiar chunking behaviour. For example, on just about any disk system (be it a spinning disk or a bunch of SSD cells) __cannot__ give you single bytes. It can only give you fairly large chunks of them. This is a problem: If your code processes things one at a time, then an InputStream has to be allowed to be really wasteful (read an entire disk sector in, and then toss em all in the garbage except the one byte you asked for), because the alternative requires that the object allocate a bunch of RAM to store that stuff. Usually you&#39;d want it to do that, but every so often you don&#39;t. Of course, if you &#39;wrap&#39; that `InputStream` into a Reader with `InputStreamReader` you run into the same problem.\r\n\r\n`BufferedReader` lets you opt into: Yes, please allocate memory for efficiency. a BufferedReader wraps around a Reader and doesn&#39;t change anything at all (it has the same methods - it is also a `Reader`), except its spec indicates that if you call `read()` (which returns a single character), under the hood BufferedReader actually grabs a whole boatload of them, gives you the first one, and stores the rest in an internal cache, and will continue to use that cache as you call `read()` until it has run dry in which case It&#39;ll ask the underlying InputStreamReader for a bunch more. Which will in turn call its underlying InputStream (which you got from `con.getInputStream()`) for a bunch of bytes.\r\n\r\n## URL\r\n\r\nA URL Is a &quot;Universal Resource Locator&quot;. It&#39;s a spec for writing a structured line of text  that identifies a resource _and_ how to load it. The web uses URLs - it&#39;s what you can type into a browser to tell it where to connect to and what to get from there. `https://www.independent.co.uk/europe` is a URL that represents:\r\n\r\n* `https` - use the https protocol to connect to a server to fetch this resource.\r\n* `www.independent.co.uk` - ask the DNS server (where is that? The system knows. Which it knows because when it connected to the network, the router in your closet or whatnot told it where it is) for the IP address that goes with `www.independent.co.uk`, then connect to that IP.\r\n* `/europe` - and ask the server that answers there for this resource.\r\n\r\nURLs don&#39;t _have_ to describe web pages. `file:///foo/bar/baz` is a URL. So is `ftp://ftp.foobar.com/path/to/some/file`. So is `my-bank-app://whatever` which is how iPhones and android let websites open apps. It&#39;s a very flexible system. It&#39;s essentially `someprotocol://someserver/someresourceidentifier` where all those 3 things can be just about anything.\r\n\r\n","title":"What is InputStreamReader really? and URL?","body":"<h2>URLConnection</h2>\n<p>A highly abstract thing - it represents a connection to a URL. It doesn't have to be active (in that there is a separate <code>.connect()</code> method, and things like <code>.getInputStream()</code> implicitly connect if it isn't already), and it can be to anything - a file, a resource in a jar, a BLOB in an SQL-based database, or a connection to a webserver, which is what is happening here.</p>\n<p>Such connections can be two-way (where you can send data to them, as well as receive data from them) but doesn't have to be. Web connections are one-way, unless it's a POST call, such as when you submit a web form, where it's two way (you send the form data, which might be a lot if it includes a file upload element, and then you receive the response).</p>\n<h2>InputStream</h2>\n<p>As produced by <code>con.getInputStream()</code>. An InputStream is a thing that can produce a stream of bytes. It may be endless (for example, a stream that produces random numbers, as many as you want, or a web connection, which could be endless if the server decides to serve bytes as long as you continue to ask for them), but more usually it will end. You don't know when - another property of inputstreams is that the source that provides these bytes doesn't have to tell you in advance if it will ever end or when that will happen.</p>\n<p><code>con.getInputStream()</code> represents the data that the server sends. It's <em>just</em> the data - the 'raw data' sent directly by a webserver includes headers and the like. <code>con.getInputStream()</code> represents <strong>only</strong> the 'payload' - for example, when connecting to <code>https://www.pravda.ru/</code> (if for some reason you want to do that), <code>con.getInputStream()</code> returns an <code>InputStream</code> that gives you the HTML.</p>\n<h2>InputStreamReader</h2>\n<p>InputStream provides <strong>bytes</strong> and bytes are not characters. If you're receiving ASCII, there is virtually no difference between bytes and characters, but, it's 2023, and there are way more characters than that, so, for example, most websites are sent as UTF-8 where 1 to 4 bytes represents a character. <code>Reader</code> is to <code>InputStream</code> as 'character' is to 'byte' - where <code>InputStream</code> gives you bytes until the stream is done, a <code>Reader</code> gives you <code>char</code>s until it is done.</p>\n<p>An <code>InputStreamReader</code> bridges them - it turns an inputstream into a reader, by giving it an <code>InputStream</code>, and a charset encoding. This code provides a non-standard way to say &quot;it is UTF-8&quot;. <code>StandardCharsets.UTF8</code> is the standard way, <code>&quot;UTF8&quot;</code> is less standard (if you typo <code>UTF8</code>, you won't know until you run it, whereas if you typo <code>StandardCharsets.UTF8</code> you know as you type, because your editor will immediately red-wavy-underline it).</p>\n<h2>BufferedReader</h2>\n<p>One 'issue' that connections can have is that they have peculiar chunking behaviour. For example, on just about any disk system (be it a spinning disk or a bunch of SSD cells) <strong>cannot</strong> give you single bytes. It can only give you fairly large chunks of them. This is a problem: If your code processes things one at a time, then an InputStream has to be allowed to be really wasteful (read an entire disk sector in, and then toss em all in the garbage except the one byte you asked for), because the alternative requires that the object allocate a bunch of RAM to store that stuff. Usually you'd want it to do that, but every so often you don't. Of course, if you 'wrap' that <code>InputStream</code> into a Reader with <code>InputStreamReader</code> you run into the same problem.</p>\n<p><code>BufferedReader</code> lets you opt into: Yes, please allocate memory for efficiency. a BufferedReader wraps around a Reader and doesn't change anything at all (it has the same methods - it is also a <code>Reader</code>), except its spec indicates that if you call <code>read()</code> (which returns a single character), under the hood BufferedReader actually grabs a whole boatload of them, gives you the first one, and stores the rest in an internal cache, and will continue to use that cache as you call <code>read()</code> until it has run dry in which case It'll ask the underlying InputStreamReader for a bunch more. Which will in turn call its underlying InputStream (which you got from <code>con.getInputStream()</code>) for a bunch of bytes.</p>\n<h2>URL</h2>\n<p>A URL Is a &quot;Universal Resource Locator&quot;. It's a spec for writing a structured line of text  that identifies a resource <em>and</em> how to load it. The web uses URLs - it's what you can type into a browser to tell it where to connect to and what to get from there. <code>https://www.independent.co.uk/europe</code> is a URL that represents:</p>\n<ul>\n<li><code>https</code> - use the https protocol to connect to a server to fetch this resource.</li>\n<li><code>www.independent.co.uk</code> - ask the DNS server (where is that? The system knows. Which it knows because when it connected to the network, the router in your closet or whatnot told it where it is) for the IP address that goes with <code>www.independent.co.uk</code>, then connect to that IP.</li>\n<li><code>/europe</code> - and ask the server that answers there for this resource.</li>\n</ul>\n<p>URLs don't <em>have</em> to describe web pages. <code>file:///foo/bar/baz</code> is a URL. So is <code>ftp://ftp.foobar.com/path/to/some/file</code>. So is <code>my-bank-app://whatever</code> which is how iPhones and android let websites open apps. It's a very flexible system. It's essentially <code>someprotocol://someserver/someresourceidentifier</code> where all those 3 things can be just about anything.</p>\n"}],"owner":{"account_id":27864736,"reputation":57,"user_id":21276461,"display_name":"userr554"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1679964723,"accepted_answer_id":75861400,"answer_count":1,"score":-4,"last_activity_date":1680875000,"creation_date":1679961921,"question_id":75861338,"body_markdown":"My code works but I looked up a tutorial for how to read a web page and before i have lightly dabbled if File i/o but nothing like this. I don&#39;t really know whats going on with inputStreamReader and the URL identifier?\r\nHere is my code: \r\n\r\n```\r\nimport java.net.*;\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class urlReader {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tURL[] websites = new URL[4];\r\n\r\n\t\tURLConnection conn = null;\r\n\t\t// Try catch statement that handles no URL found and i/o exceptions //\r\n\t\ttry {\r\n\t\t\t// a list of websites sorted into arrays // \r\n\t\t\twebsites[0] = new URL(&quot;https://www.pravdareport.com&quot;);\r\n\t\t\twebsites[1] = new URL(&quot;https://pravda.ru&quot;);\r\n\t\t\twebsites[2] = new URL(&quot;https://www.lefigaro.fr&quot;);\r\n\t\t\twebsites[3] = new URL(&quot;https://www.independent.co.uk&quot;);\r\n\t\t\t\r\n\t\t\t// For each website it assigns the websites to webpage after each iteration of the entire loop //\r\n\t\t\tfor (int i = 0; i &lt; websites.length; i++) {\r\n\t\t\t\tURL webpage = websites[i];\r\n\t\t\t\tconn = webpage.openConnection(); // This is used so that for each website it &#39;&#39;opens&#39;&#39; the connection //\r\n\t\t\t\tInputStreamReader reader = new InputStreamReader(conn.getInputStream(), &quot;UTF8&quot;); // \r\n\t\t\t\tBufferedReader br = new BufferedReader(reader);\r\n\t\t\t\tString lines = &quot;&quot;;\r\n\t\t\t\twhile ((lines = br.readLine()) != null) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (lines.indexOf(&quot;&lt;title&gt;&quot;) != -1 &amp;&amp; lines.indexOf(&quot;&lt;/title&gt;&quot;) != -1) {\r\n\t\t\t\t\t\t\tString title1 = lines.substring(lines.indexOf(&quot;&lt;title&gt;&quot;) + 7, lines.indexOf(&quot;&lt;/title&gt;&quot;));\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;The Title of pravdareport.com is: &quot; + title1);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n```\r\n","title":"What is InputStreamReader really? and URL?","body":"<p>My code works but I looked up a tutorial for how to read a web page and before i have lightly dabbled if File i/o but nothing like this. I don't really know whats going on with inputStreamReader and the URL identifier?\nHere is my code:</p>\n<pre><code>import java.net.*;\nimport java.util.*;\nimport java.io.*;\n\npublic class urlReader {\n\n    public static void main(String[] args) {\n        URL[] websites = new URL[4];\n\n        URLConnection conn = null;\n        // Try catch statement that handles no URL found and i/o exceptions //\n        try {\n            // a list of websites sorted into arrays // \n            websites[0] = new URL(&quot;https://www.pravdareport.com&quot;);\n            websites[1] = new URL(&quot;https://pravda.ru&quot;);\n            websites[2] = new URL(&quot;https://www.lefigaro.fr&quot;);\n            websites[3] = new URL(&quot;https://www.independent.co.uk&quot;);\n            \n            // For each website it assigns the websites to webpage after each iteration of the entire loop //\n            for (int i = 0; i &lt; websites.length; i++) {\n                URL webpage = websites[i];\n                conn = webpage.openConnection(); // This is used so that for each website it ''opens'' the connection //\n                InputStreamReader reader = new InputStreamReader(conn.getInputStream(), &quot;UTF8&quot;); // \n                BufferedReader br = new BufferedReader(reader);\n                String lines = &quot;&quot;;\n                while ((lines = br.readLine()) != null) {\n                    \n                        \n                        if (lines.indexOf(&quot;&lt;title&gt;&quot;) != -1 &amp;&amp; lines.indexOf(&quot;&lt;/title&gt;&quot;) != -1) {\n                            String title1 = lines.substring(lines.indexOf(&quot;&lt;title&gt;&quot;) + 7, lines.indexOf(&quot;&lt;/title&gt;&quot;));\n                            System.out.println(&quot;The Title of pravdareport.com is: &quot; + title1);\n                            break;\n                        }\n                        \n\n                \n            }\n            \n            \n                \n                \n            }\n            \n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hex","prepared-statement","db2-zos"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680852841,"post_id":75956334,"comment_id":133969803,"body_markdown":"Have you tried `X?`?","body":"Have you tried <code>X?</code>?"},{"owner":{"account_id":5271720,"reputation":1,"user_id":4209782,"display_name":"Maelstrom"},"score":0,"creation_date":1680854465,"post_id":75956334,"comment_id":133970094,"body_markdown":"Not working either:\nDB2 SQL Error: SQLCODE=-104, SQLSTATE=42601 ILLEGAL SYMBOL","body":"Not working either: DB2 SQL Error: SQLCODE=-104, SQLSTATE=42601 ILLEGAL SYMBOL"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680858651,"creation_date":1680852545,"answer_id":75956355,"question_id":75956334,"body_markdown":"Why don&#39;t you just convert it from Java?\r\n\r\n```java\r\nString id = &quot;0038892587183C&quot;;\r\nint idAsInt=Integer.parseInt(id, 16);\r\nString request = &quot;INSERT INTO TABLE (COLUMN) VALUES (?)&quot;;\r\nConnection con = getConnectionDb2z();\r\ntry(PreparedStatement insert = con.prepareStatement(request))\r\n{\r\n    insert.setInt(1, idAsInt);\r\n    insert.executeUpdate();\r\n}\r\n```\r\n\r\nThis converts `id` from hexadecimal to an `int` using `Integer.parseInt` using a custom base `16` in order to parse it as a hexadecimal number.\r\n\r\nThen, it uses `PreparedStatement#setInt` for setting the parameter without the `X&#39;&#39;`.\r\n\r\nIf your hex number exceeds the signed 32bit limit of `int`, you would need to use `long` (signed 64bit) or `BigInteger`. Unfortunately, JDBC doesn&#39;t allow passing a `BigInteger` directly, so you would need to use a solution like [these mentioned here](https://stackoverflow.com/questions/40376198/how-to-insert-big-integer-in-prepared-statement-java):\r\n\r\n```java\r\nString id = &quot;0038892587183C&quot;;\r\nBigInteger idAsBigInt=new BigInteger(id, 16);//parse it to a BigInteger\r\nString request = &quot;INSERT INTO TABLE (COLUMN) VALUES (?)&quot;;\r\nConnection con = getConnectionDb2z();\r\ntry(PreparedStatement insert = con.prepareStatement(request))\r\n{\r\n    insert.setBigDecimal(1, new BigDecimal(idAsBigInt));//or possibly insert.setString(1, String.valueOf(idAsBigInt));\r\n    insert.executeUpdate();\r\n}\r\n```","title":"Insert/update Hex value to DB2 Z/OS PreparedStatement","body":"<p>Why don't you just convert it from Java?</p>\n<pre class=\"lang-java prettyprint-override\"><code>String id = &quot;0038892587183C&quot;;\nint idAsInt=Integer.parseInt(id, 16);\nString request = &quot;INSERT INTO TABLE (COLUMN) VALUES (?)&quot;;\nConnection con = getConnectionDb2z();\ntry(PreparedStatement insert = con.prepareStatement(request))\n{\n    insert.setInt(1, idAsInt);\n    insert.executeUpdate();\n}\n</code></pre>\n<p>This converts <code>id</code> from hexadecimal to an <code>int</code> using <code>Integer.parseInt</code> using a custom base <code>16</code> in order to parse it as a hexadecimal number.</p>\n<p>Then, it uses <code>PreparedStatement#setInt</code> for setting the parameter without the <code>X''</code>.</p>\n<p>If your hex number exceeds the signed 32bit limit of <code>int</code>, you would need to use <code>long</code> (signed 64bit) or <code>BigInteger</code>. Unfortunately, JDBC doesn't allow passing a <code>BigInteger</code> directly, so you would need to use a solution like <a href=\"https://stackoverflow.com/questions/40376198/how-to-insert-big-integer-in-prepared-statement-java\">these mentioned here</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String id = &quot;0038892587183C&quot;;\nBigInteger idAsBigInt=new BigInteger(id, 16);//parse it to a BigInteger\nString request = &quot;INSERT INTO TABLE (COLUMN) VALUES (?)&quot;;\nConnection con = getConnectionDb2z();\ntry(PreparedStatement insert = con.prepareStatement(request))\n{\n    insert.setBigDecimal(1, new BigDecimal(idAsBigInt));//or possibly insert.setString(1, String.valueOf(idAsBigInt));\n    insert.executeUpdate();\n}\n</code></pre>\n"}],"owner":{"account_id":5271720,"reputation":1,"user_id":4209782,"display_name":"Maelstrom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680874476,"creation_date":1680852353,"question_id":75956334,"body_markdown":"I need to insert in my database a Hex value with a PreparedStatement in Java.\r\n\r\nI can do a select with Hex function for get my value:\r\n\r\n```\r\nString id = &quot;02658947530232010038892587183C&quot;;\r\nString request = &quot;SELECT HEX(COLUMN) FROM TABLE WHERE HEX(COLUMN)=?&quot;;\r\nConnection con = getConnectionDb2z();\r\nResultSet rs = null;\r\ntry(PreparedStatement select = con.prepareStatement(request))\r\n{\r\n    insert.setString(1, id);\r\n    rs = select.executeQuery();\r\n    rs.next();\r\n    System.out.println(rs.getString(&quot;COLUMN&quot;));\r\n}\r\ncatch(SQLException e)\r\n{\r\n    throw e;\r\n}\r\nfinally\r\n{\r\n    con.close();\r\n}\r\n```\r\n\r\nMy result is `02658947530232010038892587183C.` (this is an example).\r\n\r\nBut now i want insert a value in my table.\r\nIf i try:\r\n\r\n```\r\nString id = &quot;02658947530232010038892587183C&quot;;\r\nString request = &quot;INSERT INTO TABLE (COLUMN) VALUES (X&#39;?&#39;)&quot;;\r\nConnection con = getConnectionDb2z();\r\ntry(PreparedStatement insert = con.prepareStatement(request))\r\n{\r\n    insert.setString(1, id);\r\n    insert.executeUpdate();\r\n}\r\n```\r\n\r\nJava does not recognize `?` parameter from &quot;(X&#39;?&#39;)` and i have an error:\r\n&gt; Exception in thread &quot;main&quot; com.ibm.db2.jcc.am.SqlSyntaxErrorException: invalid parameter.\r\n\r\nIf i try:\r\n\r\n```\r\nString id = &quot;X&#39;02658947530232010038892587183C&#39;&quot;;\r\nString request = &quot;INSERT INTO TABLE (COLUMN) VALUES (?)&quot;;\r\nConnection con = getConnectionDb2z();\r\ntry(PreparedStatement insert = con.prepareStatement(request))\r\n{\r\n    insert.setString(1, id);\r\n    insert.executeUpdate();\r\n}\r\n```\r\n\r\nI also get an error:\r\n&gt; Exception in thread &quot;main&quot; com.ibm.db2.jcc.am.SqlDataException: DB2 SQL Error: SQLCODE=-302, SQLSTATE=22001\r\n\r\nBecause it tries to insert `X&#39;02658947530232010038892587183C&#39;` as a string.\r\n\r\nThe only way I find to work it&#39;s this:\r\n\r\n```\r\nString id = &quot;02658947530232010038892587183C&quot;;\r\nString request = &quot;INSERT INTO TABLE (COLUMN) VALUES (X&#39;?&#39;)&quot;;\r\nConnection con = getConnectionDb2z();\r\ntry(PreparedStatement insert = con.prepareStatement(request.replace(&quot;?&quot;, id))\r\n{\r\n    insert.executeUpdate();\r\n}\r\n```\r\n\r\nHowever, this approach is not viable. Is there a way to do this properly ?\r\n\r\nFor reminder my database is a DB2 Z/OS and the function UNHEX doesn&#39;t exist.  \r\n  \r\nMore explanation:   \r\nIn my request, `X&#39;?&#39;` is a function that is used to pack hexadecimal values.  \r\n\r\nThe length `COLUMN` in my `TABLE` is 7. My length `id` is 14, I need to pack this id to insert him in my bdd. And when I want to read it in my java code.\r\n\r\nI unpack the id with the function `HEX(id)`. But in DB2 Z/OS  the function `UNHEX` dosen&#39;t exist, we need to use `X&#39;id&#39;`, but like you can see `PreparedStatement` dosen&#39;t recognize this as a function.\r\n\r\nWhen i pack this id `02658947530232010038892587183C` with the function `X&#39;&#39;` the result in data base with `SELECT COLUMN FROM TABLE` is `&#193;i&#229;&#235;�i  g` (the result you see is not the exact one I get because there are characters that the site cannot read).\r\n\r\nAnd if i use the function `HEX()` in my select for unpack the id `SELECT HEX(COLUMN) FROM TABLE` the result will be I updated my question to show what I need to get when I pack my id. `02658947530232010038892587183C`.","title":"Insert/update Hex value to DB2 Z/OS PreparedStatement","body":"<p>I need to insert in my database a Hex value with a PreparedStatement in Java.</p>\n<p>I can do a select with Hex function for get my value:</p>\n<pre><code>String id = &quot;02658947530232010038892587183C&quot;;\nString request = &quot;SELECT HEX(COLUMN) FROM TABLE WHERE HEX(COLUMN)=?&quot;;\nConnection con = getConnectionDb2z();\nResultSet rs = null;\ntry(PreparedStatement select = con.prepareStatement(request))\n{\n    insert.setString(1, id);\n    rs = select.executeQuery();\n    rs.next();\n    System.out.println(rs.getString(&quot;COLUMN&quot;));\n}\ncatch(SQLException e)\n{\n    throw e;\n}\nfinally\n{\n    con.close();\n}\n</code></pre>\n<p>My result is <code>02658947530232010038892587183C.</code> (this is an example).</p>\n<p>But now i want insert a value in my table.\nIf i try:</p>\n<pre><code>String id = &quot;02658947530232010038892587183C&quot;;\nString request = &quot;INSERT INTO TABLE (COLUMN) VALUES (X'?')&quot;;\nConnection con = getConnectionDb2z();\ntry(PreparedStatement insert = con.prepareStatement(request))\n{\n    insert.setString(1, id);\n    insert.executeUpdate();\n}\n</code></pre>\n<p>Java does not recognize <code>?</code> parameter from &quot;(X'?')` and i have an error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; com.ibm.db2.jcc.am.SqlSyntaxErrorException: invalid parameter.</p>\n</blockquote>\n<p>If i try:</p>\n<pre><code>String id = &quot;X'02658947530232010038892587183C'&quot;;\nString request = &quot;INSERT INTO TABLE (COLUMN) VALUES (?)&quot;;\nConnection con = getConnectionDb2z();\ntry(PreparedStatement insert = con.prepareStatement(request))\n{\n    insert.setString(1, id);\n    insert.executeUpdate();\n}\n</code></pre>\n<p>I also get an error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; com.ibm.db2.jcc.am.SqlDataException: DB2 SQL Error: SQLCODE=-302, SQLSTATE=22001</p>\n</blockquote>\n<p>Because it tries to insert <code>X'02658947530232010038892587183C'</code> as a string.</p>\n<p>The only way I find to work it's this:</p>\n<pre><code>String id = &quot;02658947530232010038892587183C&quot;;\nString request = &quot;INSERT INTO TABLE (COLUMN) VALUES (X'?')&quot;;\nConnection con = getConnectionDb2z();\ntry(PreparedStatement insert = con.prepareStatement(request.replace(&quot;?&quot;, id))\n{\n    insert.executeUpdate();\n}\n</code></pre>\n<p>However, this approach is not viable. Is there a way to do this properly ?</p>\n<p>For reminder my database is a DB2 Z/OS and the function UNHEX doesn't exist.</p>\n<p>More explanation:<br />\nIn my request, <code>X'?'</code> is a function that is used to pack hexadecimal values.</p>\n<p>The length <code>COLUMN</code> in my <code>TABLE</code> is 7. My length <code>id</code> is 14, I need to pack this id to insert him in my bdd. And when I want to read it in my java code.</p>\n<p>I unpack the id with the function <code>HEX(id)</code>. But in DB2 Z/OS  the function <code>UNHEX</code> dosen't exist, we need to use <code>X'id'</code>, but like you can see <code>PreparedStatement</code> dosen't recognize this as a function.</p>\n<p>When i pack this id <code>02658947530232010038892587183C</code> with the function <code>X''</code> the result in data base with <code>SELECT COLUMN FROM TABLE</code> is <code>Áiåë�i  g</code> (the result you see is not the exact one I get because there are characters that the site cannot read).</p>\n<p>And if i use the function <code>HEX()</code> in my select for unpack the id <code>SELECT HEX(COLUMN) FROM TABLE</code> the result will be I updated my question to show what I need to get when I pack my id. <code>02658947530232010038892587183C</code>.</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":17585365,"reputation":194,"user_id":12758199,"display_name":"The_Java_Guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680874453,"creation_date":1680816200,"answer_id":75953897,"question_id":75952997,"body_markdown":"If you want to test the `_error` variable after each execution of the function, then you also need to reset the variable as well before the function begins.\r\n\r\nThe problem you have in the code is that `_error` is declared as `static` and for the failed test, it actually holds the value assigned during previous execution of the function. \r\n\r\nChange the function slightly like below and it should work now.\r\n\r\n```\r\npublic static int ValidateMark(String MarkName,String mark,int MaxMark)\r\n{\r\n    try {\r\n        \r\n        // reset the error variable before execution\r\n        _error = &quot;&quot;;\r\n\r\n        /*parse the string number in case of :\r\n         * success: this means that mark is of type int\r\n         * (then the value will be checked if it&#39;s between 0 &amp; MaxMark).\r\n         * fail: an exception will occur. \r\n         */\r\n        int Mark =Integer.parseInt(mark);\r\n\r\n        /*check if the mark between 0 &amp; MaxMark:\r\n         * if it&#39;s : the value is correct and will be returned.\r\n         * else: an error will be raised and the function will return with value -1.\r\n         */\r\n        if(Mark&gt;=0 &amp;&amp; Mark&lt;=MaxMark) return Mark;\r\n\r\n        _error =&quot;Line (&quot;+ErrorlineNumber+&quot;): &quot;+MarkName +&quot; must be a value between 0 and &quot;+ MaxMark +&quot;!&quot;;\r\n        return -1;\r\n\r\n    }\r\n    catch(Exception e)\r\n    {\r\n        /*if we reached here then that&#39;s means the mark wasn&#39;t of type int.\r\n         * first raise an error then return with value -1.\r\n         */\r\n        _error =&quot;Line (&quot;+ErrorlineNumber+&quot;): &quot;+MarkName+&quot; must be of type int!&quot;;\r\n        return -1;\r\n    }\r\n}\r\n```\r\n\r\nAlso you have the `assertEquals()` method arguments in wrong order. This is why you are seeing incorrect error message too. It&#39;s arguments should be like below.\r\n\r\n`assertEquals(expectedValue, actualValue, message)`\r\n\r\n","title":"array of strings always return the last element regardless of the index number","body":"<p>If you want to test the <code>_error</code> variable after each execution of the function, then you also need to reset the variable as well before the function begins.</p>\n<p>The problem you have in the code is that <code>_error</code> is declared as <code>static</code> and for the failed test, it actually holds the value assigned during previous execution of the function.</p>\n<p>Change the function slightly like below and it should work now.</p>\n<pre><code>public static int ValidateMark(String MarkName,String mark,int MaxMark)\n{\n    try {\n        \n        // reset the error variable before execution\n        _error = &quot;&quot;;\n\n        /*parse the string number in case of :\n         * success: this means that mark is of type int\n         * (then the value will be checked if it's between 0 &amp; MaxMark).\n         * fail: an exception will occur. \n         */\n        int Mark =Integer.parseInt(mark);\n\n        /*check if the mark between 0 &amp; MaxMark:\n         * if it's : the value is correct and will be returned.\n         * else: an error will be raised and the function will return with value -1.\n         */\n        if(Mark&gt;=0 &amp;&amp; Mark&lt;=MaxMark) return Mark;\n\n        _error =&quot;Line (&quot;+ErrorlineNumber+&quot;): &quot;+MarkName +&quot; must be a value between 0 and &quot;+ MaxMark +&quot;!&quot;;\n        return -1;\n\n    }\n    catch(Exception e)\n    {\n        /*if we reached here then that's means the mark wasn't of type int.\n         * first raise an error then return with value -1.\n         */\n        _error =&quot;Line (&quot;+ErrorlineNumber+&quot;): &quot;+MarkName+&quot; must be of type int!&quot;;\n        return -1;\n    }\n}\n</code></pre>\n<p>Also you have the <code>assertEquals()</code> method arguments in wrong order. This is why you are seeing incorrect error message too. It's arguments should be like below.</p>\n<p><code>assertEquals(expectedValue, actualValue, message)</code></p>\n"}],"owner":{"account_id":25176710,"reputation":27,"user_id":19018803,"display_name":"Alaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75953897,"answer_count":1,"score":0,"last_activity_date":1680874453,"creation_date":1680808457,"question_id":75952997,"body_markdown":"I&#39;m doing a test for a certain function using JUnit. The function set an error message if the input was incorrect. So, I was trying to test if the message was correct. But, the error string array, which I compare it to the error set by the function for some reason, it seams that the string array always take the last element without properly iterating over the array element.\r\n\r\nhere is the class I test With.\r\n\r\n   \r\n\r\n     package ProgramFunctions;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.lang.String;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.Iterator;\r\n    import java.util.Vector;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    public class StudentGradeGenerator {\r\n\r\n\t/*the error variable is used to store the error \r\n\t *raised by any function. which is used later to in the gui\r\n\t *to display it to the user.\r\n\t */\r\n\tprivate static String _error=&quot;&quot;;\r\n\t/*the ErrorlineNumber is used to display the \r\n\t * line of the error.\r\n\t * it&#39;s first initalized to zero, then in the \r\n\t * InputParse function the variable is increased for every\r\n\t * line being parsed by one. \r\n\t */\r\n\tprivate static int ErrorlineNumber=0;\r\n\r\n    /*function to validate if the mark is:\r\n\t * 1) of type int.\r\n\t * 2) value between 0 and a maximum mark.\r\n\t */\r\n\tpublic static int ValidateMark(String MarkName,String mark,int MaxMark)\r\n\t{\r\n\t\ttry {\r\n\t\t\t/*parse the string number in case of :\r\n\t\t\t * success: this means that mark is of type int\r\n\t\t\t * (then the value will be checked if it&#39;s between 0 &amp; MaxMark).\r\n\t\t\t * fail: an exception will occur. \r\n\t\t\t */\r\n\t\t\tint Mark =Integer.parseInt(mark);\r\n\r\n\t\t\t/*check if the mark between 0 &amp; MaxMark:\r\n\t\t\t * if it&#39;s : the value is correct and will be returned.\r\n\t\t\t * else: an error will be raised and the function will return with value -1.\r\n\t\t\t */\r\n\t\t\tif(Mark&gt;=0 &amp;&amp; Mark&lt;=MaxMark) return Mark;\r\n\r\n\t\t\t_error =&quot;Line (&quot;+ErrorlineNumber+&quot;): &quot;+MarkName +&quot; must be a value between 0 and &quot;+ MaxMark +&quot;!&quot;;\r\n\t\t\treturn -1;\r\n\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\t/*if we reached here then that&#39;s means the mark wasn&#39;t of type int.\r\n\t\t\t * first raise an error then return with value -1.\r\n\t\t\t */\r\n\t\t\t_error =&quot;Line (&quot;+ErrorlineNumber+&quot;): &quot;+MarkName+&quot; must be of type int!&quot;;\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n    \tpublic static String getError(){\r\n\t\treturn _error;\r\n\t}\r\n    }\r\n\r\nhere is the test function:\r\n\r\n    package ProjectUnitTest;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    import java.net.URL;\r\n    \r\n    import ProgramFunctions.StudentGradeGenerator;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n   \r\n\r\n    class StudentGradeGeneratorTest {\r\n\r\n    @Test\r\n    \tvoid TestFinalMark() {\r\n    \t\tint expectedIndex = 0;\r\n    \t\tString[] MarkInputs = new String[] { &quot;d20&quot;, &quot;-10&quot;, &quot;0&quot;, &quot;55&quot;, &quot;60&quot;, &quot;70&quot; };\r\n    \t\tint[] exepected = new int[] { -1, -1, 0, 55, 60, -1 };\r\n\t\t\r\n\t    String[] FinalMarkExpectedErrorSet =new String[]{\r\n\t\t\t  &quot;Line (0): Final Mark must be of type int!&quot;,\r\n\t\t\t  &quot;Line (0): Final Mark must be a value between 0 and 60!&quot;,\r\n\t\t\t  &quot;&quot;,\r\n\t\t\t  &quot;&quot;,\r\n\t\t\t  &quot;&quot;,\r\n\t\t\t  &quot;Line (0): Final Mark must be a value between 0 and 60!&quot;\r\n\t\t      };\r\n\t\t\r\n\t\tfor (var mark : MarkInputs) {\r\n\t\t\tint actual = StudentGradeGenerator.ValidateMark(&quot;Final Mark&quot;, mark, 60);\r\n\t\t\tassertEquals(exepected[expectedIndex], actual,String.format(&quot;mark::%s =&gt; Returning Error in validating Final Mark Function&quot;,mark));\r\n\t\t\tassertEquals(StudentGradeGenerator.getError(),FinalMarkExpectedErrorSet[expectedIndex],String.format(&quot;mark::%s,index::%d =&gt;Error in::Error set in Final Mark Function&quot;,mark,expectedIndex));\r\n\t\t\texpectedIndex++;\r\n\t\t}\r\n\r\n\t}\r\n\r\nthis is what appear when I run the test function:\r\n\r\n    AssertionFailedError: mark::0,index::٢ =&gt;Error in::Error set in Final Mark Function ==&gt; expected: &lt;Line (0): Final Mark must be a value between 0 and 60!&gt; but was: &lt;&gt;\r\n    enter code here\r\n\r\nalthough the index 2 in the FinalMarkExpectedErrorSet is an empty string, but it doesn&#39;t seem to acsses it?!\r\n ","title":"array of strings always return the last element regardless of the index number","body":"<p>I'm doing a test for a certain function using JUnit. The function set an error message if the input was incorrect. So, I was trying to test if the message was correct. But, the error string array, which I compare it to the error set by the function for some reason, it seams that the string array always take the last element without properly iterating over the array element.</p>\n<p>here is the class I test With.</p>\n<pre><code> package ProgramFunctions;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.lang.String;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Iterator;\nimport java.util.Vector;\nimport java.util.regex.Pattern;\n\nimport org.apache.commons.lang3.StringUtils;\n\npublic class StudentGradeGenerator {\n\n/*the error variable is used to store the error \n *raised by any function. which is used later to in the gui\n *to display it to the user.\n */\nprivate static String _error=&quot;&quot;;\n/*the ErrorlineNumber is used to display the \n * line of the error.\n * it's first initalized to zero, then in the \n * InputParse function the variable is increased for every\n * line being parsed by one. \n */\nprivate static int ErrorlineNumber=0;\n\n/*function to validate if the mark is:\n * 1) of type int.\n * 2) value between 0 and a maximum mark.\n */\npublic static int ValidateMark(String MarkName,String mark,int MaxMark)\n{\n    try {\n        /*parse the string number in case of :\n         * success: this means that mark is of type int\n         * (then the value will be checked if it's between 0 &amp; MaxMark).\n         * fail: an exception will occur. \n         */\n        int Mark =Integer.parseInt(mark);\n\n        /*check if the mark between 0 &amp; MaxMark:\n         * if it's : the value is correct and will be returned.\n         * else: an error will be raised and the function will return with value -1.\n         */\n        if(Mark&gt;=0 &amp;&amp; Mark&lt;=MaxMark) return Mark;\n\n        _error =&quot;Line (&quot;+ErrorlineNumber+&quot;): &quot;+MarkName +&quot; must be a value between 0 and &quot;+ MaxMark +&quot;!&quot;;\n        return -1;\n\n    }\n    catch(Exception e)\n    {\n        /*if we reached here then that's means the mark wasn't of type int.\n         * first raise an error then return with value -1.\n         */\n        _error =&quot;Line (&quot;+ErrorlineNumber+&quot;): &quot;+MarkName+&quot; must be of type int!&quot;;\n        return -1;\n    }\n}\n    public static String getError(){\n    return _error;\n}\n}\n</code></pre>\n<p>here is the test function:</p>\n<pre><code>package ProjectUnitTest;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport java.net.URL;\n\nimport ProgramFunctions.StudentGradeGenerator;\n\nimport org.junit.jupiter.api.Test;\n\n\nclass StudentGradeGeneratorTest {\n\n@Test\n    void TestFinalMark() {\n        int expectedIndex = 0;\n        String[] MarkInputs = new String[] { &quot;d20&quot;, &quot;-10&quot;, &quot;0&quot;, &quot;55&quot;, &quot;60&quot;, &quot;70&quot; };\n        int[] exepected = new int[] { -1, -1, 0, 55, 60, -1 };\n    \n    String[] FinalMarkExpectedErrorSet =new String[]{\n          &quot;Line (0): Final Mark must be of type int!&quot;,\n          &quot;Line (0): Final Mark must be a value between 0 and 60!&quot;,\n          &quot;&quot;,\n          &quot;&quot;,\n          &quot;&quot;,\n          &quot;Line (0): Final Mark must be a value between 0 and 60!&quot;\n          };\n    \n    for (var mark : MarkInputs) {\n        int actual = StudentGradeGenerator.ValidateMark(&quot;Final Mark&quot;, mark, 60);\n        assertEquals(exepected[expectedIndex], actual,String.format(&quot;mark::%s =&gt; Returning Error in validating Final Mark Function&quot;,mark));\n        assertEquals(StudentGradeGenerator.getError(),FinalMarkExpectedErrorSet[expectedIndex],String.format(&quot;mark::%s,index::%d =&gt;Error in::Error set in Final Mark Function&quot;,mark,expectedIndex));\n        expectedIndex++;\n    }\n\n}\n</code></pre>\n<p>this is what appear when I run the test function:</p>\n<pre><code>AssertionFailedError: mark::0,index::٢ =&gt;Error in::Error set in Final Mark Function ==&gt; expected: &lt;Line (0): Final Mark must be a value between 0 and 60!&gt; but was: &lt;&gt;\nenter code here\n</code></pre>\n<p>although the index 2 in the FinalMarkExpectedErrorSet is an empty string, but it doesn't seem to acsses it?!</p>\n"},{"tags":["java","string","sum","integer"],"answers":[{"tags":[],"owner":{"account_id":7861182,"reputation":189,"user_id":5941553,"display_name":"BitWiseByteDumb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680874302,"creation_date":1680874302,"answer_id":75958885,"question_id":75958305,"body_markdown":"Had a similar assignment a few years back.\r\nTry this!\r\n\r\n    public String inc_string(String src){\r\n        int c = 0;\r\n        boolean inc_left = false;\r\n\r\n        StringBuilder sb = new StringBuilder(src);\r\n        for (c = sb.length() - 1; c &gt; 0; c--){\r\n            char tc = sb.charAt(c);\r\n            if (!Character.isDigit(tc) &amp;&amp; inc_left){\r\n                sb.insert(c + 1, &#39;1&#39;);\r\n                return sb.toString();\r\n            }\r\n            if (Character.isDigit(tc)){\r\n                inc_left = false;\r\n                if (tc &gt;= &#39;9&#39;){\r\n                    tc = &#39;0&#39;;\r\n                    inc_left = true;\r\n                }\r\n                else{\r\n                    tc++;\r\n                }\r\n                sb.setCharAt(c, tc);\r\n                if (!inc_left){\r\n                    return sb.toString();\r\n                }\r\n            }\r\n        }\r\n        return src;\r\n    }\r\n","title":"Sum in Java while keeping the innecesary zeroes","body":"<p>Had a similar assignment a few years back.\nTry this!</p>\n<pre><code>public String inc_string(String src){\n    int c = 0;\n    boolean inc_left = false;\n\n    StringBuilder sb = new StringBuilder(src);\n    for (c = sb.length() - 1; c &gt; 0; c--){\n        char tc = sb.charAt(c);\n        if (!Character.isDigit(tc) &amp;&amp; inc_left){\n            sb.insert(c + 1, '1');\n            return sb.toString();\n        }\n        if (Character.isDigit(tc)){\n            inc_left = false;\n            if (tc &gt;= '9'){\n                tc = '0';\n                inc_left = true;\n            }\n            else{\n                tc++;\n            }\n            sb.setCharAt(c, tc);\n            if (!inc_left){\n                return sb.toString();\n            }\n        }\n    }\n    return src;\n}\n</code></pre>\n"}],"owner":{"account_id":26949831,"reputation":1,"user_id":20519238,"display_name":"Koma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680869936,"answer_count":1,"score":-1,"last_activity_date":1680874302,"creation_date":1680869614,"question_id":75958305,"body_markdown":"I am trying to make a program that given a string such as &quot;hi99&quot; it&#39;d return &quot;hi100&quot;, so basically adding 1 to the numbers in the last spots. \r\n```\r\npublic static String incrementString(String str) {\r\n        String nonNumber = &quot;&quot;;\r\n        String number = &quot;&quot;;\r\n        int numberInt = 0;\r\n        for(int i = str.length() - 1 ; i &gt;= 0 &amp;&amp; Character.isDigit(str.charAt(i)); i--){\r\n            nonNumber = str.substring(0, i);\r\n            number  = str.substring(i);     \r\n        }   \r\n        numberInt = Integer.valueOf(number) + 1;\r\n        number = Integer.toString(numberInt);\r\n        return (nonNumber + number);\r\n    }\r\n```\r\n\r\n\r\n\r\nMy idea was to split the part with numbers from the part with no numbers. And then add one to the numbered part. Which is what i do below. Problem comes with the fact that, when Java sees 001, instead of adding 1 to the last spot and ignoring the rest. The ending value is 2. \r\nTherefore, I&#39;m just asking to see if there&#39;s a way to avoid the removal of those zeroes.","title":"Sum in Java while keeping the innecesary zeroes","body":"<p>I am trying to make a program that given a string such as &quot;hi99&quot; it'd return &quot;hi100&quot;, so basically adding 1 to the numbers in the last spots.</p>\n<pre><code>public static String incrementString(String str) {\n        String nonNumber = &quot;&quot;;\n        String number = &quot;&quot;;\n        int numberInt = 0;\n        for(int i = str.length() - 1 ; i &gt;= 0 &amp;&amp; Character.isDigit(str.charAt(i)); i--){\n            nonNumber = str.substring(0, i);\n            number  = str.substring(i);     \n        }   \n        numberInt = Integer.valueOf(number) + 1;\n        number = Integer.toString(numberInt);\n        return (nonNumber + number);\n    }\n</code></pre>\n<p>My idea was to split the part with numbers from the part with no numbers. And then add one to the numbered part. Which is what i do below. Problem comes with the fact that, when Java sees 001, instead of adding 1 to the last spot and ignoring the rest. The ending value is 2.\nTherefore, I'm just asking to see if there's a way to avoid the removal of those zeroes.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680862040,"creation_date":1680859620,"answer_id":75957188,"question_id":75957169,"body_markdown":"I believe what you&#39;re looking for is the `@RequestParam` annotation. You can use it by replacing `@PathVariable` like so:\r\n\r\n```\r\n@GetMapping(&quot;/project&quot;)\r\npublic Project getProject(@RequestParam int id) {\r\n    Optional&lt;Project&gt; project = projectService.getProject(id);\r\n\r\n    if (project.isPresent()) {\r\n        return (Project) project.get();\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\n\r\nThen you can do `/project?id=1`\r\n\r\nNote: &lt;s&gt;You might have to change your request url since you have two of the same mappings, but I&#39;m not entirely sure&lt;/s&gt; please refer to [Chaosfire&#39;s answer](https://stackoverflow.com/a/75957375/13927534) for a solution to the ambiguous mapping problem.","title":"Create a route that return list if there is no param and return a single object if there is id param","body":"<p>I believe what you're looking for is the <code>@RequestParam</code> annotation. You can use it by replacing <code>@PathVariable</code> like so:</p>\n<pre><code>@GetMapping(&quot;/project&quot;)\npublic Project getProject(@RequestParam int id) {\n    Optional&lt;Project&gt; project = projectService.getProject(id);\n\n    if (project.isPresent()) {\n        return (Project) project.get();\n    }\n\n    return null;\n}\n</code></pre>\n<p>Then you can do <code>/project?id=1</code></p>\n<p>Note: <s>You might have to change your request url since you have two of the same mappings, but I'm not entirely sure</s> please refer to <a href=\"https://stackoverflow.com/a/75957375/13927534\">Chaosfire's answer</a> for a solution to the ambiguous mapping problem.</p>\n"},{"tags":[],"owner":{"account_id":8632386,"reputation":597,"user_id":6463625,"display_name":"Nald Dev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680861533,"creation_date":1680861188,"answer_id":75957352,"question_id":75957169,"body_markdown":"This code below solves this problem just for workaround for now\r\n\r\n    @GetMapping(&quot;/project&quot;)\r\n    public &lt;Any&gt; Any getProject(@RequestParam Optional&lt;Integer&gt; id) {\r\n        if (id.isEmpty()) {\r\n            return (Any) projectService.getProjects();\r\n        }\r\n\r\n        Optional&lt;Project&gt; project = projectService.getProject(id.get());\r\n\r\n        if (project.isPresent()) {\r\n            return (Any) project.get();\r\n        }\r\n\r\n        return null;\r\n    }","title":"Create a route that return list if there is no param and return a single object if there is id param","body":"<p>This code below solves this problem just for workaround for now</p>\n<pre><code>@GetMapping(&quot;/project&quot;)\npublic &lt;Any&gt; Any getProject(@RequestParam Optional&lt;Integer&gt; id) {\n    if (id.isEmpty()) {\n        return (Any) projectService.getProjects();\n    }\n\n    Optional&lt;Project&gt; project = projectService.getProject(id.get());\n\n    if (project.isPresent()) {\n        return (Any) project.get();\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680873773,"creation_date":1680861443,"answer_id":75957375,"question_id":75957169,"body_markdown":"As mentioned in other answer. you need to use [RequestParam][1]. Additionally, in order to narrow down the mappings and deal with possible ambiguous handler mapping exceptions, you can use `GetMapping.params` to specify, which parameters need to be present to map to this particular handler. It&#39;s alias for [RequestMapping.params][2].\r\n\r\n&gt; Same format for any environment: a sequence of &quot;myParam=myValue&quot; style expressions, with a request only mapped if each such parameter is found to have the given value. Expressions can be negated by using the &quot;!=&quot; operator, as in &quot;myParam!=myValue&quot;. &quot;myParam&quot; style expressions are also supported, with such parameters having to be present in the request (allowed to have any value). Finally, &quot;!myParam&quot; style expressions indicate that the specified parameter is not supposed to be present in the request.\r\n\r\nExample:\r\n```\r\n@GetMapping(value=&quot;/project&quot;, params = &quot;!id&quot;)\r\npublic List&lt;Project&gt; getProjects() {\r\n  return projectService.getProjects();\r\n}\r\n\r\n@GetMapping(value = &quot;/project&quot;, params = &quot;id&quot;)\r\npublic Project getProject(@RequestParam int id) {\r\n  Optional&lt;Project&gt; project = projectService.getProject(id);\r\n\r\n  if (project.isPresent()) {\r\n    return (Project) project.get();\r\n  }\r\n  return null;\r\n}\r\n```\r\nIf you consider the functional style cleaner, you can return like this:\r\n```\r\nreturn project.orElse(null);\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params()","title":"Create a route that return list if there is no param and return a single object if there is id param","body":"<p>As mentioned in other answer. you need to use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">RequestParam</a>. Additionally, in order to narrow down the mappings and deal with possible ambiguous handler mapping exceptions, you can use <code>GetMapping.params</code> to specify, which parameters need to be present to map to this particular handler. It's alias for <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params()\" rel=\"nofollow noreferrer\">RequestMapping.params</a>.</p>\n<blockquote>\n<p>Same format for any environment: a sequence of &quot;myParam=myValue&quot; style expressions, with a request only mapped if each such parameter is found to have the given value. Expressions can be negated by using the &quot;!=&quot; operator, as in &quot;myParam!=myValue&quot;. &quot;myParam&quot; style expressions are also supported, with such parameters having to be present in the request (allowed to have any value). Finally, &quot;!myParam&quot; style expressions indicate that the specified parameter is not supposed to be present in the request.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>@GetMapping(value=&quot;/project&quot;, params = &quot;!id&quot;)\npublic List&lt;Project&gt; getProjects() {\n  return projectService.getProjects();\n}\n\n@GetMapping(value = &quot;/project&quot;, params = &quot;id&quot;)\npublic Project getProject(@RequestParam int id) {\n  Optional&lt;Project&gt; project = projectService.getProject(id);\n\n  if (project.isPresent()) {\n    return (Project) project.get();\n  }\n  return null;\n}\n</code></pre>\n<p>If you consider the functional style cleaner, you can return like this:</p>\n<pre><code>return project.orElse(null);\n</code></pre>\n"}],"owner":{"account_id":8632386,"reputation":597,"user_id":6463625,"display_name":"Nald Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75957375,"answer_count":3,"score":0,"last_activity_date":1680873773,"creation_date":1680859436,"question_id":75957169,"body_markdown":"I have one route named `/project`, I want it this way if there is no param it will return list of projects, if there is id param in url it will return a single object\r\n\r\nCurrently this is what I have\r\n\r\n    @GetMapping(value={&quot;/project&quot;, &quot;/project/&quot;})\r\n    public List&lt;Project&gt; getProjects() {\r\n        return projectService.getProjects();\r\n    }\r\n\r\n    @GetMapping(&quot;/project/{id}&quot;)\r\n    public Project getProject(@PathVariable int id) {\r\n        Optional&lt;Project&gt; project = projectService.getProject(id);\r\n\r\n        if (project.isPresent()) {\r\n            return (Project) project.get();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n`/project` will return the list\r\n\r\n`/project/1` will return a single object\r\n\r\nbut what I wanted is\r\n\r\n`/project` will return the list\r\n\r\n`/project?id=1` will return a single object\r\n\r\nhow to do that?","title":"Create a route that return list if there is no param and return a single object if there is id param","body":"<p>I have one route named <code>/project</code>, I want it this way if there is no param it will return list of projects, if there is id param in url it will return a single object</p>\n<p>Currently this is what I have</p>\n<pre><code>@GetMapping(value={&quot;/project&quot;, &quot;/project/&quot;})\npublic List&lt;Project&gt; getProjects() {\n    return projectService.getProjects();\n}\n\n@GetMapping(&quot;/project/{id}&quot;)\npublic Project getProject(@PathVariable int id) {\n    Optional&lt;Project&gt; project = projectService.getProject(id);\n\n    if (project.isPresent()) {\n        return (Project) project.get();\n    }\n\n    return null;\n}\n</code></pre>\n<p><code>/project</code> will return the list</p>\n<p><code>/project/1</code> will return a single object</p>\n<p>but what I wanted is</p>\n<p><code>/project</code> will return the list</p>\n<p><code>/project?id=1</code> will return a single object</p>\n<p>how to do that?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680534070,"post_id":75920075,"comment_id":133910579,"body_markdown":"here are the unicode values, 0x2610 isn&#39;t mentioned http://www.alanwood.net/demos/wingdings.html","body":"here are the unicode values, 0x2610 isn&#39;t mentioned <a href=\"http://www.alanwood.net/demos/wingdings.html\" rel=\"nofollow noreferrer\">alanwood.net/demos/wingdings.html</a>"},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1680599025,"post_id":75920075,"comment_id":133921386,"body_markdown":"thank you , but with U+002A i have this exception  : Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No glyph for U+002A (*) in font Wingdings-Regular","body":"thank you , but with U+002A i have this exception  : Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No glyph for U+002A (*) in font Wingdings-Regular"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680599265,"post_id":75920075,"comment_id":133921439,"body_markdown":"I think what you need is U+25A1","body":"I think what you need is U+25A1"},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1680606125,"post_id":75920075,"comment_id":133923075,"body_markdown":"i have the same exception :\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: No glyph for U+002A (*) in font Wingdings-Regular","body":"i have the same exception : Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No glyph for U+002A (*) in font Wingdings-Regular"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680607948,"post_id":75920075,"comment_id":133923508,"body_markdown":"ok I had a look at the font itself with DTL OTMaster. Try f0a8 and f06c, these worked.","body":"ok I had a look at the font itself with DTL OTMaster. Try f0a8 and f06c, these worked."},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1680699776,"post_id":75920075,"comment_id":133942172,"body_markdown":"Thank you, it&#39;s working well now. Can you please tell me how to find the correct code for a symbol ?","body":"Thank you, it&#39;s working well now. Can you please tell me how to find the correct code for a symbol ?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680700711,"post_id":75920075,"comment_id":133942462,"body_markdown":"download DTL OTMaster 3.7 light. Maybe it&#39;s also possible with FontForge, but their GUI sucks. Or enter &quot;show unicode from ttf file&quot; into google.","body":"download DTL OTMaster 3.7 light. Maybe it&#39;s also possible with FontForge, but their GUI sucks. Or enter &quot;show unicode from ttf file&quot; into google."},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1680798026,"post_id":75920075,"comment_id":133962113,"body_markdown":"thank you  \nTilman Hausherr","body":"thank you   Tilman Hausherr"}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680873182,"creation_date":1680873182,"answer_id":75958746,"question_id":75920075,"body_markdown":"Thanks to DTL OTMaster 3.7 light, the correct characters turn out to be u+f0a8 and u+f06c. It might also be possible to get the same information with FontForge.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uLt9h.png\r\n  [2]: https://i.stack.imgur.com/9WR4U.png","title":"pdfbox haw to working with Wingdings-Regular-Font font","body":"<p>Thanks to DTL OTMaster 3.7 light, the correct characters turn out to be u+f0a8 and u+f06c. It might also be possible to get the same information with FontForge.</p>\n<p><a href=\"https://i.stack.imgur.com/uLt9h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uLt9h.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/9WR4U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9WR4U.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75958746,"answer_count":1,"score":0,"last_activity_date":1680873182,"creation_date":1680528951,"question_id":75920075,"body_markdown":"Actually I&#39;m using pdfbox 3.0.0-alpha3 to manepulat pdf documents,but whene i use this code to add checkbox and radiobox using the font Wingdings-Regular-Font :\r\n\r\n```\r\n    public static void main(String[] args) throws Exception {\r\n\r\n      try(PDDocument document = new PDDocument()){\r\n\r\n\r\n     PDPage page = new PDPage(PDRectangle.A4);\r\n     document.addPage(page);\r\n\r\n\r\n     File fontFile = new File(&quot;Wingdings-Regular-Font.ttf&quot;);\r\n     PDType0Font font = PDType0Font.load(document, fontFile);\r\n\r\n\r\n     PDPageContentStream contentStream = new PDPageContentStream(document, page);\r\n\r\n       // chekbox\r\n       contentStream.beginText();\r\n       contentStream.setFont(font, 16);\r\n       contentStream.newLineAtOffset(100, 700);\r\n       contentStream.showText(&quot;\\u2610&quot;);\r\n       contentStream.endText();\r\n\r\n       //radio\r\n       contentStream.beginText();\r\n       contentStream.setFont(font, 16);\r\n       contentStream.newLineAtOffset(100, 650);\r\n       contentStream.showText(&quot;\\u25CF&quot;);\r\n       contentStream.endText();\r\n\r\n\r\n       contentStream.close();\r\n\r\n\r\n       document.save(&quot;output.pdf&quot;);\r\n     }\r\n   }\r\n```\r\n\r\nI have this error :\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: No glyph for U+2610 (?) in font Wingdings-Regular\r\n    at org.apache.pdfbox.pdmodel.font.PDCIDFontType2.encode(PDCIDFontType2.java:381)\r\n    at org.apache.pdfbox.pdmodel.font.PDType0Font.encode(PDType0Font.java:476)\r\n    at org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:337)\r\n    at org.apache.pdfbox.pdmodel.PDAbstractContentStream.showTextInternal(PDAbstractContentStream.java:306)\r\n    at org.apache.pdfbox.pdmodel.PDAbstractContentStream.showText(PDAbstractContentStream.java:260)\r\n    at org.apache.pdfbox.pdmodel.PDPageContentStream.showText(PDPageContentStream.java:37)\r\n    at com.example.PdfSigningExample.main(PdfSigningExample.java:36)\r\n```\r\n\r\n\r\nI want to use the Wingdings-Regular-Font font to draw a chekbox or radiobox.","title":"pdfbox haw to working with Wingdings-Regular-Font font","body":"<p>Actually I'm using pdfbox 3.0.0-alpha3 to manepulat pdf documents,but whene i use this code to add checkbox and radiobox using the font Wingdings-Regular-Font :</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n\n      try(PDDocument document = new PDDocument()){\n\n\n     PDPage page = new PDPage(PDRectangle.A4);\n     document.addPage(page);\n\n\n     File fontFile = new File(&quot;Wingdings-Regular-Font.ttf&quot;);\n     PDType0Font font = PDType0Font.load(document, fontFile);\n\n\n     PDPageContentStream contentStream = new PDPageContentStream(document, page);\n\n       // chekbox\n       contentStream.beginText();\n       contentStream.setFont(font, 16);\n       contentStream.newLineAtOffset(100, 700);\n       contentStream.showText(&quot;\\u2610&quot;);\n       contentStream.endText();\n\n       //radio\n       contentStream.beginText();\n       contentStream.setFont(font, 16);\n       contentStream.newLineAtOffset(100, 650);\n       contentStream.showText(&quot;\\u25CF&quot;);\n       contentStream.endText();\n\n\n       contentStream.close();\n\n\n       document.save(&quot;output.pdf&quot;);\n     }\n   }\n</code></pre>\n<p>I have this error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No glyph for U+2610 (?) in font Wingdings-Regular\n    at org.apache.pdfbox.pdmodel.font.PDCIDFontType2.encode(PDCIDFontType2.java:381)\n    at org.apache.pdfbox.pdmodel.font.PDType0Font.encode(PDType0Font.java:476)\n    at org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:337)\n    at org.apache.pdfbox.pdmodel.PDAbstractContentStream.showTextInternal(PDAbstractContentStream.java:306)\n    at org.apache.pdfbox.pdmodel.PDAbstractContentStream.showText(PDAbstractContentStream.java:260)\n    at org.apache.pdfbox.pdmodel.PDPageContentStream.showText(PDPageContentStream.java:37)\n    at com.example.PdfSigningExample.main(PdfSigningExample.java:36)\n</code></pre>\n<p>I want to use the Wingdings-Regular-Font font to draw a chekbox or radiobox.</p>\n"},{"tags":["java","jdbc","squirrel-sql"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680872702,"post_id":75958639,"comment_id":133973298,"body_markdown":"Maybe try putting the configuration files in a JAR file and put that JAR file in the lib directory?","body":"Maybe try putting the configuration files in a JAR file and put that JAR file in the lib directory?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680873592,"post_id":75958639,"comment_id":133973500,"body_markdown":"Please use a dedicated UI function to add the driver. There you can define the path to your software. https://squirrel-sql.sourceforge.io/user-manual/quick_start.html#the_driver","body":"Please use a dedicated UI function to add the driver. There you can define the path to your software. <a href=\"https://squirrel-sql.sourceforge.io/user-manual/quick_start.html#the_driver\" rel=\"nofollow noreferrer\">squirrel-sql.sourceforge.io/user-manual/&hellip;</a>"},{"owner":{"account_id":4910838,"reputation":357,"user_id":3956189,"accept_rate":30,"display_name":"Gilles"},"score":0,"creation_date":1681211841,"post_id":75958639,"comment_id":134016531,"body_markdown":"Putting jar file made it work. Thank you","body":"Putting jar file made it work. Thank you"}],"owner":{"account_id":4910838,"reputation":357,"user_id":3956189,"accept_rate":30,"display_name":"Gilles"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680872672,"creation_date":1680872270,"question_id":75958639,"body_markdown":"I have written a custom JDBC driver. It relies on configuration files. It works well when deployed as a typical Java application, with the configuration files copied to the class path.\r\n\r\nI would like to use it with SquirrelSQL. And I cannot use this custom driver because the configuration files have not been found. I have copied the files into the squirrel /lib directory, and to the root directory, but this did not work.\r\n\r\nDo you have any idea of where I should copy the configuration files?","title":"SquirrelSQL custom driver cannot find file","body":"<p>I have written a custom JDBC driver. It relies on configuration files. It works well when deployed as a typical Java application, with the configuration files copied to the class path.</p>\n<p>I would like to use it with SquirrelSQL. And I cannot use this custom driver because the configuration files have not been found. I have copied the files into the squirrel /lib directory, and to the root directory, but this did not work.</p>\n<p>Do you have any idea of where I should copy the configuration files?</p>\n"},{"tags":["java","pdf","fonts","pdfbox","roboto"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680872886,"post_id":75957802,"comment_id":133973346,"body_markdown":"You&#39;re doing incremental saving, I mentioned this in the title and in the text because this is highly relevant. Unless there is a specific reason to do incremental saving, use normal saving. If you do really want to do incremental saving, read the javadoc of saveIncremental, and see also this ticket with a similar problem: https://issues.apache.org/jira/browse/PDFBOX-5583","body":"You&#39;re doing incremental saving, I mentioned this in the title and in the text because this is highly relevant. Unless there is a specific reason to do incremental saving, use normal saving. If you do really want to do incremental saving, read the javadoc of saveIncremental, and see also this ticket with a similar problem: <a href=\"https://issues.apache.org/jira/browse/PDFBOX-5583\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-5583</a>"},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1681196685,"post_id":75957802,"comment_id":134013152,"body_markdown":"thanks to you Tilman","body":"thanks to you Tilman"}],"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680872522,"creation_date":1680864973,"question_id":75957802,"body_markdown":"I am using PDFBox 3.0.0.alpha3 to manipulate a PDF file and add text with the Roboto font and saving incrementally. The font is properly displayed when installed on Windows, but when opened on a different machine without the font installed, the characters are not displayed correctly.\r\n\r\nHere is the code I use to load the font and manupilate pdf file :\r\n\r\n    private PDType0Font GetFont(PDDocument document, DocumentMemberConfigDto config) throws IOException {\r\n    String fontFileName = &quot;path to file . ttf&quot;;\r\n    if (!Files.exists(fontFileName )) {\r\n        fontFileName =  DefaultFont;\r\n    }\r\n    PDType0Font Font = PDType0Font.load(document,\r\n            new File(fontFileName ));\r\n\r\n     return Font;\r\n    }\r\n    public void PutTextFromConfig(DocumentMemberConfigDto conf) throws IOException {\r\n\r\n        SelectPage((int) conf.PageNumero - 1);\r\n\r\n        PDType0Font font = GetFont(document, conf);\r\n        PDFontDescriptor fontDescriptor = font.getFontDescriptor();\r\n        float fontHeight = fontDescriptor.getFontBoundingBox().getHeight() / 1000 * conf.FondSize;\r\n        PDRectangle mediaBox = this.currentPage.getMediaBox();\r\n        float pageHeight = mediaBox.getHeight();\r\n        String Text = conf.fieldLibelle == &quot; Liste d&#233;roulante &quot; ? conf.Valeur.split(&quot;-&quot;)[0] : conf.Valeur;\r\n        addTextWithTooltip(Text,\r\n                (float) conf.X,\r\n                (float) (pageHeight - conf.Y - (fontHeight * 0.75)),\r\n                font,\r\n                (int) conf.FondSize,\r\n                conf.infobull,\r\n                conf.isItalic,\r\n                conf.isBold,\r\n                conf.isUnderline,\r\n                getColor(conf.Fill));\r\n\r\n    }\r\n    public PDFHandling(PDDocument document) throws IOException {\r\n        this.document = document;\r\n    }\r\n\r\n    public void init() throws IOException {\r\n        SelectPage(0);\r\n    }\r\n\r\n    public void SelectPage(int numPage) throws IOException {\r\n\r\n        if (document.getNumberOfPages() - 1 &gt;= numPage) {\r\n            numPage = document.getNumberOfPages() - 1;\r\n        }\r\n        if (this.contentStream != null)\r\n            this.contentStream.close();\r\n        currentNumPage = numPage;\r\n        currentPage = document.getPage(numPage);\r\n        this.contentStream = new PDPageContentStream(document, currentPage, AppendMode.PREPEND, false);\r\n\r\n    }\r\n    private Color getColor(String colorCode) {\r\n        if (colorCode.equals(&quot;red&quot;))\r\n            return Color.RED;\r\n        else if (colorCode.equals(&quot;orange&quot;))\r\n            return Color.ORANGE;\r\n        else if (colorCode.equals(&quot;green&quot;))\r\n            return Color.GREEN;\r\n        else if (colorCode.equals(&quot;white&quot;))\r\n            return Color.white;\r\n        else\r\n            return Color.BLACK;\r\n    }\r\n\r\nand i use this functions like this :\r\n\r\n    private byte[] AddFields(DocumentToSignDto documentToSigne) throws Exception {\r\n        byte[] content = documentToSigne.Content;\r\n        PDDocument document = Loader.loadPDF(content);\r\n        String[] fieldLibelleTexts = new String[] { &quot;Fonction&quot;, &quot;E-mail&quot;, &quot;Nom&quot;, &quot;champ de saisie&quot;, &quot;soci&#233;t&#233;&quot;, &quot;Tel&quot;,\r\n                &quot;Texte&quot;, &quot;Date signature&quot;, &quot; Liste d&#233;roulante &quot; };\r\n        try (PDFHandling pdfHandling = new PDFHandling(document)) {\r\n            pdfHandling.init();\r\n            for (DocumentMemberConfigDto conf : documentToSigne.Configs) {\r\n                if (conf.fieldLibelle != null &amp;&amp; !conf.fieldLibelle.equals(&quot;&quot;)) {\r\n                    if (Arrays.asList(fieldLibelleTexts).contains(conf.fieldLibelle)) {\r\n                        pdfHandling.PutTextFromConfig(conf);\r\n                    } else if (conf.fieldLibelle.equals(&quot; Case &#224; cocher&quot;) &amp;&amp; conf.isChecked == true) {\r\n                        pdfHandling.PutChekboxFromConfig(conf);\r\n                    } else if (conf.fieldLibelle.equals(&quot; Bouton radio &quot;) &amp;&amp; conf.isChecked == true) {\r\n                        pdfHandling.PutRadioBoxFromConfig(conf);\r\n                    } else {\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        ByteArrayOutputStream baosAfterFildes = new ByteArrayOutputStream();\r\n        document.saveIncremental(baosAfterFildes);\r\n\r\n        return baosAfterFildes.toByteArray();\r\n    }\r\n\r\n\r\nWhen I check the font properties in the generated PDF file (File &gt; Properties &gt; Fonts), it shows:\r\nRoboto-Regular\r\nType: TrueType (CID)\r\nEncoding: Identity-H\r\nActual Font: Unknown\r\n\r\nWhat could be causing the font not to be properly embedded in the PDF file? How can I ensure the Roboto font is correctly embedded and displayed across different devices and PDF readers?","title":"Properly embedding font in PDF using PDFBox 3.0.0.alpha3 and incremental saving","body":"<p>I am using PDFBox 3.0.0.alpha3 to manipulate a PDF file and add text with the Roboto font and saving incrementally. The font is properly displayed when installed on Windows, but when opened on a different machine without the font installed, the characters are not displayed correctly.</p>\n<p>Here is the code I use to load the font and manupilate pdf file :</p>\n<pre><code>private PDType0Font GetFont(PDDocument document, DocumentMemberConfigDto config) throws IOException {\nString fontFileName = &quot;path to file . ttf&quot;;\nif (!Files.exists(fontFileName )) {\n    fontFileName =  DefaultFont;\n}\nPDType0Font Font = PDType0Font.load(document,\n        new File(fontFileName ));\n\n return Font;\n}\npublic void PutTextFromConfig(DocumentMemberConfigDto conf) throws IOException {\n\n    SelectPage((int) conf.PageNumero - 1);\n\n    PDType0Font font = GetFont(document, conf);\n    PDFontDescriptor fontDescriptor = font.getFontDescriptor();\n    float fontHeight = fontDescriptor.getFontBoundingBox().getHeight() / 1000 * conf.FondSize;\n    PDRectangle mediaBox = this.currentPage.getMediaBox();\n    float pageHeight = mediaBox.getHeight();\n    String Text = conf.fieldLibelle == &quot; Liste déroulante &quot; ? conf.Valeur.split(&quot;-&quot;)[0] : conf.Valeur;\n    addTextWithTooltip(Text,\n            (float) conf.X,\n            (float) (pageHeight - conf.Y - (fontHeight * 0.75)),\n            font,\n            (int) conf.FondSize,\n            conf.infobull,\n            conf.isItalic,\n            conf.isBold,\n            conf.isUnderline,\n            getColor(conf.Fill));\n\n}\npublic PDFHandling(PDDocument document) throws IOException {\n    this.document = document;\n}\n\npublic void init() throws IOException {\n    SelectPage(0);\n}\n\npublic void SelectPage(int numPage) throws IOException {\n\n    if (document.getNumberOfPages() - 1 &gt;= numPage) {\n        numPage = document.getNumberOfPages() - 1;\n    }\n    if (this.contentStream != null)\n        this.contentStream.close();\n    currentNumPage = numPage;\n    currentPage = document.getPage(numPage);\n    this.contentStream = new PDPageContentStream(document, currentPage, AppendMode.PREPEND, false);\n\n}\nprivate Color getColor(String colorCode) {\n    if (colorCode.equals(&quot;red&quot;))\n        return Color.RED;\n    else if (colorCode.equals(&quot;orange&quot;))\n        return Color.ORANGE;\n    else if (colorCode.equals(&quot;green&quot;))\n        return Color.GREEN;\n    else if (colorCode.equals(&quot;white&quot;))\n        return Color.white;\n    else\n        return Color.BLACK;\n}\n</code></pre>\n<p>and i use this functions like this :</p>\n<pre><code>private byte[] AddFields(DocumentToSignDto documentToSigne) throws Exception {\n    byte[] content = documentToSigne.Content;\n    PDDocument document = Loader.loadPDF(content);\n    String[] fieldLibelleTexts = new String[] { &quot;Fonction&quot;, &quot;E-mail&quot;, &quot;Nom&quot;, &quot;champ de saisie&quot;, &quot;société&quot;, &quot;Tel&quot;,\n            &quot;Texte&quot;, &quot;Date signature&quot;, &quot; Liste déroulante &quot; };\n    try (PDFHandling pdfHandling = new PDFHandling(document)) {\n        pdfHandling.init();\n        for (DocumentMemberConfigDto conf : documentToSigne.Configs) {\n            if (conf.fieldLibelle != null &amp;&amp; !conf.fieldLibelle.equals(&quot;&quot;)) {\n                if (Arrays.asList(fieldLibelleTexts).contains(conf.fieldLibelle)) {\n                    pdfHandling.PutTextFromConfig(conf);\n                } else if (conf.fieldLibelle.equals(&quot; Case à cocher&quot;) &amp;&amp; conf.isChecked == true) {\n                    pdfHandling.PutChekboxFromConfig(conf);\n                } else if (conf.fieldLibelle.equals(&quot; Bouton radio &quot;) &amp;&amp; conf.isChecked == true) {\n                    pdfHandling.PutRadioBoxFromConfig(conf);\n                } else {\n\n                }\n            }\n        }\n    }\n\n    ByteArrayOutputStream baosAfterFildes = new ByteArrayOutputStream();\n    document.saveIncremental(baosAfterFildes);\n\n    return baosAfterFildes.toByteArray();\n}\n</code></pre>\n<p>When I check the font properties in the generated PDF file (File &gt; Properties &gt; Fonts), it shows:\nRoboto-Regular\nType: TrueType (CID)\nEncoding: Identity-H\nActual Font: Unknown</p>\n<p>What could be causing the font not to be properly embedded in the PDF file? How can I ensure the Roboto font is correctly embedded and displayed across different devices and PDF readers?</p>\n"},{"tags":["java","http","spring-mvc"],"owner":{"account_id":28241369,"reputation":1,"user_id":21589096,"display_name":"hamilka540"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680872163,"creation_date":1680872163,"question_id":75958629,"body_markdown":"I have a simple menu with one link to authorization page. But i get 404 when browser sends me to authorization page. And also in IDE spring cant find related tags in UserController for sign_up, sign_in and authorization. \r\n\r\nUserController:\r\n```\r\n@Controller\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;authorization/authorization&quot;)\r\npublic class UserController {\r\nprivate final UserRepo repo;\r\nprivate final String mainPage= &quot;lobby/lobby&quot;;\r\n@PostMapping(&quot;/sign_up&quot;)\r\n    public String register(@RequestBody UserDao user, Model model){\r\nOptional&lt;UserDao&gt; userFromDB=repo\r\n        .findAll()\r\n        .stream()\r\n        .filter(u-&gt;u.getLogin().equalsIgnoreCase(user.getLogin()))\r\n        .findAny();\r\nif(!userFromDB.isEmpty())return &quot;authorization/re-sign_up&quot;;\r\nrepo.save(user);\r\nmodel.addAttribute(&quot;login&quot;,user.getLogin());\r\nreturn mainPage;\r\n}\r\n@PostMapping(&quot;/sign_in&quot;)\r\n    public String signIn(@RequestParam(&quot;login&quot;) String login,\r\n        @RequestParam(&quot;pass&quot;) String pass, @RequestParam(&quot;email&quot;) String email, Model model){\r\nUserDao tempUser= repo.findByPassAndName(login, pass);\r\nmodel.addAttribute(&quot;login&quot;,login);\r\nmodel.addAttribute(&quot;pass&quot;,pass);\r\nreturn tempUser!=null?mainPage:&quot;authorization/re-sign_in&quot;;\r\n}\r\n}\r\n```\r\nlobby.html\r\n```\r\n&lt;a href=&quot;../authorization/authorization.html&quot;&gt;sign_in&lt;/a&gt;\r\n```\r\nauthorization.html\r\n```\r\n&lt;a href=&quot;sign_in.html&quot;&gt;sign_in&lt;/a&gt; or &lt;a href=&quot;sign_up.html&quot;&gt;sign_up&lt;/a&gt;\r\n```\r\n\r\n\r\n\r\nim just learning web-mvc, so i dont really understand these link relations.","title":"How to send user from one to another html page on spring-boot","body":"<p>I have a simple menu with one link to authorization page. But i get 404 when browser sends me to authorization page. And also in IDE spring cant find related tags in UserController for sign_up, sign_in and authorization.</p>\n<p>UserController:</p>\n<pre><code>@Controller\n@RequiredArgsConstructor\n@RequestMapping(&quot;authorization/authorization&quot;)\npublic class UserController {\nprivate final UserRepo repo;\nprivate final String mainPage= &quot;lobby/lobby&quot;;\n@PostMapping(&quot;/sign_up&quot;)\n    public String register(@RequestBody UserDao user, Model model){\nOptional&lt;UserDao&gt; userFromDB=repo\n        .findAll()\n        .stream()\n        .filter(u-&gt;u.getLogin().equalsIgnoreCase(user.getLogin()))\n        .findAny();\nif(!userFromDB.isEmpty())return &quot;authorization/re-sign_up&quot;;\nrepo.save(user);\nmodel.addAttribute(&quot;login&quot;,user.getLogin());\nreturn mainPage;\n}\n@PostMapping(&quot;/sign_in&quot;)\n    public String signIn(@RequestParam(&quot;login&quot;) String login,\n        @RequestParam(&quot;pass&quot;) String pass, @RequestParam(&quot;email&quot;) String email, Model model){\nUserDao tempUser= repo.findByPassAndName(login, pass);\nmodel.addAttribute(&quot;login&quot;,login);\nmodel.addAttribute(&quot;pass&quot;,pass);\nreturn tempUser!=null?mainPage:&quot;authorization/re-sign_in&quot;;\n}\n}\n</code></pre>\n<p>lobby.html</p>\n<pre><code>&lt;a href=&quot;../authorization/authorization.html&quot;&gt;sign_in&lt;/a&gt;\n</code></pre>\n<p>authorization.html</p>\n<pre><code>&lt;a href=&quot;sign_in.html&quot;&gt;sign_in&lt;/a&gt; or &lt;a href=&quot;sign_up.html&quot;&gt;sign_up&lt;/a&gt;\n</code></pre>\n<p>im just learning web-mvc, so i dont really understand these link relations.</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680872100,"creation_date":1680872100,"answer_id":75958620,"question_id":75862838,"body_markdown":"Well, I mean, the exception is supposed to be pretty self-explanatory.\r\n\r\nFloating point types don&#39;t have a scale (that&#39;s the exact literal meaning of &quot;floating&quot; point), so this mapping is not sensible:\r\n\r\n```java\r\n@Column(name = &quot;price&quot;, precision = 5, scale = 2)\r\nprivate Double price;\r\n```\r\n\r\nSo just remove the text `scale = 2`.\r\n\r\nIf you wanted this monetary value to have a set precision and scale, you should use `BigDecimal` instead of `Double`, and map it to the SQL type `DECIMAL(5,2)` or `NUMERIC(5,2)`.\r\nJust remove the text `scale=2`. For example:\r\n\r\n```java\r\n@Column(name = &quot;price&quot;, precision = 5, scale = 2)\r\nprivate BigDecimal price;\r\n```","title":"hibernate6 throw exception &#39;scale has no meaning for floating point numbers&#39;","body":"<p>Well, I mean, the exception is supposed to be pretty self-explanatory.</p>\n<p>Floating point types don't have a scale (that's the exact literal meaning of &quot;floating&quot; point), so this mapping is not sensible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;price&quot;, precision = 5, scale = 2)\nprivate Double price;\n</code></pre>\n<p>So just remove the text <code>scale = 2</code>.</p>\n<p>If you wanted this monetary value to have a set precision and scale, you should use <code>BigDecimal</code> instead of <code>Double</code>, and map it to the SQL type <code>DECIMAL(5,2)</code> or <code>NUMERIC(5,2)</code>.\nJust remove the text <code>scale=2</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;price&quot;, precision = 5, scale = 2)\nprivate BigDecimal price;\n</code></pre>\n"}],"owner":{"account_id":28144759,"reputation":33,"user_id":21507233,"display_name":"Joveth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75958620,"answer_count":1,"score":2,"last_activity_date":1680872100,"creation_date":1679983744,"question_id":75862838,"body_markdown":"Before, I was used hibernate 5.x everything is ok.\r\n\r\nAfter update hibernate to 6.1.7 the project got exception.\r\n\r\nI&#39;m using springboot 3.0.5 and cofing the following properties to auto generate tables on mysql 8.0 :\r\n \r\n```\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n```\r\n\r\nMy Entity like :\r\n\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;T_TEST&quot;)\r\npublic class TPriceRange implements Serializable {\r\n    @Id\r\n    @Column(name = &quot;ID&quot;, unique = true, nullable = false)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;price&quot;, precision = 5, scale = 2)\r\n    private Double price;\r\n}\r\n```\r\n\r\nWhen I start the project , the exception is :\r\n\r\n\r\n```\r\nCaused by: org.hibernate.MappingException: Unable to determine SQL type name for column &#39;price&#39; of table &#39;t_test&#39;\r\n    at org.hibernate.mapping.Column.getSqlTypeName(Column.java:252)\r\n    at org.hibernate.mapping.Column.getSqlType(Column.java:314)\r\n    at org.hibernate.tool.schema.internal.StandardTableExporter.getSqlCreateStrings(StandardTableExporter.java:99)\r\n    ... 179 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: scale has no meaning for floating point numbers\r\n    at org.hibernate.dialect.Dialect$SizeStrategyImpl.resolveSize(Dialect.java:3853)\r\n    at org.hibernate.dialect.MySQLDialect$1.resolveSize(MySQLDialect.java:108)\r\n    at org.hibernate.mapping.Column.getColumnSize(Column.java:358)\r\n    at org.hibernate.mapping.Column.getSqlTypeName(Column.java:248)\r\n```\r\n\r\nIt seems that the &#39;scale &#39; can not be used, I don&#39;t know why?\r\n\r\nDid someone can help me?\r\n\r\nThank you very mush!\r\n\r\n\r\n\r\nhibernate6 scale has no meaning for floating point numbers","title":"hibernate6 throw exception &#39;scale has no meaning for floating point numbers&#39;","body":"<p>Before, I was used hibernate 5.x everything is ok.</p>\n<p>After update hibernate to 6.1.7 the project got exception.</p>\n<p>I'm using springboot 3.0.5 and cofing the following properties to auto generate tables on mysql 8.0 :</p>\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n\n</code></pre>\n<p>My Entity like :</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;T_TEST&quot;)\npublic class TPriceRange implements Serializable {\n    @Id\n    @Column(name = &quot;ID&quot;, unique = true, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;price&quot;, precision = 5, scale = 2)\n    private Double price;\n}\n</code></pre>\n<p>When I start the project , the exception is :</p>\n<pre><code>Caused by: org.hibernate.MappingException: Unable to determine SQL type name for column 'price' of table 't_test'\n    at org.hibernate.mapping.Column.getSqlTypeName(Column.java:252)\n    at org.hibernate.mapping.Column.getSqlType(Column.java:314)\n    at org.hibernate.tool.schema.internal.StandardTableExporter.getSqlCreateStrings(StandardTableExporter.java:99)\n    ... 179 common frames omitted\nCaused by: java.lang.IllegalArgumentException: scale has no meaning for floating point numbers\n    at org.hibernate.dialect.Dialect$SizeStrategyImpl.resolveSize(Dialect.java:3853)\n    at org.hibernate.dialect.MySQLDialect$1.resolveSize(MySQLDialect.java:108)\n    at org.hibernate.mapping.Column.getColumnSize(Column.java:358)\n    at org.hibernate.mapping.Column.getSqlTypeName(Column.java:248)\n</code></pre>\n<p>It seems that the 'scale ' can not be used, I don't know why?</p>\n<p>Did someone can help me?</p>\n<p>Thank you very mush!</p>\n<p>hibernate6 scale has no meaning for floating point numbers</p>\n"},{"tags":["java","android","xml","android-studio","textview"],"comments":[{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1680850890,"post_id":75955889,"comment_id":133969530,"body_markdown":"Maybe something wrong with your font file. It is usually in otf or ttf","body":"Maybe something wrong with your font file. It is usually in otf or ttf"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1680875289,"post_id":75955889,"comment_id":133973876,"body_markdown":"You can&#39;t use custom fonts in an App Widget. For a little while after they&#39;d introduced font resources, it was possible, but only because they&#39;d inadvertently overlooked it. It&#39;s been fixed now, though.","body":"You can&#39;t use custom fonts in an App Widget. For a little while after they&#39;d introduced font resources, it was possible, but only because they&#39;d inadvertently overlooked it. It&#39;s been fixed now, though."},{"owner":{"account_id":14102256,"reputation":57,"user_id":10187332,"display_name":"mike9999"},"score":0,"creation_date":1680927728,"post_id":75955889,"comment_id":133981007,"body_markdown":"a widget that shows the exact time, I need to make a widget. but if I want to use a custom font, then what is my alternative?","body":"a widget that shows the exact time, I need to make a widget. but if I want to use a custom font, then what is my alternative?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1680928336,"post_id":75955889,"comment_id":133981048,"body_markdown":"With the regular `RemoteViews` stuff, I think about the only option is to draw the text with your custom font to a `Bitmap`, and show that in an `ImageView` instead. There&#39;s a basic example in [this answer](https://stackoverflow.com/a/4411060). Apart from that, you might be able to do it in [Glance](https://developer.android.com/reference/kotlin/androidx/glance/package-summary) somehow, but that&#39;s a completely different setup that&#39;s more like Compose than Views, plus I have no idea how it would/could be done there, as I&#39;ve not used it yet.","body":"With the regular <code>RemoteViews</code> stuff, I think about the only option is to draw the text with your custom font to a <code>Bitmap</code>, and show that in an <code>ImageView</code> instead. There&#39;s a basic example in <a href=\"https://stackoverflow.com/a/4411060\">this answer</a>. Apart from that, you might be able to do it in <a href=\"https://developer.android.com/reference/kotlin/androidx/glance/package-summary\" rel=\"nofollow noreferrer\">Glance</a> somehow, but that&#39;s a completely different setup that&#39;s more like Compose than Views, plus I have no idea how it would/could be done there, as I&#39;ve not used it yet."}],"answers":[{"tags":[],"owner":{"account_id":13852997,"reputation":16,"user_id":10000480,"display_name":"Zapbroob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680871985,"creation_date":1680871985,"answer_id":75958603,"question_id":75955889,"body_markdown":"\r\nMake sure that the font file you are using is a valid TrueType or OpenType font file with .ttf or .otf extension. You can try using a different font file to see if that resolves the issue.\r\n\r\nIf you are using a standard font such as **&#39;sans-serif&#39;**, **&#39;serif&#39;**, or **&#39;monospace&#39;**, then it&#39;s possible that the font is not being loaded properly.\r\n\r\nIn that case, you can try setting the font programmatically instead of using android:fontFamily attribute in XML:\r\n\r\n    TextView textView = views.findViewById(R.id.textView);\r\n    Typeface typeface = Typeface.create(&quot;sans-serif&quot;, Typeface.NORMAL);\r\n    textView.setTypeface(typeface);","title":"Why can&#39;t I change the font style for TextView in Android Studio","body":"<p>Make sure that the font file you are using is a valid TrueType or OpenType font file with .ttf or .otf extension. You can try using a different font file to see if that resolves the issue.</p>\n<p>If you are using a standard font such as <strong>'sans-serif'</strong>, <strong>'serif'</strong>, or <strong>'monospace'</strong>, then it's possible that the font is not being loaded properly.</p>\n<p>In that case, you can try setting the font programmatically instead of using android:fontFamily attribute in XML:</p>\n<pre><code>TextView textView = views.findViewById(R.id.textView);\nTypeface typeface = Typeface.create(&quot;sans-serif&quot;, Typeface.NORMAL);\ntextView.setTypeface(typeface);\n</code></pre>\n"}],"owner":{"account_id":14102256,"reputation":57,"user_id":10187332,"display_name":"mike9999"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680871985,"creation_date":1680847931,"question_id":75955889,"body_markdown":"Why can&#39;t I change the font style for TextView in Android Studio ?\r\n\r\nI really tried everything what i know, and everytime the font is the same.\r\n\r\nhere is the code:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:src=&quot;@drawable/my_image&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:fontFamily=&quot;@font/pixel&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;#FF0000&quot;\r\n            android:textSize=&quot;48sp&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;appwidget-provider xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:minWidth=&quot;300dp&quot;\r\n        android:minHeight=&quot;80dp&quot;\r\n        android:updatePeriodMillis=&quot;60000&quot;\r\n        android:initialLayout=&quot;@layout/sexy_clock_widget&quot;\r\n        android:previewImage=&quot;@drawable/my_preview_image&quot;\r\n        android:widgetCategory=&quot;home_screen|keyguard&quot;&gt;\r\n    &lt;/appwidget-provider&gt;\r\n\r\n    package com.example.sexyclockwidget;\r\n    \r\n    import android.appwidget.AppWidgetManager;\r\n    import android.appwidget.AppWidgetProvider;\r\n    import android.content.ComponentName;\r\n    import android.content.Context;\r\n    import android.os.Handler;\r\n    import android.widget.RemoteViews;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class SexyClockWidget extends AppWidgetProvider {\r\n    \r\n        private static final String TIME_FORMAT = &quot;HH:mm:ss&quot;;\r\n    \r\n        private Context context;\r\n        private Handler handler = new Handler();\r\n        private Runnable runnable = new Runnable() {\r\n            public void run() {\r\n                updateClock();\r\n                handler.postDelayed(this, 1000); // ponovno pokrenite ovaj runnable nakon 1 sekunde\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n            this.context = context;\r\n    \r\n            for (int appWidgetId : appWidgetIds) {\r\n                RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.sexy_clock_widget);\r\n    \r\n                // Postavi sliku na ImageView\r\n                views.setImageViewResource(R.id.imageView, R.drawable.my_image);\r\n    \r\n                // Pokreni runnable koji će osvježavati vrijeme\r\n                handler.postDelayed(runnable, 1000);\r\n    \r\n                appWidgetManager.updateAppWidget(appWidgetId, views);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onDisabled(Context context) {\r\n            super.onDisabled(context);\r\n            // Zaustavi runnable kada je zadnji widget uklonjen\r\n            handler.removeCallbacks(runnable);\r\n        }\r\n    \r\n        private void updateClock() {\r\n            AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(context);\r\n            int[] appWidgetIds = appWidgetManager.getAppWidgetIds(new ComponentName(context, SexyClockWidget.class));\r\n    \r\n            for (int appWidgetId : appWidgetIds) {\r\n                RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.sexy_clock_widget);\r\n    \r\n                // Postavi trenutno vrijeme na TextView\r\n                SimpleDateFormat sdf = new SimpleDateFormat(TIME_FORMAT);\r\n                String currentTime = sdf.format(new Date());\r\n                views.setTextViewText(R.id.textView, currentTime);\r\n    \r\n                appWidgetManager.updateAppWidget(appWidgetId, views);\r\n            }\r\n        }\r\n    }\r\n\r\nI hope you can tell me what i can do. I can normally change font size, color, etc...\r\n\r\nbut font stlye is not working for some reason. I even tried the standard fonts available\r\n\r\nThank you","title":"Why can&#39;t I change the font style for TextView in Android Studio","body":"<p>Why can't I change the font style for TextView in Android Studio ?</p>\n<p>I really tried everything what i know, and everytime the font is the same.</p>\n<p>here is the code:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:src=&quot;@drawable/my_image&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:fontFamily=&quot;@font/pixel&quot;\n        android:gravity=&quot;center&quot;\n        android:textColor=&quot;#FF0000&quot;\n        android:textSize=&quot;48sp&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;appwidget-provider xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:minWidth=&quot;300dp&quot;\n    android:minHeight=&quot;80dp&quot;\n    android:updatePeriodMillis=&quot;60000&quot;\n    android:initialLayout=&quot;@layout/sexy_clock_widget&quot;\n    android:previewImage=&quot;@drawable/my_preview_image&quot;\n    android:widgetCategory=&quot;home_screen|keyguard&quot;&gt;\n&lt;/appwidget-provider&gt;\n\npackage com.example.sexyclockwidget;\n\nimport android.appwidget.AppWidgetManager;\nimport android.appwidget.AppWidgetProvider;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.os.Handler;\nimport android.widget.RemoteViews;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class SexyClockWidget extends AppWidgetProvider {\n\n    private static final String TIME_FORMAT = &quot;HH:mm:ss&quot;;\n\n    private Context context;\n    private Handler handler = new Handler();\n    private Runnable runnable = new Runnable() {\n        public void run() {\n            updateClock();\n            handler.postDelayed(this, 1000); // ponovno pokrenite ovaj runnable nakon 1 sekunde\n        }\n    };\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        this.context = context;\n\n        for (int appWidgetId : appWidgetIds) {\n            RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.sexy_clock_widget);\n\n            // Postavi sliku na ImageView\n            views.setImageViewResource(R.id.imageView, R.drawable.my_image);\n\n            // Pokreni runnable koji će osvježavati vrijeme\n            handler.postDelayed(runnable, 1000);\n\n            appWidgetManager.updateAppWidget(appWidgetId, views);\n        }\n    }\n\n    @Override\n    public void onDisabled(Context context) {\n        super.onDisabled(context);\n        // Zaustavi runnable kada je zadnji widget uklonjen\n        handler.removeCallbacks(runnable);\n    }\n\n    private void updateClock() {\n        AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(context);\n        int[] appWidgetIds = appWidgetManager.getAppWidgetIds(new ComponentName(context, SexyClockWidget.class));\n\n        for (int appWidgetId : appWidgetIds) {\n            RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.sexy_clock_widget);\n\n            // Postavi trenutno vrijeme na TextView\n            SimpleDateFormat sdf = new SimpleDateFormat(TIME_FORMAT);\n            String currentTime = sdf.format(new Date());\n            views.setTextViewText(R.id.textView, currentTime);\n\n            appWidgetManager.updateAppWidget(appWidgetId, views);\n        }\n    }\n}\n</code></pre>\n<p>I hope you can tell me what i can do. I can normally change font size, color, etc...</p>\n<p>but font stlye is not working for some reason. I even tried the standard fonts available</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680785521,"creation_date":1680785521,"answer_id":75949747,"question_id":75938707,"body_markdown":"Only GraphQL will allow clients to completely drive which fields will be present in the response.\r\n\r\nWith a typical Spring MVC application, you can use [JSON Views][1] to serialize your object in different ways. Now unlike GraphQL, the client will not be able to select the response content with a request DSL. You can select the JSON view by using different Controller methods:\r\n\r\n* by changing the request path\r\n* requiring request parameters\r\n* using a different, custom media type like `application/vnd.product.light+json`, `application/vnd.product+json`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-jsonview","title":"query Springboot rest api response using graphql","body":"<p>Only GraphQL will allow clients to completely drive which fields will be present in the response.</p>\n<p>With a typical Spring MVC application, you can use <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-jsonview\" rel=\"nofollow noreferrer\">JSON Views</a> to serialize your object in different ways. Now unlike GraphQL, the client will not be able to select the response content with a request DSL. You can select the JSON view by using different Controller methods:</p>\n<ul>\n<li>by changing the request path</li>\n<li>requiring request parameters</li>\n<li>using a different, custom media type like <code>application/vnd.product.light+json</code>, <code>application/vnd.product+json</code></li>\n</ul>\n"}],"owner":{"account_id":28221592,"reputation":11,"user_id":21572230,"display_name":"Gowraw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680870760,"creation_date":1680693071,"question_id":75938707,"body_markdown":"is it possible to query Json which is a Rest endpoint response and filterout the required fields?\r\nSample Json response from springboot rest endpoint  -&gt; api/getProductDetails as below,\r\n\r\n```\r\n{\r\n  &quot;account&quot;: &quot;JV-013&quot;,\r\n  &quot;productDetails&quot;: [\r\n    {\r\n      &quot;productId&quot;: 1,\r\n      &quot;productName&quot;: &quot;birew&quot;,\r\n      &quot;productVersion&quot;: [\r\n        &quot;v1.0&quot;,\r\n        &quot;v2.0&quot;\r\n      ],\r\n      &quot;productOwner&quot;: [\r\n        {\r\n          &quot;ownerName&quot;: &quot;John&quot;,\r\n          &quot;ownerMail&quot;: &quot;john34@yahoo.com&quot;\r\n        },\r\n        {\r\n          &quot;ownerName&quot;: &quot;Pav&quot;,\r\n          &quot;ownerMail&quot;: &quot;pavghig@yahoo.com&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;productId&quot;: 1,\r\n      &quot;productName&quot;: &quot;rowa&quot;,\r\n      &quot;productVersion&quot;: [\r\n        &quot;v1.0&quot;,\r\n        &quot;v2.0&quot;\r\n      ],\r\n      &quot;productOwner&quot;: [\r\n        {\r\n          &quot;ownerName&quot;: &quot;John&quot;,\r\n          &quot;ownerMail&quot;: &quot;john34@yahoo.com&quot;\r\n        },\r\n        {\r\n          &quot;ownerName&quot;: &quot;Rias&quot;,\r\n          &quot;ownerMail&quot;: &quot;rias765@yahoo.com&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n\r\nwith using another rest endpoint or modifying the existing endponit want to filter out the response using graphql, for example if i want only the productOwner with OwnerName field alone details for all products/singleProduct my response should be below\r\n\r\n```\r\n{\r\n  &quot;productDetails&quot;: [\r\n    {\r\n      &quot;productId&quot;: 1,\r\n      &quot;productOwner&quot;: [\r\n        {\r\n          &quot;ownerName&quot;: &quot;John&quot;\r\n        },\r\n        {\r\n          &quot;ownerName&quot;: &quot;Pav&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;productId&quot;: 1,\r\n      &quot;productOwner&quot;: [\r\n        {\r\n          &quot;ownerName&quot;: &quot;John&quot;\r\n        },\r\n        {\r\n          &quot;ownerName&quot;: &quot;Rias&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\n\r\nCan anyone please help with this\r\n\r\nI tried with graphql endpoint. but Using springboot rest endponit is it possible to implement","title":"query Springboot rest api response using graphql","body":"<p>is it possible to query Json which is a Rest endpoint response and filterout the required fields?\nSample Json response from springboot rest endpoint  -&gt; api/getProductDetails as below,</p>\n<pre><code>{\n  &quot;account&quot;: &quot;JV-013&quot;,\n  &quot;productDetails&quot;: [\n    {\n      &quot;productId&quot;: 1,\n      &quot;productName&quot;: &quot;birew&quot;,\n      &quot;productVersion&quot;: [\n        &quot;v1.0&quot;,\n        &quot;v2.0&quot;\n      ],\n      &quot;productOwner&quot;: [\n        {\n          &quot;ownerName&quot;: &quot;John&quot;,\n          &quot;ownerMail&quot;: &quot;john34@yahoo.com&quot;\n        },\n        {\n          &quot;ownerName&quot;: &quot;Pav&quot;,\n          &quot;ownerMail&quot;: &quot;pavghig@yahoo.com&quot;\n        }\n      ]\n    },\n    {\n      &quot;productId&quot;: 1,\n      &quot;productName&quot;: &quot;rowa&quot;,\n      &quot;productVersion&quot;: [\n        &quot;v1.0&quot;,\n        &quot;v2.0&quot;\n      ],\n      &quot;productOwner&quot;: [\n        {\n          &quot;ownerName&quot;: &quot;John&quot;,\n          &quot;ownerMail&quot;: &quot;john34@yahoo.com&quot;\n        },\n        {\n          &quot;ownerName&quot;: &quot;Rias&quot;,\n          &quot;ownerMail&quot;: &quot;rias765@yahoo.com&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>with using another rest endpoint or modifying the existing endponit want to filter out the response using graphql, for example if i want only the productOwner with OwnerName field alone details for all products/singleProduct my response should be below</p>\n<pre><code>{\n  &quot;productDetails&quot;: [\n    {\n      &quot;productId&quot;: 1,\n      &quot;productOwner&quot;: [\n        {\n          &quot;ownerName&quot;: &quot;John&quot;\n        },\n        {\n          &quot;ownerName&quot;: &quot;Pav&quot;\n        }\n      ]\n    },\n    {\n      &quot;productId&quot;: 1,\n      &quot;productOwner&quot;: [\n        {\n          &quot;ownerName&quot;: &quot;John&quot;\n        },\n        {\n          &quot;ownerName&quot;: &quot;Rias&quot;\n        }\n      ]\n    }\n  ]\n}\n\n</code></pre>\n<p>Can anyone please help with this</p>\n<p>I tried with graphql endpoint. but Using springboot rest endponit is it possible to implement</p>\n"},{"tags":["java","swagger","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":125163,"reputation":2985,"user_id":320761,"display_name":"Lukasz Frankowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680870527,"creation_date":1680870527,"answer_id":75958430,"question_id":58996299,"body_markdown":"An example for response body using springdoc-openapi:\r\n\r\n\r\n```java\r\n@Operation(responses = @ApiResponse(content = @Content(schema = @Schema(type = &quot;object&quot;,\r\n        requiredProperties = {&quot;foo&quot;, &quot;bar&quot;}),\r\n    schemaProperties = {\r\n        @SchemaProperty(name = &quot;foo&quot;, schema = @Schema(type = &quot;number&quot;)),\r\n        @SchemaProperty(name = &quot;bar&quot;, schema = @Schema(type = &quot;number&quot;)),\r\n    })))\r\n```\r\n\r\nResults in:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S98eG.png","title":"How to specify possible values of map keys using annotations","body":"<p>An example for response body using springdoc-openapi:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Operation(responses = @ApiResponse(content = @Content(schema = @Schema(type = &quot;object&quot;,\n        requiredProperties = {&quot;foo&quot;, &quot;bar&quot;}),\n    schemaProperties = {\n        @SchemaProperty(name = &quot;foo&quot;, schema = @Schema(type = &quot;number&quot;)),\n        @SchemaProperty(name = &quot;bar&quot;, schema = @Schema(type = &quot;number&quot;)),\n    })))\n</code></pre>\n<p>Results in:</p>\n<p><a href=\"https://i.stack.imgur.com/S98eG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S98eG.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":345182,"reputation":412,"user_id":677937,"accept_rate":75,"display_name":"Stanislau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680870527,"creation_date":1574432942,"question_id":58996299,"body_markdown":"As [Swagger Specification][1] says there is a way explicitly to define fixed keys as object properties (see &quot;Fixed Keys&quot; section). \r\n\r\nHow to achieve the same thing using Swagger annotations? \r\nE.g.\r\n\r\n    @ApiModelProperty(required = true)\r\n    private Map&lt;SomeEnumA, SomeEnumB&gt; field = new EnumMap&lt;&gt;(SomeEnumB.class);\r\n\r\nSo, I would like to see `SomeEnumA` entries as fixed keys of `field` property in the generated api spec.\r\n\r\n\r\n  [1]: https://swagger.io/docs/specification/data-models/dictionaries/","title":"How to specify possible values of map keys using annotations","body":"<p>As <a href=\"https://swagger.io/docs/specification/data-models/dictionaries/\" rel=\"nofollow noreferrer\">Swagger Specification</a> says there is a way explicitly to define fixed keys as object properties (see \"Fixed Keys\" section). </p>\n\n<p>How to achieve the same thing using Swagger annotations? \nE.g.</p>\n\n<pre><code>@ApiModelProperty(required = true)\nprivate Map&lt;SomeEnumA, SomeEnumB&gt; field = new EnumMap&lt;&gt;(SomeEnumB.class);\n</code></pre>\n\n<p>So, I would like to see <code>SomeEnumA</code> entries as fixed keys of <code>field</code> property in the generated api spec.</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":3,"creation_date":1680868188,"post_id":75957980,"comment_id":133972486,"body_markdown":"Seems you could simply create new JavaFX project and click on play button in editor without adding JavaFX library and setting VM options.","body":"Seems you could simply create new JavaFX project and click on play button in editor without adding JavaFX library and setting VM options."},{"owner":{"account_id":28220672,"reputation":13,"user_id":21571451,"display_name":"jachai.sotaro"},"score":0,"creation_date":1680868419,"post_id":75957980,"comment_id":133972525,"body_markdown":"Tried it. I get the same error, i.e. `java: module not found: javafx.controls`","body":"Tried it. I get the same error, i.e. <code>java: module not found: javafx.controls</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1680874019,"post_id":75957980,"comment_id":133973583,"body_markdown":"Use the &quot;New JavaFX Project&quot; Wizard. Try running the sample application. If it fails, post the complete stack trace, along with the code that generates the exception, your pom.xml and module-info.java files.","body":"Use the &quot;New JavaFX Project&quot; Wizard. Try running the sample application. If it fails, post the complete stack trace, along with the code that generates the exception, your pom.xml and module-info.java files."},{"owner":{"account_id":28220672,"reputation":13,"user_id":21571451,"display_name":"jachai.sotaro"},"score":0,"creation_date":1680875323,"post_id":75957980,"comment_id":133973886,"body_markdown":"Stack trace https://pastebin.com/ujDhdRc8 `pom.xml` https://pastebin.com/Gt2w3R7W `module-info.java` https://pastebin.com/2Ub9TTWs","body":"Stack trace <a href=\"https://pastebin.com/ujDhdRc8\" rel=\"nofollow noreferrer\">pastebin.com/ujDhdRc8</a> <code>pom.xml</code> <a href=\"https://pastebin.com/Gt2w3R7W\" rel=\"nofollow noreferrer\">pastebin.com/Gt2w3R7W</a> <code>module-info.java</code> <a href=\"https://pastebin.com/2Ub9TTWs\" rel=\"nofollow noreferrer\">pastebin.com/2Ub9TTWs</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1680880734,"post_id":75957980,"comment_id":133975044,"body_markdown":"Please post those in the question, formatted as code. I don&#39;t see the stack trace, just the module-info.java (twice) and the pom.xml.","body":"Please post those in the question, formatted as code. I don&#39;t see the stack trace, just the module-info.java (twice) and the pom.xml."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1680881067,"post_id":75957980,"comment_id":133975121,"body_markdown":"*&quot;I&#39;m stuck on step four, where I&#39;m supposed to add VM options.&quot;* If you really want to configure this manually, in the run configurations wizard click on &quot;Modify Options&quot; and make sure &quot;Add VM Options&quot; is checked. Then you should get a &quot;VM options&quot; box in the wizard and you can enter the VM options there. But this should not really be necessary.","body":"<i>&quot;I&#39;m stuck on step four, where I&#39;m supposed to add VM options.&quot;</i> If you really want to configure this manually, in the run configurations wizard click on &quot;Modify Options&quot; and make sure &quot;Add VM Options&quot; is checked. Then you should get a &quot;VM options&quot; box in the wizard and you can enter the VM options there. But this should not really be necessary."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680895841,"post_id":75957980,"comment_id":133977914,"body_markdown":"I know it is a silly question, but did you replace `\\path\\to` with the actual path you put the sdk? Also are you on windows?  In which case you should be using a Windows style path rather than Unix style.","body":"I know it is a silly question, but did you replace <code>\\path\\to</code> with the actual path you put the sdk? Also are you on windows?  In which case you should be using a Windows style path rather than Unix style."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680895937,"post_id":75957980,"comment_id":133977931,"body_markdown":"Use released versions not `ea` early access versions.","body":"Use released versions not <code>ea</code> early access versions."}],"owner":{"account_id":28220672,"reputation":13,"user_id":21571451,"display_name":"jachai.sotaro"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680895552,"answer_count":0,"score":0,"last_activity_date":1680870378,"creation_date":1680866751,"question_id":75957980,"body_markdown":"I&#39;m following [JavaFX documentation](https://openjfx.io/openjfx-docs/), but I think it is not updated for the latest version of their IDE. I&#39;m using IntelliJ IDEA 2023.1 (latest), but tutorial is written for IntelliJ IDEA 2020.1 .\r\n\r\nI&#39;m trying to run the _non-modular_ project for the first time, and here&#39;s what I did:\r\n\r\n- Downloaded JavaFX SDK v20 for Win X64, and extracted the zip file\r\n- Created new JavaFX project, and didn&#39;t check for any additional libraries when prompted in the following window\r\n[IntelliJ IDEA new JavaFX project](https://i.stack.imgur.com/ifZD3.png)\r\n- Added JavaFX library via &quot;Project Structure&quot;\r\n\r\nI&#39;m stuck on step four, where I&#39;m supposed to add VM options. I go to `Run -&gt; Edit Configurations`, but my window is completely different than the one showed in the documentation, and I do not know where I&#39;m supposed to enter the command `--module-path &quot;\\path\\to\\javafx-sdk-20\\lib&quot; --add-modules javafx.controls,javafx.fxml`.\r\n\r\nInside `Run/Debug Configurations` window, I did `+` → `Application`, inside box for main class I selected `com.example.demo.HelloApplication`, and inside box for program arguments I put `--module-path &quot;\\path\\to\\javafx-sdk-20\\lib&quot; --add-modules javafx.controls,javafx.fxml`, where I did put my path to javafx lib dir.\r\n\r\nWhen I tried to run my `HelloApplication.java`, I get the error `java: module not found: javafx.controls`, even though it&#39;s included as a parameter in the above mentioned command, i.e. part `--add-modules javafx.controls,javafx.fxml`. \r\n\r\nI also followed [documentation from JetBrains](https://www.jetbrains.com/help/idea/javafx.html#troubleshoot), which is up to date, and I still got the same error, i..e that modules are not found:\r\n[IntelliJ IDEA error output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1eqAB.png","title":"Can&#39;t add VM options for JavaFX in IntelliJ IDEA","body":"<p>I'm following <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">JavaFX documentation</a>, but I think it is not updated for the latest version of their IDE. I'm using IntelliJ IDEA 2023.1 (latest), but tutorial is written for IntelliJ IDEA 2020.1 .</p>\n<p>I'm trying to run the <em>non-modular</em> project for the first time, and here's what I did:</p>\n<ul>\n<li>Downloaded JavaFX SDK v20 for Win X64, and extracted the zip file</li>\n<li>Created new JavaFX project, and didn't check for any additional libraries when prompted in the following window\n<a href=\"https://i.stack.imgur.com/ifZD3.png\" rel=\"nofollow noreferrer\">IntelliJ IDEA new JavaFX project</a></li>\n<li>Added JavaFX library via &quot;Project Structure&quot;</li>\n</ul>\n<p>I'm stuck on step four, where I'm supposed to add VM options. I go to <code>Run -&gt; Edit Configurations</code>, but my window is completely different than the one showed in the documentation, and I do not know where I'm supposed to enter the command <code>--module-path &quot;\\path\\to\\javafx-sdk-20\\lib&quot; --add-modules javafx.controls,javafx.fxml</code>.</p>\n<p>Inside <code>Run/Debug Configurations</code> window, I did <code>+</code> → <code>Application</code>, inside box for main class I selected <code>com.example.demo.HelloApplication</code>, and inside box for program arguments I put <code>--module-path &quot;\\path\\to\\javafx-sdk-20\\lib&quot; --add-modules javafx.controls,javafx.fxml</code>, where I did put my path to javafx lib dir.</p>\n<p>When I tried to run my <code>HelloApplication.java</code>, I get the error <code>java: module not found: javafx.controls</code>, even though it's included as a parameter in the above mentioned command, i.e. part <code>--add-modules javafx.controls,javafx.fxml</code>.</p>\n<p>I also followed <a href=\"https://www.jetbrains.com/help/idea/javafx.html#troubleshoot\" rel=\"nofollow noreferrer\">documentation from JetBrains</a>, which is up to date, and I still got the same error, i..e that modules are not found:\n<a href=\"https://i.stack.imgur.com/1eqAB.png\" rel=\"nofollow noreferrer\">IntelliJ IDEA error output</a></p>\n"},{"tags":["java","c#","interface","telephonymanager"],"answers":[{"tags":[],"owner":{"account_id":28241115,"reputation":1,"user_id":21588867,"display_name":"Михаил Клементьев"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680870173,"creation_date":1680869604,"answer_id":75958303,"question_id":75645576,"body_markdown":"Just use your Context (Android.Content.Context) &#39;Executor&#39; or &#39;MainExecutor&#39;.&lt;br/&gt;\r\nFor example, you can get the main executor from your MainActivity like\r\n\r\n    public class MainActivity : ... \r\n    {\r\n        public IExecutor GetExecutor() { return this.MainExecutor; }\r\n    }\r\n\r\nBy the way, you do not have to reimplement Java.Lang.Object&#39;s properties.","title":"Create IExecutor in .net Maui for Android?","body":"<p>Just use your Context (Android.Content.Context) 'Executor' or 'MainExecutor'.<br/>\nFor example, you can get the main executor from your MainActivity like</p>\n<pre><code>public class MainActivity : ... \n{\n    public IExecutor GetExecutor() { return this.MainExecutor; }\n}\n</code></pre>\n<p>By the way, you do not have to reimplement Java.Lang.Object's properties.</p>\n"}],"owner":{"account_id":17433897,"reputation":383,"user_id":12637353,"display_name":"rickster26ter1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680870173,"creation_date":1678053070,"question_id":75645576,"body_markdown":"I am not sure how to implement an [IExecutor][1] in .Net Maui. I need this executor in order to be able to simply run a function in Android (it takes in an IExecutor as a parameter). I literally don&#39;t know how to implement all of the functions, but this object Must implement IExecutor...\r\n\r\n    #if ANDROID\r\n    using Java.Interop;\r\n    using Java.Lang;\r\n    using Java.Util.Concurrent;\r\n    using System;\r\n    using System.Collections.Generic;\r\n    using System.Linq;\r\n    using System.Text;\r\n    using System.Threading.Tasks;\r\n    \r\n    namespace CellularSignal1\r\n    {\r\n        public class Executor : Java.Lang.Object, IExecutor\r\n        {\r\n            public nint Handle =&gt; throw new NotImplementedException();\r\n    \r\n            public int JniIdentityHashCode =&gt; throw new NotImplementedException();\r\n    \r\n            public JniObjectReference PeerReference =&gt; new JniObjectReference();\r\n    \r\n            public JniPeerMembers JniPeerMembers =&gt; throw new NotImplementedException();\r\n    \r\n            public JniManagedPeerStates JniManagedPeerState =&gt; throw new NotImplementedException();\r\n    \r\n            public void Dispose()\r\n            {\r\n                throw new NotImplementedException();\r\n            }\r\n    \r\n            public void Disposed()\r\n            {\r\n                throw new NotImplementedException();\r\n            }\r\n    \r\n            public void DisposeUnlessReferenced()\r\n            {\r\n                throw new NotImplementedException();\r\n            }\r\n    \r\n            public void Execute(IRunnable command)\r\n            {\r\n                command.Run();\r\n            }\r\n    \r\n            public void Finalized()\r\n            {\r\n                throw new NotImplementedException();\r\n            }\r\n    \r\n            public void SetJniIdentityHashCode(int value)\r\n            {\r\n                throw new NotImplementedException();\r\n            }\r\n    \r\n            public void SetJniManagedPeerState(JniManagedPeerStates value)\r\n            {\r\n                throw new NotImplementedException();\r\n            }\r\n    \r\n            public void SetPeerReference(JniObjectReference reference)\r\n            {\r\n                throw new NotImplementedException();\r\n            }\r\n    \r\n            public void UnregisterFromRuntime()\r\n            {\r\n                throw new NotImplementedException();\r\n            }\r\n        }\r\n    }\r\n    #endif\r\n\r\n\r\nI tried just leaving as is, but was starting to get a bunch of &#39;not implemented&#39; exceptions from this\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/java.util.concurrent.iexecutor?view=xamarin-android-sdk-13","title":"Create IExecutor in .net Maui for Android?","body":"<p>I am not sure how to implement an <a href=\"https://learn.microsoft.com/en-us/dotnet/api/java.util.concurrent.iexecutor?view=xamarin-android-sdk-13\" rel=\"nofollow noreferrer\">IExecutor</a> in .Net Maui. I need this executor in order to be able to simply run a function in Android (it takes in an IExecutor as a parameter). I literally don't know how to implement all of the functions, but this object Must implement IExecutor...</p>\n<pre><code>#if ANDROID\nusing Java.Interop;\nusing Java.Lang;\nusing Java.Util.Concurrent;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace CellularSignal1\n{\n    public class Executor : Java.Lang.Object, IExecutor\n    {\n        public nint Handle =&gt; throw new NotImplementedException();\n\n        public int JniIdentityHashCode =&gt; throw new NotImplementedException();\n\n        public JniObjectReference PeerReference =&gt; new JniObjectReference();\n\n        public JniPeerMembers JniPeerMembers =&gt; throw new NotImplementedException();\n\n        public JniManagedPeerStates JniManagedPeerState =&gt; throw new NotImplementedException();\n\n        public void Dispose()\n        {\n            throw new NotImplementedException();\n        }\n\n        public void Disposed()\n        {\n            throw new NotImplementedException();\n        }\n\n        public void DisposeUnlessReferenced()\n        {\n            throw new NotImplementedException();\n        }\n\n        public void Execute(IRunnable command)\n        {\n            command.Run();\n        }\n\n        public void Finalized()\n        {\n            throw new NotImplementedException();\n        }\n\n        public void SetJniIdentityHashCode(int value)\n        {\n            throw new NotImplementedException();\n        }\n\n        public void SetJniManagedPeerState(JniManagedPeerStates value)\n        {\n            throw new NotImplementedException();\n        }\n\n        public void SetPeerReference(JniObjectReference reference)\n        {\n            throw new NotImplementedException();\n        }\n\n        public void UnregisterFromRuntime()\n        {\n            throw new NotImplementedException();\n        }\n    }\n}\n#endif\n</code></pre>\n<p>I tried just leaving as is, but was starting to get a bunch of 'not implemented' exceptions from this</p>\n"},{"tags":["java","itext","rpgle"],"comments":[{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":2,"creation_date":1680880204,"post_id":75958381,"comment_id":133974912,"body_markdown":"If this [javadoc](https://javadoc.io/doc/com.github.librepdf/openpdf/1.3.6/com/lowagie/text/pdf/PdfPTable.html) is accurate, then this method needs a float it seems","body":"If this <a href=\"https://javadoc.io/doc/com.github.librepdf/openpdf/1.3.6/com/lowagie/text/pdf/PdfPTable.html\" rel=\"nofollow noreferrer\">javadoc</a> is accurate, then this method needs a float it seems"},{"owner":{"account_id":5175869,"reputation":3294,"user_id":4143022,"display_name":"Barbara Morris"},"score":0,"creation_date":1681044535,"post_id":75958381,"comment_id":133992632,"body_markdown":"Just to help you solve this kind of problem in the future ... There&#39;s a troubleshooter in the RPG Cafe: https://www.ibm.com/support/pages/troubleshoot-calls-rpg-java. In the section about the NoSuchMethod error, it recommends using the javap command to see the signature. This page in the ILE RPG Programmer&#39;s Guide explains how to interpret the Java signature. https://www.ibm.com/docs/en/i/7.5?topic=rpg-incorrectly-specifying-method-parameters-in-prototype.","body":"Just to help you solve this kind of problem in the future ... There&#39;s a troubleshooter in the RPG Cafe: <a href=\"https://www.ibm.com/support/pages/troubleshoot-calls-rpg-java\" rel=\"nofollow noreferrer\">ibm.com/support/pages/troubleshoot-calls-rpg-java</a>. In the section about the NoSuchMethod error, it recommends using the javap command to see the signature. This page in the ILE RPG Programmer&#39;s Guide explains how to interpret the Java signature. <a href=\"https://www.ibm.com/docs/en/i/7.5?topic=rpg-incorrectly-specifying-method-parameters-in-prototype\" rel=\"nofollow noreferrer\">ibm.com/docs/en/i/&hellip;</a>."}],"owner":{"account_id":28241048,"reputation":11,"user_id":21588812,"display_name":"Rich D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680870113,"creation_date":1680870113,"question_id":75958381,"body_markdown":"I am trying to modify the width of a table inside a .pdf using using RPGLE. I would like to use the &#39;setWidthPercentage&#39; method to adjust the table size but I can not get it to work in my RPGLE program.\r\n\r\nI have found the Java code to set the width of the table.  \r\n\r\n```\r\ntable.setWidthPercentage(90);\r\n```\r\n\r\nThe problem I am having is translating that code to RPG.\r\n\r\n\r\nI am able to create a two column table using:\r\n\r\n```\r\nnewTable = new_pdfptable(2);\r\n```\r\n\r\nI tried defining the &#39;setWidthPercentage&#39; using:\r\n\r\n```\r\ndcl-pr  pTable_setWidthPercentage  ExtProc(*JAVA\r\n                                   :&#39;com.lowagie.text.pdf.PdfPTable&#39;\r\n                                   :&#39;setWidthPercentage&#39;);\r\n   prWidthPct     int(10)   value;\r\nend-pr;\r\n```\r\n\r\nWhen I try to use it I get the &#39;**java.lang.NoSuchMethodError**&#39; message.\r\n\r\nAny suggestions on how I can change the size of the table?   It defaults to 80% of the page and I need to increase it sightly.\r\n\r\nThanks,\r\n-Rich","title":"Changing PdfPTable width from RPGLE using iText","body":"<p>I am trying to modify the width of a table inside a .pdf using using RPGLE. I would like to use the 'setWidthPercentage' method to adjust the table size but I can not get it to work in my RPGLE program.</p>\n<p>I have found the Java code to set the width of the table.</p>\n<pre><code>table.setWidthPercentage(90);\n</code></pre>\n<p>The problem I am having is translating that code to RPG.</p>\n<p>I am able to create a two column table using:</p>\n<pre><code>newTable = new_pdfptable(2);\n</code></pre>\n<p>I tried defining the 'setWidthPercentage' using:</p>\n<pre><code>dcl-pr  pTable_setWidthPercentage  ExtProc(*JAVA\n                                   :'com.lowagie.text.pdf.PdfPTable'\n                                   :'setWidthPercentage');\n   prWidthPct     int(10)   value;\nend-pr;\n</code></pre>\n<p>When I try to use it I get the '<strong>java.lang.NoSuchMethodError</strong>' message.</p>\n<p>Any suggestions on how I can change the size of the table?   It defaults to 80% of the page and I need to increase it sightly.</p>\n<p>Thanks,\n-Rich</p>\n"},{"tags":["java","c++","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680869899,"creation_date":1680869899,"answer_id":75958347,"question_id":75957785,"body_markdown":"In general, every JNI invocation has a table of &quot;local references&quot; of fixed size. Every object you allocate or get back from a method call takes up a slot in this local reference table. If you fill up the local reference table, all such operations will fail. That is why the JNI provides release operations to free up these local references.\r\n\r\nIf you take a high level view:\r\n- the first for loop takes all the incoming matrix rows into the local reference table\r\n- the second for loop does no JNI operations\r\n- the third for loop allocates the result matrix plus one object per row.\r\n\r\nRealistically, you cannot release the values of `row_elements` until you have walked each array in turn. So if you do that after the second loop everything should be fine. However, local references are released automatically when the JNI method returns, so you could just leave them be.\r\n\r\nAs for your final question: no, Java is garbage collected. If you allocate something and do not reference it from somewhere, the JVM will clean it up for you on the next GC cycle.","title":"What is the proper way to transpose a 2D matrix coming from java, to a C++ function, then get the result back to java in android development?","body":"<p>In general, every JNI invocation has a table of &quot;local references&quot; of fixed size. Every object you allocate or get back from a method call takes up a slot in this local reference table. If you fill up the local reference table, all such operations will fail. That is why the JNI provides release operations to free up these local references.</p>\n<p>If you take a high level view:</p>\n<ul>\n<li>the first for loop takes all the incoming matrix rows into the local reference table</li>\n<li>the second for loop does no JNI operations</li>\n<li>the third for loop allocates the result matrix plus one object per row.</li>\n</ul>\n<p>Realistically, you cannot release the values of <code>row_elements</code> until you have walked each array in turn. So if you do that after the second loop everything should be fine. However, local references are released automatically when the JNI method returns, so you could just leave them be.</p>\n<p>As for your final question: no, Java is garbage collected. If you allocate something and do not reference it from somewhere, the JVM will clean it up for you on the next GC cycle.</p>\n"}],"owner":{"account_id":22331149,"reputation":539,"user_id":16552411,"display_name":"0xdeadbeef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75958347,"answer_count":1,"score":1,"last_activity_date":1680869899,"creation_date":1680864827,"question_id":75957785,"body_markdown":"I&#39;m currently learning android native development with android studio, and I want to learn some of the best practices and dos and don&#39;t when developing native android applications.\r\n\r\nFor educational purposes I tried to create a **native transpose function**, I ended up successfully implemented the said native function that returns a correct transpose version of the original matrix passed in to it, but I&#39;m not so sure if my implementation is correct, specially in the memory management and release calls.\r\n\r\nThis is the native transpose function definition in my MainActivity.class:\r\n\r\n```java\r\nprivate native int[][] transpose(int[][] arr, int row, int column);\r\n```\r\n\r\nAnd this is the C++ JNI declaration of the same native function:\r\n\r\n```c++\r\nextern &quot;C&quot; JNIEXPORT jobjectArray JNICALL Java_com_example_nativeapp_MainActivity_transpose(\r\n        JNIEnv *env,\r\n        jobject,\r\n        jobjectArray arr,\r\n        jint row,\r\n        jint column)\r\n{\r\n    jclass jintArrayClass = env-&gt;FindClass(&quot;[I&quot;);\r\n    jint **row_elements = new jint*[row];\r\n\r\n    for (jsize i = 0; i &lt; row; ++i) {\r\n        auto current_row = (jintArray) env-&gt;GetObjectArrayElement(arr, i);\r\n        row_elements[i] = env-&gt;GetIntArrayElements(current_row, nullptr);\r\n        // Line Q1\r\n        // env-&gt;ReleaseIntArrayElements(current_row, row_elements[i], JNI_ABORT);\r\n    }\r\n\r\n    jint **transposed_row_elements = new jint*[column];\r\n    for (jsize i = 0; i &lt; column; ++i) {\r\n        transposed_row_elements[i] = new jint[row];\r\n        for (jsize j = 0; j &lt; row; ++j) {\r\n            transposed_row_elements[i][j] = row_elements[j][i];\r\n        }\r\n    }\r\n\r\n    jobjectArray transposed = env-&gt;NewObjectArray(column, jintArrayClass , nullptr);\r\n\r\n    for (jsize i = 0; i &lt; column; ++i) {\r\n        // Line Q2\r\n        jintArray curr_row = env-&gt;NewIntArray(row);\r\n        env-&gt;SetIntArrayRegion(curr_row, 0, row, transposed_row_elements[i]);\r\n        env-&gt;SetObjectArrayElement(transposed, i, curr_row);\r\n    }\r\n\r\n    for (jsize i = 0; i &lt; column; ++i) {\r\n        delete [] transposed_row_elements[i];\r\n    }\r\n\r\n    delete [] transposed_row_elements;\r\n    delete [] row_elements;\r\n\r\n    return transposed;\r\n```\r\n\r\n - I wonder If have mistakes in this implementation specially when using `JNIEnv`?\r\n\r\n - When I enabled the comment out code, I&#39;m getting the wrong result, But shomewhere I have read that we should always call `ReleaseXXX()` when we call `GetXXX()`, how can I get around this?\r\n\r\n    ```c++\r\n    // Line Q1\r\n    // env-&gt;ReleaseIntArrayElements(current_row, row_elements[i], JNI_ABORT);\r\n    ```\r\n\r\n - Also do I need to release the `curr_row` in `\\\\ Line Q2` block?\r\n\r\n - In C++ when we allocate arrays with the `new` keyword we should always call the `delete` keyword... is this also the case in native android development, specially when passing these heap allocated arrays in the methods of `JNIEnv`, like when creating new jobjects, jobjectArray, jprimitiveArray?\r\n\r\n**Overall I just wanted to see a much more clean and proper implementation of this native transpose function with nice explanations that I can learn and pickup.**\r\n","title":"What is the proper way to transpose a 2D matrix coming from java, to a C++ function, then get the result back to java in android development?","body":"<p>I'm currently learning android native development with android studio, and I want to learn some of the best practices and dos and don't when developing native android applications.</p>\n<p>For educational purposes I tried to create a <strong>native transpose function</strong>, I ended up successfully implemented the said native function that returns a correct transpose version of the original matrix passed in to it, but I'm not so sure if my implementation is correct, specially in the memory management and release calls.</p>\n<p>This is the native transpose function definition in my MainActivity.class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private native int[][] transpose(int[][] arr, int row, int column);\n</code></pre>\n<p>And this is the C++ JNI declaration of the same native function:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>extern &quot;C&quot; JNIEXPORT jobjectArray JNICALL Java_com_example_nativeapp_MainActivity_transpose(\n        JNIEnv *env,\n        jobject,\n        jobjectArray arr,\n        jint row,\n        jint column)\n{\n    jclass jintArrayClass = env-&gt;FindClass(&quot;[I&quot;);\n    jint **row_elements = new jint*[row];\n\n    for (jsize i = 0; i &lt; row; ++i) {\n        auto current_row = (jintArray) env-&gt;GetObjectArrayElement(arr, i);\n        row_elements[i] = env-&gt;GetIntArrayElements(current_row, nullptr);\n        // Line Q1\n        // env-&gt;ReleaseIntArrayElements(current_row, row_elements[i], JNI_ABORT);\n    }\n\n    jint **transposed_row_elements = new jint*[column];\n    for (jsize i = 0; i &lt; column; ++i) {\n        transposed_row_elements[i] = new jint[row];\n        for (jsize j = 0; j &lt; row; ++j) {\n            transposed_row_elements[i][j] = row_elements[j][i];\n        }\n    }\n\n    jobjectArray transposed = env-&gt;NewObjectArray(column, jintArrayClass , nullptr);\n\n    for (jsize i = 0; i &lt; column; ++i) {\n        // Line Q2\n        jintArray curr_row = env-&gt;NewIntArray(row);\n        env-&gt;SetIntArrayRegion(curr_row, 0, row, transposed_row_elements[i]);\n        env-&gt;SetObjectArrayElement(transposed, i, curr_row);\n    }\n\n    for (jsize i = 0; i &lt; column; ++i) {\n        delete [] transposed_row_elements[i];\n    }\n\n    delete [] transposed_row_elements;\n    delete [] row_elements;\n\n    return transposed;\n</code></pre>\n<ul>\n<li><p>I wonder If have mistakes in this implementation specially when using <code>JNIEnv</code>?</p>\n</li>\n<li><p>When I enabled the comment out code, I'm getting the wrong result, But shomewhere I have read that we should always call <code>ReleaseXXX()</code> when we call <code>GetXXX()</code>, how can I get around this?</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>// Line Q1\n// env-&gt;ReleaseIntArrayElements(current_row, row_elements[i], JNI_ABORT);\n</code></pre>\n</li>\n<li><p>Also do I need to release the <code>curr_row</code> in <code>\\\\ Line Q2</code> block?</p>\n</li>\n<li><p>In C++ when we allocate arrays with the <code>new</code> keyword we should always call the <code>delete</code> keyword... is this also the case in native android development, specially when passing these heap allocated arrays in the methods of <code>JNIEnv</code>, like when creating new jobjects, jobjectArray, jprimitiveArray?</p>\n</li>\n</ul>\n<p><strong>Overall I just wanted to see a much more clean and proper implementation of this native transpose function with nice explanations that I can learn and pickup.</strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1645591297,"post_id":71226674,"comment_id":125909762,"body_markdown":"Check this answer - https://stackoverflow.com/questions/8091350/how-to-find-the-currently-running-applications-programmatically-in-android","body":"Check this answer - <a href=\"https://stackoverflow.com/questions/8091350/how-to-find-the-currently-running-applications-programmatically-in-android\" title=\"how to find the currently running applications programmatically in android\">stackoverflow.com/questions/8091350/&hellip;</a>"},{"owner":{"account_id":24344430,"reputation":1,"user_id":18281308,"display_name":"Bromanius"},"score":0,"creation_date":1645638658,"post_id":71226674,"comment_id":125928093,"body_markdown":"The answer ist depricated :/","body":"The answer ist depricated :/"}],"answers":[{"tags":[],"owner":{"account_id":1372922,"reputation":439,"user_id":1307503,"display_name":"Hossein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645556393,"creation_date":1645556393,"answer_id":71226918,"question_id":71226674,"body_markdown":"You can get information about running processes using the [ActivityManager][1] class.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/ActivityManager.html","title":"List of Running Apps on Android?","body":"<p>You can get information about running processes using the <a href=\"https://developer.android.com/reference/android/app/ActivityManager.html\" rel=\"nofollow noreferrer\">ActivityManager</a> class.</p>\n"},{"tags":[],"owner":{"account_id":28241041,"reputation":1,"user_id":21588805,"display_name":"marcos d."},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680869558,"creation_date":1680869558,"answer_id":75958296,"question_id":71226674,"body_markdown":"Just in my case I got the list of applications installed in my phone like the way of following code lines.\r\n\r\n```\r\npublic static boolean isRunningAppBanned(Context context) {\r\n    PackageManager pm = context.getPackageManager();\r\n    List&lt;ApplicationInfo&gt; packages = pm.getInstalledApplications(PackageManager.GET_META_DATA);\r\n\r\n    //Print all running Apps\r\n    for (ApplicationInfo packageInfo : packages) {\r\n        Log.println(Log.INFO, &quot;Running Apps&quot;, \r\n        pm.getApplicationLabel(packageInfo).toString() + &quot;\\t&quot; + packageInfo.packageName;\r\n    }\r\n    \r\n    return false;\r\n}\r\n```\r\nI hope it would be helped for you to get the list of running apps on android devices. ;-)","title":"List of Running Apps on Android?","body":"<p>Just in my case I got the list of applications installed in my phone like the way of following code lines.</p>\n<pre><code>public static boolean isRunningAppBanned(Context context) {\n    PackageManager pm = context.getPackageManager();\n    List&lt;ApplicationInfo&gt; packages = pm.getInstalledApplications(PackageManager.GET_META_DATA);\n\n    //Print all running Apps\n    for (ApplicationInfo packageInfo : packages) {\n        Log.println(Log.INFO, &quot;Running Apps&quot;, \n        pm.getApplicationLabel(packageInfo).toString() + &quot;\\t&quot; + packageInfo.packageName;\n    }\n    \n    return false;\n}\n</code></pre>\n<p>I hope it would be helped for you to get the list of running apps on android devices. ;-)</p>\n"}],"owner":{"account_id":24344430,"reputation":1,"user_id":18281308,"display_name":"Bromanius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680869558,"creation_date":1645555162,"question_id":71226674,"body_markdown":"This is my first StackOverflow-Post so tell me if i do something wrong :) I&#39;m currently trying to create an &quot;AppLock-Like&quot; App, so I somehow need my App to know which other App has been opened or what Apps are currently running.\r\n\r\nI&#39;ve been researching all day now, trying to figure out, how to get a List (Package Names) of all currently running Apps on Android. The only way to do so seems to be the depricated getRunningAppProcesses() from the ActivityManager Class. But since its depricated, it only returns my own App, even when running as a Background Service, while other Apps are beeing opened. And the new UsageStatsManager seems to only give longterm information.\r\n\r\nIs there even still a way to get access to that information? There are plenty of Apps in the PlayStore that somehow are able to identify when and what App is opened.\r\nAny help is welcomed, thanks already :)\r\n\r\nI&#39;ve tried so much Code, this is my last try:\r\n\r\n    public static boolean isRunningAppBanned(Context context) {\r\n        ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcessInfo = am.getRunningAppProcesses();\r\n\r\n        //Print all running Apps\r\n        for (int i = 0; i &lt; runningAppProcessInfo.size(); i++) {\r\n            Log.println(Log.INFO, &quot;Running Apps&quot;, runningAppProcessInfo.get(i).processName);\r\n        }\r\n        \r\n        //Check if a running App is Banned\r\n        for (int i = 0; i &lt; runningAppProcessInfo.size(); i++) {\r\n            if(Database.isBanned(runningAppProcessInfo.get(i).processName)) {\r\n                Log.println(Log.ERROR, &quot;Banned Apps&quot;, runningAppProcessInfo.get(i).processName + &quot;IS BANNED&quot;);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"List of Running Apps on Android?","body":"<p>This is my first StackOverflow-Post so tell me if i do something wrong :) I'm currently trying to create an &quot;AppLock-Like&quot; App, so I somehow need my App to know which other App has been opened or what Apps are currently running.</p>\n<p>I've been researching all day now, trying to figure out, how to get a List (Package Names) of all currently running Apps on Android. The only way to do so seems to be the depricated getRunningAppProcesses() from the ActivityManager Class. But since its depricated, it only returns my own App, even when running as a Background Service, while other Apps are beeing opened. And the new UsageStatsManager seems to only give longterm information.</p>\n<p>Is there even still a way to get access to that information? There are plenty of Apps in the PlayStore that somehow are able to identify when and what App is opened.\nAny help is welcomed, thanks already :)</p>\n<p>I've tried so much Code, this is my last try:</p>\n<pre><code>public static boolean isRunningAppBanned(Context context) {\n    ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\n    List&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcessInfo = am.getRunningAppProcesses();\n\n    //Print all running Apps\n    for (int i = 0; i &lt; runningAppProcessInfo.size(); i++) {\n        Log.println(Log.INFO, &quot;Running Apps&quot;, runningAppProcessInfo.get(i).processName);\n    }\n    \n    //Check if a running App is Banned\n    for (int i = 0; i &lt; runningAppProcessInfo.size(); i++) {\n        if(Database.isBanned(runningAppProcessInfo.get(i).processName)) {\n            Log.println(Log.ERROR, &quot;Banned Apps&quot;, runningAppProcessInfo.get(i).processName + &quot;IS BANNED&quot;);\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","android","notifications","broadcastreceiver","alarmmanager"],"owner":{"account_id":28225505,"reputation":1,"user_id":21575581,"display_name":"rchookan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680869013,"creation_date":1680719127,"question_id":75942873,"body_markdown":"I have an application that plays the call to prayer through notification. In normal mode, the application works correctly.\r\n\r\nBut when the smartphone screen is off. The notification of the call to prayer is not shown and the sound of the call to prayer is not played.\r\n\r\n\r\n**code alarm manager:**\r\n\r\n```\r\n//Enable polling service\r\n    public static void startRemindService(Context context) {\r\n        //Get AlarmManager system service\r\n        AlarmManager manager = (AlarmManager) context\r\n                .getSystemService(Context.ALARM_SERVICE);\r\n\r\n        //Wrap the Intent that needs to execute the Service\r\n        Intent intent = new Intent(context, TimeReceiver.class);\r\n        intent.setAction(ACTION);\r\n        intent.setFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\r\n\r\n        PendingIntent pendingIntent;\r\n        PendingIntent sender;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n            pendingIntent = PendingIntent.getService(context, 0,\r\n                    intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n            sender = PendingIntent.getBroadcast(context, 0,\r\n                    intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n        } else {\r\n            pendingIntent = PendingIntent.getService(context, 0,\r\n                    intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            sender = PendingIntent.getBroadcast(context, 0,\r\n                    intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        }\r\n        //Use AlarmManger&#39;s setRepeating method to set the time interval (seconds) for periodic execution and the Service that needs to be executed\r\n        manager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(),\r\n                30000, sender);\r\n\r\n        //The start time of the trigger service\r\n        long triggerAtTime = SystemClock.elapsedRealtime();\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**code class TimeReceiver:**\r\n\r\n```\r\npublic class TimeReceiver extends BroadcastReceiver implements Constants {\r\n\r\n\r\n    public  final String ACTION = &quot;com.nasim.service.RemindService&quot;;\r\n    public static final String STATUS_BAR_COVER_CLICK_ACTION = &quot;CLICK&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        if(intent.getAction().equals(STATUS_BAR_COVER_CLICK_ACTION))\r\n        {\r\n            NotificationCreator.releaseMediaPalyer();\r\n            NotificationManager mgr = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n            mgr.cancel(0);\r\n        }\r\n\r\n        if(intent.getAction().equals(ACTION))\r\n        {\r\n\r\n            int mPos = PrayListAdapter.compaureTime(PrayTime.main(new Date(), context));\r\n//             mPos = 0;\r\n            if (mPos != -1) {\r\n                MobclickAgent.onResume(context);\r\n                PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\r\n                final PowerManager.WakeLock wakeLock = pm.newWakeLock(PowerManager.ACQUIRE_CAUSES_WAKEUP | PowerManager.SCREEN_DIM_WAKE_LOCK, &quot;NasimVahy:bright&quot;);\r\n                wakeLock.acquire();\r\n\r\n                if(null != wakeLock) {\r\n                    wakeLock.release();\r\n                }\r\n\r\n\r\n                String prayTime = context.getSharedPreferences(&quot;PREFERENCE_HIMUSILIN&quot;, Context.MODE_PRIVATE).getString(Config.getFactionName()+&quot;&quot; + mPos, &quot;&quot;);\r\n                PrayTimeEntity prayTimeEntity = MediaSettingActivity.getPrayTimeEntity(prayTime,mPos);\r\n                SimpleDateFormat sdf =PrayListAdapter.getSimpleDateFormat();\r\n                sdf.setTimeZone(Config.getTimeZone());\r\n                String text = context.getResources().getString(R.string.noti_prayer_time) + &quot; &quot; + prayTimeEntity.name + &quot; &quot; + sdf.format(new Date());\r\n                NotificationCreator.createNotification(text, R.drawable.notification_icon, 0, prayTimeEntity.soundPath, context, PrayTimeActivity.class);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\nI expect the application to play the call to prayer through notification when the phone screen is off.\r\n","title":"A problem in the notification of the call to prayer","body":"<p>I have an application that plays the call to prayer through notification. In normal mode, the application works correctly.</p>\n<p>But when the smartphone screen is off. The notification of the call to prayer is not shown and the sound of the call to prayer is not played.</p>\n<p><strong>code alarm manager:</strong></p>\n<pre><code>//Enable polling service\n    public static void startRemindService(Context context) {\n        //Get AlarmManager system service\n        AlarmManager manager = (AlarmManager) context\n                .getSystemService(Context.ALARM_SERVICE);\n\n        //Wrap the Intent that needs to execute the Service\n        Intent intent = new Intent(context, TimeReceiver.class);\n        intent.setAction(ACTION);\n        intent.setFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\n\n        PendingIntent pendingIntent;\n        PendingIntent sender;\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n            pendingIntent = PendingIntent.getService(context, 0,\n                    intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n            sender = PendingIntent.getBroadcast(context, 0,\n                    intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n        } else {\n            pendingIntent = PendingIntent.getService(context, 0,\n                    intent, PendingIntent.FLAG_UPDATE_CURRENT);\n            sender = PendingIntent.getBroadcast(context, 0,\n                    intent, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n        //Use AlarmManger's setRepeating method to set the time interval (seconds) for periodic execution and the Service that needs to be executed\n        manager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(),\n                30000, sender);\n\n        //The start time of the trigger service\n        long triggerAtTime = SystemClock.elapsedRealtime();\n}\n\n</code></pre>\n<p><strong>code class TimeReceiver:</strong></p>\n<pre><code>public class TimeReceiver extends BroadcastReceiver implements Constants {\n\n\n    public  final String ACTION = &quot;com.nasim.service.RemindService&quot;;\n    public static final String STATUS_BAR_COVER_CLICK_ACTION = &quot;CLICK&quot;;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        if(intent.getAction().equals(STATUS_BAR_COVER_CLICK_ACTION))\n        {\n            NotificationCreator.releaseMediaPalyer();\n            NotificationManager mgr = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n            mgr.cancel(0);\n        }\n\n        if(intent.getAction().equals(ACTION))\n        {\n\n            int mPos = PrayListAdapter.compaureTime(PrayTime.main(new Date(), context));\n//             mPos = 0;\n            if (mPos != -1) {\n                MobclickAgent.onResume(context);\n                PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\n                final PowerManager.WakeLock wakeLock = pm.newWakeLock(PowerManager.ACQUIRE_CAUSES_WAKEUP | PowerManager.SCREEN_DIM_WAKE_LOCK, &quot;NasimVahy:bright&quot;);\n                wakeLock.acquire();\n\n                if(null != wakeLock) {\n                    wakeLock.release();\n                }\n\n\n                String prayTime = context.getSharedPreferences(&quot;PREFERENCE_HIMUSILIN&quot;, Context.MODE_PRIVATE).getString(Config.getFactionName()+&quot;&quot; + mPos, &quot;&quot;);\n                PrayTimeEntity prayTimeEntity = MediaSettingActivity.getPrayTimeEntity(prayTime,mPos);\n                SimpleDateFormat sdf =PrayListAdapter.getSimpleDateFormat();\n                sdf.setTimeZone(Config.getTimeZone());\n                String text = context.getResources().getString(R.string.noti_prayer_time) + &quot; &quot; + prayTimeEntity.name + &quot; &quot; + sdf.format(new Date());\n                NotificationCreator.createNotification(text, R.drawable.notification_icon, 0, prayTimeEntity.soundPath, context, PrayTimeActivity.class);\n            }\n        }\n    }\n}\n\n\n\n</code></pre>\n<p>I expect the application to play the call to prayer through notification when the phone screen is off.</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680868971,"creation_date":1680867654,"answer_id":75958084,"question_id":75942564,"body_markdown":"Your suspicion is correct.\r\n\r\nAs String is immutable in `Java` you can&#39;t just read the value of the field of the object and then modify that value. Doing so will not affect the field value.\r\n\r\nThis would work with your `List` and your `Map` code since then you also call the relevant method (`arr.set`, `entry.setValue`) to put this value inside the relevant `list` or `map`. \r\n\r\nThe respective relevant action to do when modifying a specific object (ex `CustomResponse`) would be to either call the setter with the modified value or to use reflection and modify directly the value of the field. \r\n\r\nBut what I understand from your code is that you try to add some global configuration for `ObjectMapper` as to how it has to handle an `Object` that has `String` fields so that the produced `JSON` complies with your custom logic. If that is the case then it would be much easier in the following way.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule(&quot;MyStringSerializer&quot;);\r\n    module.addSerializer(String.class, new MyStringSerializer());\r\n    mapper.registerModule(module);\r\n\r\nwhile you also need a Serializer Class like the following\r\n\r\n    public class MyStringSerializer extends JsonSerializer&lt;String&gt; {\r\n        @Override\r\n        public void serialize(\r\n                        String value, \r\n                        JsonGenerator gen, \r\n                        SerializerProvider serializers) throws IOException {\r\n    \r\n            gen.writeString(value + &quot; atest&quot;);\r\n    \r\n        }\r\n    }\r\n\r\nOtherwise if all you want is just to modify the state of an existing object and all it&#39;s relative string fields and you thought you could convert it with Jackson to achieve that, I think the part with reflection you just mentioned would be more appropriate. Reflection would also be best to cover your requirement \r\n\r\n&gt; Note that I do not want to recreate any new objects, preferably stick\r\n&gt; to in-place replacement.","title":"Update an object recursively without having to turn it into a map first","body":"<p>Your suspicion is correct.</p>\n<p>As String is immutable in <code>Java</code> you can't just read the value of the field of the object and then modify that value. Doing so will not affect the field value.</p>\n<p>This would work with your <code>List</code> and your <code>Map</code> code since then you also call the relevant method (<code>arr.set</code>, <code>entry.setValue</code>) to put this value inside the relevant <code>list</code> or <code>map</code>.</p>\n<p>The respective relevant action to do when modifying a specific object (ex <code>CustomResponse</code>) would be to either call the setter with the modified value or to use reflection and modify directly the value of the field.</p>\n<p>But what I understand from your code is that you try to add some global configuration for <code>ObjectMapper</code> as to how it has to handle an <code>Object</code> that has <code>String</code> fields so that the produced <code>JSON</code> complies with your custom logic. If that is the case then it would be much easier in the following way.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule(&quot;MyStringSerializer&quot;);\nmodule.addSerializer(String.class, new MyStringSerializer());\nmapper.registerModule(module);\n</code></pre>\n<p>while you also need a Serializer Class like the following</p>\n<pre><code>public class MyStringSerializer extends JsonSerializer&lt;String&gt; {\n    @Override\n    public void serialize(\n                    String value, \n                    JsonGenerator gen, \n                    SerializerProvider serializers) throws IOException {\n\n        gen.writeString(value + &quot; atest&quot;);\n\n    }\n}\n</code></pre>\n<p>Otherwise if all you want is just to modify the state of an existing object and all it's relative string fields and you thought you could convert it with Jackson to achieve that, I think the part with reflection you just mentioned would be more appropriate. Reflection would also be best to cover your requirement</p>\n<blockquote>\n<p>Note that I do not want to recreate any new objects, preferably stick\nto in-place replacement.</p>\n</blockquote>\n"}],"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75958084,"answer_count":1,"score":2,"last_activity_date":1680868971,"creation_date":1680716736,"question_id":75942564,"body_markdown":"I am trying to replace all the Strings nested inside an object via following which kind of works. \r\n\r\nBut after replacing, the information just seems lost. The original object remains as is without change.\r\n\r\nSuspect it&#39;s cos I changed the original object which is of type `CustomResponse` to a map. \r\n\r\nI had to change it to a map first, else I can&#39;t traverse the way I am doing it now. \r\n\r\nIs there a way around this to not have to turn it into a map first. \r\n\r\nElse I can&#39;t traverse the way I am currently doing it. \r\n\r\n`CustomResponse` is just an example. There are other objects being passed in like CustomResponse.\r\nThus I don&#39;t want to write logic to specifically cater to CustomResponse but keep it more generic as an object. \r\n\r\nNote that I do not want to recreate any new objects, preferably stick to in-place replacement. \r\n\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    private static ObjectMapper MAPPER = new ObjectMapper();\r\n    \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public void parse(Object obj) {\r\n        if (obj instanceof List) {\r\n            List&lt;Object&gt; arr = (List&lt;Object&gt;) obj;\r\n            for (int i = 0; i &lt; arr.size(); i++) {\r\n                Object o = arr.get(i);\r\n                if (o instanceof String) {\r\n                    String str = (String) o;\r\n                    arr.set(i, str + &quot; atest&quot;);\r\n                } else {\r\n                    parse(o);\r\n                }\r\n            }\r\n        } else if (obj instanceof Map) {\r\n            Map&lt;Object, Object&gt; map = (Map&lt;Object, Object&gt;) obj;\r\n            for (Map.Entry&lt;Object, Object&gt; entry : map.entrySet()) {\r\n                Object o = entry.getValue();\r\n                if (o instanceof String) {\r\n                    String str = (String) o;\r\n                    entry.setValue(str + &quot; atest&quot;);\r\n                } else {\r\n                    parse(o);\r\n                }\r\n            }\r\n        } else if (obj instanceof CustomResponse) {\r\n            // likely logic causing issue\r\n            Map&lt;Object, Object&gt; map = MAPPER.convertValue(obj, new TypeReference&lt;Map&lt;Object, Object&gt;&gt;() {});\r\n            parse(map);\r\n        }\r\n    }\r\n\r\nAnother consideration was to use reflection like this but feels bit too hacky. \r\n\r\n    else if (obj instanceof CustomResponse) {\r\n        Field[] fields = obj.getClass().getDeclaredFields();\r\n        for (Field field : fields) {\r\n            field.setAccessible(true);\r\n            Object fieldValue = field.get(obj);\r\n            if (fieldValue instanceof String) {\r\n                String str = (String) fieldValue;\r\n                field.set(obj, str + &quot; atest&quot;);\r\n            } else {\r\n                parse(fieldValue);\r\n            }\r\n        }\r\n    }","title":"Update an object recursively without having to turn it into a map first","body":"<p>I am trying to replace all the Strings nested inside an object via following which kind of works.</p>\n<p>But after replacing, the information just seems lost. The original object remains as is without change.</p>\n<p>Suspect it's cos I changed the original object which is of type <code>CustomResponse</code> to a map.</p>\n<p>I had to change it to a map first, else I can't traverse the way I am doing it now.</p>\n<p>Is there a way around this to not have to turn it into a map first.</p>\n<p>Else I can't traverse the way I am currently doing it.</p>\n<p><code>CustomResponse</code> is just an example. There are other objects being passed in like CustomResponse.\nThus I don't want to write logic to specifically cater to CustomResponse but keep it more generic as an object.</p>\n<p>Note that I do not want to recreate any new objects, preferably stick to in-place replacement.</p>\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.List;\nimport java.util.Map;\n\nprivate static ObjectMapper MAPPER = new ObjectMapper();\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic void parse(Object obj) {\n    if (obj instanceof List) {\n        List&lt;Object&gt; arr = (List&lt;Object&gt;) obj;\n        for (int i = 0; i &lt; arr.size(); i++) {\n            Object o = arr.get(i);\n            if (o instanceof String) {\n                String str = (String) o;\n                arr.set(i, str + &quot; atest&quot;);\n            } else {\n                parse(o);\n            }\n        }\n    } else if (obj instanceof Map) {\n        Map&lt;Object, Object&gt; map = (Map&lt;Object, Object&gt;) obj;\n        for (Map.Entry&lt;Object, Object&gt; entry : map.entrySet()) {\n            Object o = entry.getValue();\n            if (o instanceof String) {\n                String str = (String) o;\n                entry.setValue(str + &quot; atest&quot;);\n            } else {\n                parse(o);\n            }\n        }\n    } else if (obj instanceof CustomResponse) {\n        // likely logic causing issue\n        Map&lt;Object, Object&gt; map = MAPPER.convertValue(obj, new TypeReference&lt;Map&lt;Object, Object&gt;&gt;() {});\n        parse(map);\n    }\n}\n</code></pre>\n<p>Another consideration was to use reflection like this but feels bit too hacky.</p>\n<pre><code>else if (obj instanceof CustomResponse) {\n    Field[] fields = obj.getClass().getDeclaredFields();\n    for (Field field : fields) {\n        field.setAccessible(true);\n        Object fieldValue = field.get(obj);\n        if (fieldValue instanceof String) {\n            String str = (String) fieldValue;\n            field.set(obj, str + &quot; atest&quot;);\n        } else {\n            parse(fieldValue);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist","substring","contains"],"comments":[{"owner":{"account_id":178996,"reputation":6452,"user_id":411326,"accept_rate":75,"display_name":"Asaf"},"score":0,"creation_date":1308670774,"post_id":6428005,"comment_id":7542178,"body_markdown":"what are you allowed to change? do you get a reference to the ArrayList and return the first match or do you have control over the inserting of the data in the list?","body":"what are you allowed to change? do you get a reference to the ArrayList and return the first match or do you have control over the inserting of the data in the list?"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1308670737,"creation_date":1308670737,"answer_id":6428057,"question_id":6428005,"body_markdown":"The only way I can think of is doing something like:\r\n\r\n    strs.get(strs.indexOf(new Object() {\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            return obj.toString().contains(s);\r\n        }\r\n    }));\r\n\r\nDon&#39;t know if it is considered good practice though.","title":"Check if ArrayList&lt;String&gt; contains part of a string in Java","body":"<p>The only way I can think of is doing something like:</p>\n\n<pre><code>strs.get(strs.indexOf(new Object() {\n    @Override\n    public boolean equals(Object obj) {\n        return obj.toString().contains(s);\n    }\n}));\n</code></pre>\n\n<p>Don't know if it is considered good practice though.</p>\n"},{"tags":[],"owner":{"account_id":29217,"reputation":3838,"user_id":78743,"accept_rate":91,"display_name":"jiggy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308670822,"creation_date":1308670822,"answer_id":6428081,"question_id":6428005,"body_markdown":"Can&#39;t. Even if there was an equivalent of List.contains() it just does a linear search under the hood.","title":"Check if ArrayList&lt;String&gt; contains part of a string in Java","body":"<p>Can't. Even if there was an equivalent of List.contains() it just does a linear search under the hood.</p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308671204,"creation_date":1308670833,"answer_id":6428084,"question_id":6428005,"body_markdown":"I think iterating though the list and checking each item is the fastest way. And it is also the way every one understand your code. (except of building your own data structure).\r\n\r\n---\r\nAnyway you can also use [`org.apache.commons.collections.CollectionUtils#find(Collection, Predicate)`][1]\r\n\r\n&gt; `find(java.util.Collection collection, Predicate predicate)` Finds the first\r\n&gt; element in the given collection which\r\n&gt; matches the given predicate.\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#find%28java.util.Collection,%20org.apache.commons.collections.Predicate%29","title":"Check if ArrayList&lt;String&gt; contains part of a string in Java","body":"<p>I think iterating though the list and checking each item is the fastest way. And it is also the way every one understand your code. (except of building your own data structure).</p>\n\n<hr>\n\n<p>Anyway you can also use <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#find%28java.util.Collection,%20org.apache.commons.collections.Predicate%29\" rel=\"nofollow\"><code>org.apache.commons.collections.CollectionUtils#find(Collection, Predicate)</code></a></p>\n\n<blockquote>\n  <p><code>find(java.util.Collection collection, Predicate predicate)</code> Finds the first\n  element in the given collection which\n  matches the given predicate.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":245216,"reputation":8352,"user_id":518587,"accept_rate":91,"display_name":"morja"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1308671231,"creation_date":1308670893,"answer_id":6428109,"question_id":6428005,"body_markdown":"With an ArrayList there is no other option than iterating through it. But you could use other data structures like a prefix tree (e.g. a [ternary search tree][1], see this [java sample][2]).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Ternary_search_tree\r\n  [2]: http://www.javaworld.com/javaworld/jw-02-2001/jw-0216-ternary.html","title":"Check if ArrayList&lt;String&gt; contains part of a string in Java","body":"<p>With an ArrayList there is no other option than iterating through it. But you could use other data structures like a prefix tree (e.g. a <a href=\"http://en.wikipedia.org/wiki/Ternary_search_tree\" rel=\"nofollow\">ternary search tree</a>, see this <a href=\"http://www.javaworld.com/javaworld/jw-02-2001/jw-0216-ternary.html\" rel=\"nofollow\">java sample</a>).</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308671498,"creation_date":1308671498,"answer_id":6428257,"question_id":6428005,"body_markdown":"You can use a NavigableSet&lt;String&gt;\r\n\r\n    NavigableSet&lt;String&gt; set = new TreeSet&lt;String&gt;();\r\n    // add strings\r\n\r\n    String find =\r\n    String firstMatch = set.ceiling(find);\r\n","title":"Check if ArrayList&lt;String&gt; contains part of a string in Java","body":"<p>You can use a NavigableSet</p>\n\n<pre><code>NavigableSet&lt;String&gt; set = new TreeSet&lt;String&gt;();\n// add strings\n\nString find =\nString firstMatch = set.ceiling(find);\n</code></pre>\n"}],"owner":{"account_id":231628,"reputation":817,"user_id":495960,"accept_rate":100,"display_name":"TookTheRook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6428057,"answer_count":5,"score":1,"last_activity_date":1680868225,"creation_date":1308670509,"question_id":6428005,"body_markdown":"Say I have an ArrayList:\r\n\r\n    &lt;string1.4&gt;\r\n    &lt;string2.4&gt;\r\n    &lt;string3.4&gt;\r\n\r\nand I wish to return the first element of the ArrayList that contains &quot;string1&quot; as part of that element&#39;s string.  \r\nE.g.  \r\n\r\n    arrayList.containsSubString(&#39;string1&#39;);  \r\n\r\nHow could this be done other than iterating through each of the elements of the ArrayList and checking if &quot;string1&quot; is a substring of that element&#39;s string?","title":"Check if ArrayList&lt;String&gt; contains part of a string in Java","body":"<p>Say I have an ArrayList:</p>\n<pre><code>&lt;string1.4&gt;\n&lt;string2.4&gt;\n&lt;string3.4&gt;\n</code></pre>\n<p>and I wish to return the first element of the ArrayList that contains &quot;string1&quot; as part of that element's string.<br />\nE.g.</p>\n<pre><code>arrayList.containsSubString('string1');  \n</code></pre>\n<p>How could this be done other than iterating through each of the elements of the ArrayList and checking if &quot;string1&quot; is a substring of that element's string?</p>\n"},{"tags":["java","character-encoding","mime-message","bytearrayoutputstream"],"comments":[{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1680879035,"post_id":75958107,"comment_id":133974645,"body_markdown":"Does this answer your question? [Java: Encode String in quoted-printable](https://stackoverflow.com/questions/21574745/java-encode-string-in-quoted-printable)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21574745/java-encode-string-in-quoted-printable\">Java: Encode String in quoted-printable</a>"},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1680893250,"post_id":75958107,"comment_id":133977513,"body_markdown":"*unrelated: between the `5` and `kWh` there is another non-ASCII character that looks like a space*","body":"<i>unrelated: between the <code>5</code> and <code>kWh</code> there is another non-ASCII character that looks like a space</i>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680956925,"post_id":75958107,"comment_id":133983850,"body_markdown":"The output of `mimeMessage.writeTo` is essentially a **binary** stream. You&#39;re treating it as if it is text with a single character set. It is not. Each MIME part can have its own character set and/or Transfer-Encoding. An additional problem may be that this actually works fine, but how you&#39;re printing the string applies a conversion so that those characters are replaced with a ?. This is especially common on Windows.","body":"The output of <code>mimeMessage.writeTo</code> is essentially a <b>binary</b> stream. You&#39;re treating it as if it is text with a single character set. It is not. Each MIME part can have its own character set and/or Transfer-Encoding. An additional problem may be that this actually works fine, but how you&#39;re printing the string applies a conversion so that those characters are replaced with a ?. This is especially common on Windows."},{"owner":{"account_id":7126451,"reputation":1,"user_id":5449231,"display_name":"Srinidhi Murthy"},"score":0,"creation_date":1681219192,"post_id":75958107,"comment_id":134018381,"body_markdown":"@JosefZ That doesn&#39;t. Because the user has a string that needs to be encoded to QP. But I have an entire mail that&#39;s already QP encoded. Everything is in place but I cannot send the full mail as a String response unless I write it to an outputstream. But when I do, it messes up with the encoding.","body":"@JosefZ That doesn&#39;t. Because the user has a string that needs to be encoded to QP. But I have an entire mail that&#39;s already QP encoded. Everything is in place but I cannot send the full mail as a String response unless I write it to an outputstream. But when I do, it messes up with the encoding."}],"owner":{"account_id":7126451,"reputation":1,"user_id":5449231,"display_name":"Srinidhi Murthy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680867882,"creation_date":1680867882,"question_id":75958107,"body_markdown":"```\r\nByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\nmimeMessage.writeTo(outputStream);\r\n```\r\n\r\nThat&#39;s the code where I write the entire email Mime content (including the headers) to an output stream because I didn&#39;t find any other way to copy the entire content as a string. This email needs to go out on an HTTP response as string. The getContent() only gives the body of the email. I need the entire header info, encoding, charset, content-type all on a string.\r\n\r\nBut when I have an html with the below content as the body of the email, the (&#39;) gets replaced with (?). I know this an encoding issue. But how to set the right encoding while writing to output stream?\r\n\r\n```\r\n&lt;td class=&quot;email_monthlySummaryGraph_subTitle chart-subtitle&quot; style=&quot;border: 0; color: #1D1D1D; font-family: Arial, sans-serif; font-size: 16px; line-height: 1.4; margin: 0; padding-bottom: 20px; padding-left: 0; padding-right: 0; padding-top: 0; text-align: center;&quot; align=&quot;center&quot;&gt;\r\nThat’s 5&#160;kWh less than your highest week this month\r\n&lt;/td&gt;\r\n```\r\n\r\n\r\nI tried setting the encoding on\r\n\r\n```\r\nString response =\r\n                    new String(\r\n                            ((ByteArrayOutputStream) resp).toByteArray(), StandardCharsets.UTF_8);\r\n```\r\n\r\nBut I think it doesn&#39;t matter here coz by then, the characters are already replaced.\r\n","title":"MimeMessage.writeTo(outputStream) ignores the encoding on the html content of the mail. It&#39;s replacing the apostrophes (&#39;) with (?).How to avoid this?","body":"<pre><code>ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\nmimeMessage.writeTo(outputStream);\n</code></pre>\n<p>That's the code where I write the entire email Mime content (including the headers) to an output stream because I didn't find any other way to copy the entire content as a string. This email needs to go out on an HTTP response as string. The getContent() only gives the body of the email. I need the entire header info, encoding, charset, content-type all on a string.</p>\n<p>But when I have an html with the below content as the body of the email, the (') gets replaced with (?). I know this an encoding issue. But how to set the right encoding while writing to output stream?</p>\n<pre><code>&lt;td class=&quot;email_monthlySummaryGraph_subTitle chart-subtitle&quot; style=&quot;border: 0; color: #1D1D1D; font-family: Arial, sans-serif; font-size: 16px; line-height: 1.4; margin: 0; padding-bottom: 20px; padding-left: 0; padding-right: 0; padding-top: 0; text-align: center;&quot; align=&quot;center&quot;&gt;\nThat’s 5 kWh less than your highest week this month\n&lt;/td&gt;\n</code></pre>\n<p>I tried setting the encoding on</p>\n<pre><code>String response =\n                    new String(\n                            ((ByteArrayOutputStream) resp).toByteArray(), StandardCharsets.UTF_8);\n</code></pre>\n<p>But I think it doesn't matter here coz by then, the characters are already replaced.</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680867600,"post_id":75958061,"comment_id":133972395,"body_markdown":"A `while (true)` loop is useful when creating linear console apps, but is a  very bad idea when creating event-driven GUI apps.","body":"A <code>while (true)</code> loop is useful when creating linear console apps, but is a  very bad idea when creating event-driven GUI apps."}],"answers":[{"tags":[],"owner":{"account_id":12325023,"reputation":61,"user_id":8993216,"display_name":"ahmad-g-mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680867796,"creation_date":1680867796,"answer_id":75958097,"question_id":75958061,"body_markdown":"It looks like the issue might be with the while loop in the actionPerformed method for adding a new node. The loop will continue to run as long as adding is true. In the case where the user clicks the &quot;OK&quot; button in the input dialog, adding is not explicitly set to false, so the loop will continue to run.\r\n\r\nOne solution would be to add a break statement after the DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(nodeName); line in the if statement. This will exit the loop once a new node has been successfully added.","title":"When I press OK my input dialogue box keeps re-appearing","body":"<p>It looks like the issue might be with the while loop in the actionPerformed method for adding a new node. The loop will continue to run as long as adding is true. In the case where the user clicks the &quot;OK&quot; button in the input dialog, adding is not explicitly set to false, so the loop will continue to run.</p>\n<p>One solution would be to add a break statement after the DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(nodeName); line in the if statement. This will exit the loop once a new node has been successfully added.</p>\n"}],"owner":{"account_id":28108819,"reputation":13,"user_id":21476977,"display_name":"Aaron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75958097,"answer_count":1,"score":1,"last_activity_date":1680867796,"creation_date":1680867407,"question_id":75958061,"body_markdown":"I am making an Outliner App where you can Add nodes and edit them as a kind of to-do list however when I add a node and press &quot;OK&quot; the input box will re-appear and I cannot find the issue so some help would be greatly appreciated.\r\n\r\nI tried to use a boolean way already and managed to fix the &quot;cancel&quot; button however the OK button and X button in the top right still make the box re-appear\r\n\r\nController class:\r\n\r\n```\r\npublic class OutlinerController implements ActionListener {\r\n\r\n    private OutlinerModel model;\r\n    private OutlinerView view;\r\n\r\n    public OutlinerController(OutlinerModel model, OutlinerView view) {\r\n        this.model = model;\r\n        this.view = view;\r\n\r\n        // Register this controller as the listener for the buttons in the view\r\n        view.addButtonListener(this);\r\n        view.addEditButtonListener(this);\r\n        view.addDeleteButtonListener(this);\r\n        view.addCompleteButtonListener(this);\r\n        view.addSearchButtonListener(this);\r\n    }\r\n\r\npublic void actionPerformed(ActionEvent e) {\r\n    DefaultMutableTreeNode selectedNode = (DefaultMutableTreeNode) view.getTree().getLastSelectedPathComponent();\r\n    if (e.getSource() == view.getAddButton()) {\r\n        boolean adding = true;\r\n        while (adding) {\r\n            // Add a new node to the selected node \r\n            String nodeName = JOptionPane.showInputDialog(&quot;Enter node name:&quot;);\r\n            if (nodeName == null) { // Cancel button pressed\r\n                adding = false;\r\n            } else if (nodeName.trim().equals(&quot;&quot;)) { // Empty name entered\r\n                JOptionPane.showMessageDialog(view.getTree(), &quot;Node name cannot be empty.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            } else {\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(nodeName);\r\n                model.getTreeModel().insertNodeInto(newNode, selectedNode, selectedNode.getChildCount());\r\n                // Expand the selected node to show the newly added node \r\n                view.getTree().expandPath(new TreePath(selectedNode.getPath()));\r\n            }\r\n        }\r\n    } if (e.getSource() == view.getEditButton()) {\r\n        // Edit the selected node&#39;s name \r\n        String nodeName = JOptionPane.showInputDialog(&quot;Enter new node name:&quot;);\r\n        selectedNode.setUserObject(nodeName);\r\n        model.getTreeModel().nodeChanged(selectedNode);\r\n    }  if (e.getSource() == view.getDeleteButton()) {\r\n        // Remove the selected node from the JTree \r\n        model.getTreeModel().removeNodeFromParent(selectedNode);\r\n    }  if (e.getSource() == view.getCompleteButton()) {\r\n        // Mark the selected node as complete \r\n        selectedNode.setUserObject(selectedNode.getUserObject() + &quot; [Complete]&quot;);\r\n        model.getTreeModel().nodeChanged(selectedNode);\r\n    }  if (e.getSource() == view.getSearchButton()) {\r\n        // Get the search term from the user \r\n        String searchTerm = JOptionPane.showInputDialog(&quot;Enter search term:&quot;);\r\n        DefaultMutableTreeNode searchResult = searchNode(model.getRoot(), searchTerm);\r\n        // If a node is found with the given search term, select and scroll to that node in the JTree \r\n        if (searchResult != null) {\r\n            TreePath path = new TreePath(searchResult.getPath());\r\n            view.getTree().setSelectionPath(path);\r\n            view.getTree().scrollPathToVisible(path);\r\n        } else {\r\n            // If no node is found with the given search term, show a message to the user \r\n           view.displayErrorMessage(&quot;No node found with the given search term&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n    private DefaultMutableTreeNode searchNode(DefaultMutableTreeNode node, String searchTerm) {\r\n        // Check if the current node matches the search term \r\n        if (node.getUserObject().toString().toLowerCase().contains(searchTerm.toLowerCase())) {\r\n            return node;\r\n        }\r\n        // Recursively search the child nodes of the current node \r\n        for (int i = 0; i &lt; node.getChildCount(); i++) {\r\n            DefaultMutableTreeNode childNode = (DefaultMutableTreeNode) node.getChildAt(i);\r\n            DefaultMutableTreeNode result = searchNode(childNode, searchTerm);\r\n            if (result != null) {\r\n                return result;\r\n            }\r\n        }\r\n\r\n        // If no node is found with the given search term, return null \r\n        return null;\r\n\r\n    }\r\n        private void searchNode(String searchString) {\r\n        // Get the root of the JTree \r\n        DefaultMutableTreeNode rootNode = (DefaultMutableTreeNode) view.getTree().getModel().getRoot();\r\n\r\n        // Traverse the JTree and find nodes that match the search string \r\n        searchNodeHelper(searchString, rootNode);\r\n    }\r\n\r\n    private void searchNodeHelper(String searchString, DefaultMutableTreeNode node) {\r\n\r\n        // Get the user object of the node and convert it to lowercase \r\n        String nodeString = node.getUserObject().toString().toLowerCase();\r\n\r\n        // Check if the node string contains the search string \r\n        if (nodeString.contains(searchString)) {\r\n\r\n            // If the node string contains the search string, expand its path and highlight it \r\n            TreePath path = new TreePath(node.getPath());\r\n            view.getTree().expandPath(path);\r\n            view.getTree().setSelectionPath(path);\r\n            return;\r\n\r\n        }\r\n\r\n        // If the node string does not contain the search string, recursively check its children \r\n        for (int i = 0; i &lt; node.getChildCount(); i++) {\r\n            DefaultMutableTreeNode childNode = (DefaultMutableTreeNode) node.getChildAt(i);\r\n            searchNodeHelper(searchString, childNode);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"When I press OK my input dialogue box keeps re-appearing","body":"<p>I am making an Outliner App where you can Add nodes and edit them as a kind of to-do list however when I add a node and press &quot;OK&quot; the input box will re-appear and I cannot find the issue so some help would be greatly appreciated.</p>\n<p>I tried to use a boolean way already and managed to fix the &quot;cancel&quot; button however the OK button and X button in the top right still make the box re-appear</p>\n<p>Controller class:</p>\n<pre><code>public class OutlinerController implements ActionListener {\n\n    private OutlinerModel model;\n    private OutlinerView view;\n\n    public OutlinerController(OutlinerModel model, OutlinerView view) {\n        this.model = model;\n        this.view = view;\n\n        // Register this controller as the listener for the buttons in the view\n        view.addButtonListener(this);\n        view.addEditButtonListener(this);\n        view.addDeleteButtonListener(this);\n        view.addCompleteButtonListener(this);\n        view.addSearchButtonListener(this);\n    }\n\npublic void actionPerformed(ActionEvent e) {\n    DefaultMutableTreeNode selectedNode = (DefaultMutableTreeNode) view.getTree().getLastSelectedPathComponent();\n    if (e.getSource() == view.getAddButton()) {\n        boolean adding = true;\n        while (adding) {\n            // Add a new node to the selected node \n            String nodeName = JOptionPane.showInputDialog(&quot;Enter node name:&quot;);\n            if (nodeName == null) { // Cancel button pressed\n                adding = false;\n            } else if (nodeName.trim().equals(&quot;&quot;)) { // Empty name entered\n                JOptionPane.showMessageDialog(view.getTree(), &quot;Node name cannot be empty.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n            } else {\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(nodeName);\n                model.getTreeModel().insertNodeInto(newNode, selectedNode, selectedNode.getChildCount());\n                // Expand the selected node to show the newly added node \n                view.getTree().expandPath(new TreePath(selectedNode.getPath()));\n            }\n        }\n    } if (e.getSource() == view.getEditButton()) {\n        // Edit the selected node's name \n        String nodeName = JOptionPane.showInputDialog(&quot;Enter new node name:&quot;);\n        selectedNode.setUserObject(nodeName);\n        model.getTreeModel().nodeChanged(selectedNode);\n    }  if (e.getSource() == view.getDeleteButton()) {\n        // Remove the selected node from the JTree \n        model.getTreeModel().removeNodeFromParent(selectedNode);\n    }  if (e.getSource() == view.getCompleteButton()) {\n        // Mark the selected node as complete \n        selectedNode.setUserObject(selectedNode.getUserObject() + &quot; [Complete]&quot;);\n        model.getTreeModel().nodeChanged(selectedNode);\n    }  if (e.getSource() == view.getSearchButton()) {\n        // Get the search term from the user \n        String searchTerm = JOptionPane.showInputDialog(&quot;Enter search term:&quot;);\n        DefaultMutableTreeNode searchResult = searchNode(model.getRoot(), searchTerm);\n        // If a node is found with the given search term, select and scroll to that node in the JTree \n        if (searchResult != null) {\n            TreePath path = new TreePath(searchResult.getPath());\n            view.getTree().setSelectionPath(path);\n            view.getTree().scrollPathToVisible(path);\n        } else {\n            // If no node is found with the given search term, show a message to the user \n           view.displayErrorMessage(&quot;No node found with the given search term&quot;);\n        }\n    }\n}\n\n    private DefaultMutableTreeNode searchNode(DefaultMutableTreeNode node, String searchTerm) {\n        // Check if the current node matches the search term \n        if (node.getUserObject().toString().toLowerCase().contains(searchTerm.toLowerCase())) {\n            return node;\n        }\n        // Recursively search the child nodes of the current node \n        for (int i = 0; i &lt; node.getChildCount(); i++) {\n            DefaultMutableTreeNode childNode = (DefaultMutableTreeNode) node.getChildAt(i);\n            DefaultMutableTreeNode result = searchNode(childNode, searchTerm);\n            if (result != null) {\n                return result;\n            }\n        }\n\n        // If no node is found with the given search term, return null \n        return null;\n\n    }\n        private void searchNode(String searchString) {\n        // Get the root of the JTree \n        DefaultMutableTreeNode rootNode = (DefaultMutableTreeNode) view.getTree().getModel().getRoot();\n\n        // Traverse the JTree and find nodes that match the search string \n        searchNodeHelper(searchString, rootNode);\n    }\n\n    private void searchNodeHelper(String searchString, DefaultMutableTreeNode node) {\n\n        // Get the user object of the node and convert it to lowercase \n        String nodeString = node.getUserObject().toString().toLowerCase();\n\n        // Check if the node string contains the search string \n        if (nodeString.contains(searchString)) {\n\n            // If the node string contains the search string, expand its path and highlight it \n            TreePath path = new TreePath(node.getPath());\n            view.getTree().expandPath(path);\n            view.getTree().setSelectionPath(path);\n            return;\n\n        }\n\n        // If the node string does not contain the search string, recursively check its children \n        for (int i = 0; i &lt; node.getChildCount(); i++) {\n            DefaultMutableTreeNode childNode = (DefaultMutableTreeNode) node.getChildAt(i);\n            searchNodeHelper(searchString, childNode);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","cdi"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680856584,"post_id":75956073,"comment_id":133970443,"body_markdown":"applicationContext.getBean() is pure Spring. Only ‘@Component’ (or it’s extensions) will cause a class to be placed in application context, not ‘@Named’. You need to access CdiBiz business with ‘@Inject’. Also javax.inject has moved to jakarta.inject so you should be using a jakarta.inject dependency with 17+","body":"applicationContext.getBean() is pure Spring. Only ‘@Component’ (or it’s extensions) will cause a class to be placed in application context, not ‘@Named’. You need to access CdiBiz business with ‘@Inject’. Also javax.inject has moved to jakarta.inject so you should be using a jakarta.inject dependency with 17+"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680885032,"post_id":75956073,"comment_id":133975922,"body_markdown":"Was you problem primarily the java 17 jakarta issue or the fact that ‘@Inject’ is not connected with applicationContext?","body":"Was you problem primarily the java 17 jakarta issue or the fact that ‘@Inject’ is not connected with applicationContext?"}],"owner":{"account_id":18710269,"reputation":5,"user_id":13640511,"display_name":"Crystal DarkStar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680867643,"creation_date":1680849768,"question_id":75956073,"body_markdown":"I can access the beans just fine when I replace the annotations with their Spring equivalent (@Component and @Autowired), but it won&#39;t work with CDI. javax.inject is present as a dependency in the pom.xml file and I see javax.inject-1.jar in my Maven dependencies with 6 annotation definitions, including Named and Inject.\r\nHere&#39;s my App file -\r\n\r\n```\r\npackage tempTestCdiError;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\n\r\n@SpringBootApplication\r\npublic class CdiTestApp {\r\n\tstatic Logger LOGGER = LoggerFactory.getLogger(CdiTestApp.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tConfigurableApplicationContext applicationContext = SpringApplication.run(CdiTestApp.class, args);\r\n\t\tCdiBiz business = applicationContext.getBean(CdiBiz.class);\r\n\t\tLOGGER.info(&quot;{}, dao-{}&quot;, business, business.getCdiDao());\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThe error shows up because of this line - `CdiBiz business = applicationContext.getBean(CdiBiz.class);`\r\n\r\n\r\nEdit: Switching from javax.inject to jakarta.inject solves the issue","title":"org.springframework.beans.factory.NoSuchBeanDefinitionException while using CDI @Named and @Inject","body":"<p>I can access the beans just fine when I replace the annotations with their Spring equivalent (@Component and @Autowired), but it won't work with CDI. javax.inject is present as a dependency in the pom.xml file and I see javax.inject-1.jar in my Maven dependencies with 6 annotation definitions, including Named and Inject.\nHere's my App file -</p>\n<pre><code>package tempTestCdiError;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\n\n@SpringBootApplication\npublic class CdiTestApp {\n    static Logger LOGGER = LoggerFactory.getLogger(CdiTestApp.class);\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext applicationContext = SpringApplication.run(CdiTestApp.class, args);\n        CdiBiz business = applicationContext.getBean(CdiBiz.class);\n        LOGGER.info(&quot;{}, dao-{}&quot;, business, business.getCdiDao());\n    }\n}\n</code></pre>\n<p>The error shows up because of this line - <code>CdiBiz business = applicationContext.getBean(CdiBiz.class);</code></p>\n<p>Edit: Switching from javax.inject to jakarta.inject solves the issue</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9476,"page":516,"page_size":100}
