{"items":[{"tags":["java","android","process"],"comments":[{"owner":{"account_id":2471937,"reputation":5110,"user_id":2153567,"accept_rate":77,"display_name":"Hawk"},"score":1,"creation_date":1430110596,"post_id":29887429,"comment_id":47898726,"body_markdown":"Your question is lacking enough details.","body":"Your question is lacking enough details."},{"owner":{"account_id":6182119,"reputation":111,"user_id":4817254,"display_name":"Mitte"},"score":0,"creation_date":1430110782,"post_id":29887429,"comment_id":47898779,"body_markdown":"I tried to attach a screen shot to help explain but it told me that I don&#39;t have enough reputation to attach pictures :(","body":"I tried to attach a screen shot to help explain but it told me that I don&#39;t have enough reputation to attach pictures :("},{"owner":{"account_id":2411637,"reputation":829,"user_id":2106576,"display_name":"Kishore"},"score":0,"creation_date":1430111305,"post_id":29887429,"comment_id":47898954,"body_markdown":"possible duplicate of [How to kill an application with all its activities?](http://stackoverflow.com/questions/3105673/how-to-kill-an-application-with-all-its-activities)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3105673/how-to-kill-an-application-with-all-its-activities\">How to kill an application with all its activities?</a>"},{"owner":{"account_id":4645337,"reputation":6283,"user_id":3763850,"accept_rate":83,"display_name":"Gemtastic"},"score":0,"creation_date":1430111490,"post_id":29887429,"comment_id":47899028,"body_markdown":"possible duplicate of [Quitting an application - is that frowned upon?](http://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon\">Quitting an application - is that frowned upon?</a>"},{"owner":{"account_id":1686251,"reputation":4392,"user_id":1549476,"accept_rate":88,"display_name":"k_g"},"score":0,"creation_date":1430111497,"post_id":29887429,"comment_id":47899029,"body_markdown":"@Kishore not really, that&#39;s about killing your own app, not a system app.","body":"@Kishore not really, that&#39;s about killing your own app, not a system app."},{"owner":{"account_id":6182119,"reputation":111,"user_id":4817254,"display_name":"Mitte"},"score":0,"creation_date":1430111643,"post_id":29887429,"comment_id":47899075,"body_markdown":"Yes, I want to kill not only my own app, but also other apps.","body":"Yes, I want to kill not only my own app, but also other apps."},{"owner":{"account_id":2411637,"reputation":829,"user_id":2106576,"display_name":"Kishore"},"score":0,"creation_date":1430111736,"post_id":29887429,"comment_id":47899103,"body_markdown":"AFAIK, to kill a system app, the killer has to be a system app ,i.e., the killer process needs to have root or superuser permissions.","body":"AFAIK, to kill a system app, the killer has to be a system app ,i.e., the killer process needs to have root or superuser permissions."},{"owner":{"account_id":6182119,"reputation":111,"user_id":4817254,"display_name":"Mitte"},"score":0,"creation_date":1430111830,"post_id":29887429,"comment_id":47899139,"body_markdown":"Can I kill other user apps?","body":"Can I kill other user apps?"},{"owner":{"account_id":2411637,"reputation":829,"user_id":2106576,"display_name":"Kishore"},"score":0,"creation_date":1430112188,"post_id":29887429,"comment_id":47899287,"body_markdown":"You can check out ActivityManager and lowmemorykiller code in the android framework. These actually do the job of killing and swapping out processes.","body":"You can check out ActivityManager and lowmemorykiller code in the android framework. These actually do the job of killing and swapping out processes."}],"answers":[{"comments":[{"owner":{"account_id":6182119,"reputation":111,"user_id":4817254,"display_name":"Mitte"},"score":1,"creation_date":1430111765,"post_id":29887666,"comment_id":47899114,"body_markdown":"Can I kill other apps in this way? Can you show more snippets? Thanks!","body":"Can I kill other apps in this way? Can you show more snippets? Thanks!"},{"owner":{"account_id":2411637,"reputation":829,"user_id":2106576,"display_name":"Kishore"},"score":0,"creation_date":1430111792,"post_id":29887666,"comment_id":47899126,"body_markdown":"This will kill your app, not other apps.","body":"This will kill your app, not other apps."},{"owner":{"account_id":5302514,"reputation":180,"user_id":4231594,"accept_rate":75,"display_name":"Mehrdad"},"score":0,"creation_date":1487973940,"post_id":29887666,"comment_id":72041958,"body_markdown":"from Android M , you cannot stop other app processes .it is completely up to Android os(unless you have root access).","body":"from Android M , you cannot stop other app processes .it is completely up to Android os(unless you have root access)."},{"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"score":0,"creation_date":1489775967,"post_id":29887666,"comment_id":72836072,"body_markdown":"Note that calling `#finish()` will have almost no effect if you call `System.exit(0)` one line after that call. So if you really want to force-exit, wait somewhere else for the `onDestroy()` callback (like.. listen for lifecycle events in the application class). But also note that all of these kill methods are very aggressive and the `Process` calls will both restart the service if you marked it as `STICKY` at service creation.","body":"Note that calling <code>#finish()</code> will have almost no effect if you call <code>System.exit(0)</code> one line after that call. So if you really want to force-exit, wait somewhere else for the <code>onDestroy()</code> callback (like.. listen for lifecycle events in the application class). But also note that all of these kill methods are very aggressive and the <code>Process</code> calls will both restart the service if you marked it as <code>STICKY</code> at service creation."},{"owner":{"account_id":1868398,"reputation":332,"user_id":1778316,"accept_rate":25,"display_name":"John Moore"},"score":0,"creation_date":1549058557,"post_id":29887666,"comment_id":95782026,"body_markdown":"As far as I can tell, if this takes place when there is more than one activity on the task stack, Android will restart the application, and bring up the next lower activity - even with all of these steps. In other words, it will, from a task stack standpoint, act as if you just did a finish() on the current activity.","body":"As far as I can tell, if this takes place when there is more than one activity on the task stack, Android will restart the application, and bring up the next lower activity - even with all of these steps. In other words, it will, from a task stack standpoint, act as if you just did a finish() on the current activity."}],"tags":[],"owner":{"account_id":2356082,"reputation":1913,"user_id":2063833,"accept_rate":50,"display_name":"Jeffy Lazar"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1554995968,"creation_date":1430111627,"answer_id":29887666,"question_id":29887429,"body_markdown":"get the process ID of your application, and kill that process onDestroy() method\r\n\r\n    @Override\r\n    public void onDestroy()\r\n     {\r\n        super.onDestroy();\r\n    \r\n        int id= android.os.Process.myPid();\r\n        android.os.Process.killProcess(id);\r\n     }\r\n\r\n\r\nor \r\n\r\n    getActivity().finish();\r\n    System.exit(0);\r\n\r\nand if you want to kill other apps from your activity, then this should work \r\n\r\nYou can send the signal using:\r\n\r\n    Process.sendSignal(pid, Process.SIGNAL_KILL);\r\n\r\nTo completely kill the process, it&#39;s recommended to call:\r\n\r\n    ActivityManager.killBackgroundProcesses(packageNameToKill)\r\n\r\nbefore sending the signal.\r\n\r\nPlease, note that your app needs to own the KILL_BACKGROUND_PROCESSES permission. Thus, in the AndroidManifest.xml, you need to include:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.KILL_BACKGROUND_PROCESSES&quot; /&gt;","title":"How can I programmatically force stop an Android app with Java?","body":"<p>get the process ID of your application, and kill that process onDestroy() method</p>\n\n<pre><code>@Override\npublic void onDestroy()\n {\n    super.onDestroy();\n\n    int id= android.os.Process.myPid();\n    android.os.Process.killProcess(id);\n }\n</code></pre>\n\n<p>or </p>\n\n<pre><code>getActivity().finish();\nSystem.exit(0);\n</code></pre>\n\n<p>and if you want to kill other apps from your activity, then this should work </p>\n\n<p>You can send the signal using:</p>\n\n<pre><code>Process.sendSignal(pid, Process.SIGNAL_KILL);\n</code></pre>\n\n<p>To completely kill the process, it's recommended to call:</p>\n\n<pre><code>ActivityManager.killBackgroundProcesses(packageNameToKill)\n</code></pre>\n\n<p>before sending the signal.</p>\n\n<p>Please, note that your app needs to own the KILL_BACKGROUND_PROCESSES permission. Thus, in the AndroidManifest.xml, you need to include:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=\"android.permission.KILL_BACKGROUND_PROCESSES\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5427636,"reputation":6065,"user_id":4319438,"accept_rate":100,"display_name":"Santosh Shinde"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430112248,"creation_date":1430111896,"answer_id":29887721,"question_id":29887429,"body_markdown":"Try to use following code \r\n\r\n\t\tfinish(); // for stopping Current Activity\r\n\r\n\t\t// add this line for Removing Force Close\r\n\r\n\t\t@Override\r\n\t\t\tprotected void onDestroy() {\r\n\t\t// closing Entire Application\r\n\t\t\t\tandroid.os.Process.killProcess(android.os.Process.myPid());\r\n\t\t\t\tsuper.onDestroy();\r\n\t\t\t}\r\n\t\t}\r\n\r\nMay be this solution will help you https://stackoverflow.com/questions/26186059/force-close-an-app-programmatically","title":"How can I programmatically force stop an Android app with Java?","body":"<p>Try to use following code </p>\n\n<pre><code>    finish(); // for stopping Current Activity\n\n    // add this line for Removing Force Close\n\n    @Override\n        protected void onDestroy() {\n    // closing Entire Application\n            android.os.Process.killProcess(android.os.Process.myPid());\n            super.onDestroy();\n        }\n    }\n</code></pre>\n\n<p>May be this solution will help you <a href=\"https://stackoverflow.com/questions/26186059/force-close-an-app-programmatically\">Force Close an app programmatically</a></p>\n"}],"owner":{"account_id":6182119,"reputation":111,"user_id":4817254,"display_name":"Mitte"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31015,"favorite_count":0,"down_vote_count":2,"up_vote_count":15,"accepted_answer_id":29887666,"answer_count":2,"score":13,"last_activity_date":1695082015,"creation_date":1430110263,"question_id":29887429,"body_markdown":"How can I force stop an app with Java? I&#39;m trying to build a memory cleaner that can help clean out background processes.\r\n\r\nI know there is a way to kill the process of an app, but when you go to the running list, the app is still there even after you have killed it. And I have tried a lot of similar memory cleaning apps, only one of them can totally force stop apps but it has so many useless notifications - very annoying.\r\n\r\nP.S.: When you go to Settings -&gt; Apps, you will see a list of apps. Click on one of these apps and you end up on the app&#39;s info. There is a button named _&quot;force stop&quot;_. By clicking on it, the app is killed. I want to perform that kind of action in my app. How can this be done?\r\n\r\n![force stop example][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/9MHDG.png","title":"How can I programmatically force stop an Android app with Java?","body":"<p>How can I force stop an app with Java? I'm trying to build a memory cleaner that can help clean out background processes.</p>\n\n<p>I know there is a way to kill the process of an app, but when you go to the running list, the app is still there even after you have killed it. And I have tried a lot of similar memory cleaning apps, only one of them can totally force stop apps but it has so many useless notifications - very annoying.</p>\n\n<p>P.S.: When you go to Settings -> Apps, you will see a list of apps. Click on one of these apps and you end up on the app's info. There is a button named <em>\"force stop\"</em>. By clicking on it, the app is killed. I want to perform that kind of action in my app. How can this be done?</p>\n\n<p><img src=\"https://i.stack.imgur.com/9MHDG.png\" alt=\"force stop example\"></p>\n"},{"tags":["javascript","java","reflection","jestjs","ts-jest"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1636108633,"post_id":69851891,"comment_id":123474430,"body_markdown":"You want javascript code that gets annotation information from java classes? I don&#39;t think thats possible.","body":"You want javascript code that gets annotation information from java classes? I don&#39;t think thats possible."},{"owner":{"account_id":22564587,"reputation":87,"user_id":16751788,"display_name":"johny"},"score":0,"creation_date":1636109205,"post_id":69851891,"comment_id":123474636,"body_markdown":"srry typescript","body":"srry typescript"}],"answers":[{"tags":[],"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636110278,"creation_date":1636110278,"answer_id":69852263,"question_id":69851891,"body_markdown":"Please take a look at Typescript&#39;s [Decorators][1] + [Reflect Metadata API][2], which can also be enabled for TS compiler. It doesn&#39;t work exactly as Java, but you still can collect required information about annotated entities. Small example of how to collect annotated classes:\r\n\r\n```\r\nconst myTypes: any[] = []\r\n\r\n@annotation\r\nclass MyClass {\r\n  type = &quot;report&quot;;\r\n  title: string;\r\n \r\n  constructor(t: string) {\r\n    this.title = t;\r\n  }\r\n}\r\n\r\nfunction annotation(constructor: Function) {\r\n    myTypes.push(constructor)\r\n}\r\n\r\nconsole.log(&#39;All annotated classes&#39;, myTypes);\r\n\r\n```\r\n\r\n\r\n  [1]: https://www.typescriptlang.org/docs/handbook/decorators.html\r\n  [2]: https://github.com/rbuckton/reflect-metadata","title":"How to use Reflection in typescript similarly like in java?","body":"<p>Please take a look at Typescript's <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"nofollow noreferrer\">Decorators</a> + <a href=\"https://github.com/rbuckton/reflect-metadata\" rel=\"nofollow noreferrer\">Reflect Metadata API</a>, which can also be enabled for TS compiler. It doesn't work exactly as Java, but you still can collect required information about annotated entities. Small example of how to collect annotated classes:</p>\n<pre><code>const myTypes: any[] = []\n\n@annotation\nclass MyClass {\n  type = &quot;report&quot;;\n  title: string;\n \n  constructor(t: string) {\n    this.title = t;\n  }\n}\n\nfunction annotation(constructor: Function) {\n    myTypes.push(constructor)\n}\n\nconsole.log('All annotated classes', myTypes);\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1821296,"reputation":559,"user_id":1655313,"display_name":"Pradip"},"score":0,"creation_date":1676902479,"post_id":71106480,"comment_id":133225461,"body_markdown":"Using reflection can I annotate my interface fields with a decorator? E.g. I have a field1 in my interface IMyInterface. And I want to add @ ApiProperty decorator in the field1 of the the IMyInterface (someting like @ ApiProperty field1: boolean).\nIs this possible using reflection?","body":"Using reflection can I annotate my interface fields with a decorator? E.g. I have a field1 in my interface IMyInterface. And I want to add @ ApiProperty decorator in the field1 of the the IMyInterface (someting like @ ApiProperty field1: boolean). Is this possible using reflection?"},{"owner":{"account_id":9619351,"reputation":184,"user_id":7141090,"display_name":"Hookyns"},"score":1,"creation_date":1676902821,"post_id":71106480,"comment_id":133225565,"body_markdown":"@Pradip No, you cannot decorate anything inside interface. It&#39;s not allowed by TypeScript. Interfaces do not exist at runtime so you have nothing to decorate.\n\nYou have to use eg. abstract class.","body":"@Pradip No, you cannot decorate anything inside interface. It&#39;s not allowed by TypeScript. Interfaces do not exist at runtime so you have nothing to decorate.  You have to use eg. abstract class."},{"owner":{"account_id":1821296,"reputation":559,"user_id":1655313,"display_name":"Pradip"},"score":0,"creation_date":1676904009,"post_id":71106480,"comment_id":133225990,"body_markdown":"Fair enough. Suppose I implements the interface as a class (class MyClass implements IMyInterface). after that can I able to add @ ApiProperty decorators to each properties of the MyClass?","body":"Fair enough. Suppose I implements the interface as a class (class MyClass implements IMyInterface). after that can I able to add @ ApiProperty decorators to each properties of the MyClass?"},{"owner":{"account_id":9619351,"reputation":184,"user_id":7141090,"display_name":"Hookyns"},"score":0,"creation_date":1676904319,"post_id":71106480,"comment_id":133226088,"body_markdown":"Yes.\n\n```typescript\nfunction ApiProperty(targetPrototype: Object, propertyKey: string | symbol) { /* Do something,.. or not.. */ }\n\nclass MyClass implements IMyInterface {\n    @ApiProperty\n    myprop: string;\n}\n```\n\nYou have to enable decorators in tsconfig.json file.","body":"Yes.  <code>typescript function ApiProperty(targetPrototype: Object, propertyKey: string | symbol) { &#47;* Do something,.. or not.. *&#47; }  class MyClass implements IMyInterface {     @ApiProperty     myprop: string; } </code>  You have to enable decorators in tsconfig.json file."},{"owner":{"account_id":1821296,"reputation":559,"user_id":1655313,"display_name":"Pradip"},"score":0,"creation_date":1676904537,"post_id":71106480,"comment_id":133226164,"body_markdown":"Thanks. My question was:\nCan I add this @ ApiPropery decorator in each fields of  MyClass using Typescript reflect. MyClass implements the IMyInterface.","body":"Thanks. My question was: Can I add this @ ApiPropery decorator in each fields of  MyClass using Typescript reflect. MyClass implements the IMyInterface."},{"owner":{"account_id":9619351,"reputation":184,"user_id":7141090,"display_name":"Hookyns"},"score":0,"creation_date":1676986434,"post_id":71106480,"comment_id":133244201,"body_markdown":"You mean dynamically?\n\nDecorator is just a function so you can call it manually. `getType&lt;MyClass&gt;().getProperties().forEach(prop =&gt; ApiProperty(MyClass.prototype, prop.name))`\n\nBut you may need to setup [reflect-metadata](https://www.npmjs.com/package/reflect-metadata), it depends what are you trying to do and where is the decorator from.","body":"You mean dynamically?  Decorator is just a function so you can call it manually. <code>getType&lt;MyClass&gt;().getProperties().forEach(prop =&gt; ApiProperty(MyClass.prototype, prop.name))</code>  But you may need to setup <a href=\"https://www.npmjs.com/package/reflect-metadata\" rel=\"nofollow noreferrer\">reflect-metadata</a>, it depends what are you trying to do and where is the decorator from."}],"tags":[],"owner":{"account_id":9619351,"reputation":184,"user_id":7141090,"display_name":"Hookyns"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695080467,"creation_date":1644804541,"answer_id":71106480,"question_id":69851891,"body_markdown":"Try my library [tst-reflect](https://github.com/Hookyns/ts-reflection).\r\nIt is pretty advanced Reflection system for TypeScript (*using custom typescript transformer plugin*).\r\n\r\nThis should be equivalent of your Java code:\r\n\r\n```typescript\r\nimport {\r\n\treflect,\r\n\tType\r\n} from &quot;tst-reflect&quot;;\r\n\r\n// Some decorator...\r\nfunction test(_, __)\r\n{\r\n}\r\n\r\n@reflect()\r\nclass A\r\n{\r\n\t@test\r\n\tfoo()\r\n\t{\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tbar()\r\n\t{\r\n\t\treturn &quot;lorem ipsum&quot;;\r\n\t}\r\n}\r\n\r\n@reflect()\r\nclass B\r\n{\r\n\t@test\r\n\tbar()\r\n\t{\r\n\t\treturn &quot;lorem ipsum&quot;;\r\n\t}\r\n}\r\n\r\n@reflect()\r\nclass C\r\n{\r\n\tbaz()\r\n\t{\r\n\t\treturn &quot;lorem ipsum&quot;;\r\n\t}\r\n}\r\n\r\nconst decoratedMethods = Type.getTypes()\r\n\t.flatMap(type =&gt; type.getMethods().map(method =&gt; ({ method, type })))\r\n\t.filter(entry =&gt; entry.method.getDecorators().some(decorator =&gt; decorator.name == &quot;test&quot;));\r\n\r\nfor (let entry of decoratedMethods)\r\n{\r\n\tconsole.log(entry.method.name, &quot;in&quot;, entry.type.name);\r\n}\r\n```\r\n\r\n**Output**\r\n```\r\nfoo in A\r\nbar in B\r\n```\r\nCheck [Synopsis](https://github.com/Hookyns/ts-reflection#synopsis).\r\nYou are able to create instances of those types (even they are from different files) and call those methods. \r\nAlso those decorators can have arguments so you will be able to filter methods with same decorators but different arguments.\r\n\r\n`tst-reflect` is still in development so the global look ups of types require those `@reflect` decorators or custom decorators with `@reflect` JSDoc tag; reason is size optimization of the generated metadata. But there is an [issue](https://github.com/Hookyns/ts-reflection/issues/29) to extend configuration by &quot;include&quot; glob patterns which will include all types from all the modules matched by that globs.\r\n\r\nPS: Check out [configuration wiki](https://github.com/Hookyns/ts-reflection/wiki/Configuration) and use this configuration:\r\n\r\n&gt; tsconfig.json\r\n```json5\r\n{\r\n    &quot;compilerOptions&quot;: {\r\n        // your options...\r\n\r\n        // ADD THIS!\r\n        &quot;plugins&quot;: [\r\n            {\r\n                &quot;transform&quot;: &quot;tst-reflect-transformer&quot;\r\n            }\r\n        ]\r\n    },\r\n\t// ADD THIS!\r\n\t&quot;reflection&quot;: {\r\n\t\t&quot;metadata&quot;: {\r\n\t\t\t&quot;type&quot;: &quot;typelib&quot; // this mode will generate and auto-import library with generated reflection metadata\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to use Reflection in typescript similarly like in java?","body":"<p>Try my library <a href=\"https://github.com/Hookyns/ts-reflection\" rel=\"nofollow noreferrer\">tst-reflect</a>.\nIt is pretty advanced Reflection system for TypeScript (<em>using custom typescript transformer plugin</em>).</p>\n<p>This should be equivalent of your Java code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import {\n    reflect,\n    Type\n} from &quot;tst-reflect&quot;;\n\n// Some decorator...\nfunction test(_, __)\n{\n}\n\n@reflect()\nclass A\n{\n    @test\n    foo()\n    {\n        return 0;\n    }\n\n    bar()\n    {\n        return &quot;lorem ipsum&quot;;\n    }\n}\n\n@reflect()\nclass B\n{\n    @test\n    bar()\n    {\n        return &quot;lorem ipsum&quot;;\n    }\n}\n\n@reflect()\nclass C\n{\n    baz()\n    {\n        return &quot;lorem ipsum&quot;;\n    }\n}\n\nconst decoratedMethods = Type.getTypes()\n    .flatMap(type =&gt; type.getMethods().map(method =&gt; ({ method, type })))\n    .filter(entry =&gt; entry.method.getDecorators().some(decorator =&gt; decorator.name == &quot;test&quot;));\n\nfor (let entry of decoratedMethods)\n{\n    console.log(entry.method.name, &quot;in&quot;, entry.type.name);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>foo in A\nbar in B\n</code></pre>\n<p>Check <a href=\"https://github.com/Hookyns/ts-reflection#synopsis\" rel=\"nofollow noreferrer\">Synopsis</a>.\nYou are able to create instances of those types (even they are from different files) and call those methods.\nAlso those decorators can have arguments so you will be able to filter methods with same decorators but different arguments.</p>\n<p><code>tst-reflect</code> is still in development so the global look ups of types require those <code>@reflect</code> decorators or custom decorators with <code>@reflect</code> JSDoc tag; reason is size optimization of the generated metadata. But there is an <a href=\"https://github.com/Hookyns/ts-reflection/issues/29\" rel=\"nofollow noreferrer\">issue</a> to extend configuration by &quot;include&quot; glob patterns which will include all types from all the modules matched by that globs.</p>\n<p>PS: Check out <a href=\"https://github.com/Hookyns/ts-reflection/wiki/Configuration\" rel=\"nofollow noreferrer\">configuration wiki</a> and use this configuration:</p>\n<blockquote>\n<p>tsconfig.json</p>\n</blockquote>\n<pre><code>{\n    &quot;compilerOptions&quot;: {\n        // your options...\n\n        // ADD THIS!\n        &quot;plugins&quot;: [\n            {\n                &quot;transform&quot;: &quot;tst-reflect-transformer&quot;\n            }\n        ]\n    },\n    // ADD THIS!\n    &quot;reflection&quot;: {\n        &quot;metadata&quot;: {\n            &quot;type&quot;: &quot;typelib&quot; // this mode will generate and auto-import library with generated reflection metadata\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22564587,"reputation":87,"user_id":16751788,"display_name":"johny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10908,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1695080467,"creation_date":1636108426,"question_id":69851891,"body_markdown":"I&#39;m using reflection in Java to obtain some information from the TestNG annotation like in the code snippet below:\r\n```java\r\nReflections reflections = new Reflections(&quot;&quot;, new MethodAnnotationsScanner())\r\nSet&lt;Method&gt; annotated = reflections.getMethodsAnnotatedWith(Test.class)\r\n```\r\nCurrently, I have a jest framework with a jest-decorated plugin to help in using annotations.\r\n\r\nHow I can replicate the same reflection method in Java but in typescript to collect this information from the annotations?","title":"How to use Reflection in typescript similarly like in java?","body":"<p>I'm using reflection in Java to obtain some information from the TestNG annotation like in the code snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Reflections reflections = new Reflections(&quot;&quot;, new MethodAnnotationsScanner())\nSet&lt;Method&gt; annotated = reflections.getMethodsAnnotatedWith(Test.class)\n</code></pre>\n<p>Currently, I have a jest framework with a jest-decorated plugin to help in using annotations.</p>\n<p>How I can replicate the same reflection method in Java but in typescript to collect this information from the annotations?</p>\n"},{"tags":["java","memory","neo4j","size"],"answers":[{"tags":[],"owner":{"account_id":947871,"reputation":64287,"user_id":974731,"display_name":"cybersam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695079707,"creation_date":1695079707,"answer_id":77130892,"question_id":77130551,"body_markdown":"You can use batching to reduce the memory requirements of individual transaction(s).\r\n\r\nYou can do batching with a [CALL subquery](https://neo4j.com/docs/cypher-manual/current/clauses/call-subquery/#_batching) or APOC [procedures for batch transactions](https://neo4j.com/docs/apoc/current/graph-updates/periodic-execution/#periodic-execution-proc-overview).","title":"How to fix org.neo4j.internal.unsafe.NativeMemoryAllocationRefusedError?","body":"<p>You can use batching to reduce the memory requirements of individual transaction(s).</p>\n<p>You can do batching with a <a href=\"https://neo4j.com/docs/cypher-manual/current/clauses/call-subquery/#_batching\" rel=\"nofollow noreferrer\">CALL subquery</a> or APOC <a href=\"https://neo4j.com/docs/apoc/current/graph-updates/periodic-execution/#periodic-execution-proc-overview\" rel=\"nofollow noreferrer\">procedures for batch transactions</a>.</p>\n"}],"owner":{"account_id":29477101,"reputation":1,"user_id":22588637,"display_name":"imtoodumbforthisworld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695079707,"creation_date":1695073372,"question_id":77130551,"body_markdown":"would be happy for any help regarding the following Problem. \r\nI need to create a neo4j Graph out of words of documents. It always worked fine for 1000 Documents, but for 3000 Documents i get this memory error. I already uincreased the heap size with -Xmx4096m, but that didnt solve the problem. I would be thankfull for any answers to this problem.\r\n```\r\nException in thread &quot;main&quot; org.neo4j.internal.unsafe.NativeMemoryAllocationRefusedError: Failed to allocate 524288 bytes. So far 36235008 bytes have already been successfully allocated. The system currently has 16930299904 bytes total physical memory, 57805078528 bytes committed virtual memory, and 570298368 bytes free physical memory. Relevant system properties: &quot;java.vm.name&quot; = &quot;OpenJDK 64-Bit Server VM&quot;, &quot;java.vm.vendor&quot; = &quot;OpenLogic&quot;, &quot;os.arch&quot; = &quot;amd64&quot;.\r\n\tat org.neo4j.internal.unsafe.UnsafeUtil.allocateMemory(UnsafeUtil.java:444)\r\n\tat org.neo4j.io.mem.GrabAllocator$Grab.&lt;init&gt;(GrabAllocator.java:90)\r\n\tat org.neo4j.io.mem.GrabAllocator$Grabs.allocateAligned(GrabAllocator.java:244)\r\n\tat org.neo4j.io.mem.GrabAllocator.allocateAligned(GrabAllocator.java:70)\r\n\tat org.neo4j.io.pagecache.impl.muninn.PageList.initBuffer(PageList.java:299)\r\n\tat org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.pageFault(MuninnPageCursor.java:419)\r\n\tat org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.uncommonPin(MuninnPageCursor.java:369)\r\n\tat org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.pin(MuninnPageCursor.java:337)\r\n\tat org.neo4j.io.pagecache.impl.muninn.MuninnReadPageCursor.next(MuninnReadPageCursor.java:63)\r\n\tat org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.next(MuninnPageCursor.java:160)\r\n\tat org.neo4j.kernel.impl.store.CommonAbstractStore.readIntoRecord(CommonAbstractStore.java:885)\r\n\tat org.neo4j.kernel.impl.store.CommonAbstractStore.getRecordByCursor(CommonAbstractStore.java:869)\r\n\tat org.neo4j.internal.recordstorage.RecordPropertyCursor.property(RecordPropertyCursor.java:439)\r\n\tat org.neo4j.internal.recordstorage.RecordPropertyCursor.next(RecordPropertyCursor.java:160)\r\n\tat org.neo4j.kernel.impl.newapi.DefaultPropertyCursor.next(DefaultPropertyCursor.java:163)\r\n\tat org.neo4j.kernel.impl.newapi.DefaultPropertyCursor.seekProperty(DefaultPropertyCursor.java:235)\r\n\tat org.neo4j.kernel.impl.core.NodeEntity.getProperty(NodeEntity.java:439)\r\n\tat core.Cooccs.addSentenceToCooccsDB(Cooccs.java:661)\r\n\tat core.Cooccs.&lt;init&gt;(Cooccs.java:577)\r\n\tat core.TextProcessing.createDB(TextProcessing.java:386)\r\n\tat core.TextProcessing.main(TextProcessing.java:1085)\r\n\r\n```\r\n","title":"How to fix org.neo4j.internal.unsafe.NativeMemoryAllocationRefusedError?","body":"<p>would be happy for any help regarding the following Problem.\nI need to create a neo4j Graph out of words of documents. It always worked fine for 1000 Documents, but for 3000 Documents i get this memory error. I already uincreased the heap size with -Xmx4096m, but that didnt solve the problem. I would be thankfull for any answers to this problem.</p>\n<pre><code>Exception in thread &quot;main&quot; org.neo4j.internal.unsafe.NativeMemoryAllocationRefusedError: Failed to allocate 524288 bytes. So far 36235008 bytes have already been successfully allocated. The system currently has 16930299904 bytes total physical memory, 57805078528 bytes committed virtual memory, and 570298368 bytes free physical memory. Relevant system properties: &quot;java.vm.name&quot; = &quot;OpenJDK 64-Bit Server VM&quot;, &quot;java.vm.vendor&quot; = &quot;OpenLogic&quot;, &quot;os.arch&quot; = &quot;amd64&quot;.\n    at org.neo4j.internal.unsafe.UnsafeUtil.allocateMemory(UnsafeUtil.java:444)\n    at org.neo4j.io.mem.GrabAllocator$Grab.&lt;init&gt;(GrabAllocator.java:90)\n    at org.neo4j.io.mem.GrabAllocator$Grabs.allocateAligned(GrabAllocator.java:244)\n    at org.neo4j.io.mem.GrabAllocator.allocateAligned(GrabAllocator.java:70)\n    at org.neo4j.io.pagecache.impl.muninn.PageList.initBuffer(PageList.java:299)\n    at org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.pageFault(MuninnPageCursor.java:419)\n    at org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.uncommonPin(MuninnPageCursor.java:369)\n    at org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.pin(MuninnPageCursor.java:337)\n    at org.neo4j.io.pagecache.impl.muninn.MuninnReadPageCursor.next(MuninnReadPageCursor.java:63)\n    at org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.next(MuninnPageCursor.java:160)\n    at org.neo4j.kernel.impl.store.CommonAbstractStore.readIntoRecord(CommonAbstractStore.java:885)\n    at org.neo4j.kernel.impl.store.CommonAbstractStore.getRecordByCursor(CommonAbstractStore.java:869)\n    at org.neo4j.internal.recordstorage.RecordPropertyCursor.property(RecordPropertyCursor.java:439)\n    at org.neo4j.internal.recordstorage.RecordPropertyCursor.next(RecordPropertyCursor.java:160)\n    at org.neo4j.kernel.impl.newapi.DefaultPropertyCursor.next(DefaultPropertyCursor.java:163)\n    at org.neo4j.kernel.impl.newapi.DefaultPropertyCursor.seekProperty(DefaultPropertyCursor.java:235)\n    at org.neo4j.kernel.impl.core.NodeEntity.getProperty(NodeEntity.java:439)\n    at core.Cooccs.addSentenceToCooccsDB(Cooccs.java:661)\n    at core.Cooccs.&lt;init&gt;(Cooccs.java:577)\n    at core.TextProcessing.createDB(TextProcessing.java:386)\n    at core.TextProcessing.main(TextProcessing.java:1085)\n\n</code></pre>\n"},{"tags":["java","android","drag-and-drop","android-animation"],"owner":{"account_id":29477354,"reputation":1,"user_id":22588817,"display_name":"mohammad alatawna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695079630,"creation_date":1695079534,"question_id":77130883,"body_markdown":"i have a constraint layout with flow to make a multi line chain of unknow number of different size textviews , my current goal is to implement a drag and drop funtionality to this layout which will make it possible for the user to play with the order of the elements of the flow by dragging them around (such functionality can be found in the implementation of drag and drop of recyclervire class)\r\n\r\nthe problem : after dragging the shadow around my code is changing the position of the original textview (which the shadow represent) and everything works fine , however when the user drops the shadow , the shadow animates to the original position of the textview which no longer is there (it transfered visualy to anither position) , i want the shadow to just disappear when its dropped instead of animated back to its original position .\r\n\r\nhere is my java code :\r\n\r\n```\r\n    public void onImageClick(View view){\r\n        draggedTextView = null ; //this variable is global and used to store the current dragged textview\r\n        ArrayList&lt;TextView&gt; textViews = new ArrayList&lt;&gt;() ;\r\n\r\n        //the dialog is used to open a new layout upon the mainLayout and its the problem accrues here \r\n        Dialog dialog = new Dialog(this) ;\r\n        dialog.getWindow().setBackgroundDrawableResource(R.color.transparent);\r\n        dialog.setContentView(R.layout.menu_for_collaping_tool_bar);\r\n        dialog.setCanceledOnTouchOutside(false);\r\n        Button btn = dialog.findViewById(R.id.appCompatButton) ;\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n\r\n        //the layout which contains the flow\r\n        ConstraintLayout interestsLayout = dialog.findViewById(R.id.constraintLayout2) ;\r\n        Flow interestsLayoutFlow = dialog.findViewById(R.id.flow) ;\r\n\r\n        //this two variables and the first for loop is for creating the default state of the flow\r\n        //in addition to adding the data to the flow represented with textViews\r\n        int lastRandom = -1 ;\r\n        int currRandom = -1 ;\r\n        for(int i = 0 ; i &lt; interestsArray.size() ; i ++){\r\n            TextView textView = new TextView(this) ;\r\n            textView.setId(View.generateViewId());\r\n            textView.setText(interestsArray.get(i));\r\n            textView.setGravity(View.TEXT_ALIGNMENT_CENTER);\r\n            textView.setPadding(20,20,20,20);\r\n            textView.setLayoutParams(new ConstraintLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT , ViewGroup.LayoutParams.WRAP_CONTENT));\r\n            do{\r\n                lastRandom = currRandom ;\r\n                currRandom = (int)(Math.random()*5) + 1 ;\r\n            }while (lastRandom == currRandom) ;\r\n            assignBorder(textView , currRandom);\r\n\r\n            interestsLayout.addView(textView);\r\n            interestsLayoutFlow.addView(textView);\r\n\r\n            textViews.add(textView) ;\r\n\r\n            //i have no idea what the hell is that\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                textView.updateDragShadow(new View.DragShadowBuilder(textView));\r\n            }\r\n        }\r\n        \r\n        //this for loop is where the listeners and the drag and drop functionality is being defined\r\n        for (TextView textView : textViews) {\r\n            textView.setOnLongClickListener(new View.OnLongClickListener() {\r\n                @Override\r\n                public boolean onLongClick(View view) {\r\n                    System.out.println(textView);\r\n                    String str = textView.getId() + &quot;&quot;;\r\n                    ClipData.Item item = new ClipData.Item((CharSequence) str);\r\n                    ClipData dragData = new ClipData(&quot;data&quot;,\r\n                            new String[]{ClipDescription.MIMETYPE_TEXT_PLAIN}, item);\r\n                    View.DragShadowBuilder dragShadowBuilder = new View.DragShadowBuilder(textView);\r\n                    int[] arr = interestsLayoutFlow.getReferencedIds() ;\r\n                    textView.setVisibility(View.INVISIBLE);\r\n                    textView.setEnabled(false);\r\n\r\n                    interestsLayoutFlow.setReferencedIds(arr);\r\n                    interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\r\n                    draggedTextView = textView ;\r\n\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                        // (1) The data to be dragged.\r\n                        // (2) The drag shadow builder.\r\n                        // (3) No need to use local data.\r\n                        // (4) Flags. Not currently used, set to 0.\r\n                        textView.startDragAndDrop(dragData, dragShadowBuilder, null, 0);\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n            textView.setOnDragListener(new View.OnDragListener() {\r\n                @Override\r\n                public boolean onDrag(View view, DragEvent dragEvent) {\r\n                    switch (dragEvent.getAction()) {\r\n                        case DragEvent.ACTION_DRAG_STARTED:\r\n                            if (dragEvent.getClipDescription().hasMimeType(ClipDescription.MIMETYPE_TEXT_PLAIN)) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        case DragEvent.ACTION_DRAG_ENTERED:\r\n                            int[] arr1 = interestsLayoutFlow.getReferencedIds();\r\n                            int textIndex = -1 ;\r\n                            int viewIndex = -1 ;\r\n                            for (int i = 0; i &lt; arr1.length; i++) {\r\n                                if(arr1[i] == view.getId())\r\n                                    viewIndex = i ;\r\n                                if (arr1[i] == draggedTextView.getId())\r\n                                    textIndex = i ;\r\n                            }\r\n                            int tmp = arr1[viewIndex] ;\r\n                            arr1[viewIndex] = arr1[textIndex] ;\r\n                            arr1[textIndex] = tmp ;\r\n\r\n                            interestsLayoutFlow.setReferencedIds(arr1);\r\n                            interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\r\n                            return true;\r\n\r\n                        case DragEvent.ACTION_DRAG_LOCATION:\r\n                            return true;\r\n\r\n                        case DragEvent.ACTION_DRAG_EXITED:\r\n                            return true;\r\n\r\n                        case DragEvent.ACTION_DROP:\r\n                            return true;\r\n\r\n                        case DragEvent.ACTION_DRAG_ENDED:\r\n                            //TODO: if the shadow wasn&#39;t dropped at any view then make it go back to its starting position\r\n                            int[] arr3 = interestsLayoutFlow.getReferencedIds();\r\n                            draggedTextView.setVisibility(View.VISIBLE);\r\n                            draggedTextView.setEnabled(true);\r\n\r\n                            interestsLayoutFlow.setReferencedIds(arr3);\r\n                            interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\r\n                            return true;\r\n\r\n                        default:\r\n                            throw new IllegalArgumentException(&quot;hello&quot;);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        dialog.show();\r\n    }\r\n```\r\n\r\n\r\nand this is the xml code :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;400dp&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_marginBottom=&quot;50dp&quot;\r\n    android:layout_marginTop=&quot;50dp&quot;&gt;\r\n    &lt;!--    TODO:remove the 400dp and make it a match constraint somehow--&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:cardBackgroundColor=&quot;#ff666666&quot;\r\n        app:cardCornerRadius=&quot;50dp&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fillViewport=&quot;true&quot;&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/constraintLayout8&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatButton\r\n                        android:id=&quot;@+id/appCompatButton&quot;\r\n                        android:layout_width=&quot;30dp&quot;\r\n                        android:layout_height=&quot;30dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:layout_marginRight=&quot;20dp&quot;\r\n                        android:layout_marginBottom=&quot;10dp&quot;\r\n                        android:background=&quot;@drawable/black_close_icon&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:layout_width=&quot;100dp&quot;\r\n                        android:layout_height=&quot;30dp&quot;\r\n                        android:background=&quot;@drawable/img&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n                &lt;androidx.cardview.widget.CardView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;1000dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:layout_marginBottom=&quot;20dp&quot;\r\n                    app:cardBackgroundColor=&quot;@color/white&quot;\r\n                    app:cardCornerRadius=&quot;50dp&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout8&quot;\r\n                    app:layout_constraintWidth=&quot;match_constraint&quot;&gt;\r\n\r\n                    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                            android:id=&quot;@+id/first_layout&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:padding=&quot;10dp&quot;\r\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                            &lt;com.google.android.material.imageview.ShapeableImageView\r\n                                android:id=&quot;@+id/image&quot;\r\n                                android:layout_width=&quot;75dp&quot;\r\n                                android:layout_height=&quot;75dp&quot;\r\n                                android:src=&quot;@drawable/img_1&quot;\r\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/nameTV&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:textSize=&quot;18dp&quot;\r\n                                android:textColor=&quot;@color/black&quot;\r\n                                android:text=&quot;mohammad alatawna&quot;\r\n                                android:layout_marginLeft=&quot;10dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                app:layout_constraintLeft_toRightOf=&quot;@id/image&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/textView5&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:text=&quot;mohammadalatawna111@gmail.com&quot;\r\n                                android:textSize=&quot;13dp&quot;\r\n                                app:layout_constraintLeft_toLeftOf=&quot;@+id/nameTV&quot;\r\n                                app:layout_constraintTop_toBottomOf=&quot;@id/nameTV&quot; /&gt;\r\n\r\n                            &lt;ImageButton\r\n                                android:layout_width=&quot;40dp&quot;\r\n                                android:layout_height=&quot;40dp&quot;\r\n                                android:layout_marginLeft=&quot;10dp&quot;\r\n                                android:background=&quot;@color/transparent&quot;\r\n                                android:src=&quot;@drawable/ic_baseline_arrow_circle_down_24&quot;\r\n                                app:layout_constraintBottom_toBottomOf=&quot;@+id/image&quot;\r\n                                app:layout_constraintLeft_toRightOf=&quot;@+id/textView5&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;@+id/image&quot; /&gt;\r\n\r\n\r\n                            &lt;androidx.appcompat.widget.AppCompatButton\r\n                                android:layout_width=&quot;150dp&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;button&quot;\r\n                                android:textColor=&quot;@color/black&quot;\r\n                                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                                app:layout_constraintTop_toBottomOf=&quot;@id/image&quot;/&gt;\r\n\r\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n                        &lt;View\r\n                            android:id=&quot;@+id/line1&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;3dp&quot;\r\n                            android:background=&quot;#66000000&quot;\r\n                            app:layout_constraintTop_toBottomOf=&quot;@+id/first_layout&quot;/&gt;\r\n\r\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                            android:id=&quot;@+id/constraintLayout2&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            app:layout_constraintTop_toBottomOf=&quot;@id/line1&quot;\r\n                            android:padding=&quot;10dp&quot;\r\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;&gt;\r\n\r\n                            &lt;androidx.constraintlayout.helper.widget.Flow\r\n                                android:id=&quot;@+id/flow&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                app:layout_constraintWidth=&quot;match_constraint&quot;\r\n                                app:flow_horizontalGap=&quot;5dp&quot;\r\n                                app:flow_horizontalStyle=&quot;packed&quot;\r\n                                app:flow_horizontalBias=&quot;1&quot;\r\n                                app:flow_verticalGap=&quot;10dp&quot;\r\n                                app:flow_wrapMode=&quot;chain&quot;\r\n                                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n                        &lt;androidx.appcompat.widget.AppCompatButton\r\n                            android:id=&quot;@+id/editInterestsButton&quot;\r\n                            android:layout_width=&quot;200dp&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;edit interests&quot;\r\n                            android:background=&quot;@drawable/rounded_rectangle&quot;\r\n                            android:backgroundTint=&quot;@color/teal_200&quot;\r\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                            app:layout_constraintTop_toBottomOf=&quot;@id/constraintLayout2&quot;/&gt;\r\n                        &lt;View\r\n                            android:id=&quot;@+id/line2&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;3dp&quot;\r\n                            android:layout_marginTop=&quot;20dp&quot;\r\n                            android:background=&quot;#66000000&quot;\r\n                            app:layout_constraintTop_toBottomOf=&quot;@+id/editInterestsButton&quot;/&gt;\r\n                    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n                &lt;/androidx.cardview.widget.CardView&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;/ScrollView&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"drag and drop : forcing a dragged shadow to not go back to the initial position","body":"<p>i have a constraint layout with flow to make a multi line chain of unknow number of different size textviews , my current goal is to implement a drag and drop funtionality to this layout which will make it possible for the user to play with the order of the elements of the flow by dragging them around (such functionality can be found in the implementation of drag and drop of recyclervire class)</p>\n<p>the problem : after dragging the shadow around my code is changing the position of the original textview (which the shadow represent) and everything works fine , however when the user drops the shadow , the shadow animates to the original position of the textview which no longer is there (it transfered visualy to anither position) , i want the shadow to just disappear when its dropped instead of animated back to its original position .</p>\n<p>here is my java code :</p>\n<pre><code>    public void onImageClick(View view){\n        draggedTextView = null ; //this variable is global and used to store the current dragged textview\n        ArrayList&lt;TextView&gt; textViews = new ArrayList&lt;&gt;() ;\n\n        //the dialog is used to open a new layout upon the mainLayout and its the problem accrues here \n        Dialog dialog = new Dialog(this) ;\n        dialog.getWindow().setBackgroundDrawableResource(R.color.transparent);\n        dialog.setContentView(R.layout.menu_for_collaping_tool_bar);\n        dialog.setCanceledOnTouchOutside(false);\n        Button btn = dialog.findViewById(R.id.appCompatButton) ;\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                dialog.dismiss();\n            }\n        });\n\n        //the layout which contains the flow\n        ConstraintLayout interestsLayout = dialog.findViewById(R.id.constraintLayout2) ;\n        Flow interestsLayoutFlow = dialog.findViewById(R.id.flow) ;\n\n        //this two variables and the first for loop is for creating the default state of the flow\n        //in addition to adding the data to the flow represented with textViews\n        int lastRandom = -1 ;\n        int currRandom = -1 ;\n        for(int i = 0 ; i &lt; interestsArray.size() ; i ++){\n            TextView textView = new TextView(this) ;\n            textView.setId(View.generateViewId());\n            textView.setText(interestsArray.get(i));\n            textView.setGravity(View.TEXT_ALIGNMENT_CENTER);\n            textView.setPadding(20,20,20,20);\n            textView.setLayoutParams(new ConstraintLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT , ViewGroup.LayoutParams.WRAP_CONTENT));\n            do{\n                lastRandom = currRandom ;\n                currRandom = (int)(Math.random()*5) + 1 ;\n            }while (lastRandom == currRandom) ;\n            assignBorder(textView , currRandom);\n\n            interestsLayout.addView(textView);\n            interestsLayoutFlow.addView(textView);\n\n            textViews.add(textView) ;\n\n            //i have no idea what the hell is that\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                textView.updateDragShadow(new View.DragShadowBuilder(textView));\n            }\n        }\n        \n        //this for loop is where the listeners and the drag and drop functionality is being defined\n        for (TextView textView : textViews) {\n            textView.setOnLongClickListener(new View.OnLongClickListener() {\n                @Override\n                public boolean onLongClick(View view) {\n                    System.out.println(textView);\n                    String str = textView.getId() + &quot;&quot;;\n                    ClipData.Item item = new ClipData.Item((CharSequence) str);\n                    ClipData dragData = new ClipData(&quot;data&quot;,\n                            new String[]{ClipDescription.MIMETYPE_TEXT_PLAIN}, item);\n                    View.DragShadowBuilder dragShadowBuilder = new View.DragShadowBuilder(textView);\n                    int[] arr = interestsLayoutFlow.getReferencedIds() ;\n                    textView.setVisibility(View.INVISIBLE);\n                    textView.setEnabled(false);\n\n                    interestsLayoutFlow.setReferencedIds(arr);\n                    interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\n                    draggedTextView = textView ;\n\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                        // (1) The data to be dragged.\n                        // (2) The drag shadow builder.\n                        // (3) No need to use local data.\n                        // (4) Flags. Not currently used, set to 0.\n                        textView.startDragAndDrop(dragData, dragShadowBuilder, null, 0);\n                        return true;\n                    }\n                    return false;\n                }\n            });\n            textView.setOnDragListener(new View.OnDragListener() {\n                @Override\n                public boolean onDrag(View view, DragEvent dragEvent) {\n                    switch (dragEvent.getAction()) {\n                        case DragEvent.ACTION_DRAG_STARTED:\n                            if (dragEvent.getClipDescription().hasMimeType(ClipDescription.MIMETYPE_TEXT_PLAIN)) {\n                                return true;\n                            }\n                            return false;\n                        case DragEvent.ACTION_DRAG_ENTERED:\n                            int[] arr1 = interestsLayoutFlow.getReferencedIds();\n                            int textIndex = -1 ;\n                            int viewIndex = -1 ;\n                            for (int i = 0; i &lt; arr1.length; i++) {\n                                if(arr1[i] == view.getId())\n                                    viewIndex = i ;\n                                if (arr1[i] == draggedTextView.getId())\n                                    textIndex = i ;\n                            }\n                            int tmp = arr1[viewIndex] ;\n                            arr1[viewIndex] = arr1[textIndex] ;\n                            arr1[textIndex] = tmp ;\n\n                            interestsLayoutFlow.setReferencedIds(arr1);\n                            interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\n                            return true;\n\n                        case DragEvent.ACTION_DRAG_LOCATION:\n                            return true;\n\n                        case DragEvent.ACTION_DRAG_EXITED:\n                            return true;\n\n                        case DragEvent.ACTION_DROP:\n                            return true;\n\n                        case DragEvent.ACTION_DRAG_ENDED:\n                            //TODO: if the shadow wasn't dropped at any view then make it go back to its starting position\n                            int[] arr3 = interestsLayoutFlow.getReferencedIds();\n                            draggedTextView.setVisibility(View.VISIBLE);\n                            draggedTextView.setEnabled(true);\n\n                            interestsLayoutFlow.setReferencedIds(arr3);\n                            interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\n                            return true;\n\n                        default:\n                            throw new IllegalArgumentException(&quot;hello&quot;);\n                    }\n                }\n            });\n        }\n\n        dialog.show();\n    }\n</code></pre>\n<p>and this is the xml code :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;400dp&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_marginBottom=&quot;50dp&quot;\n    android:layout_marginTop=&quot;50dp&quot;&gt;\n    &lt;!--    TODO:remove the 400dp and make it a match constraint somehow--&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:cardBackgroundColor=&quot;#ff666666&quot;\n        app:cardCornerRadius=&quot;50dp&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;ScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fillViewport=&quot;true&quot;&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:id=&quot;@+id/constraintLayout8&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatButton\n                        android:id=&quot;@+id/appCompatButton&quot;\n                        android:layout_width=&quot;30dp&quot;\n                        android:layout_height=&quot;30dp&quot;\n                        android:layout_marginTop=&quot;20dp&quot;\n                        android:layout_marginRight=&quot;20dp&quot;\n                        android:layout_marginBottom=&quot;10dp&quot;\n                        android:background=&quot;@drawable/black_close_icon&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                    &lt;ImageView\n                        android:layout_width=&quot;100dp&quot;\n                        android:layout_height=&quot;30dp&quot;\n                        android:background=&quot;@drawable/img&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;1000dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:layout_marginBottom=&quot;20dp&quot;\n                    app:cardBackgroundColor=&quot;@color/white&quot;\n                    app:cardCornerRadius=&quot;50dp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout8&quot;\n                    app:layout_constraintWidth=&quot;match_constraint&quot;&gt;\n\n                    &lt;androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;match_parent&quot;&gt;\n\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\n                            android:id=&quot;@+id/first_layout&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:padding=&quot;10dp&quot;\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                            &lt;com.google.android.material.imageview.ShapeableImageView\n                                android:id=&quot;@+id/image&quot;\n                                android:layout_width=&quot;75dp&quot;\n                                android:layout_height=&quot;75dp&quot;\n                                android:src=&quot;@drawable/img_1&quot;\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n                            &lt;TextView\n                                android:id=&quot;@+id/nameTV&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:textSize=&quot;18dp&quot;\n                                android:textColor=&quot;@color/black&quot;\n                                android:text=&quot;mohammad alatawna&quot;\n                                android:layout_marginLeft=&quot;10dp&quot;\n                                android:layout_marginTop=&quot;10dp&quot;\n                                app:layout_constraintLeft_toRightOf=&quot;@id/image&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n                            &lt;TextView\n                                android:id=&quot;@+id/textView5&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_marginTop=&quot;5dp&quot;\n                                android:text=&quot;mohammadalatawna111@gmail.com&quot;\n                                android:textSize=&quot;13dp&quot;\n                                app:layout_constraintLeft_toLeftOf=&quot;@+id/nameTV&quot;\n                                app:layout_constraintTop_toBottomOf=&quot;@id/nameTV&quot; /&gt;\n\n                            &lt;ImageButton\n                                android:layout_width=&quot;40dp&quot;\n                                android:layout_height=&quot;40dp&quot;\n                                android:layout_marginLeft=&quot;10dp&quot;\n                                android:background=&quot;@color/transparent&quot;\n                                android:src=&quot;@drawable/ic_baseline_arrow_circle_down_24&quot;\n                                app:layout_constraintBottom_toBottomOf=&quot;@+id/image&quot;\n                                app:layout_constraintLeft_toRightOf=&quot;@+id/textView5&quot;\n                                app:layout_constraintTop_toTopOf=&quot;@+id/image&quot; /&gt;\n\n\n                            &lt;androidx.appcompat.widget.AppCompatButton\n                                android:layout_width=&quot;150dp&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:text=&quot;button&quot;\n                                android:textColor=&quot;@color/black&quot;\n                                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                                app:layout_constraintTop_toBottomOf=&quot;@id/image&quot;/&gt;\n\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n                        &lt;View\n                            android:id=&quot;@+id/line1&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;3dp&quot;\n                            android:background=&quot;#66000000&quot;\n                            app:layout_constraintTop_toBottomOf=&quot;@+id/first_layout&quot;/&gt;\n\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\n                            android:id=&quot;@+id/constraintLayout2&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            app:layout_constraintTop_toBottomOf=&quot;@id/line1&quot;\n                            android:padding=&quot;10dp&quot;\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;&gt;\n\n                            &lt;androidx.constraintlayout.helper.widget.Flow\n                                android:id=&quot;@+id/flow&quot;\n                                android:layout_width=&quot;match_parent&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                app:layout_constraintWidth=&quot;match_constraint&quot;\n                                app:flow_horizontalGap=&quot;5dp&quot;\n                                app:flow_horizontalStyle=&quot;packed&quot;\n                                app:flow_horizontalBias=&quot;1&quot;\n                                app:flow_verticalGap=&quot;10dp&quot;\n                                app:flow_wrapMode=&quot;chain&quot;\n                                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n                        &lt;androidx.appcompat.widget.AppCompatButton\n                            android:id=&quot;@+id/editInterestsButton&quot;\n                            android:layout_width=&quot;200dp&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:text=&quot;edit interests&quot;\n                            android:background=&quot;@drawable/rounded_rectangle&quot;\n                            android:backgroundTint=&quot;@color/teal_200&quot;\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                            app:layout_constraintTop_toBottomOf=&quot;@id/constraintLayout2&quot;/&gt;\n                        &lt;View\n                            android:id=&quot;@+id/line2&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;3dp&quot;\n                            android:layout_marginTop=&quot;20dp&quot;\n                            android:background=&quot;#66000000&quot;\n                            app:layout_constraintTop_toBottomOf=&quot;@+id/editInterestsButton&quot;/&gt;\n                    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n                &lt;/androidx.cardview.widget.CardView&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;/ScrollView&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695046503,"post_id":77126283,"comment_id":135968088,"body_markdown":"You have compilation error which means things are wrong.... please show the full pom file...","body":"You have compilation error which means things are wrong.... please show the full pom file..."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1695079523,"post_id":77126283,"comment_id":135973554,"body_markdown":"Please include the full output. There will be a compiler error somewhere that explains what the problem is.","body":"Please include the full output. There will be a compiler error somewhere that explains what the problem is."}],"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":940,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695079456,"creation_date":1695031530,"question_id":77126283,"body_markdown":"Full Stack Trace\r\n\r\n```\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project paymentcollector-client: Compilation failure\r\nwarnings found and -Werror specified\r\n\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n    at java.lang.reflect.Method.invoke (Method.java:578)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n```\r\n\r\nCan someone help me figure out the issue? One related solution that I found was \r\nremove `&lt;fork&gt;true&lt;/fork&gt;` or set it to false. But the catch is I don&#39;t have `&lt;fork&gt;` tag in Pom.XML.\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) | maven compile is not working","body":"<p>Full Stack Trace</p>\n<pre><code>org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project paymentcollector-client: Compilation failure\nwarnings found and -Werror specified\n\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\n    at java.lang.reflect.Method.invoke (Method.java:578)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n</code></pre>\n<p>Can someone help me figure out the issue? One related solution that I found was\nremove <code>&lt;fork&gt;true&lt;/fork&gt;</code> or set it to false. But the catch is I don't have <code>&lt;fork&gt;</code> tag in Pom.XML.</p>\n"},{"tags":["java","selenium","pom.xml","page-factory"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1632306998,"post_id":69282479,"comment_id":122454955,"body_markdown":"Do you provide and load a URL anywhere? Maybe the search context is `null` because no website has been loaded.","body":"Do you provide and load a URL anywhere? Maybe the search context is <code>null</code> because no website has been loaded."},{"owner":{"account_id":18123582,"reputation":385,"user_id":13179300,"display_name":"Piotr M."},"score":0,"creation_date":1632307879,"post_id":69282479,"comment_id":122455293,"body_markdown":"That&#39;s not the case. The search context is WebElement or WebDriver. Why is it null? Where do you initialize the WebDriver instance? You&#39;re passing driver to initElements - is it initialized somewhere?","body":"That&#39;s not the case. The search context is WebElement or WebDriver. Why is it null? Where do you initialize the WebDriver instance? You&#39;re passing driver to initElements - is it initialized somewhere?"},{"owner":{"account_id":15530601,"reputation":19,"user_id":11204249,"display_name":"kavya s"},"score":0,"creation_date":1632315734,"post_id":69282479,"comment_id":122458533,"body_markdown":"no, I have not initialized the WebDriver instance. Where do I need to initialize? My testbase code\n```\npublic class TestBase \n{\n\tWebDriver driver; \n\t@BeforeTest\n\tpublic void setup()\n\t{\n\t\tWebDriverManager.chromedriver().setup();\n\t\tdriver = new ChromeDriver();\n\t\tdriver.manage().window().maximize();\n\t\tdriver.get(&quot;https://stage.aviationjobsearch.com/&quot;);\n\t}\n}\n```","body":"no, I have not initialized the WebDriver instance. Where do I need to initialize? My testbase code ``` public class TestBase  { \tWebDriver driver;  \t@BeforeTest \tpublic void setup() \t{ \t\tWebDriverManager.chromedriver().setup(); \t\tdriver = new ChromeDriver(); \t\tdriver.manage().window().maximize(); \t\tdriver.get(&quot;<a href=\"https://stage.aviationjobsearch.com/&quot;\" rel=\"nofollow noreferrer\">stage.aviationjobsearch.com/&quot;</a>); \t} } ```"},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1632368600,"post_id":69282479,"comment_id":122474408,"body_markdown":"Please check your xpath is properly finding the element, in your developer tools. driver is unable to identify the element that is why it is returning the Null value","body":"Please check your xpath is properly finding the element, in your developer tools. driver is unable to identify the element that is why it is returning the Null value"}],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641541687,"creation_date":1641541687,"answer_id":70618080,"question_id":69282479,"body_markdown":"Please use the same WebDriver instance from your TestBase class throughout all the scripts.\r\nEx., in LoginTest class remove the WebDriver declaration and modify the line:\r\n\r\n    HomePage objHomePage = new HomePage(TestBase.driver);\r\n\r\nMake the WebDriver instance as static in TestBase class.","title":"Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null","body":"<p>Please use the same WebDriver instance from your TestBase class throughout all the scripts.\nEx., in LoginTest class remove the WebDriver declaration and modify the line:</p>\n<pre><code>HomePage objHomePage = new HomePage(TestBase.driver);\n</code></pre>\n<p>Make the WebDriver instance as static in TestBase class.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1649323466,"post_id":71778917,"comment_id":126848450,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71778917/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24858362,"reputation":1,"user_id":18734444,"display_name":"akshay gadkari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649414985,"creation_date":1649320813,"answer_id":71778917,"question_id":69282479,"body_markdown":"WebDriver driver; You are freshly declaring hence its null.\r\n\r\npublic class LoginTest extends TestBase { //Comment this as you are already extending TestBase \r\n// WebDriver driver;\r\n\r\n//Also instead of mentioning driver //= new Chromedriver();\r\n// in before //method..write it here.","title":"Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null","body":"<p>WebDriver driver; You are freshly declaring hence its null.</p>\n<p>public class LoginTest extends TestBase { //Comment this as you are already extending TestBase\n// WebDriver driver;</p>\n<p>//Also instead of mentioning driver //= new Chromedriver();\n// in before //method..write it here.</p>\n"},{"tags":[],"owner":{"account_id":27694903,"reputation":1,"user_id":21325427,"display_name":"Anish subramanian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681799048,"creation_date":1681799048,"answer_id":76041386,"question_id":69282479,"body_markdown":"    public class LoginStep {\r\n\tpublic static WebDriver driver = new ChromeDriver();\r\n\tLoginPom lp = new LoginPom(driver);\r\n    \r\n    @Given(&quot;user navigate the login page&quot;)\r\n\tpublic void user_navigate_the_login_page() {\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t\t//driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://letcode.in/&quot;);\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\t\tlp.Loginbutton().click();\r\n\r\n\r\nwebdriver driver = new chromedriver();\r\nits working for me you have to initialize the browser first before entering into the steps","title":"Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null","body":"<pre><code>public class LoginStep {\npublic static WebDriver driver = new ChromeDriver();\nLoginPom lp = new LoginPom(driver);\n\n@Given(&quot;user navigate the login page&quot;)\npublic void user_navigate_the_login_page() {\n    WebDriverManager.chromedriver().setup();\n    //driver = new ChromeDriver();\n    driver.get(&quot;https://letcode.in/&quot;);\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    lp.Loginbutton().click();\n</code></pre>\n<p>webdriver driver = new chromedriver();\nits working for me you have to initialize the browser first before entering into the steps</p>\n"}],"owner":{"account_id":15530601,"reputation":19,"user_id":11204249,"display_name":"kavya s"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695078125,"creation_date":1632306560,"question_id":69282479,"body_markdown":"The below code is failing in `homeSignInLink.click();` and giving error\r\n\r\n    &quot;NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\r\n\r\n**Code** \r\n\r\n```\r\npublic class LoginTest extends TestBase\r\n{\r\n    WebDriver driver;\r\n    HomePage objHomePage = new HomePage(driver);\r\n\t \r\n    @Test\r\n    public void login_check()\r\n    {\r\n    \tobjHomePage.clickHomeSignInLink();\r\n    \tobjHomePage.clickRecruiterSignInLink();\r\n    }\r\n}\r\n\r\npublic class HomePage\r\n{\r\n\tWebDriver driver;\r\n\t\r\n\t@FindBy(xpath=&quot;//a[@class=&#39;nav-link bold&#39; and text()=&#39;Sign in&#39;]&quot;) WebElement homeSignInLink;   \r\n    @FindBy(xpath=&quot;//a[text()=&#39;Recruiter sign in&#39;]&quot;) WebElement recruiterSignInLink;  \r\n\r\n    public HomePage(WebDriver driver)\r\n    {\r\n        this.driver = driver;\r\n        //This initElements method will create all WebElements\r\n        PageFactory.initElements(driver, this);\r\n    } \r\n    public void clickHomeSignInLink()\r\n    {\t\r\n    \thomeSignInLink.click();\r\n    }\r\n    public void clickRecruiterSignInLink()\r\n    {\r\n    \trecruiterSignInLink.click();\r\n    }\r\n}\r\n```\r\n","title":"Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null","body":"<p>The below code is failing in <code>homeSignInLink.click();</code> and giving error</p>\n<pre><code>&quot;NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>public class LoginTest extends TestBase\n{\n    WebDriver driver;\n    HomePage objHomePage = new HomePage(driver);\n     \n    @Test\n    public void login_check()\n    {\n        objHomePage.clickHomeSignInLink();\n        objHomePage.clickRecruiterSignInLink();\n    }\n}\n\npublic class HomePage\n{\n    WebDriver driver;\n    \n    @FindBy(xpath=&quot;//a[@class='nav-link bold' and text()='Sign in']&quot;) WebElement homeSignInLink;   \n    @FindBy(xpath=&quot;//a[text()='Recruiter sign in']&quot;) WebElement recruiterSignInLink;  \n\n    public HomePage(WebDriver driver)\n    {\n        this.driver = driver;\n        //This initElements method will create all WebElements\n        PageFactory.initElements(driver, this);\n    } \n    public void clickHomeSignInLink()\n    {   \n        homeSignInLink.click();\n    }\n    public void clickRecruiterSignInLink()\n    {\n        recruiterSignInLink.click();\n    }\n}\n</code></pre>\n"},{"tags":["java","websphere","jndi","pool"],"answers":[{"tags":[],"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369819580,"creation_date":1369819580,"answer_id":16810174,"question_id":16645851,"body_markdown":"you can only use java:comp/env if you have declared a reference to the Object Pool in your web.xml under the resource-ref section. \r\n\r\nSee https://stackoverflow.com/questions/2887967/what-is-resource-ref-in-web-xml-used-for for further explanation.","title":"comp/env/pool not found in context &quot;java:&quot;?","body":"<p>you can only use java:comp/env if you have declared a reference to the Object Pool in your web.xml under the resource-ref section. </p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/2887967/what-is-resource-ref-in-web-xml-used-for\">What is resource-ref in web.xml used for?</a> for further explanation.</p>\n"}],"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695078125,"creation_date":1369040121,"question_id":16645851,"body_markdown":"I have a web application trying to access a JNDI declared in WebSphere Application Server.\r\nThe JNDI is declared under `Object pool managers`. However, I&#39;m receiving an error when I access the pool. The error says that `comp/env/pool is not found in context &quot;java:&quot;`.\r\n\r\nMy code is written as follows:\r\n\r\n    InitialContext initialContext = new InitialContext();\r\n    ObjectPoolManager opm = (ObjectPoolManager)initialContext.lookup(&quot;java:comp/env/pool&quot;);\r\n\r\nAccessing the pool via the code below works:\r\n\r\n    ObjectPoolManager opm = (ObjectPoolManager)initialContext.lookup(&quot;pool&quot;);\r\n\r\nI&#39;m confused because according to what I&#39;ve found on the internet, `java:comp/env/` is a default prefix for JNDI. So why does it cause an error in my case?\r\n\r\nThank you!","title":"comp/env/pool not found in context &quot;java:&quot;?","body":"<p>I have a web application trying to access a JNDI declared in WebSphere Application Server.\nThe JNDI is declared under <code>Object pool managers</code>. However, I'm receiving an error when I access the pool. The error says that <code>comp/env/pool is not found in context \"java:\"</code>.</p>\n\n<p>My code is written as follows:</p>\n\n<pre><code>InitialContext initialContext = new InitialContext();\nObjectPoolManager opm = (ObjectPoolManager)initialContext.lookup(\"java:comp/env/pool\");\n</code></pre>\n\n<p>Accessing the pool via the code below works:</p>\n\n<pre><code>ObjectPoolManager opm = (ObjectPoolManager)initialContext.lookup(\"pool\");\n</code></pre>\n\n<p>I'm confused because according to what I've found on the internet, <code>java:comp/env/</code> is a default prefix for JNDI. So why does it cause an error in my case?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","amazon-web-services","sdk"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1668509157,"post_id":74444157,"comment_id":131416999,"body_markdown":"You need to describe the ECS service to get a list of tasks, then you need to describe the task to get the ENI, then you need to describe the ENI to get the IP. It is a long winded process. The last 2/3 are covered here: https://stackoverflow.com/questions/52946160/aws-java-sdk-get-public-ip-of-task","body":"You need to describe the ECS service to get a list of tasks, then you need to describe the task to get the ENI, then you need to describe the ENI to get the IP. It is a long winded process. The last 2/3 are covered here: <a href=\"https://stackoverflow.com/questions/52946160/aws-java-sdk-get-public-ip-of-task\" title=\"aws java sdk get public ip of task\">stackoverflow.com/questions/52946160/&hellip;</a>"},{"owner":{"account_id":8581657,"reputation":322,"user_id":6429055,"display_name":"theAccidentalDeveloper"},"score":0,"creation_date":1668583992,"post_id":74444157,"comment_id":131438041,"body_markdown":"Edited the question, pls check @luk2302","body":"Edited the question, pls check @luk2302"},{"owner":{"account_id":9058130,"reputation":1392,"user_id":6745604,"display_name":"Paula T"},"score":0,"creation_date":1695072991,"post_id":74444157,"comment_id":135972870,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":9058130,"reputation":1392,"user_id":6745604,"display_name":"Paula T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695076572,"creation_date":1695076572,"answer_id":77130742,"question_id":74444157,"body_markdown":"As far as the error ` Invalid identifier: Identifier is for cluster NaraCluster. Your cluster is default `\r\n\r\nTurns out the solution was stupid obvious, right in the error message. I needed to add `withCluster` to my call. \r\n\r\n```\r\nfinal UpdateServiceRequest request = new UpdateServiceRequest()\r\n                .withCluster(clusterId)\r\n                .withService(serviceArn)\r\n                .withDesiredCount(desiredCount);\r\n```\r\nhttps://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ecs/model/UpdateServiceRequest.html#withCluster-java.lang.String-","title":"Fetch the public IP of AWS Task in a cluster using Java AWS SDK","body":"<p>As far as the error <code>Invalid identifier: Identifier is for cluster NaraCluster. Your cluster is default</code></p>\n<p>Turns out the solution was stupid obvious, right in the error message. I needed to add <code>withCluster</code> to my call.</p>\n<pre><code>final UpdateServiceRequest request = new UpdateServiceRequest()\n                .withCluster(clusterId)\n                .withService(serviceArn)\n                .withDesiredCount(desiredCount);\n</code></pre>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ecs/model/UpdateServiceRequest.html#withCluster-java.lang.String-\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ecs/model/UpdateServiceRequest.html#withCluster-java.lang.String-</a></p>\n"}],"owner":{"account_id":8581657,"reputation":322,"user_id":6429055,"display_name":"theAccidentalDeveloper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695076572,"creation_date":1668508462,"question_id":74444157,"body_markdown":"I have created a cluster, resource, service inside a stack using Java AWS SDK.\r\nNow I need to fetch the Public IP of the task inside the cluster.\r\n\r\nI have used ClientFormationCloud and am trying to fetch the IP using this client itself.\r\n\r\nI have used the following code as of now:\r\n\r\n\r\n        String awsRegion = System.getenv(&quot;AWS_DEFAULT_REGION&quot;);\r\n\t\tRegion region = Region.of(awsRegion);\r\n\t\t\r\n\t\tCloudFormationClient cfClient = CloudFormationClient.builder().region(region)\r\n\t\t\t\t.credentialsProvider(EnvironmentVariableCredentialsProvider.create()).build();\r\n\r\n        CloudFormationWaiter waiter = cfClient.waiter();\r\n\t\tCollection&lt;Capability&gt; capabilities = new ArrayList&lt;Capability&gt;();\r\n\t\tcapabilities.add(Capability.CAPABILITY_NAMED_IAM);\r\n\r\n\t\tCreateStackRequest stackRequest = CreateStackRequest.builder().stackName(stackName).templateURL(location).capabilities(capabilities).roleARN(roleARN).onFailure(OnFailure.ROLLBACK).build();\r\n\r\n\t\tCreateStackResponse cfResponse = cfClient.createStack(stackRequest);\r\n\r\n\t\tDescribeStacksRequest stacksRequest = DescribeStacksRequest.builder().stackName(stackName).build();\r\n\t\tDescribeStacksResponse response = cfClient.describeStacks();\r\n\t\tWaiterResponse&lt;DescribeStacksResponse&gt; waiterResponse = waiter.waitUntilStackCreateComplete(stacksRequest);\r\n\t\twaiterResponse.matched().response().ifPresent(System.out::println);\r\n&#39;&#39;&#39;\r\n\r\nEDITED\r\n\r\nTried the following for ECS according to the first comment\r\n\r\n&#39;&#39;&#39;\r\n\r\n    AmazonECS ecsClient = AmazonECSClientBuilder.standard().withRegion(System.getenv(&quot;AWS_DEFAULT_REGION&quot;)).withCredentials(new com.amazonaws.auth.EnvironmentVariableCredentialsProvider()).build();\r\n\tListTasksRequest request = new ListTasksRequest().withCluster(&quot;ClusterName&quot;);\r\n\tListTasksResult tasks = ecsClient.listTasks(request);\r\n\tList&lt;String&gt; taskArns = tasks.getTaskArns();\r\n\t\t\tfor (String taskArn : taskArns) {\r\n\t\t\t\tSystem.out.println(taskArn);\r\n\t\t\t\tDescribeTasksRequest dtr = new DescribeTasksRequest().withTasks(taskArn);\r\n\t\t\t\tDescribeTasksResult response = ecsClient.describeTasks(dtr);\r\n\t\t\t}\r\n&#39;&#39;&#39;\r\n\r\nThe taskArn is getting printed: arn:aws:ecs:us-east-1:892372858130:task/ClusterName/2c72e43671ef4cc09f7816469696ee3e\r\n\r\nBut the last line of the code is giving the following error:\r\n\r\ncom.amazonaws.services.ecs.model.InvalidParameterException: Invalid identifier: Identifier is for cluster NaraCluster. Your cluster is default (Service: AmazonECS; Status Code: 400; Error Code: InvalidParameterException; Request ID: 45f8abfc-66d4-4808-8810-b6e314bb1b15; Proxy: null)","title":"Fetch the public IP of AWS Task in a cluster using Java AWS SDK","body":"<p>I have created a cluster, resource, service inside a stack using Java AWS SDK.\nNow I need to fetch the Public IP of the task inside the cluster.</p>\n<p>I have used ClientFormationCloud and am trying to fetch the IP using this client itself.</p>\n<p>I have used the following code as of now:</p>\n<pre><code>    String awsRegion = System.getenv(&quot;AWS_DEFAULT_REGION&quot;);\n    Region region = Region.of(awsRegion);\n    \n    CloudFormationClient cfClient = CloudFormationClient.builder().region(region)\n            .credentialsProvider(EnvironmentVariableCredentialsProvider.create()).build();\n\n    CloudFormationWaiter waiter = cfClient.waiter();\n    Collection&lt;Capability&gt; capabilities = new ArrayList&lt;Capability&gt;();\n    capabilities.add(Capability.CAPABILITY_NAMED_IAM);\n\n    CreateStackRequest stackRequest = CreateStackRequest.builder().stackName(stackName).templateURL(location).capabilities(capabilities).roleARN(roleARN).onFailure(OnFailure.ROLLBACK).build();\n\n    CreateStackResponse cfResponse = cfClient.createStack(stackRequest);\n\n    DescribeStacksRequest stacksRequest = DescribeStacksRequest.builder().stackName(stackName).build();\n    DescribeStacksResponse response = cfClient.describeStacks();\n    WaiterResponse&lt;DescribeStacksResponse&gt; waiterResponse = waiter.waitUntilStackCreateComplete(stacksRequest);\n    waiterResponse.matched().response().ifPresent(System.out::println);\n</code></pre>\n<p>'''</p>\n<p>EDITED</p>\n<p>Tried the following for ECS according to the first comment</p>\n<p>'''</p>\n<pre><code>AmazonECS ecsClient = AmazonECSClientBuilder.standard().withRegion(System.getenv(&quot;AWS_DEFAULT_REGION&quot;)).withCredentials(new com.amazonaws.auth.EnvironmentVariableCredentialsProvider()).build();\nListTasksRequest request = new ListTasksRequest().withCluster(&quot;ClusterName&quot;);\nListTasksResult tasks = ecsClient.listTasks(request);\nList&lt;String&gt; taskArns = tasks.getTaskArns();\n        for (String taskArn : taskArns) {\n            System.out.println(taskArn);\n            DescribeTasksRequest dtr = new DescribeTasksRequest().withTasks(taskArn);\n            DescribeTasksResult response = ecsClient.describeTasks(dtr);\n        }\n</code></pre>\n<p>'''</p>\n<p>The taskArn is getting printed: arn:aws:ecs:us-east-1:892372858130:task/ClusterName/2c72e43671ef4cc09f7816469696ee3e</p>\n<p>But the last line of the code is giving the following error:</p>\n<p>com.amazonaws.services.ecs.model.InvalidParameterException: Invalid identifier: Identifier is for cluster NaraCluster. Your cluster is default (Service: AmazonECS; Status Code: 400; Error Code: InvalidParameterException; Request ID: 45f8abfc-66d4-4808-8810-b6e314bb1b15; Proxy: null)</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1695074646,"post_id":77130626,"comment_id":135973058,"body_markdown":"A variable that &#39;contains&#39; an array is a reference to the array in the RAM. So if you pass primitives like int or long, their values are copies. If you pass the reference to the array, that reference (address value) will also be a copy, but it will point to the original array.","body":"A variable that &#39;contains&#39; an array is a reference to the array in the RAM. So if you pass primitives like int or long, their values are copies. If you pass the reference to the array, that reference (address value) will also be a copy, but it will point to the original array."},{"owner":{"account_id":936797,"reputation":2054,"user_id":965593,"accept_rate":67,"display_name":"pamphlet"},"score":2,"creation_date":1695074650,"post_id":77130626,"comment_id":135973059,"body_markdown":"The value is a reference. You can use the value (reference), to affect the referent (the array).","body":"The value is a reference. You can use the value (reference), to affect the referent (the array)."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695075608,"creation_date":1695075608,"answer_id":77130692,"question_id":77130626,"body_markdown":"&gt; _&quot;... how come the Array.sort() can change the the original array variable? ...&quot;_\r\n\r\nAny _data-type_ declared as an _array_, whether _[primitive](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_ or _[Reference](https://docs.oracle.com/javase/tutorial/java/javaOO/objects.html)_, is considered an _[Object](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html)_ itself.\r\n\r\nIn otherwords, even if the data-type is _int_, _double_, etc., the  variable containing the _array_ is considered a _Reference_ type.\r\n\r\nThus, it&#39;s similar to passing a typical _Object_ to another method, and changing a value from within the method.\r\n\r\n```java\r\nstatic class ABC { String s = &quot;&quot;; }\r\nstatic void mutate(ABC abc) {\r\n    abc.s = &quot;123&quot;;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    ABC abc = new ABC();\r\n    mutate(abc);\r\n    System.out.println(&quot;abc.s = &quot; + abc.s);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nabc.s = 123\r\n```","title":"How can array be sorted while the method can only pass value?","body":"<blockquote>\n<p><em>&quot;... how come the Array.sort() can change the the original array variable? ...&quot;</em></p>\n</blockquote>\n<p>Any <em>data-type</em> declared as an <em>array</em>, whether <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitive</a></em> or <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objects.html\" rel=\"nofollow noreferrer\">Reference</a></em>, is considered an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html\" rel=\"nofollow noreferrer\">Object</a></em> itself.</p>\n<p>In otherwords, even if the data-type is <em>int</em>, <em>double</em>, etc., the  variable containing the <em>array</em> is considered a <em>Reference</em> type.</p>\n<p>Thus, it's similar to passing a typical <em>Object</em> to another method, and changing a value from within the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class ABC { String s = &quot;&quot;; }\nstatic void mutate(ABC abc) {\n    abc.s = &quot;123&quot;;\n}\n\npublic static void main(String[] args) {\n    ABC abc = new ABC();\n    mutate(abc);\n    System.out.println(&quot;abc.s = &quot; + abc.s);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>abc.s = 123\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26131907,"reputation":1,"user_id":22588709,"display_name":"Tiger"},"score":0,"creation_date":1695078536,"post_id":77130695,"comment_id":135973474,"body_markdown":"so appreciated for the thorough explanation","body":"so appreciated for the thorough explanation"},{"owner":{"account_id":26131907,"reputation":1,"user_id":22588709,"display_name":"Tiger"},"score":0,"creation_date":1695078646,"post_id":77130695,"comment_id":135973486,"body_markdown":"may I ask it&#39;s the same idea also in python?","body":"may I ask it&#39;s the same idea also in python?"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695075620,"creation_date":1695075620,"answer_id":77130695,"question_id":77130626,"body_markdown":"This is swap (which does not work):\r\n\r\n```\r\npublic void swap(int a, int b) {\r\n  int x = a;\r\n  a = b;\r\n  b = x;\r\n}\r\n```\r\n\r\nThis is a hypothetical &#39;swap first 2 in an array&#39;:\r\n\r\n```\r\npublic void swap(int[] arr) {\r\n  int x = arr[0];\r\n  arr[0] = arr[1];\r\n  arr[1] = x;\r\n}\r\n```\r\n\r\nThat one __does work__.\r\n\r\nIn java, __everything__ is a reference, except primitives. That&#39;s just java speak for pointer. This:\r\n\r\n```\r\nString x = &quot;hello&quot;;\r\n```\r\n\r\nis often explained as &#39;x is now &quot;hello&quot;&#39;. __This is incorrect__.\r\n\r\n`String x;` means: &quot;This is a page in an address book. It can hold addresses. Not houses - there obviously isn&#39;t room to actually pour concrete all over a.. page in an address book! There&#39;s just room for an address, that&#39;s all we got. The page is restricted: It is slightly magical in that it simply refuses to hold an address at all, unless it is an address that leads to a house that is of the &#39;String&#39; style of houses. But, it _can_ be entirely blank (no address at all).&quot;\r\n\r\nThe trick is, java does indeed copy parameters, but when it&#39;s about a reference (And remember, __everything__ is a reference, except primitives - the hardcoded list of `int`, `long`, `short`, `byte`, `double`, `float`, `boolean`, and `char`). Even arrays of primitives and Strings are references.\r\n\r\nSo, when you do:\r\n\r\n```\r\nint[] x = new int[] {1, 2};\r\nswap(x);\r\nSystem.out.println(Arrays.toString(x)); // prints 2, 1! The swap worked!\r\n```\r\n\r\nThat&#39;s because:\r\n\r\n* `new int[] {1, 2};` builds a new house.\r\n* `int [] x = ...` takes the __address__ of that newly built house and writes on a piece of paper called `x`. x isn&#39;t the house. It&#39;s just an address to the house.\r\n* `swap(x)` grabs a second piece of paper and _copies the address onto it__. It&#39;s a copy. Of the address, not the house. It then hands that second copy to the method (and that method will rip it up when it is done; it is not returned and therefore whatever modifications the method makes __to that piece of paper__ has no bearing on what the piece of paper that the caller owns has written on it.\r\n* `arr[0]` __dereferences__ - derefencing is java-ese for &#39;put on your shoes, go out the door, walk over to the address written on this piece of paper you are dereferencing, knock on the door, and yell something&#39;. `[0]` means: &quot;TELL ME WHAT YOUR #0 ITEM IS PLEASE!&quot;. The other common dereference operation is the dot. `list.add(&quot;foo&quot;)` is not &#39;adding a string to list&#39;. It&#39;s taking the &#39;list&#39; address, walking over to the street and house number that your piece of paper lists, and then yelling at the house: &quot;ADD &quot;foo&quot; PLEASE!&quot;.\r\n\r\nImagine this method:\r\n\r\n```\r\npublic void swap(int[] arr) {\r\n  arr = new int[] {arr[1], arr[0]};\r\n}\r\n```\r\n\r\nThat one __does not work__. That&#39;s because that one:\r\n\r\n* Builds a new house.\r\n* Then takes its `arr` piece of paper and takes an eraser to it so that it is blank, then writes the address of this newly built house on it.\r\n* Then the method ends, and all pieces of paper go into the bin.\r\n\r\nHence why that does not work. `=` wipes out the paper and writes a different address on. `.` and `[]` follow the address.\r\n\r\nImagine you have an address book. I make a copy of it. If I go and edit an address in my copy that has no bearing on your address book.\r\n\r\nHowever, if I go to one of the addresses in my copy of your address book and toss a brick through the window, you&#39;ll be able to notice that just fine.\r\n","title":"How can array be sorted while the method can only pass value?","body":"<p>This is swap (which does not work):</p>\n<pre><code>public void swap(int a, int b) {\n  int x = a;\n  a = b;\n  b = x;\n}\n</code></pre>\n<p>This is a hypothetical 'swap first 2 in an array':</p>\n<pre><code>public void swap(int[] arr) {\n  int x = arr[0];\n  arr[0] = arr[1];\n  arr[1] = x;\n}\n</code></pre>\n<p>That one <strong>does work</strong>.</p>\n<p>In java, <strong>everything</strong> is a reference, except primitives. That's just java speak for pointer. This:</p>\n<pre><code>String x = &quot;hello&quot;;\n</code></pre>\n<p>is often explained as 'x is now &quot;hello&quot;'. <strong>This is incorrect</strong>.</p>\n<p><code>String x;</code> means: &quot;This is a page in an address book. It can hold addresses. Not houses - there obviously isn't room to actually pour concrete all over a.. page in an address book! There's just room for an address, that's all we got. The page is restricted: It is slightly magical in that it simply refuses to hold an address at all, unless it is an address that leads to a house that is of the 'String' style of houses. But, it <em>can</em> be entirely blank (no address at all).&quot;</p>\n<p>The trick is, java does indeed copy parameters, but when it's about a reference (And remember, <strong>everything</strong> is a reference, except primitives - the hardcoded list of <code>int</code>, <code>long</code>, <code>short</code>, <code>byte</code>, <code>double</code>, <code>float</code>, <code>boolean</code>, and <code>char</code>). Even arrays of primitives and Strings are references.</p>\n<p>So, when you do:</p>\n<pre><code>int[] x = new int[] {1, 2};\nswap(x);\nSystem.out.println(Arrays.toString(x)); // prints 2, 1! The swap worked!\n</code></pre>\n<p>That's because:</p>\n<ul>\n<li><code>new int[] {1, 2};</code> builds a new house.</li>\n<li><code>int [] x = ...</code> takes the <strong>address</strong> of that newly built house and writes on a piece of paper called <code>x</code>. x isn't the house. It's just an address to the house.</li>\n<li><code>swap(x)</code> grabs a second piece of paper and <em>copies the address onto it</em>_. It's a copy. Of the address, not the house. It then hands that second copy to the method (and that method will rip it up when it is done; it is not returned and therefore whatever modifications the method makes <strong>to that piece of paper</strong> has no bearing on what the piece of paper that the caller owns has written on it.</li>\n<li><code>arr[0]</code> <strong>dereferences</strong> - derefencing is java-ese for 'put on your shoes, go out the door, walk over to the address written on this piece of paper you are dereferencing, knock on the door, and yell something'. <code>[0]</code> means: &quot;TELL ME WHAT YOUR #0 ITEM IS PLEASE!&quot;. The other common dereference operation is the dot. <code>list.add(&quot;foo&quot;)</code> is not 'adding a string to list'. It's taking the 'list' address, walking over to the street and house number that your piece of paper lists, and then yelling at the house: &quot;ADD &quot;foo&quot; PLEASE!&quot;.</li>\n</ul>\n<p>Imagine this method:</p>\n<pre><code>public void swap(int[] arr) {\n  arr = new int[] {arr[1], arr[0]};\n}\n</code></pre>\n<p>That one <strong>does not work</strong>. That's because that one:</p>\n<ul>\n<li>Builds a new house.</li>\n<li>Then takes its <code>arr</code> piece of paper and takes an eraser to it so that it is blank, then writes the address of this newly built house on it.</li>\n<li>Then the method ends, and all pieces of paper go into the bin.</li>\n</ul>\n<p>Hence why that does not work. <code>=</code> wipes out the paper and writes a different address on. <code>.</code> and <code>[]</code> follow the address.</p>\n<p>Imagine you have an address book. I make a copy of it. If I go and edit an address in my copy that has no bearing on your address book.</p>\n<p>However, if I go to one of the addresses in my copy of your address book and toss a brick through the window, you'll be able to notice that just fine.</p>\n"}],"owner":{"account_id":26131907,"reputation":1,"user_id":22588709,"display_name":"Tiger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1695078938,"answer_count":2,"score":-2,"last_activity_date":1695075620,"creation_date":1695074461,"question_id":77130626,"body_markdown":"Since have is value passing when using a method, how come the Array.sort() can change the the original array variable?\r\n\r\nI searched everywhere when found out creating a swap(int a, int b) can&#39;t change the original value of the variable. Now I am confused while the sort() method can change the array variable.","title":"How can array be sorted while the method can only pass value?","body":"<p>Since have is value passing when using a method, how come the Array.sort() can change the the original array variable?</p>\n<p>I searched everywhere when found out creating a swap(int a, int b) can't change the original value of the variable. Now I am confused while the sort() method can change the array variable.</p>\n"},{"tags":["java","maven","dependencies"],"answers":[{"tags":[],"owner":{"account_id":16298239,"reputation":26,"user_id":11770198,"display_name":"Stefan H&#246;hne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695073902,"creation_date":1695073902,"answer_id":77130583,"question_id":77129805,"body_markdown":"You gave the correct answer yourself, so why did&#39;nt you give it a try:\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;!-- add your reason for version adjustment here --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;example.group.id&lt;/groupId&gt;\r\n          &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n          &lt;version&gt;good.version.number&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nThis is slightly different from excluding the transitive dependency and adding a new one:\r\n * It works more globally on all transitive usages of that library.\r\n * When you upgrade the direct dependency and the transitive dependency is removed completely in that new version, you will not depend on it anymore. The solution with the exclusion needs you to remove the added dependency manually from your pom.xml.\r\n\r\n","title":"how to fix vulnerability issue in nested dependency?","body":"<p>You gave the correct answer yourself, so why did'nt you give it a try:</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;!-- add your reason for version adjustment here --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;example.group.id&lt;/groupId&gt;\n      &lt;artifactId&gt;example&lt;/artifactId&gt;\n      &lt;version&gt;good.version.number&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>This is slightly different from excluding the transitive dependency and adding a new one:</p>\n<ul>\n<li>It works more globally on all transitive usages of that library.</li>\n<li>When you upgrade the direct dependency and the transitive dependency is removed completely in that new version, you will not depend on it anymore. The solution with the exclusion needs you to remove the added dependency manually from your pom.xml.</li>\n</ul>\n"}],"owner":{"account_id":5930014,"reputation":951,"user_id":4664962,"accept_rate":0,"display_name":"Anna Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77130583,"answer_count":1,"score":1,"last_activity_date":1695073902,"creation_date":1695063947,"question_id":77129805,"body_markdown":"I would like to fix some vulnerability issues from javax.el 3.0.3. The problem is that javax.el is underlying dependency of crons.util. My co-worker added crons.util dependency to pom.xml, not javax.el itself. In that case, how could I fix the issue and upgrade the java.el to a higher version which does not have any vulnerabilities?\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.cronutils&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cron-utils&lt;/artifactId&gt;\r\n      &lt;version&gt;9.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI found https://stackoverflow.com/questions/65274228/changing-the-version-of-a-transitive-dependency-in-maven-pom-xml, could I add the dependencyManagement like what is explained? ","title":"how to fix vulnerability issue in nested dependency?","body":"<p>I would like to fix some vulnerability issues from javax.el 3.0.3. The problem is that javax.el is underlying dependency of crons.util. My co-worker added crons.util dependency to pom.xml, not javax.el itself. In that case, how could I fix the issue and upgrade the java.el to a higher version which does not have any vulnerabilities?</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.cronutils&lt;/groupId&gt;\n  &lt;artifactId&gt;cron-utils&lt;/artifactId&gt;\n  &lt;version&gt;9.1.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I found <a href=\"https://stackoverflow.com/questions/65274228/changing-the-version-of-a-transitive-dependency-in-maven-pom-xml\">Changing the version of a transitive dependency in maven pom.xml</a>, could I add the dependencyManagement like what is explained?</p>\n"},{"tags":["java","spring","spring-boot","hibernate-validator"],"comments":[{"owner":{"account_id":3737180,"reputation":644,"user_id":3107864,"display_name":"vaibhavsahu"},"score":0,"creation_date":1630684416,"post_id":69044879,"comment_id":122032445,"body_markdown":"this url will help you -&gt; https://bushansirgur.in/spring-boot-validation-using-hibernate-validator/","body":"this url will help you -&gt; <a href=\"https://bushansirgur.in/spring-boot-validation-using-hibernate-validator/\" rel=\"nofollow noreferrer\">bushansirgur.in/&hellip;</a>"},{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":0,"creation_date":1695072231,"post_id":69044879,"comment_id":135972775,"body_markdown":"@vaibhavsahu no, it won&#39;t. The link doesn&#39;t answer the question.","body":"@vaibhavsahu no, it won&#39;t. The link doesn&#39;t answer the question."}],"answers":[{"tags":[],"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695072963,"creation_date":1695072963,"answer_id":77130527,"question_id":69044879,"body_markdown":"You should be able to get the validator beans and configure them like this:\r\n\r\n    ValidatorFactory validatorFactory = \r\n        Validation.byProvider( HibernateValidator.class )   \r\n            .configure()\r\n            .customViolationExpressionLanguageFeatureLevel(ExpressionLanguageFeatureLevel.BEAN_METHODS)\r\n            .buildValidatorFactory();\r\n\r\nor\r\n\r\n    Configuration&lt;?&gt; config = Validation.byDefaultProvider().configure();\r\n    ((ConfigurationImpl)config).constraintExpressionLanguageFeatureLevel(\r\n        ExpressionLanguageFeatureLevel.BEAN_METHODS);\r\n\r\n    ValidatorFactory factory = config.buildValidatorFactory();\r\n\r\netc. (courtesy of https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#el-features ), but TBH I wouldn&#39;t call that a &quot;better&quot; way than just providing the XML with the config itself, unless you need to set it up based on some run-time factors.","title":"Is it possible to add hibernate validator settings via configuration properties in Spring Boot app?","body":"<p>You should be able to get the validator beans and configure them like this:</p>\n<pre><code>ValidatorFactory validatorFactory = \n    Validation.byProvider( HibernateValidator.class )   \n        .configure()\n        .customViolationExpressionLanguageFeatureLevel(ExpressionLanguageFeatureLevel.BEAN_METHODS)\n        .buildValidatorFactory();\n</code></pre>\n<p>or</p>\n<pre><code>Configuration&lt;?&gt; config = Validation.byDefaultProvider().configure();\n((ConfigurationImpl)config).constraintExpressionLanguageFeatureLevel(\n    ExpressionLanguageFeatureLevel.BEAN_METHODS);\n\nValidatorFactory factory = config.buildValidatorFactory();\n</code></pre>\n<p>etc. (courtesy of <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#el-features\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#el-features</a> ), but TBH I wouldn't call that a &quot;better&quot; way than just providing the XML with the config itself, unless you need to set it up based on some run-time factors.</p>\n"}],"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695072963,"creation_date":1630671680,"question_id":69044879,"body_markdown":"At the moment, I&#39;m doing it via `META-INF/validation.xml` file:\r\n\r\n```\r\n&lt;validation-config\r\n        xmlns=&quot;http://jboss.org/xml/ns/javax/validation/configuration&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://jboss.org/xml/ns/javax/validation/configuration&quot; version=&quot;1.1&quot;&gt;\r\n    &lt;property name=&quot;hibernate.validator.allow_parameter_constraint_override&quot;&gt;true&lt;/property&gt;\r\n    &lt;!--other properties--&gt;\r\n&lt;/validation-config&gt;\r\n``` \r\nDoes Spring Boot provide any possibility to do the same (to set those `hibernate.validator` settings) via configuration properties (in `application.properties`/`application.yml`)?\r\n\r\nIf no, is there any other way to get rid of `validation.xml` file (e.g. with overriding some beans etc.)?","title":"Is it possible to add hibernate validator settings via configuration properties in Spring Boot app?","body":"<p>At the moment, I'm doing it via <code>META-INF/validation.xml</code> file:</p>\n<pre><code>&lt;validation-config\n        xmlns=&quot;http://jboss.org/xml/ns/javax/validation/configuration&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://jboss.org/xml/ns/javax/validation/configuration&quot; version=&quot;1.1&quot;&gt;\n    &lt;property name=&quot;hibernate.validator.allow_parameter_constraint_override&quot;&gt;true&lt;/property&gt;\n    &lt;!--other properties--&gt;\n&lt;/validation-config&gt;\n</code></pre>\n<p>Does Spring Boot provide any possibility to do the same (to set those <code>hibernate.validator</code> settings) via configuration properties (in <code>application.properties</code>/<code>application.yml</code>)?</p>\n<p>If no, is there any other way to get rid of <code>validation.xml</code> file (e.g. with overriding some beans etc.)?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14047221,"reputation":61,"user_id":10147096,"display_name":"Shankar Ghimire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628683699,"creation_date":1628683699,"answer_id":68741739,"question_id":68738382,"body_markdown":"You can set application.properties to disable it.\r\n\r\n    management.endpoints.enabled-by-default=false\r\n","title":"How to ignore a jar in spring boot","body":"<p>You can set application.properties to disable it.</p>\n<pre><code>management.endpoints.enabled-by-default=false\n</code></pre>\n"}],"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695072940,"creation_date":1628669911,"question_id":68738382,"body_markdown":"I have a dependency (external library) in my `build.gradle` that performs some health check to see if our Kafka connectors are working correctly so the app is `UP` when we do a `&#39;/actuator/health&#39;`.\r\n\r\nNow we are doing load tests and I want to ignore those health checks so that the pod in Kubernetes is `READY` even if I don&#39;t setup a Kafka broker\r\n\r\nHow can I ignore a jar with spring boot ?\r\n\r\n","title":"How to ignore a jar in spring boot","body":"<p>I have a dependency (external library) in my <code>build.gradle</code> that performs some health check to see if our Kafka connectors are working correctly so the app is <code>UP</code> when we do a <code>'/actuator/health'</code>.</p>\n<p>Now we are doing load tests and I want to ignore those health checks so that the pod in Kubernetes is <code>READY</code> even if I don't setup a Kafka broker</p>\n<p>How can I ignore a jar with spring boot ?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1695012773,"post_id":77121561,"comment_id":135962022,"body_markdown":"Thanks for the response, a couple of things though 1) Is there any good blog/documentation on implementation of Dialects that you can suggest 2)  there is other competing transaction which has acquired PESSIMISTIC_FORCE_INCREMENT lock, our transaction will eventually fail =&gt; This I don&#39;t get. If I wait right, there are two possibilities, either I will timeout since other transaction is still running or I will get the lock after some time (other transaction would have completed) and I would get the latest data. Is my understanding correct?","body":"Thanks for the response, a couple of things though 1) Is there any good blog/documentation on implementation of Dialects that you can suggest 2)  there is other competing transaction which has acquired PESSIMISTIC_FORCE_INCREMENT lock, our transaction will eventually fail =&gt; This I don&#39;t get. If I wait right, there are two possibilities, either I will timeout since other transaction is still running or I will get the lock after some time (other transaction would have completed) and I would get the latest data. Is my understanding correct?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1695014584,"post_id":77121561,"comment_id":135962184,"body_markdown":"1. That would be helpful if you provided some inputs: HBN version, target DB. \n2. That is not about DB’s transactions, but about JPA specification, which is actually buggy: the behaviour depends on whether you have seen the data to be locked or not, unfortunately the pattern like “let lock something and then fetch actual state” is not covered (actually discouraged) by JPA","body":"1. That would be helpful if you provided some inputs: HBN version, target DB.  2. That is not about DB’s transactions, but about JPA specification, which is actually buggy: the behaviour depends on whether you have seen the data to be locked or not, unfortunately the pattern like “let lock something and then fetch actual state” is not covered (actually discouraged) by JPA"},{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1695015746,"post_id":77121561,"comment_id":135962300,"body_markdown":"Thank you, I think I understand the problem now. I think now we just need a good alternative solution to complete the answer. I have already mentioned the DB - postgres, Hibernate version I am currently on is 5.4.  Please edit your answer to provide a good reference to dialect implementation and I can accept it. Really appreciate your insights here.","body":"Thank you, I think I understand the problem now. I think now we just need a good alternative solution to complete the answer. I have already mentioned the DB - postgres, Hibernate version I am currently on is 5.4.  Please edit your answer to provide a good reference to dialect implementation and I can accept it. Really appreciate your insights here."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695072315,"creation_date":1694949641,"answer_id":77121561,"question_id":77119183,"body_markdown":"**Short story**\r\n\r\nYou need to implement your own `org.hibernate.dialect.Dialect` which won&#39;t add `nowait` to select statement and pass that dialect to HBN via `hibernate.dialect` property.\r\n\r\n**Long story**\r\n\r\nFirst of all, JPA specification does not specify how JPA provider should acquire `PESSIMISTIC_FORCE_INCREMENT` lock, and at the first glance HBN behaviour seems to be reasonable: \r\n\r\n*if there is other competing transaction which has acquired `PESSIMISTIC_FORCE_INCREMENT` lock, our transaction will eventually fail because when competing transaction increments version stamp our data becomes stale, so, there is no reason to wait for competing transaction to complete and we may fail lock request immediately.* \r\n\r\nUnfortunately such behaviour misses two other obvious cases:\r\n- competing transaction may hold shared (read) locks, so, we should not fail in that case\r\n- our transaction may not contain data yet: we just want to retrieve fresh data and simultaneously  place a lock on it\r\n\r\n\r\nSo, that is definitely short-sight of HBN team.\r\n\r\n\r\nNow, the question is whether it possible to overcome this undesired behaviour from HBN using `spring-data` API? My first idea was to write two repository methods like:\r\n\r\n```java\r\n@Lock(LockModeType.PESSIMISTIC_WRITE)\r\nEntity findWithWriteLockById(long id);\r\n\r\n@Lock(LockModeType.PESSIMISTIC_FORCE_INCREMENT)\r\nEntity findWithForceIncrementById(long id);\r\n```\r\n\r\nand call those methods successively: at first we acquire `PESSIMISTIC_WRITE` and then we upgrade it to `PESSIMISTIC_FORCE_INCREMENT`\r\n\r\nThe problem is this approach does not work with HBN because `spring-data` implements such methods via query api and there seems to be a bug in `org.hibernate.loader.Loader#instanceAlreadyLoaded` [method](https://github.com/hibernate/hibernate-orm/blob/4bf9bfac5a9589d4cbd0bdfd49a2dcd0c526fe70/hibernate-core/src/main/java/org/hibernate/loader/Loader.java#L1703) - it does not schedule increment of version stamp (in case of HBN `v6` it does not properly upgrade locks too, however the method is different):\r\n\r\n```java\r\nif ( LockMode.NONE != requestedLockMode &amp;&amp; upgradeLocks() ) {\r\n\tfinal EntityEntry entry = session.getPersistenceContextInternal().getEntry( object );\r\n\tif ( entry.getLockMode().lessThan( requestedLockMode ) ) {\r\n\t\t//we only check the version when _upgrading_ lock modes\r\n\t\tif ( persister.isVersioned() ) {\r\n\t\t\tcheckVersion( i, persister, key.getIdentifier(), object, rs, session );\r\n\t\t}\r\n\t\t//we need to upgrade the lock mode to the mode requested\r\n        \r\n        // !!!\r\n        // !!! there should be something more conceptual\r\n        // !!! like entry.forceLocked( object, nextVersion );\r\n        // !!!\r\n\t\tentry.setLockMode( requestedLockMode );\r\n\t}\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\nUPD. For HBN `v5.4` implementation of custom dialect would look like:\r\n\r\n```java\r\npublic class PostgreSQL10CustomDialect extends PostgreSQL10Dialect {\r\n\r\n    @Override\r\n    public String getForUpdateString(LockOptions lockOptions) {\r\n        switch (lockOptions.getLockMode()) {\r\n            case PESSIMISTIC_FORCE_INCREMENT:\r\n                return getWriteLockString(lockOptions.getTimeOut());\r\n            default:\r\n                return super.getForUpdateString(lockOptions);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getForUpdateString(LockMode lockMode) {\r\n        switch (lockMode) {\r\n            case PESSIMISTIC_FORCE_INCREMENT:\r\n                // not clear what default strategy is better\r\n                // return getWriteLockString(LockOptions.NO_WAIT);\r\n                return getWriteLockString(LockOptions.WAIT_FOREVER);\r\n            default:\r\n                return super.getForUpdateString(lockMode);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getForUpdateString(String aliases, LockOptions lockOptions) {\r\n        switch (getLockMode(aliases, lockOptions)) {\r\n            case PESSIMISTIC_FORCE_INCREMENT:\r\n                return getWriteLockString(aliases, lockOptions.getTimeOut());\r\n            default:\r\n                return super.getForUpdateString(aliases, lockOptions);\r\n        }\r\n    }\r\n\r\n    protected LockMode getLockMode(String aliases, LockOptions lockOptions) {\r\n        if (aliases != null &amp;&amp; aliases.isEmpty()) {\r\n            LockMode lockMode = lockOptions.getLockMode();\r\n            final Iterator&lt;Map.Entry&lt;String, LockMode&gt;&gt; itr = lockOptions.getAliasLockIterator();\r\n            while (itr.hasNext()) {\r\n                // seek the highest lock mode\r\n                final Map.Entry&lt;String, LockMode&gt; entry = itr.next();\r\n                final LockMode lm = entry.getValue();\r\n                if (lm.greaterThan(lockMode)) {\r\n                    aliases = entry.getKey();\r\n                }\r\n            }\r\n        }\r\n\r\n        LockMode lockMode = lockOptions.getAliasSpecificLockMode(aliases);\r\n        if (lockMode == null) {\r\n            lockMode = lockOptions.getLockMode();\r\n        }\r\n\r\n        return lockMode;\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Spring JPA using @Lock Annotation with Postgres Backend LockModeType.PESSIMISTIC_FORCE_INCREMENT is enforcing no wait","body":"<p><strong>Short story</strong></p>\n<p>You need to implement your own <code>org.hibernate.dialect.Dialect</code> which won't add <code>nowait</code> to select statement and pass that dialect to HBN via <code>hibernate.dialect</code> property.</p>\n<p><strong>Long story</strong></p>\n<p>First of all, JPA specification does not specify how JPA provider should acquire <code>PESSIMISTIC_FORCE_INCREMENT</code> lock, and at the first glance HBN behaviour seems to be reasonable:</p>\n<p><em>if there is other competing transaction which has acquired <code>PESSIMISTIC_FORCE_INCREMENT</code> lock, our transaction will eventually fail because when competing transaction increments version stamp our data becomes stale, so, there is no reason to wait for competing transaction to complete and we may fail lock request immediately.</em></p>\n<p>Unfortunately such behaviour misses two other obvious cases:</p>\n<ul>\n<li>competing transaction may hold shared (read) locks, so, we should not fail in that case</li>\n<li>our transaction may not contain data yet: we just want to retrieve fresh data and simultaneously  place a lock on it</li>\n</ul>\n<p>So, that is definitely short-sight of HBN team.</p>\n<p>Now, the question is whether it possible to overcome this undesired behaviour from HBN using <code>spring-data</code> API? My first idea was to write two repository methods like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Lock(LockModeType.PESSIMISTIC_WRITE)\nEntity findWithWriteLockById(long id);\n\n@Lock(LockModeType.PESSIMISTIC_FORCE_INCREMENT)\nEntity findWithForceIncrementById(long id);\n</code></pre>\n<p>and call those methods successively: at first we acquire <code>PESSIMISTIC_WRITE</code> and then we upgrade it to <code>PESSIMISTIC_FORCE_INCREMENT</code></p>\n<p>The problem is this approach does not work with HBN because <code>spring-data</code> implements such methods via query api and there seems to be a bug in <code>org.hibernate.loader.Loader#instanceAlreadyLoaded</code> <a href=\"https://github.com/hibernate/hibernate-orm/blob/4bf9bfac5a9589d4cbd0bdfd49a2dcd0c526fe70/hibernate-core/src/main/java/org/hibernate/loader/Loader.java#L1703\" rel=\"nofollow noreferrer\">method</a> - it does not schedule increment of version stamp (in case of HBN <code>v6</code> it does not properly upgrade locks too, however the method is different):</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( LockMode.NONE != requestedLockMode &amp;&amp; upgradeLocks() ) {\n    final EntityEntry entry = session.getPersistenceContextInternal().getEntry( object );\n    if ( entry.getLockMode().lessThan( requestedLockMode ) ) {\n        //we only check the version when _upgrading_ lock modes\n        if ( persister.isVersioned() ) {\n            checkVersion( i, persister, key.getIdentifier(), object, rs, session );\n        }\n        //we need to upgrade the lock mode to the mode requested\n        \n        // !!!\n        // !!! there should be something more conceptual\n        // !!! like entry.forceLocked( object, nextVersion );\n        // !!!\n        entry.setLockMode( requestedLockMode );\n    }\n}\n</code></pre>\n<hr />\n<p>UPD. For HBN <code>v5.4</code> implementation of custom dialect would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PostgreSQL10CustomDialect extends PostgreSQL10Dialect {\n\n    @Override\n    public String getForUpdateString(LockOptions lockOptions) {\n        switch (lockOptions.getLockMode()) {\n            case PESSIMISTIC_FORCE_INCREMENT:\n                return getWriteLockString(lockOptions.getTimeOut());\n            default:\n                return super.getForUpdateString(lockOptions);\n        }\n    }\n\n    @Override\n    public String getForUpdateString(LockMode lockMode) {\n        switch (lockMode) {\n            case PESSIMISTIC_FORCE_INCREMENT:\n                // not clear what default strategy is better\n                // return getWriteLockString(LockOptions.NO_WAIT);\n                return getWriteLockString(LockOptions.WAIT_FOREVER);\n            default:\n                return super.getForUpdateString(lockMode);\n        }\n    }\n\n    @Override\n    public String getForUpdateString(String aliases, LockOptions lockOptions) {\n        switch (getLockMode(aliases, lockOptions)) {\n            case PESSIMISTIC_FORCE_INCREMENT:\n                return getWriteLockString(aliases, lockOptions.getTimeOut());\n            default:\n                return super.getForUpdateString(aliases, lockOptions);\n        }\n    }\n\n    protected LockMode getLockMode(String aliases, LockOptions lockOptions) {\n        if (aliases != null &amp;&amp; aliases.isEmpty()) {\n            LockMode lockMode = lockOptions.getLockMode();\n            final Iterator&lt;Map.Entry&lt;String, LockMode&gt;&gt; itr = lockOptions.getAliasLockIterator();\n            while (itr.hasNext()) {\n                // seek the highest lock mode\n                final Map.Entry&lt;String, LockMode&gt; entry = itr.next();\n                final LockMode lm = entry.getValue();\n                if (lm.greaterThan(lockMode)) {\n                    aliases = entry.getKey();\n                }\n            }\n        }\n\n        LockMode lockMode = lockOptions.getAliasSpecificLockMode(aliases);\n        if (lockMode == null) {\n            lockMode = lockOptions.getLockMode();\n        }\n\n        return lockMode;\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695072315,"creation_date":1694890687,"question_id":77119183,"body_markdown":"I am using Spring JPA @Lock annotation to acquire row level lock in Postgres. I need to use `LockModeType.PESSIMISTIC_FORCE_INCREMENT` which tries to acquire Postgres lock with no wait option (fails with error immediately in case lock is held by some other thread). Is it possible to change this behaviour where the thread waits for the lock instead of failing immediately?\r\n\r\nTo add some more context, default behaviour for `LockModeType.PESSIMISTIC_WRITE` is to wait for lock. I can provide it hint to fail immediately as well if needed using query hint. But I am unable to configure this for `LockModeType.PESSIMISTIC_FORCE_INCREMENT` which by default fails immediately.\r\n```\r\n@Lock(LockModeType.PESSIMISTIC_WRITE)\r\n@QueryHints({@QueryHint(name = &quot;javax.persistence.lock.timeout&quot;, value = &quot;0&quot;)})\r\nOptional&lt;TessellServiceJpaEntity&gt; findById(UUID id);```","title":"Spring JPA using @Lock Annotation with Postgres Backend LockModeType.PESSIMISTIC_FORCE_INCREMENT is enforcing no wait","body":"<p>I am using Spring JPA @Lock annotation to acquire row level lock in Postgres. I need to use <code>LockModeType.PESSIMISTIC_FORCE_INCREMENT</code> which tries to acquire Postgres lock with no wait option (fails with error immediately in case lock is held by some other thread). Is it possible to change this behaviour where the thread waits for the lock instead of failing immediately?</p>\n<p>To add some more context, default behaviour for <code>LockModeType.PESSIMISTIC_WRITE</code> is to wait for lock. I can provide it hint to fail immediately as well if needed using query hint. But I am unable to configure this for <code>LockModeType.PESSIMISTIC_FORCE_INCREMENT</code> which by default fails immediately.</p>\n<pre><code>@Lock(LockModeType.PESSIMISTIC_WRITE)\n@QueryHints({@QueryHint(name = &quot;javax.persistence.lock.timeout&quot;, value = &quot;0&quot;)})\nOptional&lt;TessellServiceJpaEntity&gt; findById(UUID id);```\n</code></pre>\n"},{"tags":["java","nlp","stanford-nlp"],"answers":[{"comments":[{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1485479299,"post_id":41885643,"comment_id":70953607,"body_markdown":"If they&#39;re showing up as small boxes, chances are the encoding is not the same. Just a guess.","body":"If they&#39;re showing up as small boxes, chances are the encoding is not the same. Just a guess."},{"owner":{"account_id":3485513,"reputation":393,"user_id":2916576,"display_name":"gerowam"},"score":1,"creation_date":1485479771,"post_id":41885643,"comment_id":70953715,"body_markdown":"And anywhere between the original and the output terminal could be the culprit.","body":"And anywhere between the original and the output terminal could be the culprit."},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1485485108,"post_id":41885643,"comment_id":70954965,"body_markdown":"Very true. /length","body":"Very true. /length"},{"owner":{"account_id":1350483,"reputation":543,"user_id":1290309,"accept_rate":83,"display_name":"RinW"},"score":0,"creation_date":1485616941,"post_id":41885643,"comment_id":71004002,"body_markdown":"You are right, I just went through the code again and noticed POS tagger completely ignores it and tokenizer is having issues getting the input. I think I would need to get the help of a Emoji Library for Java and interpret it separately.","body":"You are right, I just went through the code again and noticed POS tagger completely ignores it and tokenizer is having issues getting the input. I think I would need to get the help of a Emoji Library for Java and interpret it separately."},{"owner":{"account_id":3100322,"reputation":2664,"user_id":2624611,"accept_rate":83,"display_name":"ABS"},"score":0,"creation_date":1606117552,"post_id":41885643,"comment_id":114852429,"body_markdown":"&quot;emoji are one character long&quot; is completely wrong. An Emoji&#39;s length is up to 7!","body":"&quot;emoji are one character long&quot; is completely wrong. An Emoji&#39;s length is up to 7!"}],"tags":[],"owner":{"account_id":3485513,"reputation":393,"user_id":2916576,"display_name":"gerowam"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485479021,"creation_date":1485479021,"answer_id":41885643,"question_id":41879957,"body_markdown":"Provided the character encoding is correct throughout your code, system and the Stanford CoreNLP code, emoji should be represented correctly. However, you&#39;ll have two more fundamental problems:\r\n\r\nFirst, emoji are one character long and they are unlikely to be tagged as anything other than an indefinite article. &#39;a&#39; in English. A smart tokenizer might make better sense of emoji, but I doubt it.\r\n\r\nSecondly, and more importantly, POS taggers annotate [parts of speech](https://en.wikipedia.org/wiki/Part_of_speech). Emoji are not a part of speech. In the very least, they are an independent, new class of tokens, but certainly not grammatical.\r\n\r\nAll that said ... you know their character codes ... they&#39;re already tagged.","title":"Stanford CoreNLP and Emoji?","body":"<p>Provided the character encoding is correct throughout your code, system and the Stanford CoreNLP code, emoji should be represented correctly. However, you'll have two more fundamental problems:</p>\n\n<p>First, emoji are one character long and they are unlikely to be tagged as anything other than an indefinite article. 'a' in English. A smart tokenizer might make better sense of emoji, but I doubt it.</p>\n\n<p>Secondly, and more importantly, POS taggers annotate <a href=\"https://en.wikipedia.org/wiki/Part_of_speech\" rel=\"nofollow noreferrer\">parts of speech</a>. Emoji are not a part of speech. In the very least, they are an independent, new class of tokens, but certainly not grammatical.</p>\n\n<p>All that said ... you know their character codes ... they're already tagged.</p>\n"},{"comments":[{"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"score":0,"creation_date":1508859429,"post_id":44634934,"comment_id":80776337,"body_markdown":"what does it mean by support emojis? I got this issue: https://stackoverflow.com/questions/46905716/stanford-chinese-segmentor-dont-handle-emojis-well","body":"what does it mean by support emojis? I got this issue: <a href=\"https://stackoverflow.com/questions/46905716/stanford-chinese-segmentor-dont-handle-emojis-well\" title=\"stanford chinese segmentor dont handle emojis well\">stackoverflow.com/questions/46905716/&hellip;</a>"}],"tags":[],"owner":{"account_id":4030409,"reputation":749,"user_id":3316743,"display_name":"JamesFrost"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497887422,"creation_date":1497887422,"answer_id":44634934,"question_id":41879957,"body_markdown":"As of version 3.8.0, Stanford CoreNLP supports emojis.\r\n\r\n[Release notes.][1]\r\n\r\n\r\n  [1]: https://stanfordnlp.github.io/CoreNLP/history.html","title":"Stanford CoreNLP and Emoji?","body":"<p>As of version 3.8.0, Stanford CoreNLP supports emojis.</p>\n\n<p><a href=\"https://stanfordnlp.github.io/CoreNLP/history.html\" rel=\"nofollow noreferrer\">Release notes.</a></p>\n"}],"owner":{"account_id":1350483,"reputation":543,"user_id":1290309,"accept_rate":83,"display_name":"RinW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41885643,"answer_count":2,"score":1,"last_activity_date":1695071765,"creation_date":1485453572,"question_id":41879957,"body_markdown":"So far when I tried to use emoji and using the POS tagger, it appeared as unknown symbols, small boxes. Is there a way to get the POS tagger to work with emoji? Emoji (eg `&#128512;`) the unicode versions.","title":"Stanford CoreNLP and Emoji?","body":"<p>So far when I tried to use emoji and using the POS tagger, it appeared as unknown symbols, small boxes. Is there a way to get the POS tagger to work with emoji? Emoji (eg <code>😀</code>) the unicode versions.</p>\n"},{"tags":["java","spring-boot","java-stream"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1695069548,"post_id":77130180,"comment_id":135972390,"body_markdown":"Can you please also share your _expected_ response, what exactly is different and why it should be the expected response as opposed to the actual response? Can you please also include the code of `StatisticsService#getOrderStatistics`?","body":"Can you please also share your <i>expected</i> response, what exactly is different and why it should be the expected response as opposed to the actual response? Can you please also include the code of <code>StatisticsService#getOrderStatistics</code>?"}],"answers":[{"comments":[{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1695152634,"post_id":77130423,"comment_id":135984953,"body_markdown":"You will need to do some investigation and solve the issue. The query provided has not been tested. I wrote it as an example to show you how the data aggregation and dto projection can be done.","body":"You will need to do some investigation and solve the issue. The query provided has not been tested. I wrote it as an example to show you how the data aggregation and dto projection can be done."},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1695152839,"post_id":77130423,"comment_id":135984984,"body_markdown":"But as far for `I have a problem to calculate order report with the usage of Java Stream`, there is no java stream issue in the code and the query I provided is an addition &#128521;","body":"But as far for <code>I have a problem to calculate order report with the usage of Java Stream</code>, there is no java stream issue in the code and the query I provided is an addition 😉"}],"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695071308,"creation_date":1695071308,"answer_id":77130423,"question_id":77130180,"body_markdown":"There is no issue with the java stream part. However there is an issue with the way the data is being aggregated.\r\n\r\nIf the table orders contains the following:\r\n\r\n```\r\nid\t\tcreated_at\r\n1\t\t2023-01-01\r\n2\t\t2023-01-15\r\n3\t\t2023-01-18\r\n4\t\t2023-01-19\r\n```\r\n\r\nDoing a `findAll` with page size `2` and starting with page `0` will only return the first two records.\r\n\r\nAnd the report is calculated based on the 2 records only, which is wrong. Since records with id `3` and `4` also are part of January.\r\n\r\nI think it is best to aggregate the data using JPQL and project the result in a DTO as such:\r\n\r\n    // in OrderRepository\r\n    @Query(&quot;select &quot; +\r\n            &quot;new com.example.demo.dto.OrderReportDTO(&quot; +\r\n                &quot;month(o.createdAt), &quot; +\r\n                &quot;year(o.createdAt),&quot; +\r\n                &quot;count(o.orderItems),&quot; +\r\n                &quot;count(items), &quot; +\r\n                &quot;sum(items.book.price)&quot; +\r\n            &quot;) &quot; +\r\n            &quot;from Order o &quot; +\r\n            &quot;inner join o.orderItems items &quot; +\r\n            &quot;group by &quot; +\r\n                &quot;month(o.createdAt), &quot; +\r\n                &quot;year(o.createdAt)&quot;)\r\n    Page&lt;OrderReportDTO&gt; getReports(Pageable pageable);","title":"Java Steam Issue in Spring Boot -&gt; Not Calculate total value (Size and Pagination Issue)","body":"<p>There is no issue with the java stream part. However there is an issue with the way the data is being aggregated.</p>\n<p>If the table orders contains the following:</p>\n<pre><code>id      created_at\n1       2023-01-01\n2       2023-01-15\n3       2023-01-18\n4       2023-01-19\n</code></pre>\n<p>Doing a <code>findAll</code> with page size <code>2</code> and starting with page <code>0</code> will only return the first two records.</p>\n<p>And the report is calculated based on the 2 records only, which is wrong. Since records with id <code>3</code> and <code>4</code> also are part of January.</p>\n<p>I think it is best to aggregate the data using JPQL and project the result in a DTO as such:</p>\n<pre><code>// in OrderRepository\n@Query(&quot;select &quot; +\n        &quot;new com.example.demo.dto.OrderReportDTO(&quot; +\n            &quot;month(o.createdAt), &quot; +\n            &quot;year(o.createdAt),&quot; +\n            &quot;count(o.orderItems),&quot; +\n            &quot;count(items), &quot; +\n            &quot;sum(items.book.price)&quot; +\n        &quot;) &quot; +\n        &quot;from Order o &quot; +\n        &quot;inner join o.orderItems items &quot; +\n        &quot;group by &quot; +\n            &quot;month(o.createdAt), &quot; +\n            &quot;year(o.createdAt)&quot;)\nPage&lt;OrderReportDTO&gt; getReports(Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695071308,"creation_date":1695068285,"question_id":77130180,"body_markdown":"I have a problem to calculate order report with the usage of Java Stream in my Spring Boot example.\r\n\r\nFor example, I have 21 orders.\r\n\r\nWhen I send a request shown below,\r\n\r\n    {\r\n      &quot;page&quot;: 0,\r\n      &quot;size&quot;: 22\r\n    } \r\n\r\nI got this result shown below\r\n\r\n    {\r\n        &quot;response&quot;: {\r\n            &quot;content&quot;: [\r\n                {\r\n                    &quot;month&quot;: &quot;SEPTEMBER&quot;,\r\n                    &quot;year&quot;: 2023,\r\n                    &quot;totalOrderCount&quot;: 21,\r\n                    &quot;totalBookCount&quot;: 21,\r\n                    &quot;totalPrice&quot;: 2079.00\r\n                }\r\n            ],\r\n            &quot;pageNumber&quot;: 0,\r\n            &quot;pageSize&quot;: 22,\r\n            &quot;totalPageCount&quot;: 1,\r\n            &quot;totalElementCount&quot;: 1\r\n        },\r\n        &quot;isSuccess&quot;: true,\r\n        &quot;httpStatus&quot;: &quot;OK&quot;,\r\n        &quot;time&quot;: &quot;2023-09-18T23:12:26.3410251&quot;\r\n    }\r\n\r\n\r\nWhen I send a request this,\r\n\r\n    {\r\n      &quot;page&quot;: 0,\r\n      &quot;size&quot;: 10\r\n    }\r\n\r\nI get this response message shown below\r\n\r\n    {\r\n        &quot;response&quot;: {\r\n            &quot;content&quot;: [\r\n                {\r\n                    &quot;month&quot;: &quot;SEPTEMBER&quot;,\r\n                    &quot;year&quot;: 2023,\r\n                    &quot;totalOrderCount&quot;: 10,\r\n                    &quot;totalBookCount&quot;: 10,\r\n                    &quot;totalPrice&quot;: 990.00\r\n                }\r\n            ],\r\n            &quot;pageNumber&quot;: 0,\r\n            &quot;pageSize&quot;: 10,\r\n            &quot;totalPageCount&quot;: 3,\r\n            &quot;totalElementCount&quot;: 21\r\n        },\r\n        &quot;isSuccess&quot;: true,\r\n        &quot;httpStatus&quot;: &quot;OK&quot;,\r\n        &quot;time&quot;: &quot;2023-09-18T23:13:27.1144251&quot;\r\n    }\r\n\r\nHere is my **expected** result shown below\r\n\r\n\r\n    {\r\n            &quot;response&quot;: {\r\n                &quot;content&quot;: [\r\n                    {\r\n                        &quot;month&quot;: &quot;SEPTEMBER&quot;,\r\n                        &quot;year&quot;: 2023,\r\n                        &quot;totalOrderCount&quot;: 21,\r\n                        &quot;totalBookCount&quot;: 21,\r\n                        &quot;totalPrice&quot;: 990.00\r\n                    }\r\n                ],\r\n                &quot;pageNumber&quot;: 0,\r\n                &quot;pageSize&quot;: 10,\r\n                &quot;totalPageCount&quot;: 3,\r\n                &quot;totalElementCount&quot;: 21\r\n            },\r\n            &quot;isSuccess&quot;: true,\r\n            &quot;httpStatus&quot;: &quot;OK&quot;,\r\n            &quot;time&quot;: &quot;2023-09-18T23:13:27.1144251&quot;\r\n        }\r\n\r\nor\r\n\r\n    {\r\n            &quot;response&quot;: {\r\n                &quot;content&quot;: [\r\n                    {\r\n                        &quot;month&quot;: &quot;SEPTEMBER&quot;,\r\n                        &quot;year&quot;: 2023,\r\n                        &quot;totalOrderCount&quot;: 21,\r\n                        &quot;totalBookCount&quot;: 21,\r\n                        &quot;totalPrice&quot;: 2079.00\r\n                    }\r\n                ],\r\n                &quot;pageNumber&quot;: 0,\r\n                &quot;pageSize&quot;: 22,\r\n                &quot;totalPageCount&quot;: 1,\r\n                &quot;totalElementCount&quot;: 21\r\n            },\r\n            &quot;isSuccess&quot;: true,\r\n            &quot;httpStatus&quot;: &quot;OK&quot;,\r\n            &quot;time&quot;: &quot;2023-09-18T23:12:26.3410251&quot;\r\n        }\r\n\r\n\r\nAs you can see, `order size &lt; size` -&gt; `totalOrderCount` and `totalBookCount` would be wrong value and `order size &gt; size` -&gt; totalElementCount would be wrong value.\r\n\r\nHow can I fix it?\r\n\r\nAll these processes can be done from StatisticsController shown below. \r\n\r\n    public class StatisticsController {\r\n    \r\n        private final StatisticsService statisticsService;\r\n    \r\n        private final Identity identity;\r\n    \r\n        @GetMapping(&quot;/{customerId}&quot;)\r\n        @PreAuthorize(&quot;hasAnyAuthority(&#39;ROLE_ADMIN&#39;,&#39;ROLE_CUSTOMER&#39;)&quot;)\r\n        public CustomResponse&lt;CustomPageResponse&lt;OrderReportResponse&gt;&gt; getOrderStatisticsByCustomer(\r\n                @PathVariable Long customerId,\r\n                @RequestBody PaginationRequest paginationRequest\r\n        ) {\r\n    \r\n            CustomUserDetails customUserDetails = identity.getCustomUserDetails();\r\n    \r\n            if ((customUserDetails.getId().equals(customerId) &amp;&amp;\r\n                    customUserDetails.getUser().getRole().equals(Role.ROLE_CUSTOMER)\r\n            ) || customUserDetails.getUser().getRole().equals(Role.ROLE_ADMIN)\r\n            ) {\r\n                Page&lt;OrderReportDTO&gt; orderReportDtosByCustomer = statisticsService.getOrderStatisticsByCustomer(customerId, paginationRequest);\r\n                CustomPageResponse&lt;OrderReportResponse&gt; orderReportResponse = OrderReportMapper.toOrderReportResponseList(orderReportDtosByCustomer);\r\n                return CustomResponse.ok(orderReportResponse);\r\n            }\r\n    \r\n            throw new AccessDeniedException(&quot;You cannot access order statistics&quot;);\r\n        }\r\n    \r\n        @GetMapping(&quot;/allstatistics&quot;)\r\n        @PreAuthorize(&quot;hasAuthority(&#39;ROLE_ADMIN&#39;)&quot;)\r\n        public CustomResponse&lt;CustomPageResponse&lt;OrderReportResponse&gt;&gt; getOrderStatistics(@RequestBody PaginationRequest paginationRequest) {\r\n    \r\n            Page&lt;OrderReportDTO&gt; orderReportAllDtos = statisticsService.getOrderStatistics(paginationRequest);\r\n            CustomPageResponse&lt;OrderReportResponse&gt; orderReportResponse = OrderReportMapper.toOrderReportResponseList(orderReportAllDtos);\r\n            return CustomResponse.ok(orderReportResponse);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is the Java Stream method to calculate statistics for orders.\r\n\r\n    private Page&lt;OrderReportDTO&gt; calculateTotalOrderCountByMonth(Page&lt;Order&gt; customerOrders) {\r\n    \r\n            Map&lt;String, List&lt;Order&gt;&gt; ordersByMonthYear = customerOrders.stream()\r\n                    .collect(Collectors.groupingBy(\r\n                            order -&gt; order.getCreatedAt().getYear() + &quot;-&quot; + order.getCreatedAt().getMonth()\r\n                    ));\r\n    \r\n            List&lt;OrderReportDTO&gt; reportDTOs = ordersByMonthYear.entrySet().stream()\r\n                    .map(entry -&gt; {\r\n                        String monthYearKey = entry.getKey();\r\n                        List&lt;Order&gt; ordersForMonthYear = entry.getValue();\r\n                        int totalOrderCount = ordersForMonthYear.size();\r\n    \r\n                        int totalBookCount = ordersForMonthYear.stream()\r\n                                .mapToInt(order -&gt; order.getOrderItems().size())\r\n                                .sum();\r\n    \r\n                        BigDecimal totalPrice = ordersForMonthYear.stream()\r\n                                .flatMap(order -&gt; order.getOrderItems().stream())\r\n                                .map(orderItem -&gt; orderItem.getBook().getPrice())\r\n                                .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    \r\n                        // Splitting the monthYearKey to extract month and year\r\n                        String[] parts = monthYearKey.split(&quot;-&quot;);\r\n                        String month = parts[1];\r\n                        int year = Integer.parseInt(parts[0]);\r\n    \r\n                        return new OrderReportDTO(month, year, totalOrderCount, totalBookCount, totalPrice);\r\n                    })\r\n                    .toList();\r\n    \r\n            return new PageImpl&lt;&gt;(reportDTOs, customerOrders.getPageable(), customerOrders.getTotalElements());\r\n        }\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/bookdelivery","title":"Java Steam Issue in Spring Boot -&gt; Not Calculate total value (Size and Pagination Issue)","body":"<p>I have a problem to calculate order report with the usage of Java Stream in my Spring Boot example.</p>\n<p>For example, I have 21 orders.</p>\n<p>When I send a request shown below,</p>\n<pre><code>{\n  &quot;page&quot;: 0,\n  &quot;size&quot;: 22\n} \n</code></pre>\n<p>I got this result shown below</p>\n<pre><code>{\n    &quot;response&quot;: {\n        &quot;content&quot;: [\n            {\n                &quot;month&quot;: &quot;SEPTEMBER&quot;,\n                &quot;year&quot;: 2023,\n                &quot;totalOrderCount&quot;: 21,\n                &quot;totalBookCount&quot;: 21,\n                &quot;totalPrice&quot;: 2079.00\n            }\n        ],\n        &quot;pageNumber&quot;: 0,\n        &quot;pageSize&quot;: 22,\n        &quot;totalPageCount&quot;: 1,\n        &quot;totalElementCount&quot;: 1\n    },\n    &quot;isSuccess&quot;: true,\n    &quot;httpStatus&quot;: &quot;OK&quot;,\n    &quot;time&quot;: &quot;2023-09-18T23:12:26.3410251&quot;\n}\n</code></pre>\n<p>When I send a request this,</p>\n<pre><code>{\n  &quot;page&quot;: 0,\n  &quot;size&quot;: 10\n}\n</code></pre>\n<p>I get this response message shown below</p>\n<pre><code>{\n    &quot;response&quot;: {\n        &quot;content&quot;: [\n            {\n                &quot;month&quot;: &quot;SEPTEMBER&quot;,\n                &quot;year&quot;: 2023,\n                &quot;totalOrderCount&quot;: 10,\n                &quot;totalBookCount&quot;: 10,\n                &quot;totalPrice&quot;: 990.00\n            }\n        ],\n        &quot;pageNumber&quot;: 0,\n        &quot;pageSize&quot;: 10,\n        &quot;totalPageCount&quot;: 3,\n        &quot;totalElementCount&quot;: 21\n    },\n    &quot;isSuccess&quot;: true,\n    &quot;httpStatus&quot;: &quot;OK&quot;,\n    &quot;time&quot;: &quot;2023-09-18T23:13:27.1144251&quot;\n}\n</code></pre>\n<p>Here is my <strong>expected</strong> result shown below</p>\n<pre><code>{\n        &quot;response&quot;: {\n            &quot;content&quot;: [\n                {\n                    &quot;month&quot;: &quot;SEPTEMBER&quot;,\n                    &quot;year&quot;: 2023,\n                    &quot;totalOrderCount&quot;: 21,\n                    &quot;totalBookCount&quot;: 21,\n                    &quot;totalPrice&quot;: 990.00\n                }\n            ],\n            &quot;pageNumber&quot;: 0,\n            &quot;pageSize&quot;: 10,\n            &quot;totalPageCount&quot;: 3,\n            &quot;totalElementCount&quot;: 21\n        },\n        &quot;isSuccess&quot;: true,\n        &quot;httpStatus&quot;: &quot;OK&quot;,\n        &quot;time&quot;: &quot;2023-09-18T23:13:27.1144251&quot;\n    }\n</code></pre>\n<p>or</p>\n<pre><code>{\n        &quot;response&quot;: {\n            &quot;content&quot;: [\n                {\n                    &quot;month&quot;: &quot;SEPTEMBER&quot;,\n                    &quot;year&quot;: 2023,\n                    &quot;totalOrderCount&quot;: 21,\n                    &quot;totalBookCount&quot;: 21,\n                    &quot;totalPrice&quot;: 2079.00\n                }\n            ],\n            &quot;pageNumber&quot;: 0,\n            &quot;pageSize&quot;: 22,\n            &quot;totalPageCount&quot;: 1,\n            &quot;totalElementCount&quot;: 21\n        },\n        &quot;isSuccess&quot;: true,\n        &quot;httpStatus&quot;: &quot;OK&quot;,\n        &quot;time&quot;: &quot;2023-09-18T23:12:26.3410251&quot;\n    }\n</code></pre>\n<p>As you can see, <code>order size &lt; size</code> -&gt; <code>totalOrderCount</code> and <code>totalBookCount</code> would be wrong value and <code>order size &gt; size</code> -&gt; totalElementCount would be wrong value.</p>\n<p>How can I fix it?</p>\n<p>All these processes can be done from StatisticsController shown below.</p>\n<pre><code>public class StatisticsController {\n\n    private final StatisticsService statisticsService;\n\n    private final Identity identity;\n\n    @GetMapping(&quot;/{customerId}&quot;)\n    @PreAuthorize(&quot;hasAnyAuthority('ROLE_ADMIN','ROLE_CUSTOMER')&quot;)\n    public CustomResponse&lt;CustomPageResponse&lt;OrderReportResponse&gt;&gt; getOrderStatisticsByCustomer(\n            @PathVariable Long customerId,\n            @RequestBody PaginationRequest paginationRequest\n    ) {\n\n        CustomUserDetails customUserDetails = identity.getCustomUserDetails();\n\n        if ((customUserDetails.getId().equals(customerId) &amp;&amp;\n                customUserDetails.getUser().getRole().equals(Role.ROLE_CUSTOMER)\n        ) || customUserDetails.getUser().getRole().equals(Role.ROLE_ADMIN)\n        ) {\n            Page&lt;OrderReportDTO&gt; orderReportDtosByCustomer = statisticsService.getOrderStatisticsByCustomer(customerId, paginationRequest);\n            CustomPageResponse&lt;OrderReportResponse&gt; orderReportResponse = OrderReportMapper.toOrderReportResponseList(orderReportDtosByCustomer);\n            return CustomResponse.ok(orderReportResponse);\n        }\n\n        throw new AccessDeniedException(&quot;You cannot access order statistics&quot;);\n    }\n\n    @GetMapping(&quot;/allstatistics&quot;)\n    @PreAuthorize(&quot;hasAuthority('ROLE_ADMIN')&quot;)\n    public CustomResponse&lt;CustomPageResponse&lt;OrderReportResponse&gt;&gt; getOrderStatistics(@RequestBody PaginationRequest paginationRequest) {\n\n        Page&lt;OrderReportDTO&gt; orderReportAllDtos = statisticsService.getOrderStatistics(paginationRequest);\n        CustomPageResponse&lt;OrderReportResponse&gt; orderReportResponse = OrderReportMapper.toOrderReportResponseList(orderReportAllDtos);\n        return CustomResponse.ok(orderReportResponse);\n\n    }\n\n}\n</code></pre>\n<p>Here is the Java Stream method to calculate statistics for orders.</p>\n<pre><code>private Page&lt;OrderReportDTO&gt; calculateTotalOrderCountByMonth(Page&lt;Order&gt; customerOrders) {\n\n        Map&lt;String, List&lt;Order&gt;&gt; ordersByMonthYear = customerOrders.stream()\n                .collect(Collectors.groupingBy(\n                        order -&gt; order.getCreatedAt().getYear() + &quot;-&quot; + order.getCreatedAt().getMonth()\n                ));\n\n        List&lt;OrderReportDTO&gt; reportDTOs = ordersByMonthYear.entrySet().stream()\n                .map(entry -&gt; {\n                    String monthYearKey = entry.getKey();\n                    List&lt;Order&gt; ordersForMonthYear = entry.getValue();\n                    int totalOrderCount = ordersForMonthYear.size();\n\n                    int totalBookCount = ordersForMonthYear.stream()\n                            .mapToInt(order -&gt; order.getOrderItems().size())\n                            .sum();\n\n                    BigDecimal totalPrice = ordersForMonthYear.stream()\n                            .flatMap(order -&gt; order.getOrderItems().stream())\n                            .map(orderItem -&gt; orderItem.getBook().getPrice())\n                            .reduce(BigDecimal.ZERO, BigDecimal::add);\n\n                    // Splitting the monthYearKey to extract month and year\n                    String[] parts = monthYearKey.split(&quot;-&quot;);\n                    String month = parts[1];\n                    int year = Integer.parseInt(parts[0]);\n\n                    return new OrderReportDTO(month, year, totalOrderCount, totalBookCount, totalPrice);\n                })\n                .toList();\n\n        return new PageImpl&lt;&gt;(reportDTOs, customerOrders.getPageable(), customerOrders.getTotalElements());\n    }\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/bookdelivery\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":28718461,"reputation":1,"user_id":22588067,"display_name":"SteLax"},"score":0,"creation_date":1695103642,"post_id":77130291,"comment_id":135975508,"body_markdown":"As I understand, maven-assembly-plug is replacement for maven-jar-plugin, but I want to use the last one or am I wrong?","body":"As I understand, maven-assembly-plug is replacement for maven-jar-plugin, but I want to use the last one or am I wrong?"},{"owner":{"account_id":28718461,"reputation":1,"user_id":22588067,"display_name":"SteLax"},"score":0,"creation_date":1695107391,"post_id":77130291,"comment_id":135976137,"body_markdown":"I tried to use the solution from the provided link, but it remains the same","body":"I tried to use the solution from the provided link, but it remains the same"}],"owner":{"account_id":28718461,"reputation":1,"user_id":22588067,"display_name":"SteLax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695113958,"answer_count":0,"score":0,"last_activity_date":1695069993,"creation_date":1695069993,"question_id":77130291,"body_markdown":"The build process ends successfully and I receive a jar file, but when I try to run it I get ClassNotFoundException: : com.javarush.games.racer.RacerGame\r\n\r\nMy pom file: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;jru.module3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project-maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;localrep&lt;/id&gt;\r\n            &lt;name&gt;local repository&lt;/name&gt;\r\n            &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.javarush&lt;/groupId&gt;\r\n            &lt;artifactId&gt;desktop-game-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;D:/JDE/IDE/projects/project-maven-master/lib/desktop-game-engine.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;\r\n                    D:\\JDE\\IDE\\projects\\project-maven-master\\lib\\\r\n                &lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;*.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n            &lt;directory&gt;\r\n                D:\\JDE\\IDE\\projects\\project-maven-master\\src\\main\\java\\com\\javarush\\games\\racer\\\r\n            &lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;*.class&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;18&lt;/source&gt;\r\n                    &lt;target&gt;18&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;D:\\JDE\\IDE\\projects\\project-maven-master\\resources\\MANIFEST.MF&lt;/manifestFile&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Rsrc-Main-Class&gt;com.javarush.games.racer.RacerGame&lt;/Rsrc-Main-Class&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;groupId&gt;com.javarush&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;desktop-game-engine&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                    &lt;file&gt;${basedir}/lib/desktop-game-engine.jar&lt;/file&gt;\r\n                    &lt;generatePom&gt;true&lt;/generatePom&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n           \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Run java-fx app over Maven --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.javarush.games.racer.RacerGame&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;\r\n                        ${basedir}/lib/\r\n                    &lt;/outputDirectory&gt;\r\n                    &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\r\n                    &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n                    &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nI tried to add &lt;resources&gt; block to all pom,tried att resources to plugins, tried to change building steps in plugins change plugin settings but to no avail.","title":"Maven creates a jar file but does not add any dependencies to it","body":"<p>The build process ends successfully and I receive a jar file, but when I try to run it I get ClassNotFoundException: : com.javarush.games.racer.RacerGame</p>\n<p>My pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;jru.module3&lt;/groupId&gt;\n    &lt;artifactId&gt;project-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;localrep&lt;/id&gt;\n            &lt;name&gt;local repository&lt;/name&gt;\n            &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.javarush&lt;/groupId&gt;\n            &lt;artifactId&gt;desktop-game-engine&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;D:/JDE/IDE/projects/project-maven-master/lib/desktop-game-engine.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;\n                    D:\\JDE\\IDE\\projects\\project-maven-master\\lib\\\n                &lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;*.jar&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n            &lt;directory&gt;\n                D:\\JDE\\IDE\\projects\\project-maven-master\\src\\main\\java\\com\\javarush\\games\\racer\\\n            &lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.class&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;18&lt;/source&gt;\n                    &lt;target&gt;18&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                    &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;D:\\JDE\\IDE\\projects\\project-maven-master\\resources\\MANIFEST.MF&lt;/manifestFile&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Rsrc-Main-Class&gt;com.javarush.games.racer.RacerGame&lt;/Rsrc-Main-Class&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                    &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;groupId&gt;com.javarush&lt;/groupId&gt;\n                    &lt;artifactId&gt;desktop-game-engine&lt;/artifactId&gt;\n                    &lt;version&gt;1.0&lt;/version&gt;\n                    &lt;packaging&gt;jar&lt;/packaging&gt;\n                    &lt;file&gt;${basedir}/lib/desktop-game-engine.jar&lt;/file&gt;\n                    &lt;generatePom&gt;true&lt;/generatePom&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n           \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Run java-fx app over Maven --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.javarush.games.racer.RacerGame&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;\n                        ${basedir}/lib/\n                    &lt;/outputDirectory&gt;\n                    &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\n                    &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n                    &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I tried to add  block to all pom,tried att resources to plugins, tried to change building steps in plugins change plugin settings but to no avail.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1695055402,"post_id":77128953,"comment_id":135969961,"body_markdown":"In your first for loop you&#39;re assigning references to those rows, not copying the data in them. This means that when you assign values, the rows are looking at the same places, so &quot;both&quot; see 0.","body":"In your first for loop you&#39;re assigning references to those rows, not copying the data in them. This means that when you assign values, the rows are looking at the same places, so &quot;both&quot; see 0."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1695056661,"post_id":77128953,"comment_id":135970226,"body_markdown":"For problems like this, it might help you to write down the answers in plain words (or pseudocode) then code the solution based on that. Also, you might try to come up with a array copy solution first. Create a new array filled with zeros, then copy each row of the original array from index 0 to the new array, starting at the offset (i.e. +2) until you can&#39;t copy no more rows. Then, once you have that solution working, create an &quot;in-place&quot; solution, where you overwrite the rows. Typically, the second approach tends to be more complex than the first. So when learning, this approach should help.","body":"For problems like this, it might help you to write down the answers in plain words (or pseudocode) then code the solution based on that. Also, you might try to come up with a array copy solution first. Create a new array filled with zeros, then copy each row of the original array from index 0 to the new array, starting at the offset (i.e. +2) until you can&#39;t copy no more rows. Then, once you have that solution working, create an &quot;in-place&quot; solution, where you overwrite the rows. Typically, the second approach tends to be more complex than the first. So when learning, this approach should help."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1695058959,"post_id":77128953,"comment_id":135970672,"body_markdown":"If you want to avoid referencing an entire row and causing this issue, you can copy the individual items in each row, going column by column instead with a nested for loop.","body":"If you want to avoid referencing an entire row and causing this issue, you can copy the individual items in each row, going column by column instead with a nested for loop."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695056091,"creation_date":1695055777,"answer_id":77129021,"question_id":77128953,"body_markdown":"When you copy a row from one position to another, **you are copying a reference to the same row in memory** (*[check this out][1]*). You should consider this to your code run properly:\r\n\r\n```java\r\npublic static int[][] move(int[][] a, int shift) {\r\n    int rows = a.length;\r\n    int cols = a[0].length;\r\n    \r\n    // New array to store the result\r\n    int[][] result = new int[rows][cols];\r\n    \r\n    for (int i = 0; i &lt; rows - shift; i++) {\r\n        // Copy the rows\r\n        result[i + shift] = a[i].clone();\r\n    }\r\n\r\n    // Loop it\r\n    for (int i = 0; i &lt; shift; i++) {\r\n        for (int j = 0; j &lt; cols; j++) {\r\n            // Fill with zeros\r\n            result[i][j] = 0;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.javatpoint.com/array-in-java#:~:text=Cloning%20an%20Array%20in%20Java","title":"Move rows of a two-dimensional array","body":"<p>When you copy a row from one position to another, <strong>you are copying a reference to the same row in memory</strong> (<em><a href=\"https://www.javatpoint.com/array-in-java#:%7E:text=Cloning%20an%20Array%20in%20Java\" rel=\"nofollow noreferrer\">check this out</a></em>). You should consider this to your code run properly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[][] move(int[][] a, int shift) {\n    int rows = a.length;\n    int cols = a[0].length;\n    \n    // New array to store the result\n    int[][] result = new int[rows][cols];\n    \n    for (int i = 0; i &lt; rows - shift; i++) {\n        // Copy the rows\n        result[i + shift] = a[i].clone();\n    }\n\n    // Loop it\n    for (int i = 0; i &lt; shift; i++) {\n        for (int j = 0; j &lt; cols; j++) {\n            // Fill with zeros\n            result[i][j] = 0;\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12403595,"reputation":13,"user_id":15349362,"display_name":"Moritz"},"score":0,"creation_date":1695056918,"post_id":77129095,"comment_id":135970284,"body_markdown":"Thanks for your reply, &quot;I would advice you to change each of the row&#39;s values instead of the reference types, as such:&quot;  I do understand what you mean but how do i do that? I do understand the issue with the reference, but how do i tell Java to change the value instead of just the reference?","body":"Thanks for your reply, &quot;I would advice you to change each of the row&#39;s values instead of the reference types, as such:&quot;  I do understand what you mean but how do i do that? I do understand the issue with the reference, but how do i tell Java to change the value instead of just the reference?"},{"owner":{"account_id":29345048,"reputation":15,"user_id":22483631,"display_name":"Manuel"},"score":0,"creation_date":1695058887,"post_id":77129095,"comment_id":135970647,"body_markdown":"you can&#39;t, what you are trying to change is a pointer, and you gave it a new address. The only value a pointer can hold is a reference to another object, so your only viable options are to either give it a clone (the other answer), or you can copy the stuff by value (my ans).","body":"you can&#39;t, what you are trying to change is a pointer, and you gave it a new address. The only value a pointer can hold is a reference to another object, so your only viable options are to either give it a clone (the other answer), or you can copy the stuff by value (my ans)."}],"tags":[],"owner":{"account_id":29345048,"reputation":15,"user_id":22483631,"display_name":"Manuel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695056462,"creation_date":1695056462,"answer_id":77129095,"question_id":77128953,"body_markdown":"I know it must be confusing at first, this weird behavior is due to pointers. When changing the values of the rows for your `shift` function, you have changed the reference types of the third and fourth rows to be the first and second rows.\r\n\r\nThe problem is in the first loop. As a consequence, any change done to the first row is also mirrored in the third row. Same regarding the second row, fourth. You have linked them together.\r\n\r\nThat&#39;s why it changed them as well is the second loop.\r\n\r\nI would advice you to change each of the row&#39;s values instead of the reference types, as such:\r\n\r\n    for (int i = a.length - 1; i &gt;= shift; i--) {\r\n            \r\n        for (int j = 0; j &lt; a[0].length; j++) {\r\n            a[i][j] = a[i - shift][j];\r\n        }\r\n            \r\n    }\r\n\r\nCheers!","title":"Move rows of a two-dimensional array","body":"<p>I know it must be confusing at first, this weird behavior is due to pointers. When changing the values of the rows for your <code>shift</code> function, you have changed the reference types of the third and fourth rows to be the first and second rows.</p>\n<p>The problem is in the first loop. As a consequence, any change done to the first row is also mirrored in the third row. Same regarding the second row, fourth. You have linked them together.</p>\n<p>That's why it changed them as well is the second loop.</p>\n<p>I would advice you to change each of the row's values instead of the reference types, as such:</p>\n<pre><code>for (int i = a.length - 1; i &gt;= shift; i--) {\n        \n    for (int j = 0; j &lt; a[0].length; j++) {\n        a[i][j] = a[i - shift][j];\n    }\n        \n}\n</code></pre>\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695068251,"creation_date":1695067508,"answer_id":77130117,"question_id":77128953,"body_markdown":"Here is one way to do it.  Note that you can do it without creating a new array to store the result.  (i.e. you can do an in place shift).\r\n\r\nThe key point to note is you are copying references in the array.  When you shift the arrays, from left to right, there is no problem.  But you can&#39;t just fill the existing rows with zeroes since you would be overwriting previously copied array objects and they would be altered.\r\n\r\nAlso, the smaller the shift value is the more copying is required.  The exception to this is a value of `0` where you just return the given array.\r\n\r\n```\r\nint[][] a = {{1,1,1,1,1},{1,1,3,1,1},{1,6,2,1,4},{1,1,1,8,1},\r\n         {1,1,1,1,1}};\r\n\r\nSystem.out.println(Arrays.deepToString(move(a, 2)));\r\n```\r\nprints\r\n```\r\n[[0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [1, 1, 1, 1, 1], [1, 1, 3, 1, 1], [1, 6, 2, 1, 4]]\r\n```\r\n- First, check for valid arguments:\r\n   - throw an exception if the shift is out of bounds.\r\n  \r\n   - If the array is `null`, `empty` or the shift value is `0`, just return the original array.\r\n- Otherwise, create a new array of zeroes for insertion into vacated cells.\r\n- Now iterate in over the array, in reverse from the `last cell index` to the `shift value`, copying the appropriate **array references** as you go.\r\n- once finished, simply copy a `clone` of the zero array into the vacated cells using `shift` as `index` and decrement accordingly.\r\n```\r\npublic static int[][] move(int[][] a, int shift) {\r\n  \r\n   // handle special cases\r\n   if (shift &gt; a.length || shift &lt; 0) {\r\n            throw new IllegalArgumentException(\r\n                    &quot;Shift value(%d) out of range for array&quot;\r\n                            .formatted(a.length));\r\n   }\r\n   \r\n   if (a == null || a.length == 0 || shift == 0) {\r\n       return a;\r\n   }\r\n   \r\n   // create zero array replacement\r\n   int[] zeros = new int[a[0].length];\r\n   Arrays.fill(zeros, 0);\r\n   \r\n   // copy the references\r\n   for (int i = a.length-1; i &gt;= shift; i--) {\r\n       a[i] = a[i-shift];\r\n   }\r\n   // fill the &quot;vacated&quot; cells.\r\n   while(shift-- &gt; 0) {\r\n       a[shift] = zeros.clone(); \r\n   }\r\n   return a;\r\n}","title":"Move rows of a two-dimensional array","body":"<p>Here is one way to do it.  Note that you can do it without creating a new array to store the result.  (i.e. you can do an in place shift).</p>\n<p>The key point to note is you are copying references in the array.  When you shift the arrays, from left to right, there is no problem.  But you can't just fill the existing rows with zeroes since you would be overwriting previously copied array objects and they would be altered.</p>\n<p>Also, the smaller the shift value is the more copying is required.  The exception to this is a value of <code>0</code> where you just return the given array.</p>\n<pre><code>int[][] a = {{1,1,1,1,1},{1,1,3,1,1},{1,6,2,1,4},{1,1,1,8,1},\n         {1,1,1,1,1}};\n\nSystem.out.println(Arrays.deepToString(move(a, 2)));\n</code></pre>\n<p>prints</p>\n<pre><code>[[0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [1, 1, 1, 1, 1], [1, 1, 3, 1, 1], [1, 6, 2, 1, 4]]\n</code></pre>\n<ul>\n<li>First, check for valid arguments:\n<ul>\n<li><p>throw an exception if the shift is out of bounds.</p>\n</li>\n<li><p>If the array is <code>null</code>, <code>empty</code> or the shift value is <code>0</code>, just return the original array.</p>\n</li>\n</ul>\n</li>\n<li>Otherwise, create a new array of zeroes for insertion into vacated cells.</li>\n<li>Now iterate in over the array, in reverse from the <code>last cell index</code> to the <code>shift value</code>, copying the appropriate <strong>array references</strong> as you go.</li>\n<li>once finished, simply copy a <code>clone</code> of the zero array into the vacated cells using <code>shift</code> as <code>index</code> and decrement accordingly.</li>\n</ul>\n<pre><code>public static int[][] move(int[][] a, int shift) {\n  \n   // handle special cases\n   if (shift &gt; a.length || shift &lt; 0) {\n            throw new IllegalArgumentException(\n                    &quot;Shift value(%d) out of range for array&quot;\n                            .formatted(a.length));\n   }\n   \n   if (a == null || a.length == 0 || shift == 0) {\n       return a;\n   }\n   \n   // create zero array replacement\n   int[] zeros = new int[a[0].length];\n   Arrays.fill(zeros, 0);\n   \n   // copy the references\n   for (int i = a.length-1; i &gt;= shift; i--) {\n       a[i] = a[i-shift];\n   }\n   // fill the &quot;vacated&quot; cells.\n   while(shift-- &gt; 0) {\n       a[shift] = zeros.clone(); \n   }\n   return a;\n}\n</code></pre>\n"}],"owner":{"account_id":12403595,"reputation":13,"user_id":15349362,"display_name":"Moritz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77129021,"answer_count":3,"score":1,"last_activity_date":1695068251,"creation_date":1695055022,"question_id":77128953,"body_markdown":"my task is to shift the rows of an array by a fixed amount &quot;shift&quot; and fill the shifted rows with zeroes:\r\n\r\nFor example, the Array:\r\n\r\n1 1 1 1 1\r\n\r\n1 1 3 1 1\r\n\r\n1 6 2 1 4\r\n\r\n1 1 1 8 1\r\n\r\n1 1 1 1 1\r\n\r\nshifted by 2 should result in:\r\n\r\n0 0 0 0 0\r\n\r\n0 0 0 0 0 \r\n\r\n1 1 1 1 1 \r\n\r\n1 1 3 1 1\r\n\r\n1 6 2 1 4\r\n\r\n\r\n```\r\npublic static void main(String args[]) {\r\n\t\tint[][] a = { { 1, 1, 1, 1, 1 }, { 1, 1, 3, 1, 1 }, { 1, 6, 2, 1, 4 }, { 1, 1, 1, 8, 1 }, { 1, 1, 1, 1, 1, } };\r\n\r\n\t\tSystem.out.println(Arrays.deepToString(move(a, 2)));\r\n\r\n\t}\r\npublic static int[][] move(int[][] a, int shift) {\r\n\r\n\t\tfor (int i = a.length - 1; i &gt;= shift; i--) {\r\n\t\t\ta[i] = a[i - shift];\r\n\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; shift; i++) {\r\n\r\n\t\t\tfor (int j = 0; j &lt; a[0].length; j++) {\r\n\t\t\t\ta[i][j] = 0;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn a;\r\n\t}\r\n```\r\nMy output is:\r\n`[[0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [1, 6, 2, 1, 4]]`\r\n\r\n\r\n\r\n\r\n\r\n\r\nIf i print my Array after the first for-loop it is correct, i do not understand why the 2nd for-loop changes rows 2 and 3.","title":"Move rows of a two-dimensional array","body":"<p>my task is to shift the rows of an array by a fixed amount &quot;shift&quot; and fill the shifted rows with zeroes:</p>\n<p>For example, the Array:</p>\n<p>1 1 1 1 1</p>\n<p>1 1 3 1 1</p>\n<p>1 6 2 1 4</p>\n<p>1 1 1 8 1</p>\n<p>1 1 1 1 1</p>\n<p>shifted by 2 should result in:</p>\n<p>0 0 0 0 0</p>\n<p>0 0 0 0 0</p>\n<p>1 1 1 1 1</p>\n<p>1 1 3 1 1</p>\n<p>1 6 2 1 4</p>\n<pre><code>public static void main(String args[]) {\n        int[][] a = { { 1, 1, 1, 1, 1 }, { 1, 1, 3, 1, 1 }, { 1, 6, 2, 1, 4 }, { 1, 1, 1, 8, 1 }, { 1, 1, 1, 1, 1, } };\n\n        System.out.println(Arrays.deepToString(move(a, 2)));\n\n    }\npublic static int[][] move(int[][] a, int shift) {\n\n        for (int i = a.length - 1; i &gt;= shift; i--) {\n            a[i] = a[i - shift];\n\n        }\n\n        for (int i = 0; i &lt; shift; i++) {\n\n            for (int j = 0; j &lt; a[0].length; j++) {\n                a[i][j] = 0;\n            }\n\n        }\n\n        return a;\n    }\n</code></pre>\n<p>My output is:\n<code>[[0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [1, 6, 2, 1, 4]]</code></p>\n<p>If i print my Array after the first for-loop it is correct, i do not understand why the 2nd for-loop changes rows 2 and 3.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":14693739,"reputation":52,"user_id":10611649,"display_name":"The43Joker"},"score":0,"creation_date":1542782803,"post_id":53337806,"comment_id":93687959,"body_markdown":"Thank you, you just stopped days of searching for an answer","body":"Thank you, you just stopped days of searching for an answer"}],"tags":[],"owner":{"account_id":10866142,"reputation":129,"user_id":7989456,"display_name":"Nikul Vadher"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1542370810,"creation_date":1542370810,"answer_id":53337806,"question_id":53336185,"body_markdown":"change this line after getting the reference of chartview \r\n\r\n    //prepareGraphTop method\r\n    AnyChartView top = findViewById(R.id.top_soil);\r\n    APIlib.getInstance().setActiveAnyChartView(top);\r\n    //prepareGraphBot method \r\n    AnyChartView bottom = findViewById(R.id.bottom_soil);\r\n    APIlib.getInstance().setActiveAnyChartView(bottom);\r\n    \r\nyou can check the documentation Click [here](https://github.com/AnyChart/AnyChart-Android/wiki/Multiple-charts-in-a-single-layout &quot;Multiple chart in same Activity&quot;)!","title":"AnyChart trying to show 2 line charts on an activity","body":"<p>change this line after getting the reference of chartview </p>\n\n<pre><code>//prepareGraphTop method\nAnyChartView top = findViewById(R.id.top_soil);\nAPIlib.getInstance().setActiveAnyChartView(top);\n//prepareGraphBot method \nAnyChartView bottom = findViewById(R.id.bottom_soil);\nAPIlib.getInstance().setActiveAnyChartView(bottom);\n</code></pre>\n\n<p>you can check the documentation Click <a href=\"https://github.com/AnyChart/AnyChart-Android/wiki/Multiple-charts-in-a-single-layout\" rel=\"nofollow noreferrer\" title=\"Multiple chart in same Activity\">here</a>!</p>\n"},{"tags":[],"owner":{"account_id":13605889,"reputation":1,"user_id":9815066,"display_name":"Shoaib Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695067939,"creation_date":1542375742,"answer_id":53339046,"question_id":53336185,"body_markdown":"Use [MPAndroid Chart][1]\r\n\r\n\r\n  [1]: https://github.com/PhilJay/MPAndroidChart\r\n\r\nA powerful Android chart view / graph view library, supporting line- bar- pie- radar- bubble- and candlestick charts as well as scaling, dragging, animations and MultipleCharts.\r\n\r\nIt is easier to implement multiple charts in one xml file\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;android.support.v7.widget.CardView\r\n                android:id=&quot;@+id/pie_chart_card&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;@dimen/card_layout_padding&quot;\r\n                android:elevation=&quot;@dimen/elevation&quot;\r\n                app:cardCornerRadius=&quot;@dimen/card_radius&quot;&gt;\r\n\r\n                &lt;com.github.mikephil.charting.charts.PieChart\r\n                    android:id=&quot;@+id/pie_chart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;@dimen/card_size_chart_pie&quot; /&gt;\r\n            &lt;/android.support.v7.widget.CardView&gt;\r\n\r\n            &lt;android.support.v7.widget.CardView\r\n                android:id=&quot;@+id/line_chart_card&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/pie_chart_card&quot;\r\n                android:layout_marginBottom=&quot;@dimen/card_layout_padding&quot;\r\n                android:elevation=&quot;@dimen/elevation&quot;\r\n                app:cardCornerRadius=&quot;@dimen/card_radius&quot;&gt;\r\n\r\n                &lt;com.github.mikephil.charting.charts.LineChart\r\n                    android:id=&quot;@+id/line_chart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;@dimen/card_size_chart&quot; /&gt;\r\n            &lt;/android.support.v7.widget.CardView&gt;\r\n\r\n        &lt;/RelativeLayout&gt;","title":"AnyChart trying to show 2 line charts on an activity","body":"<p>Use <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow noreferrer\">MPAndroid Chart</a></p>\n<p>A powerful Android chart view / graph view library, supporting line- bar- pie- radar- bubble- and candlestick charts as well as scaling, dragging, animations and MultipleCharts.</p>\n<p>It is easier to implement multiple charts in one xml file</p>\n<pre><code>    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;android.support.v7.widget.CardView\n            android:id=&quot;@+id/pie_chart_card&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/card_layout_padding&quot;\n            android:elevation=&quot;@dimen/elevation&quot;\n            app:cardCornerRadius=&quot;@dimen/card_radius&quot;&gt;\n\n            &lt;com.github.mikephil.charting.charts.PieChart\n                android:id=&quot;@+id/pie_chart&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;@dimen/card_size_chart_pie&quot; /&gt;\n        &lt;/android.support.v7.widget.CardView&gt;\n\n        &lt;android.support.v7.widget.CardView\n            android:id=&quot;@+id/line_chart_card&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/pie_chart_card&quot;\n            android:layout_marginBottom=&quot;@dimen/card_layout_padding&quot;\n            android:elevation=&quot;@dimen/elevation&quot;\n            app:cardCornerRadius=&quot;@dimen/card_radius&quot;&gt;\n\n            &lt;com.github.mikephil.charting.charts.LineChart\n                android:id=&quot;@+id/line_chart&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;@dimen/card_size_chart&quot; /&gt;\n        &lt;/android.support.v7.widget.CardView&gt;\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":14693739,"reputation":52,"user_id":10611649,"display_name":"The43Joker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53337806,"answer_count":2,"score":0,"last_activity_date":1695067939,"creation_date":1542364861,"question_id":53336185,"body_markdown":"hey everyone so i am trying to display 2 line charts on an activity i am using AnyChart when i change my code to display only 1 chart it works but when i add the second one only that one displays and the first one is gone.\r\n\r\nthis is the activity\r\n\r\npublic class DetailedFieldActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_detailed_field);\r\n\r\n        Intent intentData = getIntent();\r\n        String FieldName = intentData.getStringExtra(&quot;field&quot;);\r\n\r\n        setTitle(FieldName);\r\n\r\n\r\n        prepareGraphTop();\r\n        prepareGraphBot();\r\n    }\r\n\r\n    public void prepareGraphTop() {\r\n\r\n        Intent graphsIntent = getIntent();\r\n        String response = graphsIntent.getStringExtra(&quot;response&quot;);\r\n\r\n\r\n        AnyChartView top = findViewById(R.id.top_soil);\r\n        top.setProgressBar(findViewById(R.id.progress_bar));\r\n\r\n        Cartesian topChartData = AnyChart.line();\r\n\r\n        topChartData.animation(true);\r\n\r\n        topChartData.padding(5d, 10d, 3d, 10d);\r\n\r\n        topChartData.xAxis(0).scale();\r\n        topChartData.xScroller(true).container();\r\n\r\n        topChartData.crosshair().enabled(true);\r\n        topChartData.crosshair()\r\n                .yLabel(true)\r\n                .yStroke((Stroke) null, null, null, (String) null, (String) null);\r\n\r\n        topChartData.tooltip().positionMode(TooltipPositionMode.POINT);\r\n\r\n        topChartData.title(&quot;Top Soil (0 - 400mm)&quot;);\r\n\r\n        topChartData.xAxis(0).labels().padding(3d, 3d, 3d, 3d);\r\n\r\n        final List&lt;DataEntry&gt; seriesDataTop = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n\r\n            JSONObject jsonResponse = new JSONObject(response);\r\n            JSONObject graphs = jsonResponse.getJSONObject(&quot;Grafieke&quot;);\r\n\r\n            JSONArray dates = graphs.names();\r\n\r\n            for (int i = 3; i &lt; graphs.length(); i++) {\r\n\r\n                String dateName = dates.getString(i);\r\n\r\n                JSONObject dateData = graphs.getJSONObject(dateName);\r\n\r\n                Number topSoil = dateData.getInt(&quot;TB&quot;);\r\n                Number bb = dateData.getInt(&quot;BB&quot;);\r\n                Number stressBo = dateData.getInt(&quot;stress&quot;);\r\n                Number verwelpBo = dateData.getInt(&quot;verwelp&quot;);\r\n\r\n                seriesDataTop.add(new CustomDataTop(dateName, topSoil, bb, stressBo));\r\n            }\r\n\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Set setTop = Set.instantiate();\r\n        setTop.data(seriesDataTop);\r\n        Mapping seriesTopMapping1 = setTop.mapAs(&quot;{ x: &#39;x&#39;, value: &#39;value&#39; }&quot;);\r\n        Mapping seriesTopMapping2 = setTop.mapAs(&quot;{ x: &#39;x&#39;, value: &#39;value2&#39; }&quot;);\r\n        Mapping seriesTopMapping3 = setTop.mapAs(&quot;{ x: &#39;x&#39;, value: &#39;value3&#39; }&quot;);\r\n\r\n        Line seriesTop1 = topChartData.line(seriesTopMapping1);\r\n        seriesTop1.name(&quot;TB&quot;);\r\n        seriesTop1.hovered().markers().enabled(true);\r\n        seriesTop1.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesTop1.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        Line seriesTop2 = topChartData.line(seriesTopMapping2);\r\n        seriesTop2.name(&quot;TO&quot;);\r\n        seriesTop2.hovered().markers().enabled(true);\r\n        seriesTop2.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesTop2.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        Line seriesTop3 = topChartData.line(seriesTopMapping3);\r\n        seriesTop3.name(&quot;Stress Bo&quot;);\r\n        seriesTop3.hovered().markers().enabled(true);\r\n        seriesTop3.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesTop3.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        topChartData.legend().enabled(true);\r\n        topChartData.legend().fontSize(13d);\r\n        topChartData.legend().padding(0d, 0d, 10d, 0d);\r\n\r\n        top.setChart(topChartData);\r\n    }\r\n\r\n    public void prepareGraphBot() {\r\n\r\n        Intent graphsIntent = getIntent();\r\n        String response = graphsIntent.getStringExtra(&quot;response&quot;);\r\n\r\n        AnyChartView bottom = findViewById(R.id.bottom_soil);\r\n        bottom.setProgressBar(findViewById(R.id.progress_bar));\r\n\r\n        Cartesian botChartData = AnyChart.line();\r\n\r\n        botChartData.animation(true);\r\n\r\n        botChartData.padding(5d, 10d, 3d, 10d);\r\n\r\n        botChartData.xAxis(0).scale();\r\n        botChartData.xScroller(true).container();\r\n\r\n        botChartData.crosshair().enabled(true);\r\n        botChartData.crosshair()\r\n                .yLabel(true)\r\n                .yStroke((Stroke) null, null, null, (String) null, (String) null);\r\n\r\n        botChartData.tooltip().positionMode(TooltipPositionMode.POINT);\r\n\r\n        botChartData.title(&quot;Bottom Soil (400 - 800mm)&quot;);\r\n\r\n        botChartData.xAxis(0).labels().padding(3d, 3d, 3d, 3d);\r\n\r\n        final List&lt;DataEntry&gt; seriesDataBot = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n\r\n            JSONObject jsonResponse = new JSONObject(response);\r\n            JSONObject graphs = jsonResponse.getJSONObject(&quot;Grafieke&quot;);\r\n\r\n            JSONArray dates = graphs.names();\r\n\r\n            for (int i = 3; i &lt; graphs.length(); i++) {\r\n\r\n                String dateName = dates.getString(i);\r\n\r\n                JSONObject dateData = graphs.getJSONObject(dateName);\r\n\r\n                Number botSoil = dateData.getInt(&quot;TO&quot;);\r\n                Number bo = dateData.getInt(&quot;BO&quot;);\r\n                Number stressOnder = dateData.getInt(&quot;stressonder&quot;);\r\n                Number verwelpOnder = dateData.getInt(&quot;verwelponder&quot;);\r\n                Number pvrOnder = dateData.getInt(&quot;pvronder&quot;);\r\n\r\n                seriesDataBot.add(new CustomDataBot(dateName, botSoil, bo, stressOnder));\r\n            }\r\n\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Set setBot = Set.instantiate();\r\n        setBot.data(seriesDataBot);\r\n        Mapping seriesBotMapping1 = setBot.mapAs(&quot;{ x: &#39;r&#39;, value: &#39;value12&#39; }&quot;);\r\n        Mapping seriesBotMapping2 = setBot.mapAs(&quot;{ x: &#39;r&#39;, value: &#39;value22&#39; }&quot;);\r\n        Mapping seriesBotMapping3 = setBot.mapAs(&quot;{ x: &#39;r&#39;, value: &#39;value32&#39; }&quot;);\r\n\r\n        Line seriesBot1 = botChartData.line(seriesBotMapping1);\r\n        seriesBot1.name(&quot;TO&quot;);\r\n        seriesBot1.hovered().markers().enabled(true);\r\n        seriesBot1.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesBot1.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        Line seriesBot2 = botChartData.line(seriesBotMapping2);\r\n        seriesBot2.name(&quot;BO&quot;);\r\n        seriesBot2.hovered().markers().enabled(true);\r\n        seriesBot2.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesBot2.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        Line seriesBot3 = botChartData.line(seriesBotMapping3);\r\n        seriesBot3.name(&quot;Stress Onder&quot;);\r\n        seriesBot3.hovered().markers().enabled(true);\r\n        seriesBot3.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesBot3.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        botChartData.legend().enabled(true);\r\n        botChartData.legend().fontSize(13d);\r\n        botChartData.legend().padding(0d, 0d, 10d, 0d);\r\n\r\n        bottom.setChart(botChartData);\r\n    }\r\n\r\n    private class CustomDataTop extends ValueDataEntry {\r\n\r\n        CustomDataTop(String x, Number value, Number value2, Number value3) {\r\n            super(x, value);\r\n            setValue(&quot;value2&quot;, value2);\r\n            setValue(&quot;value3&quot;, value3);\r\n        }\r\n    }\r\n\r\n    private class CustomDataBot extends ValueDataEntry {\r\n\r\n        CustomDataBot(String r, Number value12, Number value22, Number value32) {\r\n            super(r, value12);\r\n            setValue(&quot;value22&quot;, value22);\r\n            setValue(&quot;value32&quot;, value32);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nAnd this is my xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.DetailedFieldActivity&quot;&gt;\r\n    \r\n        &lt;com.anychart.AnyChartView\r\n            android:id=&quot;@+id/top_soil&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;210dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginTop=&quot;49dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;&gt;\r\n    \r\n        &lt;/com.anychart.AnyChartView&gt;\r\n    \r\n        &lt;com.anychart.AnyChartView\r\n            android:id=&quot;@+id/bottom_soil&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;201dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginBottom=&quot;50dp&quot;&gt;\r\n    \r\n        &lt;/com.anychart.AnyChartView&gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progress_bar&quot;\r\n            android:layout_width=&quot;278dp&quot;\r\n            android:layout_height=&quot;189dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:layout_marginStart=&quot;53dp&quot;\r\n            android:layout_marginTop=&quot;159dp&quot;\r\n            android:layout_marginEnd=&quot;53dp&quot;\r\n            android:layout_marginBottom=&quot;163dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/top_bottom&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Top Bototm Soil&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/depths&quot;\r\n            android:layout_width=&quot;105dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_above=&quot;@+id/top_soil&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginBottom=&quot;3dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Depths&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/soil_temps&quot;\r\n            android:layout_width=&quot;120dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Soil Temps&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/photo&quot;\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Photos&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/moisture&quot;\r\n            android:layout_width=&quot;121dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Moisture&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/irrigation&quot;\r\n            android:layout_width=&quot;123dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Irrigation&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAny idea on what is wrong?","title":"AnyChart trying to show 2 line charts on an activity","body":"<p>hey everyone so i am trying to display 2 line charts on an activity i am using AnyChart when i change my code to display only 1 chart it works but when i add the second one only that one displays and the first one is gone.</p>\n\n<p>this is the activity</p>\n\n<p>public class DetailedFieldActivity extends AppCompatActivity {</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_detailed_field);\n\n    Intent intentData = getIntent();\n    String FieldName = intentData.getStringExtra(\"field\");\n\n    setTitle(FieldName);\n\n\n    prepareGraphTop();\n    prepareGraphBot();\n}\n\npublic void prepareGraphTop() {\n\n    Intent graphsIntent = getIntent();\n    String response = graphsIntent.getStringExtra(\"response\");\n\n\n    AnyChartView top = findViewById(R.id.top_soil);\n    top.setProgressBar(findViewById(R.id.progress_bar));\n\n    Cartesian topChartData = AnyChart.line();\n\n    topChartData.animation(true);\n\n    topChartData.padding(5d, 10d, 3d, 10d);\n\n    topChartData.xAxis(0).scale();\n    topChartData.xScroller(true).container();\n\n    topChartData.crosshair().enabled(true);\n    topChartData.crosshair()\n            .yLabel(true)\n            .yStroke((Stroke) null, null, null, (String) null, (String) null);\n\n    topChartData.tooltip().positionMode(TooltipPositionMode.POINT);\n\n    topChartData.title(\"Top Soil (0 - 400mm)\");\n\n    topChartData.xAxis(0).labels().padding(3d, 3d, 3d, 3d);\n\n    final List&lt;DataEntry&gt; seriesDataTop = new ArrayList&lt;&gt;();\n\n    try {\n\n        JSONObject jsonResponse = new JSONObject(response);\n        JSONObject graphs = jsonResponse.getJSONObject(\"Grafieke\");\n\n        JSONArray dates = graphs.names();\n\n        for (int i = 3; i &lt; graphs.length(); i++) {\n\n            String dateName = dates.getString(i);\n\n            JSONObject dateData = graphs.getJSONObject(dateName);\n\n            Number topSoil = dateData.getInt(\"TB\");\n            Number bb = dateData.getInt(\"BB\");\n            Number stressBo = dateData.getInt(\"stress\");\n            Number verwelpBo = dateData.getInt(\"verwelp\");\n\n            seriesDataTop.add(new CustomDataTop(dateName, topSoil, bb, stressBo));\n        }\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n\n    Set setTop = Set.instantiate();\n    setTop.data(seriesDataTop);\n    Mapping seriesTopMapping1 = setTop.mapAs(\"{ x: 'x', value: 'value' }\");\n    Mapping seriesTopMapping2 = setTop.mapAs(\"{ x: 'x', value: 'value2' }\");\n    Mapping seriesTopMapping3 = setTop.mapAs(\"{ x: 'x', value: 'value3' }\");\n\n    Line seriesTop1 = topChartData.line(seriesTopMapping1);\n    seriesTop1.name(\"TB\");\n    seriesTop1.hovered().markers().enabled(true);\n    seriesTop1.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesTop1.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    Line seriesTop2 = topChartData.line(seriesTopMapping2);\n    seriesTop2.name(\"TO\");\n    seriesTop2.hovered().markers().enabled(true);\n    seriesTop2.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesTop2.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    Line seriesTop3 = topChartData.line(seriesTopMapping3);\n    seriesTop3.name(\"Stress Bo\");\n    seriesTop3.hovered().markers().enabled(true);\n    seriesTop3.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesTop3.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    topChartData.legend().enabled(true);\n    topChartData.legend().fontSize(13d);\n    topChartData.legend().padding(0d, 0d, 10d, 0d);\n\n    top.setChart(topChartData);\n}\n\npublic void prepareGraphBot() {\n\n    Intent graphsIntent = getIntent();\n    String response = graphsIntent.getStringExtra(\"response\");\n\n    AnyChartView bottom = findViewById(R.id.bottom_soil);\n    bottom.setProgressBar(findViewById(R.id.progress_bar));\n\n    Cartesian botChartData = AnyChart.line();\n\n    botChartData.animation(true);\n\n    botChartData.padding(5d, 10d, 3d, 10d);\n\n    botChartData.xAxis(0).scale();\n    botChartData.xScroller(true).container();\n\n    botChartData.crosshair().enabled(true);\n    botChartData.crosshair()\n            .yLabel(true)\n            .yStroke((Stroke) null, null, null, (String) null, (String) null);\n\n    botChartData.tooltip().positionMode(TooltipPositionMode.POINT);\n\n    botChartData.title(\"Bottom Soil (400 - 800mm)\");\n\n    botChartData.xAxis(0).labels().padding(3d, 3d, 3d, 3d);\n\n    final List&lt;DataEntry&gt; seriesDataBot = new ArrayList&lt;&gt;();\n\n    try {\n\n        JSONObject jsonResponse = new JSONObject(response);\n        JSONObject graphs = jsonResponse.getJSONObject(\"Grafieke\");\n\n        JSONArray dates = graphs.names();\n\n        for (int i = 3; i &lt; graphs.length(); i++) {\n\n            String dateName = dates.getString(i);\n\n            JSONObject dateData = graphs.getJSONObject(dateName);\n\n            Number botSoil = dateData.getInt(\"TO\");\n            Number bo = dateData.getInt(\"BO\");\n            Number stressOnder = dateData.getInt(\"stressonder\");\n            Number verwelpOnder = dateData.getInt(\"verwelponder\");\n            Number pvrOnder = dateData.getInt(\"pvronder\");\n\n            seriesDataBot.add(new CustomDataBot(dateName, botSoil, bo, stressOnder));\n        }\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n\n    Set setBot = Set.instantiate();\n    setBot.data(seriesDataBot);\n    Mapping seriesBotMapping1 = setBot.mapAs(\"{ x: 'r', value: 'value12' }\");\n    Mapping seriesBotMapping2 = setBot.mapAs(\"{ x: 'r', value: 'value22' }\");\n    Mapping seriesBotMapping3 = setBot.mapAs(\"{ x: 'r', value: 'value32' }\");\n\n    Line seriesBot1 = botChartData.line(seriesBotMapping1);\n    seriesBot1.name(\"TO\");\n    seriesBot1.hovered().markers().enabled(true);\n    seriesBot1.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesBot1.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    Line seriesBot2 = botChartData.line(seriesBotMapping2);\n    seriesBot2.name(\"BO\");\n    seriesBot2.hovered().markers().enabled(true);\n    seriesBot2.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesBot2.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    Line seriesBot3 = botChartData.line(seriesBotMapping3);\n    seriesBot3.name(\"Stress Onder\");\n    seriesBot3.hovered().markers().enabled(true);\n    seriesBot3.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesBot3.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    botChartData.legend().enabled(true);\n    botChartData.legend().fontSize(13d);\n    botChartData.legend().padding(0d, 0d, 10d, 0d);\n\n    bottom.setChart(botChartData);\n}\n\nprivate class CustomDataTop extends ValueDataEntry {\n\n    CustomDataTop(String x, Number value, Number value2, Number value3) {\n        super(x, value);\n        setValue(\"value2\", value2);\n        setValue(\"value3\", value3);\n    }\n}\n\nprivate class CustomDataBot extends ValueDataEntry {\n\n    CustomDataBot(String r, Number value12, Number value22, Number value32) {\n        super(r, value12);\n        setValue(\"value22\", value22);\n        setValue(\"value32\", value32);\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And this is my xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".DetailedFieldActivity\"&gt;\n\n    &lt;com.anychart.AnyChartView\n        android:id=\"@+id/top_soil\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"210dp\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_marginStart=\"0dp\"\n        android:layout_marginTop=\"49dp\"\n        android:layout_marginEnd=\"0dp\"&gt;\n\n    &lt;/com.anychart.AnyChartView&gt;\n\n    &lt;com.anychart.AnyChartView\n        android:id=\"@+id/bottom_soil\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"201dp\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_marginStart=\"0dp\"\n        android:layout_marginBottom=\"50dp\"&gt;\n\n    &lt;/com.anychart.AnyChartView&gt;\n\n    &lt;ProgressBar\n        android:id=\"@+id/progress_bar\"\n        android:layout_width=\"278dp\"\n        android:layout_height=\"189dp\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_centerVertical=\"true\"\n        android:layout_marginStart=\"53dp\"\n        android:layout_marginTop=\"159dp\"\n        android:layout_marginEnd=\"53dp\"\n        android:layout_marginBottom=\"163dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/top_bottom\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginTop=\"0dp\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Top Bototm Soil\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/depths\"\n        android:layout_width=\"105dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_above=\"@+id/top_soil\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginBottom=\"3dp\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Depths\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/soil_temps\"\n        android:layout_width=\"120dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_marginTop=\"0dp\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Soil Temps\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/photo\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Photos\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/moisture\"\n        android:layout_width=\"121dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Moisture\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/irrigation\"\n        android:layout_width=\"123dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Irrigation\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Any idea on what is wrong?</p>\n"},{"tags":["java","intellij-idea","access-denied"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":3,"creation_date":1510119239,"post_id":47172148,"comment_id":81293890,"body_markdown":"Did you try running it in `Run as Administrator` mode?","body":"Did you try running it in <code>Run as Administrator</code> mode?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1510122305,"post_id":47172148,"comment_id":81295052,"body_markdown":"What antivirus do you use?","body":"What antivirus do you use?"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1510122409,"post_id":47172148,"comment_id":81295090,"body_markdown":"You should ask your System Administrator for help. There is nothing you can do if you have no permission.","body":"You should ask your System Administrator for help. There is nothing you can do if you have no permission."},{"owner":{"account_id":12199645,"reputation":101,"user_id":8904232,"display_name":"E. Gonzalez"},"score":0,"creation_date":1510124699,"post_id":47172148,"comment_id":81296120,"body_markdown":"Running IntelliJ? I hadn&#39;t , but the error is still coming up when I do","body":"Running IntelliJ? I hadn&#39;t , but the error is still coming up when I do"},{"owner":{"account_id":12199645,"reputation":101,"user_id":8904232,"display_name":"E. Gonzalez"},"score":0,"creation_date":1510124764,"post_id":47172148,"comment_id":81296146,"body_markdown":"And MacAfee is the default antivirus and I get popups that my trial ended, but I am using WebRoot","body":"And MacAfee is the default antivirus and I get popups that my trial ended, but I am using WebRoot"},{"owner":{"account_id":2072373,"reputation":724,"user_id":1846528,"display_name":"M-sAnNan"},"score":0,"creation_date":1642666161,"post_id":47172148,"comment_id":125132847,"body_markdown":"if you have any antivirus installed?  add exception for the\n    said folder\nRun IntelliJ as admin","body":"if you have any antivirus installed?  add exception for the     said folder Run IntelliJ as admin"},{"owner":{"account_id":7465632,"reputation":14579,"user_id":5675325,"accept_rate":85,"display_name":"Tiago Martins Peres"},"score":0,"creation_date":1695047170,"post_id":47172148,"comment_id":135968254,"body_markdown":"`Run as Administrator` worked for me","body":"<code>Run as Administrator</code> worked for me"}],"answers":[{"tags":[],"owner":{"account_id":19607959,"reputation":1,"user_id":14351148,"display_name":"Nikhil Bompelly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607150669,"creation_date":1607126459,"answer_id":65152377,"question_id":47172148,"body_markdown":"If you are having access denied as output, please try to change the project or file path in any of the local disk except Local Disk C;\\, it worked for me.","title":"IntelliJ (Access is denied)","body":"<p>If you are having access denied as output, please try to change the project or file path in any of the local disk except Local Disk C;, it worked for me.</p>\n"}],"owner":{"account_id":12199645,"reputation":101,"user_id":8904232,"display_name":"E. Gonzalez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15329,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1695067218,"creation_date":1510118814,"question_id":47172148,"body_markdown":"My professor had us upgrade from the community version of IntelliJ to the ultimate version, as well as begin using JDK 9.0 versus 1.8 and start using Scenebuilder. When I try to build my code though I keep getting the (Access is denied) error. When I try to open up the \r\n\r\n&quot;C:\\Users\\USERNAME\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings&quot; \r\n\r\nfolder in file explorer, access is denied. I have tried taking ownership of the folder, but I do not have permission to make any changes to it. The same problem is popping up when I run older programs that worked earlier in the semester as well. \r\n\r\nI have already tried uninstalling IntelliJ and running a disk cleanup, then reinstalling but the problem still comes up. \r\n\r\nAny ideas as to what went wrong or how to fix? \r\nI am running Windows 10 , which I have heard has been having a few issues with access and ownership, etc, and am the only user on the laptop.\r\n\r\nWhen I restart my computer, the first time I try building a project this error actually pops up first and then every time after that, the error further below appears.\r\n\r\n    Error:Internal error: can&#39;t save module index: C:\\Users\\Eric Gonzalez\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\jigsaw\\module-info.map (Access is denied)\r\n\r\n\r\n\r\n\r\nThis is the error message: \r\n\r\n    `Error:Internal error: (java.io.FileNotFoundException) C:\\Users\\USERNAME\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings\\strings.tab (Access is denied)\r\n    java.io.FileNotFoundException: C:\\Users\\USERNAME\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings\\strings.tab (Access is denied)\r\n    \tat java.base/java.io.RandomAccessFile.open0(Native Method)\r\n    \tat java.base/java.io.RandomAccessFile.open(RandomAccessFile.java:343)\r\n    \tat java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:259)\r\n    \tat java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:214)\r\n    \tat com.intellij.util.io.PagedFileStorage.resizeFile(PagedFileStorage.java:355)\r\n    \tat com.intellij.util.io.PagedFileStorage.resize(PagedFileStorage.java:338)\r\n    \tat com.intellij.util.io.ResizeableMappedFile.&lt;init&gt;(ResizeableMappedFile.java:60)\r\n    \tat com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:82)\r\n    \tat com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:74)\r\n    \tat com.intellij.util.io.PersistentEnumeratorDelegate.&lt;init&gt;(PersistentEnumeratorDelegate.java:38)\r\n    \tat com.intellij.util.io.PersistentStringEnumerator.&lt;init&gt;(PersistentStringEnumerator.java:53)\r\n    \tat com.intellij.util.io.PersistentStringEnumerator.&lt;init&gt;(PersistentStringEnumerator.java:36)\r\n    \tat org.jetbrains.jps.builders.java.dependencyView.DependencyContext.&lt;init&gt;(DependencyContext.java:77)\r\n    \tat org.jetbrains.jps.builders.java.dependencyView.Mappings.createImplementation(Mappings.java:135)\r\n    \tat org.jetbrains.jps.builders.java.dependencyView.Mappings.&lt;init&gt;(Mappings.java:127)\r\n    \tat org.jetbrains.jps.incremental.storage.BuildDataManager.&lt;init&gt;(BuildDataManager.java:133)\r\n    \tat org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:111)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:267)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:125)\r\n    \tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:236)\r\n    \tat org.jetbrains.jps.service.impl.SharedThreadPoolImpl.lambda$executeOnPooledThread$0(SharedThreadPoolImpl.java:42)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:844)\r\n    Please perform full project rebuild (Build | Rebuild Project)\r\n\r\n\r\nI have also just found a similar problem in running Unity. In trying to build a project in Unity I receive the message \r\n\r\n    Creating directory Library/SceiptAssemblies failed.\r\n    Please ensure there is enough disk space and you have\r\n    permissions setup correctly.\r\n\r\nAnd again intrying to acces the folder, i get the same problems as I did with IntelliJ.\r\n\r\n","title":"IntelliJ (Access is denied)","body":"<p>My professor had us upgrade from the community version of IntelliJ to the ultimate version, as well as begin using JDK 9.0 versus 1.8 and start using Scenebuilder. When I try to build my code though I keep getting the (Access is denied) error. When I try to open up the </p>\n\n<p>\"C:\\Users\\USERNAME.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings\" </p>\n\n<p>folder in file explorer, access is denied. I have tried taking ownership of the folder, but I do not have permission to make any changes to it. The same problem is popping up when I run older programs that worked earlier in the semester as well. </p>\n\n<p>I have already tried uninstalling IntelliJ and running a disk cleanup, then reinstalling but the problem still comes up. </p>\n\n<p>Any ideas as to what went wrong or how to fix? \nI am running Windows 10 , which I have heard has been having a few issues with access and ownership, etc, and am the only user on the laptop.</p>\n\n<p>When I restart my computer, the first time I try building a project this error actually pops up first and then every time after that, the error further below appears.</p>\n\n<pre><code>Error:Internal error: can't save module index: C:\\Users\\Eric Gonzalez\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\jigsaw\\module-info.map (Access is denied)\n</code></pre>\n\n<p>This is the error message: </p>\n\n<pre><code>`Error:Internal error: (java.io.FileNotFoundException) C:\\Users\\USERNAME\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings\\strings.tab (Access is denied)\njava.io.FileNotFoundException: C:\\Users\\USERNAME\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings\\strings.tab (Access is denied)\n    at java.base/java.io.RandomAccessFile.open0(Native Method)\n    at java.base/java.io.RandomAccessFile.open(RandomAccessFile.java:343)\n    at java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:259)\n    at java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:214)\n    at com.intellij.util.io.PagedFileStorage.resizeFile(PagedFileStorage.java:355)\n    at com.intellij.util.io.PagedFileStorage.resize(PagedFileStorage.java:338)\n    at com.intellij.util.io.ResizeableMappedFile.&lt;init&gt;(ResizeableMappedFile.java:60)\n    at com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:82)\n    at com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:74)\n    at com.intellij.util.io.PersistentEnumeratorDelegate.&lt;init&gt;(PersistentEnumeratorDelegate.java:38)\n    at com.intellij.util.io.PersistentStringEnumerator.&lt;init&gt;(PersistentStringEnumerator.java:53)\n    at com.intellij.util.io.PersistentStringEnumerator.&lt;init&gt;(PersistentStringEnumerator.java:36)\n    at org.jetbrains.jps.builders.java.dependencyView.DependencyContext.&lt;init&gt;(DependencyContext.java:77)\n    at org.jetbrains.jps.builders.java.dependencyView.Mappings.createImplementation(Mappings.java:135)\n    at org.jetbrains.jps.builders.java.dependencyView.Mappings.&lt;init&gt;(Mappings.java:127)\n    at org.jetbrains.jps.incremental.storage.BuildDataManager.&lt;init&gt;(BuildDataManager.java:133)\n    at org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:111)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:267)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:125)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:236)\n    at org.jetbrains.jps.service.impl.SharedThreadPoolImpl.lambda$executeOnPooledThread$0(SharedThreadPoolImpl.java:42)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.base/java.lang.Thread.run(Thread.java:844)\nPlease perform full project rebuild (Build | Rebuild Project)\n</code></pre>\n\n<p>I have also just found a similar problem in running Unity. In trying to build a project in Unity I receive the message </p>\n\n<pre><code>Creating directory Library/SceiptAssemblies failed.\nPlease ensure there is enough disk space and you have\npermissions setup correctly.\n</code></pre>\n\n<p>And again intrying to acces the folder, i get the same problems as I did with IntelliJ.</p>\n"},{"tags":["java","multithreading","asynchronous","future","completable-future"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695066677,"creation_date":1695066677,"answer_id":77130046,"question_id":77129990,"body_markdown":"You can catch the exception using a lambda expression in the `.map()` method, and then filter the null values of the list, this way:\r\n\r\n```java\r\nCompletableFuture&lt;List&lt;MysticPlanetsNatalChartAspectResponse&gt;&gt; resultFuture = timeoutFuture\r\n                .thenApply(v -&gt; futures.stream()\r\n                        .map(future -&gt; {\r\n                            try {\r\n                                return future.join();\r\n                            } catch (CompletionException | CancellationException ex) {\r\n                                // Handle the exception here\r\n                                return null;\r\n                            }\r\n                        })\r\n                        // Filter out null results\r\n                        .filter(Objects::nonNull) \r\n                        .collect(Collectors.toList()));\r\n```","title":"Interrupt underlying execution of CompletableFuture","body":"<p>You can catch the exception using a lambda expression in the <code>.map()</code> method, and then filter the null values of the list, this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;List&lt;MysticPlanetsNatalChartAspectResponse&gt;&gt; resultFuture = timeoutFuture\n                .thenApply(v -&gt; futures.stream()\n                        .map(future -&gt; {\n                            try {\n                                return future.join();\n                            } catch (CompletionException | CancellationException ex) {\n                                // Handle the exception here\n                                return null;\n                            }\n                        })\n                        // Filter out null results\n                        .filter(Objects::nonNull) \n                        .collect(Collectors.toList()));\n</code></pre>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77130046,"answer_count":1,"score":0,"last_activity_date":1695066677,"creation_date":1695066012,"question_id":77129990,"body_markdown":"I havw this piece of code:\r\n\r\n     CompletableFuture&lt;Void&gt; timeoutFuture = CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]))\r\n                    .orTimeout(1, TimeUnit.SECONDS); // Set a timeout for all futures combined\r\n    \r\n            CompletableFuture&lt;List&lt;MysticPlanetsNatalChartAspectResponse&gt;&gt; resultFuture = timeoutFuture\r\n                    .thenApply(v -&gt; futures.stream()\r\n                            .map(CompletableFuture::join)\r\n                            .collect(Collectors.toList()));\r\n    \r\n            // Cancel any remaining futures that may not have completed\r\n            futures.forEach(future -&gt; {\r\n                if (!future.isDone() &amp;&amp; !future.isCancelled()) {\r\n                    try {\r\n                        future.cancel(true);\r\n                    } catch (Throwable c) {\r\n                        //System.out.println(c.getMessage());\r\n                    }\r\n                }\r\n            });\r\n\r\nbut the Exception is not catched and i see it in the console:\r\n\r\n\r\n    2023-09-18T21:38:43,869+02:00 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.CompletionException: java.util.concurrent.CancellationException] with root cause\r\n    java.util.concurrent.CancellationException: null","title":"Interrupt underlying execution of CompletableFuture","body":"<p>I havw this piece of code:</p>\n<pre><code> CompletableFuture&lt;Void&gt; timeoutFuture = CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]))\n                .orTimeout(1, TimeUnit.SECONDS); // Set a timeout for all futures combined\n\n        CompletableFuture&lt;List&lt;MysticPlanetsNatalChartAspectResponse&gt;&gt; resultFuture = timeoutFuture\n                .thenApply(v -&gt; futures.stream()\n                        .map(CompletableFuture::join)\n                        .collect(Collectors.toList()));\n\n        // Cancel any remaining futures that may not have completed\n        futures.forEach(future -&gt; {\n            if (!future.isDone() &amp;&amp; !future.isCancelled()) {\n                try {\n                    future.cancel(true);\n                } catch (Throwable c) {\n                    //System.out.println(c.getMessage());\n                }\n            }\n        });\n</code></pre>\n<p>but the Exception is not catched and i see it in the console:</p>\n<pre><code>2023-09-18T21:38:43,869+02:00 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.CompletionException: java.util.concurrent.CancellationException] with root cause\njava.util.concurrent.CancellationException: null\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1608370702,"post_id":65367670,"comment_id":115566841,"body_markdown":"Note: If you&#39;re not experienced enough with Spring to debug this problem, you shouldn&#39;t be messing with pre-release builds. (Your problem is almost certainly to do with JSP paths. JSPs are a headache, and this is one of many reasons why; Thymeleaf is a superior alternative for new projects.)","body":"Note: If you&#39;re not experienced enough with Spring to debug this problem, you shouldn&#39;t be messing with pre-release builds. (Your problem is almost certainly to do with JSP paths. JSPs are a headache, and this is one of many reasons why; Thymeleaf is a superior alternative for new projects.)"},{"owner":{"account_id":14414124,"reputation":758,"user_id":10412027,"display_name":"Gabriel Rogath"},"score":0,"creation_date":1608394617,"post_id":65367670,"comment_id":115573073,"body_markdown":"@chrylis-cautiouslyoptimistic- could this be a bug, why would JSP behave like this?  Am struggling myself with the same issue.Here is my post:  https://stackoverflow.com/questions/65366871/could-jsp-file-not-found-be-a-bug-in-spring/65369026#65369026","body":"@chrylis-cautiouslyoptimistic- could this be a bug, why would JSP behave like this?  Am struggling myself with the same issue.Here is my post:  <a href=\"https://stackoverflow.com/questions/65366871/could-jsp-file-not-found-be-a-bug-in-spring/65369026#65369026\" title=\"could jsp file not found be a bug in spring\">stackoverflow.com/questions/65366871/&hellip;</a>"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1608395123,"post_id":65367670,"comment_id":115573213,"body_markdown":"@GabrielRogath tl;dr JSP is a legacy technology and `webapp`/`WEB-INF` have weird rules that are hard to keep straight. With other template engines, the templates are just data files, and the normal rules apply.","body":"@GabrielRogath tl;dr JSP is a legacy technology and <code>webapp</code>/<code>WEB-INF</code> have weird rules that are hard to keep straight. With other template engines, the templates are just data files, and the normal rules apply."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608727509,"post_id":65367670,"comment_id":115667403,"body_markdown":"JSP will only work with a war file due to resource loading. See (amongst others) https://github.com/spring-projects/spring-boot/issues/23829 and read [the documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-jsp-limitations).","body":"JSP will only work with a war file due to resource loading. See (amongst others) <a href=\"https://github.com/spring-projects/spring-boot/issues/23829\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/23829</a> and read <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-jsp-limitations\" rel=\"nofollow noreferrer\">the documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":8116116,"reputation":31,"user_id":10060530,"display_name":"Saddam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608387672,"creation_date":1608387672,"answer_id":65370765,"question_id":65367670,"body_markdown":"Add &quot;/&quot; at the end of property:\r\n\r\n`\r\nspring.mvc.view.prefix=/WEB-INF/views/\r\n`","title":"@controller not working but @restcontroller working in spring boot","body":"<p>Add &quot;/&quot; at the end of property:</p>\n<p><code>spring.mvc.view.prefix=/WEB-INF/views/</code></p>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608727367,"post_id":65424477,"comment_id":115667351,"body_markdown":"The dependency is already there and you don&#39;t have to return a `ModelAndView` there are multiple other options.","body":"The dependency is already there and you don&#39;t have to return a <code>ModelAndView</code> there are multiple other options."}],"tags":[],"owner":{"account_id":12350917,"reputation":14,"user_id":9009530,"display_name":"Lenherd Deon Olivera"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1608727152,"creation_date":1608727152,"answer_id":65424477,"question_id":65367670,"body_markdown":"This dependency means you are internally using Spring MVC for your spring boot app.\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSo you need to use a **ModelAndView** object here that must be returned by your method,\r\n\r\n&gt; ModelAndView is a holder for both Model and View in the web MVC\r\n&gt; framework. Note that these are entirely distinct. This class merely\r\n&gt; holds both to make it possible for a controller to return both model\r\n&gt; and view in a single return value. Represents a model and view\r\n&gt; returned by a handler, to be resolved by a DispatcherServlet. The view\r\n&gt; can take the form of a String view name which will need to be resolved\r\n&gt; by a ViewResolver object; alternatively a View object can be specified\r\n&gt; directly. The model is a Map, allowing the use of multiple objects\r\n&gt; keyed by name.\r\n\r\nMore details on ModelAndView [here][1]      \r\nTry this\r\n\r\n    @RequestMapping(value = &quot;/welcome&quot;, method= RequestMethod.GET )\r\n      public ModelAndView register(){\r\n\r\n        return new ModelAndView(&quot;registration&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/ModelAndView.html","title":"@controller not working but @restcontroller working in spring boot","body":"<p>This dependency means you are internally using Spring MVC for your spring boot app.</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>So you need to use a <strong>ModelAndView</strong> object here that must be returned by your method,</p>\n<blockquote>\n<p>ModelAndView is a holder for both Model and View in the web MVC\nframework. Note that these are entirely distinct. This class merely\nholds both to make it possible for a controller to return both model\nand view in a single return value. Represents a model and view\nreturned by a handler, to be resolved by a DispatcherServlet. The view\ncan take the form of a String view name which will need to be resolved\nby a ViewResolver object; alternatively a View object can be specified\ndirectly. The model is a Map, allowing the use of multiple objects\nkeyed by name.</p>\n</blockquote>\n<p>More details on ModelAndView <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/ModelAndView.html\" rel=\"nofollow noreferrer\">here</a><br />\nTry this</p>\n<pre><code>@RequestMapping(value = &quot;/welcome&quot;, method= RequestMethod.GET )\n  public ModelAndView register(){\n\n    return new ModelAndView(&quot;registration&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10087574,"reputation":587,"user_id":7455604,"display_name":"Tinsae"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647388216,"creation_date":1647388216,"answer_id":71490296,"question_id":65367670,"body_markdown":"I had the same problem , I had done many attemps but none has worked because, the real problem was that, theamleaf was disabled from , application.yalm\r\n\r\n```yaml\r\n  server:\r\n  port: 8091\r\n  servlet:\r\n    session:\r\n      timeout: 600s\r\n\r\nspring:\r\n  thymeleaf:\r\n    enabled: true\r\n  datasource:\r\n    name: dbname  #数据库名\r\n    url: jdbc:mysql://localhost:3306/\r\n    username: username  #用户名\r\n    password: password  #密码\r\n    driver-class-name: com.mysql.cj.jdbc.Driver  #数据库链接驱动\r\n    type: com.alibaba.druid.pool.DruidDataSource #使用druid数据源\r\n  servlet:\r\n    multipart:\r\n      max-file-size: 10MB\r\n      max-request-size: 10MB\r\n  redis:\r\n    port: 6379\r\n    host: &quot;localhost&quot;\r\n\r\nmybatis:\r\n  type-aliases-package: matsk.mszdqabbs.Pojo\r\n  mapperLocations: classpath:mapper/*.xml\r\n  configuration:\r\n    use-generated-keys: true\r\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\r\n\r\nlogging:\r\n  pattern:\r\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n&quot;\r\n    console: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n&quot;\r\n  file:\r\n    max-history: 30\r\n    max-size: 10MB\r\n    path: &quot;./logs&quot;\r\n    name: &quot;./logs/mszdqabbs.log&quot;\r\n  level:\r\n    root: INFO\r\n\r\n```\r\n","title":"@controller not working but @restcontroller working in spring boot","body":"<p>I had the same problem , I had done many attemps but none has worked because, the real problem was that, theamleaf was disabled from , application.yalm</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  server:\n  port: 8091\n  servlet:\n    session:\n      timeout: 600s\n\nspring:\n  thymeleaf:\n    enabled: true\n  datasource:\n    name: dbname  #数据库名\n    url: jdbc:mysql://localhost:3306/\n    username: username  #用户名\n    password: password  #密码\n    driver-class-name: com.mysql.cj.jdbc.Driver  #数据库链接驱动\n    type: com.alibaba.druid.pool.DruidDataSource #使用druid数据源\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n  redis:\n    port: 6379\n    host: &quot;localhost&quot;\n\nmybatis:\n  type-aliases-package: matsk.mszdqabbs.Pojo\n  mapperLocations: classpath:mapper/*.xml\n  configuration:\n    use-generated-keys: true\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n\nlogging:\n  pattern:\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n&quot;\n    console: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n&quot;\n  file:\n    max-history: 30\n    max-size: 10MB\n    path: &quot;./logs&quot;\n    name: &quot;./logs/mszdqabbs.log&quot;\n  level:\n    root: INFO\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26392668,"reputation":11,"user_id":20044329,"display_name":"Goran Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695066635,"creation_date":1694952824,"answer_id":77121736,"question_id":65367670,"body_markdown":"Had this issue and spend some time learning so I find this...\r\n\r\nControllers annotated with `@Controller` return views (*HTML templates*) by default, and they are often used in combination with *Thymeleaf*, *JSP*, or other template engines.\r\n\r\n`@RestController` is used for building web services that return data in formats like *JSON* or *XML*. \r\n\r\nIn order to use `@Controller` you can go with -&gt;\r\n\r\nAdd `@ResponseBody` annotation below `@GetMapping` -&gt;   \r\n\r\n```java\r\n@Controller\r\npublic class MyController {\r\n\r\n    @GetMapping(&quot;/message&quot;)\r\n    @ResponseBody\r\n    public String showMessage() {\r\n        return &quot;Hello, this is a simple message!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nor you can:\r\n\r\n```java\r\n@GetMapping(&quot;/message2&quot;)\r\npublic ResponseEntity&lt;String&gt; getEmployeeById(){\r\n    return new ResponseEntity&lt;String&gt;(&quot;Your response...&quot;, HttpStatus.OK);\r\n}\r\n```\r\n\r\nThere is for sure more options how to avoid Whitelabel Error Page just need to find way...","title":"@controller not working but @restcontroller working in spring boot","body":"<p>Had this issue and spend some time learning so I find this...</p>\n<p>Controllers annotated with <code>@Controller</code> return views (<em>HTML templates</em>) by default, and they are often used in combination with <em>Thymeleaf</em>, <em>JSP</em>, or other template engines.</p>\n<p><code>@RestController</code> is used for building web services that return data in formats like <em>JSON</em> or <em>XML</em>.</p>\n<p>In order to use <code>@Controller</code> you can go with -&gt;</p>\n<p>Add <code>@ResponseBody</code> annotation below <code>@GetMapping</code> -&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class MyController {\n\n    @GetMapping(&quot;/message&quot;)\n    @ResponseBody\n    public String showMessage() {\n        return &quot;Hello, this is a simple message!&quot;;\n    }\n}\n</code></pre>\n<p>or you can:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/message2&quot;)\npublic ResponseEntity&lt;String&gt; getEmployeeById(){\n    return new ResponseEntity&lt;String&gt;(&quot;Your response...&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>There is for sure more options how to avoid Whitelabel Error Page just need to find way...</p>\n"}],"owner":{"account_id":6017073,"reputation":71,"user_id":4725508,"accept_rate":67,"display_name":"Pravin Kottawar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1976,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1695066635,"creation_date":1608363456,"question_id":65367670,"body_markdown":"Hi I have create simple spring boot application using spring initializr.\r\nI added one controller in same folder of main application class.\r\n\r\n    package com.demo.CrudOperations;\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n\r\n\r\n      @Controller\r\n      public class RegistrationController {\r\n\t\r\n\t      @RequestMapping(value = &quot;/welcome&quot;, method= RequestMethod.GET )\r\n      \t  public String register(){\r\n\t      \treturn &quot;registration&quot;;\r\n       \t}\r\n\r\n      }\r\n\r\nThis is giving me following error for url \r\nhttp://localhost:8080/welcome\r\n\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nSat Dec 19 12:51:44 IST 2020\r\nThere was an unexpected error (type=Not Found, status=404).\r\n\r\nIf I use @restcontroller instead of @Controller it is returning me &quot;registration&quot; .\r\nIn my WEB-INF under views I have created registration.jsp. Here is application.properties file\r\n\r\n     spring.mvc.view.prefix=/WEB-INF/views\r\n     spring.mvc.view.suffix=.jsp\r\n\r\n\r\n\r\npom.xml showing unknow error.\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.CrudOperations&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;CrudOperations&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;CrudOperations&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Crud Operations&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- JSTL for JSP --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nHere is how directory structure looks like\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan some one tell me where I am making mistake ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0JIgg.png\r\n\r\nI also tried adding @ResponseBody but it gave me simple string instead of jsp file.","title":"@controller not working but @restcontroller working in spring boot","body":"<p>Hi I have create simple spring boot application using spring initializr.\nI added one controller in same folder of main application class.</p>\n<pre><code>package com.demo.CrudOperations;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n\n  @Controller\n  public class RegistrationController {\n\n      @RequestMapping(value = &quot;/welcome&quot;, method= RequestMethod.GET )\n      public String register(){\n        return &quot;registration&quot;;\n    }\n\n  }\n</code></pre>\n<p>This is giving me following error for url\nhttp://localhost:8080/welcome</p>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Sat Dec 19 12:51:44 IST 2020\nThere was an unexpected error (type=Not Found, status=404).</p>\n<p>If I use @restcontroller instead of @Controller it is returning me &quot;registration&quot; .\nIn my WEB-INF under views I have created registration.jsp. Here is application.properties file</p>\n<pre><code> spring.mvc.view.prefix=/WEB-INF/views\n spring.mvc.view.suffix=.jsp\n</code></pre>\n<p>pom.xml showing unknow error.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.CrudOperations&lt;/groupId&gt;\n    &lt;artifactId&gt;CrudOperations&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CrudOperations&lt;/name&gt;\n    &lt;description&gt;Demo project for Crud Operations&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- JSTL for JSP --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is how directory structure looks like</p>\n<p><a href=\"https://i.stack.imgur.com/0JIgg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0JIgg.png\" alt=\"enter image description here\" /></a></p>\n<p>Can some one tell me where I am making mistake ?</p>\n<p>I also tried adding @ResponseBody but it gave me simple string instead of jsp file.</p>\n"},{"tags":["java","html","spring-boot","maven","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695066060,"creation_date":1695066060,"answer_id":77129992,"question_id":77129372,"body_markdown":"You can use a hidden input with the value from localStorage:\r\n```html\r\n&lt;input type=&quot;hidden&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\r\n&lt;script&gt;\r\nlet value = localStorage.getItem(&quot;senderName&quot;);\r\ndocument.getElementById(&quot;messageSender&quot;).value = value;\r\n&lt;/script&gt;\r\n```\r\nor fill it once you submit the form:\r\n```html\r\n&lt;input type=&quot;hidden&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\r\n&lt;input type=&quot;button&quot; value=&quot;Submit&quot; onclick=&#39;document.getElementById(&quot;messageSender&quot;).value = localStorage.getItem(&quot;senderName&quot;)&#39; /&gt;\r\n```","title":"How do I pass a value from localStorage to @PostMapping handler?","body":"<p>You can use a hidden input with the value from localStorage:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\n&lt;script&gt;\nlet value = localStorage.getItem(&quot;senderName&quot;);\ndocument.getElementById(&quot;messageSender&quot;).value = value;\n&lt;/script&gt;\n</code></pre>\n<p>or fill it once you submit the form:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\n&lt;input type=&quot;button&quot; value=&quot;Submit&quot; onclick='document.getElementById(&quot;messageSender&quot;).value = localStorage.getItem(&quot;senderName&quot;)' /&gt;\n</code></pre>\n"}],"owner":{"account_id":29400177,"reputation":3,"user_id":22526534,"display_name":"Chrone Void"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77129992,"answer_count":1,"score":0,"last_activity_date":1695066060,"creation_date":1695059293,"question_id":77129372,"body_markdown":"I use Spring Boot, Maven, Thymeleaf\r\n\r\nThe user goes to my .html page, enters a value, I put this value to localStorage, then I want to pass this value (maybe as @ModelAttribute) to @PostMapping method, and then... (whatever, send it to database for example)\r\n\r\nFor example, I want to get String **userLogin** value\r\n```\r\n@PostMapping(&quot;/inbox&quot;)\r\n    public String doCreateMessage(@ModelAttribute(&quot;formData&quot;) CreateMessageFromData formData, @ModelAttribute(&quot;userLogin&quot;) String userLogin, Model model) {\r\n        Message message = new Message(formData.getId(), formData.getMessage(), userLogin);\r\n        messageRepository.save(message);\r\n        return &quot;redirect:/inbox&quot;;\r\n    }\r\n```\r\nWhat do I type in my .html page?\r\nI want to do sth like this:\r\n\r\n```\r\n&lt;script&gt;\r\n...\r\nlet value = localStorage.getItem(&quot;senderName&quot;);\r\n${userLogin} = value;\r\n...\r\n&lt;/script&gt;\r\n```\r\n(it doesn&#39;t work of course)\r\n\r\nI know I can get the value from user through input form like this:\r\n\r\n```\r\n &lt;input type=&quot;text&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\r\n```\r\nBut my value is in localStorage\r\n\r\nI just couldn&#39;t find the answer on the internet...","title":"How do I pass a value from localStorage to @PostMapping handler?","body":"<p>I use Spring Boot, Maven, Thymeleaf</p>\n<p>The user goes to my .html page, enters a value, I put this value to localStorage, then I want to pass this value (maybe as @ModelAttribute) to @PostMapping method, and then... (whatever, send it to database for example)</p>\n<p>For example, I want to get String <strong>userLogin</strong> value</p>\n<pre><code>@PostMapping(&quot;/inbox&quot;)\n    public String doCreateMessage(@ModelAttribute(&quot;formData&quot;) CreateMessageFromData formData, @ModelAttribute(&quot;userLogin&quot;) String userLogin, Model model) {\n        Message message = new Message(formData.getId(), formData.getMessage(), userLogin);\n        messageRepository.save(message);\n        return &quot;redirect:/inbox&quot;;\n    }\n</code></pre>\n<p>What do I type in my .html page?\nI want to do sth like this:</p>\n<pre><code>&lt;script&gt;\n...\nlet value = localStorage.getItem(&quot;senderName&quot;);\n${userLogin} = value;\n...\n&lt;/script&gt;\n</code></pre>\n<p>(it doesn't work of course)</p>\n<p>I know I can get the value from user through input form like this:</p>\n<pre><code> &lt;input type=&quot;text&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\n</code></pre>\n<p>But my value is in localStorage</p>\n<p>I just couldn't find the answer on the internet...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1602492291,"post_id":64314421,"comment_id":113726998,"body_markdown":"Welcome to Stack Overflow. Have you stepped through the code in the debugger for each of the scenarios? Note that your final `if` statement has the same body for both branches - is that deliberate?","body":"Welcome to Stack Overflow. Have you stepped through the code in the debugger for each of the scenarios? Note that your final <code>if</code> statement has the same body for both branches - is that deliberate?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1602492320,"post_id":64314421,"comment_id":113727014,"body_markdown":"Your print is right at the start of the method, before any of the leap year logic. You print true if the number is in the range 1–9999 and false otherwise. All the stuff after that has no effect on the output.","body":"Your print is right at the start of the method, before any of the leap year logic. You print true if the number is in the range 1–9999 and false otherwise. All the stuff after that has no effect on the output."},{"owner":{"account_id":19714142,"reputation":21,"user_id":14433935,"display_name":"Real uNondaba"},"score":0,"creation_date":1602492620,"post_id":64314421,"comment_id":113727164,"body_markdown":"Yes, I did it deliberately for my final if statement","body":"Yes, I did it deliberately for my final if statement"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1602492682,"post_id":64314421,"comment_id":113727195,"body_markdown":"Do you actually understand what the `%` remainder operator does? When you call e.g. `isLeapYear(2000)`, i.e. when `year = 2000`, what do you believe the value of `year % 4` is, and why do you believe that? The remainder of `2000` divided by `4` is **`0`**, because `2000 / 4` is 500, leaving a remainder of 0. Since `year = 2000` and `year % 4` is `0`, the condition `year == (year % 4)` is false, which is not what you were trying to achieve.","body":"Do you actually understand what the <code>%</code> remainder operator does? When you call e.g. <code>isLeapYear(2000)</code>, i.e. when <code>year = 2000</code>, what do you believe the value of <code>year % 4</code> is, and why do you believe that? The remainder of <code>2000</code> divided by <code>4</code> is <b><code>0</code></b>, because <code>2000 &#47; 4</code> is 500, leaving a remainder of 0. Since <code>year = 2000</code> and <code>year % 4</code> is <code>0</code>, the condition <code>year == (year % 4)</code> is false, which is not what you were trying to achieve."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1602492739,"post_id":64314421,"comment_id":113727218,"body_markdown":"@NhlanhlaZondi ... so your code deliberately prints the wrong output. In that case I don&#39;t know what you&#39;re asking for.","body":"@NhlanhlaZondi ... so your code deliberately prints the wrong output. In that case I don&#39;t know what you&#39;re asking for."},{"owner":{"account_id":19714142,"reputation":21,"user_id":14433935,"display_name":"Real uNondaba"},"score":0,"creation_date":1602493221,"post_id":64314421,"comment_id":113727491,"body_markdown":"@khelwood, thanks for pointing out my mistake. How would one go about resolving my problem.","body":"@khelwood, thanks for pointing out my mistake. How would one go about resolving my problem."},{"owner":{"account_id":19714142,"reputation":21,"user_id":14433935,"display_name":"Real uNondaba"},"score":0,"creation_date":1602493325,"post_id":64314421,"comment_id":113727525,"body_markdown":"@Andreas, my bad I mistakenly confused it with the / operator.","body":"@Andreas, my bad I mistakenly confused it with the / operator."}],"answers":[{"comments":[{"owner":{"account_id":19714142,"reputation":21,"user_id":14433935,"display_name":"Real uNondaba"},"score":0,"creation_date":1602501656,"post_id":64314710,"comment_id":113731213,"body_markdown":"it is what I have been looking for.","body":"it is what I have been looking for."},{"owner":{"account_id":19714142,"reputation":21,"user_id":14433935,"display_name":"Real uNondaba"},"score":0,"creation_date":1602505164,"post_id":64314710,"comment_id":113732856,"body_markdown":",It&#39;s give me this output if I want to vote:  Thanks for the feedback! Votes cast by those with less than 15 reputation are recorded, but do not change the publicly displayed post score. What should I do?","body":",It&#39;s give me this output if I want to vote:  Thanks for the feedback! Votes cast by those with less than 15 reputation are recorded, but do not change the publicly displayed post score. What should I do?"}],"tags":[],"owner":{"account_id":1625750,"reputation":5627,"user_id":1501345,"accept_rate":60,"display_name":"Amit Kumar Lal"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602493305,"creation_date":1602493305,"answer_id":64314710,"question_id":64314421,"body_markdown":"I have made some changes and merged ur conditions \r\n\r\n    \tpublic static void main(String[] args) throws IOException  {\r\n    \t\tisLeapYear(-1600);// → should return false since the parameter is not in range (1-9999)\r\n    \t\tisLeapYear(1600); ////→ should return true since 1600 is a leap year\r\n    \t\tisLeapYear(2017);// → should return false since 2017 is not a leap year\r\n    \t\tisLeapYear(2000); \r\n    \t\tisLeapYear(99999); \r\n    \t}\r\n    \r\n    \tpublic static void isLeapYear(int year) {\r\n            //Should lie between 1  &amp;&amp; 9999\r\n    \t\t//If the year is evenly divisible by 4, go to step 2. ...\r\n    \t\t//If the year is evenly divisible by 100, go to step 3. ...\r\n    \t\t//If the year is evenly divisible by 400, go to step 4. ...\r\n    \t\t//The year is a leap year (it has 366 days).\r\n    \t\t//The year is not a leap year (it has 365 days).\r\n    \t\t\r\n    \t\tboolean isLeap = false;\r\n    \t\tif(year &gt;= 1 &amp;&amp; year &lt;= 9999 &amp;&amp; year % 4 == 0){\r\n    \t\t\tif( year % 100 == 0){\r\n    \t\t\t\tif ( year % 400 == 0)\r\n    \t\t\t\t\tisLeap = true;\r\n    \t\t\t\telse\r\n    \t\t\t\t\tisLeap = false;\r\n    \t\t\t}else\r\n    \t\t\t\tisLeap = true;\r\n    \t\t}else {\r\n    \t\t\tisLeap = false;\r\n    \t\t}\r\n    \r\n    \t\tif(isLeap==true)\r\n    \t\t\tSystem.out.println(year + &quot; is a Leap Year.&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(year + &quot; is not a Leap Year.&quot;);\r\n    \t}\r\n    }\r\n\r\n**output**\r\n\r\n    -1600 is not a Leap Year.\r\n    1600 is a Leap Year.\r\n    2017 is not a Leap Year.\r\n    2000 is a Leap Year.\r\n    99999 is not a Leap Year.","title":"The required output is false, true, false, true. My results are false, true, true, true. Is there something missing in my code?","body":"<p>I have made some changes and merged ur conditions</p>\n<pre><code>    public static void main(String[] args) throws IOException  {\n        isLeapYear(-1600);// → should return false since the parameter is not in range (1-9999)\n        isLeapYear(1600); ////→ should return true since 1600 is a leap year\n        isLeapYear(2017);// → should return false since 2017 is not a leap year\n        isLeapYear(2000); \n        isLeapYear(99999); \n    }\n\n    public static void isLeapYear(int year) {\n        //Should lie between 1  &amp;&amp; 9999\n        //If the year is evenly divisible by 4, go to step 2. ...\n        //If the year is evenly divisible by 100, go to step 3. ...\n        //If the year is evenly divisible by 400, go to step 4. ...\n        //The year is a leap year (it has 366 days).\n        //The year is not a leap year (it has 365 days).\n        \n        boolean isLeap = false;\n        if(year &gt;= 1 &amp;&amp; year &lt;= 9999 &amp;&amp; year % 4 == 0){\n            if( year % 100 == 0){\n                if ( year % 400 == 0)\n                    isLeap = true;\n                else\n                    isLeap = false;\n            }else\n                isLeap = true;\n        }else {\n            isLeap = false;\n        }\n\n        if(isLeap==true)\n            System.out.println(year + &quot; is a Leap Year.&quot;);\n        else\n            System.out.println(year + &quot; is not a Leap Year.&quot;);\n    }\n}\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>-1600 is not a Leap Year.\n1600 is a Leap Year.\n2017 is not a Leap Year.\n2000 is a Leap Year.\n99999 is not a Leap Year.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21434001,"reputation":26,"user_id":15789795,"display_name":"awais gulzar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619666492,"creation_date":1619666492,"answer_id":67310598,"question_id":64314421,"body_markdown":"    public class LeapYear {\r\n        public static  boolean isLeapYear(int year){\r\n            if (year&gt;=1 &amp;&amp; year&lt;=9999)\r\n            {  if (year%4==0){\r\n                if (year%100==0){\r\n    \r\n                    if (year%400==0){\r\n                        return true;\r\n    \r\n                    }else {\r\n                        return false; //year%400==0 else\r\n                    }\r\n    \r\n                }else {\r\n                    return true; //year%100==0 else\r\n                }\r\n    \r\n            }else {\r\n                return false; // year%4==0 else\r\n            }\r\n    \r\n            }\r\n            else return false; //this else associated with upper if\r\n        }\r\n    }","title":"The required output is false, true, false, true. My results are false, true, true, true. Is there something missing in my code?","body":"<pre><code>public class LeapYear {\n    public static  boolean isLeapYear(int year){\n        if (year&gt;=1 &amp;&amp; year&lt;=9999)\n        {  if (year%4==0){\n            if (year%100==0){\n\n                if (year%400==0){\n                    return true;\n\n                }else {\n                    return false; //year%400==0 else\n                }\n\n            }else {\n                return true; //year%100==0 else\n            }\n\n        }else {\n            return false; // year%4==0 else\n        }\n\n        }\n        else return false; //this else associated with upper if\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10428376,"reputation":1,"user_id":7688927,"display_name":"Maarifa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695066016,"creation_date":1694956644,"answer_id":77121969,"question_id":64314421,"body_markdown":"```java\r\npublic static boolean isLeapYear(int year) {\r\n\tif (year &lt; 1 || year &gt; 9999) {\r\n\t\treturn false;\r\n\t} else if (year % 4 == 0 &amp;&amp; year % 100 != 0) {\r\n\t\treturn true;\r\n\t} else if (year % 100 == 0 &amp;&amp; year % 400 == 0) {\r\n\t\treturn true;\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nstart by verifying that the year falls within the constraints. If it doesn&#39;t, just return false and exit. Then perform the other checks to verify the edge cases.\r\n\r\nOR:\r\n\r\n```java\r\npublic static boolean isLeapYear(int year) {\r\n\tif (year &gt;= 1 &amp;&amp; year &lt;= 9999) {\r\n\t\tif (year % 4 == 0 &amp;&amp; year % 100 != 0) {\r\n\t\t\treturn true;\r\n\t\t} else if (year % 100 == 0 &amp;&amp; year % 400 == 0) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n```","title":"The required output is false, true, false, true. My results are false, true, true, true. Is there something missing in my code?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static boolean isLeapYear(int year) {\n    if (year &lt; 1 || year &gt; 9999) {\n        return false;\n    } else if (year % 4 == 0 &amp;&amp; year % 100 != 0) {\n        return true;\n    } else if (year % 100 == 0 &amp;&amp; year % 400 == 0) {\n        return true;\n    } else {\n        return false;\n    }\n\n}\n</code></pre>\n<p>start by verifying that the year falls within the constraints. If it doesn't, just return false and exit. Then perform the other checks to verify the edge cases.</p>\n<p>OR:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isLeapYear(int year) {\n    if (year &gt;= 1 &amp;&amp; year &lt;= 9999) {\n        if (year % 4 == 0 &amp;&amp; year % 100 != 0) {\n            return true;\n        } else if (year % 100 == 0 &amp;&amp; year % 400 == 0) {\n            return true;\n        } else {\n            return false;\n        }\n\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19714142,"reputation":21,"user_id":14433935,"display_name":"Real uNondaba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":67310598,"answer_count":3,"score":-1,"last_activity_date":1695066016,"creation_date":1602492107,"question_id":64314421,"body_markdown":"This is the scenario.\r\n\r\nWrite a method isLeapYear with a parameter of type int named year.\r\n\r\nThe parameter needs to be greater than or equal to 1 and less than or equal to 9999.\r\n\r\nIf the parameter is not in that range return false.\r\n\r\nOtherwise, if it is in the valid range, calculate if the year is a leap year and return true if it is a leap year, otherwise return false.\r\n\r\n\r\nTo determine whether a year is a leap year, follow these steps:\r\n1. If the year is evenly divisible by 4, go to step\r\n2. Otherwise, go to step 5.2. If the year is evenly divisible by 100, go to step\r\n3. Otherwise, go to step 4.3. If the year is evenly divisible by 400, go to step\r\n4. Otherwise, go to step 5.4. The year is a leap year (it has 366 days). The method isLeapYear needs to return true.\r\n5. The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.\r\n\r\nThe following years are not leap years:\r\n1700, 1800, 1900, 2100, 2200, 2300, 2500, 2600\r\nThis is because they are evenly divisible by 100 but not by 400.\r\n\r\nThe following years are leap years:\r\n1600, 2000, 2400\r\nThis is because they are evenly divisible by both 100 and 400.\r\n\r\nExamples of input/output:\r\n\r\n* isLeapYear(-1600); → should return false since the parameter is not in range (1-9999)\r\n\r\n* isLeapYear(1600); → should return true since 1600 is a leap year\r\n\r\n* isLeapYear(2017); → should return false since 2017 is not a leap year\r\n\r\n* isLeapYear(2000);  → should return true because 2000 is a leap year\r\n\r\nThis is my code:\r\n```\r\npublic static void isLeapYear(int year) {\r\n  boolean result;\r\n  if (year &gt;= 1 &amp;&amp; year &lt;= 9999) {\r\n    System.out.println(result = true);\r\n  } else {\r\n    System.out.println(result = false);\r\n  }\r\n  boolean step;\r\n\r\n  if (year == (year % 4)) {\r\n    if (year == (year % 100)) {\r\n      step = result;\r\n    }\r\n  }\r\n  if (year == (year % 100)) {\r\n    if (year == (year % 400)) {\r\n      step = result;\r\n    }\r\n  }\r\n  if (year == (year % 400)) {\r\n    step = result;\r\n  } else {\r\n    step = result;\r\n  }\r\n}\r\n```","title":"The required output is false, true, false, true. My results are false, true, true, true. Is there something missing in my code?","body":"<p>This is the scenario.</p>\n<p>Write a method isLeapYear with a parameter of type int named year.</p>\n<p>The parameter needs to be greater than or equal to 1 and less than or equal to 9999.</p>\n<p>If the parameter is not in that range return false.</p>\n<p>Otherwise, if it is in the valid range, calculate if the year is a leap year and return true if it is a leap year, otherwise return false.</p>\n<p>To determine whether a year is a leap year, follow these steps:</p>\n<ol>\n<li>If the year is evenly divisible by 4, go to step</li>\n<li>Otherwise, go to step 5.2. If the year is evenly divisible by 100, go to step</li>\n<li>Otherwise, go to step 4.3. If the year is evenly divisible by 400, go to step</li>\n<li>Otherwise, go to step 5.4. The year is a leap year (it has 366 days). The method isLeapYear needs to return true.</li>\n<li>The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.</li>\n</ol>\n<p>The following years are not leap years:\n1700, 1800, 1900, 2100, 2200, 2300, 2500, 2600\nThis is because they are evenly divisible by 100 but not by 400.</p>\n<p>The following years are leap years:\n1600, 2000, 2400\nThis is because they are evenly divisible by both 100 and 400.</p>\n<p>Examples of input/output:</p>\n<ul>\n<li><p>isLeapYear(-1600); → should return false since the parameter is not in range (1-9999)</p>\n</li>\n<li><p>isLeapYear(1600); → should return true since 1600 is a leap year</p>\n</li>\n<li><p>isLeapYear(2017); → should return false since 2017 is not a leap year</p>\n</li>\n<li><p>isLeapYear(2000);  → should return true because 2000 is a leap year</p>\n</li>\n</ul>\n<p>This is my code:</p>\n<pre><code>public static void isLeapYear(int year) {\n  boolean result;\n  if (year &gt;= 1 &amp;&amp; year &lt;= 9999) {\n    System.out.println(result = true);\n  } else {\n    System.out.println(result = false);\n  }\n  boolean step;\n\n  if (year == (year % 4)) {\n    if (year == (year % 100)) {\n      step = result;\n    }\n  }\n  if (year == (year % 100)) {\n    if (year == (year % 400)) {\n      step = result;\n    }\n  }\n  if (year == (year % 400)) {\n    step = result;\n  } else {\n    step = result;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","oracle","stored-procedures","plsql"],"comments":[{"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"score":0,"creation_date":1446544786,"post_id":33427473,"comment_id":54776149,"body_markdown":"were either of the answers below helpful?","body":"were either of the answers below helpful?"}],"answers":[{"tags":[],"owner":{"account_id":5700484,"reputation":402,"user_id":4505616,"accept_rate":79,"display_name":"Albert Pinto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446172182,"creation_date":1446172182,"answer_id":33427739,"question_id":33427473,"body_markdown":"From the exception that your are getting it seems that \r\n\r\n&gt; java.sql.SQLException: Fail to convert to internal representation:\r\n\r\n there is a datatype mismatch . you may be trying to assign a String value to a field in database which may be defined not a String and as a Integer or something.\r\n\r\nmy suggestion would be to execute the query in you data base, secondly see the field definition and check that you are trying to insert a value of different data type. let me know how it goes cheers!!","title":"Spring Stored Procedure Pass ARRAY","body":"<p>From the exception that your are getting it seems that </p>\n\n<blockquote>\n  <p>java.sql.SQLException: Fail to convert to internal representation:</p>\n</blockquote>\n\n<p>there is a datatype mismatch . you may be trying to assign a String value to a field in database which may be defined not a String and as a Integer or something.</p>\n\n<p>my suggestion would be to execute the query in you data base, secondly see the field definition and check that you are trying to insert a value of different data type. let me know how it goes cheers!!</p>\n"},{"comments":[{"owner":{"account_id":7610,"reputation":255,"user_id":13267,"display_name":"Nik"},"score":0,"creation_date":1529604779,"post_id":33437174,"comment_id":88946329,"body_markdown":"That is definitely working except 2 caveats.  First, to work on Oracle, I had to instance an OracleJdbc4NativeJdbcExtractor since jdbcTemplate.getNativeJdbcExtractor() was returning null.  Secondly, the parameter needs to be defined in the StoredProcedure constructor as:\n&lt;code&gt;declareParameter(new SqlParameter(&quot;paramName&quot;, Types.ARRAY, &quot;DataTypeName&quot;));&lt;/code&gt;","body":"That is definitely working except 2 caveats.  First, to work on Oracle, I had to instance an OracleJdbc4NativeJdbcExtractor since jdbcTemplate.getNativeJdbcExtractor() was returning null.  Secondly, the parameter needs to be defined in the StoredProcedure constructor as: &lt;code&gt;declareParameter(new SqlParameter(&quot;paramName&quot;, Types.ARRAY, &quot;DataTypeName&quot;));&lt;/code&gt;"}],"tags":[],"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446211722,"creation_date":1446211722,"answer_id":33437174,"question_id":33427473,"body_markdown":"As there is no &#39;built-in&#39; array type in Oracle (that directly corresponds to Java&#39;s array type at least), there is a few more hoops to jump through to successfully pass Java arrays as parameters to stored procedures.  Here&#39;s how it goes:\r\n\r\n 1. Define a reusable Spring `AbstractSqlTypeValue` that will represent your array-of-strings type:\r\n\r\n&lt;pre&gt;&lt;code&gt;class OracleArrayType extends AbstractSqlTypeValue {\r\n\r\n    private final Connection oracleCon;\r\n    private final Object[] values;\r\n\r\n    public OracleArrayType(final Connection oracleCon, final Object[] values) {\r\n        this.oracleCon = oracleCon;\r\n        this.values = values;\r\n    }\r\n\r\n    @Override\r\n    protected Object createTypeValue(final Connection con, final int sqlType, final String typeName)\r\n            throws SQLException {\r\n        return new ARRAY(ArrayDescriptor.createDescriptor(typeName, oracleCon), oracleCon, values);\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nInstances of this type will need access to a) the native (&#39;unwrapped&#39;) oracle connection (rather than the proxy) and b) the values array being passed in.\r\n\r\n 2. Within your `execute` method you need to obtain the native `Connection` object via `JDBCTemplate`, and crucially ensure that the proxy connection is closed each time.  We found that whilst *normally* Spring&#39;s `JDBCTemplate` would be responsible for ensuring each connection is properly closed and returned to the pool, when the connection is unwrapped this **does not happen** and its therefore necessary to do it yourself, in this case using a `try-with-resources` block, e.g:\r\n\r\n&lt;pre&gt;&lt;code&gt;public int execute(String uid, String title, String itemTitle, String coverDate, String issue, Date sortDate,\r\n        String volume, String pageBegin, String pageEnd, String accessionNo, String issn, String doi,\r\n        String[] doctypes, String[] headings, String[] keywords, String[] organizations, String[] publishers,\r\n        String[] subHeadings, String[] subOrganizations, String[] subjects) {\r\n\r\n    // Ensure proxy connection is closed properly\r\n    try (final Connection connectionWrapper = getJdbcTemplate().getDataSource().getConnection()) {\r\n\r\n        // Obtain native connection\r\n        final Connection oracleConnection =\r\n                getJdbcTemplate().getNativeJdbcExtractor().getNativeConnection(connectionWrapper);\r\n\r\n        AbstractSqlTypeValue docTypeArray = new OracleArrayType(oracleConnection, doctypes);\r\n        AbstractSqlTypeValue headingsArray = new OracleArrayType(oracleConnection, headings);\r\n        AbstractSqlTypeValue keywordsArray = new OracleArrayType(oracleConnection, keywords);\r\n        AbstractSqlTypeValue organizationsArray = new OracleArrayType(oracleConnection, organizations);\r\n        AbstractSqlTypeValue publishersArray = new OracleArrayType(oracleConnection, publishers);\r\n        AbstractSqlTypeValue subHeadingsArray = new OracleArrayType(oracleConnection, subHeadings);\r\n        AbstractSqlTypeValue subOrganizationsArray = new OracleArrayType(oracleConnection, subOrganizations);\r\n        AbstractSqlTypeValue subjectsArray = new OracleArrayType(oracleConnection, subjects);\r\n\r\n        Map&lt;String, Object&gt; results = super.execute(uid, title, itemTitle, coverDate, issue, sortDate, volume,\r\n                pageBegin, pageEnd, accessionNo, issn, doi, docTypeArray, headingsArray, keywordsArray,\r\n                organizationsArray, publishersArray, subHeadingsArray, subOrganizationsArray, subjectsArray);\r\n\r\n        return (int) results.get(&quot;p_id&quot;);\r\n    } catch (SQLException e) {\r\n        throw new DataRetrievalFailureException(e.getMessage()); // or whatever..\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nIt&#39;s a bit tedious and there may be better ways to translate into the custom Oracle array type - but this technique worked well for us.","title":"Spring Stored Procedure Pass ARRAY","body":"<p>As there is no 'built-in' array type in Oracle (that directly corresponds to Java's array type at least), there is a few more hoops to jump through to successfully pass Java arrays as parameters to stored procedures.  Here's how it goes:</p>\n\n<ol>\n<li>Define a reusable Spring <code>AbstractSqlTypeValue</code> that will represent your array-of-strings type:</li>\n</ol>\n\n<pre><code>class OracleArrayType extends AbstractSqlTypeValue {\n\n    private final Connection oracleCon;\n    private final Object[] values;\n\n    public OracleArrayType(final Connection oracleCon, final Object[] values) {\n        this.oracleCon = oracleCon;\n        this.values = values;\n    }\n\n    @Override\n    protected Object createTypeValue(final Connection con, final int sqlType, final String typeName)\n            throws SQLException {\n        return new ARRAY(ArrayDescriptor.createDescriptor(typeName, oracleCon), oracleCon, values);\n    }\n}\n</code></pre>\n\n<p>Instances of this type will need access to a) the native ('unwrapped') oracle connection (rather than the proxy) and b) the values array being passed in.</p>\n\n<ol start=\"2\">\n<li>Within your <code>execute</code> method you need to obtain the native <code>Connection</code> object via <code>JDBCTemplate</code>, and crucially ensure that the proxy connection is closed each time.  We found that whilst <em>normally</em> Spring's <code>JDBCTemplate</code> would be responsible for ensuring each connection is properly closed and returned to the pool, when the connection is unwrapped this <strong>does not happen</strong> and its therefore necessary to do it yourself, in this case using a <code>try-with-resources</code> block, e.g:</li>\n</ol>\n\n<pre><code>public int execute(String uid, String title, String itemTitle, String coverDate, String issue, Date sortDate,\n        String volume, String pageBegin, String pageEnd, String accessionNo, String issn, String doi,\n        String[] doctypes, String[] headings, String[] keywords, String[] organizations, String[] publishers,\n        String[] subHeadings, String[] subOrganizations, String[] subjects) {\n\n    // Ensure proxy connection is closed properly\n    try (final Connection connectionWrapper = getJdbcTemplate().getDataSource().getConnection()) {\n\n        // Obtain native connection\n        final Connection oracleConnection =\n                getJdbcTemplate().getNativeJdbcExtractor().getNativeConnection(connectionWrapper);\n\n        AbstractSqlTypeValue docTypeArray = new OracleArrayType(oracleConnection, doctypes);\n        AbstractSqlTypeValue headingsArray = new OracleArrayType(oracleConnection, headings);\n        AbstractSqlTypeValue keywordsArray = new OracleArrayType(oracleConnection, keywords);\n        AbstractSqlTypeValue organizationsArray = new OracleArrayType(oracleConnection, organizations);\n        AbstractSqlTypeValue publishersArray = new OracleArrayType(oracleConnection, publishers);\n        AbstractSqlTypeValue subHeadingsArray = new OracleArrayType(oracleConnection, subHeadings);\n        AbstractSqlTypeValue subOrganizationsArray = new OracleArrayType(oracleConnection, subOrganizations);\n        AbstractSqlTypeValue subjectsArray = new OracleArrayType(oracleConnection, subjects);\n\n        Map results = super.execute(uid, title, itemTitle, coverDate, issue, sortDate, volume,\n                pageBegin, pageEnd, accessionNo, issn, doi, docTypeArray, headingsArray, keywordsArray,\n                organizationsArray, publishersArray, subHeadingsArray, subOrganizationsArray, subjectsArray);\n\n        return (int) results.get(\"p_id\");\n    } catch (SQLException e) {\n        throw new DataRetrievalFailureException(e.getMessage()); // or whatever..\n    }\n}\n</code></pre>\n\n<p>It's a bit tedious and there may be better ways to translate into the custom Oracle array type - but this technique worked well for us.</p>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695065955,"creation_date":1695065955,"answer_id":77129984,"question_id":33427473,"body_markdown":"The new approach is to unwrap the `OracleConnection` and use `createOracleArray`.\r\n\r\n    OracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\r\n    Array array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\r\n    \r\n    inputParameters.put(&quot;itemIds&quot;, array); \r\n\r\nAlso see this thread: https://stackoverflow.com/questions/7878735/how-to-create-an-oracle-sql-array-object/76571542#76571542","title":"Spring Stored Procedure Pass ARRAY","body":"<p>The new approach is to unwrap the <code>OracleConnection</code> and use <code>createOracleArray</code>.</p>\n<pre><code>OracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\nArray array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\n\ninputParameters.put(&quot;itemIds&quot;, array); \n</code></pre>\n<p>Also see this thread: <a href=\"https://stackoverflow.com/questions/7878735/how-to-create-an-oracle-sql-array-object/76571542#76571542\">How to create an oracle.sql.ARRAY object?</a></p>\n"}],"owner":{"account_id":2624730,"reputation":6476,"user_id":2272004,"accept_rate":52,"display_name":"greyfox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9795,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695065955,"creation_date":1446168277,"question_id":33427473,"body_markdown":"I&#39;m working on calling a stored procedure from Spring but I need to pass an array of strings to the stored procedure. However thus far I have encountered error after error. Any ideas where things are going wrong?\r\n\r\nI&#39;ve created a custom type in Oracle.\r\n\r\n    create or replace type type_string_array \r\n    AS TABLE OF VARCHAR(255);\r\n\r\nI have the following stored procedure defined. However for the moment I&#39;m just having it iterate through one of the parameters that is an type TABLE OF to ensure the data is actually making it. However I can&#39;t even call the procedure from Java at this point.\r\n\r\n    procedure sp_save_publication(\r\n        p_id out t_tr_publication.id%type,\r\n        p_tr_uid in t_tr_publication.tr_uid%type,\r\n        p_title in t_tr_publication.title%type,\r\n        p_item_title in t_tr_publication.item_title%type,\r\n        p_cover_date in t_tr_publication.cover_date%type,\r\n        p_issue in t_tr_publication.issue%type,\r\n        p_sort_date in t_tr_publication.sort_date%type,\r\n        p_volume in t_tr_publication.volume%type,\r\n        p_page_begin in t_tr_publication.page_begin%type,\r\n        p_page_end in t_tr_publication.page_end%type,\r\n        p_accession_no in t_tr_publication.accession_no%type,\r\n        p_issn in t_tr_publication.issn%type,\r\n        p_doi in t_tr_publication.doi%type,\r\n        p_doctypes in type_string_array,\r\n        p_headings in type_string_array,\r\n        p_keywords in type_string_array,\r\n        p_organizations in type_string_array,\r\n        p_publishers in type_string_array,\r\n        p_sub_headings in type_string_array,\r\n        p_sub_organizations in type_string_array,\r\n        p_subjects in type_string_array\r\n      ) AS\r\n      BEGIN\r\n        \r\n        if p_doctypes.count &gt; 0\r\n        then\r\n        \r\n          for i in p_doctypes.FIRST .. p_doctypes.LAST\r\n          loop\r\n            \r\n            pkg_logger.sp_log_error(\r\n              p_code =&gt; null,\r\n              p_message =&gt; p_doctypes(i),\r\n              p_package_name =&gt; package_name,\r\n              p_procedure_name =&gt; &#39;sp_save_publication&#39;\r\n            );\r\n          \r\n          end loop;\r\n          \r\n        end if;  \r\n        \r\n      END sp_save_publication;\r\n\r\nI am extending Spring&#39;s StoredProcedure class as follows:\r\n\r\n    public class SPSavePublication extends StoredProcedure {\r\n    \r\n        public SPSavePublication(JdbcTemplate jdbcTemplate) {\r\n    \r\n            super(jdbcTemplate,&quot;PKG_THOMSON_REUTER.sp_save_publication&quot;);\r\n            declareParameter(new SqlOutParameter(&quot;p_id&quot;, Types.INTEGER));\r\n            declareParameter(new SqlParameter(&quot;p_tr_uid&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_title&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_item_title&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_cover_date&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_issue&quot;, Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_sort_date&quot;,Types.DATE));\r\n            declareParameter(new SqlParameter(&quot;p_volume&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_page_begin&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_page_end&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_accession_no&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_issn&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_doi&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_doctypes&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_headings&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_keywords&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_organizations&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_publishers&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_sub_headings&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_sub_organizations&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_subjects&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            setFunction(false);\r\n            compile();\r\n        }\r\n    \r\n        public long execute(String uid, String title, String itemTitle, String coverDate,\r\n                            String issue, Date sortDate, String volume, String pageBegin,\r\n                            String pageEnd, String accessionNo, String issn, String doi,\r\n                            String[] doctypes, String[] headings, String[] keywords,\r\n                            String[] organizations, String[] publishers, String[] subHeadings,\r\n                            String[] subOrganizations, String[] subjects) {\r\n    \r\n            Map results = super.execute(uid,title,itemTitle,coverDate,issue,sortDate,volume,\r\n                    pageBegin,pageEnd,accessionNo,issn,doi,doctypes,headings,keywords,organizations,\r\n                    publishers,subHeadings,subOrganizations,subjects);\r\n            return (int) results.get(&quot;p_id&quot;);\r\n        }\r\n    }\r\n\r\nI have the following Test I am trying to run.\r\n\r\n    @Test\r\n        public void testSPSavePublication() {\r\n    \r\n            String[] docTypesArray = {&quot;journal&quot;,&quot;doctypes&quot;};\r\n    \r\n            SPSavePublication spSavePublication = new SPSavePublication(jdbcTemplate);\r\n            spSavePublication.execute(null,null,null,null,null,new Date(),null,null,null,null,\r\n                    null,null,docTypesArray,docTypesArray,docTypesArray,docTypesArray,docTypesArray,\r\n                    docTypesArray,docTypesArray,docTypesArray);\r\n        }\r\n\r\nThis is the stacktrace I&#39;m getting.\r\n\r\n    org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call PKG_THOMSON_REUTER.sp_save_publication(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)}]; SQL state [99999]; error code [17059]; Fail to convert to internal representation: [Ljava.lang.String;@7b10472e; nested exception is java.sql.SQLException: Fail to convert to internal representation: [Ljava.lang.String;@7b10472e\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:84)\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1137)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1173)\r\n    \tat org.springframework.jdbc.object.StoredProcedure.execute(StoredProcedure.java:123)\r\n    \tat org.company.app.procedures.thomsonreuter.SPSavePublication.execute(SPSavePublication.java:53)\r\n    \tat org.company.app.ThomsonReutersTests.testSPSavePublication(ThomsonReutersTests.java:41)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\r\n    Caused by: java.sql.SQLException: Fail to convert to internal representation: [Ljava.lang.String;@7b10472e\r\n    \tat oracle.sql.ARRAY.toARRAY(ARRAY.java:244)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.setObjectCritical(OraclePreparedStatement.java:10472)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:9966)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:10590)\r\n    \tat oracle.jdbc.driver.OracleCallableStatement.setObject(OracleCallableStatement.java:6119)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.setObject(OraclePreparedStatementWrapper.java:249)\r\n    \tat com.mchange.v2.c3p0.impl.NewProxyCallableStatement.setObject(NewProxyCallableStatement.java:4025)\r\n    \tat org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:432)\r\n    \tat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:235)\r\n    \tat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:150)\r\n    \tat org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:213)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1115)\r\n    \t... 36 more","title":"Spring Stored Procedure Pass ARRAY","body":"<p>I'm working on calling a stored procedure from Spring but I need to pass an array of strings to the stored procedure. However thus far I have encountered error after error. Any ideas where things are going wrong?</p>\n\n<p>I've created a custom type in Oracle.</p>\n\n<pre><code>create or replace type type_string_array \nAS TABLE OF VARCHAR(255);\n</code></pre>\n\n<p>I have the following stored procedure defined. However for the moment I'm just having it iterate through one of the parameters that is an type TABLE OF to ensure the data is actually making it. However I can't even call the procedure from Java at this point.</p>\n\n<pre><code>procedure sp_save_publication(\n    p_id out t_tr_publication.id%type,\n    p_tr_uid in t_tr_publication.tr_uid%type,\n    p_title in t_tr_publication.title%type,\n    p_item_title in t_tr_publication.item_title%type,\n    p_cover_date in t_tr_publication.cover_date%type,\n    p_issue in t_tr_publication.issue%type,\n    p_sort_date in t_tr_publication.sort_date%type,\n    p_volume in t_tr_publication.volume%type,\n    p_page_begin in t_tr_publication.page_begin%type,\n    p_page_end in t_tr_publication.page_end%type,\n    p_accession_no in t_tr_publication.accession_no%type,\n    p_issn in t_tr_publication.issn%type,\n    p_doi in t_tr_publication.doi%type,\n    p_doctypes in type_string_array,\n    p_headings in type_string_array,\n    p_keywords in type_string_array,\n    p_organizations in type_string_array,\n    p_publishers in type_string_array,\n    p_sub_headings in type_string_array,\n    p_sub_organizations in type_string_array,\n    p_subjects in type_string_array\n  ) AS\n  BEGIN\n\n    if p_doctypes.count &gt; 0\n    then\n\n      for i in p_doctypes.FIRST .. p_doctypes.LAST\n      loop\n\n        pkg_logger.sp_log_error(\n          p_code =&gt; null,\n          p_message =&gt; p_doctypes(i),\n          p_package_name =&gt; package_name,\n          p_procedure_name =&gt; 'sp_save_publication'\n        );\n\n      end loop;\n\n    end if;  \n\n  END sp_save_publication;\n</code></pre>\n\n<p>I am extending Spring's StoredProcedure class as follows:</p>\n\n<pre><code>public class SPSavePublication extends StoredProcedure {\n\n    public SPSavePublication(JdbcTemplate jdbcTemplate) {\n\n        super(jdbcTemplate,\"PKG_THOMSON_REUTER.sp_save_publication\");\n        declareParameter(new SqlOutParameter(\"p_id\", Types.INTEGER));\n        declareParameter(new SqlParameter(\"p_tr_uid\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_title\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_item_title\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_cover_date\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_issue\", Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_sort_date\",Types.DATE));\n        declareParameter(new SqlParameter(\"p_volume\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_page_begin\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_page_end\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_accession_no\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_issn\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_doi\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_doctypes\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_headings\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_keywords\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_organizations\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_publishers\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_sub_headings\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_sub_organizations\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_subjects\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        setFunction(false);\n        compile();\n    }\n\n    public long execute(String uid, String title, String itemTitle, String coverDate,\n                        String issue, Date sortDate, String volume, String pageBegin,\n                        String pageEnd, String accessionNo, String issn, String doi,\n                        String[] doctypes, String[] headings, String[] keywords,\n                        String[] organizations, String[] publishers, String[] subHeadings,\n                        String[] subOrganizations, String[] subjects) {\n\n        Map results = super.execute(uid,title,itemTitle,coverDate,issue,sortDate,volume,\n                pageBegin,pageEnd,accessionNo,issn,doi,doctypes,headings,keywords,organizations,\n                publishers,subHeadings,subOrganizations,subjects);\n        return (int) results.get(\"p_id\");\n    }\n}\n</code></pre>\n\n<p>I have the following Test I am trying to run.</p>\n\n<pre><code>@Test\n    public void testSPSavePublication() {\n\n        String[] docTypesArray = {\"journal\",\"doctypes\"};\n\n        SPSavePublication spSavePublication = new SPSavePublication(jdbcTemplate);\n        spSavePublication.execute(null,null,null,null,null,new Date(),null,null,null,null,\n                null,null,docTypesArray,docTypesArray,docTypesArray,docTypesArray,docTypesArray,\n                docTypesArray,docTypesArray,docTypesArray);\n    }\n</code></pre>\n\n<p>This is the stacktrace I'm getting.</p>\n\n<pre><code>org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call PKG_THOMSON_REUTER.sp_save_publication(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)}]; SQL state [99999]; error code [17059]; Fail to convert to internal representation: [Ljava.lang.String;@7b10472e; nested exception is java.sql.SQLException: Fail to convert to internal representation: [Ljava.lang.String;@7b10472e\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:84)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1137)\n    at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1173)\n    at org.springframework.jdbc.object.StoredProcedure.execute(StoredProcedure.java:123)\n    at org.company.app.procedures.thomsonreuter.SPSavePublication.execute(SPSavePublication.java:53)\n    at org.company.app.ThomsonReutersTests.testSPSavePublication(ThomsonReutersTests.java:41)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\nCaused by: java.sql.SQLException: Fail to convert to internal representation: [Ljava.lang.String;@7b10472e\n    at oracle.sql.ARRAY.toARRAY(ARRAY.java:244)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectCritical(OraclePreparedStatement.java:10472)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:9966)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:10590)\n    at oracle.jdbc.driver.OracleCallableStatement.setObject(OracleCallableStatement.java:6119)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.setObject(OraclePreparedStatementWrapper.java:249)\n    at com.mchange.v2.c3p0.impl.NewProxyCallableStatement.setObject(NewProxyCallableStatement.java:4025)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:432)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:235)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:150)\n    at org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:213)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1115)\n    ... 36 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695064212,"post_id":77129760,"comment_id":135971541,"body_markdown":"If you will have something like this for integration test a specific `@Profile(“test”)`  also 2 security configuration one for test(where you will disable csrf) and another as usually with csrf enabled. I think it is a good way to do it.","body":"If you will have something like this for integration test a specific <code>@Profile(“test”)</code>  also 2 security configuration one for test(where you will disable csrf) and another as usually with csrf enabled. I think it is a good way to do it."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695064395,"post_id":77129760,"comment_id":135971572,"body_markdown":"Can you show your tests? Can&#39;t you add CSRF tokens to the test? You could also try defining an additional `SecurityFilterChain` for tests.","body":"Can you show your tests? Can&#39;t you add CSRF tokens to the test? You could also try defining an additional <code>SecurityFilterChain</code> for tests."},{"owner":{"account_id":18973871,"reputation":55,"user_id":13846778,"display_name":"jessica96"},"score":0,"creation_date":1695065040,"post_id":77129760,"comment_id":135971665,"body_markdown":"I was really hoping I could define a single SecurityFilterChain, and override it somehow (i.e. with a @TestConfiguration). I&#39;ve added a test now @dan1st.","body":"I was really hoping I could define a single SecurityFilterChain, and override it somehow (i.e. with a @TestConfiguration). I&#39;ve added a test now @dan1st."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1695065231,"post_id":77129760,"comment_id":135971691,"body_markdown":"What stops you from using `.with(csrf())` in the test and why do you not like adding a second `SecurityFilterChain`?","body":"What stops you from using <code>.with(csrf())</code> in the test and why do you not like adding a second <code>SecurityFilterChain</code>?"},{"owner":{"account_id":18973871,"reputation":55,"user_id":13846778,"display_name":"jessica96"},"score":0,"creation_date":1695065645,"post_id":77129760,"comment_id":135971774,"body_markdown":"Thanks @dan1st, using `.with(csrf())` solved the problem","body":"Thanks @dan1st, using <code>.with(csrf())</code> solved the problem"}],"answers":[{"tags":[],"owner":{"account_id":18973871,"reputation":55,"user_id":13846778,"display_name":"jessica96"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695065950,"creation_date":1695065950,"answer_id":77129982,"question_id":77129760,"body_markdown":"It was solved by adding `.with(csrf())` to the tests instead of disabling csrf for the tests.","title":"How to disable CSRF in Spring Boot 3 only for tests","body":"<p>It was solved by adding <code>.with(csrf())</code> to the tests instead of disabling csrf for the tests.</p>\n"}],"owner":{"account_id":18973871,"reputation":55,"user_id":13846778,"display_name":"jessica96"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77129982,"answer_count":1,"score":0,"last_activity_date":1695065950,"creation_date":1695063357,"question_id":77129760,"body_markdown":"I&#39;m writing tests for an application using Spring Boot 3.1.2. The application has csrf enabled, but the authorization in the tests fails when csrf is turned on, therefore I want to turn it off for the tests only. \r\n\r\nMy security config currently looks like this:\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                .requestMatchers(openUrls).permitAll()\r\n                .anyRequest().hasAuthority(applicationRoleKey))\r\n            .oauth2ResourceServer(oauth -&gt; oauth\r\n                .jwt(jwt -&gt; jwt.jwtAuthenticationConverter(jwtAuthenticationConverter())));\r\n        return http.build();\r\n    }\r\n\r\nA sample test that is failing (get 406 instead of 400):\r\n\r\n```\r\n@Test\r\n@WithMockUser(authorities = &quot;user=admin&quot;)\r\nvoid asAdmin_canGetPhoto() throws Exception {\r\n  mockMvc.perform(MockMvcRequestBuilders.get(&quot;/photo&quot;)).andExpect(status().isOk());\r\n}\r\n```\r\n\r\nWhat&#39;s the recommended way to disable CSRF only for tests? I can only find solutions using outdated versions of Spring Security.\r\n\r\nThanks for any guidance!\r\n\r\nEDIT: Solved by adding `.with(csrf())` to the tests.","title":"How to disable CSRF in Spring Boot 3 only for tests","body":"<p>I'm writing tests for an application using Spring Boot 3.1.2. The application has csrf enabled, but the authorization in the tests fails when csrf is turned on, therefore I want to turn it off for the tests only.</p>\n<p>My security config currently looks like this:</p>\n<pre><code>@Bean\nprotected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests(auth -&gt; auth\n            .requestMatchers(openUrls).permitAll()\n            .anyRequest().hasAuthority(applicationRoleKey))\n        .oauth2ResourceServer(oauth -&gt; oauth\n            .jwt(jwt -&gt; jwt.jwtAuthenticationConverter(jwtAuthenticationConverter())));\n    return http.build();\n}\n</code></pre>\n<p>A sample test that is failing (get 406 instead of 400):</p>\n<pre><code>@Test\n@WithMockUser(authorities = &quot;user=admin&quot;)\nvoid asAdmin_canGetPhoto() throws Exception {\n  mockMvc.perform(MockMvcRequestBuilders.get(&quot;/photo&quot;)).andExpect(status().isOk());\n}\n</code></pre>\n<p>What's the recommended way to disable CSRF only for tests? I can only find solutions using outdated versions of Spring Security.</p>\n<p>Thanks for any guidance!</p>\n<p>EDIT: Solved by adding <code>.with(csrf())</code> to the tests.</p>\n"},{"tags":["java","function","enums","warnings","visibility"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695026694,"post_id":77125667,"comment_id":135964048,"body_markdown":"Make `enum Shape` `public`, or `warn` not `public`.","body":"Make <code>enum Shape</code> <code>public</code>, or <code>warn</code> not <code>public</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695026694,"post_id":77125667,"comment_id":135964049,"body_markdown":"Make `Shape` public, or make `warn` package-private (or private).","body":"Make <code>Shape</code> public, or make <code>warn</code> package-private (or private)."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1695027040,"post_id":77125667,"comment_id":135964100,"body_markdown":"You&#39;ve learned something important, when a static analysis tool like IntelliJ (or SonarQube) suggests something, it might remove the warning, but in a really stupid way.","body":"You&#39;ve learned something important, when a static analysis tool like IntelliJ (or SonarQube) suggests something, it might remove the warning, but in a really stupid way."}],"answers":[{"comments":[{"owner":{"account_id":29470781,"reputation":73,"user_id":22583436,"display_name":"hong"},"score":0,"creation_date":1695027694,"post_id":77125737,"comment_id":135964214,"body_markdown":"I love your answer! thank u :)","body":"I love your answer! thank u :)"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1695027916,"post_id":77125737,"comment_id":135964255,"body_markdown":"@hong: there&#39;s a dedicated button meaing &quot;love this answer&quot;, which is the upvote button, you should probably press that (in fact that&#39;s preferable to posting it as a comment). Additionally, if it helped to solve your problem, feel free to accept the question as well.","body":"@hong: there&#39;s a dedicated button meaing &quot;love this answer&quot;, which is the upvote button, you should probably press that (in fact that&#39;s preferable to posting it as a comment). Additionally, if it helped to solve your problem, feel free to accept the question as well."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1695028241,"creation_date":1695027216,"answer_id":77125737,"question_id":77125667,"body_markdown":"Why is there a warning `Class &#39;Shape&#39; is exposed outside its defined visibility scope`?\r\n\r\nBecause the `enum` `AreaCalculator.Shape` is only visible to classes in the same package, but the method `public static void warn(Shape shape)` is visible to any class.\r\n\r\nSo if we write a class:\r\n```\r\npackage a;\r\n\r\nimport b.AreaCalculator;\r\n\r\npublic class AreaCalculatorClient {\r\n    public static void main(String[] args) {\r\n        AreaCalculator.warn(AreaCalculator.Shape.CIRCLE);\r\n    }\r\n}\r\n```\r\nIt will fail to compile, because `&#39;b.AreaCalculator.Shape&#39; is not public in &#39;b.AreaCalculator&#39;. Cannot be accessed from outside package`.\r\n\r\nThe fix is to with make `Shape` public or `warn` package-private, depending on your intent.\r\n\r\nThe fix suggested by IntelliJ IDEA is something you might do if you&#39;re convinced that you&#39;ve chosen the correct visibility for `Shape`, and yet you want to call something like the `warn` method from arbitrary classes.","title":"How can i fix warning that Class &#39;Shape&#39; is exposed outside its defined visibility scope? (JAVA 17)","body":"<p>Why is there a warning <code>Class 'Shape' is exposed outside its defined visibility scope</code>?</p>\n<p>Because the <code>enum</code> <code>AreaCalculator.Shape</code> is only visible to classes in the same package, but the method <code>public static void warn(Shape shape)</code> is visible to any class.</p>\n<p>So if we write a class:</p>\n<pre><code>package a;\n\nimport b.AreaCalculator;\n\npublic class AreaCalculatorClient {\n    public static void main(String[] args) {\n        AreaCalculator.warn(AreaCalculator.Shape.CIRCLE);\n    }\n}\n</code></pre>\n<p>It will fail to compile, because <code>'b.AreaCalculator.Shape' is not public in 'b.AreaCalculator'. Cannot be accessed from outside package</code>.</p>\n<p>The fix is to with make <code>Shape</code> public or <code>warn</code> package-private, depending on your intent.</p>\n<p>The fix suggested by IntelliJ IDEA is something you might do if you're convinced that you've chosen the correct visibility for <code>Shape</code>, and yet you want to call something like the <code>warn</code> method from arbitrary classes.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695065911,"creation_date":1695065911,"answer_id":77129981,"question_id":77125667,"body_markdown":"&gt; _&quot;... I made function &#39;warn&#39; in line 17 whose parameter is enum Shape. Why warning about visibility scope and how can I fix it? ...&quot;_\r\n\r\nI&#39;m not receiving any warning here, the code compiles.\\\r\nIf I enter any of the values I get an infinite loop.\r\n\r\nTo resolve this, assign _str_ upon each _while-loop_ iteration.\r\n\r\n```java\r\nString str;\r\n\r\nwhile (!(str = scanner.nextLine()).equals(&quot;quit&quot;)){\r\n    str = str.toUpperCase();\r\n    warn(Shape.valueOf(str));\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nTRIANGLE\r\nTRIANGLE\r\nRECTANGLE\r\nRECTANGLE\r\nCIRCLE\r\nCIRCLE\r\nquit\r\n```","title":"How can i fix warning that Class &#39;Shape&#39; is exposed outside its defined visibility scope? (JAVA 17)","body":"<blockquote>\n<p><em>&quot;... I made function 'warn' in line 17 whose parameter is enum Shape. Why warning about visibility scope and how can I fix it? ...&quot;</em></p>\n</blockquote>\n<p>I'm not receiving any warning here, the code compiles.<br />\nIf I enter any of the values I get an infinite loop.</p>\n<p>To resolve this, assign <em>str</em> upon each <em>while-loop</em> iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str;\n\nwhile (!(str = scanner.nextLine()).equals(&quot;quit&quot;)){\n    str = str.toUpperCase();\n    warn(Shape.valueOf(str));\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>TRIANGLE\nTRIANGLE\nRECTANGLE\nRECTANGLE\nCIRCLE\nCIRCLE\nquit\n</code></pre>\n"}],"owner":{"account_id":29470781,"reputation":73,"user_id":22583436,"display_name":"hong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4259,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":77125737,"answer_count":2,"score":6,"last_activity_date":1695065911,"creation_date":1695026580,"question_id":77125667,"body_markdown":"I made function &#39;warn&#39; in line 17 whose parameter is enum Shape. \r\nWhy warning about visibility scope and how can I fix it?\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class AreaCalculator {\r\n\r\n    enum Shape {TRIANGLE, RECTANGLE, CIRCLE}\r\n    static Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        String str = scanner.next();\r\n\r\n        while (!str.equals(&quot;quit&quot;)){\r\n            str = str.toUpperCase();\r\n            warn(Shape.valueOf(str));\r\n        }\r\n    }\r\n\r\n    public static void warn(Shape shape) { //warning\r\n\r\n    }\r\n```\r\n\r\n\r\nIntellij recommend generate overloaded method with default parameter values like following code.\r\n```\r\npublic static void warn(){\r\n    warn(null);\r\n}\r\n```\r\nBut I think it doesn&#39;t look intuitive.\r\n","title":"How can i fix warning that Class &#39;Shape&#39; is exposed outside its defined visibility scope? (JAVA 17)","body":"<p>I made function 'warn' in line 17 whose parameter is enum Shape.\nWhy warning about visibility scope and how can I fix it?</p>\n<pre><code>import java.util.Scanner;\n\npublic class AreaCalculator {\n\n    enum Shape {TRIANGLE, RECTANGLE, CIRCLE}\n    static Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        String str = scanner.next();\n\n        while (!str.equals(&quot;quit&quot;)){\n            str = str.toUpperCase();\n            warn(Shape.valueOf(str));\n        }\n    }\n\n    public static void warn(Shape shape) { //warning\n\n    }\n</code></pre>\n<p>Intellij recommend generate overloaded method with default parameter values like following code.</p>\n<pre><code>public static void warn(){\n    warn(null);\n}\n</code></pre>\n<p>But I think it doesn't look intuitive.</p>\n"},{"tags":["java","oracle","stored-procedures"],"answers":[{"tags":[],"owner":{"account_id":112570,"reputation":3501,"user_id":296884,"display_name":"Marcin Wroblewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1299275482,"creation_date":1299274079,"answer_id":5199475,"question_id":5198856,"body_markdown":"Look here:\r\nhttp://download.oracle.com/docs/cd/B19306_01/java.102/b14355/oraarr.htm#i1058512\r\n\r\nand here is my short example:\r\n\r\n1) on database\r\n\r\n    SQL&gt; create or replace type string_array as table of varchar2(100);\r\n      2  /\r\n    \r\n    Type created.\r\n    \r\n    SQL&gt; create or replace function to_string(p_array in string_array) return varchar2\r\n      2  as\r\n      3     l_string varchar2(32767);\r\n      4     i binary_integer;\r\n      5  begin\r\n      6     i := p_array.first();\r\n      7     while i is not null loop\r\n      8        l_string := l_string || p_array(i) || &#39;;&#39;;\r\n      9        i := p_array.next(i);\r\n     10     end loop;\r\n     11     l_string := rtrim(l_string, &#39;;&#39;);\r\n     12     return l_string;\r\n     13  end;\r\n     14  /\r\n    \r\n    Function created.\r\n\r\n2) in java\r\n\r\n    public class ArrayTest {\r\n    \tpublic static void main(String[] args) throws SQLException {\r\n    \t\tDriverManager.registerDriver(new OracleDriver());\r\n    \t\tOracleConnection connection = (OracleConnection) DriverManager.getConnection(...);\r\n    \t\t\r\n    \t\tString[] elements = {&quot;abc&quot;, &quot;def&quot;, &quot;geh&quot;};\r\n    \t\tArrayDescriptor descriptor = ArrayDescriptor.createDescriptor(&quot;STRING_ARRAY&quot;, connection);\r\n    \t\tARRAY array = new ARRAY(descriptor, connection, elements);\r\n    \t\t\r\n    \t\tOracleCallableStatement stmt = (OracleCallableStatement) connection.prepareCall(&quot;{? = call to_string(?)}&quot;);\r\n    \t\tstmt.registerOutParameter(1, Types.VARCHAR);\r\n    \t\tstmt.setARRAY(2, array);\r\n    \t\tstmt.execute();\r\n    \t\t\r\n    \t\tString result = stmt.getString(1);\r\n    \t\tSystem.out.println(&quot;to_string returned: &quot; + result);\r\n    \t}\r\n    }\r\n\r\nseems to work: output says\r\n\r\n    to_string returned: abc;def;geh","title":"pass array to oracle procedure","body":"<p>Look here:\n<a href=\"http://download.oracle.com/docs/cd/B19306_01/java.102/b14355/oraarr.htm#i1058512\" rel=\"nofollow\">http://download.oracle.com/docs/cd/B19306_01/java.102/b14355/oraarr.htm#i1058512</a></p>\n\n<p>and here is my short example:</p>\n\n<p>1) on database</p>\n\n<pre><code>SQL&gt; create or replace type string_array as table of varchar2(100);\n  2  /\n\nType created.\n\nSQL&gt; create or replace function to_string(p_array in string_array) return varchar2\n  2  as\n  3     l_string varchar2(32767);\n  4     i binary_integer;\n  5  begin\n  6     i := p_array.first();\n  7     while i is not null loop\n  8        l_string := l_string || p_array(i) || ';';\n  9        i := p_array.next(i);\n 10     end loop;\n 11     l_string := rtrim(l_string, ';');\n 12     return l_string;\n 13  end;\n 14  /\n\nFunction created.\n</code></pre>\n\n<p>2) in java</p>\n\n<pre><code>public class ArrayTest {\n    public static void main(String[] args) throws SQLException {\n        DriverManager.registerDriver(new OracleDriver());\n        OracleConnection connection = (OracleConnection) DriverManager.getConnection(...);\n\n        String[] elements = {\"abc\", \"def\", \"geh\"};\n        ArrayDescriptor descriptor = ArrayDescriptor.createDescriptor(\"STRING_ARRAY\", connection);\n        ARRAY array = new ARRAY(descriptor, connection, elements);\n\n        OracleCallableStatement stmt = (OracleCallableStatement) connection.prepareCall(\"{? = call to_string(?)}\");\n        stmt.registerOutParameter(1, Types.VARCHAR);\n        stmt.setARRAY(2, array);\n        stmt.execute();\n\n        String result = stmt.getString(1);\n        System.out.println(\"to_string returned: \" + result);\n    }\n}\n</code></pre>\n\n<p>seems to work: output says</p>\n\n<pre><code>to_string returned: abc;def;geh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1299274683,"creation_date":1299274683,"answer_id":5199558,"question_id":5198856,"body_markdown":"You can use Oracle Types to map Java objects to Oracle.  Also, there&#39;s Spring JDBC utilities.","title":"pass array to oracle procedure","body":"<p>You can use Oracle Types to map Java objects to Oracle.  Also, there's Spring JDBC utilities.</p>\n"},{"comments":[{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":1,"creation_date":1361651088,"post_id":5199629,"comment_id":21148349,"body_markdown":"Is it possible to do this with multidimensional arrays? http://stackoverflow.com/questions/15045019/reading-an-oracle-nested-table-type-using-jdbc-for-an-oracle-type-with-more-than","body":"Is it possible to do this with multidimensional arrays? <a href=\"http://stackoverflow.com/questions/15045019/reading-an-oracle-nested-table-type-using-jdbc-for-an-oracle-type-with-more-than\" title=\"reading an oracle nested table type using jdbc for an oracle type with more than\">stackoverflow.com/questions/15045019/&hellip;</a>"},{"owner":{"account_id":969697,"reputation":699,"user_id":992470,"accept_rate":56,"display_name":"tomas"},"score":0,"creation_date":1379073347,"post_id":5199629,"comment_id":27698496,"body_markdown":"I have copy/paste your entire solution - resulting in table &quot;strings&quot; containing three (null) values... using oracle 9i as well as 10g and all available jdbc drivers - result is the same. oracle.sql.ARRAY is empty when it is created in java - I&#39;m trying to find solution, but no luck so far :( it is same problem as here http://stackoverflow.com/questions/14998299/oracle-array-filled-with-null-data-in-java","body":"I have copy/paste your entire solution - resulting in table &quot;strings&quot; containing three (null) values... using oracle 9i as well as 10g and all available jdbc drivers - result is the same. oracle.sql.ARRAY is empty when it is created in java - I&#39;m trying to find solution, but no luck so far :( it is same problem as here <a href=\"http://stackoverflow.com/questions/14998299/oracle-array-filled-with-null-data-in-java\" title=\"oracle array filled with null data in java\">stackoverflow.com/questions/14998299/&hellip;</a>"},{"owner":{"account_id":4870584,"reputation":13948,"user_id":3927264,"accept_rate":68,"display_name":"Farhan stands with Palestine"},"score":0,"creation_date":1431771834,"post_id":5199629,"comment_id":48647815,"body_markdown":"@Luke Woodward: I upvoted you. Can you extend a bit for how to pass an arraylist toa function. The function in the database is not created by me and I need to pass 2 arraylists.","body":"@Luke Woodward: I upvoted you. Can you extend a bit for how to pass an arraylist toa function. The function in the database is not created by me and I need to pass 2 arraylists."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1431805688,"post_id":5199629,"comment_id":48658276,"body_markdown":"@ShirgillAnsari: no, I don&#39;t see why I should.  Are you not aware of the `toArray()` method on an ArrayList?","body":"@ShirgillAnsari: no, I don&#39;t see why I should.  Are you not aware of the <code>toArray()</code> method on an ArrayList?"}],"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1299275124,"creation_date":1299275124,"answer_id":5199629,"question_id":5198856,"body_markdown":"Here&#39;s an example of how to do it.\r\n\r\nThe following script sets up a table, a type and a stored procedure in the database.  The procedure takes a parameter of the array type and inserts each row of the array into the table:\r\n\r\n    CREATE TABLE strings (s VARCHAR(4000));\r\n    \r\n    CREATE TYPE t_varchar2_array AS TABLE OF VARCHAR2(4000);\r\n    /\r\n    \r\n    CREATE OR REPLACE PROCEDURE p_array_test(\r\n        p_strings      t_varchar2_array\r\n    )\r\n    AS\r\n    BEGIN\r\n      FOR i IN 1..p_strings.COUNT\r\n      LOOP\r\n        INSERT INTO strings (s) VALUES (p_strings(i));\r\n      END LOOP;\r\n    END;\r\n    /\r\n\r\nThe Java code then demonstrates passing an array into this stored procedure:\r\n\r\n    import java.sql.*;\r\n    import oracle.jdbc.*;\r\n    import oracle.sql.*;\r\n    \r\n    public class ArrayTest {\r\n        public static void main(String[] args) throws Exception {\r\n            DriverManager.registerDriver(new OracleDriver());\r\n            Connection conn = DriverManager.getConnection(\r\n                &quot;jdbc:oracle:thin:@localhost:1521:xe&quot;, &quot;user&quot;, &quot;pass&quot;);\r\n\r\n            CallableStatement stmt = conn.prepareCall(&quot;BEGIN p_array_test(?); END;&quot;);\r\n\r\n            // The first parameter here should be the name of the array type.\r\n            // It&#39;s been capitalised here since I created it without using\r\n            // double quotes.\r\n            ArrayDescriptor arrDesc =\r\n                ArrayDescriptor.createDescriptor(&quot;T_VARCHAR2_ARRAY&quot;, conn);\r\n\r\n            String[] data = { &quot;one&quot;, &quot;two&quot;, &quot;three&quot; };\r\n            Array array = new ARRAY(arrDesc, conn, data);\r\n            stmt.setArray(1, array);\r\n            stmt.execute();\r\n\r\n            conn.commit();\r\n            conn.close();\r\n        }\r\n    }\r\n\r\nIf you run the SQL script and then the Java class, and then query the table `strings`, you should find that all of the data has been inserted into the table.\r\n\r\nWhen you say &#39;an array of chars&#39;,  I&#39;m guessing that you mean an array of Java `char`s.  If I&#39;ve guessed right, then I think you&#39;d be best off converting the `char`s to `String`s and then using the same approach as above.","title":"pass array to oracle procedure","body":"<p>Here's an example of how to do it.</p>\n\n<p>The following script sets up a table, a type and a stored procedure in the database.  The procedure takes a parameter of the array type and inserts each row of the array into the table:</p>\n\n<pre><code>CREATE TABLE strings (s VARCHAR(4000));\n\nCREATE TYPE t_varchar2_array AS TABLE OF VARCHAR2(4000);\n/\n\nCREATE OR REPLACE PROCEDURE p_array_test(\n    p_strings      t_varchar2_array\n)\nAS\nBEGIN\n  FOR i IN 1..p_strings.COUNT\n  LOOP\n    INSERT INTO strings (s) VALUES (p_strings(i));\n  END LOOP;\nEND;\n/\n</code></pre>\n\n<p>The Java code then demonstrates passing an array into this stored procedure:</p>\n\n<pre><code>import java.sql.*;\nimport oracle.jdbc.*;\nimport oracle.sql.*;\n\npublic class ArrayTest {\n    public static void main(String[] args) throws Exception {\n        DriverManager.registerDriver(new OracleDriver());\n        Connection conn = DriverManager.getConnection(\n            \"jdbc:oracle:thin:@localhost:1521:xe\", \"user\", \"pass\");\n\n        CallableStatement stmt = conn.prepareCall(\"BEGIN p_array_test(?); END;\");\n\n        // The first parameter here should be the name of the array type.\n        // It's been capitalised here since I created it without using\n        // double quotes.\n        ArrayDescriptor arrDesc =\n            ArrayDescriptor.createDescriptor(\"T_VARCHAR2_ARRAY\", conn);\n\n        String[] data = { \"one\", \"two\", \"three\" };\n        Array array = new ARRAY(arrDesc, conn, data);\n        stmt.setArray(1, array);\n        stmt.execute();\n\n        conn.commit();\n        conn.close();\n    }\n}\n</code></pre>\n\n<p>If you run the SQL script and then the Java class, and then query the table <code>strings</code>, you should find that all of the data has been inserted into the table.</p>\n\n<p>When you say 'an array of chars',  I'm guessing that you mean an array of Java <code>char</code>s.  If I've guessed right, then I think you'd be best off converting the <code>char</code>s to <code>String</code>s and then using the same approach as above.</p>\n"},{"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":2,"creation_date":1346706336,"post_id":12248609,"comment_id":16427635,"body_markdown":"Are you suggesting converting the array to a comma-seperated `String` and passing it to a procedure expecting a `varchar2`; then decomposing it back to its elements? That seems messy, can hit the 32k size limit, and will break (possibly silently) if any of the values already contain a comma...","body":"Are you suggesting converting the array to a comma-seperated <code>String</code> and passing it to a procedure expecting a <code>varchar2</code>; then decomposing it back to its elements? That seems messy, can hit the 32k size limit, and will break (possibly silently) if any of the values already contain a comma..."}],"tags":[],"owner":{"display_name":"user330606"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346677994,"creation_date":1346677994,"answer_id":12248609,"question_id":5198856,"body_markdown":"Regex solve\r\n\r\n    select * from table_a  a where a.col in (select   regexp_substr(&#39;SMITH,ALLEN,WARD,JONES&#39;,&#39;[^,]+&#39;, 1, level) from dual\r\n    connect by regexp_substr(&#39;SMITH,ALLEN,WARD,JONES&#39;, &#39;[^,]+&#39;, 1, level) is not null;)","title":"pass array to oracle procedure","body":"<p>Regex solve</p>\n\n<pre><code>select * from table_a  a where a.col in (select   regexp_substr('SMITH,ALLEN,WARD,JONES','[^,]+', 1, level) from dual\nconnect by regexp_substr('SMITH,ALLEN,WARD,JONES', '[^,]+', 1, level) is not null;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1694522627,"post_id":38737870,"comment_id":135899495,"body_markdown":"Sometimes we can&#39;t just cast the Connection. We have to unwrap it, `getDataSource().getConnection().unwrap(OracleConnection.class);`","body":"Sometimes we can&#39;t just cast the Connection. We have to unwrap it, <code>getDataSource().getConnection().unwrap(OracleConnection.clas&zwnj;&#8203;s);</code>"}],"tags":[],"owner":{"account_id":2563622,"reputation":39,"user_id":2224242,"display_name":"waseq"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470211575,"creation_date":1470211575,"answer_id":38737870,"question_id":5198856,"body_markdown":"Since `ArrayDescriptor` is deprecated since 12c, it should not be used anymore.\r\nHere&#39;s a code sniplet that worked for me in 12c:\r\n\r\n                Array array = ((OracleConnection) connection).createOracleArray(&quot;T_VARCHAR2_ARRAY&quot;, data);\r\n                CallableStatement statement = connection.prepareCall(&quot;{call p_array_test(?)}&quot;);\r\n                statement.setArray(1, array);\r\n                statement.execute();","title":"pass array to oracle procedure","body":"<p>Since <code>ArrayDescriptor</code> is deprecated since 12c, it should not be used anymore.\nHere's a code sniplet that worked for me in 12c:</p>\n\n<pre><code>            Array array = ((OracleConnection) connection).createOracleArray(\"T_VARCHAR2_ARRAY\", data);\n            CallableStatement statement = connection.prepareCall(\"{call p_array_test(?)}\");\n            statement.setArray(1, array);\n            statement.execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9944537,"reputation":1090,"user_id":7359806,"accept_rate":60,"display_name":"Yogesh Sanchihar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524659211,"creation_date":1524659211,"answer_id":50022348,"question_id":5198856,"body_markdown":"PeudoCode for the same how I achieved.\r\n\r\n        # 1.You will require a structDescriptor object for an object equivalent in pl sql like :\r\n\r\n        StructDescriptor structDes= new StructDescriptor(&quot;&lt;schemaname in caps&gt;.&lt;sql_object_name&gt;&quot;, connectionObject);\r\n        \r\n        # 2. You will need to pass one object values such name, class, id to an object array in order and accordance to &#39;sql_object_name&#39; object. \r\n        \r\n        For exmaple:\r\n        STRUCT[] structArray=new STRUCT[&lt;ListObj&gt;.size()];\r\n        int index=0;\r\n        for (a in ListObj){\r\n\r\n        Object[] object=new Object[]{a.getName(),a.getId()};\r\n        STRUCT struct=new STRUCT(structDes ,connectionObject,object);\r\n                   structArray[index]=struct;\r\n                   index++;\r\n\r\n        }\r\n\r\n        ArrayDescriptor arrayDes=ArrayDescriptor.createDescriptor(\r\n\t\t\t&quot;&lt;Schema name&gt;.&lt;table object from sql&gt;&quot;, connectionObject);\r\n\r\n        ARRAY array=new ARRAY(arrayDes,connectionObject, structArray);\r\n\r\n       then pass it to proc \r\n\r\n       .declareParameters(\r\n       new SqlInOutParameter(&quot;&lt;parameter to proc name&gt;&quot;,OracleTypes.ARRAY,&quot;\r\n       &lt;schema name&gt;.&lt;sql_array_or_table_obj&gt;&quot;))\r\n       \r\n       like \r\n       Hashmap&lt;String, Object&gt; map= new HashMap&lt;&gt;();\r\n       map.put(&quot;&lt;parameter to proc name&gt;&quot;,array);\r\n       psStatement.execute(map);\r\n       \r\nHope it helps. This sequence may vary as per requirement and type of sql database used, but base is same.\r\n\r\nI have copied this answer from one of my other answers.\r\n\r\nhttps://stackoverflow.com/questions/26655331/pass-array-as-input-parameter-to-an-oracle-stored-procedure-using-simple-jdbc-ca/49854059#49854059","title":"pass array to oracle procedure","body":"<p>PeudoCode for the same how I achieved.</p>\n\n<pre><code>    # 1.You will require a structDescriptor object for an object equivalent in pl sql like :\n\n    StructDescriptor structDes= new StructDescriptor(\"&lt;schemaname in caps&gt;.&lt;sql_object_name&gt;\", connectionObject);\n\n    # 2. You will need to pass one object values such name, class, id to an object array in order and accordance to 'sql_object_name' object. \n\n    For exmaple:\n    STRUCT[] structArray=new STRUCT[&lt;ListObj&gt;.size()];\n    int index=0;\n    for (a in ListObj){\n\n    Object[] object=new Object[]{a.getName(),a.getId()};\n    STRUCT struct=new STRUCT(structDes ,connectionObject,object);\n               structArray[index]=struct;\n               index++;\n\n    }\n\n    ArrayDescriptor arrayDes=ArrayDescriptor.createDescriptor(\n        \"&lt;Schema name&gt;.&lt;table object from sql&gt;\", connectionObject);\n\n    ARRAY array=new ARRAY(arrayDes,connectionObject, structArray);\n\n   then pass it to proc \n\n   .declareParameters(\n   new SqlInOutParameter(\"&lt;parameter to proc name&gt;\",OracleTypes.ARRAY,\"\n   &lt;schema name&gt;.&lt;sql_array_or_table_obj&gt;\"))\n\n   like \n   Hashmap&lt;String, Object&gt; map= new HashMap&lt;&gt;();\n   map.put(\"&lt;parameter to proc name&gt;\",array);\n   psStatement.execute(map);\n</code></pre>\n\n<p>Hope it helps. This sequence may vary as per requirement and type of sql database used, but base is same.</p>\n\n<p>I have copied this answer from one of my other answers.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26655331/pass-array-as-input-parameter-to-an-oracle-stored-procedure-using-simple-jdbc-ca/49854059#49854059\">Pass array as input parameter to an oracle stored procedure using simple jdbc call</a></p>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695065887,"creation_date":1695065887,"answer_id":77129977,"question_id":5198856,"body_markdown":"The new approach is to unwrap the `OracleConnection` and then use `createOracleArray`.\r\n\r\n    OracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\r\n    Array array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\r\n    \r\n    inputParameters.put(&quot;itemIds&quot;, array); \r\n\r\nAlso see: https://stackoverflow.com/questions/7878735/how-to-create-an-oracle-sql-array-object/76571542#76571542","title":"pass array to oracle procedure","body":"<p>The new approach is to unwrap the <code>OracleConnection</code> and then use <code>createOracleArray</code>.</p>\n<pre><code>OracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\nArray array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\n\ninputParameters.put(&quot;itemIds&quot;, array); \n</code></pre>\n<p>Also see: <a href=\"https://stackoverflow.com/questions/7878735/how-to-create-an-oracle-sql-array-object/76571542#76571542\">How to create an oracle.sql.ARRAY object?</a></p>\n"}],"owner":{"account_id":115601,"reputation":9608,"user_id":2067571,"accept_rate":74,"display_name":"palAlaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55051,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":5199629,"answer_count":7,"score":16,"last_activity_date":1695065887,"creation_date":1299270170,"question_id":5198856,"body_markdown":"I want to send two arrays form java to oracle stored procedures.\r\nThe first Array is array of strings and the second is array of chars \r\nhow can I make this??","title":"pass array to oracle procedure","body":"<p>I want to send two arrays form java to oracle stored procedures.\nThe first Array is array of strings and the second is array of chars \nhow can I make this??</p>\n"},{"tags":["java","oracle","stored-procedures","jdbc","oracle11g"],"comments":[{"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"score":0,"creation_date":1465975907,"post_id":37720298,"comment_id":63119937,"body_markdown":"Please explain your problem statement by giving an example.. its not clear in current form.","body":"Please explain your problem statement by giving an example.. its not clear in current form."},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1466015963,"post_id":37720298,"comment_id":63147063,"body_markdown":"@Sanjeev Would like to use LIst collection and pass List as argument and pass to callProc method and convert List collection to an array so that it can be passed to database procedure.","body":"@Sanjeev Would like to use LIst collection and pass List as argument and pass to callProc method and convert List collection to an array so that it can be passed to database procedure."}],"answers":[{"comments":[{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1465922396,"post_id":37810275,"comment_id":63099567,"body_markdown":"This is not what I am looking for.","body":"This is not what I am looking for."}],"tags":[],"owner":{"account_id":7926603,"reputation":166,"user_id":5985874,"display_name":"Colin Shah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465902465,"creation_date":1465902465,"answer_id":37810275,"question_id":37720298,"body_markdown":"this may help : \r\n\r\n    import java.math.BigDecimal;\r\n    import java.sql.CallableStatement;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.Types;\r\n    import oracle.jdbc.OracleCallableStatement;\r\n    import oracle.jdbc.internal.OracleTypes;\r\n    import oracle.sql.ARRAY;\r\n    import oracle.sql.ArrayDescriptor; \r\n    \r\n    public class TestSP{\r\n    \tpublic static void arrayDataToSP()\r\n    \t{\r\n    \t\ttry{\r\n    \t\t\tClass.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n    \t\t\t\r\n    \t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:oracle:thin:url &quot;,&quot;[user]&quot;,&quot;[password]&quot;);\r\n    \t\t\t\r\n    \t\t\tString alphabets[] = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;}; \r\n    \t\t\t\r\n    \t\t\t//use ARRAY_TABLE as ArrayDescriptor \r\n    \t\t\tArrayDescriptor des = ArrayDescriptor.createDescriptor(&quot;SchemaName.ARRAY_TABLE&quot;, con);\r\n    \t\t\t\r\n    \t\t\tARRAY array_to_pass = new ARRAY(des,con,alphabets);\r\n    \t\t\t\r\n    \t\t\tCallableStatement cst = con.prepareCall(&quot;call SchemaName.my_proc(?,?)&quot;);\r\n    \t\t\t\r\n    \t\t\t// Passing an alphabets array to the procedure \r\n    \t\t\tcst.setArray(1, array_to_pass);\r\n    \t\t\tst.registerOutParameter(2, Types.VARCHAR);\r\n    \t\t\tcst.execute();\r\n    \t\t\t\r\n    \t\t\t// Retrive output of procedure execute\r\n    \t\t\tARRAY output = ((OracleCallableStatement)cst).getARRAY(2);\r\n    \t\t\t\r\n    \t\t\t BigDecimal[] outputArray = (BigDecimal[])(output.getArray());\r\n    \t\t\t \r\n    \t\t\tfor(int i=0;i&lt;outputArray.length;i++)\r\n    \t\t\t\tSystem.out.println(&quot;element&quot; + i + &quot;:&quot; + outputArray[i] + &quot;\\n&quot;);\r\n    \t\t\t\t\r\n    \t\t} catch(Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    public static void main(String args[]){ arrayDataToSP(); } } ","title":"From Java Passing Values as Array to Database Stored Procedure","body":"<p>this may help : </p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.Types;\nimport oracle.jdbc.OracleCallableStatement;\nimport oracle.jdbc.internal.OracleTypes;\nimport oracle.sql.ARRAY;\nimport oracle.sql.ArrayDescriptor; \n\npublic class TestSP{\n    public static void arrayDataToSP()\n    {\n        try{\n            Class.forName(\"oracle.jdbc.OracleDriver\");\n\n            Connection con = DriverManager.getConnection(\"jdbc:oracle:thin:url \",\"[user]\",\"[password]\");\n\n            String alphabets[] = {\"a\", \"b\", \"c\",\"d\",\"e\",\"f\",\"g\"}; \n\n            //use ARRAY_TABLE as ArrayDescriptor \n            ArrayDescriptor des = ArrayDescriptor.createDescriptor(\"SchemaName.ARRAY_TABLE\", con);\n\n            ARRAY array_to_pass = new ARRAY(des,con,alphabets);\n\n            CallableStatement cst = con.prepareCall(\"call SchemaName.my_proc(?,?)\");\n\n            // Passing an alphabets array to the procedure \n            cst.setArray(1, array_to_pass);\n            st.registerOutParameter(2, Types.VARCHAR);\n            cst.execute();\n\n            // Retrive output of procedure execute\n            ARRAY output = ((OracleCallableStatement)cst).getARRAY(2);\n\n             BigDecimal[] outputArray = (BigDecimal[])(output.getArray());\n\n            for(int i=0;i&lt;outputArray.length;i++)\n                System.out.println(\"element\" + i + \":\" + outputArray[i] + \"\\n\");\n\n        } catch(Exception e) {\n            System.out.println(e);\n        }\n    }\n\npublic static void main(String args[]){ arrayDataToSP(); } } \n</code></pre>\n"},{"comments":[{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1466279937,"post_id":37900949,"comment_id":63255172,"body_markdown":"I will consider your suggestion for changing the PL/SQL procedure to make it more efficient as now the number of db calls is more.  If I alter the procedure to have a collection and table type, how the Java method would  be?","body":"I will consider your suggestion for changing the PL/SQL procedure to make it more efficient as now the number of db calls is more.  If I alter the procedure to have a collection and table type, how the Java method would  be?"},{"owner":{"account_id":4001931,"reputation":404,"user_id":3297753,"display_name":"Najeeb Arif"},"score":0,"creation_date":1466500229,"post_id":37900949,"comment_id":63329236,"body_markdown":"I will further Edit the Post with proper code snippets","body":"I will further Edit the Post with proper code snippets"},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1466504495,"post_id":37900949,"comment_id":63332264,"body_markdown":"Thanks for the insight. I can understand your approach to achieve using `OBJECT`. How can I use the POJO class and use List to pass all the values to Java procedure to pass values to database?","body":"Thanks for the insight. I can understand your approach to achieve using <code>OBJECT</code>. How can I use the POJO class and use List to pass all the values to Java procedure to pass values to database?"},{"owner":{"account_id":4001931,"reputation":404,"user_id":3297753,"display_name":"Najeeb Arif"},"score":0,"creation_date":1466510064,"post_id":37900949,"comment_id":63335878,"body_markdown":"I have added the code for calling th eDB procedure form the Java code.\nFor thais we will create a Callable statement for that particular procedure and pass in all the required parameters to the prepared callable statement.\nIt will automatically route everything to the DB proc.","body":"I have added the code for calling th eDB procedure form the Java code. For thais we will create a Callable statement for that particular procedure and pass in all the required parameters to the prepared callable statement. It will automatically route everything to the DB proc."}],"tags":[],"owner":{"account_id":4001931,"reputation":404,"user_id":3297753,"display_name":"Najeeb Arif"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1466509922,"creation_date":1466278782,"answer_id":37900949,"question_id":37720298,"body_markdown":"First of all We will create a Pojo\r\n\r\n    public class ParamHolder{\r\n\r\n       private String param1;\r\n\r\n       private String param2;\r\n\r\n       private String param3;\r\n\r\n       //getters and setters.\r\n    }\r\n\r\nOn the DB side create an Object of the same type\r\n\r\n    CREATE OR REPLACE TYPE PARAM_HOLDER_OBJ \r\n    AS OBJECT ( PARAM1 VARCHAR2(200), PARAM2 VARCHAR2(200), PARAM3 VARCHAR3(200));\r\n\r\nOnce you created the Object lets create a table of these objects\r\n\r\n    CREATE OR REPLACE TYPE PARAM_HOLDER_OBJ_TABLE\r\n    IS TABLE OF PARAM_HOLDER_OBJ\r\n\r\nand our procedure may take input parajm like \r\n\r\n    custom(p_param_holder_tab IN TYPE PARAM_HOLDER_OBJ_TABLE)\r\nlets for instance assume our proc looks something like this now what we need to do is to call this proc from our java code and pass in a Array of ParamHolder.\r\n\r\n    Code Snippet:\r\n    //variable declaration\r\n    //ParamHolder[] paramHolders = ..getTheParamHolderArray();\r\n            try (Connection con = createConnWithDbDetails(getDBDetails());\r\n                 CallableStatement stmnt =\r\n                 con.prepareCall(&quot;{ call custom(?) }&quot;)) {\r\n                //Create a arrayDescriptor\r\n                ArrayDescriptor descriptor =\r\n                    ArrayDescriptor.createDescriptor(&quot;PARAM_HOLDER_OBJ_TABLE&quot;, con);\r\n                Array array = new ARRAY(descriptor , con, paramHolders);\r\n                stmnt.setArray(1, array );\r\n              }Catch(Exception e){\r\n                  e.printStackTrace();\r\n              }\r\n\r\n\r\n\r\n\r\n\r\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n*EDITED-- 21st June 2016\r\nFor adding the calling method.\r\n5 pm IST.*\r\n\r\nWhat you can do is you can create a method like this\r\n\r\n    public void callProc(ParamHolder[] paramHolders){\r\n    \r\n    try (Connection con = createConnWithDbDetails(getDBDetails());\r\n                 CallableStatement stmnt =\r\n                 con.prepareCall(&quot;{ call custom(?,?) }&quot;)) {\r\n                //Create a arrayDescriptor\r\n                ArrayDescriptor descriptor =\r\n                    ArrayDescriptor.createDescriptor(&quot;PARAM_HOLDER_OBJ_TABLE&quot;, con);\r\n                Array array = new ARRAY(descriptor , con, paramHolders);\r\n                stmnt.setArray(1, array );\r\n                stmnt.registerOutParameter(2,OracleType.VARCHAR,&quot;p_out_var&quot;);           //Register any output variable if your procedure returns any thing.\r\n                stmmnt.execute();                                              //this will take the Array of ParamHolder straight to the DB for processing.\r\n                String result = stmnt.getString(2);                                  //Will fetch yuou the result form the DB to your local String.\r\n              }Catch(Exception e){\r\n                  e.printStackTrace();\r\n              }\r\n    }\r\n\r\nwhich will take an array of ParamHolder class which will be passed directly to your db proc and you will  have the results the accordingly.\r\nas the current proc defination does not specifies any out param but you can define and register of to catch that.\r\n\r\nLets Say you have a calling piece of code which will utilize it\r\n\r\n    public class ProcDaoImpl{\r\n    \r\n        public void executeProc(){\r\n    \r\n             ParamHolder[] paramArray = new ParamHolder[]{                                          //create an array of four elements\r\n                                          new ParamHolder(&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;),\r\n                                          new ParamHolder(&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;),\r\n                                          new ParamHolder(&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;),            \r\n                                          new ParamHolder(&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;)                                                   //Each array element represents a set of InputParams\r\n                                       }\r\n    \r\n         //call the DB procedure now..\r\n         SomeClass.callProc(paramArray);                                                                     // pass in the created array to it.\r\n        }\r\n    \r\n    }\r\nHope it helps.\r\n:)\r\n\r\nThanks\r\n\r\n","title":"From Java Passing Values as Array to Database Stored Procedure","body":"<p>First of all We will create a Pojo</p>\n\n<pre><code>public class ParamHolder{\n\n   private String param1;\n\n   private String param2;\n\n   private String param3;\n\n   //getters and setters.\n}\n</code></pre>\n\n<p>On the DB side create an Object of the same type</p>\n\n<pre><code>CREATE OR REPLACE TYPE PARAM_HOLDER_OBJ \nAS OBJECT ( PARAM1 VARCHAR2(200), PARAM2 VARCHAR2(200), PARAM3 VARCHAR3(200));\n</code></pre>\n\n<p>Once you created the Object lets create a table of these objects</p>\n\n<pre><code>CREATE OR REPLACE TYPE PARAM_HOLDER_OBJ_TABLE\nIS TABLE OF PARAM_HOLDER_OBJ\n</code></pre>\n\n<p>and our procedure may take input parajm like </p>\n\n<pre><code>custom(p_param_holder_tab IN TYPE PARAM_HOLDER_OBJ_TABLE)\n</code></pre>\n\n<p>lets for instance assume our proc looks something like this now what we need to do is to call this proc from our java code and pass in a Array of ParamHolder.</p>\n\n<pre><code>Code Snippet:\n//variable declaration\n//ParamHolder[] paramHolders = ..getTheParamHolderArray();\n        try (Connection con = createConnWithDbDetails(getDBDetails());\n             CallableStatement stmnt =\n             con.prepareCall(\"{ call custom(?) }\")) {\n            //Create a arrayDescriptor\n            ArrayDescriptor descriptor =\n                ArrayDescriptor.createDescriptor(\"PARAM_HOLDER_OBJ_TABLE\", con);\n            Array array = new ARRAY(descriptor , con, paramHolders);\n            stmnt.setArray(1, array );\n          }Catch(Exception e){\n              e.printStackTrace();\n          }\n</code></pre>\n\n<p>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n<em>EDITED-- 21st June 2016\nFor adding the calling method.\n5 pm IST.</em></p>\n\n<p>What you can do is you can create a method like this</p>\n\n<pre><code>public void callProc(ParamHolder[] paramHolders){\n\ntry (Connection con = createConnWithDbDetails(getDBDetails());\n             CallableStatement stmnt =\n             con.prepareCall(\"{ call custom(?,?) }\")) {\n            //Create a arrayDescriptor\n            ArrayDescriptor descriptor =\n                ArrayDescriptor.createDescriptor(\"PARAM_HOLDER_OBJ_TABLE\", con);\n            Array array = new ARRAY(descriptor , con, paramHolders);\n            stmnt.setArray(1, array );\n            stmnt.registerOutParameter(2,OracleType.VARCHAR,\"p_out_var\");           //Register any output variable if your procedure returns any thing.\n            stmmnt.execute();                                              //this will take the Array of ParamHolder straight to the DB for processing.\n            String result = stmnt.getString(2);                                  //Will fetch yuou the result form the DB to your local String.\n          }Catch(Exception e){\n              e.printStackTrace();\n          }\n}\n</code></pre>\n\n<p>which will take an array of ParamHolder class which will be passed directly to your db proc and you will  have the results the accordingly.\nas the current proc defination does not specifies any out param but you can define and register of to catch that.</p>\n\n<p>Lets Say you have a calling piece of code which will utilize it</p>\n\n<pre><code>public class ProcDaoImpl{\n\n    public void executeProc(){\n\n         ParamHolder[] paramArray = new ParamHolder[]{                                          //create an array of four elements\n                                      new ParamHolder(\"param1\",\"param2\",\"param3\"),\n                                      new ParamHolder(\"param1\",\"param2\",\"param3\"),\n                                      new ParamHolder(\"param1\",\"param2\",\"param3\"),            \n                                      new ParamHolder(\"param1\",\"param2\",\"param3\")                                                   //Each array element represents a set of InputParams\n                                   }\n\n     //call the DB procedure now..\n     SomeClass.callProc(paramArray);                                                                     // pass in the created array to it.\n    }\n\n}\n</code></pre>\n\n<p>Hope it helps.\n:)</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695065556,"creation_date":1695065556,"answer_id":77129940,"question_id":37720298,"body_markdown":"Unwrap the OracleConnection and then do `createOracleArray`.\r\n\r\nIf you have a custom Array type defined in Oracle as e.g. below:\r\n\r\n    create or replace TYPE   &quot;REF_TYPE_ARRAY&quot;  IS TABLE OF NUMBER\r\n\r\nThen in Java&#39;s `StoredProcedure` implementation you can do the following, when you (1) unwrap the OracleConnection and then (2) do `createOracleArray`.\r\n\r\n@Component\r\npublic class MyStoredProcedure extends StoredProcedure {\r\n\r\n    public MyStoredProcedure(@Autowired DataSource dataSource) {\r\n        super(dataSource, &quot;MY_PKG.MY_STORED_PROC&quot;); // Name\r\n\r\n        declareParameter(new SqlParameter(&quot;itemIds&quot;, OracleTypes.ARRAY, &quot;REF_TYPE_ARRAY&quot;));\r\n        // etc. other parameters\r\n\r\n}\r\n\r\n    public void execute(ParamObject paramObject) throws Exception{\r\n        Map&lt;String, Object&gt; inputParameters = new HashMap&lt;&gt;();\r\n    \r\n    OracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\r\n    Array array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\r\n    \r\n    inputParameters.put(&quot;itemIds&quot;, array); \r\n    // etc. other params","title":"From Java Passing Values as Array to Database Stored Procedure","body":"<p>Unwrap the OracleConnection and then do <code>createOracleArray</code>.</p>\n<p>If you have a custom Array type defined in Oracle as e.g. below:</p>\n<pre><code>create or replace TYPE   &quot;REF_TYPE_ARRAY&quot;  IS TABLE OF NUMBER\n</code></pre>\n<p>Then in Java's <code>StoredProcedure</code> implementation you can do the following, when you (1) unwrap the OracleConnection and then (2) do <code>createOracleArray</code>.</p>\n<p>@Component\npublic class MyStoredProcedure extends StoredProcedure {</p>\n<pre><code>public MyStoredProcedure(@Autowired DataSource dataSource) {\n    super(dataSource, &quot;MY_PKG.MY_STORED_PROC&quot;); // Name\n\n    declareParameter(new SqlParameter(&quot;itemIds&quot;, OracleTypes.ARRAY, &quot;REF_TYPE_ARRAY&quot;));\n    // etc. other parameters\n</code></pre>\n<p>}</p>\n<pre><code>public void execute(ParamObject paramObject) throws Exception{\n    Map&lt;String, Object&gt; inputParameters = new HashMap&lt;&gt;();\n\nOracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\nArray array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\n\ninputParameters.put(&quot;itemIds&quot;, array); \n// etc. other params\n</code></pre>\n"}],"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8647,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37900949,"answer_count":3,"score":2,"last_activity_date":1695065556,"creation_date":1465459900,"question_id":37720298,"body_markdown":"I have the following stored procedure in database\r\n\r\n    CREATE OR REPLACE PROCEDURE my_proc (\r\n       my_array         IN     my_array_type,\r\n       my_var    IN OUT VARCHAR2)\r\n       ....\r\n       ....\r\n\r\nIn Java I have the following code snippet to invoke the above stored procedure\r\n\r\n     public void callProc(String prodCode, \r\n                          String prodName, \r\n                          String prodDesc, \r\n                          ) {\r\n                callableStatement = \r\n                this.getOADBTransaction().getJdbcConnection().prepareCall(&quot;{call my_proc (?,?)}&quot;);\r\n        Object[] object = \r\n          new Object[] { prodCode, prodName, prodDesc};\r\n    StructDescriptor structDescriptor = \r\n      StructDescriptor.createDescriptor(&quot;my_array_type&quot;,this.getOADBTransaction().getJdbcConnection());\r\n    STRUCT struct = \r\n     new STRUCT(structDescriptor, this.getOADBTransaction().getJdbcConnection(), \r\n    object);\r\n    STRUCT[] structArray = { struct };\r\n    ArrayDescriptor arrayDescriptor = \r\n    ArrayDescriptor.createDescriptor(&quot;my_array&quot;,this.getOADBTransaction().getJdbcConnection());\r\n    \r\n    ARRAY array = \r\n    new ARRAY(arrayDescriptor, this.getOADBTransaction().getJdbcConnection(), \r\n    structArray);\r\n    callableStatement.setArray(1, array);\r\n    callableStatement.registerOutParameter(2, Types.VARCHAR);\r\n    callableStatement.execute();\r\n    ....\r\n\r\n\r\nThe above method is called from another class which is inside a for loop\r\n\r\n    for(....){\r\n    \r\n    Serializable[] param = \r\n    { prodCode, prodName, prodDesc};\r\n    db.callProc(param )\r\n    }\r\n\r\nWhat I would like achieve is instead of calling db.callProc inside the for loop,\r\nI would like to use a ListArray or some other collection object and pass the value to db.callProc method and in db.callProc method I would like to iterate and pass to database procedure as an array so that my stored procedure can handle the array and do the processing.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"From Java Passing Values as Array to Database Stored Procedure","body":"<p>I have the following stored procedure in database</p>\n\n<pre><code>CREATE OR REPLACE PROCEDURE my_proc (\n   my_array         IN     my_array_type,\n   my_var    IN OUT VARCHAR2)\n   ....\n   ....\n</code></pre>\n\n<p>In Java I have the following code snippet to invoke the above stored procedure</p>\n\n<pre><code> public void callProc(String prodCode, \n                      String prodName, \n                      String prodDesc, \n                      ) {\n            callableStatement = \n            this.getOADBTransaction().getJdbcConnection().prepareCall(\"{call my_proc (?,?)}\");\n    Object[] object = \n      new Object[] { prodCode, prodName, prodDesc};\nStructDescriptor structDescriptor = \n  StructDescriptor.createDescriptor(\"my_array_type\",this.getOADBTransaction().getJdbcConnection());\nSTRUCT struct = \n new STRUCT(structDescriptor, this.getOADBTransaction().getJdbcConnection(), \nobject);\nSTRUCT[] structArray = { struct };\nArrayDescriptor arrayDescriptor = \nArrayDescriptor.createDescriptor(\"my_array\",this.getOADBTransaction().getJdbcConnection());\n\nARRAY array = \nnew ARRAY(arrayDescriptor, this.getOADBTransaction().getJdbcConnection(), \nstructArray);\ncallableStatement.setArray(1, array);\ncallableStatement.registerOutParameter(2, Types.VARCHAR);\ncallableStatement.execute();\n....\n</code></pre>\n\n<p>The above method is called from another class which is inside a for loop</p>\n\n<pre><code>for(....){\n\nSerializable[] param = \n{ prodCode, prodName, prodDesc};\ndb.callProc(param )\n}\n</code></pre>\n\n<p>What I would like achieve is instead of calling db.callProc inside the for loop,\nI would like to use a ListArray or some other collection object and pass the value to db.callProc method and in db.callProc method I would like to iterate and pass to database procedure as an array so that my stored procedure can handle the array and do the processing.</p>\n"},{"tags":["java","jms","activemq"],"comments":[{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":1,"creation_date":1305937994,"post_id":6078637,"comment_id":7041656,"body_markdown":"You&#39;d need post some more info, sample code etc so we can help","body":"You&#39;d need post some more info, sample code etc so we can help"}],"answers":[{"comments":[{"owner":{"account_id":472489,"reputation":2168,"user_id":1442960,"accept_rate":80,"display_name":"Marcus"},"score":2,"creation_date":1388697661,"post_id":6078845,"comment_id":31355822,"body_markdown":"It would seem the poster&#39;s issue is completely different, unless I&#39;m missing something.  The link mentions a noisy INFO level log message, but the above (which is also what I&#39;m getting) is a thrown JMSException, which has these additional lines under the Caused by: clause.","body":"It would seem the poster&#39;s issue is completely different, unless I&#39;m missing something.  The link mentions a noisy INFO level log message, but the above (which is also what I&#39;m getting) is a thrown JMSException, which has these additional lines under the Caused by: clause."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1477702891,"creation_date":1305938191,"answer_id":6078845,"question_id":6078637,"body_markdown":"I think it *could be* this issue with ActiveMQ: https://issues.apache.org/jira/browse/AMQ-2902\r\n\r\nThis issue tracker thread says that it is harmless (it is just a noisy INFO level log message), and that it is fixed in ActiveMQ 5.4.2.\r\n\r\nOn the other hand, you say that the exception *&quot;cut the execution&quot;* ... which *could* mean that this is a different issue to yours ... \r\n\r\n**UPDATE**\r\n\r\nAnyone getting a &quot;peer disposed&quot; exception that isn&#39;t fixed by upgrading ActiveMQ, and isn&#39;t related to shutdown (see https://stackoverflow.com/questions/9591203) should consider lodging a bug report.","title":"Erratic javax.jms.JMSException: Peer disposed","body":"<p>I think it <em>could be</em> this issue with ActiveMQ: <a href=\"https://issues.apache.org/jira/browse/AMQ-2902\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/AMQ-2902</a></p>\n\n<p>This issue tracker thread says that it is harmless (it is just a noisy INFO level log message), and that it is fixed in ActiveMQ 5.4.2.</p>\n\n<p>On the other hand, you say that the exception <em>\"cut the execution\"</em> ... which <em>could</em> mean that this is a different issue to yours ... </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Anyone getting a \"peer disposed\" exception that isn't fixed by upgrading ActiveMQ, and isn't related to shutdown (see <a href=\"https://stackoverflow.com/questions/9591203\">Unable to shutdown embedded activeMQ service using the built in BrokerService.stop call</a>) should consider lodging a bug report.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1477702429,"post_id":20892199,"comment_id":67887059,"body_markdown":"you should lodge a bug report for this.","body":"you should lodge a bug report for this."}],"tags":[],"owner":{"account_id":472489,"reputation":2168,"user_id":1442960,"accept_rate":80,"display_name":"Marcus"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388789965,"creation_date":1388697958,"answer_id":20892199,"question_id":6078637,"body_markdown":"It would seem the poster&#39;s issue is completely different.  The link mentions a noisy INFO level log message, but the above (which is also what I&#39;m getting) is a thrown JMSException, which has these additional lines from the ``Caused by:`` clause.\r\n\r\n        at org.apache.activemq.transport.vm.VMTransport.oneway(VMTransport.java:88)\r\n        at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:68)\r\n        at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:60)\r\n        at org.apache.activemq.ActiveMQConnection.doAsyncSendPacket(ActiveMQConnection.java:1275)\r\n        ... 31 more\r\n\r\nThe odd part is that there is a connection.isClosed() check before it gets this far.  So the connection is open, but the &#39;peer&#39; is still disposed.  From researching other potential answers online, the only possible solution is that the connection to the broker is intact, but the specific queue may be closed.\r\n\r\nFor my particular similar case, this occurred when the broker was stopped, but consumers and producers were still attempting to establish connections.  Sometimes the connection would still be considered open (i.e., _not closed_ even though the broker was stopped).  Fixing this to ensure the broker did not die fixed my problem.  \r\n\r\nI also wanted to add that this issue I&#39;ve seen in ActiveMQ 5.6 (but I haven&#39;t tested in 5.8).","title":"Erratic javax.jms.JMSException: Peer disposed","body":"<p>It would seem the poster's issue is completely different.  The link mentions a noisy INFO level log message, but the above (which is also what I'm getting) is a thrown JMSException, which has these additional lines from the <code>Caused by:</code> clause.</p>\n\n<pre><code>    at org.apache.activemq.transport.vm.VMTransport.oneway(VMTransport.java:88)\n    at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:68)\n    at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:60)\n    at org.apache.activemq.ActiveMQConnection.doAsyncSendPacket(ActiveMQConnection.java:1275)\n    ... 31 more\n</code></pre>\n\n<p>The odd part is that there is a connection.isClosed() check before it gets this far.  So the connection is open, but the 'peer' is still disposed.  From researching other potential answers online, the only possible solution is that the connection to the broker is intact, but the specific queue may be closed.</p>\n\n<p>For my particular similar case, this occurred when the broker was stopped, but consumers and producers were still attempting to establish connections.  Sometimes the connection would still be considered open (i.e., <em>not closed</em> even though the broker was stopped).  Fixing this to ensure the broker did not die fixed my problem.  </p>\n\n<p>I also wanted to add that this issue I've seen in ActiveMQ 5.6 (but I haven't tested in 5.8).</p>\n"},{"tags":[],"owner":{"account_id":29451968,"reputation":1,"user_id":22568398,"display_name":"Sonali More"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695064867,"creation_date":1694781642,"answer_id":77112453,"question_id":6078637,"body_markdown":"this is version compatibility issue, this exception is causing due to Spring boot version and Active MQ version is not compatible with each other\r\n\r\nso for spring boot version 3.1.3 I have installed ActiveMQ 5.18.2 version it got resolved automatically\r\n\r\n```\r\n2023-09-15T18:00:15.675+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : Starting BootMsp2PProducerApp1Application using Java 17.0.4.1 with PID 2200 (D:\\WORKSPACE\\BootMSP2P-ProducerApp-1\\target\\classes started by Shree in D:\\WORKSPACE\\BootMSP2P-ProducerApp-1)\r\n2023-09-15T18:00:15.681+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-09-15T18:00:16.756+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : Started BootMsp2PProducerApp1Application in 1.566 seconds (process running for 2.173)\r\n***Message Sent***\r\n```\r\n","title":"Erratic javax.jms.JMSException: Peer disposed","body":"<p>this is version compatibility issue, this exception is causing due to Spring boot version and Active MQ version is not compatible with each other</p>\n<p>so for spring boot version 3.1.3 I have installed ActiveMQ 5.18.2 version it got resolved automatically</p>\n<pre><code>2023-09-15T18:00:15.675+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : Starting BootMsp2PProducerApp1Application using Java 17.0.4.1 with PID 2200 (D:\\WORKSPACE\\BootMSP2P-ProducerApp-1\\target\\classes started by Shree in D:\\WORKSPACE\\BootMSP2P-ProducerApp-1)\n2023-09-15T18:00:15.681+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-09-15T18:00:16.756+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : Started BootMsp2PProducerApp1Application in 1.566 seconds (process running for 2.173)\n***Message Sent***\n</code></pre>\n"}],"owner":{"account_id":349556,"reputation":1745,"user_id":684920,"accept_rate":76,"display_name":"Diego D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15404,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":6078845,"answer_count":3,"score":10,"last_activity_date":1695064867,"creation_date":1305935358,"question_id":6078637,"body_markdown":"I have a erratic problem with Java JMS.\r\nFor moments works fine, but throws the following exception erratically and cut the execution.\r\n\r\nIt is important to note that this occurs without stopping the broker.\r\n\r\n\r\n    javax.jms.JMSException: Peer (vm://test#1) disposed.\r\n            at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:49)\r\n            at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1773)\r\n            at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1790)\r\n            at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:99)\r\n            at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:114)\r\n            at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:99)\r\n            at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:203)\r\n            at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\r\n            at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n            at java.lang.Thread.run(Thread.java:619)\r\n    Caused by: org.apache.activemq.transport.TransportDisposedIOException: Peer (vm://test#1) disposed.","title":"Erratic javax.jms.JMSException: Peer disposed","body":"<p>I have a erratic problem with Java JMS.\nFor moments works fine, but throws the following exception erratically and cut the execution.</p>\n\n<p>It is important to note that this occurs without stopping the broker.</p>\n\n<pre><code>javax.jms.JMSException: Peer (vm://test#1) disposed.\n        at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:49)\n        at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1773)\n        at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1790)\n        at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:99)\n        at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:114)\n        at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:99)\n        at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:203)\n        at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\n        at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:619)\nCaused by: org.apache.activemq.transport.TransportDisposedIOException: Peer (vm://test#1) disposed.\n</code></pre>\n"},{"tags":["java","generics","comparator"],"answers":[{"comments":[{"owner":{"account_id":84739,"reputation":178,"user_id":236679,"accept_rate":60,"display_name":"Domi"},"score":0,"creation_date":1264144383,"post_id":2110404,"comment_id":2051695,"body_markdown":"Hey Tom, thanks for the comment:)\nBut as I noticed, the compiler points out a different error. As I stated before, the sort method required Comparator to be type parameterized with `? super T`, while I pass to it a type that&#39;s actually `? extends T`.","body":"Hey Tom, thanks for the comment:) But as I noticed, the compiler points out a different error. As I stated before, the sort method required Comparator to be type parameterized with <code>? super T</code>, while I pass to it a type that&#39;s actually <code>? extends T</code>."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264087830,"creation_date":1264087830,"answer_id":2110404,"question_id":2107829,"body_markdown":"The variable `sorter` is of type `ISort&lt;?&gt;`. It could have, say, an `ISort&lt;String&gt;` assigned to it. The `sort` method takes an argument of `List&lt;T&gt;` where `T` could be `String`. Clearly you cannot use `List&lt;InternalTreeItem&lt;?&gt;&gt;` for `List&lt;String&gt;`, so fortunately the compiler points out the error.\r\n\r\n(Note: It&#39;s generally a good idea to keep to coding conventions. No `I` Hungarian prefixes, or single letter class names.)","title":"Java Class hierarchies with Generics, Comparator and sort error","body":"<p>The variable <code>sorter</code> is of type <code>ISort&lt;?&gt;</code>. It could have, say, an <code>ISort&lt;String&gt;</code> assigned to it. The <code>sort</code> method takes an argument of <code>List&lt;T&gt;</code> where <code>T</code> could be <code>String</code>. Clearly you cannot use <code>List&lt;InternalTreeItem&lt;?&gt;&gt;</code> for <code>List&lt;String&gt;</code>, so fortunately the compiler points out the error.</p>\n\n<p>(Note: It's generally a good idea to keep to coding conventions. No <code>I</code> Hungarian prefixes, or single letter class names.)</p>\n"},{"comments":[{"owner":{"account_id":84739,"reputation":178,"user_id":236679,"accept_rate":60,"display_name":"Domi"},"score":0,"creation_date":1264145385,"post_id":2110478,"comment_id":2051771,"body_markdown":"Hey sateesh, unfortunately, I cannot modify the model class hierarchies, and by model class hierarchies I refer to the 2 models, where one has a generic class subclassed by 35 classes, and the other one has two top classes.\n\nThese hierarchies cannot be changed in any way.","body":"Hey sateesh, unfortunately, I cannot modify the model class hierarchies, and by model class hierarchies I refer to the 2 models, where one has a generic class subclassed by 35 classes, and the other one has two top classes.  These hierarchies cannot be changed in any way."},{"owner":{"account_id":23282,"reputation":28065,"user_id":58220,"accept_rate":75,"display_name":"sateesh"},"score":0,"creation_date":1264146788,"post_id":2110478,"comment_id":2051874,"body_markdown":"Maybe then you might have to use raw types (without generics) and live with the warnings","body":"Maybe then you might have to use raw types (without generics) and live with the warnings"},{"owner":{"account_id":84739,"reputation":178,"user_id":236679,"accept_rate":60,"display_name":"Domi"},"score":0,"creation_date":1264153594,"post_id":2110478,"comment_id":2052466,"body_markdown":"I don&#39;t think that&#39;ll be an option :(","body":"I don&#39;t think that&#39;ll be an option :("}],"tags":[],"owner":{"account_id":23282,"reputation":28065,"user_id":58220,"accept_rate":75,"display_name":"sateesh"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264146880,"creation_date":1264088309,"answer_id":2110478,"question_id":2107829,"body_markdown":"Running your code what I can deduce is that you get a compile error since it is not possible to capture the wildcard that you specify in below line of class &lt;i&gt;TestClass&lt;/i&gt;:\r\n&lt;code&gt;\r\n\r\n    ISort&lt;?&gt; sorter = new DSort();\r\n&lt;/code&gt;\r\n\r\nAs I understand an occurrence of wild card is taken to stand for some unknown type and from your code it is not possible to infer the type (for the compiler). \r\n\r\nBut looking at the code, the class DSort is not written in a way to take type parameters  \r\nand any attempt to pass type parameters during creation of instance of DSort gave the error:  \r\n`The type DSort is not generic; it cannot be parameterized with arguments`  \r\n\r\nBut you mention that you cannot alter the code of the modules (i.e I presume of classes DSort etc).  \r\nSo one way to fix the error would be to not use generics during creation of instance of ISort.  \r\nThe below code works and the prints the the sorted output (1,5,10)\r\n&lt;code&gt;\r\n\r\n    List&lt;InternalTreeItem&lt;?&gt;&gt; list= new ArrayList&lt;InternalTreeItem&lt;?&gt;&gt;();\r\n    list.add(new D(1));\r\n    list.add(new D(10));\r\n    list.add(new D(5));\r\n\r\n    // no generic arguments\r\n    ISort sorter = new DSort();\r\n\r\n    List&lt;InternalTreeItem&lt;?&gt;&gt; sortedList = sorter.sort(list);\r\n\r\n    for(InternalTreeItem i:sortedList) {\r\n        System.out.println(i.getValue());\r\n    }\r\n\r\n&lt;/code&gt;\r\nbut results in a warning of the form &lt;i&gt;ISort is a raw type. References to generic type ISort&lt;T&gt; should be parameterized&lt;/i&gt;. But having code that uses generic and having warning of this form is not a good practice . This warning implies that the compiler cannot give cast-iron guarantee about the implicit casts it does to use generics. \r\n\r\nIf feasible, I think the better solution would be to see how the modules class can re-designed. ","title":"Java Class hierarchies with Generics, Comparator and sort error","body":"<p>Running your code what I can deduce is that you get a compile error since it is not possible to capture the wildcard that you specify in below line of class <i>TestClass</i>:\n<code></p>\n\n<pre><code>ISort&lt;?&gt; sorter = new DSort();\n</code></pre>\n\n<p></code></p>\n\n<p>As I understand an occurrence of wild card is taken to stand for some unknown type and from your code it is not possible to infer the type (for the compiler). </p>\n\n<p>But looking at the code, the class DSort is not written in a way to take type parameters<br>\nand any attempt to pass type parameters during creation of instance of DSort gave the error:<br>\n<code>The type DSort is not generic; it cannot be parameterized with arguments</code>  </p>\n\n<p>But you mention that you cannot alter the code of the modules (i.e I presume of classes DSort etc).<br>\nSo one way to fix the error would be to not use generics during creation of instance of ISort.<br>\nThe below code works and the prints the the sorted output (1,5,10)\n<code></p>\n\n<pre><code>List&lt;InternalTreeItem&lt;?&gt;&gt; list= new ArrayList&lt;InternalTreeItem&lt;?&gt;&gt;();\nlist.add(new D(1));\nlist.add(new D(10));\nlist.add(new D(5));\n\n// no generic arguments\nISort sorter = new DSort();\n\nList&lt;InternalTreeItem&lt;?&gt;&gt; sortedList = sorter.sort(list);\n\nfor(InternalTreeItem i:sortedList) {\n    System.out.println(i.getValue());\n}\n</code></pre>\n\n<p></code>\nbut results in a warning of the form <i>ISort is a raw type. References to generic type ISort should be parameterized</i>. But having code that uses generic and having warning of this form is not a good practice . This warning implies that the compiler cannot give cast-iron guarantee about the implicit casts it does to use generics. </p>\n\n<p>If feasible, I think the better solution would be to see how the modules class can re-designed. </p>\n"},{"comments":[{"owner":{"account_id":84739,"reputation":178,"user_id":236679,"accept_rate":60,"display_name":"Domi"},"score":0,"creation_date":1264146118,"post_id":2111129,"comment_id":2051825,"body_markdown":"Hello RichardP. I like your solution a lot, except that I have two models I should apply this to, that is more than 70 classes :|","body":"Hello RichardP. I like your solution a lot, except that I have two models I should apply this to, that is more than 70 classes :|"},{"owner":{"account_id":88208,"reputation":98,"user_id":244133,"display_name":"RichardP"},"score":2,"creation_date":1264156004,"post_id":2111129,"comment_id":2052732,"body_markdown":"70 classes, that does sound like a lot of work. If you can write your wrapper classes so that they take instances of the super class instead of writing one wrapper per sub-class, you&#39;d have a lot less work to do.","body":"70 classes, that does sound like a lot of work. If you can write your wrapper classes so that they take instances of the super class instead of writing one wrapper per sub-class, you&#39;d have a lot less work to do."}],"tags":[],"owner":{"account_id":88208,"reputation":98,"user_id":244133,"display_name":"RichardP"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1264093174,"creation_date":1264093174,"answer_id":2111129,"question_id":2107829,"body_markdown":"One way to approach this is to use a wrapper class for the classes that you cannot change.\r\n\r\nSo in your example you want to order a list of object D, based on an Integer value. By putting your objects in a wrapper and then adding this to the list, you can expose the value you wish to sort the list by.\r\n\r\nFor example, you could define an interface like:\r\n\r\n    private interface SortableListItem&lt;T&gt; extends Comparable&lt;SortableListItem&lt;T&gt;&gt; {\r\n\t    public T getValue();\r\n    }\r\n\r\nThen, create a wrapper class for D:\r\n\r\n    public class DWrapper implements SortableListItem&lt;Integer&gt; {\r\n\t\tprivate D item;\r\n\t\t\r\n\t\tpublic DWrapper(D item) {\r\n\t\t\tthis.item = item;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Integer getValue() {\r\n\t\t\treturn item.getInteger();\r\n\t\t}\r\n\r\n\t\tpublic int compareTo(SortableListItem&lt;Integer&gt; o) {\r\n\t\t\treturn getValue().compareTo(o.getValue());\r\n\t\t}\r\n\t}\r\n\r\n\r\nFrom here it is pretty simple to create and sort your list:\r\n\r\n        D item1= new D(1);\r\n\t\tD item2= new D(10);\r\n\t\tD item3= new D(5);\r\n\t\t\r\n\t\tDWrapper wrapper1 = new DWrapper(item1);\r\n\t\tDWrapper wrapper2= new DWrapper(item2);\r\n\t\tDWrapper wrapper3= new DWrapper(item3);\r\n\t\t\r\n\t\tList&lt;SortableListItem&lt;Integer&gt;&gt; sortableList = new  ArrayList&lt;SortableListItem&lt;Integer&gt;&gt;();\r\n\t\tsortableList.add(wrapper1 );\r\n\t\tsortableList.add(wrapper2);\r\n\t\tsortableList.add(wrapper3);\r\n\t\tCollections.sort(sortableList);\r\n\r\nYou can of course make the wrapper class accept a more generic object - the key is that each object returns a value (in this case an Integer) that the List can be sorted by.\r\n","title":"Java Class hierarchies with Generics, Comparator and sort error","body":"<p>One way to approach this is to use a wrapper class for the classes that you cannot change.</p>\n\n<p>So in your example you want to order a list of object D, based on an Integer value. By putting your objects in a wrapper and then adding this to the list, you can expose the value you wish to sort the list by.</p>\n\n<p>For example, you could define an interface like:</p>\n\n<pre><code>private interface SortableListItem&lt;T&gt; extends Comparable&lt;SortableListItem&lt;T&gt;&gt; {\n    public T getValue();\n}\n</code></pre>\n\n<p>Then, create a wrapper class for D:</p>\n\n<pre><code>public class DWrapper implements SortableListItem&lt;Integer&gt; {\n    private D item;\n\n    public DWrapper(D item) {\n        this.item = item;\n    }\n\n    public Integer getValue() {\n        return item.getInteger();\n    }\n\n    public int compareTo(SortableListItem&lt;Integer&gt; o) {\n        return getValue().compareTo(o.getValue());\n    }\n}\n</code></pre>\n\n<p>From here it is pretty simple to create and sort your list:</p>\n\n<pre><code>    D item1= new D(1);\n    D item2= new D(10);\n    D item3= new D(5);\n\n    DWrapper wrapper1 = new DWrapper(item1);\n    DWrapper wrapper2= new DWrapper(item2);\n    DWrapper wrapper3= new DWrapper(item3);\n\n    List&lt;SortableListItem&lt;Integer&gt;&gt; sortableList = new  ArrayList&lt;SortableListItem&lt;Integer&gt;&gt;();\n    sortableList.add(wrapper1 );\n    sortableList.add(wrapper2);\n    sortableList.add(wrapper3);\n    Collections.sort(sortableList);\n</code></pre>\n\n<p>You can of course make the wrapper class accept a more generic object - the key is that each object returns a value (in this case an Integer) that the List can be sorted by.</p>\n"}],"owner":{"account_id":84739,"reputation":178,"user_id":236679,"accept_rate":60,"display_name":"Domi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4233,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2111129,"answer_count":3,"score":3,"last_activity_date":1695064323,"creation_date":1264062785,"question_id":2107829,"body_markdown":"I have the following classes:\r\n\r\n      public interface ISort&lt;T&gt; {\r\n          public List&lt;T&gt; sort(List&lt;T&gt; initialList);\r\n      }\r\n    \r\n\r\n      public abstract class Sort&lt;T&gt; implements ISort&lt;T&gt; {\r\n        private Comparator&lt;? super T&gt; comparator;\r\n       \r\n        public Sort(Comparator&lt;? super T&gt; comparator) {\r\n            this.comparator = comparator;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;T&gt; sort(List&lt;T&gt; initialList) {\r\n            ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;(initialList);\r\n            Collections.sort(list, comparator);\r\n       \r\n            return list;\r\n        }\r\n      }\r\n\r\n\r\n    public abstract class InternalTreeItem&lt;T&gt; {   \r\n        public abstract String getValue();\r\n    }\r\n\r\n    public class D extends InternalTreeItem&lt;Integer&gt; {\r\n       private Integer i;\r\n       \r\n       public D(Integer i) {\r\n           this.i = i;\r\n       }\r\n       \r\n       @Override\r\n       public String getValue() {\r\n           return i.toString();\r\n       }\r\n       \r\n       public Integer getInteger() {\r\n           return i;\r\n       }\r\n    }\r\n\r\n    public class DComparator implements Comparator&lt;D&gt; {\r\n        @Override\r\n        public int compare(D o1, D o2) {\r\n            return o1.getInteger() - o2.getInteger();\r\n        }\r\n    }\r\n\r\n    public class DSort extends Sort&lt;D&gt; {\r\n        public DSort(Comparator&lt;D&gt; comparator) {\r\n            super(comparator);\r\n        }\r\n       \r\n        public DSort() {\r\n            super(new DComparator());\r\n        }\r\n    }\r\n\r\nAnd the test class:\r\n\r\n    public class TestClass {\r\n        @Test\r\n        public void test1() {\r\n            List&lt;InternalTreeItem&lt;?&gt;&gt; list= new ArrayList&lt;InternalTreeItem&lt;?&gt;&gt;();\r\n           \r\n            list.add(new D(1));\r\n            list.add(new D(10));\r\n            list.add(new D(5));\r\n           \r\n            ISort&lt;?&gt; sorter = new DSort();\r\n               \r\n            sorter.sort(list);       \r\n        }\r\n    }\r\n\r\nThe compiler gives an error at the line:\r\n\r\n    sorter.sort(list);\r\n\r\nAnd states:\r\n\r\n    The method sort(List&lt;capture#2-of ?&gt;)\r\n    in the type ISort&lt;capture#2-of ?&gt;\r\n    is not applicable for the arguments\r\n     (List&lt;InternalTreeItem&lt;?&gt;&gt;)\r\n\r\nWe realized the problem lies with `Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)` in the abstract class `Sort`, as I use a `Comparator&lt;? extends T&gt;`.\r\n\r\nI use generics, as I have 2 models, one model&#39;s super class is a generic abstract subclassed by 35 classes, and the second model actually has 2 different super classes, which combined, are subclassed by again 35 classes. These hierarchies are given, there&#39;s nothing I can do to modify them.\r\n\r\nThe model here is very simple, but you get the point. Also, there&#39;s a factory, that depending on the type of `T`, returns one sorter, or another. \r\n\r\nHow can I solve this issue? That is, to sort a generic list; the parameter type can be a generic superclass or one of it&#39;s subclasses.\r\n","title":"Java Class hierarchies with Generics, Comparator and sort error","body":"<p>I have the following classes:</p>\n<pre><code>  public interface ISort&lt;T&gt; {\n      public List&lt;T&gt; sort(List&lt;T&gt; initialList);\n  }\n\n\n  public abstract class Sort&lt;T&gt; implements ISort&lt;T&gt; {\n    private Comparator&lt;? super T&gt; comparator;\n   \n    public Sort(Comparator&lt;? super T&gt; comparator) {\n        this.comparator = comparator;\n    }\n\n    @Override\n    public List&lt;T&gt; sort(List&lt;T&gt; initialList) {\n        ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;(initialList);\n        Collections.sort(list, comparator);\n   \n        return list;\n    }\n  }\n\n\npublic abstract class InternalTreeItem&lt;T&gt; {   \n    public abstract String getValue();\n}\n\npublic class D extends InternalTreeItem&lt;Integer&gt; {\n   private Integer i;\n   \n   public D(Integer i) {\n       this.i = i;\n   }\n   \n   @Override\n   public String getValue() {\n       return i.toString();\n   }\n   \n   public Integer getInteger() {\n       return i;\n   }\n}\n\npublic class DComparator implements Comparator&lt;D&gt; {\n    @Override\n    public int compare(D o1, D o2) {\n        return o1.getInteger() - o2.getInteger();\n    }\n}\n\npublic class DSort extends Sort&lt;D&gt; {\n    public DSort(Comparator&lt;D&gt; comparator) {\n        super(comparator);\n    }\n   \n    public DSort() {\n        super(new DComparator());\n    }\n}\n</code></pre>\n<p>And the test class:</p>\n<pre><code>public class TestClass {\n    @Test\n    public void test1() {\n        List&lt;InternalTreeItem&lt;?&gt;&gt; list= new ArrayList&lt;InternalTreeItem&lt;?&gt;&gt;();\n       \n        list.add(new D(1));\n        list.add(new D(10));\n        list.add(new D(5));\n       \n        ISort&lt;?&gt; sorter = new DSort();\n           \n        sorter.sort(list);       \n    }\n}\n</code></pre>\n<p>The compiler gives an error at the line:</p>\n<pre><code>sorter.sort(list);\n</code></pre>\n<p>And states:</p>\n<pre><code>The method sort(List&lt;capture#2-of ?&gt;)\nin the type ISort&lt;capture#2-of ?&gt;\nis not applicable for the arguments\n (List&lt;InternalTreeItem&lt;?&gt;&gt;)\n</code></pre>\n<p>We realized the problem lies with <code>Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</code> in the abstract class <code>Sort</code>, as I use a <code>Comparator&lt;? extends T&gt;</code>.</p>\n<p>I use generics, as I have 2 models, one model's super class is a generic abstract subclassed by 35 classes, and the second model actually has 2 different super classes, which combined, are subclassed by again 35 classes. These hierarchies are given, there's nothing I can do to modify them.</p>\n<p>The model here is very simple, but you get the point. Also, there's a factory, that depending on the type of <code>T</code>, returns one sorter, or another.</p>\n<p>How can I solve this issue? That is, to sort a generic list; the parameter type can be a generic superclass or one of it's subclasses.</p>\n"},{"tags":["java","bitset"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":2,"creation_date":1329504544,"post_id":9333681,"comment_id":11778999,"body_markdown":"http://en.wikipedia.org/wiki/Bitwise_operation - they work exactly the same as they would if you were using `&amp; | ^` etc. with a primitive numeric type.","body":"<a href=\"http://en.wikipedia.org/wiki/Bitwise_operation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Bitwise_operation</a> - they work exactly the same as they would if you were using <code>&amp; | ^</code> etc. with a primitive numeric type."},{"owner":{"account_id":1251403,"reputation":1421,"user_id":1211744,"display_name":"Tony"},"score":0,"creation_date":1329504709,"post_id":9333681,"comment_id":11779042,"body_markdown":"What, specifically, don&#39;t you understand?  You create a BitSet and then call functions on it, such as `.and`, `.or` and `.xor`.  Each of these functions takes as a parameter another BitSet object.","body":"What, specifically, don&#39;t you understand?  You create a BitSet and then call functions on it, such as <code>.and</code>, <code>.or</code> and <code>.xor</code>.  Each of these functions takes as a parameter another BitSet object."},{"owner":{"account_id":192764,"reputation":9156,"user_id":434089,"accept_rate":98,"display_name":"Steffan Harris"},"score":0,"creation_date":1329505120,"post_id":9333681,"comment_id":11779174,"body_markdown":"Well, i tried to do an `and` on the example above and the bitset became empty.","body":"Well, i tried to do an <code>and</code> on the example above and the bitset became empty."}],"answers":[{"tags":[],"owner":{"account_id":1055494,"reputation":10205,"user_id":1058319,"accept_rate":98,"display_name":"Adel Boutros"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1329509898,"creation_date":1329504729,"answer_id":9333760,"question_id":9333681,"body_markdown":"Here are some links about bitSet that would help you: \r\n\r\n - http://www.java-samples.com/showtutorial.php?tutorialid=378\r\n - http://www.codeguru.com/java/tij/tij0090.shtml\r\n - http://imagenious.wordpress.com/2008/02/05/java-bitset-vs-primitive/\r\n\r\n**UPDATE:**\r\n\r\nIn the docs, it is said:\r\n\r\n&gt; public void set(int bitIndex)\r\n&gt; \r\n&gt;     Sets the bit at the specified index to true.\r\n\r\nSo when you call `bits2.set(10);`, it is considered as **10 decimal** not **1 0** so what you get is the following number `1000000000`.\r\n\r\nTo set it correctly, in this example, I want to set the 2nd bit to 1, so I call `bits2.set(1);` because the index starts at **0**.\r\n\r\n**In conclusion**, for every bit set to 1, you need to call bitSet.Set and provide it with the index of the bit.\r\n\r\n","title":"Java BitSet Example","body":"<p>Here are some links about bitSet that would help you: </p>\n\n<ul>\n<li><a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=378\">http://www.java-samples.com/showtutorial.php?tutorialid=378</a></li>\n<li><a href=\"http://www.codeguru.com/java/tij/tij0090.shtml\">http://www.codeguru.com/java/tij/tij0090.shtml</a></li>\n<li><a href=\"http://imagenious.wordpress.com/2008/02/05/java-bitset-vs-primitive/\">http://imagenious.wordpress.com/2008/02/05/java-bitset-vs-primitive/</a></li>\n</ul>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>In the docs, it is said:</p>\n\n<blockquote>\n  <p>public void set(int bitIndex)</p>\n\n<pre><code>Sets the bit at the specified index to true.\n</code></pre>\n</blockquote>\n\n<p>So when you call <code>bits2.set(10);</code>, it is considered as <strong>10 decimal</strong> not <strong>1 0</strong> so what you get is the following number <code>1000000000</code>.</p>\n\n<p>To set it correctly, in this example, I want to set the 2nd bit to 1, so I call <code>bits2.set(1);</code> because the index starts at <strong>0</strong>.</p>\n\n<p><strong>In conclusion</strong>, for every bit set to 1, you need to call bitSet.Set and provide it with the index of the bit.</p>\n"},{"comments":[{"owner":{"account_id":2538149,"reputation":524,"user_id":2204672,"accept_rate":71,"display_name":"JAVA"},"score":0,"creation_date":1536672505,"post_id":9334075,"comment_id":91501896,"body_markdown":"&quot;they had no bits in common&quot; how are you saying this ?because I see first and last bits of bits1 and bits2 are common right ?still am not understood why bits2 became empty. Could you please explain me some more briefly.","body":"&quot;they had no bits in common&quot; how are you saying this ?because I see first and last bits of bits1 and bits2 are common right ?still am not understood why bits2 became empty. Could you please explain me some more briefly."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":6,"creation_date":1536678565,"post_id":9334075,"comment_id":91505998,"body_markdown":"@JAVA I don&#39;t know how to explain any more clearly than that bits1 has only one bit set to true, which is the bit at index one million and one (the number 1,000,001), and bits2 has only one bit set to true, the bit at index one million one hundred eleven thousand and one hundred eleven (1,111,111).","body":"@JAVA I don&#39;t know how to explain any more clearly than that bits1 has only one bit set to true, which is the bit at index one million and one (the number 1,000,001), and bits2 has only one bit set to true, the bit at index one million one hundred eleven thousand and one hundred eleven (1,111,111)."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":1,"up_vote_count":114,"is_accepted":true,"score":113,"last_activity_date":1329506815,"creation_date":1329506473,"answer_id":9334075,"question_id":9333681,"body_markdown":"For the specific problem you mentioned: when you called `bits2.set(1000001)`, you set the one millionth and first bit to true.  Then when you intersected with `bits1`, which had the one million, 111 thousand, and 111st bit set, they had no bits in common.\r\n\r\n  I think what you _meant_ to do was\r\n\r\n     bits2.set(0); // set the 0th bit\r\n     bits2.set(6); // set the 6th bit\r\n\r\nDoes this help clear things up?","title":"Java BitSet Example","body":"<p>For the specific problem you mentioned: when you called <code>bits2.set(1000001)</code>, you set the one millionth and first bit to true.  Then when you intersected with <code>bits1</code>, which had the one million, 111 thousand, and 111st bit set, they had no bits in common.</p>\n\n<p>I think what you <em>meant</em> to do was</p>\n\n<pre><code> bits2.set(0); // set the 0th bit\n bits2.set(6); // set the 6th bit\n</code></pre>\n\n<p>Does this help clear things up?</p>\n"},{"comments":[{"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"score":1,"creation_date":1423657399,"post_id":9334117,"comment_id":45235454,"body_markdown":"Perfect! I liked your `toString(BitSet bs)` method. Very useful! You could invert the bits to put bit_0 on the right.","body":"Perfect! I liked your <code>toString(BitSet bs)</code> method. Very useful! You could invert the bits to put bit_0 on the right."},{"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"score":0,"creation_date":1579641940,"post_id":9334117,"comment_id":105832289,"body_markdown":"This is the best answer because it understood the OPs confusion (and mine!) and cut straight to the chase.","body":"This is the best answer because it understood the OPs confusion (and mine!) and cut straight to the chase."}],"tags":[],"owner":{"account_id":493089,"reputation":2485,"user_id":1216956,"display_name":"FauxFaux"},"comment_count":2,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1391936841,"creation_date":1329506670,"answer_id":9334117,"question_id":9333681,"body_markdown":"BitSet doesn&#39;t have convenience methods for accepting strings of bits like that.  I&#39;ve provided some below, and now the example works as you&#39;d expect.  Note that this uses functionality new in Java 7; it&#39;s easy to find implementations of these methods online if you&#39;d like to use Java 6.\r\n\r\n    import java.util.BitSet;\r\n    \r\n    class Scratch {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tBitSet bits1 = fromString(&quot;1000001&quot;);\r\n    \t\tBitSet bits2 = fromString(&quot;1111111&quot;);\r\n    \r\n    \t\tSystem.out.println(toString(bits1)); // prints 1000001\r\n    \t\tSystem.out.println(toString(bits2)); // prints 1111111\r\n    \r\n    \t\tbits2.and(bits1);\r\n    \r\n    \t\tSystem.out.println(toString(bits2)); // prints 1000001\r\n    \t}\r\n    \r\n    \tprivate static BitSet fromString(final String s) {\r\n    \t\treturn BitSet.valueOf(new long[] { Long.parseLong(s, 2) });\r\n    \t}\r\n    \r\n    \tprivate static String toString(BitSet bs) {\r\n    \t\treturn Long.toString(bs.toLongArray()[0], 2);\r\n    \t}\r\n    }","title":"Java BitSet Example","body":"<p>BitSet doesn't have convenience methods for accepting strings of bits like that.  I've provided some below, and now the example works as you'd expect.  Note that this uses functionality new in Java 7; it's easy to find implementations of these methods online if you'd like to use Java 6.</p>\n\n<pre><code>import java.util.BitSet;\n\nclass Scratch {\n    public static void main(String[] args) {\n        BitSet bits1 = fromString(\"1000001\");\n        BitSet bits2 = fromString(\"1111111\");\n\n        System.out.println(toString(bits1)); // prints 1000001\n        System.out.println(toString(bits2)); // prints 1111111\n\n        bits2.and(bits1);\n\n        System.out.println(toString(bits2)); // prints 1000001\n    }\n\n    private static BitSet fromString(final String s) {\n        return BitSet.valueOf(new long[] { Long.parseLong(s, 2) });\n    }\n\n    private static String toString(BitSet bs) {\n        return Long.toString(bs.toLongArray()[0], 2);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"score":1,"creation_date":1445377179,"post_id":9334359,"comment_id":54296846,"body_markdown":"when you save them as `ints` are they taking `4 byte` or `7 bits`?","body":"when you save them as <code>ints</code> are they taking <code>4 byte</code> or <code>7 bits</code>?"},{"owner":{"account_id":2128842,"reputation":3834,"user_id":2415524,"accept_rate":87,"display_name":"mbomb007"},"score":2,"creation_date":1466085906,"post_id":9334359,"comment_id":63180302,"body_markdown":"@daydreamer Looking at the [source code](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/BitSet.java) shows that a `BitSet` is implemented behind the scenes as a `long[]`. &quot;The ith bit is stored in bits[i/64] at bit position i % 64 (where bit position 0 refers to the least significant bit and 63 refers to the most significant bit).&quot; So at minimum, any BitSet will use 64 bits. Even the parametrized constructor says &quot;Creates a bit set whose initial size is **large enough** to explicitly represent bits with indices in the range...&quot;","body":"@daydreamer Looking at the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/BitSet.java\" rel=\"nofollow noreferrer\">source code</a> shows that a <code>BitSet</code> is implemented behind the scenes as a <code>long[]</code>. &quot;The ith bit is stored in bits[i/64] at bit position i % 64 (where bit position 0 refers to the least significant bit and 63 refers to the most significant bit).&quot; So at minimum, any BitSet will use 64 bits. Even the parametrized constructor says &quot;Creates a bit set whose initial size is <b>large enough</b> to explicitly represent bits with indices in the range...&quot;"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1329507731,"creation_date":1329507731,"answer_id":9334359,"question_id":9333681,"body_markdown":"If you want to work with bits you can use `int` values in Java 7.\r\n\r\n    int bits2 = 0b1000001;\r\n    int bits1 = 0b1111111;\r\n    bits2 &amp;= bits1;\r\n    System.out.println(Integer.toBinaryString(bits2));\r\n\r\nprints\r\n\r\n    1000001","title":"Java BitSet Example","body":"<p>If you want to work with bits you can use <code>int</code> values in Java 7.</p>\n\n<pre><code>int bits2 = 0b1000001;\nint bits1 = 0b1111111;\nbits2 &amp;= bits1;\nSystem.out.println(Integer.toBinaryString(bits2));\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>1000001\n</code></pre>\n"},{"comments":[{"owner":{"account_id":73090,"reputation":12400,"user_id":695591,"accept_rate":76,"display_name":"Cl&#233;ment"},"score":1,"creation_date":1411137240,"post_id":18925602,"comment_id":40603407,"body_markdown":"Why are you using a while loop? A for loop would do just as well, since you&#39;re decrementing `i` by one in each iteration.","body":"Why are you using a while loop? A for loop would do just as well, since you&#39;re decrementing <code>i</code> by one in each iteration."},{"owner":{"account_id":367423,"reputation":470,"user_id":713608,"accept_rate":50,"display_name":"Aditya Gaykar"},"score":0,"creation_date":1416161105,"post_id":18925602,"comment_id":42458864,"body_markdown":"Edit: Better version of the code which uses For loop, thanks for the suggestion @Cl&#233;ment :)","body":"Edit: Better version of the code which uses For loop, thanks for the suggestion @Cl&#233;ment :)"}],"tags":[],"owner":{"account_id":367423,"reputation":470,"user_id":713608,"accept_rate":50,"display_name":"Aditya Gaykar"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1416160986,"creation_date":1379710093,"answer_id":18925602,"question_id":9333681,"body_markdown":"I am sharing my implementation for creating a BitSet object using string of bits as input.\r\n\r\n    private static BitSet createFromString(String s) {\r\n\t\tBitSet t = new BitSet(s.length());\r\n\t\tint lastBitIndex = s.length() - 1;\r\n\t\t\r\n\t\tfor (int i = lastBitIndex; i &gt;= 0; i--) {\r\n\t\t\tif ( s.charAt(i) == &#39;1&#39;){\r\n\t\t\t\tt.set(lastBitIndex - i);\t\t\t\t\t\t\t\r\n\t\t\t} \t\t\t\t\r\n\t\t}\r\n\r\n\t\treturn t;\r\n\t}\r\n\r\nFor string input &quot;1001&quot;\r\n\r\n    BitSet s1 = createFromString(&quot;1001&quot;);\r\n\t\tSystem.out.println(s1);\r\n\r\noutput :\r\n\r\n    {0, 3}","title":"Java BitSet Example","body":"<p>I am sharing my implementation for creating a BitSet object using string of bits as input.</p>\n\n<pre><code>private static BitSet createFromString(String s) {\n    BitSet t = new BitSet(s.length());\n    int lastBitIndex = s.length() - 1;\n\n    for (int i = lastBitIndex; i &gt;= 0; i--) {\n        if ( s.charAt(i) == '1'){\n            t.set(lastBitIndex - i);                            \n        }               \n    }\n\n    return t;\n}\n</code></pre>\n\n<p>For string input \"1001\"</p>\n\n<pre><code>BitSet s1 = createFromString(\"1001\");\n    System.out.println(s1);\n</code></pre>\n\n<p>output :</p>\n\n<pre><code>{0, 3}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7167179,"reputation":6034,"user_id":5475941,"display_name":"Mohammad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474317360,"creation_date":1474317360,"answer_id":39581683,"question_id":9333681,"body_markdown":"Try this:\r\n\r\n    import java.util.BitSet;\r\n    \r\n    public class BitSetExample {\r\n    \r\n        public static void main(String args[]){\r\n            BitSet bits1 = new BitSet(7);\r\n            BitSet bits2 = new BitSet(7);\r\n    \r\n            // set some bits\r\n            for(int i = 0; i &lt; 7; i++) {\r\n                if((i % 2) == 0) bits1.set(i);\r\n                if((i % 3) != 0) bits2.set(i);\r\n            }\r\n    \r\n            System.out.println(&quot;BitSet1: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits1.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println(&quot;\\nBitSet2: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits2.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n            //And\r\n            bits1.and(bits2);\r\n    \r\n            System.out.println(&quot;b1 = b1 AND b2\\nBitSet1: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits1.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;BitSet2: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits2.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n            //Or\r\n            bits1.or(bits2);\r\n    \r\n            System.out.println(&quot;b1 = b1 OR b2\\nBitSet1: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits1.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;BitSet2: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits2.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n            //Xor\r\n            bits1.xor(bits2);\r\n    \r\n            System.out.println(&quot;b1 = b1 XOR b2\\nBitSet1: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits1.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;BitSet2: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits2.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n            //Setting bits to zero and one\r\n            bits1.set(1);\r\n            bits2.set(1,false);\r\n    \r\n            System.out.println(&quot;set bit 1 of BitSet1 to one and set bit 1 of BitSet2 to zero\\nBitSet1: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits1.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;BitSet2: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits2.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n        }\r\n    }\r\n\r\nI hope this is useful. For more information, please visit: [https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/BitSetExample.java][1].\r\n\r\n\r\n  [1]: https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/BitSetExample.java","title":"Java BitSet Example","body":"<p>Try this:</p>\n\n<pre><code>import java.util.BitSet;\n\npublic class BitSetExample {\n\n    public static void main(String args[]){\n        BitSet bits1 = new BitSet(7);\n        BitSet bits2 = new BitSet(7);\n\n        // set some bits\n        for(int i = 0; i &lt; 7; i++) {\n            if((i % 2) == 0) bits1.set(i);\n            if((i % 3) != 0) bits2.set(i);\n        }\n\n        System.out.println(\"BitSet1: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits1.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println(\"\\nBitSet2: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits2.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n\n        //And\n        bits1.and(bits2);\n\n        System.out.println(\"b1 = b1 AND b2\\nBitSet1: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits1.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n        System.out.println(\"BitSet2: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits2.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n\n        //Or\n        bits1.or(bits2);\n\n        System.out.println(\"b1 = b1 OR b2\\nBitSet1: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits1.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n        System.out.println(\"BitSet2: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits2.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n\n        //Xor\n        bits1.xor(bits2);\n\n        System.out.println(\"b1 = b1 XOR b2\\nBitSet1: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits1.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n        System.out.println(\"BitSet2: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits2.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n\n        //Setting bits to zero and one\n        bits1.set(1);\n        bits2.set(1,false);\n\n        System.out.println(\"set bit 1 of BitSet1 to one and set bit 1 of BitSet2 to zero\\nBitSet1: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits1.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n        System.out.println(\"BitSet2: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits2.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n\n    }\n}\n</code></pre>\n\n<p>I hope this is useful. For more information, please visit: <a href=\"https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/BitSetExample.java\" rel=\"nofollow\">https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/BitSetExample.java</a>.</p>\n"},{"tags":[],"owner":{"account_id":366370,"reputation":2002,"user_id":711855,"display_name":"juanmf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695063896,"creation_date":1648688847,"answer_id":71685757,"question_id":9333681,"body_markdown":"In case you also need to work with bit addresses longer than `Integer.MAX_VALUE` I modified `java.util.BitSet` ([here: LongBitSet](https://github.com/juanmf/LongBitSet/blob/main/LongBitSet.java)) to accept long inputs in get and set methods. I did it to fully use memory for a [prime sieve](https://mirror.xyz/0x62514E8C74B1B188dFCD76D2171c96EF1845Ba02/PhwGsMoDsGGfbagtxAhjM5OyvIPnFfF6dhBYb4QICfQ) experiment.\r\n\r\n","title":"Java BitSet Example","body":"<p>In case you also need to work with bit addresses longer than <code>Integer.MAX_VALUE</code> I modified <code>java.util.BitSet</code> (<a href=\"https://github.com/juanmf/LongBitSet/blob/main/LongBitSet.java\" rel=\"nofollow noreferrer\">here: LongBitSet</a>) to accept long inputs in get and set methods. I did it to fully use memory for a <a href=\"https://mirror.xyz/0x62514E8C74B1B188dFCD76D2171c96EF1845Ba02/PhwGsMoDsGGfbagtxAhjM5OyvIPnFfF6dhBYb4QICfQ\" rel=\"nofollow noreferrer\">prime sieve</a> experiment.</p>\n"}],"owner":{"account_id":192764,"reputation":9156,"user_id":434089,"accept_rate":98,"display_name":"Steffan Harris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98693,"favorite_count":0,"down_vote_count":1,"up_vote_count":64,"accepted_answer_id":9334075,"answer_count":7,"score":63,"last_activity_date":1695063896,"creation_date":1329504357,"question_id":9333681,"body_markdown":"I&#39;m looking for a good Java `BitSet` example to work with 0 and 1s. I tried looking at the Javadocs but I don&#39;t understand the usage of the class by just reading that. For instance, how would the `and`, `or`, and `xor` methods work on two different `BitSet` objects?\r\n\r\nFor example:\r\n\r\n      BitSet bits1 = new BitSet();\r\n      BitSet bits2 = new BitSet();\r\n            \r\n      bits2.set(1000001);\r\n      bits1.set(1111111);\r\n          \r\n      bits2.and(bits1);\r\n             \r\n      System.out.println(bits2);\r\n\r\nIf I do this it returns `bits2` as empty why is that?","title":"Java BitSet Example","body":"<p>I'm looking for a good Java <code>BitSet</code> example to work with 0 and 1s. I tried looking at the Javadocs but I don't understand the usage of the class by just reading that. For instance, how would the <code>and</code>, <code>or</code>, and <code>xor</code> methods work on two different <code>BitSet</code> objects?</p>\n\n<p>For example:</p>\n\n<pre><code>  BitSet bits1 = new BitSet();\n  BitSet bits2 = new BitSet();\n\n  bits2.set(1000001);\n  bits1.set(1111111);\n\n  bits2.and(bits1);\n\n  System.out.println(bits2);\n</code></pre>\n\n<p>If I do this it returns <code>bits2</code> as empty why is that?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":27149349,"reputation":116,"user_id":20689058,"display_name":"tisho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671542221,"creation_date":1671542221,"answer_id":74863710,"question_id":74863226,"body_markdown":"You can listen to multiple topics in the same @KafkaListener by passing them in a comma separated object. In your case it should be \r\n\r\n    @KafkaListener(topics = {&quot;topic1&quot;, &quot;topic2&quot;}, groupId = &quot;local&quot;)\r\n\r\n","title":"Kafka - InvalidTopicException when using multiple topics","body":"<p>You can listen to multiple topics in the same @KafkaListener by passing them in a comma separated object. In your case it should be</p>\n<pre><code>@KafkaListener(topics = {&quot;topic1&quot;, &quot;topic2&quot;}, groupId = &quot;local&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14244012,"reputation":42,"user_id":10289625,"display_name":"Rashid Shiralizade"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671542714,"creation_date":1671542714,"answer_id":74863810,"question_id":74863226,"body_markdown":"**Try this:**\r\n\r\n    {&quot;topic1&quot;, &quot;topic2&quot;}","title":"Kafka - InvalidTopicException when using multiple topics","body":"<p><strong>Try this:</strong></p>\n<pre><code>{&quot;topic1&quot;, &quot;topic2&quot;}\n</code></pre>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74863710,"answer_count":2,"score":1,"last_activity_date":1695063862,"creation_date":1671539941,"question_id":74863226,"body_markdown":"I have a SpringBoot application where I am using the @KafkaListener annotation with a topic and a groupId. I have two topics my listener needs to listen for. When listening for one topic, either one works fine\r\n\r\n    @KafkaListener(topics = &quot;topic1&quot;, groupId = &quot;local&quot;)\r\n\r\nor\r\n\r\n    @KafkaListener(topics = &quot;topic2&quot;, groupId = &quot;local&quot;)\r\n\r\nhowever, when I combine the two like this (which is my understanding of how to do multiple topics on one listener):\r\n\r\n    @KafkaListener(topics = {&quot;topic1,topic2&quot;}, groupId = &quot;local&quot;)\r\n\r\n, I get scrolling exceptions like the following:\r\n\r\n    {\r\n      &quot;app&quot;: &quot;myApp&quot;,\r\n      &quot;@timestamp&quot;: &quot;2022-12-20T12:01:55.004Z&quot;,\r\n      &quot;userId&quot;: &quot;&quot;,\r\n      &quot;hostname&quot;: &quot;&quot;,\r\n      &quot;ipAddress&quot;: &quot;&quot;,\r\n      &quot;logger&quot;: &quot;org.apache.kafka.clients.Metadata&quot;,\r\n      &quot;level&quot;: &quot;ERROR&quot;,\r\n      &quot;thread&quot;: &quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;,\r\n      &quot;message&quot;: &quot;[Consumer clientId=consumer-local-1, groupId=local] Metadata response reported invalid topics [topic1,topic2]&quot;,\r\n      &quot;class&quot;: &quot;org.apache.kafka.clients.Metadata&quot;,\r\n      &quot;method&quot;: &quot;checkInvalidTopics&quot;,\r\n      &quot;file&quot;: &quot;Metadata.java&quot;,\r\n      &quot;line&quot;: 294\r\n    }\r\n    {\r\n     &quot;app&quot;: &quot;myApp&quot;,\r\n     &quot;@timestamp&quot;: &quot;2022-12-20T12:01:55.004Z&quot;,\r\n     &quot;userId&quot;: &quot;&quot;,\r\n     &quot;hostname&quot;: &quot;&quot;,\r\n     &quot;ipAddress&quot;: &quot;&quot;,\r\n     &quot;logger&quot;: &quot;org.apache.kafka.clients.consumer.internals.AbstractCoordinator&quot;,\r\n     &quot;level&quot;: &quot;INFO&quot;,\r\n     &quot;thread&quot;: &quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;,\r\n     &quot;message&quot;: &quot;[Consumer clientId=consumer-local-1, groupId=local] Rebalance failed.&quot;,\r\n     &quot;class&quot;: &quot;org.apache.kafka.clients.consumer.internals.AbstractCoordinator&quot;,\r\n     &quot;method&quot;: &quot;joinGroupIfNeeded&quot;,\r\n     &quot;file&quot;: &quot;AbstractCoordinator.java&quot;,\r\n     &quot;line&quot;: 470,\r\n     &quot;stack&quot;: &quot;org.apache.kafka.common.errors.InvalidTopicException: Invalid topics: [topic1,topic2]\\n&quot;\r\n   }\r\n\r\nAny ideas on what I am doing wrong are greatly appreciated. Thank you\r\n\r\n\r\n","title":"Kafka - InvalidTopicException when using multiple topics","body":"<p>I have a SpringBoot application where I am using the @KafkaListener annotation with a topic and a groupId. I have two topics my listener needs to listen for. When listening for one topic, either one works fine</p>\n<pre><code>@KafkaListener(topics = &quot;topic1&quot;, groupId = &quot;local&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>@KafkaListener(topics = &quot;topic2&quot;, groupId = &quot;local&quot;)\n</code></pre>\n<p>however, when I combine the two like this (which is my understanding of how to do multiple topics on one listener):</p>\n<pre><code>@KafkaListener(topics = {&quot;topic1,topic2&quot;}, groupId = &quot;local&quot;)\n</code></pre>\n<p>, I get scrolling exceptions like the following:</p>\n<pre><code>{\n  &quot;app&quot;: &quot;myApp&quot;,\n  &quot;@timestamp&quot;: &quot;2022-12-20T12:01:55.004Z&quot;,\n  &quot;userId&quot;: &quot;&quot;,\n  &quot;hostname&quot;: &quot;&quot;,\n  &quot;ipAddress&quot;: &quot;&quot;,\n  &quot;logger&quot;: &quot;org.apache.kafka.clients.Metadata&quot;,\n  &quot;level&quot;: &quot;ERROR&quot;,\n  &quot;thread&quot;: &quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;,\n  &quot;message&quot;: &quot;[Consumer clientId=consumer-local-1, groupId=local] Metadata response reported invalid topics [topic1,topic2]&quot;,\n  &quot;class&quot;: &quot;org.apache.kafka.clients.Metadata&quot;,\n  &quot;method&quot;: &quot;checkInvalidTopics&quot;,\n  &quot;file&quot;: &quot;Metadata.java&quot;,\n  &quot;line&quot;: 294\n}\n{\n &quot;app&quot;: &quot;myApp&quot;,\n &quot;@timestamp&quot;: &quot;2022-12-20T12:01:55.004Z&quot;,\n &quot;userId&quot;: &quot;&quot;,\n &quot;hostname&quot;: &quot;&quot;,\n &quot;ipAddress&quot;: &quot;&quot;,\n &quot;logger&quot;: &quot;org.apache.kafka.clients.consumer.internals.AbstractCoordinator&quot;,\n &quot;level&quot;: &quot;INFO&quot;,\n &quot;thread&quot;: &quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;,\n &quot;message&quot;: &quot;[Consumer clientId=consumer-local-1, groupId=local] Rebalance failed.&quot;,\n &quot;class&quot;: &quot;org.apache.kafka.clients.consumer.internals.AbstractCoordinator&quot;,\n &quot;method&quot;: &quot;joinGroupIfNeeded&quot;,\n &quot;file&quot;: &quot;AbstractCoordinator.java&quot;,\n &quot;line&quot;: 470,\n &quot;stack&quot;: &quot;org.apache.kafka.common.errors.InvalidTopicException: Invalid topics: [topic1,topic2]\\n&quot;\n</code></pre>\n<p>}</p>\n<p>Any ideas on what I am doing wrong are greatly appreciated. Thank you</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1695065121,"post_id":77129688,"comment_id":135971676,"body_markdown":"Why are you using version `17.0.6` for `javafx-controls` and `javafx-fxml` but `20` for `javafx-web`?","body":"Why are you using version <code>17.0.6</code> for <code>javafx-controls</code> and <code>javafx-fxml</code> but <code>20</code> for <code>javafx-web</code>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695076826,"post_id":77129688,"comment_id":135973305,"body_markdown":"Move your JavaFx dependency elements all together for easier reading.","body":"Move your JavaFx dependency elements all together for easier reading."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695076871,"post_id":77129688,"comment_id":135973309,"body_markdown":"Use a variable for the same version number of all the JavaFX-related elements.","body":"Use a variable for the same version number of all the JavaFX-related elements."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695101506,"post_id":77129688,"comment_id":135975266,"body_markdown":"Similar: [*can not resolve symbol &quot;javafx.scene.web&quot;*](https://stackoverflow.com/q/70942561/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/70942561/642706\"><i>can not resolve symbol &quot;javafx.scene.web&quot;</i></a>"}],"owner":{"account_id":26166704,"reputation":65,"user_id":19852405,"display_name":"Gabriel Gavrilov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695062357,"creation_date":1695062357,"question_id":77129688,"body_markdown":"I&#39;m trying to use WebView for one of my projects. \r\n\r\nI imported it in pom.xml, added it on module-info.java, and was able to use it in my main class without IntelliJ throwing me any errors, but, whenever I run the program I get a &quot;java: module not found: javafx.web&quot; issue. \r\n\r\nDoes anyone know why its doing this?\r\n\r\nThe thing that&#39;s frustrating me the most is that IntelliJ does find the library. It queries the class and its methods.\r\n\r\n**module-info.java**\r\n```\r\nmodule com.gabrielgavrilov.cobolt {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.web;\r\n    requires org.fxmisc.richtext;\r\n\r\n    opens com.gabrielgavrilov.cobolt.core to javafx.fxml;\r\n    exports com.gabrielgavrilov.cobolt.core;\r\n\r\n    opens com.gabrielgavrilov.cobolt.client to javafx.fxml;\r\n    exports com.gabrielgavrilov.cobolt.client;\r\n}\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.gabrielgavrilov&lt;/groupId&gt;\r\n  &lt;artifactId&gt;cobolt&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;Cobolt&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&lt;junit.version&gt;5.9.2&lt;/junit.version&gt;  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;17.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;17.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.fxmisc.richtext/richtextfx --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.fxmisc.richtext&lt;/groupId&gt;\r\n      &lt;artifactId&gt;richtextfx&lt;/artifactId&gt;\r\n      &lt;version&gt;0.11.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-web --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n      &lt;version&gt;20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.8&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n            &lt;id&gt;default-cli&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n              &lt;mainClass&gt;com.gabrielgavrilov.cobolt/com.gabrielgavrilov.cobolt.client.Cobolt&lt;/mainClass&gt;\r\n              &lt;launcher&gt;app&lt;/launcher&gt;\r\n              &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n              &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n              &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n              &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n              &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Keep getting a &quot;java: module not found: javafx.web&quot; on IntelliJ","body":"<p>I'm trying to use WebView for one of my projects.</p>\n<p>I imported it in pom.xml, added it on module-info.java, and was able to use it in my main class without IntelliJ throwing me any errors, but, whenever I run the program I get a &quot;java: module not found: javafx.web&quot; issue.</p>\n<p>Does anyone know why its doing this?</p>\n<p>The thing that's frustrating me the most is that IntelliJ does find the library. It queries the class and its methods.</p>\n<p><strong>module-info.java</strong></p>\n<pre><code>module com.gabrielgavrilov.cobolt {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.web;\n    requires org.fxmisc.richtext;\n\n    opens com.gabrielgavrilov.cobolt.core to javafx.fxml;\n    exports com.gabrielgavrilov.cobolt.core;\n\n    opens com.gabrielgavrilov.cobolt.client to javafx.fxml;\n    exports com.gabrielgavrilov.cobolt.client;\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.gabrielgavrilov&lt;/groupId&gt;\n  &lt;artifactId&gt;cobolt&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Cobolt&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;junit.version&gt;5.9.2&lt;/junit.version&gt;  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;17.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;17.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.fxmisc.richtext/richtextfx --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.fxmisc.richtext&lt;/groupId&gt;\n      &lt;artifactId&gt;richtextfx&lt;/artifactId&gt;\n      &lt;version&gt;0.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-web --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n      &lt;version&gt;20&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n            &lt;id&gt;default-cli&lt;/id&gt;\n            &lt;configuration&gt;\n              &lt;mainClass&gt;com.gabrielgavrilov.cobolt/com.gabrielgavrilov.cobolt.client.Cobolt&lt;/mainClass&gt;\n              &lt;launcher&gt;app&lt;/launcher&gt;\n              &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n              &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n              &lt;noManPages&gt;true&lt;/noManPages&gt;\n              &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n              &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","testng","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695062251,"creation_date":1695062251,"answer_id":77129678,"question_id":77124201,"body_markdown":"What you are trying is not supported with BDD implementation using feature file. If you want to take benefit of test dependency in BDD you should use  BDD with scenario implementation in Java using [Runtime Scenario][1]. \r\n\r\nRefer https://github.com/qmetry/qaf/issues/281#issuecomment-599856910\r\n\r\n\r\n  [1]: https://qmetry.github.io/qaf/latest/runtime_scenario.html","title":"QAF @dependsOnMethods is throwing nested exception error","body":"<p>What you are trying is not supported with BDD implementation using feature file. If you want to take benefit of test dependency in BDD you should use  BDD with scenario implementation in Java using <a href=\"https://qmetry.github.io/qaf/latest/runtime_scenario.html\" rel=\"nofollow noreferrer\">Runtime Scenario</a>.</p>\n<p>Refer <a href=\"https://github.com/qmetry/qaf/issues/281#issuecomment-599856910\" rel=\"nofollow noreferrer\">https://github.com/qmetry/qaf/issues/281#issuecomment-599856910</a></p>\n"}],"owner":{"account_id":12044988,"reputation":17,"user_id":10069320,"display_name":"Renish K.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77129678,"answer_count":1,"score":1,"last_activity_date":1695062251,"creation_date":1695001744,"question_id":77124201,"body_markdown":"I get a nested exception error if I use @dependsOnMethods for the below scenarios. These scenarios work perfectly without @dependsOnMethods\r\nNote: I have tried both in qaf.version: 3.2.0(Selenium: 3.141.59) &amp; 4.0.0-RC2 (Selenium:4.11.0)\r\n\r\n\r\n```\r\n@test0 @priority:1 @dependsOnMethods:[]\r\nScenario Outline: Scenario Test 1\r\n  Given Test step\r\n  Then I comment &quot;&lt;test_data&gt;&quot;\r\nExamples: \r\n  | test_data   |\r\n  | test data 1 |\r\n  | test data 2 |\r\n\r\n@test @priority:2 @dependsOnMethods:[&quot;Scenario Test 1&quot;]\r\nScenario: Scenario Test 2\r\n  Given Test step\r\n```\r\n\r\nError:\r\n```\r\nT E S T S\r\n-------------------------------------------------------\r\nRunning TestSuite\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nAdded &quot;QAFMethodSelector&quot;\r\ninclude groups []\r\n exclude groups: [] Scanarios location: tests/ \r\norg.apache.maven.surefire.util.SurefireReflectionException: java.lang.reflect.InvocationTargetException; nested exception is java.lang.reflect.InvocationTargetException: null\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)\r\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)\r\n        at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:172)\r\n        at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:104)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:70)\r\nCaused by: org.testng.TestNGException: \r\nMethod &quot;tests.test.feature.Scenario Test 2()[pri:2, instance:com.qmetry.qaf.automation.step.client.Scenario@2]&quot; depends on nonexistent method &quot;Scenario Test 1&quot;\r\n        at org.testng.DependencyMap.getMethodDependingOn(DependencyMap.java:65)\r\n        at org.testng.TestRunner.createDynamicGraph(TestRunner.java:1041)\r\n        at org.testng.TestRunner.privateRun(TestRunner.java:723)\r\n        at org.testng.TestRunner.run(TestRunner.java:610)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:387)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1133)\r\n        at org.testng.TestNG.run(TestNG.java:1104)\r\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:122)\r\n        at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:92)\r\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:101)\r\n        ... 9 more\r\nPreparing For Shut Down...\r\n```\r\n\r\n","title":"QAF @dependsOnMethods is throwing nested exception error","body":"<p>I get a nested exception error if I use @dependsOnMethods for the below scenarios. These scenarios work perfectly without @dependsOnMethods\nNote: I have tried both in qaf.version: 3.2.0(Selenium: 3.141.59) &amp; 4.0.0-RC2 (Selenium:4.11.0)</p>\n<pre><code>@test0 @priority:1 @dependsOnMethods:[]\nScenario Outline: Scenario Test 1\n  Given Test step\n  Then I comment &quot;&lt;test_data&gt;&quot;\nExamples: \n  | test_data   |\n  | test data 1 |\n  | test data 2 |\n\n@test @priority:2 @dependsOnMethods:[&quot;Scenario Test 1&quot;]\nScenario: Scenario Test 2\n  Given Test step\n</code></pre>\n<p>Error:</p>\n<pre><code>T E S T S\n-------------------------------------------------------\nRunning TestSuite\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nAdded &quot;QAFMethodSelector&quot;\ninclude groups []\n exclude groups: [] Scanarios location: tests/ \norg.apache.maven.surefire.util.SurefireReflectionException: java.lang.reflect.InvocationTargetException; nested exception is java.lang.reflect.InvocationTargetException: null\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)\n        at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:172)\n        at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:104)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:70)\nCaused by: org.testng.TestNGException: \nMethod &quot;tests.test.feature.Scenario Test 2()[pri:2, instance:com.qmetry.qaf.automation.step.client.Scenario@2]&quot; depends on nonexistent method &quot;Scenario Test 1&quot;\n        at org.testng.DependencyMap.getMethodDependingOn(DependencyMap.java:65)\n        at org.testng.TestRunner.createDynamicGraph(TestRunner.java:1041)\n        at org.testng.TestRunner.privateRun(TestRunner.java:723)\n        at org.testng.TestRunner.run(TestRunner.java:610)\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:387)\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382)\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n        at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)\n        at org.testng.TestNG.runSuites(TestNG.java:1133)\n        at org.testng.TestNG.run(TestNG.java:1104)\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:122)\n        at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:92)\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:101)\n        ... 9 more\nPreparing For Shut Down...\n</code></pre>\n"},{"tags":["java","spring-boot","testing","h2","spring-test"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1695046633,"post_id":77127985,"comment_id":135968124,"body_markdown":"Why is the test concerned with internal database identifiers? Ah I see, you&#39;re just relying on Lombok&#39;s `equals` which makes the `contains()` fail. I suggest you determine what is equality, and whether the ID should be included (probably not).","body":"Why is the test concerned with internal database identifiers? Ah I see, you&#39;re just relying on Lombok&#39;s <code>equals</code> which makes the <code>contains()</code> fail. I suggest you determine what is equality, and whether the ID should be included (probably not)."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695046949,"post_id":77127985,"comment_id":135968189,"body_markdown":"@Kayaman you&#39;re right","body":"@Kayaman you&#39;re right"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695048285,"post_id":77127985,"comment_id":135968517,"body_markdown":"Using `equals`/`hashCode` that relies on any field other than `unid` is __really dangerous__ when combined with JPA systems, because a simple .equals check can query half the database out as it walks down an endless tree structure of inner joins. JPA itself hasn&#39;t given a solid answer how to do this, so lombok can&#39;t follow standard guidance as there is none. -a lombok author.","body":"Using <code>equals</code>/<code>hashCode</code> that relies on any field other than <code>unid</code> is <b>really dangerous</b> when combined with JPA systems, because a simple .equals check can query half the database out as it walks down an endless tree structure of inner joins. JPA itself hasn&#39;t given a solid answer how to do this, so lombok can&#39;t follow standard guidance as there is none. -a lombok author."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695048330,"post_id":77127985,"comment_id":135968526,"body_markdown":"My advice is mostly to just not use JPA at all, but if you must, I strongly suggest you check ONLY unid for equality, and consider the semantic meaning of an instance of Role to be &#39;it represents a row in the database that represents Roles&#39; and not &#39;it represents a Role&#39;, because those 2 ideas are fundamentally incompatible with each other even though it sounds like that should be the same thing.","body":"My advice is mostly to just not use JPA at all, but if you must, I strongly suggest you check ONLY unid for equality, and consider the semantic meaning of an instance of Role to be &#39;it represents a row in the database that represents Roles&#39; and not &#39;it represents a Role&#39;, because those 2 ideas are fundamentally incompatible with each other even though it sounds like that should be the same thing."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695048354,"post_id":77127985,"comment_id":135968534,"body_markdown":"With all that context: You should tell lombok to generate equality ONLY on unid, and, yes, your tests should restart the auto-incrementer.","body":"With all that context: You should tell lombok to generate equality ONLY on unid, and, yes, your tests should restart the auto-incrementer."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695048481,"post_id":77127985,"comment_id":135968570,"body_markdown":"I&#39;d write an answer as to that last one, but I don&#39;t know how. I know how to do it for postgres, as well as for h2, but I gather the intent would be to do it in a db-independent manner and there really isn&#39;t any consensus-standard-SQL to reset autocount columns. It&#39;s very complicated (the easy solution is to explicitly define the sequences, i.e. do not use AUTOSEQUENCE / GenType.IDENTITY at all), or to have no sequences at all (your UNID columns are java-side randomly generated UUIDs for example).","body":"I&#39;d write an answer as to that last one, but I don&#39;t know how. I know how to do it for postgres, as well as for h2, but I gather the intent would be to do it in a db-independent manner and there really isn&#39;t any consensus-standard-SQL to reset autocount columns. It&#39;s very complicated (the easy solution is to explicitly define the sequences, i.e. do not use AUTOSEQUENCE / GenType.IDENTITY at all), or to have no sequences at all (your UNID columns are java-side randomly generated UUIDs for example)."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695055737,"post_id":77127985,"comment_id":135970034,"body_markdown":"@rzwitserloot but what if you need to compare transient entities that haven&#39;t yet received their ids from a database?","body":"@rzwitserloot but what if you need to compare transient entities that haven&#39;t yet received their ids from a database?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695056392,"post_id":77127985,"comment_id":135970158,"body_markdown":"@joreJoh That is a nonsensical wish. Either [A] an instance of your class represents a row. In that case, trying to compare 2 &#39;rows&#39; that haven&#39;t been written yet means that they are therefore by definition not identical to anything except their own reference (`if (x == this) return true; return false;` is the only correct implementation if not saved yet). After all, if you `.save()` both objects they&#39;d result in different rows. or [B] An instance of your class represents a role, you should equals/hashcode on everything _except_ unid, and using these with JPA will kill your server.","body":"@joreJoh That is a nonsensical wish. Either [A] an instance of your class represents a row. In that case, trying to compare 2 &#39;rows&#39; that haven&#39;t been written yet means that they are therefore by definition not identical to anything except their own reference (<code>if (x == this) return true; return false;</code> is the only correct implementation if not saved yet). After all, if you <code>.save()</code> both objects they&#39;d result in different rows. or [B] An instance of your class represents a role, you should equals/hashcode on everything <i>except</i> unid, and using these with JPA will kill your server."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695056461,"post_id":77127985,"comment_id":135970177,"body_markdown":"I think most of the world thinks B is the logical answer, except B kills servers (add a JPA-derived object to a hashset and kablooei there it goes, querying the entire DB out and OOMing after 10 minutes of chugging away at it). So, JPA needs to be clear and explain that instances of JPA persisted classes __represent rows, not the thing you named it as__. But they don&#39;t want to do that because it destroys the faulty but pretty picture that you&#39;re just persisting objects.","body":"I think most of the world thinks B is the logical answer, except B kills servers (add a JPA-derived object to a hashset and kablooei there it goes, querying the entire DB out and OOMing after 10 minutes of chugging away at it). So, JPA needs to be clear and explain that instances of JPA persisted classes <b>represent rows, not the thing you named it as</b>. But they don&#39;t want to do that because it destroys the faulty but pretty picture that you&#39;re just persisting objects."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695057659,"post_id":77127985,"comment_id":135970395,"body_markdown":"@rzwitserloot what if you simply exclude associations from `equals()`/`hashcode()`? What&#39;s wrong with comparing fields of basic types that don&#39;t have their own tables?","body":"@rzwitserloot what if you simply exclude associations from <code>equals()</code>/<code>hashcode()</code>? What&#39;s wrong with comparing fields of basic types that don&#39;t have their own tables?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695058286,"post_id":77127985,"comment_id":135970522,"body_markdown":"@rzwitserloot also, I opened a [new question](https://stackoverflow.com/questions/77129264/what-equals-implementation-should-your-entity-classes-have) since it&#39;s, in my view, an interesting topic that calls for a separate discussion","body":"@rzwitserloot also, I opened a <a href=\"https://stackoverflow.com/questions/77129264/what-equals-implementation-should-your-entity-classes-have\">new question</a> since it&#39;s, in my view, an interesting topic that calls for a separate discussion"}],"answers":[{"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695047194,"post_id":77128019,"comment_id":135968261,"body_markdown":"`.asList().stream()` is not compilable since it doesn&#39;t actually return a `List` (instead it returns `org.assertj.core.api.AbstractAssert` which doesn&#39;t have such a method)","body":"<code>.asList().stream()</code> is not compilable since it doesn&#39;t actually return a <code>List</code> (instead it returns <code>org.assertj.core.api.AbstractAssert</code> which doesn&#39;t have such a method)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695052514,"post_id":77128019,"comment_id":135969446,"body_markdown":"@JoreJoh Then what about at one level higher? Does roleDao.findByAuthorityOrAuthority return a List?","body":"@JoreJoh Then what about at one level higher? Does roleDao.findByAuthorityOrAuthority return a List?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695058447,"post_id":77128019,"comment_id":135970548,"body_markdown":"You can&#39;t `stream()` the return type of `assertThat()` (that&#39;s what your current edit&#39;s code tries to do)","body":"You can&#39;t <code>stream()</code> the return type of <code>assertThat()</code> (that&#39;s what your current edit&#39;s code tries to do)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695058650,"post_id":77128019,"comment_id":135970583,"body_markdown":"@JoreJoh Oh, I see what I did. Sorry, I meant to put that inside the `assertThat()`.","body":"@JoreJoh Oh, I see what I did. Sorry, I meant to put that inside the <code>assertThat()</code>."}],"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695058827,"creation_date":1695046771,"answer_id":77128019,"question_id":77127985,"body_markdown":"Only test the `authority` of the `Role`, not the entire object.\r\n\r\n    @Test\r\n    void findByAuthorityOrAuthority() {\r\n        assertThat(\r\n            roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .stream()\r\n                .map(Role::getAuthority)\r\n                .collect(Collectors.toList()))\r\n            .asList()\r\n            .contains(&quot;USER&quot;, &quot;ADMIN&quot;);\r\n    }\r\n\r\nA similar change is advisable in the `findByAuthority` test, since the order the tests are run in is not guaranteed.","title":"Resetting the H2 incrementer","body":"<p>Only test the <code>authority</code> of the <code>Role</code>, not the entire object.</p>\n<pre><code>@Test\nvoid findByAuthorityOrAuthority() {\n    assertThat(\n        roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\n            .stream()\n            .map(Role::getAuthority)\n            .collect(Collectors.toList()))\n        .asList()\n        .contains(&quot;USER&quot;, &quot;ADMIN&quot;);\n}\n</code></pre>\n<p>A similar change is advisable in the <code>findByAuthority</code> test, since the order the tests are run in is not guaranteed.</p>\n"},{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695061730,"creation_date":1695061730,"answer_id":77129636,"question_id":77127985,"body_markdown":"Ignoring ids is the way to go\r\n```java\r\npackage pp.spring_bootstrap.dao;\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport pp.spring_bootstrap.models.Role;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n\r\n@DataJpaTest\r\nclass RoleDaoTest {\r\n    @Autowired\r\n    RoleDao roleDao;\r\n    static final String USER = &quot;USER&quot;;\r\n    static final String ADMIN = &quot;ADMIN&quot;;\r\n\r\n    @BeforeEach\r\n    void addSampleRows() {\r\n        roleDao.saveAll(List.of(new Role(USER), new Role(ADMIN)));\r\n    }\r\n\r\n    @AfterEach\r\n    void clearRows() {\r\n        roleDao.deleteAll();\r\n    }\r\n\r\n    @Test\r\n    void findByAuthority() {\r\n        assertThat(roleDao.findByAuthority(USER))\r\n                .extracting(Role::getAuthority)\r\n                .matches(roleString -&gt; roleString.equals(USER));\r\n    }\r\n\r\n    @Test\r\n    void findByAuthorityOrAuthority() {\r\n        var roleStrings = roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .stream()\r\n                .map(Role::getAuthority)\r\n                .toList();\r\n        assertThat(roleStrings.size()).isEqualTo(2);\r\n        assertThat(roleStrings).asList().contains(USER, ADMIN);\r\n    }\r\n}\r\n```","title":"Resetting the H2 incrementer","body":"<p>Ignoring ids is the way to go</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.dao;\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport pp.spring_bootstrap.models.Role;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\n@DataJpaTest\nclass RoleDaoTest {\n    @Autowired\n    RoleDao roleDao;\n    static final String USER = &quot;USER&quot;;\n    static final String ADMIN = &quot;ADMIN&quot;;\n\n    @BeforeEach\n    void addSampleRows() {\n        roleDao.saveAll(List.of(new Role(USER), new Role(ADMIN)));\n    }\n\n    @AfterEach\n    void clearRows() {\n        roleDao.deleteAll();\n    }\n\n    @Test\n    void findByAuthority() {\n        assertThat(roleDao.findByAuthority(USER))\n                .extracting(Role::getAuthority)\n                .matches(roleString -&gt; roleString.equals(USER));\n    }\n\n    @Test\n    void findByAuthorityOrAuthority() {\n        var roleStrings = roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .stream()\n                .map(Role::getAuthority)\n                .toList();\n        assertThat(roleStrings.size()).isEqualTo(2);\n        assertThat(roleStrings).asList().contains(USER, ADMIN);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77128019,"answer_count":2,"score":0,"last_activity_date":1695061730,"creation_date":1695046471,"question_id":77127985,"body_markdown":"How do I reset the id incrementer in H2? Call it an XY problem, if you want, but my test fail just because the ids (`GenerationType.IDENTITY`) don&#39;t match. I clear the rows in `@BeforeEach`, but the incrementer is not reset hence the error\r\n```java\r\npackage pp.spring_bootstrap.dao;\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport pp.spring_bootstrap.models.Role;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n\r\n@SpringBootTest\r\nclass RoleDaoTest {\r\n    @Autowired\r\n    RoleDao roleDao;\r\n    static final Role USER = new Role(&quot;USER&quot;);\r\n    static final Role ADMIN = new Role(&quot;ADMIN&quot;);\r\n    @BeforeEach\r\n    void addSampleRows() {\r\n        roleDao.saveAll(List.of(USER, ADMIN));\r\n    }\r\n    @AfterEach\r\n    void clearRows() {\r\n        roleDao.deleteAll();\r\n    }\r\n    @Test\r\n    void findByAuthority() {\r\n        assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\r\n    }\r\n\r\n    @Test\r\n    void findByAuthorityOrAuthority() {\r\n        assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).asList().contains(USER, ADMIN);\r\n    }\r\n}\r\n```\r\n```java\r\npackage pp.spring_bootstrap.models;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.springframework.security.core.GrantedAuthority;\r\n\r\nimport java.util.Set;\r\nimport java.util.StringJoiner;\r\n\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\npublic class Role implements GrantedAuthority {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    @Column(name = &quot;role&quot;, nullable = false, unique = true)\r\n    private String authority;\r\n    @ManyToMany(mappedBy = &quot;authorities&quot;)\r\n    @EqualsAndHashCode.Exclude\r\n    private Set&lt;User&gt; userList;\r\n\r\n    public Role() {\r\n    }\r\n\r\n    public Role(String authority) {\r\n        this.authority = authority;\r\n    }\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return authority;\r\n    }\r\n\r\n    // toString()\r\n}\r\n```\r\n```\r\njava.lang.AssertionError: \r\nExpecting ArrayList:\r\n  [Role[id=4, role=&#39;ADMIN&#39;], Role[id=3, role=&#39;USER&#39;]]\r\nto contain:\r\n  [Role[id=1, role=&#39;USER&#39;], Role[id=2, role=&#39;ADMIN&#39;]]\r\nbut could not find the following element(s):\r\n  [Role[id=1, role=&#39;USER&#39;], Role[id=2, role=&#39;ADMIN&#39;]]\r\n```\r\nGPT suggested `@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)`, but it slows down tests greatly. It seems an overkill to recreate the context each time just for those ids to match","title":"Resetting the H2 incrementer","body":"<p>How do I reset the id incrementer in H2? Call it an XY problem, if you want, but my test fail just because the ids (<code>GenerationType.IDENTITY</code>) don't match. I clear the rows in <code>@BeforeEach</code>, but the incrementer is not reset hence the error</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.dao;\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport pp.spring_bootstrap.models.Role;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\n@SpringBootTest\nclass RoleDaoTest {\n    @Autowired\n    RoleDao roleDao;\n    static final Role USER = new Role(&quot;USER&quot;);\n    static final Role ADMIN = new Role(&quot;ADMIN&quot;);\n    @BeforeEach\n    void addSampleRows() {\n        roleDao.saveAll(List.of(USER, ADMIN));\n    }\n    @AfterEach\n    void clearRows() {\n        roleDao.deleteAll();\n    }\n    @Test\n    void findByAuthority() {\n        assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\n    }\n\n    @Test\n    void findByAuthorityOrAuthority() {\n        assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).asList().contains(USER, ADMIN);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.models;\n\nimport jakarta.persistence.*;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.springframework.security.core.GrantedAuthority;\n\nimport java.util.Set;\nimport java.util.StringJoiner;\n\n@Entity\n@Table(name = &quot;roles&quot;)\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class Role implements GrantedAuthority {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    @Column(name = &quot;role&quot;, nullable = false, unique = true)\n    private String authority;\n    @ManyToMany(mappedBy = &quot;authorities&quot;)\n    @EqualsAndHashCode.Exclude\n    private Set&lt;User&gt; userList;\n\n    public Role() {\n    }\n\n    public Role(String authority) {\n        this.authority = authority;\n    }\n\n    @Override\n    public String getAuthority() {\n        return authority;\n    }\n\n    // toString()\n}\n</code></pre>\n<pre><code>java.lang.AssertionError: \nExpecting ArrayList:\n  [Role[id=4, role='ADMIN'], Role[id=3, role='USER']]\nto contain:\n  [Role[id=1, role='USER'], Role[id=2, role='ADMIN']]\nbut could not find the following element(s):\n  [Role[id=1, role='USER'], Role[id=2, role='ADMIN']]\n</code></pre>\n<p>GPT suggested <code>@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)</code>, but it slows down tests greatly. It seems an overkill to recreate the context each time just for those ids to match</p>\n"},{"tags":["java","spring","websocket","streamingresponsebody"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1695061887,"post_id":77129631,"comment_id":135971163,"body_markdown":"What do you mean with &quot;*its not working*&quot;?","body":"What do you mean with &quot;<i>its not working</i>&quot;?"},{"owner":{"account_id":25988974,"reputation":1,"user_id":19701519,"display_name":"imakhlaq"},"score":0,"creation_date":1695063410,"post_id":77129631,"comment_id":135971411,"body_markdown":"i mean their is no data at client end.","body":"i mean their is no data at client end."}],"owner":{"account_id":25988974,"reputation":1,"user_id":19701519,"display_name":"imakhlaq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695061668,"creation_date":1695061668,"question_id":77129631,"body_markdown":"I am trying to stream a video file over an websocket using StreamingResponseBody. But its not working. Is it possible to use StreamingResponseBody over websocket connection?\r\n\r\n\r\n\r\n```\r\n@Controller\r\n@Slf4j\r\npublic class RoomController {\r\n\r\n    @Autowired\r\n    RoomService roomService;\r\n\r\n    @Autowired\r\n    private SimpMessagingTemplate messagingTemplate;\r\n\r\n    @MessageMapping(&quot;/message&quot;)\r\n    @SendTo(&quot;/topic/data&quot;)\r\n    public StreamingResponseBody getContent() throws IOException {\r\n\r\n\r\n        // Replace with the path to your video file\r\n        Path videoPath = Paths.get(&quot;F:\\\\earth.mp4&quot;);\r\n\r\n        // Open the video file as an InputStream\r\n        InputStream videoInputStream = Files.newInputStream(videoPath, StandardOpenOption.READ);\r\n\r\n        // Create an InputStreamSource from the InputStream\r\n        InputStreamSource source = new InputStreamResource(videoInputStream);\r\n\r\n        return outputStream -&gt; {\r\n            log.warn(&quot;inside writeTo&quot;);  //&lt;- not logging on console\r\n            InputStream is = source.getInputStream();\r\n            byte[] buffer = new byte[1024];\r\n            int bytesRead;\r\n            while ((bytesRead = is.read(buffer)) != -1) {\r\n                log.warn(&quot;Read byte {}&quot;, bytesRead);\r\n                outputStream.write(buffer, 0, bytesRead);\r\n            }\r\n        };\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n","title":"StreamingResponseBody is not working over websocket connecion","body":"<p>I am trying to stream a video file over an websocket using StreamingResponseBody. But its not working. Is it possible to use StreamingResponseBody over websocket connection?</p>\n<pre><code>@Controller\n@Slf4j\npublic class RoomController {\n\n    @Autowired\n    RoomService roomService;\n\n    @Autowired\n    private SimpMessagingTemplate messagingTemplate;\n\n    @MessageMapping(&quot;/message&quot;)\n    @SendTo(&quot;/topic/data&quot;)\n    public StreamingResponseBody getContent() throws IOException {\n\n\n        // Replace with the path to your video file\n        Path videoPath = Paths.get(&quot;F:\\\\earth.mp4&quot;);\n\n        // Open the video file as an InputStream\n        InputStream videoInputStream = Files.newInputStream(videoPath, StandardOpenOption.READ);\n\n        // Create an InputStreamSource from the InputStream\n        InputStreamSource source = new InputStreamResource(videoInputStream);\n\n        return outputStream -&gt; {\n            log.warn(&quot;inside writeTo&quot;);  //&lt;- not logging on console\n            InputStream is = source.getInputStream();\n            byte[] buffer = new byte[1024];\n            int bytesRead;\n            while ((bytesRead = is.read(buffer)) != -1) {\n                log.warn(&quot;Read byte {}&quot;, bytesRead);\n                outputStream.write(buffer, 0, bytesRead);\n            }\n        };\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","intellij-15"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1695060021,"post_id":77129414,"comment_id":135970859,"body_markdown":"Build | Rebuild project will clean it automatically. What problem are you trying to solve that cannot be solved by Rebuild?","body":"Build | Rebuild project will clean it automatically. What problem are you trying to solve that cannot be solved by Rebuild?"},{"owner":{"account_id":1484728,"reputation":6277,"user_id":1393225,"accept_rate":71,"display_name":"Vnuuk"},"score":0,"creation_date":1695060190,"post_id":77129414,"comment_id":135970885,"body_markdown":"Thanks for your reply! When I hit Shift+F9 (or click &quot;bug&quot; icon) to start debugging, I found that IntelliJ does not clean content of the previous builds in &quot;target&quot; folders. So sometimes I have to go and delete those folders manually, so when I hit Shift+F9 next time, it produces a new / clean build.","body":"Thanks for your reply! When I hit Shift+F9 (or click &quot;bug&quot; icon) to start debugging, I found that IntelliJ does not clean content of the previous builds in &quot;target&quot; folders. So sometimes I have to go and delete those folders manually, so when I hit Shift+F9 next time, it produces a new / clean build."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1695060251,"post_id":77129414,"comment_id":135970895,"body_markdown":"This is the expected behavior of the incremental compiler (Build action). Target folder is removed only on Rebuild.","body":"This is the expected behavior of the incremental compiler (Build action). Target folder is removed only on Rebuild."},{"owner":{"account_id":1484728,"reputation":6277,"user_id":1393225,"accept_rate":71,"display_name":"Vnuuk"},"score":0,"creation_date":1695060392,"post_id":77129414,"comment_id":135970915,"body_markdown":"OK, thank you! Build | Rebuild should work in my case.. Could you please post your answer? - I&#39;ll mark it as a right answer.","body":"OK, thank you! Build | Rebuild should work in my case.. Could you please post your answer? - I&#39;ll mark it as a right answer."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695060675,"creation_date":1695060675,"answer_id":77129509,"question_id":77129414,"body_markdown":"In order to clean the `target` directory and perform a clean build in IntelliJ IDEA, please use the Build | **Rebuild Project** action.","title":"Best way to remove all &quot;target&quot; folders in IntelliJ Idea","body":"<p>In order to clean the <code>target</code> directory and perform a clean build in IntelliJ IDEA, please use the Build | <strong>Rebuild Project</strong> action.</p>\n"}],"owner":{"account_id":1484728,"reputation":6277,"user_id":1393225,"accept_rate":71,"display_name":"Vnuuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77129509,"answer_count":1,"score":1,"last_activity_date":1695060894,"creation_date":1695059645,"question_id":77129414,"body_markdown":"How can I automate the removal of &#39;target&#39; folders to facilitate a clean build process for my project in IntelliJ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xsGWl.png","title":"Best way to remove all &quot;target&quot; folders in IntelliJ Idea","body":"<p>How can I automate the removal of 'target' folders to facilitate a clean build process for my project in IntelliJ?</p>\n<p><a href=\"https://i.stack.imgur.com/xsGWl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xsGWl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8","completable-future","try-with-resources"],"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1628873987,"post_id":68774523,"comment_id":121546025,"body_markdown":"Can&#39;t `asynFileOperation` accept a file path instead of accepting an open stream? Have you looked at `CompletableFuture#handle` method?","body":"Can&#39;t <code>asynFileOperation</code> accept a file path instead of accepting an open stream? Have you looked at <code>CompletableFuture#handle</code> method?"},{"owner":{"account_id":4565460,"reputation":480,"user_id":3706576,"display_name":"mperktold"},"score":0,"creation_date":1628930883,"post_id":68774523,"comment_id":121556070,"body_markdown":"Yes, I know about `handle` , it&#39;s essentially the same as `whenComplete` except that it allows to map both success and failure case to a new successful value, and I do not need that here. I just want to clean up resources and return the async result as-is.\nRegarding passing a file path instead of a stream, see my edit.","body":"Yes, I know about <code>handle</code> , it&#39;s essentially the same as <code>whenComplete</code> except that it allows to map both success and failure case to a new successful value, and I do not need that here. I just want to clean up resources and return the async result as-is. Regarding passing a file path instead of a stream, see my edit."}],"owner":{"account_id":4565460,"reputation":480,"user_id":3706576,"display_name":"mperktold"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1695060422,"creation_date":1628866796,"question_id":68774523,"body_markdown":"I am looking for a generic solution for cleaning up resources when working with asynchronous code in the form of `CompletableFuture`. It should offer the same guarantees as `try-finally` and `try-with-resources` for synchronous code. I&#39;ve asked the question on [Code Review][1], and I got an interesting answer, but it was closed since it better fits here, so here we go.\r\n\r\nSuppose I have a function that takes a `FileInputStream`, performs some operation using the file data in the background, and returns a `CompletableFuture&lt;Void` that will be completed when the background operation finishes:\r\n\r\n```java\r\nCompletableFuture&lt;Void&gt; asyncFileOperation(FileInputStream in) {\r\n  var cf = new CompletableFuture&lt;Void&gt;();\r\n  // ...\r\n  return cf;\r\n}\r\n```\r\n\r\n`FileInputStream` is a resource that has to be closed when not needed anymore. With synchronous code, we would use `finally` or `try-with-resources`. But with `CompletableFuture`, it&#39;s a bit more complicated. I can think of four ways, with pros and cons:\r\n\r\n**1. Simply using `whenComplete`**:\r\n```java\r\nFileInputStream in = openFile(&quot;data.txt&quot;);\r\nasyncFileOperation(in)\r\n  .whenComplete((r, x) -&gt; in.close());\r\n```\r\nThis is the &quot;obvious&quot; solution, as it is the direct translation from `finally` to the `CompletableFuture` world. It effectively closes the stream when `asyncFileOperation` completes, regardless whether it succeeds or fails. Except, when `asyncFileOperation` throws a synchronous RuntimeException before even returning the `CompletableFuture`, `whenComplete` will not be called, so neither will `close`.\r\n\r\nWe could write this off as &quot;never happens&quot;, but unexpected exceptions are the very reason we use `finally` and `try-with-resources` in the synchronous case. Is there any reason to believe this could be different for methods that return `CompletableFuture`?\r\n\r\n**2. Calling `asyncFileOperation` inside `thenCompose`**:\r\n```java\r\nCompletableFuture.completedFuture(openFile(&quot;data.txt&quot;))\r\n  .thenCompose(this::asyncFileOperation)\r\n  .whenComplete((r, x) -&gt; in.close());\r\n```\r\nThis solves the problem of solution 1 by executing `asyncFileOperation` in the context of an existing `CompletableFuture`, so any exception gets caught and `whenComplete` is always executed. The problem with this is that when an unexpected exception occurs, it will be swallowed silently (unless we excplicitely handle it). It will not bubble up the stack (unless we return the `CompletableFuture` and a handler further up the stack handles it), and it will never be passed to an `UncaughtExceptionHandler`. That is particularly bad for unexpected exceptions ones such as `NullPointerException`.\r\n\r\n**3. Using both `try-catch` and `whenComplete`**:\r\n```java\r\nFileInputStream in = openFile(&quot;data.txt&quot;);\r\ntry {\r\n  asyncFileOperation(in)\r\n    .whenComplete((r, x) -&gt; in.close());\r\n} catch (RuntimeException exc) {\r\n  in.close();\r\n  throw exc;\r\n}\r\n```\r\nThis solves all of the above problems, and doesn&#39;t really introduce new ones, except that it&#39;s ugly and repetitive. I&#39;ve seen this approach in the JDK implementation of `HttpClient.sendAsync`:\r\nit calls `unreference()` both in a [lambda passed to `whenComplete`][2] and in a [`catch` clause][3].\r\n\r\n**4. Doing it inside `asyncFileOperation`**:\r\n```java\r\nCompletableFuture&lt;Void&gt; asyncFileOperation(FileInputStream in) {\r\n  var cf = new CompletableFuture&lt;Void&gt;();\r\n  // ...\r\n  return cf.whenComplete((r, x) -&gt; in.close());\r\n}\r\n\r\nasyncFileOperation(openFile(&quot;data.txt&quot;));\r\n```\r\nHere, `asyncFileOperation` closes the stream itself ones it completes. Depending on the implementation, it might be obvious that there can be no RuntimeException, so we could eliminate some cases. If not, we need to use one of the approaches above to handle this, but we can handle it once and for all rather for every call.\r\n\r\nStill, I don&#39;t like this because maybe we want to continue to use the stream for some other operations, and its always nice when resources are created and cleaned up in the same place.\r\n\r\n----\r\n\r\nSo what are your thoughts on these options? Do you have other ones?\r\n\r\nI guess the question really boils down to whether `whenComplete` alone is enough and I&#39;m just being paranoid. If yes, I would stick to solution 1, otherwise it&#39;s maybe a question of context and personal taste whether solution 2 or 3 fits better.\r\n\r\n----\r\n\r\n**Edit**\r\n\r\nSome comments suggest to avoid the situation altogether by opening and closing the resource synchronously inside `asyncFileOperation`. I agree that it would be preferable, but what if it isn&#39;t possible? Maybe the caller must read a few lines, and `asyncFileOperation` reads the rest. Or, maybe `asyncFileOperation` reads the file in an asynchronous manner, which means we *can* open and close the stream inside the function, but we must close it asynchronously, so the question is again how to do it (maybe here solution 3 is best, because we can close the resource in a single place, just like `HttpClient`).\r\n\r\nAlso, I used `FileInputStream` just as some concrete example. In our real project, we often show a dialog that returns a `CompletableFuture` which is completed when the dialog is closed, and we need to do some cleanup work then, like removing UI event listeners, or closing a DB connection that is used throughout the whole async process.\r\n\r\nAre scenarios like these always bad? Should I avoid them at all cost? Is that always possible? If so, are there any resources on how to design software in such a manner? If not, I would like to know how the best way to handle such situations in general.\r\n\r\n  [1]: https://codereview.stackexchange.com/questions/265850/best-way-of-cleaning-up-resources-with-completablefuture\r\n  [2]: https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L654\r\n  [3]: https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L668","title":"Best way of cleaning up resources with CompletableFuture","body":"<p>I am looking for a generic solution for cleaning up resources when working with asynchronous code in the form of <code>CompletableFuture</code>. It should offer the same guarantees as <code>try-finally</code> and <code>try-with-resources</code> for synchronous code. I've asked the question on <a href=\"https://codereview.stackexchange.com/questions/265850/best-way-of-cleaning-up-resources-with-completablefuture\">Code Review</a>, and I got an interesting answer, but it was closed since it better fits here, so here we go.</p>\n<p>Suppose I have a function that takes a <code>FileInputStream</code>, performs some operation using the file data in the background, and returns a <code>CompletableFuture&lt;Void</code> that will be completed when the background operation finishes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Void&gt; asyncFileOperation(FileInputStream in) {\n  var cf = new CompletableFuture&lt;Void&gt;();\n  // ...\n  return cf;\n}\n</code></pre>\n<p><code>FileInputStream</code> is a resource that has to be closed when not needed anymore. With synchronous code, we would use <code>finally</code> or <code>try-with-resources</code>. But with <code>CompletableFuture</code>, it's a bit more complicated. I can think of four ways, with pros and cons:</p>\n<p><strong>1. Simply using <code>whenComplete</code></strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream in = openFile(&quot;data.txt&quot;);\nasyncFileOperation(in)\n  .whenComplete((r, x) -&gt; in.close());\n</code></pre>\n<p>This is the &quot;obvious&quot; solution, as it is the direct translation from <code>finally</code> to the <code>CompletableFuture</code> world. It effectively closes the stream when <code>asyncFileOperation</code> completes, regardless whether it succeeds or fails. Except, when <code>asyncFileOperation</code> throws a synchronous RuntimeException before even returning the <code>CompletableFuture</code>, <code>whenComplete</code> will not be called, so neither will <code>close</code>.</p>\n<p>We could write this off as &quot;never happens&quot;, but unexpected exceptions are the very reason we use <code>finally</code> and <code>try-with-resources</code> in the synchronous case. Is there any reason to believe this could be different for methods that return <code>CompletableFuture</code>?</p>\n<p><strong>2. Calling <code>asyncFileOperation</code> inside <code>thenCompose</code></strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture.completedFuture(openFile(&quot;data.txt&quot;))\n  .thenCompose(this::asyncFileOperation)\n  .whenComplete((r, x) -&gt; in.close());\n</code></pre>\n<p>This solves the problem of solution 1 by executing <code>asyncFileOperation</code> in the context of an existing <code>CompletableFuture</code>, so any exception gets caught and <code>whenComplete</code> is always executed. The problem with this is that when an unexpected exception occurs, it will be swallowed silently (unless we excplicitely handle it). It will not bubble up the stack (unless we return the <code>CompletableFuture</code> and a handler further up the stack handles it), and it will never be passed to an <code>UncaughtExceptionHandler</code>. That is particularly bad for unexpected exceptions ones such as <code>NullPointerException</code>.</p>\n<p><strong>3. Using both <code>try-catch</code> and <code>whenComplete</code></strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream in = openFile(&quot;data.txt&quot;);\ntry {\n  asyncFileOperation(in)\n    .whenComplete((r, x) -&gt; in.close());\n} catch (RuntimeException exc) {\n  in.close();\n  throw exc;\n}\n</code></pre>\n<p>This solves all of the above problems, and doesn't really introduce new ones, except that it's ugly and repetitive. I've seen this approach in the JDK implementation of <code>HttpClient.sendAsync</code>:\nit calls <code>unreference()</code> both in a <a href=\"https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L654\" rel=\"nofollow noreferrer\">lambda passed to <code>whenComplete</code></a> and in a <a href=\"https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L668\" rel=\"nofollow noreferrer\"><code>catch</code> clause</a>.</p>\n<p><strong>4. Doing it inside <code>asyncFileOperation</code></strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Void&gt; asyncFileOperation(FileInputStream in) {\n  var cf = new CompletableFuture&lt;Void&gt;();\n  // ...\n  return cf.whenComplete((r, x) -&gt; in.close());\n}\n\nasyncFileOperation(openFile(&quot;data.txt&quot;));\n</code></pre>\n<p>Here, <code>asyncFileOperation</code> closes the stream itself ones it completes. Depending on the implementation, it might be obvious that there can be no RuntimeException, so we could eliminate some cases. If not, we need to use one of the approaches above to handle this, but we can handle it once and for all rather for every call.</p>\n<p>Still, I don't like this because maybe we want to continue to use the stream for some other operations, and its always nice when resources are created and cleaned up in the same place.</p>\n<hr />\n<p>So what are your thoughts on these options? Do you have other ones?</p>\n<p>I guess the question really boils down to whether <code>whenComplete</code> alone is enough and I'm just being paranoid. If yes, I would stick to solution 1, otherwise it's maybe a question of context and personal taste whether solution 2 or 3 fits better.</p>\n<hr />\n<p><strong>Edit</strong></p>\n<p>Some comments suggest to avoid the situation altogether by opening and closing the resource synchronously inside <code>asyncFileOperation</code>. I agree that it would be preferable, but what if it isn't possible? Maybe the caller must read a few lines, and <code>asyncFileOperation</code> reads the rest. Or, maybe <code>asyncFileOperation</code> reads the file in an asynchronous manner, which means we <em>can</em> open and close the stream inside the function, but we must close it asynchronously, so the question is again how to do it (maybe here solution 3 is best, because we can close the resource in a single place, just like <code>HttpClient</code>).</p>\n<p>Also, I used <code>FileInputStream</code> just as some concrete example. In our real project, we often show a dialog that returns a <code>CompletableFuture</code> which is completed when the dialog is closed, and we need to do some cleanup work then, like removing UI event listeners, or closing a DB connection that is used throughout the whole async process.</p>\n<p>Are scenarios like these always bad? Should I avoid them at all cost? Is that always possible? If so, are there any resources on how to design software in such a manner? If not, I would like to know how the best way to handle such situations in general.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1694755519,"post_id":77109592,"comment_id":135935497,"body_markdown":"According to the javadocs, those 2 classes exist in Java 18 SE.  Therefore, the problem is with your Eclipse setup.  Try the solutions in https://stackoverflow.com/questions/25337182, https://stackoverflow.com/questions/4322893 and similar questions.","body":"According to the javadocs, those 2 classes exist in Java 18 SE.  Therefore, the problem is with your Eclipse setup.  Try the solutions in <a href=\"https://stackoverflow.com/questions/25337182\">stackoverflow.com/questions/25337182</a>, <a href=\"https://stackoverflow.com/questions/4322893\">stackoverflow.com/questions/4322893</a> and similar questions."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1694755792,"post_id":77109592,"comment_id":135935513,"body_markdown":"If that fails, it is conceivable that you have a homoglyph problem ... and one or more of the (Unicode) code-points in the source text is not the character that it looks like.  This can happy when copy-pasting from &quot;unclean&quot; sources.   (And ... why are you using Java 18?  It is end-of-life.  Use Java 17 LTS or Java 21 LTS.)","body":"If that fails, it is conceivable that you have a homoglyph problem ... and one or more of the (Unicode) code-points in the source text is not the character that it looks like.  This can happy when copy-pasting from &quot;unclean&quot; sources.   (And ... why are you using Java 18?  It is end-of-life.  Use Java 17 LTS or Java 21 LTS.)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1694776618,"post_id":77109592,"comment_id":135939001,"body_markdown":"@StephenC Technically, Java 21 isn’t released for general use yet.  A few more days…","body":"@StephenC Technically, Java 21 isn’t released for general use yet.  A few more days…"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1694777520,"post_id":77109592,"comment_id":135939140,"body_markdown":"OK ... Java 17 LTS ... or Java 21 LTS in a few days time.  (And I&#39;d be inclined to wait until the inevitable first patch release has landed.  Just in case ...)","body":"OK ... Java 17 LTS ... or Java 21 LTS in a few days time.  (And I&#39;d be inclined to wait until the inevitable first patch release has landed.  Just in case ...)"}],"owner":{"account_id":1234535,"reputation":139,"user_id":1198411,"accept_rate":44,"display_name":"user1198411"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695060412,"creation_date":1694751816,"question_id":77109592,"body_markdown":"I&#39;m relatively new to Eclipse. I have a new clean installation of Eclipse on a Mac running Ventura 13.1.\r\n\r\nIn Terminal, java -version yields:\r\n\r\n    java version &quot;1.8.0_381&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_381-b09)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.381-b09, mixed mode)\r\n\r\nIn a simple test program without modules, and using only the default package, I begin with:\r\n\r\n    import java.beans.PropertyChangeListener;\r\n    import java.beans.PropertyChangeEvent;\r\n\r\nThe second of these imports is flagged as unresolvable (the first is accepted).\r\n\r\nIn my project, I see &quot;JRE System Library [JavaSE-18]&quot;. Opening that (clicking the &quot;reveal triangle &gt;&quot;), I see jar file &quot;java.desktop&quot;; opening that, I see package &quot;java.beans&quot;; opening that, I see a long list of classes including &quot;PropertyChangeEvent&quot;.\r\n\r\nHowever, all those classes have a reveal triangle EXCEPT PropertyChangeEvent. That would seem to explain why my import is flagged as unresolvable.\r\n\r\nHow might I resolve this problem?\r\n\r\nUpdates Sept 18, 2023: (1) Copying PropertyChangeEvent.java source code into my project&#39;s source file seemed to solve the issue, and (2) installing jdk-17_macos-x64 from Oracle, which shows Java version &quot;build 20.0.2+9-78&quot;, also seems to work.\r\n\r\nI don&#39;t think I yet understand the numbering schemes where &quot;Java 8&quot;, &quot;jdk-17&quot;, and &quot;build 20.0.2&quot; are the same thing.\r\n","title":"Eclipse JavaSE-18 cannot resolve PropertyChangeListener","body":"<p>I'm relatively new to Eclipse. I have a new clean installation of Eclipse on a Mac running Ventura 13.1.</p>\n<p>In Terminal, java -version yields:</p>\n<pre><code>java version &quot;1.8.0_381&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_381-b09)\nJava HotSpot(TM) 64-Bit Server VM (build 25.381-b09, mixed mode)\n</code></pre>\n<p>In a simple test program without modules, and using only the default package, I begin with:</p>\n<pre><code>import java.beans.PropertyChangeListener;\nimport java.beans.PropertyChangeEvent;\n</code></pre>\n<p>The second of these imports is flagged as unresolvable (the first is accepted).</p>\n<p>In my project, I see &quot;JRE System Library [JavaSE-18]&quot;. Opening that (clicking the &quot;reveal triangle &gt;&quot;), I see jar file &quot;java.desktop&quot;; opening that, I see package &quot;java.beans&quot;; opening that, I see a long list of classes including &quot;PropertyChangeEvent&quot;.</p>\n<p>However, all those classes have a reveal triangle EXCEPT PropertyChangeEvent. That would seem to explain why my import is flagged as unresolvable.</p>\n<p>How might I resolve this problem?</p>\n<p>Updates Sept 18, 2023: (1) Copying PropertyChangeEvent.java source code into my project's source file seemed to solve the issue, and (2) installing jdk-17_macos-x64 from Oracle, which shows Java version &quot;build 20.0.2+9-78&quot;, also seems to work.</p>\n<p>I don't think I yet understand the numbering schemes where &quot;Java 8&quot;, &quot;jdk-17&quot;, and &quot;build 20.0.2&quot; are the same thing.</p>\n"},{"tags":["java",".htaccess","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":1608804,"reputation":700,"user_id":1488327,"accept_rate":100,"display_name":"John"},"score":0,"creation_date":1379243018,"post_id":18811405,"comment_id":27744752,"body_markdown":"to open our remote server database , we have to provide ht access username and password , can you tell me how  to pass that information in the connection string.","body":"to open our remote server database , we have to provide ht access username and password , can you tell me how  to pass that information in the connection string."},{"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"score":0,"creation_date":1379246418,"post_id":18811405,"comment_id":27745493,"body_markdown":"The same you did it while connection to localhost. I also edited my answer to reflect that","body":"The same you did it while connection to localhost. I also edited my answer to reflect that"},{"owner":{"account_id":1608804,"reputation":700,"user_id":1488327,"accept_rate":100,"display_name":"John"},"score":0,"creation_date":1379248731,"post_id":18811405,"comment_id":27746118,"body_markdown":"Thank you for your reply , but what i am talking about is slightly different from what u understood. \n\nI am talking about Htaccess username and password , which is required to  given when we open our remote database and that username and password is different from database username and password.\n\nThrough this\nString dbUrl = &quot;jdbc:mysql://192.168.1.53306/myDB&quot;;\nDriverManager.getConnection(dbUrl, &quot;username&quot;, &quot;password&quot;);\n\nwe can connect to database but before connecting to database we have to clear the ht access, how to do that.","body":"Thank you for your reply , but what i am talking about is slightly different from what u understood.   I am talking about Htaccess username and password , which is required to  given when we open our remote database and that username and password is different from database username and password.  Through this String dbUrl = &quot;jdbc:mysql://192.168.1.53306/myDB&quot;; DriverManager.getConnection(dbUrl, &quot;username&quot;, &quot;password&quot;);  we can connect to database but before connecting to database we have to clear the ht access, how to do that."},{"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"score":0,"creation_date":1379311358,"post_id":18811405,"comment_id":27761803,"body_markdown":"John, your question is not related to webdriver. Search the forum for &quot;htaccess authentication using java&quot;. There is a tag as well for &quot;htaccess&quot; questions.","body":"John, your question is not related to webdriver. Search the forum for &quot;htaccess authentication using java&quot;. There is a tag as well for &quot;htaccess&quot; questions."}],"tags":[],"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379246397,"creation_date":1379241470,"answer_id":18811405,"question_id":18805538,"body_markdown":"You just need to specify machine&#39;s IP address, port and database name in the connection string. So try something like\r\n\r\n    String dbUrl = &quot;jdbc:mysql://192.168.1.53306/myDB&quot;;\r\n    DriverManager.getConnection(dbUrl, &quot;username&quot;, &quot;password&quot;);\r\n\r\nAnd your tests should work the same way as before, you are just connectng to the different machine which can be more time consuming (e.g. queries can take more time) but that&#39;s the only difference.","title":"Connect Remote Database using Selenium Webdriver and run Test Cases from local machine through eclipse","body":"<p>You just need to specify machine's IP address, port and database name in the connection string. So try something like</p>\n\n<pre><code>String dbUrl = \"jdbc:mysql://192.168.1.53306/myDB\";\nDriverManager.getConnection(dbUrl, \"username\", \"password\");\n</code></pre>\n\n<p>And your tests should work the same way as before, you are just connectng to the different machine which can be more time consuming (e.g. queries can take more time) but that's the only difference.</p>\n"},{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379532694,"creation_date":1379532694,"answer_id":18880729,"question_id":18805538,"body_markdown":"You can utilize data driven capability provided by one of the [selenium testing-frameworks][1] - [ISFW][2] where you can specify data base query to provide test data.\r\nFor example:\r\n\r\n    @IsDataProvider(sqlQuery=&quot;select query&quot;)\r\n    @Test\r\n    public void testSomething(Map&lt;String, String&gt; testdata){\r\n      //use query col as key testdata.get(&quot;colName&quot;)\r\n      }\r\n\r\n\r\n  [1]: http://docs.seleniumhq.org/about/platforms.jsp#testing-frameworks\r\n  [2]: http://blog.infostretch.com/isfw-faq","title":"Connect Remote Database using Selenium Webdriver and run Test Cases from local machine through eclipse","body":"<p>You can utilize data driven capability provided by one of the <a href=\"http://docs.seleniumhq.org/about/platforms.jsp#testing-frameworks\" rel=\"nofollow\">selenium testing-frameworks</a> - <a href=\"http://blog.infostretch.com/isfw-faq\" rel=\"nofollow\">ISFW</a> where you can specify data base query to provide test data.\nFor example:</p>\n\n<pre><code>@IsDataProvider(sqlQuery=\"select query\")\n@Test\npublic void testSomething(Map&lt;String, String&gt; testdata){\n  //use query col as key testdata.get(\"colName\")\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4977124,"reputation":11,"user_id":4003136,"display_name":"Deepa Reddy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1412064991,"creation_date":1412061744,"answer_id":26114997,"question_id":18805538,"body_markdown":"You need to add a jar file to connect to the database\r\n\r\n    jar: mysql-connector-java","title":"Connect Remote Database using Selenium Webdriver and run Test Cases from local machine through eclipse","body":"<p>You need to add a jar file to connect to the database</p>\n\n<pre><code>jar: mysql-connector-java\n</code></pre>\n"}],"owner":{"account_id":1608804,"reputation":700,"user_id":1488327,"accept_rate":100,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13495,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1695060305,"creation_date":1379186720,"question_id":18805538,"body_markdown":"I am using **selenium web driver java built**, the editor is **eclipse**. For testing one of our websites I am using Data-driven testing by fetching data from MySQL database.\r\n\r\nI dumped the development server database to my local machine and installed that dumped data in my machine xampp and able to connect to the database and proceed through the testing process.\r\n\r\n\r\nTo connect to my local machine database I am using this connection string \r\n\r\n\r\n    String url1 =&quot;jdbc:mysql://localhost:3306/databasename&quot;;           \r\n    String dbClass = &quot;com.mysql.jdbc.Driver&quot;;\r\n    Class.forName(dbClass).newInstance();\r\n    Connection con = DriverManager.getConnection(url1, &quot;root&quot;, &quot;&quot;);\r\n    Statement stmt = (Statement) con.createStatement();\r\n\r\n\r\nNow I need to connect to our original development server database which is in remote server.\r\n\r\nI have tried  this as connection string to connect remote machine\r\n\r\n     String url1 =&quot;jdbc:mysql://10.0.2.129:3306/test&quot;;\r\n     String dbClass =&quot;com.mysql.jdbc.Driver&quot;;\r\n     Class.forName(dbClass).newInstance();\r\n     Connection con = DriverManager.getConnection(url1, &quot;root&quot;,&quot;root&quot;);\r\n\r\nbut not able to connect to the remote machine database.\r\n\r\nFollowing error is showing:\r\n\r\n    java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n\r\nCan anyone suggest me **what changes are needed to be done in the connection string to connect the remote server database which is ht access protected**? \r\n\r\nAnd how I can run my test cases from my local machine while connecting to the remote server database.\r\n\r\nPlease provide some suggestion.","title":"Connect Remote Database using Selenium Webdriver and run Test Cases from local machine through eclipse","body":"<p>I am using <strong>selenium web driver java built</strong>, the editor is <strong>eclipse</strong>. For testing one of our websites I am using Data-driven testing by fetching data from MySQL database.</p>\n<p>I dumped the development server database to my local machine and installed that dumped data in my machine xampp and able to connect to the database and proceed through the testing process.</p>\n<p>To connect to my local machine database I am using this connection string</p>\n<pre><code>String url1 =&quot;jdbc:mysql://localhost:3306/databasename&quot;;           \nString dbClass = &quot;com.mysql.jdbc.Driver&quot;;\nClass.forName(dbClass).newInstance();\nConnection con = DriverManager.getConnection(url1, &quot;root&quot;, &quot;&quot;);\nStatement stmt = (Statement) con.createStatement();\n</code></pre>\n<p>Now I need to connect to our original development server database which is in remote server.</p>\n<p>I have tried  this as connection string to connect remote machine</p>\n<pre><code> String url1 =&quot;jdbc:mysql://10.0.2.129:3306/test&quot;;\n String dbClass =&quot;com.mysql.jdbc.Driver&quot;;\n Class.forName(dbClass).newInstance();\n Connection con = DriverManager.getConnection(url1, &quot;root&quot;,&quot;root&quot;);\n</code></pre>\n<p>but not able to connect to the remote machine database.</p>\n<p>Following error is showing:</p>\n<pre><code>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n</code></pre>\n<p>Can anyone suggest me <strong>what changes are needed to be done in the connection string to connect the remote server database which is ht access protected</strong>?</p>\n<p>And how I can run my test cases from my local machine while connecting to the remote server database.</p>\n<p>Please provide some suggestion.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":969715,"reputation":70,"user_id":992483,"display_name":"SetSlapShot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318469755,"creation_date":1318469755,"answer_id":7748465,"question_id":7748450,"body_markdown":"? is the wildcard character. You can represent it as ? extends object or something of the sort which has the same effect. From my understanding wildcards are not exactly an art so far in java they need to be somewhat bounded *but dont quote me on that","title":"In java, what does Enumeration&lt;?&gt; mean?","body":"<p>? is the wildcard character. You can represent it as ? extends object or something of the sort which has the same effect. From my understanding wildcards are not exactly an art so far in java they need to be somewhat bounded *but dont quote me on that</p>\n"},{"tags":[],"owner":{"account_id":337,"reputation":88173,"user_id":422,"accept_rate":98,"display_name":"Chris Bunch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318469779,"creation_date":1318469779,"answer_id":7748466,"question_id":7748450,"body_markdown":"The question mark indicates that it stands for all types. Here&#39;s an [example][1]:\r\n\r\n&gt; In addition to concrete instantiation there so-called wildcard\r\n&gt; instantiations .  They do not have concrete types as type arguments,\r\n&gt; but so-called wildcards . A wildcard is a syntactic construct with a &quot;\r\n&gt; ? &quot; that denotes not just one type, but a family of types.  In its\r\n&gt; simplest form a wildcard is just a question mark and stands for &quot;all\r\n&gt; types&quot;. \r\n&gt; \r\n&gt; Example (of a wildcard parameterized type): \r\n&gt; \r\n&gt;     public void printPair( Pair&lt;?,?&gt; pair) {   \r\n&gt;     System.out.println(&quot;(&quot;+pair.getFirst()+&quot;,&quot;+pair.getSecond()+&quot;)&quot;);\r\n&gt;     }\r\n&gt;\r\n&gt;     Pair&lt;?,?&gt; limit = new Pair&lt;String,Long&gt; (&quot;maximum&quot;,1024L); \r\n&gt;     printPair(limit);\r\n\r\n\r\n  [1]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html","title":"In java, what does Enumeration&lt;?&gt; mean?","body":"<p>The question mark indicates that it stands for all types. Here's an <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html\" rel=\"nofollow\">example</a>:</p>\n\n<blockquote>\n  <p>In addition to concrete instantiation there so-called wildcard\n  instantiations .  They do not have concrete types as type arguments,\n  but so-called wildcards . A wildcard is a syntactic construct with a \"\n  ? \" that denotes not just one type, but a family of types.  In its\n  simplest form a wildcard is just a question mark and stands for \"all\n  types\". </p>\n  \n  <p>Example (of a wildcard parameterized type): </p>\n\n<pre><code>public void printPair( Pair&lt;?,?&gt; pair) {   \nSystem.out.println(\"(\"+pair.getFirst()+\",\"+pair.getSecond()+\")\");\n}\n\nPair&lt;?,?&gt; limit = new Pair&lt;String,Long&gt; (\"maximum\",1024L); \nprintPair(limit);\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695060160,"creation_date":1318470824,"answer_id":7748580,"question_id":7748450,"body_markdown":"The `&lt;?&gt;` syntax is java&#39;s way to specifying that the generic type is &quot;unbounded&quot; - ie it can be &quot;anything&quot;.  \r\n\r\n`Enumeration&lt;?&gt;` is an Enumeration with an &quot;unbounded type&quot; - you can assign an Enumeration of any type to such a variable, for example:\r\n\r\n    Vector&lt;String&gt; v = new Vector&lt;String&gt;();\r\n    Enumeration&lt;String&gt; es = v.elements();\r\n    Enumeration&lt;?&gt; e = es; // This assignment compiles OK\r\n\r\nHowever, being unbounded, the nextElement() method of an `Enumeration&lt;?&gt;` with return type `Object` (even if it&#39;s actually an `Enumeration&lt;String&gt;`), so you&#39;ll have to cast if you want typed elements:\r\n\r\n    String s = (String)e.nextElement(); // Unsafe cast - compiler warning\r\n\r\n&lt;br/&gt;\r\nFor background, [Enumeration][1] is a typed interface with two methods [hasMoreElements()][2] and \r\n[nextElement()][3]. It was an early (poor) attempt that was superseded by [Iterable][4] and [Iterator][5]. A few old class use it, like [Vector][6] and [StringTokenizer][7].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Enumeration.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Enumeration.html#hasMoreElements%28%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/Enumeration.html#nextElement%28%29\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/lang/Iterable.html\r\n  [5]: http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html\r\n  [6]: http://download.oracle.com/javase/6/docs/api/java/util/Vector.html\r\n  [7]: http://download.oracle.com/javase/6/docs/api/java/util/StringTokenizer.html","title":"In java, what does Enumeration&lt;?&gt; mean?","body":"<p>The <code>&lt;?&gt;</code> syntax is java's way to specifying that the generic type is &quot;unbounded&quot; - ie it can be &quot;anything&quot;.</p>\n<p><code>Enumeration&lt;?&gt;</code> is an Enumeration with an &quot;unbounded type&quot; - you can assign an Enumeration of any type to such a variable, for example:</p>\n<pre><code>Vector&lt;String&gt; v = new Vector&lt;String&gt;();\nEnumeration&lt;String&gt; es = v.elements();\nEnumeration&lt;?&gt; e = es; // This assignment compiles OK\n</code></pre>\n<p>However, being unbounded, the nextElement() method of an <code>Enumeration&lt;?&gt;</code> with return type <code>Object</code> (even if it's actually an <code>Enumeration&lt;String&gt;</code>), so you'll have to cast if you want typed elements:</p>\n<pre><code>String s = (String)e.nextElement(); // Unsafe cast - compiler warning\n</code></pre>\n<br/>\nFor background, [Enumeration][1] is a typed interface with two methods [hasMoreElements()][2] and \n[nextElement()][3]. It was an early (poor) attempt that was superseded by [Iterable][4] and [Iterator][5]. A few old class use it, like [Vector][6] and [StringTokenizer][7].\n"},{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318470835,"creation_date":1318470835,"answer_id":7748584,"question_id":7748450,"body_markdown":"While it&#39;s tempting to think of the `?` as representing &quot;any&quot; or &quot;all&quot; types, it actually specifies a single, unknown type. If it really were &quot;any&quot;, you&#39;d expect this to work:\r\n\r\n    List&lt;?&gt; l = ...\r\n    l.add(&quot;foo&quot;);\r\n    l.add(new Date())\r\n\r\nBut it doesn&#39;t. That&#39;s because the type isn&#39;t known in this code, so the compiler can&#39;t tell whether you should be allowed to add anything to it.","title":"In java, what does Enumeration&lt;?&gt; mean?","body":"<p>While it's tempting to think of the <code>?</code> as representing \"any\" or \"all\" types, it actually specifies a single, unknown type. If it really were \"any\", you'd expect this to work:</p>\n\n<pre><code>List&lt;?&gt; l = ...\nl.add(\"foo\");\nl.add(new Date())\n</code></pre>\n\n<p>But it doesn't. That's because the type isn't known in this code, so the compiler can't tell whether you should be allowed to add anything to it.</p>\n"}],"owner":{"account_id":362297,"reputation":20622,"user_id":705414,"accept_rate":82,"display_name":"user705414"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5277,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7748580,"answer_count":4,"score":4,"last_activity_date":1695060160,"creation_date":1318469539,"question_id":7748450,"body_markdown":"What&#39;s does `Enumeration&lt;?&gt;` mean?\r\n\r\nIs there any way to represent the general generic?\r\n","title":"In java, what does Enumeration&lt;?&gt; mean?","body":"<p>What's does <code>Enumeration&lt;?&gt;</code> mean?</p>\n\n<p>Is there any way to represent the general generic?</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695059546,"creation_date":1695053353,"answer_id":77128772,"question_id":77128458,"body_markdown":"The &quot;large&quot; message support provided by ActiveMQ Artemis is specific to ActiveMQ Artemis. It is not part of the JMS API.\r\n\r\nThat said, in most circumstances you can use the JMS API to read the `_AMQ_LARGE_SIZE` message property. If such a property exists then the message is considered &quot;large&quot;, e.g.:\r\n```java\r\nboolean isLarge = false;\r\nEnumeration propertyNames = jmsMessage.getPropertyNames();\r\nwhile (propertyNames.hasMoreElements()) {\r\n   if (propertyNames.nextElement().equals(&quot;_AMQ_LARGE_SIZE&quot;)) {\r\n      isLarge = true;\r\n      break;\r\n   }\r\n}\r\n```\r\nIt&#39;s worth noting that one of the goals of &quot;large&quot; message support is that the clients won&#39;t actually know that the message is &quot;large&quot; so that they can work with both normal and &quot;large&quot; messages with no changes.","title":"How do I get LargeMessage in ActiveMQ Artemis queue via JMS?","body":"<p>The &quot;large&quot; message support provided by ActiveMQ Artemis is specific to ActiveMQ Artemis. It is not part of the JMS API.</p>\n<p>That said, in most circumstances you can use the JMS API to read the <code>_AMQ_LARGE_SIZE</code> message property. If such a property exists then the message is considered &quot;large&quot;, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isLarge = false;\nEnumeration propertyNames = jmsMessage.getPropertyNames();\nwhile (propertyNames.hasMoreElements()) {\n   if (propertyNames.nextElement().equals(&quot;_AMQ_LARGE_SIZE&quot;)) {\n      isLarge = true;\n      break;\n   }\n}\n</code></pre>\n<p>It's worth noting that one of the goals of &quot;large&quot; message support is that the clients won't actually know that the message is &quot;large&quot; so that they can work with both normal and &quot;large&quot; messages with no changes.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77128772,"answer_count":1,"score":0,"last_activity_date":1695059546,"creation_date":1695050628,"question_id":77128458,"body_markdown":"I can&#39;t figure out how to get LargeMessage in an Artemis ActiveMQ queue using JMS. I didn&#39;t find any get method in the Message class. There are different methods for getting message ID, lifetime and others, but I didn’t find any for getting LargeMessage \r\n\r\n[![enter image description here](https://i.stack.imgur.com/Gm50y.png)](https://i.stack.imgur.com/Gm50y.png)","title":"How do I get LargeMessage in ActiveMQ Artemis queue via JMS?","body":"<p>I can't figure out how to get LargeMessage in an Artemis ActiveMQ queue using JMS. I didn't find any get method in the Message class. There are different methods for getting message ID, lifetime and others, but I didn’t find any for getting LargeMessage</p>\n<p><a href=\"https://i.stack.imgur.com/Gm50y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gm50y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","debugging","breakpoints"],"comments":[{"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"score":1,"creation_date":1311011917,"post_id":6737105,"comment_id":7983245,"body_markdown":"It looks like some kind of sync problem. I assume you already tried clearing your class cache using Project --&gt; clean and refreshed the project using F5. (sync from file system). If none of these work, then I believe there could be some kind of lock in the file system. Check if there are any other programs accessing the same project and if there are any other locks.","body":"It looks like some kind of sync problem. I assume you already tried clearing your class cache using Project --&gt; clean and refreshed the project using F5. (sync from file system). If none of these work, then I believe there could be some kind of lock in the file system. Check if there are any other programs accessing the same project and if there are any other locks."},{"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"score":0,"creation_date":1311186775,"post_id":6737105,"comment_id":8024699,"body_markdown":"@doc_180, Thanks a lot for your reply. Actually, the problem was with cleaning the project only. I forgot to clean. ;)","body":"@doc_180, Thanks a lot for your reply. Actually, the problem was with cleaning the project only. I forgot to clean. ;)"}],"answers":[{"comments":[{"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"score":0,"creation_date":1311012449,"post_id":6737137,"comment_id":7983389,"body_markdown":"Nivas, thanks a lot. I was only building the workspace and restarting the eclipse. Forgot to clean it. Thanks!","body":"Nivas, thanks a lot. I was only building the workspace and restarting the eclipse. Forgot to clean it. Thanks!"},{"owner":{"account_id":7465996,"reputation":1866,"user_id":5675550,"accept_rate":77,"display_name":"viper"},"score":0,"creation_date":1465972069,"post_id":6737137,"comment_id":63117887,"body_markdown":"I have actually created a spring boot application from spring tool suit and then imported the project in eclipse. The problem is i have deleted the target folder and `clean` `install` it but still older codes are getting executed.","body":"I have actually created a spring boot application from spring tool suit and then imported the project in eclipse. The problem is i have deleted the target folder and <code>clean</code> <code>install</code> it but still older codes are getting executed."},{"owner":{"account_id":13025,"reputation":18196,"user_id":25949,"accept_rate":67,"display_name":"Nivas"},"score":0,"creation_date":1482507770,"post_id":6737137,"comment_id":69810847,"body_markdown":"@AkashAggarwal can you give more details? The answer above is 5 years old, so it helps if you can let us know what &quot;persists&quot;.","body":"@AkashAggarwal can you give more details? The answer above is 5 years old, so it helps if you can let us know what &quot;persists&quot;."},{"owner":{"account_id":6686748,"reputation":2376,"user_id":5157706,"accept_rate":78,"display_name":"Akash Agarwal"},"score":0,"creation_date":1482532262,"post_id":6737137,"comment_id":69820078,"body_markdown":"@Nivas after battling for a day it turns out that the real problem is with Java not updating the class files. Eclipse wasn&#39;t at fault.","body":"@Nivas after battling for a day it turns out that the real problem is with Java not updating the class files. Eclipse wasn&#39;t at fault."}],"tags":[],"owner":{"account_id":13025,"reputation":18196,"user_id":25949,"accept_rate":67,"display_name":"Nivas"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1403730550,"creation_date":1311011716,"answer_id":6737137,"question_id":6737105,"body_markdown":"Have you tried cleaning the project?\r\n\r\n    Project(menu) -&gt; clean\r\n\r\nAlso make sure\r\n\r\n    Project(menu) -&gt; Build Automatically\r\n\r\nis selected so that all new code you write is compiled then and there\r\n\r\nIf the clean and build doesn&#39;t work, it&#39;s possible that there is a jar file contains the class you edited, so the eclipse will run the compiled class file in the jar instead of your current file.","title":"Java Code not properly updating","body":"<p>Have you tried cleaning the project?</p>\n\n<pre><code>Project(menu) -&gt; clean\n</code></pre>\n\n<p>Also make sure</p>\n\n<pre><code>Project(menu) -&gt; Build Automatically\n</code></pre>\n\n<p>is selected so that all new code you write is compiled then and there</p>\n\n<p>If the clean and build doesn't work, it's possible that there is a jar file contains the class you edited, so the eclipse will run the compiled class file in the jar instead of your current file.</p>\n"},{"tags":[],"owner":{"account_id":10604035,"reputation":1,"user_id":7810122,"display_name":"David King"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1491241731,"creation_date":1491241731,"answer_id":43191147,"question_id":6737105,"body_markdown":"I&#39;ve run into this issue lately - new code stops working. I click clean - then it can&#39;t find the main class anymore and the program won&#39;t run at all. \r\n\r\nThe fix I&#39;ve found (works every time) is refactor - rename the project.  This instantly fixes it. Then I just change the name back.  Then after a couple days it happens again and I have to rename it again to fix it. ","title":"Java Code not properly updating","body":"<p>I've run into this issue lately - new code stops working. I click clean - then it can't find the main class anymore and the program won't run at all. </p>\n\n<p>The fix I've found (works every time) is refactor - rename the project.  This instantly fixes it. Then I just change the name back.  Then after a couple days it happens again and I have to rename it again to fix it. </p>\n"},{"tags":[],"owner":{"account_id":11415987,"reputation":21,"user_id":8368785,"display_name":"ammie1018"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501061058,"creation_date":1501059941,"answer_id":45322275,"question_id":6737105,"body_markdown":"There are two possibilities because of which the java code is not updating properly:\r\n\r\n 1. Project -&gt; Build Automatically is not checked\r\n 2. In `.project` file of Project `org.eclipse.jdt.core.javabuilder` build command is commented or missing. Here the below mentioned piece of code should not be commented:\r\n\r\n        &lt;buildCommand&gt;\r\n             &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n             &lt;arguments&gt;&lt;/arguments&gt;\r\n        &lt;/buildCommand&gt;","title":"Java Code not properly updating","body":"<p>There are two possibilities because of which the java code is not updating properly:</p>\n\n<ol>\n<li>Project -> Build Automatically is not checked</li>\n<li><p>In <code>.project</code> file of Project <code>org.eclipse.jdt.core.javabuilder</code> build command is commented or missing. Here the below mentioned piece of code should not be commented:</p>\n\n<pre><code>&lt;buildCommand&gt;\n     &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n     &lt;arguments&gt;&lt;/arguments&gt;\n&lt;/buildCommand&gt;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19078881,"reputation":19,"user_id":13931576,"display_name":"Debra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597255736,"creation_date":1597255736,"answer_id":63382426,"question_id":6737105,"body_markdown":"I had the same issue. I cleared out some code in Eclipse that printed to the console but these changes weren&#39;t reflected when I ran the code from command line.  I am creating and executing a jar file from my code.  Turns out I forgot to recompile after I made changes.  So the following resolved the issues:\r\n\r\n    javac packageName/*.java\r\n\r\nNow when I create my jar file, it will reflect the changes.","title":"Java Code not properly updating","body":"<p>I had the same issue. I cleared out some code in Eclipse that printed to the console but these changes weren't reflected when I ran the code from command line.  I am creating and executing a jar file from my code.  Turns out I forgot to recompile after I made changes.  So the following resolved the issues:</p>\n<pre><code>javac packageName/*.java\n</code></pre>\n<p>Now when I create my jar file, it will reflect the changes.</p>\n"},{"tags":[],"owner":{"account_id":1804485,"reputation":86,"user_id":1641926,"display_name":"Nick Andriopoulos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695059427,"creation_date":1695059427,"answer_id":77129391,"question_id":6737105,"body_markdown":"on my case\r\ngo to project properties -&gt; java build path -&gt; libraries\r\n\r\nfixed whatever it cannot find (those with the red x icon)","title":"Java Code not properly updating","body":"<p>on my case\ngo to project properties -&gt; java build path -&gt; libraries</p>\n<p>fixed whatever it cannot find (those with the red x icon)</p>\n"}],"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17948,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":6737137,"answer_count":5,"score":6,"last_activity_date":1695059427,"creation_date":1311011557,"question_id":6737105,"body_markdown":"This may seem a weird Q.\r\n \r\nI had written a code in Java (in Eclipse). Then, I did some modifications to the code. Now, I am trying to run the new code (modified), but it is still giving me the output which it was giving for the previous code. \r\n \r\nI have put few debug points in the code, but it is skipping some of the debug points (though it should stop at them) and stopping at some debug point, but even here it is calling the methods which were present in previous code at that location (though I have commented them now). It seems from somewhere it is still debugging the old code.\r\n \r\nHow to get rid of it?\r\n \r\nThanks!","title":"Java Code not properly updating","body":"<p>This may seem a weird Q.</p>\n\n<p>I had written a code in Java (in Eclipse). Then, I did some modifications to the code. Now, I am trying to run the new code (modified), but it is still giving me the output which it was giving for the previous code. </p>\n\n<p>I have put few debug points in the code, but it is skipping some of the debug points (though it should stop at them) and stopping at some debug point, but even here it is calling the methods which were present in previous code at that location (though I have commented them now). It seems from somewhere it is still debugging the old code.</p>\n\n<p>How to get rid of it?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","pattern-matching","instanceof","java-17"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1674557984,"post_id":75220488,"comment_id":132734630,"body_markdown":"No. This new pattern cannot be used with unsafe casts. The error message is fairly clear about this too, no? The mindset of team OpenJDK is to not add features unless SURE that it&#39;s a good idea, because it&#39;s much easier to add something later, than to break code by removing functionality later. This is a corner case that leaves you feeling a bit queasy so, for now, it&#39;s not allowed. (My guess is, it&#39;ll never be).","body":"No. This new pattern cannot be used with unsafe casts. The error message is fairly clear about this too, no? The mindset of team OpenJDK is to not add features unless SURE that it&#39;s a good idea, because it&#39;s much easier to add something later, than to break code by removing functionality later. This is a corner case that leaves you feeling a bit queasy so, for now, it&#39;s not allowed. (My guess is, it&#39;ll never be)."},{"owner":{"account_id":3425402,"reputation":696,"user_id":2871290,"display_name":"johnmerm"},"score":0,"creation_date":1674564299,"post_id":75220488,"comment_id":132736517,"body_markdown":"The error is clear, the rationale behind it is not so much: You cannot check if an object is of a generic type (instanceof List&lt;String&gt; will anyway say `&#39;Object&#39; cannot be safely cast to &#39;List&lt;String&gt;&#39;` but then again you are never sure that a List&lt;String&gt; actually contains Strings.\n\nAs stated, it is a corner case, but it cuts the usefulness of the feature in half","body":"The error is clear, the rationale behind it is not so much: You cannot check if an object is of a generic type (instanceof List&lt;String&gt; will anyway say <code>&#39;Object&#39; cannot be safely cast to &#39;List&lt;String&gt;&#39;</code> but then again you are never sure that a List&lt;String&gt; actually contains Strings.  As stated, it is a corner case, but it cuts the usefulness of the feature in half"},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1674584351,"post_id":75220488,"comment_id":132743791,"body_markdown":"@johnmerm Let me turn this around: what reason did you have to expect that somehow, just because we added a new feature that extends the range of dynamic checking, that a fundamental aspect of how Java generics works (erasure) is somehow magically suspended?  It seems that you mostly fell into a pit of wishful thinking, which is fine, but at least in hindsight, it should be clear that this was wishful thinking, not somehow a &quot;flaw&quot; in pattern matching that requires an explanation.  The explanation is &quot;this is how generics have always worked, and that hasn&#39;t changed.&quot;","body":"@johnmerm Let me turn this around: what reason did you have to expect that somehow, just because we added a new feature that extends the range of dynamic checking, that a fundamental aspect of how Java generics works (erasure) is somehow magically suspended?  It seems that you mostly fell into a pit of wishful thinking, which is fine, but at least in hindsight, it should be clear that this was wishful thinking, not somehow a &quot;flaw&quot; in pattern matching that requires an explanation.  The explanation is &quot;this is how generics have always worked, and that hasn&#39;t changed.&quot;"},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1674584481,"post_id":75220488,"comment_id":132743827,"body_markdown":"An `instanceof` check should be thought of as the precondition for safe casting; if `instanceof` says yes, then a cast to the same type is safe (and useful as a value of that type, which excludes null).  If we can&#39;t possibly conclude that the cast is safe, we don&#39;t let you ask the question, because the answer would not be useful.  (You also can&#39;t ask whether a `String` is `instanceof Integer`; the language knows that this isn&#39;t a sensible question.)","body":"An <code>instanceof</code> check should be thought of as the precondition for safe casting; if <code>instanceof</code> says yes, then a cast to the same type is safe (and useful as a value of that type, which excludes null).  If we can&#39;t possibly conclude that the cast is safe, we don&#39;t let you ask the question, because the answer would not be useful.  (You also can&#39;t ask whether a <code>String</code> is <code>instanceof Integer</code>; the language knows that this isn&#39;t a sensible question.)"},{"owner":{"account_id":3425402,"reputation":696,"user_id":2871290,"display_name":"johnmerm"},"score":0,"creation_date":1677669286,"post_id":75220488,"comment_id":133382134,"body_markdown":"@BrianGoetz By now, any Java developer should know that there are no runtime guaranties that an `int` won&#39;t end up in a `List&lt;String&gt;` so `instanceof  List&lt;String&gt;` cannot  provide any guarantee and is thus prohibited.\nI&#39;m just pointing that since the whole feature is syntactic sugar, in this case, which is not uncommon in the real world, the feature cannot be used\nAnd yes, I&#39;m thinking wishfully, I&#39;m proposing a new feature for a new version, alas in the wrong forum","body":"@BrianGoetz By now, any Java developer should know that there are no runtime guaranties that an <code>int</code> won&#39;t end up in a <code>List&lt;String&gt;</code> so <code>instanceof  List&lt;String&gt;</code> cannot  provide any guarantee and is thus prohibited. I&#39;m just pointing that since the whole feature is syntactic sugar, in this case, which is not uncommon in the real world, the feature cannot be used And yes, I&#39;m thinking wishfully, I&#39;m proposing a new feature for a new version, alas in the wrong forum"}],"answers":[{"comments":[{"owner":{"account_id":3425402,"reputation":696,"user_id":2871290,"display_name":"johnmerm"},"score":0,"creation_date":1677671693,"post_id":75222840,"comment_id":133382762,"body_markdown":"The question was about if there is a way to use instanceof cast with generics. Obviously there isn&#39;t (perhaps a compile extension would help) and as I understand from the comments, there won&#39;t be.\nRegarding your proposal: \n* Approach 1 would not work for List of more than one items, \n* Approach 2 still requires first to instanceof and then cast and \n* approach 3 won&#39;t work with any deserializer (which would eagerly turn anything to List&lt;?&gt; unless instructed otherwise","body":"The question was about if there is a way to use instanceof cast with generics. Obviously there isn&#39;t (perhaps a compile extension would help) and as I understand from the comments, there won&#39;t be. Regarding your proposal:  * Approach 1 would not work for List of more than one items,  * Approach 2 still requires first to instanceof and then cast and  * approach 3 won&#39;t work with any deserializer (which would eagerly turn anything to List&lt;?&gt; unless instructed otherwise"}],"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674569983,"creation_date":1674569983,"answer_id":75222840,"question_id":75220488,"body_markdown":"instanceof is runtime type checking but generics uses type erasure at compile time. \r\nThat&#39;s why instanceof is not allowed to use for &lt; T &gt; but allowed to use for the raw type List. \r\nYou may check out this tutorial about generics cannot use instanceof: https://www.tutorialspoint.com/java_generics/java_generics_no_instanceof.htm\r\n\r\nAlternatively, there are some solutions I can think of.\r\n\r\nApproach 1: Check the type of the first list item.\r\n\t\r\n\tif (inner instanceof List &amp;&amp; !((List) inner).isEmpty() &amp;&amp; ((List) inner).get(0) instanceof Map) {\r\n\t\t// You may continue to check map key and value if necessary.\r\n\t} else if (inner instanceof Map) {\r\n\t\t// You may continue to check map key and value if necessary.\r\n\t} else {\r\n\t\tthrow new IllegalArgumentException(&quot;List or Map only&quot;);\r\n\t}\r\n\r\nApproach 2: Use type casting in try catch block. \r\n\r\n\ttry {\r\n\t\tMap&lt;String, String&gt; map = (Map&lt;String, String&gt;) inner;\r\n\t\tMap.Entry&lt;String, String&gt; entry = map.entrySet().iterator().next();\r\n\t\tString key = entry.getKey();\r\n\t\tString value = entry.getValue();\r\n\t\tSystem.out.println(key + &quot; &quot; + value);\r\n\t} catch (ClassCastException e) {\r\n\t\tSystem.out.println(&quot;Object is not Map&lt;String, String&gt;&quot;);\r\n\t}\r\n\r\nYou can use Approach 2 with Approach 1 to continue to check after instanceof Map.\r\n\r\nApproach 3: Use a wrapper class for instanceof.\r\n\r\n\tclass ListWrapper extends ArrayList&lt;Map&lt;String, String&gt;&gt; { \r\n\t\t//...\r\n\t}\r\n\r\nThis way takes you more efforts to implement CRUD operations.","title":"Java (14 and above) instanceof cast to generics (e.g. List&lt;String&gt; )","body":"<p>instanceof is runtime type checking but generics uses type erasure at compile time.\nThat's why instanceof is not allowed to use for &lt; T &gt; but allowed to use for the raw type List.\nYou may check out this tutorial about generics cannot use instanceof: <a href=\"https://www.tutorialspoint.com/java_generics/java_generics_no_instanceof.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java_generics/java_generics_no_instanceof.htm</a></p>\n<p>Alternatively, there are some solutions I can think of.</p>\n<p>Approach 1: Check the type of the first list item.</p>\n<pre><code>if (inner instanceof List &amp;&amp; !((List) inner).isEmpty() &amp;&amp; ((List) inner).get(0) instanceof Map) {\n    // You may continue to check map key and value if necessary.\n} else if (inner instanceof Map) {\n    // You may continue to check map key and value if necessary.\n} else {\n    throw new IllegalArgumentException(&quot;List or Map only&quot;);\n}\n</code></pre>\n<p>Approach 2: Use type casting in try catch block.</p>\n<pre><code>try {\n    Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) inner;\n    Map.Entry&lt;String, String&gt; entry = map.entrySet().iterator().next();\n    String key = entry.getKey();\n    String value = entry.getValue();\n    System.out.println(key + &quot; &quot; + value);\n} catch (ClassCastException e) {\n    System.out.println(&quot;Object is not Map&lt;String, String&gt;&quot;);\n}\n</code></pre>\n<p>You can use Approach 2 with Approach 1 to continue to check after instanceof Map.</p>\n<p>Approach 3: Use a wrapper class for instanceof.</p>\n<pre><code>class ListWrapper extends ArrayList&lt;Map&lt;String, String&gt;&gt; { \n    //...\n}\n</code></pre>\n<p>This way takes you more efforts to implement CRUD operations.</p>\n"}],"owner":{"account_id":3425402,"reputation":696,"user_id":2871290,"display_name":"johnmerm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1718,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695058794,"creation_date":1674557736,"question_id":75220488,"body_markdown":"I&#39;m deserializing JSON payloads using Jackson. I have some fields that can be either Objects or Arrays of Objects. So In my Java code I&#39;m declaring\r\n\r\n    class Outer{\r\n        private Object inner;\r\n    }\r\n\r\nI know that inner can be either `Map&lt;String,String&gt;` or `List&lt;Map&lt;String,String&gt;&gt;`\r\n\r\nsince I need to do some work with this inner object I have to reside to if - instance of\r\n\r\n    if (inner instanceof List){\r\n        List&lt;Map&lt;String,String&gt;&gt; innerAsList = (List&lt;Map&lt;String,String&gt;&gt;)inner;\r\n        ...\r\n    }else if (inner instanceof Map){\r\n        Map&lt;String,String&gt; innerAsMap = (Map&lt;String,String&gt;)inner;\r\n        ...\r\n    }else{\r\n        throw new IllegalArgumentException(&quot;List or Map only&quot;);\r\n    }\r\n\r\nNow trying to use the &quot;new&quot; pattern matching for `instanceof` fails to compile (I&#39;m using JDK 17 with previews enabled)\r\n\r\n    if (inner instanceof List&lt;Map&lt;String,String&gt;&gt; innerAsList){\r\n        ...\r\n    }else if (inner instanceof Map&lt;String,String&gt; innerAsMap){\r\n        ...\r\n    }else{\r\n        throw new IllegalArgumentException(&quot;List or Map only&quot;);\r\n    }\r\n\r\nfails to compile \r\n\r\n&gt; `&#39;Object&#39; cannot be safely cast to &#39;List&lt;String&gt;&#39;`\r\n\r\n\r\n\r\nUsing wildcard cast compiles \r\n\r\n    if (inner instanceof List&lt;?&gt; innerAsList){\r\n       ...\r\n    }else if (inner instanceof Map&lt;?,?&gt; innerAsMap){\r\n      ...\r\n    }else{\r\n       throw new IllegalArgumentException(&quot;List or Map only&quot;);\r\n    }\r\n\r\nbut I then I still need to cast to the correct generic.\r\n\r\nIs this solvable somehow? Is it missing functionality?If so are there plans to have it in a future release?\r\n","title":"Java (14 and above) instanceof cast to generics (e.g. List&lt;String&gt; )","body":"<p>I'm deserializing JSON payloads using Jackson. I have some fields that can be either Objects or Arrays of Objects. So In my Java code I'm declaring</p>\n<pre><code>class Outer{\n    private Object inner;\n}\n</code></pre>\n<p>I know that inner can be either <code>Map&lt;String,String&gt;</code> or <code>List&lt;Map&lt;String,String&gt;&gt;</code></p>\n<p>since I need to do some work with this inner object I have to reside to if - instance of</p>\n<pre><code>if (inner instanceof List){\n    List&lt;Map&lt;String,String&gt;&gt; innerAsList = (List&lt;Map&lt;String,String&gt;&gt;)inner;\n    ...\n}else if (inner instanceof Map){\n    Map&lt;String,String&gt; innerAsMap = (Map&lt;String,String&gt;)inner;\n    ...\n}else{\n    throw new IllegalArgumentException(&quot;List or Map only&quot;);\n}\n</code></pre>\n<p>Now trying to use the &quot;new&quot; pattern matching for <code>instanceof</code> fails to compile (I'm using JDK 17 with previews enabled)</p>\n<pre><code>if (inner instanceof List&lt;Map&lt;String,String&gt;&gt; innerAsList){\n    ...\n}else if (inner instanceof Map&lt;String,String&gt; innerAsMap){\n    ...\n}else{\n    throw new IllegalArgumentException(&quot;List or Map only&quot;);\n}\n</code></pre>\n<p>fails to compile</p>\n<blockquote>\n<p><code>'Object' cannot be safely cast to 'List&lt;String&gt;'</code></p>\n</blockquote>\n<p>Using wildcard cast compiles</p>\n<pre><code>if (inner instanceof List&lt;?&gt; innerAsList){\n   ...\n}else if (inner instanceof Map&lt;?,?&gt; innerAsMap){\n  ...\n}else{\n   throw new IllegalArgumentException(&quot;List or Map only&quot;);\n}\n</code></pre>\n<p>but I then I still need to cast to the correct generic.</p>\n<p>Is this solvable somehow? Is it missing functionality?If so are there plans to have it in a future release?</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695058440,"post_id":77129183,"comment_id":135970547,"body_markdown":"Don&#39;t. Just use MySQL, there is no need to use the embedded version if you are using Testcontainers. So just use the regular MySQL container from Testcontainers and totally ditch Embedded MySQL.","body":"Don&#39;t. Just use MySQL, there is no need to use the embedded version if you are using Testcontainers. So just use the regular MySQL container from Testcontainers and totally ditch Embedded MySQL."},{"owner":{"account_id":29397805,"reputation":63,"user_id":22524769,"display_name":"Shubham Shekhar"},"score":0,"creation_date":1695059618,"post_id":77129183,"comment_id":135970785,"body_markdown":"Do you have any good link that can help me do that and run MySQL container?","body":"Do you have any good link that can help me do that and run MySQL container?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695062094,"post_id":77129183,"comment_id":135971192,"body_markdown":"A good article from [atomicJar](https://www.atomicjar.com/2023/05/spring-boot-3-1-0-testcontainers-for-testing-and-local-development/) about  how to do it.","body":"A good article from <a href=\"https://www.atomicjar.com/2023/05/spring-boot-3-1-0-testcontainers-for-testing-and-local-development/\" rel=\"nofollow noreferrer\">atomicJar</a> about  how to do it."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695101767,"post_id":77129183,"comment_id":135975305,"body_markdown":"Well [the documentation](https://testcontainers.com/modules/mysql/) itself to start. And depending on which Spring Boot version you can leverage the Spring Boot Testcontainers support.","body":"Well <a href=\"https://testcontainers.com/modules/mysql/\" rel=\"nofollow noreferrer\">the documentation</a> itself to start. And depending on which Spring Boot version you can leverage the Spring Boot Testcontainers support."}],"owner":{"account_id":29397805,"reputation":63,"user_id":22524769,"display_name":"Shubham Shekhar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695057873,"creation_date":1695057481,"question_id":77129183,"body_markdown":"I was using embedded mysql in my JUnit&#39;s following https://github.com/wix-incubator/wix-embedded-mysql.\r\nbut now they have removed support for latest mysql versions. So I wanted to shift to Test Containers as they have suggested, but I don&#39;t know how can I use it?\r\nI am using EmbeddedMysqlConfig.class on the same basis as suggeted in the github site.My earlier config looked like :-\r\n \r\n\r\n    @Configuration\r\n     @Profile({&quot;mysql&quot;})\r\n     @ConditionalOnProperty(prefix = &quot;spring&quot;, name = \r\n    &quot;datasource.jdbcUrl&quot;)\r\n     public class EmbeddedMySqlDbConfig {\r\n    \r\n      protected static Logger logger = \r\n     LoggerFactory.getLogger(EmbeddedMySqlDbConfig.class);\r\n    \r\n      @Bean(name = &quot;downloadConfig&quot;)\r\n      DownloadConfig downloadConfig() {\r\n        String downloadPath = &quot;/app/mysql&quot;;\r\n        logger.info(&quot;Embedded MySQL download path is {}&quot;, downloadPath);\r\n        DownloadConfig config = \r\n     aDownloadConfig().withCacheDir(downloadPath).build();\r\n        return config;\r\n     }\r\n    \r\n     @Bean(name = &quot;mysqldConfig&quot;)\r\n     MysqldConfig mysqldConfig(@Value(&quot;${spring.datasource.username}&quot;) \r\n    String \r\n     dbUsername,\r\n            @Value(&quot;${spring.datasource.password}&quot;) String dbPassword, \r\n     @Value(&quot;${mysql.port}&quot;) int port) {\r\n        MysqldConfig config = \r\n    aMysqldConfig(v5_7_latest).withPort(port).withUser(dbUsername, \r\n    dbPassword).build();\r\n        return config;\r\n     }\r\n    \r\n      private void addSchema(String databaseName, Builder builder) {\r\n        SchemaConfig schema = aSchemaConfig(databaseName).build();\r\n        builder.addSchema(schema);\r\n      }\r\n    \r\n     @Bean(name = &quot;embeddedMysql&quot;)\r\n      EmbeddedMysql embeddedMysql(@Qualifier(&quot;downloadConfig&quot;) \r\n    DownloadConfig \r\n     downloadConfig,\r\n            @Qualifier(&quot;mysqldConfig&quot;) MysqldConfig config, \r\n     @Value(&quot;${mysql.databaseName}&quot;) String databaseName,\r\n            @Value(&quot;${mysql.databaseName1}&quot;) String databaseName1) {\r\n         try {\r\n            Builder builder = new Builder(config, downloadConfig);\r\n            for (int i = 0; i &lt; 2; i++) {\r\n                String name = databaseName;\r\n                if (i == 1) {\r\n                    name = null;\r\n                    if (databaseName1 != null &amp;&amp; \r\n      databaseName1.trim().length() &gt; 0) {\r\n                        name = databaseName1;\r\n                    }\r\n                }\r\n                if (name != null) {\r\n                    addSchema(name, builder);\r\n                }\r\n             }\r\n            EmbeddedMysql mysql = builder.start();\r\n            logger.info(&quot;embedded mysql started&quot;);\r\n            return mysql;\r\n         } catch (Exception e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n            throw e;\r\n         }\r\n     }\r\n    \r\n     @Bean(name = &quot;dataSource&quot;)\r\n     @DependsOn(&quot;embeddedMysql&quot;)\r\n     public DataSource dataSource(@Value(&quot;${spring.datasource.username}&quot;) \r\n     String dbUsername,\r\n            @Value(&quot;${spring.datasource.password}&quot;) String dbPassword,\r\n            @Value(&quot;${spring.datasource.jdbcUrl}&quot;) String url,\r\n            @Value(&quot;${spring.datasource.driver-class-name}&quot;) String \r\n     driverClassName) {\r\n    \r\n        DataSourceBuilder&lt;?&gt; dataSourceBuilder = \r\n     DataSourceBuilder.create();\r\n        dataSourceBuilder.driverClassName(driverClassName);\r\n        dataSourceBuilder.url(url);\r\n        dataSourceBuilder.username(dbUsername);\r\n        dataSourceBuilder.password(dbPassword);\r\n        return dataSourceBuilder.build();\r\n     }\r\n    \r\n     @Bean(name = &quot;requestDataSource&quot;)\r\n     @ConditionalOnProperty(prefix = &quot;request&quot;, name = \r\n    &quot;datasource.jdbcUrl&quot;)\r\n     @DependsOn(&quot;dataSource&quot;)\r\n     public DataSource \r\n     requestDataSource(@Value(&quot;${request.datasource.username}&quot;) String \r\n     dbUsername,\r\n            @Value(&quot;${spring.datasource.password}&quot;) String dbPassword,\r\n            @Value(&quot;${request.datasource.jdbcUrl}&quot;) String url,\r\n            @Value(&quot;${spring.datasource.driver-class-name}&quot;) String \r\n    driverClassName) {\r\n        DataSourceBuilder&lt;?&gt; dataSourceBuilder = \r\n    DataSourceBuilder.create();\r\n        dataSourceBuilder.driverClassName(driverClassName);\r\n        dataSourceBuilder.url(url);\r\n        dataSourceBuilder.username(dbUsername);\r\n        dataSourceBuilder.password(dbPassword);\r\n        return dataSourceBuilder.build();\r\n        }\r\n    }\r\n\r\nPlease let me know how we can replace with TestContainers.","title":"How to use TestContainers to run embeddedmysql for junit?","body":"<p>I was using embedded mysql in my JUnit's following <a href=\"https://github.com/wix-incubator/wix-embedded-mysql\" rel=\"nofollow noreferrer\">https://github.com/wix-incubator/wix-embedded-mysql</a>.\nbut now they have removed support for latest mysql versions. So I wanted to shift to Test Containers as they have suggested, but I don't know how can I use it?\nI am using EmbeddedMysqlConfig.class on the same basis as suggeted in the github site.My earlier config looked like :-</p>\n<pre><code>@Configuration\n @Profile({&quot;mysql&quot;})\n @ConditionalOnProperty(prefix = &quot;spring&quot;, name = \n&quot;datasource.jdbcUrl&quot;)\n public class EmbeddedMySqlDbConfig {\n\n  protected static Logger logger = \n LoggerFactory.getLogger(EmbeddedMySqlDbConfig.class);\n\n  @Bean(name = &quot;downloadConfig&quot;)\n  DownloadConfig downloadConfig() {\n    String downloadPath = &quot;/app/mysql&quot;;\n    logger.info(&quot;Embedded MySQL download path is {}&quot;, downloadPath);\n    DownloadConfig config = \n aDownloadConfig().withCacheDir(downloadPath).build();\n    return config;\n }\n\n @Bean(name = &quot;mysqldConfig&quot;)\n MysqldConfig mysqldConfig(@Value(&quot;${spring.datasource.username}&quot;) \nString \n dbUsername,\n        @Value(&quot;${spring.datasource.password}&quot;) String dbPassword, \n @Value(&quot;${mysql.port}&quot;) int port) {\n    MysqldConfig config = \naMysqldConfig(v5_7_latest).withPort(port).withUser(dbUsername, \ndbPassword).build();\n    return config;\n }\n\n  private void addSchema(String databaseName, Builder builder) {\n    SchemaConfig schema = aSchemaConfig(databaseName).build();\n    builder.addSchema(schema);\n  }\n\n @Bean(name = &quot;embeddedMysql&quot;)\n  EmbeddedMysql embeddedMysql(@Qualifier(&quot;downloadConfig&quot;) \nDownloadConfig \n downloadConfig,\n        @Qualifier(&quot;mysqldConfig&quot;) MysqldConfig config, \n @Value(&quot;${mysql.databaseName}&quot;) String databaseName,\n        @Value(&quot;${mysql.databaseName1}&quot;) String databaseName1) {\n     try {\n        Builder builder = new Builder(config, downloadConfig);\n        for (int i = 0; i &lt; 2; i++) {\n            String name = databaseName;\n            if (i == 1) {\n                name = null;\n                if (databaseName1 != null &amp;&amp; \n  databaseName1.trim().length() &gt; 0) {\n                    name = databaseName1;\n                }\n            }\n            if (name != null) {\n                addSchema(name, builder);\n            }\n         }\n        EmbeddedMysql mysql = builder.start();\n        logger.info(&quot;embedded mysql started&quot;);\n        return mysql;\n     } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        throw e;\n     }\n }\n\n @Bean(name = &quot;dataSource&quot;)\n @DependsOn(&quot;embeddedMysql&quot;)\n public DataSource dataSource(@Value(&quot;${spring.datasource.username}&quot;) \n String dbUsername,\n        @Value(&quot;${spring.datasource.password}&quot;) String dbPassword,\n        @Value(&quot;${spring.datasource.jdbcUrl}&quot;) String url,\n        @Value(&quot;${spring.datasource.driver-class-name}&quot;) String \n driverClassName) {\n\n    DataSourceBuilder&lt;?&gt; dataSourceBuilder = \n DataSourceBuilder.create();\n    dataSourceBuilder.driverClassName(driverClassName);\n    dataSourceBuilder.url(url);\n    dataSourceBuilder.username(dbUsername);\n    dataSourceBuilder.password(dbPassword);\n    return dataSourceBuilder.build();\n }\n\n @Bean(name = &quot;requestDataSource&quot;)\n @ConditionalOnProperty(prefix = &quot;request&quot;, name = \n&quot;datasource.jdbcUrl&quot;)\n @DependsOn(&quot;dataSource&quot;)\n public DataSource \n requestDataSource(@Value(&quot;${request.datasource.username}&quot;) String \n dbUsername,\n        @Value(&quot;${spring.datasource.password}&quot;) String dbPassword,\n        @Value(&quot;${request.datasource.jdbcUrl}&quot;) String url,\n        @Value(&quot;${spring.datasource.driver-class-name}&quot;) String \ndriverClassName) {\n    DataSourceBuilder&lt;?&gt; dataSourceBuilder = \nDataSourceBuilder.create();\n    dataSourceBuilder.driverClassName(driverClassName);\n    dataSourceBuilder.url(url);\n    dataSourceBuilder.username(dbUsername);\n    dataSourceBuilder.password(dbPassword);\n    return dataSourceBuilder.build();\n    }\n}\n</code></pre>\n<p>Please let me know how we can replace with TestContainers.</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1694873448,"post_id":77118102,"comment_id":135950141,"body_markdown":"Please show the code where you call `setContent()` with this XML layout. Are you using an `AppBar`? If not, you should, and in fact, you will probably find you don&#39;t need the `ImageView` at all if you do this correctly.","body":"Please show the code where you call <code>setContent()</code> with this XML layout. Are you using an <code>AppBar</code>? If not, you should, and in fact, you will probably find you don&#39;t need the <code>ImageView</code> at all if you do this correctly."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1694873572,"post_id":77118102,"comment_id":135950156,"body_markdown":"Also, what part of the screenshot is the `ImageView`? Is it the whole top bar? Or is it just a solid background color? Is any of the text part of the `ImageView`?","body":"Also, what part of the screenshot is the <code>ImageView</code>? Is it the whole top bar? Or is it just a solid background color? Is any of the text part of the <code>ImageView</code>?"}],"answers":[{"comments":[{"owner":{"account_id":17119275,"reputation":15,"user_id":12387939,"display_name":"C James"},"score":0,"creation_date":1694944348,"post_id":77119750,"comment_id":135955697,"body_markdown":"ahh good suggestion, but didn&#39;t work :(","body":"ahh good suggestion, but didn&#39;t work :("},{"owner":{"account_id":29243444,"reputation":142,"user_id":22404427,"display_name":"Tayfun YILDIRIM"},"score":0,"creation_date":1694945392,"post_id":77119750,"comment_id":135955798,"body_markdown":"Your imageview bottom constrained with guideline. If it is not mandatory to use guideline you could delete bottom constraint and just keep top constrait of imageview. And set imageview height with something like &quot;app:layout_constraintHeight_percent=&quot;0.2&quot;&quot; instead of &quot;android:layout_height&quot; attribute. This way height better compatible with different multiple screen sizes. This could solve the problem.","body":"Your imageview bottom constrained with guideline. If it is not mandatory to use guideline you could delete bottom constraint and just keep top constrait of imageview. And set imageview height with something like &quot;app:layout_constraintHeight_percent=&quot;0.2&quot;&quot; instead of &quot;android:layout_height&quot; attribute. This way height better compatible with different multiple screen sizes. This could solve the problem."},{"owner":{"account_id":17119275,"reputation":15,"user_id":12387939,"display_name":"C James"},"score":0,"creation_date":1694949947,"post_id":77119750,"comment_id":135956195,"body_markdown":"ahh this fixed it!! Thank you :)","body":"ahh this fixed it!! Thank you :)"},{"owner":{"account_id":29243444,"reputation":142,"user_id":22404427,"display_name":"Tayfun YILDIRIM"},"score":0,"creation_date":1694950542,"post_id":77119750,"comment_id":135956235,"body_markdown":"You are welcome. Could you accept my answer then?","body":"You are welcome. Could you accept my answer then?"}],"tags":[],"owner":{"account_id":29243444,"reputation":142,"user_id":22404427,"display_name":"Tayfun YILDIRIM"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695057299,"creation_date":1694901397,"answer_id":77119750,"question_id":77118102,"body_markdown":"\r\n\r\nIt seems that no margin is set for the imageview. Defining margin attribute like below would help:\r\n\r\n    android:layout_marginTop=&quot;0dp&quot;\r\n\r\n**UPDATE**\r\n\r\nYour imageview bottom constrained with guideline. If it is not mandatory to use guideline you could delete bottom constraint and just keep top constrait of imageview. And set imageview height with something like &quot;app:layout_constraintHeight_percent=&quot;0.2&quot;&quot; instead of using &quot;android:layout_height&quot; attribute. This way height better compatible with different screen sizes. This could solve the problem. So your imageview attributes should look like this:\r\n    \r\n    &lt;ImageView\r\n        android:id=&quot;@+id/pagebanner&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintHeight_percent=&quot;0.2&quot;\r\n        android:layout_marginTop=&quot;0dp&quot;\r\n        android:background=&quot;@drawable/bannerborder&quot;\r\n        android:contentDescription=&quot;@string/page_banner&quot;        \r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n","title":"How to remove additional space between ImageView and edge of screen/parent in Android Studio?","body":"<p>It seems that no margin is set for the imageview. Defining margin attribute like below would help:</p>\n<pre><code>android:layout_marginTop=&quot;0dp&quot;\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Your imageview bottom constrained with guideline. If it is not mandatory to use guideline you could delete bottom constraint and just keep top constrait of imageview. And set imageview height with something like &quot;app:layout_constraintHeight_percent=&quot;0.2&quot;&quot; instead of using &quot;android:layout_height&quot; attribute. This way height better compatible with different screen sizes. This could solve the problem. So your imageview attributes should look like this:</p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/pagebanner&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintHeight_percent=&quot;0.2&quot;\n    android:layout_marginTop=&quot;0dp&quot;\n    android:background=&quot;@drawable/bannerborder&quot;\n    android:contentDescription=&quot;@string/page_banner&quot;        \n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16841916,"reputation":66,"user_id":12177115,"display_name":"BeNYaMiN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694929390,"creation_date":1694929390,"answer_id":77120612,"question_id":77118102,"body_markdown":"As we don&#39;t have any information on how your layout is, The problem could be the height of `bannerborder` you are using in ImageView.\r\nWhen you set a height to an ImageView, It tries to fit the image vertically, So there will be a space on top and bottom.\r\nTry using `android:scaleType=&quot;centerCrop&quot;` and see if it helps, Or use `wrap_content` as height.\r\n\r\nIf your `bannerborder` is a just background, You can use `AppBarLayout` to achieve that.\r\n\r\nIf none of this helps, Please Edit and put your layout code with some information on what is `bannerborder` as @code-apprentice mentioned.","title":"How to remove additional space between ImageView and edge of screen/parent in Android Studio?","body":"<p>As we don't have any information on how your layout is, The problem could be the height of <code>bannerborder</code> you are using in ImageView.\nWhen you set a height to an ImageView, It tries to fit the image vertically, So there will be a space on top and bottom.\nTry using <code>android:scaleType=&quot;centerCrop&quot;</code> and see if it helps, Or use <code>wrap_content</code> as height.</p>\n<p>If your <code>bannerborder</code> is a just background, You can use <code>AppBarLayout</code> to achieve that.</p>\n<p>If none of this helps, Please Edit and put your layout code with some information on what is <code>bannerborder</code> as @code-apprentice mentioned.</p>\n"}],"owner":{"account_id":17119275,"reputation":15,"user_id":12387939,"display_name":"C James"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77119750,"answer_count":2,"score":1,"last_activity_date":1695057299,"creation_date":1694873217,"question_id":77118102,"body_markdown":"so I am essentially trying to remove some extra space that seems to be above an imageview, that I am using as a banner for the top of a page on my app (shown in image below).\r\n\r\n[Image - Additonal Space above my ImageView][1]\r\n\r\n\r\nHowever, when I set this imageview to cover the entire screen, there is no space anymore. Would someone know how to fix this, as I have tried changing the ScaleType, etc.\r\n\r\nHere is the .XML code for this ImageView, and i&#39;m using a constraintLayout if that has any relevance:\r\n\r\n```\r\n&lt;ImageView\r\n        android:id=&quot;@+id/pagebanner&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;110dp&quot;\r\n        android:background=&quot;@drawable/bannerborder&quot;\r\n        android:contentDescription=&quot;@string/page_banner&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/guideline8&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\nAlso, this is the code for the simple drawable (bannerborder) that&#39;s being used in the ImageView object:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot; &gt;\r\n    &lt;solid android:color=&quot;@color/colorPurple&quot; /&gt;\r\n&lt;/shape&gt;\r\n```\r\n\r\n- I have tried changing ScaleType to: android:scaleType=&quot;fitXY&quot;, along with all the other options.\r\n- Tried setting adjustViewBoundaries to both true and false\r\n- tried using negative layout margins\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q0NtF.png","title":"How to remove additional space between ImageView and edge of screen/parent in Android Studio?","body":"<p>so I am essentially trying to remove some extra space that seems to be above an imageview, that I am using as a banner for the top of a page on my app (shown in image below).</p>\n<p><a href=\"https://i.stack.imgur.com/Q0NtF.png\" rel=\"nofollow noreferrer\">Image - Additonal Space above my ImageView</a></p>\n<p>However, when I set this imageview to cover the entire screen, there is no space anymore. Would someone know how to fix this, as I have tried changing the ScaleType, etc.</p>\n<p>Here is the .XML code for this ImageView, and i'm using a constraintLayout if that has any relevance:</p>\n<pre><code>&lt;ImageView\n        android:id=&quot;@+id/pagebanner&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;110dp&quot;\n        android:background=&quot;@drawable/bannerborder&quot;\n        android:contentDescription=&quot;@string/page_banner&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/guideline8&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>Also, this is the code for the simple drawable (bannerborder) that's being used in the ImageView object:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot; &gt;\n    &lt;solid android:color=&quot;@color/colorPurple&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n<ul>\n<li>I have tried changing ScaleType to: android:scaleType=&quot;fitXY&quot;, along with all the other options.</li>\n<li>Tried setting adjustViewBoundaries to both true and false</li>\n<li>tried using negative layout margins</li>\n</ul>\n"},{"tags":["java","android","http","post","android-studio"],"answers":[{"tags":[],"owner":{"account_id":7464007,"reputation":3021,"user_id":5674298,"accept_rate":61,"display_name":"coolguy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1450531194,"creation_date":1450531194,"answer_id":34371239,"question_id":34371032,"body_markdown":"Try using `HttpPost(URI)` constructor insted of `HttpPost(String)`. Think it will work.","title":"HTTP POST request with specified port number","body":"<p>Try using <code>HttpPost(URI)</code> constructor insted of <code>HttpPost(String)</code>. Think it will work.</p>\n"},{"tags":[],"owner":{"account_id":7470297,"reputation":2879,"user_id":5678532,"display_name":"Mk.Sl."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450531746,"creation_date":1450531746,"answer_id":34371323,"question_id":34371032,"body_markdown":"Try to add port separately like in code below:\r\n\r\n    private static final int HTTP_PORT = 8081;\r\n\r\n\tprivate static final String USER_AGENT_NAME = &quot;http.useragent&quot;;\r\n\r\n\tprivate static final String USER_AGENT_VALUE = &quot;Mozilla/5.0 (Linux; U; Android 1.1; en-us;dream) AppleWebKit/525.10+ (KHTML, like Gecko) Version/3.0.4 Mobile Safari/523.12.2&quot;;\r\n\r\n\r\n\tprotected DefaultHttpClient getHttpClient() throws KeyManagementException, UnrecoverableKeyException, \r\n\tNoSuchAlgorithmException, KeyStoreException, CertificateException, IOException {\r\n\t\tif (httpClient == null) {\r\n\r\n\t\t\tSchemeRegistry schemeRegistry = new SchemeRegistry();\r\n\t\t\tschemeRegistry.register(new Scheme(&quot;http&quot;, PlainSocketFactory.getSocketFactory(), HTTP_PORT));\r\n\r\n\t\t\tHttpParams params = new BasicHttpParams();\r\n\t\t\tparams.setParameter(USER_AGENT_NAME, USER_AGENT_VALUE);\r\n\t\t\tHttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\r\n\t\t\tHttpProtocolParams.setContentCharset(params, HTTP.UTF_8);\r\n\r\n\t\t\tThreadSafeClientConnManager cm = new ThreadSafeClientConnManager(params, schemeRegistry);\r\n\t\t\thttpClient = new DefaultHttpClient(cm, params);\r\n\t\t}\r\n\t\treturn httpClient;\r\n\t}\r\n\r\nWhile making HTTP request be sure that port is NOT included more.","title":"HTTP POST request with specified port number","body":"<p>Try to add port separately like in code below:</p>\n\n<pre><code>private static final int HTTP_PORT = 8081;\n\nprivate static final String USER_AGENT_NAME = \"http.useragent\";\n\nprivate static final String USER_AGENT_VALUE = \"Mozilla/5.0 (Linux; U; Android 1.1; en-us;dream) AppleWebKit/525.10+ (KHTML, like Gecko) Version/3.0.4 Mobile Safari/523.12.2\";\n\n\nprotected DefaultHttpClient getHttpClient() throws KeyManagementException, UnrecoverableKeyException, \nNoSuchAlgorithmException, KeyStoreException, CertificateException, IOException {\n    if (httpClient == null) {\n\n        SchemeRegistry schemeRegistry = new SchemeRegistry();\n        schemeRegistry.register(new Scheme(\"http\", PlainSocketFactory.getSocketFactory(), HTTP_PORT));\n\n        HttpParams params = new BasicHttpParams();\n        params.setParameter(USER_AGENT_NAME, USER_AGENT_VALUE);\n        HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\n        HttpProtocolParams.setContentCharset(params, HTTP.UTF_8);\n\n        ThreadSafeClientConnManager cm = new ThreadSafeClientConnManager(params, schemeRegistry);\n        httpClient = new DefaultHttpClient(cm, params);\n    }\n    return httpClient;\n}\n</code></pre>\n\n<p>While making HTTP request be sure that port is NOT included more.</p>\n"},{"tags":[],"owner":{"account_id":6930529,"reputation":496,"user_id":5320122,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670752673,"creation_date":1670752673,"answer_id":74759811,"question_id":34371032,"body_markdown":"With HttpPost, it works when you specify port number as part of http URL, like this:\r\n\r\n```\r\nHttpClient httpclient = new DefaultHttpClient();\r\nHttpPost httppost = new HttpPost(&quot;http://100.1.1.1:8081&quot;);\r\n\r\n```","title":"HTTP POST request with specified port number","body":"<p>With HttpPost, it works when you specify port number as part of http URL, like this:</p>\n<pre><code>HttpClient httpclient = new DefaultHttpClient();\nHttpPost httppost = new HttpPost(&quot;http://100.1.1.1:8081&quot;);\n\n</code></pre>\n"}],"owner":{"account_id":4034047,"reputation":3893,"user_id":3319176,"accept_rate":64,"display_name":"SalmanShariati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695056715,"creation_date":1450529864,"question_id":34371032,"body_markdown":"I&#39;m developing an Android App using JAVA in Android Studio IDE. I&#39;m trying to send an HTTP Post request from my application to retrieve the response from the server as XML.\r\n\r\nWhen I run \r\n\r\n    HttpClient httpClient = new DefaultHttpClient();\r\n    HttpPost httpPost = new HttpPost(&quot;100.1.1.1&quot;);\r\nIt works without any exception but when I use a port in the URL like\r\n\r\n    HttpClient httpClient = new DefaultHttpClient();\r\n    HttpPost httpPost = new HttpPost(&quot;100.1.1.1:8081&quot;);\r\n\r\nthe app warns me by &quot;Unfortunately, App has stopped&quot; and exits.\r\n\r\nThe real IP Addresses in this post have been replaced by 100.1.1.1\r\n\r\n\r\nMy Question is &quot;why it doesn&#39;t work with Port number in URL?&quot; and if there is a better way to get data from a web server by URL and Query Strings what is that way.\r\n\r\nThe URL that returns data as XML is like :\r\n\r\n&gt; 100.1.1.1:8081/?FindResults&amp;Parameter1&amp;Parameter2&amp;Parameter3\r\n\r\nAny help would be appreciated.\r\n","title":"HTTP POST request with specified port number","body":"<p>I'm developing an Android App using JAVA in Android Studio IDE. I'm trying to send an HTTP Post request from my application to retrieve the response from the server as XML.</p>\n\n<p>When I run </p>\n\n<pre><code>HttpClient httpClient = new DefaultHttpClient();\nHttpPost httpPost = new HttpPost(\"100.1.1.1\");\n</code></pre>\n\n<p>It works without any exception but when I use a port in the URL like</p>\n\n<pre><code>HttpClient httpClient = new DefaultHttpClient();\nHttpPost httpPost = new HttpPost(\"100.1.1.1:8081\");\n</code></pre>\n\n<p>the app warns me by \"Unfortunately, App has stopped\" and exits.</p>\n\n<p>The real IP Addresses in this post have been replaced by 100.1.1.1</p>\n\n<p>My Question is \"why it doesn't work with Port number in URL?\" and if there is a better way to get data from a web server by URL and Query Strings what is that way.</p>\n\n<p>The URL that returns data as XML is like :</p>\n\n<blockquote>\n  <p>100.1.1.1:8081/?FindResults&amp;Parameter1&amp;Parameter2&amp;Parameter3</p>\n</blockquote>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","exception","generics","polymorphism","throws"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1694968478,"post_id":77122736,"comment_id":135958152,"body_markdown":"Does this answer your question? [Java generics type erasure: when and what happens?](https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens) What you are looking for is called type erasure and it is not really specific to exceptions but applies generally to all generics (and casting to generic types)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">Java generics type erasure: when and what happens?</a> What you are looking for is called type erasure and it is not really specific to exceptions but applies generally to all generics (and casting to generic types)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1694968586,"post_id":77122736,"comment_id":135958170,"body_markdown":"Your mental model about generics is mostly correct. And if I remember correctly, you will get the `ClassCastException` when oyu try to access the thrown `Exception` as RuntimeException`. This all revolvesa around the cast. I cannot find the exact JLS paragraph, but it says something along the line of &quot;type checks are intersted when necessary&quot;. This leads to situations where they are only insterted when the value is accessed, and at unexepected places.","body":"Your mental model about generics is mostly correct. And if I remember correctly, you will get the <code>ClassCastException</code> when oyu try to access the thrown <code>Exception</code> as RuntimeException`. This all revolvesa around the cast. I cannot find the exact JLS paragraph, but it says something along the line of &quot;type checks are intersted when necessary&quot;. This leads to situations where they are only insterted when the value is accessed, and at unexepected places."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1694968759,"post_id":77122736,"comment_id":135958192,"body_markdown":"[This question](https://stackoverflow.com/questions/1268623/why-is-a-classcastexception-only-thrown-when-the-return-value-is-accessed) is related.","body":"<a href=\"https://stackoverflow.com/questions/1268623/why-is-a-classcastexception-only-thrown-when-the-return-value-is-accessed\">This question</a> is related."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694970560,"post_id":77122736,"comment_id":135958396,"body_markdown":"@dan1st I simply have no idea why people are linking older questions when they do not provide a clear understanding of THIS PARTICULAR CASE. No it doesn&#39;t answer my question, my question is simply why there is no ClassCastException thrown where it should be.","body":"@dan1st I simply have no idea why people are linking older questions when they do not provide a clear understanding of THIS PARTICULAR CASE. No it doesn&#39;t answer my question, my question is simply why there is no ClassCastException thrown where it should be."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1694970923,"post_id":77122736,"comment_id":135958444,"body_markdown":"Very similar to this [question](https://stackoverflow.com/questions/77121729/lombok-sneakythrows-why-isnt-a-classcastexception-not-thrown)","body":"Very similar to this <a href=\"https://stackoverflow.com/questions/77121729/lombok-sneakythrows-why-isnt-a-classcastexception-not-thrown\">question</a>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694971113,"post_id":77122736,"comment_id":135958468,"body_markdown":"@DuncG That was my question, I made a new question and deleted that one because it was causing confusion. People thought I was talking about type-inference.","body":"@DuncG That was my question, I made a new question and deleted that one because it was causing confusion. People thought I was talking about type-inference."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694971395,"post_id":77122736,"comment_id":135958506,"body_markdown":"@Turing85 Yes the question you linked seems to be related, however my question is passing in a concrete type and trying to cast to a generic type. Why is that cast not happening ? I pass in `SQLException` with a reference to its superclass `Exception`, it tries to cast it to `RuntimeException`, that should throw an exception, why does that not happen?","body":"@Turing85 Yes the question you linked seems to be related, however my question is passing in a concrete type and trying to cast to a generic type. Why is that cast not happening ? I pass in <code>SQLException</code> with a reference to its superclass <code>Exception</code>, it tries to cast it to <code>RuntimeException</code>, that should throw an exception, why does that not happen?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694971715,"post_id":77122736,"comment_id":135958555,"body_markdown":"@Turing85 So is my cast ignored by the compiler ? But my code does not compile without the cast, so what gives. Is there no simple answer why this works ?","body":"@Turing85 So is my cast ignored by the compiler ? But my code does not compile without the cast, so what gives. Is there no simple answer why this works ?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1694972078,"post_id":77122736,"comment_id":135958601,"body_markdown":"I am not entirely sure. I&#39;d need to analyze the bytecode. It looks like the cast would only take effect when we enforce that the thrown `Exceptoin` is - in deed - a `RuntimeException` (without another cast). A `catch (RuntimeException e) { ... }` does not catch the exception.","body":"I am not entirely sure. I&#39;d need to analyze the bytecode. It looks like the cast would only take effect when we enforce that the thrown <code>Exceptoin</code> is - in deed - a <code>RuntimeException</code> (without another cast). A <code>catch (RuntimeException e) { ... }</code> does not catch the exception."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694972316,"post_id":77122736,"comment_id":135958631,"body_markdown":"@Turing85 The confusing part is that it does not compile without the cast. So where how exactly is the cast being used ? A `catch(RuntimeException)` will obviously not catch it but it does not generate a ClassCastException also.","body":"@Turing85 The confusing part is that it does not compile without the cast. So where how exactly is the cast being used ? A <code>catch(RuntimeException)</code> will obviously not catch it but it does not generate a ClassCastException also."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694972559,"post_id":77122736,"comment_id":135958655,"body_markdown":"@Turing85 There is some info here: https://www.javacodegeeks.com/2015/08/4-out-of-5-java-developers-failed-to-solve-this-question.html","body":"@Turing85 There is some info here: <a href=\"https://www.javacodegeeks.com/2015/08/4-out-of-5-java-developers-failed-to-solve-this-question.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2015/08/&hellip;</a>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694972760,"post_id":77122736,"comment_id":135958689,"body_markdown":"@Turing85 A `catch(RuntimeException e)` doesn&#39;t obviously work, as no RuntimeException is thrown. A `catch(SQLException e)` won&#39;t compile because of the Generic Type parameter the compiler expects a RuntimeException and not a SQLException.","body":"@Turing85 A <code>catch(RuntimeException e)</code> doesn&#39;t obviously work, as no RuntimeException is thrown. A <code>catch(SQLException e)</code> won&#39;t compile because of the Generic Type parameter the compiler expects a RuntimeException and not a SQLException."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694972828,"post_id":77122736,"comment_id":135958698,"body_markdown":"@Turing85 If you could post your bytecode analysis that would be great.","body":"@Turing85 If you could post your bytecode analysis that would be great."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694973111,"post_id":77122736,"comment_id":135958736,"body_markdown":"@Turing85 Nope all that I told you above is nonsense. Just replace the cast with RuntimeException and you get a ClassCastException. Don&#39;t have the cast, the compiler complains about checked exceptions not being catched.","body":"@Turing85 Nope all that I told you above is nonsense. Just replace the cast with RuntimeException and you get a ClassCastException. Don&#39;t have the cast, the compiler complains about checked exceptions not being catched."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694973161,"post_id":77122736,"comment_id":135958743,"body_markdown":"@Turing85 So, **the cast is used but also not used.** That&#39;s a WTF moment.","body":"@Turing85 So, <b>the cast is used but also not used.</b> That&#39;s a WTF moment."}],"answers":[{"comments":[{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694970279,"post_id":77122762,"comment_id":135958364,"body_markdown":"I have no idea what you are referring to. This has nothing to do with Class&lt;T&gt; or Class#cast.","body":"I have no idea what you are referring to. This has nothing to do with Class&lt;T&gt; or Class#cast."},{"owner":{"account_id":9879926,"reputation":4097,"user_id":7316365,"accept_rate":80,"display_name":"Vivick"},"score":0,"creation_date":1694970697,"post_id":77122762,"comment_id":135958412,"body_markdown":"You don&#39;t have generics&#39; type info at runtime, so the cast is effectively ignored, hence why you don&#39;t get the exception. Hence why you&#39;d need to use `Class#cast`","body":"You don&#39;t have generics&#39; type info at runtime, so the cast is effectively ignored, hence why you don&#39;t get the exception. Hence why you&#39;d need to use <code>Class#cast</code>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694971201,"post_id":77122762,"comment_id":135958480,"body_markdown":"All generic info is replaced with their bounds. Generic info is removed but the cast is not. So why is the cast not applied ?","body":"All generic info is replaced with their bounds. Generic info is removed but the cast is not. So why is the cast not applied ?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694971277,"post_id":77122762,"comment_id":135958490,"body_markdown":"Effectively it tries to should try to cast to RuntimeException. I cast should be there but I am concerned about why it is not applied.","body":"Effectively it tries to should try to cast to RuntimeException. I cast should be there but I am concerned about why it is not applied."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1694971678,"post_id":77122762,"comment_id":135958549,"body_markdown":"@Vivick do you have some hard fact that the cast is &quot;ignored&quot;? I doubt that statement. There are cases where casts must not be ignored, no matter if generics are involved or not.","body":"@Vivick do you have some hard fact that the cast is &quot;ignored&quot;? I doubt that statement. There are cases where casts must not be ignored, no matter if generics are involved or not."},{"owner":{"account_id":9879926,"reputation":4097,"user_id":7316365,"accept_rate":80,"display_name":"Vivick"},"score":0,"creation_date":1694980607,"post_id":77122762,"comment_id":135959599,"body_markdown":"Ignored or to a type that isn&#39;t the expected one. As I understand it, casts with generics are applied to the &quot;closest&quot; bound. With no constraints, it should be `Object` (useless as everything is an `Object`). With a constraint, it should be to that constraint (redundant as we know the constraint is valid).","body":"Ignored or to a type that isn&#39;t the expected one. As I understand it, casts with generics are applied to the &quot;closest&quot; bound. With no constraints, it should be <code>Object</code> (useless as everything is an <code>Object</code>). With a constraint, it should be to that constraint (redundant as we know the constraint is valid)."}],"tags":[],"owner":{"account_id":9879926,"reputation":4097,"user_id":7316365,"accept_rate":80,"display_name":"Vivick"},"comment_count":6,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694970744,"creation_date":1694968843,"answer_id":77122762,"question_id":77122736,"body_markdown":"You&#39;re confusing generics with templates (&#224; la C++). You were on the right track with mentioning type erasure which, as the name suggests, erases any trace of type information for compilation.\n\nThus, your cast doesn&#39;t really happen, or if it does it&#39;s not with the type you&#39;d expect. \n\nYou&#39;d need to use `Class#cast` to get the desired behavior, but getting an instance of `Class&lt;T&gt;` ain&#39;t convenient for your use case. ","title":"Why doesn&#39;t @SneakyThrows throw a ClassCastException?","body":"<p>You're confusing generics with templates (à la C++). You were on the right track with mentioning type erasure which, as the name suggests, erases any trace of type information for compilation.</p>\n<p>Thus, your cast doesn't really happen, or if it does it's not with the type you'd expect.</p>\n<p>You'd need to use <code>Class#cast</code> to get the desired behavior, but getting an instance of <code>Class&lt;T&gt;</code> ain't convenient for your use case.</p>\n"},{"comments":[{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694977225,"post_id":77123154,"comment_id":135959232,"body_markdown":"But the code fails, if I remove the cast `(T) d` and do not use `RuntimeException` as the parameter. That&#39;s what is confusing me.","body":"But the code fails, if I remove the cast <code>(T) d</code> and do not use <code>RuntimeException</code> as the parameter. That&#39;s what is confusing me."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694976021,"creation_date":1694976021,"answer_id":77123154,"question_id":77122736,"body_markdown":"Your misconception is here:\r\n\r\n&gt; **When the main method is compiled:**\r\n&gt; \r\n&gt;     static &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n&gt;         throw (T) d;\r\n&gt;     }\r\n&gt; \r\n&gt;     public static void main(String[] args) {\r\n&gt;         GenericTest.&lt;RuntimeException&gt;test(new SQLException());\r\n&gt;     }\r\n&gt; The type parameter is replaced by the concrete type : `java.lang.RuntimeException.`\r\n&gt;\r\n&gt; _**So the method effectively becomes:**_ &lt;&lt; this is your misconception: the method doesn&#39;t change!\r\n&gt; \r\n&gt;     static void test(Exception d) throws RuntimeException {\r\n&gt;         throw (RuntimeException) d;\r\n&gt;     }\r\n\r\nThis is not how generics in Java work - the `test()` method is not recompiled nor otherwise changed in any way. The method is:\r\n\r\n    static &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n        throw (T) d;\r\n    }\r\n\r\nSince `T` could by any `Exception`, the cast `(T) d` is effectively a no-op and the compiler doesn&#39;t produce any code for this cast (it **cannot** do a cast: the caller doesn&#39;t pass in the type `T` and the code **must** work for all `T extends Exception`, but `d` is necessarily an `Exception` anyway because this is the declared type of the parameter.)\r\n\r\nThe compiler only checks the call site. Is the passed parameter (`SQLException`) an `Exception` or any subclass of `Exception`? Yes, `SQLException` is a subclass of `Exception` and therefore the call compiles.","title":"Why doesn&#39;t @SneakyThrows throw a ClassCastException?","body":"<p>Your misconception is here:</p>\n<blockquote>\n<p><strong>When the main method is compiled:</strong></p>\n<pre><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n    throw (T) d;\n}\n\npublic static void main(String[] args) {\n    GenericTest.&lt;RuntimeException&gt;test(new SQLException());\n}\n</code></pre>\n<p>The type parameter is replaced by the concrete type : <code>java.lang.RuntimeException.</code></p>\n<p><em><strong>So the method effectively becomes:</strong></em> &lt;&lt; this is your misconception: the method doesn't change!</p>\n<pre><code>static void test(Exception d) throws RuntimeException {\n    throw (RuntimeException) d;\n}\n</code></pre>\n</blockquote>\n<p>This is not how generics in Java work - the <code>test()</code> method is not recompiled nor otherwise changed in any way. The method is:</p>\n<pre><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n    throw (T) d;\n}\n</code></pre>\n<p>Since <code>T</code> could by any <code>Exception</code>, the cast <code>(T) d</code> is effectively a no-op and the compiler doesn't produce any code for this cast (it <strong>cannot</strong> do a cast: the caller doesn't pass in the type <code>T</code> and the code <strong>must</strong> work for all <code>T extends Exception</code>, but <code>d</code> is necessarily an <code>Exception</code> anyway because this is the declared type of the parameter.)</p>\n<p>The compiler only checks the call site. Is the passed parameter (<code>SQLException</code>) an <code>Exception</code> or any subclass of <code>Exception</code>? Yes, <code>SQLException</code> is a subclass of <code>Exception</code> and therefore the call compiles.</p>\n"},{"comments":[{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694979571,"post_id":77123250,"comment_id":135959484,"body_markdown":"I love this answer. You hit the nail right on the head when you said that Java Generics compile only once. That&#39;s a misconception I had.","body":"I love this answer. You hit the nail right on the head when you said that Java Generics compile only once. That&#39;s a misconception I had."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694979656,"post_id":77123250,"comment_id":135959493,"body_markdown":"but there is one last thing bothering me: the `throws T` if the code is compiled to `throws Exception` then why does using `&lt;RuntimeException&gt;test()` give no compiler error ?","body":"but there is one last thing bothering me: the <code>throws T</code> if the code is compiled to <code>throws Exception</code> then why does using <code>&lt;RuntimeException&gt;test()</code> give no compiler error ?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694979724,"post_id":77123250,"comment_id":135959502,"body_markdown":"it should give me an error that I am still throwing an Exception without a catch, right ? Sorry for the stupid question, I am not familiar with the mathematical language of the JLS.","body":"it should give me an error that I am still throwing an Exception without a catch, right ? Sorry for the stupid question, I am not familiar with the mathematical language of the JLS."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1695056307,"post_id":77123250,"comment_id":135970146,"body_markdown":"I rewrote my comments into a section of my answer. Does it still help answer your additional questions?","body":"I rewrote my comments into a section of my answer. Does it still help answer your additional questions?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1695057211,"post_id":77123250,"comment_id":135970327,"body_markdown":"Another thing that might help: Java is a statically typed language. This allows the compiler to perform many verifications at compile-time. But sometimes the developer knows more than the compiler. Casts are basically the developer telling the compiler, &quot;Trust me, I know what I&#39;m doing&quot;. And generics are effectively just a way of giving the compiler more information to work with, thus letting the compiler implicitly perform many of these nearly-guaranteed-to-be-safe casts _for you_ (&quot;unchecked&quot; casts can still lead to `ClassCastException`s).","body":"Another thing that might help: Java is a statically typed language. This allows the compiler to perform many verifications at compile-time. But sometimes the developer knows more than the compiler. Casts are basically the developer telling the compiler, &quot;Trust me, I know what I&#39;m doing&quot;. And generics are effectively just a way of giving the compiler more information to work with, thus letting the compiler implicitly perform many of these nearly-guaranteed-to-be-safe casts <i>for you</i> (&quot;unchecked&quot; casts can still lead to <code>ClassCastException</code>s)."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1695062377,"post_id":77123250,"comment_id":135971239,"body_markdown":"yes, if you can add these in the answer it will greatly help. I am not sure how reliable the comment system is.","body":"yes, if you can add these in the answer it will greatly help. I am not sure how reliable the comment system is."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695056276,"creation_date":1694977720,"answer_id":77123250,"question_id":77122736,"body_markdown":"# Type Erasure\r\n\r\nYou are correct that type variables are erased to their leftmost bound. This is stated in [&#167;4.6 Type Erasure][1] of the _Java Language Specification_ (JLS).\r\n\r\n\r\n&gt; * The erasure of a type variable ([&#167;4.4][2]) is the erasure of its leftmost bound.\r\n\r\nThat means that the erasure of:\r\n\r\n```java\r\nstatic &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n    throw (T) d;\r\n}\r\n```\r\n\r\nIs:\r\n\r\n```\r\nstatic void test(Exception d) throws Exception {\r\n    throw (Exception) d;\r\n}\r\n```\r\n\r\nBut note this only relies on the **type parameter**. The _type argument_ is irrelevant. Unlike languages such as C++, where each unique parameterization of a template results in unique compiled code, Java only compiles generics _once_. So, if you call the above with:\r\n\r\n```java\r\nClassName.&lt;RuntimeException&gt;test(new SQLException());\r\n```\r\n\r\nYou don&#39;t end up with byte code where `T`&#39;s bound was changed to `RuntimeException`. The leftmost bound is still `Exception`.\r\n\r\n## Byte-code\r\n\r\nGenerics do not _completely_ disappear after compilation. If they did, then generics would be unusable when compiling against pre-compiled libraries.\r\n\r\nWith the `test` method above, it&#39;s true that the method itself cannot know what it was parameterized with. However, the fact that the method _is_ generic with the type parameter `T extends Exception`, and that it `throws T`, is preserved. In other words, static generic information is recorded in the byte-code. You can even get this information via reflection.\r\n\r\nBasically, generics are an &quot;illusion&quot; of the compiler. They are a _language_ feature, not a _run-time_ (JVM) feature. From the point of view of the compiler, generics always exist (unless raw types are involved).\r\n\r\nThis is why you do not need to handle the exception when calling `test` with `RuntimeException` (or some subclass) as the type argument. The _compiler_ knows about `T`, and thus &quot;knows&quot; in this case that the method does not throw a _checked_ exception. Yet notice the `(T) d` line of the `test` method gives an &quot;unchecked cast&quot; compiler warning. This warning occurs precisely because the cast may succeed, but that doesn&#39;t mean the code is not broken (e.g., claiming `T` is an _unchecked_ exception, but then having the method actually throw a _checked_ exception).\r\n\r\n---\r\n\r\n# Casting\r\n\r\nFrom [&#167;5.5 Casting Contexts][3] of the JLS:\r\n\r\n&gt; If a casting context makes use of a narrowing reference conversion that is checked or partially unchecked ([&#167;5.1.6.2][4], [&#167;5.1.6.3][5]), then a run time check will be performed on the class of the expression&#39;s value, possibly causing a `ClassCastException`. **Otherwise, no run time check is performed.** _[emphasis added]_\r\n\r\nAnd from [&#167;5.1.6.2 Checked and Unchecked Narrowing Reference Conversions][4]:\r\n\r\n&gt; * A narrowing reference conversion from a type `S` to a type variable `T` is unchecked.\r\n\r\nAnd from [&#167;5.1.6.3 Narrowing Reference Conversions at Run Time][5]:\r\n\r\n&gt; * An unchecked narrowing reference conversion from `S` to a non-intersection type `T` is completely unchecked if `|S| &lt;: |T|`.\r\n&gt;\r\n&gt;   Otherwise, it is partially unchecked.\r\n\r\nTaking all that into account, the following:\r\n\r\n```java\r\nstatic &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n    throw (T) d;\r\n}\r\n```\r\n\r\nIs a _completely unchecked_ cast. Thus, there is no check a run-time. You can verify this by looking at the byte code.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.6\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.4\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.5\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.2\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.3","title":"Why doesn&#39;t @SneakyThrows throw a ClassCastException?","body":"<h1>Type Erasure</h1>\n<p>You are correct that type variables are erased to their leftmost bound. This is stated in <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.6\" rel=\"nofollow noreferrer\">§4.6 Type Erasure</a> of the <em>Java Language Specification</em> (JLS).</p>\n<blockquote>\n<ul>\n<li>The erasure of a type variable (<a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.4\" rel=\"nofollow noreferrer\">§4.4</a>) is the erasure of its leftmost bound.</li>\n</ul>\n</blockquote>\n<p>That means that the erasure of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n    throw (T) d;\n}\n</code></pre>\n<p>Is:</p>\n<pre><code>static void test(Exception d) throws Exception {\n    throw (Exception) d;\n}\n</code></pre>\n<p>But note this only relies on the <strong>type parameter</strong>. The <em>type argument</em> is irrelevant. Unlike languages such as C++, where each unique parameterization of a template results in unique compiled code, Java only compiles generics <em>once</em>. So, if you call the above with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassName.&lt;RuntimeException&gt;test(new SQLException());\n</code></pre>\n<p>You don't end up with byte code where <code>T</code>'s bound was changed to <code>RuntimeException</code>. The leftmost bound is still <code>Exception</code>.</p>\n<h2>Byte-code</h2>\n<p>Generics do not <em>completely</em> disappear after compilation. If they did, then generics would be unusable when compiling against pre-compiled libraries.</p>\n<p>With the <code>test</code> method above, it's true that the method itself cannot know what it was parameterized with. However, the fact that the method <em>is</em> generic with the type parameter <code>T extends Exception</code>, and that it <code>throws T</code>, is preserved. In other words, static generic information is recorded in the byte-code. You can even get this information via reflection.</p>\n<p>Basically, generics are an &quot;illusion&quot; of the compiler. They are a <em>language</em> feature, not a <em>run-time</em> (JVM) feature. From the point of view of the compiler, generics always exist (unless raw types are involved).</p>\n<p>This is why you do not need to handle the exception when calling <code>test</code> with <code>RuntimeException</code> (or some subclass) as the type argument. The <em>compiler</em> knows about <code>T</code>, and thus &quot;knows&quot; in this case that the method does not throw a <em>checked</em> exception. Yet notice the <code>(T) d</code> line of the <code>test</code> method gives an &quot;unchecked cast&quot; compiler warning. This warning occurs precisely because the cast may succeed, but that doesn't mean the code is not broken (e.g., claiming <code>T</code> is an <em>unchecked</em> exception, but then having the method actually throw a <em>checked</em> exception).</p>\n<hr />\n<h1>Casting</h1>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.5\" rel=\"nofollow noreferrer\">§5.5 Casting Contexts</a> of the JLS:</p>\n<blockquote>\n<p>If a casting context makes use of a narrowing reference conversion that is checked or partially unchecked (<a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.2\" rel=\"nofollow noreferrer\">§5.1.6.2</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.3\" rel=\"nofollow noreferrer\">§5.1.6.3</a>), then a run time check will be performed on the class of the expression's value, possibly causing a <code>ClassCastException</code>. <strong>Otherwise, no run time check is performed.</strong> <em>[emphasis added]</em></p>\n</blockquote>\n<p>And from <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.2\" rel=\"nofollow noreferrer\">§5.1.6.2 Checked and Unchecked Narrowing Reference Conversions</a>:</p>\n<blockquote>\n<ul>\n<li>A narrowing reference conversion from a type <code>S</code> to a type variable <code>T</code> is unchecked.</li>\n</ul>\n</blockquote>\n<p>And from <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.3\" rel=\"nofollow noreferrer\">§5.1.6.3 Narrowing Reference Conversions at Run Time</a>:</p>\n<blockquote>\n<ul>\n<li><p>An unchecked narrowing reference conversion from <code>S</code> to a non-intersection type <code>T</code> is completely unchecked if <code>|S| &lt;: |T|</code>.</p>\n<p>Otherwise, it is partially unchecked.</p>\n</li>\n</ul>\n</blockquote>\n<p>Taking all that into account, the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n    throw (T) d;\n}\n</code></pre>\n<p>Is a <em>completely unchecked</em> cast. Thus, there is no check a run-time. You can verify this by looking at the byte code.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1694977703,"accepted_answer_id":77123250,"answer_count":3,"score":-1,"last_activity_date":1695056276,"creation_date":1694968150,"question_id":77122736,"body_markdown":"This question just asks why the generic cast is not used. The questions about Erasure do not seem to explain this edge case.\r\n\r\n\r\nBefore I start let me preface this by saying **I am NOT interested in type inference as described here**:\r\n\r\nhttps://stackoverflow.com/questions/31316581/a-peculiar-feature-of-exception-type-inference-in-java-8/31316879#31316879\r\n\r\nThis is just to avoid confusion.\r\n\r\n**What I am interested in is why the following code works without throwing a** `ClassCastException` ?\r\n\r\n    import java.sql.SQLException;\r\n    \r\n    public class GenericThrows {\r\n        static &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n            throw (T) d;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            GenericTest.&lt;RuntimeException&gt;test(new SQLException());\r\n        }\r\n    }\r\n\r\nCompile the code with:\r\n\r\n    javac -source 1.7 -target 1.7 GenericThrows.java\r\n\r\nAnd it produces:\r\n\r\n    Exception in thread &quot;main&quot; java.sql.SQLException\r\n            at GenericTest.main(GenericTest.java:9)\r\n\r\nMy mental model of Java Generics and Type Erasure (and why I think this makes no sense):\r\n\r\n**When the static method compiles:**\r\n\r\n    static &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n            throw (T) d;\r\n        }\r\n\r\nType Erasure wipes out all generic types and replaces them with the upper bound of given type, so the method effectively becomes:\r\n\r\n    static void test(Exception d) throws Exception {\r\n            throw (Exception) d;\r\n        } \r\n\r\nI hope I am correct.\r\n\r\n**When the main method is compiled:**\r\n\r\n    static &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n            throw (T) d;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            GenericTest.&lt;RuntimeException&gt;test(new SQLException());\r\n        }\r\n\r\nThe type parameter is replaced by the concrete type : `java.lang.RuntimeException`.\r\n\r\nSo the method effectively becomes:\r\n\r\n    static void test(Exception d) throws RuntimeException {\r\n            throw (RuntimeException) d;\r\n        }\r\n\r\nI hope I am correct.\r\n\r\nSo, **when I try to cast a `SQLException` to a `RuntimeException` I should get a `ClassCastException`, this is exactly what happens if I write the code without generics:**\r\n\r\n\r\n    import java.sql.SQLException;\r\n    \r\n    public class NonGenericThrows {\r\n        static void test(Exception d) throws RuntimeException {\r\n            throw (RuntimeException) d;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            NonGenericThrows.test(new SQLException());\r\n        }\r\n    }\r\n\r\nCompilation and execution:\r\n\r\n    javac -source 1.7 -target 1.7 NonGenericThrows.java\r\n    java NonGenericThrows\r\n\r\nResults:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.sql.SQLException cannot be cast to class java.lang.RuntimeException (java.sql.SQLException is in module java.sql of loader &#39;platform&#39;; java.lang.RuntimeException is in module java.base of loader &#39;bootstrap&#39;)\r\n            at NonGenericThrows.test(NonGenericThrows.java:5)\r\n            at NonGenericThrows.main(NonGenericThrows.java:9)\r\n\r\n\r\n**Then why does the generic version not give a ClassCastException ?**\r\n\r\n**Where am I going wrong in my mental model ?**\r\n","title":"Why doesn&#39;t @SneakyThrows throw a ClassCastException?","body":"<p>This question just asks why the generic cast is not used. The questions about Erasure do not seem to explain this edge case.</p>\n<p>Before I start let me preface this by saying <strong>I am NOT interested in type inference as described here</strong>:</p>\n<p><a href=\"https://stackoverflow.com/questions/31316581/a-peculiar-feature-of-exception-type-inference-in-java-8/31316879#31316879\">A peculiar feature of exception type inference in Java 8</a></p>\n<p>This is just to avoid confusion.</p>\n<p><strong>What I am interested in is why the following code works without throwing a</strong> <code>ClassCastException</code> ?</p>\n<pre><code>import java.sql.SQLException;\n\npublic class GenericThrows {\n    static &lt;T extends Exception&gt; void test(Exception d) throws T {\n        throw (T) d;\n    }\n\n    public static void main(String[] args) {\n        GenericTest.&lt;RuntimeException&gt;test(new SQLException());\n    }\n}\n</code></pre>\n<p>Compile the code with:</p>\n<pre><code>javac -source 1.7 -target 1.7 GenericThrows.java\n</code></pre>\n<p>And it produces:</p>\n<pre><code>Exception in thread &quot;main&quot; java.sql.SQLException\n        at GenericTest.main(GenericTest.java:9)\n</code></pre>\n<p>My mental model of Java Generics and Type Erasure (and why I think this makes no sense):</p>\n<p><strong>When the static method compiles:</strong></p>\n<pre><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n        throw (T) d;\n    }\n</code></pre>\n<p>Type Erasure wipes out all generic types and replaces them with the upper bound of given type, so the method effectively becomes:</p>\n<pre><code>static void test(Exception d) throws Exception {\n        throw (Exception) d;\n    } \n</code></pre>\n<p>I hope I am correct.</p>\n<p><strong>When the main method is compiled:</strong></p>\n<pre><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n        throw (T) d;\n    }\n\n    public static void main(String[] args) {\n        GenericTest.&lt;RuntimeException&gt;test(new SQLException());\n    }\n</code></pre>\n<p>The type parameter is replaced by the concrete type : <code>java.lang.RuntimeException</code>.</p>\n<p>So the method effectively becomes:</p>\n<pre><code>static void test(Exception d) throws RuntimeException {\n        throw (RuntimeException) d;\n    }\n</code></pre>\n<p>I hope I am correct.</p>\n<p>So, <strong>when I try to cast a <code>SQLException</code> to a <code>RuntimeException</code> I should get a <code>ClassCastException</code>, this is exactly what happens if I write the code without generics:</strong></p>\n<pre><code>import java.sql.SQLException;\n\npublic class NonGenericThrows {\n    static void test(Exception d) throws RuntimeException {\n        throw (RuntimeException) d;\n    }\n\n    public static void main(String[] args) {\n        NonGenericThrows.test(new SQLException());\n    }\n}\n</code></pre>\n<p>Compilation and execution:</p>\n<pre><code>javac -source 1.7 -target 1.7 NonGenericThrows.java\njava NonGenericThrows\n</code></pre>\n<p>Results:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.sql.SQLException cannot be cast to class java.lang.RuntimeException (java.sql.SQLException is in module java.sql of loader 'platform'; java.lang.RuntimeException is in module java.base of loader 'bootstrap')\n        at NonGenericThrows.test(NonGenericThrows.java:5)\n        at NonGenericThrows.main(NonGenericThrows.java:9)\n</code></pre>\n<p><strong>Then why does the generic version not give a ClassCastException ?</strong></p>\n<p><strong>Where am I going wrong in my mental model ?</strong></p>\n"},{"tags":["java","datetime","java-8","jsr310"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1441625483,"post_id":32437550,"comment_id":52739465,"body_markdown":"Instant is more elementary, wrapping the standard long for the UTC. For a cron like batch not so logical a choice.","body":"Instant is more elementary, wrapping the standard long for the UTC. For a cron like batch not so logical a choice."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":68,"creation_date":1441644502,"post_id":32437550,"comment_id":52749831,"body_markdown":"**Incorrect** definition. `LocalDateTime` does *not* have a time zone!","body":"<b>Incorrect</b> definition. <code>LocalDateTime</code> does <i>not</i> have a time zone!"}],"answers":[{"comments":[{"owner":{"account_id":84599,"reputation":15850,"user_id":236370,"accept_rate":87,"display_name":"manuel aldana"},"score":0,"creation_date":1441635017,"post_id":32437995,"comment_id":52745264,"body_markdown":"sorry for misreading part on zone + precision. Sorry for repeating from above post: Considering a single time-zone application, in which use-cases would you favor LocalDateTime or vice versa?","body":"sorry for misreading part on zone + precision. Sorry for repeating from above post: Considering a single time-zone application, in which use-cases would you favor LocalDateTime or vice versa?"},{"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"score":2,"creation_date":1441635905,"post_id":32437995,"comment_id":52745726,"body_markdown":"I&#39;d take LocalDateTime whenever I need dates and/or times. In hours, minutes, or so. I&#39;d use Instant to measure execution times, for example, or store an internal field of sth happening then and there. Calculating next runs, as in your case? LocalDateTime seems appropriate, but it&#39;s an opinion. As you stated, both can be used.","body":"I&#39;d take LocalDateTime whenever I need dates and/or times. In hours, minutes, or so. I&#39;d use Instant to measure execution times, for example, or store an internal field of sth happening then and there. Calculating next runs, as in your case? LocalDateTime seems appropriate, but it&#39;s an opinion. As you stated, both can be used."}],"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1663419751,"creation_date":1441626568,"answer_id":32437995,"question_id":32437550,"body_markdown":"One main difference is the &quot;Local&quot; part of `LocalDateTime`. If you live in Germany and create a `LocalDateTime` instance and someone else lives in the USA and creates another instance at the very same moment (provided the clocks are properly set) - the value of those objects would actually be different. This does not apply to `Instant`, which is calculated independently from a time zone.\r\n\r\n`LocalDateTime` stores date and time without a timezone, but its initial value is timezone-dependent. `Instant`&#39;s is not.\r\n\r\nMoreover, `LocalDateTime` provides methods for manipulating date components like days, hours, and months. An `Instant` does not.\r\n\r\n&gt; apart from the nanosecond precision advantage of `Instant` and the\r\n&gt; time-zone part of `LocalDateTime`\r\n\r\nBoth classes have the same precision. `LocalDateTime` does not store the timezone. Read Javadocs thoroughly, because you may make a big mistake with such invalid assumptions: [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) and [`LocalDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html).","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p>One main difference is the &quot;Local&quot; part of <code>LocalDateTime</code>. If you live in Germany and create a <code>LocalDateTime</code> instance and someone else lives in the USA and creates another instance at the very same moment (provided the clocks are properly set) - the value of those objects would actually be different. This does not apply to <code>Instant</code>, which is calculated independently from a time zone.</p>\n<p><code>LocalDateTime</code> stores date and time without a timezone, but its initial value is timezone-dependent. <code>Instant</code>'s is not.</p>\n<p>Moreover, <code>LocalDateTime</code> provides methods for manipulating date components like days, hours, and months. An <code>Instant</code> does not.</p>\n<blockquote>\n<p>apart from the nanosecond precision advantage of <code>Instant</code> and the\ntime-zone part of <code>LocalDateTime</code></p>\n</blockquote>\n<p>Both classes have the same precision. <code>LocalDateTime</code> does not store the timezone. Read Javadocs thoroughly, because you may make a big mistake with such invalid assumptions: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":84599,"reputation":15850,"user_id":236370,"accept_rate":87,"display_name":"manuel aldana"},"score":0,"creation_date":1441635052,"post_id":32438005,"comment_id":52745280,"body_markdown":"Considering a single time-zone application, in which use-cases would you favor LocalDateTime or vice versa?","body":"Considering a single time-zone application, in which use-cases would you favor LocalDateTime or vice versa?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":3,"creation_date":1441636296,"post_id":32438005,"comment_id":52745956,"body_markdown":"@manuelaldana It is more a matter of taste. I&#39;d prefer LocalDateTime for anything user-related (birthday...) and Instant for anything machine-related (execution time...).","body":"@manuelaldana It is more a matter of taste. I&#39;d prefer LocalDateTime for anything user-related (birthday...) and Instant for anything machine-related (execution time...)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1441644747,"post_id":32438005,"comment_id":52749911,"body_markdown":"@manuelaldana A single time zone app is rare if not nonexistent. You might get away with ignoring time zones for a little app you whipped up for your local Baroque music club. But as soon as you need to post an event to people who travel (and cross time zones) they&#39;ll want that data tied to a time zone so their calendar app can adjust as needed. I suggest you learn to work with time zones properly in all your apps.","body":"@manuelaldana A single time zone app is rare if not nonexistent. You might get away with ignoring time zones for a little app you whipped up for your local Baroque music club. But as soon as you need to post an event to people who travel (and cross time zones) they&#39;ll want that data tied to a time zone so their calendar app can adjust as needed. I suggest you learn to work with time zones properly in all your apps."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1441654536,"post_id":32438005,"comment_id":52753567,"body_markdown":"@Tunaki Your use of the word &#39;offset&#39; in the last paragraph is distracting. That word has a certain meaning in date-time work, so it&#39;s use here in this context could be unhelpful.","body":"@Tunaki Your use of the word &#39;offset&#39; in the last paragraph is distracting. That word has a certain meaning in date-time work, so it&#39;s use here in this context could be unhelpful."}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":4,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1663580898,"creation_date":1441626602,"answer_id":32438005,"question_id":32437550,"body_markdown":"You are wrong about [`LocalDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html): it does not store any time-zone information and it has nanosecond precision. Quoting the Javadoc (emphasis mine):\r\n\r\n&gt;**A date-time without a time-zone in the ISO-8601 calendar system**, such as 2007-12-03T10:15:30.\r\n&gt;\r\n&gt;`LocalDateTime` is an immutable date-time object that represents a date-time, often viewed as year-month-day-hour-minute-second. Other date and time fields, such as day-of-year, day-of-week and week-of-year, can also be accessed. **Time is represented to nanosecond precision**. For example, the value &quot;2nd October 2007 at 13:45.30.123456789&quot; can be stored in a `LocalDateTime`. \r\n\r\nThe difference between the two is that [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) represents an offset from the Epoch (01-01-1970) and, as such, represents a particular instant on the time-line. Two `Instant` objects created at the same moment in two different places on the Earth will have exactly the same value.","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p>You are wrong about <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>: it does not store any time-zone information and it has nanosecond precision. Quoting the Javadoc (emphasis mine):</p>\n<blockquote>\n<p><strong>A date-time without a time-zone in the ISO-8601 calendar system</strong>, such as 2007-12-03T10:15:30.</p>\n<p><code>LocalDateTime</code> is an immutable date-time object that represents a date-time, often viewed as year-month-day-hour-minute-second. Other date and time fields, such as day-of-year, day-of-week and week-of-year, can also be accessed. <strong>Time is represented to nanosecond precision</strong>. For example, the value &quot;2nd October 2007 at 13:45.30.123456789&quot; can be stored in a <code>LocalDateTime</code>.</p>\n</blockquote>\n<p>The difference between the two is that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> represents an offset from the Epoch (01-01-1970) and, as such, represents a particular instant on the time-line. Two <code>Instant</code> objects created at the same moment in two different places on the Earth will have exactly the same value.</p>\n"},{"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":77,"creation_date":1441720514,"post_id":32443004,"comment_id":52781446,"body_markdown":"Great answer. I think some confusion (at least mine) comes from the `Local` naming. My intuition for `Local` means in relation to where I am AND when I am (?!), which leads me to believe that it would actually be what a `ZonedDateTime` is.","body":"Great answer. I think some confusion (at least mine) comes from the <code>Local</code> naming. My intuition for <code>Local</code> means in relation to where I am AND when I am (?!), which leads me to believe that it would actually be what a <code>ZonedDateTime</code> is."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":6,"creation_date":1441728864,"post_id":32443004,"comment_id":52787115,"body_markdown":"Yes it is confusing. That is why java.time cleverly added the word &#39;Zoned&#39; to the `DateTime` class name used by its predecessor Joda-Time (producing `ZonedDateTime`), to stress the difference from the &quot;Local&quot; classes. Think of the name &quot;Local&quot; as being shorthand for &quot;needing to be applied to some particular locality&quot;.","body":"Yes it is confusing. That is why java.time cleverly added the word &#39;Zoned&#39; to the <code>DateTime</code> class name used by its predecessor Joda-Time (producing <code>ZonedDateTime</code>), to stress the difference from the &quot;Local&quot; classes. Think of the name &quot;Local&quot; as being shorthand for &quot;needing to be applied to some particular locality&quot;."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":2,"creation_date":1459448635,"post_id":32443004,"comment_id":60303780,"body_markdown":"Prefixing with the word `Local` may have also been a way to differentiate from the java.util package, though somehow I feel there could have been a better word choice.","body":"Prefixing with the word <code>Local</code> may have also been a way to differentiate from the java.util package, though somehow I feel there could have been a better word choice."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1470802578,"post_id":32443004,"comment_id":65091394,"body_markdown":"@bphilipnyc I’ve had the same feeling about a better word choice. But I’ve yet to think of a better one, except perhaps the clunky term “Unzoned”.","body":"@bphilipnyc I’ve had the same feeling about a better word choice. But I’ve yet to think of a better one, except perhaps the clunky term “Unzoned”."},{"owner":{"account_id":1666904,"reputation":529,"user_id":1534124,"display_name":"simonh"},"score":0,"creation_date":1489829832,"post_id":32443004,"comment_id":72850310,"body_markdown":"Great answer, @Basil Bourque, although i disagree with one assumption - that LocalDate is rarely useful in business apps. I think there are many cases where a date is important but the time portion isn&#39;t. You give an example of when an employee is hired. You&#39;d almost certainly want to use a LocalDate to represent that. No-one wants to see that the employee started at midnight UTC, or 18:30 UTC the previous day if the employee is in India. You just want the date.","body":"Great answer, @Basil Bourque, although i disagree with one assumption - that LocalDate is rarely useful in business apps. I think there are many cases where a date is important but the time portion isn&#39;t. You give an example of when an employee is hired. You&#39;d almost certainly want to use a LocalDate to represent that. No-one wants to see that the employee started at midnight UTC, or 18:30 UTC the previous day if the employee is in India. You just want the date."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1491601557,"post_id":32443004,"comment_id":73643228,"body_markdown":"@simonh On the contrary… When that new employee signs his/her hiring papers defining their benefits including life insurance and then that new hire steps outside for a coffee only to get hit and killed by a truck, there are going to be many people such as Human Resources managers, insurance agents, and attorneys who are going to want to know the precise moment when that new employment took effect.","body":"@simonh On the contrary… When that new employee signs his/her hiring papers defining their benefits including life insurance and then that new hire steps outside for a coffee only to get hit and killed by a truck, there are going to be many people such as Human Resources managers, insurance agents, and attorneys who are going to want to know the precise moment when that new employment took effect."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1501095785,"post_id":32443004,"comment_id":77632762,"body_markdown":"@simonh Yes, there are cases where the &quot;local&quot; date time is appropriate. Besides those mentioned in my Answer, another common case in business is for appointments being made more than a couple months out in the future, far enough out that politicians might change the time zone rules, usually with little forewarning. Politicians frequently make these changes such as changing the dates when going on/off Daylight Saving Time (DST) or staying permanently on/off DST.","body":"@simonh Yes, there are cases where the &quot;local&quot; date time is appropriate. Besides those mentioned in my Answer, another common case in business is for appointments being made more than a couple months out in the future, far enough out that politicians might change the time zone rules, usually with little forewarning. Politicians frequently make these changes such as changing the dates when going on/off Daylight Saving Time (DST) or staying permanently on/off DST."},{"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"score":0,"creation_date":1520351443,"post_id":32443004,"comment_id":85274376,"body_markdown":"According to `org.hibernate.type.descriptor.sql.TimestampTypeDescriptor`, I noticed that, Hibernate do: `Timestamp.from(instant)` before it saves `Instant` date to SQL database as Timestamp. and then sets the timestamp value depending on JDBC Driver Timezone. (hence it is DB Timezone)","body":"According to <code>org.hibernate.type.descriptor.sql.TimestampTypeDescriptor</code>, I noticed that, Hibernate do: <code>Timestamp.from(instant)</code> before it saves <code>Instant</code> date to SQL database as Timestamp. and then sets the timestamp value depending on JDBC Driver Timezone. (hence it is DB Timezone)"},{"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"score":0,"creation_date":1526048591,"post_id":32443004,"comment_id":87605274,"body_markdown":"@BasilBourque In the case of the future appointment, why wouldn&#39;t you still just treat it as a date/time in UTC? Since UTC never changes, just always treat and store in the database in UTC. When displaying to a user you use their timezone rules at that point in time to show them the date/time in the future converted from UTC. Right? So would Instant be the best class to use at all times until needing to convert to a particular locale/timezone?","body":"@BasilBourque In the case of the future appointment, why wouldn&#39;t you still just treat it as a date/time in UTC? Since UTC never changes, just always treat and store in the database in UTC. When displaying to a user you use their timezone rules at that point in time to show them the date/time in the future converted from UTC. Right? So would Instant be the best class to use at all times until needing to convert to a particular locale/timezone?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1526057648,"post_id":32443004,"comment_id":87610752,"body_markdown":"@KevinM Ask a North Korean dentist why all their patients are showing up [a half-hour early this week](http://www.latimes.com/world/asia/la-fg-north-korea-time-20180505-story.html). All the patients are a half-hour ahead of the poorly-designed UTC-based appointment scheduling software.","body":"@KevinM Ask a North Korean dentist why all their patients are showing up <a href=\"http://www.latimes.com/world/asia/la-fg-north-korea-time-20180505-story.html\" rel=\"nofollow noreferrer\">a half-hour early this week</a>. All the patients are a half-hour ahead of the poorly-designed UTC-based appointment scheduling software."},{"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"score":0,"creation_date":1526059062,"post_id":32443004,"comment_id":87611370,"body_markdown":"I get it they can change timezones. Let&#39;s look at this from the database perspective. You are saying that you would store appointments that are only somewhat in the future in UTC but then if it&#39;s far enough in the future you would not store it in UTC? Or would you store everything as UTC and then convert/display them differently based on how far in the future they are? That seems very inconsistent and arbitrary. You seem to be advocating for storing dates in the db Not in UTC and Not with specific timezone information. Or I&#39;m just not following, which is possible","body":"I get it they can change timezones. Let&#39;s look at this from the database perspective. You are saying that you would store appointments that are only somewhat in the future in UTC but then if it&#39;s far enough in the future you would not store it in UTC? Or would you store everything as UTC and then convert/display them differently based on how far in the future they are? That seems very inconsistent and arbitrary. You seem to be advocating for storing dates in the db Not in UTC and Not with specific timezone information. Or I&#39;m just not following, which is possible"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1526060716,"post_id":32443004,"comment_id":87612129,"body_markdown":"If your future appointments are far enough out that a government might, in the interval, change the offset used in that zone, then you must use the *concept* of “3 PM January 27, 2019” without determining a point in the timeline. That means using a `LocalDateTime`; store that. When you need to determine a moment, a point on the timeline, apply a `ZoneId` to get a `ZonedDateTime`. If you want to see UTC, extract an `Instant` from that `ZonedDateTime`. But do not store these. Later, when the gov. does redefine the zone’s offset, you’ll get a different result when applying the `ZoneId`.","body":"If your future appointments are far enough out that a government might, in the interval, change the offset used in that zone, then you must use the <i>concept</i> of “3 PM January 27, 2019” without determining a point in the timeline. That means using a <code>LocalDateTime</code>; store that. When you need to determine a moment, a point on the timeline, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code>. If you want to see UTC, extract an <code>Instant</code> from that <code>ZonedDateTime</code>. But do not store these. Later, when the gov. does redefine the zone’s offset, you’ll get a different result when applying the <code>ZoneId</code>."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":1,"creation_date":1533191158,"post_id":32443004,"comment_id":90257313,"body_markdown":"Great answer.  Just one improvement: `ZonedDateTime` should be viewed as an alternative form to represent an `Instant`, and `ZonedDateTime` is actually `LocalDateTime` + `ZoneId` (instead of `Instant` + `ZoneId`).   In another word: `LocalDateTime + ZoneId` = `ZonedDateTime`; and `ZonedDateTime` can be converted to `Instant`.  I understand the reason you said `ZonedDateTime = Instant + ZoneId`, as you need to specify the timezone you want to convert an `Instant` to a `ZonedDateTime`, but it seems a bit misleading in some aspect (especially if we look into the implementation of `ZonedDateDate`)","body":"Great answer.  Just one improvement: <code>ZonedDateTime</code> should be viewed as an alternative form to represent an <code>Instant</code>, and <code>ZonedDateTime</code> is actually <code>LocalDateTime</code> + <code>ZoneId</code> (instead of <code>Instant</code> + <code>ZoneId</code>).   In another word: <code>LocalDateTime + ZoneId</code> = <code>ZonedDateTime</code>; and <code>ZonedDateTime</code> can be converted to <code>Instant</code>.  I understand the reason you said <code>ZonedDateTime = Instant + ZoneId</code>, as you need to specify the timezone you want to convert an <code>Instant</code> to a <code>ZonedDateTime</code>, but it seems a bit misleading in some aspect (especially if we look into the implementation of <code>ZonedDateDate</code>)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1533323015,"post_id":32443004,"comment_id":90320552,"body_markdown":"@AdrianShum *Conceptually*, adding `LocalDateTime` to this discussion is the wrong way to go. A `ZonedDateTime`, like `Instant`, represents a moment. A `LocalDateTime` *cannot* represent a moment, by definition, lacking the context of a time zone or offset-from-UTC. For example, `LocalDateTime.parse( &quot;2018-03-11T02:30:00&quot; )` (a) is a different moment on the east coast of the US versus the west coast of the US, and (b) does not even exist in much of the United States, as 2 AM to 3 AM is the &quot;Spring Ahead&quot; cutover of Daylight Saving Time (DST). Class implementation details are but a distraction.","body":"@AdrianShum <i>Conceptually</i>, adding <code>LocalDateTime</code> to this discussion is the wrong way to go. A <code>ZonedDateTime</code>, like <code>Instant</code>, represents a moment. A <code>LocalDateTime</code> <i>cannot</i> represent a moment, by definition, lacking the context of a time zone or offset-from-UTC. For example, <code>LocalDateTime.parse( &quot;2018-03-11T02:30:00&quot; )</code> (a) is a different moment on the east coast of the US versus the west coast of the US, and (b) does not even exist in much of the United States, as 2 AM to 3 AM is the &quot;Spring Ahead&quot; cutover of Daylight Saving Time (DST). Class implementation details are but a distraction."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":1,"creation_date":1533365917,"post_id":32443004,"comment_id":90329110,"body_markdown":"Conceptually, simply by the name of ZonedDateTime, it already hinted on what it is: it is a Date + Time (for which in JSR310/Joda, this is modelled as LocalDateTime) , that is Zoned (ie with Time Zone). So it is definitely not incorrect to mention LocalDateTime in discussion.","body":"Conceptually, simply by the name of ZonedDateTime, it already hinted on what it is: it is a Date + Time (for which in JSR310/Joda, this is modelled as LocalDateTime) , that is Zoned (ie with Time Zone). So it is definitely not incorrect to mention LocalDateTime in discussion."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1540309072,"post_id":32443004,"comment_id":92813587,"body_markdown":"I think your statement about business apps is unnecessary and also wrong - time-zone independent data is very important for a lot of businesses; if you need to be sure that your data still is valid in 10/20/30 years you *need* to use classes like these - system misconfigurations and miscalculations can corrupt your timestamps if they are bound to some timezone which is not the case with timezone-free stamps, they represent an abstract point in time which can be represented arbitrarily, depending on your needs. For instance : one could re-calculate everything with new timezones","body":"I think your statement about business apps is unnecessary and also wrong - time-zone independent data is very important for a lot of businesses; if you need to be sure that your data still is valid in 10/20/30 years you <i>need</i> to use classes like these - system misconfigurations and miscalculations can corrupt your timestamps if they are bound to some timezone which is not the case with timezone-free stamps, they represent an abstract point in time which can be represented arbitrarily, depending on your needs. For instance : one could re-calculate everything with new timezones"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1540309852,"post_id":32443004,"comment_id":92814115,"body_markdown":"@specializt Reread my last sentence that starts with “On the other hand”. As I stated there, I agree with you about needing to use `LocalDateTime` to represent a date with time far enough in the future that we risk politicians changing the definition of the offset of their time zone(s).","body":"@specializt Reread my last sentence that starts with “On the other hand”. As I stated there, I agree with you about needing to use <code>LocalDateTime</code> to represent a date with time far enough in the future that we risk politicians changing the definition of the offset of their time zone(s)."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1540369243,"post_id":32443004,"comment_id":92834887,"body_markdown":"its also the case for past timestamps - if (and only if) there is a need for re-calculation and/or re-interpretation; inside of fault-tolerant systems, for instance","body":"its also the case for past timestamps - if (and only if) there is a need for re-calculation and/or re-interpretation; inside of fault-tolerant systems, for instance"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1540395580,"post_id":32443004,"comment_id":92852339,"body_markdown":"@specializt I don’t follow you there. For the past, time zone definitions do not change. So no risk associated with storing a date-time associated with a time zone such as a `ZonedDateTime`. But generally it is best to store passed moments in UTC. That means either an `Instant` or an `OffsetDateTime` set to `ZoneOffset.UTC`. But I don’t see any reason to ever handle a past moment as a `LocalDateTime`.","body":"@specializt I don’t follow you there. For the past, time zone definitions do not change. So no risk associated with storing a date-time associated with a time zone such as a <code>ZonedDateTime</code>. But generally it is best to store passed moments in UTC. That means either an <code>Instant</code> or an <code>OffsetDateTime</code> set to <code>ZoneOffset.UTC</code>. But I don’t see any reason to ever handle a past moment as a <code>LocalDateTime</code>."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1540397329,"post_id":32443004,"comment_id":92853491,"body_markdown":"like i said : if the timestamp is used for calculations and applied timezones could change in the future such a persistence field really is needed. This is the case for fault-tolerant systems and/or especially volatile calculation steps which need to be adjusted in the future according to local law and/or court orders. Calculations like these cannot be fixed to any assumption whatsoever and timezones basically are assumptions of system clock integrity, precision, data source validity and -integrity and so on. Imagine a court order re-defining a formula which has already been applied to data.","body":"like i said : if the timestamp is used for calculations and applied timezones could change in the future such a persistence field really is needed. This is the case for fault-tolerant systems and/or especially volatile calculation steps which need to be adjusted in the future according to local law and/or court orders. Calculations like these cannot be fixed to any assumption whatsoever and timezones basically are assumptions of system clock integrity, precision, data source validity and -integrity and so on. Imagine a court order re-defining a formula which has already been applied to data."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1540397524,"post_id":32443004,"comment_id":92853611,"body_markdown":"@specializt That is true for *future* moments, not *past*.","body":"@specializt That is true for <i>future</i> moments, not <i>past</i>."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1540397878,"post_id":32443004,"comment_id":92853796,"body_markdown":"i think you fail to grasp the basic concept of retroactive and fault-tolerant calculations. Well ... its not that important, these requirements are way above what most programmers have to face and are actually a bit exotic. You just need to know that there are very valid needs for persistence fields like these and they also matter for **past** moments","body":"i think you fail to grasp the basic concept of retroactive and fault-tolerant calculations. Well ... its not that important, these requirements are way above what most programmers have to face and are actually a bit exotic. You just need to know that there are very valid needs for persistence fields like these and they also matter for <b>past</b> moments"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1552340185,"post_id":32443004,"comment_id":96964322,"body_markdown":"@specializt I suggest you post your own Question and Answer  to educate others about this mysterious retroactive and fault-tolerant calculations concept. I am curious.","body":"@specializt I suggest you post your own Question and Answer  to educate others about this mysterious retroactive and fault-tolerant calculations concept. I am curious."},{"owner":{"account_id":4916508,"reputation":696,"user_id":3960315,"accept_rate":100,"display_name":"Arash"},"score":0,"creation_date":1597175758,"post_id":32443004,"comment_id":112047109,"body_markdown":"Hi, **1-** what is difference between `instant.atZone( z )` and `ZonedDateTime.ofInstant( instant , z )`? **2-** If i want to update a field in a page by changing the day, is better to use the *instant* or the *LocalDateTime*?","body":"Hi, <b>1-</b> what is difference between <code>instant.atZone( z )</code> and <code>ZonedDateTime.ofInstant( instant , z )</code>? <b>2-</b> If i want to update a field in a page by changing the day, is better to use the <i>instant</i> or the <i>LocalDateTime</i>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1597349481,"post_id":32443004,"comment_id":112111870,"body_markdown":"@Arash (1) No difference. (2) If you mean to represent a moment, a specific point in time, you cannot use `LocalDateTime`, you must use the other three types as shown on my chart. To represent merely a date with time-of-day but without the context of an offset-from-UTC or a time zone, and therefore inherently ambiguous, use `LocalDateTime`.","body":"@Arash (1) No difference. (2) If you mean to represent a moment, a specific point in time, you cannot use <code>LocalDateTime</code>, you must use the other three types as shown on my chart. To represent merely a date with time-of-day but without the context of an offset-from-UTC or a time zone, and therefore inherently ambiguous, use <code>LocalDateTime</code>."},{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":1,"creation_date":1599722243,"post_id":32443004,"comment_id":112862522,"body_markdown":"@BasilBourque\n\n&gt; Class implementation details are but a distraction\nNot if we consider how `LocalDateTime(&quot;some-dst-overlap-time&quot;).atZone()` works versus `Instant.atZone()`.  \nOr `ZonedDateTime.parse(&quot;some-dst-overlap-time+ANYOFFSETWHATSOEVER[ZoneId]&quot;)`, which works identically to the `LocalDateTime.atZone` variant.  \nThe `LocalDateTime`/`parse` variants will preserve the `LocalDateTime` component in case of law changes/dst, ignoring the offset in the parsed string, while the Instant variant will preserve the Instant.","body":"@BasilBourque  &gt; Class implementation details are but a distraction Not if we consider how <code>LocalDateTime(&quot;some-dst-overlap-time&quot;).atZone()</code> works versus <code>Instant.atZone()</code>.   Or <code>ZonedDateTime.parse(&quot;some-dst-overlap-time+ANYOFFSETWHATSOEV&zwnj;&#8203;ER[ZoneId]&quot;)</code>, which works identically to the <code>LocalDateTime.atZone</code> variant.   The <code>LocalDateTime</code>/<code>parse</code> variants will preserve the <code>LocalDateTime</code> component in case of law changes/dst, ignoring the offset in the parsed string, while the Instant variant will preserve the Instant."},{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":1,"creation_date":1599726429,"post_id":32443004,"comment_id":112864424,"body_markdown":"Wanted to point out that there is an alternative to LocalDateTime in pre-java-8 world.  \nIt&#39;s the java.sql.Timestamp itself.  \n\nIf constructed using `Timestamp.valueOf(string)` and stored in a zone-less db column,then regardless of the tz it will be read back out with toString returning the original time (except the offset).  \n\nA quirk is, that if constructed with string, the milliseconds stored internally are completely awry and depend on the TZ.\nSo, build with millis - get millis. Same for string. Or `.toLocalDateTime` in java 8.\n\nThis is inherent to all java.util.Date based classes.","body":"Wanted to point out that there is an alternative to LocalDateTime in pre-java-8 world.   It&#39;s the java.sql.Timestamp itself.    If constructed using <code>Timestamp.valueOf(string)</code> and stored in a zone-less db column,then regardless of the tz it will be read back out with toString returning the original time (except the offset).    A quirk is, that if constructed with string, the milliseconds stored internally are completely awry and depend on the TZ. So, build with millis - get millis. Same for string. Or <code>.toLocalDateTime</code> in java 8.  This is inherent to all java.util.Date based classes."},{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":0,"creation_date":1670353290,"post_id":32443004,"comment_id":131855702,"body_markdown":"@Basil Bourque  I have a working Android app that uses legacy Date, Calendar and Timestamp functions to provide local date, time and timer features for the user.  Works perfectly but I realize the code should be replaced with more robust and stable java.time code.  Are there any good tutorials about using API desugaring and/or ThreeTenABP to replace my legacy code for API &lt;26.","body":"@Basil Bourque  I have a working Android app that uses legacy Date, Calendar and Timestamp functions to provide local date, time and timer features for the user.  Works perfectly but I realize the code should be replaced with more robust and stable java.time code.  Are there any good tutorials about using API desugaring and/or ThreeTenABP to replace my legacy code for API &lt;26."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1670394044,"post_id":32443004,"comment_id":131863836,"body_markdown":"@AJW [*How to use ThreeTenABP in Android Project*](https://stackoverflow.com/q/38922754/642706). And you can easily use a search engine such as Duck Duck Go, Bing, or Google to find the phrase “API desugaring”.","body":"@AJW <a href=\"https://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABP in Android Project</i></a>. And you can easily use a search engine such as Duck Duck Go, Bing, or Google to find the phrase “API desugaring”."},{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":0,"creation_date":1670442642,"post_id":32443004,"comment_id":131879927,"body_markdown":"@Basil Bourque  Very good, thank you for the reply and info, cheers.","body":"@Basil Bourque  Very good, thank you for the reply and info, cheers."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676737080,"post_id":32443004,"comment_id":133199241,"body_markdown":"@iwat0qs Those stuck on Java 6 or Java 7 should use [*ThreeTen-Backport*](https://www.threeten.org/threetenbp/), not the terrible legacy classes such as`java.sql.Timestamp`. In such an environment, use `Timestamp` only for storing to or retrieving from the database. Immediately convert to/from the *ThreeTen-Backport* types. When parsing/generating text, use *ThreeTen-Backport* classes. And these folks should *really* put some thought into migrating to a modern version of Java.","body":"@iwat0qs Those stuck on Java 6 or Java 7 should use <a href=\"https://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><i>ThreeTen-Backport</i></a>, not the terrible legacy classes such as<code>java.sql.Timestamp</code>. In such an environment, use <code>Timestamp</code> only for storing to or retrieving from the database. Immediately convert to/from the <i>ThreeTen-Backport</i> types. When parsing/generating text, use <i>ThreeTen-Backport</i> classes. And these folks should <i>really</i> put some thought into migrating to a modern version of Java."},{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":0,"creation_date":1676835979,"post_id":32443004,"comment_id":133212991,"body_markdown":"Oh my, I don&#39;t remember what I was thinking back then. I agree with the backport and that sql time types are horrible. But in case the used JDBC drivers, especially in pre Java 8 world or a legacy codebase, are only supporting sql Date, Time and Timestamp, then understanding their quirks in relation to available DB types for time is useful. And not that difficult if you grok time at all.","body":"Oh my, I don&#39;t remember what I was thinking back then. I agree with the backport and that sql time types are horrible. But in case the used JDBC drivers, especially in pre Java 8 world or a legacy codebase, are only supporting sql Date, Time and Timestamp, then understanding their quirks in relation to available DB types for time is useful. And not that difficult if you grok time at all."},{"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"score":0,"creation_date":1684839475,"post_id":32443004,"comment_id":134572646,"body_markdown":"@BasilBourque ORM framework mybatis maps `timestamp with timezone` to `java.time.OffsetDateTime`, do you think it&#39;s the right choice ？","body":"@BasilBourque ORM framework mybatis maps <code>timestamp with timezone</code> to <code>java.time.OffsetDateTime</code>, do you think it&#39;s the right choice ？"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684842080,"post_id":32443004,"comment_id":134573267,"body_markdown":"@WestFarmer Yes, right choice. The JDBC specification correctly maps the SQL standard type `TIMESTAMP WITH TIME ZONE` to the Java type `java.time.OffsetDateTime`.  While the SQL standard uses the words “time zone”, they actually mean offset from UTC. See section 4.5.1 of the [draft of SQL-92](http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt). So **the SQL type is a misnomer**. The SQL standard type should have been named `TIMESTAMP WITH OFFSET`. And you should think of it as such.","body":"@WestFarmer Yes, right choice. The JDBC specification correctly maps the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code> to the Java type <code>java.time.OffsetDateTime</code>.  While the SQL standard uses the words “time zone”, they actually mean offset from UTC. See section 4.5.1 of the <a href=\"http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt\" rel=\"nofollow noreferrer\">draft of SQL-92</a>. So <b>the SQL type is a misnomer</b>. The SQL standard type should have been named <code>TIMESTAMP WITH OFFSET</code>. And you should think of it as such."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":34,"down_vote_count":0,"up_vote_count":1842,"is_accepted":true,"score":1842,"last_activity_date":1660574108,"creation_date":1441644013,"answer_id":32443004,"question_id":32437550,"body_markdown":"\r\n\r\n[![Table of all date-time types in Java, both modern and legacy][1]][1]\r\n\r\n# tl;dr\r\n\r\n`Instant` and `LocalDateTime` are two entirely different animals: One represents a moment, the other does not. \r\n\r\n - `Instant` represents a moment, a specific point in the timeline. \r\n - `LocalDateTime` represents a date and a time-of-day. But lacking a time zone or offset-from-UTC, **this class *cannot* represent a moment**. It represents *potential* moments along a range of about 26 to 27 hours, the range of all time zones around the globe. A `LocalDateTime` value is **inherently ambiguous**.\r\n\r\n\r\n# Incorrect Presumption\r\n\r\n&gt;`LocalDateTime` is rather date/clock representation including time-zones for humans.\r\n\r\nYour statement is incorrect: **A [`LocalDateTime`][2] has *no* time zone**. Having no time zone is the entire point of that class.\r\n\r\nTo quote that class’ doc:\r\n\r\n&gt;This class does not store or represent a time-zone. Instead, it is a description of the date, as used for birthdays, combined with the local time as seen on a wall clock. It cannot represent an instant on the time-line without additional information such as an offset or time-zone.\r\n\r\nSo `Local…` means “not zoned, no offset”.\r\n\r\n# `Instant`\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAn [`Instant`][4] is a moment on the timeline in [UTC][5], a count of [nanoseconds][6] since the epoch of the first moment of 1970 UTC (basically, see class doc for nitty-gritty details). Since most of your business logic, data storage, and data exchange should be in UTC, this is a handy class to be used often. \r\n\r\n    Instant instant = Instant.now() ;  // Capture the current moment in UTC.\r\n\r\n# `OffsetDateTime`\r\n\r\n[![enter image description here][7]][7]\r\n\r\nThe class [`OffsetDateTime`][8] class represents a moment as a date and time with a context of some number of hours-minutes-seconds ahead of, or behind, UTC. The amount of offset, the number of hours-minutes-seconds, is represented by the [`ZoneOffset`][9] class. \r\n\r\nIf the number of hours-minutes-seconds is zero, an [`OffsetDateTime`][8] represents a moment in UTC the same as an [`Instant`][10].\r\n\r\n# `ZoneOffset`\r\n\r\n[![enter image description here][11]][11]\r\n\r\nThe [`ZoneOffset`][9] class represents an [offset-from-UTC][12], a number of hours-minutes-seconds ahead of UTC or behind UTC. \r\n\r\nA `ZoneOffset` is merely a number of hours-minutes-seconds, nothing more. A zone is much more, having a name and a history of changes to offset. So using a zone is always preferable to using a mere offset.\r\n\r\n# `ZoneId` \r\n\r\n[![enter image description here][13]][13]\r\n\r\nA [time zone][14] is represented by the [`ZoneId`][15] class.\r\n\r\nA new day dawns earlier in [Paris][16] than in [Montr&#233;al][17], for example. So we need to move the clock’s hands to better reflect [noon][18] (when the Sun is directly overhead) for a given region. The further away eastward/westward from the UTC line in west Europe/Africa the larger the offset.\r\n\r\nA time zone is a set of rules for handling adjustments and anomalies as practiced by a local community or region. The most common anomaly is the all-too-popular lunacy known as [Daylight Saving Time (DST)][19].\r\n\r\nA time zone has the history of past rules, present rules, and rules confirmed for the near future. \r\n\r\nThese rules change more often than you might expect. Be sure to keep your date-time library&#39;s rules, usually a copy of [the &#39;tz&#39; database][20], up to date. Keeping up-to-date is easier than ever now in Java 8 with Oracle releasing a [Timezone Updater Tool][21].\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `Continent/Region`, such as `America/Montreal`, `Africa/Casablanca`, or `Pacific/Auckland`. Never use the 2-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n\r\n&gt;Time Zone = Offset + Rules of Adjustments\r\n\r\n    ZoneId z = ZoneId.of( “Africa/Tunis” ) ; \r\n\r\n# `ZonedDateTime`\r\n\r\n[![enter image description here][22]][22]\r\n\r\nThink of [`ZonedDateTime`][23] conceptually as an `Instant` with an assigned `ZoneId`.\r\n\r\n&gt;ZonedDateTime = ( Instant + ZoneId )\r\n\r\nTo capture the current moment as seen in the wall-clock time used by the people of a particular region (a time zone):\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;  // Pass a `ZoneId` object such as `ZoneId.of( &quot;Europe/Paris&quot; )`. \r\n\r\nNearly all of your backend, database, business logic, data persistence, data exchange should all be in UTC. But for presentation to users you need to adjust into a time zone expected by the user. This is the purpose of the `ZonedDateTime` class and the [formatter classes][24] used to generate String representations of those date-time values.\r\n\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n    String output = zdt.toString() ;                 // Standard ISO 8601 format.\r\n\r\nYou can generate text in localized format using [`DateTimeFormatter`][25].\r\n    \r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.CANADA_FRENCH ) ; \r\n    String outputFormatted = zdt.format( f ) ;\r\n\r\n&gt;mardi 30 avril 2019 &#224; 23 h 22 min 55 s heure de l’Inde\r\n\r\n# `LocalDate`, `LocalTime`, `LocalDateTime`\r\n\r\n[![Diagram showing only a calendar for a `LocalDate`.][26]][26]\r\n\r\n[![Diagram showing only a clock for a `LocalTime`.][27]][27]\r\n\r\n[![Diagram showing a calendar plus clock for a `LocalDateTime`.][28]][28]\r\n\r\n\r\n\r\nThe &quot;local&quot; date time classes, [`LocalDateTime`][2], [`LocalDate`][29], [`LocalTime`][30], are a different kind of critter. The are not tied to any one locality or time zone. They are not tied to the timeline. **They have no real meaning** until you apply them to a locality to find a point on the timeline.\r\n\r\nThe word “Local” in these class names may be counter-intuitive to the uninitiated. The word means *any* locality, or *every* locality, but *not* a particular locality.\r\n\r\nSo for business apps, the &quot;Local&quot; types are not often used as they represent just the general idea of a possible date or time not a specific moment on the timeline. Business apps tend to care about the exact moment an invoice arrived, a product shipped for transport, an employee was hired, or the taxi left the garage. So business app developers use `Instant` and `ZonedDateTime` classes most commonly. \r\n\r\nSo when would we use `LocalDateTime`? In three situations: \r\n\r\n - We want to apply a certain date and time-of-day across multiple locations.\r\n - We are booking appointments.\r\n - We have an intended yet undetermined time zone. \r\n\r\nNotice that none of these three cases involve a single certain specific point on the timeline, none of these are a moment.\r\n\r\n\r\n## One time-of-day, multiple moments\r\n\r\nSometimes we want to represent a certain time-of-day on a certain date, but want to apply that into multiple localities across time zones. \r\n\r\nFor example, &quot;Christmas starts at midnight on the 25th of December 2015&quot; is a `LocalDateTime`. Midnight strikes at different moments in Paris than in Montr&#233;al, and different again in [Seattle][31] and in [Auckland][32]. \r\n\r\n    LocalDate ld = LocalDate.of( 2018 , Month.DECEMBER , 25 ) ;\r\n    LocalTime lt = LocalTime.MIN ;   // 00:00:00\r\n    LocalDateTime ldt = LocalDateTime.of( ld , lt ) ;  // Christmas morning anywhere. \r\n\r\nAnother example, &quot;Acme Company has a policy that lunchtime starts at 12:30 PM at each of its factories worldwide&quot; is a `LocalTime`. To have real meaning you need to apply it to the timeline to figure the moment of 12:30 at the [Stuttgart][33] factory or 12:30 at the [Rabat][34] factory or 12:30 at the [Sydney][35] factory.\r\n\r\n## Booking appointments\r\n\r\nAnother situation to use `LocalDateTime` is for booking future events (ex: Dentist appointments). These appointments may be far enough out in the future that you risk politicians redefining the time zone. Politicians often give little forewarning, or even no warning at all. If you mean &quot;3 PM next January 23rd&quot; regardless of how the politicians may play with the clock, then you cannot record a moment – that would see 3 PM turn into 2 PM or 4 PM if that region adopted or dropped Daylight Saving Time, for example.\r\n\r\nFor appointments, store a `LocalDateTime` and a `ZoneId`, kept separately. Later, when generating a schedule, on-the-fly determine a moment by calling `LocalDateTime::atZone( ZoneId )` to generate a `ZonedDateTime` object. \r\n\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;  // Given a date, a time-of-day, and a time zone, determine a moment, a point on the timeline.\r\n\r\nIf needed, you can adjust to UTC. Extract an `Instant` from the `ZonedDateTime`.\r\n\r\n    Instant instant = zdt.toInstant() ;  // Adjust from some zone to UTC. Same moment, same point on the timeline, different wall-clock time.\r\n\r\n## Unknown zone\r\n\r\nSome people might use `LocalDateTime` in a situation where the time zone or offset is unknown. \r\n\r\nI consider this case inappropriate and unwise. If a zone or offset is intended but undetermined, you have bad data. That would be like storing a price of a product without knowing the intended currency (dollars, pounds, euros, etc.). Not a good idea.\r\n\r\n# All date-time types\r\n\r\nFor completeness, here is a table of all the possible date-time types, both modern and legacy in Java, as well as those defined by the SQL standard. This might help to place the `Instant` &amp; `LocalDateTime` classes in a larger context.\r\n\r\n\r\n[![Table of all date-time types in Java (both modern &amp; legacy) as well as SQL standard.][36]][36]\r\n\r\n\r\nNotice the odd choices made by the Java team in designing JDBC 4.2. They chose to support all the *java.time* times… except for the two most commonly used classes: `Instant` &amp; `ZonedDateTime`. \r\n\r\nBut not to worry. We can easily convert back and forth. \r\n\r\nConverting `Instant`.\r\n\r\n    // Storing\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\n    // Retrieving\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n    Instant instant = odt.toInstant() ;\r\n\r\nConverting `ZonedDateTime`.\r\n\r\n    // Storing\r\n    OffsetDateTime odt = zdt.toOffsetDateTime() ;\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\n    // Retrieving\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n    ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\r\n    ZonedDateTime zdt = odt.atZone( z ) ; \r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][37]][37]\r\n\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QPhGW.png\r\n  [2]: http://docs.oracle.com/javase/11/docs/api/java/time/LocalDateTime.html\r\n  [3]: https://i.stack.imgur.com/9c9c8.png\r\n  [4]: http://docs.oracle.com/javase/11/docs/api/java/time/Instant.html\r\n  [5]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [6]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [7]: https://i.stack.imgur.com/D3rQ0.png\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneOffset.html\r\n  [10]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\r\n  [11]: https://i.stack.imgur.com/uw7es.png\r\n  [12]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [13]: https://i.stack.imgur.com/fIsUK.jpg\r\n  [14]: https://en.wikipedia.org/wiki/Time_zone\r\n  [15]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneId.html\r\n  [16]: https://en.wikipedia.org/wiki/Paris\r\n  [17]: https://en.wikipedia.org/wiki/Montreal\r\n  [18]: https://en.wikipedia.org/wiki/Noon\r\n  [19]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [20]: https://en.wikipedia.org/wiki/Tz_database\r\n  [21]: http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\r\n  [22]: https://i.stack.imgur.com/2j5Ui.png\r\n  [23]: http://docs.oracle.com/javase/11/docs/api/java/time/ZonedDateTime.html\r\n  [24]: http://docs.oracle.com/javase/11/docs/api/java/time/format/package-summary.html\r\n  [25]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n  [26]: https://i.stack.imgur.com/PJSsX.jpg\r\n  [27]: https://i.stack.imgur.com/WXBy8.jpg\r\n  [28]: https://i.stack.imgur.com/cmEdq.png\r\n  [29]: http://docs.oracle.com/javase/11/docs/api/java/time/LocalDate.html\r\n  [30]: http://docs.oracle.com/javase/11/docs/api/java/time/LocalTime.html\r\n  [31]: https://en.wikipedia.org/wiki/Seattle\r\n  [32]: https://en.wikipedia.org/wiki/Auckland\r\n  [33]: https://en.wikipedia.org/wiki/Stuttgart\r\n  [34]: https://en.wikipedia.org/wiki/Rabat\r\n  [35]: https://en.wikipedia.org/wiki/Sydney\r\n  [36]: https://i.stack.imgur.com/GRtXz.png\r\n  [37]: https://i.stack.imgur.com/Sksw9.png","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p><a href=\"https://i.stack.imgur.com/QPhGW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QPhGW.png\" alt=\"Table of all date-time types in Java, both modern and legacy\" /></a></p>\n<h1>tl;dr</h1>\n<p><code>Instant</code> and <code>LocalDateTime</code> are two entirely different animals: One represents a moment, the other does not.</p>\n<ul>\n<li><code>Instant</code> represents a moment, a specific point in the timeline.</li>\n<li><code>LocalDateTime</code> represents a date and a time-of-day. But lacking a time zone or offset-from-UTC, <strong>this class <em>cannot</em> represent a moment</strong>. It represents <em>potential</em> moments along a range of about 26 to 27 hours, the range of all time zones around the globe. A <code>LocalDateTime</code> value is <strong>inherently ambiguous</strong>.</li>\n</ul>\n<h1>Incorrect Presumption</h1>\n<blockquote>\n<p><code>LocalDateTime</code> is rather date/clock representation including time-zones for humans.</p>\n</blockquote>\n<p>Your statement is incorrect: <strong>A <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> has <em>no</em> time zone</strong>. Having no time zone is the entire point of that class.</p>\n<p>To quote that class’ doc:</p>\n<blockquote>\n<p>This class does not store or represent a time-zone. Instead, it is a description of the date, as used for birthdays, combined with the local time as seen on a wall clock. It cannot represent an instant on the time-line without additional information such as an offset or time-zone.</p>\n</blockquote>\n<p>So <code>Local…</code> means “not zoned, no offset”.</p>\n<h1><code>Instant</code></h1>\n<p><a href=\"https://i.stack.imgur.com/9c9c8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9c9c8.png\" alt=\"enter image description here\" /></a></p>\n<p>An <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> is a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>, a count of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> since the epoch of the first moment of 1970 UTC (basically, see class doc for nitty-gritty details). Since most of your business logic, data storage, and data exchange should be in UTC, this is a handy class to be used often.</p>\n<pre><code>Instant instant = Instant.now() ;  // Capture the current moment in UTC.\n</code></pre>\n<h1><code>OffsetDateTime</code></h1>\n<p><a href=\"https://i.stack.imgur.com/D3rQ0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/D3rQ0.png\" alt=\"enter image description here\" /></a></p>\n<p>The class <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a> class represents a moment as a date and time with a context of some number of hours-minutes-seconds ahead of, or behind, UTC. The amount of offset, the number of hours-minutes-seconds, is represented by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a> class.</p>\n<p>If the number of hours-minutes-seconds is zero, an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a> represents a moment in UTC the same as an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a>.</p>\n<h1><code>ZoneOffset</code></h1>\n<p><a href=\"https://i.stack.imgur.com/uw7es.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uw7es.png\" alt=\"enter image description here\" /></a></p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a> class represents an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a>, a number of hours-minutes-seconds ahead of UTC or behind UTC.</p>\n<p>A <code>ZoneOffset</code> is merely a number of hours-minutes-seconds, nothing more. A zone is much more, having a name and a history of changes to offset. So using a zone is always preferable to using a mere offset.</p>\n<h1><code>ZoneId</code></h1>\n<p><a href=\"https://i.stack.imgur.com/fIsUK.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fIsUK.jpg\" alt=\"enter image description here\" /></a></p>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\">time zone</a> is represented by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> class.</p>\n<p>A new day dawns earlier in <a href=\"https://en.wikipedia.org/wiki/Paris\" rel=\"noreferrer\">Paris</a> than in <a href=\"https://en.wikipedia.org/wiki/Montreal\" rel=\"noreferrer\">Montréal</a>, for example. So we need to move the clock’s hands to better reflect <a href=\"https://en.wikipedia.org/wiki/Noon\" rel=\"noreferrer\">noon</a> (when the Sun is directly overhead) for a given region. The further away eastward/westward from the UTC line in west Europe/Africa the larger the offset.</p>\n<p>A time zone is a set of rules for handling adjustments and anomalies as practiced by a local community or region. The most common anomaly is the all-too-popular lunacy known as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">Daylight Saving Time (DST)</a>.</p>\n<p>A time zone has the history of past rules, present rules, and rules confirmed for the near future.</p>\n<p>These rules change more often than you might expect. Be sure to keep your date-time library's rules, usually a copy of <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"noreferrer\">the 'tz' database</a>, up to date. Keeping up-to-date is easier than ever now in Java 8 with Oracle releasing a <a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\" rel=\"noreferrer\">Timezone Updater Tool</a>.</p>\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"noreferrer\">proper time zone name</a> in the format of <code>Continent/Region</code>, such as <code>America/Montreal</code>, <code>Africa/Casablanca</code>, or <code>Pacific/Auckland</code>. Never use the 2-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!).</p>\n<blockquote>\n<p>Time Zone = Offset + Rules of Adjustments</p>\n</blockquote>\n<pre><code>ZoneId z = ZoneId.of( “Africa/Tunis” ) ; \n</code></pre>\n<h1><code>ZonedDateTime</code></h1>\n<p><a href=\"https://i.stack.imgur.com/2j5Ui.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2j5Ui.png\" alt=\"enter image description here\" /></a></p>\n<p>Think of <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> conceptually as an <code>Instant</code> with an assigned <code>ZoneId</code>.</p>\n<blockquote>\n<p>ZonedDateTime = ( Instant + ZoneId )</p>\n</blockquote>\n<p>To capture the current moment as seen in the wall-clock time used by the people of a particular region (a time zone):</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( z ) ;  // Pass a `ZoneId` object such as `ZoneId.of( &quot;Europe/Paris&quot; )`. \n</code></pre>\n<p>Nearly all of your backend, database, business logic, data persistence, data exchange should all be in UTC. But for presentation to users you need to adjust into a time zone expected by the user. This is the purpose of the <code>ZonedDateTime</code> class and the <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/format/package-summary.html\" rel=\"noreferrer\">formatter classes</a> used to generate String representations of those date-time values.</p>\n<pre><code>ZonedDateTime zdt = instant.atZone( z ) ;\nString output = zdt.toString() ;                 // Standard ISO 8601 format.\n</code></pre>\n<p>You can generate text in localized format using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.CANADA_FRENCH ) ; \nString outputFormatted = zdt.format( f ) ;\n</code></pre>\n<blockquote>\n<p>mardi 30 avril 2019 à 23 h 22 min 55 s heure de l’Inde</p>\n</blockquote>\n<h1><code>LocalDate</code>, <code>LocalTime</code>, <code>LocalDateTime</code></h1>\n<p><a href=\"https://i.stack.imgur.com/PJSsX.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PJSsX.jpg\" alt=\"Diagram showing only a calendar for a LocalDate.\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WXBy8.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WXBy8.jpg\" alt=\"Diagram showing only a clock for a LocalTime.\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cmEdq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cmEdq.png\" alt=\"Diagram showing a calendar plus clock for a LocalDateTime.\" /></a></p>\n<p>The &quot;local&quot; date time classes, <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>, <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a>, <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/LocalTime.html\" rel=\"noreferrer\"><code>LocalTime</code></a>, are a different kind of critter. The are not tied to any one locality or time zone. They are not tied to the timeline. <strong>They have no real meaning</strong> until you apply them to a locality to find a point on the timeline.</p>\n<p>The word “Local” in these class names may be counter-intuitive to the uninitiated. The word means <em>any</em> locality, or <em>every</em> locality, but <em>not</em> a particular locality.</p>\n<p>So for business apps, the &quot;Local&quot; types are not often used as they represent just the general idea of a possible date or time not a specific moment on the timeline. Business apps tend to care about the exact moment an invoice arrived, a product shipped for transport, an employee was hired, or the taxi left the garage. So business app developers use <code>Instant</code> and <code>ZonedDateTime</code> classes most commonly.</p>\n<p>So when would we use <code>LocalDateTime</code>? In three situations:</p>\n<ul>\n<li>We want to apply a certain date and time-of-day across multiple locations.</li>\n<li>We are booking appointments.</li>\n<li>We have an intended yet undetermined time zone.</li>\n</ul>\n<p>Notice that none of these three cases involve a single certain specific point on the timeline, none of these are a moment.</p>\n<h2>One time-of-day, multiple moments</h2>\n<p>Sometimes we want to represent a certain time-of-day on a certain date, but want to apply that into multiple localities across time zones.</p>\n<p>For example, &quot;Christmas starts at midnight on the 25th of December 2015&quot; is a <code>LocalDateTime</code>. Midnight strikes at different moments in Paris than in Montréal, and different again in <a href=\"https://en.wikipedia.org/wiki/Seattle\" rel=\"noreferrer\">Seattle</a> and in <a href=\"https://en.wikipedia.org/wiki/Auckland\" rel=\"noreferrer\">Auckland</a>.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2018 , Month.DECEMBER , 25 ) ;\nLocalTime lt = LocalTime.MIN ;   // 00:00:00\nLocalDateTime ldt = LocalDateTime.of( ld , lt ) ;  // Christmas morning anywhere. \n</code></pre>\n<p>Another example, &quot;Acme Company has a policy that lunchtime starts at 12:30 PM at each of its factories worldwide&quot; is a <code>LocalTime</code>. To have real meaning you need to apply it to the timeline to figure the moment of 12:30 at the <a href=\"https://en.wikipedia.org/wiki/Stuttgart\" rel=\"noreferrer\">Stuttgart</a> factory or 12:30 at the <a href=\"https://en.wikipedia.org/wiki/Rabat\" rel=\"noreferrer\">Rabat</a> factory or 12:30 at the <a href=\"https://en.wikipedia.org/wiki/Sydney\" rel=\"noreferrer\">Sydney</a> factory.</p>\n<h2>Booking appointments</h2>\n<p>Another situation to use <code>LocalDateTime</code> is for booking future events (ex: Dentist appointments). These appointments may be far enough out in the future that you risk politicians redefining the time zone. Politicians often give little forewarning, or even no warning at all. If you mean &quot;3 PM next January 23rd&quot; regardless of how the politicians may play with the clock, then you cannot record a moment – that would see 3 PM turn into 2 PM or 4 PM if that region adopted or dropped Daylight Saving Time, for example.</p>\n<p>For appointments, store a <code>LocalDateTime</code> and a <code>ZoneId</code>, kept separately. Later, when generating a schedule, on-the-fly determine a moment by calling <code>LocalDateTime::atZone( ZoneId )</code> to generate a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZonedDateTime zdt = ldt.atZone( z ) ;  // Given a date, a time-of-day, and a time zone, determine a moment, a point on the timeline.\n</code></pre>\n<p>If needed, you can adjust to UTC. Extract an <code>Instant</code> from the <code>ZonedDateTime</code>.</p>\n<pre><code>Instant instant = zdt.toInstant() ;  // Adjust from some zone to UTC. Same moment, same point on the timeline, different wall-clock time.\n</code></pre>\n<h2>Unknown zone</h2>\n<p>Some people might use <code>LocalDateTime</code> in a situation where the time zone or offset is unknown.</p>\n<p>I consider this case inappropriate and unwise. If a zone or offset is intended but undetermined, you have bad data. That would be like storing a price of a product without knowing the intended currency (dollars, pounds, euros, etc.). Not a good idea.</p>\n<h1>All date-time types</h1>\n<p>For completeness, here is a table of all the possible date-time types, both modern and legacy in Java, as well as those defined by the SQL standard. This might help to place the <code>Instant</code> &amp; <code>LocalDateTime</code> classes in a larger context.</p>\n<p><a href=\"https://i.stack.imgur.com/GRtXz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GRtXz.png\" alt=\"Table of all date-time types in Java (both modern &amp; legacy) as well as SQL standard.\" /></a></p>\n<p>Notice the odd choices made by the Java team in designing JDBC 4.2. They chose to support all the <em>java.time</em> times… except for the two most commonly used classes: <code>Instant</code> &amp; <code>ZonedDateTime</code>.</p>\n<p>But not to worry. We can easily convert back and forth.</p>\n<p>Converting <code>Instant</code>.</p>\n<pre><code>// Storing\nOffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\nmyPreparedStatement.setObject( … , odt ) ;\n\n// Retrieving\nOffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\nInstant instant = odt.toInstant() ;\n</code></pre>\n<p>Converting <code>ZonedDateTime</code>.</p>\n<pre><code>// Storing\nOffsetDateTime odt = zdt.toOffsetDateTime() ;\nmyPreparedStatement.setObject( … , odt ) ;\n\n// Retrieving\nOffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\nZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\nZonedDateTime zdt = odt.atZone( z ) ; \n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Sksw9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Sksw9.png\" alt=\"Table of which java.time library to use with which version of Java or Android\" /></a></p>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":499397,"reputation":831,"user_id":1063628,"display_name":"Sebien"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1653741903,"creation_date":1653741903,"answer_id":72415821,"question_id":32437550,"body_markdown":"LocalDateTime has no time-zone information: one LocalDateTime may represent different instants for different machines around the world. So you should not try to use it with an implicit time-zone (the system&#39;s default one). You should use it for what it represents, for instance &quot;New-year is January 1st, at 0:00&quot;: this means a different time at all points on the globe but it&#39;s wanted in this case.\r\n\r\nInstant is a point in time at the Greenwich time-zone. Use it in addition to the user&#39;s time-zone to show him/her the start of a meeting in his/her time-zone, for instance.\r\n\r\nIf these two classes do not represent what you wanted to store/exchange, then maybe ZonedDateTime or another class may do a better job.\r\n\r\nHere is a simple synthetic schema to get the big-picture of the classes in the java.time package and their relation to the ISO-8601 standard used to reliably and effortlessly exchange dates and times between Java and other languages or frameworks:\r\n\r\n[![Classes of the java.time package and their relations to the ISO-8601 standard][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/UF4J9.png\r\n\r\nThe schema is explained in details here: http://slaout.linux62.org/java-date-time/","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p>LocalDateTime has no time-zone information: one LocalDateTime may represent different instants for different machines around the world. So you should not try to use it with an implicit time-zone (the system's default one). You should use it for what it represents, for instance &quot;New-year is January 1st, at 0:00&quot;: this means a different time at all points on the globe but it's wanted in this case.</p>\n<p>Instant is a point in time at the Greenwich time-zone. Use it in addition to the user's time-zone to show him/her the start of a meeting in his/her time-zone, for instance.</p>\n<p>If these two classes do not represent what you wanted to store/exchange, then maybe ZonedDateTime or another class may do a better job.</p>\n<p>Here is a simple synthetic schema to get the big-picture of the classes in the java.time package and their relation to the ISO-8601 standard used to reliably and effortlessly exchange dates and times between Java and other languages or frameworks:</p>\n<p><a href=\"https://i.stack.imgur.com/UF4J9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UF4J9.png\" alt=\"Classes of the java.time package and their relations to the ISO-8601 standard\" /></a></p>\n<p>The schema is explained in details here: <a href=\"http://slaout.linux62.org/java-date-time/\" rel=\"noreferrer\">http://slaout.linux62.org/java-date-time/</a></p>\n"},{"tags":[],"owner":{"account_id":22455373,"reputation":68,"user_id":16658134,"display_name":"C&#233;dric Schaller"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695056226,"creation_date":1695056226,"answer_id":77129075,"question_id":32437550,"body_markdown":"I have dealt with time zones in many projects in my career. With hindsight, I must admit that we never got it 100% right because of the surprising complexity of the topic. This is why I decided to write a [blog post](https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c) with a detailed coverage of the `java.time` package. \r\n\r\nThere already are many excellent answers to the question posted above, but this [blog post](https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c) goes beyond just Java and also covers the interaction with technologies like relational DBs, NoSQL DBs (e.g. MongoDB) or JavaScript, which typically have a much more restrictive support than Java when it comes to time zones.\r\n\r\nWhile I do recommend reading [the article](https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c) to get a detailed understanding of all the concepts, I would like to add two schemas from my post to give a quick overview. \r\n\r\nThe first diagram summarizes the features of the `java.time` classes which describe a point in time. Some classes stand for an absolute (or unequivocal) point in time (called moment), while others like `LocalDateTime` only describe a so-called wall-clock time:\r\n\r\n[![Summary of the features of the `java.time` classes describing a point in time][1]][1]\r\n\r\nThe second schema provides a decision tree which will help you pick the right class for your use case. \r\n\r\n[![Decision tree to help you pick the right class for your use case.][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E3CDO.jpg\r\n  [2]: https://i.stack.imgur.com/Li5H3.png\r\n\r\nSome of the decisions to make in this decision tree are anything but trivial. There are explained in more detail in [my blog post](https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c). ","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p>I have dealt with time zones in many projects in my career. With hindsight, I must admit that we never got it 100% right because of the surprising complexity of the topic. This is why I decided to write a <a href=\"https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c\" rel=\"nofollow noreferrer\">blog post</a> with a detailed coverage of the <code>java.time</code> package.</p>\n<p>There already are many excellent answers to the question posted above, but this <a href=\"https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c\" rel=\"nofollow noreferrer\">blog post</a> goes beyond just Java and also covers the interaction with technologies like relational DBs, NoSQL DBs (e.g. MongoDB) or JavaScript, which typically have a much more restrictive support than Java when it comes to time zones.</p>\n<p>While I do recommend reading <a href=\"https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c\" rel=\"nofollow noreferrer\">the article</a> to get a detailed understanding of all the concepts, I would like to add two schemas from my post to give a quick overview.</p>\n<p>The first diagram summarizes the features of the <code>java.time</code> classes which describe a point in time. Some classes stand for an absolute (or unequivocal) point in time (called moment), while others like <code>LocalDateTime</code> only describe a so-called wall-clock time:</p>\n<p><a href=\"https://i.stack.imgur.com/E3CDO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E3CDO.jpg\" alt=\"Summary of the features of the java.time classes describing a point in time\" /></a></p>\n<p>The second schema provides a decision tree which will help you pick the right class for your use case.</p>\n<p><a href=\"https://i.stack.imgur.com/Li5H3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Li5H3.png\" alt=\"Decision tree to help you pick the right class for your use case.\" /></a></p>\n<p>Some of the decisions to make in this decision tree are anything but trivial. There are explained in more detail in <a href=\"https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c\" rel=\"nofollow noreferrer\">my blog post</a>.</p>\n"}],"owner":{"account_id":84599,"reputation":15850,"user_id":236370,"accept_rate":87,"display_name":"manuel aldana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250100,"favorite_count":0,"down_vote_count":3,"up_vote_count":544,"accepted_answer_id":32443004,"answer_count":5,"score":541,"last_activity_date":1695056226,"creation_date":1441625154,"question_id":32437550,"body_markdown":"I know that:\r\n\r\n- **Instant** is rather a &quot;technical&quot; timestamp representation (nanoseconds) for computing.\r\n- **LocalDateTime** is rather date/clock representation &lt;strike&gt;including time-zones&lt;/strike&gt; for humans.\r\n\r\nStill in the end IMO both can be taken as types for most application use cases. As an example: currently, I am running a batch job where I need to calculate the next run based on dates and I am struggling to find pros/cons between these two types (apart from the nanosecond precision advantage of `Instant` and the time-zone part of `LocalDateTime`).\r\n\r\nCan you name some application examples where only `Instant` or `LocalDateTime` should be used?\r\n\r\n*Edit: Beware of misread documentations for `LocalDateTime` regarding precision and time-zone.*  ","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p>I know that:</p>\n<ul>\n<li><strong>Instant</strong> is rather a &quot;technical&quot; timestamp representation (nanoseconds) for computing.</li>\n<li><strong>LocalDateTime</strong> is rather date/clock representation <strike>including time-zones</strike> for humans.</li>\n</ul>\n<p>Still in the end IMO both can be taken as types for most application use cases. As an example: currently, I am running a batch job where I need to calculate the next run based on dates and I am struggling to find pros/cons between these two types (apart from the nanosecond precision advantage of <code>Instant</code> and the time-zone part of <code>LocalDateTime</code>).</p>\n<p>Can you name some application examples where only <code>Instant</code> or <code>LocalDateTime</code> should be used?</p>\n<p><em>Edit: Beware of misread documentations for <code>LocalDateTime</code> regarding precision and time-zone.</em></p>\n"},{"tags":["java","android","xml","android-layout","user-interface"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1695056869,"post_id":77129044,"comment_id":135970273,"body_markdown":"Have you seen/tried: https://developer.android.com/studio/debug/layout-inspector","body":"Have you seen/tried: <a href=\"https://developer.android.com/studio/debug/layout-inspector\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug/layout-inspector</a>"},{"owner":{"account_id":17119275,"reputation":15,"user_id":12387939,"display_name":"C James"},"score":0,"creation_date":1695132701,"post_id":77129044,"comment_id":135981270,"body_markdown":"I hadn&#39;t seen that before, so thank you, but unfortunately this didn&#39;t have any information to help me resolve my issue :(","body":"I hadn&#39;t seen that before, so thank you, but unfortunately this didn&#39;t have any information to help me resolve my issue :("},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1695141947,"post_id":77129044,"comment_id":135983280,"body_markdown":"I would review the &#39;good&#39; and &#39;bad&#39; versions of your layout/device render to see if you can identify the layer/view issue. Otherwise should edit your post to include details of your layout XML, if you (or any libraries) are doing any dynamic alterations, if it always appears or just in certain parts of your app, and how you are testing (physical or emulator).","body":"I would review the &#39;good&#39; and &#39;bad&#39; versions of your layout/device render to see if you can identify the layer/view issue. Otherwise should edit your post to include details of your layout XML, if you (or any libraries) are doing any dynamic alterations, if it always appears or just in certain parts of your app, and how you are testing (physical or emulator)."}],"owner":{"account_id":17119275,"reputation":15,"user_id":12387939,"display_name":"C James"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695055994,"creation_date":1695055994,"question_id":77129044,"body_markdown":"While running my app with AVD on android studio, with a tall device like Pixel 6, a strange white bar appears on top of the screen. However, when i run it with an average sized device like a Pixel 2, it doesn&#39;t show. How can i fix this?\r\n\r\n[![White Bar across top of screen](https://i.stack.imgur.com/CvTbt.png)](https://i.stack.imgur.com/CvTbt.png)\r\n\r\nUnsure where to go from here to be honest, any suggestions and explanations are very welcome :)","title":"How to remove white bar that appears on top of screen for larger devices on android studio?","body":"<p>While running my app with AVD on android studio, with a tall device like Pixel 6, a strange white bar appears on top of the screen. However, when i run it with an average sized device like a Pixel 2, it doesn't show. How can i fix this?</p>\n<p><a href=\"https://i.stack.imgur.com/CvTbt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CvTbt.png\" alt=\"White Bar across top of screen\" /></a></p>\n<p>Unsure where to go from here to be honest, any suggestions and explanations are very welcome :)</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":3495583,"reputation":51,"user_id":2923917,"display_name":"user2923917"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694809214,"creation_date":1694781977,"answer_id":77112491,"question_id":77112457,"body_markdown":"I just noticed, &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;Space&lt;/kbd&gt; can be used to bring back the parameter list.","title":"Eclipse content-assist shows java method parameters only before I start typing","body":"<p>I just noticed, <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>Space</kbd> can be used to bring back the parameter list.</p>\n"},{"tags":[],"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695055823,"creation_date":1695055823,"answer_id":77129026,"question_id":77112457,"body_markdown":"The popup you&#39;re missing is at `Edit` → `Content Assist` → `Parameter Hints`. You can change the binding in the Eclipse configuration if the default &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Space&lt;/kbd&gt; doesn&#39;t feel natural.","title":"Eclipse content-assist shows java method parameters only before I start typing","body":"<p>The popup you're missing is at <code>Edit</code> → <code>Content Assist</code> → <code>Parameter Hints</code>. You can change the binding in the Eclipse configuration if the default <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Space</kbd> doesn't feel natural.</p>\n"}],"owner":{"account_id":3495583,"reputation":51,"user_id":2923917,"display_name":"user2923917"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1695055823,"creation_date":1694781695,"question_id":77112457,"body_markdown":"As of recently, I am having a problem with eclipse content assist, which is driving me crazy.\r\n\r\nwhen starting typing method parameters, eclipse typically shows the parameter names and types. &quot;previously&quot; that tooltip stayed open and showed me with a bold font, which parameter I am actually specifing.\r\nHowever, recently this behaviour changed: I get that content assist tooltip only when I haven&#39;t entered any parameter. if I use auto-completion for e.g. a method-parameter, that parameter-list is gone forever - Ctrl+Space simply shows the available local variables.\r\n\r\n1. after typing a method-name, the parameters are shown:\r\n[enter image description here](https://i.stack.imgur.com/RQSQl.png)\r\n\r\n2. after using auto-completion (or some other popup, etc) which causes the parameter-list to disappear, pressing Ctrl+&lt;Space&gt; doesn&#39;t bring it back. Instead I only get a list of local variables:\r\n[enter image description here](https://i.stack.imgur.com/1KEuB.png)\r\n\r\n\r\nI would expect that the method parameter popup would re-appear on pressing Ctrl+&lt;SPACE&gt;","title":"Eclipse content-assist shows java method parameters only before I start typing","body":"<p>As of recently, I am having a problem with eclipse content assist, which is driving me crazy.</p>\n<p>when starting typing method parameters, eclipse typically shows the parameter names and types. &quot;previously&quot; that tooltip stayed open and showed me with a bold font, which parameter I am actually specifing.\nHowever, recently this behaviour changed: I get that content assist tooltip only when I haven't entered any parameter. if I use auto-completion for e.g. a method-parameter, that parameter-list is gone forever - Ctrl+Space simply shows the available local variables.</p>\n<ol>\n<li><p>after typing a method-name, the parameters are shown:\n<a href=\"https://i.stack.imgur.com/RQSQl.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n<li><p>after using auto-completion (or some other popup, etc) which causes the parameter-list to disappear, pressing Ctrl+ doesn't bring it back. Instead I only get a list of local variables:\n<a href=\"https://i.stack.imgur.com/1KEuB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n</ol>\n<p>I would expect that the method parameter popup would re-appear on pressing Ctrl+</p>\n"},{"tags":["java","transactions","microservices","message-queue"],"comments":[{"owner":{"account_id":12347923,"reputation":185,"user_id":9008002,"display_name":"Ivan Baranuk"},"score":2,"creation_date":1607118489,"post_id":65151125,"comment_id":115181745,"body_markdown":"I think all queues support &#39;acknowledgment&#39; (or some other action that will update offset) Basically if you need to be sure that message is received and handled your flow will be: 1. poll 2. handle 3. acknowledge","body":"I think all queues support &#39;acknowledgment&#39; (or some other action that will update offset) Basically if you need to be sure that message is received and handled your flow will be: 1. poll 2. handle 3. acknowledge"},{"owner":{"account_id":12347923,"reputation":185,"user_id":9008002,"display_name":"Ivan Baranuk"},"score":1,"creation_date":1607119193,"post_id":65151125,"comment_id":115181975,"body_markdown":"In case of crush on (1) and (2) you have acknowledgment (3). If your process is crushed before sending acknowledgment message Broker still will be thinking that message not handled by client.\nAbout (3) - I actually was thinking that this step could rise your concerns and unfortunately it is out of my league to disperse it.","body":"In case of crush on (1) and (2) you have acknowledgment (3). If your process is crushed before sending acknowledgment message Broker still will be thinking that message not handled by client. About (3) - I actually was thinking that this step could rise your concerns and unfortunately it is out of my league to disperse it."},{"owner":{"account_id":14473519,"reputation":2064,"user_id":10454736,"display_name":"Tushar Mahajan"},"score":0,"creation_date":1607503055,"post_id":65151125,"comment_id":115289821,"body_markdown":"I guess you are aware about distributed transactions !!","body":"I guess you are aware about distributed transactions !!"}],"answers":[{"comments":[{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1607552314,"post_id":65207217,"comment_id":115312567,"body_markdown":"I think you are right. I&#39;ve read quite a bit these last days, and the whole point is to avoid the &quot;safe and slow&quot; technology of 2PC (e.g. JMS). Now, with IDEMPOTENT messages and the ACK strategy you indicate there should be no problem.","body":"I think you are right. I&#39;ve read quite a bit these last days, and the whole point is to avoid the &quot;safe and slow&quot; technology of 2PC (e.g. JMS). Now, with IDEMPOTENT messages and the ACK strategy you indicate there should be no problem."}],"tags":[],"owner":{"account_id":5422541,"reputation":346,"user_id":4315779,"accept_rate":25,"display_name":"M.R. Murazza"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1607463189,"creation_date":1607463189,"answer_id":65207217,"question_id":65151125,"body_markdown":"as Ivan Baranuk said in the comment. Most message broker has `acknowledgement`.  and deadletter queue (DLQ) too.\r\n\r\nAs long as the crashes happened before the `acknowledgement` (could be handled by the library you are using or you could handle it manually), you would not lose your message, since it will got re-queued. If the crashes still happens after several times and it exceed `maxRetryAttempt` it will be passed to DLQ for you to handle it.\r\n\r\nJust think like queue acknowledgement is equivalent to DB commit.\r\n\r\nextra: I do think DB transactional is important when consuming message. To handle cases where you have multiple DB writes when consuming message and then on the middle of the process your app crash. When it crashed, the message would not be `ack`-ed and it will got re-queued and will get consumed again later on. It is to prevent double write on the second time the message is consumed.","title":"Do I need transactional queues in Microservices?","body":"<p>as Ivan Baranuk said in the comment. Most message broker has <code>acknowledgement</code>.  and deadletter queue (DLQ) too.</p>\n<p>As long as the crashes happened before the <code>acknowledgement</code> (could be handled by the library you are using or you could handle it manually), you would not lose your message, since it will got re-queued. If the crashes still happens after several times and it exceed <code>maxRetryAttempt</code> it will be passed to DLQ for you to handle it.</p>\n<p>Just think like queue acknowledgement is equivalent to DB commit.</p>\n<p>extra: I do think DB transactional is important when consuming message. To handle cases where you have multiple DB writes when consuming message and then on the middle of the process your app crash. When it crashed, the message would not be <code>ack</code>-ed and it will got re-queued and will get consumed again later on. It is to prevent double write on the second time the message is consumed.</p>\n"},{"tags":[],"owner":{"account_id":1600450,"reputation":962,"user_id":1481572,"accept_rate":57,"display_name":"heapoverflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695055804,"creation_date":1695055804,"answer_id":77129023,"question_id":65151125,"body_markdown":"This is a good question but could be phrased better. I assume you are asking what happens when the worker node that handles the message writes some data to a database and then crashes before it can finish writing the remainder of the data to the database. In other words, the worker node consuming the message crashes at some point before it is able to finish processing the whole message. We are left in a situation where the data in the database is corrupted because only some writes to the database have been performed but not all of the writes that were expected. A good analogy would be saying instructions for something over the phone and the call gets cut off midway. What does the recipient of the call do? Cancel every instruction that was performed before call got cut off or redial the caller to continue from where the call was cut off? What if redialing is not possible because there is no caller ID hence no number to redial?\r\n\r\nWe now have two options: 1) discard the writes that have taken place so that we can have a clean slate and can restart processing from the beginning, or 2) figure out what has been already written and continue from there.\r\n\r\nIf option 1 - you need figure out what object the database writes were taking place on and delete that object entry completely from the database. The trick here is keeping track of the unique identifier of that object while consuming the message during processing. You need some form of separate persistent storage for that, such as a cache or other kind of key/value store.\r\n\r\nIf option 2 - you need to not only figure out the unique identifier of the object but keep a running log of what actions are performed on that object in the database. This is more work and may leave you with objects in the database that are left in their incomplete state and waste space and make database administration harder to perform. ","title":"Do I need transactional queues in Microservices?","body":"<p>This is a good question but could be phrased better. I assume you are asking what happens when the worker node that handles the message writes some data to a database and then crashes before it can finish writing the remainder of the data to the database. In other words, the worker node consuming the message crashes at some point before it is able to finish processing the whole message. We are left in a situation where the data in the database is corrupted because only some writes to the database have been performed but not all of the writes that were expected. A good analogy would be saying instructions for something over the phone and the call gets cut off midway. What does the recipient of the call do? Cancel every instruction that was performed before call got cut off or redial the caller to continue from where the call was cut off? What if redialing is not possible because there is no caller ID hence no number to redial?</p>\n<p>We now have two options: 1) discard the writes that have taken place so that we can have a clean slate and can restart processing from the beginning, or 2) figure out what has been already written and continue from there.</p>\n<p>If option 1 - you need figure out what object the database writes were taking place on and delete that object entry completely from the database. The trick here is keeping track of the unique identifier of that object while consuming the message during processing. You need some form of separate persistent storage for that, such as a cache or other kind of key/value store.</p>\n<p>If option 2 - you need to not only figure out the unique identifier of the object but keep a running log of what actions are performed on that object in the database. This is more work and may leave you with objects in the database that are left in their incomplete state and waste space and make database administration harder to perform.</p>\n"}],"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":65207217,"answer_count":2,"score":-2,"last_activity_date":1695055804,"creation_date":1607118081,"question_id":65151125,"body_markdown":"I&#39;m learning about microservices and I understand that in my scenario I want microservices to communicate with each other using message queues, with persistence. That means if the instance crashes and the message is not consummed, it will be consumed when the instance bounces back (or maybe by another instance).\r\n\r\nNow, since these messages are critical, shouldn&#39;t they be transactional and participate in the **micro** database transaction? I see examples using Kafka or RabbitMQ but these queue implementations don&#39;t implement transactions. If they don&#39;t do it there&#39;s a clear chance some messages could be lost.\r\n\r\nAre transactions really needed for microservices at all? Or should I design my microservices in a resilient way so they can lose information, and recover from this scenario?\r\n\r\nMaybe my question doesn&#39;t make sense. Maybe I&#39;m still thinking in the &quot;monolithic&quot; way where isolation, locking, and transactions are king.\r\n","title":"Do I need transactional queues in Microservices?","body":"<p>I'm learning about microservices and I understand that in my scenario I want microservices to communicate with each other using message queues, with persistence. That means if the instance crashes and the message is not consummed, it will be consumed when the instance bounces back (or maybe by another instance).</p>\n<p>Now, since these messages are critical, shouldn't they be transactional and participate in the <strong>micro</strong> database transaction? I see examples using Kafka or RabbitMQ but these queue implementations don't implement transactions. If they don't do it there's a clear chance some messages could be lost.</p>\n<p>Are transactions really needed for microservices at all? Or should I design my microservices in a resilient way so they can lose information, and recover from this scenario?</p>\n<p>Maybe my question doesn't make sense. Maybe I'm still thinking in the &quot;monolithic&quot; way where isolation, locking, and transactions are king.</p>\n"},{"tags":["java","junit","junit4","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695059156,"post_id":77128936,"comment_id":135970707,"body_markdown":"Just because you don&#39;t want 100% test coverage, if the coverage suddenly dropped from, say, 83% to 61% that would be a sign to watch out for.","body":"Just because you don&#39;t want 100% test coverage, if the coverage suddenly dropped from, say, 83% to 61% that would be a sign to watch out for."}],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695054848,"creation_date":1695054848,"question_id":77128936,"body_markdown":"In a project, I found out that ***some junit tests were not run.***\r\nThere was a mix of junit4 and junit5 tests, IntelliJ Idea was able to run any tests,\r\nbut `gradle build` ignored some of them. The problem was fixed by fixing `dependencies { testImplementation ... }`, **BUT** ***for some unknown time during development some tests were silently ignored.*** I think that the problem is fixed now, but this is just my guess.\r\n\r\n**Question:** Is there a way to verify that all classes with tests have been actually run rather than ignored?\r\n\r\n(As to looking at test coverage, in the case of this project it would require too much thinking. There has been no requirement of 100% test coverage, some portions of the code are not covered with tests and this is normal. In other words, I do not want 100% test coverage, I want 100% execution of existing tests.)\r\n\r\n","title":"junit verify that all tests were run","body":"<p>In a project, I found out that <em><strong>some junit tests were not run.</strong></em>\nThere was a mix of junit4 and junit5 tests, IntelliJ Idea was able to run any tests,\nbut <code>gradle build</code> ignored some of them. The problem was fixed by fixing <code>dependencies { testImplementation ... }</code>, <strong>BUT</strong> <em><strong>for some unknown time during development some tests were silently ignored.</strong></em> I think that the problem is fixed now, but this is just my guess.</p>\n<p><strong>Question:</strong> Is there a way to verify that all classes with tests have been actually run rather than ignored?</p>\n<p>(As to looking at test coverage, in the case of this project it would require too much thinking. There has been no requirement of 100% test coverage, some portions of the code are not covered with tests and this is normal. In other words, I do not want 100% test coverage, I want 100% execution of existing tests.)</p>\n"},{"tags":["java","android","storage","android-sdcard"],"answers":[{"tags":[],"owner":{"account_id":3735471,"reputation":1839,"user_id":3106508,"display_name":"gilonm"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1412070239,"creation_date":1412070239,"answer_id":26117655,"question_id":26117511,"body_markdown":"Based on a previous answer, the path to external SD card actually varies with different device manufactures.\r\n\r\n*&quot;`Environment.getExternalStorageDirectory()` refers to whatever the device manufacturer considered to be &quot;external storage&quot;. On some devices, this is removable media, like an SD card. On some devices, this is a portion of on-device flash. Here, &quot;external storage&quot; means &quot;the stuff accessible via USB Mass Storage mode when mounted on a host machine&quot;, at least for Android 1.x and 2.x.\r\nBut the question is about external SD. How to get a path like &quot;/mnt/sdcard/external_sd&quot; (it may differ from device to device)?\r\nAndroid has no concept of &quot;external SD&quot;, aside from external storage, as described above.\r\nIf a device manufacturer has elected to have external storage be on-board flash and also has an SD card, you will need to contact that manufacturer to determine whether or not you can use the SD card (not guaranteed) and what the rules are for using it, such as what path to use for it.&quot;*\r\n\r\nBased on [this][1] answer.\r\n\r\nSo, There is no absolute way to get this path via code.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5694933/find-an-external-sd-card-location","title":"Get correct path to External SDCard in android","body":"<p>Based on a previous answer, the path to external SD card actually varies with different device manufactures.</p>\n\n<p><em>\"<code>Environment.getExternalStorageDirectory()</code> refers to whatever the device manufacturer considered to be \"external storage\". On some devices, this is removable media, like an SD card. On some devices, this is a portion of on-device flash. Here, \"external storage\" means \"the stuff accessible via USB Mass Storage mode when mounted on a host machine\", at least for Android 1.x and 2.x.\nBut the question is about external SD. How to get a path like \"/mnt/sdcard/external_sd\" (it may differ from device to device)?\nAndroid has no concept of \"external SD\", aside from external storage, as described above.\nIf a device manufacturer has elected to have external storage be on-board flash and also has an SD card, you will need to contact that manufacturer to determine whether or not you can use the SD card (not guaranteed) and what the rules are for using it, such as what path to use for it.\"</em></p>\n\n<p>Based on <a href=\"https://stackoverflow.com/questions/5694933/find-an-external-sd-card-location\">this</a> answer.</p>\n\n<p>So, There is no absolute way to get this path via code.</p>\n"},{"tags":[],"owner":{"account_id":3527131,"reputation":584,"user_id":4090156,"display_name":"sudo_rizwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434972594,"creation_date":1431699699,"answer_id":30261902,"question_id":26117511,"body_markdown":"As gilonm mentioned, external (removable) Sd path varies from device to device, but I wrote a method, which iterates through all the different ext paths that the different manufacturers use, and then it finds the exact match. \r\n\r\nIt returns empty String if path isn&#39;t found. If a path is found, you still need to verify whether the card is inserted or not. (By checking if sub-folders exist on that path)\r\n\r\nNote: I used [StreamSupport][1] library inside the method, so you&#39;ll need to download the jar file and add it to libs folder of your project and that&#39;s it, it&#39;ll work!\r\n\r\n       public static String getExternalSdPath(Context context) {\r\n        List&lt;String&gt; listOfFoldersToSearch = Arrays.asList(&quot;/storage/&quot;, &quot;/mnt/&quot;, &quot;/removable/&quot;, &quot;/data/&quot;);\r\n        final List&lt;String&gt; listOf2DepthFolders = Arrays.asList(&quot;sdcard0&quot;, &quot;media_rw&quot;, &quot;removable&quot;);\r\n        final List&lt;String&gt; listOfExtFolders = Arrays.asList(&quot;sdcard1&quot;, &quot;extsdcard&quot;, &quot;external_sd&quot;, &quot;microsd&quot;, &quot;emmc&quot;, &quot;ext_sd&quot;, &quot;sdext&quot;,\r\n                &quot;sdext1&quot;, &quot;sdext2&quot;, &quot;sdext3&quot;, &quot;sdext4&quot;);\r\n        final String[] thePath = {&quot;&quot;};\r\n        Optional&lt;File&gt; optional = StreamSupport.stream(listOfFoldersToSearch)\r\n                .filter(new Predicate&lt;String&gt;() {\r\n                    @Override\r\n                    public boolean test(final String s) {\r\n                        File folder = new File(s);\r\n                        return folder.exists() &amp;&amp; folder.isDirectory();\r\n                    }\r\n                }) //I got the ones that exist and are directories\r\n                .flatMap(new Function&lt;String, Stream&lt;File&gt;&gt;() {\r\n                    @Override\r\n                    public Stream&lt;File&gt; apply(final String s) {\r\n                        try {\r\n                            List&lt;File&gt; files = Arrays.asList(new File(s).listFiles());\r\n                            return StreamSupport.stream(files);\r\n                        } catch (NullPointerException e) {\r\n                            return StreamSupport.stream(new ArrayList&lt;File&gt;());\r\n                        }\r\n                    }\r\n                }) //I got all sub-dirs of the main folders\r\n                .flatMap(new Function&lt;File, Stream&lt;File&gt;&gt;() {\r\n                    @Override\r\n                    public Stream&lt;File&gt; apply(final File file1) {\r\n                        if (listOf2DepthFolders.contains(file1.getName()\r\n                                .toLowerCase())) {\r\n                            try {\r\n                                List&lt;File&gt; files = Arrays.asList(file1.listFiles());\r\n                                return StreamSupport.stream(files);\r\n                            } catch (NullPointerException e) {\r\n                                return StreamSupport.stream(Collections.singletonList(file1));\r\n                            }\r\n                        } else\r\n                            return StreamSupport.stream(Collections.singletonList(file1));\r\n                    }\r\n                }) //Here I got all the 2 depth and 3 depth folders\r\n                .filter(new Predicate&lt;File&gt;() {\r\n                    @Override\r\n                    public boolean test(final File o) {\r\n                        return listOfExtFolders.contains(o.getName()\r\n                                .toLowerCase());\r\n                    }\r\n                })\r\n                .findFirst();\r\n\r\n        optional.ifPresent(new Consumer&lt;File&gt;() {\r\n            @Override\r\n            public void accept(final File file) {\r\n                thePath[0] = file.getAbsolutePath();\r\n            }\r\n        });\r\n\r\n        Log.e(&quot;Path&quot;, thePath[0]);\r\n\r\n        try {\r\n            ContextCompat.getExternalFilesDirs(context, null);\r\n        } catch (Exception e) {\r\n            Log.e(&quot;PathException&quot;, thePath[0]);\r\n        }\r\n        return thePath[0];\r\n    }\r\n\r\nP.S. I tested and verified it on a few HTC and Samsung devices. \r\n\r\n  [1]: http://sourceforge.net/projects/streamsupport/","title":"Get correct path to External SDCard in android","body":"<p>As gilonm mentioned, external (removable) Sd path varies from device to device, but I wrote a method, which iterates through all the different ext paths that the different manufacturers use, and then it finds the exact match. </p>\n\n<p>It returns empty String if path isn't found. If a path is found, you still need to verify whether the card is inserted or not. (By checking if sub-folders exist on that path)</p>\n\n<p>Note: I used <a href=\"http://sourceforge.net/projects/streamsupport/\" rel=\"nofollow\">StreamSupport</a> library inside the method, so you'll need to download the jar file and add it to libs folder of your project and that's it, it'll work!</p>\n\n<pre><code>   public static String getExternalSdPath(Context context) {\n    List&lt;String&gt; listOfFoldersToSearch = Arrays.asList(\"/storage/\", \"/mnt/\", \"/removable/\", \"/data/\");\n    final List&lt;String&gt; listOf2DepthFolders = Arrays.asList(\"sdcard0\", \"media_rw\", \"removable\");\n    final List&lt;String&gt; listOfExtFolders = Arrays.asList(\"sdcard1\", \"extsdcard\", \"external_sd\", \"microsd\", \"emmc\", \"ext_sd\", \"sdext\",\n            \"sdext1\", \"sdext2\", \"sdext3\", \"sdext4\");\n    final String[] thePath = {\"\"};\n    Optional&lt;File&gt; optional = StreamSupport.stream(listOfFoldersToSearch)\n            .filter(new Predicate&lt;String&gt;() {\n                @Override\n                public boolean test(final String s) {\n                    File folder = new File(s);\n                    return folder.exists() &amp;&amp; folder.isDirectory();\n                }\n            }) //I got the ones that exist and are directories\n            .flatMap(new Function&lt;String, Stream&lt;File&gt;&gt;() {\n                @Override\n                public Stream&lt;File&gt; apply(final String s) {\n                    try {\n                        List&lt;File&gt; files = Arrays.asList(new File(s).listFiles());\n                        return StreamSupport.stream(files);\n                    } catch (NullPointerException e) {\n                        return StreamSupport.stream(new ArrayList&lt;File&gt;());\n                    }\n                }\n            }) //I got all sub-dirs of the main folders\n            .flatMap(new Function&lt;File, Stream&lt;File&gt;&gt;() {\n                @Override\n                public Stream&lt;File&gt; apply(final File file1) {\n                    if (listOf2DepthFolders.contains(file1.getName()\n                            .toLowerCase())) {\n                        try {\n                            List&lt;File&gt; files = Arrays.asList(file1.listFiles());\n                            return StreamSupport.stream(files);\n                        } catch (NullPointerException e) {\n                            return StreamSupport.stream(Collections.singletonList(file1));\n                        }\n                    } else\n                        return StreamSupport.stream(Collections.singletonList(file1));\n                }\n            }) //Here I got all the 2 depth and 3 depth folders\n            .filter(new Predicate&lt;File&gt;() {\n                @Override\n                public boolean test(final File o) {\n                    return listOfExtFolders.contains(o.getName()\n                            .toLowerCase());\n                }\n            })\n            .findFirst();\n\n    optional.ifPresent(new Consumer&lt;File&gt;() {\n        @Override\n        public void accept(final File file) {\n            thePath[0] = file.getAbsolutePath();\n        }\n    });\n\n    Log.e(\"Path\", thePath[0]);\n\n    try {\n        ContextCompat.getExternalFilesDirs(context, null);\n    } catch (Exception e) {\n        Log.e(\"PathException\", thePath[0]);\n    }\n    return thePath[0];\n}\n</code></pre>\n\n<p>P.S. I tested and verified it on a few HTC and Samsung devices. </p>\n"},{"tags":[],"owner":{"account_id":3865848,"reputation":1345,"user_id":3585230,"display_name":"Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1435153362,"creation_date":1435153362,"answer_id":31028298,"question_id":26117511,"body_markdown":"For all devices\r\n\r\n  \r\n\r\n    String sSDpath = null;\r\n    \t\t    File   fileCur = null;\r\n    \t\t    for( String sPathCur : Arrays.asList( &quot;MicroSD&quot;,&quot;external_SD&quot;,&quot;sdcard1&quot;,&quot;ext_card&quot;, &quot;external_sd&quot;, &quot;ext_sd&quot;, &quot;external&quot;, &quot;extSdCard&quot;,  &quot;externalSdCard&quot;)) // external sdcard\r\n    \t\t     {\r\n    \t\t    \t\r\n    \t\t       fileCur = new File( &quot;/mnt/&quot;, sPathCur);\r\n    \t\t       if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\r\n    \t\t         {\r\n    \t\t           sSDpath = fileCur.getAbsolutePath();\r\n    \t\t           break;\r\n    \t\t         }\r\n    \t\t       if( sSDpath == null)  {\r\n    \t\t       fileCur = new File( &quot;/storage/&quot;, sPathCur);\r\n    \t\t       if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\r\n    \t\t         {\r\n    \t\t           sSDpath = fileCur.getAbsolutePath();\r\n    \t\t           break;\r\n    \t\t         }\r\n    \t\t       }\r\n    \t\t       if( sSDpath == null)  {\r\n    \t\t       fileCur = new File( &quot;/storage/emulated&quot;, sPathCur);\r\n    \t\t       if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\r\n    \t\t         {\r\n    \t\t           sSDpath = fileCur.getAbsolutePath();\r\n    Log.e(&quot;path&quot;,sSpath);\r\n    \t\t           break;\r\n    \t\t         }\r\n    \t\t       }\r\n    \t\t     }\r\n\r\n\r\n100% working, tested on multiple device.","title":"Get correct path to External SDCard in android","body":"<p>For all devices</p>\n\n<pre><code>String sSDpath = null;\n            File   fileCur = null;\n            for( String sPathCur : Arrays.asList( \"MicroSD\",\"external_SD\",\"sdcard1\",\"ext_card\", \"external_sd\", \"ext_sd\", \"external\", \"extSdCard\",  \"externalSdCard\")) // external sdcard\n             {\n\n               fileCur = new File( \"/mnt/\", sPathCur);\n               if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\n                 {\n                   sSDpath = fileCur.getAbsolutePath();\n                   break;\n                 }\n               if( sSDpath == null)  {\n               fileCur = new File( \"/storage/\", sPathCur);\n               if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\n                 {\n                   sSDpath = fileCur.getAbsolutePath();\n                   break;\n                 }\n               }\n               if( sSDpath == null)  {\n               fileCur = new File( \"/storage/emulated\", sPathCur);\n               if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\n                 {\n                   sSDpath = fileCur.getAbsolutePath();\nLog.e(\"path\",sSpath);\n                   break;\n                 }\n               }\n             }\n</code></pre>\n\n<p>100% working, tested on multiple device.</p>\n"},{"tags":[],"owner":{"display_name":"user12711116"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589012206,"creation_date":1589012206,"answer_id":61693724,"question_id":26117511,"body_markdown":"This function will return the path of SD Card path. \r\n\r\n    private String getExternalSdCard(){\r\n       String finalPath = null;\r\n       File sdCardFile = ContextCompat.getExternalFilesDirs(this, null)[1];\r\n       String base = String.format(&quot;/Android/data/%s/files&quot;, getPackageName());\r\n\r\n       String path = sdCardFile.getAbsolutePath();\r\n       if(path.contains(base)){\r\n           finalPath = path.replace(base, &quot;&quot;);\r\n       }\r\n       return finalPath;\r\n   }\r\n\r\n\r\nTo get all the list of storage. Use Loop\r\n\r\n\r\n    private String[] storages() {\r\n        List&lt;String&gt; storages = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            File[] externalStorageFiles = ContextCompat.getExternalFilesDirs(this, null);\r\n\r\n            String base = String.format(&quot;/Android/data/%s/files&quot;, getPackageName());\r\n\r\n            for (File file : externalStorageFiles) {\r\n                try {\r\n                    if (file != null) {\r\n                        String path = file.getAbsolutePath();\r\n\r\n                        if (path.contains(base)) {\r\n                            String finalPath = path.replace(base, &quot;&quot;);\r\n\r\n                            if (validPath(finalPath)) {\r\n                                storages.add(finalPath);\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (Exception e) {\r\n                    CrashUtils.report(e);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            CrashUtils.report(e);\r\n        }\r\n\r\n        String[] result = new String[storages.size()];\r\n        storages.toArray(result);\r\n\r\n        return result;\r\n    }","title":"Get correct path to External SDCard in android","body":"<p>This function will return the path of SD Card path. </p>\n\n<pre><code>private String getExternalSdCard(){\n   String finalPath = null;\n   File sdCardFile = ContextCompat.getExternalFilesDirs(this, null)[1];\n   String base = String.format(\"/Android/data/%s/files\", getPackageName());\n\n   String path = sdCardFile.getAbsolutePath();\n   if(path.contains(base)){\n       finalPath = path.replace(base, \"\");\n   }\n   return finalPath;\n</code></pre>\n\n<p>}</p>\n\n<p>To get all the list of storage. Use Loop</p>\n\n<pre><code>private String[] storages() {\n    List&lt;String&gt; storages = new ArrayList&lt;&gt;();\n\n    try {\n        File[] externalStorageFiles = ContextCompat.getExternalFilesDirs(this, null);\n\n        String base = String.format(\"/Android/data/%s/files\", getPackageName());\n\n        for (File file : externalStorageFiles) {\n            try {\n                if (file != null) {\n                    String path = file.getAbsolutePath();\n\n                    if (path.contains(base)) {\n                        String finalPath = path.replace(base, \"\");\n\n                        if (validPath(finalPath)) {\n                            storages.add(finalPath);\n                        }\n                    }\n                }\n            } catch (Exception e) {\n                CrashUtils.report(e);\n            }\n        }\n    } catch (Exception e) {\n        CrashUtils.report(e);\n    }\n\n    String[] result = new String[storages.size()];\n    storages.toArray(result);\n\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":199386,"reputation":17510,"user_id":444668,"accept_rate":51,"display_name":"Jono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695054523,"creation_date":1412069873,"question_id":26117511,"body_markdown":"i am trying to get the correct path to the sd card that is inside my samsung s4 android device through my app but when i try the above paths:\r\n\r\n      String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\r\n            String pathTwo = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n            String path3 = getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\r\n\r\nIt gets the private none-writable path of /storage/emulated/0 instead of the correct path of storage/sdcard1\r\n\r\nI found the correct path via File explorer using the Android Device monitor but i do not want to hard code the path as the path can be different depending on the device.\r\n\r\nkind regards\r\n\r\n\r\n","title":"Get correct path to External SDCard in android","body":"<p>i am trying to get the correct path to the sd card that is inside my samsung s4 android device through my app but when i try the above paths:</p>\n\n<pre><code>  String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\n        String pathTwo = Environment.getExternalStorageDirectory().getAbsolutePath();\n        String path3 = getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\n</code></pre>\n\n<p>It gets the private none-writable path of /storage/emulated/0 instead of the correct path of storage/sdcard1</p>\n\n<p>I found the correct path via File explorer using the Android Device monitor but i do not want to hard code the path as the path can be different depending on the device.</p>\n\n<p>kind regards</p>\n"},{"tags":["java","error-handling"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1695044709,"post_id":77127743,"comment_id":135967688,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nTry `java -cp . HelloWorld`","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Try <code>java -cp . HelloWorld</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695044952,"post_id":77127743,"comment_id":135967751,"body_markdown":"Is that the complete source file or is there a `package` statement?","body":"Is that the complete source file or is there a <code>package</code> statement?"},{"owner":{"account_id":28642160,"reputation":15,"user_id":21931046,"display_name":"Jupit90"},"score":0,"creation_date":1695045354,"post_id":77127743,"comment_id":135967836,"body_markdown":"@DavidConrad is the full text of the program","body":"@DavidConrad is the full text of the program"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695052195,"post_id":77127743,"comment_id":135969373,"body_markdown":"You&#39;ve messed up your classpath environment variable. Run `java -cp . HelloWorld`. Or, did you add a package statement? Don&#39;t do that if you want to set it up like this.","body":"You&#39;ve messed up your classpath environment variable. Run <code>java -cp . HelloWorld</code>. Or, did you add a package statement? Don&#39;t do that if you want to set it up like this."}],"answers":[{"tags":[],"owner":{"account_id":29474058,"reputation":1,"user_id":22586169,"display_name":"Richard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695045823,"creation_date":1695045437,"answer_id":77127864,"question_id":77127743,"body_markdown":"It works with me,you&#39;d better check about your settings on Java.Is the command `java --version` and `javac --version` works in this folder?","title":"Java Error. Could not find or load main class","body":"<p>It works with me,you'd better check about your settings on Java.Is the command <code>java --version</code> and <code>javac --version</code> works in this folder?</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695054376,"creation_date":1695054376,"answer_id":77128885,"question_id":77127743,"body_markdown":"Try this as it will work for all versions of Java. I presume you don&#39;t have a package declaration in your source file.  From within the same directory as your `HelloWorld.java` file, do the following:\r\n\r\n- type `javac`.  It should print a series of command line arguments.  This will at least ensure your console shell/cmdline processor can find the compiler.\r\n-if not, ensure your environment class path points to where Java is installed.\r\n- once found, do `javac HelloWorld.java`\r\n- a `HelloWorld.class` file should be in the same directory.\r\n- now type `java` to see if it can find the JVM runtime environment.\r\n- if so, then type `java HelloWorld` and it should run.\r\n\r\nIf any of the above fail, check out Oracle or do a web search for installing Java on your particular operating system.\r\n\r\nNote more recent versions of Java will let you compile and run the code by doing `java HelloWorld.java`.\r\n\r\n","title":"Java Error. Could not find or load main class","body":"<p>Try this as it will work for all versions of Java. I presume you don't have a package declaration in your source file.  From within the same directory as your <code>HelloWorld.java</code> file, do the following:</p>\n<ul>\n<li>type <code>javac</code>.  It should print a series of command line arguments.  This will at least ensure your console shell/cmdline processor can find the compiler.\n-if not, ensure your environment class path points to where Java is installed.</li>\n<li>once found, do <code>javac HelloWorld.java</code></li>\n<li>a <code>HelloWorld.class</code> file should be in the same directory.</li>\n<li>now type <code>java</code> to see if it can find the JVM runtime environment.</li>\n<li>if so, then type <code>java HelloWorld</code> and it should run.</li>\n</ul>\n<p>If any of the above fail, check out Oracle or do a web search for installing Java on your particular operating system.</p>\n<p>Note more recent versions of Java will let you compile and run the code by doing <code>java HelloWorld.java</code>.</p>\n"}],"owner":{"account_id":28642160,"reputation":15,"user_id":21931046,"display_name":"Jupit90"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695054376,"creation_date":1695044415,"question_id":77127743,"body_markdown":"I have written a simple Java program and want to run it through the console\r\n\r\n```\r\npublic class HelloWorld {\r\n\tpublic static void main(String args[]) {\r\n\t\tSystem.out.println(&quot;Hello world!&quot;);\r\n\t}\r\n}\r\n```\r\nI tried to run the app with many files and it didn&#39;t work, I tried a simple hello world but it also gives me an error\r\nComand Line:\r\n(https://i.stack.imgur.com/DyJ4q.png)\r\nFiles in the project:\r\n(https://i.stack.imgur.com/JQkj2.png)\r\n\r\nThe HelloWorld.class file was created in the folder after the javac command HelloWorld.java, but an error occurs when the java command HelloWorld is entered","title":"Java Error. Could not find or load main class","body":"<p>I have written a simple Java program and want to run it through the console</p>\n<pre><code>public class HelloWorld {\n    public static void main(String args[]) {\n        System.out.println(&quot;Hello world!&quot;);\n    }\n}\n</code></pre>\n<p>I tried to run the app with many files and it didn't work, I tried a simple hello world but it also gives me an error\nComand Line:\n(<a href=\"https://i.stack.imgur.com/DyJ4q.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DyJ4q.png</a>)\nFiles in the project:\n(<a href=\"https://i.stack.imgur.com/JQkj2.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JQkj2.png</a>)</p>\n<p>The HelloWorld.class file was created in the folder after the javac command HelloWorld.java, but an error occurs when the java command HelloWorld is entered</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1695054968,"post_id":77128883,"comment_id":135969884,"body_markdown":"Please report an issue at https://youtrack.jetbrains.com/newIssue?project=IDEA. It looks like a limitation of the command line HTTP client as the IDE version would ask for a password and save it in the IDE configured password manager. CLI version does not support that: https://youtrack.jetbrains.com/issue/IDEA-260232/Add-password-to-SSLConfiguration#focus=Comments-27-4671675.0-0.","body":"Please report an issue at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a>. It looks like a limitation of the command line HTTP client as the IDE version would ask for a password and save it in the IDE configured password manager. CLI version does not support that: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-260232/Add-password-to-SSLConfiguration#focus=Comments-27-4671675.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-260232/&hellip;</a>."}],"owner":{"account_id":22605765,"reputation":23,"user_id":16786688,"display_name":"Kuldeep Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695054367,"creation_date":1695054367,"question_id":77128883,"body_markdown":"I am using IntelliJ &#39;HTTP Client CLI&#39; to invoke an endpoint that requires Client certificates. My setup is as follows \r\n \r\n**Test.http**\r\n\r\n    ### Dev Heath Check\r\n    GET {{host}}/path/\r\n\r\n**http-client.env.json**\r\n\r\n    {\r\n      &quot;dev&quot;: {\r\n        &quot;host&quot;: &quot;https://myApp.example.com&quot;\r\n      }\r\n    }\r\n\r\n**http-client.private.env.json**\r\n\r\n    {\r\n      &quot;dev&quot;: {\r\n        &quot;SSLConfiguration&quot;: {\r\n          &quot;clientCertificate&quot;: {\r\n            &quot;path&quot;: &quot;C:/HTTP_WS/certs/my.cer&quot;,\r\n            &quot;format&quot;: &quot;DER&quot;\r\n          },\r\n          &quot;clientCertificateKey&quot;: {\r\n            &quot;path&quot;: &quot;C:/HTTP_WS/certs/my.pem&quot;,\r\n            &quot;format&quot;: &quot;PEM&quot;\r\n          },\r\n          &quot;hasCertificatePassphrase&quot;: true,\r\n          &quot;verifyHostCertificate&quot;: true\r\n        }\r\n      }\r\n    }\r\n\r\n**Command to invoke &#39;HTTP Client CLI&#39; is**\r\n\r\n    ijhttp -v http-client.env.json -p http-client.private.env.json -e dev test.http\r\n\r\nand then I get following error \r\n\r\n    java.lang.UnsupportedOperationException: JsonObject\r\n            at com.google.gson.JsonElement.getAsString(JsonElement.java:187)\r\n            at com.intellij.httpClient.cli.HttpClientMain.loadEnvironment(HttpClientMain.kt:300)\r\n            at com.intellij.httpClient.cli.HttpClientOptions.call(HttpClientMain.kt:186)\r\n            at com.intellij.httpClient.cli.HttpClientOptions.call(HttpClientMain.kt:44)\r\n            at picocli.CommandLine.executeUserObject(CommandLine.java:1953)\r\n            at picocli.CommandLine.access$1300(CommandLine.java:145)\r\n            at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\r\n            at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\r\n            at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\r\n            at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\r\n            at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\r\n            at picocli.CommandLine.execute(CommandLine.java:2078)\r\n            at com.intellij.httpClient.cli.HttpClientMain.main(HttpClientMain.kt:39)\r\n\r\nIssue is *my.cer* and *my.pem* are password protected &amp; I could not find any resource on jetbrains website that explains how to supply password for these in *http-client.private.env.json* or through any other CLI flag\r\n\r\nIf I were to use IntelliJ Idea Ultimate then option to supply password for these is available in editor&#39;s line gutter section for *http-client.private.env.json* file.\r\n\r\nif anyone can help on how I can supply passwords in HTTP Client CLI, it would be a life saver.\r\n\r\nThanks for your time &amp; help. \r\n","title":"How to set Client Certificate Passphrase in Intellij HTTP Client CLI","body":"<p>I am using IntelliJ 'HTTP Client CLI' to invoke an endpoint that requires Client certificates. My setup is as follows</p>\n<p><strong>Test.http</strong></p>\n<pre><code>### Dev Heath Check\nGET {{host}}/path/\n</code></pre>\n<p><strong>http-client.env.json</strong></p>\n<pre><code>{\n  &quot;dev&quot;: {\n    &quot;host&quot;: &quot;https://myApp.example.com&quot;\n  }\n}\n</code></pre>\n<p><strong>http-client.private.env.json</strong></p>\n<pre><code>{\n  &quot;dev&quot;: {\n    &quot;SSLConfiguration&quot;: {\n      &quot;clientCertificate&quot;: {\n        &quot;path&quot;: &quot;C:/HTTP_WS/certs/my.cer&quot;,\n        &quot;format&quot;: &quot;DER&quot;\n      },\n      &quot;clientCertificateKey&quot;: {\n        &quot;path&quot;: &quot;C:/HTTP_WS/certs/my.pem&quot;,\n        &quot;format&quot;: &quot;PEM&quot;\n      },\n      &quot;hasCertificatePassphrase&quot;: true,\n      &quot;verifyHostCertificate&quot;: true\n    }\n  }\n}\n</code></pre>\n<p><strong>Command to invoke 'HTTP Client CLI' is</strong></p>\n<pre><code>ijhttp -v http-client.env.json -p http-client.private.env.json -e dev test.http\n</code></pre>\n<p>and then I get following error</p>\n<pre><code>java.lang.UnsupportedOperationException: JsonObject\n        at com.google.gson.JsonElement.getAsString(JsonElement.java:187)\n        at com.intellij.httpClient.cli.HttpClientMain.loadEnvironment(HttpClientMain.kt:300)\n        at com.intellij.httpClient.cli.HttpClientOptions.call(HttpClientMain.kt:186)\n        at com.intellij.httpClient.cli.HttpClientOptions.call(HttpClientMain.kt:44)\n        at picocli.CommandLine.executeUserObject(CommandLine.java:1953)\n        at picocli.CommandLine.access$1300(CommandLine.java:145)\n        at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\n        at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\n        at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\n        at picocli.CommandLine.execute(CommandLine.java:2078)\n        at com.intellij.httpClient.cli.HttpClientMain.main(HttpClientMain.kt:39)\n</code></pre>\n<p>Issue is <em>my.cer</em> and <em>my.pem</em> are password protected &amp; I could not find any resource on jetbrains website that explains how to supply password for these in <em>http-client.private.env.json</em> or through any other CLI flag</p>\n<p>If I were to use IntelliJ Idea Ultimate then option to supply password for these is available in editor's line gutter section for <em>http-client.private.env.json</em> file.</p>\n<p>if anyone can help on how I can supply passwords in HTTP Client CLI, it would be a life saver.</p>\n<p>Thanks for your time &amp; help.</p>\n"},{"tags":["java","spring","macos","intellij-idea","minikube"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1668418414,"post_id":74424670,"comment_id":131391814,"body_markdown":"Do you have antivirus/firewall configured? Make sure that 5005 port is not blocked in your settings.","body":"Do you have antivirus/firewall configured? Make sure that 5005 port is not blocked in your settings."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1668418458,"post_id":74424670,"comment_id":131391822,"body_markdown":"Do you use [Remote Debug](https://www.jetbrains.com/help/idea/tutorial-remote-debug.html) option? Remote debugger needs to connect to the JVM that is already running in debug mode. Make sure you start the app you want to debug first with the JVM options suggested by the IDE. Then start Remote configuration to connect and debug this app.","body":"Do you use <a href=\"https://www.jetbrains.com/help/idea/tutorial-remote-debug.html\" rel=\"nofollow noreferrer\">Remote Debug</a> option? Remote debugger needs to connect to the JVM that is already running in debug mode. Make sure you start the app you want to debug first with the JVM options suggested by the IDE. Then start Remote configuration to connect and debug this app."}],"owner":{"account_id":26559725,"reputation":13,"user_id":20187759,"display_name":"1029Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695054099,"creation_date":1668372702,"question_id":74424670,"body_markdown":"I&#39;ve been having this problem while trying to debug Minikube pods on Intellij for the past couple of days. On a fresh computer start, everything is fine but if a connection to a pod stops abruptly during the debug process, I am not able to connect again to the environment. I get the following message;\r\n\r\n```\r\nUnable to open debugger port (localhost:5005): java.net.ConnectException &quot;Connection refused&quot;\r\n```\r\n\r\nNow, my reflex was to check which process was listening to the port 5005 with the command \r\n```\r\nlsof -i:5005\r\n```\r\n\r\nBut nothing is listening to this port.\r\n\r\n```\r\nsudo lsof | grep localhost\r\n```\r\n\r\nDoesn&#39;t return either any process listing to the port in question.\r\n\r\n- I tried to kill all java and idea process without success. I checked the option *kill the debug process immediately* in Intellij preferences settings.\r\n- I tried to change localhost to 127.0.0.1\r\n- I tried changing the port to listen to, sometimes it works, other times not.\r\n- I tried npx kill-port 5005\r\n- No debug process is active in Intellij, tried the STOP ALL button.\r\n\r\nAnyone has faced a similar problem and found a solution about the problem? So far the only workaround I found is restarting the computer.\r\n","title":"Unable to open debugger port (localhost:5005): java.net.ConnectException &quot;Connection refused&quot;","body":"<p>I've been having this problem while trying to debug Minikube pods on Intellij for the past couple of days. On a fresh computer start, everything is fine but if a connection to a pod stops abruptly during the debug process, I am not able to connect again to the environment. I get the following message;</p>\n<pre><code>Unable to open debugger port (localhost:5005): java.net.ConnectException &quot;Connection refused&quot;\n</code></pre>\n<p>Now, my reflex was to check which process was listening to the port 5005 with the command</p>\n<pre><code>lsof -i:5005\n</code></pre>\n<p>But nothing is listening to this port.</p>\n<pre><code>sudo lsof | grep localhost\n</code></pre>\n<p>Doesn't return either any process listing to the port in question.</p>\n<ul>\n<li>I tried to kill all java and idea process without success. I checked the option <em>kill the debug process immediately</em> in Intellij preferences settings.</li>\n<li>I tried to change localhost to 127.0.0.1</li>\n<li>I tried changing the port to listen to, sometimes it works, other times not.</li>\n<li>I tried npx kill-port 5005</li>\n<li>No debug process is active in Intellij, tried the STOP ALL button.</li>\n</ul>\n<p>Anyone has faced a similar problem and found a solution about the problem? So far the only workaround I found is restarting the computer.</p>\n"},{"tags":["java","jpa","db2"],"comments":[{"owner":{"account_id":7219622,"reputation":464,"user_id":7737266,"display_name":"devjoco"},"score":0,"creation_date":1695053274,"post_id":77127818,"comment_id":135969601,"body_markdown":"Not using any DB Migration Tool. Just manually-executed DDL scripts to alter tables.","body":"Not using any DB Migration Tool. Just manually-executed DDL scripts to alter tables."}],"answers":[{"comments":[{"owner":{"account_id":7219622,"reputation":464,"user_id":7737266,"display_name":"devjoco"},"score":0,"creation_date":1695054076,"post_id":77128763,"comment_id":135969729,"body_markdown":"So, without DB Migration Tools, if I understand correctly: alter DB column, this breaks the application (hence why you suggest to take the application down for users); then update the JPA entity, this fixes the issue introduced by the SQL change?","body":"So, without DB Migration Tools, if I understand correctly: alter DB column, this breaks the application (hence why you suggest to take the application down for users); then update the JPA entity, this fixes the issue introduced by the SQL change?"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1695074038,"post_id":77128763,"comment_id":135972983,"body_markdown":"Exactly. Do not forget to make a Backup of the complete database before! If you run a web application, you can just redirect the URLs to a &quot;this webapp is under maintenance now&quot;-page.","body":"Exactly. Do not forget to make a Backup of the complete database before! If you run a web application, you can just redirect the URLs to a &quot;this webapp is under maintenance now&quot;-page."},{"owner":{"account_id":7219622,"reputation":464,"user_id":7737266,"display_name":"devjoco"},"score":0,"creation_date":1695154449,"post_id":77128763,"comment_id":135985288,"body_markdown":"What exactly is the concern which requires a complete backup of the DB? I don&#39;t think this is an issue in my case, I&#39;m sure backups are already maintained; but are you suggesting that perhaps records could be lost if there exists a record in `MY_TABLE` whose `MY_COLUMN` value could not be converted to a `DECIMAL(4,1)`?","body":"What exactly is the concern which requires a complete backup of the DB? I don&#39;t think this is an issue in my case, I&#39;m sure backups are already maintained; but are you suggesting that perhaps records could be lost if there exists a record in <code>MY_TABLE</code> whose <code>MY_COLUMN</code> value could not be converted to a <code>DECIMAL(4,1)</code>?"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1695284365,"post_id":77128763,"comment_id":136004623,"body_markdown":"Yes. It depends on what column types you want to convert to other column types. There may be data loss because of the converting itself or because of the &quot;style&quot; of converting. Converting a small number into a big number is not a problem, but the other way will kill your data integrity. In this example, the old type and the new type have the same &quot;Base?&quot; - they are both numbers. But you might convert a varchar to a bigint in future, or (joking) a blob into a date. Maybe you need to execute several SQL statements for converting to a new type. I think you know what I mean. Be aware of that.","body":"Yes. It depends on what column types you want to convert to other column types. There may be data loss because of the converting itself or because of the &quot;style&quot; of converting. Converting a small number into a big number is not a problem, but the other way will kill your data integrity. In this example, the old type and the new type have the same &quot;Base?&quot; - they are both numbers. But you might convert a varchar to a bigint in future, or (joking) a blob into a date. Maybe you need to execute several SQL statements for converting to a new type. I think you know what I mean. Be aware of that."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1695284538,"post_id":77128763,"comment_id":136004662,"body_markdown":"And for gods sake: Never run a SQL statement on a production database without testing the result on a test database. If there goes something wrong, you are lost. You must be 100% sure that your SQL is correct - and nobody is that sure. Do yourself a favour and make a backup before doing something like this. Invest some minutes to be on the bright side, and to never get in the situation where the production database ist messed up.","body":"And for gods sake: Never run a SQL statement on a production database without testing the result on a test database. If there goes something wrong, you are lost. You must be 100% sure that your SQL is correct - and nobody is that sure. Do yourself a favour and make a backup before doing something like this. Invest some minutes to be on the bright side, and to never get in the situation where the production database ist messed up."}],"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695053230,"creation_date":1695053230,"answer_id":77128763,"question_id":77127818,"body_markdown":"Do you use Flyway or an other DB Migration Tool? \r\n\r\nThe way to go is, IMO, alter the db with SQL, and after that, change the JPA entities. \r\n\r\nIf you use e.g. Flyway, you can combine this two steps and execute them automatically on the next startup of your application. Nothing is broken this way.\r\n\r\nIf you do not use a DB migration tool, you need to prepare your SQL statements, take down the application for the users only, release your new code with new entities and execute the SQL. \r\nBut I do not recommend this. If you do, create Backups.","title":"How to change a column type in Database and JPA mapping correctly/most safely?","body":"<p>Do you use Flyway or an other DB Migration Tool?</p>\n<p>The way to go is, IMO, alter the db with SQL, and after that, change the JPA entities.</p>\n<p>If you use e.g. Flyway, you can combine this two steps and execute them automatically on the next startup of your application. Nothing is broken this way.</p>\n<p>If you do not use a DB migration tool, you need to prepare your SQL statements, take down the application for the users only, release your new code with new entities and execute the SQL.\nBut I do not recommend this. If you do, create Backups.</p>\n"}],"owner":{"account_id":7219622,"reputation":464,"user_id":7737266,"display_name":"devjoco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1695312788,"accepted_answer_id":77128763,"answer_count":1,"score":0,"last_activity_date":1695053230,"creation_date":1695045077,"question_id":77127818,"body_markdown":"I have the following hibernate field:\r\n\r\n``` lang-java\r\n@Column(name = MY_COLUMN)\r\npublic Long myColumn;\r\n```\r\n\r\nThe `MY_COLUMN` column in a DB2 database is currently defined like this:\r\n\r\n``` lang-sql\r\nALTER TABLE MY_TABLE\r\n  ADD MY_COLUMN BIGINT;\r\n```\r\n\r\nIt turns out that this `MY_COLUMN` field should have been defined as a `DECIMAL(4,1)`, so I&#39;ll have to update that column accordingly in the DB and in the JPA field mapping.\r\n&lt;br&gt;&lt;br&gt;\r\n\r\nWhat is the correct/most safe way to do this?\r\n\r\n1. Update the DB first, then JPA mapping\r\n2. Update the JPA mapping first, then the DB\r\n\r\n*Please note: I can update the code for the JPA mapping right away, but to change the DB Column I&#39;ll need to have the DDL reviewed and executed by others, introducing some lag time.*\r\n&lt;br&gt;&lt;br&gt;\r\n\r\nThings I&#39;m wondering:\r\n\r\n- If the JPA is updated first, will the code just be broken until the DB Column is Altered?\r\n\r\n- Should I wait until the DB Column is updated before pushing the change for the JPA mapping to the remote repo?\r\n\r\n- Is it just bound to be broken either way for some period before they are both changed?\r\n\r\n- Does it depend on the datatypes involved?\r\n&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n\r\nThanks in advance for any insight.","title":"How to change a column type in Database and JPA mapping correctly/most safely?","body":"<p>I have the following hibernate field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = MY_COLUMN)\npublic Long myColumn;\n</code></pre>\n<p>The <code>MY_COLUMN</code> column in a DB2 database is currently defined like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER TABLE MY_TABLE\n  ADD MY_COLUMN BIGINT;\n</code></pre>\n<p>It turns out that this <code>MY_COLUMN</code> field should have been defined as a <code>DECIMAL(4,1)</code>, so I'll have to update that column accordingly in the DB and in the JPA field mapping.\n<br><br></p>\n<p>What is the correct/most safe way to do this?</p>\n<ol>\n<li>Update the DB first, then JPA mapping</li>\n<li>Update the JPA mapping first, then the DB</li>\n</ol>\n<p><em>Please note: I can update the code for the JPA mapping right away, but to change the DB Column I'll need to have the DDL reviewed and executed by others, introducing some lag time.</em>\n<br><br></p>\n<p>Things I'm wondering:</p>\n<ul>\n<li><p>If the JPA is updated first, will the code just be broken until the DB Column is Altered?</p>\n</li>\n<li><p>Should I wait until the DB Column is updated before pushing the change for the JPA mapping to the remote repo?</p>\n</li>\n<li><p>Is it just bound to be broken either way for some period before they are both changed?</p>\n</li>\n<li><p>Does it depend on the datatypes involved?\n<br><br><br></p>\n</li>\n</ul>\n<p>Thanks in advance for any insight.</p>\n"},{"tags":["java","sockets","proxy","socks"],"comments":[{"owner":{"account_id":3483035,"reputation":756,"user_id":2914592,"accept_rate":79,"display_name":"Freaky Thommi"},"score":0,"creation_date":1385091878,"post_id":20136437,"comment_id":30010844,"body_markdown":"please make sure that you are pointing to the correct proxy address. A very common error is you are giving normal port whereas you have to give https port of the proxy server","body":"please make sure that you are pointing to the correct proxy address. A very common error is you are giving normal port whereas you have to give https port of the proxy server"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1385106761,"post_id":20136437,"comment_id":30015486,"body_markdown":"@FreakyThommi HTTPS has nothing to do with this question.","body":"@FreakyThommi HTTPS has nothing to do with this question."}],"answers":[{"comments":[{"owner":{"account_id":3621546,"reputation":21,"user_id":3020146,"display_name":"Michael wu"},"score":1,"creation_date":1385346159,"post_id":20139735,"comment_id":30091293,"body_markdown":"as you say the problem is i should not use proxyHost/proxyPort to create SSLSocket,but i how to use SOCKS server to create SSLSocket.\nThanks","body":"as you say the problem is i should not use proxyHost/proxyPort to create SSLSocket,but i how to use SOCKS server to create SSLSocket. Thanks"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1498179898,"post_id":20139735,"comment_id":76405759,"body_markdown":"@Michaelwu That&#39;s not what I said at all. `proxyHost/proxyPort` are for HTTP proxies, not SOCKS proxies. You don&#39;t *have* a SOCKS server, or at least not at the IP:port you specified. Either you should not use `Proxy.Type.SOCKS` at all, or you should specify the correct proxy address.","body":"@Michaelwu That&#39;s not what I said at all. <code>proxyHost&#47;proxyPort</code> are for HTTP proxies, not SOCKS proxies. You don&#39;t <i>have</i> a SOCKS server, or at least not at the IP:port you specified. Either you should not use <code>Proxy.Type.SOCKS</code> at all, or you should specify the correct proxy address."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498179949,"creation_date":1385106745,"answer_id":20139735,"question_id":20136437,"body_markdown":"You have configured your application to use a SOCKS proxy but the entity at the host:port you specified as the `proxyAddr` isn&#39;t a SOCKS server.","title":"java.net.SocketException: Malformed reply from SOCKS server","body":"<p>You have configured your application to use a SOCKS proxy but the entity at the host:port you specified as the <code>proxyAddr</code> isn't a SOCKS server.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1498181510,"post_id":44711457,"comment_id":76406104,"body_markdown":"This just controls what Internet Explorer does. It has nothing to do with Java. The OP&#39;s code is *explicity* use a SOCKS proxy, or trying to. Not relying on any Control Panel setting.","body":"This just controls what Internet Explorer does. It has nothing to do with Java. The OP&#39;s code is <i>explicity</i> use a SOCKS proxy, or trying to. Not relying on any Control Panel setting."},{"owner":{"account_id":2928358,"reputation":46,"user_id":4970991,"display_name":"Luno S"},"score":0,"creation_date":1498234761,"post_id":44711457,"comment_id":76434261,"body_markdown":"I solve my problem with Malformed reply from SOCKS server using this, if lan settings use socks proxy on System, Java don&#39;t subscribe :/","body":"I solve my problem with Malformed reply from SOCKS server using this, if lan settings use socks proxy on System, Java don&#39;t subscribe :/"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1653278200,"post_id":44711457,"comment_id":127803538,"body_markdown":"You fixed it by setting this in the control panel and then removing the SOCKS proxy from your Java code. Java doesn&#39;t take any notice of the Control Panel and certainly not of any Internet Explorer options.","body":"You fixed it by setting this in the control panel and then removing the SOCKS proxy from your Java code. Java doesn&#39;t take any notice of the Control Panel and certainly not of any Internet Explorer options."}],"tags":[],"owner":{"account_id":2928358,"reputation":46,"user_id":4970991,"display_name":"Luno S"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1498192931,"creation_date":1498179218,"answer_id":44711457,"question_id":20136437,"body_markdown":"To fix this:\r\n\r\n&gt;1) Open Tools -&gt; Internet Options in Internet Explorer (or alternatively, Control Panel Network Settings in Windows 7)\r\n\r\n&gt;2) Open Connections tab\r\n\r\n&gt;3) Click on LAN settings\r\n\r\n&gt;4) If &quot;Use a proxy server&quot; is enabled, click Advanced and disable &quot;Use the same proxy server for all protocols&quot;","title":"java.net.SocketException: Malformed reply from SOCKS server","body":"<p>To fix this:</p>\n\n<blockquote>\n  <p>1) Open Tools -> Internet Options in Internet Explorer (or alternatively, Control Panel Network Settings in Windows 7)</p>\n  \n  <p>2) Open Connections tab</p>\n  \n  <p>3) Click on LAN settings</p>\n  \n  <p>4) If \"Use a proxy server\" is enabled, click Advanced and disable \"Use the same proxy server for all protocols\"</p>\n</blockquote>\n"}],"owner":{"account_id":3621546,"reputation":21,"user_id":3020146,"display_name":"Michael wu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14848,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695053040,"creation_date":1385090509,"question_id":20136437,"body_markdown":"i try to create SSLSocket with socket but i get this exception\r\n\r\n     SocketAddress proxyAddr = new InetSocketAddress(proxyHost, proxyPort);\r\n    Socket underlying = new Socket(new Proxy(Proxy.Type.SOCKS, proxyAddr));\r\n    underlying.connect(new InetSocketAddress(host, port));\r\n    SSLSocket socket = (SSLSocket) factory.createSocket(underlying,proxyHost,proxyPort,true);\r\nException:\r\n   java.net.SocketException: Malformed reply from SOCKS server\r\n\r\nThank you for your help\r\n","title":"java.net.SocketException: Malformed reply from SOCKS server","body":"<p>i try to create SSLSocket with socket but i get this exception</p>\n\n<pre><code> SocketAddress proxyAddr = new InetSocketAddress(proxyHost, proxyPort);\nSocket underlying = new Socket(new Proxy(Proxy.Type.SOCKS, proxyAddr));\nunderlying.connect(new InetSocketAddress(host, port));\nSSLSocket socket = (SSLSocket) factory.createSocket(underlying,proxyHost,proxyPort,true);\n</code></pre>\n\n<p>Exception:\n   java.net.SocketException: Malformed reply from SOCKS server</p>\n\n<p>Thank you for your help</p>\n"},{"tags":["java","spring-boot","redis"],"owner":{"account_id":13002789,"reputation":5,"user_id":14043542,"display_name":"Gustavo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695052771,"creation_date":1695052771,"question_id":77128712,"body_markdown":"I Have a simple Spring Boot application with Redis and H2. \r\n\r\n**Follow the dependencies below:**\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n**Follow the Redis configuration class:**\r\n\r\n``` import java.time.Duration;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\r\nimport org.springframework.data.redis.cache.RedisCacheManager;\r\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\r\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\r\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\r\nimport org.springframework.data.redis.serializer.RedisSerializationContext.SerializationPair;\r\n@Configuration\r\npublic class RedisConfig {\r\n\t@Value(&quot;${redis.host}&quot;)\r\n\tprivate String redisHost;\r\n\t@Value(&quot;${redis.port}&quot;)\r\n\tprivate int redisPort;\r\n\t@Bean\r\n\tpublic LettuceConnectionFactory redisConnectionFactory() {\r\n\t\tRedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration(redisHost, redisPort);\r\n\t\treturn new LettuceConnectionFactory(configuration);\r\n\t}\r\n\t@Bean\r\n\tpublic RedisCacheManager cacheManager() {\r\n\t\tRedisCacheConfiguration cacheConfig = myDefaultCacheConfig(Duration.ofMinutes(10)).disableCachingNullValues();\r\n\t\treturn RedisCacheManager.builder(redisConnectionFactory()).cacheDefaults(cacheConfig)\r\n\t\t\t\t.withCacheConfiguration(&quot;tutorials&quot;, myDefaultCacheConfig(Duration.ofMinutes(5)))\r\n\t\t\t\t.withCacheConfiguration(&quot;tutorial&quot;, myDefaultCacheConfig(Duration.ofMinutes(1))).build();\r\n\t}\r\n\tprivate RedisCacheConfiguration myDefaultCacheConfig(Duration duration) {\r\n\t\treturn RedisCacheConfiguration.defaultCacheConfig().entryTtl(duration)\r\n\t\t\t\t.serializeValuesWith(SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer()));\r\n\t}\r\n}\r\n\r\n\r\n```\r\n**Application properties:**\r\n\r\n```\r\n\r\nspring.h2.console.enabled=true\r\n# default path: h2-console\r\nspring.h2.console.path=/h2-ui\r\nspring.datasource.url=jdbc:h2:file:./testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\nspring.jpa.hibernate.ddl-auto= update\r\nredis.host=localhost\r\nredis.port=6379\r\n\r\n```\r\n**Service class with the cacheable methods are:**\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cache.annotation.CacheEvict;\r\nimport org.springframework.cache.annotation.Cacheable;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.stereotype.Service;\r\nimport com.bezkoder.spring.redis.model.Tutorial;\r\nimport com.bezkoder.spring.redis.repository.TutorialRepository;\r\n\r\n@Service\r\n@EnableCaching\r\npublic class TutorialService {\r\n  @Autowired\r\n  TutorialRepository tutorialRepository;\r\n  @Cacheable(&quot;tutorials&quot;)\r\n  public List&lt;Tutorial&gt; findAll() {\r\n    doLongRunningTask();\r\n    return tutorialRepository.findAll();\r\n  }\r\n  @Cacheable(&quot;tutorials&quot;)\r\n  public List&lt;Tutorial&gt; findByTitleContaining(String title) {\r\n    doLongRunningTask();\r\n    return tutorialRepository.findByTitleContaining(title);\r\n  }\r\n  @Cacheable(value = &quot;tutorial&quot;, key = &quot;#id&quot; )\r\n  public Optional&lt;Tutorial&gt; findById(long id) {\r\n    doLongRunningTask();\r\n    return tutorialRepository.findById(id);\r\n  }\r\n  public Tutorial save(Tutorial tutorial) {\r\n    return tutorialRepository.save(tutorial);\r\n  }\r\n  @CacheEvict(value = &quot;tutorial&quot;, key = &quot;#tutorial.id&quot;)\r\n  public Tutorial update(Tutorial tutorial) {\r\n    return tutorialRepository.save(tutorial);\r\n  }\r\n  @CacheEvict(value = &quot;tutorial&quot;, key = &quot;#id&quot;)\r\n  public void deleteById(long id) {\r\n    tutorialRepository.deleteById(id);\r\n  }\r\n  @CacheEvict(value = { &quot;tutorial&quot;, &quot;tutorials&quot;, &quot;published_tutorials&quot; }, allEntries = true)\r\n  public void deleteAll() {\r\n    tutorialRepository.deleteAll();\r\n  }\r\n  @Cacheable(&quot;published_tutorials&quot;)\r\n  public List&lt;Tutorial&gt; findByPublished(boolean isPublished) {\r\n    doLongRunningTask();\r\n    return tutorialRepository.findByPublished(isPublished);\r\n  }\r\n  private void doLongRunningTask() {\r\n    try {\r\n      Thread.sleep(3000);\r\n    } catch (InterruptedException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n```\r\n**redis is saving the cache in the following structure \r\n-&gt; CacheName -&gt; [Empty] -&gt; cacheName::Id like the photo below** \r\n\r\n[Image from Redis][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PsZ6c.png\r\n\r\n**How may I save redis cache without this path [Empty]?**","title":"Redis path structure issue with Spring Boot","body":"<p>I Have a simple Spring Boot application with Redis and H2.</p>\n<p><strong>Follow the dependencies below:</strong></p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Follow the Redis configuration class:</strong></p>\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\nimport org.springframework.data.redis.cache.RedisCacheManager;\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.RedisSerializationContext.SerializationPair;\n@Configuration\npublic class RedisConfig {\n    @Value(&quot;${redis.host}&quot;)\n    private String redisHost;\n    @Value(&quot;${redis.port}&quot;)\n    private int redisPort;\n    @Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration(redisHost, redisPort);\n        return new LettuceConnectionFactory(configuration);\n    }\n    @Bean\n    public RedisCacheManager cacheManager() {\n        RedisCacheConfiguration cacheConfig = myDefaultCacheConfig(Duration.ofMinutes(10)).disableCachingNullValues();\n        return RedisCacheManager.builder(redisConnectionFactory()).cacheDefaults(cacheConfig)\n                .withCacheConfiguration(&quot;tutorials&quot;, myDefaultCacheConfig(Duration.ofMinutes(5)))\n                .withCacheConfiguration(&quot;tutorial&quot;, myDefaultCacheConfig(Duration.ofMinutes(1))).build();\n    }\n    private RedisCacheConfiguration myDefaultCacheConfig(Duration duration) {\n        return RedisCacheConfiguration.defaultCacheConfig().entryTtl(duration)\n                .serializeValuesWith(SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer()));\n    }\n}\n\n\n</code></pre>\n<p><strong>Application properties:</strong></p>\n<pre><code>\nspring.h2.console.enabled=true\n# default path: h2-console\nspring.h2.console.path=/h2-ui\nspring.datasource.url=jdbc:h2:file:./testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto= update\nredis.host=localhost\nredis.port=6379\n\n</code></pre>\n<p><strong>Service class with the cacheable methods are:</strong></p>\n<pre><code>import java.util.List;\nimport java.util.Optional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cache.annotation.CacheEvict;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.stereotype.Service;\nimport com.bezkoder.spring.redis.model.Tutorial;\nimport com.bezkoder.spring.redis.repository.TutorialRepository;\n\n@Service\n@EnableCaching\npublic class TutorialService {\n  @Autowired\n  TutorialRepository tutorialRepository;\n  @Cacheable(&quot;tutorials&quot;)\n  public List&lt;Tutorial&gt; findAll() {\n    doLongRunningTask();\n    return tutorialRepository.findAll();\n  }\n  @Cacheable(&quot;tutorials&quot;)\n  public List&lt;Tutorial&gt; findByTitleContaining(String title) {\n    doLongRunningTask();\n    return tutorialRepository.findByTitleContaining(title);\n  }\n  @Cacheable(value = &quot;tutorial&quot;, key = &quot;#id&quot; )\n  public Optional&lt;Tutorial&gt; findById(long id) {\n    doLongRunningTask();\n    return tutorialRepository.findById(id);\n  }\n  public Tutorial save(Tutorial tutorial) {\n    return tutorialRepository.save(tutorial);\n  }\n  @CacheEvict(value = &quot;tutorial&quot;, key = &quot;#tutorial.id&quot;)\n  public Tutorial update(Tutorial tutorial) {\n    return tutorialRepository.save(tutorial);\n  }\n  @CacheEvict(value = &quot;tutorial&quot;, key = &quot;#id&quot;)\n  public void deleteById(long id) {\n    tutorialRepository.deleteById(id);\n  }\n  @CacheEvict(value = { &quot;tutorial&quot;, &quot;tutorials&quot;, &quot;published_tutorials&quot; }, allEntries = true)\n  public void deleteAll() {\n    tutorialRepository.deleteAll();\n  }\n  @Cacheable(&quot;published_tutorials&quot;)\n  public List&lt;Tutorial&gt; findByPublished(boolean isPublished) {\n    doLongRunningTask();\n    return tutorialRepository.findByPublished(isPublished);\n  }\n  private void doLongRunningTask() {\n    try {\n      Thread.sleep(3000);\n    } catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n  }\n}\n\n\n\n</code></pre>\n<p><strong>redis is saving the cache in the following structure\n-&gt; CacheName -&gt; [Empty] -&gt; cacheName::Id like the photo below</strong></p>\n<p><a href=\"https://i.stack.imgur.com/PsZ6c.png\" rel=\"nofollow noreferrer\">Image from Redis</a></p>\n<p><strong>How may I save redis cache without this path [Empty]?</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7338056,"reputation":621,"user_id":5588689,"display_name":"scsere"},"score":0,"creation_date":1452050478,"post_id":34624997,"comment_id":56995926,"body_markdown":"Something like `javax.swing.SwingWorker` ? [Doc](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)","body":"Something like <code>javax.swing.SwingWorker</code> ? <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Doc</a>"},{"owner":{"account_id":5846108,"reputation":1151,"user_id":4606185,"display_name":"Axifive"},"score":0,"creation_date":1452050558,"post_id":34624997,"comment_id":56995948,"body_markdown":"No, SwingWorker run new thread.","body":"No, SwingWorker run new thread."},{"owner":{"account_id":7338056,"reputation":621,"user_id":5588689,"display_name":"scsere"},"score":0,"creation_date":1452050636,"post_id":34624997,"comment_id":56995970,"body_markdown":"Yep, I commented before you changed the title  to **single thread** ;)","body":"Yep, I commented before you changed the title  to <b>single thread</b> ;)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1452052101,"post_id":34624997,"comment_id":56996344,"body_markdown":"`SwingUtilities#invokeLater` and basically call the same method, which calculates a small set of values and updates the progress bar","body":"<code>SwingUtilities#invokeLater</code> and basically call the same method, which calculates a small set of values and updates the progress bar"}],"answers":[{"comments":[{"owner":{"account_id":5846108,"reputation":1151,"user_id":4606185,"display_name":"Axifive"},"score":0,"creation_date":1452256193,"post_id":34625464,"comment_id":57099171,"body_markdown":"This is clearly not what about the interviewer was saying.","body":"This is clearly not what about the interviewer was saying."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1452290846,"post_id":34625464,"comment_id":57120433,"body_markdown":"Why? This does not freeze the UI and does not use any other threads? Since you don&#39;t seem to be able to solve it, how do you know this isn&#39;t a viable solution?","body":"Why? This does not freeze the UI and does not use any other threads? Since you don&#39;t seem to be able to solve it, how do you know this isn&#39;t a viable solution?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1452291509,"post_id":34625464,"comment_id":57120717,"body_markdown":"Based on the wording of your question, [this](http://www.oracle.com/technetwork/articles/java/fork-join-422606.html) seems to be what they are talking about, which is a clear contrition to the terms of their question, as this will still create a background thread","body":"Based on the wording of your question, <a href=\"http://www.oracle.com/technetwork/articles/java/fork-join-422606.html\" rel=\"nofollow noreferrer\">this</a> seems to be what they are talking about, which is a clear contrition to the terms of their question, as this will still create a background thread"},{"owner":{"account_id":5846108,"reputation":1151,"user_id":4606185,"display_name":"Axifive"},"score":0,"creation_date":1452304078,"post_id":34625464,"comment_id":57124234,"body_markdown":"Ok, Thank you, I think too that they talking about `java.util.concurrent` and Fork/Join.","body":"Ok, Thank you, I think too that they talking about <code>java.util.concurrent</code> and Fork/Join."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1452304480,"post_id":34625464,"comment_id":57124332,"body_markdown":"@IntFloat As I say though, using `java.util.concurrent` API still creates `Thread`s, just like `SwingWorker` and Swing `Timer`, so my question would be, how does that solve the problem with a single `Thread`?  If you consider that the EDT is a `Thread`?  These are questions that need to be better answered by the interviewers as the way you have stated the question contraindicates the &quot;suggested&quot; solution","body":"@IntFloat As I say though, using <code>java.util.concurrent</code> API still creates <code>Thread</code>s, just like <code>SwingWorker</code> and Swing <code>Timer</code>, so my question would be, how does that solve the problem with a single <code>Thread</code>?  If you consider that the EDT is a <code>Thread</code>?  These are questions that need to be better answered by the interviewers as the way you have stated the question contraindicates the &quot;suggested&quot; solution"},{"owner":{"account_id":5846108,"reputation":1151,"user_id":4606185,"display_name":"Axifive"},"score":0,"creation_date":1452305177,"post_id":34625464,"comment_id":57124470,"body_markdown":"Maybe they want to say one thread at the time. So `java.util.concurrent` can do that.","body":"Maybe they want to say one thread at the time. So <code>java.util.concurrent</code> can do that."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1452306236,"post_id":34625464,"comment_id":57124649,"body_markdown":"So can `SwingWorker` or Swing `Timer`, they only use a single thread each.  As I understand Fork/Join, it allows for a pool of threads which can be executed concurrently, but which, while one is waiting for a solution to be generated, can be re-used to start another task ... that&#39;s just my take on the blurb I read.  However, I think that will be closer to what they &quot;seem&quot; to be wanting","body":"So can <code>SwingWorker</code> or Swing <code>Timer</code>, they only use a single thread each.  As I understand Fork/Join, it allows for a pool of threads which can be executed concurrently, but which, while one is waiting for a solution to be generated, can be re-used to start another task ... that&#39;s just my take on the blurb I read.  However, I think that will be closer to what they &quot;seem&quot; to be wanting"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1452053227,"creation_date":1452053227,"answer_id":34625464,"question_id":34624997,"body_markdown":"So, assuming we can&#39;t use either `SwingWorker` or Swing `Timer`, as they create a second thread to support their operations, the only choice you&#39;re left with is to use `SwingUtilities#invokeLater` to repeatedly call a method, which performs a small subset of the work and updates the UI before calling itself again (using `SwingUtilities#invokeLater`)\r\n\r\n[![Look ma, no threads][1]][1]\r\n\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.GridBagConstraints;\r\n\timport java.awt.GridBagLayout;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JProgressBar;\r\n\timport javax.swing.SwingUtilities;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\tpublic class NoMoreThreads {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew NoMoreThreads();\r\n\t\t}\r\n\r\n\t\tpublic NoMoreThreads() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic static class TestPane extends JPanel {\r\n\r\n\t\t\tprotected static final int MAX = 1000;\r\n\r\n\t\t\tprivate JProgressBar pb;\r\n\t\t\tprivate JButton start;\r\n\t\t\tprivate int count;\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t\tsetLayout(new GridBagLayout());\r\n\t\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\t\t\t\tstart = new JButton(&quot;Let&#39;s get this party started&quot;);\r\n\t\t\t\tstart.addActionListener(new ActionListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tstart.setEnabled(false);\r\n\t\t\t\t\t\tcalculate();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tpb = new JProgressBar(0, MAX);\r\n\r\n\t\t\t\tadd(start, gbc);\r\n\t\t\t\tadd(pb, gbc);\r\n\t\t\t}\r\n\r\n\t\t\tprotected void calculate() {\r\n\t\t\t\tcount++;\r\n\t\t\t\tif (count &lt; MAX) {\r\n\t\t\t\t\tpb.setValue(count);\r\n\t\t\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t\tcalculate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstart.setEnabled(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1dwl6.gif","title":"Java long calculations without freezes GUI (in single thread)","body":"<p>So, assuming we can't use either <code>SwingWorker</code> or Swing <code>Timer</code>, as they create a second thread to support their operations, the only choice you're left with is to use <code>SwingUtilities#invokeLater</code> to repeatedly call a method, which performs a small subset of the work and updates the UI before calling itself again (using <code>SwingUtilities#invokeLater</code>)</p>\n\n<p><a href=\"https://i.stack.imgur.com/1dwl6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1dwl6.gif\" alt=\"Look ma, no threads\"></a></p>\n\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JProgressBar;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class NoMoreThreads {\n\n    public static void main(String[] args) {\n        new NoMoreThreads();\n    }\n\n    public NoMoreThreads() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public static class TestPane extends JPanel {\n\n        protected static final int MAX = 1000;\n\n        private JProgressBar pb;\n        private JButton start;\n        private int count;\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            start = new JButton(\"Let's get this party started\");\n            start.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    start.setEnabled(false);\n                    calculate();\n                }\n            });\n\n            pb = new JProgressBar(0, MAX);\n\n            add(start, gbc);\n            add(pb, gbc);\n        }\n\n        protected void calculate() {\n            count++;\n            if (count &lt; MAX) {\n                pb.setValue(count);\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        calculate();\n                    }\n                });\n            } else {\n                start.setEnabled(true);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5846108,"reputation":1151,"user_id":4606185,"display_name":"Axifive"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":34625464,"answer_count":1,"score":0,"last_activity_date":1695052741,"creation_date":1452049905,"question_id":34624997,"body_markdown":"At the interview, me was asked question: &quot;How to perform many calculations in single thread without freezes GUI component like Progress Bar or that would be able to check another user input? (Can execute only one thread)&quot;\r\n\r\nI answered that I can write async event loop. \r\nBut he told me that Java already have some mechanism for it. That java can use hardware parallelization of operation. What the classes or special words can used for this task?","title":"Java long calculations without freezes GUI (in single thread)","body":"<p>At the interview, me was asked question: &quot;How to perform many calculations in single thread without freezes GUI component like Progress Bar or that would be able to check another user input? (Can execute only one thread)&quot;</p>\n<p>I answered that I can write async event loop.\nBut he told me that Java already have some mechanism for it. That java can use hardware parallelization of operation. What the classes or special words can used for this task?</p>\n"},{"tags":["java","file","intellij-idea","jar"],"answers":[{"tags":[],"owner":{"account_id":24735826,"reputation":1,"user_id":18623206,"display_name":"Cuber6251"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694974946,"creation_date":1694974946,"answer_id":77123087,"question_id":77118568,"body_markdown":"If you just need one .class file, you can go to your IdeaProjects folder, where IntelliJ stores its projects, and then open the directory of your project. Then:\r\n\r\n1. Click on the &quot;out&quot; directory\r\n2. Click on the &quot;production&quot; directory\r\n3. Click on the file with your project name as its name\r\n4. If you have packages, you should find the correct package, and click on those directories (e.g. if your package is &quot;com.package&quot;, you will need to click on the directory &quot;com&quot;, and then the directory &quot;package&quot;)\r\n5. Find all the .class files in your project.\r\n\r\nPlease note that you will need to build &amp; run your project before these files will show up.","title":"export a single (.class) file","body":"<p>If you just need one .class file, you can go to your IdeaProjects folder, where IntelliJ stores its projects, and then open the directory of your project. Then:</p>\n<ol>\n<li>Click on the &quot;out&quot; directory</li>\n<li>Click on the &quot;production&quot; directory</li>\n<li>Click on the file with your project name as its name</li>\n<li>If you have packages, you should find the correct package, and click on those directories (e.g. if your package is &quot;com.package&quot;, you will need to click on the directory &quot;com&quot;, and then the directory &quot;package&quot;)</li>\n<li>Find all the .class files in your project.</li>\n</ol>\n<p>Please note that you will need to build &amp; run your project before these files will show up.</p>\n"}],"owner":{"account_id":29460737,"reputation":1,"user_id":22575584,"display_name":"Joya Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695052733,"creation_date":1694880555,"question_id":77118568,"body_markdown":"I&#39;m trying to export a single class file (.class) separately from my code in IntelliJ IDEA. I attempted to follow some online advice and the official instructions by going to &#39;File&#39; &gt; &#39;Project Structure&#39; &gt; &#39;Artifacts&#39; &gt; &#39;Build&#39;, but in the collapsed directory, I can only export `.java` files.\r\n\r\n![enter image description here](https://i.stack.imgur.com/Bjp7c.png)\r\n","title":"export a single (.class) file","body":"<p>I'm trying to export a single class file (.class) separately from my code in IntelliJ IDEA. I attempted to follow some online advice and the official instructions by going to 'File' &gt; 'Project Structure' &gt; 'Artifacts' &gt; 'Build', but in the collapsed directory, I can only export <code>.java</code> files.</p>\n<p><img src=\"https://i.stack.imgur.com/Bjp7c.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","tflite","scann"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695069303,"post_id":77128635,"comment_id":135972358,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":22456519,"reputation":1,"user_id":16659126,"display_name":"Taha Kara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695052052,"creation_date":1695052052,"question_id":77128635,"body_markdown":"How can I use ScaNN algorithm to create tflite model\r\n\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell","title":"How to use ScaNN on the tflite mission","body":"<p>How can I use ScaNN algorithm to create tflite model</p>\n<p>How can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell</p>\n"},{"tags":["java","pysimplegui"],"owner":{"account_id":29475021,"reputation":1,"user_id":22586951,"display_name":"Sydney Shanahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695051694,"creation_date":1695051694,"question_id":77128600,"body_markdown":"Here is my main.py\r\n```\r\nimport os.path,subprocess\r\nfrom subprocess import STDOUT,PIPE\r\nimport PySimpleGUI as sg\r\n\r\n\r\n\r\ndef compile_java(java_file):\r\n    subprocess.check_call([&#39;javac&#39;, java_file])\r\n\r\ndef execute_java(java_file):\r\n    java_class,ext = os.path.splitext(java_file)\r\n    cmd = [&#39;java&#39;, java_class, &#39;hello&#39;]\r\n    proc = subprocess.Popen(cmd,stdout=PIPE,stderr=STDOUT)\r\n    input=subprocess.Popen(cmd,stdin=PIPE)\r\n    print(proc.stdout.read())\r\n\r\n\r\nlogwindow = sg.Multiline(size=(70, 20), font=(&#39;Courier&#39;, 10))\r\nprint = logwindow.print\r\nlayout = [[logwindow]]\r\n\r\n# Create the window\r\nwindow = sg.Window(&quot;Demo&quot;, layout, finalize=True)\r\n\r\n# Create an event loop\r\nwhile True:\r\n    event, values = window.read(timeout=1)\r\n    compile_java(&quot;hello_world.java&quot;)\r\n    execute_java(&quot;HelloWorld&quot;)\r\n    if event == sg.WIN_CLOSED:\r\n        break\r\n\r\nwindow.close()\r\n```\r\n\r\nAnd here is my java file\r\n```\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n         System.out.println(args[0]);\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI want the print statement within the java file to print to my GUI screen and not the console. But only the print statement in the python file prints to the GUI screen","title":"print output from Java file to pysimplegui screen","body":"<p>Here is my main.py</p>\n<pre><code>import os.path,subprocess\nfrom subprocess import STDOUT,PIPE\nimport PySimpleGUI as sg\n\n\n\ndef compile_java(java_file):\n    subprocess.check_call(['javac', java_file])\n\ndef execute_java(java_file):\n    java_class,ext = os.path.splitext(java_file)\n    cmd = ['java', java_class, 'hello']\n    proc = subprocess.Popen(cmd,stdout=PIPE,stderr=STDOUT)\n    input=subprocess.Popen(cmd,stdin=PIPE)\n    print(proc.stdout.read())\n\n\nlogwindow = sg.Multiline(size=(70, 20), font=('Courier', 10))\nprint = logwindow.print\nlayout = [[logwindow]]\n\n# Create the window\nwindow = sg.Window(&quot;Demo&quot;, layout, finalize=True)\n\n# Create an event loop\nwhile True:\n    event, values = window.read(timeout=1)\n    compile_java(&quot;hello_world.java&quot;)\n    execute_java(&quot;HelloWorld&quot;)\n    if event == sg.WIN_CLOSED:\n        break\n\nwindow.close()\n</code></pre>\n<p>And here is my java file</p>\n<pre><code>class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n         System.out.println(args[0]);\n        \n    }\n}\n</code></pre>\n<p>I want the print statement within the java file to print to my GUI screen and not the console. But only the print statement in the python file prints to the GUI screen</p>\n"},{"tags":["java","android","android-sdcard","sd-card","usb-otg"],"answers":[{"comments":[{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1522147835,"post_id":49507682,"comment_id":86025948,"body_markdown":"Thanks for the answer. What should I pass in the place of second argument `ContextCompat.getExternalFilesDir(this,&quot; ? &quot;)`","body":"Thanks for the answer. What should I pass in the place of second argument <code>ContextCompat.getExternalFilesDir(this,&quot; ? &quot;)</code>"}],"tags":[],"owner":{"account_id":6645430,"reputation":12674,"user_id":5129715,"accept_rate":78,"display_name":"mksteve"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1522267087,"creation_date":1522138537,"answer_id":49507682,"question_id":48398221,"body_markdown":"I have had some luck with \r\n\r\n    ContextCompat.getExternalFilesDirs\r\n\r\nThis allows the application folders on external drives to be found.  I haven&#39;t yet found a working better solution than this.\r\n\r\nIn my use case I am using `Environment.DIRECTORY_MOVIES`  But if you need, there are other definitions, including the generic `DIRECTORY_DOCUMENTS`","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>I have had some luck with </p>\n\n<pre><code>ContextCompat.getExternalFilesDirs\n</code></pre>\n\n<p>This allows the application folders on external drives to be found.  I haven't yet found a working better solution than this.</p>\n\n<p>In my use case I am using <code>Environment.DIRECTORY_MOVIES</code>  But if you need, there are other definitions, including the generic <code>DIRECTORY_DOCUMENTS</code></p>\n"},{"comments":[{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1522392199,"post_id":49567524,"comment_id":86147145,"body_markdown":"Thanks will try and get back.","body":"Thanks will try and get back."},{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":0,"creation_date":1522395821,"post_id":49567524,"comment_id":86148559,"body_markdown":"That&#39;s a lot of reflection calls… If device vendor does not properly register a storage disk in `Environment`, they are unlikely to register it in StorageManager either, so I don&#39;t think, that this method is productive. Do you have examples of devices, when it actually made differences on older Android versions?","body":"That&#39;s a lot of reflection calls… If device vendor does not properly register a storage disk in <code>Environment</code>, they are unlikely to register it in StorageManager either, so I don&#39;t think, that this method is productive. Do you have examples of devices, when it actually made differences on older Android versions?"},{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1522426622,"post_id":49567524,"comment_id":86163111,"body_markdown":"Thanks for the answer. Your answer works perfectly. Will wait for some other answers, if no answer works will accept it as the correct answer and award the bounty.","body":"Thanks for the answer. Your answer works perfectly. Will wait for some other answers, if no answer works will accept it as the correct answer and award the bounty."},{"owner":{"account_id":6106013,"reputation":1309,"user_id":4763712,"accept_rate":88,"display_name":"Amjad Khan"},"score":0,"creation_date":1522467828,"post_id":49567524,"comment_id":86176102,"body_markdown":"Okay, No Problem you may try the different solution also :)","body":"Okay, No Problem you may try the different solution also :)"},{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1522494429,"post_id":49567524,"comment_id":86181778,"body_markdown":"Thanks. Have awarded the bounty and accepted your answer as the correct answer. Thanks once again.","body":"Thanks. Have awarded the bounty and accepted your answer as the correct answer. Thanks once again."}],"tags":[],"owner":{"account_id":6106013,"reputation":1309,"user_id":4763712,"accept_rate":88,"display_name":"Amjad Khan"},"comment_count":5,"down_vote_count":2,"up_vote_count":7,"is_accepted":true,"score":5,"last_activity_date":1522375941,"creation_date":1522375941,"answer_id":49567524,"question_id":48398221,"body_markdown":"You can create one class **EnvironmentSDCardCheck** \r\n\r\n    package com.example.storagecheck;\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.os.Build;\r\n    import android.os.Environment;\r\n    import android.os.storage.StorageManager;\r\n    import android.support.v4.content.ContextCompat;\r\n    import android.support.v4.os.EnvironmentCompat;\r\n    import android.util.Log;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import java.util.ArrayList;\r\n    \r\n    public class EnvironmentSDCardCheck {\r\n        private static final String TAG = &quot;EnvironmentSDCardCheck&quot;;\r\n    \r\n        public final static String TYPE_PRIMARY = &quot;prim&#228;r&quot;;\r\n        public final static String TYPE_INTERNAL = &quot;intern&quot;;\r\n        public final static String TYPE_SD = &quot;MicroSD&quot;;\r\n        public final static String TYPE_USB = &quot;USB&quot;;\r\n        public final static String TYPE_UNKNOWN = &quot;unbekannt&quot;;\r\n    \r\n        public final static String WRITE_NONE = &quot;none&quot;;\r\n        public final static String WRITE_READONLY = &quot;readonly&quot;;\r\n        public final static String WRITE_APPONLY = &quot;apponly&quot;;\r\n        public final static String WRITE_FULL = &quot;readwrite&quot;;\r\n    \r\n        private static Device[] devices, externalstorage, storage;\r\n        private static BroadcastReceiver receiver;\r\n        private static boolean useReceiver = true;\r\n        private static String userDir;\r\n    \r\n        public static Device[] getDevices(Context context) {\r\n            if (devices == null) initDevices(context);\r\n            return devices;\r\n        }\r\n    \r\n        public static Device[] getExternalStorage(Context context) {\r\n            if (devices == null) initDevices(context);\r\n            return externalstorage;\r\n        }\r\n    \r\n        public static Device[] getStorage(Context context) {\r\n            if (devices == null) initDevices(context);\r\n            return storage;\r\n        }\r\n    \r\n        public static IntentFilter getRescanIntentFilter() {\r\n            IntentFilter filter = new IntentFilter();\r\n            filter.addAction(Intent.ACTION_MEDIA_BAD_REMOVAL); \r\n            filter.addAction(Intent.ACTION_MEDIA_MOUNTED); \r\n            filter.addAction(Intent.ACTION_MEDIA_REMOVED); \r\n            filter.addAction(Intent.ACTION_MEDIA_SHARED); \r\n            filter.addDataScheme(&quot;file&quot;);\r\n            return filter;\r\n        }\r\n    \r\n        public static void setUseReceiver(Context context, boolean use) {\r\n            if (use &amp;&amp; receiver == null) {\r\n                receiver = new BroadcastReceiver() {\r\n                    @Override\r\n                    public void onReceive(Context context, Intent intent) {\r\n                        Log.i(TAG, &quot;Storage &quot; + intent.getAction() + &quot;-&quot; + intent.getData());\r\n                        initDevices(context);\r\n                    }\r\n                };\r\n                context.registerReceiver(receiver, getRescanIntentFilter());\r\n            } else if (!use &amp;&amp; receiver != null) {\r\n                context.unregisterReceiver(receiver);\r\n                receiver = null;\r\n            }\r\n            useReceiver = use;\r\n        }\r\n    \r\n        public static void initDevices(Context context) {\r\n            if (userDir == null) userDir = &quot;/Android/data/&quot; + context.getPackageName();\r\n            setUseReceiver(context, useReceiver);\r\n            StorageManager sm = (StorageManager) context.getSystemService(Context.STORAGE_SERVICE);\r\n            Class c = sm.getClass();\r\n            Object[] vols;\r\n            try {\r\n                Method m = c.getMethod(&quot;getVolumeList&quot;, null);\r\n                vols = (Object[]) m.invoke(sm, null); // android.os.Storage.StorageVolume\r\n                Device[] temp = new Device[vols.length];\r\n                for (int i = 0; i &lt; vols.length; i++) temp[i] = new Device(vols[i]);\r\n                Device primary = null;\r\n                for (Device d : temp) if (d.mPrimary) primary = d;\r\n                if (primary == null) for (Device d : temp)\r\n                    if (!d.mRemovable) {\r\n                        d.mPrimary = true;\r\n                        primary = d;\r\n                        break;\r\n                    }\r\n                if (primary == null) {\r\n                    primary = temp[0];\r\n                    primary.mPrimary = true;\r\n                }\r\n    \r\n                File[] files = ContextCompat.getExternalFilesDirs(context, null);\r\n                File[] caches = ContextCompat.getExternalCacheDirs(context);\r\n                for (Device d : temp) {\r\n                    if (files != null) for (File f : files)\r\n                        if (f != null &amp;&amp; f.getAbsolutePath().startsWith(d.getAbsolutePath()))\r\n                            d.mFiles = f;\r\n                    if (caches != null) for (File f : caches)\r\n                        if (f != null &amp;&amp; f.getAbsolutePath().startsWith(d.getAbsolutePath()))\r\n                            d.mCache = f;\r\n                }\r\n    \r\n                ArrayList&lt;Device&gt; tempDev = new ArrayList&lt;Device&gt;(10);\r\n                ArrayList&lt;Device&gt; tempStor = new ArrayList&lt;Device&gt;(10);\r\n                ArrayList&lt;Device&gt; tempExt = new ArrayList&lt;Device&gt;(10);\r\n                for (Device d : temp) {\r\n                    tempDev.add(d);\r\n                    if (d.isAvailable()) {\r\n                        tempExt.add(d);\r\n                        tempStor.add(d);\r\n                    }\r\n                }\r\n                \r\n                Device internal = new Device(context);\r\n                tempStor.add(0, internal); // bei Storage-Alternativen immer\r\n                if (!primary.mEmulated) tempDev.add(0, internal); // bei Devices nur wenn zus&#228;tzlich\r\n    \r\n                devices = tempDev.toArray(new Device[tempDev.size()]);\r\n                storage = tempStor.toArray(new Device[tempStor.size()]);\r\n                externalstorage = tempExt.toArray(new Device[tempExt.size()]);\r\n            } catch (Exception e) {\r\n                // Fallback auf normale Android-Funktionen\r\n            }\r\n    \r\n        }\r\n    \r\n        public static class Device extends File {\r\n            String mUserLabel, mUuid, mState, mWriteState, mType;\r\n            boolean mPrimary, mRemovable, mEmulated, mAllowMassStorage;\r\n            long mMaxFileSize;\r\n            File mFiles, mCache;\r\n    \r\n            Device(Context context) {\r\n                super(Environment.getDataDirectory().getAbsolutePath());\r\n                mState = Environment.MEDIA_MOUNTED;\r\n                mFiles = context.getFilesDir();\r\n                mCache = context.getCacheDir();\r\n                mType = TYPE_INTERNAL;\r\n                mWriteState = WRITE_APPONLY;\r\n            }\r\n    \r\n            @SuppressWarnings(&quot;NullArgumentToVariableArgMethod&quot;)\r\n            Device(Object storage) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n                super((String) storage.getClass().getMethod(&quot;getPath&quot;, null).invoke(storage, null));\r\n                for (Method m : storage.getClass().getMethods()) {\r\n                    if (m.getName().equals(&quot;getUserLabel&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\r\n                        mUserLabel = (String) m.invoke(storage, null); // ab Android 4.4\r\n                    if (m.getName().equals(&quot;getUuid&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\r\n                        mUuid = (String) m.invoke(storage, null); // ab Android 4.4\r\n                    if (m.getName().equals(&quot;getState&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\r\n                        mState = (String) m.invoke(storage, null); // ab Android 4.4\r\n                    if (m.getName().equals(&quot;isRemovable&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\r\n                        mRemovable = (Boolean) m.invoke(storage, null); // ab Android 4.0\r\n                    if (m.getName().equals(&quot;isPrimary&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\r\n                        mPrimary = (Boolean) m.invoke(storage, null); // ab Android 4.2\r\n                    if (m.getName().equals(&quot;isEmulated&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\r\n                        mEmulated = (Boolean) m.invoke(storage, null); // ab Android 4.0\r\n                    if (m.getName().equals(&quot;allowMassStorage&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\r\n                        mAllowMassStorage = (Boolean) m.invoke(storage, null); // ab Android 4.0\r\n                    if (m.getName().equals(&quot;getMaxFileSize&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == long.class)\r\n                        mMaxFileSize = (Long) m.invoke(storage, null); // ab Android 4.0\r\n                    // getDescription (ab 4.1 mit context) liefert keine sinnvollen Werte\r\n                    // getPathFile (ab 4.2) liefert keine sinnvollen Werte\r\n                    // getMtpReserveSpace (ab 4.0) f&#252;r diese Zwecke unwichtig\r\n                    // getStorageId (ab 4.0) f&#252;r diese Zwecke unwichtig\r\n                }\r\n                if (mState == null) mState = getState();\r\n    \r\n                if (mPrimary)\r\n                    mType = TYPE_PRIMARY;\r\n                else {\r\n                    String n = getAbsolutePath().toLowerCase();\r\n                    if (n.indexOf(&quot;sd&quot;) &gt; 0)\r\n                        mType = TYPE_SD;\r\n                    else if (n.indexOf(&quot;usb&quot;) &gt; 0)\r\n                        mType = TYPE_USB;\r\n                    else\r\n                        mType = TYPE_UNKNOWN + &quot; &quot; + getAbsolutePath();\r\n                }\r\n            }\r\n    \r\n            public String getType() {\r\n                return mType;\r\n            }\r\n    \r\n            public String getAccess() {\r\n                if (mWriteState == null) {\r\n                    try {\r\n                        mWriteState = WRITE_NONE;\r\n                        File[] root = listFiles();\r\n                        if (root == null || root.length == 0)\r\n                            throw new IOException(&quot;root empty/unreadable&quot;);\r\n                        mWriteState = WRITE_READONLY;\r\n                        File t = File.createTempFile(&quot;jow&quot;, null, getFilesDir());\r\n                        //noinspection ResultOfMethodCallIgnored\r\n                        t.delete();\r\n                        mWriteState = WRITE_APPONLY;\r\n                        t = File.createTempFile(&quot;jow&quot;, null, this);\r\n                        //noinspection ResultOfMethodCallIgnored\r\n                        t.delete();\r\n                        mWriteState = WRITE_FULL;\r\n                    } catch (IOException ignore) {\r\n                        Log.v(TAG, &quot;test &quot; + getAbsolutePath() + &quot; -&gt;&quot; + mWriteState + &quot;&lt;- &quot; + ignore.getMessage());\r\n                    }\r\n                }\r\n                return mWriteState;\r\n            }\r\n    \r\n            public boolean isAvailable() {\r\n                String s = getState();\r\n                return (\r\n                        Environment.MEDIA_MOUNTED.equals(s) ||\r\n                                Environment.MEDIA_MOUNTED_READ_ONLY.equals(s)\r\n                );\r\n                // MEDIA_SHARED: als USB freigegeben; bitte Handy auf MTP umstellen\r\n            }\r\n    \r\n            public String getState() {\r\n                if (mRemovable || mState == null) {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\r\n                        // Android 5.0? Da gibts was neues\r\n                        mState = Environment.getExternalStorageState(this);\r\n                    else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT)\r\n                        // Android 4.4? Dann dort nachfragen\r\n                        mState = Environment.getStorageState(this);\r\n                    else if (canRead() &amp;&amp; getTotalSpace() &gt; 0)\r\n                        // lesbar und Gr&#246;&#223;e vorhanden =&gt; gibt es\r\n                        mState = Environment.MEDIA_MOUNTED;\r\n                    else if (mState == null || Environment.MEDIA_MOUNTED.equals(mState))\r\n                        // nicht lesbar, keine Gr&#246;&#223;e aber noch MOUNTED || oder ungesetzt =&gt; UNKNOWN\r\n                        mState = EnvironmentCompat.MEDIA_UNKNOWN;\r\n                }\r\n                return mState;\r\n            }\r\n    \r\n            public File getFilesDir() {\r\n                if (mFiles == null) {\r\n                    mFiles = new File(this, userDir + &quot;/files&quot;);\r\n                    if (!mFiles.isDirectory())\r\n                        //noinspection ResultOfMethodCallIgnored\r\n                        mFiles.mkdirs();\r\n                }\r\n                return mFiles;\r\n            }\r\n    \r\n            public File getCacheDir() {\r\n                if (mCache == null) {\r\n                    mCache = new File(this, userDir + &quot;/cache&quot;);\r\n                    if (!mCache.isDirectory())\r\n                        //noinspection ResultOfMethodCallIgnored\r\n                        mCache.mkdirs();\r\n                }\r\n                return mCache;\r\n            }\r\n    \r\n            public boolean isPrimary() {\r\n                return mPrimary;\r\n            }\r\n    \r\n            public boolean isRemovable() {\r\n                return mRemovable;\r\n            }\r\n            public boolean isEmulated() {\r\n                return mEmulated;\r\n            }\r\n    \r\n            public boolean isAllowMassStorage() {\r\n                return mAllowMassStorage;\r\n            }\r\n    \r\n            public long getMaxFileSize() {\r\n                return mMaxFileSize;\r\n            }\r\n    \r\n            public String getUserLabel() {\r\n                return mUserLabel;\r\n            }\r\n    \r\n            public String getUuid() {\r\n                return mUuid;\r\n            }\r\n        }\r\n    }\r\n\r\nand then you can use it to check sd card or Usb or unknown is presently connected or not with device\r\n\r\n\r\n&gt; This way you can get the connected sd card, usb, etc.\r\n\r\n    private boolean checkSdCardPermission() {\r\n        boolean flag = false;\r\n        try {\r\n            EnvironmentSDCard.Device[] devices = EnvironmentSDCard.getExternalStorage(MainActivity.this);\r\n            for (EnvironmentSDCard.Device d : devices) {\r\n                if (d.getType().equals(EnvironmentSDCard.TYPE_SD) || d.getType().contains(EnvironmentSDCard.TYPE_UNKNOWN) || d.getType().contains(EnvironmentSDCard.TYPE_USB)) {\r\n                    flag = d.isAvailable();\r\n                    if (flag)\r\n                        break;\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n        }\r\n        return flag;\r\n    }\r\n\r\n ","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>You can create one class <strong>EnvironmentSDCardCheck</strong> </p>\n\n<pre><code>package com.example.storagecheck;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.os.Build;\nimport android.os.Environment;\nimport android.os.storage.StorageManager;\nimport android.support.v4.content.ContextCompat;\nimport android.support.v4.os.EnvironmentCompat;\nimport android.util.Log;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\n\npublic class EnvironmentSDCardCheck {\n    private static final String TAG = \"EnvironmentSDCardCheck\";\n\n    public final static String TYPE_PRIMARY = \"primär\";\n    public final static String TYPE_INTERNAL = \"intern\";\n    public final static String TYPE_SD = \"MicroSD\";\n    public final static String TYPE_USB = \"USB\";\n    public final static String TYPE_UNKNOWN = \"unbekannt\";\n\n    public final static String WRITE_NONE = \"none\";\n    public final static String WRITE_READONLY = \"readonly\";\n    public final static String WRITE_APPONLY = \"apponly\";\n    public final static String WRITE_FULL = \"readwrite\";\n\n    private static Device[] devices, externalstorage, storage;\n    private static BroadcastReceiver receiver;\n    private static boolean useReceiver = true;\n    private static String userDir;\n\n    public static Device[] getDevices(Context context) {\n        if (devices == null) initDevices(context);\n        return devices;\n    }\n\n    public static Device[] getExternalStorage(Context context) {\n        if (devices == null) initDevices(context);\n        return externalstorage;\n    }\n\n    public static Device[] getStorage(Context context) {\n        if (devices == null) initDevices(context);\n        return storage;\n    }\n\n    public static IntentFilter getRescanIntentFilter() {\n        IntentFilter filter = new IntentFilter();\n        filter.addAction(Intent.ACTION_MEDIA_BAD_REMOVAL); \n        filter.addAction(Intent.ACTION_MEDIA_MOUNTED); \n        filter.addAction(Intent.ACTION_MEDIA_REMOVED); \n        filter.addAction(Intent.ACTION_MEDIA_SHARED); \n        filter.addDataScheme(\"file\");\n        return filter;\n    }\n\n    public static void setUseReceiver(Context context, boolean use) {\n        if (use &amp;&amp; receiver == null) {\n            receiver = new BroadcastReceiver() {\n                @Override\n                public void onReceive(Context context, Intent intent) {\n                    Log.i(TAG, \"Storage \" + intent.getAction() + \"-\" + intent.getData());\n                    initDevices(context);\n                }\n            };\n            context.registerReceiver(receiver, getRescanIntentFilter());\n        } else if (!use &amp;&amp; receiver != null) {\n            context.unregisterReceiver(receiver);\n            receiver = null;\n        }\n        useReceiver = use;\n    }\n\n    public static void initDevices(Context context) {\n        if (userDir == null) userDir = \"/Android/data/\" + context.getPackageName();\n        setUseReceiver(context, useReceiver);\n        StorageManager sm = (StorageManager) context.getSystemService(Context.STORAGE_SERVICE);\n        Class c = sm.getClass();\n        Object[] vols;\n        try {\n            Method m = c.getMethod(\"getVolumeList\", null);\n            vols = (Object[]) m.invoke(sm, null); // android.os.Storage.StorageVolume\n            Device[] temp = new Device[vols.length];\n            for (int i = 0; i &lt; vols.length; i++) temp[i] = new Device(vols[i]);\n            Device primary = null;\n            for (Device d : temp) if (d.mPrimary) primary = d;\n            if (primary == null) for (Device d : temp)\n                if (!d.mRemovable) {\n                    d.mPrimary = true;\n                    primary = d;\n                    break;\n                }\n            if (primary == null) {\n                primary = temp[0];\n                primary.mPrimary = true;\n            }\n\n            File[] files = ContextCompat.getExternalFilesDirs(context, null);\n            File[] caches = ContextCompat.getExternalCacheDirs(context);\n            for (Device d : temp) {\n                if (files != null) for (File f : files)\n                    if (f != null &amp;&amp; f.getAbsolutePath().startsWith(d.getAbsolutePath()))\n                        d.mFiles = f;\n                if (caches != null) for (File f : caches)\n                    if (f != null &amp;&amp; f.getAbsolutePath().startsWith(d.getAbsolutePath()))\n                        d.mCache = f;\n            }\n\n            ArrayList&lt;Device&gt; tempDev = new ArrayList&lt;Device&gt;(10);\n            ArrayList&lt;Device&gt; tempStor = new ArrayList&lt;Device&gt;(10);\n            ArrayList&lt;Device&gt; tempExt = new ArrayList&lt;Device&gt;(10);\n            for (Device d : temp) {\n                tempDev.add(d);\n                if (d.isAvailable()) {\n                    tempExt.add(d);\n                    tempStor.add(d);\n                }\n            }\n\n            Device internal = new Device(context);\n            tempStor.add(0, internal); // bei Storage-Alternativen immer\n            if (!primary.mEmulated) tempDev.add(0, internal); // bei Devices nur wenn zusätzlich\n\n            devices = tempDev.toArray(new Device[tempDev.size()]);\n            storage = tempStor.toArray(new Device[tempStor.size()]);\n            externalstorage = tempExt.toArray(new Device[tempExt.size()]);\n        } catch (Exception e) {\n            // Fallback auf normale Android-Funktionen\n        }\n\n    }\n\n    public static class Device extends File {\n        String mUserLabel, mUuid, mState, mWriteState, mType;\n        boolean mPrimary, mRemovable, mEmulated, mAllowMassStorage;\n        long mMaxFileSize;\n        File mFiles, mCache;\n\n        Device(Context context) {\n            super(Environment.getDataDirectory().getAbsolutePath());\n            mState = Environment.MEDIA_MOUNTED;\n            mFiles = context.getFilesDir();\n            mCache = context.getCacheDir();\n            mType = TYPE_INTERNAL;\n            mWriteState = WRITE_APPONLY;\n        }\n\n        @SuppressWarnings(\"NullArgumentToVariableArgMethod\")\n        Device(Object storage) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n            super((String) storage.getClass().getMethod(\"getPath\", null).invoke(storage, null));\n            for (Method m : storage.getClass().getMethods()) {\n                if (m.getName().equals(\"getUserLabel\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\n                    mUserLabel = (String) m.invoke(storage, null); // ab Android 4.4\n                if (m.getName().equals(\"getUuid\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\n                    mUuid = (String) m.invoke(storage, null); // ab Android 4.4\n                if (m.getName().equals(\"getState\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\n                    mState = (String) m.invoke(storage, null); // ab Android 4.4\n                if (m.getName().equals(\"isRemovable\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\n                    mRemovable = (Boolean) m.invoke(storage, null); // ab Android 4.0\n                if (m.getName().equals(\"isPrimary\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\n                    mPrimary = (Boolean) m.invoke(storage, null); // ab Android 4.2\n                if (m.getName().equals(\"isEmulated\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\n                    mEmulated = (Boolean) m.invoke(storage, null); // ab Android 4.0\n                if (m.getName().equals(\"allowMassStorage\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\n                    mAllowMassStorage = (Boolean) m.invoke(storage, null); // ab Android 4.0\n                if (m.getName().equals(\"getMaxFileSize\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == long.class)\n                    mMaxFileSize = (Long) m.invoke(storage, null); // ab Android 4.0\n                // getDescription (ab 4.1 mit context) liefert keine sinnvollen Werte\n                // getPathFile (ab 4.2) liefert keine sinnvollen Werte\n                // getMtpReserveSpace (ab 4.0) für diese Zwecke unwichtig\n                // getStorageId (ab 4.0) für diese Zwecke unwichtig\n            }\n            if (mState == null) mState = getState();\n\n            if (mPrimary)\n                mType = TYPE_PRIMARY;\n            else {\n                String n = getAbsolutePath().toLowerCase();\n                if (n.indexOf(\"sd\") &gt; 0)\n                    mType = TYPE_SD;\n                else if (n.indexOf(\"usb\") &gt; 0)\n                    mType = TYPE_USB;\n                else\n                    mType = TYPE_UNKNOWN + \" \" + getAbsolutePath();\n            }\n        }\n\n        public String getType() {\n            return mType;\n        }\n\n        public String getAccess() {\n            if (mWriteState == null) {\n                try {\n                    mWriteState = WRITE_NONE;\n                    File[] root = listFiles();\n                    if (root == null || root.length == 0)\n                        throw new IOException(\"root empty/unreadable\");\n                    mWriteState = WRITE_READONLY;\n                    File t = File.createTempFile(\"jow\", null, getFilesDir());\n                    //noinspection ResultOfMethodCallIgnored\n                    t.delete();\n                    mWriteState = WRITE_APPONLY;\n                    t = File.createTempFile(\"jow\", null, this);\n                    //noinspection ResultOfMethodCallIgnored\n                    t.delete();\n                    mWriteState = WRITE_FULL;\n                } catch (IOException ignore) {\n                    Log.v(TAG, \"test \" + getAbsolutePath() + \" -&gt;\" + mWriteState + \"&lt;- \" + ignore.getMessage());\n                }\n            }\n            return mWriteState;\n        }\n\n        public boolean isAvailable() {\n            String s = getState();\n            return (\n                    Environment.MEDIA_MOUNTED.equals(s) ||\n                            Environment.MEDIA_MOUNTED_READ_ONLY.equals(s)\n            );\n            // MEDIA_SHARED: als USB freigegeben; bitte Handy auf MTP umstellen\n        }\n\n        public String getState() {\n            if (mRemovable || mState == null) {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n                    // Android 5.0? Da gibts was neues\n                    mState = Environment.getExternalStorageState(this);\n                else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT)\n                    // Android 4.4? Dann dort nachfragen\n                    mState = Environment.getStorageState(this);\n                else if (canRead() &amp;&amp; getTotalSpace() &gt; 0)\n                    // lesbar und Größe vorhanden =&gt; gibt es\n                    mState = Environment.MEDIA_MOUNTED;\n                else if (mState == null || Environment.MEDIA_MOUNTED.equals(mState))\n                    // nicht lesbar, keine Größe aber noch MOUNTED || oder ungesetzt =&gt; UNKNOWN\n                    mState = EnvironmentCompat.MEDIA_UNKNOWN;\n            }\n            return mState;\n        }\n\n        public File getFilesDir() {\n            if (mFiles == null) {\n                mFiles = new File(this, userDir + \"/files\");\n                if (!mFiles.isDirectory())\n                    //noinspection ResultOfMethodCallIgnored\n                    mFiles.mkdirs();\n            }\n            return mFiles;\n        }\n\n        public File getCacheDir() {\n            if (mCache == null) {\n                mCache = new File(this, userDir + \"/cache\");\n                if (!mCache.isDirectory())\n                    //noinspection ResultOfMethodCallIgnored\n                    mCache.mkdirs();\n            }\n            return mCache;\n        }\n\n        public boolean isPrimary() {\n            return mPrimary;\n        }\n\n        public boolean isRemovable() {\n            return mRemovable;\n        }\n        public boolean isEmulated() {\n            return mEmulated;\n        }\n\n        public boolean isAllowMassStorage() {\n            return mAllowMassStorage;\n        }\n\n        public long getMaxFileSize() {\n            return mMaxFileSize;\n        }\n\n        public String getUserLabel() {\n            return mUserLabel;\n        }\n\n        public String getUuid() {\n            return mUuid;\n        }\n    }\n}\n</code></pre>\n\n<p>and then you can use it to check sd card or Usb or unknown is presently connected or not with device</p>\n\n<blockquote>\n  <p>This way you can get the connected sd card, usb, etc.</p>\n</blockquote>\n\n<pre><code>private boolean checkSdCardPermission() {\n    boolean flag = false;\n    try {\n        EnvironmentSDCard.Device[] devices = EnvironmentSDCard.getExternalStorage(MainActivity.this);\n        for (EnvironmentSDCard.Device d : devices) {\n            if (d.getType().equals(EnvironmentSDCard.TYPE_SD) || d.getType().contains(EnvironmentSDCard.TYPE_UNKNOWN) || d.getType().contains(EnvironmentSDCard.TYPE_USB)) {\n                flag = d.isAvailable();\n                if (flag)\n                    break;\n            }\n        }\n    } catch (Exception e) {\n    }\n    return flag;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1522392035,"post_id":49569295,"comment_id":86147061,"body_markdown":"Is this method available to older Android versions publicly?","body":"Is this method available to older Android versions publicly?"},{"owner":{"display_name":"user5956451"},"score":0,"creation_date":1522394220,"post_id":49569295,"comment_id":86147893,"body_markdown":"API level 9 means Android 2.3 (Gingerbread), which was released December 6, 2010 (more than seven years ago)","body":"API level 9 means Android 2.3 (Gingerbread), which was released December 6, 2010 (more than seven years ago)"},{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":1,"creation_date":1522395676,"post_id":49569295,"comment_id":86148507,"body_markdown":"StorageManager was introduced in API 9, but `getStorageVolumes` did not become public API until API 24. In addition, it does not list anything, that haven&#39;t been specifically listed by device vendor. In other words, if your device does not list some storage location in public API, you are back to square one.","body":"StorageManager was introduced in API 9, but <code>getStorageVolumes</code> did not become public API until API 24. In addition, it does not list anything, that haven&#39;t been specifically listed by device vendor. In other words, if your device does not list some storage location in public API, you are back to square one."}],"tags":[],"owner":{"display_name":"user5956451"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1522397726,"creation_date":1522390179,"answer_id":49569295,"question_id":48398221,"body_markdown":"Since API level 9 there is `android.os.storage.StorageManager`. Call `getStorageVolumes()` (available since API level 24) to get a list of storage volumes. As the doc puts it:\r\n\r\n&gt; Return the list of shared/external storage volumes available to the current user. This includes both the primary shared storage device and any attached external volumes including SD cards and USB drives.\r\n\r\nThe result is `List&lt;StorageVolume&gt;`. Now, take a look at `android.os.storage.StorageVolume`:\r\n\r\n&gt; Information about a shared/external storage volume for a specific user.\r\n\r\nYou can for example get a user-visible description of the volume by calling `getDescription()`. See `createAccessIntent()` how to get access.","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>Since API level 9 there is <code>android.os.storage.StorageManager</code>. Call <code>getStorageVolumes()</code> (available since API level 24) to get a list of storage volumes. As the doc puts it:</p>\n\n<blockquote>\n  <p>Return the list of shared/external storage volumes available to the current user. This includes both the primary shared storage device and any attached external volumes including SD cards and USB drives.</p>\n</blockquote>\n\n<p>The result is <code>List&lt;StorageVolume&gt;</code>. Now, take a look at <code>android.os.storage.StorageVolume</code>:</p>\n\n<blockquote>\n  <p>Information about a shared/external storage volume for a specific user.</p>\n</blockquote>\n\n<p>You can for example get a user-visible description of the volume by calling <code>getDescription()</code>. See <code>createAccessIntent()</code> how to get access.</p>\n"},{"comments":[{"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"score":0,"creation_date":1522425928,"post_id":49569936,"comment_id":86162810,"body_markdown":"Tried your method but I am getting some errors in Android Studio. Some are the `Mount` class is not found, `throwawayBuffer.get()` is shown as error, `pfd.getFileDescriptor()` is shown as error, `scanner.hasNextLine()` is shown as error, etc errors are shown. Can you please have a look and help.","body":"Tried your method but I am getting some errors in Android Studio. Some are the <code>Mount</code> class is not found, <code>throwawayBuffer.get()</code> is shown as error, <code>pfd.getFileDescriptor()</code> is shown as error, <code>scanner.hasNextLine()</code> is shown as error, etc errors are shown. Can you please have a look and help."},{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":0,"creation_date":1522635154,"post_id":49569936,"comment_id":86216070,"body_markdown":"@Rahulrr2602 I have removed references to `throwawayBuffer` and `Mount`, — those are just some ByteBuffer a simple POJO to store mountpoint information respectively. This isn&#39;t  really a complete ready-to-use library — I am expect you to adapt the code to your environment.","body":"@Rahulrr2602 I have removed references to <code>throwawayBuffer</code> and <code>Mount</code>, — those are just some ByteBuffer a simple POJO to store mountpoint information respectively. This isn&#39;t  really a complete ready-to-use library — I am expect you to adapt the code to your environment."}],"tags":[],"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1522634875,"creation_date":1522393450,"answer_id":49569936,"question_id":48398221,"body_markdown":"This is an addition to @Sagar&#39;s answer about getting mounts from `/proc`. Note the use of /proc/self/mountinfo instead of /proc/mountinfo or /proc/mounts. You can read more about format of `/proc/self/mountinfo` in `man 5 procfs`. While the following code technically parses files, it is safe to run on the main thread (because `/proc` is in-memory filesystem).\r\n\r\n    private static final int SANE_SIZE_LIMIT = 200 * 1024 * 1024;\r\n\r\n    // some hashmap for mapping long values to objects\r\n    // personally I am using HPPC maps, the HashMap class is for simplicity\r\n    public final HashMap&lt;String&gt; mountMap = new HashMap&lt;&gt;();\r\n\r\n    public void parse() {\r\n        mountMap.clear();\r\n   \r\n        CharsetDecoder decoder = StandardCharsets.UTF_8.newDecoder();\r\n\r\n        parseMounts(decoder, true);\r\n    }\r\n\r\n    private int measure(FileChannel fc) throws IOException {\r\n        final ByteBuffer buffer = ByteBuffer.allocate(1024 * 4);\r\n\r\n        int totalRead = 0, lastRead;\r\n\r\n        do {\r\n            buffer.clear();\r\n\r\n            lastRead = fc.read(buffer);\r\n\r\n            totalRead += lastRead;\r\n\r\n            if (totalRead &gt; SANE_SIZE_LIMIT) {\r\n                throw new IOException(&quot;/proc/ file appears to be too big!!&quot;);\r\n            }\r\n        } while (lastRead != -1);\r\n\r\n        fc.position(0);\r\n\r\n        return totalRead;\r\n    }\r\n\r\n    private void parseMounts(CharsetDecoder d, boolean force) {\r\n      File file = new File(&quot;/proc/self/mountinfo&quot;);\r\n\r\n      int mode = ParcelFileDescriptor.MODE_READ_ONLY;\r\n\r\n      try (ParcelFileDescriptor pfd = ParcelFileDescriptor.open(file, mode));\r\n        FileChannel fc = new FileInputStream(pfd.getFileDescriptor()).getChannel()) {\r\n\r\n        // Measure size of file before reading from it.\r\n        // Virtual files in /proc/ appear to be zero-sized (because\r\n        // their contents are dynamic), but we want to attempt\r\n        // reading it in single read() call to avoid inconsistencies\r\n        final int totalRead = measure(fc);\r\n\r\n        try (FileInputStream fis = new FileInputStream(pfd.getFileDescriptor());\r\n             Reader r = Channels.newReader(fis.getChannel(), d, totalRead);\r\n             Scanner scanner = new Scanner(r)) {\r\n          while (scanner.hasNextLine()) {\r\n            scanner.nextInt();\r\n            scanner.nextInt();\r\n\r\n            final String[] mm = scanner.next().split(&quot;:&quot;);\r\n\r\n            final int major = Integer.parseInt(mm[0]);\r\n            final int minor = Integer.parseInt(mm[1]);\r\n\r\n            final long dev_t = makedev(major, minor);\r\n\r\n            final String source = scanner.next();\r\n\r\n            // ignore bind-mounts for now\r\n            if (&quot;/&quot;.equals(source)) {\r\n              final String location = scanner.next();\r\n\r\n              // skip optional parts\r\n              scanner.skip(&quot;(.+ -)&quot;);\r\n\r\n              // type of file system (such as ext4)\r\n              // most useful filesystems can be distinguished by type\r\n              // but &quot;fuse&quot; is problematic (because most Android\r\n              // distributions implement dynamic permissions on\r\n              // external SD card via custom FUSE filesystem).\r\n              // To make matters worse, that SD card FUSE filesystem is\r\n              // often mounted in several places at once. The code below\r\n              // will throw away duplicate mounts by placing them in\r\n              // HashMap, keyed by uniqie filesystem type ID,\r\n              // but you can do it more cleverly be checking whether\r\n              // a mountpoint directory is accessible (via File#list).\r\n              // You can throw away rest of useless filesystems (such as\r\n              // /mnt/secure/asec) by permission checks and blacklisting\r\n              // well-known paths.\r\n              final String fsType = scanner.next().intern();\r\n\r\n              final String subject = scanner.next().intern();\r\n\r\n              String created = location + subject + fsType;\r\n\r\n              String prev = mountMap.put(dev_t, created);\r\n\r\n              if (prev != null) {\r\n                created.next = prev;\r\n              }\r\n            }\r\n\r\n            scanner.nextLine();\r\n          }\r\n\r\n          return;\r\n        } catch (NumberFormatException | NoSuchElementException nse) {\r\n          // oops.. either a new row type was introduced (not a big deal)\r\n          // or the file changed below our feet (because someone has mounted\r\n          // something). Let&#39;s retry once more\r\n          parseMounts(d, false);\r\n        } catch (IOException e) {\r\n            throw new WrappedIOException(e);\r\n        }\r\n    }\r\n\r\nYou can find more useful information (such as common path to useless filesystem), in [this answer](https://stackoverflow.com/a/19982338/1643723). Note, that formats of /proc/mounts and /proc/mountinfo **are different**, later was introduced after former to improve upon it&#39;s format without breaking backwards compatibility.\r\n\r\nThe code above is not golden bullet — it does not really tell you anything about individual filesystems, just their paths and filesystem name. You can be reasonable confident, that &quot;vfat&quot; and &quot;ext4&quot; are useful filesystems, and &quot;procfs&quot; is useless, but something like &quot;fuse&quot; is going to remain mysterious. You can augment output of code above by using `android.os.storage.StorageManager` to get more user-friendly filesystem names (like &quot;SD Card&quot;) when they are available (match by mount paths). You can also use [StatFs](https://developer.android.com/reference/android/os/StatFs.html) to obtain available free space on partition — useless virtual filesystems typically will return zero free space and zero available space when queried. Finally, if you  are so inclined, you can consider filesystem mount options when deciding whether to show filesystem to user. E.g. `ro` vs `rw`, — read-only filesystem mounts typically will be a lot less useful for your users.\r\n\r\n\r\n----------\r\n\r\nWhen I explain this method to people, they are often concerned with it&#39;s robustness… Will it work on some random junkphone? Will it remain available in future OS versions? Here is my take on it: this method is still better than many reflection-based advises, — in the worst case, reading from /proc/ file will return you IOException. It will not crash your app or result in unpredictable behavior like some reflection-based hacks.\r\n\r\n`/proc` filesystem is official Linux API, maintained by Linux kernel developers. It is not possible to remove it by specifying different kernel build options (e.g. it is a mandatory part of OS kernel). It has been available for many years and retains better backwards compatibility than most Android APIs. In particular /proc/self/mountinfo was created over 10 years ago and will be available in most existing Android versions except most ancient.\r\n\r\nAndroid developers do not officially support Linux-specific APIs. But they don&#39;t go out of their way to break them either. Some of recent SELinux changes in post-Lollipop Android have restricted access to some files in `/proc/`, — because they allowed applications to covertly spy on other applications. Those changes specifically kept `/proc/self` accessible, because /proc/self is designed to expose only applications own information (including information about file systems, available to the application).\r\n\r\nIf Google ever transitions from Linux to Fuchensa or some other homegrown BSD fork, the /proc/ and other Linux-specifc APIs will probably break. Do I care? Not really.","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>This is an addition to @Sagar's answer about getting mounts from <code>/proc</code>. Note the use of /proc/self/mountinfo instead of /proc/mountinfo or /proc/mounts. You can read more about format of <code>/proc/self/mountinfo</code> in <code>man 5 procfs</code>. While the following code technically parses files, it is safe to run on the main thread (because <code>/proc</code> is in-memory filesystem).</p>\n\n<pre><code>private static final int SANE_SIZE_LIMIT = 200 * 1024 * 1024;\n\n// some hashmap for mapping long values to objects\n// personally I am using HPPC maps, the HashMap class is for simplicity\npublic final HashMap&lt;String&gt; mountMap = new HashMap&lt;&gt;();\n\npublic void parse() {\n    mountMap.clear();\n\n    CharsetDecoder decoder = StandardCharsets.UTF_8.newDecoder();\n\n    parseMounts(decoder, true);\n}\n\nprivate int measure(FileChannel fc) throws IOException {\n    final ByteBuffer buffer = ByteBuffer.allocate(1024 * 4);\n\n    int totalRead = 0, lastRead;\n\n    do {\n        buffer.clear();\n\n        lastRead = fc.read(buffer);\n\n        totalRead += lastRead;\n\n        if (totalRead &gt; SANE_SIZE_LIMIT) {\n            throw new IOException(\"/proc/ file appears to be too big!!\");\n        }\n    } while (lastRead != -1);\n\n    fc.position(0);\n\n    return totalRead;\n}\n\nprivate void parseMounts(CharsetDecoder d, boolean force) {\n  File file = new File(\"/proc/self/mountinfo\");\n\n  int mode = ParcelFileDescriptor.MODE_READ_ONLY;\n\n  try (ParcelFileDescriptor pfd = ParcelFileDescriptor.open(file, mode));\n    FileChannel fc = new FileInputStream(pfd.getFileDescriptor()).getChannel()) {\n\n    // Measure size of file before reading from it.\n    // Virtual files in /proc/ appear to be zero-sized (because\n    // their contents are dynamic), but we want to attempt\n    // reading it in single read() call to avoid inconsistencies\n    final int totalRead = measure(fc);\n\n    try (FileInputStream fis = new FileInputStream(pfd.getFileDescriptor());\n         Reader r = Channels.newReader(fis.getChannel(), d, totalRead);\n         Scanner scanner = new Scanner(r)) {\n      while (scanner.hasNextLine()) {\n        scanner.nextInt();\n        scanner.nextInt();\n\n        final String[] mm = scanner.next().split(\":\");\n\n        final int major = Integer.parseInt(mm[0]);\n        final int minor = Integer.parseInt(mm[1]);\n\n        final long dev_t = makedev(major, minor);\n\n        final String source = scanner.next();\n\n        // ignore bind-mounts for now\n        if (\"/\".equals(source)) {\n          final String location = scanner.next();\n\n          // skip optional parts\n          scanner.skip(\"(.+ -)\");\n\n          // type of file system (such as ext4)\n          // most useful filesystems can be distinguished by type\n          // but \"fuse\" is problematic (because most Android\n          // distributions implement dynamic permissions on\n          // external SD card via custom FUSE filesystem).\n          // To make matters worse, that SD card FUSE filesystem is\n          // often mounted in several places at once. The code below\n          // will throw away duplicate mounts by placing them in\n          // HashMap, keyed by uniqie filesystem type ID,\n          // but you can do it more cleverly be checking whether\n          // a mountpoint directory is accessible (via File#list).\n          // You can throw away rest of useless filesystems (such as\n          // /mnt/secure/asec) by permission checks and blacklisting\n          // well-known paths.\n          final String fsType = scanner.next().intern();\n\n          final String subject = scanner.next().intern();\n\n          String created = location + subject + fsType;\n\n          String prev = mountMap.put(dev_t, created);\n\n          if (prev != null) {\n            created.next = prev;\n          }\n        }\n\n        scanner.nextLine();\n      }\n\n      return;\n    } catch (NumberFormatException | NoSuchElementException nse) {\n      // oops.. either a new row type was introduced (not a big deal)\n      // or the file changed below our feet (because someone has mounted\n      // something). Let's retry once more\n      parseMounts(d, false);\n    } catch (IOException e) {\n        throw new WrappedIOException(e);\n    }\n}\n</code></pre>\n\n<p>You can find more useful information (such as common path to useless filesystem), in <a href=\"https://stackoverflow.com/a/19982338/1643723\">this answer</a>. Note, that formats of /proc/mounts and /proc/mountinfo <strong>are different</strong>, later was introduced after former to improve upon it's format without breaking backwards compatibility.</p>\n\n<p>The code above is not golden bullet — it does not really tell you anything about individual filesystems, just their paths and filesystem name. You can be reasonable confident, that \"vfat\" and \"ext4\" are useful filesystems, and \"procfs\" is useless, but something like \"fuse\" is going to remain mysterious. You can augment output of code above by using <code>android.os.storage.StorageManager</code> to get more user-friendly filesystem names (like \"SD Card\") when they are available (match by mount paths). You can also use <a href=\"https://developer.android.com/reference/android/os/StatFs.html\" rel=\"nofollow noreferrer\">StatFs</a> to obtain available free space on partition — useless virtual filesystems typically will return zero free space and zero available space when queried. Finally, if you  are so inclined, you can consider filesystem mount options when deciding whether to show filesystem to user. E.g. <code>ro</code> vs <code>rw</code>, — read-only filesystem mounts typically will be a lot less useful for your users.</p>\n\n<hr>\n\n<p>When I explain this method to people, they are often concerned with it's robustness… Will it work on some random junkphone? Will it remain available in future OS versions? Here is my take on it: this method is still better than many reflection-based advises, — in the worst case, reading from /proc/ file will return you IOException. It will not crash your app or result in unpredictable behavior like some reflection-based hacks.</p>\n\n<p><code>/proc</code> filesystem is official Linux API, maintained by Linux kernel developers. It is not possible to remove it by specifying different kernel build options (e.g. it is a mandatory part of OS kernel). It has been available for many years and retains better backwards compatibility than most Android APIs. In particular /proc/self/mountinfo was created over 10 years ago and will be available in most existing Android versions except most ancient.</p>\n\n<p>Android developers do not officially support Linux-specific APIs. But they don't go out of their way to break them either. Some of recent SELinux changes in post-Lollipop Android have restricted access to some files in <code>/proc/</code>, — because they allowed applications to covertly spy on other applications. Those changes specifically kept <code>/proc/self</code> accessible, because /proc/self is designed to expose only applications own information (including information about file systems, available to the application).</p>\n\n<p>If Google ever transitions from Linux to Fuchensa or some other homegrown BSD fork, the /proc/ and other Linux-specifc APIs will probably break. Do I care? Not really.</p>\n"},{"tags":[],"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695051560,"creation_date":1695051560,"answer_id":77128582,"question_id":48398221,"body_markdown":"This function ensures to get all canonical readable storage paths on each android version (hopefully).\r\n\r\n\tprivate static ArrayList&lt;String&gt; getAllStorages(Context context)\r\n\t{\r\n\t\tArrayList&lt;String&gt; storagePaths = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tstoragePaths.add(Environment.getExternalStorageDirectory().getAbsolutePath());\r\n\r\n\t\t// Android 10+\r\n\t\tFile[] externalDirs = context.getExternalFilesDirs(null);\r\n\t\tfor (File file : externalDirs)\r\n\t\t{\r\n\t\t\tstoragePaths.add(file.getAbsolutePath());\r\n\t\t}\r\n\r\n\t\t// Android 9-\r\n\t\tString externalStorage = System.getenv(&quot;SECONDARY_STORAGE&quot;);\r\n\t\tif (externalStorage != null &amp;&amp; !externalStorage.isEmpty())\r\n\t\t{\r\n\t\t\tString[] externalPaths = externalStorage.split(&quot;:&quot;);\r\n\t\t\tfor (String e:externalPaths)\r\n\t\t\t{\r\n\t\t\t\tstoragePaths.add(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\texternalStorage = System.getenv(&quot;EXTERNAL_STORAGE&quot;);\r\n\t\tif (externalStorage != null &amp;&amp; !externalStorage.isEmpty())\r\n\t\t{\r\n\t\t\tString[] externalPaths = externalStorage.split(&quot;:&quot;);\r\n\t\t\tfor (String e:externalPaths)\r\n\t\t\t{\r\n\t\t\t\tstoragePaths.add(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tArrayList&lt;String&gt; result=new ArrayList&lt;&gt;();\r\n\t\tfor (String s:storagePaths)\r\n\t\t{\r\n\t\t\tFile f=new File(s);\r\n\t\t\tFile f2=f;\r\n\t\t\twhile (f2 != null)\r\n\t\t\t{\r\n\t\t\t\tif (f2.canRead())\r\n\t\t\t\t{\r\n\t\t\t\t\tf = f2;\r\n\t\t\t\t}\r\n\t\t\t\tf2 = f2.getParentFile();\r\n\t\t\t}\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tf = f.getCanonicalFile();\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{}\r\n\t\t\ts = f.getPath();\r\n\t\t\tif (!result.contains(s))\r\n\t\t\t{\r\n\t\t\t\tresult.add(s);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nTested on Android 11.\r\n\r\nYou can test it on each Android and give feedback in comments, so we can make it more compatible if isn&#39;t.","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>This function ensures to get all canonical readable storage paths on each android version (hopefully).</p>\n<pre><code>private static ArrayList&lt;String&gt; getAllStorages(Context context)\n{\n    ArrayList&lt;String&gt; storagePaths = new ArrayList&lt;&gt;();\n    \n    storagePaths.add(Environment.getExternalStorageDirectory().getAbsolutePath());\n\n    // Android 10+\n    File[] externalDirs = context.getExternalFilesDirs(null);\n    for (File file : externalDirs)\n    {\n        storagePaths.add(file.getAbsolutePath());\n    }\n\n    // Android 9-\n    String externalStorage = System.getenv(&quot;SECONDARY_STORAGE&quot;);\n    if (externalStorage != null &amp;&amp; !externalStorage.isEmpty())\n    {\n        String[] externalPaths = externalStorage.split(&quot;:&quot;);\n        for (String e:externalPaths)\n        {\n            storagePaths.add(e);\n        }\n    }\n    externalStorage = System.getenv(&quot;EXTERNAL_STORAGE&quot;);\n    if (externalStorage != null &amp;&amp; !externalStorage.isEmpty())\n    {\n        String[] externalPaths = externalStorage.split(&quot;:&quot;);\n        for (String e:externalPaths)\n        {\n            storagePaths.add(e);\n        }\n    }\n    \n    ArrayList&lt;String&gt; result=new ArrayList&lt;&gt;();\n    for (String s:storagePaths)\n    {\n        File f=new File(s);\n        File f2=f;\n        while (f2 != null)\n        {\n            if (f2.canRead())\n            {\n                f = f2;\n            }\n            f2 = f2.getParentFile();\n        }\n        try\n        {\n            f = f.getCanonicalFile();\n        }\n        catch (IOException e)\n        {}\n        s = f.getPath();\n        if (!result.contains(s))\n        {\n            result.add(s);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Tested on Android 11.</p>\n<p>You can test it on each Android and give feedback in comments, so we can make it more compatible if isn't.</p>\n"}],"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6084,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":49567524,"answer_count":5,"score":16,"last_activity_date":1695051560,"creation_date":1516699688,"question_id":48398221,"body_markdown":"I want to get the list of all Storage Devices which are connected to the Android device. \r\n\r\nFor eg- Internal Storage(Storage in which all the folders such as Downloads, DCIM etc are present), SD Card and OTG device. \r\n\r\n**I Know there are a lot of StackOverflow posts which discuss this topic but none of them could serve my purpose as stated above.**\r\n\r\nI am able to get the Internal Storage by calling `Environment.getExternalStorageDirectory().getPath()` which return the path to the Internal Storage.\r\n\r\nAny help on this would be really grateful as there is no standard AFAIK using which the list of all the connected Storage devices can be retrieved. \r\n\r\nAlso, many solutions do not work on different devices and Android version.","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>I want to get the list of all Storage Devices which are connected to the Android device. </p>\n\n<p>For eg- Internal Storage(Storage in which all the folders such as Downloads, DCIM etc are present), SD Card and OTG device. </p>\n\n<p><strong>I Know there are a lot of StackOverflow posts which discuss this topic but none of them could serve my purpose as stated above.</strong></p>\n\n<p>I am able to get the Internal Storage by calling <code>Environment.getExternalStorageDirectory().getPath()</code> which return the path to the Internal Storage.</p>\n\n<p>Any help on this would be really grateful as there is no standard AFAIK using which the list of all the connected Storage devices can be retrieved. </p>\n\n<p>Also, many solutions do not work on different devices and Android version.</p>\n"},{"tags":["java","android-studio","java-14"],"comments":[{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1695059422,"post_id":77128503,"comment_id":135970752,"body_markdown":"https://developer.android.com/build/jdks#jdk-android-studio","body":"<a href=\"https://developer.android.com/build/jdks#jdk-android-studio\" rel=\"nofollow noreferrer\">developer.android.com/build/jdks#jdk-android-studio</a>"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695051341,"creation_date":1695051014,"question_id":77128503,"body_markdown":"[![enter image description here][1]][1][![enter image description here][2]][2]I updated my flutter SDK recently and started having issues with my Android studio. Initially I was using Java 8 but I upgraded my Java jdk to Java 14. I have set my Environment variable to point to Java 14 and when I run &quot;java -version&quot; in command prompt, it&#39;s showing me the new one i.e Java 14 but my Android studio is still showing Java 8 and it&#39;s causing error because the new flutter I&#39;m using cannot run on Java 8. I have actually checked all other suggestions from stack overflow here but still not solving the issue. I need help on how to update my Android studio to use the new Java 14 instead of Java 8.\r\nI do not want to update it in Android studio settings because that will require me to be doing it anytime I create a new project. I want to update it directly from my pc so that whenever I create a new project, it will use the new jdk 14 directly\r\nI have the screenshot of the Jdk in Android studio and the one installed on my machine\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gxN8J.png\r\n  [2]: https://i.stack.imgur.com/IRdL7.png","title":"How to update Java Android JDK path in Windows","body":"<p><a href=\"https://i.stack.imgur.com/gxN8J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gxN8J.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/IRdL7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IRdL7.png\" alt=\"enter image description here\" /></a>I updated my flutter SDK recently and started having issues with my Android studio. Initially I was using Java 8 but I upgraded my Java jdk to Java 14. I have set my Environment variable to point to Java 14 and when I run &quot;java -version&quot; in command prompt, it's showing me the new one i.e Java 14 but my Android studio is still showing Java 8 and it's causing error because the new flutter I'm using cannot run on Java 8. I have actually checked all other suggestions from stack overflow here but still not solving the issue. I need help on how to update my Android studio to use the new Java 14 instead of Java 8.\nI do not want to update it in Android studio settings because that will require me to be doing it anytime I create a new project. I want to update it directly from my pc so that whenever I create a new project, it will use the new jdk 14 directly\nI have the screenshot of the Jdk in Android studio and the one installed on my machine</p>\n"},{"tags":["java","sorting","set","java-stream"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":3,"creation_date":1692954068,"post_id":76975605,"comment_id":135697806,"body_markdown":"Does this answer your question? [How is this HashSet producing sorted output?](https://stackoverflow.com/questions/18648521/how-is-this-hashset-producing-sorted-output)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18648521/how-is-this-hashset-producing-sorted-output\">How is this HashSet producing sorted output?</a>"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1692954150,"post_id":76975605,"comment_id":135697818,"body_markdown":"If you add a `System.out.println(r2.getClass());` you&#39;ll see that you are getting a HashSet. Why that appears sorted for small ints, see linked question. Add a bunch of long strings and the order will disappear.","body":"If you add a <code>System.out.println(r2.getClass());</code> you&#39;ll see that you are getting a HashSet. Why that appears sorted for small ints, see linked question. Add a bunch of long strings and the order will disappear."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1692954861,"post_id":76975605,"comment_id":135697945,"body_markdown":"To summarize linked question - this is only a coincidence, because integers hash to themselves. To see different ordering, collect like this  (for example) - `.collect(Collectors.toCollection(() -&gt; new HashSet&lt;&gt;(3, 3)));`, prints `[4, 1, 2, 3]` on my machine.","body":"To summarize linked question - this is only a coincidence, because integers hash to themselves. To see different ordering, collect like this  (for example) - <code>.collect(Collectors.toCollection(() -&gt; new HashSet&lt;&gt;(3, 3)));</code>, prints <code>[4, 1, 2, 3]</code> on my machine."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692970806,"post_id":76975605,"comment_id":135701471,"body_markdown":"Coming soon to a JDK near you: [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431)","body":"Coming soon to a JDK near you: <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><i>JEP 431: Sequenced Collections</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692954455,"creation_date":1692954455,"answer_id":76975774,"question_id":76975605,"body_markdown":"`Set`s generally don&#39;t have any order you can rely on.\r\n\r\nThe purpose of a `Set` is to have a collection of elements that does not allow duplicates without considering the order of the elements. You can essentially add, remove elements and check whether an element is present.\r\n\r\nIf you want a data structure that is indexed, you should probably use a `List`.\r\nLists are indexed and have an order.\r\n```java\r\npublic static List&lt;Integer&gt; test(List&lt;String&gt; inputList){\r\n    return inputList.stream()\r\n        .map(String::length)\r\n        .collect(Collectors.toList());\r\n}\r\n```\r\n\r\nHowever, there are specific `Set` implementations that gurantee a specific order.\r\n\r\nFor example, if you want a `Set` that just preserves order, you might want to consider using a `LinkedHashSet` which is essentially a `HashSet` that keeps insertion order:\r\n```java\r\npublic static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\r\n    return inputList.stream()\r\n        .map(String::length)\r\n        .collect(Collectors.toCollection(LinkedHashSet::new));\r\n}\r\n```\r\n\r\nIf you want the set to be sorted in some way, you can also uses a sorted set implementation like `TreeSet`:\r\n```java\r\npublic static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\r\n    return inputList.stream()\r\n        .map(String::length)\r\n        .collect(Collectors.toCollection(()-&gt;new TreeSet&lt;&gt;(Comparator.naturalOrder().reversed())));\r\n}\r\n```\r\nIn the above code, `Comparator.naturalOrder().reversed()` creates a `Comparator` which is used for configuring the order of elements the `Set` should be sorted in. `Comparator.naturalOrder()` refers to a `Comparator` which compares by the &quot;natural order&quot; of the elements which is ascending for `Integer`s. `reversed()` is then used for reversing the order (descending `Integer`s).","title":"how sorting works in a java set","body":"<p><code>Set</code>s generally don't have any order you can rely on.</p>\n<p>The purpose of a <code>Set</code> is to have a collection of elements that does not allow duplicates without considering the order of the elements. You can essentially add, remove elements and check whether an element is present.</p>\n<p>If you want a data structure that is indexed, you should probably use a <code>List</code>.\nLists are indexed and have an order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Integer&gt; test(List&lt;String&gt; inputList){\n    return inputList.stream()\n        .map(String::length)\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>However, there are specific <code>Set</code> implementations that gurantee a specific order.</p>\n<p>For example, if you want a <code>Set</code> that just preserves order, you might want to consider using a <code>LinkedHashSet</code> which is essentially a <code>HashSet</code> that keeps insertion order:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\n    return inputList.stream()\n        .map(String::length)\n        .collect(Collectors.toCollection(LinkedHashSet::new));\n}\n</code></pre>\n<p>If you want the set to be sorted in some way, you can also uses a sorted set implementation like <code>TreeSet</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\n    return inputList.stream()\n        .map(String::length)\n        .collect(Collectors.toCollection(()-&gt;new TreeSet&lt;&gt;(Comparator.naturalOrder().reversed())));\n}\n</code></pre>\n<p>In the above code, <code>Comparator.naturalOrder().reversed()</code> creates a <code>Comparator</code> which is used for configuring the order of elements the <code>Set</code> should be sorted in. <code>Comparator.naturalOrder()</code> refers to a <code>Comparator</code> which compares by the &quot;natural order&quot; of the elements which is ascending for <code>Integer</code>s. <code>reversed()</code> is then used for reversing the order (descending <code>Integer</code>s).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692964853,"creation_date":1692964853,"answer_id":76977006,"question_id":76975605,"body_markdown":"The fact that your set is in sorted order is purely coincidental and based on the `hash values`, the `capacity` of the set, and the `load factor`.  All of those are mentioned in the JavaDoc for [HashSet](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashSet.html#HashSet(int,float)) but explained in more detail [HashMap](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html).\r\n\r\nConsider the following:\r\n```\r\nList&lt;Integer&gt; list = List.of(13,12,11,10,9,8,7,6,5,4,3,2,1);\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\nset.addAll(list);\r\nSystem.out.println(set);\r\n```\r\nPrints\r\n```\r\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]\r\n```\r\nNow adjust the size and load capacity to force a different behavior.\r\n```\r\nset = new HashSet&lt;&gt;(1,10f);\r\nset.addAll(list);\r\nSystem.out.println(set);\r\n```\r\nprints\r\n```\r\n[12, 10, 8, 6, 4, 2, 13, 11, 9, 7, 5, 3, 1]\r\n```\r\nAnd if you want to preserve the insertion order use a [LinkedHashSet]( https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/LinkedHashSet.html#LinkedHashSet())\r\n```\r\nset = new LinkedHashSet&lt;&gt;();\r\nset.addAll(list);\r\nSystem.out.println(set);\r\n```\r\nprints\r\n```\r\n[13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\r\n```\r\nThe bottom line is that except for some special implementations including [TreeSet](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeSet.html) which wasn&#39;t discussed above, `Sets` are inherently unordered and any appearance that they are is purely coincidental.\r\n","title":"how sorting works in a java set","body":"<p>The fact that your set is in sorted order is purely coincidental and based on the <code>hash values</code>, the <code>capacity</code> of the set, and the <code>load factor</code>.  All of those are mentioned in the JavaDoc for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashSet.html#HashSet(int,float)\" rel=\"nofollow noreferrer\">HashSet</a> but explained in more detail <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMap</a>.</p>\n<p>Consider the following:</p>\n<pre><code>List&lt;Integer&gt; list = List.of(13,12,11,10,9,8,7,6,5,4,3,2,1);\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\nset.addAll(list);\nSystem.out.println(set);\n</code></pre>\n<p>Prints</p>\n<pre><code>1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]\n</code></pre>\n<p>Now adjust the size and load capacity to force a different behavior.</p>\n<pre><code>set = new HashSet&lt;&gt;(1,10f);\nset.addAll(list);\nSystem.out.println(set);\n</code></pre>\n<p>prints</p>\n<pre><code>[12, 10, 8, 6, 4, 2, 13, 11, 9, 7, 5, 3, 1]\n</code></pre>\n<p>And if you want to preserve the insertion order use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/LinkedHashSet.html#LinkedHashSet()\" rel=\"nofollow noreferrer\">LinkedHashSet</a></p>\n<pre><code>set = new LinkedHashSet&lt;&gt;();\nset.addAll(list);\nSystem.out.println(set);\n</code></pre>\n<p>prints</p>\n<pre><code>[13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\n</code></pre>\n<p>The bottom line is that except for some special implementations including <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> which wasn't discussed above, <code>Sets</code> are inherently unordered and any appearance that they are is purely coincidental.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693030528,"creation_date":1693006671,"answer_id":76981034,"question_id":76975605,"body_markdown":"The Answers [by dan1st][1] and [by WJS][2] are both correct and smart. I&#39;ll modify the code seen in the first to take advantage of new features in Java.\r\n\r\n# tl;dr\r\n\r\nUse the new `SequencedCollection` interface in Java 21+. \r\n\r\n```java\r\npublic SequencedCollection &lt; Integer &gt; calculateStringLengths ( final List &lt; String &gt; inputList )\r\n{\r\n    return inputList\r\n            .stream ( )\r\n            .map ( ( String s ) -&gt; Math.toIntExact ( s.codePoints ( ).count ( ) ) )  // Calculate the true count of characters in this string.\r\n            .toList ( );\r\n}\r\n```\r\n\r\n# Sequenced collections in Java 21+\r\n\r\n[Java 21][3] brings some new interfaces and methods to the venerable Java Collections framework. The new features recognize the concept of *sequenced collections*. \r\n\r\n[![diagram of three new interfaces added to Java 21][4]][4]\r\n\r\nFor more info, see [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431). And see the video by [Jos&#233; Paumard][5] on the *JEP Caf&#233;* channel on YouTube. See [early-access Javadoc][6].\r\n\r\nLet&#39;s modify the code shown in the [Answer by dan1st][1] to use the new Java 21 features.\r\n\r\nStart with this piece:\r\n\r\n```java\r\npublic static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\r\n    return inputList.stream()\r\n        .map(String::length)\r\n        .collect(Collectors.toCollection(LinkedHashSet::new));\r\n}\r\n```\r\n\r\nNotice that this method must return either:\r\n\r\n - The overly general [`Set`][7] interface, with no indication of this collection promising to be in a certain order.\r\n - The overly specific [`LinkedHashSet`][8] class, which remembers insertion order.\r\n\r\nJava offers the `SortedSet` interface, and its successor [`NavigableSet`][9]. These are meant for collections with a *sorted* order. But [`LinkedHashSet`][8] with its *insertion* order cannot implement those interfaces. \r\n\r\nSo, voil&#224;, Java 21 adds the [`SequencedSet`][10] interface, to represent `LinkedHashSet` as well as `SortedSet`/`NavigableSet` implementations such as [`TreeSet`][11].\r\n\r\nLet&#39;s pop that into the code snippet from above. And do some reformatting and renaming.\r\n\r\n```java\r\npublic SequencedSet &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\r\n{\r\n    return inputList\r\n            .stream ( )\r\n            .map ( String :: length )\r\n            .collect (\r\n                    Collectors.toCollection ( LinkedHashSet :: new )\r\n            );\r\n}\r\n```\r\n\r\nAnd we could make that the more general `SequencedCollection`. \r\n\r\n```java\r\npublic SequencedCollection &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\r\n{\r\n    return inputList\r\n            .stream ( )\r\n            .map ( String :: length )\r\n            .collect (\r\n                    Collectors.toCollection ( LinkedHashSet :: new )\r\n            );\r\n}\r\n```\r\n\r\nLe&#39;s try it.\r\n\r\n```java\r\nList &lt; String &gt; listOfStrings = List.of ( &quot;aaaa&quot; , &quot;aa&quot; , &quot;aaa&quot; , &quot;a&quot; );\r\nSequencedCollection &lt; Integer &gt; stringLengths = this.calculateStringLengths ( listOfStrings );\r\nSystem.out.println ( &quot;stringLengths = &quot; + stringLengths );\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;stringLengths = [4, 2, 3, 1]\r\n\r\n\r\n## `Set` forbids duplicates \r\n\r\nBut multiple input strings could very well have the same length. And `Set` implementations cannot allow duplicates. So really, we should be outputting a `List` rather than a `Set`. \r\n\r\nFortunately, no need to change the signature of our `calculateStringLengths` method —&#160;`List` &amp; `ArrayList` implement `SequencedCollection`. So we can swap:\r\n\r\n```java\r\n            .collect (\r\n                    Collectors.toCollection ( LinkedHashSet :: new )\r\n            );\r\n``` \r\n\r\n… with:\r\n\r\n```java\r\n            .toList() ;\r\n```\r\n\r\n… like this:\r\n\r\n```java\r\npublic SequencedCollection &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\r\n{\r\n    return inputList\r\n            .stream ( )\r\n            .map ( String :: length )\r\n            .toList() ;\r\n}\r\n```\r\n\r\nWe get the same results.\r\n\r\n&gt;stringLengths = [4, 2, 3, 1]\r\n\r\n## Use code points, not `char`\r\n\r\nUnfortunately, you used the `String#length` method which is essentially broken. Add a character such as `&#128567;` to your input strings to see incorrect results.\r\n\r\nThat `length` method uses the `char` type. As a 16-bit value, that `char` type is physically incapable of representing most characters. Instead of `char` use [code points][12].\r\n\r\nReplace `String :: length` with `s.codePoints ( ).count ( )`. But that call returns a `long`, so we must either change `&lt; Integer &gt;` to `&lt; Long &gt;` or we must cast the `long` to an `int` since a string’s length cannot be more than `Integer.MAX_VALUE`. For defensive programming, we can be extra safe by using `Math.toIntExact` instead of a direct cast, as this method throws an exception in case of integer overflow.\r\n\r\n```java\r\npublic SequencedCollection &lt; Integer &gt; calculateStringLengths ( final List &lt; String &gt; inputList )\r\n{\r\n    return inputList\r\n            .stream ( )\r\n            .map ( ( String s ) -&gt; Math.toIntExact ( s.codePoints ( ).count ( ) ) )  // Calculate the true count of characters in this string.\r\n            .toList ( );\r\n}\r\n```\r\n\r\nLet&#39;s try this final version of our code. We add `&#128567;` as a test of our more accurate string-length calculation. \r\n\r\n```java\r\nList &lt; String &gt; listOfStrings = List.of ( &quot;aaaa&quot; , &quot;aa&quot; , &quot;aaa&quot; , &quot;a&quot; , &quot;&#128567;&quot; );\r\nSequencedCollection &lt; Integer &gt; stringLengths = this.calculateStringLengths ( listOfStrings );\r\nSystem.out.println ( &quot;stringLengths = &quot; + stringLengths );\r\n```\r\n\r\n&gt;stringLengths = [4, 2, 3, 1, 1]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76975774/642706\r\n  [2]: https://stackoverflow.com/a/76977006/642706\r\n  [3]: https://openjdk.org/projects/jdk/21/\r\n  [4]: https://i.stack.imgur.com/AEv7p.png\r\n  [5]: https://fr.linkedin.com/in/jos%C3%A9-paumard-2458ba5\r\n  [6]: https://download.java.net/java/early_access/jdk21/docs/api/\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashSet.html\r\n  [9]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html\r\n  [10]: https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/SequencedSet.html\r\n  [11]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html\r\n  [12]: https://en.wikipedia.org/wiki/Code_point","title":"how sorting works in a java set","body":"<p>The Answers <a href=\"https://stackoverflow.com/a/76975774/642706\">by dan1st</a> and <a href=\"https://stackoverflow.com/a/76977006/642706\">by WJS</a> are both correct and smart. I'll modify the code seen in the first to take advantage of new features in Java.</p>\n<h1>tl;dr</h1>\n<p>Use the new <code>SequencedCollection</code> interface in Java 21+.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SequencedCollection &lt; Integer &gt; calculateStringLengths ( final List &lt; String &gt; inputList )\n{\n    return inputList\n            .stream ( )\n            .map ( ( String s ) -&gt; Math.toIntExact ( s.codePoints ( ).count ( ) ) )  // Calculate the true count of characters in this string.\n            .toList ( );\n}\n</code></pre>\n<h1>Sequenced collections in Java 21+</h1>\n<p><a href=\"https://openjdk.org/projects/jdk/21/\" rel=\"nofollow noreferrer\">Java 21</a> brings some new interfaces and methods to the venerable Java Collections framework. The new features recognize the concept of <em>sequenced collections</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/AEv7p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AEv7p.png\" alt=\"diagram of three new interfaces added to Java 21\" /></a></p>\n<p>For more info, see <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><em>JEP 431: Sequenced Collections</em></a>. And see the video by <a href=\"https://fr.linkedin.com/in/jos%C3%A9-paumard-2458ba5\" rel=\"nofollow noreferrer\">José Paumard</a> on the <em>JEP Café</em> channel on YouTube. See <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/\" rel=\"nofollow noreferrer\">early-access Javadoc</a>.</p>\n<p>Let's modify the code shown in the <a href=\"https://stackoverflow.com/a/76975774/642706\">Answer by dan1st</a> to use the new Java 21 features.</p>\n<p>Start with this piece:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\n    return inputList.stream()\n        .map(String::length)\n        .collect(Collectors.toCollection(LinkedHashSet::new));\n}\n</code></pre>\n<p>Notice that this method must return either:</p>\n<ul>\n<li>The overly general <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> interface, with no indication of this collection promising to be in a certain order.</li>\n<li>The overly specific <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a> class, which remembers insertion order.</li>\n</ul>\n<p>Java offers the <code>SortedSet</code> interface, and its successor <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a>. These are meant for collections with a <em>sorted</em> order. But <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a> with its <em>insertion</em> order cannot implement those interfaces.</p>\n<p>So, voilà, Java 21 adds the <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/SequencedSet.html\" rel=\"nofollow noreferrer\"><code>SequencedSet</code></a> interface, to represent <code>LinkedHashSet</code> as well as <code>SortedSet</code>/<code>NavigableSet</code> implementations such as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a>.</p>\n<p>Let's pop that into the code snippet from above. And do some reformatting and renaming.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SequencedSet &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\n{\n    return inputList\n            .stream ( )\n            .map ( String :: length )\n            .collect (\n                    Collectors.toCollection ( LinkedHashSet :: new )\n            );\n}\n</code></pre>\n<p>And we could make that the more general <code>SequencedCollection</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SequencedCollection &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\n{\n    return inputList\n            .stream ( )\n            .map ( String :: length )\n            .collect (\n                    Collectors.toCollection ( LinkedHashSet :: new )\n            );\n}\n</code></pre>\n<p>Le's try it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; listOfStrings = List.of ( &quot;aaaa&quot; , &quot;aa&quot; , &quot;aaa&quot; , &quot;a&quot; );\nSequencedCollection &lt; Integer &gt; stringLengths = this.calculateStringLengths ( listOfStrings );\nSystem.out.println ( &quot;stringLengths = &quot; + stringLengths );\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>stringLengths = [4, 2, 3, 1]</p>\n</blockquote>\n<h2><code>Set</code> forbids duplicates</h2>\n<p>But multiple input strings could very well have the same length. And <code>Set</code> implementations cannot allow duplicates. So really, we should be outputting a <code>List</code> rather than a <code>Set</code>.</p>\n<p>Fortunately, no need to change the signature of our <code>calculateStringLengths</code> method — <code>List</code> &amp; <code>ArrayList</code> implement <code>SequencedCollection</code>. So we can swap:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            .collect (\n                    Collectors.toCollection ( LinkedHashSet :: new )\n            );\n</code></pre>\n<p>… with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            .toList() ;\n</code></pre>\n<p>… like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SequencedCollection &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\n{\n    return inputList\n            .stream ( )\n            .map ( String :: length )\n            .toList() ;\n}\n</code></pre>\n<p>We get the same results.</p>\n<blockquote>\n<p>stringLengths = [4, 2, 3, 1]</p>\n</blockquote>\n<h2>Use code points, not <code>char</code></h2>\n<p>Unfortunately, you used the <code>String#length</code> method which is essentially broken. Add a character such as <code>😷</code> to your input strings to see incorrect results.</p>\n<p>That <code>length</code> method uses the <code>char</code> type. As a 16-bit value, that <code>char</code> type is physically incapable of representing most characters. Instead of <code>char</code> use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code points</a>.</p>\n<p>Replace <code>String :: length</code> with <code>s.codePoints ( ).count ( )</code>. But that call returns a <code>long</code>, so we must either change <code>&lt; Integer &gt;</code> to <code>&lt; Long &gt;</code> or we must cast the <code>long</code> to an <code>int</code> since a string’s length cannot be more than <code>Integer.MAX_VALUE</code>. For defensive programming, we can be extra safe by using <code>Math.toIntExact</code> instead of a direct cast, as this method throws an exception in case of integer overflow.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SequencedCollection &lt; Integer &gt; calculateStringLengths ( final List &lt; String &gt; inputList )\n{\n    return inputList\n            .stream ( )\n            .map ( ( String s ) -&gt; Math.toIntExact ( s.codePoints ( ).count ( ) ) )  // Calculate the true count of characters in this string.\n            .toList ( );\n}\n</code></pre>\n<p>Let's try this final version of our code. We add <code>😷</code> as a test of our more accurate string-length calculation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; listOfStrings = List.of ( &quot;aaaa&quot; , &quot;aa&quot; , &quot;aaa&quot; , &quot;a&quot; , &quot;😷&quot; );\nSequencedCollection &lt; Integer &gt; stringLengths = this.calculateStringLengths ( listOfStrings );\nSystem.out.println ( &quot;stringLengths = &quot; + stringLengths );\n</code></pre>\n<blockquote>\n<p>stringLengths = [4, 2, 3, 1, 1]</p>\n</blockquote>\n"}],"owner":{"account_id":26736520,"reputation":43,"user_id":20338017,"display_name":"mansto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695051207,"creation_date":1692952897,"question_id":76975605,"body_markdown":"using this method I created, I don&#39;t understand why it returns me a list of integers already in order when on the java doc the set shouldn&#39;t order the elements without me telling it.\r\n\r\n*what this method do*: the method given a list of strings as input, returns the set of lengths of the strings in the list\r\n```\r\npublic static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\r\n    return inputList.stream()\r\n        .map(String::length)\r\n        .collect(Collectors.toSet());\r\n}\r\n```\r\n\r\n\r\ndoing this on the main\r\n```\r\nList&lt;String&gt; p2 = List.of(&quot;aaaa&quot;, &quot;aa&quot;, &quot;aaa&quot;, &quot;a&quot;);\r\nSet&lt;Integer&gt; r2 = test(p2);\r\nSystem.out.println(r2);\r\n```\r\nit returns this list : `[1, 2, 3, 4]` when I would have expected `[4, 2, 3, 1]`\r\n","title":"how sorting works in a java set","body":"<p>using this method I created, I don't understand why it returns me a list of integers already in order when on the java doc the set shouldn't order the elements without me telling it.</p>\n<p><em>what this method do</em>: the method given a list of strings as input, returns the set of lengths of the strings in the list</p>\n<pre><code>public static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\n    return inputList.stream()\n        .map(String::length)\n        .collect(Collectors.toSet());\n}\n</code></pre>\n<p>doing this on the main</p>\n<pre><code>List&lt;String&gt; p2 = List.of(&quot;aaaa&quot;, &quot;aa&quot;, &quot;aaa&quot;, &quot;a&quot;);\nSet&lt;Integer&gt; r2 = test(p2);\nSystem.out.println(r2);\n</code></pre>\n<p>it returns this list : <code>[1, 2, 3, 4]</code> when I would have expected <code>[4, 2, 3, 1]</code></p>\n"},{"tags":["java","java-time","datetimeformatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694889819,"post_id":77114172,"comment_id":135951908,"body_markdown":"Can you please paste the output from your test into the question?","body":"Can you please paste the output from your test into the question?"}],"answers":[{"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1694874924,"post_id":77115374,"comment_id":135950277,"body_markdown":"Thank you for your answer/comment.  I did notice we were getting a Year in other testing, but your comment explained why that was happening.  I think that I have an idea of how to actually solve this problem now, but it will take some work...  First I think we have to figure out if the actual format is right (using a non-strict DateTimeFormatter), if the format is right, then use a strict DateTimeFormatter to verify the date actually exists.  Does that seem right to you?  Thank you for your time.","body":"Thank you for your answer/comment.  I did notice we were getting a Year in other testing, but your comment explained why that was happening.  I think that I have an idea of how to actually solve this problem now, but it will take some work...  First I think we have to figure out if the actual format is right (using a non-strict DateTimeFormatter), if the format is right, then use a strict DateTimeFormatter to verify the date actually exists.  Does that seem right to you?  Thank you for your time."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1694877050,"post_id":77115374,"comment_id":135950561,"body_markdown":"@hooknc Do you have to do it all with a single DateTimeFormatter?  I would just pick the direct approach:  `if (length == 4) temporal = Year.parse(value); else if (length == 7) temporal = YearMonth.parse(value); else temporal = LocalDate.parse(value);`","body":"@hooknc Do you have to do it all with a single DateTimeFormatter?  I would just pick the direct approach:  <code>if (length == 4) temporal = Year.parse(value); else if (length == 7) temporal = YearMonth.parse(value); else temporal = LocalDate.parse(value);</code>"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1694877486,"post_id":77115374,"comment_id":135950611,"body_markdown":"No, a single DateTimeFormatter is not a requirement.  We just like the simplicity.  But it does look like we&#39;ll be using multiple formatters to do the job.  I really appreciate your answer and feedback.  I&#39;ll post our answer when we get it working.","body":"No, a single DateTimeFormatter is not a requirement.  We just like the simplicity.  But it does look like we&#39;ll be using multiple formatters to do the job.  I really appreciate your answer and feedback.  I&#39;ll post our answer when we get it working."}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694890716,"creation_date":1694812231,"answer_id":77115374,"question_id":77114172,"body_markdown":"You can learn what’s happening by printing the type of the result of `parseBest`:\r\n\r\n    assertThrows(DateTimeParseException.class,\r\n            () -&gt; System.out.println(\r\n                formatter.parseBest(value, queries).getClass()));\r\n\r\nThe result is:\r\n\r\n    java.time.Year\r\n\r\nAs you expected, &quot;1984-00&quot; cannot be parsed as a YearMonth.  But you passed `YearMonth::from, Year::from` as your TemporalQuerys, so after parseBest discovers that the string cannot be parsed using YearMonth.from, it tries again using Year.from, which succeeds.\r\n\r\nWhy does it succeed?  Because a Year only needs the year part (`uuuu` in your DateTimeFormatter) to be resolved.  No attempt is ever made to resolve the month, so the `00` is ignored.  It doesn’t matter to Year.from whether that part can be resolved to a valid month.\r\n\r\nIf I wanted to parse multiple types, and wanted to be sure the entire string is always valid, I would just use a simple approach:\r\n\r\n    public Temporal parse(String value) {\r\n        String len = value.length();\r\n        if (len == 4) {\r\n            return Year.parse(value);\r\n        } else if (len == 7) {\r\n            return YearMonth.parse(value);\r\n        } else {\r\n            return LocalDate.parse(value);\r\n        }\r\n    }\r\n","title":"DateTimeFormatter Validation for Existing Year, Optional Month, and Optional Day","body":"<p>You can learn what’s happening by printing the type of the result of <code>parseBest</code>:</p>\n<pre><code>assertThrows(DateTimeParseException.class,\n        () -&gt; System.out.println(\n            formatter.parseBest(value, queries).getClass()));\n</code></pre>\n<p>The result is:</p>\n<pre><code>java.time.Year\n</code></pre>\n<p>As you expected, &quot;1984-00&quot; cannot be parsed as a YearMonth.  But you passed <code>YearMonth::from, Year::from</code> as your TemporalQuerys, so after parseBest discovers that the string cannot be parsed using YearMonth.from, it tries again using Year.from, which succeeds.</p>\n<p>Why does it succeed?  Because a Year only needs the year part (<code>uuuu</code> in your DateTimeFormatter) to be resolved.  No attempt is ever made to resolve the month, so the <code>00</code> is ignored.  It doesn’t matter to Year.from whether that part can be resolved to a valid month.</p>\n<p>If I wanted to parse multiple types, and wanted to be sure the entire string is always valid, I would just use a simple approach:</p>\n<pre><code>public Temporal parse(String value) {\n    String len = value.length();\n    if (len == 4) {\n        return Year.parse(value);\n    } else if (len == 7) {\n        return YearMonth.parse(value);\n    } else {\n        return LocalDate.parse(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1695050910,"creation_date":1694797217,"question_id":77114172,"body_markdown":"We are attempting to write a single DateTimeFormatter that helps us validate an [ISO 8601][1] that allows our end user&#39;s to enter just a year, a year and a month, or a year, month, and day.  We also want to validate the entered date actually exists.\r\n\r\nIn the following code there are two examples of dates and date validation acting funky.  The first is a validation test for just year with an optional month.  Which doesn&#39;t properly validate a month of &#39;00&#39;.\r\n\r\nThe second example shows a test (NOT) failing on incorrect optional months value.\r\n\r\nAny friendly direction would be greatly appreciated.\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Year;\r\nimport java.time.YearMonth;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeFormatterBuilder;\r\nimport java.time.format.DateTimeParseException;\r\nimport java.time.format.ResolverStyle;\r\nimport java.time.temporal.TemporalQuery;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\npublic class DateTimeFormatterForStackOverflowTest {\r\n\r\n    @Test\r\n    public void test_year_or_year_and_month_not_valid() {\r\n\r\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                .appendPattern(&quot;uuuu[-MM]&quot;)\r\n                .toFormatter()\r\n                .withResolverStyle(ResolverStyle.STRICT);\r\n\r\n        this.expectException(&quot;1984-0&quot;, formatter, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception. \r\n        this.expectException(&quot;1984-00&quot;, formatter, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception.\r\n        this.expectException(&quot;1984-13&quot;, formatter, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception.\r\n        this.expectException(&quot;1984-99&quot;, formatter, YearMonth::from, Year::from);\r\n    }\r\n\r\n    @Test\r\n    public void test_year_or_year_month_or_year_month_day_not_valid() {\r\n\r\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                .appendPattern(&quot;[uuuu-MM-dd][uuuu-MM][uuuu]&quot;)\r\n                .toFormatter()\r\n                .withResolverStyle(ResolverStyle.STRICT);\r\n\r\n        this.expectException(&quot;1984-0&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception.\r\n        this.expectException(&quot;1984-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception.\r\n        this.expectException(&quot;1984-13&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception.\r\n        this.expectException(&quot;1984-99&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-00-01&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-13-01&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-01-0&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-01-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-01-32&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-12-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-12-32&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n    }\r\n\r\n    private void expectException(String value, DateTimeFormatter formatter, TemporalQuery&lt;?&gt;... queries) {\r\n\r\n        assertThrows(DateTimeParseException.class,\r\n                () -&gt; formatter.parseBest(value, queries));\r\n    }\r\n}\r\n```\r\n\r\nTest output:\r\n```\r\norg.opentest4j.AssertionFailedError: Expected java.time.format.DateTimeParseException to be thrown, but nothing was thrown.\r\n\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\r\n\tat org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:73)\r\n\tat org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)\r\n\tat org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3083)\r\n\tat DateTimeFormatterForStackOverflowTest.expectException(DateTimeFormatterForStackOverflowTest.java:59)\r\n\tat DateTimeFormatterForStackOverflowTest.test_year_or_year_month_or_year_month_day_not_valid(DateTimeFormatterForStackOverflowTest.java:43)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:189)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"DateTimeFormatter Validation for Existing Year, Optional Month, and Optional Day","body":"<p>We are attempting to write a single DateTimeFormatter that helps us validate an <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> that allows our end user's to enter just a year, a year and a month, or a year, month, and day.  We also want to validate the entered date actually exists.</p>\n<p>In the following code there are two examples of dates and date validation acting funky.  The first is a validation test for just year with an optional month.  Which doesn't properly validate a month of '00'.</p>\n<p>The second example shows a test (NOT) failing on incorrect optional months value.</p>\n<p>Any friendly direction would be greatly appreciated.</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.time.LocalDate;\nimport java.time.Year;\nimport java.time.YearMonth;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.time.format.DateTimeParseException;\nimport java.time.format.ResolverStyle;\nimport java.time.temporal.TemporalQuery;\n\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\npublic class DateTimeFormatterForStackOverflowTest {\n\n    @Test\n    public void test_year_or_year_and_month_not_valid() {\n\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                .appendPattern(&quot;uuuu[-MM]&quot;)\n                .toFormatter()\n                .withResolverStyle(ResolverStyle.STRICT);\n\n        this.expectException(&quot;1984-0&quot;, formatter, YearMonth::from, Year::from);\n        // Doesn't throw exception. \n        this.expectException(&quot;1984-00&quot;, formatter, YearMonth::from, Year::from);\n        // Doesn't throw exception.\n        this.expectException(&quot;1984-13&quot;, formatter, YearMonth::from, Year::from);\n        // Doesn't throw exception.\n        this.expectException(&quot;1984-99&quot;, formatter, YearMonth::from, Year::from);\n    }\n\n    @Test\n    public void test_year_or_year_month_or_year_month_day_not_valid() {\n\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                .appendPattern(&quot;[uuuu-MM-dd][uuuu-MM][uuuu]&quot;)\n                .toFormatter()\n                .withResolverStyle(ResolverStyle.STRICT);\n\n        this.expectException(&quot;1984-0&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        // Doesn't throw exception.\n        this.expectException(&quot;1984-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        // Doesn't throw exception.\n        this.expectException(&quot;1984-13&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        // Doesn't throw exception.\n        this.expectException(&quot;1984-99&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-00-01&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-13-01&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-01-0&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-01-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-01-32&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-12-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-12-32&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n    }\n\n    private void expectException(String value, DateTimeFormatter formatter, TemporalQuery&lt;?&gt;... queries) {\n\n        assertThrows(DateTimeParseException.class,\n                () -&gt; formatter.parseBest(value, queries));\n    }\n}\n</code></pre>\n<p>Test output:</p>\n<pre><code>org.opentest4j.AssertionFailedError: Expected java.time.format.DateTimeParseException to be thrown, but nothing was thrown.\n\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\n    at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:73)\n    at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)\n    at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3083)\n    at DateTimeFormatterForStackOverflowTest.expectException(DateTimeFormatterForStackOverflowTest.java:59)\n    at DateTimeFormatterForStackOverflowTest.test_year_or_year_month_or_year_month_day_not_valid(DateTimeFormatterForStackOverflowTest.java:43)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\n    at java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:189)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\n</code></pre>\n"},{"tags":["java","gradle","arduino","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680904603,"creation_date":1680904603,"answer_id":75962216,"question_id":75962163,"body_markdown":"You should use `shadowJar` / `fatJar` to generate the jar file, the likely cause is the library isn&#39;t being included on build time.\r\n\r\nGradle build file taken from. https://gist.github.com/Commoble/ddc75e819a690198c15d26564d139333\r\n\r\n    // thanks to gigaherz for pointing me in the right directions on the buildscript\r\n    \r\n    // The shadow gradle plugin assists with repackaging a 3rd-party library jar within your own jar\r\n    // In addition to ensuring that your end-users have the library available when they use your own thing,\r\n    // it also helps avoid collisions with other things that are also using the same library.\r\n    \r\n    // As always, make sure the license of the library allows redistribution and is compatible with\r\n    // your own thing&#39;s license before redistributing it in this manner\r\n    \r\n    buildscript {\r\n    \trepositories {\r\n    \t\tjcenter() // buildscript repo to get shadow from\r\n    \t}\r\n    }\r\n    \r\n    plugins {\r\n    \t// this version works on gradle 4.9\r\n    \t// more recent versions of shadow work on more recent versions of gradle\r\n    \tid &#39;com.github.johnrengelman.shadow&#39; version &#39;4.0.4&#39;\r\n    }\r\n    apply plugin: &#39;com.github.johnrengelman.shadow&#39;\r\n    apply plugin: &#39;java&#39; // java plugin is needed for the shadow plugin to work\r\n    \r\n    repositories {\r\n    \t// java repo to get the repackaged lib from\r\n    \tmaven { url &quot;https://repo.for/your/included/lib&quot; }\r\n    }\r\n    \r\n    configurations {\r\n    \tshade\r\n    }\r\n    \r\n    dependencies {\r\n    \tcompile &quot;lib.group:lib_artifact:lib_version&quot;\r\n    \tshade &quot;lib.group:lib_artifact:lib_version&quot;\r\n    }\r\n    \r\n    shadowJar {\r\n    \tclassifier = &#39;&#39;\r\n    \tconfigurations = [project.configurations.shade]\r\n    \trelocate &#39;lib.group&#39;, &quot;${project.group}.shadow.lib.group&quot; // ensure repackaged packages have unique names\r\n    }\r\n    \r\n    reobf {\r\n        shadowJar { }\r\n    }\r\n    \r\n    // this replaces jar.finalizedBy(&#39;reobfJar&#39;) in the standard forge mod buildscript\r\n    tasks.build.dependsOn reobfShadowJar\r\n    jar.finalizedBy(&#39;reobfShadowJar&#39;)\r\n\r\nYou can also follow this guide. https://gist.github.com/SizableShrimp/949e7c219bfc94487a45226b64ac7749","title":"java.lang.classnotfoundexception: org.firmata4j.iodevice","body":"<p>You should use <code>shadowJar</code> / <code>fatJar</code> to generate the jar file, the likely cause is the library isn't being included on build time.</p>\n<p>Gradle build file taken from. <a href=\"https://gist.github.com/Commoble/ddc75e819a690198c15d26564d139333\" rel=\"nofollow noreferrer\">https://gist.github.com/Commoble/ddc75e819a690198c15d26564d139333</a></p>\n<pre><code>// thanks to gigaherz for pointing me in the right directions on the buildscript\n\n// The shadow gradle plugin assists with repackaging a 3rd-party library jar within your own jar\n// In addition to ensuring that your end-users have the library available when they use your own thing,\n// it also helps avoid collisions with other things that are also using the same library.\n\n// As always, make sure the license of the library allows redistribution and is compatible with\n// your own thing's license before redistributing it in this manner\n\nbuildscript {\n    repositories {\n        jcenter() // buildscript repo to get shadow from\n    }\n}\n\nplugins {\n    // this version works on gradle 4.9\n    // more recent versions of shadow work on more recent versions of gradle\n    id 'com.github.johnrengelman.shadow' version '4.0.4'\n}\napply plugin: 'com.github.johnrengelman.shadow'\napply plugin: 'java' // java plugin is needed for the shadow plugin to work\n\nrepositories {\n    // java repo to get the repackaged lib from\n    maven { url &quot;https://repo.for/your/included/lib&quot; }\n}\n\nconfigurations {\n    shade\n}\n\ndependencies {\n    compile &quot;lib.group:lib_artifact:lib_version&quot;\n    shade &quot;lib.group:lib_artifact:lib_version&quot;\n}\n\nshadowJar {\n    classifier = ''\n    configurations = [project.configurations.shade]\n    relocate 'lib.group', &quot;${project.group}.shadow.lib.group&quot; // ensure repackaged packages have unique names\n}\n\nreobf {\n    shadowJar { }\n}\n\n// this replaces jar.finalizedBy('reobfJar') in the standard forge mod buildscript\ntasks.build.dependsOn reobfShadowJar\njar.finalizedBy('reobfShadowJar')\n</code></pre>\n<p>You can also follow this guide. <a href=\"https://gist.github.com/SizableShrimp/949e7c219bfc94487a45226b64ac7749\" rel=\"nofollow noreferrer\">https://gist.github.com/SizableShrimp/949e7c219bfc94487a45226b64ac7749</a></p>\n"}],"owner":{"account_id":19988642,"reputation":19,"user_id":14650223,"display_name":"braden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695050205,"creation_date":1680903908,"question_id":75962163,"body_markdown":"this error has been keeping me up at night. I have no idea how to solve it, ive gone through every forum every similar problem on the internet and cant find any way to solve it. It seems simple, a minecraft mod that just connects to an arduino. But for some reason gradle/intellij/minecraft wont let me import IODevice. I have no idea whats going wrong. someone please help me.\r\n\r\nMY CODE\r\n```package braden.arduinodamagemod;\r\n\r\nimport net.minecraft.world.entity.player.Player;\r\nimport net.minecraftforge.common.MinecraftForge;\r\nimport net.minecraftforge.event.entity.living.LivingHurtEvent;\r\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport org.firmata4j.Pin;\r\nimport org.firmata4j.firmata.FirmataDevice;\r\nimport org.firmata4j.IODevice;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\n@Mod(ArduinoDamageMod.MODID)\r\npublic class ArduinoDamageMod {\r\n\r\n    public static final String MODID = &quot;arduinodamagemod&quot;;\r\n    private IODevice arduino;\r\n    private boolean isArduinoConnected = false;\r\n\r\n    @SubscribeEvent\r\n    public void onInitialize() {\r\n        String PORT = &quot;/dev/cu.usbmodem11202&quot;;\r\n        try {\r\n            arduino = new FirmataDevice(PORT);\r\n            arduino.start();\r\n            arduino.ensureInitializationIsDone();\r\n            isArduinoConnected = true;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (!isArduinoConnected) {\r\n            System.err.println(&quot;Failed to connect to Arduino!&quot;);\r\n        }\r\n\r\n        // Register event handlers\r\n        MinecraftForge.EVENT_BUS.register(this);\r\n    }\r\n\r\n    @SubscribeEvent\r\n    public void onShutdown() throws IOException {\r\n        if (arduino != null) {\r\n            arduino.stop();\r\n        }\r\n    }\r\n\r\n    @Mod.EventBusSubscriber\r\n    public static class EventHandler {\r\n        @SubscribeEvent\r\n        public void onPlayerDamage(LivingHurtEvent event) {\r\n            if (event.getEntity() instanceof Player player) {\r\n                // Turn on the LED on the Arduino for 3 seconds\r\n                ArduinoDamageMod.getInstance().turnOnLed();\r\n                try {\r\n                    Thread.sleep(3000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                ArduinoDamageMod.getInstance().turnOffLed();\r\n                }\r\n        }\r\n    }\r\n\r\n    public void turnOnLed() {\r\n        if (isArduinoConnected) {\r\n            try {\r\n                // Set pin 6 to output mode and set its value to high\r\n                arduino.getPin(6).setMode(Pin.Mode.OUTPUT);\r\n                arduino.getPin(6).setValue(1);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void turnOffLed() {\r\n        if (isArduinoConnected) {\r\n            try {\r\n                // Set pin 6 to output mode and set its value to low\r\n                arduino.getPin(6).setMode(Pin.Mode.OUTPUT);\r\n                arduino.getPin(6).setValue(0);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static ArduinoDamageMod instance;\r\n    public static ArduinoDamageMod getInstance() {\r\n        return instance;\r\n    }\r\n}\r\n```\r\n\r\nTHE FULL ERROR MESSAGE:\r\n```---- Minecraft Crash Report ----\r\n// Hey, that tickles! Hehehe!\r\n\r\nTime: 2023-04-07 16:43:34\r\nDescription: Mod loading error has occurred\r\n\r\njava.lang.Exception: Mod Loading has failed\r\n\tat net.minecraftforge.logging.CrashReportExtender.dumpModLoadingCrashReport(CrashReportExtender.java:58) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading}\r\n\tat net.minecraftforge.client.loading.ClientModLoader.completeModLoading(ClientModLoader.java:165) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.Minecraft.lambda$new$2(Minecraft.java:591) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.Util.ifElse(Util.java:420) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading}\r\n\tat net.minecraft.client.Minecraft.lambda$new$3(Minecraft.java:585) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.gui.screens.LoadingOverlay.render(LoadingOverlay.java:135) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:940) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.Minecraft.runTick(Minecraft.java:1160) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.Minecraft.run(Minecraft.java:731) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.main.Main.main(Main.java:205) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\r\n\tat net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:25) ~[fmlloader-1.19.4-45.0.43.jar:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:30) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.Launcher.run(Launcher.java:106) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.Launcher.main(Launcher.java:77) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:141) ~[bootstraplauncher-1.1.2.jar:?] {}\r\n\r\n\r\nA detailed walkthrough of the error, its code path and all known details is as follows:\r\n---------------------------------------------------------------------------------------\r\n\r\n-- Head --\r\nThread: Render thread\r\nStacktrace:\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?] {}\r\n-- MOD arduinodamagemod --\r\nDetails:\r\n\tCaused by 0: java.lang.NoClassDefFoundError: org/firmata4j/IODevice\r\n\t\tat java.lang.Class.getDeclaredConstructors0(Native Method) ~[?:?] {}\r\n\t\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[?:?] {}\r\n\t\tat java.lang.Class.getConstructor0(Class.java:3578) ~[?:?] {}\r\n\t\tat java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[?:?] {}\r\n\t\tat net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:68) ~[javafmllanguage-1.19.4-45.0.43.jar%23183!/:?] {}\r\n\t\tat net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$10(ModContainer.java:121) ~[fmlcore-1.19.4-45.0.43.jar%23186!/:?] {}\r\n\t\tat java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?] {}\r\n\t\tat java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[?:?] {}\r\n\t\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\r\n\t\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\r\n\t\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\r\n\t\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\r\n\t\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\r\n\r\n\tMod File: /Users/braden/coding/java/ADM/build/resources/main/\r\n\tFailure message: ArduinoDamageMod (arduinodamagemod) has failed to load correctly\r\n\t\tjava.lang.NoClassDefFoundError: org/firmata4j/IODevice\r\n\tMod Version: 0.0NONE\r\n\tMod Issue URL: NOT PROVIDED\r\n\tException message: java.lang.ClassNotFoundException: org.firmata4j.IODevice\r\nStacktrace:\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?] {}\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\r\n\tat cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:137) ~[securejarhandler-2.1.6.jar:?] {}\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\r\n\tat cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:137) ~[securejarhandler-2.1.6.jar:?] {}\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\r\n\tat java.lang.Class.getDeclaredConstructors0(Native Method) ~[?:?] {}\r\n\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[?:?] {}\r\n\tat java.lang.Class.getConstructor0(Class.java:3578) ~[?:?] {}\r\n\tat java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[?:?] {}\r\n\tat net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:68) ~[javafmllanguage-1.19.4-45.0.43.jar%23183!/:?] {}\r\n\tat net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$10(ModContainer.java:121) ~[fmlcore-1.19.4-45.0.43.jar%23186!/:?] {}\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?] {}\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\r\n\r\n\r\n-- System Details --\r\nDetails:\r\n\tMinecraft Version: 1.19.4\r\n\tMinecraft Version ID: 1.19.4\r\n\tOperating System: Mac OS X (aarch64) version 13.0.1\r\n\tJava Version: 17.0.5, Oracle Corporation\r\n\tJava VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode, sharing), Oracle Corporation\r\n\tMemory: 125078016 bytes (119 MiB) / 597688320 bytes (570 MiB) up to 2147483648 bytes (2048 MiB)\r\n\tCPUs: 8\r\n\tProcessor Vendor: Apple Inc.\r\n\tProcessor Name: Apple M1\r\n\tIdentifier: Apple Inc. Family 0x1b588bb3 Model 0 Stepping 0\r\n\tMicroarchitecture: ARM64 SoC: Firestorm + Icestorm\r\n\tFrequency (GHz): 3.20\r\n\tNumber of physical packages: 1\r\n\tNumber of physical CPUs: 8\r\n\tNumber of logical CPUs: 8\r\n\tGraphics card #0 name: Apple M1\r\n\tGraphics card #0 vendor: Apple (0x106b)\r\n\tGraphics card #0 VRAM (MB): 0.00\r\n\tGraphics card #0 deviceId: unknown\r\n\tGraphics card #0 versionInfo: unknown\r\n\tMemory slot #0 capacity (MB): 0.00\r\n\tMemory slot #0 clockSpeed (GHz): 0.00\r\n\tMemory slot #0 type: unknown\r\n\tVirtual memory max (MB): 15360.00\r\n\tVirtual memory used (MB): 13080.55\r\n\tSwap memory total (MB): 7168.00\r\n\tSwap memory used (MB): 6065.19\r\n\tJVM Flags: 1 total; -Xss1M\r\n\tModLauncher: 10.0.8+10.0.8+main.0ef7e830\r\n\tModLauncher launch target: forgeclientuserdev\r\n\tModLauncher naming: mcp\r\n\tModLauncher services: \r\n\t\tmixin-0.8.5.jar mixin PLUGINSERVICE \r\n\t\teventbus-6.0.3.jar eventbus PLUGINSERVICE \r\n\t\tfmlloader-1.19.4-45.0.43.jar slf4jfixer PLUGINSERVICE \r\n\t\tfmlloader-1.19.4-45.0.43.jar object_holder_definalize PLUGINSERVICE \r\n\t\tfmlloader-1.19.4-45.0.43.jar runtime_enum_extender PLUGINSERVICE \r\n\t\tfmlloader-1.19.4-45.0.43.jar capability_token_subclass PLUGINSERVICE \r\n\t\taccesstransformers-8.0.4.jar accesstransformer PLUGINSERVICE \r\n\t\tfmlloader-1.19.4-45.0.43.jar runtimedistcleaner PLUGINSERVICE \r\n\t\tmodlauncher-10.0.8.jar mixin TRANSFORMATIONSERVICE \r\n\t\tmodlauncher-10.0.8.jar fml TRANSFORMATIONSERVICE \r\n\tFML Language Providers: \r\n\t\tminecraft@1.0\r\n\t\tlowcodefml@null\r\n\t\tjavafml@null\r\n\tMod List: \r\n\t\tforge-1.19.4-45.0.43_mapped_official_1.19.4-recomp|Minecraft                     |minecraft                     |1.19.4              |COMMON_SET|Manifest: a1:d4:5e:04:4f:d3:d6:e0:7b:37:97:cf:77:b0:de:ad:4a:47:ce:8c:96:49:5f:0a:cf:8c:ae:b2:6d:4b:8a:3f\r\n\t\tmain                                              |ArduinoDamageMod              |arduinodamagemod              |0.0NONE             |ERROR     |Manifest: NOSIGNATURE\r\n\t\t                                                  |Forge                         |forge                         |45.0.43             |COMMON_SET|Manifest: NOSIGNATURE\r\n\tCrash Report UUID: e2085851-7cc1-48d8-a918-3263a1481f3d\r\n\tFML: 45.0\r\n\tForge: net.minecraftforge:45.0.43```","title":"java.lang.classnotfoundexception: org.firmata4j.iodevice","body":"<p>this error has been keeping me up at night. I have no idea how to solve it, ive gone through every forum every similar problem on the internet and cant find any way to solve it. It seems simple, a minecraft mod that just connects to an arduino. But for some reason gradle/intellij/minecraft wont let me import IODevice. I have no idea whats going wrong. someone please help me.</p>\n<p>MY CODE</p>\n<pre><code>\nimport net.minecraft.world.entity.player.Player;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.event.entity.living.LivingHurtEvent;\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\nimport net.minecraftforge.fml.common.Mod;\nimport org.firmata4j.Pin;\nimport org.firmata4j.firmata.FirmataDevice;\nimport org.firmata4j.IODevice;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@Mod(ArduinoDamageMod.MODID)\npublic class ArduinoDamageMod {\n\n    public static final String MODID = &quot;arduinodamagemod&quot;;\n    private IODevice arduino;\n    private boolean isArduinoConnected = false;\n\n    @SubscribeEvent\n    public void onInitialize() {\n        String PORT = &quot;/dev/cu.usbmodem11202&quot;;\n        try {\n            arduino = new FirmataDevice(PORT);\n            arduino.start();\n            arduino.ensureInitializationIsDone();\n            isArduinoConnected = true;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        if (!isArduinoConnected) {\n            System.err.println(&quot;Failed to connect to Arduino!&quot;);\n        }\n\n        // Register event handlers\n        MinecraftForge.EVENT_BUS.register(this);\n    }\n\n    @SubscribeEvent\n    public void onShutdown() throws IOException {\n        if (arduino != null) {\n            arduino.stop();\n        }\n    }\n\n    @Mod.EventBusSubscriber\n    public static class EventHandler {\n        @SubscribeEvent\n        public void onPlayerDamage(LivingHurtEvent event) {\n            if (event.getEntity() instanceof Player player) {\n                // Turn on the LED on the Arduino for 3 seconds\n                ArduinoDamageMod.getInstance().turnOnLed();\n                try {\n                    Thread.sleep(3000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                ArduinoDamageMod.getInstance().turnOffLed();\n                }\n        }\n    }\n\n    public void turnOnLed() {\n        if (isArduinoConnected) {\n            try {\n                // Set pin 6 to output mode and set its value to high\n                arduino.getPin(6).setMode(Pin.Mode.OUTPUT);\n                arduino.getPin(6).setValue(1);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public void turnOffLed() {\n        if (isArduinoConnected) {\n            try {\n                // Set pin 6 to output mode and set its value to low\n                arduino.getPin(6).setMode(Pin.Mode.OUTPUT);\n                arduino.getPin(6).setValue(0);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private static ArduinoDamageMod instance;\n    public static ArduinoDamageMod getInstance() {\n        return instance;\n    }\n}\n</code></pre>\n<p>THE FULL ERROR MESSAGE:</p>\n<pre><code>// Hey, that tickles! Hehehe!\n\nTime: 2023-04-07 16:43:34\nDescription: Mod loading error has occurred\n\njava.lang.Exception: Mod Loading has failed\n    at net.minecraftforge.logging.CrashReportExtender.dumpModLoadingCrashReport(CrashReportExtender.java:58) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading}\n    at net.minecraftforge.client.loading.ClientModLoader.completeModLoading(ClientModLoader.java:165) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\n    at net.minecraft.client.Minecraft.lambda$new$2(Minecraft.java:591) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.Util.ifElse(Util.java:420) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading}\n    at net.minecraft.client.Minecraft.lambda$new$3(Minecraft.java:585) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.gui.screens.LoadingOverlay.render(LoadingOverlay.java:135) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\n    at net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:940) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.Minecraft.runTick(Minecraft.java:1160) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.Minecraft.run(Minecraft.java:731) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.main.Main.main(Main.java:205) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\n    at net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:25) ~[fmlloader-1.19.4-45.0.43.jar:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:30) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.Launcher.run(Launcher.java:106) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.Launcher.main(Launcher.java:77) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:141) ~[bootstraplauncher-1.1.2.jar:?] {}\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n\n-- Head --\nThread: Render thread\nStacktrace:\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?] {}\n-- MOD arduinodamagemod --\nDetails:\n    Caused by 0: java.lang.NoClassDefFoundError: org/firmata4j/IODevice\n        at java.lang.Class.getDeclaredConstructors0(Native Method) ~[?:?] {}\n        at java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[?:?] {}\n        at java.lang.Class.getConstructor0(Class.java:3578) ~[?:?] {}\n        at java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[?:?] {}\n        at net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:68) ~[javafmllanguage-1.19.4-45.0.43.jar%23183!/:?] {}\n        at net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$10(ModContainer.java:121) ~[fmlcore-1.19.4-45.0.43.jar%23186!/:?] {}\n        at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?] {}\n        at java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[?:?] {}\n        at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\n        at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\n        at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\n        at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\n        at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\n\n    Mod File: /Users/braden/coding/java/ADM/build/resources/main/\n    Failure message: ArduinoDamageMod (arduinodamagemod) has failed to load correctly\n        java.lang.NoClassDefFoundError: org/firmata4j/IODevice\n    Mod Version: 0.0NONE\n    Mod Issue URL: NOT PROVIDED\n    Exception message: java.lang.ClassNotFoundException: org.firmata4j.IODevice\nStacktrace:\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?] {}\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\n    at cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:137) ~[securejarhandler-2.1.6.jar:?] {}\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\n    at cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:137) ~[securejarhandler-2.1.6.jar:?] {}\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\n    at java.lang.Class.getDeclaredConstructors0(Native Method) ~[?:?] {}\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[?:?] {}\n    at java.lang.Class.getConstructor0(Class.java:3578) ~[?:?] {}\n    at java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[?:?] {}\n    at net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:68) ~[javafmllanguage-1.19.4-45.0.43.jar%23183!/:?] {}\n    at net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$10(ModContainer.java:121) ~[fmlcore-1.19.4-45.0.43.jar%23186!/:?] {}\n    at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?] {}\n    at java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[?:?] {}\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\n    at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\n    at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\n\n\n-- System Details --\nDetails:\n    Minecraft Version: 1.19.4\n    Minecraft Version ID: 1.19.4\n    Operating System: Mac OS X (aarch64) version 13.0.1\n    Java Version: 17.0.5, Oracle Corporation\n    Java VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode, sharing), Oracle Corporation\n    Memory: 125078016 bytes (119 MiB) / 597688320 bytes (570 MiB) up to 2147483648 bytes (2048 MiB)\n    CPUs: 8\n    Processor Vendor: Apple Inc.\n    Processor Name: Apple M1\n    Identifier: Apple Inc. Family 0x1b588bb3 Model 0 Stepping 0\n    Microarchitecture: ARM64 SoC: Firestorm + Icestorm\n    Frequency (GHz): 3.20\n    Number of physical packages: 1\n    Number of physical CPUs: 8\n    Number of logical CPUs: 8\n    Graphics card #0 name: Apple M1\n    Graphics card #0 vendor: Apple (0x106b)\n    Graphics card #0 VRAM (MB): 0.00\n    Graphics card #0 deviceId: unknown\n    Graphics card #0 versionInfo: unknown\n    Memory slot #0 capacity (MB): 0.00\n    Memory slot #0 clockSpeed (GHz): 0.00\n    Memory slot #0 type: unknown\n    Virtual memory max (MB): 15360.00\n    Virtual memory used (MB): 13080.55\n    Swap memory total (MB): 7168.00\n    Swap memory used (MB): 6065.19\n    JVM Flags: 1 total; -Xss1M\n    ModLauncher: 10.0.8+10.0.8+main.0ef7e830\n    ModLauncher launch target: forgeclientuserdev\n    ModLauncher naming: mcp\n    ModLauncher services: \n        mixin-0.8.5.jar mixin PLUGINSERVICE \n        eventbus-6.0.3.jar eventbus PLUGINSERVICE \n        fmlloader-1.19.4-45.0.43.jar slf4jfixer PLUGINSERVICE \n        fmlloader-1.19.4-45.0.43.jar object_holder_definalize PLUGINSERVICE \n        fmlloader-1.19.4-45.0.43.jar runtime_enum_extender PLUGINSERVICE \n        fmlloader-1.19.4-45.0.43.jar capability_token_subclass PLUGINSERVICE \n        accesstransformers-8.0.4.jar accesstransformer PLUGINSERVICE \n        fmlloader-1.19.4-45.0.43.jar runtimedistcleaner PLUGINSERVICE \n        modlauncher-10.0.8.jar mixin TRANSFORMATIONSERVICE \n        modlauncher-10.0.8.jar fml TRANSFORMATIONSERVICE \n    FML Language Providers: \n        minecraft@1.0\n        lowcodefml@null\n        javafml@null\n    Mod List: \n        forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp|Minecraft                     |minecraft                     |1.19.4              |COMMON_SET|Manifest: a1:d4:5e:04:4f:d3:d6:e0:7b:37:97:cf:77:b0:de:ad:4a:47:ce:8c:96:49:5f:0a:cf:8c:ae:b2:6d:4b:8a:3f\n        main                                              |ArduinoDamageMod              |arduinodamagemod              |0.0NONE             |ERROR     |Manifest: NOSIGNATURE\n                                                          |Forge                         |forge                         |45.0.43             |COMMON_SET|Manifest: NOSIGNATURE\n    Crash Report UUID: e2085851-7cc1-48d8-a918-3263a1481f3d\n    FML: 45.0\n    Forge: net.minecraftforge:45.0.43```\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"score":3,"creation_date":1306389132,"post_id":6134223,"comment_id":7119806,"body_markdown":"This is often a case where a standard for loop is used instead of a foreach.","body":"This is often a case where a standard for loop is used instead of a foreach."},{"owner":{"account_id":250698,"reputation":6795,"user_id":527577,"accept_rate":95,"display_name":"ace"},"score":0,"creation_date":1306389355,"post_id":6134223,"comment_id":7119849,"body_markdown":"@Mitch Wheat: I&#39;m aware of that, but if there&#39;s just a simple method to know at the end. It would be a great help. Like using `resultSet.next();` there is a `resultSet.isLast()`. I&#39;m looking for that kind of method, if it is also available in `foreach`.","body":"@Mitch Wheat: I&#39;m aware of that, but if there&#39;s just a simple method to know at the end. It would be a great help. Like using <code>resultSet.next();</code> there is a <code>resultSet.isLast()</code>. I&#39;m looking for that kind of method, if it is also available in <code>foreach</code>."},{"owner":{"account_id":107998,"reputation":67665,"user_id":286871,"accept_rate":77,"display_name":"Tikhon Jelvis"},"score":0,"creation_date":1306389544,"post_id":6134223,"comment_id":7119886,"body_markdown":"That sort of method is usually available on the iterator (something like `hasNext`). The whole point of the for each loop is to abstract away the iterator; unfortunately, this also means you have slightly reduced functionality.","body":"That sort of method is usually available on the iterator (something like <code>hasNext</code>). The whole point of the for each loop is to abstract away the iterator; unfortunately, this also means you have slightly reduced functionality."},{"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"score":0,"creation_date":1306389697,"post_id":6134223,"comment_id":7119913,"body_markdown":"`str.length` is not the proper length that you are looking for. It should be `arrayString.length`.","body":"<code>str.length</code> is not the proper length that you are looking for. It should be <code>arrayString.length</code>."},{"owner":{"account_id":250698,"reputation":6795,"user_id":527577,"accept_rate":95,"display_name":"ace"},"score":0,"creation_date":1306389817,"post_id":6134223,"comment_id":7119935,"body_markdown":"@pickypg: I know it just a sample code. My actual code is far complicated than that.","body":"@pickypg: I know it just a sample code. My actual code is far complicated than that."}],"answers":[{"comments":[{"owner":{"account_id":250698,"reputation":6795,"user_id":527577,"accept_rate":95,"display_name":"ace"},"score":0,"creation_date":1306389688,"post_id":6134267,"comment_id":7119910,"body_markdown":"Thanks: your first solution is my interim solution for now. And the second solution is the one I&#39;m trying to avoid in my current code. If no other way than the first solution, I&#39;m going to use it.","body":"Thanks: your first solution is my interim solution for now. And the second solution is the one I&#39;m trying to avoid in my current code. If no other way than the first solution, I&#39;m going to use it."},{"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"score":0,"creation_date":1306389822,"post_id":6134267,"comment_id":7119936,"body_markdown":"@Jigar Fair enough, but it wasn&#39;t when I posted it. @ace As noted by Tikhon, you can use an `Iterator` for your collection, but I assumed that was not valid since you showed an array up top.","body":"@Jigar Fair enough, but it wasn&#39;t when I posted it. @ace As noted by Tikhon, you can use an <code>Iterator</code> for your collection, but I assumed that was not valid since you showed an array up top."}],"tags":[],"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1306389203,"creation_date":1306389203,"answer_id":6134267,"question_id":6134223,"body_markdown":"Two easy ways, which are somewhat amusing given your reasoning for using the foreach loop.\r\n\r\n    int i = 1;\r\n    for (String str : arrayString) {\r\n        if (i++ == arrayString.length) {\r\n            // end\r\n        }\r\n    }\r\n\r\nOr\r\n\r\n    for (int i = 0; i &lt; arrayString.length; ++i) {\r\n        String str = arrayString[i];\r\n        if (i + 1 == arrayString.length) {\r\n            // end\r\n        }\r\n    }\r\n\r\nEffectively the same thing. Just note the difference between the use of `i` within the `if` between the two loops and the starting value of `i`.","title":"How to detect the end of the loop (for each)?","body":"<p>Two easy ways, which are somewhat amusing given your reasoning for using the foreach loop.</p>\n\n<pre><code>int i = 1;\nfor (String str : arrayString) {\n    if (i++ == arrayString.length) {\n        // end\n    }\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>for (int i = 0; i &lt; arrayString.length; ++i) {\n    String str = arrayString[i];\n    if (i + 1 == arrayString.length) {\n        // end\n    }\n}\n</code></pre>\n\n<p>Effectively the same thing. Just note the difference between the use of <code>i</code> within the <code>if</code> between the two loops and the starting value of <code>i</code>.</p>\n"},{"comments":[{"owner":{"account_id":250698,"reputation":6795,"user_id":527577,"accept_rate":95,"display_name":"ace"},"score":0,"creation_date":1306390575,"post_id":6134337,"comment_id":7120071,"body_markdown":"Sir, I&#39;m still not proficient in Java writing my own iterator could affect the performance of my application, but I&#39;ll if a have more time. As of now if there is no other way, the pickypg posted is my current solution. I&#39;m just wondering which would be faster, the loop have about hundred thousand of iteration on the main loop. Then another hundred loop in the sub loop. If you can suggest which way is faster, its a big thanks.","body":"Sir, I&#39;m still not proficient in Java writing my own iterator could affect the performance of my application, but I&#39;ll if a have more time. As of now if there is no other way, the pickypg posted is my current solution. I&#39;m just wondering which would be faster, the loop have about hundred thousand of iteration on the main loop. Then another hundred loop in the sub loop. If you can suggest which way is faster, its a big thanks."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1306390742,"post_id":6134337,"comment_id":7120100,"body_markdown":"@ace: Using a straight for loop would be more efficient, but possibly less elegant. But you should generally be more concerned with writing maintainable code and then *measure* the performance, rather than guessing where your bottlenecks are.","body":"@ace: Using a straight for loop would be more efficient, but possibly less elegant. But you should generally be more concerned with writing maintainable code and then <i>measure</i> the performance, rather than guessing where your bottlenecks are."},{"owner":{"account_id":250698,"reputation":6795,"user_id":527577,"accept_rate":95,"display_name":"ace"},"score":0,"creation_date":1306391397,"post_id":6134337,"comment_id":7120228,"body_markdown":"I&#39;am more concerned with maintainable code that&#39;s why I&#39;m looking for another way to check that last index of the loop. But I&#39;m not still good at it, anyway I&#39;ll keep your solution then if I have more time I&#39;m going to use it. Thanks","body":"I&#39;am more concerned with maintainable code that&#39;s why I&#39;m looking for another way to check that last index of the loop. But I&#39;m not still good at it, anyway I&#39;ll keep your solution then if I have more time I&#39;m going to use it. Thanks"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1306390237,"creation_date":1306389750,"answer_id":6134337,"question_id":6134223,"body_markdown":"One option would be to write your own iterator implementation which exposed, at each point, properties of first, last, index and value.\r\n\r\nI&#39;ve done the [same thing for .NET][1], and it was far from tricky. In Java it would be even easier, as you could use the `hasNext()` method of the original iterator to determine whether or not it&#39;s the last element. The code would look *something* like this (completely untested):\r\n\r\n    public SmartIterable&lt;T&gt; implements Iterable&lt;SmartIterator&lt;T&gt;.Entry&gt;\r\n    {\r\n        private final Iterable&lt;T&gt; iterable;\r\n\r\n        public SmartIterable(Iterable&lt;T&gt; iterable)\r\n        {\r\n            this.iterable = iterable;\r\n        }\r\n\r\n        public Iterator&lt;T&gt; iterator()\r\n        {\r\n            return new SmartIterator&lt;T&gt;(iterable.iterator());\r\n        }\r\n    }\r\n\r\n    public SmartIterator&lt;T&gt; implements Iterator&lt;SmartIterator&lt;T&gt;.Entry&gt;\r\n    {\r\n        private final Iterator&lt;T&gt; iterator;\r\n        private int index = -1;\r\n\r\n        SmartIterator(Iterator&lt;T&gt; iterator)\r\n        {\r\n            this.iterator = iterator;\r\n        }\r\n\r\n        public void remove()\r\n        {\r\n            // Could potentially just delegate\r\n            throw new UnsupportedOperationException();\r\n        }\r\n\r\n        public boolean hasNext()\r\n        {\r\n            return iterator.hasNext();\r\n        }\r\n\r\n        public Entry next()\r\n        {\r\n            T nextValue = iterator.next();\r\n            index++;\r\n            return new Entry(nextValue, index);\r\n        }\r\n\r\n        public class Entry\r\n        {\r\n            private final int index;\r\n            private final T value;\r\n\r\n            private Entry(int index, T value)\r\n            {\r\n                this.index = index;\r\n                this.value = value;\r\n            }\r\n\r\n            public T getValue()\r\n            {\r\n                return value;\r\n            }\r\n\r\n            public int getIndex()\r\n            {\r\n                return index;\r\n            }\r\n\r\n            public boolean isFirst()\r\n            {\r\n                return index == 0;\r\n            }\r\n\r\n            public boolean isLast()\r\n            {\r\n                // Call into containing instance\r\n                return !hasNext();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.yoda.arachsys.com/csharp/miscutil/usage/smartenumerable.html","title":"How to detect the end of the loop (for each)?","body":"<p>One option would be to write your own iterator implementation which exposed, at each point, properties of first, last, index and value.</p>\n\n<p>I've done the <a href=\"http://www.yoda.arachsys.com/csharp/miscutil/usage/smartenumerable.html\" rel=\"noreferrer\">same thing for .NET</a>, and it was far from tricky. In Java it would be even easier, as you could use the <code>hasNext()</code> method of the original iterator to determine whether or not it's the last element. The code would look <em>something</em> like this (completely untested):</p>\n\n<pre><code>public SmartIterable&lt;T&gt; implements Iterable&lt;SmartIterator&lt;T&gt;.Entry&gt;\n{\n    private final Iterable&lt;T&gt; iterable;\n\n    public SmartIterable(Iterable&lt;T&gt; iterable)\n    {\n        this.iterable = iterable;\n    }\n\n    public Iterator&lt;T&gt; iterator()\n    {\n        return new SmartIterator&lt;T&gt;(iterable.iterator());\n    }\n}\n\npublic SmartIterator&lt;T&gt; implements Iterator&lt;SmartIterator&lt;T&gt;.Entry&gt;\n{\n    private final Iterator&lt;T&gt; iterator;\n    private int index = -1;\n\n    SmartIterator(Iterator&lt;T&gt; iterator)\n    {\n        this.iterator = iterator;\n    }\n\n    public void remove()\n    {\n        // Could potentially just delegate\n        throw new UnsupportedOperationException();\n    }\n\n    public boolean hasNext()\n    {\n        return iterator.hasNext();\n    }\n\n    public Entry next()\n    {\n        T nextValue = iterator.next();\n        index++;\n        return new Entry(nextValue, index);\n    }\n\n    public class Entry\n    {\n        private final int index;\n        private final T value;\n\n        private Entry(int index, T value)\n        {\n            this.index = index;\n            this.value = value;\n        }\n\n        public T getValue()\n        {\n            return value;\n        }\n\n        public int getIndex()\n        {\n            return index;\n        }\n\n        public boolean isFirst()\n        {\n            return index == 0;\n        }\n\n        public boolean isLast()\n        {\n            // Call into containing instance\n            return !hasNext();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11448833,"reputation":431,"user_id":8391757,"accept_rate":25,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695049853,"creation_date":1695049853,"answer_id":77128369,"question_id":6134223,"body_markdown":"For those who are looking for the same in kotlin, my answer is for you :\r\n\r\n    for(str in arrayListString){\r\n\r\n    if(str == arrayListString.last()){\r\n        //Do something if the end of the loop\r\n    }}","title":"How to detect the end of the loop (for each)?","body":"<p>For those who are looking for the same in kotlin, my answer is for you :</p>\n<pre><code>for(str in arrayListString){\n\nif(str == arrayListString.last()){\n    //Do something if the end of the loop\n}}\n</code></pre>\n"}],"owner":{"account_id":250698,"reputation":6795,"user_id":527577,"accept_rate":95,"display_name":"ace"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41642,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":6134337,"answer_count":3,"score":22,"last_activity_date":1695049853,"creation_date":1306388933,"question_id":6134223,"body_markdown":"Using `for(int i = 0; i &lt; str.length; i++)` I can easily detect if the loop is at the end. \r\n\r\nBut I how can I know if I&#39;m using `for` or `for each`.\r\n\r\n    for(String str : arrayString){\r\n\r\n        if(End of for) //Do something if the end of the loop\r\n\r\n    }\r\n\r\nThe reason I use `for(:)` instead of `for(;;)` is that `str` is actually a  large Object which I need to use that property for another loop inside that loop. And I don&#39;t like using much `object.get(index).getProperty` It just also for convenience to me in doing the coding. That&#39;s why I want to know if the `for(:)` loop is at the last index.\r\n\r\n\r\n**UPDATE**\r\n\r\nMy interim solution is to assign a `int` variable that will hold the number of iteration. Then check if the variable is equal to the length of the `str.length`.","title":"How to detect the end of the loop (for each)?","body":"<p>Using <code>for(int i = 0; i &lt; str.length; i++)</code> I can easily detect if the loop is at the end. </p>\n\n<p>But I how can I know if I'm using <code>for</code> or <code>for each</code>.</p>\n\n<pre><code>for(String str : arrayString){\n\n    if(End of for) //Do something if the end of the loop\n\n}\n</code></pre>\n\n<p>The reason I use <code>for(:)</code> instead of <code>for(;;)</code> is that <code>str</code> is actually a  large Object which I need to use that property for another loop inside that loop. And I don't like using much <code>object.get(index).getProperty</code> It just also for convenience to me in doing the coding. That's why I want to know if the <code>for(:)</code> loop is at the last index.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>My interim solution is to assign a <code>int</code> variable that will hold the number of iteration. Then check if the variable is equal to the length of the <code>str.length</code>.</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":21806003,"reputation":96,"user_id":16104195,"display_name":"Billy"},"score":0,"creation_date":1634029531,"post_id":69536268,"comment_id":122910585,"body_markdown":"Your JSON is incorrect, it has some syntax errors, that&#39;s why you can&#39;t deserialize it","body":"Your JSON is incorrect, it has some syntax errors, that&#39;s why you can&#39;t deserialize it"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1651567561,"post_id":69536268,"comment_id":127388383,"body_markdown":"Have you found answer to this question? I am also facing the same issue: https://stackoverflow.com/q/72089765/7584240","body":"Have you found answer to this question? I am also facing the same issue: <a href=\"https://stackoverflow.com/q/72089765/7584240\">stackoverflow.com/q/72089765/7584240</a>"}],"answers":[{"comments":[{"owner":{"account_id":22007711,"reputation":63,"user_id":16278419,"display_name":"dedelduel"},"score":0,"creation_date":1634092949,"post_id":69538948,"comment_id":122931063,"body_markdown":"Hello, thank your for answering my question. I&#39;m sorry that I didn&#39;t post my question completely. I just updated it.","body":"Hello, thank your for answering my question. I&#39;m sorry that I didn&#39;t post my question completely. I just updated it."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1634193332,"post_id":69538948,"comment_id":122960456,"body_markdown":"@dedelduel You are welcome,  but this is a totally new question, not an update.","body":"@dedelduel You are welcome,  but this is a totally new question, not an update."},{"owner":{"account_id":22007711,"reputation":63,"user_id":16278419,"display_name":"dedelduel"},"score":0,"creation_date":1634544990,"post_id":69538948,"comment_id":123043854,"body_markdown":"the question remains the same. I just updated the story why I got this issue","body":"the question remains the same. I just updated the story why I got this issue"}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634034484,"creation_date":1634034484,"answer_id":69538948,"question_id":69536268,"body_markdown":"Your code fails because in your json file you have `&quot;fruits&quot;: []`, so you are associating *fruits* with an json array while in your abstract `Fruit` class you expect the `&quot;fruits&quot;` property referring to the name of the subclass you want to deserialize your json. So if you modify your json like below :\r\n\r\n~~~\r\n{\r\n    &quot;fruits&quot;: &quot;sandbox.Apple&quot;,\r\n    &quot;name&quot;: &quot;MyApple&quot;\r\n}\r\n~~~\r\nYou can then deserialize it to the `Apple` subclass of the `Fruit` class:\r\n\r\n~~~\r\nFruit fruit = mapper.readValue(src, Fruit.class);\r\nSystem.out.println(fruit); //&lt;-- Apple(_name=MyApple)\r\n~~~ \r\nSo you can either decide to change your json format to match your java classes or decide to change your java classes to match your json file.","title":"com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;[&#39; as a subtype","body":"<p>Your code fails because in your json file you have <code>&quot;fruits&quot;: []</code>, so you are associating <em>fruits</em> with an json array while in your abstract <code>Fruit</code> class you expect the <code>&quot;fruits&quot;</code> property referring to the name of the subclass you want to deserialize your json. So if you modify your json like below :</p>\n<pre><code>{\n    &quot;fruits&quot;: &quot;sandbox.Apple&quot;,\n    &quot;name&quot;: &quot;MyApple&quot;\n}\n</code></pre>\n<p>You can then deserialize it to the <code>Apple</code> subclass of the <code>Fruit</code> class:</p>\n<pre><code>Fruit fruit = mapper.readValue(src, Fruit.class);\nSystem.out.println(fruit); //&lt;-- Apple(_name=MyApple)\n</code></pre>\n<p>So you can either decide to change your json format to match your java classes or decide to change your java classes to match your json file.</p>\n"}],"owner":{"account_id":22007711,"reputation":63,"user_id":16278419,"display_name":"dedelduel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20237,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1695049665,"creation_date":1634021719,"question_id":69536268,"body_markdown":"I have an abstract class called Fruit and I put the `@JsonTypeInfo` and `@JsonSubTypes` on it as follow: \r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;fruits&quot;)\r\n    @JsonSubTypes({\r\n        @Type(value = Apple.class, name = &quot;sandbox.Apple&quot;),\r\n        @Type(value = FruitGroup.class, name = &quot;sandbox.FruitGroup&quot;)\r\n    })\r\n    public abstract class Fruit {\r\n\r\n\t    public abstract String getName();\r\n\r\n\t    @Override\r\n\t    public String toString() {\r\n\t\t    return &quot;Fruit [getName()=&quot; + getName() + &quot;, getClass()=&quot; + getClass() + &quot;, hashCode()=&quot; + hashCode() + &quot;, toString()=&quot; + super.toString() + &quot;]&quot;;\r\n\t    }\r\n    }\r\n\r\nAnd my derived class looks like this\r\n\r\n    @JsonTypeName(&quot;sandbox.Apple&quot;)\r\n    public class Apple extends Fruit {\r\n\r\n\t    private String _name;\r\n\r\n\t    public void setName(String name) {\r\n\t\t    _name = name;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String getName() {\r\n\t\t    return _name;\r\n\t    }\r\n\r\n======[UPDATED]======\r\nI also have class FruitGroup that extends Fruit and contains Array of Fruit.\r\n\r\n    @JsonTypeName(&quot;sandbox.FruitGroup&quot;)\r\n    public class FruitGroup extends Fruit {\r\n\tprivate Fruit[] _Fruit;\r\n\tprivate String _name;\r\n\tprivate String _category;\r\n\r\n\tpublic Fruit[] getFruit() {\r\n\t\treturn _Fruit;\r\n\t}\r\n\r\n\tpublic void setFruits(Fruit[] fruits) {\r\n\t\t_Fruit = fruits;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\t_name = name;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getName() {\r\n\t\treturn _name;\r\n\t}\r\n\r\n\tpublic void setCategory(String category) {\r\n\t\t_category = category;\r\n\t}\r\n\r\n\tpublic String getCategory() {\r\n\t\treturn _category;\r\n\t}\r\n}\r\n\r\nWhen I tried to deserialize the jsontext into Fruit object, I found the following exception:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;[&#39; as a subtype of `sandbox.FruitGroup`: known type ids = [FruitGroup, sandbox.Apple] at [Source: (String)&quot;{&quot;fruits&quot;:[[&quot;sandbox.Apple&quot;,{&quot;name&quot;: &quot;Apple&quot;}]],&quot;name&quot;: &quot;Fruit Group&quot;}&quot;; line: 1, column: 11]\r\n\tat com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\r\n\r\nThe jsontext [UPDATED] actually was generated by jackson version 2.10.2 and I didn&#39;t put any JSON annotations on my classes formerly. After I upgrade the jackson version to 2.11.0, I also update my abstract class to put the JSON annotations in it. Then I tried to deserialize it by using jackson version 2.11.0, but I got an error instead. Could you guys help me to solve this issue?\r\nHere&#39;s my jsontext\r\n\r\n    {\r\n\t    &quot;fruit&quot;: [\r\n\t\t    [\r\n\t\t\t    &quot;sandbox.Apple&quot;,\r\n\t\t\t    {\r\n\t\t\t\t    &quot;name&quot;: &quot;Apple1&quot;\r\n\t\t\t    }\r\n\t\t    ]\r\n\t    ],\r\n\t    &quot;name&quot;: &quot;Group of apples&quot;,\r\n\t    &quot;category&quot;: &quot;Sweet fruit&quot;\r\n    }\r\n\r\n","title":"com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;[&#39; as a subtype","body":"<p>I have an abstract class called Fruit and I put the <code>@JsonTypeInfo</code> and <code>@JsonSubTypes</code> on it as follow:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;fruits&quot;)\n@JsonSubTypes({\n    @Type(value = Apple.class, name = &quot;sandbox.Apple&quot;),\n    @Type(value = FruitGroup.class, name = &quot;sandbox.FruitGroup&quot;)\n})\npublic abstract class Fruit {\n\n    public abstract String getName();\n\n    @Override\n    public String toString() {\n        return &quot;Fruit [getName()=&quot; + getName() + &quot;, getClass()=&quot; + getClass() + &quot;, hashCode()=&quot; + hashCode() + &quot;, toString()=&quot; + super.toString() + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>And my derived class looks like this</p>\n<pre><code>@JsonTypeName(&quot;sandbox.Apple&quot;)\npublic class Apple extends Fruit {\n\n    private String _name;\n\n    public void setName(String name) {\n        _name = name;\n    }\n\n    @Override\n    public String getName() {\n        return _name;\n    }\n</code></pre>\n<p>======[UPDATED]======\nI also have class FruitGroup that extends Fruit and contains Array of Fruit.</p>\n<pre><code>@JsonTypeName(&quot;sandbox.FruitGroup&quot;)\npublic class FruitGroup extends Fruit {\nprivate Fruit[] _Fruit;\nprivate String _name;\nprivate String _category;\n\npublic Fruit[] getFruit() {\n    return _Fruit;\n}\n\npublic void setFruits(Fruit[] fruits) {\n    _Fruit = fruits;\n}\n\npublic void setName(String name) {\n    _name = name;\n}\n\n@Override\npublic String getName() {\n    return _name;\n}\n\npublic void setCategory(String category) {\n    _category = category;\n}\n\npublic String getCategory() {\n    return _category;\n}\n</code></pre>\n<p>}</p>\n<p>When I tried to deserialize the jsontext into Fruit object, I found the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id '[' as a subtype of `sandbox.FruitGroup`: known type ids = [FruitGroup, sandbox.Apple] at [Source: (String)&quot;{&quot;fruits&quot;:[[&quot;sandbox.Apple&quot;,{&quot;name&quot;: &quot;Apple&quot;}]],&quot;name&quot;: &quot;Fruit Group&quot;}&quot;; line: 1, column: 11]\nat com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\n</code></pre>\n<p>The jsontext [UPDATED] actually was generated by jackson version 2.10.2 and I didn't put any JSON annotations on my classes formerly. After I upgrade the jackson version to 2.11.0, I also update my abstract class to put the JSON annotations in it. Then I tried to deserialize it by using jackson version 2.11.0, but I got an error instead. Could you guys help me to solve this issue?\nHere's my jsontext</p>\n<pre><code>{\n    &quot;fruit&quot;: [\n        [\n            &quot;sandbox.Apple&quot;,\n            {\n                &quot;name&quot;: &quot;Apple1&quot;\n            }\n        ]\n    ],\n    &quot;name&quot;: &quot;Group of apples&quot;,\n    &quot;category&quot;: &quot;Sweet fruit&quot;\n}\n</code></pre>\n"},{"tags":["java","c","undefined-behavior","operator-precedence"],"comments":[{"owner":{"account_id":21487,"reputation":17831,"user_id":52239,"accept_rate":83,"display_name":"Craig Gidney"},"score":14,"creation_date":1286432824,"post_id":3879176,"comment_id":4128692,"body_markdown":"That&#39;s odd; when I compile it in C my compiler dances like an undefined chicken.","body":"That&#39;s odd; when I compile it in C my compiler dances like an undefined chicken."},{"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"score":1,"creation_date":1286432911,"post_id":3879176,"comment_id":4128702,"body_markdown":"why -1 ? Is this not a valid question?  Anyhow @Strilanc, what compiler are you using?","body":"why -1 ? Is this not a valid question?  Anyhow @Strilanc, what compiler are you using?"},{"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"score":3,"creation_date":1286433466,"post_id":3879176,"comment_id":4128741,"body_markdown":"If you *really* see that in your code, I think it&#39;s better to refactor that!!","body":"If you <i>really</i> see that in your code, I think it&#39;s better to refactor that!!"},{"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"score":0,"creation_date":1286433547,"post_id":3879176,"comment_id":4128755,"body_markdown":"It is a trivial example because I just want to know how things work.","body":"It is a trivial example because I just want to know how things work."},{"owner":{"account_id":10174,"reputation":18157,"user_id":19100,"accept_rate":78,"display_name":"dalle"},"score":3,"creation_date":1286434380,"post_id":3879176,"comment_id":4128840,"body_markdown":"Duplicate of [How do we explain the result of the expression (++x)+(++x)+(++x)?](http://stackoverflow.com/questions/1525187/how-do-we-explain-the-result-of-the-expression-xxx) Why are these questions asked so often?","body":"Duplicate of <a href=\"http://stackoverflow.com/questions/1525187/how-do-we-explain-the-result-of-the-expression-xxx\">How do we explain the result of the expression (++x)+(++x)+(++x)?</a> Why are these questions asked so often?"},{"owner":{"account_id":4895,"reputation":136019,"user_id":7586,"accept_rate":83,"display_name":"Kobi"},"score":2,"creation_date":1286434570,"post_id":3879176,"comment_id":4128860,"body_markdown":"@dalle - not really, different languages will handle this differently.","body":"@dalle - not really, different languages will handle this differently."},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":1,"creation_date":1286434764,"post_id":3879176,"comment_id":4128874,"body_markdown":"@dalle, that question doesn&#39;t even mention Java, which is quite different in this regard.","body":"@dalle, that question doesn&#39;t even mention Java, which is quite different in this regard."},{"owner":{"account_id":72682,"reputation":10774,"user_id":209744,"accept_rate":60,"display_name":"PP."},"score":0,"creation_date":1286442205,"post_id":3879176,"comment_id":4129833,"body_markdown":"-1 from me, too, for asking a FAQ. Any book you&#39;ll ever read about these operators make it very clear that mixing multiple post/pre increment/decrement operators is undefined behaviour.","body":"-1 from me, too, for asking a FAQ. Any book you&#39;ll ever read about these operators make it very clear that mixing multiple post/pre increment/decrement operators is undefined behaviour."},{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":1,"creation_date":1286444274,"post_id":3879176,"comment_id":4130083,"body_markdown":"@dalle: I think that C&#39;s expression evaluation rules, in particular the sequence point rule, are genuinely surprising to many people at a certain stage of learning the language. Especially coming from Java, where it is all defined. So, a lot of people ask about it, and often (not this time) a few people give very wrong answers. As for why it&#39;s surprising - a little knowledge is a dangerous thing, so maybe people reach a fairly natural mental model of &quot;how compilers do arithmetic&quot; which simply doesn&#39;t take account of how C compilers *optimize* arithmetic, and so is wrong.","body":"@dalle: I think that C&#39;s expression evaluation rules, in particular the sequence point rule, are genuinely surprising to many people at a certain stage of learning the language. Especially coming from Java, where it is all defined. So, a lot of people ask about it, and often (not this time) a few people give very wrong answers. As for why it&#39;s surprising - a little knowledge is a dangerous thing, so maybe people reach a fairly natural mental model of &quot;how compilers do arithmetic&quot; which simply doesn&#39;t take account of how C compilers <i>optimize</i> arithmetic, and so is wrong."},{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":1,"creation_date":1286444535,"post_id":3879176,"comment_id":4130108,"body_markdown":"Also, even I find it slightly surprising that `++i + ++i` is undefined behavior, but is not a breach of language constraints. More to the point is that `int incboth(int *p, int *q) { return ++*p + ++*q; }` is fine if the caller passes in different values for p and q, and not fine if called with the same pointer value twice. Clearly the compiler cannot help you with that one (although C99 `restrict` at least indicates the intent), which is why the sequence point rule cannot be entirely expressed as a language constraint.","body":"Also, even I find it slightly surprising that <code>++i + ++i</code> is undefined behavior, but is not a breach of language constraints. More to the point is that <code>int incboth(int *p, int *q) { return ++*p + ++*q; }</code> is fine if the caller passes in different values for p and q, and not fine if called with the same pointer value twice. Clearly the compiler cannot help you with that one (although C99 <code>restrict</code> at least indicates the intent), which is why the sequence point rule cannot be entirely expressed as a language constraint."},{"owner":{"account_id":160089,"reputation":210407,"user_id":379897,"accept_rate":61,"display_name":"R.. GitHub STOP HELPING ICE"},"score":1,"creation_date":1286469939,"post_id":3879176,"comment_id":4134533,"body_markdown":"-1 for yet another repeat of the most frequent duplicate question. Can&#39;t SO implement some kind of duplicate warning when it sees too many ++&#39;s close together or something?","body":"-1 for yet another repeat of the most frequent duplicate question. Can&#39;t SO implement some kind of duplicate warning when it sees too many ++&#39;s close together or something?"},{"owner":{"account_id":8014,"reputation":56420,"user_id":14148,"accept_rate":79,"display_name":"David Thornley"},"score":0,"creation_date":1286470003,"post_id":3879176,"comment_id":4134548,"body_markdown":"@Steve Jessop:  There&#39;s nothing stopping implementations from issuing warning messages.","body":"@Steve Jessop:  There&#39;s nothing stopping implementations from issuing warning messages."},{"owner":{"account_id":8014,"reputation":56420,"user_id":14148,"accept_rate":79,"display_name":"David Thornley"},"score":1,"creation_date":1286470096,"post_id":3879176,"comment_id":4134564,"body_markdown":"@PP:  Any book you read about C or C++ will point out that this is an error.  The poster also asked about Java, which is an entirely different question.","body":"@PP:  Any book you read about C or C++ will point out that this is an error.  The poster also asked about Java, which is an entirely different question."},{"owner":{"account_id":8014,"reputation":56420,"user_id":14148,"accept_rate":79,"display_name":"David Thornley"},"score":0,"creation_date":1286470278,"post_id":3879176,"comment_id":4134599,"body_markdown":"Oh, and also:  If you have to ask about the meaning of an expression on Stack Overflow or similar site, don&#39;t put it in a program.  We don&#39;t want the next person working on your program to have to come here to understand your program.","body":"Oh, and also:  If you have to ask about the meaning of an expression on Stack Overflow or similar site, don&#39;t put it in a program.  We don&#39;t want the next person working on your program to have to come here to understand your program."},{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":0,"creation_date":1286471064,"post_id":3879176,"comment_id":4134755,"body_markdown":"@David: sure, but there&#39;s also nothing stopping compilers from issuing a warning for assigning to const, but that&#39;s a language constraint violation. I said I was only &quot;slightly&quot; surprised - I guess it&#39;s just unnecessarily complicated to define a reasonable constraint.","body":"@David: sure, but there&#39;s also nothing stopping compilers from issuing a warning for assigning to const, but that&#39;s a language constraint violation. I said I was only &quot;slightly&quot; surprised - I guess it&#39;s just unnecessarily complicated to define a reasonable constraint."},{"owner":{"account_id":160089,"reputation":210407,"user_id":379897,"accept_rate":61,"display_name":"R.. GitHub STOP HELPING ICE"},"score":0,"creation_date":1286477310,"post_id":3879176,"comment_id":4135826,"body_markdown":"The question belongs closed. It&#39;s not a question about the Java behavior of this expression, but a question about why the C behavior does not match the Java behavior, and it&#39;s simply yet another case of being ignorant of sequence points like every other duplicate of this topic.","body":"The question belongs closed. It&#39;s not a question about the Java behavior of this expression, but a question about why the C behavior does not match the Java behavior, and it&#39;s simply yet another case of being ignorant of sequence points like every other duplicate of this topic."},{"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"score":0,"creation_date":1286504459,"post_id":3879176,"comment_id":4139063,"body_markdown":"sorry for being ignorant","body":"sorry for being ignorant"}],"answers":[{"tags":[],"owner":{"account_id":205737,"reputation":12568,"user_id":454638,"accept_rate":100,"display_name":"JoshD"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1534874523,"creation_date":1286432806,"answer_id":3879192,"question_id":3879176,"body_markdown":"In C this is undefined behavior. There is no correct behavior.\r\n","title":"++i + ++i + ++i in Java vs C","body":"<p>In C this is undefined behavior. There is no correct behavior.</p>\n"},{"comments":[{"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"score":1,"creation_date":1286433027,"post_id":3879194,"comment_id":4128709,"body_markdown":"Thank you, I&#39;m enlightened by the term Sequence Point Error.","body":"Thank you, I&#39;m enlightened by the term Sequence Point Error."},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":16,"creation_date":1286433612,"post_id":3879194,"comment_id":4128764,"body_markdown":"It&#39;s well-defined in Java.","body":"It&#39;s well-defined in Java."}],"tags":[],"owner":{"account_id":151660,"reputation":525,"user_id":365682,"display_name":"Rohit"},"comment_count":2,"down_vote_count":2,"up_vote_count":20,"is_accepted":true,"score":18,"last_activity_date":1286432853,"creation_date":1286432853,"answer_id":3879194,"question_id":3879176,"body_markdown":"There is nothing like more correct. It is actually undefined and its called Sequence Point Error. \r\nhttp://en.wikipedia.org/wiki/Sequence_point","title":"++i + ++i + ++i in Java vs C","body":"<p>There is nothing like more correct. It is actually undefined and its called Sequence Point Error. \n<a href=\"http://en.wikipedia.org/wiki/Sequence_point\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Sequence_point</a></p>\n"},{"tags":[],"owner":{"account_id":204844,"reputation":53796,"user_id":453277,"display_name":"Tim M."},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1695048612,"creation_date":1286432867,"answer_id":3879197,"question_id":3879176,"body_markdown":"The Java result makes sense to me because the operators give the result you would expect, but no serious program should contain a statement like this.","title":"++i + ++i + ++i in Java vs C","body":"<p>The Java result makes sense to me because the operators give the result you would expect, but no serious program should contain a statement like this.</p>\n"},{"comments":[{"owner":{"account_id":4895,"reputation":136019,"user_id":7586,"accept_rate":83,"display_name":"Kobi"},"score":0,"creation_date":1286434407,"post_id":3879280,"comment_id":4128842,"body_markdown":"A small question - is left-to-right really needed here? In this example, can another order give a different result? I suppose it&#39;s more relevant to statements like `i = (i*=2) + (i*=3) + (i*=4);`, where order matters.","body":"A small question - is left-to-right really needed here? In this example, can another order give a different result? I suppose it&#39;s more relevant to statements like <code>i = (i*=2) + (i*=3) + (i*=4);</code>, where order matters."},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":0,"creation_date":1286434894,"post_id":3879280,"comment_id":4128885,"body_markdown":"@Kobi, not really, but I hope explaining simpler cases helps people work up to more complex ones.","body":"@Kobi, not really, but I hope explaining simpler cases helps people work up to more complex ones."},{"owner":{"account_id":55190,"reputation":62637,"user_id":165216,"accept_rate":100,"display_name":"PaulMcG"},"score":4,"creation_date":1286435461,"post_id":3879280,"comment_id":4128946,"body_markdown":"Change it to `++i - ++i - ++i` and left-to-right order becomes very important.","body":"Change it to <code>++i - ++i - ++i</code> and left-to-right order becomes very important."},{"owner":{"account_id":5812,"reputation":41048,"user_id":9536,"accept_rate":67,"display_name":"configurator"},"score":0,"creation_date":1287357457,"post_id":3879280,"comment_id":4227109,"body_markdown":"Shouldn&#39;t the step after `((3 + 4) + (++i))` be `((3 + 4) + 5)`? Since `++` has higher precedence than `+`?","body":"Shouldn&#39;t the step after <code>((3 + 4) + (++i))</code> be <code>((3 + 4) + 5)</code>? Since <code>++</code> has higher precedence than <code>+</code>?"},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":0,"creation_date":1287377098,"post_id":3879280,"comment_id":4228331,"body_markdown":"@config, it&#39;s important to distinguish between precedence and order of evaluation.  The precedence basically determines where the simulated parentheses are put; order of evaluation is the sequence of actual computations.  Order of evaluation is in [&#167;15.7](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.7).  Because of [&#167;15.7.1](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.7.1) the left operand `(3 + 4)` must be evaluated before the right operand `(++i)` (of the outer +).","body":"@config, it&#39;s important to distinguish between precedence and order of evaluation.  The precedence basically determines where the simulated parentheses are put; order of evaluation is the sequence of actual computations.  Order of evaluation is in <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.7\" rel=\"nofollow noreferrer\">&#167;15.7</a>.  Because of <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.7.1\" rel=\"nofollow noreferrer\">&#167;15.7.1</a> the left operand <code>(3 + 4)</code> must be evaluated before the right operand <code>(++i)</code> (of the outer +)."}],"tags":[],"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1338367677,"creation_date":1286433729,"answer_id":3879280,"question_id":3879176,"body_markdown":"Java guarantees ([&#167;15.7.1][1]) that it will be evaluated left-to-right, giving 12.  Specifically, `++` has higher precedence that `+`.  So it first binds those, then it associates the addition operations left to right\r\n\r\n    i = (((++i) + (++i)) + (++i));\r\n\r\n&#167;15.7.1 says the left operand is evaluated first, and [&#167;15.7.2][2] says both operands are evaluated before the operation.  So it evaluates like:\r\n\r\n    i = (((++i) + (++i)) + (++i));\r\n    i = ((3 + (++i)) + (++i)); // i = 3;\r\n    i = ((3 + 4) + (++i)); // i = 4;\r\n    i = (7 + (++i)); // i = 4;\r\n    i = (7 + 5); // i = 5;\r\n    i = 12;\r\n\r\nIn C, it is undefined behavior to modify a variable twice without a sequence point in between.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7.1\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7.2","title":"++i + ++i + ++i in Java vs C","body":"<p>Java guarantees (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7.1\" rel=\"noreferrer\">§15.7.1</a>) that it will be evaluated left-to-right, giving 12.  Specifically, <code>++</code> has higher precedence that <code>+</code>.  So it first binds those, then it associates the addition operations left to right</p>\n\n<pre><code>i = (((++i) + (++i)) + (++i));\n</code></pre>\n\n<p>§15.7.1 says the left operand is evaluated first, and <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7.2\" rel=\"noreferrer\">§15.7.2</a> says both operands are evaluated before the operation.  So it evaluates like:</p>\n\n<pre><code>i = (((++i) + (++i)) + (++i));\ni = ((3 + (++i)) + (++i)); // i = 3;\ni = ((3 + 4) + (++i)); // i = 4;\ni = (7 + (++i)); // i = 4;\ni = (7 + 5); // i = 5;\ni = 12;\n</code></pre>\n\n<p>In C, it is undefined behavior to modify a variable twice without a sequence point in between.</p>\n"}],"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8903,"favorite_count":0,"down_vote_count":5,"up_vote_count":12,"accepted_answer_id":3879194,"answer_count":4,"score":7,"last_activity_date":1695048612,"creation_date":1286432636,"question_id":3879176,"body_markdown":"    int i=2;\r\n    i = ++i + ++i + ++i;\r\n\r\nWhich is more correct? Java&#39;s result of 12 or C = 13. Or if not a matter of correctness, please elaborate.\r\n","title":"++i + ++i + ++i in Java vs C","body":"<pre><code>int i=2;\ni = ++i + ++i + ++i;\n</code></pre>\n\n<p>Which is more correct? Java's result of 12 or C = 13. Or if not a matter of correctness, please elaborate.</p>\n"},{"tags":["java","scheduled-tasks","quartz-scheduler","quartz"],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695048496,"creation_date":1695048496,"question_id":77128197,"body_markdown":"I am trying to using quartz in my program. I need to update the schedule of the job.\r\n\r\nAfter I read the sample code by Google and read docs [2-2-1_Quartz_Scheduler_Example_Programs_and_Sample_Code.pdf](https://documentation.softwareag.com/terracotta/quartz_221/2-2-1_Quartz_Scheduler_Example_Programs_and_Sample_Code.pdf). \r\n\r\nI know that there are several steps to schedule a job with certain time:\r\n\r\n1. Create a job. The job can be identified by job name, group, jobkey.\r\n\r\n2. Create a trigger for that job with specific time. The trigger also can be identified by name, group triggerkey. A job can have multiple triggers.\r\n\r\n3. Create the schedule to the job and the trigger.\r\n\r\n\r\nWell, how to identify the schedule? If you already get the scheduler, you can [list jobs](https://www.w3schools.blog/quartz-listing-all-jobs-example).\r\n\r\n```java\r\n        \tfor (String groupName : scheduler.getJobGroupNames()) {\r\n       \t         for (JobKey jobKey : scheduler.getJobKeys(\r\n    \t    \t\t GroupMatcher.jobGroupEquals(groupName))) {    \t \r\n    \t\t  String jobName = jobKey.getName();\r\n    \t\t  String jobGroup = jobKey.getGroup();\r\n \r\n    \t\t  List triggers = (List) \r\n    \t\t\t\t  scheduler.getTriggersOfJob(jobKey);\r\n    \t\t  Date nextFireTime = triggers.get(0).getNextFireTime();\r\n    \t\t  System.out.println(&quot;Job : &quot; + jobName + &quot;, Group : &quot;\r\n    \t\t\t\t+ jobGroup + &quot;, Next execution time : &quot;\r\n    \t\t\t\t\t+ nextFireTime); \r\n   \t      } \r\n```\r\n\r\nYou also get can get triggers by `schedule.getTriggers()`.\r\n\r\nWell, Imagine that when the user requests my service for the first time. I create the job with jobkey as (&quot;jobname&quot;, &quot;jobgroup&quot;) with trigger and assign them into a schedule. If the user requests my service again trying to update the trigger time, how do I find the scheduler by (&quot;jobname&quot;, &quot;jobgroup&quot;)? How do I identity the schedule, so that I can find the scheduler when the user&#39;s next request coming in?\r\n\r\nAlthough I can reschedule my job with scheduler:\r\n\r\n```java\r\n#How-To: Update a Trigger\r\n\r\n\r\n#Replacing a Trigger\r\n\r\n\r\n// Define a new Trigger\r\nTrigger trigger = newTrigger()\r\n .withIdentity(&quot;newTrigger&quot;, &quot;group1&quot;)\r\n .startNow()\r\n .build();\r\n// tell the scheduler to remove the old trigger with the given key, and\r\n// put the new one in its place\r\nsched.rescheduleJob(triggerKey(&quot;oldTrigger&quot;, &quot;group1&quot;), trigger);\r\n\r\n\r\n#Updating an Existing Trigger\r\n// retrieve the trigger\r\nTrigger oldTrigger = sched.getTrigger(triggerKey(&quot;oldTrigger&quot;, &quot;group1&quot;);\r\n// obtain a builder that would produce the trigger\r\nTriggerBuilder tb = oldTrigger.getTriggerBuilder();\r\n// update the schedule associated with the builder, and build the new trigger\r\n// (other builder methods could be called, to change the trigger in any\r\n// desired way)\r\nTrigger newTrigger = tb.withSchedule(simpleSchedule()\r\n .withIntervalInSeconds(10)\r\n .withRepeatCount(10)\r\n .build();\r\nsched.rescheduleJob(oldTrigger.getKey(), newTrigger);\r\n```\r\n\r\nAgain, how do I find the scheduler? How do I identity the scheduler? How to update a schedule in the next request in quartz?\r\n\r\nIs it the similar article? [updating-schedules-programmatically-table-based-quartz-scheduler](https://stackoverflow.com/questions/3932934/updating-schedules-programmatically-table-based-quartz-scheduler) But it is not the solution.\r\n","title":"how to update a schedule in the next request in quartz","body":"<p>I am trying to using quartz in my program. I need to update the schedule of the job.</p>\n<p>After I read the sample code by Google and read docs <a href=\"https://documentation.softwareag.com/terracotta/quartz_221/2-2-1_Quartz_Scheduler_Example_Programs_and_Sample_Code.pdf\" rel=\"nofollow noreferrer\">2-2-1_Quartz_Scheduler_Example_Programs_and_Sample_Code.pdf</a>.</p>\n<p>I know that there are several steps to schedule a job with certain time:</p>\n<ol>\n<li><p>Create a job. The job can be identified by job name, group, jobkey.</p>\n</li>\n<li><p>Create a trigger for that job with specific time. The trigger also can be identified by name, group triggerkey. A job can have multiple triggers.</p>\n</li>\n<li><p>Create the schedule to the job and the trigger.</p>\n</li>\n</ol>\n<p>Well, how to identify the schedule? If you already get the scheduler, you can <a href=\"https://www.w3schools.blog/quartz-listing-all-jobs-example\" rel=\"nofollow noreferrer\">list jobs</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            for (String groupName : scheduler.getJobGroupNames()) {\n                 for (JobKey jobKey : scheduler.getJobKeys(\n                     GroupMatcher.jobGroupEquals(groupName))) {      \n              String jobName = jobKey.getName();\n              String jobGroup = jobKey.getGroup();\n \n              List triggers = (List) \n                      scheduler.getTriggersOfJob(jobKey);\n              Date nextFireTime = triggers.get(0).getNextFireTime();\n              System.out.println(&quot;Job : &quot; + jobName + &quot;, Group : &quot;\n                    + jobGroup + &quot;, Next execution time : &quot;\n                        + nextFireTime); \n          } \n</code></pre>\n<p>You also get can get triggers by <code>schedule.getTriggers()</code>.</p>\n<p>Well, Imagine that when the user requests my service for the first time. I create the job with jobkey as (&quot;jobname&quot;, &quot;jobgroup&quot;) with trigger and assign them into a schedule. If the user requests my service again trying to update the trigger time, how do I find the scheduler by (&quot;jobname&quot;, &quot;jobgroup&quot;)? How do I identity the schedule, so that I can find the scheduler when the user's next request coming in?</p>\n<p>Although I can reschedule my job with scheduler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>#How-To: Update a Trigger\n\n\n#Replacing a Trigger\n\n\n// Define a new Trigger\nTrigger trigger = newTrigger()\n .withIdentity(&quot;newTrigger&quot;, &quot;group1&quot;)\n .startNow()\n .build();\n// tell the scheduler to remove the old trigger with the given key, and\n// put the new one in its place\nsched.rescheduleJob(triggerKey(&quot;oldTrigger&quot;, &quot;group1&quot;), trigger);\n\n\n#Updating an Existing Trigger\n// retrieve the trigger\nTrigger oldTrigger = sched.getTrigger(triggerKey(&quot;oldTrigger&quot;, &quot;group1&quot;);\n// obtain a builder that would produce the trigger\nTriggerBuilder tb = oldTrigger.getTriggerBuilder();\n// update the schedule associated with the builder, and build the new trigger\n// (other builder methods could be called, to change the trigger in any\n// desired way)\nTrigger newTrigger = tb.withSchedule(simpleSchedule()\n .withIntervalInSeconds(10)\n .withRepeatCount(10)\n .build();\nsched.rescheduleJob(oldTrigger.getKey(), newTrigger);\n</code></pre>\n<p>Again, how do I find the scheduler? How do I identity the scheduler? How to update a schedule in the next request in quartz?</p>\n<p>Is it the similar article? <a href=\"https://stackoverflow.com/questions/3932934/updating-schedules-programmatically-table-based-quartz-scheduler\">updating-schedules-programmatically-table-based-quartz-scheduler</a> But it is not the solution.</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695048272,"creation_date":1695048272,"answer_id":77128176,"question_id":77127911,"body_markdown":"The `aria-label` from the password field is a calculated value coming from a `i18n` property (a map, that as of now (v24) contains a `reveal` key).  It seems, that this property is not accessible via some more elegant API (also as of now (v24)), but you can set properties like this quite easily via the `Element`-API.\r\n\r\nE.g.\r\n\r\n```groovy\r\nnew PasswordField().tap {\r\n    getElement().setPropertyMap(\r\n\t    &#39;i18n&#39;,\r\n\t    [reveal: &quot;Another Aria Label&quot;]\r\n    )\r\n}\r\n\r\n```\r\n","title":"Vaadin Flow: set Password Reveal Button Attributes","body":"<p>The <code>aria-label</code> from the password field is a calculated value coming from a <code>i18n</code> property (a map, that as of now (v24) contains a <code>reveal</code> key).  It seems, that this property is not accessible via some more elegant API (also as of now (v24)), but you can set properties like this quite easily via the <code>Element</code>-API.</p>\n<p>E.g.</p>\n<pre><code>new PasswordField().tap {\n    getElement().setPropertyMap(\n        'i18n',\n        [reveal: &quot;Another Aria Label&quot;]\n    )\n}\n\n</code></pre>\n"}],"owner":{"account_id":26078076,"reputation":13,"user_id":19776741,"display_name":"Toden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77128176,"answer_count":1,"score":1,"last_activity_date":1695048272,"creation_date":1695045799,"question_id":77127911,"body_markdown":"I am trying to replace the Aria Label of the Password Field reveal button with a different text.\r\n\r\n[As you can see in developer tools the button is inside the Password Field](https://i.stack.imgur.com/MyS1G.png)\r\n\r\n\r\nMy approach would have been to execute JavaScript:\r\n`txtPassword.getElement().executeJs(&quot;document.getElementsByTagName(&#39;vaadin-password-field-button&#39;)&quot;\r\n .setAttribute(&#39;attribute&#39;, &#39;value&#39;)&quot;);\r\n`\r\n\r\nAny help on this approach or maybe different ideas welcome.","title":"Vaadin Flow: set Password Reveal Button Attributes","body":"<p>I am trying to replace the Aria Label of the Password Field reveal button with a different text.</p>\n<p><a href=\"https://i.stack.imgur.com/MyS1G.png\" rel=\"nofollow noreferrer\">As you can see in developer tools the button is inside the Password Field</a></p>\n<p>My approach would have been to execute JavaScript:\n<code>txtPassword.getElement().executeJs(&quot;document.getElementsByTagName('vaadin-password-field-button')&quot; .setAttribute('attribute', 'value')&quot;); </code></p>\n<p>Any help on this approach or maybe different ideas welcome.</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1695048167,"post_id":77128147,"comment_id":135968485,"body_markdown":"*NoSuchMethodError* indicated incompatible jars in your classpath","body":"<i>NoSuchMethodError</i> indicated incompatible jars in your classpath"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1695048244,"post_id":77128147,"comment_id":135968505,"body_markdown":"Are you importing the jars manually?","body":"Are you importing the jars manually?"},{"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"score":0,"creation_date":1695048272,"post_id":77128147,"comment_id":135968515,"body_markdown":"try these steps: Clean and Rebuild the Project, Update the Libraries, Dependency Management, Clear Dependency Cache, Check Classpath, Update the MongoDB Driver.\nOnce you have performed these steps, you should be able to resolve the &quot;java.lang.NoSuchMethodError&quot; error. I hope this works, it went smoothly for me like this","body":"try these steps: Clean and Rebuild the Project, Update the Libraries, Dependency Management, Clear Dependency Cache, Check Classpath, Update the MongoDB Driver. Once you have performed these steps, you should be able to resolve the &quot;java.lang.NoSuchMethodError&quot; error. I hope this works, it went smoothly for me like this"},{"owner":{"account_id":28749741,"reputation":11,"user_id":22018092,"display_name":"Die Leertaste"},"score":0,"creation_date":1695054978,"post_id":77128147,"comment_id":135969887,"body_markdown":"Now i have an other error: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;com.mongodb.internal.connection.Cluster com.mongodb.internal.connection.DefaultClusterFactory.createCluster(com.mongodb.connection.ClusterSettings, com.mongodb.connection.ServerSettings, com.mongodb.connection.ConnectionPoolSettings, com.mongodb.connection.StreamFactory, com.mongodb.connection.StreamFactory, com.mongodb.MongoCredential, com.mongodb.event.CommandListener, java.lang.String, com.mongodb.MongoDriverInformation, java.util.List, com.mongodb.ServerApi)&#39;","body":"Now i have an other error: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;com.mongodb.internal.connection.Cluster com.mongodb.internal.connection.DefaultClusterFactory.create&zwnj;&#8203;Cluster(com.mongodb.&zwnj;&#8203;connection.ClusterSe&zwnj;&#8203;ttings, com.mongodb.connection.ServerSettings, com.mongodb.connection.ConnectionPoolSettings, com.mongodb.connection.StreamFactory, com.mongodb.connection.StreamFactory, com.mongodb.MongoCredential, com.mongodb.event.CommandListener, java.lang.String, com.mongodb.MongoDriverInformation, java.util.List, com.mongodb.ServerApi)&#39;"},{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1695074076,"post_id":77128147,"comment_id":135972990,"body_markdown":"It looks like you are connecting to MongoDB Atlas.  Atlas uses Service DNS records (SRV).  You must have access to the public DNS service to gain access and decompose the service records into traditional A records.  Also, since this is Atlas, you need to make sure your public IP address is added to the MongoDB Atlas access list on the left hand pane of Atlas.","body":"It looks like you are connecting to MongoDB Atlas.  Atlas uses Service DNS records (SRV).  You must have access to the public DNS service to gain access and decompose the service records into traditional A records.  Also, since this is Atlas, you need to make sure your public IP address is added to the MongoDB Atlas access list on the left hand pane of Atlas."},{"owner":{"account_id":28749741,"reputation":11,"user_id":22018092,"display_name":"Die Leertaste"},"score":0,"creation_date":1695142921,"post_id":77128147,"comment_id":135983440,"body_markdown":"All things you mentioned is true for me i even have the problem on two separate setups and of course my IP address is added","body":"All things you mentioned is true for me i even have the problem on two separate setups and of course my IP address is added"},{"owner":{"account_id":28749741,"reputation":11,"user_id":22018092,"display_name":"Die Leertaste"},"score":0,"creation_date":1695143187,"post_id":77128147,"comment_id":135983482,"body_markdown":"And for @DiegoBorba i use gradle and this is the way the jar is implemented (exactly like the MongoDB Docs show it): implementation &#39;org.mongodb:mongodb-driver-sync:4.10.2&#39;","body":"And for @DiegoBorba i use gradle and this is the way the jar is implemented (exactly like the MongoDB Docs show it): implementation &#39;org.mongodb:mongodb-driver-sync:4.10.2&#39;"}],"owner":{"account_id":28749741,"reputation":11,"user_id":22018092,"display_name":"Die Leertaste"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695047953,"creation_date":1695047953,"question_id":77128147,"body_markdown":"Basically i have this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;com.mongodb.spi.dns.DnsClient com.mongodb.MongoClientSettings.getDnsClient()&#39;\r\n\r\nThis is my code:\r\n\r\n    public MongoDatabase connect() {\r\n        try {\r\n            String connectionString = &quot;mongodb+srv://dev:&lt;censored&gt;@cluster0.ji1ynnc.mongodb.net/?retryWrites=true&amp;w=majority&amp;appName=AtlasApp&quot;;\r\n\r\n            MongoClient mongoClient = MongoClients.create(connectionString);\r\n\r\n            return mongoClient.getDatabase(&quot;dashboard&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n            return null;\r\n        }\r\n    }\r\n\r\nI searched for other people facing the same problem but no one seems to ever saw this error\r\nThe only answer that i found was this:\r\n\r\n    public MongoDatabase connect() {\r\n        try {\r\n            String connectionString = &quot;mongodb+srv://dev:&lt;censored&gt;@cluster0.ji1ynnc.mongodb.net/?retryWrites=true&amp;w=majority&amp;appName=AtlasApp&quot;;\r\n\r\n            ServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\r\n\r\n            MongoClientSettings settings = MongoClientSettings.builder()\r\n                    .applyConnectionString(new ConnectionString(connectionString))\r\n                    .serverApi(serverApi)\r\n                    .build();\r\n\r\n            MongoClient mongoClient = MongoClients.create(settings);\r\n            return mongoClient.getDatabase(&quot;dashboard&quot;);\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n            return null;\r\n        }\r\n    }\r\n\r\nBut this doesn&#180;t work either, it just produces the same error","title":"MongoDB can&#180;t connect","body":"<p>Basically i have this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'com.mongodb.spi.dns.DnsClient com.mongodb.MongoClientSettings.getDnsClient()'\n</code></pre>\n<p>This is my code:</p>\n<pre><code>public MongoDatabase connect() {\n    try {\n        String connectionString = &quot;mongodb+srv://dev:&lt;censored&gt;@cluster0.ji1ynnc.mongodb.net/?retryWrites=true&amp;w=majority&amp;appName=AtlasApp&quot;;\n\n        MongoClient mongoClient = MongoClients.create(connectionString);\n\n        return mongoClient.getDatabase(&quot;dashboard&quot;);\n    } catch (Exception e) {\n        System.out.println(e);\n        return null;\n    }\n}\n</code></pre>\n<p>I searched for other people facing the same problem but no one seems to ever saw this error\nThe only answer that i found was this:</p>\n<pre><code>public MongoDatabase connect() {\n    try {\n        String connectionString = &quot;mongodb+srv://dev:&lt;censored&gt;@cluster0.ji1ynnc.mongodb.net/?retryWrites=true&amp;w=majority&amp;appName=AtlasApp&quot;;\n\n        ServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\n\n        MongoClientSettings settings = MongoClientSettings.builder()\n                .applyConnectionString(new ConnectionString(connectionString))\n                .serverApi(serverApi)\n                .build();\n\n        MongoClient mongoClient = MongoClients.create(settings);\n        return mongoClient.getDatabase(&quot;dashboard&quot;);\n\n    } catch (Exception e) {\n        System.out.println(e);\n        return null;\n    }\n}\n</code></pre>\n<p>But this doesn´t work either, it just produces the same error</p>\n"},{"tags":["java","spring-boot","testing","h2"],"comments":[{"owner":{"account_id":7797037,"reputation":97,"user_id":5897761,"display_name":"Miro"},"score":0,"creation_date":1695044444,"post_id":77127637,"comment_id":135967622,"body_markdown":"Is there a reason why you actually need those fields to be static in the first place?","body":"Is there a reason why you actually need those fields to be static in the first place?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695044666,"post_id":77127637,"comment_id":135967682,"body_markdown":"@Miro `@BeforeAll` has to be `static` so the field has to be `static` too","body":"@Miro <code>@BeforeAll</code> has to be <code>static</code> so the field has to be <code>static</code> too"},{"owner":{"account_id":7797037,"reputation":97,"user_id":5897761,"display_name":"Miro"},"score":1,"creation_date":1695044905,"post_id":77127637,"comment_id":135967740,"body_markdown":"Would it then make sense to add the data into the db in `@BeforeEach` and clear it after each test in `@AfterEach`? \n\nThat way you can also ensure that different tests won&#39;t cause the others to fail if the tests adds or removes any data.","body":"Would it then make sense to add the data into the db in <code>@BeforeEach</code> and clear it after each test in <code>@AfterEach</code>?   That way you can also ensure that different tests won&#39;t cause the others to fail if the tests adds or removes any data."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695045431,"post_id":77127637,"comment_id":135967850,"body_markdown":"@Miro it could make sense (though hardly in this particular case). But why doesn&#39;t my code work?","body":"@Miro it could make sense (though hardly in this particular case). But why doesn&#39;t my code work?"},{"owner":{"account_id":7797037,"reputation":97,"user_id":5897761,"display_name":"Miro"},"score":1,"creation_date":1695045614,"post_id":77127637,"comment_id":135967891,"body_markdown":"It is most likely because the `@Autowired` in the setter is executed after your class instance is created. But the `@BeforeAll` is called in the &quot;static context&quot; before the instance of your test class is created.","body":"It is most likely because the <code>@Autowired</code> in the setter is executed after your class instance is created. But the <code>@BeforeAll</code> is called in the &quot;static context&quot; before the instance of your test class is created."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695046631,"post_id":77127637,"comment_id":135968122,"body_markdown":"@Miro you&#39;re right. You could write it as an answer. Don&#39;t forget to include an alternative solution","body":"@Miro you&#39;re right. You could write it as an answer. Don&#39;t forget to include an alternative solution"}],"answers":[{"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":1,"creation_date":1695058737,"post_id":77128132,"comment_id":135970604,"body_markdown":"Thank you! On the other hand, `PER_METHOD` was chosen as the default for good reasons. And, in this particular case, performing the same inserts before each method seems redundant","body":"Thank you! On the other hand, <code>PER_METHOD</code> was chosen as the default for good reasons. And, in this particular case, performing the same inserts before each method seems redundant"},{"owner":{"account_id":5917006,"reputation":356,"user_id":4655495,"accept_rate":100,"display_name":"Aleksandra Liutikova"},"score":0,"creation_date":1695129621,"post_id":77128132,"comment_id":135980522,"body_markdown":"Well, the possibility to set it PER_CLASS is there for a reason as well :) Have you found another workaround for your problem already?","body":"Well, the possibility to set it PER_CLASS is there for a reason as well :) Have you found another workaround for your problem already?"}],"tags":[],"owner":{"account_id":5917006,"reputation":356,"user_id":4655495,"accept_rate":100,"display_name":"Aleksandra Liutikova"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695047756,"creation_date":1695047756,"answer_id":77128132,"question_id":77127637,"body_markdown":"You have several options to make your code work. First one is to use `@BeforeEach` method, that does not require static signature and ensures that the needed rule is executed before each test case. \r\n\r\n    @Autowired\r\n    private RoleDao roleDao;\r\n    \r\n    @BeforeEach\r\n    void addSampleRows() {\r\n        roleDao.saveAll(List.of(USER, ADMIN));\r\n    }\r\n\r\nAlternatively, you can add `@TestInstance` annotation. The `@TestInstance` annotation in JUnit 5 is used to determine the lifecycle of test instances for the annotated test class. By default it is `PER_METHOD`. If you change it to `PER_CLASS` `@BeforeAll` won&#39;t need to be static anymore:\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    class RoleDaoTest {\r\n\r\n\r\nA single instance of the test class will be created for all test methods. This way, you can use dependency injection in those methods without any issues.\r\n\r\nYour class will look like this:\r\n\r\n    @SpringBootTest\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    class RoleDaoTest {\r\n    \r\n        @Autowired\r\n        private RoleDao roleDao;\r\n    \r\n        static final Role USER = new Role(&quot;USER&quot;);\r\n        static final Role ADMIN = new Role(&quot;ADMIN&quot;);\r\n    \r\n        @BeforeAll\r\n        void init() {\r\n            roleDao.saveAll(List.of(USER, ADMIN));\r\n        }\r\n    \r\n        @Test\r\n        void findByAuthority() {\r\n            assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\r\n        }\r\n    \r\n        @Test\r\n        void findByAuthorityOrAuthority() {\r\n            assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).containsExactlyInAnyOrder(USER, ADMIN);\r\n        }\r\n    }\r\n\r\nBy using the `PER_CLASS` lifecycle `roleDao` is properly injected.\r\nThe `init()` method (which is now an instance method and not static, runs once before all test methods.\r\nYou can use dependency injection in `@BeforeAll` without any complications.\r\nHowever, remember that the `PER_CLASS` lifecycle means all test methods share the same instance of the test class. This could potentially introduce side effects between test methods, so always make sure to reset any shared state in your `@BeforeEach` or `@AfterEach` methods if necessary.\r\n","title":"Can&#39;t inject into a static field in a test class","body":"<p>You have several options to make your code work. First one is to use <code>@BeforeEach</code> method, that does not require static signature and ensures that the needed rule is executed before each test case.</p>\n<pre><code>@Autowired\nprivate RoleDao roleDao;\n\n@BeforeEach\nvoid addSampleRows() {\n    roleDao.saveAll(List.of(USER, ADMIN));\n}\n</code></pre>\n<p>Alternatively, you can add <code>@TestInstance</code> annotation. The <code>@TestInstance</code> annotation in JUnit 5 is used to determine the lifecycle of test instances for the annotated test class. By default it is <code>PER_METHOD</code>. If you change it to <code>PER_CLASS</code> <code>@BeforeAll</code> won't need to be static anymore:</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass RoleDaoTest {\n</code></pre>\n<p>A single instance of the test class will be created for all test methods. This way, you can use dependency injection in those methods without any issues.</p>\n<p>Your class will look like this:</p>\n<pre><code>@SpringBootTest\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass RoleDaoTest {\n\n    @Autowired\n    private RoleDao roleDao;\n\n    static final Role USER = new Role(&quot;USER&quot;);\n    static final Role ADMIN = new Role(&quot;ADMIN&quot;);\n\n    @BeforeAll\n    void init() {\n        roleDao.saveAll(List.of(USER, ADMIN));\n    }\n\n    @Test\n    void findByAuthority() {\n        assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\n    }\n\n    @Test\n    void findByAuthorityOrAuthority() {\n        assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).containsExactlyInAnyOrder(USER, ADMIN);\n    }\n}\n</code></pre>\n<p>By using the <code>PER_CLASS</code> lifecycle <code>roleDao</code> is properly injected.\nThe <code>init()</code> method (which is now an instance method and not static, runs once before all test methods.\nYou can use dependency injection in <code>@BeforeAll</code> without any complications.\nHowever, remember that the <code>PER_CLASS</code> lifecycle means all test methods share the same instance of the test class. This could potentially introduce side effects between test methods, so always make sure to reset any shared state in your <code>@BeforeEach</code> or <code>@AfterEach</code> methods if necessary.</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77128132,"answer_count":1,"score":0,"last_activity_date":1695047756,"creation_date":1695043607,"question_id":77127637,"body_markdown":"I tried to test this. Notice it&#39;s an interface so I was going to test the class Spring writes for me (as an exercise, I&#39;m learning testing)\r\n```java\r\npackage pp.spring_bootstrap.dao;\r\n\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport pp.spring_bootstrap.models.Role;\r\n\r\nimport java.util.List;\r\n\r\npublic interface RoleDao extends JpaRepository&lt;Role, Long&gt; {\r\n    Role findByAuthority(String authority);\r\n\r\n    List&lt;Role&gt; findByAuthorityOrAuthority(String auth1, String auth2);\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\npublic class Role implements GrantedAuthority {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    @Column(name = &quot;role&quot;, nullable = false, unique = true)\r\n    private String authority;\r\n    @ManyToMany(mappedBy = &quot;authorities&quot;)\r\n    @EqualsAndHashCode.Exclude\r\n    private Set&lt;User&gt; userList;\r\n\r\n    public Role() {\r\n    }\r\n\r\n    public Role(String authority) {\r\n        this.authority = authority;\r\n    }\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return authority;\r\n    }\r\n\r\n    // toString()\r\n}\r\n```\r\nHere&#39;s my test class:\r\n```java\r\npackage pp.spring_bootstrap.dao;\r\n\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport pp.spring_bootstrap.models.Role;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n\r\n@SpringBootTest\r\nclass RoleDaoTest {\r\n    static RoleDao roleDao;\r\n    static final Role USER = new Role(&quot;USER&quot;);\r\n    static final Role ADMIN = new Role(&quot;ADMIN&quot;);\r\n    @Autowired\r\n    /*could be public, doesn&#39;t matter */ void setRoleDao(RoleDao roleDao) {\r\n        RoleDaoTest.roleDao = roleDao;\r\n    }\r\n    @BeforeAll\r\n    static void addSampleRows() {\r\n        roleDao.saveAll(List.of(USER, ADMIN));\r\n    }\r\n    @Test\r\n    void findByAuthority() {\r\n        assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\r\n    }\r\n\r\n    @Test\r\n    void findByAuthorityOrAuthority() {\r\n        assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).asList().contains(USER, ADMIN);\r\n    }\r\n}\r\n```\r\nThe `properties` file for tests (inside the test resource root):\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\n```\r\nI get NPE, because nothing gets injected. Why?\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;pp.spring_bootstrap.dao.RoleDao.saveAll(java.lang.Iterable)&quot; because &quot;pp.spring_bootstrap.dao.RoleDaoTest.roleDao&quot; is null\r\n```\r\nCan&#39;t I inject into `static` fields with setters? I thought it&#39;s the trick you use to inject into statics","title":"Can&#39;t inject into a static field in a test class","body":"<p>I tried to test this. Notice it's an interface so I was going to test the class Spring writes for me (as an exercise, I'm learning testing)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.dao;\n\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport pp.spring_bootstrap.models.Role;\n\nimport java.util.List;\n\npublic interface RoleDao extends JpaRepository&lt;Role, Long&gt; {\n    Role findByAuthority(String authority);\n\n    List&lt;Role&gt; findByAuthorityOrAuthority(String auth1, String auth2);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;roles&quot;)\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class Role implements GrantedAuthority {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    @Column(name = &quot;role&quot;, nullable = false, unique = true)\n    private String authority;\n    @ManyToMany(mappedBy = &quot;authorities&quot;)\n    @EqualsAndHashCode.Exclude\n    private Set&lt;User&gt; userList;\n\n    public Role() {\n    }\n\n    public Role(String authority) {\n        this.authority = authority;\n    }\n\n    @Override\n    public String getAuthority() {\n        return authority;\n    }\n\n    // toString()\n}\n</code></pre>\n<p>Here's my test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.dao;\n\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport pp.spring_bootstrap.models.Role;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\n@SpringBootTest\nclass RoleDaoTest {\n    static RoleDao roleDao;\n    static final Role USER = new Role(&quot;USER&quot;);\n    static final Role ADMIN = new Role(&quot;ADMIN&quot;);\n    @Autowired\n    /*could be public, doesn't matter */ void setRoleDao(RoleDao roleDao) {\n        RoleDaoTest.roleDao = roleDao;\n    }\n    @BeforeAll\n    static void addSampleRows() {\n        roleDao.saveAll(List.of(USER, ADMIN));\n    }\n    @Test\n    void findByAuthority() {\n        assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\n    }\n\n    @Test\n    void findByAuthorityOrAuthority() {\n        assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).asList().contains(USER, ADMIN);\n    }\n}\n</code></pre>\n<p>The <code>properties</code> file for tests (inside the test resource root):</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n</code></pre>\n<p>I get NPE, because nothing gets injected. Why?</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;pp.spring_bootstrap.dao.RoleDao.saveAll(java.lang.Iterable)&quot; because &quot;pp.spring_bootstrap.dao.RoleDaoTest.roleDao&quot; is null\n</code></pre>\n<p>Can't I inject into <code>static</code> fields with setters? I thought it's the trick you use to inject into statics</p>\n"},{"tags":["java","spring-boot","intellij-idea","proxy"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695046383,"post_id":77127964,"comment_id":135968060,"body_markdown":"How are you running the app?","body":"How are you running the app?"},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1695046487,"post_id":77127964,"comment_id":135968084,"body_markdown":"@g00se, I click the green &quot;play&quot; button on IntelliJ, and sometimes the green bug button. It is a Spring Boot application.","body":"@g00se, I click the green &quot;play&quot; button on IntelliJ, and sometimes the green bug button. It is a Spring Boot application."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695046791,"creation_date":1695046791,"answer_id":77128023,"question_id":77127964,"body_markdown":"Click your run target, then &quot;Edit configurations&quot;. Under &quot;Modify options&quot; (blue text) click &quot;Add VM options&quot;, then add the parameter to the new field that appears.\r\n\r\nNo, I don&#39;t know why they hid it away like that either. It used to be always available, much easier.","title":"Where people put &quot;-Dhttp.proxyHost=your.proxy.net -Dhttp.proxyPort=8080&quot; on IntelliJ?","body":"<p>Click your run target, then &quot;Edit configurations&quot;. Under &quot;Modify options&quot; (blue text) click &quot;Add VM options&quot;, then add the parameter to the new field that appears.</p>\n<p>No, I don't know why they hid it away like that either. It used to be always available, much easier.</p>\n"}],"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77128023,"answer_count":1,"score":1,"last_activity_date":1695046791,"creation_date":1695046240,"question_id":77127964,"body_markdown":"My Spring Boot application uses RestTemplate to make HTTP requests. But because it works on a corporate network it doesn&#39;t have direct access to the internet. It needs to use proxy. I have set a proxy into my IntelliJ but I guess RestTemplate doesn&#39;t use IntelliJ&#39;s proxy settings. I think I can use [this][1] method but I have no idea where to put it. My question is where should I set `-Dhttp.proxyHost=your.proxy.net -Dhttp.proxyPort=8080`?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35317269/233286","title":"Where people put &quot;-Dhttp.proxyHost=your.proxy.net -Dhttp.proxyPort=8080&quot; on IntelliJ?","body":"<p>My Spring Boot application uses RestTemplate to make HTTP requests. But because it works on a corporate network it doesn't have direct access to the internet. It needs to use proxy. I have set a proxy into my IntelliJ but I guess RestTemplate doesn't use IntelliJ's proxy settings. I think I can use <a href=\"https://stackoverflow.com/a/35317269/233286\">this</a> method but I have no idea where to put it. My question is where should I set <code>-Dhttp.proxyHost=your.proxy.net -Dhttp.proxyPort=8080</code>?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695049782,"post_id":77127950,"comment_id":135968863,"body_markdown":"Perhaps try using the interface [JdbcOperations](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html) instead of JdbcTemplate?","body":"Perhaps try using the interface <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html\" rel=\"nofollow noreferrer\">JdbcOperations</a> instead of JdbcTemplate?"},{"owner":{"account_id":1139275,"reputation":1521,"user_id":1123626,"accept_rate":63,"display_name":"jacekn"},"score":0,"creation_date":1695064095,"post_id":77127950,"comment_id":135971521,"body_markdown":"I am hoping to find out what the issue is. Some other classes don&#39;t get mocked, either. I would also like to keep my change-set small, so that my pull request is about upgrading Mockito and not about reworking the test suite.","body":"I am hoping to find out what the issue is. Some other classes don&#39;t get mocked, either. I would also like to keep my change-set small, so that my pull request is about upgrading Mockito and not about reworking the test suite."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":1,"creation_date":1695115919,"post_id":77127950,"comment_id":135977873,"body_markdown":"&quot;I have two Spring Framework jars in the classpath: 4.3 and 5.3&quot; I&#39;m assuming this means you have two versions of JdbcTemplate on the classpath? This may well cause an issue with mockito / bytebuddy classloading","body":"&quot;I have two Spring Framework jars in the classpath: 4.3 and 5.3&quot; I&#39;m assuming this means you have two versions of JdbcTemplate on the classpath? This may well cause an issue with mockito / bytebuddy classloading"}],"owner":{"account_id":1139275,"reputation":1521,"user_id":1123626,"accept_rate":63,"display_name":"jacekn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695046169,"creation_date":1695046169,"question_id":77127950,"body_markdown":"I&#39;m working on a project which transitively brings a very old version of Mockito. I&#39;ve updated POM to Mockito Core 5.5 and it&#39;s now the only Mockito version in my local repo. However, I&#39;m getting inconsistent results in a legacy test, which worked with previous configuration. I&#39;ve reduced my problem to the bare minimum to focus on the issue. \r\n\r\n - TestNG 6.14 \r\n - Mockito 5.5.0 \r\n - ResponseEntity and JdbcTemplate are Spring classes. I have two Spring Framework jars in the \r\nclasspath: 4.3 and 5.3. I&#39;m assuming this is not material to the issue.\r\n - JDK 17. Project at version 11. \r\n\r\n\r\n        @Test  //TestNG annotation\r\n        public class MyClassTest {\r\n            // Appears to be mocked just fine\r\n            private ResponseEntity&lt;MyClass&gt; responseEntityMock = mock(ResponseEntity.class);\r\n\r\n            // Does not get mocked\r\n            private JdbcTemplate jdbcTemplateMock = mock(JdbcTemplate.class)\r\n\r\n            @Test  //TestNG annotation\r\n            public void test() {\r\n                ...\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nresponseEntityMock shows as &quot;Mock for ...., hashcode: 12345&quot; in my IDE. jdbcTemplateMock is an instance but not a Mock. \r\n\r\nDebugging takes me to the `InlineDelegateByteBuddyMockMaker` class. Immediately following this instruction `this.mocks.put(instance, mockMetodInterceptor)`, instance for responseEntityMock becomes a Mock but instance for jdbcTemplateMock remains as is. I see no errors, anywhere. \r\n\r\n\r\n","title":"How to mock a JdbcTemplate with Mockito static factory method?","body":"<p>I'm working on a project which transitively brings a very old version of Mockito. I've updated POM to Mockito Core 5.5 and it's now the only Mockito version in my local repo. However, I'm getting inconsistent results in a legacy test, which worked with previous configuration. I've reduced my problem to the bare minimum to focus on the issue.</p>\n<ul>\n<li><p>TestNG 6.14</p>\n</li>\n<li><p>Mockito 5.5.0</p>\n</li>\n<li><p>ResponseEntity and JdbcTemplate are Spring classes. I have two Spring Framework jars in the\nclasspath: 4.3 and 5.3. I'm assuming this is not material to the issue.</p>\n</li>\n<li><p>JDK 17. Project at version 11.</p>\n<pre><code> @Test  //TestNG annotation\n public class MyClassTest {\n     // Appears to be mocked just fine\n     private ResponseEntity&lt;MyClass&gt; responseEntityMock = mock(ResponseEntity.class);\n\n     // Does not get mocked\n     private JdbcTemplate jdbcTemplateMock = mock(JdbcTemplate.class)\n\n     @Test  //TestNG annotation\n     public void test() {\n         ...\n     }\n\n }\n</code></pre>\n</li>\n</ul>\n<p>responseEntityMock shows as &quot;Mock for ...., hashcode: 12345&quot; in my IDE. jdbcTemplateMock is an instance but not a Mock.</p>\n<p>Debugging takes me to the <code>InlineDelegateByteBuddyMockMaker</code> class. Immediately following this instruction <code>this.mocks.put(instance, mockMetodInterceptor)</code>, instance for responseEntityMock becomes a Mock but instance for jdbcTemplateMock remains as is. I see no errors, anywhere.</p>\n"},{"tags":["java","xml","sax","saxparser","xerces"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1695033205,"post_id":77126420,"comment_id":135965303,"body_markdown":"Java&#39;s `char`s are 16 bits long. Characters with Unicode code higher than 65535 must be represented by two Java `char`s.","body":"Java&#39;s <code>char</code>s are 16 bits long. Characters with Unicode code higher than 65535 must be represented by two Java <code>char</code>s."},{"owner":{"account_id":12712329,"reputation":118,"user_id":15347137,"display_name":"Rishabhg"},"score":0,"creation_date":1695033362,"post_id":77126420,"comment_id":135965335,"body_markdown":"Is there a way to get the mathematical symbol in the output in java? @MauricePerry","body":"Is there a way to get the mathematical symbol in the output in java? @MauricePerry"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1695033435,"post_id":77126420,"comment_id":135965349,"body_markdown":"Have a look at that: https://stackoverflow.com/a/36394647/7036419","body":"Have a look at that: <a href=\"https://stackoverflow.com/a/36394647/7036419\">stackoverflow.com/a/36394647/7036419</a>"},{"owner":{"account_id":8112,"reputation":64602,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1695035599,"post_id":77126420,"comment_id":135965743,"body_markdown":"Can you post a little more of your code to demonstrate how the content is read and written?","body":"Can you post a little more of your code to demonstrate how the content is read and written?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695043412,"post_id":77126420,"comment_id":135967379,"body_markdown":"What is in `configProps`?  What is `wrappedEntityResolver`?","body":"What is in <code>configProps</code>?  What is <code>wrappedEntityResolver</code>?"}],"answers":[{"comments":[{"owner":{"account_id":12712329,"reputation":118,"user_id":15347137,"display_name":"Rishabhg"},"score":0,"creation_date":1695047071,"post_id":77127895,"comment_id":135968222,"body_markdown":"Thanks a lot @Michael, it worked with saxon. Is there a way to pass some properties to the serializer I am using above. I wonder why it resolves it like that","body":"Thanks a lot @Michael, it worked with saxon. Is there a way to pass some properties to the serializer I am using above. I wonder why it resolves it like that"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1695118936,"post_id":77127895,"comment_id":135978528,"body_markdown":"`configProps` contains the relevant properties and it would be useful to know what values you are setting, but this doesn&#39;t explain the bug.","body":"<code>configProps</code> contains the relevant properties and it would be useful to know what values you are setting, but this doesn&#39;t explain the bug."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695045677,"creation_date":1695045677,"answer_id":77127895,"question_id":77126420,"body_markdown":"That output is most definitely wrong, but it&#39;s hard to tell why.\r\n\r\nWhat are the properties passed to the serializer?\r\n\r\nIf you serialize with Saxon, then with default encoding (UTF-8) the output is \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;root&gt;\r\n       &lt;data&gt;&#120005;&lt;/data&gt;\r\n    &lt;/root&gt;\r\n\r\nwhile with encoding=us-ascii the output is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;root&gt;\r\n        &lt;data&gt;&amp;#x1d4c5;&lt;/data&gt;\r\n    &lt;/root&gt;\r\n\r\n","title":"Xml Reader parsing character outside BMP to surrogate pairs which results in invalid xml","body":"<p>That output is most definitely wrong, but it's hard to tell why.</p>\n<p>What are the properties passed to the serializer?</p>\n<p>If you serialize with Saxon, then with default encoding (UTF-8) the output is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;root&gt;\n   &lt;data&gt;𝓅&lt;/data&gt;\n&lt;/root&gt;\n</code></pre>\n<p>while with encoding=us-ascii the output is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;root&gt;\n    &lt;data&gt;&amp;#x1d4c5;&lt;/data&gt;\n&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":12712329,"reputation":118,"user_id":15347137,"display_name":"Rishabhg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77127895,"answer_count":1,"score":2,"last_activity_date":1695046102,"creation_date":1695032849,"question_id":77126420,"body_markdown":"I am trying to parse an xml which contains hex value of ```&amp;#x1d4c5;```. This represents the mathematical symbol &amp;#x1d4c5;. The output that I am getting is ```&amp;#55349;&amp;#56517;```. \r\n\r\nWhat am I doing wrong? \r\n\r\nexample input xml : \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;root&gt;\r\n    &lt;data&gt;&amp;#x1d4c5;&lt;/data&gt;\r\n&lt;/root&gt;\r\n\r\n```\r\n\r\noutput : \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;root&gt;\r\n    &lt;data&gt;&amp;#55349;&amp;#56517;&lt;/data&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nCode to obtain XML reader : \r\n\r\n```\r\nfactory = org.apache.xerces.jaxp.SAXParserFactoryImpl.newInstance();\r\nfinal XMLReader xmlReader;\r\n        xmlReader = factory.newSAXParser().getXMLReader();\r\n```\r\nI am using UTF-8 encoding to decode while parsing. \r\n\r\nThe code I am using to read and write xml is this method : \r\n\r\n```\r\npublic void readAndWriteXml(InputSource inputSource, OutputStream out) throws IOException, SAXException, ParserConfigurationException {\r\n\r\n            XMLReader xmlReader = getXmlReader();\r\n            Serializer serializer = SerializerFactory.getSerializer(configProps);\r\n            serializer.setOutputStream(out);\r\n            xmlReader.setContentHandler(serializer.asContentHandler());\r\n\r\n            if(logger != null){\r\n                getLogger().debug(&quot;starting xml parsing&quot; + LocalTime.now());\r\n            }\r\n            xmlReader.parse(inputSource);\r\n            if(logger != null){\r\n                getLogger().debug(&quot;end xml parsing&quot; + LocalTime.now());\r\n            }\r\n\r\n        }\r\n```\r\n\r\ngetXMLReader() is this :\r\n\r\n```\r\nfinal XMLReader xmlReader;\r\n        xmlReader = factory.newSAXParser().getXMLReader();\r\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/namespace-prefixes&quot;, true);\r\n        xmlReader.setFeature(&quot;http://xml.org/sax/features&quot; +\r\n                &quot;/namespaces&quot;, true);\r\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, true);\r\n//        xmlReader.setFeature(&quot;http://xml.org/sax/features/validation&quot;, true);\r\n        xmlReader.setEntityResolver(wrappedEntityResolver);\r\n        xmlReader.setErrorHandler(new SaxErrorHandler());\r\n        return xmlReader;\r\n```\r\n\r\nHere I am initialising the class : \r\n```\r\npublic XmlNormalizer(String catalogPath) throws IOException {\r\n        // We want the Apache XML parser, not the embedded Oracle Java version.\r\n        factory = org.apache.xerces.jaxp.SAXParserFactoryImpl.newInstance();\r\n        factory.setNamespaceAware(true);\r\n        List&lt;Path&gt; catalogFiles = this.findByFileName(new File(catalogPath).toPath(), CATALOG_FILENAME_PATTERN);\r\n        String[] catalogArray = catalogFiles.stream().map(Path::toString).toArray(String[]::new);\r\n        configProps = OutputPropertiesFactory.getDefaultMethodProperties(&quot;xml&quot;);\r\n        XMLCatalogResolver xmlCatalogResolver = new XMLCatalogResolver(catalogArray, true);\r\n        wrappedEntityResolver = new WrappedEntityResolver(xmlCatalogResolver);\r\n    }\r\n\r\n```\r\n\r\nWrappedEntityResolver is just a wrapper around ```import org.apache.xerces.util.XMLCatalogResolver;```","title":"Xml Reader parsing character outside BMP to surrogate pairs which results in invalid xml","body":"<p>I am trying to parse an xml which contains hex value of <code>&amp;#x1d4c5;</code>. This represents the mathematical symbol 𝓅. The output that I am getting is <code>&amp;#55349;&amp;#56517;</code>.</p>\n<p>What am I doing wrong?</p>\n<p>example input xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;root&gt;\n    &lt;data&gt;&amp;#x1d4c5;&lt;/data&gt;\n&lt;/root&gt;\n\n</code></pre>\n<p>output :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;root&gt;\n    &lt;data&gt;&amp;#55349;&amp;#56517;&lt;/data&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Code to obtain XML reader :</p>\n<pre><code>factory = org.apache.xerces.jaxp.SAXParserFactoryImpl.newInstance();\nfinal XMLReader xmlReader;\n        xmlReader = factory.newSAXParser().getXMLReader();\n</code></pre>\n<p>I am using UTF-8 encoding to decode while parsing.</p>\n<p>The code I am using to read and write xml is this method :</p>\n<pre><code>public void readAndWriteXml(InputSource inputSource, OutputStream out) throws IOException, SAXException, ParserConfigurationException {\n\n            XMLReader xmlReader = getXmlReader();\n            Serializer serializer = SerializerFactory.getSerializer(configProps);\n            serializer.setOutputStream(out);\n            xmlReader.setContentHandler(serializer.asContentHandler());\n\n            if(logger != null){\n                getLogger().debug(&quot;starting xml parsing&quot; + LocalTime.now());\n            }\n            xmlReader.parse(inputSource);\n            if(logger != null){\n                getLogger().debug(&quot;end xml parsing&quot; + LocalTime.now());\n            }\n\n        }\n</code></pre>\n<p>getXMLReader() is this :</p>\n<pre><code>final XMLReader xmlReader;\n        xmlReader = factory.newSAXParser().getXMLReader();\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/namespace-prefixes&quot;, true);\n        xmlReader.setFeature(&quot;http://xml.org/sax/features&quot; +\n                &quot;/namespaces&quot;, true);\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, true);\n//        xmlReader.setFeature(&quot;http://xml.org/sax/features/validation&quot;, true);\n        xmlReader.setEntityResolver(wrappedEntityResolver);\n        xmlReader.setErrorHandler(new SaxErrorHandler());\n        return xmlReader;\n</code></pre>\n<p>Here I am initialising the class :</p>\n<pre><code>public XmlNormalizer(String catalogPath) throws IOException {\n        // We want the Apache XML parser, not the embedded Oracle Java version.\n        factory = org.apache.xerces.jaxp.SAXParserFactoryImpl.newInstance();\n        factory.setNamespaceAware(true);\n        List&lt;Path&gt; catalogFiles = this.findByFileName(new File(catalogPath).toPath(), CATALOG_FILENAME_PATTERN);\n        String[] catalogArray = catalogFiles.stream().map(Path::toString).toArray(String[]::new);\n        configProps = OutputPropertiesFactory.getDefaultMethodProperties(&quot;xml&quot;);\n        XMLCatalogResolver xmlCatalogResolver = new XMLCatalogResolver(catalogArray, true);\n        wrappedEntityResolver = new WrappedEntityResolver(xmlCatalogResolver);\n    }\n\n</code></pre>\n<p>WrappedEntityResolver is just a wrapper around <code>import org.apache.xerces.util.XMLCatalogResolver;</code></p>\n"},{"tags":["java","inner-classes","composition"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1478006798,"post_id":40360957,"comment_id":67975141,"body_markdown":"That&#39;s comparing apples to oranges. You have to have some common ground on which to compare two things. It&#39;s like comparing a washing machine with a train, on the basis that both have engines. You should read examples showing the use of these two concepts, and see if they can both be used to solve problems in the same domain or not.","body":"That&#39;s comparing apples to oranges. You have to have some common ground on which to compare two things. It&#39;s like comparing a washing machine with a train, on the basis that both have engines. You should read examples showing the use of these two concepts, and see if they can both be used to solve problems in the same domain or not."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1478011034,"post_id":40360957,"comment_id":67977528,"body_markdown":"Right. But on what grounds are you trying to compare them? For example, you can say: &quot;To solve problem X, I can use this solution, or that solution, and the two solutions are similar in that they both solve problem X, and perhaps also in other aspects, but they are different in aspect A, B, and C&quot;. But you start from a common ground: the need to solve problem X.","body":"Right. But on what grounds are you trying to compare them? For example, you can say: &quot;To solve problem X, I can use this solution, or that solution, and the two solutions are similar in that they both solve problem X, and perhaps also in other aspects, but they are different in aspect A, B, and C&quot;. But you start from a common ground: the need to solve problem X."},{"owner":{"account_id":2803991,"reputation":498,"user_id":2411604,"accept_rate":56,"display_name":"Alexis"},"score":0,"creation_date":1478011064,"post_id":40360957,"comment_id":67977543,"body_markdown":"@RealSkeptic , could  i quote you if i would have to answer such a question onn a jobs interview ? :)","body":"@RealSkeptic , could  i quote you if i would have to answer such a question onn a jobs interview ? :)"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1478011153,"post_id":40360957,"comment_id":67977611,"body_markdown":"You could, though I doubt that my nickname would impress anybody in a job interview... Remember, though, that job interview questions are not always there to test your knowledge, but to test the way you think about a problem. So perhaps they *expect* you to realize that there is no common ground and say so.","body":"You could, though I doubt that my nickname would impress anybody in a job interview... Remember, though, that job interview questions are not always there to test your knowledge, but to test the way you think about a problem. So perhaps they <i>expect</i> you to realize that there is no common ground and say so."},{"owner":{"account_id":2803991,"reputation":498,"user_id":2411604,"accept_rate":56,"display_name":"Alexis"},"score":0,"creation_date":1478011326,"post_id":40360957,"comment_id":67977724,"body_markdown":"@RealSkeptic, if i find some similarities between concepts, for me is a common ground. Maybe you are talking about different purposes.And that is where i am weaker maybe","body":"@RealSkeptic, if i find some similarities between concepts, for me is a common ground. Maybe you are talking about different purposes.And that is where i am weaker maybe"}],"answers":[{"comments":[{"owner":{"account_id":5795564,"reputation":698,"user_id":4571486,"accept_rate":31,"display_name":"chepaiytrath"},"score":0,"creation_date":1532445292,"post_id":40365438,"comment_id":89972652,"body_markdown":"You have confused composition with aggregation in this explanation. When object of one class O1 is associated with object of another class O2 such that the O1 and O2 can exist independently of each other, that constitutes aggregation. Usually this is done by providing the instances to the references via constructors/setters. Rather than defining them manually in the class itself. Correct me if I am wrong.","body":"You have confused composition with aggregation in this explanation. When object of one class O1 is associated with object of another class O2 such that the O1 and O2 can exist independently of each other, that constitutes aggregation. Usually this is done by providing the instances to the references via constructors/setters. Rather than defining them manually in the class itself. Correct me if I am wrong."}],"tags":[],"owner":{"account_id":9551641,"reputation":2137,"user_id":7095601,"display_name":"Elan Hamburger"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478021575,"creation_date":1478021575,"answer_id":40365438,"question_id":40360957,"body_markdown":"You&#39;re right that composition and inner-classes both implement &quot;has-a&quot; schemes, but they have a lot of differences.\r\n\r\nComposition is when your class has an instance of another class as an instance variable (sometimes called a field).\r\n\r\n    public class A {\r\n        B otherObject;\r\n        /* Other fields and methods go here */\r\n    }\r\n\r\notherObject in this case is just a reference to an instance of another object of type B. otherObject can exist independently of your instance of A, and multiple instances of A can have references to the same B.\r\n\r\nAn inner class is when the class definition is actually contained within the outer class.\r\n\r\n    public class C {\r\n        class D {\r\n            /* Inner class stuff goes here */\r\n        }\r\n    }\r\n\r\nThis is used mostly for logical grouping. In this scenario, D is directly associated with C, whereas B may or may not be a logical child of A. Access to D outside of C becomes a little more complicated, but it can only be accessed through an existing instance of C.\r\n\r\n&gt; So, by confronting the two definitions, i see some similarities:\r\n...\r\n&gt; 3. can be declared private\r\n\r\nYou&#39;re right that both can be declared as `private`, but the meaning of private for these two is very different. `private` as used in composition means that access to that reference is restricted to that class. Say that in your execution code, you have an objectA of type A. You could NOT attempt to access objectA.otherObject. otherObject can only be referenced from the body of A. When you declare an inner class as `private`, it means that use of that entire class is restricted to the body of A. You couldn&#39;t use it anywhere in any other class.","title":"Composition vs Inner Classes","body":"<p>You're right that composition and inner-classes both implement \"has-a\" schemes, but they have a lot of differences.</p>\n\n<p>Composition is when your class has an instance of another class as an instance variable (sometimes called a field).</p>\n\n<pre><code>public class A {\n    B otherObject;\n    /* Other fields and methods go here */\n}\n</code></pre>\n\n<p>otherObject in this case is just a reference to an instance of another object of type B. otherObject can exist independently of your instance of A, and multiple instances of A can have references to the same B.</p>\n\n<p>An inner class is when the class definition is actually contained within the outer class.</p>\n\n<pre><code>public class C {\n    class D {\n        /* Inner class stuff goes here */\n    }\n}\n</code></pre>\n\n<p>This is used mostly for logical grouping. In this scenario, D is directly associated with C, whereas B may or may not be a logical child of A. Access to D outside of C becomes a little more complicated, but it can only be accessed through an existing instance of C.</p>\n\n<blockquote>\n  <p>So, by confronting the two definitions, i see some similarities:\n  ...\n  3. can be declared private</p>\n</blockquote>\n\n<p>You're right that both can be declared as <code>private</code>, but the meaning of private for these two is very different. <code>private</code> as used in composition means that access to that reference is restricted to that class. Say that in your execution code, you have an objectA of type A. You could NOT attempt to access objectA.otherObject. otherObject can only be referenced from the body of A. When you declare an inner class as <code>private</code>, it means that use of that entire class is restricted to the body of A. You couldn't use it anywhere in any other class.</p>\n"},{"comments":[{"owner":{"account_id":2803991,"reputation":498,"user_id":2411604,"accept_rate":56,"display_name":"Alexis"},"score":0,"creation_date":1478026422,"post_id":40366285,"comment_id":67986714,"body_markdown":"thanks for the fine explanation. But B shouldn t be an Association(or Aggregation) in your case? Composition: A consists of B; B is a part of A and hence cannot exist without A (A owns B); in your case Driver exists without an instance of car. For me is just a form of Association(or maybe better Agreggation): Association: A uses B, A is related to B in a given way","body":"thanks for the fine explanation. But B shouldn t be an Association(or Aggregation) in your case? Composition: A consists of B; B is a part of A and hence cannot exist without A (A owns B); in your case Driver exists without an instance of car. For me is just a form of Association(or maybe better Agreggation): Association: A uses B, A is related to B in a given way"},{"owner":{"account_id":922035,"reputation":1189,"user_id":953550,"display_name":"Leonardo Cruz"},"score":0,"creation_date":1478026937,"post_id":40366285,"comment_id":67986959,"body_markdown":"I agree that my response was not strictly precise with the term composition. However, your initial definition of composition isn&#39;t precise too. To be precise we need to call B an aggregation. Both composition and aggregation are associations.","body":"I agree that my response was not strictly precise with the term composition. However, your initial definition of composition isn&#39;t precise too. To be precise we need to call B an aggregation. Both composition and aggregation are associations."},{"owner":{"account_id":922035,"reputation":1189,"user_id":953550,"display_name":"Leonardo Cruz"},"score":1,"creation_date":1478027284,"post_id":40366285,"comment_id":67987141,"body_markdown":"We can call A a composition and B an aggregation.","body":"We can call A a composition and B an aggregation."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1552692565,"post_id":40366285,"comment_id":97122176,"body_markdown":"Hey, how would you approach a situation when `driver` needs to know `gasLevel`? Would it be OK practice to put a `Car` reference inside `Driver` class?","body":"Hey, how would you approach a situation when <code>driver</code> needs to know <code>gasLevel</code>? Would it be OK practice to put a <code>Car</code> reference inside <code>Driver</code> class?"},{"owner":{"account_id":922035,"reputation":1189,"user_id":953550,"display_name":"Leonardo Cruz"},"score":0,"creation_date":1553074401,"post_id":40366285,"comment_id":97246406,"body_markdown":"Yes, and also adding a setter on Car to expose gasLevel value. \nNote that this example is not about best practices on object modeling.","body":"Yes, and also adding a setter on Car to expose gasLevel value.  Note that this example is not about best practices on object modeling."}],"tags":[],"owner":{"account_id":922035,"reputation":1189,"user_id":953550,"display_name":"Leonardo Cruz"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1478024747,"creation_date":1478024747,"answer_id":40366285,"question_id":40360957,"body_markdown":"These two concpets are related. To better organize my thoughs let&#39;s define A and B:\r\n\r\n - A is a class member composed by an inner class.\r\n - B is a class member composed by an instance of an external class.\r\n\r\nExample:\r\n\r\n    class Driver {\r\n    }\r\n    \r\n    class Car {\r\n    \t\r\n    \t// A\r\n    \tclass Engine {\r\n    \t\tvoid start() {\r\n    \t\t\tif (gasLevel &gt; 0) {\r\n    \t\t\t\t...\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t//B\r\n    \tDriver driver;\r\n    \r\n    \tint gasLevel;\r\n    \r\n    }\r\n\r\n\r\nThat said:\r\n\r\n - A is a field\r\n - B is a field\r\n - A is an inner class\r\n - B is not a inner class\r\n - A has access to Car internal state (gasLevel)\r\n - B don&#39;t have access to Car internal state (gasLevel)\r\n - Engine don&#39;t exists without an instance of Car.\r\n - Driver exists without an instance of Car.\r\n\r\nTo sum up, composition between two distinct classes and composition with an inner class are ways to control the level of coupling and cohesion of your system.\r\n\r\n\r\n\r\n\r\n ","title":"Composition vs Inner Classes","body":"<p>These two concpets are related. To better organize my thoughs let's define A and B:</p>\n\n<ul>\n<li>A is a class member composed by an inner class.</li>\n<li>B is a class member composed by an instance of an external class.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>class Driver {\n}\n\nclass Car {\n\n    // A\n    class Engine {\n        void start() {\n            if (gasLevel &gt; 0) {\n                ...\n            }\n        }\n    }\n\n    //B\n    Driver driver;\n\n    int gasLevel;\n\n}\n</code></pre>\n\n<p>That said:</p>\n\n<ul>\n<li>A is a field</li>\n<li>B is a field</li>\n<li>A is an inner class</li>\n<li>B is not a inner class</li>\n<li>A has access to Car internal state (gasLevel)</li>\n<li>B don't have access to Car internal state (gasLevel)</li>\n<li>Engine don't exists without an instance of Car.</li>\n<li>Driver exists without an instance of Car.</li>\n</ul>\n\n<p>To sum up, composition between two distinct classes and composition with an inner class are ways to control the level of coupling and cohesion of your system.</p>\n"},{"tags":[],"owner":{"account_id":27744128,"reputation":1,"user_id":21179971,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695046031,"creation_date":1695046031,"answer_id":77127932,"question_id":40360957,"body_markdown":"&gt; 2. In composition no restriction to use the variables of the &quot;outer&quot; class\r\n\r\nIn composition you cannot access enclosing class private fields directly.\r\nAn inner class has access to outer class fields by default.","title":"Composition vs Inner Classes","body":"<blockquote>\n<ol start=\"2\">\n<li>In composition no restriction to use the variables of the &quot;outer&quot; class</li>\n</ol>\n</blockquote>\n<p>In composition you cannot access enclosing class private fields directly.\nAn inner class has access to outer class fields by default.</p>\n"}],"owner":{"account_id":2803991,"reputation":498,"user_id":2411604,"accept_rate":56,"display_name":"Alexis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4653,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":40366285,"answer_count":3,"score":12,"last_activity_date":1695046031,"creation_date":1478006516,"question_id":40360957,"body_markdown":"What are the differences and the similarities between composition and inner classes? \r\nI am trying to learn the principles of Java and try to figure out the whole image. For me is better to make analogies and to see the differences and similarities between concepts, in order to use them corectly.\r\n\r\nDefinition of composition:\r\n&quot;Composition is the design technique to implement has-a relationship in classes&quot;.\r\n&quot;Java composition is achieved by using instance variables that refers to other objects&quot;\r\n\r\nDefinition of inner class(or member class,not anonymous):\r\n&quot;A member class is also defined as a member of an enclosing class, but is not declared with the static modifier. This type of inner class is analogous to an instance method or field. An instance of a member class is always associated with an instance of the enclosing class, and the code of a member class has access to all the fields and methods&quot;\r\n\r\nSo, by confronting the two definitions, i see some similarities:\r\n\r\n    1. Both have HAS-A relationship\r\n    2. Both are strictly dependent on the outer class lifetime\r\n    3. can be declared private\r\n\r\n\r\nDifferences:\r\n\r\n    1. Inner classes uses classes, composition use instances (?!)\r\n    2. In composition no restriction to use the variables of the &quot;outer&quot; class\r\n\r\nPlease correct me if I am totally wrong, I need to trace better the limits of two concepts.\r\n","title":"Composition vs Inner Classes","body":"<p>What are the differences and the similarities between composition and inner classes? \nI am trying to learn the principles of Java and try to figure out the whole image. For me is better to make analogies and to see the differences and similarities between concepts, in order to use them corectly.</p>\n\n<p>Definition of composition:\n\"Composition is the design technique to implement has-a relationship in classes\".\n\"Java composition is achieved by using instance variables that refers to other objects\"</p>\n\n<p>Definition of inner class(or member class,not anonymous):\n\"A member class is also defined as a member of an enclosing class, but is not declared with the static modifier. This type of inner class is analogous to an instance method or field. An instance of a member class is always associated with an instance of the enclosing class, and the code of a member class has access to all the fields and methods\"</p>\n\n<p>So, by confronting the two definitions, i see some similarities:</p>\n\n<pre><code>1. Both have HAS-A relationship\n2. Both are strictly dependent on the outer class lifetime\n3. can be declared private\n</code></pre>\n\n<p>Differences:</p>\n\n<pre><code>1. Inner classes uses classes, composition use instances (?!)\n2. In composition no restriction to use the variables of the \"outer\" class\n</code></pre>\n\n<p>Please correct me if I am totally wrong, I need to trace better the limits of two concepts.</p>\n"},{"tags":["java","rx-java","micronaut","micronaut-data","micronaut-client"],"owner":{"account_id":20756602,"reputation":21,"user_id":15242888,"display_name":"jpz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695045997,"creation_date":1613744363,"question_id":66279288,"body_markdown":"I have a simple micronaut app. \r\n\r\nI have two separate endpoints where the method that executes will call an API using a client (I&#39;ve tried both the http client from &quot;java.net.http.HttpClient&quot; and &quot;io.micronaut.http.client.RxHttpClient&quot; but the same issue happens).\r\n\r\nWhen you hit any of the endpoints after starting the app, the function will execute as expected, where the client calls an external API and retrieves the response as a string. If you try to hit that same endpoint again, it will throw:\r\n\r\n**&quot;javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure.&quot;**\r\n\r\nI don&#39;t think this is an issue on the API&#39;s server side for the following reasons:\r\n\r\n 1. This issue happens when I hit two separate endpoints with two separate external APIs\r\n 2. The request goes through the first time no problem\r\n 3. I can hit the same APIs in postman without error - it&#39;s just when I call them with the client that there is an issue.\r\n\r\n**My controller:**\r\n\r\n    import io.micronaut.http.annotation.Controller;\r\n    import io.micronaut.http.annotation.Get;\r\n    import io.micronaut.http.HttpResponse;\r\n    \r\n    \r\n    import javax.inject.Inject;\r\n    import java.io.IOException;\r\n    \r\n    import static io.micronaut.http.HttpRequest.GET;\r\n    \r\n    @Controller(&quot;/api&quot;)\r\n    public class DeckController {\r\n    \r\n        @Inject\r\n        private DeckService deckService;\r\n    \r\n        @Get(value = &quot;/drawRx&quot;)\r\n        public  HttpResponse&lt;Card&gt; drawCardRx(){\r\n            deckService.drawCardRx(&quot;ijhhxvxwn63g&quot;,1);\r\n            return HttpResponse.ok();\r\n        }\r\n    }\r\n\r\n**One of my services where the client calls the API:**\r\n\r\n    public void drawCardRx(String deckId, int amount){\r\n    \r\n        final String newDeckUrl = &quot;/deck/&quot;+deckId+&quot;/draw/?count=&quot;+amount;\r\n        Disposable result = this.httpClient\r\n                .retrieve( GET(newDeckUrl))\r\n                .subscribe(data -&gt; System.out.println(data));\r\n        \r\n        return;\r\n    }\r\n\r\nLike I said, the first time I hit the endpoint, the response is returned from the server without a problem.\r\n\r\nI&#39;ve tried the below articles and followed those steps, but no improvement.\r\n\r\nhttps://www.baeldung.com/java-ssl-handshake-failures\r\n\r\nhttps://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error\r\n\r\nIs there something I am missing? \r\n\r\n","title":"Java Micronaut - throws &quot;javax.net.ssl.SSLHandshakeException&quot; after I hit the endpoint more than once","body":"<p>I have a simple micronaut app.</p>\n<p>I have two separate endpoints where the method that executes will call an API using a client (I've tried both the http client from &quot;java.net.http.HttpClient&quot; and &quot;io.micronaut.http.client.RxHttpClient&quot; but the same issue happens).</p>\n<p>When you hit any of the endpoints after starting the app, the function will execute as expected, where the client calls an external API and retrieves the response as a string. If you try to hit that same endpoint again, it will throw:</p>\n<p><strong>&quot;javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure.&quot;</strong></p>\n<p>I don't think this is an issue on the API's server side for the following reasons:</p>\n<ol>\n<li>This issue happens when I hit two separate endpoints with two separate external APIs</li>\n<li>The request goes through the first time no problem</li>\n<li>I can hit the same APIs in postman without error - it's just when I call them with the client that there is an issue.</li>\n</ol>\n<p><strong>My controller:</strong></p>\n<pre><code>import io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.micronaut.http.HttpResponse;\n\n\nimport javax.inject.Inject;\nimport java.io.IOException;\n\nimport static io.micronaut.http.HttpRequest.GET;\n\n@Controller(&quot;/api&quot;)\npublic class DeckController {\n\n    @Inject\n    private DeckService deckService;\n\n    @Get(value = &quot;/drawRx&quot;)\n    public  HttpResponse&lt;Card&gt; drawCardRx(){\n        deckService.drawCardRx(&quot;ijhhxvxwn63g&quot;,1);\n        return HttpResponse.ok();\n    }\n}\n</code></pre>\n<p><strong>One of my services where the client calls the API:</strong></p>\n<pre><code>public void drawCardRx(String deckId, int amount){\n\n    final String newDeckUrl = &quot;/deck/&quot;+deckId+&quot;/draw/?count=&quot;+amount;\n    Disposable result = this.httpClient\n            .retrieve( GET(newDeckUrl))\n            .subscribe(data -&gt; System.out.println(data));\n    \n    return;\n}\n</code></pre>\n<p>Like I said, the first time I hit the endpoint, the response is returned from the server without a problem.</p>\n<p>I've tried the below articles and followed those steps, but no improvement.</p>\n<p><a href=\"https://www.baeldung.com/java-ssl-handshake-failures\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-ssl-handshake-failures</a></p>\n<p><a href=\"https://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error\">How to solve javax.net.ssl.SSLHandshakeException Error?</a></p>\n<p>Is there something I am missing?</p>\n"},{"tags":["javascript","java","spring-boot","websocket"],"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695045838,"creation_date":1695045838,"question_id":77127919,"body_markdown":"*(I know there are a lot of posts about sending messages to specific users but for some reason I don&#39;t understand (it must be a small thing I can&#39;t see), none of them helped me.)*\r\n\r\n**What works**\r\n\r\n- Backend/Server - running WebSocket server and accepting communication; Adding local user ID to message using `StompHeaderAccessor` in `ChannelInterceptor`\r\n- Frontend - connecting WS server, creating a session, sending a user message from FE to BE\r\n\r\n**Situation:** I&#39;m trying to set up two-way communication between the Websocket server (Spring) and the JavaScript frontend. But I am not able to send a message for concrete user from backend back to frontend.\r\n\r\n**WebSocket configuration:**\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    @AllArgsConstructor\r\n    @Order(Ordered.HIGHEST_PRECEDENCE + 99)\r\n    public class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\r\n    \r\n      private static final Logger LOGGER = LogManager.getLogger(WebSocketConfiguration.class);\r\n    \r\n      private final WebSocketLoginHashService webSocketUserLoginService;\r\n    \r\n      @Override\r\n      public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\r\n      }\r\n    \r\n      @Override\r\n      public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.setInterceptors(new UserInterceptor(webSocketUserLoginService));\r\n      }\r\n    \r\n      @Override\r\n      public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/queue&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        registry.setUserDestinationPrefix(&quot;/user/&quot;);\r\n      }\r\n    }\r\n\r\n**Interceptor `UserInterceptor`**\r\n\r\n    public class UserInterceptor implements ChannelInterceptor {\r\n    \r\n      private static String AUTH_HEADER = &quot;Authorization&quot;;\r\n      private static final Logger LOGGER = LoggerFactory.getLogger(UserInterceptor.class);\r\n    \r\n      private final WebSocketLoginHashService userWebSocketLoginHashService;\r\n    \r\n      @Override\r\n      public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n    \r\n        StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n    \r\n        if (StompCommand.CONNECT.equals(accessor.getCommand())) {\r\n    \r\n          final Optional&lt;UUID&gt; tokenFound = parseAuthToken(message);\r\n    \r\n          if (tokenFound.isPresent()) {\r\n            if (this.userWebSocketLoginHashService.exists(tokenFound.get())) {\r\n              accessor.setUser(new WebSocketAuthUser(tokenFound.get()));\r\n            } else {\r\n              throw new BadCredentialsException(&quot;Autentizacni token neni validni: &quot; + tokenFound.get());\r\n            }\r\n          }\r\n        \r\n        }\r\n    \r\n        return message;\r\n      }\r\n    \r\n    }\r\n\r\n**Frontend** - connection to server and subscribe to user related events (doesn&#39;t work), sending message back to server (works).\r\n\r\n    function connect(event) {\r\n    \r\n    \tevent.preventDefault();\r\n    \r\n    \t$.getJSON(&quot;/api/ws/&quot;, function (data) {\r\n    \r\n    \t\tvar socket = new SockJS(&#39;/ws&#39;);\r\n    \t\tstompClient = Stomp.over(socket);\r\n    \r\n    \t\tstompClient.connect({&#39;Authorization&#39;: data.data.hash}, function (frame) {\r\n    \r\n    \t\t\t// Subscribe to user related events\r\n    \t\t\tstompClient.subscribe(&#39;/user/queue/notify&#39;, function (payload) {\r\n    \t\t\t\tconsole.log(&quot;Payload received:&quot; + payload.body);\r\n    \t\t\t});\r\n    \r\n    \t\t\t// Send message back to server\r\n    \t\t\tvar message = {\r\n    \t\t\t\t&quot;name&quot;: &quot;John&quot;\r\n    \t\t\t};\r\n    \t\t\tvar stringMessage = JSON.stringify(message);\r\n    \t\t\tstompClient.send(&quot;/app/hello&quot;, {}, stringMessage);\r\n    \r\n    \t\t});\r\n    \r\n    \t});\r\n    \r\n    }\r\n\r\n\r\n\r\n**Problem:** - when I try to send message back to user, message to frontend user never arrives.\r\n\r\n      @ResponseStatus(HttpStatus.OK)\r\n      @GetMapping(value = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public @ResponseBody void index() {\r\n    \r\n        final Optional&lt;WebSocketLoginHashService.Record&gt; uuid =\r\n            this.userWebSocketLoginHashService.get(new UserId(1L));\r\n    \r\n        if (!uuid.isPresent()) {\r\n          throw new RuntimeException(&quot;Authorized User not found!&quot;);\r\n        }\r\n    \r\n        String sessionId = uuid.get().getHash().toString();\r\n        String payload = &quot;Payload for user (session: &quot; + sessionId + &quot;)&quot;;\r\n    \r\n        SimpMessageHeaderAccessor headers = SimpMessageHeaderAccessor.create(SimpMessageType.MESSAGE);\r\n        headers.setSessionId(sessionId);\r\n        headers.setLeaveMutable(true);\r\n    \r\n        simpMessagingTemplate.convertAndSendToUser(sessionId, &quot;/queue/notify&quot;, payload, headers.getMessageHeaders());\r\n        simpMessagingTemplate.convertAndSendToUser(sessionId, &quot;/user/queue/notify&quot;, payload, headers.getMessageHeaders());\r\n      }\r\n\r\nWhy are not messages delivered to FE user?\r\n\r\n\r\n","title":"Send websocket message to concrete frontend user from Spring Boot application","body":"<p><em>(I know there are a lot of posts about sending messages to specific users but for some reason I don't understand (it must be a small thing I can't see), none of them helped me.)</em></p>\n<p><strong>What works</strong></p>\n<ul>\n<li>Backend/Server - running WebSocket server and accepting communication; Adding local user ID to message using <code>StompHeaderAccessor</code> in <code>ChannelInterceptor</code></li>\n<li>Frontend - connecting WS server, creating a session, sending a user message from FE to BE</li>\n</ul>\n<p><strong>Situation:</strong> I'm trying to set up two-way communication between the Websocket server (Spring) and the JavaScript frontend. But I am not able to send a message for concrete user from backend back to frontend.</p>\n<p><strong>WebSocket configuration:</strong></p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\n@AllArgsConstructor\n@Order(Ordered.HIGHEST_PRECEDENCE + 99)\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\n\n  private static final Logger LOGGER = LogManager.getLogger(WebSocketConfiguration.class);\n\n  private final WebSocketLoginHashService webSocketUserLoginService;\n\n  @Override\n  public void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/ws&quot;).withSockJS();\n  }\n\n  @Override\n  public void configureClientInboundChannel(ChannelRegistration registration) {\n    registration.setInterceptors(new UserInterceptor(webSocketUserLoginService));\n  }\n\n  @Override\n  public void configureMessageBroker(MessageBrokerRegistry registry) {\n    registry.enableSimpleBroker(&quot;/queue&quot;);\n    registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    registry.setUserDestinationPrefix(&quot;/user/&quot;);\n  }\n}\n</code></pre>\n<p><strong>Interceptor <code>UserInterceptor</code></strong></p>\n<pre><code>public class UserInterceptor implements ChannelInterceptor {\n\n  private static String AUTH_HEADER = &quot;Authorization&quot;;\n  private static final Logger LOGGER = LoggerFactory.getLogger(UserInterceptor.class);\n\n  private final WebSocketLoginHashService userWebSocketLoginHashService;\n\n  @Override\n  public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n\n    StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n\n    if (StompCommand.CONNECT.equals(accessor.getCommand())) {\n\n      final Optional&lt;UUID&gt; tokenFound = parseAuthToken(message);\n\n      if (tokenFound.isPresent()) {\n        if (this.userWebSocketLoginHashService.exists(tokenFound.get())) {\n          accessor.setUser(new WebSocketAuthUser(tokenFound.get()));\n        } else {\n          throw new BadCredentialsException(&quot;Autentizacni token neni validni: &quot; + tokenFound.get());\n        }\n      }\n    \n    }\n\n    return message;\n  }\n\n}\n</code></pre>\n<p><strong>Frontend</strong> - connection to server and subscribe to user related events (doesn't work), sending message back to server (works).</p>\n<pre><code>function connect(event) {\n\n    event.preventDefault();\n\n    $.getJSON(&quot;/api/ws/&quot;, function (data) {\n\n        var socket = new SockJS('/ws');\n        stompClient = Stomp.over(socket);\n\n        stompClient.connect({'Authorization': data.data.hash}, function (frame) {\n\n            // Subscribe to user related events\n            stompClient.subscribe('/user/queue/notify', function (payload) {\n                console.log(&quot;Payload received:&quot; + payload.body);\n            });\n\n            // Send message back to server\n            var message = {\n                &quot;name&quot;: &quot;John&quot;\n            };\n            var stringMessage = JSON.stringify(message);\n            stompClient.send(&quot;/app/hello&quot;, {}, stringMessage);\n\n        });\n\n    });\n\n}\n</code></pre>\n<p><strong>Problem:</strong> - when I try to send message back to user, message to frontend user never arrives.</p>\n<pre><code>  @ResponseStatus(HttpStatus.OK)\n  @GetMapping(value = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n  public @ResponseBody void index() {\n\n    final Optional&lt;WebSocketLoginHashService.Record&gt; uuid =\n        this.userWebSocketLoginHashService.get(new UserId(1L));\n\n    if (!uuid.isPresent()) {\n      throw new RuntimeException(&quot;Authorized User not found!&quot;);\n    }\n\n    String sessionId = uuid.get().getHash().toString();\n    String payload = &quot;Payload for user (session: &quot; + sessionId + &quot;)&quot;;\n\n    SimpMessageHeaderAccessor headers = SimpMessageHeaderAccessor.create(SimpMessageType.MESSAGE);\n    headers.setSessionId(sessionId);\n    headers.setLeaveMutable(true);\n\n    simpMessagingTemplate.convertAndSendToUser(sessionId, &quot;/queue/notify&quot;, payload, headers.getMessageHeaders());\n    simpMessagingTemplate.convertAndSendToUser(sessionId, &quot;/user/queue/notify&quot;, payload, headers.getMessageHeaders());\n  }\n</code></pre>\n<p>Why are not messages delivered to FE user?</p>\n"},{"tags":["java","postgresql","io"],"comments":[{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":0,"creation_date":1372109935,"post_id":17285340,"comment_id":25061641,"body_markdown":"Are you creating a single database connection and holding it open for a long period of time?","body":"Are you creating a single database connection and holding it open for a long period of time?"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1372109977,"post_id":17285340,"comment_id":25061661,"body_markdown":"The socket is being closed by the server, probably by an idle timeout.","body":"The socket is being closed by the server, probably by an idle timeout."}],"answers":[{"comments":[{"owner":{"account_id":2792369,"reputation":552,"user_id":2402350,"accept_rate":33,"display_name":"James"},"score":0,"creation_date":1372168434,"post_id":17285576,"comment_id":25085034,"body_markdown":"Thanks for your answers. @Dave - I have tried both ways, opening a new connection before the query and also leaving it open from a previous query. The problem reproduces itself either way.","body":"Thanks for your answers. @Dave - I have tried both ways, opening a new connection before the query and also leaving it open from a previous query. The problem reproduces itself either way."},{"owner":{"account_id":132881,"reputation":4083,"user_id":333842,"accept_rate":97,"display_name":"wobblycogs"},"score":0,"creation_date":1372185990,"post_id":17285576,"comment_id":25095450,"body_markdown":"But is the &quot;new&quot; connection coming from a connection pool or is it actually really new? If it&#39;s from a pool it&#39;s possible that the connection was broken when you got it.","body":"But is the &quot;new&quot; connection coming from a connection pool or is it actually really new? If it&#39;s from a pool it&#39;s possible that the connection was broken when you got it."},{"owner":{"account_id":2792369,"reputation":552,"user_id":2402350,"accept_rate":33,"display_name":"James"},"score":0,"creation_date":1372238100,"post_id":17285576,"comment_id":25114968,"body_markdown":"I&#39;m not using a connection pool at present Wobbly.","body":"I&#39;m not using a connection pool at present Wobbly."}],"tags":[],"owner":{"account_id":132881,"reputation":4083,"user_id":333842,"accept_rate":97,"display_name":"wobblycogs"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1372109949,"creation_date":1372109949,"answer_id":17285576,"question_id":17285340,"body_markdown":"I suspect that your application and the database are on different machines and there&#39;s a (stateful) firewall somewhere in between. My guess is that the firewall is dropping the connection after it has been open for a certain amount of time perhaps with no traffic on it. The connection pool wouldn&#39;t be able to detect this before handing you a broken connection. \r\n\r\nThe only thing that makes me doubt this is that it&#39;s always happening in the same place in the code but if that is the first database query in a new session (or something like that) it&#39;s not inconceivable it could always appear in the same place.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I suspect that your application and the database are on different machines and there's a (stateful) firewall somewhere in between. My guess is that the firewall is dropping the connection after it has been open for a certain amount of time perhaps with no traffic on it. The connection pool wouldn't be able to detect this before handing you a broken connection. </p>\n\n<p>The only thing that makes me doubt this is that it's always happening in the same place in the code but if that is the first database query in a new session (or something like that) it's not inconceivable it could always appear in the same place.</p>\n"},{"comments":[{"owner":{"account_id":483242,"reputation":915,"user_id":898154,"accept_rate":100,"display_name":"Alessandro S."},"score":0,"creation_date":1456739224,"post_id":28565444,"comment_id":59069398,"body_markdown":"Same on 9.3.2 on localhost (from a java jar called via command line)","body":"Same on 9.3.2 on localhost (from a java jar called via command line)"},{"owner":{"account_id":3572050,"reputation":525,"user_id":2982121,"accept_rate":80,"display_name":"apm"},"score":1,"creation_date":1467875076,"post_id":28565444,"comment_id":63899588,"body_markdown":"I also getting the same problem. But I&#39;m wondoring how the connection getting invalid?","body":"I also getting the same problem. But I&#39;m wondoring how the connection getting invalid?"},{"owner":{"account_id":5165059,"reputation":4352,"user_id":4135367,"accept_rate":100,"display_name":"David Artmann"},"score":0,"creation_date":1468060464,"post_id":28565444,"comment_id":63980264,"body_markdown":"I think because of socket time-outs when the connection is not used for a particular time span.","body":"I think because of socket time-outs when the connection is not used for a particular time span."},{"owner":{"account_id":11425943,"reputation":472,"user_id":8376099,"display_name":"Shamil Puthukkot"},"score":0,"creation_date":1577704215,"post_id":28565444,"comment_id":105229267,"body_markdown":"I am getting the same excetion.Its a springboot project and i use Hikari connection pool.Where Hikari manages all connection related stuff.How can i resolve this in such a scenario?","body":"I am getting the same excetion.Its a springboot project and i use Hikari connection pool.Where Hikari manages all connection related stuff.How can i resolve this in such a scenario?"},{"owner":{"account_id":5165059,"reputation":4352,"user_id":4135367,"accept_rate":100,"display_name":"David Artmann"},"score":1,"creation_date":1577955440,"post_id":28565444,"comment_id":105289056,"body_markdown":"@ShamilPuthukkot are you using latest Spring Boot and Hikari Versions? Did you tweak any Hikari configration parameters? Also please take a look at this [tutorial](https://www.baeldung.com/spring-boot-hikari). Kind regards, David","body":"@ShamilPuthukkot are you using latest Spring Boot and Hikari Versions? Did you tweak any Hikari configration parameters? Also please take a look at this <a href=\"https://www.baeldung.com/spring-boot-hikari\" rel=\"nofollow noreferrer\">tutorial</a>. Kind regards, David"},{"owner":{"account_id":11425943,"reputation":472,"user_id":8376099,"display_name":"Shamil Puthukkot"},"score":0,"creation_date":1577983014,"post_id":28565444,"comment_id":105301478,"body_markdown":"@David Thanks for responding.I am using spring  2.1.3 and hikari 3.2.0. Also i have tweaked the hikari configs,which i have given in the question","body":"@David Thanks for responding.I am using spring  2.1.3 and hikari 3.2.0. Also i have tweaked the hikari configs,which i have given in the question"},{"owner":{"account_id":5165059,"reputation":4352,"user_id":4135367,"accept_rate":100,"display_name":"David Artmann"},"score":0,"creation_date":1578079623,"post_id":28565444,"comment_id":105334756,"body_markdown":"@ShamilPuthukkot unfortuantely, the comment section is the wrong place for further debugging. I suggest you ask a new question (if this problem is not already asked in a similar way) on SO. Then maybe link the question here as a comment. All the best.","body":"@ShamilPuthukkot unfortuantely, the comment section is the wrong place for further debugging. I suggest you ask a new question (if this problem is not already asked in a similar way) on SO. Then maybe link the question here as a comment. All the best."},{"owner":{"account_id":11425943,"reputation":472,"user_id":8376099,"display_name":"Shamil Puthukkot"},"score":0,"creation_date":1578292763,"post_id":28565444,"comment_id":105378949,"body_markdown":"@DavidArtmann Here is the question .https://stackoverflow.com/questions/59530069/intermittent-connection-issues-from-springboot-to-postgres\nPlease have  a look","body":"@DavidArtmann Here is the question .<a href=\"https://stackoverflow.com/questions/59530069/intermittent-connection-issues-from-springboot-to-postgres\" title=\"intermittent connection issues from springboot to postgres\">stackoverflow.com/questions/59530069/&hellip;</a> Please have  a look"}],"tags":[],"owner":{"account_id":5165059,"reputation":4352,"user_id":4135367,"accept_rate":100,"display_name":"David Artmann"},"comment_count":8,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1650537372,"creation_date":1424188267,"answer_id":28565444,"question_id":17285340,"body_markdown":"I got the same Exception with PostgreSQL 8.4, but I connect to a local db on the same host. The reason was the connection, which was not valid any more and so I needed to open it again.\r\n\r\nThere is a [ticket][1] on postgresql.org which has a related topic. Their answer is pretty similar, by just catching the exception and re-open the connection\r\n\r\n\r\n  [1]: http://www.postgresql.org/message-id/001701c53a90$cf879cc0$6600a8c0@kermit","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I got the same Exception with PostgreSQL 8.4, but I connect to a local db on the same host. The reason was the connection, which was not valid any more and so I needed to open it again.</p>\n<p>There is a <a href=\"http://www.postgresql.org/message-id/001701c53a90$cf879cc0$6600a8c0@kermit\" rel=\"nofollow noreferrer\">ticket</a> on postgresql.org which has a related topic. Their answer is pretty similar, by just catching the exception and re-open the connection</p>\n"},{"tags":[],"owner":{"account_id":1009920,"reputation":11,"user_id":1022733,"display_name":"Francisco Cifuentes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472069439,"creation_date":1472069439,"answer_id":39132261,"question_id":17285340,"body_markdown":"I had the same problem in a test, but the reason was in the call of a nextSequenceId between the creation of a PreparedStatement and the executeUpdate method call, using the same Connection object.\r\nMy solution was move the call of nextSequenceId at the top of the method and the problem disappeared.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I had the same problem in a test, but the reason was in the call of a nextSequenceId between the creation of a PreparedStatement and the executeUpdate method call, using the same Connection object.\nMy solution was move the call of nextSequenceId at the top of the method and the problem disappeared.</p>\n"},{"tags":[],"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561150138,"creation_date":1561150138,"answer_id":56710297,"question_id":17285340,"body_markdown":"i have same problem and solved my change is any of them:\r\n\r\n - your query is very large like:\r\n\r\n    `SELECT * FROM &#39;Table&#39; WHERE id in ?param`\r\n\r\n`param` is large list.\r\n\r\n - your result is very large (for example more than 4 GIG)","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>i have same problem and solved my change is any of them:</p>\n\n<ul>\n<li><p>your query is very large like:</p>\n\n<p><code>SELECT * FROM 'Table' WHERE id in ?param</code></p></li>\n</ul>\n\n<p><code>param</code> is large list.</p>\n\n<ul>\n<li>your result is very large (for example more than 4 GIG)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5406480,"reputation":55,"user_id":4304829,"display_name":"M&#225;čaj Jakub"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1575411409,"creation_date":1575411409,"answer_id":59166214,"question_id":17285340,"body_markdown":"&lt;b&gt;This applies to development environments for the most part.&lt;/b&gt;\r\n\r\nIn case somebody had this issue recently and is simultaneously using docker v19.03.5 under Ubuntu 19.10, it tends to interrupt network connections for some network-manager configurations. I haven&#39;t had a chance to debug this issue in details but if you are experiencing this issue I strongly recommend to try\r\n```\r\n$ sudo service docker stop\r\n```\r\nand give the connection one more shot.\r\n\r\nWorked for me like a charm.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p><b>This applies to development environments for the most part.</b></p>\n\n<p>In case somebody had this issue recently and is simultaneously using docker v19.03.5 under Ubuntu 19.10, it tends to interrupt network connections for some network-manager configurations. I haven't had a chance to debug this issue in details but if you are experiencing this issue I strongly recommend to try</p>\n\n<pre><code>$ sudo service docker stop\n</code></pre>\n\n<p>and give the connection one more shot.</p>\n\n<p>Worked for me like a charm.</p>\n"},{"comments":[{"owner":{"account_id":16011540,"reputation":645,"user_id":11555535,"display_name":"Cr4zyTun4"},"score":0,"creation_date":1694791299,"post_id":68887366,"comment_id":135942055,"body_markdown":"This was very helpful, I was curios to know how you noticed that the memory was a bottleneck","body":"This was very helpful, I was curios to know how you noticed that the memory was a bottleneck"}],"tags":[],"owner":{"account_id":14294417,"reputation":307,"user_id":10325497,"display_name":"Ashok Kumar Dhulipalla"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1629693456,"creation_date":1629693456,"answer_id":68887366,"question_id":17285340,"body_markdown":"I got the same Exception.\r\n\r\nIn my case, My DB is getting restarted due to heavy usage of memory by some query. That&#39;s why I am getting that error during the restart of the DB.\r\n\r\nsolution: I optimized my query.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I got the same Exception.</p>\n<p>In my case, My DB is getting restarted due to heavy usage of memory by some query. That's why I am getting that error during the restart of the DB.</p>\n<p>solution: I optimized my query.</p>\n"},{"comments":[{"owner":{"account_id":2705448,"reputation":130,"user_id":2335143,"accept_rate":40,"display_name":"Nariman"},"score":0,"creation_date":1697200431,"post_id":73810699,"comment_id":136253390,"body_markdown":"or free some host OS memory so that docker can take it","body":"or free some host OS memory so that docker can take it"}],"tags":[],"owner":{"account_id":13137849,"reputation":11,"user_id":9490281,"display_name":"Chushu Gao"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663831024,"creation_date":1663831024,"answer_id":73810699,"question_id":17285340,"body_markdown":"We are using PostgreSQL 13.5 in a docker container and have the same exception. Double the memory size of the container solve the issue.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>We are using PostgreSQL 13.5 in a docker container and have the same exception. Double the memory size of the container solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":2164426,"reputation":61,"user_id":1917821,"display_name":"Logan Waggoner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674787901,"creation_date":1674787901,"answer_id":75253664,"question_id":17285340,"body_markdown":"If you are using a Connection pool, you can setup a test query like &quot;SELECT 1&quot; - this will help to ensure the connection in the pool is ready before your query is executed. \r\nhttps://stackoverflow.com/questions/22684807/spring-boot-jpa-configuring-auto-reconnect\r\n\r\norg.apache.commons.dbcp.BasicDataSource example:\r\n\r\n     basicDataSource.testOnBorrow = true\r\n     basicDataSource.validationQuery = &quot;SELECT 1&quot;\r\n\r\nI noticed the issue most often after the application was sitting without much action but I think it can generally happen throughout the day as mentioned above.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>If you are using a Connection pool, you can setup a test query like &quot;SELECT 1&quot; - this will help to ensure the connection in the pool is ready before your query is executed.\n<a href=\"https://stackoverflow.com/questions/22684807/spring-boot-jpa-configuring-auto-reconnect\">Spring Boot JPA - configuring auto reconnect</a></p>\n<p>org.apache.commons.dbcp.BasicDataSource example:</p>\n<pre><code> basicDataSource.testOnBorrow = true\n basicDataSource.validationQuery = &quot;SELECT 1&quot;\n</code></pre>\n<p>I noticed the issue most often after the application was sitting without much action but I think it can generally happen throughout the day as mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":12340469,"reputation":82,"user_id":9003853,"display_name":"Bhala T R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680514665,"creation_date":1680514665,"answer_id":75918000,"question_id":17285340,"body_markdown":"I had the same problem and I did a restart of docker services which solved the issue as said above could be a memory leak/issue with PGSQL.\r\n\r\n    org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\r\n\r\ndocker-compose down\r\n\r\ndocker-compose up -d","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I had the same problem and I did a restart of docker services which solved the issue as said above could be a memory leak/issue with PGSQL.</p>\n<pre><code>org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\n</code></pre>\n<p>docker-compose down</p>\n<p>docker-compose up -d</p>\n"},{"tags":[],"owner":{"account_id":5608378,"reputation":133,"user_id":4442083,"display_name":"marcopolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695045573,"creation_date":1695045573,"answer_id":77127883,"question_id":17285340,"body_markdown":"I had the same problem (Postgresql 13). The error message suggests a connection problem, but that was misleading. I had edited a plpython3u Python function, which later produced a run time error, which in turn produced the &quot;I/O error while sending to the backend&quot;. A similar error could occur when the windows Python related environment variables have been changed and prevent Python from running properly.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I had the same problem (Postgresql 13). The error message suggests a connection problem, but that was misleading. I had edited a plpython3u Python function, which later produced a run time error, which in turn produced the &quot;I/O error while sending to the backend&quot;. A similar error could occur when the windows Python related environment variables have been changed and prevent Python from running properly.</p>\n"}],"owner":{"account_id":2792369,"reputation":552,"user_id":2402350,"accept_rate":33,"display_name":"James"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161917,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":10,"score":34,"last_activity_date":1695045573,"creation_date":1372108891,"question_id":17285340,"body_markdown":"I am testing some code which processes registration to a website. The java code is as follows (excerpt):\r\n\r\n    if (request.getParameter(&quot;method&quot;).equals(&quot;checkEmail&quot;)){\r\n\t\t\t\tString email= request.getParameter(&quot;email&quot;);\r\n\t\t\t\tResultSet rs =null;\r\n\t\t\t\tPreparedStatement ps = db.prepareStatement(query);\r\n\t\t\t\tps.setString(1, email);\r\n\t\t\t\trs = ps.executeQuery();\t\t\t\t\r\n\t\t\t\tif(rs.next()){ \r\n                                //email already present in Db \r\n                } else {\r\n                                //proceed with registration.....\r\n\r\nMost of the time the process executes without any problem, but I am getting an intermittent issue where it fails because connection to the database is closing. Every time it fails, it fails at the same point - when running the prepared statement above (which checks whether the email being submitted is already in the database obviously).\r\n\r\nVersion of Postgres is 8.1.23\r\n\r\nAny help or suggestions appreciated. Stacktrace is as follows (EDIT: Sometimes the Stacktrace says caused by Stream Closed, and sometimes Socket Closed as below):\r\n\r\n    13:53:00,973 ERROR Registration:334 - org.postgresql.util.PSQLException: An I/O error occured while sending to the backend.\r\n    \r\n      at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:283)\r\n      at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:479\r\n      at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:367)\r\n      at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:271)\r\n      at Registration.doPost(Registration.java:113)\r\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\r\n      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n      at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:567)\r\n      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n      at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)\r\n      at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:291)\r\n      at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:769)\r\n      at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:698)\r\n      at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:891)\r\n      at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)\r\n      at java.lang.Thread.run(Thread.java:595)\r\n    \r\n    Caused by: java.net.SocketException: Socket closed\r\n    \r\n      at java.net.SocketInputStream.socketRead0(Native Method)\r\n      at java.net.SocketInputStream.read(SocketInputStream.java:129)\r\n      at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)\r\n      at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)\r\n      at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\r\n      at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)\r\n      at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1620)\r\n      at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)\r\n    \t... 22 more      \r\n\r\n","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I am testing some code which processes registration to a website. The java code is as follows (excerpt):</p>\n\n<pre><code>if (request.getParameter(\"method\").equals(\"checkEmail\")){\n            String email= request.getParameter(\"email\");\n            ResultSet rs =null;\n            PreparedStatement ps = db.prepareStatement(query);\n            ps.setString(1, email);\n            rs = ps.executeQuery();             \n            if(rs.next()){ \n                            //email already present in Db \n            } else {\n                            //proceed with registration.....\n</code></pre>\n\n<p>Most of the time the process executes without any problem, but I am getting an intermittent issue where it fails because connection to the database is closing. Every time it fails, it fails at the same point - when running the prepared statement above (which checks whether the email being submitted is already in the database obviously).</p>\n\n<p>Version of Postgres is 8.1.23</p>\n\n<p>Any help or suggestions appreciated. Stacktrace is as follows (EDIT: Sometimes the Stacktrace says caused by Stream Closed, and sometimes Socket Closed as below):</p>\n\n<pre><code>13:53:00,973 ERROR Registration:334 - org.postgresql.util.PSQLException: An I/O error occured while sending to the backend.\n\n  at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:283)\n  at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:479\n  at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:367)\n  at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:271)\n  at Registration.doPost(Registration.java:113)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n  at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:567)\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n  at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)\n  at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:291)\n  at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:769)\n  at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:698)\n  at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:891)\n  at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)\n  at java.lang.Thread.run(Thread.java:595)\n\nCaused by: java.net.SocketException: Socket closed\n\n  at java.net.SocketInputStream.socketRead0(Native Method)\n  at java.net.SocketInputStream.read(SocketInputStream.java:129)\n  at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)\n  at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)\n  at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\n  at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)\n  at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1620)\n  at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)\n    ... 22 more      \n</code></pre>\n"},{"tags":["java","jms","activemq-artemis"],"comments":[{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1695043971,"post_id":77126030,"comment_id":135967506,"body_markdown":"Are you asking how to get the protocol of the sender?","body":"Are you asking how to get the protocol of the sender?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695045115,"creation_date":1695045115,"answer_id":77127823,"question_id":77126030,"body_markdown":"ActiveMQ Artemis doesn&#39;t store the which protocol *sent* the message. The `protocol` value that you see when inspecting a message via management regards how the message is **stored on disk**. The broker supports 2 different storage formats:\r\n\r\n - one for messages sent via AMQP (i.e. `AMQP`)\r\n - one for messages sent via every *other* protocol (i.e. `CORE`).\r\n\r\nThere is no way to retrieve this data from any supported JMS `Message` implementation.\r\n\r\nIt&#39;s worth noting that one of the main design elements of asynchronous messaging is a 100% decoupling of producers and consumers. In other words, producers don&#39;t care (and don&#39;t know) about consumers and consumers don&#39;t care (and don&#39;t know) about producers. Furthermore, in a properly decoupled application the consumer **shouldn&#39;t care** about what protocol was used to send the message. It should only care about the data in the message, regardless of how it was sent.","title":"How to get protocol in ActiveMQ Artemis via JMS?","body":"<p>ActiveMQ Artemis doesn't store the which protocol <em>sent</em> the message. The <code>protocol</code> value that you see when inspecting a message via management regards how the message is <strong>stored on disk</strong>. The broker supports 2 different storage formats:</p>\n<ul>\n<li>one for messages sent via AMQP (i.e. <code>AMQP</code>)</li>\n<li>one for messages sent via every <em>other</em> protocol (i.e. <code>CORE</code>).</li>\n</ul>\n<p>There is no way to retrieve this data from any supported JMS <code>Message</code> implementation.</p>\n<p>It's worth noting that one of the main design elements of asynchronous messaging is a 100% decoupling of producers and consumers. In other words, producers don't care (and don't know) about consumers and consumers don't care (and don't know) about producers. Furthermore, in a properly decoupled application the consumer <strong>shouldn't care</strong> about what protocol was used to send the message. It should only care about the data in the message, regardless of how it was sent.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77127823,"answer_count":1,"score":0,"last_activity_date":1695045115,"creation_date":1695029543,"question_id":77126030,"body_markdown":"I&#39;m sending a message to an Artemis ActiveMQ queue, but I can&#39;t find a method to get the message protocol\r\n\r\nCode for receiving the body of the message, but in this class I did not find a method for obtaining the protocol:\r\n```\r\nconnectQueueBrowser();\r\nEnumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\r\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\nwhile (messageEnumeration.hasMoreElements()){\r\n   messages.add(messageEnumeration.nextElement());\r\n}\r\nSystem.out.println(messages.get(0).getBody(String.class));\r\n```\r\n\r\nThe Message class is in the package:\r\n`import javax.jms.Message;`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8B155.png","title":"How to get protocol in ActiveMQ Artemis via JMS?","body":"<p>I'm sending a message to an Artemis ActiveMQ queue, but I can't find a method to get the message protocol</p>\n<p>Code for receiving the body of the message, but in this class I did not find a method for obtaining the protocol:</p>\n<pre><code>connectQueueBrowser();\nEnumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\nwhile (messageEnumeration.hasMoreElements()){\n   messages.add(messageEnumeration.nextElement());\n}\nSystem.out.println(messages.get(0).getBody(String.class));\n</code></pre>\n<p>The Message class is in the package:\n<code>import javax.jms.Message;</code></p>\n<p><a href=\"https://i.stack.imgur.com/8B155.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8B155.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin","finance","ta-lib","technical-indicator"],"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1694534555,"post_id":77089205,"comment_id":135902491,"body_markdown":"What is `ta-lib` ?","body":"What is <code>ta-lib</code> ?"},{"owner":{"account_id":19491141,"reputation":432,"user_id":14259321,"display_name":"Luboš H&#225;jek"},"score":0,"creation_date":1694543760,"post_id":77089205,"comment_id":135904254,"body_markdown":"Talib is an open-source technical analysis library used by traders, investors and analysts to perform complex calculations on financial data and build trading strategies. The library is written in C language and provides more than 150 technical indicators and trading functions.","body":"Talib is an open-source technical analysis library used by traders, investors and analysts to perform complex calculations on financial data and build trading strategies. The library is written in C language and provides more than 150 technical indicators and trading functions."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1694558420,"post_id":77089205,"comment_id":135906440,"body_markdown":"The DNS record for ta-lib.org is not answering.  Perhaps you need this: https://ta-lib.github.io/ta-lib-python/","body":"The DNS record for ta-lib.org is not answering.  Perhaps you need this: <a href=\"https://ta-lib.github.io/ta-lib-python/\" rel=\"nofollow noreferrer\">ta-lib.github.io/ta-lib-python</a>"}],"answers":[{"tags":[],"owner":{"account_id":447668,"reputation":2917,"user_id":841424,"accept_rate":95,"display_name":"truf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694571452,"creation_date":1694571452,"answer_id":77093649,"question_id":77089205,"body_markdown":"The right url is now https://ta-lib.github.io/ta-doc/\r\naccording to Mario Fortier, who&#39;s the author of the lib: https://github.com/TA-Lib/ta-lib-python/issues/547#issuecomment-1311180938","title":"Trouble Accessing ta-lib.org","body":"<p>The right url is now <a href=\"https://ta-lib.github.io/ta-doc/\" rel=\"nofollow noreferrer\">https://ta-lib.github.io/ta-doc/</a>\naccording to Mario Fortier, who's the author of the lib: <a href=\"https://github.com/TA-Lib/ta-lib-python/issues/547#issuecomment-1311180938\" rel=\"nofollow noreferrer\">https://github.com/TA-Lib/ta-lib-python/issues/547#issuecomment-1311180938</a></p>\n"}],"owner":{"account_id":19491141,"reputation":432,"user_id":14259321,"display_name":"Luboš H&#225;jek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77093649,"answer_count":1,"score":0,"last_activity_date":1695044622,"creation_date":1694522369,"question_id":77089205,"body_markdown":"I&#39;m currently experiencing difficulties accessing http://ta-lib.org . For curl command, and I receive the following error:\r\n\r\n```\r\ncurl http://ta-lib.org --show-error\r\n&gt; curl: (6) Could not resolve host: ta-lib.org\r\n```\r\n\r\n\r\nIs there any problem on my machine / country? Or does anyone have any info what happened?\r\n\r\nI need a ta-lib for my kotlin project, can anyone recommend a library?\r\n\r\n\r\n**EDIT:** https://ta-lib.github.io current pages","title":"Trouble Accessing ta-lib.org","body":"<p>I'm currently experiencing difficulties accessing <a href=\"http://ta-lib.org\" rel=\"nofollow noreferrer\">http://ta-lib.org</a> . For curl command, and I receive the following error:</p>\n<pre><code>curl http://ta-lib.org --show-error\n&gt; curl: (6) Could not resolve host: ta-lib.org\n</code></pre>\n<p>Is there any problem on my machine / country? Or does anyone have any info what happened?</p>\n<p>I need a ta-lib for my kotlin project, can anyone recommend a library?</p>\n<p><strong>EDIT:</strong> <a href=\"https://ta-lib.github.io\" rel=\"nofollow noreferrer\">https://ta-lib.github.io</a> current pages</p>\n"},{"tags":["java","ios","angular","manifest"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695068823,"post_id":77127761,"comment_id":135972297,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23087817,"reputation":1,"user_id":17199082,"display_name":"bcrespo00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695044577,"creation_date":1695044577,"question_id":77127761,"body_markdown":"I&#39;m working on an app that is used to distribute apps to users in my company. The problem comes to not know how to authenticate the request to the backend of the manifest of the ios app so that the authenticated user can download it. The manifest and ipa are in a MySQL database and i want to get it by a angular+spring boot request. The backend give 401 error code.\r\n\r\nIf i set the request without authorization, i can install without problem, but i need to authorize the request\r\n\r\nThe html code looks as:\r\n```\r\n&lt;ion-button [href]=&quot;itms-services://?action=download-manifest&amp;url=myurl.com/download.ipa&quot;&gt; Download&lt;/ion-button&gt;\r\n```\r\n\r\n\r\nI tried of make an angular request but the url of the file is not valid","title":"How to authenticate itms-services://?action=download-manifest&amp;url= Angular+Spring Boot","body":"<p>I'm working on an app that is used to distribute apps to users in my company. The problem comes to not know how to authenticate the request to the backend of the manifest of the ios app so that the authenticated user can download it. The manifest and ipa are in a MySQL database and i want to get it by a angular+spring boot request. The backend give 401 error code.</p>\n<p>If i set the request without authorization, i can install without problem, but i need to authorize the request</p>\n<p>The html code looks as:</p>\n<pre><code>&lt;ion-button [href]=&quot;itms-services://?action=download-manifest&amp;url=myurl.com/download.ipa&quot;&gt; Download&lt;/ion-button&gt;\n</code></pre>\n<p>I tried of make an angular request but the url of the file is not valid</p>\n"},{"tags":["java","swagger","openapi"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1694526359,"post_id":77089308,"comment_id":135900458,"body_markdown":"What does `Mapstruct 1.4.2Final together with Swagger.io Openapi V3.0` mean?","body":"What does <code>Mapstruct 1.4.2Final together with Swagger.io Openapi V3.0</code> mean?"},{"owner":{"account_id":28820457,"reputation":21,"user_id":22073069,"display_name":"Charlie"},"score":0,"creation_date":1694526491,"post_id":77089308,"comment_id":135900484,"body_markdown":"@MaksimEliseev ah, sorry, I mistakenly thought we used Mapstruct annotations in combination with openapi v3.0. I have edited the question, thank you","body":"@MaksimEliseev ah, sorry, I mistakenly thought we used Mapstruct annotations in combination with openapi v3.0. I have edited the question, thank you"},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1694526975,"post_id":77089308,"comment_id":135900624,"body_markdown":"How do you create an openapi file? What are you using?","body":"How do you create an openapi file? What are you using?"}],"answers":[{"comments":[{"owner":{"account_id":28820457,"reputation":21,"user_id":22073069,"display_name":"Charlie"},"score":0,"creation_date":1694530777,"post_id":77089820,"comment_id":135901581,"body_markdown":"You&#39;re absolutely amazing, thank you very much! Just for clarification: &quot;/your-endpoint:&quot; would refer to the provided path for each response? Or can it be a general path?\nFor example, if my API was reachable from &quot;localhost:8080/api&quot;, and I have the paths &quot;/api/cars&quot; and &quot;/api/customers&quot;, would I be able to just specify &quot;/api&quot; in my openapi yaml file to cover both cases?","body":"You&#39;re absolutely amazing, thank you very much! Just for clarification: &quot;/your-endpoint:&quot; would refer to the provided path for each response? Or can it be a general path? For example, if my API was reachable from &quot;localhost:8080/api&quot;, and I have the paths &quot;/api/cars&quot; and &quot;/api/customers&quot;, would I be able to just specify &quot;/api&quot; in my openapi yaml file to cover both cases?"},{"owner":{"account_id":1380512,"reputation":110,"user_id":7388422,"display_name":"Shant Khayalian"},"score":0,"creation_date":1694534182,"post_id":77089820,"comment_id":135902381,"body_markdown":"So, if your API is reachable from &quot;localhost:8080/api&quot; and you have the paths &quot;/api/cars&quot; and &quot;/api/customers,&quot; you should define these paths separately in your OpenAPI YAML file to accurately document and describe each endpoint.","body":"So, if your API is reachable from &quot;localhost:8080/api&quot; and you have the paths &quot;/api/cars&quot; and &quot;/api/customers,&quot; you should define these paths separately in your OpenAPI YAML file to accurately document and describe each endpoint."}],"tags":[],"owner":{"account_id":1380512,"reputation":110,"user_id":7388422,"display_name":"Shant Khayalian"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694526995,"creation_date":1694526995,"answer_id":77089820,"question_id":77089308,"body_markdown":"In Swagger (OpenAPI) version 3.0, the default media type for response content is */*, which means it can represent any media type. However, if you want to set a default response media type to application/json for all responses without explicitly specifying it for each response, you can achieve this by defining a global response in your OpenAPI specification.\r\n\r\nHere&#39;s how you can do it in your OpenAPI YAML file:\r\n\r\n    openapi: 3.0.0\r\n    info:\r\n      title: Your API\r\n      version: 1.0.0\r\n    paths:\r\n      /your-endpoint:\r\n        get:\r\n          responses:\r\n            &#39;200&#39;:\r\n              description: Successful response\r\n              content:\r\n                application/json:   # Set the default media type here\r\n                  schema:\r\n                    type: object   # Adjust this schema definition accordingly\r\n            # Add other response codes here as needed\r\n\r\nBy defining the application/json media type under the content section in the responses section of your endpoint, you establish it as the default media type for the 200 response. You can do this for other response codes as needed.\r\n\r\nThis approach allows you to set a default media type for specific response codes without needing to specify it individually for each endpoint.\r\n\r\nHope I was helpful.\r\n","title":"Swagger.io OpenApi v3.0 declare default media type","body":"<p>In Swagger (OpenAPI) version 3.0, the default media type for response content is <em>/</em>, which means it can represent any media type. However, if you want to set a default response media type to application/json for all responses without explicitly specifying it for each response, you can achieve this by defining a global response in your OpenAPI specification.</p>\n<p>Here's how you can do it in your OpenAPI YAML file:</p>\n<pre><code>openapi: 3.0.0\ninfo:\n  title: Your API\n  version: 1.0.0\npaths:\n  /your-endpoint:\n    get:\n      responses:\n        '200':\n          description: Successful response\n          content:\n            application/json:   # Set the default media type here\n              schema:\n                type: object   # Adjust this schema definition accordingly\n        # Add other response codes here as needed\n</code></pre>\n<p>By defining the application/json media type under the content section in the responses section of your endpoint, you establish it as the default media type for the 200 response. You can do this for other response codes as needed.</p>\n<p>This approach allows you to set a default media type for specific response codes without needing to specify it individually for each endpoint.</p>\n<p>Hope I was helpful.</p>\n"},{"tags":[],"owner":{"account_id":28820457,"reputation":21,"user_id":22073069,"display_name":"Charlie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695043967,"creation_date":1694613692,"answer_id":77097818,"question_id":77089308,"body_markdown":"**EDIT**\r\n\r\nwhile swagger-core does not currently have this feature, an alternative is to use JAX-RS and define @Produces(&quot;your/mediaType&quot;) on a class level.\r\nSee: https://docs.oracle.com/cd/E19798-01/821-1841/gipzh/index.html\r\n\r\nSince openapi/swagger-core works with JAX-RS annotations but not the other way around, this still works for generating the openapi.yaml\r\n\r\n**OLD POST**\r\n\r\nThe specific feature I was looking for has been requested to be implemented in OpenAPI ca. 2015\r\nhttps://github.com/OAI/OpenAPI-Specification/issues/521\r\n\r\nThis is one of the threads describing the need for the feature. It seems implementation of that feature might come in OpenAPI v4.0, but not confirmed yet","title":"Swagger.io OpenApi v3.0 declare default media type","body":"<p><strong>EDIT</strong></p>\n<p>while swagger-core does not currently have this feature, an alternative is to use JAX-RS and define @Produces(&quot;your/mediaType&quot;) on a class level.\nSee: <a href=\"https://docs.oracle.com/cd/E19798-01/821-1841/gipzh/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19798-01/821-1841/gipzh/index.html</a></p>\n<p>Since openapi/swagger-core works with JAX-RS annotations but not the other way around, this still works for generating the openapi.yaml</p>\n<p><strong>OLD POST</strong></p>\n<p>The specific feature I was looking for has been requested to be implemented in OpenAPI ca. 2015\n<a href=\"https://github.com/OAI/OpenAPI-Specification/issues/521\" rel=\"nofollow noreferrer\">https://github.com/OAI/OpenAPI-Specification/issues/521</a></p>\n<p>This is one of the threads describing the need for the feature. It seems implementation of that feature might come in OpenAPI v4.0, but not confirmed yet</p>\n"}],"owner":{"account_id":28820457,"reputation":21,"user_id":22073069,"display_name":"Charlie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77097818,"answer_count":2,"score":2,"last_activity_date":1695043967,"creation_date":1694523157,"question_id":77089308,"body_markdown":"I am using Swagger.io Openapi V3.0\r\n\r\nThe generated openapi.yaml file declares the response content media type as `*/*` per default.\r\nI would like the default response content media type to be `application/json`\r\n\r\n\r\nI am aware that you can manually change the media type per response by doing:\r\n\r\n```\r\n@ApiResponse(description = &quot;test&quot;\r\n        , content = @Content(\r\n            mediaType = &quot;application/json&quot;,\r\n            schema = @Schema(\r\n                implementation = Test.class\r\n            )\r\n        )\r\n    )\r\n```\r\nBut this approach is not optimal, since there are many responses that would need to be modified.\r\n\r\nIs there a way to change mapstruct/openapi default media type?","title":"Swagger.io OpenApi v3.0 declare default media type","body":"<p>I am using Swagger.io Openapi V3.0</p>\n<p>The generated openapi.yaml file declares the response content media type as <code>*/*</code> per default.\nI would like the default response content media type to be <code>application/json</code></p>\n<p>I am aware that you can manually change the media type per response by doing:</p>\n<pre><code>@ApiResponse(description = &quot;test&quot;\n        , content = @Content(\n            mediaType = &quot;application/json&quot;,\n            schema = @Schema(\n                implementation = Test.class\n            )\n        )\n    )\n</code></pre>\n<p>But this approach is not optimal, since there are many responses that would need to be modified.</p>\n<p>Is there a way to change mapstruct/openapi default media type?</p>\n"},{"tags":["java","android","kotlin","android-13"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1695043884,"post_id":77127585,"comment_id":135967487,"body_markdown":"There is no requirement that the user picks something that you can access via the filesystem. Focus instead on using the `Uri` itself for whatever it is that you are trying to do. Most common uses, such as displaying the image or uploading it, do not require a `File`.","body":"There is no requirement that the user picks something that you can access via the filesystem. Focus instead on using the <code>Uri</code> itself for whatever it is that you are trying to do. Most common uses, such as displaying the image or uploading it, do not require a <code>File</code>."},{"owner":{"account_id":28368474,"reputation":29,"user_id":21697453,"display_name":"BQF"},"score":0,"creation_date":1695044770,"post_id":77127585,"comment_id":135967713,"body_markdown":"I need to save this uri to file because crop and compress will do on image so user can use that image wherever they want.","body":"I need to save this uri to file because crop and compress will do on image so user can use that image wherever they want."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1695044940,"post_id":77127585,"comment_id":135967749,"body_markdown":"If you want to save a copy of the content, use `ContentResolver` and `openInputStream()` to get an `InputStream` on the content identified by the `Uri`. Then, you can copy the bytes to some file that you control (e.g., in `getFilesDir()`).","body":"If you want to save a copy of the content, use <code>ContentResolver</code> and <code>openInputStream()</code> to get an <code>InputStream</code> on the content identified by the <code>Uri</code>. Then, you can copy the bytes to some file that you control (e.g., in <code>getFilesDir()</code>)."},{"owner":{"account_id":28368474,"reputation":29,"user_id":21697453,"display_name":"BQF"},"score":0,"creation_date":1695104465,"post_id":77127585,"comment_id":135975624,"body_markdown":"@CommonsWare Do you have example for that ? Any link about your last comment would be appreciate . Thanks","body":"@CommonsWare Do you have example for that ? Any link about your last comment would be appreciate . Thanks"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1695120610,"post_id":77127585,"comment_id":135978806,"body_markdown":"The linked-to duplicates demonstrate that, such as [this answer](https://stackoverflow.com/a/62154537/115145).","body":"The linked-to duplicates demonstrate that, such as <a href=\"https://stackoverflow.com/a/62154537/115145\">this answer</a>."}],"owner":{"account_id":28368474,"reputation":29,"user_id":21697453,"display_name":"BQF"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695043748,"answer_count":0,"score":0,"last_activity_date":1695043810,"creation_date":1695043234,"question_id":77127585,"body_markdown":"Convert URI into file and code should support android 7 to android 13.\r\n\r\n\r\n    `val pickMedia = registerForActivityResult(ActivityResultContracts.PickVisualMedia()) { uri -&gt;\r\n        // Callback is invoked after the user selects a media item or closes the\r\n        // photo picker.\r\n        if (uri != null) {\r\n            \r\n            Log.e(&quot;PhotoPicker&quot;, &quot;Selected URI: $uri&quot;)\r\n        } else {\r\n            Log.e(&quot;PhotoPicker&quot;, &quot;No media selected&quot;)\r\n        }\r\n    }`\r\n\r\n\r\n\r\nI tried `uri.toFile()` but it&#39;s gives an error **java.lang.IllegalArgumentException: Uri lacks &#39;file&#39; scheme: content://media/external/images/media/8596** \r\n\r\n\r\n\r\nHow to convert uri into file which can support all android version?","title":"How to convert File from URI in android?","body":"<p>Convert URI into file and code should support android 7 to android 13.</p>\n<pre><code>`val pickMedia = registerForActivityResult(ActivityResultContracts.PickVisualMedia()) { uri -&gt;\n    // Callback is invoked after the user selects a media item or closes the\n    // photo picker.\n    if (uri != null) {\n        \n        Log.e(&quot;PhotoPicker&quot;, &quot;Selected URI: $uri&quot;)\n    } else {\n        Log.e(&quot;PhotoPicker&quot;, &quot;No media selected&quot;)\n    }\n}`\n</code></pre>\n<p>I tried <code>uri.toFile()</code> but it's gives an error <strong>java.lang.IllegalArgumentException: Uri lacks 'file' scheme: content://media/external/images/media/8596</strong></p>\n<p>How to convert uri into file which can support all android version?</p>\n"},{"tags":["java","spring","service","naming","resolver"],"answers":[{"tags":[],"owner":{"account_id":9268493,"reputation":16,"user_id":6883285,"display_name":"rogerdrums"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1695042650,"creation_date":1695042650,"answer_id":77127512,"question_id":77127403,"body_markdown":"Services are responsible for performing complex operations, interacting with the database or other external services, orchestrating data processing, and managing the application&#39;s flow logic.\r\nResolvers can be used to address technical details or specific tasks, such as handling special situation or parameter mapping or performing conversions in a Spring application.","title":"What is the difference between Resolver and Service in java","body":"<p>Services are responsible for performing complex operations, interacting with the database or other external services, orchestrating data processing, and managing the application's flow logic.\nResolvers can be used to address technical details or specific tasks, such as handling special situation or parameter mapping or performing conversions in a Spring application.</p>\n"}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1695045901,"accepted_answer_id":77127512,"answer_count":1,"score":-1,"last_activity_date":1695042650,"creation_date":1695041757,"question_id":77127403,"body_markdown":"I have a general question , i noticed that some people are naming classes as Resolver in spring boot application , but in functionality it os the same as in services , the only difference is the naming.\r\nIs there some sort of rules where i sould apply one of this namings , or it doesn`t matter\r\nFor example if class is only responsible for retrieving data from API, it sould be named as \r\n**SomeSortApiResolver** or  **SomeSortApiService**?","title":"What is the difference between Resolver and Service in java","body":"<p>I have a general question , i noticed that some people are naming classes as Resolver in spring boot application , but in functionality it os the same as in services , the only difference is the naming.\nIs there some sort of rules where i sould apply one of this namings , or it doesn`t matter\nFor example if class is only responsible for retrieving data from API, it sould be named as\n<strong>SomeSortApiResolver</strong> or  <strong>SomeSortApiService</strong>?</p>\n"},{"tags":["java","selenium-chromedriver"],"owner":{"account_id":10549957,"reputation":283,"user_id":7772947,"display_name":"xmcx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695042481,"creation_date":1695042481,"question_id":77127488,"body_markdown":"I am using chromedriver to automated crawling. When I invoke method like `findElements` or `switchTo().frame(frame)`, the program seems to be blocked, and the page in the browser looks normal, but there is nothing in the `Elements` tag of DevTools.\r\n\r\n    public class WebDoc {\r\n    \r\n        public static WebElement findElement(WebDriver driver, SearchContext context, By by) {\r\n            List&lt;WebElement&gt; elements = findElements(driver, context, by);\r\n            if (elements.isEmpty()) {\r\n                throw new RuntimeException(String.format(&quot;element not found: &#39;%s&#39;&quot;, by));\r\n            }\r\n            return elements.get(0);\r\n        }\r\n    \r\n        public static List&lt;WebElement&gt; findElements(WebDriver driver, SearchContext context, By by) {\r\n            driver.manage().timeouts().implicitlyWait(Duration.ZERO);\r\n            WebDriverWait wait = new WebDriverWait(driver, Duration.ofMillis(4_000));\r\n            wait.until(ExpectedConditions.presenceOfElementLocated(by));\r\n            try {\r\n                long start = System.currentTimeMillis();\r\n                List&lt;WebElement&gt; elements = context.findElements(by);\r\n                System.out.printf(&quot;spend: &#39;%s ms&#39;, by: &#39;%s&#39;%n%n&quot;, (System.currentTimeMillis() - start), by);\r\n                return elements;\r\n            } finally {\r\n                driver.manage().timeouts().implicitlyWait(Duration.ofMillis(30_000));\r\n            }\r\n        }\r\n    \r\n        public static void sleep(long millis) {\r\n            try {\r\n                Thread.sleep(millis);\r\n            } catch (InterruptedException ignored) {\r\n            }\r\n        }\r\n    \r\n        public static WebDriver driver() {\r\n            System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, &quot;/Users/xxx/chromedriver/chromedriver_117&quot;);\r\n            ChromeOptions options = new ChromeOptions();\r\n    //        options.addArguments(&quot;--headless&quot;);\r\n            options.addArguments(&quot;--incognito&quot;);\r\n            options.addArguments(&quot;--no-sandbox&quot;);\r\n            options.addArguments(&quot;--disable-gpu&quot;);\r\n            options.addArguments(&quot;--disable-infobars&quot;);\r\n            options.addArguments(&quot;--disable-extensions&quot;);\r\n            options.addArguments(&quot;--window-size=1366,768&quot;);\r\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n            options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;);\r\n            options.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\r\n    \r\n            options.addArguments(&quot;--lang=zh-CN,zh,en&quot;);\r\n            options.addArguments(&quot;--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36&quot;);\r\n    \r\n            options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n            options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\r\n            // i have tried other strategy and timeout values\r\n            options.setPageLoadStrategy(PageLoadStrategy.NONE);\r\n            options.setScriptTimeout(Duration.ofMillis(30_000));\r\n            options.setPageLoadTimeout(Duration.ofMillis(60_000));\r\n            options.setImplicitWaitTimeout(Duration.ofMillis(30_000));\r\n            ChromeDriver driver = new ChromeDriver(ChromeDriverService.createDefaultService(), options);\r\n            return driver;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            WebDriver driver = driver();\r\n            try {\r\n                driver.get(&quot;https://music.163.com/#/song?id=17933856&quot;);\r\n                // wait the website load complete\r\n                sleep(10_000);\r\n                // iframe#g_iframe; most spend time over 10s\r\n                WebElement frame = findElement(driver, driver, By.tagName(&quot;iframe&quot;));\r\n                // the time spent is several times longer than the above\r\n                driver.switchTo().frame(frame);\r\n                // ... things i want to do\r\n            } finally {\r\n                driver.quit();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n - OS: Apple M2 Pro\r\n - JDK: 8\r\n - chromedriver: 4.12.1\r\n - chrome: 117\r\n\r\nIs one or all of my options or usage wrong?","title":"chromedriver seems to be blocked","body":"<p>I am using chromedriver to automated crawling. When I invoke method like <code>findElements</code> or <code>switchTo().frame(frame)</code>, the program seems to be blocked, and the page in the browser looks normal, but there is nothing in the <code>Elements</code> tag of DevTools.</p>\n<pre><code>public class WebDoc {\n\n    public static WebElement findElement(WebDriver driver, SearchContext context, By by) {\n        List&lt;WebElement&gt; elements = findElements(driver, context, by);\n        if (elements.isEmpty()) {\n            throw new RuntimeException(String.format(&quot;element not found: '%s'&quot;, by));\n        }\n        return elements.get(0);\n    }\n\n    public static List&lt;WebElement&gt; findElements(WebDriver driver, SearchContext context, By by) {\n        driver.manage().timeouts().implicitlyWait(Duration.ZERO);\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofMillis(4_000));\n        wait.until(ExpectedConditions.presenceOfElementLocated(by));\n        try {\n            long start = System.currentTimeMillis();\n            List&lt;WebElement&gt; elements = context.findElements(by);\n            System.out.printf(&quot;spend: '%s ms', by: '%s'%n%n&quot;, (System.currentTimeMillis() - start), by);\n            return elements;\n        } finally {\n            driver.manage().timeouts().implicitlyWait(Duration.ofMillis(30_000));\n        }\n    }\n\n    public static void sleep(long millis) {\n        try {\n            Thread.sleep(millis);\n        } catch (InterruptedException ignored) {\n        }\n    }\n\n    public static WebDriver driver() {\n        System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, &quot;/Users/xxx/chromedriver/chromedriver_117&quot;);\n        ChromeOptions options = new ChromeOptions();\n//        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--incognito&quot;);\n        options.addArguments(&quot;--no-sandbox&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n        options.addArguments(&quot;--disable-infobars&quot;);\n        options.addArguments(&quot;--disable-extensions&quot;);\n        options.addArguments(&quot;--window-size=1366,768&quot;);\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n        options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;);\n        options.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\n\n        options.addArguments(&quot;--lang=zh-CN,zh,en&quot;);\n        options.addArguments(&quot;--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36&quot;);\n\n        options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n        options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\n        // i have tried other strategy and timeout values\n        options.setPageLoadStrategy(PageLoadStrategy.NONE);\n        options.setScriptTimeout(Duration.ofMillis(30_000));\n        options.setPageLoadTimeout(Duration.ofMillis(60_000));\n        options.setImplicitWaitTimeout(Duration.ofMillis(30_000));\n        ChromeDriver driver = new ChromeDriver(ChromeDriverService.createDefaultService(), options);\n        return driver;\n    }\n\n    public static void main(String[] args) {\n        WebDriver driver = driver();\n        try {\n            driver.get(&quot;https://music.163.com/#/song?id=17933856&quot;);\n            // wait the website load complete\n            sleep(10_000);\n            // iframe#g_iframe; most spend time over 10s\n            WebElement frame = findElement(driver, driver, By.tagName(&quot;iframe&quot;));\n            // the time spent is several times longer than the above\n            driver.switchTo().frame(frame);\n            // ... things i want to do\n        } finally {\n            driver.quit();\n        }\n    }\n\n}\n</code></pre>\n<ul>\n<li>OS: Apple M2 Pro</li>\n<li>JDK: 8</li>\n<li>chromedriver: 4.12.1</li>\n<li>chrome: 117</li>\n</ul>\n<p>Is one or all of my options or usage wrong?</p>\n"},{"tags":["java","fxml","openjfx"],"answers":[{"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":4,"creation_date":1694862411,"post_id":77116383,"comment_id":135948954,"body_markdown":"When quoting something, please include where you found it. See [How to reference material written by others](https://stackoverflow.com/help/referencing)","body":"When quoting something, please include where you found it. See <a href=\"https://stackoverflow.com/help/referencing\">How to reference material written by others</a>"},{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":1,"creation_date":1695042207,"post_id":77116383,"comment_id":135967116,"body_markdown":"I will fix the plagiarism this time. Please do it yourself next time.","body":"I will fix the plagiarism this time. Please do it yourself next time."}],"tags":[],"owner":{"account_id":23695923,"reputation":39,"user_id":17719642,"display_name":"user17719642"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695042238,"creation_date":1694840042,"answer_id":77116383,"question_id":77114039,"body_markdown":"Fixed the problem from https://github.com/nus-cs2103-AY2223S1/forum/issues/213#issuecomment-1249046920\r\n\r\n&gt; I also get the same error in Linux (Arch). For fixing the issue: remove the javafx {} block at the end of build.gradle. That part is actually restricting the packages.","title":"Failed to load Glass factory class : Keep on Getting this error for Linux and some mac os machine but works fine otherwise","body":"<p>Fixed the problem from <a href=\"https://github.com/nus-cs2103-AY2223S1/forum/issues/213#issuecomment-1249046920\" rel=\"nofollow noreferrer\">https://github.com/nus-cs2103-AY2223S1/forum/issues/213#issuecomment-1249046920</a></p>\n<blockquote>\n<p>I also get the same error in Linux (Arch). For fixing the issue: remove the javafx {} block at the end of build.gradle. That part is actually restricting the packages.</p>\n</blockquote>\n"}],"owner":{"account_id":23695923,"reputation":39,"user_id":17719642,"display_name":"user17719642"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695042238,"creation_date":1694795685,"question_id":77114039,"body_markdown":"I made a Jar file on Intellij, and I was able to make it run in Windows and some MacOS but not otherwise (so some MacOS and Linux wont work)\r\n\r\nWhat i have done : \r\n1. Change the `javafx` version from 17 to 11.\r\n2. Added the `module-info.java` and add java controls and fxml\r\nContext this is my `build.gradle` file\r\n```\r\nplugins {\r\n    id &#39;checkstyle&#39;\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-api&#39;, version: &#39;5.10.0&#39;\r\n    testRuntimeOnly group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-engine&#39;, version: &#39;5.10.0&#39;\r\n\r\n    String javaFxVersion = &#39;17.0.8&#39;\r\n\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-base&#39;, version: javaFxVersion, classifier: &#39;win&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-base&#39;, version: javaFxVersion, classifier: &#39;mac&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-base&#39;, version: javaFxVersion, classifier: &#39;linux&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-controls&#39;, version: javaFxVersion, classifier: &#39;win&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-controls&#39;, version: javaFxVersion, classifier: &#39;mac&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-controls&#39;, version: javaFxVersion, classifier: &#39;linux&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-fxml&#39;, version: javaFxVersion, classifier: &#39;win&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-fxml&#39;, version: javaFxVersion, classifier: &#39;mac&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-fxml&#39;, version: javaFxVersion, classifier: &#39;linux&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-graphics&#39;, version: javaFxVersion, classifier: &#39;win&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-graphics&#39;, version: javaFxVersion, classifier: &#39;mac&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-graphics&#39;, version: javaFxVersion, classifier: &#39;linux&#39;\r\n\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n\r\n    testLogging {\r\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n\r\n        showExceptions true\r\n        exceptionFormat &quot;full&quot;\r\n        showCauses true\r\n        showStackTraces true\r\n        showStandardStreams = false\r\n    }\r\n}\r\n\r\njavafx {\r\n    version = &#39;17&#39;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n}\r\n\r\napplication {\r\n    mainClass.set(&quot;seedu.Launcher&quot;)\r\n}\r\n\r\nshadowJar {\r\n    archiveBaseName = &quot;duke&quot;\r\n    archiveClassifier = null\r\n    dependsOn(&quot;distZip&quot;, &quot;distTar&quot;)\r\n}\r\n\r\ncheckstyle {\r\n    toolVersion = &#39;10.2&#39;\r\n}\r\n\r\nrun {\r\n    standardInput = System.in\r\n}\r\n\r\n```\r\n\r\n\r\nJava version i am using is 11\r\n\r\n```\r\nSep 16, 2023 12:08:25 AM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @6712f432&#39;\r\njava.lang.ClassNotFoundException: com.sun.glass.ui.gtk.GtkPlatformFactory\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:315)\r\n        at com.sun.glass.ui.PlatformFactory.getPlatformFactory(PlatformFactory.java:42)\r\n        at com.sun.glass.ui.Application.run(Application.java:146)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nFailed to load Glass factory class\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n        at com.sun.glass.ui.Application.run(Application.java:146)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```","title":"Failed to load Glass factory class : Keep on Getting this error for Linux and some mac os machine but works fine otherwise","body":"<p>I made a Jar file on Intellij, and I was able to make it run in Windows and some MacOS but not otherwise (so some MacOS and Linux wont work)</p>\n<p>What i have done :</p>\n<ol>\n<li>Change the <code>javafx</code> version from 17 to 11.</li>\n<li>Added the <code>module-info.java</code> and add java controls and fxml\nContext this is my <code>build.gradle</code> file</li>\n</ol>\n<pre><code>plugins {\n    id 'checkstyle'\n    id 'java'\n    id 'application'\n    id 'com.github.johnrengelman.shadow' version '7.1.2'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.10.0'\n    testRuntimeOnly group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: '5.10.0'\n\n    String javaFxVersion = '17.0.8'\n\n    implementation group: 'org.openjfx', name: 'javafx-base', version: javaFxVersion, classifier: 'win'\n    implementation group: 'org.openjfx', name: 'javafx-base', version: javaFxVersion, classifier: 'mac'\n    implementation group: 'org.openjfx', name: 'javafx-base', version: javaFxVersion, classifier: 'linux'\n    implementation group: 'org.openjfx', name: 'javafx-controls', version: javaFxVersion, classifier: 'win'\n    implementation group: 'org.openjfx', name: 'javafx-controls', version: javaFxVersion, classifier: 'mac'\n    implementation group: 'org.openjfx', name: 'javafx-controls', version: javaFxVersion, classifier: 'linux'\n    implementation group: 'org.openjfx', name: 'javafx-fxml', version: javaFxVersion, classifier: 'win'\n    implementation group: 'org.openjfx', name: 'javafx-fxml', version: javaFxVersion, classifier: 'mac'\n    implementation group: 'org.openjfx', name: 'javafx-fxml', version: javaFxVersion, classifier: 'linux'\n    implementation group: 'org.openjfx', name: 'javafx-graphics', version: javaFxVersion, classifier: 'win'\n    implementation group: 'org.openjfx', name: 'javafx-graphics', version: javaFxVersion, classifier: 'mac'\n    implementation group: 'org.openjfx', name: 'javafx-graphics', version: javaFxVersion, classifier: 'linux'\n\n}\n\ntest {\n    useJUnitPlatform()\n\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n\n        showExceptions true\n        exceptionFormat &quot;full&quot;\n        showCauses true\n        showStackTraces true\n        showStandardStreams = false\n    }\n}\n\njavafx {\n    version = '17'\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\n\napplication {\n    mainClass.set(&quot;seedu.Launcher&quot;)\n}\n\nshadowJar {\n    archiveBaseName = &quot;duke&quot;\n    archiveClassifier = null\n    dependsOn(&quot;distZip&quot;, &quot;distTar&quot;)\n}\n\ncheckstyle {\n    toolVersion = '10.2'\n}\n\nrun {\n    standardInput = System.in\n}\n\n</code></pre>\n<p>Java version i am using is 11</p>\n<pre><code>Sep 16, 2023 12:08:25 AM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @6712f432'\njava.lang.ClassNotFoundException: com.sun.glass.ui.gtk.GtkPlatformFactory\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:315)\n        at com.sun.glass.ui.PlatformFactory.getPlatformFactory(PlatformFactory.java:42)\n        at com.sun.glass.ui.Application.run(Application.java:146)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nFailed to load Glass factory class\nException in thread &quot;main&quot; java.lang.NullPointerException\n        at com.sun.glass.ui.Application.run(Application.java:146)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-ec2","aws-sdk"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1695043442,"post_id":77127408,"comment_id":135967383,"body_markdown":"Was the S3 bucket created shortly before this test was run?","body":"Was the S3 bucket created shortly before this test was run?"},{"owner":{"account_id":19186196,"reputation":191,"user_id":14016935,"display_name":"Sanket Vidwans"},"score":0,"creation_date":1695045520,"post_id":77127408,"comment_id":135967869,"body_markdown":"Nope bucket is created on 17th March 2023","body":"Nope bucket is created on 17th March 2023"},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1695046594,"post_id":77127408,"comment_id":135968111,"body_markdown":"See [How do I troubleshoot the UnknownHostException error in my Java application?](https://repost.aws/knowledge-center/route-53-fix-unknownhostexception-error)","body":"See <a href=\"https://repost.aws/knowledge-center/route-53-fix-unknownhostexception-error\" rel=\"nofollow noreferrer\">How do I troubleshoot the UnknownHostException error in my Java application?</a>"}],"owner":{"account_id":19186196,"reputation":191,"user_id":14016935,"display_name":"Sanket Vidwans"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695041775,"creation_date":1695041775,"question_id":77127408,"body_markdown":"Getting  java.net.UnknownHostException: **bucketName.s3.ap-south-1.amazonaws.com** exception while uploading file to S3\r\n\r\nBelow is our code snippet to connect to Amazon S3 and uploading file to S3, we are getting below exception for file uploads \r\n\r\nCaught an AmazonClientException, which means the client encountered an internal error while trying to communicate with S3, such as not being able to access the network.Error Message: Unable to execute HTTP request: **bucketName.s3.ap-south-1.amazonaws.com**\r\ncom.amazonaws.SdkClientException: Unable to execute HTTP request:\r\n\r\n**Caused by: java.net.UnknownHostException: bucketName.s3.ap-south-1.amazonaws.com**\r\n\r\n\r\nThis exception is observed in between and gets resolved on war redeploy or sometimes gets resolved automatically, not able to find root cause ,please help.\r\nWe are using 1.12.305 AWS Java SDK.\r\n\r\nIs it code side issue ? Is it DNS related issue ? Is it AWS related issue ?\r\n\r\n    public static AmazonS3 connectToAmazonS3(String accessKeyID, String secretAccessKey) {\r\n    \r\n    \t\tLOGGER.info(&quot;Connect to the amazon s3 service using the credentials&quot;);\r\n    \t\ttry {\r\n    \t\t\tfinal BasicAWSCredentials awsCreds = new BasicAWSCredentials(accessKeyID, secretAccessKey);\r\n    \r\n    \t\t\tfinal AmazonS3 s3Client = new AmazonS3Client(awsCreds);\r\n    \t\t\tLOGGER.info(&quot;Successfully connected to Amazon S3 service&quot;);\r\n    \r\n    \t\t\treturn s3Client;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOGGER.error(&quot;Error occured while connecting to Amazon S3 service&quot; + e, e);\r\n    \t\t}\r\n    \r\n    \t\tLOGGER.info(&quot;Connection not established with Amazon S3 service&quot;);\r\n    \t\treturn null;\r\n    \t}\r\n\r\n\t\r\n\r\n    public static void uploadFileToAmazonS3(final AmazonS3 s3Client, final String bucketName, final String keyName, String cmdStr) {\r\n    \t\tLOGGER.info(&quot;Started upload file to Amazon S3 for key: &quot; + keyName);\r\n    \r\n    \t\ttry {\r\n    \t\t\tbyte[] contentAsBytes = cmdStr.getBytes(EPSCommonConstants.CHARSET_UTF8);\r\n    \t\t\tByteArrayInputStream contentAsStream = new ByteArrayInputStream(contentAsBytes);\r\n    \r\n    \t\t\tObjectMetadata metadata = new ObjectMetadata();\r\n    \t\t\tmetadata.setContentLength(contentAsBytes.length);\r\n    \r\n    \t\t\tPutObjectRequest req = new PutObjectRequest(bucketName, keyName, contentAsStream, metadata);\r\n    \t\t\ts3Client.putObject(req);\r\n    \r\n    \t\t} catch (AmazonServiceException ase) {\r\n    \r\n    \t\t\tLOGGER.error(&quot;Caught an AmazonServiceException, which &quot; + &quot;means your request made it &quot;\r\n    \t\t\t\t\t+ &quot;to Amazon S3, but was rejected with an error response&quot; + &quot; for some reason.&quot;, ase);\r\n    \r\n    \t\t\tLOGGER.error(&quot;Error Message:    &quot; + ase.getMessage() + &quot; &quot; + &quot;HTTP Status Code: &quot; + ase.getStatusCode()\r\n    \t\t\t\t\t+ &quot; &quot; + &quot;AWS Error Code:   &quot; + ase.getErrorCode() + &quot; &quot; + &quot;Error Type:       &quot; + ase.getErrorType()\r\n    \t\t\t\t\t+ &quot; &quot; + &quot;Request ID:       &quot; + ase.getRequestId());\r\n    \t\t} catch (AmazonClientException ace) {\r\n    \t\t\tLOGGER.error(\r\n    \t\t\t\t\t&quot;Caught an AmazonClientException, which &quot; + &quot;means the client encountered &quot;\r\n    \t\t\t\t\t\t\t+ &quot;an internal error while trying to &quot; + &quot;communicate with S3, &quot;\r\n    \t\t\t\t\t\t\t+ &quot;such as not being able to access the network.&quot; + &quot;Error Message: &quot; + ace.getMessage(),\r\n    \t\t\t\t\tace);\r\n    \t\t} catch (IOException ioe) {\r\n    \t\t\tLOGGER.error(&quot;Caught an IOException Error Message: &quot; + ioe.getMessage(), ioe);\r\n    \t\t}\r\n    \t}","title":"Getting java.net.UnknownHostException: bucketName.s3.ap-south-1.amazonaws.com exception while uplaoding file to S3","body":"<p>Getting  java.net.UnknownHostException: <strong>bucketName.s3.ap-south-1.amazonaws.com</strong> exception while uploading file to S3</p>\n<p>Below is our code snippet to connect to Amazon S3 and uploading file to S3, we are getting below exception for file uploads</p>\n<p>Caught an AmazonClientException, which means the client encountered an internal error while trying to communicate with S3, such as not being able to access the network.Error Message: Unable to execute HTTP request: <strong>bucketName.s3.ap-south-1.amazonaws.com</strong>\ncom.amazonaws.SdkClientException: Unable to execute HTTP request:</p>\n<p><strong>Caused by: java.net.UnknownHostException: bucketName.s3.ap-south-1.amazonaws.com</strong></p>\n<p>This exception is observed in between and gets resolved on war redeploy or sometimes gets resolved automatically, not able to find root cause ,please help.\nWe are using 1.12.305 AWS Java SDK.</p>\n<p>Is it code side issue ? Is it DNS related issue ? Is it AWS related issue ?</p>\n<pre><code>public static AmazonS3 connectToAmazonS3(String accessKeyID, String secretAccessKey) {\n\n        LOGGER.info(&quot;Connect to the amazon s3 service using the credentials&quot;);\n        try {\n            final BasicAWSCredentials awsCreds = new BasicAWSCredentials(accessKeyID, secretAccessKey);\n\n            final AmazonS3 s3Client = new AmazonS3Client(awsCreds);\n            LOGGER.info(&quot;Successfully connected to Amazon S3 service&quot;);\n\n            return s3Client;\n        } catch (Exception e) {\n            LOGGER.error(&quot;Error occured while connecting to Amazon S3 service&quot; + e, e);\n        }\n\n        LOGGER.info(&quot;Connection not established with Amazon S3 service&quot;);\n        return null;\n    }\n\n\n\npublic static void uploadFileToAmazonS3(final AmazonS3 s3Client, final String bucketName, final String keyName, String cmdStr) {\n        LOGGER.info(&quot;Started upload file to Amazon S3 for key: &quot; + keyName);\n\n        try {\n            byte[] contentAsBytes = cmdStr.getBytes(EPSCommonConstants.CHARSET_UTF8);\n            ByteArrayInputStream contentAsStream = new ByteArrayInputStream(contentAsBytes);\n\n            ObjectMetadata metadata = new ObjectMetadata();\n            metadata.setContentLength(contentAsBytes.length);\n\n            PutObjectRequest req = new PutObjectRequest(bucketName, keyName, contentAsStream, metadata);\n            s3Client.putObject(req);\n\n        } catch (AmazonServiceException ase) {\n\n            LOGGER.error(&quot;Caught an AmazonServiceException, which &quot; + &quot;means your request made it &quot;\n                    + &quot;to Amazon S3, but was rejected with an error response&quot; + &quot; for some reason.&quot;, ase);\n\n            LOGGER.error(&quot;Error Message:    &quot; + ase.getMessage() + &quot; &quot; + &quot;HTTP Status Code: &quot; + ase.getStatusCode()\n                    + &quot; &quot; + &quot;AWS Error Code:   &quot; + ase.getErrorCode() + &quot; &quot; + &quot;Error Type:       &quot; + ase.getErrorType()\n                    + &quot; &quot; + &quot;Request ID:       &quot; + ase.getRequestId());\n        } catch (AmazonClientException ace) {\n            LOGGER.error(\n                    &quot;Caught an AmazonClientException, which &quot; + &quot;means the client encountered &quot;\n                            + &quot;an internal error while trying to &quot; + &quot;communicate with S3, &quot;\n                            + &quot;such as not being able to access the network.&quot; + &quot;Error Message: &quot; + ace.getMessage(),\n                    ace);\n        } catch (IOException ioe) {\n            LOGGER.error(&quot;Caught an IOException Error Message: &quot; + ioe.getMessage(), ioe);\n        }\n    }\n</code></pre>\n"},{"tags":["java","css","spring","intellij-idea","bootstrap-5"],"comments":[{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":1,"creation_date":1695041546,"post_id":77127354,"comment_id":135966977,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1695041634,"post_id":77127354,"comment_id":135966995,"body_markdown":"Have you verified whether the browser is able to _load_ your custom CSS from the URL you specified, in the first place? Check browser console &amp; network panel for 404 errors.","body":"Have you verified whether the browser is able to <i>load</i> your custom CSS from the URL you specified, in the first place? Check browser console &amp; network panel for 404 errors."},{"owner":{"account_id":29473482,"reputation":1,"user_id":22585695,"display_name":"sunny k"},"score":0,"creation_date":1695123031,"post_id":77127354,"comment_id":135979206,"body_markdown":"Thanks for your help! The browser console error message helped. My path for the css file wasn&#39;t correct.","body":"Thanks for your help! The browser console error message helped. My path for the css file wasn&#39;t correct."}],"owner":{"account_id":29473482,"reputation":1,"user_id":22585695,"display_name":"sunny k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695041401,"creation_date":1695041401,"question_id":77127354,"body_markdown":"[Picture of intellij idea](https://i.stack.imgur.com/NvR2N.png)\r\nI have been awake for a long time and I&#39;m not sure what I&#39;m doing wrong at this point but my custom css file does not work at all, even if I comment out the bootstrap css. \r\n\r\n\r\n\r\nI have been googling what to do for over an hour and I tried a lot of the recommendations but nothing is working so far. I tried using !important; I had my custom css link both above and below the bootstrap css; I tried adding #spring.web.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/ to my application.properties.\r\n\r\nI have just started using intellij for an assignment and even though editing the css isn&#39;t required, I would still like to figure out how to do it. ","title":"I am trying to override bootstrap css with a custom page but my custom overrides aren&#39;t showing up. My custom css doesn&#39;t work at all","body":"<p><a href=\"https://i.stack.imgur.com/NvR2N.png\" rel=\"nofollow noreferrer\">Picture of intellij idea</a>\nI have been awake for a long time and I'm not sure what I'm doing wrong at this point but my custom css file does not work at all, even if I comment out the bootstrap css.</p>\n<p>I have been googling what to do for over an hour and I tried a lot of the recommendations but nothing is working so far. I tried using !important; I had my custom css link both above and below the bootstrap css; I tried adding #spring.web.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/ to my application.properties.</p>\n<p>I have just started using intellij for an assignment and even though editing the css isn't required, I would still like to figure out how to do it.</p>\n"},{"tags":["java","unit-testing","mocking","mockito","object-construction"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695041239,"creation_date":1694793478,"answer_id":77113799,"question_id":77112884,"body_markdown":"Some refactorings are less likely than others to cause problems. In this case I would suggest to refactor the class so that the construction of your problematic class can be controlled.\r\n\r\n```\r\nclass MyClass {\r\n    // visible for testing\r\n    static Function&lt;String, Problematic&gt; problematicFactory = Problematic::new;\r\n\r\n    public static void myCode() {\r\n        ThirdPartyLibrary.thirdPartyCode();\r\n        problematicFactory.apply(&quot;this needs to be mocked&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIt should be trivial to verify that this does not change the behavior of your class (you could start your application once and verify that it still works – or you trust that such a minimal change does not cause problems).\r\n\r\nThen in your test, you can change the construction to something else:\r\n\r\n```\r\nclass MockProblematicObjectConstructionTest {\r\n    @Test\r\n    void test() {\r\n        MyClass.problematicFactory = arg =&gt; {\r\n          throw new RuntimeException(&quot;whatever&quot;);\r\n        };\r\n\r\n        MyClass.myCode();\r\n    }\r\n}\r\n```\r\n\r\nEventually, you can then transition your class to use dependency injection via its constructor and hide/encapsulate the field again.","title":"Mocking object construction in unit tests","body":"<p>Some refactorings are less likely than others to cause problems. In this case I would suggest to refactor the class so that the construction of your problematic class can be controlled.</p>\n<pre><code>class MyClass {\n    // visible for testing\n    static Function&lt;String, Problematic&gt; problematicFactory = Problematic::new;\n\n    public static void myCode() {\n        ThirdPartyLibrary.thirdPartyCode();\n        problematicFactory.apply(&quot;this needs to be mocked&quot;);\n    }\n}\n</code></pre>\n<p>It should be trivial to verify that this does not change the behavior of your class (you could start your application once and verify that it still works – or you trust that such a minimal change does not cause problems).</p>\n<p>Then in your test, you can change the construction to something else:</p>\n<pre><code>class MockProblematicObjectConstructionTest {\n    @Test\n    void test() {\n        MyClass.problematicFactory = arg =&gt; {\n          throw new RuntimeException(&quot;whatever&quot;);\n        };\n\n        MyClass.myCode();\n    }\n}\n</code></pre>\n<p>Eventually, you can then transition your class to use dependency injection via its constructor and hide/encapsulate the field again.</p>\n"}],"owner":{"account_id":85548,"reputation":7632,"user_id":238421,"accept_rate":100,"display_name":"Danilo Piazzalunga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77113799,"answer_count":1,"score":0,"last_activity_date":1695041239,"creation_date":1694785482,"question_id":77112884,"body_markdown":"I would like to write unit tests for a class which creates an instance of a problematic class, and I am working under the following constraints:\r\n\r\n1. My class calls some third-party library initialization code.\r\n2. The third-party code creates an instance of the problematic class. This is fine, and I should **not** replace this instance with a mock, in order not to alter the behavior of the third-party library.\r\n3. My class creates an instance of the problematic class. I should mock the object construction; for example, I would make the problematic object constructor throw an exception.\r\n\r\nI am using **Mockito 5.5.0** and **JUnit Jupiter 5.9.3**.\r\n\r\nHere is a fairly minimal example:\r\n\r\n\r\n```\r\nclass Problematic {\r\n\r\n    public Problematic(String description) {\r\n        System.out.println(&quot;Problematic object constructed: &quot; + description);\r\n    }\r\n}\r\n\r\nclass ThirdPartyLibrary {\r\n\r\n    public static void thirdPartyCode() {\r\n        new Problematic(&quot;this is fine&quot;);\r\n    }\r\n}\r\n\r\nclass MyClass {\r\n\r\n    public static void myCode() {\r\n        ThirdPartyLibrary.thirdPartyCode();\r\n        new Problematic(&quot;this needs to be mocked&quot;);\r\n    }\r\n}\r\n\r\nclass MockProblematicObjectConstructionTest {\r\n\r\n    @Test\r\n    void test() {\r\n        try (MockedConstruction mockedProblematic = mockConstruction(Problematic.class, (mock, context) -&gt; {\r\n            // Now what?\r\n            System.out.println(&quot;Context arguments: &quot; + context.arguments());\r\n        })) {\r\n            MyClass.myCode();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow can I intercept and/or mock `Problematic`&#39;s constructor, but only when it has been called from  `MyClass`?\r\n\r\nThis is part of an incremental refactoring of legacy code, and I would like to write &quot;pin-down tests&quot; before starting the actual refactoring.\r\n","title":"Mocking object construction in unit tests","body":"<p>I would like to write unit tests for a class which creates an instance of a problematic class, and I am working under the following constraints:</p>\n<ol>\n<li>My class calls some third-party library initialization code.</li>\n<li>The third-party code creates an instance of the problematic class. This is fine, and I should <strong>not</strong> replace this instance with a mock, in order not to alter the behavior of the third-party library.</li>\n<li>My class creates an instance of the problematic class. I should mock the object construction; for example, I would make the problematic object constructor throw an exception.</li>\n</ol>\n<p>I am using <strong>Mockito 5.5.0</strong> and <strong>JUnit Jupiter 5.9.3</strong>.</p>\n<p>Here is a fairly minimal example:</p>\n<pre><code>class Problematic {\n\n    public Problematic(String description) {\n        System.out.println(&quot;Problematic object constructed: &quot; + description);\n    }\n}\n\nclass ThirdPartyLibrary {\n\n    public static void thirdPartyCode() {\n        new Problematic(&quot;this is fine&quot;);\n    }\n}\n\nclass MyClass {\n\n    public static void myCode() {\n        ThirdPartyLibrary.thirdPartyCode();\n        new Problematic(&quot;this needs to be mocked&quot;);\n    }\n}\n\nclass MockProblematicObjectConstructionTest {\n\n    @Test\n    void test() {\n        try (MockedConstruction mockedProblematic = mockConstruction(Problematic.class, (mock, context) -&gt; {\n            // Now what?\n            System.out.println(&quot;Context arguments: &quot; + context.arguments());\n        })) {\n            MyClass.myCode();\n        }\n    }\n}\n</code></pre>\n<p>How can I intercept and/or mock <code>Problematic</code>'s constructor, but only when it has been called from  <code>MyClass</code>?</p>\n<p>This is part of an incremental refactoring of legacy code, and I would like to write &quot;pin-down tests&quot; before starting the actual refactoring.</p>\n"},{"tags":["java","maven","javafx","javafx-11"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1642826136,"post_id":52653836,"comment_id":125181396,"body_markdown":"Related question [How can I create an all-in-one jar for a JavaFX project with the Maven Assembly plugin?](https://stackoverflow.com/questions/70806482/how-can-i-create-an-all-in-one-jar-for-a-javafx-project-with-the-maven-assembly) if you are trying to perform a similar task using the maven assembly plugin `jar-with-dependencies` option rather than shade.","body":"Related question <a href=\"https://stackoverflow.com/questions/70806482/how-can-i-create-an-all-in-one-jar-for-a-javafx-project-with-the-maven-assembly\">How can I create an all-in-one jar for a JavaFX project with the Maven Assembly plugin?</a> if you are trying to perform a similar task using the maven assembly plugin <code>jar-with-dependencies</code> option rather than shade."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643611798,"post_id":52653836,"comment_id":125376963,"body_markdown":"See also: [Eden coding guide to the runtime components are missing error](https://edencoding.com/runtime-components-error/).","body":"See also: <a href=\"https://edencoding.com/runtime-components-error/\" rel=\"nofollow noreferrer\">Eden coding guide to the runtime components are missing error</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645009799,"post_id":52653836,"comment_id":125754899,"body_markdown":"A user was having some issues trying to get this to work, so I provided some detailed steps and trouble-shooting guidelines which could applied to the process in the answer to [&quot;Can not run JAVAFX .jar File (many errors occurred)&quot;](https://stackoverflow.com/a/71139922/1155209).","body":"A user was having some issues trying to get this to work, so I provided some detailed steps and trouble-shooting guidelines which could applied to the process in the answer to <a href=\"https://stackoverflow.com/a/71139922/1155209\">&quot;Can not run JAVAFX .jar File (many errors occurred)&quot;</a>."}],"answers":[{"comments":[{"owner":{"account_id":13466511,"reputation":713,"user_id":9716566,"display_name":"Bitclef"},"score":15,"creation_date":1538686846,"post_id":52654791,"comment_id":92241495,"body_markdown":"Wow you&#39;re absolutely incredible! Thank you so much for your help.","body":"Wow you&#39;re absolutely incredible! Thank you so much for your help."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":8,"creation_date":1538687185,"post_id":52654791,"comment_id":92241623,"body_markdown":"Glad of being helpful. Make sure you mark the answer as accepted, as it might be also useful to others in the near future.","body":"Glad of being helpful. Make sure you mark the answer as accepted, as it might be also useful to others in the near future."},{"owner":{"account_id":9559,"reputation":8294,"user_id":17715,"accept_rate":97,"display_name":"Ryan Michela"},"score":2,"creation_date":1554264850,"post_id":52654791,"comment_id":97682482,"body_markdown":"I found you can bundle only the needed `javafx-graphics` implementation using maven profiles with os specific activations. https://stackoverflow.com/questions/19023109/values-for-os-family-in-maven-profile-activation-condition","body":"I found you can bundle only the needed <code>javafx-graphics</code> implementation using maven profiles with os specific activations. <a href=\"https://stackoverflow.com/questions/19023109/values-for-os-family-in-maven-profile-activation-condition\" title=\"values for os family in maven profile activation condition\">stackoverflow.com/questions/19023109/&hellip;</a>"},{"owner":{"account_id":5345413,"reputation":357,"user_id":4261132,"accept_rate":75,"display_name":"james.sw.clark"},"score":3,"creation_date":1556320453,"post_id":52654791,"comment_id":98411584,"body_markdown":"Super helpful, especially when combined with https://stackoverflow.com/a/54065502/4261132 for gradle Compile dependencies (n.b. comment them out if not doing a Shadow build!)","body":"Super helpful, especially when combined with <a href=\"https://stackoverflow.com/a/54065502/4261132\">stackoverflow.com/a/54065502/4261132</a> for gradle Compile dependencies (n.b. comment them out if not doing a Shadow build!)"},{"owner":{"account_id":6211005,"reputation":959,"user_id":4837295,"accept_rate":0,"display_name":"Piotr G"},"score":2,"creation_date":1573307296,"post_id":52654791,"comment_id":103843952,"body_markdown":"Hi, this is what I need. Unfortunately, I followed your cross-platform solution and it is not exactly working, which I described here: https://stackoverflow.com/questions/58769916/cross-platform-javafx-jar-using-maven-shade-plugin. Please have a look.","body":"Hi, this is what I need. Unfortunately, I followed your cross-platform solution and it is not exactly working, which I described here: <a href=\"https://stackoverflow.com/questions/58769916/cross-platform-javafx-jar-using-maven-shade-plugin\" title=\"cross platform javafx jar using maven shade plugin\">stackoverflow.com/questions/58769916/&hellip;</a>. Please have a look."},{"owner":{"account_id":11477697,"reputation":370,"user_id":11877320,"display_name":"Jamshaid"},"score":0,"creation_date":1575001258,"post_id":52654791,"comment_id":104430429,"body_markdown":"Creating a `NewMain.java` worked for me in Apache Netbeans 11 with java 11.","body":"Creating a <code>NewMain.java</code> worked for me in Apache Netbeans 11 with java 11."},{"owner":{"display_name":"user13685906"},"score":0,"creation_date":1593080065,"post_id":52654791,"comment_id":110656610,"body_markdown":"@Jos&#233;Pereda hello! Your answer on creating a cross platform jar helped, and I can now run the jar both on windows and linux at least. I am concerned over one error by the shade pluging about overlapping classes though, could you explain what it means? https://pastebin.com/58Ktccnp","body":"@Jos&#233;Pereda hello! Your answer on creating a cross platform jar helped, and I can now run the jar both on windows and linux at least. I am concerned over one error by the shade pluging about overlapping classes though, could you explain what it means? <a href=\"https://pastebin.com/58Ktccnp\" rel=\"nofollow noreferrer\">pastebin.com/58Ktccnp</a>"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1593080445,"post_id":52654791,"comment_id":110656795,"body_markdown":"@DiscapeTanki It means that the same Java classes are present in the Windows/Linux/Mac jars, and the shadow plugin is picking only one of them. This shouldn&#39;t be a problem as the codebase is the same.","body":"@DiscapeTanki It means that the same Java classes are present in the Windows/Linux/Mac jars, and the shadow plugin is picking only one of them. This shouldn&#39;t be a problem as the codebase is the same."},{"owner":{"display_name":"user13685906"},"score":0,"creation_date":1593081631,"post_id":52654791,"comment_id":110657371,"body_markdown":"@Jos&#233;Pereda What are the differences between the different classifier versions then? Also is there a way to suppress the warning?","body":"@Jos&#233;Pereda What are the differences between the different classifier versions then? Also is there a way to suppress the warning?"},{"owner":{"account_id":5298563,"reputation":1376,"user_id":4229007,"display_name":"Celeste Capece"},"score":0,"creation_date":1593684836,"post_id":52654791,"comment_id":110869039,"body_markdown":"Had this same problem on IntelliJ with Gradle, Kotlin and TornadoFX, you saved my life!","body":"Had this same problem on IntelliJ with Gradle, Kotlin and TornadoFX, you saved my life!"},{"owner":{"account_id":3802603,"reputation":901,"user_id":3155807,"accept_rate":88,"display_name":"Cheetaiean"},"score":1,"creation_date":1602883033,"post_id":52654791,"comment_id":113871120,"body_markdown":"I wish your comment was the answer under all the JavaFX troubleshooting questions. I have spent literal weeks trying to make things work.","body":"I wish your comment was the answer under all the JavaFX troubleshooting questions. I have spent literal weeks trying to make things work."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1633129358,"post_id":52654791,"comment_id":122686975,"body_markdown":"One of the highest voted answers for the `javafx` tag, and yet it documents how to perform a hack to run JavaFX in an [unsupported configuration](https://bugs.openjdk.java.net/browse/JDK-8256422) :-(. JavaFX 11+ releases are created as a set of Java modules designed to be run off the module path only.  Bundling multiple modules in a single jar [is not possible](https://stackoverflow.com/questions/47875351/multiple-java-9-modules-from-a-single-maven-module).  This hack can allow JavaFX to be placed on the classpath rather the module path, which usually works currently, but is not supported.","body":"One of the highest voted answers for the <code>javafx</code> tag, and yet it documents how to perform a hack to run JavaFX in an <a href=\"https://bugs.openjdk.java.net/browse/JDK-8256422\" rel=\"nofollow noreferrer\">unsupported configuration</a> :-(. JavaFX 11+ releases are created as a set of Java modules designed to be run off the module path only.  Bundling multiple modules in a single jar <a href=\"https://stackoverflow.com/questions/47875351/multiple-java-9-modules-from-a-single-maven-module\">is not possible</a>.  This hack can allow JavaFX to be placed on the classpath rather the module path, which usually works currently, but is not supported."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1633130373,"post_id":52654791,"comment_id":122687127,"body_markdown":"@jewelsea I agree with you that _ideally_ JavaFX should run only on the module path, and that fat jars should be totally discouraged. The JavaFX plugins try to do so, but it is not always possible (legacy dependencies for instance, jlink...). This answer doesn&#39;t advocate for the use of fat jars and classpath, but simply explains how it can be done for those that need it. There has been long discussions about this topic, but it is definitely not solved yet... The number of votes and views of this post confirms it.","body":"@jewelsea I agree with you that <i>ideally</i> JavaFX should run only on the module path, and that fat jars should be totally discouraged. The JavaFX plugins try to do so, but it is not always possible (legacy dependencies for instance, jlink...). This answer doesn&#39;t advocate for the use of fat jars and classpath, but simply explains how it can be done for those that need it. There has been long discussions about this topic, but it is definitely not solved yet... The number of votes and views of this post confirms it."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1633133566,"post_id":52654791,"comment_id":122687583,"body_markdown":"My main issue with this answer is that, although &quot;fat jars should be totally discouraged&quot;, the answer doesn&#39;t do that at all.  I know that this is not the place for a full discussion on this topic, and that is not my intention here.  However, I do think that this answer should be edited to highlight this very important point.","body":"My main issue with this answer is that, although &quot;fat jars should be totally discouraged&quot;, the answer doesn&#39;t do that at all.  I know that this is not the place for a full discussion on this topic, and that is not my intention here.  However, I do think that this answer should be edited to highlight this very important point."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1642825311,"post_id":52654791,"comment_id":125181308,"body_markdown":"I think if you want to be able to run your fat jar on new generation (non-intel) macs, you need additional dependencies for `&lt;classifier&gt;mac-aarch64&lt;/classifier&gt;` as well as the `&lt;classifier&gt;mac&lt;/classifier&gt;`.  I don&#39;t know for sure though as I haven&#39;t tried it and don&#39;t have the right kind of mac to test it on if I did.","body":"I think if you want to be able to run your fat jar on new generation (non-intel) macs, you need additional dependencies for <code>&lt;classifier&gt;mac-aarch64&lt;&#47;classifier&gt;</code> as well as the <code>&lt;classifier&gt;mac&lt;&#47;classifier&gt;</code>.  I don&#39;t know for sure though as I haven&#39;t tried it and don&#39;t have the right kind of mac to test it on if I did."}],"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"comment_count":15,"down_vote_count":0,"up_vote_count":153,"is_accepted":true,"score":153,"last_activity_date":1695041165,"creation_date":1538685437,"answer_id":52654791,"question_id":52653836,"body_markdown":"**UPDATE 10/2021**\r\n\r\nSince JavaFX 16 a warning is displayed when JavaFX doesn&#39;t run on the module path, which is the case of an uber/fat jar:\r\n\r\n```\r\n$ java -jar myFatJar-1.0-SNAPSHOT.jar\r\nOct 02, 2021 1:45:21 PM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @14c24f4c&#39;\r\n```\r\n\r\nAlso, you get a warning from the shade plugin itself:\r\n\r\n```\r\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\r\n```\r\n\r\nWhile these warnings can be initially ignored, there is a reason for them.\r\n\r\nAs explained in this [CSR](https://bugs.openjdk.java.net/browse/JDK-8256422): \r\n\r\n&gt; JavaFX is built and distributed as a set of named modules, each in its own modular jar file, and the JavaFX runtime expects its classes to be loaded from a set of named javafx.* modules, and does not support loading those modules from the classpath.\r\n\r\nAnd:\r\n\r\n&gt; when the JavaFX classes are loaded from the classpath, it breaks encapsulation, since we no longer get the benefit of the java module system.\r\n\r\nTherefore, **even this widely accepted answer explains how can an uber/fat jar can be created on Maven projects, its use is discouraged, and other modern alternatives to distribute your application, like `jlink`, `jpackage` or `native-image`, should be used; see _Packaging_ in the JavaFX tag to [_learn more_][1]**.\r\n\r\n\r\n**ORIGINAL ANSWER**\r\n\r\nThis [answer](https://stackoverflow.com/a/52571719/3956070) explains why a fat/uber jar fails on JavaFX 11. In short:\r\n\r\n&gt; This error comes from sun.launcher.LauncherHelper in the java.base module. The reason for this is that the Main app extends Application and has a main method. If that is the case, the LauncherHelper will check for the `javafx.graphics` module to be present as a named module. If that module is not present, the launch is aborted.\r\n\r\nAnd already proposes a fix for Gradle.\r\n\r\nFor Maven the solution is exactly the same: provide a new main class that doesn&#39;t extend from `Application`. \r\n\r\nYou will have new class in your `application` package (bad name):\r\n\r\n    // NewMain.java\r\n    public class NewMain {\r\n\r\n        public static void main(String[] args) {\r\n            Main.main(args);\r\n        }\r\n    }\r\n\r\nAnd your existing `Main` class, as is:\r\n\r\n    //Main.java\r\n    public class Main extends Application {\r\n\r\n        @Override\r\n        public void start(Stage stage) {\r\n            ...\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nNow you need to modify your pom and set your main class for the different plugins:\r\n\r\n    &lt;mainClass&gt;application.NewMain&lt;/mainClass&gt;\r\n\r\n**Platform-specific Fat jar**\r\n\r\nFinally, with the shade plugin you are going to produce a fat jar, _on your machine_.\r\n\r\nThis means that, so far, your JavaFX dependencies are using a unique classifier. If for instance you are on Windows, Maven will be using internally the `win` classifier. This has the effect of including only the native libraries for Windows.\r\n\r\nSo you are using:\r\n\r\n- org.openjfx:javafx-controls:11\r\n- org.openjfx:javafx-controls:11:win\r\n- org.openjfx:javafx-graphics:11\r\n- org.openjfx:javafx-graphics:11:win &lt;-- this contains the native dlls for Windows\r\n- org.openjfx:javafx-base:11\r\n- org.openjfx:javafx-base:11:win\r\n\r\n   \r\nNow, if you produce the fat jar, you will bundle all those dependencies (and those other regular third party dependencies from your project), and you will be able to run your project as:\r\n\r\n    java -jar myFatJar-1.0-SNAPSHOT.jar\r\n\r\nWhile this is very nice, if you want to distribute you jar, be aware that this jar is _not_ cross-platform, and it will work only on your platform, in this case Windows.\r\n\r\n**Cross-Platform Fat Jar**\r\n\r\nThere is a solution to generate a cross-platform jar that you can distribute: include the rest of the native libraries of the other platforms.\r\n\r\nThis can be easily done, as you just need to include the graphics module dependencies for the three platforms:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n            &lt;classifier&gt;win&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n            &lt;classifier&gt;linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n            &lt;classifier&gt;mac&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**Size**\r\n\r\nThere is a main issue with this approach: the size. As you can see in this other [answer](https://stackoverflow.com/a/52605335/3956070), if you use the  WebView control, you will be bundling around 220 MB due to the WebKit native libraries.\r\n\r\n**M processor Mac support**\r\n\r\nThe `mac` classifier provides runtime components for older Intel x64-based Macs.  To support newer Mac models containing Apple&#39;s M series processors, you also need to include a `mac-aarch64` classified dependency.  M series CPU support for JavaFX is available in a stable version for JavaFX 19+.  When setting the version, all versions of JavaFX components should be the same.  M series support also requires using a JDK version that supports M series Macs (e.g. JDK 17+).\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n        &lt;version&gt;20&lt;/version&gt;\r\n        &lt;classifier&gt;mac-aarch64&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/javafx/info","title":"Maven Shade JavaFX runtime components are missing","body":"<p><strong>UPDATE 10/2021</strong></p>\n<p>Since JavaFX 16 a warning is displayed when JavaFX doesn't run on the module path, which is the case of an uber/fat jar:</p>\n<pre><code>$ java -jar myFatJar-1.0-SNAPSHOT.jar\nOct 02, 2021 1:45:21 PM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @14c24f4c'\n</code></pre>\n<p>Also, you get a warning from the shade plugin itself:</p>\n<pre><code>[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\n</code></pre>\n<p>While these warnings can be initially ignored, there is a reason for them.</p>\n<p>As explained in this <a href=\"https://bugs.openjdk.java.net/browse/JDK-8256422\" rel=\"nofollow noreferrer\">CSR</a>:</p>\n<blockquote>\n<p>JavaFX is built and distributed as a set of named modules, each in its own modular jar file, and the JavaFX runtime expects its classes to be loaded from a set of named javafx.* modules, and does not support loading those modules from the classpath.</p>\n</blockquote>\n<p>And:</p>\n<blockquote>\n<p>when the JavaFX classes are loaded from the classpath, it breaks encapsulation, since we no longer get the benefit of the java module system.</p>\n</blockquote>\n<p>Therefore, <strong>even this widely accepted answer explains how can an uber/fat jar can be created on Maven projects, its use is discouraged, and other modern alternatives to distribute your application, like <code>jlink</code>, <code>jpackage</code> or <code>native-image</code>, should be used; see <em>Packaging</em> in the JavaFX tag to <a href=\"https://stackoverflow.com/tags/javafx/info\"><em>learn more</em></a></strong>.</p>\n<p><strong>ORIGINAL ANSWER</strong></p>\n<p>This <a href=\"https://stackoverflow.com/a/52571719/3956070\">answer</a> explains why a fat/uber jar fails on JavaFX 11. In short:</p>\n<blockquote>\n<p>This error comes from sun.launcher.LauncherHelper in the java.base module. The reason for this is that the Main app extends Application and has a main method. If that is the case, the LauncherHelper will check for the <code>javafx.graphics</code> module to be present as a named module. If that module is not present, the launch is aborted.</p>\n</blockquote>\n<p>And already proposes a fix for Gradle.</p>\n<p>For Maven the solution is exactly the same: provide a new main class that doesn't extend from <code>Application</code>.</p>\n<p>You will have new class in your <code>application</code> package (bad name):</p>\n<pre><code>// NewMain.java\npublic class NewMain {\n\n    public static void main(String[] args) {\n        Main.main(args);\n    }\n}\n</code></pre>\n<p>And your existing <code>Main</code> class, as is:</p>\n<pre><code>//Main.java\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        ...\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>Now you need to modify your pom and set your main class for the different plugins:</p>\n<pre><code>&lt;mainClass&gt;application.NewMain&lt;/mainClass&gt;\n</code></pre>\n<p><strong>Platform-specific Fat jar</strong></p>\n<p>Finally, with the shade plugin you are going to produce a fat jar, <em>on your machine</em>.</p>\n<p>This means that, so far, your JavaFX dependencies are using a unique classifier. If for instance you are on Windows, Maven will be using internally the <code>win</code> classifier. This has the effect of including only the native libraries for Windows.</p>\n<p>So you are using:</p>\n<ul>\n<li>org.openjfx:javafx-controls:11</li>\n<li>org.openjfx:javafx-controls:11:win</li>\n<li>org.openjfx:javafx-graphics:11</li>\n<li>org.openjfx:javafx-graphics:11:win &lt;-- this contains the native dlls for Windows</li>\n<li>org.openjfx:javafx-base:11</li>\n<li>org.openjfx:javafx-base:11:win</li>\n</ul>\n<p>Now, if you produce the fat jar, you will bundle all those dependencies (and those other regular third party dependencies from your project), and you will be able to run your project as:</p>\n<pre><code>java -jar myFatJar-1.0-SNAPSHOT.jar\n</code></pre>\n<p>While this is very nice, if you want to distribute you jar, be aware that this jar is <em>not</em> cross-platform, and it will work only on your platform, in this case Windows.</p>\n<p><strong>Cross-Platform Fat Jar</strong></p>\n<p>There is a solution to generate a cross-platform jar that you can distribute: include the rest of the native libraries of the other platforms.</p>\n<p>This can be easily done, as you just need to include the graphics module dependencies for the three platforms:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n        &lt;version&gt;11&lt;/version&gt;\n        &lt;classifier&gt;win&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n        &lt;version&gt;11&lt;/version&gt;\n        &lt;classifier&gt;linux&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n        &lt;version&gt;11&lt;/version&gt;\n        &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Size</strong></p>\n<p>There is a main issue with this approach: the size. As you can see in this other <a href=\"https://stackoverflow.com/a/52605335/3956070\">answer</a>, if you use the  WebView control, you will be bundling around 220 MB due to the WebKit native libraries.</p>\n<p><strong>M processor Mac support</strong></p>\n<p>The <code>mac</code> classifier provides runtime components for older Intel x64-based Macs.  To support newer Mac models containing Apple's M series processors, you also need to include a <code>mac-aarch64</code> classified dependency.  M series CPU support for JavaFX is available in a stable version for JavaFX 19+.  When setting the version, all versions of JavaFX components should be the same.  M series support also requires using a JDK version that supports M series Macs (e.g. JDK 17+).</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;20&lt;/version&gt;\n    &lt;classifier&gt;mac-aarch64&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13466511,"reputation":713,"user_id":9716566,"display_name":"Bitclef"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39012,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":52654791,"answer_count":1,"score":71,"last_activity_date":1695041165,"creation_date":1538681241,"question_id":52653836,"body_markdown":"I&#39;m trying to create a JFX11 self-containing jar using maven dependencies. From the research I&#39;ve done, it seems the best way to do this is through the maven shade plugin. However, When I run it, I get the this error:\r\n\r\nError: JavaFX runtime components are missing, and are required to run this application\r\n\r\nI don&#39;t understand why this is happening. What am I messing up? Is there a better way to do this? I&#39;ve also tried the maven assembly plugin with the same message.\r\n\r\npom file for reference\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;Application&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Main&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;SpaceRunner&lt;/name&gt;\r\n        &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;10&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.6.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;java&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;Application.Main&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;\r\n                                    Application.Main\r\n                                &lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;Application.Main&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"Maven Shade JavaFX runtime components are missing","body":"<p>I'm trying to create a JFX11 self-containing jar using maven dependencies. From the research I've done, it seems the best way to do this is through the maven shade plugin. However, When I run it, I get the this error:</p>\n\n<p>Error: JavaFX runtime components are missing, and are required to run this application</p>\n\n<p>I don't understand why this is happening. What am I messing up? Is there a better way to do this? I've also tried the maven assembly plugin with the same message.</p>\n\n<p>pom file for reference</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;Application&lt;/groupId&gt;\n    &lt;artifactId&gt;Main&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpaceRunner&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;10&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;Application.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;\n                                Application.Main\n                            &lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                                    &lt;mainClass&gt;Application.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","methods","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1461583288,"post_id":36836390,"comment_id":61248087,"body_markdown":"Do you want to be able to run the tasks during runtime of the application or only as an argument on the commandline when you start it?","body":"Do you want to be able to run the tasks during runtime of the application or only as an argument on the commandline when you start it?"},{"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"score":0,"creation_date":1461583807,"post_id":36836390,"comment_id":61248481,"body_markdown":"I want them to be able to be run as an argument on the cmd line?","body":"I want them to be able to be run as an argument on the cmd line?"}],"answers":[{"comments":[{"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"score":0,"creation_date":1461579680,"post_id":36837791,"comment_id":61245764,"body_markdown":"Ok, is there not an easy way using java that I can configure my application to be able to call each method individually?","body":"Ok, is there not an easy way using java that I can configure my application to be able to call each method individually?"},{"owner":{"account_id":1507472,"reputation":1450,"user_id":1410512,"accept_rate":20,"display_name":"Tom Van Rossom"},"score":0,"creation_date":1461581179,"post_id":36837791,"comment_id":61246747,"body_markdown":"Yes, there is! Take a look at JMX","body":"Yes, there is! Take a look at JMX"},{"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"score":0,"creation_date":1461581260,"post_id":36837791,"comment_id":61246796,"body_markdown":"Im looking at it now, can you please give an example of how I would use it?","body":"Im looking at it now, can you please give an example of how I would use it?"}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1461584466,"creation_date":1461579621,"answer_id":36837791,"question_id":36836390,"body_markdown":"I would suggest to look into project [Spring Batch][1]. That project is exactly for such requirements. Especially [this section of its docs][2] may be of your interest. It describes how can be spring batch jobs executed from command line.\r\n\r\n**Reaction on comment:**\r\n[Here is my Github repository with working example][3]. Notice shell scripts as examples how to execute certain tasks from command line.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-batch/reference/htmlsingle/#spring-batch-intro\r\n  [2]: http://docs.spring.io/spring-batch/reference/htmlsingle/#runningJobsFromCommandLine\r\n  [3]: https://github.com/lkrnac/book-eiws-code-samples/tree/master/09-batch/0910-job-parameters-cli","title":"Spring Boot application: Splitting application into seperate tasks to be run from command line?","body":"<p>I would suggest to look into project <a href=\"http://docs.spring.io/spring-batch/reference/htmlsingle/#spring-batch-intro\" rel=\"nofollow\">Spring Batch</a>. That project is exactly for such requirements. Especially <a href=\"http://docs.spring.io/spring-batch/reference/htmlsingle/#runningJobsFromCommandLine\" rel=\"nofollow\">this section of its docs</a> may be of your interest. It describes how can be spring batch jobs executed from command line.</p>\n\n<p><strong>Reaction on comment:</strong>\n<a href=\"https://github.com/lkrnac/book-eiws-code-samples/tree/master/09-batch/0910-job-parameters-cli\" rel=\"nofollow\">Here is my Github repository with working example</a>. Notice shell scripts as examples how to execute certain tasks from command line.</p>\n"}],"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36837791,"answer_count":1,"score":3,"last_activity_date":1695040992,"creation_date":1461575779,"question_id":36836390,"body_markdown":"Within my `Spring boot application` I currently run it using the following:\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;my.packages.to.scan&quot;)\r\n    @EnableScheduling\r\n    public class Scheduler {\r\n    \r\n        public static void main(String[] args){\r\n    \r\n            SpringApplication.run(Scheduler.class, args);\r\n        }\r\n    }\r\n\r\nThis then finds the following class to run:\r\n\r\n\r\n    @Component\r\n    public class MyApplication {\r\n    \r\n        @Transactional\r\n        @Scheduled(fixedRate = 400000, initialDelay = 1000)\r\n        public void tasks() {\r\n    \r\n            methodOne();\r\n            methodTwo();\r\n            methodThree();\r\n        }\r\n    \r\n        public void methodOne() {\r\n    \r\n        }\r\n    \r\n        public void methodTwo() {\r\n    \r\n        }\r\n    \r\n        public void methodthree() {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nAs can be seen from the above, my application runs all *three methods in sequence*. \r\n\r\nI would like to *change* my application so **any** method/task can be run from the command line at any time, rather than calling the main method and running all three methods in a row. \r\n\r\nHow can I do so? Do I need to move my methods from the MyApplication class?\r\n\r\n","title":"Spring Boot application: Splitting application into seperate tasks to be run from command line?","body":"<p>Within my <code>Spring boot application</code> I currently run it using the following:</p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration\n@ComponentScan(&quot;my.packages.to.scan&quot;)\n@EnableScheduling\npublic class Scheduler {\n\n    public static void main(String[] args){\n\n        SpringApplication.run(Scheduler.class, args);\n    }\n}\n</code></pre>\n<p>This then finds the following class to run:</p>\n<pre><code>@Component\npublic class MyApplication {\n\n    @Transactional\n    @Scheduled(fixedRate = 400000, initialDelay = 1000)\n    public void tasks() {\n\n        methodOne();\n        methodTwo();\n        methodThree();\n    }\n\n    public void methodOne() {\n\n    }\n\n    public void methodTwo() {\n\n    }\n\n    public void methodthree() {\n\n    }\n\n}\n</code></pre>\n<p>As can be seen from the above, my application runs all <em>three methods in sequence</em>.</p>\n<p>I would like to <em>change</em> my application so <strong>any</strong> method/task can be run from the command line at any time, rather than calling the main method and running all three methods in a row.</p>\n<p>How can I do so? Do I need to move my methods from the MyApplication class?</p>\n"},{"tags":["java","linux","jshell"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694763470,"post_id":77110173,"comment_id":135936622,"body_markdown":"Try something like `echo &#39;int exitCode = 0; try { int n = Integer.parseInt(&quot;GOO&quot;); } catch(Exception e) {exitCode = -1;} /exit exitCode&#39; | jshell -i || echo &quot;There was an error&quot;`","body":"Try something like <code>echo &#39;int exitCode = 0; try { int n = Integer.parseInt(&quot;GOO&quot;); } catch(Exception e) {exitCode = -1;} &#47;exit exitCode&#39; | jshell -i || echo &quot;There was an error&quot;</code>"},{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":3,"creation_date":1694772620,"post_id":77110173,"comment_id":135938341,"body_markdown":"Sadly, jshell does not behave like a regular REPL in other languages. Neither does it support shebang, nor does it automatically set the exit status of its process to a non-zero value when it encountered an error.","body":"Sadly, jshell does not behave like a regular REPL in other languages. Neither does it support shebang, nor does it automatically set the exit status of its process to a non-zero value when it encountered an error."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694774324,"post_id":77110173,"comment_id":135938643,"body_markdown":"related [Exit jshell with error code](https://stackoverflow.com/q/44620232/85421)","body":"related <a href=\"https://stackoverflow.com/q/44620232/85421\">Exit jshell with error code</a>"},{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":0,"creation_date":1694796176,"post_id":77110173,"comment_id":135942929,"body_markdown":"*&quot;Sadly, jshell does not behave ...&quot;* ... Somewhere, somehow, someone thinks that is a feature /-8!","body":"<i>&quot;Sadly, jshell does not behave ...&quot;</i> ... Somewhere, somehow, someone thinks that is a feature /-8!"}],"answers":[{"tags":[],"owner":{"account_id":23054148,"reputation":46,"user_id":17170444,"display_name":"Artur Radiuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694761281,"creation_date":1694761281,"answer_id":77110273,"question_id":77110173,"body_markdown":"Probably the easiest way is to run command &#39;/exit&#39; with proper argument.\r\n\r\n    echo &quot;/exit -1&quot; | jshell","title":"jshell always exits with zero status code","body":"<p>Probably the easiest way is to run command '/exit' with proper argument.</p>\n<pre><code>echo &quot;/exit -1&quot; | jshell\n</code></pre>\n"},{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695040308,"creation_date":1694855963,"answer_id":77117105,"question_id":77110173,"body_markdown":"The following solution doesn&#39;t necessarily answer the question but can be used as a workaround.\r\nIt is based on redirecting standard and error output of **jshell** to  corresponding files and evaluate them after the execution.\r\n\r\nCreate temporary files:\r\n\r\n    $ stdout=$(mktemp); stderr=$(mktemp)\r\n\r\nUnsuccessful execution:\r\n\r\n    $ echo &quot;invalid java expression&quot; | jshell - 1&gt;$stdout 2&gt;$stderr\r\n\r\nEvaluate the results:\r\n\r\n    $ cat $stdout \r\n    $ cat $stderr \r\n    Error:\r\n    &#39;;&#39; expected\r\n    invalid java expression;\r\n                ^\r\n\r\nSuccessful execution:\r\n\r\n    $ echo &quot;System.out.println(\\&quot;valid java expression\\&quot;)&quot; | jshell - 1&gt;$stdout 2&gt;$stderr\r\n    $ cat $stdout \r\n    valid java expression\r\n    $ cat $stderr \r\n    $\r\n\r\n\r\n\r\n\r\n","title":"jshell always exits with zero status code","body":"<p>The following solution doesn't necessarily answer the question but can be used as a workaround.\nIt is based on redirecting standard and error output of <strong>jshell</strong> to  corresponding files and evaluate them after the execution.</p>\n<p>Create temporary files:</p>\n<pre><code>$ stdout=$(mktemp); stderr=$(mktemp)\n</code></pre>\n<p>Unsuccessful execution:</p>\n<pre><code>$ echo &quot;invalid java expression&quot; | jshell - 1&gt;$stdout 2&gt;$stderr\n</code></pre>\n<p>Evaluate the results:</p>\n<pre><code>$ cat $stdout \n$ cat $stderr \nError:\n';' expected\ninvalid java expression;\n            ^\n</code></pre>\n<p>Successful execution:</p>\n<pre><code>$ echo &quot;System.out.println(\\&quot;valid java expression\\&quot;)&quot; | jshell - 1&gt;$stdout 2&gt;$stderr\n$ cat $stdout \nvalid java expression\n$ cat $stderr \n$\n</code></pre>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695040308,"creation_date":1694760311,"question_id":77110173,"body_markdown":"I use Linux and have noticed that jshell always exits with code 0 even if the java expression is invalid:\r\n\r\n    $ echo &quot;invalid java expression&quot; | jshell -\r\n    Error:\r\n    &#39;;&#39; expected \r\n    invalid java expression;\r\n                ^\r\n    $ echo $?\r\n    0\r\n\r\nIs it possible to force it to exit with a non-zero code somehow?\r\nI&#39;ve read the help but have found nothing about it.\r\n","title":"jshell always exits with zero status code","body":"<p>I use Linux and have noticed that jshell always exits with code 0 even if the java expression is invalid:</p>\n<pre><code>$ echo &quot;invalid java expression&quot; | jshell -\nError:\n';' expected \ninvalid java expression;\n            ^\n$ echo $?\n0\n</code></pre>\n<p>Is it possible to force it to exit with a non-zero code somehow?\nI've read the help but have found nothing about it.</p>\n"},{"tags":["java","dependencies","pom.xml","java-17"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695039510,"post_id":77127123,"comment_id":135966519,"body_markdown":"have you tried googling for dependencies that contain the classes in that library?","body":"have you tried googling for dependencies that contain the classes in that library?"},{"owner":{"account_id":7757121,"reputation":166,"user_id":5871008,"accept_rate":100,"display_name":"Coding world"},"score":0,"creation_date":1695039558,"post_id":77127123,"comment_id":135966530,"body_markdown":"yes, but am not able to find one","body":"yes, but am not able to find one"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695039795,"post_id":77127123,"comment_id":135966575,"body_markdown":"this might be of service: https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxwstojakartaws","body":"this might be of service: <a href=\"https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxwstojakartaws\" rel=\"nofollow noreferrer\">docs.openrewrite.org/recipes/java/migrate/jakarta/&hellip;</a>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695047374,"post_id":77127123,"comment_id":135968303,"body_markdown":"Does this answer your question? [Replacements for deprecated JPMS modules with Java EE APIs](https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis\">Replacements for deprecated JPMS modules with Java EE APIs</a>"}],"owner":{"account_id":7757121,"reputation":166,"user_id":5871008,"accept_rate":100,"display_name":"Coding world"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695039279,"creation_date":1695039279,"question_id":77127123,"body_markdown":"I am migrating projects to java 17.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.main.javaee-api&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.jws&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI came to know that, ****the javax.*  packages are migrated to jakarta .*****  . So, the above mentioned dependency need to be changed. But am not able to find an alternate one in java 17. Please help.\r\n\r\n","title":"java 17 migration pom dependency issue : org.glassfish.main.javaee-api","body":"<p>I am migrating projects to java 17.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.main.javaee-api&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.jws&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I came to know that, <em><strong><em>the javax.</em>  packages are migrated to jakarta .</strong></em>**  . So, the above mentioned dependency need to be changed. But am not able to find an alternate one in java 17. Please help.</p>\n"},{"tags":["java","spring","swagger","spring-restcontroller"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695038839,"post_id":77126901,"comment_id":135966390,"body_markdown":"parameters are always String as the web doesn&#39;t know anything about types.","body":"parameters are always String as the web doesn&#39;t know anything about types."}],"owner":{"account_id":738442,"reputation":868,"user_id":871653,"accept_rate":90,"display_name":"sasynkamil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695039212,"creation_date":1695037461,"question_id":77126901,"body_markdown":"Is there way how to obtain all path variables &amp; request parameters (query parameters) including their type? I need given request parameters type (and not just String), because I&#39;m forwarding such call via Spring WebClient and if e.g. boolean query parameter is send as String, then I get exception from target rest api.\r\n\r\n```java\r\n        final var url = new ApiPathAndQueryUrlBuilder() // my helper/wrapper for UriComponentsBuilder\r\n                .addPathVariables(allPathVariables)\r\n                .addQueryParameters(allRequestParams)\r\n                .buildUrl(&quot;target/endpoint/path&quot;);\r\n\r\n        return wmWebClient\r\n                .post()\r\n                .uri(url)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .bodyValue(request)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .onErrorMap(WebClientRequestException.class, ex -&gt; new RestApiUnavailableException(ex,&quot;some descriptive error&quot;)\r\n                .block();\r\n```\r\n\r\nI was hoping that this can be achieved by adding `UriComponentsBuilder builder` as method parameter:\r\n\r\n```java\r\n    @Operation(value = &quot;Get Example Data&quot;)\r\n    @GetMapping(&quot;/data/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; getExampleData(\r\n            @ApiParam(value = &quot;The ID of the data&quot;, required = true) @PathVariable Long id,\r\n            @ApiParam(value = &quot;A String query parameter&quot;) @RequestParam String queryParam,\r\n            @ApiParam(value = &quot;A boolean query parameter&quot;) @RequestParam boolean flag,\r\n            UriComponentsBuilder builder) {\r\n    }\r\n```\r\n\r\nBut queryParams &amp; uriVariables have size 0\r\n\r\n[![Debug of UriComponentsBuilder][1]][1]\r\n\r\nSo instead of this I used annotation &amp; `Map&lt;String,String&gt;` as mentioned in Spring [javadoc][2]. \r\n\r\n  [1]: https://i.stack.imgur.com/kLrpt.png\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\r\n\r\n&gt; If the method parameter is Map&lt;String, String&gt; or MultiValueMap&lt;String, String&gt; and a parameter name is not specified, then the map parameter is populated with all request parameter names and values.\r\n\r\n```java\r\n    @Operation(value = &quot;Get Example Data&quot;)\r\n    @GetMapping(&quot;/data/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; getExampleData(\r\n            @ApiParam(value = &quot;The ID of the data&quot;, required = true) @PathVariable Long id,\r\n            @ApiParam(value = &quot;A String query parameter&quot;) @RequestParam String queryParam,\r\n            @ApiParam(value = &quot;A boolean query parameter&quot;) @RequestParam boolean flag,\r\n            @PathVariable Map&lt;String, String&gt; allPathVariables,\r\n            @RequestParam Map&lt;String, String&gt; allRequestParams) {\r\n    }\r\n```\r\n\r\nBut this brings another issue - such parameters are visible in Swagger (thus also in generated TS/Angular client).\r\n\r\nAnd issue with not-preserved type is still there (for now I have `Map&lt;String, Class&gt;`, `.addQueryParameters(allRequestParams, Map.of())` where I&#39;m &quot;manually&quot; adding all query parameters that are not `String` and doing conversion in my `ApiPathAndQueryUrlBuilder`, but this is &quot;second source of truth&quot; and error prone).\r\n","title":"Get all path variables &amp; query parameters including their type","body":"<p>Is there way how to obtain all path variables &amp; request parameters (query parameters) including their type? I need given request parameters type (and not just String), because I'm forwarding such call via Spring WebClient and if e.g. boolean query parameter is send as String, then I get exception from target rest api.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        final var url = new ApiPathAndQueryUrlBuilder() // my helper/wrapper for UriComponentsBuilder\n                .addPathVariables(allPathVariables)\n                .addQueryParameters(allRequestParams)\n                .buildUrl(&quot;target/endpoint/path&quot;);\n\n        return wmWebClient\n                .post()\n                .uri(url)\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(request)\n                .retrieve()\n                .bodyToMono(String.class)\n                .onErrorMap(WebClientRequestException.class, ex -&gt; new RestApiUnavailableException(ex,&quot;some descriptive error&quot;)\n                .block();\n</code></pre>\n<p>I was hoping that this can be achieved by adding <code>UriComponentsBuilder builder</code> as method parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Operation(value = &quot;Get Example Data&quot;)\n    @GetMapping(&quot;/data/{id}&quot;)\n    public ResponseEntity&lt;String&gt; getExampleData(\n            @ApiParam(value = &quot;The ID of the data&quot;, required = true) @PathVariable Long id,\n            @ApiParam(value = &quot;A String query parameter&quot;) @RequestParam String queryParam,\n            @ApiParam(value = &quot;A boolean query parameter&quot;) @RequestParam boolean flag,\n            UriComponentsBuilder builder) {\n    }\n</code></pre>\n<p>But queryParams &amp; uriVariables have size 0</p>\n<p><a href=\"https://i.stack.imgur.com/kLrpt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kLrpt.png\" alt=\"Debug of UriComponentsBuilder\" /></a></p>\n<p>So instead of this I used annotation &amp; <code>Map&lt;String,String&gt;</code> as mentioned in Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<blockquote>\n<p>If the method parameter is Map&lt;String, String&gt; or MultiValueMap&lt;String, String&gt; and a parameter name is not specified, then the map parameter is populated with all request parameter names and values.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>    @Operation(value = &quot;Get Example Data&quot;)\n    @GetMapping(&quot;/data/{id}&quot;)\n    public ResponseEntity&lt;String&gt; getExampleData(\n            @ApiParam(value = &quot;The ID of the data&quot;, required = true) @PathVariable Long id,\n            @ApiParam(value = &quot;A String query parameter&quot;) @RequestParam String queryParam,\n            @ApiParam(value = &quot;A boolean query parameter&quot;) @RequestParam boolean flag,\n            @PathVariable Map&lt;String, String&gt; allPathVariables,\n            @RequestParam Map&lt;String, String&gt; allRequestParams) {\n    }\n</code></pre>\n<p>But this brings another issue - such parameters are visible in Swagger (thus also in generated TS/Angular client).</p>\n<p>And issue with not-preserved type is still there (for now I have <code>Map&lt;String, Class&gt;</code>, <code>.addQueryParameters(allRequestParams, Map.of())</code> where I'm &quot;manually&quot; adding all query parameters that are not <code>String</code> and doing conversion in my <code>ApiPathAndQueryUrlBuilder</code>, but this is &quot;second source of truth&quot; and error prone).</p>\n"},{"tags":["java","json","spring","spring-boot","jpa"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1695032006,"post_id":77126279,"comment_id":135965078,"body_markdown":"That should be doable with an [ElementCollection](https://docs.oracle.com/javaee%2F6%2Fapi%2F%2F/javax/persistence/ElementCollection.html). PS: I&#39;d recomment against using `HashSet&lt;DayOfWeek&gt; activeDays` and instead just declare the field `Set&lt;DayOfWeek&gt; activeDays`. Your persistence framework will choose its own fitting implementation of Set to use here.","body":"That should be doable with an <a href=\"https://docs.oracle.com/javaee%2F6%2Fapi%2F%2F/javax/persistence/ElementCollection.html\" rel=\"nofollow noreferrer\">ElementCollection</a>. PS: I&#39;d recomment against using <code>HashSet&lt;DayOfWeek&gt; activeDays</code> and instead just declare the field <code>Set&lt;DayOfWeek&gt; activeDays</code>. Your persistence framework will choose its own fitting implementation of Set to use here."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695032165,"post_id":77126279,"comment_id":135965106,"body_markdown":"witch version of `spring-boot-starter-data-jpa` are you using ?","body":"witch version of <code>spring-boot-starter-data-jpa</code> are you using ?"},{"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"score":0,"creation_date":1695032564,"post_id":77126279,"comment_id":135965187,"body_markdown":"@AndreiLisa 2.2.2.RELEASE","body":"@AndreiLisa 2.2.2.RELEASE"},{"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"score":0,"creation_date":1695032610,"post_id":77126279,"comment_id":135965195,"body_markdown":"@OHGODSPIDERS I tried but I get message: &#39;Basic&#39; attribute type should not be a container","body":"@OHGODSPIDERS I tried but I get message: &#39;Basic&#39; attribute type should not be a container"}],"answers":[{"comments":[{"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"score":0,"creation_date":1695041851,"post_id":77127007,"comment_id":135967044,"body_markdown":"Wow! I wouldn&#39;t have come across that. \nGenerally it is in the case of `String` that you can use `,` as a hyphen (when you use JPA and don&#39;t write a native query). \nThen in `convertToEntityAttribute` just do `return value == null ? null :\n                Arrays.stream(dbData.split(&quot;,&quot;)).map(DayOfWeek::valueOf)\n                        .collect(\n () -&gt; EnumSet.noneOf(DayOfWeek.class),\nAbstractCollection::add,\n AbstractCollection::addAll);`","body":"Wow! I wouldn&#39;t have come across that.  Generally it is in the case of <code>String</code> that you can use <code>,</code> as a hyphen (when you use JPA and don&#39;t write a native query).  Then in <code>convertToEntityAttribute</code> just do <code>return value == null ? null :                 Arrays.stream(dbData.split(&quot;,&quot;)).map(DayOfWeek::valueOf)                         .collect(  () -&gt; EnumSet.noneOf(DayOfWeek.class), AbstractCollection::add,  AbstractCollection::addAll);</code>"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1695042357,"post_id":77127007,"comment_id":135967146,"body_markdown":"Yeap, that is definitely another way - could be more performant too (maybe worth trying)","body":"Yeap, that is definitely another way - could be more performant too (maybe worth trying)"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1695042698,"post_id":77127007,"comment_id":135967229,"body_markdown":"The reason I am including the separator, `&quot;|&quot;`, both at the beginning and at the end of the converted string is to make searches unambiguous. For the specific case of days it is redundant; imagine however an enum containing the values `ERROR` and `NO_ERROR`. If you search with `x LIKE &#39;%ERROR%&#39;`, it will also return records containing only `NO_ERROR`, which is not what you want!","body":"The reason I am including the separator, <code>&quot;|&quot;</code>, both at the beginning and at the end of the converted string is to make searches unambiguous. For the specific case of days it is redundant; imagine however an enum containing the values <code>ERROR</code> and <code>NO_ERROR</code>. If you search with <code>x LIKE &#39;%ERROR%&#39;</code>, it will also return records containing only <code>NO_ERROR</code>, which is not what you want!"}],"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695038761,"creation_date":1695038395,"answer_id":77127007,"question_id":77126279,"body_markdown":"A collection of simple values can be mapped with an `@ElementCollection`, but this requires a separate table.\r\n\r\nFor the case of the question, i.e. mapping a set of enumerations to a single column, I like using a bitset - just like Java&#39;s `EnumSet` does under the hoods. We map each member of the enum to a boolean with just 1 bit set, e.g.:\r\n\r\n| Enum member  | boolean |\r\n| ------------ | ------- |\r\n| `MONDAY`     | 0000001 |\r\n| `TUESDAY`    | 0000010 |\r\n| `WEDNESDAY`  | 0000100 |\r\n| ...and so on | 0001000 |\r\n\r\nMapping the enum to the bitset is simply `1 &lt;&lt; dayOfWeek.ordinal()`. So a value of e.g. 0000101 means `EnumSet.of(WEDNESDAY, MONDAY)`. Now it is easy to use the bitwise operators of the database to query for membership - e.g. if you want all the `Test` records that contain `TUESDAY`, do:\r\n\r\n```sql\r\n-- This is a pseudocode example!!!\r\n-- Various DBs have different ways to express binary constants and bitwise operators\r\nSELECT * FROM Test WHERE activeDays &amp; 0b0000010 &lt;&gt; 0\r\n```\r\n\r\nThis requires a JPA `AttributeConverter` as follows:\r\n\r\n```java\r\nimport javax.persistence.AttributeConverter;\r\nimport java.time.DayOfWeek;\r\nimport java.util.AbstractCollection;\r\nimport java.util.Arrays;\r\nimport java.util.EnumSet;\r\n\r\npublic class DayOfWeekConverter implements AttributeConverter&lt;EnumSet&lt;DayOfWeek&gt;, Integer&gt; {\r\n\t@Override\r\n\tpublic Integer convertToDatabaseColumn(EnumSet&lt;DayOfWeek&gt; value) {\r\n\t\treturn value == null ? null : value.stream().mapToInt(this::toBitmap).reduce(0, (aggr, cur) -&gt; aggr | cur);\r\n\t}\r\n\r\n\tprivate int toBitmap(DayOfWeek d) {\r\n\t\treturn 1 &lt;&lt; d.ordinal();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic EnumSet&lt;DayOfWeek&gt; convertToEntityAttribute(Integer dbData) {\r\n\t\treturn dbData == null ? null :\r\n\t\t\t\tArrays.stream(DayOfWeek.values())\r\n\t\t\t\t\t\t.filter(d -&gt; (toBitmap(d) &amp; dbData) != 0)\r\n\t\t\t\t\t\t.collect(\r\n\t\t\t\t\t\t\t\t() -&gt; EnumSet.noneOf(DayOfWeek.class),\r\n\t\t\t\t\t\t\t\tAbstractCollection::add,\r\n\t\t\t\t\t\t\t\tAbstractCollection::addAll\r\n\t\t\t\t\t\t);\r\n\t}\r\n}\r\n```\r\n\r\n...and an annotation on the field as follows - note that I have used the more efficient `EnumSet` for the data type:\r\n\r\n```java\r\n@Convert(converter = DayOfWeekConverter.class)\r\nprivate EnumSet&lt;DayOfWeek&gt; activeDays;\r\n```\r\n\r\nYou can tweak the converter to store a JSON value or any custom format of the `EnumSet` you can think of (e.g. a string like `&quot;|MONDAY|WEDNESDAY|&quot;` is perfectly possible and queryable e.g. as `activeDays LIKE &#39;%|MONDAY|%&#39;`). I think searching through SQL will be less efficient if you use a string representation, but that is up to you.\r\n\r\nActually, the converter to string as above could be implemented as:\r\n\r\n```java\r\npublic class DayOfWeekConverter implements AttributeConverter&lt;EnumSet&lt;DayOfWeek&gt;, String&gt; {\r\n\t@Override\r\n\tpublic String convertToDatabaseColumn(EnumSet&lt;DayOfWeek&gt; value) {\r\n\t\treturn value == null ? null : value.stream().map(Enum::name).collect(Collectors.joining(&quot;|&quot;,&quot;|&quot;,&quot;|&quot;));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic EnumSet&lt;DayOfWeek&gt; convertToEntityAttribute(String dbData) {\r\n\t\treturn dbData == null ? null :\r\n\t\t\t\tArrays.stream(DayOfWeek.values())\r\n\t\t\t\t\t\t.filter(d -&gt; dbData.contains(&#39;|&#39; + d.name() + &#39;|&#39;))\r\n\t\t\t\t\t\t.collect(\r\n\t\t\t\t\t\t\t\t() -&gt; EnumSet.noneOf(DayOfWeek.class),\r\n\t\t\t\t\t\t\t\tAbstractCollection::add,\r\n\t\t\t\t\t\t\t\tAbstractCollection::addAll\r\n\t\t\t\t\t\t);\r\n\t}\r\n}\r\n```","title":"JPA Entity with DayOfWeek list","body":"<p>A collection of simple values can be mapped with an <code>@ElementCollection</code>, but this requires a separate table.</p>\n<p>For the case of the question, i.e. mapping a set of enumerations to a single column, I like using a bitset - just like Java's <code>EnumSet</code> does under the hoods. We map each member of the enum to a boolean with just 1 bit set, e.g.:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Enum member</th>\n<th>boolean</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>MONDAY</code></td>\n<td>0000001</td>\n</tr>\n<tr>\n<td><code>TUESDAY</code></td>\n<td>0000010</td>\n</tr>\n<tr>\n<td><code>WEDNESDAY</code></td>\n<td>0000100</td>\n</tr>\n<tr>\n<td>...and so on</td>\n<td>0001000</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Mapping the enum to the bitset is simply <code>1 &lt;&lt; dayOfWeek.ordinal()</code>. So a value of e.g. 0000101 means <code>EnumSet.of(WEDNESDAY, MONDAY)</code>. Now it is easy to use the bitwise operators of the database to query for membership - e.g. if you want all the <code>Test</code> records that contain <code>TUESDAY</code>, do:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- This is a pseudocode example!!!\n-- Various DBs have different ways to express binary constants and bitwise operators\nSELECT * FROM Test WHERE activeDays &amp; 0b0000010 &lt;&gt; 0\n</code></pre>\n<p>This requires a JPA <code>AttributeConverter</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.AttributeConverter;\nimport java.time.DayOfWeek;\nimport java.util.AbstractCollection;\nimport java.util.Arrays;\nimport java.util.EnumSet;\n\npublic class DayOfWeekConverter implements AttributeConverter&lt;EnumSet&lt;DayOfWeek&gt;, Integer&gt; {\n    @Override\n    public Integer convertToDatabaseColumn(EnumSet&lt;DayOfWeek&gt; value) {\n        return value == null ? null : value.stream().mapToInt(this::toBitmap).reduce(0, (aggr, cur) -&gt; aggr | cur);\n    }\n\n    private int toBitmap(DayOfWeek d) {\n        return 1 &lt;&lt; d.ordinal();\n    }\n\n    @Override\n    public EnumSet&lt;DayOfWeek&gt; convertToEntityAttribute(Integer dbData) {\n        return dbData == null ? null :\n                Arrays.stream(DayOfWeek.values())\n                        .filter(d -&gt; (toBitmap(d) &amp; dbData) != 0)\n                        .collect(\n                                () -&gt; EnumSet.noneOf(DayOfWeek.class),\n                                AbstractCollection::add,\n                                AbstractCollection::addAll\n                        );\n    }\n}\n</code></pre>\n<p>...and an annotation on the field as follows - note that I have used the more efficient <code>EnumSet</code> for the data type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Convert(converter = DayOfWeekConverter.class)\nprivate EnumSet&lt;DayOfWeek&gt; activeDays;\n</code></pre>\n<p>You can tweak the converter to store a JSON value or any custom format of the <code>EnumSet</code> you can think of (e.g. a string like <code>&quot;|MONDAY|WEDNESDAY|&quot;</code> is perfectly possible and queryable e.g. as <code>activeDays LIKE '%|MONDAY|%'</code>). I think searching through SQL will be less efficient if you use a string representation, but that is up to you.</p>\n<p>Actually, the converter to string as above could be implemented as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DayOfWeekConverter implements AttributeConverter&lt;EnumSet&lt;DayOfWeek&gt;, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(EnumSet&lt;DayOfWeek&gt; value) {\n        return value == null ? null : value.stream().map(Enum::name).collect(Collectors.joining(&quot;|&quot;,&quot;|&quot;,&quot;|&quot;));\n    }\n\n    @Override\n    public EnumSet&lt;DayOfWeek&gt; convertToEntityAttribute(String dbData) {\n        return dbData == null ? null :\n                Arrays.stream(DayOfWeek.values())\n                        .filter(d -&gt; dbData.contains('|' + d.name() + '|'))\n                        .collect(\n                                () -&gt; EnumSet.noneOf(DayOfWeek.class),\n                                AbstractCollection::add,\n                                AbstractCollection::addAll\n                        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77127007,"answer_count":1,"score":1,"last_activity_date":1695038761,"creation_date":1695031508,"question_id":77126279,"body_markdown":"Is it possible to add a `HashSet&lt;DayOfWeek&gt;` to an entity without creating a new table for it? I would like to store it as `json`.\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;test&quot;)\r\npublic class Test{\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\r\n\t@Enumerated(EnumType.STRING)\r\n\t@Column(columnDefinition = &quot;json&quot;)\r\n\tprivate HashSet&lt;DayOfWeek&gt; activeDays;\r\n}\r\n```\r\n","title":"JPA Entity with DayOfWeek list","body":"<p>Is it possible to add a <code>HashSet&lt;DayOfWeek&gt;</code> to an entity without creating a new table for it? I would like to store it as <code>json</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;test&quot;)\npublic class Test{\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(columnDefinition = &quot;json&quot;)\n    private HashSet&lt;DayOfWeek&gt; activeDays;\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9956,"page":178,"page_size":100}
