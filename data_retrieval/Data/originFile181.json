{"items":[{"tags":["java","spring-boot","validation","design-patterns","bean-validation"],"comments":[{"owner":{"account_id":16256464,"reputation":1,"user_id":11738991,"display_name":"on1zuka"},"score":0,"creation_date":1694895111,"post_id":77118814,"comment_id":135952459,"body_markdown":"yes, edited main post","body":"yes, edited main post"},{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1695388837,"post_id":77118814,"comment_id":136021707,"body_markdown":"Since you are not doing chlid specific changes and If you are going to do validations with respect to `AnimalDTO` only ,using `extends` in method parameter should work.&#39;T extends AnimalDTO&#39;","body":"Since you are not doing chlid specific changes and If you are going to do validations with respect to <code>AnimalDTO</code> only ,using <code>extends</code> in method parameter should work.&#39;T extends AnimalDTO&#39;"}],"owner":{"account_id":16256464,"reputation":1,"user_id":11738991,"display_name":"on1zuka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694911187,"creation_date":1694884730,"question_id":77118814,"body_markdown":"this is more a theoretical question than technical.I am wondering what is the best way to implement some method(or methods ?) to work on different POJOs that extend the same POJO. In the sample app that I created I want to validate with jakarta some POJO ([Jakarta Bean Validation][1]).\r\nHere you can find the complete sample app [zoo repo](https://github.com/lorenzobigs/zoo/tree/main), anyway i will describe the main feature here.\r\n \r\nI am focusing on a SpringBoot app.\r\n\r\nI have a rest controller that accepts as input a List&lt;myPOJO&gt;: \r\n```\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/api/v1&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic class AnimalController {\r\n\r\n\t\tAnimalService service;\r\n\t\t\r\n\t \t@PostMapping(&quot;/validate&quot;)\r\n\t    @ResponseStatus(value = HttpStatus.OK)\r\n\t    public List&lt;ValidationErrorDTO&gt;  validateCollection(@RequestBody List&lt;AnimalDTO&gt; request)\r\n\t                                                    {\r\n\t \t\treturn service.validateCollection(request);\r\n\t    }\r\n\t \t\r\n\t \t\r\n\t\tpublic AnimalController(AnimalService service) {\r\n\t\t\tsuper();\r\n\t\t\tthis.service = service;\r\n\t\t}\r\n\t \t\r\n\t \t\r\n}\r\n```\r\n\r\nIn the AnimalDTO class i added some jakarta annotation on the properties:\r\n\r\n```\r\nimport jakarta.validation.constraints.Size;\r\n\r\npublic class AnimalDTO {\r\n\r\n\t\r\n\t@Size(max = 5, message = &quot;name can not be longer than 5&quot;)\r\n\tprivate String name;\r\n\t@Size(max = 5, message = &quot;owner can not be longer than 5&quot;)\r\n\tprivate String owner; \r\n\t\r\n...\r\n```\r\n\r\nand in the method implementation of the service I get the errors:\r\n\r\n\r\n```\r\n@Component\r\npublic class AnimalServiceImpl implements AnimalService{\r\n\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic List&lt;ValidationErrorDTO&gt; validateCollection(List&lt;AnimalDTO&gt; collection) {\r\n\t\t\r\n\t\tList&lt;ValidationErrorDTO&gt; validationErrorList = new ArrayList&lt;&gt;();\r\n\t\t//instantiate the validator\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        Validator validator = factory.getValidator();\r\n        \r\n        //for every record of the collection, validate the record and add errors to the error list\r\n        for(int i= 0; i&lt;collection.size();i++) {\r\n\r\n        \tint k =i;\r\n            //get single record errors\r\n            Set&lt;ConstraintViolation&lt;AnimalDTO&gt;&gt; violations = validator.validate(collection.get(i));\r\n\r\n            violations.forEach(v -&gt; validationErrorList.add(new ValidationErrorDTO(k, v.getPropertyPath().toString(), v.getMessage())));\r\n        }\r\n        \r\n        return validationErrorList;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNow, I have two POJOs DogDTO and CatDTO that extend AnimalDTO and i would like to **reuse the same method, or anyway apply the best pattern** in this scenario, to validate the input list.\r\n\r\nWhat are my options?\r\n\r\n\r\n\r\n\r\nI did not to try any coding since this is not a tech issue but I am convinced i&#39;m missing something. Maybe I am overthinking and the best way is just to use another method?\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/bean-validation/","title":"How to apply same behaviour to POJOs that extend antoher POJO","body":"<p>this is more a theoretical question than technical.I am wondering what is the best way to implement some method(or methods ?) to work on different POJOs that extend the same POJO. In the sample app that I created I want to validate with jakarta some POJO (<a href=\"https://jakarta.ee/specifications/bean-validation/\" rel=\"nofollow noreferrer\">Jakarta Bean Validation</a>).\nHere you can find the complete sample app <a href=\"https://github.com/lorenzobigs/zoo/tree/main\" rel=\"nofollow noreferrer\">zoo repo</a>, anyway i will describe the main feature here.</p>\n<p>I am focusing on a SpringBoot app.</p>\n<p>I have a rest controller that accepts as input a List:</p>\n<pre><code>\n@RestController\n@RequestMapping(value = &quot;/api/v1&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class AnimalController {\n\n        AnimalService service;\n        \n        @PostMapping(&quot;/validate&quot;)\n        @ResponseStatus(value = HttpStatus.OK)\n        public List&lt;ValidationErrorDTO&gt;  validateCollection(@RequestBody List&lt;AnimalDTO&gt; request)\n                                                        {\n            return service.validateCollection(request);\n        }\n        \n        \n        public AnimalController(AnimalService service) {\n            super();\n            this.service = service;\n        }\n        \n        \n}\n</code></pre>\n<p>In the AnimalDTO class i added some jakarta annotation on the properties:</p>\n<pre><code>import jakarta.validation.constraints.Size;\n\npublic class AnimalDTO {\n\n    \n    @Size(max = 5, message = &quot;name can not be longer than 5&quot;)\n    private String name;\n    @Size(max = 5, message = &quot;owner can not be longer than 5&quot;)\n    private String owner; \n    \n...\n</code></pre>\n<p>and in the method implementation of the service I get the errors:</p>\n<pre><code>@Component\npublic class AnimalServiceImpl implements AnimalService{\n\n    \n    \n    @Override\n    public List&lt;ValidationErrorDTO&gt; validateCollection(List&lt;AnimalDTO&gt; collection) {\n        \n        List&lt;ValidationErrorDTO&gt; validationErrorList = new ArrayList&lt;&gt;();\n        //instantiate the validator\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n        Validator validator = factory.getValidator();\n        \n        //for every record of the collection, validate the record and add errors to the error list\n        for(int i= 0; i&lt;collection.size();i++) {\n\n            int k =i;\n            //get single record errors\n            Set&lt;ConstraintViolation&lt;AnimalDTO&gt;&gt; violations = validator.validate(collection.get(i));\n\n            violations.forEach(v -&gt; validationErrorList.add(new ValidationErrorDTO(k, v.getPropertyPath().toString(), v.getMessage())));\n        }\n        \n        return validationErrorList;\n    }\n\n}\n</code></pre>\n<p>Now, I have two POJOs DogDTO and CatDTO that extend AnimalDTO and i would like to <strong>reuse the same method, or anyway apply the best pattern</strong> in this scenario, to validate the input list.</p>\n<p>What are my options?</p>\n<p>I did not to try any coding since this is not a tech issue but I am convinced i'm missing something. Maybe I am overthinking and the best way is just to use another method?</p>\n"},{"tags":["java","swing","user-interface","swingbuilder"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694895222,"post_id":77119392,"comment_id":135952471,"body_markdown":"Here is a similar question and answer, _https://stackoverflow.com/questions/23698092/design-button-in-java-like-in-css_","body":"Here is a similar question and answer, <i><a href=\"https://stackoverflow.com/questions/23698092/design-button-in-java-like-in-css\" title=\"design button in java like in css\">stackoverflow.com/questions/23698092/&hellip;</a></i>"},{"owner":{"account_id":29461833,"reputation":1,"user_id":22576434,"display_name":"Mohamed Gharib"},"score":0,"creation_date":1694895867,"post_id":77119392,"comment_id":135952512,"body_markdown":"not working for me","body":"not working for me"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694896145,"post_id":77119392,"comment_id":135952533,"body_markdown":"Try _[Graphics#fillRoundRect](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#fillRoundRect(int,int,int,int,int,int))_, rather than _setBackground_.","body":"Try <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#fillRoundRect(int,int,int,int,int,int)\" rel=\"nofollow noreferrer\">Graphics#fillRoundRect</a></i>, rather than <i>setBackground</i>."},{"owner":{"account_id":29461833,"reputation":1,"user_id":22576434,"display_name":"Mohamed Gharib"},"score":0,"creation_date":1694896445,"post_id":77119392,"comment_id":135952562,"body_markdown":"would you provide the code using any text storage site like pastebin, justpasteit, etc..","body":"would you provide the code using any text storage site like pastebin, justpasteit, etc.."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694897172,"post_id":77119392,"comment_id":135952620,"body_markdown":"It&#39;s just one method.","body":"It&#39;s just one method."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694897335,"post_id":77119392,"comment_id":135952641,"body_markdown":"You don’t - border doesn’t/isn’t meant to fill. Instead you need to fake it; for [example](https://stackoverflow.com/questions/13386749/how-to-add-to-this-round-button-metal-background-in-java/13389263#13389263) and [example](https://stackoverflow.com/questions/76167851/button-corners-dont-get-painted-over-by-borders-they-are-moved-outwards-instea/76168325#76168325)","body":"You don’t - border doesn’t/isn’t meant to fill. Instead you need to fake it; for <a href=\"https://stackoverflow.com/questions/13386749/how-to-add-to-this-round-button-metal-background-in-java/13389263#13389263\">example</a> and <a href=\"https://stackoverflow.com/questions/76167851/button-corners-dont-get-painted-over-by-borders-they-are-moved-outwards-instea/76168325#76168325\">example</a>"},{"owner":{"account_id":29461833,"reputation":1,"user_id":22576434,"display_name":"Mohamed Gharib"},"score":0,"creation_date":1694898634,"post_id":77119392,"comment_id":135952788,"body_markdown":"Need to make it without downloading any externals.","body":"Need to make it without downloading any externals."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694900218,"post_id":77119392,"comment_id":135952923,"body_markdown":"@MohamedGharib No &quot;downloaded externals&quot; in either of my examples - just plain old code","body":"@MohamedGharib No &quot;downloaded externals&quot; in either of my examples - just plain old code"},{"owner":{"account_id":29461833,"reputation":1,"user_id":22576434,"display_name":"Mohamed Gharib"},"score":0,"creation_date":1694901211,"post_id":77119392,"comment_id":135952980,"body_markdown":"@MadProgrammer I&#39;m sorry but i don&#39;t understand what you&#39;re trying to say, please use text storage website like pastebin, justpasteit, etc... if you can modify my code","body":"@MadProgrammer I&#39;m sorry but i don&#39;t understand what you&#39;re trying to say, please use text storage website like pastebin, justpasteit, etc... if you can modify my code"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694901515,"post_id":77119392,"comment_id":135953006,"body_markdown":"@MohamedGharib And no - that&#39;s not how SO works.  This question has been asked and answered many times before.  The simple answer to your question is - you can&#39;t do what you want with `Border`, it&#39;s not designed to do what you want, you need to change your approach and either create a custom class which extends from `JButton` and override it&#39;s `paintComponent` method or implement a custom `ButtonUI` delegate.  Both methods are demonstrated in the two examples I&#39;ve linked and the answer I&#39;ve already provided","body":"@MohamedGharib And no - that&#39;s not how SO works.  This question has been asked and answered many times before.  The simple answer to your question is - you can&#39;t do what you want with <code>Border</code>, it&#39;s not designed to do what you want, you need to change your approach and either create a custom class which extends from <code>JButton</code> and override it&#39;s <code>paintComponent</code> method or implement a custom <code>ButtonUI</code> delegate.  Both methods are demonstrated in the two examples I&#39;ve linked and the answer I&#39;ve already provided"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694900970,"creation_date":1694900970,"answer_id":77119723,"question_id":77119392,"body_markdown":"`Border` isn&#39;t meant to &quot;fill&quot; and based on the order of the paint chain, it&#39;s called AFTER the background is painted.\r\n\r\nA possible solution is to &quot;fake&quot; it instead, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Cursor;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.RenderingHints;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridBagLayout());\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.ipadx = 40;\r\n                add(new RoundedButton(&quot;Sign In&quot;), gbc);\r\n            }\r\n\r\n        }\r\n\r\n        public class RoundedButton extends JButton {\r\n\r\n            private Color borderColor = Color.decode(&quot;#2c3338&quot;);\r\n            private int radius = 20;\r\n\r\n            public RoundedButton(String text) {\r\n                super(text);\r\n                //button.setBorder(new RoundedBorder(20, borderColor))/;\r\n                setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n                setBackground(Color.decode(&quot;#ea4c88&quot;));\r\n                setForeground(Color.WHITE);\r\n                setFocusPainted(false);\r\n                setContentAreaFilled(false);\r\n                setBorderPainted(false);\r\n                setOpaque(false);\r\n                setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n            }\r\n\r\n            @Override\r\n            public Insets getInsets() {\r\n                return new Insets(radius, radius, radius, radius);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setColor(getBackground());\r\n                g2d.fillRoundRect(0, 0, getWidth() - 1, getHeight() - 1, radius, radius);\r\n                g2d.setColor(borderColor);\r\n                g2d.setStroke(new BasicStroke(2));\r\n                g2d.drawRoundRect(0, 0, getWidth() - 1, getHeight() - 1, radius, radius);\r\n                g2d.dispose();\r\n                super.paintComponent(g);\r\n            }\r\n        }\r\n    }\r\n\r\nPlease also note, the simple use of `GridBagLayout` in the example, which deals with calculating the size and position of the button, the addition of the `iPadx` constraint to increase the width of the button and obviously, the overridden `getInsets` method of the `JButton`.\r\n\r\nAlso not the order in which the button is painted, you MUST paint the background BEFORE calling `super.paintComponent`, as the super method will paint the text\r\n\r\nhttps://stackoverflow.com/questions/76167851/button-corners-dont-get-painted-over-by-borders-they-are-moved-outwards-instea/76168325#76168325 demonstrates an alternative which can be used to change ANY (or all) `JButton`, rather then needing to use a dedicate class.  This example simple creates a new `ButtonUI` which can be applied to ANY instance of `JButton` to change the way in which it&#39;s painted, arguably making it a better solution where you already have a pre-existing UI.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/im5Hi.png","title":"How to remove edges from JButton after border radius?","body":"<p><code>Border</code> isn't meant to &quot;fill&quot; and based on the order of the paint chain, it's called AFTER the background is painted.</p>\n<p>A possible solution is to &quot;fake&quot; it instead, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/im5Hi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/im5Hi.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Cursor;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.RenderingHints;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.ipadx = 40;\n            add(new RoundedButton(&quot;Sign In&quot;), gbc);\n        }\n\n    }\n\n    public class RoundedButton extends JButton {\n\n        private Color borderColor = Color.decode(&quot;#2c3338&quot;);\n        private int radius = 20;\n\n        public RoundedButton(String text) {\n            super(text);\n            //button.setBorder(new RoundedBorder(20, borderColor))/;\n            setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n            setBackground(Color.decode(&quot;#ea4c88&quot;));\n            setForeground(Color.WHITE);\n            setFocusPainted(false);\n            setContentAreaFilled(false);\n            setBorderPainted(false);\n            setOpaque(false);\n            setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        }\n\n        @Override\n        public Insets getInsets() {\n            return new Insets(radius, radius, radius, radius);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setColor(getBackground());\n            g2d.fillRoundRect(0, 0, getWidth() - 1, getHeight() - 1, radius, radius);\n            g2d.setColor(borderColor);\n            g2d.setStroke(new BasicStroke(2));\n            g2d.drawRoundRect(0, 0, getWidth() - 1, getHeight() - 1, radius, radius);\n            g2d.dispose();\n            super.paintComponent(g);\n        }\n    }\n}\n</code></pre>\n<p>Please also note, the simple use of <code>GridBagLayout</code> in the example, which deals with calculating the size and position of the button, the addition of the <code>iPadx</code> constraint to increase the width of the button and obviously, the overridden <code>getInsets</code> method of the <code>JButton</code>.</p>\n<p>Also not the order in which the button is painted, you MUST paint the background BEFORE calling <code>super.paintComponent</code>, as the super method will paint the text</p>\n<p><a href=\"https://stackoverflow.com/questions/76167851/button-corners-dont-get-painted-over-by-borders-they-are-moved-outwards-instea/76168325#76168325\">Button corners don&#39;t get painted over by borders, they are moved outwards instead</a> demonstrates an alternative which can be used to change ANY (or all) <code>JButton</code>, rather then needing to use a dedicate class.  This example simple creates a new <code>ButtonUI</code> which can be applied to ANY instance of <code>JButton</code> to change the way in which it's painted, arguably making it a better solution where you already have a pre-existing UI.</p>\n"}],"owner":{"account_id":29461833,"reputation":1,"user_id":22576434,"display_name":"Mohamed Gharib"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694908518,"creation_date":1694894078,"question_id":77119392,"body_markdown":"Finally it&#39;s done to make rounded corners for JButton, i&#39;m tired to remove the edges that show after border radius without using transparent images\r\n\r\nScreenshot of JButton\r\n\r\n[![https://i.stack.imgur.com/8UxyX.jpg][1]][1]\r\n\r\nhere&#39;s the code\r\n\r\n```\r\n\t\tJButton button = new JButton(&quot;SIGN IN&quot;);\r\n\t\tColor borderColor = Color.decode(&quot;#2c3338&quot;);\r\n\t\tbutton.setBorder(new RoundedBorder(20, borderColor));\r\n\t\tbutton.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tbutton.setBackground(Color.decode(&quot;#ea4c88&quot;));\r\n\t\tbutton.setForeground(Color.WHITE);\r\n\t\tbutton.setFocusPainted(false);\r\n\t\tbutton.setContentAreaFilled(false);\r\n\t\tbutton.setOpaque(true);\r\n\t\tbutton.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tbutton.setBounds(135, 233, 280, 44);\r\n\t\tcontainer.add(button);\r\n```\r\n\r\n```\r\npublic class RoundedBorder implements Border {\r\n\r\n    private int radius;\r\n    private Color borderColor;\r\n\r\n    public RoundedBorder(int Radius, Color BorderColor) {\r\n        radius = Radius;\r\n        borderColor = BorderColor;\r\n    }\r\n\r\n    public Insets getBorderInsets(Component c) {\r\n        return new Insets(radius, radius, radius, radius);\r\n    }\r\n\r\n    public boolean isBorderOpaque() {\r\n        return true;\r\n    }\r\n\r\n    public void paintBorder(Component c, Graphics Graphics, int x, int y, int width, int height) {\r\n        Graphics2D Graphics2D = (Graphics2D) Graphics.create();\r\n        Graphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        Graphics2D.setColor(borderColor);\r\n        Graphics2D.setStroke(new BasicStroke(2));\r\n        Graphics2D.drawRoundRect(x, y, width - 1, height - 1, radius, radius);\r\n        Graphics2D.dispose();\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8UxyX.jpg","title":"How to remove edges from JButton after border radius?","body":"<p>Finally it's done to make rounded corners for JButton, i'm tired to remove the edges that show after border radius without using transparent images</p>\n<p>Screenshot of JButton</p>\n<p><a href=\"https://i.stack.imgur.com/8UxyX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8UxyX.jpg\" alt=\"https://i.stack.imgur.com/8UxyX.jpg\" /></a></p>\n<p>here's the code</p>\n<pre><code>        JButton button = new JButton(&quot;SIGN IN&quot;);\n        Color borderColor = Color.decode(&quot;#2c3338&quot;);\n        button.setBorder(new RoundedBorder(20, borderColor));\n        button.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        button.setBackground(Color.decode(&quot;#ea4c88&quot;));\n        button.setForeground(Color.WHITE);\n        button.setFocusPainted(false);\n        button.setContentAreaFilled(false);\n        button.setOpaque(true);\n        button.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        button.setBounds(135, 233, 280, 44);\n        container.add(button);\n</code></pre>\n<pre><code>public class RoundedBorder implements Border {\n\n    private int radius;\n    private Color borderColor;\n\n    public RoundedBorder(int Radius, Color BorderColor) {\n        radius = Radius;\n        borderColor = BorderColor;\n    }\n\n    public Insets getBorderInsets(Component c) {\n        return new Insets(radius, radius, radius, radius);\n    }\n\n    public boolean isBorderOpaque() {\n        return true;\n    }\n\n    public void paintBorder(Component c, Graphics Graphics, int x, int y, int width, int height) {\n        Graphics2D Graphics2D = (Graphics2D) Graphics.create();\n        Graphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        Graphics2D.setColor(borderColor);\n        Graphics2D.setStroke(new BasicStroke(2));\n        Graphics2D.drawRoundRect(x, y, width - 1, height - 1, radius, radius);\n        Graphics2D.dispose();\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","for-loop","indexoutofboundsexception"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1694901630,"post_id":77119744,"comment_id":135953013,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1694905016,"post_id":77119744,"comment_id":135953271,"body_markdown":"You have already established that both words must be of the same length...so why are you summing those word lengths in your `for` loop&#39;s initialization section? What do you think will happen when `i` goes beyond the length of a word and is applied to the `substring()` method? Well....now you know. :)","body":"You have already established that both words must be of the same length...so why are you summing those word lengths in your <code>for</code> loop&#39;s initialization section? What do you think will happen when <code>i</code> goes beyond the length of a word and is applied to the <code>substring()</code> method? Well....now you know. :)"}],"answers":[{"comments":[{"owner":{"account_id":29462279,"reputation":11,"user_id":22576804,"display_name":"apcsa2023student"},"score":0,"creation_date":1694969403,"post_id":77119788,"comment_id":135958250,"body_markdown":"Thank you so much, this helped me a lot!","body":"Thank you so much, this helped me a lot!"}],"tags":[],"owner":{"account_id":16153479,"reputation":29,"user_id":11661277,"display_name":"J Willis"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1694902117,"creation_date":1694902117,"answer_id":77119788,"question_id":77119744,"body_markdown":"The reason for this particular error is that you&#39;re setting your variable *i* equal to the sum of the length of both your input strings which results in the substring method trying to access an index that is beyond the length of either input string.\r\n\r\nTo solve this error, set *i* equal to the length of just one of your input strings.  ","title":"StringIndexOutOfBoundsException on my assignment for AP Computer Science A","body":"<p>The reason for this particular error is that you're setting your variable <em>i</em> equal to the sum of the length of both your input strings which results in the substring method trying to access an index that is beyond the length of either input string.</p>\n<p>To solve this error, set <em>i</em> equal to the length of just one of your input strings.</p>\n"},{"comments":[{"owner":{"account_id":29462279,"reputation":11,"user_id":22576804,"display_name":"apcsa2023student"},"score":1,"creation_date":1694969425,"post_id":77119950,"comment_id":135958255,"body_markdown":"This makes so much more sense now, thanks for the tutorials!","body":"This makes so much more sense now, thanks for the tutorials!"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694907097,"creation_date":1694906403,"answer_id":77119950,"question_id":77119744,"body_markdown":"&gt; _&quot;... However, I keep receiving this error message. Can anyone help? [Here is my code:](https://i.stack.imgur.com/RUvfT.png)_\r\n&gt;\r\n&gt; _I&#39;m using a for loop as that is the main idea for the lesson I am on in the class right now but no matter what I try inside of the parenthesis, I still receive the same error. ...&quot;_\r\n\r\nIterate on the length of just one word.  \r\nThe _i_ value will be the same for both _String_ values.\r\n\r\nHere is an example.\r\n\r\n```java\r\nStringBuilder a, b, s = new StringBuilder();\r\na = new StringBuilder(&quot;atrophy&quot;).reverse();\r\nb = new StringBuilder(&quot;balloon&quot;).reverse();\r\nfor (int i = 0, n = a.length(); i &lt; n; i++)\r\n    s.append(a.charAt(i)).append(b.charAt(i));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nynhopoolrltaab\r\n```\r\n\r\nHere are the links to the _Java_ tutorials.\r\n- _[The for Statement (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)_\r\n- _[The while and do-while Statements (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html)_","title":"StringIndexOutOfBoundsException on my assignment for AP Computer Science A","body":"<blockquote>\n<p><em>&quot;... However, I keep receiving this error message. Can anyone help? <a href=\"https://i.stack.imgur.com/RUvfT.png\" rel=\"nofollow noreferrer\">Here is my code:</a></em></p>\n<p><em>I'm using a for loop as that is the main idea for the lesson I am on in the class right now but no matter what I try inside of the parenthesis, I still receive the same error. ...&quot;</em></p>\n</blockquote>\n<p>Iterate on the length of just one word.<br />\nThe <em>i</em> value will be the same for both <em>String</em> values.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder a, b, s = new StringBuilder();\na = new StringBuilder(&quot;atrophy&quot;).reverse();\nb = new StringBuilder(&quot;balloon&quot;).reverse();\nfor (int i = 0, n = a.length(); i &lt; n; i++)\n    s.append(a.charAt(i)).append(b.charAt(i));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>ynhopoolrltaab\n</code></pre>\n<p>Here are the links to the <em>Java</em> tutorials.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">The for Statement (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em></li>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">The while and do-while Statements (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em></li>\n</ul>\n"}],"owner":{"account_id":29462279,"reputation":11,"user_id":22576804,"display_name":"apcsa2023student"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694907097,"creation_date":1694901289,"question_id":77119744,"body_markdown":"I&#39;m working on an assignment (java) for my AP Computer Science A class where I have to combine to strings alternating by letter in reverse order together. For example, balloon and atrophy outputs ynhopoolrltaab. However, I keep receiving this error message. Can anyone help? [Here is my code:](https://i.stack.imgur.com/RUvfT.png)\r\n\r\nI&#39;m using a for loop as that is the main idea for the lesson I am on in the class right now but no matter what I try inside of the parenthesis, I still receive the same error.","title":"StringIndexOutOfBoundsException on my assignment for AP Computer Science A","body":"<p>I'm working on an assignment (java) for my AP Computer Science A class where I have to combine to strings alternating by letter in reverse order together. For example, balloon and atrophy outputs ynhopoolrltaab. However, I keep receiving this error message. Can anyone help? <a href=\"https://i.stack.imgur.com/RUvfT.png\" rel=\"nofollow noreferrer\">Here is my code:</a></p>\n<p>I'm using a for loop as that is the main idea for the lesson I am on in the class right now but no matter what I try inside of the parenthesis, I still receive the same error.</p>\n"},{"tags":["java","sql","spring","postgresql"],"comments":[{"owner":{"account_id":12005380,"reputation":2991,"user_id":8783885,"display_name":"Wiimm"},"score":0,"creation_date":1694883852,"post_id":77118515,"comment_id":135951271,"body_markdown":"My question is: What is the benefit of random id&#39;s? Usually an Id is an internal unique number to identify records and to join tables.","body":"My question is: What is the benefit of random id&#39;s? Usually an Id is an internal unique number to identify records and to join tables."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694883947,"post_id":77118515,"comment_id":135951275,"body_markdown":"@Wiimm the PK isn&#39;t random","body":"@Wiimm the PK isn&#39;t random"},{"owner":{"account_id":904738,"reputation":617095,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"score":1,"creation_date":1694885126,"post_id":77118515,"comment_id":135951406,"body_markdown":"The point of the project will be to simulate actual banking accounts. For the purpose of 100 accounts, you might as well handle it manually as you please.","body":"The point of the project will be to simulate actual banking accounts. For the purpose of 100 accounts, you might as well handle it manually as you please."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694890571,"post_id":77118515,"comment_id":135951987,"body_markdown":"[UUID](https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_(random))","body":"<a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_(random)\" rel=\"nofollow noreferrer\">UUID</a>"}],"answers":[{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694884440,"post_id":77118590,"comment_id":135951327,"body_markdown":"Don&#39;t query the DB. For one, in a real world scenario there could be another account created with the number by other means (e.g. through an integration that goes through a different codepath / codebase). It&#39;s enough to try to save and if it fails for the constraint, regenrate the account number and try again. (In a professional setting I would without a doubt generate it in the database or other shared system).","body":"Don&#39;t query the DB. For one, in a real world scenario there could be another account created with the number by other means (e.g. through an integration that goes through a different codepath / codebase). It&#39;s enough to try to save and if it fails for the constraint, regenrate the account number and try again. (In a professional setting I would without a doubt generate it in the database or other shared system)."}],"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694884293,"creation_date":1694880868,"answer_id":77118590,"question_id":77118515,"body_markdown":"**I would go with this way:**\r\n\r\nOption 1: I can handle this in the Java service layer when creating a new account\r\n\r\n**How can you ensure it&#39;s unique?**\r\n\r\nCreate the random account number and after creation, execute a database query which returns all datasets with the account number. If the amount of returned results is greater than 0, then create a new random account number and check again. Do this in a loop until the database query does not return any datasets. \r\n\r\n\r\nReasons for this answer are:\r\n- IMO it is a good style to let the database be a database and let the backend code be handling the business logic. You can create the field in your database table as unique if you want. This will double check your account number\r\n- This code is easy to write and easy to read. IMO this is the most important thing\r\n- There will be no performance issues. Yes, there MAY be the chance that your loop will run more than once, but you will never notice this. 9,999,999,999 possibilities are out there; and even if you have one million accounts, this loop will nearly never run more than twice.\r\n\r\n**Tipps from an older iron**\r\n- Code-readability first. You will read your code 100 times more than you will write it. \r\n- Performance last. Performance optimized code often uses maps or ist hard verbose etc. Write simple and intuitive code, and if you run into performance issues, then you can think about optimization.\r\n- Do not code &quot;super fancy triple ultra generic code&quot; to save 3 lines. This is not cool anymore the next time you need to alter something there.\r\n- Keep it always simple. The IDE is the place to code. If you want to flex, then you need to go to the club. \r\n- If you do not unserstand your own code anymore, you are doing something wrong (in most scenarios).\r\n- The best unit test is the one, that you do not need to write.\r\n- Be kind and friendly to other programmers and do not evolve to an egoistic &quot;I am the best and all others are stupid&quot; programmer. Even of code looks bad or you think it MUST be stupid - think twice. Someone had his/her own thoughts about it!\r\n\r\nAnd now grow and be the best Version of yourself!","title":"Insert random account numbers with Java code or with database function?","body":"<p><strong>I would go with this way:</strong></p>\n<p>Option 1: I can handle this in the Java service layer when creating a new account</p>\n<p><strong>How can you ensure it's unique?</strong></p>\n<p>Create the random account number and after creation, execute a database query which returns all datasets with the account number. If the amount of returned results is greater than 0, then create a new random account number and check again. Do this in a loop until the database query does not return any datasets.</p>\n<p>Reasons for this answer are:</p>\n<ul>\n<li>IMO it is a good style to let the database be a database and let the backend code be handling the business logic. You can create the field in your database table as unique if you want. This will double check your account number</li>\n<li>This code is easy to write and easy to read. IMO this is the most important thing</li>\n<li>There will be no performance issues. Yes, there MAY be the chance that your loop will run more than once, but you will never notice this. 9,999,999,999 possibilities are out there; and even if you have one million accounts, this loop will nearly never run more than twice.</li>\n</ul>\n<p><strong>Tipps from an older iron</strong></p>\n<ul>\n<li>Code-readability first. You will read your code 100 times more than you will write it.</li>\n<li>Performance last. Performance optimized code often uses maps or ist hard verbose etc. Write simple and intuitive code, and if you run into performance issues, then you can think about optimization.</li>\n<li>Do not code &quot;super fancy triple ultra generic code&quot; to save 3 lines. This is not cool anymore the next time you need to alter something there.</li>\n<li>Keep it always simple. The IDE is the place to code. If you want to flex, then you need to go to the club.</li>\n<li>If you do not unserstand your own code anymore, you are doing something wrong (in most scenarios).</li>\n<li>The best unit test is the one, that you do not need to write.</li>\n<li>Be kind and friendly to other programmers and do not evolve to an egoistic &quot;I am the best and all others are stupid&quot; programmer. Even of code looks bad or you think it MUST be stupid - think twice. Someone had his/her own thoughts about it!</li>\n</ul>\n<p>And now grow and be the best Version of yourself!</p>\n"},{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694884732,"post_id":77118799,"comment_id":135951359,"body_markdown":"I take it you&#39;re not in the &quot;natural keys considered evil&quot; gang, may I ask why you wouldn&#39;t use a surrogate key in every table (e.g. to prevent issues when business keys change)?","body":"I take it you&#39;re not in the &quot;natural keys considered evil&quot; gang, may I ask why you wouldn&#39;t use a surrogate key in every table (e.g. to prevent issues when business keys change)?"},{"owner":{"account_id":904738,"reputation":617095,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"score":1,"creation_date":1694884867,"post_id":77118799,"comment_id":135951378,"body_markdown":"@Kayaman Don&#39;t get me wrong, I love surrogate PKs - where they make sense. May well be the case here, too. There is just nothing in the question to establish that.","body":"@Kayaman Don&#39;t get me wrong, I love surrogate PKs - where they make sense. May well be the case here, too. There is just nothing in the question to establish that."}],"tags":[],"owner":{"account_id":904738,"reputation":617095,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694907057,"creation_date":1694884488,"answer_id":77118799,"question_id":77118515,"body_markdown":"&gt; I want to generate a random 8 or 10-digit account number each time.\r\n\r\nThe first question is why you want that. If that number has to meet specific criteria, list them *precisely*. Does the number have to be truly *random* or just *arbitrary*? Why digits, and why 8 or 10 of those? Leading zeros are ok? Significant? Etc.\r\n\r\nWhy the additional surrogate PK `id`? Isn&#39;t `account_number` a natural key?\r\nWhy `varchar(8)` if it&#39;s just digits?\r\n\r\nThink of multiple accounts created **concurrently** by different clients. The database can avoid conflicts reliably, as opposed to the client.\r\n\r\nUnless there are specific criteria, use a `bigint` `IDENTITY` column. An *arbitrary*, but not *random* number. Leading zeros are insignificant noise:\r\n\r\n~~~pgsql\r\nCREATE TEMP TABLE account (\r\n  account_id bigint GENERATED ALWAYS AS IDENTITY PRIMARY KEY\r\n, name text NOT NULL   \r\n  -- other columns for account details\r\n, CONSTRAINT id_max_10_digits CHECK (account_id BETWEEN 1 AND 9999999999)\r\n);\r\n~~~\r\n\r\nSee:\r\n\r\n- https://stackoverflow.com/questions/9875223/auto-increment-table-column/9875517#9875517\r\n\r\n10 digits is one too many for plain `integer`. So `bigint`.  \r\nI threw in a `CHECK` constraint to enforce your number range.\r\n\r\nTo insert and get back the generated `account_id` in one step:\r\n\r\n~~~pgsql\r\nINSERT INTO account (name)\r\nVALUES (&#39;Foo&#39;)\r\nRETURNING account_id;\r\n~~~\r\n\r\nIf you need a 10-digit string format, you can always format the number for presentation. Like `to_char(account_id, &#39;0000000000&#39;)`, or `lpad(account_id::text, 10, &#39;0&#39;)` - which is better because *immutable*. You can even add a generated column to the table if you must:\r\n\r\n~~~pgsql\r\nCREATE TABLE account (\r\n  account_id bigint GENERATED ALWAYS AS IDENTITY PRIMARY KEY\r\n, account_nr text GENERATED ALWAYS AS (lpad(account_id::text, 10, &#39;0&#39;)) STORED\r\n, name text NOT NULL   \r\n  -- other columns for account details\r\n, CONSTRAINT id_max_10_digits CHECK (account_id BETWEEN 1 AND 9999999999)\r\n);\r\n~~~\r\n\r\nSee:\r\n\r\n- https://stackoverflow.com/questions/8250389/computed-calculated-virtual-derived-columns-in-postgresql/8250729#8250729\r\n\r\n### Truly random\r\n\r\nIf you need truly random numbers, the inherent weakness is that conflicts are possible in principle.\r\n\r\n~~~pgsql\r\nCREATE OR REPLACE FUNCTION public.generate_random_account_number()\r\n  RETURNS bigint\r\n  LANGUAGE SQL VOLATILE PARALLEL SAFE AS\r\n$func$\r\nSELECT trunc(random() * 10000000000)::bigint;\r\n$func$;\r\n~~~\r\n\r\nThen:\r\n\r\n~~~pgsql\r\nCREATE TABLE account (\r\n  account_id bigint PRIMARY KEY DEFAULT public.generate_random_account_number()\r\n-- , ... rest like above\r\n~~~\r\n\r\n### UUID\r\n\r\nTo make conflicts practically impossible, use [`uuid`][1] values instead of your 10-digit number. Those can be generated in the client or [in the database][2] as you like. They are just a bit unwieldy, and occupy 16 bytes. About the likelihood of conflicts, consider the chapter *&quot;Probability of a hash collision?&quot;* here:\r\n\r\n- [Why doesn&#39;t my UNIQUE constraint trigger?][3]\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/datatype-uuid.html\r\n  [2]: https://www.postgresql.org/docs/current/functions-uuid.html\r\n  [3]: https://dba.stackexchange.com/a/299107/3684","title":"Insert random account numbers with Java code or with database function?","body":"<blockquote>\n<p>I want to generate a random 8 or 10-digit account number each time.</p>\n</blockquote>\n<p>The first question is why you want that. If that number has to meet specific criteria, list them <em>precisely</em>. Does the number have to be truly <em>random</em> or just <em>arbitrary</em>? Why digits, and why 8 or 10 of those? Leading zeros are ok? Significant? Etc.</p>\n<p>Why the additional surrogate PK <code>id</code>? Isn't <code>account_number</code> a natural key?\nWhy <code>varchar(8)</code> if it's just digits?</p>\n<p>Think of multiple accounts created <strong>concurrently</strong> by different clients. The database can avoid conflicts reliably, as opposed to the client.</p>\n<p>Unless there are specific criteria, use a <code>bigint</code> <code>IDENTITY</code> column. An <em>arbitrary</em>, but not <em>random</em> number. Leading zeros are insignificant noise:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TEMP TABLE account (\n  account_id bigint GENERATED ALWAYS AS IDENTITY PRIMARY KEY\n, name text NOT NULL   \n  -- other columns for account details\n, CONSTRAINT id_max_10_digits CHECK (account_id BETWEEN 1 AND 9999999999)\n);\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9875223/auto-increment-table-column/9875517#9875517\">Auto increment table column</a></li>\n</ul>\n<p>10 digits is one too many for plain <code>integer</code>. So <code>bigint</code>.<br />\nI threw in a <code>CHECK</code> constraint to enforce your number range.</p>\n<p>To insert and get back the generated <code>account_id</code> in one step:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO account (name)\nVALUES ('Foo')\nRETURNING account_id;\n</code></pre>\n<p>If you need a 10-digit string format, you can always format the number for presentation. Like <code>to_char(account_id, '0000000000')</code>, or <code>lpad(account_id::text, 10, '0')</code> - which is better because <em>immutable</em>. You can even add a generated column to the table if you must:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE account (\n  account_id bigint GENERATED ALWAYS AS IDENTITY PRIMARY KEY\n, account_nr text GENERATED ALWAYS AS (lpad(account_id::text, 10, '0')) STORED\n, name text NOT NULL   \n  -- other columns for account details\n, CONSTRAINT id_max_10_digits CHECK (account_id BETWEEN 1 AND 9999999999)\n);\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8250389/computed-calculated-virtual-derived-columns-in-postgresql/8250729#8250729\">Computed / calculated / virtual / derived columns in PostgreSQL</a></li>\n</ul>\n<h3>Truly random</h3>\n<p>If you need truly random numbers, the inherent weakness is that conflicts are possible in principle.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE FUNCTION public.generate_random_account_number()\n  RETURNS bigint\n  LANGUAGE SQL VOLATILE PARALLEL SAFE AS\n$func$\nSELECT trunc(random() * 10000000000)::bigint;\n$func$;\n</code></pre>\n<p>Then:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE account (\n  account_id bigint PRIMARY KEY DEFAULT public.generate_random_account_number()\n-- , ... rest like above\n</code></pre>\n<h3>UUID</h3>\n<p>To make conflicts practically impossible, use <a href=\"https://www.postgresql.org/docs/current/datatype-uuid.html\" rel=\"nofollow noreferrer\"><code>uuid</code></a> values instead of your 10-digit number. Those can be generated in the client or <a href=\"https://www.postgresql.org/docs/current/functions-uuid.html\" rel=\"nofollow noreferrer\">in the database</a> as you like. They are just a bit unwieldy, and occupy 16 bytes. About the likelihood of conflicts, consider the chapter <em>&quot;Probability of a hash collision?&quot;</em> here:</p>\n<ul>\n<li><a href=\"https://dba.stackexchange.com/a/299107/3684\">Why doesn't my UNIQUE constraint trigger?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694902944,"creation_date":1694902944,"answer_id":77119824,"question_id":77118515,"body_markdown":"You need a function that reliably generates 10-digit numbers from sequential inputs and which is seemingly random, that is, someone not knowing your function will not know which numbers follow the previous. A way to achieve it is to define a pattern. Let&#39;s say that we have a 10-digit multiple of large numbers, like **9754031400**\r\n\r\nwhich is\r\n\r\n**12345 &#215; 98765 &#215; 8**\r\n\r\nSo, we can have\r\n\r\n**1 + (98765 * 1), 1 + (98765 * 2), ..., 1 + (98765 * 98759)**\r\n\r\nas our first set of numbers (multiples of 98765 + 1 below 9754031400). When we run out of numbers in this interval, we can continue the series with adding 2 to the multiples:\r\n\r\n**2 + (98765 * 1), 2 + (98765 * 2), ..., 2 + (98765 * 98759)**\r\n\r\nand so on. Admittedly, this is not obfuscated-enough yet. So we can shuffle the digits. If the digits of the original number were initially\r\n\r\n**d1 d2 d3 d4 d5 d6 d7 d8 d9 d10**\r\n\r\nthen you can change their order for the purpose of obfuscating the results to\r\n\r\n**d10 d7 d5 d6 d3 d4 d8 d1 d9 d2**\r\n\r\nThis would be really difficult to reverse-engineer. But if this is not enough, you can always add further levels of obfuscation. Since this is an algorithmic example and Javascript is the only language we can add as a snippet, I will illustrate this via Javascript, but you can implement this algorithm in Java or SQL without any problems\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const magicNumber = 98765;\r\n    const magicLimit = 9754031400;\r\n    const period = parseInt(magicLimit / magicNumber) - 1;\r\n    const digitNumber = 10;\r\n    function obfuscate(input) {\r\n        let offset = 1 + parseInt(input / period);\r\n        let mod = input % period;\r\n        let firstLevel = offset + mod * magicNumber;\r\n        let str = firstLevel + &quot;&quot;;\r\n        while (str.length &lt; digitNumber) str = &quot;0&quot; + str;\r\n        let rawArray = str.split(&quot;&quot;);\r\n        let newDigits = [9, 6, 4, 5, 2, 3, 7, 0, 8, 1];\r\n        let newArray = [];\r\n        while (newArray.length &lt; rawArray.length) newArray.push(rawArray[newDigits[newArray.length]]);\r\n        return newArray.join(&quot;&quot;);\r\n    }\r\n\r\n    function compute(input) {\r\n        let output = obfuscate(parseInt(input));\r\n        document.getElementById(&quot;result&quot;).innerText = output;\r\n    }\r\n\r\n    compute(1);\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;input type=&quot;number&quot; id=&quot;thevalue&quot; value=&quot;1&quot; onchange=&quot;compute(this.value)&quot;&gt;\r\n    &lt;div id=&quot;result&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Insert random account numbers with Java code or with database function?","body":"<p>You need a function that reliably generates 10-digit numbers from sequential inputs and which is seemingly random, that is, someone not knowing your function will not know which numbers follow the previous. A way to achieve it is to define a pattern. Let's say that we have a 10-digit multiple of large numbers, like <strong>9754031400</strong></p>\n<p>which is</p>\n<p><strong>12345 × 98765 × 8</strong></p>\n<p>So, we can have</p>\n<p><strong>1 + (98765 * 1), 1 + (98765 * 2), ..., 1 + (98765 * 98759)</strong></p>\n<p>as our first set of numbers (multiples of 98765 + 1 below 9754031400). When we run out of numbers in this interval, we can continue the series with adding 2 to the multiples:</p>\n<p><strong>2 + (98765 * 1), 2 + (98765 * 2), ..., 2 + (98765 * 98759)</strong></p>\n<p>and so on. Admittedly, this is not obfuscated-enough yet. So we can shuffle the digits. If the digits of the original number were initially</p>\n<p><strong>d1 d2 d3 d4 d5 d6 d7 d8 d9 d10</strong></p>\n<p>then you can change their order for the purpose of obfuscating the results to</p>\n<p><strong>d10 d7 d5 d6 d3 d4 d8 d1 d9 d2</strong></p>\n<p>This would be really difficult to reverse-engineer. But if this is not enough, you can always add further levels of obfuscation. Since this is an algorithmic example and Javascript is the only language we can add as a snippet, I will illustrate this via Javascript, but you can implement this algorithm in Java or SQL without any problems</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const magicNumber = 98765;\nconst magicLimit = 9754031400;\nconst period = parseInt(magicLimit / magicNumber) - 1;\nconst digitNumber = 10;\nfunction obfuscate(input) {\n    let offset = 1 + parseInt(input / period);\n    let mod = input % period;\n    let firstLevel = offset + mod * magicNumber;\n    let str = firstLevel + \"\";\n    while (str.length &lt; digitNumber) str = \"0\" + str;\n    let rawArray = str.split(\"\");\n    let newDigits = [9, 6, 4, 5, 2, 3, 7, 0, 8, 1];\n    let newArray = [];\n    while (newArray.length &lt; rawArray.length) newArray.push(rawArray[newDigits[newArray.length]]);\n    return newArray.join(\"\");\n}\n\nfunction compute(input) {\n    let output = obfuscate(parseInt(input));\n    document.getElementById(\"result\").innerText = output;\n}\n\ncompute(1);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"number\" id=\"thevalue\" value=\"1\" onchange=\"compute(this.value)\"&gt;\n&lt;div id=\"result\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":29460328,"reputation":31,"user_id":22575249,"display_name":"Erhan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694907057,"creation_date":1694879687,"question_id":77118515,"body_markdown":"I&#39;ve have started building a banking project using Java, a Spring Boot application, and a PostgreSQL database. I want to generate a random 8 or 10-digit account number each time I create a new account. What&#39;s the best way to achieve this?\r\n\r\nOption 1: I can handle this in the Java service layer when creating a new account (but how can I ensure it&#39;s unique?).\r\n\r\nOption 2: I can design the database like this: \r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS account (\r\nid SERIAL PRIMARY KEY,\r\naccount_number VARCHAR(8) UNIQUE, -- Unique 8-character account number\r\n-- Other columns for account details\r\n);\r\n```\r\n\r\nThen create an SQL function to generate a random number like:\r\n\r\n```\r\nCREATE OR REPLACE FUNCTION generate_random_account_number()\r\nRETURNS VARCHAR(8) AS $$\r\nBEGIN\r\n   RETURN lpad(floor(random() * 100000000)::int::text, 8, &#39;0&#39;);\r\nEND;\r\n$$ LANGUAGE plpgsql;\r\n```\r\n\r\nThen insert it like:\r\n\r\n```\r\nINSERT INTO account (account_number, other_columns)\r\nVALUES (generate_random_account_number(), &#39;other_data&#39;);\r\n```\r\n\r\nI&#39;m not sure which approach is better to achieve this, and how I can ensure that the account numbers will be unique each time they are created.\r\n\r\nPS: I don&#39;t anticipate encountering issues with uniqueness because this is a hobby project, and I won&#39;t be creating more than 100 accounts.","title":"Insert random account numbers with Java code or with database function?","body":"<p>I've have started building a banking project using Java, a Spring Boot application, and a PostgreSQL database. I want to generate a random 8 or 10-digit account number each time I create a new account. What's the best way to achieve this?</p>\n<p>Option 1: I can handle this in the Java service layer when creating a new account (but how can I ensure it's unique?).</p>\n<p>Option 2: I can design the database like this:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS account (\nid SERIAL PRIMARY KEY,\naccount_number VARCHAR(8) UNIQUE, -- Unique 8-character account number\n-- Other columns for account details\n);\n</code></pre>\n<p>Then create an SQL function to generate a random number like:</p>\n<pre><code>CREATE OR REPLACE FUNCTION generate_random_account_number()\nRETURNS VARCHAR(8) AS $$\nBEGIN\n   RETURN lpad(floor(random() * 100000000)::int::text, 8, '0');\nEND;\n$$ LANGUAGE plpgsql;\n</code></pre>\n<p>Then insert it like:</p>\n<pre><code>INSERT INTO account (account_number, other_columns)\nVALUES (generate_random_account_number(), 'other_data');\n</code></pre>\n<p>I'm not sure which approach is better to achieve this, and how I can ensure that the account numbers will be unique each time they are created.</p>\n<p>PS: I don't anticipate encountering issues with uniqueness because this is a hobby project, and I won't be creating more than 100 accounts.</p>\n"},{"tags":["java","spring","spring-boot","soap","soapserver"],"comments":[{"owner":{"account_id":4815242,"reputation":2947,"user_id":3887530,"display_name":"martidis"},"score":0,"creation_date":1517212021,"post_id":48495188,"comment_id":83986040,"body_markdown":"could you share the xsd of GetResp?","body":"could you share the xsd of GetResp?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1517214375,"post_id":48495188,"comment_id":83987070,"body_markdown":"Return `JAXBElement&lt;GetResp&gt;` instead of `GetResp` the same probably applies to your `GetReq` element which you also need to wrap in a `JAXBElement`.","body":"Return <code>JAXBElement&lt;GetResp&gt;</code> instead of <code>GetResp</code> the same probably applies to your <code>GetReq</code> element which you also need to wrap in a <code>JAXBElement</code>."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1517218963,"post_id":48495188,"comment_id":83989614,"body_markdown":"@mart I don&#39;t have any `xsd`. I generate all Req/Resp classes from `wsdl`. And I can&#39;t change this `wsdl`.","body":"@mart I don&#39;t have any <code>xsd</code>. I generate all Req/Resp classes from <code>wsdl</code>. And I can&#39;t change this <code>wsdl</code>."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1517219039,"post_id":48495188,"comment_id":83989650,"body_markdown":"@M.Deinum I should try this, but I prefer to leave signature as it is. Because I implement generated interface `EndpointPortType`.","body":"@M.Deinum I should try this, but I prefer to leave signature as it is. Because I implement generated interface <code>EndpointPortType</code>."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1517219547,"post_id":48495188,"comment_id":83989955,"body_markdown":"Why on earth would you implement that interface? That interface is for use with JAX-WS not with Spring Web Services.","body":"Why on earth would you implement that interface? That interface is for use with JAX-WS not with Spring Web Services."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1517220654,"post_id":48495188,"comment_id":83990688,"body_markdown":"@M.Deinum If I implement this interface then in case of changes in `wsdl` I get compiler error. What is spring way to implement soap web-services then? I found only tutorials which don&#39;t use wsdl.","body":"@M.Deinum If I implement this interface then in case of changes in <code>wsdl</code> I get compiler error. What is spring way to implement soap web-services then? I found only tutorials which don&#39;t use wsdl."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1517220729,"post_id":48495188,"comment_id":83990751,"body_markdown":"because you don&#39;t need the wsdl. As I stated the interface is only there for Jax-ws based services you don&#39;t require/need them (nor should want them!) for Spring Web Services based stuff. You shouldn&#39;t even generate them. You only need the JAXB elements not the JAX_WS generated stuff.","body":"because you don&#39;t need the wsdl. As I stated the interface is only there for Jax-ws based services you don&#39;t require/need them (nor should want them!) for Spring Web Services based stuff. You shouldn&#39;t even generate them. You only need the JAXB elements not the JAX_WS generated stuff."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1517280597,"post_id":48495188,"comment_id":84021043,"body_markdown":"@M.Deinum I didn&#39;t generate them. It is part of requirement. I have wsdl and have to implement web service.","body":"@M.Deinum I didn&#39;t generate them. It is part of requirement. I have wsdl and have to implement web service."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1517296381,"post_id":48495188,"comment_id":84025815,"body_markdown":"You did generate the interfaces and jaxb classes. You have to create a service that handles the request you don&#39;t have to implement the interface.","body":"You did generate the interfaces and jaxb classes. You have to create a service that handles the request you don&#39;t have to implement the interface."}],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694905333,"creation_date":1517205431,"question_id":48495188,"body_markdown":"I have problem with implementing SOAP Web service with `spring-boot`.\r\n\r\nI have class \r\n\r\n    @Endpoint\r\n    public class EndpointPortTypeImpl implements EndpointPortType {\r\n        @PayloadRoot(\r\n                namespace = &quot;...&quot;,\r\n                localPart = &quot;getReq&quot;)\r\n        @ResponsePayload\r\n        @Override\r\n        public GetResp getReq(@RequestPayload GetReq parameters) {\r\n            return new GetLinkedAcctResp();\r\n        }\r\n    }\r\n\r\nClasses `GetResp`, `GetReq` and  interface `EndpointPortType` are generated from `wsdl`.\r\n\r\nWhen I try to access to this service I get \r\n\r\n    java.lang.IllegalStateException: No adapter for endpoint [public com.mydomain.GetResp com.mydomain.EndpointPortTypeImpl.getReq(com.mydomain.GetReq)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\r\n    \tat org.springframework.ws.server.MessageDispatcher.getEndpointAdapter(MessageDispatcher.java:302)\r\n    \tat org.springframework.ws.server.MessageDispatcher.dispatch(MessageDispatcher.java:235)\r\n    \tat org.springframework.ws.server.MessageDispatcher.receive(MessageDispatcher.java:176)\r\n    \tat org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:89)\r\n    \tat org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:61)\r\n    \tat org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:293)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n\r\nIt happens because `XmlRootElementPayloadMethodProcessor` can process parameters with type annotated with `@XmlType` or `@XmlRootElement`, but return value should be annotated only with `@XmlRootElement`.\r\n\r\nMy generated `GetResp` have `@XmlType` annotation so `XmlRootElementPayloadMethodProcessor` does not support it.\r\n\r\nFor obvious reason I can&#39;t add `@XmlRootElement` to `GetResp` and I don&#39;t want to implement my own `MethodReturnValueHandler`.\r\n\r\nHow to configure spring-boot to work with return values without `@XmlRootElement` annotation?\r\n","title":"&quot;No adapter for endpoint&quot; with class marked @XmlType as return type","body":"<p>I have problem with implementing SOAP Web service with <code>spring-boot</code>.</p>\n\n<p>I have class </p>\n\n<pre><code>@Endpoint\npublic class EndpointPortTypeImpl implements EndpointPortType {\n    @PayloadRoot(\n            namespace = \"...\",\n            localPart = \"getReq\")\n    @ResponsePayload\n    @Override\n    public GetResp getReq(@RequestPayload GetReq parameters) {\n        return new GetLinkedAcctResp();\n    }\n}\n</code></pre>\n\n<p>Classes <code>GetResp</code>, <code>GetReq</code> and  interface <code>EndpointPortType</code> are generated from <code>wsdl</code>.</p>\n\n<p>When I try to access to this service I get </p>\n\n<pre><code>java.lang.IllegalStateException: No adapter for endpoint [public com.mydomain.GetResp com.mydomain.EndpointPortTypeImpl.getReq(com.mydomain.GetReq)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\n    at org.springframework.ws.server.MessageDispatcher.getEndpointAdapter(MessageDispatcher.java:302)\n    at org.springframework.ws.server.MessageDispatcher.dispatch(MessageDispatcher.java:235)\n    at org.springframework.ws.server.MessageDispatcher.receive(MessageDispatcher.java:176)\n    at org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:89)\n    at org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:61)\n    at org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:293)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\n</code></pre>\n\n<p>It happens because <code>XmlRootElementPayloadMethodProcessor</code> can process parameters with type annotated with <code>@XmlType</code> or <code>@XmlRootElement</code>, but return value should be annotated only with <code>@XmlRootElement</code>.</p>\n\n<p>My generated <code>GetResp</code> have <code>@XmlType</code> annotation so <code>XmlRootElementPayloadMethodProcessor</code> does not support it.</p>\n\n<p>For obvious reason I can't add <code>@XmlRootElement</code> to <code>GetResp</code> and I don't want to implement my own <code>MethodReturnValueHandler</code>.</p>\n\n<p>How to configure spring-boot to work with return values without <code>@XmlRootElement</code> annotation?</p>\n"},{"tags":["java","css","javafx","combobox","scenebuilder"],"comments":[{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":0,"creation_date":1498091379,"post_id":44687960,"comment_id":76360417,"body_markdown":"I think they have there own set of css fields prefixed as `-jfx-`. Take a look at their website (i find it very hard to use the website, as the navigation covers the actual content).","body":"I think they have there own set of css fields prefixed as <code>-jfx-</code>. Take a look at their website (i find it very hard to use the website, as the navigation covers the actual content)."},{"owner":{"account_id":11169377,"reputation":51,"user_id":8196893,"display_name":"8m4c"},"score":0,"creation_date":1498091821,"post_id":44687960,"comment_id":76360499,"body_markdown":"You&#39;re right, but there&#39;s only these three: `-jfx-focus-color`, `-jfx-unfocus-color`, and `-jfx-label-float`, none of which address the text.","body":"You&#39;re right, but there&#39;s only these three: <code>-jfx-focus-color</code>, <code>-jfx-unfocus-color</code>, and <code>-jfx-label-float</code>, none of which address the text."},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":0,"creation_date":1498091917,"post_id":44687960,"comment_id":76360517,"body_markdown":"Try focus color.","body":"Try focus color."},{"owner":{"account_id":11169377,"reputation":51,"user_id":8196893,"display_name":"8m4c"},"score":0,"creation_date":1498091997,"post_id":44687960,"comment_id":76360533,"body_markdown":"I have, `-jfx-focus-color` and `-jfx-unfocus-color` affect the text bar, not the actual text.","body":"I have, <code>-jfx-focus-color</code> and <code>-jfx-unfocus-color</code> affect the text bar, not the actual text."}],"answers":[{"comments":[{"owner":{"account_id":11169377,"reputation":51,"user_id":8196893,"display_name":"8m4c"},"score":0,"creation_date":1498148884,"post_id":44690366,"comment_id":76392619,"body_markdown":"Just tried doing that and it didn&#39;t work.  I&#39;m not 100% familiar with CSS syntax, but this is what I used: `.combo-box .list-view .list-cell {-fx-text-fill: &quot;#eceff1&quot;; }`","body":"Just tried doing that and it didn&#39;t work.  I&#39;m not 100% familiar with CSS syntax, but this is what I used: <code>.combo-box .list-view .list-cell {-fx-text-fill: &quot;#eceff1&quot;; }</code>"},{"owner":{"account_id":11169377,"reputation":51,"user_id":8196893,"display_name":"8m4c"},"score":0,"creation_date":1498149228,"post_id":44690366,"comment_id":76392852,"body_markdown":"Update: After messing around with that a little bit, I determined that the `.combo-box .list-view .list-cell` doesn&#39;t affect the text of the selected item, just the items in the combobox list.","body":"Update: After messing around with that a little bit, I determined that the <code>.combo-box .list-view .list-cell</code> doesn&#39;t affect the text of the selected item, just the items in the combobox list."}],"tags":[],"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498106893,"creation_date":1498106893,"answer_id":44690366,"question_id":44687960,"body_markdown":"`-fx-text-fill` isn&#39;t defined in combo box.\r\n\r\nBut reading the [CSS Reference Guide](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html) I see the structure:\r\n\r\n    .combo-box &gt; .list-view &gt; .list-cell\r\n\r\nwhere `.list-cell` defines `-fx-text-fill` inherited from Labeled.","title":"JavaFX/CSS: Changing text color of ComboBox&#39;s selected item","body":"<p><code>-fx-text-fill</code> isn't defined in combo box.</p>\n\n<p>But reading the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html\" rel=\"nofollow noreferrer\">CSS Reference Guide</a> I see the structure:</p>\n\n<pre><code>.combo-box &gt; .list-view &gt; .list-cell\n</code></pre>\n\n<p>where <code>.list-cell</code> defines <code>-fx-text-fill</code> inherited from Labeled.</p>\n"},{"tags":[],"owner":{"account_id":11169377,"reputation":51,"user_id":8196893,"display_name":"8m4c"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498149630,"creation_date":1498149630,"answer_id":44705098,"question_id":44687960,"body_markdown":"OK, so after messing with the CSS that @MouseEvent suggested, I figured out the solution.\r\n\r\n`.combo-box .list-view .list-cell` affects the items in the ComboBox&#39;s list when you open the pop-up.\r\n\r\n`.combo-box .list-cell` affects the label of the selected item, which was what I was having trouble accessing.","title":"JavaFX/CSS: Changing text color of ComboBox&#39;s selected item","body":"<p>OK, so after messing with the CSS that @MouseEvent suggested, I figured out the solution.</p>\n\n<p><code>.combo-box .list-view .list-cell</code> affects the items in the ComboBox's list when you open the pop-up.</p>\n\n<p><code>.combo-box .list-cell</code> affects the label of the selected item, which was what I was having trouble accessing.</p>\n"},{"tags":[],"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694904045,"creation_date":1694904045,"answer_id":77119872,"question_id":44687960,"body_markdown":"Much thanks, this helped me alot. I played with it some more, and I was able to achieve this styling.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nUsing these entries:\r\n\r\n    /* outer combo-box text */\r\n    .combo-box .list-cell {\r\n      -fx-text-fill: white;\r\n    }\r\n\r\n    /* combo-box list view text, not hovered or focused */\r\n    .combo-box .list-view .list-cell {\r\n      -fx-text-fill: black;\r\n    }\r\n\r\n    /* combo-box selected text */\r\n    .combo-box .list-view .list-cell:focused {\r\n      -fx-background-color : #5F9EA0;  /* Cadet Blue */\r\n      -fx-text-fill: white;\r\n    }\r\n\r\n    /* combo-box hover text */\r\n    .combo-box .list-view .list-cell:hover {\r\n      -fx-background-color : #5F9EA0;  /* Cadet Blue */\r\n      -fx-text-fill: white;\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/oRMNa.jpg","title":"JavaFX/CSS: Changing text color of ComboBox&#39;s selected item","body":"<p>Much thanks, this helped me alot. I played with it some more, and I was able to achieve this styling.</p>\n<p><a href=\"https://i.stack.imgur.com/oRMNa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oRMNa.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Using these entries:</p>\n<pre><code>/* outer combo-box text */\n.combo-box .list-cell {\n  -fx-text-fill: white;\n}\n\n/* combo-box list view text, not hovered or focused */\n.combo-box .list-view .list-cell {\n  -fx-text-fill: black;\n}\n\n/* combo-box selected text */\n.combo-box .list-view .list-cell:focused {\n  -fx-background-color : #5F9EA0;  /* Cadet Blue */\n  -fx-text-fill: white;\n}\n\n/* combo-box hover text */\n.combo-box .list-view .list-cell:hover {\n  -fx-background-color : #5F9EA0;  /* Cadet Blue */\n  -fx-text-fill: white;\n}\n</code></pre>\n"}],"owner":{"account_id":11169377,"reputation":51,"user_id":8196893,"display_name":"8m4c"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8831,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694904045,"creation_date":1498089218,"question_id":44687960,"body_markdown":"I&#39;m using a custom JavaFX library called JFoenix that overhauls some JavaFX components with Google&#39;s Material Design.  The problem I&#39;m specifically running into is changing the text color of a ComboBox of Strings&#39; selected item after it has been selected.  [This is my before screen, with the item in question circled.][1]\r\n\r\nThe text turns from gray to black when I select an item from the ComboBox ([see screenshot here][2]).  I want the text from the selected item to be the same color as the rest of the labels.  Adding a `-fx-text-fill` or `-fx-text-inner-color` in Scene Builder doesn&#39;t work.\r\n\r\nThe only possible solution I&#39;ve found is making the ComboBox editable and setting the color through its Editor after the user selects an option:\r\n\r\n    @FXML\r\n    private void handleComboBoxFormat() {\r\n         this.mpaaBox.getEditor().setStyle(&quot;-fx-text-fill: #eceff1;&quot; + &quot;-fx-background-color: #445566&quot;);\r\n    }\r\n\r\nI don&#39;t like this solution because I don&#39;t want the ComboBox to be editable, and it just feels messy.  Is there any other way to edit the text color?  Thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xAMnO.jpg\r\n  [2]: https://i.stack.imgur.com/UyQ74.png","title":"JavaFX/CSS: Changing text color of ComboBox&#39;s selected item","body":"<p>I'm using a custom JavaFX library called JFoenix that overhauls some JavaFX components with Google's Material Design.  The problem I'm specifically running into is changing the text color of a ComboBox of Strings' selected item after it has been selected.  <a href=\"https://i.stack.imgur.com/xAMnO.jpg\" rel=\"nofollow noreferrer\">This is my before screen, with the item in question circled.</a></p>\n\n<p>The text turns from gray to black when I select an item from the ComboBox (<a href=\"https://i.stack.imgur.com/UyQ74.png\" rel=\"nofollow noreferrer\">see screenshot here</a>).  I want the text from the selected item to be the same color as the rest of the labels.  Adding a <code>-fx-text-fill</code> or <code>-fx-text-inner-color</code> in Scene Builder doesn't work.</p>\n\n<p>The only possible solution I've found is making the ComboBox editable and setting the color through its Editor after the user selects an option:</p>\n\n<pre><code>@FXML\nprivate void handleComboBoxFormat() {\n     this.mpaaBox.getEditor().setStyle(\"-fx-text-fill: #eceff1;\" + \"-fx-background-color: #445566\");\n}\n</code></pre>\n\n<p>I don't like this solution because I don't want the ComboBox to be editable, and it just feels messy.  Is there any other way to edit the text color?  Thanks!</p>\n"},{"tags":["python","java","netbeans","netbeans-plugins","netbeans-12"],"answers":[{"tags":[],"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634555679,"creation_date":1634555679,"answer_id":69615071,"question_id":69475317,"body_markdown":"There is no official plugin for 12.x yet. If you read on the [mailing list][1] you can see that a re-implementation of the Python support was discussed but nothing has been implemented yet.\r\n\r\n\r\n  [1]: https://lists.apache.org/list.html?dev@netbeans.apache.org:lte=1y:python","title":"How to setup NetBeans IDE for Python Development","body":"<p>There is no official plugin for 12.x yet. If you read on the <a href=\"https://lists.apache.org/list.html?dev@netbeans.apache.org:lte=1y:python\" rel=\"noreferrer\">mailing list</a> you can see that a re-implementation of the Python support was discussed but nothing has been implemented yet.</p>\n"},{"comments":[{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1661839436,"post_id":73452982,"comment_id":129859901,"body_markdown":"Do have any link to download these","body":"Do have any link to download these"},{"owner":{"account_id":9655226,"reputation":33,"user_id":7181292,"display_name":"Sp_V"},"score":0,"creation_date":1661935488,"post_id":73452982,"comment_id":129887625,"body_markdown":"Maybe this one??\nhttps://github.com/GeertjanWielenga/Python4NetBeans/tree/master/PythonSuite/binaries","body":"Maybe this one?? <a href=\"https://github.com/GeertjanWielenga/Python4NetBeans/tree/master/PythonSuite/binaries\" rel=\"nofollow noreferrer\">github.com/GeertjanWielenga/Python4NetBeans/tree/master/&hellip;</a>"}],"tags":[],"owner":{"account_id":9655226,"reputation":33,"user_id":7181292,"display_name":"Sp_V"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661227063,"creation_date":1661227063,"answer_id":73452982,"question_id":69475317,"body_markdown":"Update: I just installed Netbeans IDE v 13. I had since long time ago the Python/Jython/PERL modules for Netbeans 8.xx Which worked for a long time. For IDE v 13 I added them via the usual method, &quot;Tools -&gt; Plugins -&gt; Downloaded -&gt; Add Plugins&quot;, and it looks like they work fine! Therefore their compatibility with Apache Netbeans is very high. The problem is with the links of nbpython, they look broken &amp; discontinued. If one has the old modules posted somewhere, then I guess you can pick those up and feel lucky. If not, you need to find them somehow, or wait for the python project to be re-implemented. The modules I have are described below. Hope this helps:  \r\n \r\n \r\n\r\n&gt; org-netbeans-modules-python-hints.nbm  \r\n&gt; org-netbeans-modules-python-kit.nbm  \r\n&gt; org-netbeans-modules-python-options.nbm  \r\n&gt; org-netbeans-modules-python-platform.nbm  \r\n&gt; org-netbeans-modules-python-project.nbm  \r\n&gt; org-netbeans-modules-python-project2.nbm  \r\n&gt; org-netbeans-modules-python-samples.nbm  \r\n&gt; org-netbeans-modules-python-source.nbm  \r\n&gt; org-netbeans-modules-python-testrunner.nbm   org-jython.nbm  \r\n&gt; org-jython-distro.nbm   org-netbeans-modules-python-console.nbm  \r\n&gt; org-netbeans-modules-python-core.nbm  \r\n&gt; org-netbeans-modules-python-debugger.nbm  \r\n&gt; org-netbeans-modules-python-editor.nbm  \r\n&gt; org-netbeans-modules-python-help.nbm","title":"How to setup NetBeans IDE for Python Development","body":"<p>Update: I just installed Netbeans IDE v 13. I had since long time ago the Python/Jython/PERL modules for Netbeans 8.xx Which worked for a long time. For IDE v 13 I added them via the usual method, &quot;Tools -&gt; Plugins -&gt; Downloaded -&gt; Add Plugins&quot;, and it looks like they work fine! Therefore their compatibility with Apache Netbeans is very high. The problem is with the links of nbpython, they look broken &amp; discontinued. If one has the old modules posted somewhere, then I guess you can pick those up and feel lucky. If not, you need to find them somehow, or wait for the python project to be re-implemented. The modules I have are described below. Hope this helps:</p>\n<blockquote>\n<p>org-netbeans-modules-python-hints.nbm<br />\norg-netbeans-modules-python-kit.nbm<br />\norg-netbeans-modules-python-options.nbm<br />\norg-netbeans-modules-python-platform.nbm<br />\norg-netbeans-modules-python-project.nbm<br />\norg-netbeans-modules-python-project2.nbm<br />\norg-netbeans-modules-python-samples.nbm<br />\norg-netbeans-modules-python-source.nbm<br />\norg-netbeans-modules-python-testrunner.nbm   org-jython.nbm<br />\norg-jython-distro.nbm   org-netbeans-modules-python-console.nbm<br />\norg-netbeans-modules-python-core.nbm<br />\norg-netbeans-modules-python-debugger.nbm<br />\norg-netbeans-modules-python-editor.nbm<br />\norg-netbeans-modules-python-help.nbm</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694902546,"creation_date":1694902546,"answer_id":77119807,"question_id":69475317,"body_markdown":"The new plugin for python is netbeansPython: \r\n\r\nhttps://plugins.netbeans.apache.org/catalogue/?id=89\r\n\r\nhttps://github.com/albilu/netbeansPython","title":"How to setup NetBeans IDE for Python Development","body":"<p>The new plugin for python is netbeansPython:</p>\n<p><a href=\"https://plugins.netbeans.apache.org/catalogue/?id=89\" rel=\"nofollow noreferrer\">https://plugins.netbeans.apache.org/catalogue/?id=89</a></p>\n<p><a href=\"https://github.com/albilu/netbeansPython\" rel=\"nofollow noreferrer\">https://github.com/albilu/netbeansPython</a></p>\n"}],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8588,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69615071,"answer_count":3,"score":6,"last_activity_date":1694902546,"creation_date":1633579516,"question_id":69475317,"body_markdown":"I was using PyDev plugin in eclipse for developing python. But now I switched to **NetBeans IDE 12.6** and I searched google for finding python plugins for NetBeans. I found a plugin called [nbpython][1].\r\nBut it is for NetBeans 8.1 and I am using NetBeans 12.6. So is there any plugin for NetBeans IDE 12.6 for developing Python Projects. Or does nbpython work in my version?\r\n\r\n\r\n  [1]: http://nbpython.org/","title":"How to setup NetBeans IDE for Python Development","body":"<p>I was using PyDev plugin in eclipse for developing python. But now I switched to <strong>NetBeans IDE 12.6</strong> and I searched google for finding python plugins for NetBeans. I found a plugin called <a href=\"http://nbpython.org/\" rel=\"nofollow noreferrer\">nbpython</a>.\nBut it is for NetBeans 8.1 and I am using NetBeans 12.6. So is there any plugin for NetBeans IDE 12.6 for developing Python Projects. Or does nbpython work in my version?</p>\n"},{"tags":["java","arrays","sorting","radix"],"comments":[{"owner":{"account_id":293796,"reputation":13141,"user_id":597310,"accept_rate":80,"display_name":"dfb"},"score":1,"creation_date":1354239189,"post_id":13637706,"comment_id":18708217,"body_markdown":"In Java, `bucket` would likely be a `List` data structure","body":"In Java, <code>bucket</code> would likely be a <code>List</code> data structure"},{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":0,"creation_date":1354239229,"post_id":13637706,"comment_id":18708224,"body_markdown":"*&quot;Is it really possible to have multiple integers in one index?&quot;*. Yes, one way is having *Buckets* at each index.","body":"<i>&quot;Is it really possible to have multiple integers in one index?&quot;</i>. Yes, one way is having <i>Buckets</i> at each index."}],"answers":[{"tags":[],"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354239940,"creation_date":1354239192,"answer_id":13637726,"question_id":13637706,"body_markdown":"Yes, it is possible to add multiple `int` to an array, but you would need to have an array where each item is an `Object` rather than an `int`.\r\n\r\nFor example...\r\n\r\n    // the items to store in the array, which contain 3 ints\r\n    public class Bucket {\r\n        int number1 = -1;\r\n        int number2 = -1;\r\n        int number3 = -1;\r\n        \r\n        public void addInt(int number){\r\n            if (number1 == -1){\r\n                number1 = number;\r\n            }\r\n            else if (number2 == -1){\r\n                number2 = number;\r\n            }\r\n            else if (number3 == -1){\r\n                number3 = number;\r\n            }\r\n        }\r\n    }\r\n\r\n    // the array, as used in other classes\r\n    Bucket[] bArray = new Bucket[6]; // 6 items in the array, where each item is a Bucket that contains 3 ints\r\n\r\n    // assigning ints into the array\r\n    bArray[2].addInt(56); // add the int &#39;56&#39; to the bucket at index &#39;2&#39; of the array\r\n\r\n    // You could also use other Array-like structures\r\n    ArrayList&lt;Bucket&gt; bList = new ArrayList&lt;Bucket&gt;();\r\n\r\nOf course, if you don&#39;t always have &lt;=3 items in a bucket, you could just change the Bucket class to use an array or a `List` as its variable rather than separate `int`s.\r\n\r\nYou could also use multi-dimensional arrays...\r\n\r\n    // creating the buckets\r\n    int[][] buckets = new int[6][3];\r\n\r\n    // assigning ints into the array\r\n    bArray[2][0] = 56; // add the int &#39;56&#39; to the bucket at index &#39;2&#39; of the array, position &#39;0&#39;\r\n\r\nIt would get a little messy, however, if you start playing around with different-sized buckets, and you&#39;d need to do more error-checking to ensure that...\r\n\r\n1. The items in the bucket aren&#39;t empty when you try to access them\r\n2. When you&#39;re adding a number to a bucket, you need to detect the next position in the second dimension that is empty, so you don&#39;t overwrite the `int`s that are already in there.\r\n\r\nIf is for these reasons why I would recommend using an Object-based array over a multi-dimensional array.","title":"Can you store multiple integers at one array index?","body":"<p>Yes, it is possible to add multiple <code>int</code> to an array, but you would need to have an array where each item is an <code>Object</code> rather than an <code>int</code>.</p>\n\n<p>For example...</p>\n\n<pre><code>// the items to store in the array, which contain 3 ints\npublic class Bucket {\n    int number1 = -1;\n    int number2 = -1;\n    int number3 = -1;\n\n    public void addInt(int number){\n        if (number1 == -1){\n            number1 = number;\n        }\n        else if (number2 == -1){\n            number2 = number;\n        }\n        else if (number3 == -1){\n            number3 = number;\n        }\n    }\n}\n\n// the array, as used in other classes\nBucket[] bArray = new Bucket[6]; // 6 items in the array, where each item is a Bucket that contains 3 ints\n\n// assigning ints into the array\nbArray[2].addInt(56); // add the int '56' to the bucket at index '2' of the array\n\n// You could also use other Array-like structures\nArrayList&lt;Bucket&gt; bList = new ArrayList&lt;Bucket&gt;();\n</code></pre>\n\n<p>Of course, if you don't always have &lt;=3 items in a bucket, you could just change the Bucket class to use an array or a <code>List</code> as its variable rather than separate <code>int</code>s.</p>\n\n<p>You could also use multi-dimensional arrays...</p>\n\n<pre><code>// creating the buckets\nint[][] buckets = new int[6][3];\n\n// assigning ints into the array\nbArray[2][0] = 56; // add the int '56' to the bucket at index '2' of the array, position '0'\n</code></pre>\n\n<p>It would get a little messy, however, if you start playing around with different-sized buckets, and you'd need to do more error-checking to ensure that...</p>\n\n<ol>\n<li>The items in the bucket aren't empty when you try to access them</li>\n<li>When you're adding a number to a bucket, you need to detect the next position in the second dimension that is empty, so you don't overwrite the <code>int</code>s that are already in there.</li>\n</ol>\n\n<p>If is for these reasons why I would recommend using an Object-based array over a multi-dimensional array.</p>\n"},{"tags":[],"owner":{"account_id":1803519,"reputation":7578,"user_id":1641198,"display_name":"DrC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354241163,"creation_date":1354239263,"answer_id":13637737,"question_id":13637706,"body_markdown":"Two cases create buckets\r\n\r\n - the numbers aren&#39;t unique\r\n -  radix sort sorts on each digit position (ones, tens, hundreds in the decimal case) before going on to the next one - so 003 and 019 if sorting on the first digit will match.\r\n\r\nThe first case is really just a degenerate case of the second. \r\n\r\nNote that there are a couple of radix sort variants depending on which order you sort the digits in.\r\n\r\nToo answer the data structure part of the question - no you can&#39;t and wouldn&#39;t store multiple values at each index.  Instead, each bucket is typically represented as a sub-sequence of the array.  Each bucket is then represented by the offset of its start (the end can be implicit).","title":"Can you store multiple integers at one array index?","body":"<p>Two cases create buckets</p>\n\n<ul>\n<li>the numbers aren't unique</li>\n<li>radix sort sorts on each digit position (ones, tens, hundreds in the decimal case) before going on to the next one - so 003 and 019 if sorting on the first digit will match.</li>\n</ul>\n\n<p>The first case is really just a degenerate case of the second. </p>\n\n<p>Note that there are a couple of radix sort variants depending on which order you sort the digits in.</p>\n\n<p>Too answer the data structure part of the question - no you can't and wouldn't store multiple values at each index.  Instead, each bucket is typically represented as a sub-sequence of the array.  Each bucket is then represented by the offset of its start (the end can be implicit).</p>\n"},{"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354239832,"creation_date":1354239832,"answer_id":13637807,"question_id":13637706,"body_markdown":"a `bucket` would be an `int[]` (or `List` or anything that can store multiple items) itself. \r\n\r\nYou can&#39;t put more that one thing into 1 index.\r\n\r\n    int[] array = new array[6];\r\n    int value = array[5];\r\n\r\nwould no longer work if there was more than one int.\r\n\r\nThe easiest is probably to use an `int[][]` array. Now each index in the left box refers to a whole array. Those arrays can be different length too:\r\n\r\nhttps://stackoverflow.com/questions/10271540/java-jagged-array\r\n\r\n\r\n","title":"Can you store multiple integers at one array index?","body":"<p>a <code>bucket</code> would be an <code>int[]</code> (or <code>List</code> or anything that can store multiple items) itself. </p>\n\n<p>You can't put more that one thing into 1 index.</p>\n\n<pre><code>int[] array = new array[6];\nint value = array[5];\n</code></pre>\n\n<p>would no longer work if there was more than one int.</p>\n\n<p>The easiest is probably to use an <code>int[][]</code> array. Now each index in the left box refers to a whole array. Those arrays can be different length too:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10271540/java-jagged-array\">Java Jagged Array</a></p>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354241179,"creation_date":1354241179,"answer_id":13637981,"question_id":13637706,"body_markdown":"In addition to the possibility of representing a bucket as a List or array, it is possible to use an array slice. In this case, the destination array is the same total size as the input array. For the example, you have 2 elements in bucket 0, 2 in bucket 1, 3 in bucket 2, 1 in bucket 3, and 2 in bucket 5.\r\n\r\n    Bucket 0 : d[0], d[1]\r\n    Bucket 1 : d[2], d[3]\r\n    Bucket 2 : d[4], d[5], d[6]\r\n    Bucket 3 : d[7]\r\n    Bucket 5 : d[8], d[9]\r\n\r\nDoing it this way, the sort has to track the next index for each bucket.\r\n","title":"Can you store multiple integers at one array index?","body":"<p>In addition to the possibility of representing a bucket as a List or array, it is possible to use an array slice. In this case, the destination array is the same total size as the input array. For the example, you have 2 elements in bucket 0, 2 in bucket 1, 3 in bucket 2, 1 in bucket 3, and 2 in bucket 5.</p>\n\n<pre><code>Bucket 0 : d[0], d[1]\nBucket 1 : d[2], d[3]\nBucket 2 : d[4], d[5], d[6]\nBucket 3 : d[7]\nBucket 5 : d[8], d[9]\n</code></pre>\n\n<p>Doing it this way, the sort has to track the next index for each bucket.</p>\n"},{"tags":[],"owner":{"account_id":2001081,"reputation":463,"user_id":1792117,"accept_rate":80,"display_name":"Kevin Melkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355782064,"creation_date":1355782064,"answer_id":13923043,"question_id":13637706,"body_markdown":"Wow, array&#39;s and lists are not the way to implement a radix sort.  Yes lists work, but it slows it down, when I did that, it was slower than a merge sort.  Best way is to implement a frequency array as part of a counting sort per each byte.  I posted my code [here][1], only in reference to parallel sorting.  Hope it helps.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13921655/java-threaded-radix-sort","title":"Can you store multiple integers at one array index?","body":"<p>Wow, array's and lists are not the way to implement a radix sort.  Yes lists work, but it slows it down, when I did that, it was slower than a merge sort.  Best way is to implement a frequency array as part of a counting sort per each byte.  I posted my code <a href=\"https://stackoverflow.com/questions/13921655/java-threaded-radix-sort\">here</a>, only in reference to parallel sorting.  Hope it helps.</p>\n"}],"owner":{"account_id":1432833,"reputation":378,"user_id":1354836,"accept_rate":64,"display_name":"Gcap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1694901885,"creation_date":1354238960,"question_id":13637706,"body_markdown":"I&#39;m trying to do a radix sort and some algorithms I&#39;ve seen have a buckets[ ] array that&#39;s supposed to hold multiple integers into one index of the bucket array, here is the algorithm I&#39;m referring to: &lt;br&gt;&lt;br&gt;![here is the algorithm I&#39;m referring to][1]\r\n\r\nIs it really possible to have multiple integers in one index? And how so?&lt;br&gt;\r\nOr is there a simpler radix sort algorithm out there?\r\r\n\r\n  [1]: http://i.stack.imgur.com/03CAT.png","title":"Can you store multiple integers at one array index?","body":"<p>I'm trying to do a radix sort and some algorithms I've seen have a buckets[ ] array that's supposed to hold multiple integers into one index of the bucket array, here is the algorithm I'm referring to: <br><br><img src=\"https://i.stack.imgur.com/03CAT.png\" alt=\"here is the algorithm I'm referring to\" /></p>\n<p>Is it really possible to have multiple integers in one index? And how so?<br>\nOr is there a simpler radix sort algorithm out there?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"score":0,"creation_date":1694967988,"post_id":77119745,"comment_id":135958091,"body_markdown":"So that means that it is better not to use collection in my application at all? In that case, when should i really use the collection and when will the fields in `CompanyBranch.departments` affect the application?","body":"So that means that it is better not to use collection in my application at all? In that case, when should i really use the collection and when will the fields in <code>CompanyBranch.departments</code> affect the application?"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1694973476,"post_id":77119745,"comment_id":135958778,"body_markdown":"depend on your use cases . if you want to create a Department via CompanyBranch , or want to query Department with its CompanyBranch , you need to map `CompanyBranch.departments`. But in this question which your case is to only create a Department without via Department , it is not necessary to map `CompanyBranch.departments`","body":"depend on your use cases . if you want to create a Department via CompanyBranch , or want to query Department with its CompanyBranch , you need to map <code>CompanyBranch.departments</code>. But in this question which your case is to only create a Department without via Department , it is not necessary to map <code>CompanyBranch.departments</code>"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1694977465,"post_id":77119745,"comment_id":135959262,"body_markdown":"i mean create a Department without via CompanyBranch","body":"i mean create a Department without via CompanyBranch"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694901680,"creation_date":1694901314,"answer_id":77119745,"question_id":77114422,"body_markdown":"If your purpose is just for inserting a new `Department` to DB , what you are doing is already enough. The reasons are :\r\n\r\n1. You never need to get the `departments` from the `CompanyBranch` after you create a new `Department` for doing some logic.\r\n\r\n2. The value in the `CompanyBranch.departments` field will not be considered by JPA to determine what FK values are generated for the insert Department SQL as you are now configure it as `mappedBy` \r\n\r\nBecause of these , why need to bother to maintain the `CompanyBranch.departments` fields to have correct state as what values are they will not affect the application ? \r\n\r\n\r\n","title":"Hibernate + Spring Data Jpa: the best way to save entity with one-to-many relationship","body":"<p>If your purpose is just for inserting a new <code>Department</code> to DB , what you are doing is already enough. The reasons are :</p>\n<ol>\n<li><p>You never need to get the <code>departments</code> from the <code>CompanyBranch</code> after you create a new <code>Department</code> for doing some logic.</p>\n</li>\n<li><p>The value in the <code>CompanyBranch.departments</code> field will not be considered by JPA to determine what FK values are generated for the insert Department SQL as you are now configure it as <code>mappedBy</code></p>\n</li>\n</ol>\n<p>Because of these , why need to bother to maintain the <code>CompanyBranch.departments</code> fields to have correct state as what values are they will not affect the application ?</p>\n"}],"owner":{"account_id":23090602,"reputation":59,"user_id":18073200,"display_name":"denstran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77119745,"answer_count":1,"score":0,"last_activity_date":1694901680,"creation_date":1694799728,"question_id":77114422,"body_markdown":"I&#39;ve got two entities and I&#39;m using bidirectional association.\r\n\r\nCompany Branch:\r\n\r\n    @Entity\r\n    @Table(name = &quot;COMPANY_BRANCH&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class CompanyBranch {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;companyBranch&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Department&gt; departments = new HashSet&lt;&gt;();\r\n\r\n    public void addDepartment(Department department) {\r\n        this.departments.add(department);\r\n        department.setCompanyBranch(this);\r\n    }\r\n\r\n    public void removeDepartment(Department department) {\r\n        department.setCompanyBranch(null);\r\n        departments.remove(department);\r\n    }\r\n\r\nDepartment:\r\n\r\n    @Entity\r\n    @Table(name = &quot;DEPARTMENT&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Department {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;)\r\n        private CompanyBranch companyBranch;\r\n\r\n    }\r\n\r\nI know that it is a good practise to use bidirectional association because it can associate entities on code level (if I am getting everything right). So I&#39;ve got a question: how to save department entity right? Right now I&#39;m saving it like this:\r\n\r\n    public Department createDepartment(Department department) {\r\n            Department departmentFromDB = findDepartmentByNameOrPhone(department.getDepartmentName(),\r\n                    department.getPhoneNumber());\r\n    \r\n            if (departmentFromDB != null) {\r\n                throw new ResourceAlreadyExistsException(&quot;Error message&quot;);\r\n            }\r\n    \r\n            return departmentRepository.saveAndFlush(department);\r\n        }\r\n\r\nBut am I not using addDepartment from CompanyBranch entity class, is this okay? Or should I find a CompanyBranch and invoke its method to get association on code level and after this I should save updated company branch? In code I think it will look like this:\r\n\r\nCode in controller:\r\n\r\n    Department department = departmentMapper.toEntity(departmentDTO);\r\n            CompanyBranch companyBranch = companyBranchService.getCompanyBranchById(companyBranchId);\r\n            departmentService.createDepartment(department, companyBranch);\r\n\r\nCode in department service\r\n\r\n    public void createDepartment(Department department, CompanyBranch companyBranch) {\r\n            Department departmentFromDB = findDepartmentByNameOrPhone(department.getDepartmentName(),\r\n                    department.getPhoneNumber());\r\n    \r\n            if (departmentFromDB != null) {\r\n                throw new ResourceAlreadyExistsException(&quot;Отдел с таким названием или номером телефона уже существует&quot;);\r\n            }\r\n    \r\n            companyBranchService.addDepartment(companyBranch, department);\r\n        }\r\n\r\n`addDepartment` method in `CompanyBranch` service:\r\n\r\n    public void addDepartment(CompanyBranch companyBranch, Department department) {\r\n            companyBranch.addDepartment(department);\r\n            companyBranchRepository.saveAndFlush(companyBranch);\r\n        }\r\n\r\nIn that way I will maintain bidirectional association between classes, but hibernate needs to generate more queries (for example I need additional query to get Company Branch). Is it a good practise?","title":"Hibernate + Spring Data Jpa: the best way to save entity with one-to-many relationship","body":"<p>I've got two entities and I'm using bidirectional association.</p>\n<p>Company Branch:</p>\n<pre><code>@Entity\n@Table(name = &quot;COMPANY_BRANCH&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CompanyBranch {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@OneToMany(mappedBy = &quot;companyBranch&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;Department&gt; departments = new HashSet&lt;&gt;();\n\npublic void addDepartment(Department department) {\n    this.departments.add(department);\n    department.setCompanyBranch(this);\n}\n\npublic void removeDepartment(Department department) {\n    department.setCompanyBranch(null);\n    departments.remove(department);\n}\n</code></pre>\n<p>Department:</p>\n<pre><code>@Entity\n@Table(name = &quot;DEPARTMENT&quot;)\n@Getter\n@Setter\npublic class Department {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;COMPANY_BRANCH_ID&quot;)\n    private CompanyBranch companyBranch;\n\n}\n</code></pre>\n<p>I know that it is a good practise to use bidirectional association because it can associate entities on code level (if I am getting everything right). So I've got a question: how to save department entity right? Right now I'm saving it like this:</p>\n<pre><code>public Department createDepartment(Department department) {\n        Department departmentFromDB = findDepartmentByNameOrPhone(department.getDepartmentName(),\n                department.getPhoneNumber());\n\n        if (departmentFromDB != null) {\n            throw new ResourceAlreadyExistsException(&quot;Error message&quot;);\n        }\n\n        return departmentRepository.saveAndFlush(department);\n    }\n</code></pre>\n<p>But am I not using addDepartment from CompanyBranch entity class, is this okay? Or should I find a CompanyBranch and invoke its method to get association on code level and after this I should save updated company branch? In code I think it will look like this:</p>\n<p>Code in controller:</p>\n<pre><code>Department department = departmentMapper.toEntity(departmentDTO);\n        CompanyBranch companyBranch = companyBranchService.getCompanyBranchById(companyBranchId);\n        departmentService.createDepartment(department, companyBranch);\n</code></pre>\n<p>Code in department service</p>\n<pre><code>public void createDepartment(Department department, CompanyBranch companyBranch) {\n        Department departmentFromDB = findDepartmentByNameOrPhone(department.getDepartmentName(),\n                department.getPhoneNumber());\n\n        if (departmentFromDB != null) {\n            throw new ResourceAlreadyExistsException(&quot;Отдел с таким названием или номером телефона уже существует&quot;);\n        }\n\n        companyBranchService.addDepartment(companyBranch, department);\n    }\n</code></pre>\n<p><code>addDepartment</code> method in <code>CompanyBranch</code> service:</p>\n<pre><code>public void addDepartment(CompanyBranch companyBranch, Department department) {\n        companyBranch.addDepartment(department);\n        companyBranchRepository.saveAndFlush(companyBranch);\n    }\n</code></pre>\n<p>In that way I will maintain bidirectional association between classes, but hibernate needs to generate more queries (for example I need additional query to get Company Branch). Is it a good practise?</p>\n"},{"tags":["java","intellij-idea","tcp"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694899136,"post_id":77119298,"comment_id":135952844,"body_markdown":"The first thing the client does is write bos.write(&quot;Get /search?q=java HTTP/1.1\\r\\n\\r\\n&quot;.getBytes()); and tge first thing the server does is tries to read Integer.parseInt(bis.readLine());  - so write String/read Int. Not really sure you need to sent the whole “get” string here, unless you intent to write a http server","body":"The first thing the client does is write bos.write(&quot;Get /search?q=java HTTP/1.1\\r\\n\\r\\n&quot;.getBytes()); and tge first thing the server does is tries to read Integer.parseInt(bis.readLine());  - so write String/read Int. Not really sure you need to sent the whole “get” string here, unless you intent to write a http server"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694899290,"post_id":77119298,"comment_id":135952855,"body_markdown":"Oh and `try (Socket socket = new Socket(&quot;www.google.com&quot;, 80);` - pretty sure that&#39;s not correct","body":"Oh and <code>try (Socket socket = new Socket(&quot;www.google.com&quot;, 80);</code> - pretty sure that&#39;s not correct"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694899320,"post_id":77119298,"comment_id":135952856,"body_markdown":"As the exception message says the server can&#39;t deal with the misplaced HTTP header. As you&#39;re using raw TCP/IP it&#39;s not necessary. Did you try without?","body":"As the exception message says the server can&#39;t deal with the misplaced HTTP header. As you&#39;re using raw TCP/IP it&#39;s not necessary. Did you try without?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694900065,"creation_date":1694900065,"answer_id":77119689,"question_id":77119298,"body_markdown":"    try (Socket socket = new Socket(&quot;www.google.com&quot;, 80);\r\n\r\ndoesn&#39;t make sense, I&#39;m pretty sure you&#39;re not asking Google for the answer &#129300;\r\n\r\nThe first thing your client does is writes...\r\n\r\n    bos.write(&quot;Get /search?q=java HTTP/1.1\\r\\n\\r\\n&quot;.getBytes());\r\n\r\nbut the first thing your server does is reads...\r\n\r\n    int x = Integer.parseInt(bis.readLine());\r\n\r\nSo you&#39;re trying to write a `String` but read an `int`, hence the core of your issue.\r\n\r\nNow, unless your intention is to write your own http server, you don&#39;t need to send the preamble `get ...`\r\n\r\nI&#39;d also make use of `BufferedWriter` over a `BufferedOutputStream`, it&#39;s just going to help make your life easier.\r\n\r\nSo, let&#39;s start by updating the `Server`...\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n\r\n    public class Server {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Listening.&quot;);\r\n            try (\r\n                    ServerSocket server = new ServerSocket(1080); Socket s = server.accept(); \r\n                    BufferedReader br = new BufferedReader(new InputStreamReader(s.getInputStream())); \r\n                    BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()))) {\r\n                System.out.println(&quot;Connected.&quot;);\r\n                int x = Integer.parseInt(br.readLine());\r\n                int y = Integer.parseInt(br.readLine());\r\n                int z = x + y;\r\n                bw.write(&quot;The amount is:&quot; + z);\r\n                bw.newLine();\r\n                bw.flush();\r\n            } catch (IOException exc) {\r\n                System.out.println(exc.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nAnd now the `Client`\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.Socket;\r\n    import java.util.Scanner;\r\n\r\n    public class Client {\r\n        public static void main(String[] args) {\r\n            try (\r\n                    Socket socket = new Socket(&quot;localhost&quot;, 1080); \r\n                    BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream())); \r\n                    BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()))) {\r\n                Scanner input = new Scanner(System.in);\r\n                System.out.println(&quot;Insert number x.&quot;);\r\n                int x = input.nextInt();\r\n                bw.write(Integer.toString(x));\r\n                bw.newLine();\r\n                System.out.println(&quot;Insert number y.&quot;);\r\n                int y = input.nextInt();\r\n                bw.write(Integer.toString(y));\r\n                bw.newLine();\r\n                bw.flush();\r\n\r\n                String result = br.readLine();\r\n                System.out.println(result);\r\n            } catch (IOException exc) {\r\n                System.out.println(exc.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nThis makes an assumption that the server and client are running on the same machine, if not, then you&#39;ll need to change the `Socket` address to be the same as the computer&#39;s IP address (or host name) that the `Server` is running on.\r\n\r\nNow, when I run it (make sure to start the `Server` first) I get...\r\n\r\n    Insert number x.\r\n    1\r\n    Insert number y.\r\n    1\r\n    The amount is:2","title":"How to sent data to server, and return the output to the client?","body":"<pre><code>try (Socket socket = new Socket(&quot;www.google.com&quot;, 80);\n</code></pre>\n<p>doesn't make sense, I'm pretty sure you're not asking Google for the answer 🤔</p>\n<p>The first thing your client does is writes...</p>\n<pre><code>bos.write(&quot;Get /search?q=java HTTP/1.1\\r\\n\\r\\n&quot;.getBytes());\n</code></pre>\n<p>but the first thing your server does is reads...</p>\n<pre><code>int x = Integer.parseInt(bis.readLine());\n</code></pre>\n<p>So you're trying to write a <code>String</code> but read an <code>int</code>, hence the core of your issue.</p>\n<p>Now, unless your intention is to write your own http server, you don't need to send the preamble <code>get ...</code></p>\n<p>I'd also make use of <code>BufferedWriter</code> over a <code>BufferedOutputStream</code>, it's just going to help make your life easier.</p>\n<p>So, let's start by updating the <code>Server</code>...</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server {\n    public static void main(String[] args) {\n        System.out.println(&quot;Listening.&quot;);\n        try (\n                ServerSocket server = new ServerSocket(1080); Socket s = server.accept(); \n                BufferedReader br = new BufferedReader(new InputStreamReader(s.getInputStream())); \n                BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()))) {\n            System.out.println(&quot;Connected.&quot;);\n            int x = Integer.parseInt(br.readLine());\n            int y = Integer.parseInt(br.readLine());\n            int z = x + y;\n            bw.write(&quot;The amount is:&quot; + z);\n            bw.newLine();\n            bw.flush();\n        } catch (IOException exc) {\n            System.out.println(exc.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>And now the <code>Client</code></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class Client {\n    public static void main(String[] args) {\n        try (\n                Socket socket = new Socket(&quot;localhost&quot;, 1080); \n                BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream())); \n                BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()))) {\n            Scanner input = new Scanner(System.in);\n            System.out.println(&quot;Insert number x.&quot;);\n            int x = input.nextInt();\n            bw.write(Integer.toString(x));\n            bw.newLine();\n            System.out.println(&quot;Insert number y.&quot;);\n            int y = input.nextInt();\n            bw.write(Integer.toString(y));\n            bw.newLine();\n            bw.flush();\n\n            String result = br.readLine();\n            System.out.println(result);\n        } catch (IOException exc) {\n            System.out.println(exc.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>This makes an assumption that the server and client are running on the same machine, if not, then you'll need to change the <code>Socket</code> address to be the same as the computer's IP address (or host name) that the <code>Server</code> is running on.</p>\n<p>Now, when I run it (make sure to start the <code>Server</code> first) I get...</p>\n<pre><code>Insert number x.\n1\nInsert number y.\n1\nThe amount is:2\n</code></pre>\n"}],"owner":{"account_id":26903683,"reputation":11,"user_id":20480411,"display_name":"Mary Heidi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694900065,"creation_date":1694892494,"question_id":77119298,"body_markdown":"I have to create an application for adding two numbers, using TCP socket programming. The operation must occur on the server, that accepts two numbers and returns the result. So, the solution must contain two components: the server and the client. Within the client, the user must be allowed to enter two numbers using the Scanner class. Values must be placed inside variables and then sent to the server side of the application. Values can be sent together or separately. After accepting the value, the server should add the numbers and deliver the resulting sum to the client. The amount obtained must be displayed at checkout. \r\n\r\nClient\r\n\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.Socket;\r\n    import java.util.Scanner;\r\n    public class Client {\r\n        public static void main(String[] args) {\r\n        try (Socket socket = new Socket(&quot;www.google.com&quot;, 80);\r\n        BufferedReader bis = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n        BufferedOutputStream bos = new BufferedOutputStream(socket.getOutputStream())) {\r\n            bos.write(&quot;Get /search?q=java HTTP/1.1\\r\\n\\r\\n&quot;.getBytes());\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;Insert number x.&quot;);\r\n            int x = input.nextInt();\r\n            System.out.println(&quot;Insert number y.&quot;);\r\n            int y = input.nextInt();\r\n            bos.flush();\r\n        } catch (IOException exc) {\r\n            System.out.println(exc.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nServer\r\n\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    public class Server {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Listening.&quot;);\r\n            try (ServerSocket server = new ServerSocket(1080);\r\n                 Socket s = server.accept();\r\n                 BufferedReader bis = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n                 BufferedOutputStream bos = new BufferedOutputStream(s.getOutputStream())) {\r\n                System.out.println(&quot;Connected.&quot;);\r\n                int x = Integer.parseInt(bis.readLine());\r\n                int y = Integer.parseInt(bis.readLine());\r\n                int z = x + y;\r\n                bos.write((&quot;The amount is:&quot; + z).getBytes());\r\n            } catch (IOException exc) {\r\n                System.out.println(exc.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nBut I get this error in the console:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;GET / HTTP/1.1&quot;\r\n    \tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:665)\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:781)\r\n    \tat Server.main(Server.java:15)\r\n\r\nWhat am I doing wrong? I think I got the Server part right, but I don&#39;t know how to deal with the Client.\r\nMany thanks!","title":"How to sent data to server, and return the output to the client?","body":"<p>I have to create an application for adding two numbers, using TCP socket programming. The operation must occur on the server, that accepts two numbers and returns the result. So, the solution must contain two components: the server and the client. Within the client, the user must be allowed to enter two numbers using the Scanner class. Values must be placed inside variables and then sent to the server side of the application. Values can be sent together or separately. After accepting the value, the server should add the numbers and deliver the resulting sum to the client. The amount obtained must be displayed at checkout.</p>\n<p>Client</p>\n<pre><code>import java.io.BufferedOutputStream;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.Socket;\nimport java.util.Scanner;\npublic class Client {\n    public static void main(String[] args) {\n    try (Socket socket = new Socket(&quot;www.google.com&quot;, 80);\n    BufferedReader bis = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n    BufferedOutputStream bos = new BufferedOutputStream(socket.getOutputStream())) {\n        bos.write(&quot;Get /search?q=java HTTP/1.1\\r\\n\\r\\n&quot;.getBytes());\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Insert number x.&quot;);\n        int x = input.nextInt();\n        System.out.println(&quot;Insert number y.&quot;);\n        int y = input.nextInt();\n        bos.flush();\n    } catch (IOException exc) {\n        System.out.println(exc.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Server</p>\n<pre><code>import java.io.BufferedOutputStream;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\npublic class Server {\n    public static void main(String[] args) {\n        System.out.println(&quot;Listening.&quot;);\n        try (ServerSocket server = new ServerSocket(1080);\n             Socket s = server.accept();\n             BufferedReader bis = new BufferedReader(new InputStreamReader(s.getInputStream()));\n             BufferedOutputStream bos = new BufferedOutputStream(s.getOutputStream())) {\n            System.out.println(&quot;Connected.&quot;);\n            int x = Integer.parseInt(bis.readLine());\n            int y = Integer.parseInt(bis.readLine());\n            int z = x + y;\n            bos.write((&quot;The amount is:&quot; + z).getBytes());\n        } catch (IOException exc) {\n            System.out.println(exc.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>But I get this error in the console:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;GET / HTTP/1.1&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:665)\n    at java.base/java.lang.Integer.parseInt(Integer.java:781)\n    at Server.main(Server.java:15)\n</code></pre>\n<p>What am I doing wrong? I think I got the Server part right, but I don't know how to deal with the Client.\nMany thanks!</p>\n"},{"tags":["java","weblogic12c","apple-m1"],"comments":[{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":0,"creation_date":1656146848,"post_id":72749600,"comment_id":128503968,"body_markdown":"Could [this](https://stackoverflow.com/questions/67854232/is-it-possible-to-install-weblogic-12-2-1-4-on-apple-m1-computers) help ?","body":"Could <a href=\"https://stackoverflow.com/questions/67854232/is-it-possible-to-install-weblogic-12-2-1-4-on-apple-m1-computers\">this</a> help ?"},{"owner":{"account_id":15327413,"reputation":309,"user_id":11058155,"display_name":"Alan Hernandez"},"score":0,"creation_date":1656345997,"post_id":72749600,"comment_id":128543858,"body_markdown":"Not really @EmmanuelCollin. I&#39;ve added the flag -ignoreSysPrereqs and same error have been showed","body":"Not really @EmmanuelCollin. I&#39;ve added the flag -ignoreSysPrereqs and same error have been showed"},{"owner":{"account_id":2772487,"reputation":446,"user_id":3171172,"display_name":"PandaCheLion"},"score":0,"creation_date":1664200666,"post_id":72749600,"comment_id":130410514,"body_markdown":"Hi @AlanHernandez, have you had any success on this? I am also struggling with the same error. In my case the -ignoreSysPrereqs was already included in command of the initial attempt.","body":"Hi @AlanHernandez, have you had any success on this? I am also struggling with the same error. In my case the -ignoreSysPrereqs was already included in command of the initial attempt."},{"owner":{"account_id":15327413,"reputation":309,"user_id":11058155,"display_name":"Alan Hernandez"},"score":0,"creation_date":1664404650,"post_id":72749600,"comment_id":130466776,"body_markdown":"Hello, @chegancasb it seems the issue is related to the java version. I review the logs and see this message &quot;The OpenJDK JVM is not supported on this platform&quot; so, if you use a non open jdk version you should be able to run it.","body":"Hello, @chegancasb it seems the issue is related to the java version. I review the logs and see this message &quot;The OpenJDK JVM is not supported on this platform&quot; so, if you use a non open jdk version you should be able to run it."}],"answers":[{"tags":[],"owner":{"account_id":21067947,"reputation":1,"user_id":15484742,"display_name":"Angel De Jesus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694899710,"creation_date":1694899710,"answer_id":77119675,"question_id":72749600,"body_markdown":"After checking different options I realized that this issue only happens when I use jdk-8u381 after trying with different versions I finally solved using with previous versions, in this case is jdk-8u202, **It&#39;s probably some dependencies or anything else is different between versions**. It solved my issue BTW, im using a M2 apple chip.\r\n\r\nThe command I used is **/Users/jesus/Downloads/fmw_14.1.1.0.0_wls_lite_generic.jar**\r\n\r\nfrom the path **/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/bin**","title":"Can&#39;t get PlatformInfoHolder - Installing Weblogic on Mac (M1 processor)","body":"<p>After checking different options I realized that this issue only happens when I use jdk-8u381 after trying with different versions I finally solved using with previous versions, in this case is jdk-8u202, <strong>It's probably some dependencies or anything else is different between versions</strong>. It solved my issue BTW, im using a M2 apple chip.</p>\n<p>The command I used is <strong>/Users/jesus/Downloads/fmw_14.1.1.0.0_wls_lite_generic.jar</strong></p>\n<p>from the path <strong>/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/bin</strong></p>\n"}],"owner":{"account_id":15327413,"reputation":309,"user_id":11058155,"display_name":"Alan Hernandez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694899710,"creation_date":1656106411,"question_id":72749600,"body_markdown":"I get following error trying to instal Weblogic 12 on Mac (M1 processor)\r\n\r\nI have set the JAVA_HOME path variable\r\n\r\nMy java version is 11\r\n```INFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Launcher log file is /private/var/folders/jw/m7m77jws5kd18my9qrtp532c7khyhw/T/OraInstall2022-06-24_03-41-41PM/launcher2022-06-24_03-41-41PM.log.\r\nINFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Extracting to /private/var/folders/jw/m7m77jws5kd18my9qrtp532c7khyhw/T/orcl627004433143755990.tmp.\r\nINFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Extracting the installer . . .\r\nINFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Finished self extraction to /private/var/folders/jw/m7m77jws5kd18my9qrtp532c7khyhw/T/orcl627004433143755990.tmp.\r\nSEVERE [1] com.oracle.cie.nextgen.launcher.PlatformHelper - Can&#39;t get PlatformInfoHolder\r\nSEVERE [1] com.oracle.cie.nextgen.launcher.PlatformHelper - Can&#39;t get PlatformInfoHolder\r\n","title":"Can&#39;t get PlatformInfoHolder - Installing Weblogic on Mac (M1 processor)","body":"<p>I get following error trying to instal Weblogic 12 on Mac (M1 processor)</p>\n<p>I have set the JAVA_HOME path variable</p>\n<p>My java version is 11</p>\n<pre><code>INFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Extracting to /private/var/folders/jw/m7m77jws5kd18my9qrtp532c7khyhw/T/orcl627004433143755990.tmp.\nINFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Extracting the installer . . .\nINFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Finished self extraction to /private/var/folders/jw/m7m77jws5kd18my9qrtp532c7khyhw/T/orcl627004433143755990.tmp.\nSEVERE [1] com.oracle.cie.nextgen.launcher.PlatformHelper - Can't get PlatformInfoHolder\nSEVERE [1] com.oracle.cie.nextgen.launcher.PlatformHelper - Can't get PlatformInfoHolder\n</code></pre>\n"},{"tags":["java","android","onnx"],"answers":[{"tags":[],"owner":{"account_id":16878257,"reputation":280,"user_id":12205091,"display_name":"Dmitri Chernysh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694899623,"creation_date":1694899623,"answer_id":77119671,"question_id":76811748,"body_markdown":"Try without @aar\r\n\r\n    implementation &#39;com.microsoft.onnxruntime:onnxruntime-android:1.16.0-rc1&#39;\r\n\r\nWorks fine to me","title":"Import ONNX into Android","body":"<p>Try without @aar</p>\n<pre><code>implementation 'com.microsoft.onnxruntime:onnxruntime-android:1.16.0-rc1'\n</code></pre>\n<p>Works fine to me</p>\n"}],"owner":{"account_id":22234549,"reputation":37,"user_id":16470148,"display_name":"Christian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694899623,"creation_date":1690893808,"question_id":76811748,"body_markdown":"For a small software project i need to use a trained Neural Network within an Android app. The network was trained in Matlab and exported as ONNX.\r\n\r\nNow i need to import the ONNX runtime and use the trained network inside my Android app.\r\n\r\nI added the following lines in my build.gradle(module):\r\n\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.microsoft.onnxruntime:onnxruntime-android:1.15.1&#39;\r\n}\r\n```\r\n\r\nBut when i try to use the ONNX package in my application the build fails. I am using:\r\n\r\n```\r\nimport ai.onnxruntime.*;\r\n```\r\n\r\nAndroid Studio indicates, that the package ai.onnxruntime does not exist. Therefor it cannot find symbol class OrtEnvironment, OrtSession etc.\r\n\r\nI followed the instructions on the ONNX website, where it states &quot;Add a dependency on com.microsoft.onnxruntime:onnxruntime-android or com.microsoft.onnxruntime:onnxruntime-mobile&quot; as installation instructions for platform Android and API Java\r\n\r\nAlso when i check the examples on github, there is nothing more in the gradle scripts. \r\n\r\nSo what am i doing wrong here? What am i missing?\r\n\r\nWhen i click on the error it says &quot;Add library &#39;Gradle: com.microsoft.onnxruntime:onnxruntime-android:1.15.1@aar&#39; to classpath&quot; ","title":"Import ONNX into Android","body":"<p>For a small software project i need to use a trained Neural Network within an Android app. The network was trained in Matlab and exported as ONNX.</p>\n<p>Now i need to import the ONNX runtime and use the trained network inside my Android app.</p>\n<p>I added the following lines in my build.gradle(module):</p>\n<pre><code>repositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.microsoft.onnxruntime:onnxruntime-android:1.15.1'\n}\n</code></pre>\n<p>But when i try to use the ONNX package in my application the build fails. I am using:</p>\n<pre><code>import ai.onnxruntime.*;\n</code></pre>\n<p>Android Studio indicates, that the package ai.onnxruntime does not exist. Therefor it cannot find symbol class OrtEnvironment, OrtSession etc.</p>\n<p>I followed the instructions on the ONNX website, where it states &quot;Add a dependency on com.microsoft.onnxruntime:onnxruntime-android or com.microsoft.onnxruntime:onnxruntime-mobile&quot; as installation instructions for platform Android and API Java</p>\n<p>Also when i check the examples on github, there is nothing more in the gradle scripts.</p>\n<p>So what am i doing wrong here? What am i missing?</p>\n<p>When i click on the error it says &quot;Add library 'Gradle: com.microsoft.onnxruntime:onnxruntime-android:1.15.1@aar' to classpath&quot;</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1693591164,"post_id":77011595,"comment_id":135786108,"body_markdown":"Definitely you must not clear the screen after already calling `begin()` on the batch. I can&#39;t tell from the screen shot what&#39;s supposed to be there and what isn&#39;t. Your background (clear color) is black, so if you don&#39;t see your sprite, it&#39;s either black so it blends into the background or not visible at all.","body":"Definitely you must not clear the screen after already calling <code>begin()</code> on the batch. I can&#39;t tell from the screen shot what&#39;s supposed to be there and what isn&#39;t. Your background (clear color) is black, so if you don&#39;t see your sprite, it&#39;s either black so it blends into the background or not visible at all."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1693591293,"post_id":77011595,"comment_id":135786127,"body_markdown":"You absolutely do not want to be designing the game based on Gdx.graphics.getWidth() and getHeight(). This firmly locks you into one specific window size. On 4K monitors, the window will be super tiny and you won&#39;t be able to fix it without rewriting every single part of your game code having to do with size or position of anything. You ought to use an ExtendViewport or FixedViewport that manages a camera at the scale you want for your game. Position game world objects based on the viewport size you gave the Viewport instead of the graphics width/height.","body":"You absolutely do not want to be designing the game based on Gdx.graphics.getWidth() and getHeight(). This firmly locks you into one specific window size. On 4K monitors, the window will be super tiny and you won&#39;t be able to fix it without rewriting every single part of your game code having to do with size or position of anything. You ought to use an ExtendViewport or FixedViewport that manages a camera at the scale you want for your game. Position game world objects based on the viewport size you gave the Viewport instead of the graphics width/height."}],"answers":[{"tags":[],"owner":{"account_id":15468966,"reputation":55,"user_id":11159574,"display_name":"isaid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694899486,"creation_date":1694899486,"answer_id":77119664,"question_id":77011595,"body_markdown":"I tested your code and you are right. Im beginner too. The way to fix it is deleting your:\r\n\r\n    Gdx.graphics.setResizable(false);\r\n    Gdx.graphics.setWindowedMode(672, 768);\r\n\r\nGo to your desktop &gt;src &gt;com.mygdxgame &gt;DesktopLauncher and add this:\r\n\r\n    config.setResizable(false);\r\n\tconfig.setWindowedMode(672, 768);","title":"LibGdx black boxes on top and right where textures don&#39;t render","body":"<p>I tested your code and you are right. Im beginner too. The way to fix it is deleting your:</p>\n<pre><code>Gdx.graphics.setResizable(false);\nGdx.graphics.setWindowedMode(672, 768);\n</code></pre>\n<p>Go to your desktop &gt;src &gt;com.mygdxgame &gt;DesktopLauncher and add this:</p>\n<pre><code>config.setResizable(false);\nconfig.setWindowedMode(672, 768);\n</code></pre>\n"}],"owner":{"account_id":29332895,"reputation":1,"user_id":22473952,"display_name":"burprinz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694899486,"creation_date":1693430599,"question_id":77011595,"body_markdown":"I just started to create a Game with LibGdx, but when I render a Texture on the top or on the right side of the Window it won&#39;t show on up the Screen. It&#39;s like there are two black boxes that are drawn over the texture.\r\n(https://i.stack.imgur.com/goVAZ.png)\r\n\r\nHere is the code:\r\n\r\n```\r\npublic class SpaceInvaders extends ApplicationAdapter {\r\n\r\n\tSpriteBatch batch;\r\n\t//MainUI mUI;\r\n\r\n\tPlayer p;\r\n\r\n\t@Override\r\n\tpublic void create () {\r\n\t\tbatch = new SpriteBatch();\r\n\t\tGdx.graphics.setResizable(false);\r\n\t\tGdx.graphics.setWindowedMode(672, 768);\r\n\t\t//mUI = new MainUI(batch);\r\n\t\tp = new Player(batch);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void render () {\r\n\r\n\t\t// Update\r\n\t\t//mUI.update();\r\n\t\tp.update();\r\n\r\n\t\t// Render\r\n\t\tbatch.begin();\r\n\t\tScreenUtils.clear(0, 0, 0, 1);\r\n\r\n\t\t//mUI.render();\r\n\t\tp.render();\r\n\r\n\t\tbatch.end();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void dispose () {\r\n\t\tbatch.dispose();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class Player {\r\n\r\n    SpriteBatch batch;\r\n    Texture playerImg;\r\n    Sprite sprite;\r\n    //Projectile p;\r\n\r\n    public int x = 0, y = Gdx.graphics.getHeight() - 300f;\r\n\r\n    public Player(SpriteBatch batch) {\r\n        this.batch = batch;\r\n        playerImg = new Texture(&quot;res/player.png&quot;);\r\n        sprite = new Sprite(playerImg);\r\n    }\r\n\r\n    public void update() {\r\n        updateKeys();\r\n        /*\r\n        if(p != null) {\r\n            p.update();\r\n            if(p.y+p.image.getHeight() &gt; Gdx.graphics.getHeight()) {\r\n                p = null;\r\n            }\r\n        }\r\n         */\r\n    }\r\n\r\n    private void updateKeys() {\r\n        // D\r\n        if(Gdx.input.isKeyPressed(32)) {\r\n            x+=3;\r\n            if(x+playerImg.getWidth() &gt; Gdx.graphics.getWidth()) x = Gdx.graphics.getWidth()-playerImg.getWidth();\r\n        }\r\n        // A\r\n        if(Gdx.input.isKeyPressed(29)) {\r\n            x-=3;\r\n            if(x &lt; 0) x = 0;\r\n        }\r\n        // Space\r\n        /*\r\n        if(Gdx.input.isKeyPressed(62)) {\r\n            if(p == null) {\r\n                p =new Projectile(batch, x+playerImg.getWidth()/2-2, y+playerImg.getHeight()+1, 5);\r\n            }\r\n        }\r\n         */\r\n        sprite.setX((float) x);\r\n        sprite.setY(Gdx.graphics.getHeight() - 300f);\r\n    }\r\n\r\n    public void render() {\r\n        sprite.draw(batch);\r\n        /*\r\n        if(p != null) {\r\n            p.render();\r\n        }\r\n         */\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to remove everything except the player but it still doesn&#39;t work.","title":"LibGdx black boxes on top and right where textures don&#39;t render","body":"<p>I just started to create a Game with LibGdx, but when I render a Texture on the top or on the right side of the Window it won't show on up the Screen. It's like there are two black boxes that are drawn over the texture.\n(<a href=\"https://i.stack.imgur.com/goVAZ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/goVAZ.png</a>)</p>\n<p>Here is the code:</p>\n<pre><code>public class SpaceInvaders extends ApplicationAdapter {\n\n    SpriteBatch batch;\n    //MainUI mUI;\n\n    Player p;\n\n    @Override\n    public void create () {\n        batch = new SpriteBatch();\n        Gdx.graphics.setResizable(false);\n        Gdx.graphics.setWindowedMode(672, 768);\n        //mUI = new MainUI(batch);\n        p = new Player(batch);\n    }\n\n    @Override\n    public void render () {\n\n        // Update\n        //mUI.update();\n        p.update();\n\n        // Render\n        batch.begin();\n        ScreenUtils.clear(0, 0, 0, 1);\n\n        //mUI.render();\n        p.render();\n\n        batch.end();\n    }\n\n    @Override\n    public void dispose () {\n        batch.dispose();\n    }\n}\n</code></pre>\n<pre><code>public class Player {\n\n    SpriteBatch batch;\n    Texture playerImg;\n    Sprite sprite;\n    //Projectile p;\n\n    public int x = 0, y = Gdx.graphics.getHeight() - 300f;\n\n    public Player(SpriteBatch batch) {\n        this.batch = batch;\n        playerImg = new Texture(&quot;res/player.png&quot;);\n        sprite = new Sprite(playerImg);\n    }\n\n    public void update() {\n        updateKeys();\n        /*\n        if(p != null) {\n            p.update();\n            if(p.y+p.image.getHeight() &gt; Gdx.graphics.getHeight()) {\n                p = null;\n            }\n        }\n         */\n    }\n\n    private void updateKeys() {\n        // D\n        if(Gdx.input.isKeyPressed(32)) {\n            x+=3;\n            if(x+playerImg.getWidth() &gt; Gdx.graphics.getWidth()) x = Gdx.graphics.getWidth()-playerImg.getWidth();\n        }\n        // A\n        if(Gdx.input.isKeyPressed(29)) {\n            x-=3;\n            if(x &lt; 0) x = 0;\n        }\n        // Space\n        /*\n        if(Gdx.input.isKeyPressed(62)) {\n            if(p == null) {\n                p =new Projectile(batch, x+playerImg.getWidth()/2-2, y+playerImg.getHeight()+1, 5);\n            }\n        }\n         */\n        sprite.setX((float) x);\n        sprite.setY(Gdx.graphics.getHeight() - 300f);\n    }\n\n    public void render() {\n        sprite.draw(batch);\n        /*\n        if(p != null) {\n            p.render();\n        }\n         */\n    }\n\n}\n</code></pre>\n<p>I tried to remove everything except the player but it still doesn't work.</p>\n"},{"tags":["java","maven","junit","jms","mockito"],"comments":[{"owner":{"account_id":8694271,"reputation":3895,"user_id":6506229,"display_name":"Hassen Bennour"},"score":1,"creation_date":1493975283,"post_id":43786788,"comment_id":74641301,"body_markdown":"verify that you do not have javaee-api imported multiple times in you pom, remove it or put it at the end of dependencies","body":"verify that you do not have javaee-api imported multiple times in you pom, remove it or put it at the end of dependencies"},{"owner":{"account_id":9453625,"reputation":51,"user_id":7029582,"display_name":"Nare Hopane"},"score":0,"creation_date":1494235196,"post_id":43786788,"comment_id":74723721,"body_markdown":"i only have 1 entry for javaee-api and i have moved it to the end now, still getting the same error  &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;javax&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;\n\t&lt;/dependencies&gt;","body":"i only have 1 entry for javaee-api and i have moved it to the end now, still getting the same error  &lt;dependency&gt; \t\t\t&lt;groupId&gt;javax&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;javaee-api&lt;/artifactId&gt; \t\t&lt;/dependency&gt; \t&lt;/dependencies&gt;"},{"owner":{"account_id":8694271,"reputation":3895,"user_id":6506229,"display_name":"Hassen Bennour"},"score":0,"creation_date":1494235982,"post_id":43786788,"comment_id":74724243,"body_markdown":"try by removing it, it is maybe imported with another dependency","body":"try by removing it, it is maybe imported with another dependency"},{"owner":{"account_id":1894654,"reputation":160,"user_id":1711883,"display_name":"j23"},"score":0,"creation_date":1566468728,"post_id":43786788,"comment_id":101669478,"body_markdown":"Here is the answer (Already linked in related section) https://stackoverflow.com/questions/20125115/javaxjavaee-api-6-0-contains-non-abstract-classes-with-no-method-body","body":"Here is the answer (Already linked in related section) <a href=\"https://stackoverflow.com/questions/20125115/javaxjavaee-api-6-0-contains-non-abstract-classes-with-no-method-body\" title=\"javaxjavaee api 6 0 contains non abstract classes with no method body\">stackoverflow.com/questions/20125115/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29462126,"reputation":1,"user_id":22576675,"display_name":"Valdir Scarin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694898508,"creation_date":1694898508,"answer_id":77119617,"question_id":43786788,"body_markdown":"This exception indicate you don`t have class in your classpath. Verify your dependencies in pom.xml file and the scope of them. \r\n\r\nAnother error is sometimes jar the in your local repository jar was corrupted and the bytecode of class not present.\r\n\r\nThe class javax.jms.JMSException can be find in dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"java.lang.ClassFormatError: Absent Code attribute in method that is not native or abstract in class file javax/jms/JMSException","body":"<p>This exception indicate you don`t have class in your classpath. Verify your dependencies in pom.xml file and the scope of them.</p>\n<p>Another error is sometimes jar the in your local repository jar was corrupted and the bytecode of class not present.</p>\n<p>The class javax.jms.JMSException can be find in dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9453625,"reputation":51,"user_id":7029582,"display_name":"Nare Hopane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3651,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1694898508,"creation_date":1493910830,"question_id":43786788,"body_markdown":"im getting the below issue when i run junit test cases, the class is as follow:;\r\n\r\n\r\n\r\npublic class RoeSubmissionBeanTest {\r\n\r\n\tRoeSubmissionBean roeSubmissionBean;\r\n\tServiceActivation serviceAct = new ServiceActivation();\r\n\tUpdateTimeResponse updateTimeResponse = new UpdateTimeResponse();\r\n\tRoEUpdateSuccessfulDT roeUpdateSucces;\r\n\tMessageIdentification msgID;\r\n\tExchangeFaultData faultMessage;\r\n\t@Before\r\n\tpublic void setUp() throws Exception  {\r\n\r\n\r\n//it failes on this line\r\n\r\n\r\n\t\troeSubmissionBean = Mockito.mock(RoeSubmissionBean.class);\r\n\t\tserviceAct = Mockito.mock(ServiceActivation.class);\r\n\t\tupdateTimeResponse =  Mockito.mock(UpdateTimeResponse.class);\r\n\t\troeUpdateSucces =  Mockito.mock(RoEUpdateSuccessfulDT.class);\r\n\t\tdoCallRealMethod().when(roeSubmissionBean).sendMessage(roeUpdateSucces, msgID, faultMessage);\r\n\t}\r\n\r\nand the main methods is \r\n\r\npublic class RoeSubmissionBean {\r\n\r\n    private Logger logger = LoggerFactory.getLogger(RoeSubmissionBean.class);\r\n    private JMSSender sender = new JMSSender(RoeSubmissionBean.class);\r\n}\r\n\r\ni tried some questions here that i have to put dependency in POM, but still getting same error\r\n\r\n\r\n\r\nError:\r\njava.lang.ClassFormatError: Absent Code attribute in method that is not native or abstract in class file javax/jms/JMSException\r\n\r\n    \t{  at java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n    \tat java.lang.Class.getDeclaredMethods(Class.java:1975)\r\n    \tat org.mockito.cglib.core.ReflectUtils.addAllMethods(ReflectUtils.java:349)\r\n    \tat org.mockito.cglib.proxy.Enhancer.getMethods(Enhancer.java:422)\r\n    \tat org.mockito.cglib.proxy.Enhancer.generateClass(Enhancer.java:457)\r\n}\r\n    \t","title":"java.lang.ClassFormatError: Absent Code attribute in method that is not native or abstract in class file javax/jms/JMSException","body":"<p>im getting the below issue when i run junit test cases, the class is as follow:;</p>\n\n<p>public class RoeSubmissionBeanTest {</p>\n\n<pre><code>RoeSubmissionBean roeSubmissionBean;\nServiceActivation serviceAct = new ServiceActivation();\nUpdateTimeResponse updateTimeResponse = new UpdateTimeResponse();\nRoEUpdateSuccessfulDT roeUpdateSucces;\nMessageIdentification msgID;\nExchangeFaultData faultMessage;\n@Before\npublic void setUp() throws Exception  {\n</code></pre>\n\n<p>//it failes on this line</p>\n\n<pre><code>    roeSubmissionBean = Mockito.mock(RoeSubmissionBean.class);\n    serviceAct = Mockito.mock(ServiceActivation.class);\n    updateTimeResponse =  Mockito.mock(UpdateTimeResponse.class);\n    roeUpdateSucces =  Mockito.mock(RoEUpdateSuccessfulDT.class);\n    doCallRealMethod().when(roeSubmissionBean).sendMessage(roeUpdateSucces, msgID, faultMessage);\n}\n</code></pre>\n\n<p>and the main methods is </p>\n\n<p>public class RoeSubmissionBean {</p>\n\n<pre><code>private Logger logger = LoggerFactory.getLogger(RoeSubmissionBean.class);\nprivate JMSSender sender = new JMSSender(RoeSubmissionBean.class);\n</code></pre>\n\n<p>}</p>\n\n<p>i tried some questions here that i have to put dependency in POM, but still getting same error</p>\n\n<p>Error:\njava.lang.ClassFormatError: Absent Code attribute in method that is not native or abstract in class file javax/jms/JMSException</p>\n\n<pre><code>    {  at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.getDeclaredMethods(Class.java:1975)\n    at org.mockito.cglib.core.ReflectUtils.addAllMethods(ReflectUtils.java:349)\n    at org.mockito.cglib.proxy.Enhancer.getMethods(Enhancer.java:422)\n    at org.mockito.cglib.proxy.Enhancer.generateClass(Enhancer.java:457)\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1694896676,"post_id":77119442,"comment_id":135952587,"body_markdown":"Yeah, `COMMANDS` uses `startCommand`, but that one is initialized in the constructor. You&#39;ll need to also set `COMMANDS` in your constructor (which should be `commands` instead, and non-`public`).","body":"Yeah, <code>COMMANDS</code> uses <code>startCommand</code>, but that one is initialized in the constructor. You&#39;ll need to also set <code>COMMANDS</code> in your constructor (which should be <code>commands</code> instead, and non-<code>public</code>)."},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1694897086,"post_id":77119442,"comment_id":135952613,"body_markdown":"@MCEmperor, I made commands private final but the problem still occurs","body":"@MCEmperor, I made commands private final but the problem still occurs"},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1694897248,"post_id":77119442,"comment_id":135952628,"body_markdown":"@MCEmperor, okay I just wrote my own constructor and got rid of @ required annotation since it wasn&#39;t working properly, thanks","body":"@MCEmperor, okay I just wrote my own constructor and got rid of @ required annotation since it wasn&#39;t working properly, thanks"}],"answers":[{"tags":[],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694897493,"creation_date":1694897493,"answer_id":77119561,"question_id":77119442,"body_markdown":"Thanks to @MCEmperor, he noticed that my `commands` variable wasn&#39;t `final` anymore hence meaning it&#39;s trying to use `startCommand` before it&#39;s initialized. However, just adding `final` doesn&#39;t help since `@RequiredArgsConstructor` isn&#39;t working how it&#39;s supposed too in that case, so I ended up adding normal constructor:\r\n```\r\n@Component\r\npublic class CommandsHandler {\r\n\r\n    private final StartCommand startCommand;\r\n\r\n    private final Map&lt;String, BiFunction&lt;Long, String, SendMessage&gt;&gt; commands;\r\n\r\n    public CommandsHandler(@Autowired StartCommand startCommand) {\r\n        this.startCommand = startCommand;\r\n        this.commands = Map.of(\r\n                &quot;/start&quot;, startCommand::apply\r\n        );\r\n    }\r\n```","title":"Variable might not have been initialized because it&#39;s used in another?","body":"<p>Thanks to @MCEmperor, he noticed that my <code>commands</code> variable wasn't <code>final</code> anymore hence meaning it's trying to use <code>startCommand</code> before it's initialized. However, just adding <code>final</code> doesn't help since <code>@RequiredArgsConstructor</code> isn't working how it's supposed too in that case, so I ended up adding normal constructor:</p>\n<pre><code>@Component\npublic class CommandsHandler {\n\n    private final StartCommand startCommand;\n\n    private final Map&lt;String, BiFunction&lt;Long, String, SendMessage&gt;&gt; commands;\n\n    public CommandsHandler(@Autowired StartCommand startCommand) {\n        this.startCommand = startCommand;\n        this.commands = Map.of(\n                &quot;/start&quot;, startCommand::apply\n        );\n    }\n</code></pre>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77119561,"answer_count":1,"score":0,"last_activity_date":1694897493,"creation_date":1694895160,"question_id":77119442,"body_markdown":"I&#39;m having a trouble because one field is being used in another map field, and it looks like it does it before the other field is initialized. How can I fix that?\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class CommandsHandler {\r\n\r\n    private final StartCommand startCommand;\r\n\r\n    public Map&lt;String, BiFunction&lt;Long, String, SendMessage&gt;&gt; COMMANDS = Map.of(\r\n            &quot;/start&quot;, (x,y) -&gt; startCommand.apply(x,y)\r\n    );\r\n...\r\n```\r\nAnd `StartCommand` is:\r\n```\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class StartCommand {\r\n\r\n    private final CityRepository repository;\r\n\r\n...\r\n```","title":"Variable might not have been initialized because it&#39;s used in another?","body":"<p>I'm having a trouble because one field is being used in another map field, and it looks like it does it before the other field is initialized. How can I fix that?</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class CommandsHandler {\n\n    private final StartCommand startCommand;\n\n    public Map&lt;String, BiFunction&lt;Long, String, SendMessage&gt;&gt; COMMANDS = Map.of(\n            &quot;/start&quot;, (x,y) -&gt; startCommand.apply(x,y)\n    );\n...\n</code></pre>\n<p>And <code>StartCommand</code> is:</p>\n<pre><code>@RequiredArgsConstructor\n@Component\npublic class StartCommand {\n\n    private final CityRepository repository;\n\n...\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa","relational-database"],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694895837,"creation_date":1694895837,"answer_id":77119482,"question_id":77118826,"body_markdown":"It is a good idea to separate you request/dto/response classes from the entity ones.\r\n\r\nAnyway you are not saving the relationship between `Note` and `User` because your `Note` entity does not have a fk to the `User` entity, but a `User` field. In the request, you are passing a `user_id` field that is not mapped to anything, so it is not deserialized.\r\n\r\nA possible solution is to have a `NoteRequest`\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class NoteRequest {\r\n        private String checklistName;\r\n        private String note;\r\n        private Boolean isActive;\r\n        private String noteTag;\r\n        private Boolean isChecked;\r\n        private String extraInfo;\r\n        private Long userId;\r\n    }\r\n\r\nmap it into a `Note`, manually or for example with an objectMapper\r\n\r\n    Note noteEntity = objectMapper.convertValue(noteRequest, Note.class)\r\n\r\nretrieve the `User` (or its reference, see this [answer](https://stackoverflow.com/questions/16572207/how-to-save-foreign-key-entity-in-jpa)) and use it to save the `Note` entity\r\n\r\n    User userEntity = userRepository.findById(noteRequest.getUserId());\r\n    noteEntity.setUser(userEntity);\r\n    return noteRepository.save(note);","title":"How to send post req and save data with foreign key in spring data jpa","body":"<p>It is a good idea to separate you request/dto/response classes from the entity ones.</p>\n<p>Anyway you are not saving the relationship between <code>Note</code> and <code>User</code> because your <code>Note</code> entity does not have a fk to the <code>User</code> entity, but a <code>User</code> field. In the request, you are passing a <code>user_id</code> field that is not mapped to anything, so it is not deserialized.</p>\n<p>A possible solution is to have a <code>NoteRequest</code></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class NoteRequest {\n    private String checklistName;\n    private String note;\n    private Boolean isActive;\n    private String noteTag;\n    private Boolean isChecked;\n    private String extraInfo;\n    private Long userId;\n}\n</code></pre>\n<p>map it into a <code>Note</code>, manually or for example with an objectMapper</p>\n<pre><code>Note noteEntity = objectMapper.convertValue(noteRequest, Note.class)\n</code></pre>\n<p>retrieve the <code>User</code> (or its reference, see this <a href=\"https://stackoverflow.com/questions/16572207/how-to-save-foreign-key-entity-in-jpa\">answer</a>) and use it to save the <code>Note</code> entity</p>\n<pre><code>User userEntity = userRepository.findById(noteRequest.getUserId());\nnoteEntity.setUser(userEntity);\nreturn noteRepository.save(note);\n</code></pre>\n"}],"owner":{"account_id":13982098,"reputation":11,"user_id":10098008,"display_name":"alice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694895837,"creation_date":1694884876,"question_id":77118826,"body_markdown":"Note, UserInfo and their relationship is every user can have many notes and only one related user info.\r\n\r\ni tried to map entities but when i send a post request to save a note belongs to a user, the user_id column is always null.\r\n\r\nHere is my classes and the request i sent:\r\n\r\nNote model:\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;notes&quot;)\r\npublic class Note {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;checklist_name&quot;, nullable = false)\r\n    private String checklistName;\r\n\r\n    @Column(name = &quot;note&quot;, nullable = false)\r\n    private String note;\r\n\r\n    @Column(name = &quot;is_active&quot;, nullable = false)\r\n    private Boolean isActive;\r\n\r\n    @Column(name = &quot;note_tag&quot;)\r\n    private String noteTag;\r\n\r\n    @Column(name = &quot;is_checked&quot;, nullable = false)\r\n    private Boolean isChecked;\r\n\r\n    @Column(name = &quot;extra_info&quot;)\r\n    private String extraInfo;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n}\r\n```\r\n\r\nUser model:\r\n\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\n@Data\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;date_created&quot;)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date dateCreated;\r\n\r\n    @Column(name = &quot;is_active&quot;)\r\n    private boolean isActive;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;user_info&quot;)\r\n    private UserInfo userInfo;\r\n\r\n}\r\n```\r\n\r\nNoteController:\r\n\r\n```\r\n...\r\n@PostMapping(&quot;/addNote&quot;)\r\n    public Note createNote(@RequestBody Note note) {\r\n        return noteService.save(note);\r\n    }\r\n```\r\n\r\nNoteService:\r\n\r\n```\r\n...\r\n public Note save(Note note) {\r\n        return noteRepository.save(note);\r\n    }\r\n```\r\n\r\nNoteRepository:\r\n\r\n```\r\n  Note save(Note note);\r\n```\r\n\r\n[Request and Response:](https://i.stack.imgur.com/tJeRw.jpg)\r\n\r\nI want to post a note and make it belong to a user.","title":"How to send post req and save data with foreign key in spring data jpa","body":"<p>Note, UserInfo and their relationship is every user can have many notes and only one related user info.</p>\n<p>i tried to map entities but when i send a post request to save a note belongs to a user, the user_id column is always null.</p>\n<p>Here is my classes and the request i sent:</p>\n<p>Note model:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;notes&quot;)\npublic class Note {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;checklist_name&quot;, nullable = false)\n    private String checklistName;\n\n    @Column(name = &quot;note&quot;, nullable = false)\n    private String note;\n\n    @Column(name = &quot;is_active&quot;, nullable = false)\n    private Boolean isActive;\n\n    @Column(name = &quot;note_tag&quot;)\n    private String noteTag;\n\n    @Column(name = &quot;is_checked&quot;, nullable = false)\n    private Boolean isChecked;\n\n    @Column(name = &quot;extra_info&quot;)\n    private String extraInfo;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n}\n</code></pre>\n<p>User model:</p>\n<pre><code>\n@Entity\n@Table(name = &quot;user&quot;)\n@Data\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;date_created&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date dateCreated;\n\n    @Column(name = &quot;is_active&quot;)\n    private boolean isActive;\n\n    @OneToOne\n    @JoinColumn(name = &quot;user_info&quot;)\n    private UserInfo userInfo;\n\n}\n</code></pre>\n<p>NoteController:</p>\n<pre><code>...\n@PostMapping(&quot;/addNote&quot;)\n    public Note createNote(@RequestBody Note note) {\n        return noteService.save(note);\n    }\n</code></pre>\n<p>NoteService:</p>\n<pre><code>...\n public Note save(Note note) {\n        return noteRepository.save(note);\n    }\n</code></pre>\n<p>NoteRepository:</p>\n<pre><code>  Note save(Note note);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tJeRw.jpg\" rel=\"nofollow noreferrer\">Request and Response:</a></p>\n<p>I want to post a note and make it belong to a user.</p>\n"},{"tags":["java","memory","jvm","out-of-memory","jfr"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1694895435,"post_id":77119400,"comment_id":135952488,"body_markdown":"Any kind of profiling will have an overhead. I&#39;m not sure about JFR but usually this kind of tool is not meant to be executed continuously. Why you were expecting otherwise? Also what is the memory configuration of the JVM? Maybe it is too tight?  What OOM issues? Provide details and complete errors. And what is the usage of memory pools with and without JFR?","body":"Any kind of profiling will have an overhead. I&#39;m not sure about JFR but usually this kind of tool is not meant to be executed continuously. Why you were expecting otherwise? Also what is the memory configuration of the JVM? Maybe it is too tight?  What OOM issues? Provide details and complete errors. And what is the usage of memory pools with and without JFR?"},{"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"score":1,"creation_date":1694915800,"post_id":77119400,"comment_id":135953855,"body_markdown":"JFR has been designed to be always on. Sounds like a bug, JFR should use perhaps 50 MB. Have you tried to upgrade to the latest JDK 11 release? Do you create your own custom JFR events?","body":"JFR has been designed to be always on. Sounds like a bug, JFR should use perhaps 50 MB. Have you tried to upgrade to the latest JDK 11 release? Do you create your own custom JFR events?"},{"owner":{"account_id":23689375,"reputation":11,"user_id":17713895,"display_name":"WtMonster"},"score":0,"creation_date":1694935836,"post_id":77119400,"comment_id":135954988,"body_markdown":"Our pod limit 16GB,JVM options: -Xmx 12GB,-Xms 12GB.Before enabling JFR, the application&#39;s RSS \n was consistently at 15GB. However, from the day we enabled JFR until the fourth day when the RSS usage became excessively high, it kept increasing. According to our JFR configuration with maxsize=4096m,maxage=2d, JFR&#39;s memory usage should actually follow a two-day cycle. This behavior doesn&#39;t align with our expected configuration.","body":"Our pod limit 16GB,JVM options: -Xmx 12GB,-Xms 12GB.Before enabling JFR, the application&#39;s RSS   was consistently at 15GB. However, from the day we enabled JFR until the fourth day when the RSS usage became excessively high, it kept increasing. According to our JFR configuration with maxsize=4096m,maxage=2d, JFR&#39;s memory usage should actually follow a two-day cycle. This behavior doesn&#39;t align with our expected configuration."},{"owner":{"account_id":23689375,"reputation":11,"user_id":17713895,"display_name":"WtMonster"},"score":0,"creation_date":1694936004,"post_id":77119400,"comment_id":135955000,"body_markdown":"We haven&#39;t customized any JFR events; we simply disabled the collection of some events based on the default.jfc provided by the JDK. Additionally, adjusting the JDK&#39;s minor version might be a significant effort for us. We would prefer to understand the root cause because our intention is to have JFR enabled on most of our applications. Thanks for suggestions.","body":"We haven&#39;t customized any JFR events; we simply disabled the collection of some events based on the default.jfc provided by the JDK. Additionally, adjusting the JDK&#39;s minor version might be a significant effort for us. We would prefer to understand the root cause because our intention is to have JFR enabled on most of our applications. Thanks for suggestions."},{"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"score":0,"creation_date":1695022965,"post_id":77119400,"comment_id":135963346,"body_markdown":"It&#39;s hard to diagnose. The amount of memory used depends on the number of classes being touched, depth of stack traces, number of threads etc., but 400 MB sound too much. If it&#39;s a native memory leak, it could potentially be the OldObjectSample event. The memory management of it is complex and there have been issues with it in the past. You could try to disable it in .jfc file.","body":"It&#39;s hard to diagnose. The amount of memory used depends on the number of classes being touched, depth of stack traces, number of threads etc., but 400 MB sound too much. If it&#39;s a native memory leak, it could potentially be the OldObjectSample event. The memory management of it is complex and there have been issues with it in the past. You could try to disable it in .jfc file."},{"owner":{"account_id":23689375,"reputation":11,"user_id":17713895,"display_name":"WtMonster"},"score":0,"creation_date":1695024129,"post_id":77119400,"comment_id":135963560,"body_markdown":"Furthermore, we have approximately 2,000 threads running on a single pod in our production environment. Could this potentially result in significant memory overhead for JFR? (Although this doesn&#39;t explain why the memory usage doesn&#39;t follow the expected 2-day cycle as per the configuration.)","body":"Furthermore, we have approximately 2,000 threads running on a single pod in our production environment. Could this potentially result in significant memory overhead for JFR? (Although this doesn&#39;t explain why the memory usage doesn&#39;t follow the expected 2-day cycle as per the configuration.)"},{"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"score":0,"creation_date":1695128871,"post_id":77119400,"comment_id":135980359,"body_markdown":"An 8 KB buffer is created for every thread, so that&#39;s not more than 16 MB.","body":"An 8 KB buffer is created for every thread, so that&#39;s not more than 16 MB."},{"owner":{"account_id":23689375,"reputation":11,"user_id":17713895,"display_name":"WtMonster"},"score":1,"creation_date":1695146691,"post_id":77119400,"comment_id":135984078,"body_markdown":"Thanks, I have followed your advice and closed the OldObjectSample event. I am currently monitoring rss in the mirror environment.","body":"Thanks, I have followed your advice and closed the OldObjectSample event. I am currently monitoring rss in the mirror environment."},{"owner":{"account_id":23689375,"reputation":11,"user_id":17713895,"display_name":"WtMonster"},"score":0,"creation_date":1695609111,"post_id":77119400,"comment_id":136042541,"body_markdown":"I observed a noticeable slowdown in RSS growth after disabling `OldObjectSample`, which was a pleasant surprise. Additionally, I noticed that the few bug proposals related to `OldObjectSample` on bugs.openjdk.org don&#39;t align with my situation. Is there a way to gain more detailed insights into the overhead of various JFR events beyond what NMT provides? (Since our memory leak issue has a lengthy cycle, we&#39;d like to further pinpoint it from the metrics perspective. I&#39;m also personally curious about this.)","body":"I observed a noticeable slowdown in RSS growth after disabling <code>OldObjectSample</code>, which was a pleasant surprise. Additionally, I noticed that the few bug proposals related to <code>OldObjectSample</code> on bugs.openjdk.org don&#39;t align with my situation. Is there a way to gain more detailed insights into the overhead of various JFR events beyond what NMT provides? (Since our memory leak issue has a lengthy cycle, we&#39;d like to further pinpoint it from the metrics perspective. I&#39;m also personally curious about this.)"},{"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"score":0,"creation_date":1697403984,"post_id":77119400,"comment_id":136272447,"body_markdown":"NMT would be best. It might be possible to create a custom built JDK to collect  additional information, but you would need to change the source code or file a ticket with Oracle (if you have a support contract).","body":"NMT would be best. It might be possible to create a custom built JDK to collect  additional information, but you would need to change the source code or file a ticket with Oracle (if you have a support contract)."}],"owner":{"account_id":23689375,"reputation":11,"user_id":17713895,"display_name":"WtMonster"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694894157,"creation_date":1694894157,"question_id":77119400,"body_markdown":"we attempted to enable the JFR (Java Flight Recorder) feature in our production environment. We used the following startup parameters:\r\n\r\n```\r\n-XX:StartFlightRecording=disk=true,dumponexit=true,name=profile_online,filename=/tmp/profile_`hostname`-`date +%Y_%m_%d_%H_%M_%S`.jfr,maxsize=4096m,maxage=2d,settings=/opt/app/WEB-INF/tars/prod/custom.jfc,path-to-gc-roots=false -XX:FlightRecorderOptions=maxchunksize=32m\r\n```\r\n\r\nWe were using JDK version 11.0.14, and the garbage collector in use was G1.\r\n\r\nAfter enabling the above JFR configuration on one of our applications, we encountered bulk Out of Memory (OOM) issues on 7 machines four days later.\r\n\r\nWe reviewed the monitoring data and found that heap conditions appeared relatively normal. However, we noticed that the mem rss usage, which was around 15GB (peaking at 16GB) before the recent deployment, increased to approximately 15.5GB after the deployment.\r\n\r\nTo address the issue, we attempted to analyze it using Native Memory Tracking (NMT) and discovered that after four days, the memory overhead for Tracing metrics had reached around 400MB. We suspect that Tracing metrics may include memory overhead from JFR.\r\n\r\nWe are perplexed about why bulk OOM issues occurred precisely four days after the deployment and whether JFR&#39;s memory consumption is related to runtime duration. We are also curious about the primary sources of JFR&#39;s memory overhead and whether there is a way to estimate JFR&#39;s memory overhead based on startup parameters.","title":"JFR consumes too much memory, causing OOM","body":"<p>we attempted to enable the JFR (Java Flight Recorder) feature in our production environment. We used the following startup parameters:</p>\n<pre><code>-XX:StartFlightRecording=disk=true,dumponexit=true,name=profile_online,filename=/tmp/profile_`hostname`-`date +%Y_%m_%d_%H_%M_%S`.jfr,maxsize=4096m,maxage=2d,settings=/opt/app/WEB-INF/tars/prod/custom.jfc,path-to-gc-roots=false -XX:FlightRecorderOptions=maxchunksize=32m\n</code></pre>\n<p>We were using JDK version 11.0.14, and the garbage collector in use was G1.</p>\n<p>After enabling the above JFR configuration on one of our applications, we encountered bulk Out of Memory (OOM) issues on 7 machines four days later.</p>\n<p>We reviewed the monitoring data and found that heap conditions appeared relatively normal. However, we noticed that the mem rss usage, which was around 15GB (peaking at 16GB) before the recent deployment, increased to approximately 15.5GB after the deployment.</p>\n<p>To address the issue, we attempted to analyze it using Native Memory Tracking (NMT) and discovered that after four days, the memory overhead for Tracing metrics had reached around 400MB. We suspect that Tracing metrics may include memory overhead from JFR.</p>\n<p>We are perplexed about why bulk OOM issues occurred precisely four days after the deployment and whether JFR's memory consumption is related to runtime duration. We are also curious about the primary sources of JFR's memory overhead and whether there is a way to estimate JFR's memory overhead based on startup parameters.</p>\n"},{"tags":["java","regex","string","parsing","char"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1694890873,"post_id":77119173,"comment_id":135952021,"body_markdown":"In Java `\\&quot;` quotes a character inside the string.  There aren&#39;t any actual \\ in your string unless the string literal contains `&quot;\\\\&quot;`  The string `&quot;\\&quot;string\\&quot;&quot;` is just `&quot;string&quot;`.  Try printing out the strings to see them.  Show us complete code if you need more help.","body":"In Java <code>\\&quot;</code> quotes a character inside the string.  There aren&#39;t any actual \\ in your string unless the string literal contains <code>&quot;\\\\&quot;</code>  The string <code>&quot;\\&quot;string\\&quot;&quot;</code> is just <code>&quot;string&quot;</code>.  Try printing out the strings to see them.  Show us complete code if you need more help."},{"owner":{"account_id":29461567,"reputation":13,"user_id":22576228,"display_name":"Abdurrafay i190610"},"score":0,"creation_date":1694891290,"post_id":77119173,"comment_id":135952069,"body_markdown":"I am basically reading from a C/C++ file. The variables can have int, hexa, octa, char and String etc values. So I am getting &quot;string&quot; and &#39;char&#39; as input (as they are in C/C++).\nWhen I print my Java String containing these values, the result is &quot;string&quot; or &#39;char&#39; (with the quotation marks).","body":"I am basically reading from a C/C++ file. The variables can have int, hexa, octa, char and String etc values. So I am getting &quot;string&quot; and &#39;char&#39; as input (as they are in C/C++). When I print my Java String containing these values, the result is &quot;string&quot; or &#39;char&#39; (with the quotation marks)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1694893546,"post_id":77119173,"comment_id":135952329,"body_markdown":"I doubt a regular expression will be sufficient for parsing C strings.  That said, in a regular expression `[\\S\\s]` is the same as `.`.  More important, however, is that you are passing string to Pattern.compile which has no backslash characters in it.  `&#39;\\\\&#39;` is a char value that represents *one character.*  `&quot;\\\\&quot;` is a Java string of length 1.  `&quot;\\\\s&quot;` is a string of length 2, and which is also a regex that matches one whitespace character.  Hopefully you can extrapolate from there.","body":"I doubt a regular expression will be sufficient for parsing C strings.  That said, in a regular expression <code>[\\S\\s]</code> is the same as <code>.</code>.  More important, however, is that you are passing string to Pattern.compile which has no backslash characters in it.  <code>&#39;\\\\&#39;</code> is a char value that represents <i>one character.</i>  <code>&quot;\\\\&quot;</code> is a Java string of length 1.  <code>&quot;\\\\s&quot;</code> is a string of length 2, and which is also a regex that matches one whitespace character.  Hopefully you can extrapolate from there."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694893916,"creation_date":1694892677,"answer_id":77119308,"question_id":77119173,"body_markdown":"&gt; _... When the String variable in my code stores them in itself they look something like this &quot;\\\\\\&quot;string\\\\\\&quot;&quot; and &quot;\\\\\\&#39;char\\\\\\&#39;&quot;. ..._\r\n&gt;\r\n&gt; _... I want to use java regex to differentiate between them and get the value of the char and string without all the &quot;&quot; and &#39;&#39;. ..._\r\n\r\nYou can utilize the _look-around_ syntax to assert these values.\r\n\r\nThis will produce overlapping values.  \r\nFor example in the text, `&quot;abc&quot; + x + &quot;123&quot;`, the `&quot; + x + &quot;` will be captured.\r\n\r\n```none\r\n((?&lt;=\\&quot;).+?(?=\\&quot;)|(?&lt;=&#39;).+?(?=&#39;))\r\n```\r\n\r\nHere is an example using the _[Pattern](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html)_ and _[Matcher](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html)_ class.\r\n\r\n```java\r\nString s = &quot;123 \\&quot;abc\\&quot; 456 def &#39;7&#39;89&quot;;\r\nPattern p = Pattern.compile(&quot;((?&lt;=\\&quot;).+?(?=\\&quot;)|(?&lt;=&#39;).+?(?=&#39;))&quot;);\r\nMatcher m = p.matcher(s);\r\nwhile (m.find()) System.out.println(m.group(1));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nabc\r\n7\r\n```\r\n\r\nAlternately, capture the quotation marks, eliminating the overlapping values, and remove the datum programmatically.\r\n\r\n```none\r\n(\\&quot;.+?\\&quot;|&#39;.+?&#39;)\r\n```\r\n\r\n```java\r\nString s = &quot;123 \\&quot;abc\\&quot; 456 def &#39;7&#39;89&quot;, g;\r\nPattern p = Pattern.compile(&quot;(\\&quot;.+?\\&quot;|&#39;.+?&#39;)&quot;);\r\nMatcher m = p.matcher(s);\r\nwhile (m.find()) {\r\n    g = m.group(1);\r\n    System.out.println(g.substring(1, g.length() - 1));\r\n}\r\n```","title":"JAVA Regex identifying strings \\&quot;string&quot;\\ or characters \\&#39;char&#39;\\ inside a string","body":"<blockquote>\n<p><em>... When the String variable in my code stores them in itself they look something like this &quot;\\&quot;string\\&quot;&quot; and &quot;\\'char\\'&quot;. ...</em></p>\n<p><em>... I want to use java regex to differentiate between them and get the value of the char and string without all the &quot;&quot; and ''. ...</em></p>\n</blockquote>\n<p>You can utilize the <em>look-around</em> syntax to assert these values.</p>\n<p>This will produce overlapping values.<br />\nFor example in the text, <code>&quot;abc&quot; + x + &quot;123&quot;</code>, the <code>&quot; + x + &quot;</code> will be captured.</p>\n<pre class=\"lang-none prettyprint-override\"><code>((?&lt;=\\&quot;).+?(?=\\&quot;)|(?&lt;=').+?(?='))\n</code></pre>\n<p>Here is an example using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;123 \\&quot;abc\\&quot; 456 def '7'89&quot;;\nPattern p = Pattern.compile(&quot;((?&lt;=\\&quot;).+?(?=\\&quot;)|(?&lt;=').+?(?='))&quot;);\nMatcher m = p.matcher(s);\nwhile (m.find()) System.out.println(m.group(1));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>abc\n7\n</code></pre>\n<p>Alternately, capture the quotation marks, eliminating the overlapping values, and remove the datum programmatically.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(\\&quot;.+?\\&quot;|'.+?')\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;123 \\&quot;abc\\&quot; 456 def '7'89&quot;, g;\nPattern p = Pattern.compile(&quot;(\\&quot;.+?\\&quot;|'.+?')&quot;);\nMatcher m = p.matcher(s);\nwhile (m.find()) {\n    g = m.group(1);\n    System.out.println(g.substring(1, g.length() - 1));\n}\n</code></pre>\n"}],"owner":{"account_id":29461567,"reputation":13,"user_id":22576228,"display_name":"Abdurrafay i190610"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77119308,"answer_count":1,"score":1,"last_activity_date":1694893916,"creation_date":1694890506,"question_id":77119173,"body_markdown":"So, I am facing the following issue:\r\n \r\nThe strings that I am getting are in the form of &quot;string&quot; or &#39;char&#39;. In short they are coming with their own &#39;&#39; and &quot;&quot;.  When the String variable in my code stores them in itself they look something like this &quot;\\\\\\&quot;string\\\\\\&quot;&quot; and &quot;\\\\\\&#39;char\\\\\\&#39;&quot;.\r\n\r\n(I am also getting a lot of values with different formats for example hexa-decimals, octa and int. I am using java regex to identify them and I am successful in doing so. The only problem is with string and char values.)\r\n \r\nI want to use java regex to differentiate between them and get the value of the char and string without all the &quot;&quot; and &#39;&#39;.\r\n\r\n\r\nFollowing is the pattern I am using to identify char, but it does not seem to work.\r\n\r\nPattern charPattern = Pattern.compile(&quot;\\\\s*[\\\\\\&#39;][\\\\S\\\\s][\\\\\\&#39;]\\\\s*&quot;);\r\n\r\nPattern charPattern2 = Pattern.compile(&quot;\\\\s*[&#39;][\\\\S\\\\s][&#39;]\\\\s*&quot;);\r\n\r\nWhat I am expecting is that the pattern will be able to identify a character \\&#39;char&#39;\\ of this nature. Afterwards I can just replace the \\\\\\&#39; with blank to get the main value.\r\n\r\nCan some one kindly help.","title":"JAVA Regex identifying strings \\&quot;string&quot;\\ or characters \\&#39;char&#39;\\ inside a string","body":"<p>So, I am facing the following issue:</p>\n<p>The strings that I am getting are in the form of &quot;string&quot; or 'char'. In short they are coming with their own '' and &quot;&quot;.  When the String variable in my code stores them in itself they look something like this &quot;\\&quot;string\\&quot;&quot; and &quot;\\'char\\'&quot;.</p>\n<p>(I am also getting a lot of values with different formats for example hexa-decimals, octa and int. I am using java regex to identify them and I am successful in doing so. The only problem is with string and char values.)</p>\n<p>I want to use java regex to differentiate between them and get the value of the char and string without all the &quot;&quot; and ''.</p>\n<p>Following is the pattern I am using to identify char, but it does not seem to work.</p>\n<p>Pattern charPattern = Pattern.compile(&quot;\\s*[\\'][\\S\\s][\\']\\s*&quot;);</p>\n<p>Pattern charPattern2 = Pattern.compile(&quot;\\s*['][\\S\\s][']\\s*&quot;);</p>\n<p>What I am expecting is that the pattern will be able to identify a character 'char'\\ of this nature. Afterwards I can just replace the \\' with blank to get the main value.</p>\n<p>Can some one kindly help.</p>\n"},{"tags":["java","algorithm","sublist"],"comments":[{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":1,"creation_date":1594036128,"post_id":62755305,"comment_id":110976040,"body_markdown":"You have not listed sublists like [1,4],[2,3] - do you need them or you want to preserve order?","body":"You have not listed sublists like [1,4],[2,3] - do you need them or you want to preserve order?"},{"owner":{"account_id":14293773,"reputation":3,"user_id":10325018,"display_name":"ie208"},"score":0,"creation_date":1594043803,"post_id":62755305,"comment_id":110980339,"body_markdown":"Sorry, I&#39;ll edit the question to be more clear. I do not want to preserve order, and want all possible combinations. Although ideally, combinations within each sublist are unnecessary eg ([1,4],[2,3],[]) and ([4,1],[2,3],[]) are the same, but my current 2 sublist solution does not account for that and I can account for it later on","body":"Sorry, I&#39;ll edit the question to be more clear. I do not want to preserve order, and want all possible combinations. Although ideally, combinations within each sublist are unnecessary eg ([1,4],[2,3],[]) and ([4,1],[2,3],[]) are the same, but my current 2 sublist solution does not account for that and I can account for it later on"}],"answers":[{"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1594045870,"post_id":62757952,"comment_id":110981477,"body_markdown":"Oh, did not see you already added the iterative version...","body":"Oh, did not see you already added the iterative version..."},{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":1,"creation_date":1594045968,"post_id":62757952,"comment_id":110981526,"body_markdown":"@tobias_k Yours is in Java, so might be more convenient for author","body":"@tobias_k Yours is in Java, so might be more convenient for author"}],"tags":[],"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594045532,"creation_date":1594044865,"answer_id":62757952,"question_id":62755305,"body_markdown":"You have `K` elements and each might fall into any of `N` lists.\r\nSo there are `N^K` variants and we can just map integer values from `0` to `N^K-1` to distributions like N-ary numeral system. \r\n\r\nAnother approach - recursively insert every element into N lists.\r\n\r\nI can demonstrate approaches with Python code [recursive][1], [N-ary][2] and hope it might be translated to Java\r\n\r\n    def recdistr(K, N, level, ls):\r\n        if level == K:\r\n            print(ls)\r\n        else:\r\n            for i in range(N):\r\n                ls[i].append(level)\r\n                recdistr(K, N, level + 1, ls)   #recursive call with changed list\r\n                ls[i].pop()  #remove last added element to revert list to previous state\r\n    \r\n    K = 4\r\n    N = 3\r\n    lst = [[] for _ in range(N)]\r\n    recdistr(K, N, 0, lst)\r\n\r\n    def mapdistr(K, N):\r\n        for x in range(N**K):\r\n            t = x\r\n            l = [[] for _ in range(N)]\r\n            for i in range(K):\r\n                id = t % N\r\n                t = t // N   #integer division\r\n                l[id].append(i)\r\n            print(l)\r\n\r\n     mapdistr(K, N)\r\n\r\n\r\n  [1]: https://ideone.com/xqUl0s\r\n  [2]: https://ideone.com/U5Kdmp","title":"Split a list into n sublists in all possible ways","body":"<p>You have <code>K</code> elements and each might fall into any of <code>N</code> lists.\nSo there are <code>N^K</code> variants and we can just map integer values from <code>0</code> to <code>N^K-1</code> to distributions like N-ary numeral system.</p>\n<p>Another approach - recursively insert every element into N lists.</p>\n<p>I can demonstrate approaches with Python code <a href=\"https://ideone.com/xqUl0s\" rel=\"nofollow noreferrer\">recursive</a>, <a href=\"https://ideone.com/U5Kdmp\" rel=\"nofollow noreferrer\">N-ary</a> and hope it might be translated to Java</p>\n<pre><code>def recdistr(K, N, level, ls):\n    if level == K:\n        print(ls)\n    else:\n        for i in range(N):\n            ls[i].append(level)\n            recdistr(K, N, level + 1, ls)   #recursive call with changed list\n            ls[i].pop()  #remove last added element to revert list to previous state\n\nK = 4\nN = 3\nlst = [[] for _ in range(N)]\nrecdistr(K, N, 0, lst)\n\ndef mapdistr(K, N):\n    for x in range(N**K):\n        t = x\n        l = [[] for _ in range(N)]\n        for i in range(K):\n            id = t % N\n            t = t // N   #integer division\n            l[id].append(i)\n        print(l)\n\n mapdistr(K, N)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1594045733,"creation_date":1594045733,"answer_id":62758226,"question_id":62755305,"body_markdown":"If I understand the question correctly, each element of the original list can end up in any of the `n` sublists. That means, there are `n^s` possible sublists (`s` being the number of elements in the original list), which can be enumerated in a simple loop. With a bit of modulo and integer division you can then get the proper &quot;bucket&quot; for each element and prepare the results accordingly.\r\n\r\n    public &lt;T&gt; List&lt;List&lt;List&lt;T&gt;&gt;&gt; partition(List&lt;T&gt; lst, int n) {\r\n        var result = new ArrayList&lt;List&lt;List&lt;T&gt;&gt;&gt;();\r\n        // k = SUM ( pos of lst[i] * n^i ) \r\n        for (int k = 0; k &lt; Math.pow(n, lst.size()); k++) {\r\n            // initialize result\r\n            List&lt;List&lt;T&gt;&gt; res = IntStream.range(0, n)\r\n                    .mapToObj(i -&gt; new ArrayList&lt;T&gt;())\r\n                    .collect(Collectors.toList());\r\n            // distribute elements to sub-lists\r\n            int k2 = k;\r\n            for (int i = 0; i &lt; lst.size(); i++) {\r\n                res.get(k2 % n).add(lst.get(i));\r\n                k2 /= n;\r\n            }\r\n            result.add(res);\r\n        }\r\n        return result;\r\n    }","title":"Split a list into n sublists in all possible ways","body":"<p>If I understand the question correctly, each element of the original list can end up in any of the <code>n</code> sublists. That means, there are <code>n^s</code> possible sublists (<code>s</code> being the number of elements in the original list), which can be enumerated in a simple loop. With a bit of modulo and integer division you can then get the proper &quot;bucket&quot; for each element and prepare the results accordingly.</p>\n<pre><code>public &lt;T&gt; List&lt;List&lt;List&lt;T&gt;&gt;&gt; partition(List&lt;T&gt; lst, int n) {\n    var result = new ArrayList&lt;List&lt;List&lt;T&gt;&gt;&gt;();\n    // k = SUM ( pos of lst[i] * n^i ) \n    for (int k = 0; k &lt; Math.pow(n, lst.size()); k++) {\n        // initialize result\n        List&lt;List&lt;T&gt;&gt; res = IntStream.range(0, n)\n                .mapToObj(i -&gt; new ArrayList&lt;T&gt;())\n                .collect(Collectors.toList());\n        // distribute elements to sub-lists\n        int k2 = k;\n        for (int i = 0; i &lt; lst.size(); i++) {\n            res.get(k2 % n).add(lst.get(i));\n            k2 /= n;\n        }\n        result.add(res);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694892997,"creation_date":1594057558,"answer_id":62761625,"question_id":62755305,"body_markdown":"**Use recursion.**\r\n\r\nI am lining out an algorithm. I think it’s best for all parties that you write the code yourself.\r\n\r\nFor `n` equal to 0 or negative the task is impossible. Either throw an exception or return an empty lists of lists of sublists. Corner case: if `n` is 0 and the list is empty, you may argue that the empty list of sublists is a valid response.\r\n\r\nIf `n` is 1, the only solution is trivially the entire list.\r\n\r\nFor `n &gt; 1`:\r\n\r\nIf the length of the list is 4 (for example `[1, 2, 3, 4]`), there are 5 possible first lists. In general there are `list.length + 1` possible first sublists. Find them. For each such sublist make a recursive call passing the remainder of the list and `n - 1` as arguments to find all possible combinations of sublists made from the remainder of the list. Combine each first sublist with each combination of remaining sublists to form a full solution.\r\n\r\n\r\nThe solution as sketched will only produce sublists in the order they come in the original list. So the solution will include `([],[1],[2,3,4])` and `([1],[2,3,4], [])`, but not `([4],[],[1,2,3])`. To regard the last one as a separate solution, you will additionally need to find all permutations of each solution, in turn taking into account that some sublists may be equal and hence swapping them won’t make a distinct solution.","title":"Split a list into n sublists in all possible ways","body":"<p><strong>Use recursion.</strong></p>\n<p>I am lining out an algorithm. I think it’s best for all parties that you write the code yourself.</p>\n<p>For <code>n</code> equal to 0 or negative the task is impossible. Either throw an exception or return an empty lists of lists of sublists. Corner case: if <code>n</code> is 0 and the list is empty, you may argue that the empty list of sublists is a valid response.</p>\n<p>If <code>n</code> is 1, the only solution is trivially the entire list.</p>\n<p>For <code>n &gt; 1</code>:</p>\n<p>If the length of the list is 4 (for example <code>[1, 2, 3, 4]</code>), there are 5 possible first lists. In general there are <code>list.length + 1</code> possible first sublists. Find them. For each such sublist make a recursive call passing the remainder of the list and <code>n - 1</code> as arguments to find all possible combinations of sublists made from the remainder of the list. Combine each first sublist with each combination of remaining sublists to form a full solution.</p>\n<p>The solution as sketched will only produce sublists in the order they come in the original list. So the solution will include <code>([],[1],[2,3,4])</code> and <code>([1],[2,3,4], [])</code>, but not <code>([4],[],[1,2,3])</code>. To regard the last one as a separate solution, you will additionally need to find all permutations of each solution, in turn taking into account that some sublists may be equal and hence swapping them won’t make a distinct solution.</p>\n"}],"owner":{"account_id":14293773,"reputation":3,"user_id":10325018,"display_name":"ie208"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62758226,"answer_count":3,"score":0,"last_activity_date":1694892997,"creation_date":1594035667,"question_id":62755305,"body_markdown":"I want to split a list into a given number n sublists in all possible ways in Java.\r\n\r\nFor example ``` [1, 2, 3, 4]```  where n = 3 would include the following lists (but would not be a complete solution - complete would require much more space):\r\n\r\n``` \r\n([], [], [1,2,3,4])\r\n([],[1],[2,3,4])\r\n([],[1,2],[3,4])\r\n([],[1,2,3],[4])\r\n([],[1,2,3,4],[])\r\n([1],[2,3,4], [])\r\n([1],[2,3],[4])\r\n([2,3],[4],[1])\r\n([4],[],[1,2,3])\r\n...\r\n``` \r\netc\r\n\r\n\r\nI adapted a solution from another similar question (https://stackoverflow.com/questions/29656649/split-a-list-into-two-sublists-in-all-possible-ways) however it only works for creating lists of 2 sublists and I am struggling to grasp how to implement it for a flexible rather than hardcoded number of sublists.\r\n\r\nHere is my code:\r\n\r\n```\r\npublic List&lt;List&lt;EGroup&gt;&gt; permutation(List&lt;E&gt; list) {\r\n        List&lt;List&lt;E&gt;&gt; sublists = new ArrayList&lt;List&lt;E&gt;&gt;();\r\n        for (int i = 0; i &lt;= list.size(); i++) {\r\n          permutationSplit(list, sublists, i, new ArrayList&lt;E&gt;(), 0);\r\n        }\r\n\r\n        List&lt;List&lt;EGroup&gt;&gt; listOfEGroupPairs = new ArrayList&lt;List&lt;EGroup&gt;&gt;();\r\n       \r\n        for (List&lt;E&gt; subList : sublists) {\r\n            List&lt;E&gt; listCopy = new ArrayList&lt;E&gt;(list);\r\n            listCopy.removeAll(subList);\r\n            EGroup e1 = new EGroup(subList);\r\n            EGroup e2 = new EGroup(listCopy);   \r\n            List&lt;EGroup&gt; egr = new ArrayList&lt;EGroup&gt;();\r\n            egr.add(e1);\r\n            egr.add(e2);\r\n            listOfEGroupPairs.add(egr);\r\n        }\r\n        \r\n        return listOfEGroupPairs;\r\n    }\r\n\r\n   \r\n    public void permutationSplit(List&lt;E&gt; list, List&lt;List&lt;E&gt;&gt; subLists, int sublistSize, List&lt;E&gt; currentSubList,\r\n          int startIndex) {\r\n        if (sublistSize == 0) {\r\n          subLists.add(currentSubList);\r\n        } else {\r\n          sublistSize--;\r\n          for (int i = startIndex; i &lt; list.size(); i++) {\r\n            List&lt;E&gt; newSubList = new ArrayList&lt;E&gt;(currentSubList);\r\n            newSubList.add(list.get(i));\r\n            permutationSplit(list, subLists, sublistSize, newSubList, i + 1);\r\n          }\r\n        }\r\n    }\r\n```\r\n\r\nI need to create n number of EGroup objects to add to  ```listOfEGroupPairs``` rather than the hardcoded 2, but how to always get the right number (n) of sublists of varied size each loop?","title":"Split a list into n sublists in all possible ways","body":"<p>I want to split a list into a given number n sublists in all possible ways in Java.</p>\n<p>For example <code> [1, 2, 3, 4]</code>  where n = 3 would include the following lists (but would not be a complete solution - complete would require much more space):</p>\n<pre><code>([], [], [1,2,3,4])\n([],[1],[2,3,4])\n([],[1,2],[3,4])\n([],[1,2,3],[4])\n([],[1,2,3,4],[])\n([1],[2,3,4], [])\n([1],[2,3],[4])\n([2,3],[4],[1])\n([4],[],[1,2,3])\n...\n</code></pre>\n<p>etc</p>\n<p>I adapted a solution from another similar question (<a href=\"https://stackoverflow.com/questions/29656649/split-a-list-into-two-sublists-in-all-possible-ways\">Split a list into two sublists in all possible ways</a>) however it only works for creating lists of 2 sublists and I am struggling to grasp how to implement it for a flexible rather than hardcoded number of sublists.</p>\n<p>Here is my code:</p>\n<pre><code>public List&lt;List&lt;EGroup&gt;&gt; permutation(List&lt;E&gt; list) {\n        List&lt;List&lt;E&gt;&gt; sublists = new ArrayList&lt;List&lt;E&gt;&gt;();\n        for (int i = 0; i &lt;= list.size(); i++) {\n          permutationSplit(list, sublists, i, new ArrayList&lt;E&gt;(), 0);\n        }\n\n        List&lt;List&lt;EGroup&gt;&gt; listOfEGroupPairs = new ArrayList&lt;List&lt;EGroup&gt;&gt;();\n       \n        for (List&lt;E&gt; subList : sublists) {\n            List&lt;E&gt; listCopy = new ArrayList&lt;E&gt;(list);\n            listCopy.removeAll(subList);\n            EGroup e1 = new EGroup(subList);\n            EGroup e2 = new EGroup(listCopy);   \n            List&lt;EGroup&gt; egr = new ArrayList&lt;EGroup&gt;();\n            egr.add(e1);\n            egr.add(e2);\n            listOfEGroupPairs.add(egr);\n        }\n        \n        return listOfEGroupPairs;\n    }\n\n   \n    public void permutationSplit(List&lt;E&gt; list, List&lt;List&lt;E&gt;&gt; subLists, int sublistSize, List&lt;E&gt; currentSubList,\n          int startIndex) {\n        if (sublistSize == 0) {\n          subLists.add(currentSubList);\n        } else {\n          sublistSize--;\n          for (int i = startIndex; i &lt; list.size(); i++) {\n            List&lt;E&gt; newSubList = new ArrayList&lt;E&gt;(currentSubList);\n            newSubList.add(list.get(i));\n            permutationSplit(list, subLists, sublistSize, newSubList, i + 1);\n          }\n        }\n    }\n</code></pre>\n<p>I need to create n number of EGroup objects to add to  <code>listOfEGroupPairs</code> rather than the hardcoded 2, but how to always get the right number (n) of sublists of varied size each loop?</p>\n"},{"tags":["java","unicode","utf-8","io","textfield"],"answers":[{"comments":[{"owner":{"account_id":880341,"reputation":2000,"user_id":235132,"accept_rate":51,"display_name":"kenny"},"score":0,"creation_date":1333290371,"post_id":9964958,"comment_id":12728975,"body_markdown":"I created this text file using BufferedWriter(new OutputStreamWriter(new FileOutputStream(..),encoding) where encoding is utf8","body":"I created this text file using BufferedWriter(new OutputStreamWriter(new FileOutputStream(..),encoding) where encoding is utf8"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":1,"creation_date":1333291369,"post_id":9964958,"comment_id":12729144,"body_markdown":"Then ou cannot use RandomAccessFile to read it back. You have to use a reader class like BufferedReader or FileReader, and read from the beginning until you reach the line in question","body":"Then ou cannot use RandomAccessFile to read it back. You have to use a reader class like BufferedReader or FileReader, and read from the beginning until you reach the line in question"},{"owner":{"account_id":880341,"reputation":2000,"user_id":235132,"accept_rate":51,"display_name":"kenny"},"score":1,"creation_date":1333295046,"post_id":9964958,"comment_id":12729876,"body_markdown":"this is not efficient, i use seek to preform paging. If I use readers it will require me to reread whole file every time.","body":"this is not efficient, i use seek to preform paging. If I use readers it will require me to reread whole file every time."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1333295209,"post_id":9964958,"comment_id":12729906,"body_markdown":"@kenny if you know the exact offset location of your string and if it is formatted as the RandomAccessFile readUTF8 method suggests, then, as I explained first, you should not have any problems. Otherwise, you can read the bytes and apply encoding using one of the String constructors. As such, your file cannot only be a text file, you would have to treat it as a binary file. Let me extend my answer.","body":"@kenny if you know the exact offset location of your string and if it is formatted as the RandomAccessFile readUTF8 method suggests, then, as I explained first, you should not have any problems. Otherwise, you can read the bytes and apply encoding using one of the String constructors. As such, your file cannot only be a text file, you would have to treat it as a binary file. Let me extend my answer."},{"owner":{"account_id":880341,"reputation":2000,"user_id":235132,"accept_rate":51,"display_name":"kenny"},"score":0,"creation_date":1333296365,"post_id":9964958,"comment_id":12730161,"body_markdown":"This is also a problem, i can&#39;t change how I write the file. So it will remain BufferedWriter. What do you mean I can read the bytes and apply encoding?","body":"This is also a problem, i can&#39;t change how I write the file. So it will remain BufferedWriter. What do you mean I can read the bytes and apply encoding?"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1333297365,"post_id":9964958,"comment_id":12730370,"body_markdown":"@kenny The `readLine` method does not support unicode, and do you know how to calculate the offset of a given line in your file in order to seek the specific position you want to read with `readLine`?","body":"@kenny The <code>readLine</code> method does not support unicode, and do you know how to calculate the offset of a given line in your file in order to seek the specific position you want to read with <code>readLine</code>?"}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1333297034,"creation_date":1333288970,"answer_id":9964958,"question_id":9964892,"body_markdown":"The API docs say the following for readUTF8\r\n\r\n\r\n&gt; Reads in a string from this file. The string has been encoded using a\r\n&gt; modified UTF-8 format.\r\n&gt; \r\n&gt; The first two bytes are read, starting from the current file pointer,\r\n&gt; as if by readUnsignedShort. This value gives the number of following\r\n&gt; bytes that are in the encoded string, not the length of the resulting\r\n&gt; string. The following bytes are then interpreted as bytes encoding\r\n&gt; characters in the modified UTF-8 format and are converted into\r\n&gt; characters.\r\n&gt; \r\n&gt; This method blocks until all the bytes are read, the end of the stream\r\n&gt; is detected, or an exception is thrown.\r\n\r\nIs your string formatted in this way?\r\n\r\nThis appears to explain your EOF exceptuon.\r\n\r\nYour file is a text file so your actual problem is the decoding.\r\n\r\nThe simplest answer I know is:\r\n\r\n\r\n    try(BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(&quot;jedis.txt&quot;),&quot;UTF-8&quot;))){\r\n    \t\r\n    \tString line = null;\r\n    \twhile( (line = reader.readLine()) != null){\r\n    \t\tif(line.equals(&quot;Obi-wan&quot;)){\r\n    \t\t\tSystem.out.println(&quot;Yay, I found &quot; + line +&quot;!&quot;);\r\n    \t\t}\r\n    \t}\r\n    }catch(IOException e){\r\n    \te.printStackTrace();\r\n    }\r\n\r\nOr you can set the current system encoding with the system property `file.encoding` to UTF-8.\r\n\r\n\r\n    java -Dfile.encoding=UTF-8 com.jediacademy.Runner arg1 arg2 ...\r\n\r\nYou may also set it as a system property at runtime with `System.setProperty(...)` if you only need it for this specific file, but in a case like this I think I would prefer the `OutputStreamWriter`.\r\n\r\nBy setting the system property you can use `FileReader` and expect that it will use UTF-8 as the default encoding for your files. In this case for all the files that you read and write.\r\n\r\nIf you intend to detect decoding errors in your file you would be forced to use the `InputStreamReader` approach and use the constructor that receives an decoder.\r\n\r\nSomewhat like\r\n\r\n    CharsetDecoder decoder = Charset.forName(&quot;UTF-8&quot;).newDecoder();\r\n    decoder.onMalformedInput(CodingErrorAction.REPORT);\r\n    decoder.onUnmappableCharacter(CodingErrorAction.REPORT);\r\n    BufeferedReader out = new BufferedReader(new InpuStreamReader(new FileInputStream(&quot;jedis.txt),decoder));\r\n\r\n    \r\nYou may choose between actions `IGNORE | REPLACE | REPORT`\r\n\r\n\r\n**EDIT**\r\n\r\nIf you insist in using `RandomAccessFile`, you would need to know the exact offset of the line that you are intending to read. And not only that, in order to read with `readUTF()` method, you should have written the file with `writeUTF()` method. Because this method, as JavaDocs stated above, expects a specific formatting in which the first 2 unsigned bytes represent the length in bytes of the UTF-8 string.\r\n\r\nAs such, if you do:\r\n\r\n    try(RandomAccessFile raf = new RandomAccessFile(&quot;jedis.bin&quot;, &quot;rw&quot;)){\r\n    \t\r\n    \traf.writeUTF(&quot;Luke\\n&quot;); //2 bytes for length + 5 bytes\r\n    \traf.writeUTF(&quot;Obiwan\\n&quot;); //2 bytes for length + 7 bytes\r\n    \traf.writeUTF(&quot;Yoda\\n&quot;); //2 bytes for lenght + 5 bytes\r\n    \t\r\n    }catch(IOException e){\r\n    \te.printStackTrace();\r\n    }\r\n\r\n\r\nYou should not have any problems reading back from this file using the method `readUTF()`, as long as you can determine the offset of the given line that you want to read back.\r\n\r\nIf you&#39;d open the file `jedis.bin` you would notice *it is a binary file*, not a text file.\r\n\r\nNow, I know that `&quot;Luke\\n&quot;` is 5 bytes in UTF-8 and `&quot;Obiwan\\n&quot;` is 7 bytes in UTF-8. And that the `writeUTF()` method will insert 2 bytes in front of every one of these strings. Therefore, before `&quot;Yoda\\n&quot;` there are (5+2) + (7+2) = 16 bytes.\r\n\r\nSo, I could do something like this to reach the last line:\r\n\r\n    try (RandomAccessFile raf = new RandomAccessFile(&quot;jedis.bin&quot;, &quot;r&quot;)) {\r\n    \r\n    \traf.seek(16);\r\n    \tString val = raf.readUTF();\r\n    \tSystem.out.println(val); //prints Yoda\r\n    \r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nBut this will not work if you wrote the file with a `Writer` class because writers do not follow the formatting rules of the method `writeUFT()`.\r\n\r\nIn a case like this, the best would be that your *binary* file would be formatted in such a way that all strings occupied the same amount of space (number of bytes, not number of characteres, because the number of bytes is variable in UTF-8 depending on the characters in your String), if not all the space is need it you pad it:\r\n\r\nThat way you could easily calculate the offset of a given line because they all would occupy the same amount of space. ","title":"How to read UTF8 encoded file using RandomAccessFile?","body":"<p>The API docs say the following for readUTF8</p>\n\n<blockquote>\n  <p>Reads in a string from this file. The string has been encoded using a\n  modified UTF-8 format.</p>\n  \n  <p>The first two bytes are read, starting from the current file pointer,\n  as if by readUnsignedShort. This value gives the number of following\n  bytes that are in the encoded string, not the length of the resulting\n  string. The following bytes are then interpreted as bytes encoding\n  characters in the modified UTF-8 format and are converted into\n  characters.</p>\n  \n  <p>This method blocks until all the bytes are read, the end of the stream\n  is detected, or an exception is thrown.</p>\n</blockquote>\n\n<p>Is your string formatted in this way?</p>\n\n<p>This appears to explain your EOF exceptuon.</p>\n\n<p>Your file is a text file so your actual problem is the decoding.</p>\n\n<p>The simplest answer I know is:</p>\n\n<pre><code>try(BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(\"jedis.txt\"),\"UTF-8\"))){\n\n    String line = null;\n    while( (line = reader.readLine()) != null){\n        if(line.equals(\"Obi-wan\")){\n            System.out.println(\"Yay, I found \" + line +\"!\");\n        }\n    }\n}catch(IOException e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Or you can set the current system encoding with the system property <code>file.encoding</code> to UTF-8.</p>\n\n<pre><code>java -Dfile.encoding=UTF-8 com.jediacademy.Runner arg1 arg2 ...\n</code></pre>\n\n<p>You may also set it as a system property at runtime with <code>System.setProperty(...)</code> if you only need it for this specific file, but in a case like this I think I would prefer the <code>OutputStreamWriter</code>.</p>\n\n<p>By setting the system property you can use <code>FileReader</code> and expect that it will use UTF-8 as the default encoding for your files. In this case for all the files that you read and write.</p>\n\n<p>If you intend to detect decoding errors in your file you would be forced to use the <code>InputStreamReader</code> approach and use the constructor that receives an decoder.</p>\n\n<p>Somewhat like</p>\n\n<pre><code>CharsetDecoder decoder = Charset.forName(\"UTF-8\").newDecoder();\ndecoder.onMalformedInput(CodingErrorAction.REPORT);\ndecoder.onUnmappableCharacter(CodingErrorAction.REPORT);\nBufeferedReader out = new BufferedReader(new InpuStreamReader(new FileInputStream(\"jedis.txt),decoder));\n</code></pre>\n\n<p>You may choose between actions <code>IGNORE | REPLACE | REPORT</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>If you insist in using <code>RandomAccessFile</code>, you would need to know the exact offset of the line that you are intending to read. And not only that, in order to read with <code>readUTF()</code> method, you should have written the file with <code>writeUTF()</code> method. Because this method, as JavaDocs stated above, expects a specific formatting in which the first 2 unsigned bytes represent the length in bytes of the UTF-8 string.</p>\n\n<p>As such, if you do:</p>\n\n<pre><code>try(RandomAccessFile raf = new RandomAccessFile(\"jedis.bin\", \"rw\")){\n\n    raf.writeUTF(\"Luke\\n\"); //2 bytes for length + 5 bytes\n    raf.writeUTF(\"Obiwan\\n\"); //2 bytes for length + 7 bytes\n    raf.writeUTF(\"Yoda\\n\"); //2 bytes for lenght + 5 bytes\n\n}catch(IOException e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>You should not have any problems reading back from this file using the method <code>readUTF()</code>, as long as you can determine the offset of the given line that you want to read back.</p>\n\n<p>If you'd open the file <code>jedis.bin</code> you would notice <em>it is a binary file</em>, not a text file.</p>\n\n<p>Now, I know that <code>\"Luke\\n\"</code> is 5 bytes in UTF-8 and <code>\"Obiwan\\n\"</code> is 7 bytes in UTF-8. And that the <code>writeUTF()</code> method will insert 2 bytes in front of every one of these strings. Therefore, before <code>\"Yoda\\n\"</code> there are (5+2) + (7+2) = 16 bytes.</p>\n\n<p>So, I could do something like this to reach the last line:</p>\n\n<pre><code>try (RandomAccessFile raf = new RandomAccessFile(\"jedis.bin\", \"r\")) {\n\n    raf.seek(16);\n    String val = raf.readUTF();\n    System.out.println(val); //prints Yoda\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>But this will not work if you wrote the file with a <code>Writer</code> class because writers do not follow the formatting rules of the method <code>writeUFT()</code>.</p>\n\n<p>In a case like this, the best would be that your <em>binary</em> file would be formatted in such a way that all strings occupied the same amount of space (number of bytes, not number of characteres, because the number of bytes is variable in UTF-8 depending on the characters in your String), if not all the space is need it you pad it:</p>\n\n<p>That way you could easily calculate the offset of a given line because they all would occupy the same amount of space. </p>\n"},{"comments":[{"owner":{"account_id":880341,"reputation":2000,"user_id":235132,"accept_rate":51,"display_name":"kenny"},"score":0,"creation_date":1333293362,"post_id":9965250,"comment_id":12729494,"body_markdown":"and if i use suggested argument java -Dfile.encoding=UTF-8 ?","body":"and if i use suggested argument java -Dfile.encoding=UTF-8 ?"},{"owner":{"account_id":9610,"reputation":4810,"user_id":17834,"accept_rate":83,"display_name":"Brandon DuRette"},"score":2,"creation_date":1333295077,"post_id":9965250,"comment_id":12729887,"body_markdown":"@kenny UTF-8 encoding encodes characters with a variable number of bytes, therefore skipping to a byte offset within the file is probably going to fail (because as @tchrist mentioned) you may not be at the beginning of a character boundary when you get there. If you know the character offset you need, you can use `Reader.skip(long n)` to skip the number of characters. That should be encoding aware. Just be sure to set your character set on the `InputStreamReader`.","body":"@kenny UTF-8 encoding encodes characters with a variable number of bytes, therefore skipping to a byte offset within the file is probably going to fail (because as @tchrist mentioned) you may not be at the beginning of a character boundary when you get there. If you know the character offset you need, you can use <code>Reader.skip(long n)</code> to skip the number of characters. That should be encoding aware. Just be sure to set your character set on the <code>InputStreamReader</code>."},{"owner":{"account_id":154948,"reputation":42791,"user_id":371250,"display_name":"ninjalj"},"score":2,"creation_date":1333392771,"post_id":9965250,"comment_id":12755252,"body_markdown":"Finding the next character in UTF-8 is easy. Just skip all the bytes in [0x80-0xBF], the first one not in that range will be the start of a character. (This is the self-synchronizing property, which Ken Thompson added to UTF-8).","body":"Finding the next character in UTF-8 is easy. Just skip all the bytes in [0x80-0xBF], the first one not in that range will be the start of a character. (This is the self-synchronizing property, which Ken Thompson added to UTF-8)."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1373021812,"post_id":9965250,"comment_id":25415441,"body_markdown":"@ninjalj This is helpful, but still doesn&#39;t allow to find the n-th character without looking at all the characters before.","body":"@ninjalj This is helpful, but still doesn&#39;t allow to find the n-th character without looking at all the characters before."},{"owner":{"account_id":204410,"reputation":4876,"user_id":452614,"accept_rate":100,"display_name":"Ludovic Kuty"},"score":0,"creation_date":1548823618,"post_id":9965250,"comment_id":95676470,"body_markdown":"You might want to create an index (some data structure which maps line number to byte offset) to position yourself on line n. That requires to read the file entirely one time.","body":"You might want to create an index (some data structure which maps line number to byte offset) to position yourself on line n. That requires to read the file entirely one time."}],"tags":[],"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"comment_count":5,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1333291403,"creation_date":1333291403,"answer_id":9965250,"question_id":9964892,"body_markdown":"You aren’t going to be able to go at it this way.  The `seek` function will position you by some number of bytes. There is no guarantee that you are aligned to a UTF-8 character boundary.","title":"How to read UTF8 encoded file using RandomAccessFile?","body":"<p>You aren’t going to be able to go at it this way.  The <code>seek</code> function will position you by some number of bytes. There is no guarantee that you are aligned to a UTF-8 character boundary.</p>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445600104,"creation_date":1444101340,"answer_id":32961139,"question_id":9964892,"body_markdown":"I find the API for `RandomAccessFile` is challenging.\r\n\r\nIf your text is actually limited to UTF-8 values 0-127 (the lowest 7 bits of UTF-8), then it is safe to use `readLine()`, but read those Javadocs carefully: That is one strange method.  To quote:\r\n &gt; This method successively reads bytes from the file, starting at the current file pointer, until it reaches a line terminator or the end of the file. Each byte is converted into a character by taking the byte&#39;s value for the lower eight bits of the character and setting the high eight bits of the character to zero. This method does not, therefore, support the full Unicode character set.\r\n\r\nTo read UTF-8 safely, I suggest you read (some or all of the) raw bytes with a combination of `length()` and `read(byte[])`.  Then convert your UTF-8 bytes to a Java `String` with this constructor: `new String(byte[], &quot;UTF-8&quot;)`.\r\n\r\nTo write UTF-8 safely, first convert your Java `String` to the correct bytes with `someText.getBytes(&quot;UTF-8&quot;)`.  Finally, write the bytes using `write(byte[])`.","title":"How to read UTF8 encoded file using RandomAccessFile?","body":"<p>I find the API for <code>RandomAccessFile</code> is challenging.</p>\n\n<p>If your text is actually limited to UTF-8 values 0-127 (the lowest 7 bits of UTF-8), then it is safe to use <code>readLine()</code>, but read those Javadocs carefully: That is one strange method.  To quote:</p>\n\n<blockquote>\n  <p>This method successively reads bytes from the file, starting at the current file pointer, until it reaches a line terminator or the end of the file. Each byte is converted into a character by taking the byte's value for the lower eight bits of the character and setting the high eight bits of the character to zero. This method does not, therefore, support the full Unicode character set.</p>\n</blockquote>\n\n<p>To read UTF-8 safely, I suggest you read (some or all of the) raw bytes with a combination of <code>length()</code> and <code>read(byte[])</code>.  Then convert your UTF-8 bytes to a Java <code>String</code> with this constructor: <code>new String(byte[], \"UTF-8\")</code>.</p>\n\n<p>To write UTF-8 safely, first convert your Java <code>String</code> to the correct bytes with <code>someText.getBytes(\"UTF-8\")</code>.  Finally, write the bytes using <code>write(byte[])</code>.</p>\n"},{"comments":[{"owner":{"account_id":1198063,"reputation":95,"user_id":1169365,"display_name":"thomasb"},"score":0,"creation_date":1455027313,"post_id":34245174,"comment_id":58298216,"body_markdown":"Thank you for posting your solution. Could you explain why `String UTF8 = new String(Line.getBytes(&quot;UTF-8&quot;), &quot;UTF-8&quot;);` isn&#39;t working?","body":"Thank you for posting your solution. Could you explain why <code>String UTF8 = new String(Line.getBytes(&quot;UTF-8&quot;), &quot;UTF-8&quot;);</code> isn&#39;t working?"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1485185026,"post_id":34245174,"comment_id":70807426,"body_markdown":"@thomasb `getBytes(&quot;UTF-8&quot;)` will transform the internal byte array. `ISO-8859-1` is &quot;raw&quot; encoding.","body":"@thomasb <code>getBytes(&quot;UTF-8&quot;)</code> will transform the internal byte array. <code>ISO-8859-1</code> is &quot;raw&quot; encoding."},{"owner":{"account_id":204410,"reputation":4876,"user_id":452614,"accept_rate":100,"display_name":"Ludovic Kuty"},"score":0,"creation_date":1548823310,"post_id":34245174,"comment_id":95676398,"body_markdown":"See [this question](https://stackoverflow.com/q/15925458) concerning the notion of &quot;raw&quot; encoding with ISO-8859-1. Note the difference between ISO/IEC 8859-1 (191 bytes defined) and ISO-8859-1 (256 bytes defined). You can find the definition of ISO-8859-1 in [RFC1345](https://tools.ietf.org/html/rfc1345) and see that control codes C0 and C1 are mapped onto the 65 unused bytes.","body":"See <a href=\"https://stackoverflow.com/q/15925458\">this question</a> concerning the notion of &quot;raw&quot; encoding with ISO-8859-1. Note the difference between ISO/IEC 8859-1 (191 bytes defined) and ISO-8859-1 (256 bytes defined). You can find the definition of ISO-8859-1 in <a href=\"https://tools.ietf.org/html/rfc1345\" rel=\"nofollow noreferrer\">RFC1345</a> and see that control codes C0 and C1 are mapped onto the 65 unused bytes."},{"owner":{"account_id":204410,"reputation":4876,"user_id":452614,"accept_rate":100,"display_name":"Ludovic Kuty"},"score":1,"creation_date":1548825244,"post_id":34245174,"comment_id":95676862,"body_markdown":"See my answer to get detailed infos on the correctness of  the expression `new String(raf.readLine().getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;)`.","body":"See my answer to get detailed infos on the correctness of  the expression <code>new String(raf.readLine().getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;)</code>."}],"tags":[],"owner":{"account_id":3983793,"reputation":310,"user_id":3285036,"display_name":"picoworm"},"comment_count":4,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1485183733,"creation_date":1449955600,"answer_id":34245174,"question_id":9964892,"body_markdown":"You can convert string, read by readLine to UTF8, using following code:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        RandomAccessFile raf = new RandomAccessFile(new File(&quot;MyFile.txt&quot;), &quot;r&quot;);\r\n        String line = raf.readLine();\r\n        String utf8 = new String(line.getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);\r\n        System.out.println(&quot;Line: &quot; + line);\r\n        System.out.println(&quot;UTF8: &quot; + utf8);\r\n    }\r\n\r\n#Content of MyFile.txt: (UTF-8 Encoding)#\r\n    Привет из Украины\r\n\r\n#Console output:#\r\n    Line: &#208;&#209;&#208;&#184;&#208;&#178;&#208;&#181;&#209; &#208;&#184;&#208;&#183; &#208;&#163;&#208;&#186;&#209;&#208;&#176;&#208;&#184;&#208;&#189;&#209;\r\n    UTF8: Привет из Украины\r\n\r\n","title":"How to read UTF8 encoded file using RandomAccessFile?","body":"<p>You can convert string, read by readLine to UTF8, using following code:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    RandomAccessFile raf = new RandomAccessFile(new File(\"MyFile.txt\"), \"r\");\n    String line = raf.readLine();\n    String utf8 = new String(line.getBytes(\"ISO-8859-1\"), \"UTF-8\");\n    System.out.println(\"Line: \" + line);\n    System.out.println(\"UTF8: \" + utf8);\n}\n</code></pre>\n\n<h1>Content of MyFile.txt: (UTF-8 Encoding)</h1>\n\n<pre><code>Привет из Украины\n</code></pre>\n\n<h1>Console output:</h1>\n\n<pre><code>Line: ÐÑÐ¸Ð²ÐµÑ Ð¸Ð· Ð£ÐºÑÐ°Ð¸Ð½Ñ\nUTF8: Привет из Украины\n</code></pre>\n"},{"comments":[{"owner":{"account_id":204410,"reputation":4876,"user_id":452614,"accept_rate":100,"display_name":"Ludovic Kuty"},"score":0,"creation_date":1548825950,"post_id":37275357,"comment_id":95677058,"body_markdown":"Or use an in-memory data structure like a map (`Map` and e.g. its implementation `HashMap`). It depends on the use case. This is an interesting problem and it combines two sub-problems : indexing with a data structure and UTF-8 decoding into `String`. Note that the indexing is useful only if you need to do many random accesses to specific lines (which is implied by the use of `RandomAccessFile`).","body":"Or use an in-memory data structure like a map (<code>Map</code> and e.g. its implementation <code>HashMap</code>). It depends on the use case. This is an interesting problem and it combines two sub-problems : indexing with a data structure and UTF-8 decoding into <code>String</code>. Note that the indexing is useful only if you need to do many random accesses to specific lines (which is implied by the use of <code>RandomAccessFile</code>)."}],"tags":[],"owner":{"account_id":4499005,"reputation":119,"user_id":3658064,"display_name":"martinjs"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463485901,"creation_date":1463485901,"answer_id":37275357,"question_id":9964892,"body_markdown":"I realise that this is an old question, but it still seems to have some interest, and no accepted answer.\r\n\r\nWhat you are describing is essentially a data structures problem. The discussion of UTF8 here is a red herring - you would face the same problem using a fixed length encoding such as ASCII, because you have variable length lines. What you need is some kind of index.\r\n\r\nIf you absolutely can&#39;t change the file itself (the &quot;string file&quot;) - as seems to be the case - you could always construct an external index. The first time (and *only* the first time) the string file is accessed, you read it all the way through (sequentially), recording the byte position of the start of every line, and finishing by recording the end-of-file position (to make life simpler). This can be achieved by the following code:\r\n\r\n    myList.add(0); // assuming first string starts at beginning of file\r\n    while ((line = myRandomAccessFile.readLine()) != null) {\r\n        myList.add(myRandomAccessFile.getFilePointer());\r\n    }\r\n\r\nYou then write these integers into a separate file (&quot;index file&quot;), which you will read back in every subsequent time you start your program and intend to access the string file. To access the `n`th string, pick the `n`th and `n+1`th index from the index file (call these `A` and `B`). You then seek to position `A` in the string file and read `B-A` bytes, which you then decode from UTF8. For instance, to get line `i`:\r\n\r\n    myRandomAccessFile.seek(myList.get(i));\r\n    byte[] bytes = new byte[myList.get(i+1) - myList.get(i)];\r\n    myRandomAccessFile.readFully(bytes);\r\n    String result = new String(bytes, &quot;UTF-8&quot;);\r\n\r\nIn many cases, however, it would be better to use a database such as SQLite, which creates and maintains the index for you. That way, you can add and modify extra &quot;lines&quot; without having to recreate the entire index. See https://www.sqlite.org/cvstrac/wiki?p=SqliteWrappers for Java implementations.","title":"How to read UTF8 encoded file using RandomAccessFile?","body":"<p>I realise that this is an old question, but it still seems to have some interest, and no accepted answer.</p>\n\n<p>What you are describing is essentially a data structures problem. The discussion of UTF8 here is a red herring - you would face the same problem using a fixed length encoding such as ASCII, because you have variable length lines. What you need is some kind of index.</p>\n\n<p>If you absolutely can't change the file itself (the \"string file\") - as seems to be the case - you could always construct an external index. The first time (and <em>only</em> the first time) the string file is accessed, you read it all the way through (sequentially), recording the byte position of the start of every line, and finishing by recording the end-of-file position (to make life simpler). This can be achieved by the following code:</p>\n\n<pre><code>myList.add(0); // assuming first string starts at beginning of file\nwhile ((line = myRandomAccessFile.readLine()) != null) {\n    myList.add(myRandomAccessFile.getFilePointer());\n}\n</code></pre>\n\n<p>You then write these integers into a separate file (\"index file\"), which you will read back in every subsequent time you start your program and intend to access the string file. To access the <code>n</code>th string, pick the <code>n</code>th and <code>n+1</code>th index from the index file (call these <code>A</code> and <code>B</code>). You then seek to position <code>A</code> in the string file and read <code>B-A</code> bytes, which you then decode from UTF8. For instance, to get line <code>i</code>:</p>\n\n<pre><code>myRandomAccessFile.seek(myList.get(i));\nbyte[] bytes = new byte[myList.get(i+1) - myList.get(i)];\nmyRandomAccessFile.readFully(bytes);\nString result = new String(bytes, \"UTF-8\");\n</code></pre>\n\n<p>In many cases, however, it would be better to use a database such as SQLite, which creates and maintains the index for you. That way, you can add and modify extra \"lines\" without having to recreate the entire index. See <a href=\"https://www.sqlite.org/cvstrac/wiki?p=SqliteWrappers\" rel=\"nofollow\">https://www.sqlite.org/cvstrac/wiki?p=SqliteWrappers</a> for Java implementations.</p>\n"},{"tags":[],"owner":{"account_id":11544959,"reputation":11,"user_id":8459350,"display_name":"soulsurfer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502657218,"creation_date":1502657218,"answer_id":45664769,"question_id":9964892,"body_markdown":"Reading the file via readLine() worked for me:\r\n\r\n    RandomAccessFile raf = new RandomAccessFile( ... );\r\n    String line;\r\n    while ((line = raf.readLine()) != null) { \r\n        String utf = new String(line.getBytes(&quot;ISO-8859-1&quot;));\r\n        ...\r\n    }\r\n\r\n    // my file content has been created with:\r\n    raf.write(myStringContent.getBytes());\r\n","title":"How to read UTF8 encoded file using RandomAccessFile?","body":"<p>Reading the file via readLine() worked for me:</p>\n\n<pre><code>RandomAccessFile raf = new RandomAccessFile( ... );\nString line;\nwhile ((line = raf.readLine()) != null) { \n    String utf = new String(line.getBytes(\"ISO-8859-1\"));\n    ...\n}\n\n// my file content has been created with:\nraf.write(myStringContent.getBytes());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9893515,"reputation":6772,"user_id":7325804,"display_name":"Arnav Rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527331361,"creation_date":1527331361,"answer_id":50541897,"question_id":9964892,"body_markdown":"The readUTF() method of RandomAccessFile treats first two bytes from the current pointer as size of bytes, after the two bytes from current position, to be read and returned as string.\r\n\r\nIn order for this method to work, content should be written using writeUTF() method as it uses first two bytes after the current position for saving the content size and then writes the content. Otherwise, most of the times you will get EOFException.\r\n\r\nSee http://www.zoftino.com/java-random-access-files for details.","title":"How to read UTF8 encoded file using RandomAccessFile?","body":"<p>The readUTF() method of RandomAccessFile treats first two bytes from the current pointer as size of bytes, after the two bytes from current position, to be read and returned as string.</p>\n\n<p>In order for this method to work, content should be written using writeUTF() method as it uses first two bytes after the current position for saving the content size and then writes the content. Otherwise, most of the times you will get EOFException.</p>\n\n<p>See <a href=\"http://www.zoftino.com/java-random-access-files\" rel=\"nofollow noreferrer\">http://www.zoftino.com/java-random-access-files</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":204410,"reputation":4876,"user_id":452614,"accept_rate":100,"display_name":"Ludovic Kuty"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616768158,"creation_date":1548825157,"answer_id":54433693,"question_id":9964892,"body_markdown":"Once you are positioned on a given line (this means you have answered the first part of your problem, see @martinjs answer), you can read the whole line and make a `String` out of it using a statement given in the answer by @Matthieu. But to check if the statement in question is correct, we have to ask ourselves 4 questions. It is not self-evident.\r\n\r\nNote that the problem of getting at the start of a line may require to analyze the text to build an index if you need to randomly and quickly access many lines.\r\n\r\nThe statement to read a line and turn it into a `String` is :\r\n\r\n    String utf8 = new String(raf.readLine().getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);\r\n\r\n 1. What is a byte in UTF-8 ? That means which values are allowed. We&#39;ll see the question is in fact useless once we answer question 2.\r\n 2. `readLine()`. UTF-8 bytes → UTF-16 bytes ok ? Yes. Because UTF-16 gives a meaning to all the integers from 0 to 255 coded on 2 bytes if the most significant byte (MSB) is 0. This is guaranteed by `readLine()`.\r\n 3. `getBytes(&quot;ISO-8859-1&quot;)`. Characters encoded in UTF-16 (Java `String` with 1 or 2 `char` (code unit) per character) → ISO-8859-1 bytes ok ? Yes. The code points of the characters in the Java string are ≤ 255 and ISO-8859-1 is a &quot;raw&quot; encoding which means it can encode every character as a single byte.\r\n 4. `new String(..., &quot;UTF-8&quot;)`. ISO-8859-1 bytes → UTF-8 bytes ok ? Yes. Since the original bytes come from UTF-8 encoded text and have been extracted as is, they still represent text encoded in UTF-8.\r\n\r\nConcerning the raw nature of ISO-8859-1 in which every byte (value 0 to 255) is mapped onto a character, I copy/paste below the comment I made on the answer by @Matthieu.\r\n\r\nSee [this question](https://stackoverflow.com/q/15925458/452614) concerning the notion of &quot;raw&quot; encoding with ISO-8859-1. Note the difference between ISO/IEC 8859-1 (191 bytes defined) and ISO-8859-1 (256 bytes defined). You can find the definition of ISO-8859-1 in [RFC1345](https://www.rfc-editor.org/rfc/rfc1345) and see that control codes C0 and C1 are mapped onto the 65 unused bytes of ISO/IEC 8859-1.\r\n","title":"How to read UTF8 encoded file using RandomAccessFile?","body":"<p>Once you are positioned on a given line (this means you have answered the first part of your problem, see @martinjs answer), you can read the whole line and make a <code>String</code> out of it using a statement given in the answer by @Matthieu. But to check if the statement in question is correct, we have to ask ourselves 4 questions. It is not self-evident.</p>\n<p>Note that the problem of getting at the start of a line may require to analyze the text to build an index if you need to randomly and quickly access many lines.</p>\n<p>The statement to read a line and turn it into a <code>String</code> is :</p>\n<pre><code>String utf8 = new String(raf.readLine().getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);\n</code></pre>\n<ol>\n<li>What is a byte in UTF-8 ? That means which values are allowed. We'll see the question is in fact useless once we answer question 2.</li>\n<li><code>readLine()</code>. UTF-8 bytes → UTF-16 bytes ok ? Yes. Because UTF-16 gives a meaning to all the integers from 0 to 255 coded on 2 bytes if the most significant byte (MSB) is 0. This is guaranteed by <code>readLine()</code>.</li>\n<li><code>getBytes(&quot;ISO-8859-1&quot;)</code>. Characters encoded in UTF-16 (Java <code>String</code> with 1 or 2 <code>char</code> (code unit) per character) → ISO-8859-1 bytes ok ? Yes. The code points of the characters in the Java string are ≤ 255 and ISO-8859-1 is a &quot;raw&quot; encoding which means it can encode every character as a single byte.</li>\n<li><code>new String(..., &quot;UTF-8&quot;)</code>. ISO-8859-1 bytes → UTF-8 bytes ok ? Yes. Since the original bytes come from UTF-8 encoded text and have been extracted as is, they still represent text encoded in UTF-8.</li>\n</ol>\n<p>Concerning the raw nature of ISO-8859-1 in which every byte (value 0 to 255) is mapped onto a character, I copy/paste below the comment I made on the answer by @Matthieu.</p>\n<p>See <a href=\"https://stackoverflow.com/q/15925458/452614\">this question</a> concerning the notion of &quot;raw&quot; encoding with ISO-8859-1. Note the difference between ISO/IEC 8859-1 (191 bytes defined) and ISO-8859-1 (256 bytes defined). You can find the definition of ISO-8859-1 in <a href=\"https://www.rfc-editor.org/rfc/rfc1345\" rel=\"nofollow noreferrer\">RFC1345</a> and see that control codes C0 and C1 are mapped onto the 65 unused bytes of ISO/IEC 8859-1.</p>\n"},{"tags":[],"owner":{"account_id":4138433,"reputation":300,"user_id":3394495,"display_name":"cheshire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694892734,"creation_date":1694892734,"answer_id":77119313,"question_id":9964892,"body_markdown":"You can use [`RandomAccessFileInputStream`][1] from [commons-io][2] to use other JDK classes (like `InputStreamReader`) to read the `RandomAccessFile` and do the UTF-8 conversion.\r\n\r\nHere&#39;s an example:\r\n\r\n    private static String readLastLines(File f) {\r\n        try (RandomAccessFile rando = new RandomAccessFile(f, &quot;r&quot;);\r\n             RandomAccessFileInputStream stream = RandomAccessFileInputStream.builder().setRandomAccessFile(rando).get()) {\r\n            rando.seek(rando.length() - 1000); // or whatever you need\r\n            // now we are probably in the middle of a line or even within a UTF-8 character\r\n            // so we just scrap that line to get a clean start\r\n            rando.readLine();\r\n\r\n            BufferedReader buff = new BufferedReader(new InputStreamReader(stream, StandardCharsets.UTF_8));\r\n            return buff.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nThe `rando.readLine();` line is important, so we don&#39;t start reading within a multi-byte UTF-8 character.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/RandomAccessFileInputStream.html\r\n  [2]: https://commons.apache.org/proper/commons-io/","title":"How to read UTF8 encoded file using RandomAccessFile?","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/RandomAccessFileInputStream.html\" rel=\"nofollow noreferrer\"><code>RandomAccessFileInputStream</code></a> from <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">commons-io</a> to use other JDK classes (like <code>InputStreamReader</code>) to read the <code>RandomAccessFile</code> and do the UTF-8 conversion.</p>\n<p>Here's an example:</p>\n<pre><code>private static String readLastLines(File f) {\n    try (RandomAccessFile rando = new RandomAccessFile(f, &quot;r&quot;);\n         RandomAccessFileInputStream stream = RandomAccessFileInputStream.builder().setRandomAccessFile(rando).get()) {\n        rando.seek(rando.length() - 1000); // or whatever you need\n        // now we are probably in the middle of a line or even within a UTF-8 character\n        // so we just scrap that line to get a clean start\n        rando.readLine();\n\n        BufferedReader buff = new BufferedReader(new InputStreamReader(stream, StandardCharsets.UTF_8));\n        return buff.lines().collect(Collectors.joining(&quot;\\n&quot;));\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>The <code>rando.readLine();</code> line is important, so we don't start reading within a multi-byte UTF-8 character.</p>\n"}],"owner":{"account_id":880341,"reputation":2000,"user_id":235132,"accept_rate":51,"display_name":"kenny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20588,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":9,"score":15,"last_activity_date":1694892734,"creation_date":1333288343,"question_id":9964892,"body_markdown":"I have text file that was  encoded with UTF8 (for language specific characters). \r\nI need to use RandomAccessFile to seek specific position and read from. \r\n\r\nI want read line-by-line.  \r\n\r\n    String str = myreader.readLine(); //returns wrong text, not decoded \r\n    String str myreader.readUTF(); //An exception occurred: java.io.EOFException\r\n\r\n","title":"How to read UTF8 encoded file using RandomAccessFile?","body":"<p>I have text file that was  encoded with UTF8 (for language specific characters). \nI need to use RandomAccessFile to seek specific position and read from. </p>\n\n<p>I want read line-by-line.  </p>\n\n<pre><code>String str = myreader.readLine(); //returns wrong text, not decoded \nString str myreader.readUTF(); //An exception occurred: java.io.EOFException\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1694892738,"post_id":77119294,"comment_id":135952231,"body_markdown":"Dont use that method, use the multipart instead, since you can upload in packets of x amount of mb, instead of the entire file. https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html","body":"Dont use that method, use the multipart instead, since you can upload in packets of x amount of mb, instead of the entire file. <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694893399,"post_id":77119294,"comment_id":135952310,"body_markdown":"There&#39;s no mention of the data being read fully into **memory**, and in case of retries there would be no need for a re-read if it were in memory. You seem to be misinterpreting the javadoc.","body":"There&#39;s no mention of the data being read fully into <b>memory</b>, and in case of retries there would be no need for a re-read if it were in memory. You seem to be misinterpreting the javadoc."},{"owner":{"account_id":1231879,"reputation":2267,"user_id":1196279,"accept_rate":56,"display_name":"Brad"},"score":0,"creation_date":1694894784,"post_id":77119294,"comment_id":135952434,"body_markdown":"Although there&#39;s no mention of the data being read fully into memory, I still run out of heap space when transferring the file, even with a 64 MB max directory memory size and a 500 mb memory limit.","body":"Although there&#39;s no mention of the data being read fully into memory, I still run out of heap space when transferring the file, even with a 64 MB max directory memory size and a 500 mb memory limit."}],"owner":{"account_id":1231879,"reputation":2267,"user_id":1196279,"accept_rate":56,"display_name":"Brad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694892440,"creation_date":1694892440,"question_id":77119294,"body_markdown":"I&#39;m writing an application that downloads a big file from an external website I have no control over, and then uploads a copy of it to an S3 bucket (among other things) using version 2 of the AWS Java SDK.  The S3TransferManager is injected by Spring Batch.\r\n\r\n    URL website = new URL(&quot;https://big_website_url&quot;);\r\n    \r\n    HttpURLConnection huc = (HttpURLConnection)website.openConnection();\r\n    \r\n    try(ReadableByteInputChannel rbc = Channels.newChannel(huc.getInputStream());\r\n        FileOutputStream fos = new FileOutputStream(&quot;filename.zip&quot;))) {\r\n        fos.getChannel().transferFrom(rbc, 0, huc.getContentLengthLong());\r\n    }\r\n    \r\n    huc.disconnect();\r\n    \r\n    \r\n    String uploadFileKey = &quot;my/download/path/filename.zip&quot;;\r\n    \r\n    UploadFileRequest uploadFileRequest = \r\n       UploadFileRequest.builder()\r\n           .putObjectRequest(b -&gt; b.bucket(&quot;mybucket&quot;).key(uploadFileKey))\r\n           .addTransferListener(LoggingTransferListener.create())\r\n           .source(Paths.get(&quot;filename.zip&quot;))\r\n           .build();\r\n    \r\n    FileUpload fileUpload = s3TransferManager.uploadFile(uploadFileRequest);\r\n\r\nThe file can be in excess of 900 MB.  I&#39;m also using Spring Boot&#39;s Docker image plugin to produce the app which runs in Kubernetes:\r\n\r\n    mvn spring-boot:boot-image\r\n\r\nThe image produced by Spring Boot has a maximum direct memory buffer size of 10 MB.  I&#39;m aware that I can change it, but I&#39;m trying to keep the container&#39;s memory footprint as low as possible.\r\n\r\nThe problem is that the S3TransferManager reads the entire file into memory before uploading it.  From the [SDK documentation](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/transfer/s3/model/UploadFileRequest.Builder.html#source(java.nio.file.Path)):\r\n\r\n&quot;File will be read entirely and may be read multiple times in the event of a retry.&quot;\r\n\r\nWith a 900 mb file and a 500 mb memory limit, is there any way to get the S3TransferManager to read bits of the file at a time instead of all into memory, or do I have to fall back to doing multipart upload requests at low level?\r\n","title":"Java S3TransferManager reads entire file?","body":"<p>I'm writing an application that downloads a big file from an external website I have no control over, and then uploads a copy of it to an S3 bucket (among other things) using version 2 of the AWS Java SDK.  The S3TransferManager is injected by Spring Batch.</p>\n<pre><code>URL website = new URL(&quot;https://big_website_url&quot;);\n\nHttpURLConnection huc = (HttpURLConnection)website.openConnection();\n\ntry(ReadableByteInputChannel rbc = Channels.newChannel(huc.getInputStream());\n    FileOutputStream fos = new FileOutputStream(&quot;filename.zip&quot;))) {\n    fos.getChannel().transferFrom(rbc, 0, huc.getContentLengthLong());\n}\n\nhuc.disconnect();\n\n\nString uploadFileKey = &quot;my/download/path/filename.zip&quot;;\n\nUploadFileRequest uploadFileRequest = \n   UploadFileRequest.builder()\n       .putObjectRequest(b -&gt; b.bucket(&quot;mybucket&quot;).key(uploadFileKey))\n       .addTransferListener(LoggingTransferListener.create())\n       .source(Paths.get(&quot;filename.zip&quot;))\n       .build();\n\nFileUpload fileUpload = s3TransferManager.uploadFile(uploadFileRequest);\n</code></pre>\n<p>The file can be in excess of 900 MB.  I'm also using Spring Boot's Docker image plugin to produce the app which runs in Kubernetes:</p>\n<pre><code>mvn spring-boot:boot-image\n</code></pre>\n<p>The image produced by Spring Boot has a maximum direct memory buffer size of 10 MB.  I'm aware that I can change it, but I'm trying to keep the container's memory footprint as low as possible.</p>\n<p>The problem is that the S3TransferManager reads the entire file into memory before uploading it.  From the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/transfer/s3/model/UploadFileRequest.Builder.html#source(java.nio.file.Path)\" rel=\"nofollow noreferrer\">SDK documentation</a>:</p>\n<p>&quot;File will be read entirely and may be read multiple times in the event of a retry.&quot;</p>\n<p>With a 900 mb file and a 500 mb memory limit, is there any way to get the S3TransferManager to read bits of the file at a time instead of all into memory, or do I have to fall back to doing multipart upload requests at low level?</p>\n"},{"tags":["java","android","exoplayer","twitch"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":1,"creation_date":1679163239,"post_id":75777780,"comment_id":133673842,"body_markdown":"Can you give an example of a `twich_link` you&#39;re trying to play? Make sure it is in one of the supported formats: https://exoplayer.dev/supported-formats.html","body":"Can you give an example of a <code>twich_link</code> you&#39;re trying to play? Make sure it is in one of the supported formats: <a href=\"https://exoplayer.dev/supported-formats.html\" rel=\"nofollow noreferrer\">exoplayer.dev/supported-formats.html</a>"},{"owner":{"account_id":28051998,"reputation":9,"user_id":21427717,"display_name":"David Patr&#243;n"},"score":0,"creation_date":1679163372,"post_id":75777780,"comment_id":133673858,"body_markdown":"I&#39;ve tried normal link (the one you copy from browser) and this one: &quot;twitch://open?stream=lcs&quot;;","body":"I&#39;ve tried normal link (the one you copy from browser) and this one: &quot;twitch://open?stream=lcs&quot;;"},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":1,"creation_date":1679163427,"post_id":75777780,"comment_id":133673863,"body_markdown":"I don&#39;t think expolayer understands the `twitch://` protocol","body":"I don&#39;t think expolayer understands the <code>twitch:&#47;&#47;</code> protocol"},{"owner":{"account_id":28051998,"reputation":9,"user_id":21427717,"display_name":"David Patr&#243;n"},"score":0,"creation_date":1679163578,"post_id":75777780,"comment_id":133673886,"body_markdown":"I already visited that link before but I don&#39;t understand very well which format should I use","body":"I already visited that link before but I don&#39;t understand very well which format should I use"},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":2,"creation_date":1679163746,"post_id":75777780,"comment_id":133673907,"body_markdown":"I believe you will need a direct stream to the mp4/hls/whatever stream, rather than a link to the webpage/twitch URL. Also that&#39;s assuming it&#39;s not protected in any way","body":"I believe you will need a direct stream to the mp4/hls/whatever stream, rather than a link to the webpage/twitch URL. Also that&#39;s assuming it&#39;s not protected in any way"}],"owner":{"account_id":28051998,"reputation":9,"user_id":21427717,"display_name":"David Patr&#243;n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694892149,"creation_date":1679162979,"question_id":75777780,"body_markdown":"I&#39;m trying to develop an Android application on Java which plays two Twitch streams on same time. I&#39;ve decided to use Exoplayer because it has good video stream support. \r\n\r\nI created this method which I call on onCreate method. This method works with .MP4 online files, but it doesn&#39;t work with any Twitch link\r\n\r\n```\r\nprivate void playVideo() {\r\n\r\n    try {\r\n        simpleExoPlayer = new SimpleExoPlayer.Builder(this).build();\r\n        playerView.setPlayer(simpleExoPlayer);\r\n        MediaItem mediaItem = MediaItem.fromUri(twitch_link);\r\n        simpleExoPlayer.addMediaItem(mediaItem);\r\n        simpleExoPlayer.prepare();\r\n        simpleExoPlayer.play();\r\n\r\n    } catch (Exception e) {\r\n\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"Play Twitch stream on exoplayer android app","body":"<p>I'm trying to develop an Android application on Java which plays two Twitch streams on same time. I've decided to use Exoplayer because it has good video stream support.</p>\n<p>I created this method which I call on onCreate method. This method works with .MP4 online files, but it doesn't work with any Twitch link</p>\n<pre><code>private void playVideo() {\n\n    try {\n        simpleExoPlayer = new SimpleExoPlayer.Builder(this).build();\n        playerView.setPlayer(simpleExoPlayer);\n        MediaItem mediaItem = MediaItem.fromUri(twitch_link);\n        simpleExoPlayer.addMediaItem(mediaItem);\n        simpleExoPlayer.prepare();\n        simpleExoPlayer.play();\n\n    } catch (Exception e) {\n\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1694896973,"post_id":77119269,"comment_id":135952607,"body_markdown":"Try looking at [JSON in Android - Tutorial](https://www.vogella.com/tutorials/AndroidJSON/article.html).","body":"Try looking at <a href=\"https://www.vogella.com/tutorials/AndroidJSON/article.html\" rel=\"nofollow noreferrer\">JSON in Android - Tutorial</a>."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1694900598,"post_id":77119269,"comment_id":135952948,"body_markdown":"What exactly is the issue you are facing? What have you tried? What do you expect to happen?","body":"What exactly is the issue you are facing? What have you tried? What do you expect to happen?"}],"owner":{"account_id":15053855,"reputation":11,"user_id":10864800,"display_name":"Md.Alireza Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694892004,"creation_date":1694892004,"question_id":77119269,"body_markdown":"i have lot of data like GenericName, BrandName, CompanyName, RegNumber. there are hundreds of GenericName. Every GenericName has lots of BrandName, CompanyName, RegName.\r\nit actually like Medicine Data. How may i handel It inside android apps with Android Studio JAVA programming. please help.....","title":"How to handel data for android apps","body":"<p>i have lot of data like GenericName, BrandName, CompanyName, RegNumber. there are hundreds of GenericName. Every GenericName has lots of BrandName, CompanyName, RegName.\nit actually like Medicine Data. How may i handel It inside android apps with Android Studio JAVA programming. please help.....</p>\n"},{"tags":["java","excel","apache-poi","xlsx"],"comments":[{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1509569898,"post_id":47048144,"comment_id":81075264,"body_markdown":"Usually an `\\EncryptedPackage` stream is accompanied by an `\\EncryptionInfo` stream inside the .xlsx - as this is not the case with your file, the exception is thrown. This is unrelated to the file permissons. How was the file generated? Can you provide a sample to the poi bugzilla?","body":"Usually an <code>\\EncryptedPackage</code> stream is accompanied by an <code>\\EncryptionInfo</code> stream inside the .xlsx - as this is not the case with your file, the exception is thrown. This is unrelated to the file permissons. How was the file generated? Can you provide a sample to the poi bugzilla?"}],"answers":[{"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1694878334,"post_id":77118308,"comment_id":135950727,"body_markdown":"How would this code solve ths issue? It does nothing special...","body":"How would this code solve ths issue? It does nothing special..."},{"owner":{"account_id":29293095,"reputation":840,"user_id":22443070,"display_name":"xPetersue"},"score":0,"creation_date":1694878469,"post_id":77118308,"comment_id":135950742,"body_markdown":"A FileInputStream obtains input bytes from a file in a file system.","body":"A FileInputStream obtains input bytes from a file in a file system."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1694878636,"post_id":77118308,"comment_id":135950757,"body_markdown":"Sure, but how will that make the encryption issue go away?","body":"Sure, but how will that make the encryption issue go away?"}],"tags":[],"owner":{"account_id":29293095,"reputation":840,"user_id":22443070,"display_name":"xPetersue"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1694891350,"creation_date":1694876485,"answer_id":77118308,"question_id":47048144,"body_markdown":"If you can manually read this Excel file, you should be allowed to access this file with read-only permission via Java. \r\n\r\nLooking at the errors here, it appears to be related to an encryption issue rather than a read-only permission problem.\r\n\r\nAs you mentioned, this file is no password-protected. But the error illustrates that you are trying to open an encrypted Excel file.\r\n\r\n&quot;workbook = WorkbookFactory.create(new File(&quot;D:/temp/table_export.xlsx&quot;));&quot; is also fine but get more controls with File and FileInputStream object.\r\n\r\nThe issue can be tricky now. There are some possibilities as follows.\r\n1. Verify whether the Excel file has been damaged by Apache POI.\r\n2. WorkbookFactory.create can support xls and xlsx. Try create a new file with the format xls. If it works, change back to xlsx. And see what happens. (rule out a compatible version of Apache POI issue.)\r\n3. How large is this excel file? If it is too big, you can replace Apache POI with Apache POI SXSSF. (for example: &gt; 5K rows)\r\n\r\nxml\r\n```\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.0&lt;/version&gt; &lt;!-- Use the latest version --&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```\r\n\r\n    Workbook workbook = new SXSSFWorkbook(new XSSFWorkbook(fis));\r\n\r\n","title":"Read excel file with restricted access: no such entry: &quot;EncryptionInfo&quot;, had: [EncryptedPackage,","body":"<p>If you can manually read this Excel file, you should be allowed to access this file with read-only permission via Java.</p>\n<p>Looking at the errors here, it appears to be related to an encryption issue rather than a read-only permission problem.</p>\n<p>As you mentioned, this file is no password-protected. But the error illustrates that you are trying to open an encrypted Excel file.</p>\n<p>&quot;workbook = WorkbookFactory.create(new File(&quot;D:/temp/table_export.xlsx&quot;));&quot; is also fine but get more controls with File and FileInputStream object.</p>\n<p>The issue can be tricky now. There are some possibilities as follows.</p>\n<ol>\n<li>Verify whether the Excel file has been damaged by Apache POI.</li>\n<li>WorkbookFactory.create can support xls and xlsx. Try create a new file with the format xls. If it works, change back to xlsx. And see what happens. (rule out a compatible version of Apache POI issue.)</li>\n<li>How large is this excel file? If it is too big, you can replace Apache POI with Apache POI SXSSF. (for example: &gt; 5K rows)</li>\n</ol>\n<p>xml</p>\n<pre><code>\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;5.1.0&lt;/version&gt; &lt;!-- Use the latest version --&gt;\n    &lt;/dependency&gt;\n\n</code></pre>\n<pre><code>Workbook workbook = new SXSSFWorkbook(new XSSFWorkbook(fis));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694883448,"creation_date":1694883448,"answer_id":77118748,"question_id":47048144,"body_markdown":"The protection we are talking about here is called [IRM](https://en.wikipedia.org/wiki/Information_rights_management)\r\n(Information Rights Management). It&#39;s a kind of DRM. Microsoft has a proprietary IRM solution that can be applied to Office documents (as explained\r\n[here](https://support.microsoft.com/en-au/office/restrict-access-to-workbooks-with-information-rights-management-in-excel-3525d8fd-4313-4645-b60e-5ec0e1b9c317)).\r\n\r\nNote that IRM has nothing to do with the traditional password-based protection (which POI has support for). POI is unable to open IRM-protected files.\r\n\r\nIn case the &quot;Access content programatically&quot; setting is enabled, it (probably) means that it&#39;s possible to access the file though OLE Automation. For example, you could execute a VBScript file (*.vbs) that opens the document (see [here](https://automationscript.com/uft/read-and-write-excel-file-using-vbscript/) for examples). It might even\r\nbe possible to make it save the file under an unprotected format (plain *.xlsx or CSV).\r\n","title":"Read excel file with restricted access: no such entry: &quot;EncryptionInfo&quot;, had: [EncryptedPackage,","body":"<p>The protection we are talking about here is called <a href=\"https://en.wikipedia.org/wiki/Information_rights_management\" rel=\"nofollow noreferrer\">IRM</a>\n(Information Rights Management). It's a kind of DRM. Microsoft has a proprietary IRM solution that can be applied to Office documents (as explained\n<a href=\"https://support.microsoft.com/en-au/office/restrict-access-to-workbooks-with-information-rights-management-in-excel-3525d8fd-4313-4645-b60e-5ec0e1b9c317\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Note that IRM has nothing to do with the traditional password-based protection (which POI has support for). POI is unable to open IRM-protected files.</p>\n<p>In case the &quot;Access content programatically&quot; setting is enabled, it (probably) means that it's possible to access the file though OLE Automation. For example, you could execute a VBScript file (*.vbs) that opens the document (see <a href=\"https://automationscript.com/uft/read-and-write-excel-file-using-vbscript/\" rel=\"nofollow noreferrer\">here</a> for examples). It might even\nbe possible to make it save the file under an unprotected format (plain *.xlsx or CSV).</p>\n"}],"owner":{"account_id":8273875,"reputation":456,"user_id":6220762,"display_name":"James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3320,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694891350,"creation_date":1509509742,"question_id":47048144,"body_markdown":"How do I read an excel with restricted access? \r\nDon&#39;t mistake this with password protected excel file. I am trying create a java program to read a file where &quot;Full Control&quot; is given only to the owner and &quot;Everyone in my organisation&quot; has read access. Refer to the picture.\r\n\r\nI can open the file in windows as I am a part of &quot;Everyone in my organisation&quot;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jj6mg.jpg\r\n\r\nI tried POI.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\t\tWorkbook workbook = null;\r\n\t\ttry {\r\n\t\t\tworkbook = WorkbookFactory.create(new File(&quot;D:/temp/table_export.xlsx&quot;));\r\n\t\t} catch (EncryptedDocumentException e1) {\r\n\t\t\tlog.error(&quot;unable to read excel file&quot;, e1);\r\n\t\t\te1.printStackTrace();\r\n\t\t\t\r\n\t\t} catch (InvalidFormatException e1) {\r\n\t\t\tlog.error(&quot;unable to read excel file&quot;, e1);\r\n\t\t\te1.printStackTrace();\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;IOException&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(&quot;Exception&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tSheet sheet;\r\n\t\tsheet = workbook.getSheetAt(0);\r\n\t\tlog.info(&quot;SheetName:&quot; + sheet.getSheetName());\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt throws an exception in &quot;WorkbookFactory.create()&quot;\r\n\r\njava.io.FileNotFoundException: no such entry: &quot;EncryptionInfo&quot;, had: [EncryptedPackage, DocumentSummaryInformation, SummaryInformation, DataSpaces]\r\n\tat org.apache.poi.poifs.filesystem.DirectoryNode.getEntry(DirectoryNode.java:399)\r\n\tat org.apache.poi.poifs.filesystem.DirectoryNode.createDocumentInputStream(DirectoryNode.java:188)\r\n\tat org.apache.poi.poifs.crypt.EncryptionInfo.&lt;init&gt;(EncryptionInfo.java:102)\r\n\tat org.apache.poi.poifs.crypt.EncryptionInfo.&lt;init&gt;(EncryptionInfo.java:95)\r\n\tat org.apache.poi.poifs.filesystem.DocumentFactoryHelper.getDecryptedStream(DocumentFactoryHelper.java:48)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:87)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:256)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:226)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:205)\r\n\tat ExlTest.main(ExlTest.java:23)\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat ExlTest.main(ExlTest.java:41)\r\n\r\nPlease suggest a way to resolve this. I can even provide username/password in the code","title":"Read excel file with restricted access: no such entry: &quot;EncryptionInfo&quot;, had: [EncryptedPackage,","body":"<p>How do I read an excel with restricted access? \nDon't mistake this with password protected excel file. I am trying create a java program to read a file where \"Full Control\" is given only to the owner and \"Everyone in my organisation\" has read access. Refer to the picture.</p>\n\n<p>I can open the file in windows as I am a part of \"Everyone in my organisation\"\n<a href=\"https://i.stack.imgur.com/Jj6mg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jj6mg.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I tried POI.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\tWorkbook workbook = null;\r\n\ttry {\r\n\t\tworkbook = WorkbookFactory.create(new File(\"D:/temp/table_export.xlsx\"));\r\n\t} catch (EncryptedDocumentException e1) {\r\n\t\tlog.error(\"unable to read excel file\", e1);\r\n\t\te1.printStackTrace();\r\n\t\t\r\n\t} catch (InvalidFormatException e1) {\r\n\t\tlog.error(\"unable to read excel file\", e1);\r\n\t\te1.printStackTrace();\r\n\t\t\r\n\t} catch (IOException e) {\r\n\t\tSystem.err.println(\"IOException\");\r\n\t\te.printStackTrace();\r\n\t} catch (Exception e) {\r\n\t\tSystem.err.println(\"Exception\");\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\tSheet sheet;\r\n\tsheet = workbook.getSheetAt(0);\r\n\tlog.info(\"SheetName:\" + sheet.getSheetName());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It throws an exception in \"WorkbookFactory.create()\"</p>\n\n<p>java.io.FileNotFoundException: no such entry: \"EncryptionInfo\", had: [EncryptedPackage, DocumentSummaryInformation, SummaryInformation, DataSpaces]\n    at org.apache.poi.poifs.filesystem.DirectoryNode.getEntry(DirectoryNode.java:399)\n    at org.apache.poi.poifs.filesystem.DirectoryNode.createDocumentInputStream(DirectoryNode.java:188)\n    at org.apache.poi.poifs.crypt.EncryptionInfo.(EncryptionInfo.java:102)\n    at org.apache.poi.poifs.crypt.EncryptionInfo.(EncryptionInfo.java:95)\n    at org.apache.poi.poifs.filesystem.DocumentFactoryHelper.getDecryptedStream(DocumentFactoryHelper.java:48)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:87)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:256)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:226)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:205)\n    at ExlTest.main(ExlTest.java:23)\nException in thread \"main\" java.lang.NullPointerException\n    at ExlTest.main(ExlTest.java:41)</p>\n\n<p>Please suggest a way to resolve this. I can even provide username/password in the code</p>\n"},{"tags":["java","http","spring-boot","centos","jetty"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1521102163,"post_id":49294421,"comment_id":85591107,"body_markdown":"*None of these options work and I still get the error when certain requests are large.* - Are you 100% sure that the payload is at most 10MB large? You are setting the limit to 20MB, are you 100% sure you aren&#39;t exceeding this limit?","body":"<i>None of these options work and I still get the error when certain requests are large.</i> - Are you 100% sure that the payload is at most 10MB large? You are setting the limit to 20MB, are you 100% sure you aren&#39;t exceeding this limit?"},{"owner":{"account_id":124358,"reputation":121,"user_id":5620022,"display_name":"Aaron Dsouza"},"score":0,"creation_date":1521102549,"post_id":49294421,"comment_id":85591277,"body_markdown":"I used the Chrome browser debugger and copied the json payload in a text file. The request size was 4 MB.","body":"I used the Chrome browser debugger and copied the json payload in a text file. The request size was 4 MB."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1521152129,"post_id":49294421,"comment_id":85622195,"body_markdown":"Your 413 could be from abuse of the request line or headers too.  Make sure you are not sending that JSON object as a query string on your URI (for example), and that your request headers are reasonable in size.   If Jetty is replying with a 413, then your server logs should tell you why you got a 413 (or 431). If you don&#39;t see these logs, then you can be sure that its not a Jetty configuration causing that 413/431 result.","body":"Your 413 could be from abuse of the request line or headers too.  Make sure you are not sending that JSON object as a query string on your URI (for example), and that your request headers are reasonable in size.   If Jetty is replying with a 413, then your server logs should tell you why you got a 413 (or 431). If you don&#39;t see these logs, then you can be sure that its not a Jetty configuration causing that 413/431 result."},{"owner":{"account_id":124358,"reputation":121,"user_id":5620022,"display_name":"Aaron Dsouza"},"score":0,"creation_date":1521180826,"post_id":49294421,"comment_id":85629898,"body_markdown":"The header size is within the limits. Is there a way to check what is the current limit of the request payload? Perhaps some java API in spring boot?","body":"The header size is within the limits. Is there a way to check what is the current limit of the request payload? Perhaps some java API in spring boot?"}],"answers":[{"comments":[{"owner":{"account_id":124358,"reputation":121,"user_id":5620022,"display_name":"Aaron Dsouza"},"score":0,"creation_date":1521180852,"post_id":49294638,"comment_id":85629911,"body_markdown":"This option doesn&#39;t help. I still see the same error","body":"This option doesn&#39;t help. I still see the same error"}],"tags":[],"owner":{"account_id":911459,"reputation":2140,"user_id":945214,"display_name":"gargkshitiz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521187293,"creation_date":1521102699,"answer_id":49294638,"question_id":49294421,"body_markdown":"Add these in application.properties file in case the request is multipart and tune them as per your need:\r\n\r\nmultipart.maxFileSize=20Mb\r\n\r\nmultipart.maxRequestSize=20Mb\r\n \r\nOtherwise, have a look at this : https://stackoverflow.com/a/3861510/945214 and this: https://stackoverflow.com/a/36899004/945214","title":"HTTP 413 error when using spring boot with Angular 4","body":"<p>Add these in application.properties file in case the request is multipart and tune them as per your need:</p>\n\n<p>multipart.maxFileSize=20Mb</p>\n\n<p>multipart.maxRequestSize=20Mb</p>\n\n<p>Otherwise, have a look at this : <a href=\"https://stackoverflow.com/a/3861510/945214\">https://stackoverflow.com/a/3861510/945214</a> and this: <a href=\"https://stackoverflow.com/a/36899004/945214\">https://stackoverflow.com/a/36899004/945214</a></p>\n"},{"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1521106030,"post_id":49294987,"comment_id":85593395,"body_markdown":"But this question is tagged `jetty`, and the OP said he is using jetty.","body":"But this question is tagged <code>jetty</code>, and the OP said he is using jetty."},{"owner":{"account_id":124358,"reputation":121,"user_id":5620022,"display_name":"Aaron Dsouza"},"score":0,"creation_date":1521181184,"post_id":49294987,"comment_id":85630054,"body_markdown":"That&#39;s right. Also, These options are for requests where the content type is multi-part. My content type is json","body":"That&#39;s right. Also, These options are for requests where the content type is multi-part. My content type is json"}],"tags":[],"owner":{"account_id":7826529,"reputation":25,"user_id":5917896,"display_name":"Raj5198"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521103998,"creation_date":1521103998,"answer_id":49294987,"question_id":49294421,"body_markdown":"spring.http.multipart.max-file-size=200MB&lt;br/&gt;&lt;br/&gt;\r\nspring.http.multipart.max-request-size=200MB&lt;br/&gt;&lt;br/&gt;\r\nThese setting will work when you are running with embedded TOMCAT.\r\n\r\n","title":"HTTP 413 error when using spring boot with Angular 4","body":"<p>spring.http.multipart.max-file-size=200MB<br/><br/>\nspring.http.multipart.max-request-size=200MB<br/><br/>\nThese setting will work when you are running with embedded TOMCAT.</p>\n"},{"tags":[],"owner":{"account_id":1367462,"reputation":1563,"user_id":1303612,"display_name":"jebeaudet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531165843,"creation_date":1531165843,"answer_id":51253044,"question_id":49294421,"body_markdown":"In your example, the `JettyEmbeddedServletContainer` you instantiate in your bean definition is never used, the bean you can override is the `JettyEmbeddedServletContainerFactory`. Have a look at `EmbeddedServletContainerAutoConfiguration.EmbeddedJetty` where the magic happens.\r\n\r\nTo modify the property like you want, you could use the `JettyServerCustomizer` interface : \r\n\r\n    @Bean\r\n    public JettyEmbeddedServletContainerFactory jettyEmbeddedServletContainerFactory() {\r\n        JettyEmbeddedServletContainerFactory factory = new JettyEmbeddedServletContainerFactory();\r\n        factory.addServerCustomizers(server -&gt; server.setAttribute(&quot;org.eclipse.jetty.server.Request.maxFormContentSize&quot;, 20971520));\r\n        return factor;\r\n    }\r\n\r\nor `EmbeddedServletContainerCustomizer` : \r\n\r\n    @Component\r\n    public class FormSizeCustomizer implements EmbeddedServletContainerCustomizer {\r\n        @Override\r\n        public void customize(ConfigurableEmbeddedServletContainer container) {\r\n            JettyEmbeddedServletContainerFactory factory = (JettyEmbeddedServletContainerFactory) container;\r\n            factory.addServerCustomizers(server -&gt; server.setAttribute(&quot;org.eclipse.jetty.server.Request.maxFormContentSize&quot;,\r\n                                                                       20971520));\r\n        }\r\n    }\r\n\r\n\r\n**This limit is only applied to requests with a `application/x-www-form-urlencoded` content type.** To enforce a maximum size on `application/json` requests (or other content types), you&#39;ll need custom code. You can do it by checking the Content-Length header or by wrapping the `ServletInputStream` and enforcing a max size while consuming for chunked requests. \r\n\r\nSource (Joakim is a Jetty developer) : https://stackoverflow.com/questions/49228950/jetty-and-max-content-size","title":"HTTP 413 error when using spring boot with Angular 4","body":"<p>In your example, the <code>JettyEmbeddedServletContainer</code> you instantiate in your bean definition is never used, the bean you can override is the <code>JettyEmbeddedServletContainerFactory</code>. Have a look at <code>EmbeddedServletContainerAutoConfiguration.EmbeddedJetty</code> where the magic happens.</p>\n\n<p>To modify the property like you want, you could use the <code>JettyServerCustomizer</code> interface : </p>\n\n<pre><code>@Bean\npublic JettyEmbeddedServletContainerFactory jettyEmbeddedServletContainerFactory() {\n    JettyEmbeddedServletContainerFactory factory = new JettyEmbeddedServletContainerFactory();\n    factory.addServerCustomizers(server -&gt; server.setAttribute(\"org.eclipse.jetty.server.Request.maxFormContentSize\", 20971520));\n    return factor;\n}\n</code></pre>\n\n<p>or <code>EmbeddedServletContainerCustomizer</code> : </p>\n\n<pre><code>@Component\npublic class FormSizeCustomizer implements EmbeddedServletContainerCustomizer {\n    @Override\n    public void customize(ConfigurableEmbeddedServletContainer container) {\n        JettyEmbeddedServletContainerFactory factory = (JettyEmbeddedServletContainerFactory) container;\n        factory.addServerCustomizers(server -&gt; server.setAttribute(\"org.eclipse.jetty.server.Request.maxFormContentSize\",\n                                                                   20971520));\n    }\n}\n</code></pre>\n\n<p><strong>This limit is only applied to requests with a <code>application/x-www-form-urlencoded</code> content type.</strong> To enforce a maximum size on <code>application/json</code> requests (or other content types), you'll need custom code. You can do it by checking the Content-Length header or by wrapping the <code>ServletInputStream</code> and enforcing a max size while consuming for chunked requests. </p>\n\n<p>Source (Joakim is a Jetty developer) : <a href=\"https://stackoverflow.com/questions/49228950/jetty-and-max-content-size\">Jetty and max content size</a></p>\n"}],"owner":{"account_id":124358,"reputation":121,"user_id":5620022,"display_name":"Aaron Dsouza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694890840,"creation_date":1521101856,"question_id":49294421,"body_markdown":"My system consists of an angular application that communicates with a REST endpoint (POST) in a spring boot application. \r\nSpring boot is configured to use jetty as the embedded server. The angular application has TypeScript code that calls the REST endpoint and sends a json object as payload. The size of the json object will vary from 1 MB to 10 MB based on user selection in the browser.\r\nMy spring boot application runs in an Azure VM that runs Linux (CentOS).\r\nFor certain requests i get the HTTP error 413: Request size is too large.\r\nI did some searches and found 2 mechanisms to tune the spring boot application to overcome this limit.\r\n\r\nOption 1\r\nChange the request size limit in application.properties using this property\r\nserver.jetty.max-http-post-size=20971520 # Maximum size in bytes of the HTTP post or put content.\r\n\r\nOption 2\r\nOverride the jetty maxFormContentSize using some java code in the main application class\r\n\r\n    @Bean\r\n    public JettyEmbeddedServletContainerFactory jettyEmbeddedServletContainerFactory() {\r\n        JettyEmbeddedServletContainerFactory jettyContainer =\r\n                new JettyEmbeddedServletContainerFactory();\r\n        org.springframework.boot.context.embedded.jetty.JettyEmbeddedServletContainer serverContainer = (org.springframework.boot.context.embedded.jetty.JettyEmbeddedServletContainer)jettyContainer.getEmbeddedServletContainer();\r\n        serverContainer.getServer().setAttribute(&quot;org.eclipse.jetty.server.Request.maxFormContentSize&quot;, &quot;20971520&quot;);\r\n        return jettyContainer;\r\n    }\r\n\r\nNone of these options work and I still get the error when certain requests are large.\r\n\r\nIs there a better way to solve this problem? \r\n\r\nNote: I see this error only in the Azure VM environment that runs CentOS. In my machine which runs windows 10, I don&#39;t see this error\r\n\r\nUpdate: I noticed that when the web server is rebooted, the very first request goes through but subsequent requests fail. This suggests that there some buffer or cache at the server which is not getting cleared in time. Is my understanding correct?","title":"HTTP 413 error when using spring boot with Angular 4","body":"<p>My system consists of an angular application that communicates with a REST endpoint (POST) in a spring boot application. \nSpring boot is configured to use jetty as the embedded server. The angular application has TypeScript code that calls the REST endpoint and sends a json object as payload. The size of the json object will vary from 1 MB to 10 MB based on user selection in the browser.\nMy spring boot application runs in an Azure VM that runs Linux (CentOS).\nFor certain requests i get the HTTP error 413: Request size is too large.\nI did some searches and found 2 mechanisms to tune the spring boot application to overcome this limit.</p>\n\n<p>Option 1\nChange the request size limit in application.properties using this property\nserver.jetty.max-http-post-size=20971520 # Maximum size in bytes of the HTTP post or put content.</p>\n\n<p>Option 2\nOverride the jetty maxFormContentSize using some java code in the main application class</p>\n\n<pre><code>@Bean\npublic JettyEmbeddedServletContainerFactory jettyEmbeddedServletContainerFactory() {\n    JettyEmbeddedServletContainerFactory jettyContainer =\n            new JettyEmbeddedServletContainerFactory();\n    org.springframework.boot.context.embedded.jetty.JettyEmbeddedServletContainer serverContainer = (org.springframework.boot.context.embedded.jetty.JettyEmbeddedServletContainer)jettyContainer.getEmbeddedServletContainer();\n    serverContainer.getServer().setAttribute(\"org.eclipse.jetty.server.Request.maxFormContentSize\", \"20971520\");\n    return jettyContainer;\n}\n</code></pre>\n\n<p>None of these options work and I still get the error when certain requests are large.</p>\n\n<p>Is there a better way to solve this problem? </p>\n\n<p>Note: I see this error only in the Azure VM environment that runs CentOS. In my machine which runs windows 10, I don't see this error</p>\n\n<p>Update: I noticed that when the web server is rebooted, the very first request goes through but subsequent requests fail. This suggests that there some buffer or cache at the server which is not getting cleared in time. Is my understanding correct?</p>\n"},{"tags":["java","gmail","jakarta-mail"],"comments":[{"owner":{"account_id":1878548,"reputation":27164,"user_id":1699210,"display_name":"bummi"},"score":0,"creation_date":1414263019,"post_id":21683149,"comment_id":41750998,"body_markdown":"possible duplicate of [Could not connect to SMTP host: smtp.gmail.com, port: 465, response: -1](http://stackoverflow.com/questions/15378133/could-not-connect-to-smtp-host-smtp-gmail-com-port-465-response-1)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/15378133/could-not-connect-to-smtp-host-smtp-gmail-com-port-465-response-1\">Could not connect to SMTP host: smtp.gmail.com, port: 465, response: -1</a>"},{"owner":{"account_id":2646962,"reputation":1172,"user_id":2289441,"accept_rate":67,"display_name":"ftrujillo"},"score":1,"creation_date":1414397695,"post_id":21683149,"comment_id":41782630,"body_markdown":"It is not a duplicate because none of the answers in the question you mention solve my problem. Anyway, thanks for the link","body":"It is not a duplicate because none of the answers in the question you mention solve my problem. Anyway, thanks for the link"}],"answers":[{"comments":[{"owner":{"account_id":2646962,"reputation":1172,"user_id":2289441,"accept_rate":67,"display_name":"ftrujillo"},"score":0,"creation_date":1414397733,"post_id":26565581,"comment_id":41782645,"body_markdown":"Hi, Thanks for your response. I am not using any antivirus at all and I am not sure what is the relation between the SMTP server and the antivirus.","body":"Hi, Thanks for your response. I am not using any antivirus at all and I am not sure what is the relation between the SMTP server and the antivirus."}],"tags":[],"owner":{"account_id":5230782,"reputation":1075,"user_id":4181188,"display_name":"ronIT"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414260646,"creation_date":1414260646,"answer_id":26565581,"question_id":21683149,"body_markdown":"I have been experiencing this issue when debugging using NetBeans, even executing the actual jar file. Antivirus would block sending email. You should temporarily disable your antivirus during debugging or exclude NetBeans and the actual jar file from being scanned. In my case, I&#39;m using Avast. \r\n\r\nSee this link on how to Exclude : [How to Add File/Website Exception into avast! Antivirus 2014][1]\r\n\r\n  [1]: http://www.getavast.net/support/managing-exceptions/\r\n\r\nIt works for me.","title":"javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 465;","body":"<p>I have been experiencing this issue when debugging using NetBeans, even executing the actual jar file. Antivirus would block sending email. You should temporarily disable your antivirus during debugging or exclude NetBeans and the actual jar file from being scanned. In my case, I'm using Avast. </p>\n\n<p>See this link on how to Exclude : <a href=\"http://www.getavast.net/support/managing-exceptions/\" rel=\"nofollow\">How to Add File/Website Exception into avast! Antivirus 2014</a></p>\n\n<p>It works for me.</p>\n"}],"owner":{"account_id":2646962,"reputation":1172,"user_id":2289441,"accept_rate":67,"display_name":"ftrujillo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694890840,"creation_date":1392051019,"question_id":21683149,"body_markdown":"This is the code I am using to send an email:\r\n\r\n    @Override\r\n    public void sendEmail(String from, String to, String subject, String content) {\r\n        //we set the credentials\r\n        final String username = ConfigService.mailUserName;\r\n        final String password = ConfigService.mailPassword;\r\n\r\n        //we set the email properties\r\n        Properties props = new Properties();\r\n        props.put(&quot;mail.smtp.host&quot;, ConfigService.mailHost);\r\n        props.put(&quot;mail.smtp.socketFactory.port&quot;, ConfigService.mailSmtpSocketPort);\r\n        props.put(&quot;mail.smtp.socketFactory.class&quot;,\r\n                  &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;, ConfigService.mailSmtpPort);\r\n\r\n        Session session = Session.getInstance(props,\r\n            new javax.mail.Authenticator() {\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(username, password);\r\n            }\r\n        });\r\n\r\n        try {\r\n            Message message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(from));\r\n            message.setRecipients(Message.RecipientType.TO,\r\n                InternetAddress.parse(to));\r\n            message.setSubject(subject);\r\n            message.setText(content);\r\n\r\n            Transport.send(message);\r\n\r\n            LOG.info(&quot; Email has been sent&quot;);\r\n        } catch (MessagingException e) {\r\n            LOG.error(&quot; Email can not been sent&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nWhen I run this I obtain the next error:\r\n\r\n&gt;javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 465;  \r\n&gt;nested exception is:  \r\n&gt;java.net.ConnectException: Connection refused  \r\n&gt;at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1961)  \r\n&gt;at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:654)\r\n\r\nI have seen [another question](https://stackoverflow.com/questions/15378133/could-not-connect-to-smtp-host-smtp-gmail-com-port-465-response-1) related to this one here, but there is no accepted answer on that question. I can ping to `smtp.gmail.com` and also I can access the gmail account with the credentials.\r\n\r\nThis is running in my machine.\r\n\r\nAny idea what could be the problem?","title":"javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 465;","body":"<p>This is the code I am using to send an email:</p>\n\n<pre><code>@Override\npublic void sendEmail(String from, String to, String subject, String content) {\n    //we set the credentials\n    final String username = ConfigService.mailUserName;\n    final String password = ConfigService.mailPassword;\n\n    //we set the email properties\n    Properties props = new Properties();\n    props.put(\"mail.smtp.host\", ConfigService.mailHost);\n    props.put(\"mail.smtp.socketFactory.port\", ConfigService.mailSmtpSocketPort);\n    props.put(\"mail.smtp.socketFactory.class\",\n              \"javax.net.ssl.SSLSocketFactory\");\n    props.put(\"mail.smtp.auth\", \"true\");\n    props.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n    props.put(\"mail.smtp.port\", ConfigService.mailSmtpPort);\n\n    Session session = Session.getInstance(props,\n        new javax.mail.Authenticator() {\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(username, password);\n        }\n    });\n\n    try {\n        Message message = new MimeMessage(session);\n        message.setFrom(new InternetAddress(from));\n        message.setRecipients(Message.RecipientType.TO,\n            InternetAddress.parse(to));\n        message.setSubject(subject);\n        message.setText(content);\n\n        Transport.send(message);\n\n        LOG.info(\" Email has been sent\");\n    } catch (MessagingException e) {\n        LOG.error(\" Email can not been sent\");\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>When I run this I obtain the next error:</p>\n\n<blockquote>\n  <p>javax.mail.MessagingException: Could not connect to SMTP host: smtp.gmail.com, port: 465;<br>\n  nested exception is:<br>\n  java.net.ConnectException: Connection refused<br>\n  at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1961)<br>\n  at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:654)</p>\n</blockquote>\n\n<p>I have seen <a href=\"https://stackoverflow.com/questions/15378133/could-not-connect-to-smtp-host-smtp-gmail-com-port-465-response-1\">another question</a> related to this one here, but there is no accepted answer on that question. I can ping to <code>smtp.gmail.com</code> and also I can access the gmail account with the credentials.</p>\n\n<p>This is running in my machine.</p>\n\n<p>Any idea what could be the problem?</p>\n"},{"tags":["java","mergesort"],"answers":[{"tags":[],"owner":{"account_id":21751587,"reputation":533,"user_id":16057454,"display_name":"JJY9"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694889500,"creation_date":1694889500,"answer_id":77119101,"question_id":77119070,"body_markdown":"There&#39;s a subtle mistake in your code. In the merge method, you&#39;re using a different index to iterate over arr2 and arr. This is the main cause of your ArrayIndexOutOfBoundsException.\r\n\r\nTo fix the code, note the following points:\r\n\r\nWhen copying from arr to arr2, you should only copy elements from s to e, not the whole array.\r\nThe indices i and j should start from s and mid + 1 respectively for arr2.\r\n\r\nHere&#39;s the corrected version of your merge method:\r\n\r\n```\r\npublic static void merge(int arr[], int s, int mid, int e){\r\n    int arr2[] = new int[arr.length];\r\n    for(int i = s; i &lt;= e; i++){\r\n        arr2[i] = arr[i];\r\n    }\r\n\r\n    int i = s, j = mid + 1, k = s;\r\n\r\n    while(i &lt;= mid &amp;&amp; j &lt;= e){\r\n        if(arr2[i] &lt; arr2[j]) arr[k++] = arr2[i++];\r\n        else arr[k++] = arr2[j++];\r\n    }\r\n\r\n    while(i &lt;= mid) arr[k++] = arr2[i++];\r\n    while(j &lt;= e) arr[k++] = arr2[j++];\r\n}\r\n```","title":"array Index Out Of Bounds Exception in merge sort in java","body":"<p>There's a subtle mistake in your code. In the merge method, you're using a different index to iterate over arr2 and arr. This is the main cause of your ArrayIndexOutOfBoundsException.</p>\n<p>To fix the code, note the following points:</p>\n<p>When copying from arr to arr2, you should only copy elements from s to e, not the whole array.\nThe indices i and j should start from s and mid + 1 respectively for arr2.</p>\n<p>Here's the corrected version of your merge method:</p>\n<pre><code>public static void merge(int arr[], int s, int mid, int e){\n    int arr2[] = new int[arr.length];\n    for(int i = s; i &lt;= e; i++){\n        arr2[i] = arr[i];\n    }\n\n    int i = s, j = mid + 1, k = s;\n\n    while(i &lt;= mid &amp;&amp; j &lt;= e){\n        if(arr2[i] &lt; arr2[j]) arr[k++] = arr2[i++];\n        else arr[k++] = arr2[j++];\n    }\n\n    while(i &lt;= mid) arr[k++] = arr2[i++];\n    while(j &lt;= e) arr[k++] = arr2[j++];\n}\n</code></pre>\n"}],"owner":{"account_id":26453399,"reputation":59,"user_id":20096277,"display_name":"Dhairya Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1694890111,"accepted_answer_id":77119101,"answer_count":1,"score":-1,"last_activity_date":1694889500,"creation_date":1694888961,"question_id":77119070,"body_markdown":"I wrote this code for merge sort in java, where i try to use merge sort using only one auxillary array. But it results in array out of bounds exception. Please help me fix the code for mergeSort with 1 auxillary array.\r\n\r\n```\r\npublic static void mergeSort(int arr[], int s, int e){\r\n\t\tif(s &lt; e){\r\n\t\t\tint mid = s + (e-s)/2;\r\n\r\n\t\t\tmergeSort(arr, s, mid);\r\n\t\t\tmergeSort(arr, mid+1, e);\r\n\r\n\t\t\tmerge(arr, s, mid, e);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void merge(int arr[], int s, int mid, int e){\r\n\t\tint arr2[] = new int[arr.length];\r\n\t\tfor(int i = 0;i &lt;= e; i++){\r\n\t\t\tarr2[i] = arr[i];\r\n\t\t}\r\n\r\n\t\tint i = 0, j = mid+1, k = s;\r\n\r\n\t\twhile(i &lt; mid+1 &amp;&amp; j &lt; e+1){\r\n\t\t\tif(arr2[i] &lt; arr2[j])\tarr[k++] = arr2[i++];\r\n\t\t\telse\tarr[k++] = arr2[j++];\r\n\t\t}\r\n\r\n\t\twhile(i &lt; mid+1)\tarr[k++] = arr2[i++];\r\n\t\twhile(j &lt; e+1)\tarr[k++] = arr2[j++];\r\n\t}\r\n```","title":"array Index Out Of Bounds Exception in merge sort in java","body":"<p>I wrote this code for merge sort in java, where i try to use merge sort using only one auxillary array. But it results in array out of bounds exception. Please help me fix the code for mergeSort with 1 auxillary array.</p>\n<pre><code>public static void mergeSort(int arr[], int s, int e){\n        if(s &lt; e){\n            int mid = s + (e-s)/2;\n\n            mergeSort(arr, s, mid);\n            mergeSort(arr, mid+1, e);\n\n            merge(arr, s, mid, e);\n        }\n    }\n\n    public static void merge(int arr[], int s, int mid, int e){\n        int arr2[] = new int[arr.length];\n        for(int i = 0;i &lt;= e; i++){\n            arr2[i] = arr[i];\n        }\n\n        int i = 0, j = mid+1, k = s;\n\n        while(i &lt; mid+1 &amp;&amp; j &lt; e+1){\n            if(arr2[i] &lt; arr2[j])   arr[k++] = arr2[i++];\n            else    arr[k++] = arr2[j++];\n        }\n\n        while(i &lt; mid+1)    arr[k++] = arr2[i++];\n        while(j &lt; e+1)  arr[k++] = arr2[j++];\n    }\n</code></pre>\n"},{"tags":["java","json","google-maps","google-maps-api-3","javafx"],"answers":[{"comments":[{"owner":{"account_id":4518614,"reputation":29,"user_id":3672646,"accept_rate":88,"display_name":"J2FX"},"score":0,"creation_date":1461779140,"post_id":36882540,"comment_id":61358523,"body_markdown":"This API looks amazing!! thank you very much. I integrated it into my application but am unsure how to use the routing, read quite a bit of the javadoc but as a novice I am struggling with it, it also doesn&#39;t seem to be well documented. The link you sent me shows a map with pin points of all the drivers this is exactly what I need to be able to pinpoint drivers for a taxi firm, and also provide routes.","body":"This API looks amazing!! thank you very much. I integrated it into my application but am unsure how to use the routing, read quite a bit of the javadoc but as a novice I am struggling with it, it also doesn&#39;t seem to be well documented. The link you sent me shows a map with pin points of all the drivers this is exactly what I need to be able to pinpoint drivers for a taxi firm, and also provide routes."},{"owner":{"account_id":4518614,"reputation":29,"user_id":3672646,"accept_rate":88,"display_name":"J2FX"},"score":0,"creation_date":1461822701,"post_id":36882540,"comment_id":61375902,"body_markdown":"Managed to figure this out, it is an excellent bit of kit. thank you so much!","body":"Managed to figure this out, it is an excellent bit of kit. thank you so much!"},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1694797586,"post_id":36882540,"comment_id":135943187,"body_markdown":"https://github.com/dlsc-software-consulting-gmbh/GMapsFX","body":"<a href=\"https://github.com/dlsc-software-consulting-gmbh/GMapsFX\" rel=\"nofollow noreferrer\">github.com/dlsc-software-consulting-gmbh/GMapsFX</a>"}],"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694889254,"creation_date":1461740255,"answer_id":36882540,"question_id":36873319,"body_markdown":"A solution may be to use this JavaFX component\r\n\r\nhttps://github.com/dlsc-software-consulting-gmbh/GMapsFX\r\n\r\ninstead of directly working with JavaScript.","title":"Google Maps API routing for a Java desktop application","body":"<p>A solution may be to use this JavaFX component</p>\n<p><a href=\"https://github.com/dlsc-software-consulting-gmbh/GMapsFX\" rel=\"nofollow noreferrer\">https://github.com/dlsc-software-consulting-gmbh/GMapsFX</a></p>\n<p>instead of directly working with JavaScript.</p>\n"}],"owner":{"account_id":4518614,"reputation":29,"user_id":3672646,"accept_rate":88,"display_name":"J2FX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36882540,"answer_count":1,"score":1,"last_activity_date":1694889254,"creation_date":1461696421,"question_id":36873319,"body_markdown":"I want to have a map integrated into my Java desktop application where I can set an origin and destination and show the route on the map.\r\n\r\nI have signed up to Google Maps API and have received a key, this provided me with the json data of the route but that is not what I need. How would I apply this data to a map in my Java application? \r\nIt does not have to be Googles map, as long as it is a map with the route.\r\n\r\nI have tried using the Google Maps Embed API, but this must only be used in an iFrame. Instead of the map loading the following text is displayed &quot;The Google Maps Embed API must be used in an iframe.&quot;. However if I wrap this in an iFrame and open in a browser I get the desired results.\r\n\r\nAny advise would be useful.\r\n\r\n**Code below**\r\n\r\n     @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        WebEngine browser = mapView.getEngine();\r\n        mapView.getEngine().load(mapPathBuilder(&quot;London&quot;,&quot;Luton&quot;));\r\n    }\r\n\r\n    public String mapPathBuilder(String from, String to){\r\n        String url = &quot;https://www.google.com/maps/embed/v1/directions?key=&quot;;\r\n        String googleAPI = &quot;****************&quot;;\r\n        String origin = &quot;&amp;origin=&quot;;\r\n        String destination = &quot;&amp;destination=&quot;;\r\n        String result = url+googleAPI+origin+from+destination+to;\r\n        return result;\r\n    }\r\n\r\n ","title":"Google Maps API routing for a Java desktop application","body":"<p>I want to have a map integrated into my Java desktop application where I can set an origin and destination and show the route on the map.</p>\n\n<p>I have signed up to Google Maps API and have received a key, this provided me with the json data of the route but that is not what I need. How would I apply this data to a map in my Java application? \nIt does not have to be Googles map, as long as it is a map with the route.</p>\n\n<p>I have tried using the Google Maps Embed API, but this must only be used in an iFrame. Instead of the map loading the following text is displayed \"The Google Maps Embed API must be used in an iframe.\". However if I wrap this in an iFrame and open in a browser I get the desired results.</p>\n\n<p>Any advise would be useful.</p>\n\n<p><strong>Code below</strong></p>\n\n<pre><code> @Override\npublic void initialize(URL location, ResourceBundle resources) {\n    WebEngine browser = mapView.getEngine();\n    mapView.getEngine().load(mapPathBuilder(\"London\",\"Luton\"));\n}\n\npublic String mapPathBuilder(String from, String to){\n    String url = \"https://www.google.com/maps/embed/v1/directions?key=\";\n    String googleAPI = \"****************\";\n    String origin = \"&amp;origin=\";\n    String destination = \"&amp;destination=\";\n    String result = url+googleAPI+origin+from+destination+to;\n    return result;\n}\n</code></pre>\n"},{"tags":["java","list","generics"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1694911299,"post_id":27866943,"comment_id":135953614,"body_markdown":"*&quot; I am unsure how to compare two generics with themselves by using &lt; or &gt;&quot;*  You can&#39;t.","body":"<i>&quot; I am unsure how to compare two generics with themselves by using &lt; or &gt;&quot;</i>  You can&#39;t."}],"answers":[{"comments":[{"owner":{"account_id":4841041,"reputation":967,"user_id":3906077,"accept_rate":71,"display_name":"NhatNienne"},"score":0,"creation_date":1420833366,"post_id":27866970,"comment_id":44138782,"body_markdown":"but i would need to override it am i right?\nI already implemented the comparable interface but wasn&#39;t sure how to use the compareTo properly(read the doc on oracle.com)","body":"but i would need to override it am i right? I already implemented the comparable interface but wasn&#39;t sure how to use the compareTo properly(read the doc on oracle.com)"},{"owner":{"account_id":2201295,"reputation":19001,"user_id":1945631,"display_name":"Andy Brown"},"score":0,"creation_date":1420833922,"post_id":27866970,"comment_id":44139117,"body_markdown":"for your type, implement a meaningful `compareTo` that obeys the rules in the docs. Now if `newItem.compareTo(node)` is `-1, 0 or 1` then `newItem` is: less than (put it on the left); equal to; or greater than (put it on the right) of `node` (in that order).","body":"for your type, implement a meaningful <code>compareTo</code> that obeys the rules in the docs. Now if <code>newItem.compareTo(node)</code> is <code>-1, 0 or 1</code> then <code>newItem</code> is: less than (put it on the left); equal to; or greater than (put it on the right) of <code>node</code> (in that order)."},{"owner":{"account_id":4841041,"reputation":967,"user_id":3906077,"accept_rate":71,"display_name":"NhatNienne"},"score":0,"creation_date":1420836997,"post_id":27866970,"comment_id":44140577,"body_markdown":"but how can i compare my item to the node properly? how can i check in my compareTo method if the key is smaller, equal or greater than the key of the compared node? equal could be done with the equals method? but I don&#39;t know how to do smaller or greater.. can you maybe gimme a hint?","body":"but how can i compare my item to the node properly? how can i check in my compareTo method if the key is smaller, equal or greater than the key of the compared node? equal could be done with the equals method? but I don&#39;t know how to do smaller or greater.. can you maybe gimme a hint?"},{"owner":{"account_id":2201295,"reputation":19001,"user_id":1945631,"display_name":"Andy Brown"},"score":0,"creation_date":1420837977,"post_id":27866970,"comment_id":44141009,"body_markdown":"see my edit. It will depend entirely on your chosen rule for what is less than, equal, or more than.","body":"see my edit. It will depend entirely on your chosen rule for what is less than, equal, or more than."},{"owner":{"account_id":4841041,"reputation":967,"user_id":3906077,"accept_rate":71,"display_name":"NhatNienne"},"score":0,"creation_date":1420838931,"post_id":27866970,"comment_id":44141486,"body_markdown":"well i understand your code (atleast i think) but i think it won&#39;t help me that much :/ first thing is that my key is also a generic so in your first code sample it won&#39;t work again I think because of key not being able to be compared if it is smaller than 0 or greater than 0. (i think you mean if(compareResult &lt; 0) ?) second thing is that I don&#39;t have a size or priority(if it is the same it will be overwriten) my attributes I&#39;m using are my nodes(created via ListCells (ListCell = Node didn&#39;t know the correct name^^)) a key and a value all of the generic type","body":"well i understand your code (atleast i think) but i think it won&#39;t help me that much :/ first thing is that my key is also a generic so in your first code sample it won&#39;t work again I think because of key not being able to be compared if it is smaller than 0 or greater than 0. (i think you mean if(compareResult &lt; 0) ?) second thing is that I don&#39;t have a size or priority(if it is the same it will be overwriten) my attributes I&#39;m using are my nodes(created via ListCells (ListCell = Node didn&#39;t know the correct name^^)) a key and a value all of the generic type"},{"owner":{"account_id":4841041,"reputation":967,"user_id":3906077,"accept_rate":71,"display_name":"NhatNienne"},"score":0,"creation_date":1420839107,"post_id":27866970,"comment_id":44141572,"body_markdown":"another comment because of the number of chars. I got operators for my first node, previous node and for every left,right node of a selected node. I implemented an iterator to iterate over my list with left and right command to go left or right but not sure if this helps checking for the &quot;size&quot;","body":"another comment because of the number of chars. I got operators for my first node, previous node and for every left,right node of a selected node. I implemented an iterator to iterate over my list with left and right command to go left or right but not sure if this helps checking for the &quot;size&quot;"},{"owner":{"account_id":4841041,"reputation":967,"user_id":3906077,"accept_rate":71,"display_name":"NhatNienne"},"score":0,"creation_date":1420839694,"post_id":27866970,"comment_id":44141817,"body_markdown":"http://i.imgur.com/Ctse4NT.png this is how my ordering should be (numbers in the node is the key) 3rd post sorry because I can&#39;t edit the older ones..","body":"<a href=\"http://i.imgur.com/Ctse4NT.png\" rel=\"nofollow noreferrer\">i.imgur.com/Ctse4NT.png</a> this is how my ordering should be (numbers in the node is the key) 3rd post sorry because I can&#39;t edit the older ones.."},{"owner":{"account_id":2201295,"reputation":19001,"user_id":1945631,"display_name":"Andy Brown"},"score":0,"creation_date":1420839743,"post_id":27866970,"comment_id":44141841,"body_markdown":"I think you should ask a new question about how you should implement `compareTo` for your specific class. Questions are &quot;free&quot;, and you&#39;ll get more people looking at it, it will also be focused on that problem instead of your question about operator overloading","body":"I think you should ask a new question about how you should implement <code>compareTo</code> for your specific class. Questions are &quot;free&quot;, and you&#39;ll get more people looking at it, it will also be focused on that problem instead of your question about operator overloading"}],"tags":[],"owner":{"account_id":2201295,"reputation":19001,"user_id":1945631,"display_name":"Andy Brown"},"comment_count":8,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1420837958,"creation_date":1420828337,"answer_id":27866970,"question_id":27866943,"body_markdown":"You would need to ensure that your generic type implemented the [`Comparable`][1] interface, and then use the `compareTo` method instead. Java does not support overloading the `&gt;` operator (or any operator overloading, for that matter).\r\n\r\nAs per [the documents][2], `compareTo`:\r\n\r\n&gt;  Returns a negative integer, zero, or a positive integer as this object is less than, equal to, or greater than the specified object. \r\n\r\nAn example (that you&#39;ll have to map on to your exact code), assuming that `key` is your item you will store in your node, and `checkCell.key` is your node\r\n\r\n    int compareResult = key.compareTo(checkCell.key);\r\n    if (key &lt; 0) { // it goes on the left }\r\n    else if (key == 0) { // it is the same }\r\n    else { // it goes on the right }\r\n\r\nIn your `compareTo` method you need to decide what fields in your class determine it&#39;s &quot;ordering&quot;. For example, if you have a `size` and `priority` field, you might do:\r\n\r\n    @Override public int compareTo(Type other) {\r\n      final int BEFORE = -1;\r\n      final int EQUAL = 0;\r\n      final int AFTER = 1;\r\n    \r\n      if (this == other) return EQUAL;\r\n    \r\n      if (this.size &lt; other.size) return BEFORE;\r\n      else if (this.size &gt; other.size) return AFTER;\r\n      else { // size is equal, so test priority\r\n        if (this.priority &lt; other.priority) return BEFORE;\r\n        else if (this.priority &gt; other.priority) return AFTER;\r\n      }\r\n      return EQUAL;\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html#compareTo(T)","title":"comparing two generic objects if the one is &quot;greater&quot; or &quot;smaller&quot;","body":"<p>You would need to ensure that your generic type implemented the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> interface, and then use the <code>compareTo</code> method instead. Java does not support overloading the <code>&gt;</code> operator (or any operator overloading, for that matter).</p>\n\n<p>As per <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\">the documents</a>, <code>compareTo</code>:</p>\n\n<blockquote>\n  <p>Returns a negative integer, zero, or a positive integer as this object is less than, equal to, or greater than the specified object. </p>\n</blockquote>\n\n<p>An example (that you'll have to map on to your exact code), assuming that <code>key</code> is your item you will store in your node, and <code>checkCell.key</code> is your node</p>\n\n<pre><code>int compareResult = key.compareTo(checkCell.key);\nif (key &lt; 0) { // it goes on the left }\nelse if (key == 0) { // it is the same }\nelse { // it goes on the right }\n</code></pre>\n\n<p>In your <code>compareTo</code> method you need to decide what fields in your class determine it's \"ordering\". For example, if you have a <code>size</code> and <code>priority</code> field, you might do:</p>\n\n<pre><code>@Override public int compareTo(Type other) {\n  final int BEFORE = -1;\n  final int EQUAL = 0;\n  final int AFTER = 1;\n\n  if (this == other) return EQUAL;\n\n  if (this.size &lt; other.size) return BEFORE;\n  else if (this.size &gt; other.size) return AFTER;\n  else { // size is equal, so test priority\n    if (this.priority &lt; other.priority) return BEFORE;\n    else if (this.priority &gt; other.priority) return AFTER;\n  }\n  return EQUAL;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":436243,"reputation":10300,"user_id":823282,"accept_rate":88,"display_name":"activedecay"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1450701118,"creation_date":1450229063,"answer_id":34302500,"question_id":27866943,"body_markdown":"Bounded type parameters are key to the implementation of generic algorithms. Consider the following method that counts the number of elements in an array T[] that are greater than a specified element elem.\r\n\r\n    public static &lt;T&gt; int countGreaterThan(T[] anArray, T elem) {\r\n        int count = 0;\r\n        for (T e : anArray)\r\n            if (e &gt; elem)  // compiler error\r\n                ++count;\r\n        return count;\r\n    }\r\n\r\nThe implementation of the method is straightforward, but it does not compile because the greater than operator (&gt;) applies only to primitive types such as short, int, double, long, float, byte, and char. You cannot use the &gt; operator to compare objects. To fix the problem, use a type parameter bounded by the `Comparable&lt;T&gt;` interface:\r\n\r\n    public interface Comparable&lt;T&gt; {\r\n        public int compareTo(T o);\r\n    }\r\n\r\nThe resulting code will be:\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; int countGreaterThan(T[] anArray, T elem) {\r\n        int count = 0;\r\n        for (T e : anArray)\r\n            if (e.compareTo(elem) &gt; 0)\r\n                ++count;\r\n        return count;\r\n    }\r\n\r\n[bounded type parameters][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/boundedTypeParams.html","title":"comparing two generic objects if the one is &quot;greater&quot; or &quot;smaller&quot;","body":"<p>Bounded type parameters are key to the implementation of generic algorithms. Consider the following method that counts the number of elements in an array T[] that are greater than a specified element elem.</p>\n\n<pre><code>public static &lt;T&gt; int countGreaterThan(T[] anArray, T elem) {\n    int count = 0;\n    for (T e : anArray)\n        if (e &gt; elem)  // compiler error\n            ++count;\n    return count;\n}\n</code></pre>\n\n<p>The implementation of the method is straightforward, but it does not compile because the greater than operator (>) applies only to primitive types such as short, int, double, long, float, byte, and char. You cannot use the > operator to compare objects. To fix the problem, use a type parameter bounded by the <code>Comparable&lt;T&gt;</code> interface:</p>\n\n<pre><code>public interface Comparable&lt;T&gt; {\n    public int compareTo(T o);\n}\n</code></pre>\n\n<p>The resulting code will be:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; int countGreaterThan(T[] anArray, T elem) {\n    int count = 0;\n    for (T e : anArray)\n        if (e.compareTo(elem) &gt; 0)\n            ++count;\n    return count;\n}\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/boundedTypeParams.html\" rel=\"noreferrer\">bounded type parameters</a></p>\n"}],"owner":{"account_id":4841041,"reputation":967,"user_id":3906077,"accept_rate":71,"display_name":"NhatNienne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26304,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1694888327,"creation_date":1420828238,"question_id":27866943,"body_markdown":"I want to generate a binary tree with key-value pairs in their nodes.\r\n\r\nIn my binary tree I want to implement nodes at the beginning with an `insert` method, which implements a new left node if the key is smaller than the key of the current node. Then if there is already a left node it will check again for it. The same logic follows for right/greater node inserts. \r\n\r\nI wrote my code first using the `int` type because it&#39;s way easier for me to test my code before I use generics (new topic for me). It worked when using `int` but I am unsure how to compare two generics with themselves by using `&lt;` or `&gt;`.\r\n\r\n    public ListCell&lt;Type&gt; checkKey(Type key, ListCell&lt;Type&gt; checkCell) {\r\n        ListCell&lt;Type&gt; newCell = null;\r\n        if (key &lt; checkCell.key &amp;&amp; checkCell.left != null) {\r\n            ...\r\n        }\r\n        ...\r\n    }\r\n\r\nI don&#39;t know if it&#39;s worth saying but I&#39;m creating my binary tree with a self-coded list.\r\nAbove you can see my current checks but I can&#39;t compare my given key now with `checkCell.key` because of them not being numbers.\r\n\r\nSo how can I compare the keys in generics if they are &quot;smaller&quot; or &quot;greater&quot; than the other for my implementation in a binary tree?","title":"comparing two generic objects if the one is &quot;greater&quot; or &quot;smaller&quot;","body":"<p>I want to generate a binary tree with key-value pairs in their nodes.</p>\n<p>In my binary tree I want to implement nodes at the beginning with an <code>insert</code> method, which implements a new left node if the key is smaller than the key of the current node. Then if there is already a left node it will check again for it. The same logic follows for right/greater node inserts.</p>\n<p>I wrote my code first using the <code>int</code> type because it's way easier for me to test my code before I use generics (new topic for me). It worked when using <code>int</code> but I am unsure how to compare two generics with themselves by using <code>&lt;</code> or <code>&gt;</code>.</p>\n<pre><code>public ListCell&lt;Type&gt; checkKey(Type key, ListCell&lt;Type&gt; checkCell) {\n    ListCell&lt;Type&gt; newCell = null;\n    if (key &lt; checkCell.key &amp;&amp; checkCell.left != null) {\n        ...\n    }\n    ...\n}\n</code></pre>\n<p>I don't know if it's worth saying but I'm creating my binary tree with a self-coded list.\nAbove you can see my current checks but I can't compare my given key now with <code>checkCell.key</code> because of them not being numbers.</p>\n<p>So how can I compare the keys in generics if they are &quot;smaller&quot; or &quot;greater&quot; than the other for my implementation in a binary tree?</p>\n"},{"tags":["java","android"],"owner":{"account_id":29461321,"reputation":1,"user_id":22576034,"display_name":"Barog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694887912,"creation_date":1694887912,"question_id":77119009,"body_markdown":"I have integrated yandex ads sdk into my application and then initialized the SDK in my main activity. I&#39;m using this code at the end to run my app:\r\n\r\n```\r\n// Set by content src=&quot;index.html&quot; in config.xml\r\nloadUrl(launchUrl);\r\n```\r\n\r\nThe problem is that the game starts, but the ads are not shown. When I remove loadUrl(launchUrl), the application opens with an ad banner. I don’t use an XML file, I create a banner programmatically.\r\n\r\nCan anyone help me what am I missing? I would really appreciate any help.\r\nHere is the Main Activity java file:\r\n```\r\nimport android.annotation.SuppressLint;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.RelativeLayout;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport com.yandex.mobile.ads.banner.BannerAdEventListener;\r\nimport com.yandex.mobile.ads.banner.BannerAdSize;\r\nimport com.yandex.mobile.ads.banner.BannerAdView;\r\nimport com.yandex.mobile.ads.common.AdRequest;\r\nimport com.yandex.mobile.ads.common.AdRequestError;\r\nimport com.yandex.mobile.ads.common.ImpressionData;\r\nimport com.yandex.mobile.ads.common.MobileAds;\r\n\r\nimport org.apache.cordova.*;\r\n\r\npublic class MainActivity extends CordovaActivity\r\n{\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        MobileAds.initialize(this, () -&gt; {\r\n            // now you can use ads\r\n            Log.d(&quot;my log&quot; ,&quot;ini&quot;);\r\n        });\r\n\r\n        RelativeLayout layout = new RelativeLayout(this);\r\n        RelativeLayout.LayoutParams adParams = new RelativeLayout.LayoutParams(\r\n                RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n                RelativeLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        adParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\r\n\r\n        // Create a banner ad\r\n        final BannerAdView bannerAd = new BannerAdView(this);\r\n        bannerAd.setAdSize(BannerAdSize.stickySize(this, 600));\r\n        bannerAd.setAdUnitId(&quot;demo-banner-yandex&quot;);\r\n        bannerAd.setBackgroundColor(Color.TRANSPARENT);\r\n\r\n        final AdRequest adRequest = new AdRequest.Builder()\r\n                // Methods in the AdRequest.Builder class can be used here to specify individual options settings.\r\n                .build();\r\n        \r\n        layout.addView(bannerAd, adParams);\r\n        bannerAd.loadAd(adRequest);\r\n        setContentView(layout);\r\n\r\n        bannerAd.setBannerAdEventListener(new BannerAdEventListener() {\r\n            @Override\r\n            public void onAdLoaded() {\r\n                Log.d(&quot;my log&quot;, &quot;Yandex ADS Loaded&quot;);\r\n                // If this callback occurs after the activity is destroyed, you\r\n                // must call destroy and return or you may get a memory leak.\r\n                // Note `isDestroyed` is a method on Activity.\r\n                if (isDestroyed() &amp;&amp; bannerAd != null) {\r\n                    bannerAd.destroy();\r\n                }\r\n            }\r\n            @Override\r\n            public void onAdFailedToLoad(@NonNull final AdRequestError adRequestError) {\r\n                // Ad failed to load with AdRequestError.\r\n                Log.d(&quot;my log&quot;, &quot;Yandex ADS ERROR&quot;);\r\n                // Attempting to load a new ad from the onAdFailedToLoad() method is strongly discouraged.\r\n            }\r\n\r\n            @Override\r\n            public void onAdClicked() {\r\n                // Called when a click is recorded for an ad.\r\n            }\r\n\r\n            @Override\r\n            public void onLeftApplication() {\r\n                // Called when user is about to leave application (e.g., to go to the browser), as a result of clicking on the ad.\r\n            }\r\n\r\n            @Override\r\n            public void onReturnedToApplication() {\r\n                // Called when user returned to application after click.\r\n            }\r\n\r\n            @Override\r\n            public void onImpression(@Nullable ImpressionData impressionData) {\r\n                // Called when an impression is recorded for an ad.\r\n            }\r\n        });\r\n        // enable Cordova apps to be started in the background\r\n        Bundle extras = getIntent().getExtras();\r\n        if (extras != null &amp;&amp; extras.getBoolean(&quot;cdvStartInBackground&quot;, false)) {\r\n            moveTaskToBack(true);\r\n        }\r\n\r\n        // Set by &lt;content src=&quot;index.html&quot; /&gt; in config.xml\r\n        loadUrl(launchUrl);\r\n    }\r\n}\r\n```\r\n\r\nI also tried to show the banner via XML file, but the result is the same.","title":"Integrating ads into an android game using Android Studio","body":"<p>I have integrated yandex ads sdk into my application and then initialized the SDK in my main activity. I'm using this code at the end to run my app:</p>\n<pre><code>// Set by content src=&quot;index.html&quot; in config.xml\nloadUrl(launchUrl);\n</code></pre>\n<p>The problem is that the game starts, but the ads are not shown. When I remove loadUrl(launchUrl), the application opens with an ad banner. I don’t use an XML file, I create a banner programmatically.</p>\n<p>Can anyone help me what am I missing? I would really appreciate any help.\nHere is the Main Activity java file:</p>\n<pre><code>import android.annotation.SuppressLint;\nimport android.graphics.Color;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.RelativeLayout;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport com.yandex.mobile.ads.banner.BannerAdEventListener;\nimport com.yandex.mobile.ads.banner.BannerAdSize;\nimport com.yandex.mobile.ads.banner.BannerAdView;\nimport com.yandex.mobile.ads.common.AdRequest;\nimport com.yandex.mobile.ads.common.AdRequestError;\nimport com.yandex.mobile.ads.common.ImpressionData;\nimport com.yandex.mobile.ads.common.MobileAds;\n\nimport org.apache.cordova.*;\n\npublic class MainActivity extends CordovaActivity\n{\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        MobileAds.initialize(this, () -&gt; {\n            // now you can use ads\n            Log.d(&quot;my log&quot; ,&quot;ini&quot;);\n        });\n\n        RelativeLayout layout = new RelativeLayout(this);\n        RelativeLayout.LayoutParams adParams = new RelativeLayout.LayoutParams(\n                RelativeLayout.LayoutParams.WRAP_CONTENT,\n                RelativeLayout.LayoutParams.WRAP_CONTENT\n        );\n        adParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\n\n        // Create a banner ad\n        final BannerAdView bannerAd = new BannerAdView(this);\n        bannerAd.setAdSize(BannerAdSize.stickySize(this, 600));\n        bannerAd.setAdUnitId(&quot;demo-banner-yandex&quot;);\n        bannerAd.setBackgroundColor(Color.TRANSPARENT);\n\n        final AdRequest adRequest = new AdRequest.Builder()\n                // Methods in the AdRequest.Builder class can be used here to specify individual options settings.\n                .build();\n        \n        layout.addView(bannerAd, adParams);\n        bannerAd.loadAd(adRequest);\n        setContentView(layout);\n\n        bannerAd.setBannerAdEventListener(new BannerAdEventListener() {\n            @Override\n            public void onAdLoaded() {\n                Log.d(&quot;my log&quot;, &quot;Yandex ADS Loaded&quot;);\n                // If this callback occurs after the activity is destroyed, you\n                // must call destroy and return or you may get a memory leak.\n                // Note `isDestroyed` is a method on Activity.\n                if (isDestroyed() &amp;&amp; bannerAd != null) {\n                    bannerAd.destroy();\n                }\n            }\n            @Override\n            public void onAdFailedToLoad(@NonNull final AdRequestError adRequestError) {\n                // Ad failed to load with AdRequestError.\n                Log.d(&quot;my log&quot;, &quot;Yandex ADS ERROR&quot;);\n                // Attempting to load a new ad from the onAdFailedToLoad() method is strongly discouraged.\n            }\n\n            @Override\n            public void onAdClicked() {\n                // Called when a click is recorded for an ad.\n            }\n\n            @Override\n            public void onLeftApplication() {\n                // Called when user is about to leave application (e.g., to go to the browser), as a result of clicking on the ad.\n            }\n\n            @Override\n            public void onReturnedToApplication() {\n                // Called when user returned to application after click.\n            }\n\n            @Override\n            public void onImpression(@Nullable ImpressionData impressionData) {\n                // Called when an impression is recorded for an ad.\n            }\n        });\n        // enable Cordova apps to be started in the background\n        Bundle extras = getIntent().getExtras();\n        if (extras != null &amp;&amp; extras.getBoolean(&quot;cdvStartInBackground&quot;, false)) {\n            moveTaskToBack(true);\n        }\n\n        // Set by &lt;content src=&quot;index.html&quot; /&gt; in config.xml\n        loadUrl(launchUrl);\n    }\n}\n</code></pre>\n<p>I also tried to show the banner via XML file, but the result is the same.</p>\n"},{"tags":["java","swing","game-physics"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1681835754,"post_id":76046728,"comment_id":134119654,"body_markdown":"For a 1D situation, `if (accelerating)` would be better served by something like `if (acceleration &gt; 0)`. Same for decelerating: `if (acceleration &lt; 0)`. Further, your `deaccelerating` is only ever set to `true` in one place: the `if(rateOfVelocity &gt;= max || !accelerating){` block. The `!accelerating` is always `false`, so that leaves `rateOfVelocity &gt;= max`. Note that the loop before will only run once _ever_ (`loopedOnce` is never set to `false`), so the preceeding code will only change `rateOfVelocity` from `0.125` to `0.25` once _ever_. The end lesson: Use a debugger.","body":"For a 1D situation, <code>if (accelerating)</code> would be better served by something like <code>if (acceleration &gt; 0)</code>. Same for decelerating: <code>if (acceleration &lt; 0)</code>. Further, your <code>deaccelerating</code> is only ever set to <code>true</code> in one place: the <code>if(rateOfVelocity &gt;= max || !accelerating){</code> block. The <code>!accelerating</code> is always <code>false</code>, so that leaves <code>rateOfVelocity &gt;= max</code>. Note that the loop before will only run once <i>ever</i> (<code>loopedOnce</code> is never set to <code>false</code>), so the preceeding code will only change <code>rateOfVelocity</code> from <code>0.125</code> to <code>0.25</code> once <i>ever</i>. The end lesson: Use a debugger."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681837325,"post_id":76046728,"comment_id":134120005,"body_markdown":"Notihing to do with your question, but: 1) NEVER use `dispose()` on a Graphics object passed to the paintComponent(...) method. Only dispose of object that you create. 2) All Swing components should be created on the EDT. The the frame and your LAF should all be done in the invokeLater()","body":"Notihing to do with your question, but: 1) NEVER use <code>dispose()</code> on a Graphics object passed to the paintComponent(...) method. Only dispose of object that you create. 2) All Swing components should be created on the EDT. The the frame and your LAF should all be done in the invokeLater()"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1681837378,"post_id":76046728,"comment_id":134120015,"body_markdown":"@Rogue does using the Coverage option in Eclipse count?","body":"@Rogue does using the Coverage option in Eclipse count?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1681837565,"post_id":76046728,"comment_id":134120060,"body_markdown":"Coverage utilities tell you if you have dead code, using a debugger tells you how the code behaves (and provides fine-tuned control over the execution of it). So no, they&#39;re nowhere near equivalent. A debugger will let you pause your running code at a specific line, look at the values held in variables, and make a determination for the behavior you observe (e.g. how an `if` statement isn&#39;t being called).","body":"Coverage utilities tell you if you have dead code, using a debugger tells you how the code behaves (and provides fine-tuned control over the execution of it). So no, they&#39;re nowhere near equivalent. A debugger will let you pause your running code at a specific line, look at the values held in variables, and make a determination for the behavior you observe (e.g. how an <code>if</code> statement isn&#39;t being called)."}],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694887293,"creation_date":1681833499,"question_id":76046728,"body_markdown":"I&#39;ve made a physics engine which contains acceleration, but when I try to make the object stop, it neither slows down or stops. It seems that the `if(deaccelerating) {...` never gets executed, I&#39;ve tried a lot of methods, but none of them ever worked...\r\n\r\n```\r\npublic class Acceleration {\r\n\t\r\n\tpublic float rateOfVelocity = 0.125f;\r\n\tpublic float rateOfAcceleration = 2;\r\n\t\r\n\tpublic int alternateRateOfVelocity = 1;\r\n\tpublic int alternateRateOfAcceleration = 2;\r\n\r\n\tpublic boolean accelerating;\r\n\tpublic boolean deaccelerating;\r\n\t\r\n\tpublic boolean alternateAccelerating;\r\n\tpublic boolean alternateDeaccelerating;\r\n\t\r\n\tpublic boolean loopedOnce;\r\n\t\r\n\tpublic void accelerate(float max, float min) {\r\n\t\tif(accelerating) {\r\n\t\t\tif(rateOfVelocity &lt; max) {\r\n\t\t\t\twhile(rateOfVelocity &lt; max &amp;&amp; !loopedOnce) {\r\n\t\t\t\t\trateOfVelocity*=rateOfAcceleration;\r\n\t\t\t\t\tSystem.out.println(&quot;:)&quot;);\r\n\t\t\t\t\tloopedOnce=true;\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(rateOfVelocity &gt;= max || !accelerating){\r\n\t\t\t\tdeaccelerating=true;\r\n\t\t\t\tSystem.out.println(deaccelerating);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(deaccelerating) {\r\n\t\t\tif(rateOfVelocity &gt; min) {\r\n\t\t\t\twhile(rateOfVelocity &lt; min &amp;&amp; !loopedOnce) {\r\n\t\t\t\t\trateOfVelocity/=rateOfAcceleration;\r\n\t\t\t\t\tloopedOnce=true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\telse if(rateOfVelocity &lt;= min) {\r\n\t\t\t\tdeaccelerating=false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tpublic void alternateAccelerate(float max, float min) {\r\n\t\tif(alternateAccelerating) {\r\n\t\t\tif(alternateRateOfVelocity &lt; max) {\r\n\t\t\t\twhile(alternateRateOfVelocity &lt; max &amp;&amp; !loopedOnce) {\r\n\t\t\t\t\talternateRateOfVelocity*=rateOfAcceleration;\r\n\t\t\t\t\tloopedOnce=true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(alternateDeaccelerating) {\r\n\t\t\twhile(rateOfVelocity &gt; min &amp;&amp; !loopedOnce) {\r\n\t\t\t\talternateRateOfVelocity/=alternateRateOfAcceleration;\r\n\t\t\t\tloopedOnce=true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nThe physics gets used here-\r\n```\r\npublic class DisplayContents extends JPanel implements Runnable{\r\n\tThread run;\r\n\tAcceleration a = new Acceleration();\r\n\r\n\tfloat x=0,y=0;\r\n\tpublic boolean updateSpeed;\r\n\t\r\n\tpublic void startThread() {\r\n\t\trun = new Thread(this);\r\n\t\trun.start();\r\n\t}\r\n\tpublic DisplayContents() {\r\n\t\t\r\n\t\tthis.setBackground(Color.DARK_GRAY);\r\n\t\tthis.setDoubleBuffered(true);\r\n\t\tthis.setFocusable(true);\r\n\t\tthis.addKeyListener(new KeyListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\tif(e.getKeyCode()==KeyEvent.VK_D) {\r\n\t\t\t\t\ta.accelerating=true;\r\n\t\t\t\t\tupdateSpeed=true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\t\tif(e.getKeyCode()==KeyEvent.VK_D) {\r\n\t\t\t\t\ta.accelerating=false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void keyTyped(KeyEvent e) {}\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D draw = (Graphics2D) g;\r\n\t\tdraw.setColor(Color.WHITE);\r\n\t\tdraw.fillRect((int)x, 0, 100, 100);\r\n\t\tdraw.dispose();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tboolean loopedOnce = false;\r\n\t\twhile(run != null) {\r\n\t\t\trepaint();\r\n\t\t\ta.accelerate(4, 0.125f);\r\n\t\t\ta.loopedOnce=false;\r\n\t\t\twhile(updateSpeed&amp;&amp;!loopedOnce) {\r\n\t\t\t\tx+=a.rateOfVelocity;\r\n\t\t\t\tloopedOnce=true;\r\n\t\t\t}\r\n\t\t\tloopedOnce=false;\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(500);\r\n\t\t\t} catch (InterruptedException e) {e.printStackTrace();}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n**NOTE**: I can&#39;t provide a Minimal Reproducable Example, as most of this is important code.","title":"Acceleration physics in Java does not slow down or stop","body":"<p>I've made a physics engine which contains acceleration, but when I try to make the object stop, it neither slows down or stops. It seems that the <code>if(deaccelerating) {...</code> never gets executed, I've tried a lot of methods, but none of them ever worked...</p>\n<pre><code>public class Acceleration {\n    \n    public float rateOfVelocity = 0.125f;\n    public float rateOfAcceleration = 2;\n    \n    public int alternateRateOfVelocity = 1;\n    public int alternateRateOfAcceleration = 2;\n\n    public boolean accelerating;\n    public boolean deaccelerating;\n    \n    public boolean alternateAccelerating;\n    public boolean alternateDeaccelerating;\n    \n    public boolean loopedOnce;\n    \n    public void accelerate(float max, float min) {\n        if(accelerating) {\n            if(rateOfVelocity &lt; max) {\n                while(rateOfVelocity &lt; max &amp;&amp; !loopedOnce) {\n                    rateOfVelocity*=rateOfAcceleration;\n                    System.out.println(&quot;:)&quot;);\n                    loopedOnce=true;                \n                }\n            }\n            if(rateOfVelocity &gt;= max || !accelerating){\n                deaccelerating=true;\n                System.out.println(deaccelerating);\n            }\n        }\n        if(deaccelerating) {\n            if(rateOfVelocity &gt; min) {\n                while(rateOfVelocity &lt; min &amp;&amp; !loopedOnce) {\n                    rateOfVelocity/=rateOfAcceleration;\n                    loopedOnce=true;\n                }\n            }\n        else if(rateOfVelocity &lt;= min) {\n                deaccelerating=false;\n            }\n        }\n    }\n    public void alternateAccelerate(float max, float min) {\n        if(alternateAccelerating) {\n            if(alternateRateOfVelocity &lt; max) {\n                while(alternateRateOfVelocity &lt; max &amp;&amp; !loopedOnce) {\n                    alternateRateOfVelocity*=rateOfAcceleration;\n                    loopedOnce=true;\n                }\n            }\n        }\n        else if(alternateDeaccelerating) {\n            while(rateOfVelocity &gt; min &amp;&amp; !loopedOnce) {\n                alternateRateOfVelocity/=alternateRateOfAcceleration;\n                loopedOnce=true;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The physics gets used here-</p>\n<pre><code>public class DisplayContents extends JPanel implements Runnable{\n    Thread run;\n    Acceleration a = new Acceleration();\n\n    float x=0,y=0;\n    public boolean updateSpeed;\n    \n    public void startThread() {\n        run = new Thread(this);\n        run.start();\n    }\n    public DisplayContents() {\n        \n        this.setBackground(Color.DARK_GRAY);\n        this.setDoubleBuffered(true);\n        this.setFocusable(true);\n        this.addKeyListener(new KeyListener() {\n            \n            @Override\n            public void keyPressed(KeyEvent e) {\n                if(e.getKeyCode()==KeyEvent.VK_D) {\n                    a.accelerating=true;\n                    updateSpeed=true;\n                }\n            }\n\n            @Override\n            public void keyReleased(KeyEvent e) {\n                if(e.getKeyCode()==KeyEvent.VK_D) {\n                    a.accelerating=false;\n                }\n            }\n            @Override\n            public void keyTyped(KeyEvent e) {}\n            });\n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D draw = (Graphics2D) g;\n        draw.setColor(Color.WHITE);\n        draw.fillRect((int)x, 0, 100, 100);\n        draw.dispose();\n    }\n\n    @Override\n    public void run() {\n        boolean loopedOnce = false;\n        while(run != null) {\n            repaint();\n            a.accelerate(4, 0.125f);\n            a.loopedOnce=false;\n            while(updateSpeed&amp;&amp;!loopedOnce) {\n                x+=a.rateOfVelocity;\n                loopedOnce=true;\n            }\n            loopedOnce=false;\n            try {\n                Thread.sleep(500);\n            } catch (InterruptedException e) {e.printStackTrace();}\n        }\n    }\n}\n</code></pre>\n<p><strong>NOTE</strong>: I can't provide a Minimal Reproducable Example, as most of this is important code.</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":1,"creation_date":1694869944,"post_id":77117860,"comment_id":135949729,"body_markdown":"Where is the `Dog` class?","body":"Where is the <code>Dog</code> class?"}],"answers":[{"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694869808,"post_id":77117869,"comment_id":135949718,"body_markdown":"*&quot;and the file that contains it should be named `Dog.java`&quot;* Or you could create a file `Main.java`, create a public `Main` class and use the package modifier for the `Dog` class  where `Main` contains the main method which would work well in simple programs like these :&gt;","body":"<i>&quot;and the file that contains it should be named <code>Dog.java</code>&quot;</i> Or you could create a file <code>Main.java</code>, create a public <code>Main</code> class and use the package modifier for the <code>Dog</code> class  where <code>Main</code> contains the main method which would work well in simple programs like these :&gt;"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694869182,"creation_date":1694869182,"answer_id":77117869,"question_id":77117860,"body_markdown":"`public class Classes_2 {` should be `public class Dog {` (and the file that contains it should be named `Dog.java`). You can&#39;t put a `Dog` constructor in a class that isn&#39;t named `Dog`.","title":"Program prints cannot be resolved to a type error","body":"<p><code>public class Classes_2 {</code> should be <code>public class Dog {</code> (and the file that contains it should be named <code>Dog.java</code>). You can't put a <code>Dog</code> constructor in a class that isn't named <code>Dog</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694886947,"creation_date":1694886947,"answer_id":77118950,"question_id":77117860,"body_markdown":"&gt; _&quot;Program prints cannot be resolved to a type error ...&quot;_\r\n\r\nThis is because the class is named _Classes_2_, rather than _Dog_.\r\n\r\nIf you change this, it runs.&amp;nbsp; Here is the output.\r\n\r\n```none\r\nSo I think my name is Peter and my age is 213123\r\n```\r\n\r\nHere is the _Java_ tutorial on creating _class_ objects.\r\n- _[Lesson: Classes and Objects (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language)](https://docs.oracle.com/javase/tutorial/java/javaOO/index.html)_","title":"Program prints cannot be resolved to a type error","body":"<blockquote>\n<p><em>&quot;Program prints cannot be resolved to a type error ...&quot;</em></p>\n</blockquote>\n<p>This is because the class is named <em>Classes_2</em>, rather than <em>Dog</em>.</p>\n<p>If you change this, it runs.  Here is the output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>So I think my name is Peter and my age is 213123\n</code></pre>\n<p>Here is the <em>Java</em> tutorial on creating <em>class</em> objects.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/index.html\" rel=\"nofollow noreferrer\">Lesson: Classes and Objects (The Java™ Tutorials &gt; Learning the Java Language)</a></em></li>\n</ul>\n"}],"owner":{"account_id":23419938,"reputation":11,"user_id":22236533,"display_name":"Nox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694886947,"creation_date":1694869025,"question_id":77117860,"body_markdown":"I want to create a program about dogs that use 2 arguments (name and age) and prints the result.I have created 2 java folders , one of them includes arguments and prints the result , inside of the second I just print the arguments and run the first.\r\n\r\nFirst java file \r\n\r\n    public static void main(String [] args){\r\n        Dog new_item = new Dog(&quot;Peter&quot; , 213123);\r\n        new_item.speak();\r\n    \r\n    }\r\n\r\nSecond java file\r\n\r\n    public class Classes_2 {\r\n        private String name;\r\n        private int age;\r\n\r\n        public Dog(String name , int age){\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n        public void speak(){\r\n            System.out.println(&quot;So I think my name is &quot; + this.name + &quot; and my age is &quot; + this.age);\r\n        }","title":"Program prints cannot be resolved to a type error","body":"<p>I want to create a program about dogs that use 2 arguments (name and age) and prints the result.I have created 2 java folders , one of them includes arguments and prints the result , inside of the second I just print the arguments and run the first.</p>\n<p>First java file</p>\n<pre><code>public static void main(String [] args){\n    Dog new_item = new Dog(&quot;Peter&quot; , 213123);\n    new_item.speak();\n\n}\n</code></pre>\n<p>Second java file</p>\n<pre><code>public class Classes_2 {\n    private String name;\n    private int age;\n\n    public Dog(String name , int age){\n        this.name = name;\n        this.age = age;\n    }\n    public void speak(){\n        System.out.println(&quot;So I think my name is &quot; + this.name + &quot; and my age is &quot; + this.age);\n    }\n</code></pre>\n"},{"tags":["java","jshell"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694887377,"post_id":77118768,"comment_id":135951683,"body_markdown":"`PrintStream printf()` compared to `void println()` - first one returns a `PrintStream`, second does not return anything","body":"<code>PrintStream printf()</code> compared to <code>void println()</code> - first one returns a <code>PrintStream</code>, second does not return anything"}],"answers":[{"tags":[],"owner":{"account_id":29120678,"reputation":301,"user_id":22308196,"display_name":"Beulah Evanjalin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694885382,"creation_date":1694885382,"answer_id":77118863,"question_id":77118768,"body_markdown":"In Java, the printf() method serves as a means for formatted printing and is designed to return a reference to the [PrintStream][1] class. This PrintStream class includes an array of methods tailored for printing data to the output stream. One of the integral methods within this class is println().\r\n[![enter image description here][2]][2]\r\n\r\nI guess println() is included as a method in the PrintStream class because it serves as a fundamental and widely used approach to print data with line breaks, thus making it a valuable tool for output operations in Java.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html\r\n  [2]: https://i.stack.imgur.com/cbiYl.png","title":"Why does adding println() at end of printf function not print out the new variable set in Jshell?","body":"<p>In Java, the printf() method serves as a means for formatted printing and is designed to return a reference to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">PrintStream</a> class. This PrintStream class includes an array of methods tailored for printing data to the output stream. One of the integral methods within this class is println().\n<a href=\"https://i.stack.imgur.com/cbiYl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cbiYl.png\" alt=\"enter image description here\" /></a></p>\n<p>I guess println() is included as a method in the PrintStream class because it serves as a fundamental and widely used approach to print data with line breaks, thus making it a valuable tool for output operations in Java.</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694886625,"creation_date":1694885606,"answer_id":77118878,"question_id":77118768,"body_markdown":"In JShell, if an expression results in a value and you do not explicitly assign it to a variable, it will assign the value to a generated variable. You can see this with a simple expression:\r\n\r\n```none\r\njshell&gt; 4 + 3\r\n$1 ==&gt; 7\r\n```\r\n\r\nThe expression `4 + 3` returned a value: `7`. I did not assign it to a variable, so it assigned it to one for me. In this case, it was assigned to the variable `$1`. You can later use this variable (e.g., query it, reassign it, or even drop it).\r\n\r\nThe same thing is happening in your question with `printf`. It&#39;s just a little harder to see because what you printed, and the result of the expression, were printed on the same line. You can separate this out.\r\n\r\nThis is what you printed:\r\n\r\n&gt; ```none\r\n&gt; 5 * 2 = 10 &amp; 8 * 10 = 80\r\n&gt; ```\r\n\r\nAnd this is the result of calling `printf`:\r\n\r\n&gt; ```none\r\n&gt; $9 ==&gt; java.io.PrintStream@68de145\r\n&gt; ```\r\n\r\n\r\nIf you were to add a `%n` (newline) to your `printf` format, you&#39;d see something like:\r\n\r\n```none\r\njshell&gt; System.out.printf(&quot;5 * 2 = %d &amp; 8 * 10 = %d%n&quot;, 5*2, 8*10)\r\n5 * 2 = 10 &amp; 8 * 10 = 80\r\n$2 ==&gt; java.io.PrintStream@887af79\r\n```\r\n\r\nSo, why do you not see the `$NUMBER ==&gt; value` when you use `println`? Because `println` does not return anything.\r\n\r\n* [`PrintStream#printf(String,Object...)`][1] returns a `PrintStream` object (specifically, it returns the same `PrintStream` object that `printf` was called on). Hence why you can do `printf(...).println()` (i.e., [&quot;method chain&quot;][3]) in the first place.\r\n\r\n* [`PrintStream#println()`][2] returns `void` (i.e., nothing). There&#39;s nothing to (explicitly or implicitly) assign to a variable.\r\n\r\nNote that `System.out` is a `PrintStream`.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println()\r\n  [3]: https://en.wikipedia.org/wiki/Method_chaining","title":"Why does adding println() at end of printf function not print out the new variable set in Jshell?","body":"<p>In JShell, if an expression results in a value and you do not explicitly assign it to a variable, it will assign the value to a generated variable. You can see this with a simple expression:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jshell&gt; 4 + 3\n$1 ==&gt; 7\n</code></pre>\n<p>The expression <code>4 + 3</code> returned a value: <code>7</code>. I did not assign it to a variable, so it assigned it to one for me. In this case, it was assigned to the variable <code>$1</code>. You can later use this variable (e.g., query it, reassign it, or even drop it).</p>\n<p>The same thing is happening in your question with <code>printf</code>. It's just a little harder to see because what you printed, and the result of the expression, were printed on the same line. You can separate this out.</p>\n<p>This is what you printed:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>5 * 2 = 10 &amp; 8 * 10 = 80\n</code></pre>\n</blockquote>\n<p>And this is the result of calling <code>printf</code>:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>$9 ==&gt; java.io.PrintStream@68de145\n</code></pre>\n</blockquote>\n<p>If you were to add a <code>%n</code> (newline) to your <code>printf</code> format, you'd see something like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jshell&gt; System.out.printf(&quot;5 * 2 = %d &amp; 8 * 10 = %d%n&quot;, 5*2, 8*10)\n5 * 2 = 10 &amp; 8 * 10 = 80\n$2 ==&gt; java.io.PrintStream@887af79\n</code></pre>\n<p>So, why do you not see the <code>$NUMBER ==&gt; value</code> when you use <code>println</code>? Because <code>println</code> does not return anything.</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>PrintStream#printf(String,Object...)</code></a> returns a <code>PrintStream</code> object (specifically, it returns the same <code>PrintStream</code> object that <code>printf</code> was called on). Hence why you can do <code>printf(...).println()</code> (i.e., <a href=\"https://en.wikipedia.org/wiki/Method_chaining\" rel=\"nofollow noreferrer\">&quot;method chain&quot;</a>) in the first place.</p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println()\" rel=\"nofollow noreferrer\"><code>PrintStream#println()</code></a> returns <code>void</code> (i.e., nothing). There's nothing to (explicitly or implicitly) assign to a variable.</p>\n</li>\n</ul>\n<p>Note that <code>System.out</code> is a <code>PrintStream</code>.</p>\n"}],"owner":{"account_id":29096527,"reputation":3,"user_id":22289311,"display_name":"R. Anjum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77118878,"answer_count":2,"score":0,"last_activity_date":1694886625,"creation_date":1694883842,"question_id":77118768,"body_markdown":"When you don&#39;t add println():\r\n\r\n```\r\njshell&gt; System.out.printf(&quot;5 * 2 = %d &amp; 8 * 10 = %d&quot;, 5*2, 8*10)\r\n5 * 2 = 10 &amp; 8 * 10 = 80$9 ==&gt; java.io.PrintStream@68de145\r\n\r\njshell&gt; \r\n\r\n```\r\nwhen you add println():\r\n\r\n```\r\njshell&gt; System.out.printf(&quot;5 * 2 = %d &amp; 8 * 10 = %d&quot;, 5*2, 8*10).println()\r\n5 * 2 = 10 &amp; 8 * 10 = 80\r\n\r\njshell&gt; \r\n\r\n```\r\nwhy does println() stop from the new variable set to the print stream being printed out? Shouldn&#39;t the variable be printed out in Jshell before the new line from println()? please explain in beginner terms if possible.\r\n\r\n\r\n\r\nLooked on google but found no exact answers.","title":"Why does adding println() at end of printf function not print out the new variable set in Jshell?","body":"<p>When you don't add println():</p>\n<pre><code>jshell&gt; System.out.printf(&quot;5 * 2 = %d &amp; 8 * 10 = %d&quot;, 5*2, 8*10)\n5 * 2 = 10 &amp; 8 * 10 = 80$9 ==&gt; java.io.PrintStream@68de145\n\njshell&gt; \n\n</code></pre>\n<p>when you add println():</p>\n<pre><code>jshell&gt; System.out.printf(&quot;5 * 2 = %d &amp; 8 * 10 = %d&quot;, 5*2, 8*10).println()\n5 * 2 = 10 &amp; 8 * 10 = 80\n\njshell&gt; \n\n</code></pre>\n<p>why does println() stop from the new variable set to the print stream being printed out? Shouldn't the variable be printed out in Jshell before the new line from println()? please explain in beginner terms if possible.</p>\n<p>Looked on google but found no exact answers.</p>\n"},{"tags":["javascript","java","floating-point","rounding","precision"],"comments":[{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1694693772,"post_id":77104772,"comment_id":135926630,"body_markdown":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt","body":"<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"},{"owner":{"account_id":356065,"reputation":64617,"user_id":695364,"display_name":"Scott Marcus"},"score":7,"creation_date":1694694130,"post_id":77104772,"comment_id":135926725,"body_markdown":"Because Java and JavaScript are two completely different programming languages?","body":"Because Java and JavaScript are two completely different programming languages?"},{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":2,"creation_date":1694694273,"post_id":77104772,"comment_id":135926764,"body_markdown":"Is a variance of 1/100000000000000 really important to your application?","body":"Is a variance of 1/100000000000000 really important to your application?"},{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":1,"creation_date":1694694307,"post_id":77104772,"comment_id":135926774,"body_markdown":"Also note that the difference may stem from the code used to render the numeric values in internal form out for printing in base 10.","body":"Also note that the difference may stem from the code used to render the numeric values in internal form out for printing in base 10."},{"owner":{"account_id":8992458,"reputation":8403,"user_id":7080548,"display_name":"Sebastian Kaczmarek"},"score":0,"creation_date":1694694717,"post_id":77104772,"comment_id":135926882,"body_markdown":"@ScottMarcus Indeed, they are two completely different languages but that does not explain what&#39;s happening. I still think the question is valid: why there are two different results? Is one of them calculated wrong? Or both are valid but somehow can be different?","body":"@ScottMarcus Indeed, they are two completely different languages but that does not explain what&#39;s happening. I still think the question is valid: why there are two different results? Is one of them calculated wrong? Or both are valid but somehow can be different?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1694694935,"post_id":77104772,"comment_id":135926946,"body_markdown":"Java just decides to display one more significant digit (938, instead of 94), but the number is likely the same in the internal representation of matissa and exponent. But as it is binary, the conversion to decimal needs to stop somewhere. They selected a different cutoff point. 738529527931269425 is too large to exactly represent in double floating point.","body":"Java just decides to display one more significant digit (938, instead of 94), but the number is likely the same in the internal representation of matissa and exponent. But as it is binary, the conversion to decimal needs to stop somewhere. They selected a different cutoff point. 738529527931269425 is too large to exactly represent in double floating point."},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":1,"creation_date":1694694966,"post_id":77104772,"comment_id":135926954,"body_markdown":"You are better off in JavaScript using BigInt type, and in Java, BigInteger due to the differences in the implementation of the (display of) IEEE 754 standard 64-bit floating-point number","body":"You are better off in JavaScript using BigInt type, and in Java, BigInteger due to the differences in the implementation of the (display of) IEEE 754 standard 64-bit floating-point number"},{"owner":{"account_id":14773232,"reputation":20491,"user_id":10669010,"display_name":"Mister Jojo"},"score":1,"creation_date":1694695981,"post_id":77104772,"comment_id":135927160,"body_markdown":"Basically because JavaScript interpreters and Java compilers have neither the same algorithm nor the same injunctions in numerical precision. Otherwise, the quality in digital precision being intensive in CPU time, its priority is lower over all the tasks that a computer endUser must carry out. In other words, if you need to perform high-precision calculations on client workstations, it is means your client/server task distribution is poorly done.","body":"Basically because JavaScript interpreters and Java compilers have neither the same algorithm nor the same injunctions in numerical precision. Otherwise, the quality in digital precision being intensive in CPU time, its priority is lower over all the tasks that a computer endUser must carry out. In other words, if you need to perform high-precision calculations on client workstations, it is means your client/server task distribution is poorly done."},{"owner":{"account_id":356065,"reputation":64617,"user_id":695364,"display_name":"Scott Marcus"},"score":0,"creation_date":1694707406,"post_id":77104772,"comment_id":135929935,"body_markdown":"@SebastianKaczmarek It&#39;s not a valid question because it&#39;s assuming a false equivalency. Why not compare Java to C# or JavaScript to PHP or PHP to Java? Each language has it&#39;s own types and their own interpreters or compilers.","body":"@SebastianKaczmarek It&#39;s not a valid question because it&#39;s assuming a false equivalency. Why not compare Java to C# or JavaScript to PHP or PHP to Java? Each language has it&#39;s own types and their own interpreters or compilers."},{"owner":{"account_id":8992458,"reputation":8403,"user_id":7080548,"display_name":"Sebastian Kaczmarek"},"score":0,"creation_date":1694758952,"post_id":77104772,"comment_id":135935890,"body_markdown":"@ScottMarcus I agree, why not? It doesn&#39;t matter they are different languages. The question is not about syntax or some framework mechanics. It&#39;s about a seemingly language-agnostic operation that one could argue should give the same result no matter what language is used (just as Math). And yet the results are different. Therefore OP is asking why two languages give a different output for the same input when seemingly the same operation is used. Based on the comments above it looks like apparently it&#39;s not the same because IEEE754 can be implemented differently. But the question is valid IMO.","body":"@ScottMarcus I agree, why not? It doesn&#39;t matter they are different languages. The question is not about syntax or some framework mechanics. It&#39;s about a seemingly language-agnostic operation that one could argue should give the same result no matter what language is used (just as Math). And yet the results are different. Therefore OP is asking why two languages give a different output for the same input when seemingly the same operation is used. Based on the comments above it looks like apparently it&#39;s not the same because IEEE754 can be implemented differently. But the question is valid IMO."},{"owner":{"account_id":356065,"reputation":64617,"user_id":695364,"display_name":"Scott Marcus"},"score":0,"creation_date":1694798083,"post_id":77104772,"comment_id":135943272,"body_markdown":"@SebastianKaczmarek *&quot;it looks like apparently it&#39;s not the same because IEEE754 can be implemented differently&quot;* &lt;-- So, what does that tell you? The two languages handle  the problem differently. Therefore, the answer is &quot;don&#39;t expect two different languages, with different interpreters/compilers/implementations to work the same.&quot;","body":"@SebastianKaczmarek <i>&quot;it looks like apparently it&#39;s not the same because IEEE754 can be implemented differently&quot;</i> &lt;-- So, what does that tell you? The two languages handle  the problem differently. Therefore, the answer is &quot;don&#39;t expect two different languages, with different interpreters/compilers/implementations to work the same.&quot;"},{"owner":{"account_id":8992458,"reputation":8403,"user_id":7080548,"display_name":"Sebastian Kaczmarek"},"score":0,"creation_date":1694884909,"post_id":77104772,"comment_id":135951383,"body_markdown":"@ScottMarcus If this is the answer - fine. But still, the question was valid. OP thought the &quot;parseFloat operation&quot; should be the same for all languages, just as Math operations are. But it&#39;s not - and that&#39;s fine, that&#39;s the answer. But the question is valid.","body":"@ScottMarcus If this is the answer - fine. But still, the question was valid. OP thought the &quot;parseFloat operation&quot; should be the same for all languages, just as Math operations are. But it&#39;s not - and that&#39;s fine, that&#39;s the answer. But the question is valid."}],"answers":[{"tags":[],"owner":{"account_id":5174533,"reputation":12742,"user_id":4142130,"display_name":"Hoopje"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694886363,"creation_date":1694886363,"answer_id":77118924,"question_id":77104772,"body_markdown":"In fact, the results are the same. The differences are in the string representations, not in the double actually stored in memory.\r\n\r\nDoubles (in Java) and Numbers (in JavaScript) are 64-bit binary floating point numbers specified by the IEEE-754 standard. They have a precision of 53 bits, which is about 15 decimal digits. It doesn&#39;t matter whether those bits/digits are before or after the binary/decimal separator. Your number has 18 significant digits, so not all integer numbers in its neighbourhood can be exactly represented. So numbers need to be rounded to the nearest number which can be represented. And the strings &quot;738529527931269376&quot;, &quot;7.3852952793126938E17&quot;, &quot;738529527931269400&quot; and &quot;738529527931269425&quot; are all mapped to the exact same double value, which is the closest one to all of them. For example:\r\n\r\n    Double.parseDouble(&quot;7.3852952793126938E17&quot;) == Double.parseDouble(&quot;738529527931269400&quot;)\r\n    // ==&gt; true\r\n\r\nWhen converting a floating point value to a string, any of the many strings which would be mapped back to that floating point value may be chosen. Most programming languages don&#39;t simply output the exact value of the floating point value as a decimal string, but choose the &quot;simplest&quot; string among all the possible ones. &quot;Simple&quot;, of course, is not very clearly defined, which is the reason you see different results here.\r\n\r\n\r\n","title":"Why does Javascript&#39;s `parseFloat` return a different value than Java&#39;s `java.lang.Double.parseDouble` when truncating over-sized numbers?","body":"<p>In fact, the results are the same. The differences are in the string representations, not in the double actually stored in memory.</p>\n<p>Doubles (in Java) and Numbers (in JavaScript) are 64-bit binary floating point numbers specified by the IEEE-754 standard. They have a precision of 53 bits, which is about 15 decimal digits. It doesn't matter whether those bits/digits are before or after the binary/decimal separator. Your number has 18 significant digits, so not all integer numbers in its neighbourhood can be exactly represented. So numbers need to be rounded to the nearest number which can be represented. And the strings &quot;738529527931269376&quot;, &quot;7.3852952793126938E17&quot;, &quot;738529527931269400&quot; and &quot;738529527931269425&quot; are all mapped to the exact same double value, which is the closest one to all of them. For example:</p>\n<pre><code>Double.parseDouble(&quot;7.3852952793126938E17&quot;) == Double.parseDouble(&quot;738529527931269400&quot;)\n// ==&gt; true\n</code></pre>\n<p>When converting a floating point value to a string, any of the many strings which would be mapped back to that floating point value may be chosen. Most programming languages don't simply output the exact value of the floating point value as a decimal string, but choose the &quot;simplest&quot; string among all the possible ones. &quot;Simple&quot;, of course, is not very clearly defined, which is the reason you see different results here.</p>\n"}],"owner":{"account_id":466443,"reputation":15302,"user_id":871202,"accept_rate":76,"display_name":"Li Haoyi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77118924,"answer_count":1,"score":0,"last_activity_date":1694886363,"creation_date":1694693611,"question_id":77104772,"body_markdown":"Javascript:\r\n\r\n\r\n```javascript\r\n&gt; parseFloat(&quot;738529527931269425&quot;)\r\n738529527931269400\r\n```\r\n\r\nJava:\r\n\r\n```scala\r\n@ java.lang.Double.parseDouble(&quot;738529527931269425&quot;)\r\nres4: Double = 7.3852952793126938E17\r\n\r\n@ (long)java.lang.Double.parseDouble(&quot;738529527931269425&quot;)\r\nres5: Long = 738529527931269376L\r\n```\r\n\r\nShouldn&#39;t they be the same? Is one of them wrong? Or are there multiple valid ways of truncating overly-precise decimal numbers to fit into 64 bit floats?","title":"Why does Javascript&#39;s `parseFloat` return a different value than Java&#39;s `java.lang.Double.parseDouble` when truncating over-sized numbers?","body":"<p>Javascript:</p>\n<pre class=\"lang-js prettyprint-override\"><code>&gt; parseFloat(&quot;738529527931269425&quot;)\n738529527931269400\n</code></pre>\n<p>Java:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>@ java.lang.Double.parseDouble(&quot;738529527931269425&quot;)\nres4: Double = 7.3852952793126938E17\n\n@ (long)java.lang.Double.parseDouble(&quot;738529527931269425&quot;)\nres5: Long = 738529527931269376L\n</code></pre>\n<p>Shouldn't they be the same? Is one of them wrong? Or are there multiple valid ways of truncating overly-precise decimal numbers to fit into 64 bit floats?</p>\n"},{"tags":["java","android","exception","rtsp","exoplayer"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694883148,"post_id":77118690,"comment_id":135951203,"body_markdown":"As you can see from the stack trace none of your app code is involved, thus catching is not possible. BTW: you forgot to mention the used exoplayer version.","body":"As you can see from the stack trace none of your app code is involved, thus catching is not possible. BTW: you forgot to mention the used exoplayer version."}],"owner":{"account_id":13653949,"reputation":35,"user_id":9851023,"display_name":"kaitian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694885156,"creation_date":1694882421,"question_id":77118690,"body_markdown":"When using exoplayer to play an RTSP stream, and then disconnecting the network or interrupting the RTSP stream, the checkStateNotNull exception will be randomly reported; Version: media3-exoplayer:1.1.1; The details are as follows:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: ExoPlayer:Playback\r\n    Process: com.join.driving, PID: 28548\r\n    java.lang.IllegalStateException\r\n        at androidx.media3.common.util.Assertions.checkStateNotNull(Assertions.java:117)\r\n        at androidx.media3.exoplayer.rtsp.RtspMessageChannel.send(RtspMessageChannel.java:190)\r\n        at androidx.media3.exoplayer.rtsp.RtspClient$MessageSender.sendRequest(RtspClient.java:481)\r\n        at androidx.media3.exoplayer.rtsp.RtspClient$MessageSender.sendSetupRequest(RtspClient.java:380)\r\n        at androidx.media3.exoplayer.rtsp.RtspClient.continueSetupRtspTrack(RtspClient.java:296)\r\n        at androidx.media3.exoplayer.rtsp.RtspClient.setupSelectedTracks(RtspClient.java:221)\r\n        at androidx.media3.exoplayer.rtsp.RtspMediaPeriod.maybeSetupTracks(RtspMediaPeriod.java:478)\r\n        at androidx.media3.exoplayer.rtsp.RtspMediaPeriod.access$2600(RtspMediaPeriod.java:66)\r\n        at androidx.media3.exoplayer.rtsp.RtspMediaPeriod$RtpLoadInfo.lambda$new$0$androidx-media3-exoplayer-rtsp-RtspMediaPeriod$RtpLoadInfo(RtspMediaPeriod.java:893)\r\n        at androidx.media3.exoplayer.rtsp.RtspMediaPeriod$RtpLoadInfo$$ExternalSyntheticLambda0.onTransportReady(Unknown Source:2)\r\n        at androidx.media3.exoplayer.rtsp.RtpDataLoadable.lambda$load$0$androidx-media3-exoplayer-rtsp-RtpDataLoadable(RtpDataLoadable.java:158)\r\n        at androidx.media3.exoplayer.rtsp.RtpDataLoadable$$ExternalSyntheticLambda0.run(Unknown Source:6)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n\r\nCan this exception be caught with a try catch, or how can it be avoided?","title":"When playing an RTSP stream with exoplayer, an IllegalStateException exception occurs","body":"<p>When using exoplayer to play an RTSP stream, and then disconnecting the network or interrupting the RTSP stream, the checkStateNotNull exception will be randomly reported; Version: media3-exoplayer:1.1.1; The details are as follows:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: ExoPlayer:Playback\nProcess: com.join.driving, PID: 28548\njava.lang.IllegalStateException\n    at androidx.media3.common.util.Assertions.checkStateNotNull(Assertions.java:117)\n    at androidx.media3.exoplayer.rtsp.RtspMessageChannel.send(RtspMessageChannel.java:190)\n    at androidx.media3.exoplayer.rtsp.RtspClient$MessageSender.sendRequest(RtspClient.java:481)\n    at androidx.media3.exoplayer.rtsp.RtspClient$MessageSender.sendSetupRequest(RtspClient.java:380)\n    at androidx.media3.exoplayer.rtsp.RtspClient.continueSetupRtspTrack(RtspClient.java:296)\n    at androidx.media3.exoplayer.rtsp.RtspClient.setupSelectedTracks(RtspClient.java:221)\n    at androidx.media3.exoplayer.rtsp.RtspMediaPeriod.maybeSetupTracks(RtspMediaPeriod.java:478)\n    at androidx.media3.exoplayer.rtsp.RtspMediaPeriod.access$2600(RtspMediaPeriod.java:66)\n    at androidx.media3.exoplayer.rtsp.RtspMediaPeriod$RtpLoadInfo.lambda$new$0$androidx-media3-exoplayer-rtsp-RtspMediaPeriod$RtpLoadInfo(RtspMediaPeriod.java:893)\n    at androidx.media3.exoplayer.rtsp.RtspMediaPeriod$RtpLoadInfo$$ExternalSyntheticLambda0.onTransportReady(Unknown Source:2)\n    at androidx.media3.exoplayer.rtsp.RtpDataLoadable.lambda$load$0$androidx-media3-exoplayer-rtsp-RtpDataLoadable(RtpDataLoadable.java:158)\n    at androidx.media3.exoplayer.rtsp.RtpDataLoadable$$ExternalSyntheticLambda0.run(Unknown Source:6)\n    at android.os.Handler.handleCallback(Handler.java:883)\n    at android.os.Handler.dispatchMessage(Handler.java:100)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.os.HandlerThread.run(HandlerThread.java:67)\n</code></pre>\n<p>Can this exception be caught with a try catch, or how can it be avoided?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694858758,"post_id":77117095,"comment_id":135948592,"body_markdown":"I&#39;d start with [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) as it will describe the core requirements. `JTable` is capable of &quot;automatically&quot; displaying a `ImageIcon` if the `columnClass` reported by the `TableModel` provides the correct class type.","body":"I&#39;d start with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a> as it will describe the core requirements. <code>JTable</code> is capable of &quot;automatically&quot; displaying a <code>ImageIcon</code> if the <code>columnClass</code> reported by the <code>TableModel</code> provides the correct class type."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694859026,"post_id":77117095,"comment_id":135948620,"body_markdown":"You might also consider [this example](https://stackoverflow.com/questions/29983710/displaying-images-from-mysql-database-on-a-single-column-of-jtable/29983992#29983992) which can load images from the database - it&#39;s possible that your `ImageIcon` is not a valid image file and therefore isn&#39;t been rendered","body":"You might also consider <a href=\"https://stackoverflow.com/questions/29983710/displaying-images-from-mysql-database-on-a-single-column-of-jtable/29983992#29983992\">this example</a> which can load images from the database - it&#39;s possible that your <code>ImageIcon</code> is not a valid image file and therefore isn&#39;t been rendered"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694859202,"post_id":77117095,"comment_id":135948634,"body_markdown":"Not sure what this `listofitemtable.getColumn(&quot;image&quot;).setCellRenderer(new meetable()); ` is doing, but when you set a new model to the table, this will be discarded.","body":"Not sure what this <code>listofitemtable.getColumn(&quot;image&quot;).setCellRenderer(new meetable()); </code> is doing, but when you set a new model to the table, this will be discarded."},{"owner":{"account_id":20413039,"reputation":21,"user_id":14975952,"display_name":"christy v"},"score":0,"creation_date":1694859459,"post_id":77117095,"comment_id":135948655,"body_markdown":"Thank you for response without button click jtable is working…. And image is showing","body":"Thank you for response without button click jtable is working…. And image is showing"},{"owner":{"account_id":20413039,"reputation":21,"user_id":14975952,"display_name":"christy v"},"score":0,"creation_date":1694872419,"post_id":77117095,"comment_id":135950037,"body_markdown":"I not understand pls help me","body":"I not understand pls help me"}],"owner":{"account_id":20413039,"reputation":21,"user_id":14975952,"display_name":"christy v"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694884716,"creation_date":1694855772,"question_id":77117095,"body_markdown":" when Click the button to display an image on inside a cell in JTable, this takes a text format and shows the image itself.\r\n\r\n\r\n\r\n\r\n[![[![enter image description here](https://i.stack.imgur.com/OWWzk.png)](https://i.stack.imgur.com/OWWzk.png)](https://i.stack.imgur.com/wLgOj.png)](https://i.stack.imgur.com/wLgOj.png)\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n    \r\n    public void loading() {\r\n \r\n    try {\r\n   \r\n        model =(DefaultTableModel) listofitemtable.getModel();\r\n      \r\n      String[] title = {&quot;auction_no&quot;, &quot;auction_name&quot;, &quot;auction_type&quot;, &quot;auction_date&quot;, &quot;points_Per_Team&quot;, \r\n      &quot;minimum_Points&quot;, &quot;points_Increase&quot;, &quot;Player_per_Team&quot;, &quot;image&quot;};\r\n\r\n      listofitemtable.getColumn(&quot;image&quot;).setCellRenderer(new meetable());     \r\n       // model = new DefaultTableModel(null, title);\r\n       // model.setColumnIdentifiers(title);             \r\n        String sql=&quot;select * from auction_create&quot;;\r\n        model = new DefaultTableModel(null,title){                 \r\n          @Override\r\n           public Class&lt;?&gt; getColumnClass(int column) {\r\n                if (column==8) return ImageIcon.class;\r\n                return Object.class;\r\n            }\r\n        };\r\n       Statement st = conn.createStatement();\r\n         rs = st.executeQuery(sql);\r\n        Object[]fila = new Object[9];\r\n        while(rs.next()){\r\n            fila[0] = rs.getString(&quot;auction_no&quot;);\r\n            fila[1] = rs.getString(&quot;auction_name&quot;);\r\n            fila[2] = rs.getString(&quot;auction_type&quot;);\r\n            fila[3] = rs.getString(&quot;auction_date&quot;);\r\n            fila[4] = rs.getString(&quot;points_Per_Team&quot;);\r\n            fila[5] = rs.getString(&quot;minimum_Points&quot;);\r\n            fila[6] = rs.getString(&quot;points_Increase&quot;);\r\n            fila[7] = rs.getString(&quot;Player_per_Team&quot;);          \r\n            fila[8] = new ImageIcon(rs.getBytes(&quot;image&quot;));                        \r\n            model.addRow(fila);           \r\n        }         \r\n        // CustomTableModel cusTablModel = new CustomTableModel();                \r\n       // listofitemtable.setModel(cusTablModel);        \r\n        listofitemtable.setModel(model);\r\n         listofitemtable.setRowHeight(75);\r\n        listofitemtable.getColumnModel().getColumn(8).setPreferredWidth(50);\r\n       // listofitemtable.setModel(model);\r\n    }\r\n    catch (SQLException e) {\r\n        JOptionPane.showMessageDialog(null, e.getMessage());\r\n    }\r\n    } \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/itoFw.png","title":"how to display image with jtable netbens","body":"<p>when Click the button to display an image on inside a cell in JTable, this takes a text format and shows the image itself.</p>\n<p><a href=\"https://i.stack.imgur.com/wLgOj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wLgOj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/itoFw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/itoFw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public void loading() {\n\ntry {\n\n    model =(DefaultTableModel) listofitemtable.getModel();\n  \n  String[] title = {&quot;auction_no&quot;, &quot;auction_name&quot;, &quot;auction_type&quot;, &quot;auction_date&quot;, &quot;points_Per_Team&quot;, \n  &quot;minimum_Points&quot;, &quot;points_Increase&quot;, &quot;Player_per_Team&quot;, &quot;image&quot;};\n\n  listofitemtable.getColumn(&quot;image&quot;).setCellRenderer(new meetable());     \n   // model = new DefaultTableModel(null, title);\n   // model.setColumnIdentifiers(title);             \n    String sql=&quot;select * from auction_create&quot;;\n    model = new DefaultTableModel(null,title){                 \n      @Override\n       public Class&lt;?&gt; getColumnClass(int column) {\n            if (column==8) return ImageIcon.class;\n            return Object.class;\n        }\n    };\n   Statement st = conn.createStatement();\n     rs = st.executeQuery(sql);\n    Object[]fila = new Object[9];\n    while(rs.next()){\n        fila[0] = rs.getString(&quot;auction_no&quot;);\n        fila[1] = rs.getString(&quot;auction_name&quot;);\n        fila[2] = rs.getString(&quot;auction_type&quot;);\n        fila[3] = rs.getString(&quot;auction_date&quot;);\n        fila[4] = rs.getString(&quot;points_Per_Team&quot;);\n        fila[5] = rs.getString(&quot;minimum_Points&quot;);\n        fila[6] = rs.getString(&quot;points_Increase&quot;);\n        fila[7] = rs.getString(&quot;Player_per_Team&quot;);          \n        fila[8] = new ImageIcon(rs.getBytes(&quot;image&quot;));                        \n        model.addRow(fila);           \n    }         \n    // CustomTableModel cusTablModel = new CustomTableModel();                \n   // listofitemtable.setModel(cusTablModel);        \n    listofitemtable.setModel(model);\n     listofitemtable.setRowHeight(75);\n    listofitemtable.getColumnModel().getColumn(8).setPreferredWidth(50);\n   // listofitemtable.setModel(model);\n}\ncatch (SQLException e) {\n    JOptionPane.showMessageDialog(null, e.getMessage());\n}\n} \n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database","firebase-storage"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":1,"creation_date":1694869551,"post_id":77117467,"comment_id":135949690,"body_markdown":"As you mentioned above question. You are uploading images to Firebase `Storage` or `Realtime` Database? You have not written the logic to upload images to Storage. First, code to upload the image to Firebase Storage and add a link to that image to the real-time database. Then you can easily access that image using their link.","body":"As you mentioned above question. You are uploading images to Firebase <code>Storage</code> or <code>Realtime</code> Database? You have not written the logic to upload images to Storage. First, code to upload the image to Firebase Storage and add a link to that image to the real-time database. Then you can easily access that image using their link."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1694884715,"post_id":77117467,"comment_id":135951355,"body_markdown":"If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do? And since this is for Android: The Android docs have a great page on [debugging your app](https://developer.android.com/studio/debug) to get you started with, including the section on [working with breakpoints](https://developer.android.com/studio/debug#breakPoints) and [inspecting varialbles](https://developer.android.com/studio/debug#variablesAndWatches).","body":"If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do? And since this is for Android: The Android docs have a great page on <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">debugging your app</a> to get you started with, including the section on <a href=\"https://developer.android.com/studio/debug#breakPoints\" rel=\"nofollow noreferrer\">working with breakpoints</a> and <a href=\"https://developer.android.com/studio/debug#variablesAndWatches\" rel=\"nofollow noreferrer\">inspecting varialbles</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1694932741,"post_id":77117467,"comment_id":135954801,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":29459024,"reputation":1,"user_id":22574205,"display_name":"Divyanshi Hada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694884656,"creation_date":1694862070,"question_id":77117467,"body_markdown":"In my quiz admin panel app while I a upload a image and click upload button data is not being uploaded to my realtime database. It just shows uploading. And it doesn&#39;t show any error also.\r\nI need help with this. Code is working properly till image upload and giving category name.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ActivityMainBinding binding;\r\n    FirebaseDatabase database;\r\n    FirebaseStorage storage;\r\n    CircleImageView categoryImage;\r\n    EditText inputCategoryName;\r\n    Button uploadCategory;\r\n    Dialog dialog;\r\n    View fetchImage;\r\n    Uri imageUri;\r\n    int i=0;\r\n    ProgressDialog progressDialog;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        ActionBar actionBar = getSupportActionBar();\r\n        if (actionBar != null) {\r\n            actionBar.hide();\r\n        }\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n        storage = FirebaseStorage.getInstance();\r\n\r\n        dialog = new Dialog(this);\r\n        ;\r\n        dialog.setContentView(R.layout.item_add_category_dialog);\r\n\r\n        if (dialog.getWindow() != null) {\r\n\r\n            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n            dialog.setCancelable(true);\r\n        }\r\n\r\n        progressDialog=new ProgressDialog(this);\r\n        progressDialog.setTitle(&quot;uploading&quot;);\r\n        progressDialog.setMessage(&quot;please wait&quot;);\r\n\r\n\r\n        uploadCategory = dialog.findViewById(R.id.btn_Upload);\r\n        inputCategoryName = dialog.findViewById(R.id.inputCategoryName);\r\n        categoryImage = dialog.findViewById(R.id.categoryImage);\r\n        fetchImage = dialog.findViewById(R.id.fetchImage);\r\n\r\n\r\n        binding.addCategory.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                dialog.show();\r\n            }\r\n        });\r\n\r\n        fetchImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                intent.setType(&quot;image/*&quot;);\r\n                startActivityForResult(intent, 1);\r\n            }\r\n        });\r\n\r\n\r\n        uploadCategory.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String name = inputCategoryName.getText().toString();\r\n\r\n                if (imageUri == null) {\r\n                    Toast.makeText(MainActivity.this, &quot;Please upload category image&quot;, Toast.LENGTH_SHORT).show();\r\n                } else if (name.isEmpty()) {\r\n                    inputCategoryName.setError(&quot;Enter category name&quot;);\r\n                } else {\r\n                    progressDialog.show();\r\n                    uploadData();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n        private void uploadData() {\r\n\r\n            final StorageReference reference = storage.getReference().child(&quot;category&quot;)\r\n                    .child(new Date().getTime() + &quot;&quot;);\r\n\r\n            reference.putFile(imageUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    reference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Uri uri) {\r\n\r\n                            CategoryModel categoryModel = new CategoryModel();\r\n                            categoryModel.setCategoryName(inputCategoryName.getText().toString());\r\n                            categoryModel.setSetNum(0);\r\n                            categoryModel.setCategoryImage(imageUri.toString());\r\n\r\n                            database.getReference().child(&quot;categories&quot;).child(&quot;category&quot;+i++)\r\n                                    .setValue(categoryModel).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                        @Override\r\n                                        public void onSuccess(Void unused) {\r\n                                            Toast.makeText(MainActivity.this,&quot;data uploaded&quot;,Toast.LENGTH_SHORT).show();\r\n                                            progressDialog.dismiss();\r\n                                        }\r\n                                    }).addOnFailureListener(new OnFailureListener() {\r\n                                        @Override\r\n                                        public void onFailure(@NonNull Exception e) {\r\n\r\n                                            Toast.makeText(MainActivity.this,e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                            progressDialog.dismiss();\r\n                                        }\r\n                                    });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n\r\n            if (requestCode == 1) {\r\n                if (data != null) {\r\n                    imageUri = data.getData();\r\n                    categoryImage.setImageURI(imageUri);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```","title":"Data is not uploading on firebase in android studio","body":"<p>In my quiz admin panel app while I a upload a image and click upload button data is not being uploaded to my realtime database. It just shows uploading. And it doesn't show any error also.\nI need help with this. Code is working properly till image upload and giving category name.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n    FirebaseDatabase database;\n    FirebaseStorage storage;\n    CircleImageView categoryImage;\n    EditText inputCategoryName;\n    Button uploadCategory;\n    Dialog dialog;\n    View fetchImage;\n    Uri imageUri;\n    int i=0;\n    ProgressDialog progressDialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n            actionBar.hide();\n        }\n\n        database = FirebaseDatabase.getInstance();\n        storage = FirebaseStorage.getInstance();\n\n        dialog = new Dialog(this);\n        ;\n        dialog.setContentView(R.layout.item_add_category_dialog);\n\n        if (dialog.getWindow() != null) {\n\n            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n            dialog.setCancelable(true);\n        }\n\n        progressDialog=new ProgressDialog(this);\n        progressDialog.setTitle(&quot;uploading&quot;);\n        progressDialog.setMessage(&quot;please wait&quot;);\n\n\n        uploadCategory = dialog.findViewById(R.id.btn_Upload);\n        inputCategoryName = dialog.findViewById(R.id.inputCategoryName);\n        categoryImage = dialog.findViewById(R.id.categoryImage);\n        fetchImage = dialog.findViewById(R.id.fetchImage);\n\n\n        binding.addCategory.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                dialog.show();\n            }\n        });\n\n        fetchImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent();\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                intent.setType(&quot;image/*&quot;);\n                startActivityForResult(intent, 1);\n            }\n        });\n\n\n        uploadCategory.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String name = inputCategoryName.getText().toString();\n\n                if (imageUri == null) {\n                    Toast.makeText(MainActivity.this, &quot;Please upload category image&quot;, Toast.LENGTH_SHORT).show();\n                } else if (name.isEmpty()) {\n                    inputCategoryName.setError(&quot;Enter category name&quot;);\n                } else {\n                    progressDialog.show();\n                    uploadData();\n                }\n            }\n        });\n    }\n\n        private void uploadData() {\n\n            final StorageReference reference = storage.getReference().child(&quot;category&quot;)\n                    .child(new Date().getTime() + &quot;&quot;);\n\n            reference.putFile(imageUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                    reference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                        @Override\n                        public void onSuccess(Uri uri) {\n\n                            CategoryModel categoryModel = new CategoryModel();\n                            categoryModel.setCategoryName(inputCategoryName.getText().toString());\n                            categoryModel.setSetNum(0);\n                            categoryModel.setCategoryImage(imageUri.toString());\n\n                            database.getReference().child(&quot;categories&quot;).child(&quot;category&quot;+i++)\n                                    .setValue(categoryModel).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                        @Override\n                                        public void onSuccess(Void unused) {\n                                            Toast.makeText(MainActivity.this,&quot;data uploaded&quot;,Toast.LENGTH_SHORT).show();\n                                            progressDialog.dismiss();\n                                        }\n                                    }).addOnFailureListener(new OnFailureListener() {\n                                        @Override\n                                        public void onFailure(@NonNull Exception e) {\n\n                                            Toast.makeText(MainActivity.this,e.getMessage(), Toast.LENGTH_SHORT).show();\n                                            progressDialog.dismiss();\n                                        }\n                                    });\n                        }\n                    });\n                }\n            });\n        }\n\n        @Override\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n            super.onActivityResult(requestCode, resultCode, data);\n\n            if (requestCode == 1) {\n                if (data != null) {\n                    imageUri = data.getData();\n                    categoryImage.setImageURI(imageUri);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":7760897,"reputation":1420,"user_id":5873698,"accept_rate":48,"display_name":"Amar Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694883582,"creation_date":1694883582,"answer_id":77118754,"question_id":77118506,"body_markdown":"I was missing \r\n\r\n&gt; .handler(new BodyHandlerImpl())\r\n\r\n    router.post(&quot;/demo&quot;)\r\n          .handler(new BodyHandlerImpl())\r\n          .handler(ValidationHandlerBuilder.create(parser)\r\n            .body(Bodies.json(objectSchemaBuilder))\r\n              .body(Bodies.formUrlEncoded(objectSchemaBuilder))\r\n            .build())\r\n          .handler(rc -&gt; {\r\n            try {\r\n              this.greet(rc);\r\n            } catch (IOException e) {\r\n              throw new RuntimeException(e);\r\n            }\r\n          });\r\n\r\n","title":"Vertx POST request body is `null` after using validator","body":"<p>I was missing</p>\n<blockquote>\n<p>.handler(new BodyHandlerImpl())</p>\n</blockquote>\n<pre><code>router.post(&quot;/demo&quot;)\n      .handler(new BodyHandlerImpl())\n      .handler(ValidationHandlerBuilder.create(parser)\n        .body(Bodies.json(objectSchemaBuilder))\n          .body(Bodies.formUrlEncoded(objectSchemaBuilder))\n        .build())\n      .handler(rc -&gt; {\n        try {\n          this.greet(rc);\n        } catch (IOException e) {\n          throw new RuntimeException(e);\n        }\n      });\n</code></pre>\n"}],"owner":{"account_id":7760897,"reputation":1420,"user_id":5873698,"accept_rate":48,"display_name":"Amar Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694883582,"creation_date":1694879582,"question_id":77118506,"body_markdown":"I created a simple `Vertx` web verticle which has a `POST` API. Following is the code:\r\n\r\n```\r\npublic class MainVerticle extends AbstractVerticle {\r\n\r\n  @Override\r\n  public void start(Promise&lt;Void&gt; startPromise) throws Exception {\r\n\r\n    DatabindCodec.mapper().registerModule(new Jdk8Module());\r\n    Router router = Router.router(vertx);\r\n    router.post(&quot;/demo&quot;)\r\n      .handler(BodyHandler.create())\r\n      .handler(rc -&gt; {\r\n        try {\r\n          this.greet(rc);\r\n        } catch (IOException e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      });\r\n\r\n    HttpServer httpServer = vertx.createHttpServer();\r\n    httpServer.requestHandler(router).listen(8888, http -&gt; {\r\n      if (http.succeeded()) {\r\n        startPromise.complete();\r\n        System.out.println(&quot;HTTP server started on port 8888&quot;);\r\n      } else {\r\n        startPromise.fail(http.cause());\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  private void greet(RoutingContext routingContext) throws IOException {\r\n    Person person = routingContext.body().asPojo(Person.class);\r\n    try {\r\n      boolean canSerializeResponse = DatabindCodec.mapper().canDeserialize(ReferenceType.constructUnsafe(PersonGreetMessage.class));\r\n      routingContext.response().send(DatabindCodec.mapper().writerFor(PersonGreetMessage.class).writeValueAsString(new PersonGreetMessage(person, &quot;Namaste&quot;)));\r\n    } catch (JsonProcessingException e) {\r\n      System.out.println(&quot;Exception&quot;);\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI proceeded to add request validation to make sure that request body matches the schema defined by me.\r\n\r\nI first built a `SchemaParser` and defined a `Schema`\r\n\r\n```\r\n    SchemaParser parser = SchemaParser.createDraft7SchemaParser(\r\n      SchemaRouter.create(vertx, new SchemaRouterOptions())\r\n    );\r\n\r\n    ObjectSchemaBuilder objectSchemaBuilder = objectSchema();\r\n\r\n    ObjectSchemaBuilder addressSchemaBuilder = objectSchema();\r\n    addressSchemaBuilder.requiredProperty(&quot;state&quot;, stringSchema());\r\n    addressSchemaBuilder.optionalProperty(&quot;city&quot;, stringSchema());\r\n    addressSchemaBuilder.optionalProperty(&quot;houseNumber&quot;, intSchema());\r\n    addressSchemaBuilder.alias(&quot;addressSchema&quot;);\r\n    addressSchemaBuilder.build(parser);\r\n\r\n    objectSchemaBuilder.requiredProperty(&quot;name&quot;, stringSchema());\r\n    objectSchemaBuilder.optionalProperty(&quot;address&quot;, refToAlias(&quot;addressSchema&quot;));\r\n    objectSchemaBuilder.build(parser);\r\n```\r\n\r\nthen I changed the `router` to include the validation\r\n\r\n```\r\n  Router router = Router.router(vertx);\r\n    router.post(&quot;/demo&quot;)\r\n      .handler(ValidationHandlerBuilder.create(parser)\r\n        .body(Bodies.json(objectSchemaBuilder))\r\n        .build())\r\n      .handler(rc -&gt; {\r\n        try {\r\n          this.greet(rc);\r\n        } catch (IOException e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      });\r\n```\r\n\r\nAnd the actual method to generate the `Response`\r\n\r\n```\r\nprivate void greet(RoutingContext routingContext) throws IOException {\r\n    RequestParameters requestParameters = routingContext.get(ValidationHandler.REQUEST_CONTEXT_KEY);\r\n    JsonObject body = requestParameters.body().getJsonObject();\r\n    Person person = DatabindCodec.mapper().readValue(body.toString(), Person.class);\r\n    try {\r\n      boolean canSerializeResponse = DatabindCodec.mapper().canDeserialize(ReferenceType.constructUnsafe(PersonGreetMessage.class));\r\n      routingContext.response().send(DatabindCodec.mapper().writerFor(PersonGreetMessage.class).writeValueAsString(new PersonGreetMessage(person, &quot;Namaste&quot;)));\r\n    } catch (JsonProcessingException e) {\r\n      System.out.println(&quot;Exception&quot;);\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n```\r\n\r\nI now get an exception like the following:\r\n\r\n```\r\nio.vertx.ext.web.validation.BodyProcessorException: [Bad Request] Body application/json parsing error: Null body\r\n\tat io.vertx.ext.web.validation.BodyProcessorException.createParsingError(BodyProcessorException.java:52)\r\n\tat io.vertx.ext.web.validation.impl.body.JsonBodyProcessorImpl.process(JsonBodyProcessorImpl.java:33)\r\n\tat io.vertx.ext.web.validation.impl.ValidationHandlerImpl.validateBody(ValidationHandlerImpl.java:247)\r\n\tat io.vertx.ext.web.validation.impl.ValidationHandlerImpl.handle(ValidationHandlerImpl.java:143)\r\n\tat io.vertx.ext.web.validation.impl.ValidationHandlerImpl.handle(ValidationHandlerImpl.java:18)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:177)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\r\n\tat io.vertx.ext.web.impl.RouterImpl.handle(RouterImpl.java:68)\r\n\tat io.vertx.ext.web.impl.RouterImpl.handle(RouterImpl.java:37)\r\n\tat io.vertx.core.http.impl.Http1xServerRequestHandler.handle(Http1xServerRequestHandler.java:67)\r\n\tat io.vertx.core.http.impl.Http1xServerRequestHandler.handle(Http1xServerRequestHandler.java:30)\r\n\tat io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\r\n\tat io.vertx.core.impl.DuplicatedContext.emit(DuplicatedContext.java:158)\r\n\tat io.vertx.core.http.impl.Http1xServerConnection.handleMessage(Http1xServerConnection.java:145)\r\n\tat io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:157)\r\n\tat io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:153)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\r\n\tat io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.vertx.core.http.impl.Http1xUpgradeToH2CHandler.channelRead(Http1xUpgradeToH2CHandler.java:120)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.vertx.core.http.impl.Http1xOrH2CHandler.end(Http1xOrH2CHandler.java:61)\r\n\tat io.vertx.core.http.impl.Http1xOrH2CHandler.channelRead(Http1xOrH2CHandler.java:38)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: io.vertx.ext.web.validation.MalformedValueException: Null body\r\n\tat io.vertx.ext.web.validation.impl.body.JsonBodyProcessorImpl.process(JsonBodyProcessorImpl.java:34)\r\n\t... 52 more\r\n\r\nCaused by: io.vertx.ext.web.validation.MalformedValueException: Null body\r\n```\r\n\r\nOn debugging I found out that the following check in the `JsonBodyProcessorImpl` was failing\r\n\r\n```\r\nBuffer body = requestContext.body().buffer();\r\n      if (body == null) {\r\n        throw BodyProcessorException.createParsingError(\r\n          requestContext.request().getHeader(HttpHeaders.CONTENT_TYPE),\r\n          new MalformedValueException(&quot;Null body&quot;)\r\n        );\r\n      }\r\n```\r\n\r\nI have not been able to identify what is the error.","title":"Vertx POST request body is `null` after using validator","body":"<p>I created a simple <code>Vertx</code> web verticle which has a <code>POST</code> API. Following is the code:</p>\n<pre><code>public class MainVerticle extends AbstractVerticle {\n\n  @Override\n  public void start(Promise&lt;Void&gt; startPromise) throws Exception {\n\n    DatabindCodec.mapper().registerModule(new Jdk8Module());\n    Router router = Router.router(vertx);\n    router.post(&quot;/demo&quot;)\n      .handler(BodyHandler.create())\n      .handler(rc -&gt; {\n        try {\n          this.greet(rc);\n        } catch (IOException e) {\n          throw new RuntimeException(e);\n        }\n      });\n\n    HttpServer httpServer = vertx.createHttpServer();\n    httpServer.requestHandler(router).listen(8888, http -&gt; {\n      if (http.succeeded()) {\n        startPromise.complete();\n        System.out.println(&quot;HTTP server started on port 8888&quot;);\n      } else {\n        startPromise.fail(http.cause());\n      }\n    });\n\n\n  }\n\n  private void greet(RoutingContext routingContext) throws IOException {\n    Person person = routingContext.body().asPojo(Person.class);\n    try {\n      boolean canSerializeResponse = DatabindCodec.mapper().canDeserialize(ReferenceType.constructUnsafe(PersonGreetMessage.class));\n      routingContext.response().send(DatabindCodec.mapper().writerFor(PersonGreetMessage.class).writeValueAsString(new PersonGreetMessage(person, &quot;Namaste&quot;)));\n    } catch (JsonProcessingException e) {\n      System.out.println(&quot;Exception&quot;);\n      throw new RuntimeException(e);\n    }\n  }\n}\n</code></pre>\n<p>I proceeded to add request validation to make sure that request body matches the schema defined by me.</p>\n<p>I first built a <code>SchemaParser</code> and defined a <code>Schema</code></p>\n<pre><code>    SchemaParser parser = SchemaParser.createDraft7SchemaParser(\n      SchemaRouter.create(vertx, new SchemaRouterOptions())\n    );\n\n    ObjectSchemaBuilder objectSchemaBuilder = objectSchema();\n\n    ObjectSchemaBuilder addressSchemaBuilder = objectSchema();\n    addressSchemaBuilder.requiredProperty(&quot;state&quot;, stringSchema());\n    addressSchemaBuilder.optionalProperty(&quot;city&quot;, stringSchema());\n    addressSchemaBuilder.optionalProperty(&quot;houseNumber&quot;, intSchema());\n    addressSchemaBuilder.alias(&quot;addressSchema&quot;);\n    addressSchemaBuilder.build(parser);\n\n    objectSchemaBuilder.requiredProperty(&quot;name&quot;, stringSchema());\n    objectSchemaBuilder.optionalProperty(&quot;address&quot;, refToAlias(&quot;addressSchema&quot;));\n    objectSchemaBuilder.build(parser);\n</code></pre>\n<p>then I changed the <code>router</code> to include the validation</p>\n<pre><code>  Router router = Router.router(vertx);\n    router.post(&quot;/demo&quot;)\n      .handler(ValidationHandlerBuilder.create(parser)\n        .body(Bodies.json(objectSchemaBuilder))\n        .build())\n      .handler(rc -&gt; {\n        try {\n          this.greet(rc);\n        } catch (IOException e) {\n          throw new RuntimeException(e);\n        }\n      });\n</code></pre>\n<p>And the actual method to generate the <code>Response</code></p>\n<pre><code>private void greet(RoutingContext routingContext) throws IOException {\n    RequestParameters requestParameters = routingContext.get(ValidationHandler.REQUEST_CONTEXT_KEY);\n    JsonObject body = requestParameters.body().getJsonObject();\n    Person person = DatabindCodec.mapper().readValue(body.toString(), Person.class);\n    try {\n      boolean canSerializeResponse = DatabindCodec.mapper().canDeserialize(ReferenceType.constructUnsafe(PersonGreetMessage.class));\n      routingContext.response().send(DatabindCodec.mapper().writerFor(PersonGreetMessage.class).writeValueAsString(new PersonGreetMessage(person, &quot;Namaste&quot;)));\n    } catch (JsonProcessingException e) {\n      System.out.println(&quot;Exception&quot;);\n      throw new RuntimeException(e);\n    }\n  }\n</code></pre>\n<p>I now get an exception like the following:</p>\n<pre><code>io.vertx.ext.web.validation.BodyProcessorException: [Bad Request] Body application/json parsing error: Null body\n    at io.vertx.ext.web.validation.BodyProcessorException.createParsingError(BodyProcessorException.java:52)\n    at io.vertx.ext.web.validation.impl.body.JsonBodyProcessorImpl.process(JsonBodyProcessorImpl.java:33)\n    at io.vertx.ext.web.validation.impl.ValidationHandlerImpl.validateBody(ValidationHandlerImpl.java:247)\n    at io.vertx.ext.web.validation.impl.ValidationHandlerImpl.handle(ValidationHandlerImpl.java:143)\n    at io.vertx.ext.web.validation.impl.ValidationHandlerImpl.handle(ValidationHandlerImpl.java:18)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:177)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\n    at io.vertx.ext.web.impl.RouterImpl.handle(RouterImpl.java:68)\n    at io.vertx.ext.web.impl.RouterImpl.handle(RouterImpl.java:37)\n    at io.vertx.core.http.impl.Http1xServerRequestHandler.handle(Http1xServerRequestHandler.java:67)\n    at io.vertx.core.http.impl.Http1xServerRequestHandler.handle(Http1xServerRequestHandler.java:30)\n    at io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\n    at io.vertx.core.impl.DuplicatedContext.emit(DuplicatedContext.java:158)\n    at io.vertx.core.http.impl.Http1xServerConnection.handleMessage(Http1xServerConnection.java:145)\n    at io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:157)\n    at io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:153)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\n    at io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.vertx.core.http.impl.Http1xUpgradeToH2CHandler.channelRead(Http1xUpgradeToH2CHandler.java:120)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.vertx.core.http.impl.Http1xOrH2CHandler.end(Http1xOrH2CHandler.java:61)\n    at io.vertx.core.http.impl.Http1xOrH2CHandler.channelRead(Http1xOrH2CHandler.java:38)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: io.vertx.ext.web.validation.MalformedValueException: Null body\n    at io.vertx.ext.web.validation.impl.body.JsonBodyProcessorImpl.process(JsonBodyProcessorImpl.java:34)\n    ... 52 more\n\nCaused by: io.vertx.ext.web.validation.MalformedValueException: Null body\n</code></pre>\n<p>On debugging I found out that the following check in the <code>JsonBodyProcessorImpl</code> was failing</p>\n<pre><code>Buffer body = requestContext.body().buffer();\n      if (body == null) {\n        throw BodyProcessorException.createParsingError(\n          requestContext.request().getHeader(HttpHeaders.CONTENT_TYPE),\n          new MalformedValueException(&quot;Null body&quot;)\n        );\n      }\n</code></pre>\n<p>I have not been able to identify what is the error.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":2,"creation_date":1694834757,"post_id":77113766,"comment_id":135947028,"body_markdown":"Thanks for the background information, they should be helpful for others. However, none of those addressed my question, so may be you can try adding relevant information?","body":"Thanks for the background information, they should be helpful for others. However, none of those addressed my question, so may be you can try adding relevant information?"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694793579,"creation_date":1694793220,"answer_id":77113766,"question_id":77111868,"body_markdown":"## Avoid legacy classes\r\n\r\n - Do not use `java.sql.Timestamp`. \r\n - Do not use `java.util.Date`. \r\n\r\nThese terribly flawed classes were years ago supplanted by the modern *java.time* classes defined in JSR 310 in Java 8+. Sun, Oracle, and the JCP community all gave up on those legacy classes; so should you.\r\n\r\nJDBC 4.2+ requires all drivers to support for *java.time*. Jakarta Persistence and Hibernate have been updated to support *java.time*. \r\n\r\nSo just use *java.time*. There is no point in studying the bizarre design and behavior of those legacy classes.  \r\n\r\n## `OffsetDateTime`\r\n\r\nFor a Postgres column of type `TIMESTAMP WITH TIME ZONE`, use Java class `OffsetDateTime`. You will always get back a date-time value with an offset of zero hours-minutes-seconds from UTC. \r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\r\n    myResultSet.setObject( … , odt ) ;\r\n\r\nAnd retrieval. \r\n\r\n\r\n    OffsetDateTime odt = myPreparedStatement.getObject( … , OffsetDateTime.class ) ;\r\n\r\n\r\n","title":"Hibernate is mapping OffsetDateTime field with timezone based on System default","body":"<h2>Avoid legacy classes</h2>\n<ul>\n<li>Do not use <code>java.sql.Timestamp</code>.</li>\n<li>Do not use <code>java.util.Date</code>.</li>\n</ul>\n<p>These terribly flawed classes were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310 in Java 8+. Sun, Oracle, and the JCP community all gave up on those legacy classes; so should you.</p>\n<p>JDBC 4.2+ requires all drivers to support for <em>java.time</em>. Jakarta Persistence and Hibernate have been updated to support <em>java.time</em>.</p>\n<p>So just use <em>java.time</em>. There is no point in studying the bizarre design and behavior of those legacy classes.</p>\n<h2><code>OffsetDateTime</code></h2>\n<p>For a Postgres column of type <code>TIMESTAMP WITH TIME ZONE</code>, use Java class <code>OffsetDateTime</code>. You will always get back a date-time value with an offset of zero hours-minutes-seconds from UTC.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\nmyResultSet.setObject( … , odt ) ;\n</code></pre>\n<p>And retrieval.</p>\n<pre><code>OffsetDateTime odt = myPreparedStatement.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1694886708,"post_id":77118739,"comment_id":135951621,"body_markdown":"Hummm, ok, its interesting to see your approach. But I am not after a hardcoded solution (sorry if I wasn&#39;t clear). Only because the db was set to use UTC, it doesn&#39;t mean it has to be UTC (it can be any server timezone). So the answer I am after is for Hibernate to map the EXACT timestamptz value (as you can see from pgAdmin) to OffsetDateTime (with the same timezone).","body":"Hummm, ok, its interesting to see your approach. But I am not after a hardcoded solution (sorry if I wasn&#39;t clear). Only because the db was set to use UTC, it doesn&#39;t mean it has to be UTC (it can be any server timezone). So the answer I am after is for Hibernate to map the EXACT timestamptz value (as you can see from pgAdmin) to OffsetDateTime (with the same timezone)."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1694903300,"post_id":77118739,"comment_id":135953151,"body_markdown":"PostgreSQL does store UTC time in `timestamptz`. https://www.postgresql.org/docs/15/datatype-datetime.html: For timestamp with time zone, the internally stored value is always in UTC (Universal Coordinated Time, traditionally known as Greenwich Mean Time, GMT). An input value that has an explicit time zone specified is converted to UTC using the appropriate offset for that time zone.","body":"PostgreSQL does store UTC time in <code>timestamptz</code>. <a href=\"https://www.postgresql.org/docs/15/datatype-datetime.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/15/datatype-datetime.html</a>: For timestamp with time zone, the internally stored value is always in UTC (Universal Coordinated Time, traditionally known as Greenwich Mean Time, GMT). An input value that has an explicit time zone specified is converted to UTC using the appropriate offset for that time zone."},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1694948271,"post_id":77118739,"comment_id":135956074,"body_markdown":"Yeah, totally agree with the &quot;stored&quot; value being in UTC. However, the SELECT value is always converted based on the server time zone config (the very same page you linked above &quot;When a timestamp with time zone value is output, it is always converted from UTC to the current timezone zone, and displayed as local time in that zone&quot;) and is returned back to Hibernate.","body":"Yeah, totally agree with the &quot;stored&quot; value being in UTC. However, the SELECT value is always converted based on the server time zone config (the very same page you linked above &quot;When a timestamp with time zone value is output, it is always converted from UTC to the current timezone zone, and displayed as local time in that zone&quot;) and is returned back to Hibernate."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1694952710,"post_id":77118739,"comment_id":135956428,"body_markdown":"even if you were able to call rs.getObject(int,OffsetDateTime.class) you would get UTC offset, because JDBC driver [enforces UTC offset](https://github.com/pgjdbc/pgjdbc/blob/5709a20fbef453749d2394e11502527e4a3ab5bb/pgjdbc/src/main/java/org/postgresql/jdbc/PgResultSet.java#L670). So, would you mind clarifying what offset you are interested in? UTC? Java? DB?","body":"even if you were able to call rs.getObject(int,OffsetDateTime.class) you would get UTC offset, because JDBC driver <a href=\"https://github.com/pgjdbc/pgjdbc/blob/5709a20fbef453749d2394e11502527e4a3ab5bb/pgjdbc/src/main/java/org/postgresql/jdbc/PgResultSet.java#L670\" rel=\"nofollow noreferrer\">enforces UTC offset</a>. So, would you mind clarifying what offset you are interested in? UTC? Java? DB?"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1694953566,"post_id":77118739,"comment_id":135956495,"body_markdown":"If you call `getString()` in the JDBC driver, you get the converted datetime+offset string, which is the same as you do SELECT in pgAdmin (i.e. converted to the db server time zone setting). This is the expected value I am after.","body":"If you call <code>getString()</code> in the JDBC driver, you get the converted datetime+offset string, which is the same as you do SELECT in pgAdmin (i.e. converted to the db server time zone setting). This is the expected value I am after."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1694965395,"post_id":77118739,"comment_id":135957799,"body_markdown":"I&#39;m afraid the result of `#getString` depends on client timezone (ZoneId.systemDefault(), -Duser.timezone=, etc)","body":"I&#39;m afraid the result of <code>#getString</code> depends on client timezone (ZoneId.systemDefault(), -Duser.timezone=, etc)"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1694968797,"post_id":77118739,"comment_id":135958195,"body_markdown":"Thats surely is not what I observed. It has nothing to do with local system timezone setting. It reads the raw bytes from Postgres, which is the converted value from UTC using the server time zone config.","body":"Thats surely is not what I observed. It has nothing to do with local system timezone setting. It reads the raw bytes from Postgres, which is the converted value from UTC using the server time zone config."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694883340,"creation_date":1694883340,"answer_id":77118739,"question_id":77111868,"body_markdown":"IMO, Hibernate&#39;s behaviour looks more natural rather than your desire, at least it is consistent with the output `OffsetDateTime.now()`.\r\n\r\nHowever, in any case you need to write some code to support desired behaviour, for example:\r\n\r\n```java\r\n// OffsetDateTimeUTCJavaDescriptor.java\r\n\r\npublic class OffsetDateTimeUTCJavaDescriptor extends OffsetDateTimeJavaDescriptor {\r\n\r\n    public static final OffsetDateTimeUTCJavaDescriptor INSTANCE = new OffsetDateTimeUTCJavaDescriptor();\r\n\r\n    @Override\r\n    public &lt;X&gt; OffsetDateTime wrap(X value, WrapperOptions options) {\r\n        OffsetDateTime result = super.wrap(value, options);\r\n        if (result == null) {\r\n            return null;\r\n        }\r\n        return result.withOffsetSameInstant(ZoneOffset.UTC);\r\n    }\r\n    \r\n}\r\n\r\n// OffsetDateTimeUTCType.java\r\n\r\npublic class OffsetDateTimeUTCType extends OffsetDateTimeType {\r\n\r\n    public OffsetDateTimeUTCType() {\r\n        setJavaTypeDescriptor(OffsetDateTimeUTCJavaDescriptor.INSTANCE);\r\n    }\r\n\r\n    @Override\r\n    public OffsetDateTime seed(SharedSessionContractImplementor session) {\r\n        return super.seed(session).withOffsetSameInstant(ZoneOffset.UTC);\r\n    }\r\n\r\n    @Override\r\n    public OffsetDateTime next(OffsetDateTime current, SharedSessionContractImplementor session) {\r\n        return super.next(current, session).withOffsetSameInstant(ZoneOffset.UTC);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nNow, the problem is `Hibernate` (at least `v5`) does not provide any option to sync database metadata with JPA metadata, so you need to do that ~manually and actually two options exist:\r\n\r\nI. completely override built-in definition of `OffsetDateTime` type, and use new convention everywhere:\r\n\r\n```java\r\n// package-info.java\r\n\r\n@TypeDef(name = &quot;OffsetDateTimeUTC&quot;, typeClass = OffsetDateTimeUTCType.class, defaultForType = OffsetDateTime.class)\r\npackage com.tld;\r\n\r\nimport org.hibernate.annotations.TypeDef;\r\nimport com.tld.OffsetDateTimeUTCType;\r\n\r\nimport java.time.OffsetDateTime;\r\n```\r\n\r\nII. just register new type definition without overriding defaults:\r\n\r\n```java\r\n// package-info.java\r\n\r\n@TypeDef(name = &quot;OffsetDateTimeUTC&quot;, typeClass = OffsetDateTimeUTCType.class)\r\npackage com.tld;\r\n\r\nimport org.hibernate.annotations.TypeDef;\r\nimport com.tld.OffsetDateTimeUTCType;\r\n\r\nimport java.time.OffsetDateTime;\r\n```\r\n\r\nand apply it to columns via:\r\n\r\n```java\r\n@Type(type = &quot;OffsetDateTimeUTC&quot;)\r\n```","title":"Hibernate is mapping OffsetDateTime field with timezone based on System default","body":"<p>IMO, Hibernate's behaviour looks more natural rather than your desire, at least it is consistent with the output <code>OffsetDateTime.now()</code>.</p>\n<p>However, in any case you need to write some code to support desired behaviour, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// OffsetDateTimeUTCJavaDescriptor.java\n\npublic class OffsetDateTimeUTCJavaDescriptor extends OffsetDateTimeJavaDescriptor {\n\n    public static final OffsetDateTimeUTCJavaDescriptor INSTANCE = new OffsetDateTimeUTCJavaDescriptor();\n\n    @Override\n    public &lt;X&gt; OffsetDateTime wrap(X value, WrapperOptions options) {\n        OffsetDateTime result = super.wrap(value, options);\n        if (result == null) {\n            return null;\n        }\n        return result.withOffsetSameInstant(ZoneOffset.UTC);\n    }\n    \n}\n\n// OffsetDateTimeUTCType.java\n\npublic class OffsetDateTimeUTCType extends OffsetDateTimeType {\n\n    public OffsetDateTimeUTCType() {\n        setJavaTypeDescriptor(OffsetDateTimeUTCJavaDescriptor.INSTANCE);\n    }\n\n    @Override\n    public OffsetDateTime seed(SharedSessionContractImplementor session) {\n        return super.seed(session).withOffsetSameInstant(ZoneOffset.UTC);\n    }\n\n    @Override\n    public OffsetDateTime next(OffsetDateTime current, SharedSessionContractImplementor session) {\n        return super.next(current, session).withOffsetSameInstant(ZoneOffset.UTC);\n    }\n\n}\n\n</code></pre>\n<p>Now, the problem is <code>Hibernate</code> (at least <code>v5</code>) does not provide any option to sync database metadata with JPA metadata, so you need to do that ~manually and actually two options exist:</p>\n<p>I. completely override built-in definition of <code>OffsetDateTime</code> type, and use new convention everywhere:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// package-info.java\n\n@TypeDef(name = &quot;OffsetDateTimeUTC&quot;, typeClass = OffsetDateTimeUTCType.class, defaultForType = OffsetDateTime.class)\npackage com.tld;\n\nimport org.hibernate.annotations.TypeDef;\nimport com.tld.OffsetDateTimeUTCType;\n\nimport java.time.OffsetDateTime;\n</code></pre>\n<p>II. just register new type definition without overriding defaults:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// package-info.java\n\n@TypeDef(name = &quot;OffsetDateTimeUTC&quot;, typeClass = OffsetDateTimeUTCType.class)\npackage com.tld;\n\nimport org.hibernate.annotations.TypeDef;\nimport com.tld.OffsetDateTimeUTCType;\n\nimport java.time.OffsetDateTime;\n</code></pre>\n<p>and apply it to columns via:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Type(type = &quot;OffsetDateTimeUTC&quot;)\n</code></pre>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1694883340,"creation_date":1694776213,"question_id":77111868,"body_markdown":"I am using PostgreSQL as the back end database and I have a table with a timestamptz column. Database server is set to use UTC as default (not related here though).\r\n\r\nThen I have an entity class for this table and have this timestamptz column maps to `OffsetDateTime`, e.g.:\r\n\r\n    @Entity public class MyTable {\r\n        ...\r\n        private OffsetDateTime timestamptzCol;\r\n        ...\r\n    }\r\n\r\nEverything works except the object constructed by Hibernate is using System default timezone instead of following the exact value returned by PostgreSQL (&quot;UTC&quot; in this case). I traced it back to the Hibernate source code in `OffsetDateTimeJavaDescriptor.java` line 127\r\n\r\n    return OffsetDateTime.ofInstant( ts.toInstant(), ZoneId.systemDefault() );\r\n\r\nThere `ts` is of type `java.sql.Timestamp`.\r\n\r\nSurely I understand that `java.sql.Timestamp` is basically a `java.util.Date`, which is without timezone element. So my question is, how to instruct Hibernate to preserve the exact timestamptz value (with timezone) when mapping to `OffsetDateTime`?","title":"Hibernate is mapping OffsetDateTime field with timezone based on System default","body":"<p>I am using PostgreSQL as the back end database and I have a table with a timestamptz column. Database server is set to use UTC as default (not related here though).</p>\n<p>Then I have an entity class for this table and have this timestamptz column maps to <code>OffsetDateTime</code>, e.g.:</p>\n<pre><code>@Entity public class MyTable {\n    ...\n    private OffsetDateTime timestamptzCol;\n    ...\n}\n</code></pre>\n<p>Everything works except the object constructed by Hibernate is using System default timezone instead of following the exact value returned by PostgreSQL (&quot;UTC&quot; in this case). I traced it back to the Hibernate source code in <code>OffsetDateTimeJavaDescriptor.java</code> line 127</p>\n<pre><code>return OffsetDateTime.ofInstant( ts.toInstant(), ZoneId.systemDefault() );\n</code></pre>\n<p>There <code>ts</code> is of type <code>java.sql.Timestamp</code>.</p>\n<p>Surely I understand that <code>java.sql.Timestamp</code> is basically a <code>java.util.Date</code>, which is without timezone element. So my question is, how to instruct Hibernate to preserve the exact timestamptz value (with timezone) when mapping to <code>OffsetDateTime</code>?</p>\n"},{"tags":["java","android","file","path","uri"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1694857545,"post_id":77117162,"comment_id":135948504,"body_markdown":"`String uPath = uuu.getPath(); // this will return - /external_files/Pictures/A` That is no path. That is a nonsense path. Have a look at uuu.toString() to see the content scheme for your path.","body":"<code>String uPath = uuu.getPath(); &#47;&#47; this will return - &#47;external_files&#47;Pictures&#47;A</code> That is no path. That is a nonsense path. Have a look at uuu.toString() to see the content scheme for your path."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694857680,"post_id":77117162,"comment_id":135948513,"body_markdown":"Only just remember your files path for later use. You only need an uri fo access if you want to let another app read or write your file.","body":"Only just remember your files path for later use. You only need an uri fo access if you want to let another app read or write your file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694857941,"post_id":77117162,"comment_id":135948526,"body_markdown":"If you compare uuu.toString() and uuu.getPath() and had a look at your FileProvider paths xml file you would see where this /external_files/ came from. And yes at the moment you understand how getUriForFile() works you could decode your file path from the file provider uri.","body":"If you compare uuu.toString() and uuu.getPath() and had a look at your FileProvider paths xml file you would see where this /external_files/ came from. And yes at the moment you understand how getUriForFile() works you could decode your file path from the file provider uri."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694858149,"post_id":77117162,"comment_id":135948543,"body_markdown":"`Is it not possible to keep just the URI and get the proper path when we need it?` You could just keep the uri and use the uri when you need it.There is no reason to get path back from uri as you can use the uri to read and write your file and even to delete it.","body":"<code>Is it not possible to keep just the URI and get the proper path when we need it?</code> You could just keep the uri and use the uri when you need it.There is no reason to get path back from uri as you can use the uri to read and write your file and even to delete it."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694883151,"creation_date":1694883151,"answer_id":77118730,"question_id":77117162,"body_markdown":"The difference between the two paths you are seeing is because one is a file system path: /storage/emulated/0/Pictures/A and the other is a content URI path /external_files/Pictures/A that is provided by android FileProvider.\r\n\r\nYou can&#39;t get the real file path from a URI returned by a FileProvider directly. The URI is content://scheme and it&#39;s not a file://scheme. The FileProvider is providing an abstraction to the actual file location. If you need the real file path, you should store it when you create the file. \r\n\r\nIf you are sure that you will only be using the file in your own app, you might opt for keeping the file path and creating a URI when needed to share it. You can create the URI using FileProvider.getUriForFile() whenever you need it.\r\n\r\nFrom my experience, I use FileProvider only when I had to provide access to local files to other apps. Internally I used known location of such files - using their absolute paths.","title":"Android URI wrong path why?","body":"<p>The difference between the two paths you are seeing is because one is a file system path: /storage/emulated/0/Pictures/A and the other is a content URI path /external_files/Pictures/A that is provided by android FileProvider.</p>\n<p>You can't get the real file path from a URI returned by a FileProvider directly. The URI is content://scheme and it's not a file://scheme. The FileProvider is providing an abstraction to the actual file location. If you need the real file path, you should store it when you create the file.</p>\n<p>If you are sure that you will only be using the file in your own app, you might opt for keeping the file path and creating a URI when needed to share it. You can create the URI using FileProvider.getUriForFile() whenever you need it.</p>\n<p>From my experience, I use FileProvider only when I had to provide access to local files to other apps. Internally I used known location of such files - using their absolute paths.</p>\n"}],"owner":{"account_id":10882257,"reputation":31,"user_id":8000762,"display_name":"Bisser Milanov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694883151,"creation_date":1694856895,"question_id":77117162,"body_markdown":"I have a file \r\n\r\n    File tempFile = ....// creating the file\r\n    String fPath = temFile.getPath(); //this will return - /storage/emulated/0/Pictures/A\r\n    //After that I get the URI\r\n    URI uuu = FileProvider.getUriForFile(this,\r\n                            &quot;com.example....app.provider&quot;,\r\n                            tempFile);\r\n    String uPath = uuu.getPath(); // this will return - /external_files/Pictures/A\r\n       \r\n\r\nHow can I get the first path from the URI (/storage...). I can&#39;t do anything with the second (/external...). Every function I use with the second path results in an error.\r\n\r\nAt present what I do is I create the file get the URI and also get the path and remember both so later I use whichever I need. Is it not possible to keep just the URI and get the proper path when we need it?\r\n\r\nOr perhaps I should have kept just the path and create URI whenever I need it.\r\n\r\n\r\nI already explained above","title":"Android URI wrong path why?","body":"<p>I have a file</p>\n<pre><code>File tempFile = ....// creating the file\nString fPath = temFile.getPath(); //this will return - /storage/emulated/0/Pictures/A\n//After that I get the URI\nURI uuu = FileProvider.getUriForFile(this,\n                        &quot;com.example....app.provider&quot;,\n                        tempFile);\nString uPath = uuu.getPath(); // this will return - /external_files/Pictures/A\n   \n</code></pre>\n<p>How can I get the first path from the URI (/storage...). I can't do anything with the second (/external...). Every function I use with the second path results in an error.</p>\n<p>At present what I do is I create the file get the URI and also get the path and remember both so later I use whichever I need. Is it not possible to keep just the URI and get the proper path when we need it?</p>\n<p>Or perhaps I should have kept just the path and create URI whenever I need it.</p>\n<p>I already explained above</p>\n"},{"tags":["java","java-11","resin","openjdk-11"],"answers":[{"comments":[{"owner":{"account_id":91808,"reputation":3391,"user_id":251914,"accept_rate":43,"display_name":"Rick"},"score":0,"creation_date":1603740366,"post_id":64530349,"comment_id":114126831,"body_markdown":"I finally ended up rewriting my app against Spring Boot, so I won&#39;t be able to test this, but thanks for the answer!","body":"I finally ended up rewriting my app against Spring Boot, so I won&#39;t be able to test this, but thanks for the answer!"}],"tags":[],"owner":{"account_id":5507733,"reputation":21,"user_id":4375123,"display_name":"Gigagram"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603674220,"creation_date":1603674220,"answer_id":64530349,"question_id":61187162,"body_markdown":"A similar error was discussed in the [octave issue tracker][1] about 1 month after this question was asked. They speculate the `-Djava.system.class.loader=XXX` line was added as a workaround for an old Sun JVM. Now that other JVMs are used, they have a patch that prevents the property from being set.\r\n\r\nI invoked the following java code from octave, which worked in my case:\r\n\r\n`java.lang.System.clearProperty(&quot;java.system.class.loader&quot;)`\r\n\r\n\r\n  [1]: http://savannah.gnu.org/bugs/?55174\r\n","title":"OpenJDK 64-Bit Server VM warning: Archived non-system classes are disabled (resin, Ubuntu, OpenJDK 11)","body":"<p>A similar error was discussed in the <a href=\"http://savannah.gnu.org/bugs/?55174\" rel=\"nofollow noreferrer\">octave issue tracker</a> about 1 month after this question was asked. They speculate the <code>-Djava.system.class.loader=XXX</code> line was added as a workaround for an old Sun JVM. Now that other JVMs are used, they have a patch that prevents the property from being set.</p>\n<p>I invoked the following java code from octave, which worked in my case:</p>\n<p><code>java.lang.System.clearProperty(&quot;java.system.class.loader&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":21077631,"reputation":41,"user_id":15492656,"display_name":"Dmitry V."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694882808,"creation_date":1694882808,"answer_id":77118716,"question_id":61187162,"body_markdown":"The same problem occurs when Idea didn&#39;t find `idea64.vmoptions` file.\r\nThe reason and solution I described in my another [answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77118240/15492656","title":"OpenJDK 64-Bit Server VM warning: Archived non-system classes are disabled (resin, Ubuntu, OpenJDK 11)","body":"<p>The same problem occurs when Idea didn't find <code>idea64.vmoptions</code> file.\nThe reason and solution I described in my another <a href=\"https://stackoverflow.com/a/77118240/15492656\">answer</a>.</p>\n"}],"owner":{"account_id":91808,"reputation":3391,"user_id":251914,"accept_rate":43,"display_name":"Rick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6647,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1694882808,"creation_date":1586778239,"question_id":61187162,"body_markdown":"I&#39;ve been running this old Caucho Resin (4.0.41) for many, many years on an Ubuntu box. I need to retire that server, so I&#39;m trying to set up resin 4.0.64 on a new Ubuntu 18.04.4 server, and after a lot of poking and fiddling, it&#39;s launching, but ultimately failing early on with:\r\n\r\n```\r\nOpenJDK 64-Bit Server VM warning: Archived non-system classes are disabled because the java.system.class.loader property is specified (value = &quot;com.caucho.loader.SystemClassLoader&quot;). To use archived non-system classes, this property must be not be set\r\nError occurred during initialization of VM\r\njava.lang.Error: com.caucho.loader.SystemClassLoader\r\n\tat java.lang.ClassLoader.initSystemClassLoader(java.base@11.0.6/ClassLoader.java:1989)\r\n\tat java.lang.System.initPhase3(java.base@11.0.6/System.java:2069)\r\nCaused by: java.lang.ClassNotFoundException: com.caucho.loader.SystemClassLoader\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(java.base@11.0.6/BuiltinClassLoader.java:581)\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(java.base@11.0.6/ClassLoaders.java:178)\r\n\tat java.lang.ClassLoader.loadClass(java.base@11.0.6/ClassLoader.java:521)\r\n\tat java.lang.Class.forName0(java.base@11.0.6/Native Method)\r\n\tat java.lang.Class.forName(java.base@11.0.6/Class.java:398)\r\n\tat java.lang.ClassLoader.initSystemClassLoader(java.base@11.0.6/ClassLoader.java:1975)\r\n\tat java.lang.System.initPhase3(java.base@11.0.6/System.java:2069)\r\n```\r\n\r\nI can&#39;t seem to find any results googling for this, and I can&#39;t find any thing obvious that sets  `java.system.class.loader`.\r\n\r\nAny suggestions? Thanks!","title":"OpenJDK 64-Bit Server VM warning: Archived non-system classes are disabled (resin, Ubuntu, OpenJDK 11)","body":"<p>I've been running this old Caucho Resin (4.0.41) for many, many years on an Ubuntu box. I need to retire that server, so I'm trying to set up resin 4.0.64 on a new Ubuntu 18.04.4 server, and after a lot of poking and fiddling, it's launching, but ultimately failing early on with:</p>\n\n<pre><code>OpenJDK 64-Bit Server VM warning: Archived non-system classes are disabled because the java.system.class.loader property is specified (value = \"com.caucho.loader.SystemClassLoader\"). To use archived non-system classes, this property must be not be set\nError occurred during initialization of VM\njava.lang.Error: com.caucho.loader.SystemClassLoader\n    at java.lang.ClassLoader.initSystemClassLoader(java.base@11.0.6/ClassLoader.java:1989)\n    at java.lang.System.initPhase3(java.base@11.0.6/System.java:2069)\nCaused by: java.lang.ClassNotFoundException: com.caucho.loader.SystemClassLoader\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(java.base@11.0.6/BuiltinClassLoader.java:581)\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(java.base@11.0.6/ClassLoaders.java:178)\n    at java.lang.ClassLoader.loadClass(java.base@11.0.6/ClassLoader.java:521)\n    at java.lang.Class.forName0(java.base@11.0.6/Native Method)\n    at java.lang.Class.forName(java.base@11.0.6/Class.java:398)\n    at java.lang.ClassLoader.initSystemClassLoader(java.base@11.0.6/ClassLoader.java:1975)\n    at java.lang.System.initPhase3(java.base@11.0.6/System.java:2069)\n</code></pre>\n\n<p>I can't seem to find any results googling for this, and I can't find any thing obvious that sets  <code>java.system.class.loader</code>.</p>\n\n<p>Any suggestions? Thanks!</p>\n"},{"tags":["java","spring-boot","soap","wsdl"],"comments":[{"owner":{"account_id":4284874,"reputation":835,"user_id":3503018,"accept_rate":38,"display_name":"soufrk"},"score":0,"creation_date":1529926322,"post_id":51022447,"comment_id":89037312,"body_markdown":"Check the web-service URL `http://www.webservicex.com/stockquote.asmx?WSDL`. It doesn&#39;t exist. I&#39;m hoping if you point to a web-service url that returns a WSDL, it will work.","body":"Check the web-service URL <code>http:&#47;&#47;www.webservicex.com&#47;stockquote.asmx?WSDL</code>. It doesn&#39;t exist. I&#39;m hoping if you point to a web-service url that returns a WSDL, it will work."},{"owner":{"account_id":3057096,"reputation":1027,"user_id":2590481,"accept_rate":67,"display_name":"Raistlin"},"score":0,"creation_date":1529926594,"post_id":51022447,"comment_id":89037475,"body_markdown":"Thanks for the comment, but as you can see, I have another url in my pom which points to an existing wsdl ;)","body":"Thanks for the comment, but as you can see, I have another url in my pom which points to an existing wsdl ;)"},{"owner":{"account_id":4284874,"reputation":835,"user_id":3503018,"accept_rate":38,"display_name":"soufrk"},"score":0,"creation_date":1529927809,"post_id":51022447,"comment_id":89038183,"body_markdown":"I tried with [this](http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl) web-service. And it worked.","body":"I tried with <a href=\"http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl\" rel=\"nofollow noreferrer\">this</a> web-service. And it worked."},{"owner":{"account_id":3057096,"reputation":1027,"user_id":2590481,"accept_rate":67,"display_name":"Raistlin"},"score":0,"creation_date":1529930974,"post_id":51022447,"comment_id":89040194,"body_markdown":"Strange, still no class generation","body":"Strange, still no class generation"}],"answers":[{"comments":[{"owner":{"account_id":12368769,"reputation":81,"user_id":9019797,"display_name":"Mohammed Salah"},"score":0,"creation_date":1633862270,"post_id":51036986,"comment_id":122868883,"body_markdown":"Works fine, thanks","body":"Works fine, thanks"}],"tags":[],"owner":{"account_id":3220587,"reputation":10793,"user_id":2718151,"accept_rate":50,"display_name":"Nicola Ben"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529997365,"creation_date":1529997365,"answer_id":51036986,"question_id":51022447,"body_markdown":"Try to remove tag `pluginManagement`\r\n\r\nIt&#39;s used to fix a determined version of plugin.","title":"springboot won&#39;t generate classes from wsdl","body":"<p>Try to remove tag <code>pluginManagement</code></p>\n\n<p>It's used to fix a determined version of plugin.</p>\n"},{"tags":[],"owner":{"account_id":12661593,"reputation":291,"user_id":9202276,"display_name":"lazyduckiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1530007578,"creation_date":1530007578,"answer_id":51040192,"question_id":51022447,"body_markdown":"Try use the following plugin:- \r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.2.4&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;sourceRoot&gt;${project.build.directory}/generated/cxf&lt;/sourceRoot&gt;\r\n    \t\t\t\t\t\t\t&lt;wsdlOptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;wsdlOption&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;wsdl&gt;${basedir}/src/main/resources/wsdl/wsdlFile.wsdl&lt;/wsdl&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/wsdlOption&gt;\r\n    \t\t\t\t\t\t\t&lt;/wsdlOptions&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\nI recommend also to have the following dependencies in your pom.xml:-\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;cxf-spring-boot-starter-jaxws&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"springboot won&#39;t generate classes from wsdl","body":"<p>Try use the following plugin:- </p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-sources&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceRoot&gt;${project.build.directory}/generated/cxf&lt;/sourceRoot&gt;\n                            &lt;wsdlOptions&gt;\n                                &lt;wsdlOption&gt;\n                                    &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/wsdlFile.wsdl&lt;/wsdl&gt;\n                                &lt;/wsdlOption&gt;\n                            &lt;/wsdlOptions&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>I recommend also to have the following dependencies in your pom.xml:-</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-spring-boot-starter-jaxws&lt;/artifactId&gt;\n    &lt;version&gt;3.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10145481,"reputation":116,"user_id":7493769,"display_name":"santosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539337955,"creation_date":1530014867,"answer_id":51042561,"question_id":51022447,"body_markdown":"Try the following code in pom.xml. This will help you to generate java classes when you are using multiple wdsl. If you are using single WSDL then remove the last execution block from the below code.\r\n\r\n\r\n     &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.14.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;number-conversion&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n                            &lt;generatePackage&gt;com.walking.techie.number.conversion.wsdl&lt;/generatePackage&gt;\r\n                            &lt;generateDirectory&gt;${project.basedir}/src/main/java&lt;/generateDirectory&gt;\r\n                            &lt;schemas&gt;\r\n                                &lt;schema&gt;\r\n                                    &lt;url&gt;http://www.dataaccess.com/webservicesserver/numberconversion.wso?WSDL&lt;/url&gt;\r\n                                &lt;/schema&gt;\r\n                            &lt;/schemas&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;commerce-service&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n                            &lt;generatePackage&gt;com.walking.techie.wsdl&lt;/generatePackage&gt;\r\n                            &lt;generateDirectory&gt;${project.basedir}/src/main/java&lt;/generateDirectory&gt;\r\n                            &lt;schemas&gt;\r\n                                &lt;schema&gt;\r\n                                    &lt;url&gt;http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&lt;/url&gt;\r\n                                &lt;/schema&gt;\r\n                            &lt;/schemas&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n        You can include the below maven dependency in the pom.xml file if you are using spring boot. It will provide WebServiceGatewaySupport class. You can extend this class in service layer and use getWebServiceTemplate().marshalSendAndReceive() method to call the wsdl service.\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"springboot won&#39;t generate classes from wsdl","body":"<p>Try the following code in pom.xml. This will help you to generate java classes when you are using multiple wdsl. If you are using single WSDL then remove the last execution block from the below code.</p>\n\n<pre><code> &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.14.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;number-conversion&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n                        &lt;generatePackage&gt;com.walking.techie.number.conversion.wsdl&lt;/generatePackage&gt;\n                        &lt;generateDirectory&gt;${project.basedir}/src/main/java&lt;/generateDirectory&gt;\n                        &lt;schemas&gt;\n                            &lt;schema&gt;\n                                &lt;url&gt;http://www.dataaccess.com/webservicesserver/numberconversion.wso?WSDL&lt;/url&gt;\n                            &lt;/schema&gt;\n                        &lt;/schemas&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;commerce-service&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n                        &lt;generatePackage&gt;com.walking.techie.wsdl&lt;/generatePackage&gt;\n                        &lt;generateDirectory&gt;${project.basedir}/src/main/java&lt;/generateDirectory&gt;\n                        &lt;schemas&gt;\n                            &lt;schema&gt;\n                                &lt;url&gt;http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&lt;/url&gt;\n                            &lt;/schema&gt;\n                        &lt;/schemas&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n\n    You can include the below maven dependency in the pom.xml file if you are using spring boot. It will provide WebServiceGatewaySupport class. You can extend this class in service layer and use getWebServiceTemplate().marshalSendAndReceive() method to call the wsdl service.\n &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13797408,"reputation":11,"user_id":9958267,"display_name":"ns_piumal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694882429,"creation_date":1694882429,"answer_id":77118691,"question_id":51022447,"body_markdown":"    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.15.3&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;generate&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;args&gt;\r\n                            &lt;arg&gt;-wsdl&lt;/arg&gt; &lt;!-- Enable WSDL support --&gt;\r\n                        &lt;/args&gt;\r\n                        &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n                        &lt;generatePackage&gt;com.exmple.services.wsdl&lt;/generatePackage&gt;\r\n                        &lt;generateDirectory&gt;${project.basedir}/src/main/java&lt;/generateDirectory&gt;\r\n                        &lt;schemaDirectory&gt;${project.basedir}/src/main/resources/wsdl&lt;/schemaDirectory&gt;\r\n                        &lt;schemaIncludes&gt;\r\n                            &lt;include&gt;*.wsdl&lt;/include&gt;\r\n                        &lt;/schemaIncludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;","title":"springboot won&#39;t generate classes from wsdl","body":"<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.15.3&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;generate&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-wsdl&lt;/arg&gt; &lt;!-- Enable WSDL support --&gt;\n                    &lt;/args&gt;\n                    &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n                    &lt;generatePackage&gt;com.exmple.services.wsdl&lt;/generatePackage&gt;\n                    &lt;generateDirectory&gt;${project.basedir}/src/main/java&lt;/generateDirectory&gt;\n                    &lt;schemaDirectory&gt;${project.basedir}/src/main/resources/wsdl&lt;/schemaDirectory&gt;\n                    &lt;schemaIncludes&gt;\n                        &lt;include&gt;*.wsdl&lt;/include&gt;\n                    &lt;/schemaIncludes&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3057096,"reputation":1027,"user_id":2590481,"accept_rate":67,"display_name":"Raistlin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14015,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51040192,"answer_count":4,"score":3,"last_activity_date":1694882429,"creation_date":1529926215,"question_id":51022447,"body_markdown":"I tried a tutorial about consuming a SOAP web service via spring boot([GETTING STARTED - Consuming a SOAP web service][1]). But the classes are not generated when running the maven build. I&#39;m totally new to this topic and need some help finding my mistake. Here is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;de.baumgarten&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springwsdlconsume&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.1.0&lt;/version&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!-- tag::wsdl[] --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;0.12.3&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n\t\t\t\t\t\t&lt;generatePackage&gt;de.baumgarten.springwsdlconsume.hello.wsdl&lt;/generatePackage&gt;\r\n\t\t\t\t\t\t&lt;schemas&gt;\r\n\t\t\t\t\t\t\t&lt;schema&gt;\r\n\t\t\t\t\t\t\t\t&lt;url&gt;http://localhost:8080/ws/my_wsdl.wsdl&lt;/url&gt;\r\n\t\t\t\t\t\t\t&lt;/schema&gt;\r\n\t\t\t\t\t\t&lt;/schemas&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!-- end::wsdl[] --&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nMaven build is successfull. It seems like the generate goal is never called. But that&#39;s just a guess.\r\n\r\n  [1]: https://spring.io/guides/gs/consuming-web-service/","title":"springboot won&#39;t generate classes from wsdl","body":"<p>I tried a tutorial about consuming a SOAP web service via spring boot(<a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"nofollow noreferrer\">GETTING STARTED - Consuming a SOAP web service</a>). But the classes are not generated when running the maven build. I'm totally new to this topic and need some help finding my mistake. Here is my pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;de.baumgarten&lt;/groupId&gt;\n&lt;artifactId&gt;springwsdlconsume&lt;/artifactId&gt;\n&lt;version&gt;0.1.0&lt;/version&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;!-- tag::wsdl[] --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.12.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n                    &lt;generatePackage&gt;de.baumgarten.springwsdlconsume.hello.wsdl&lt;/generatePackage&gt;\n                    &lt;schemas&gt;\n                        &lt;schema&gt;\n                            &lt;url&gt;http://localhost:8080/ws/my_wsdl.wsdl&lt;/url&gt;\n                        &lt;/schema&gt;\n                    &lt;/schemas&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- end::wsdl[] --&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Maven build is successfull. It seems like the generate goal is never called. But that's just a guess.</p>\n"},{"tags":["java","spring","spring-boot","bean-validation"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694856431,"post_id":77116490,"comment_id":135948408,"body_markdown":"why you are not using `@Size(min = 2)` of field level  instead of `ConstraintValidator` ? because in my opinion you should create something custom when spring not provide it for us.","body":"why you are not using <code>@Size(min = 2)</code> of field level  instead of <code>ConstraintValidator</code> ? because in my opinion you should create something custom when spring not provide it for us."},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1694860812,"post_id":77116490,"comment_id":135948768,"body_markdown":"Check for length &gt;  2 - only sample . IsValid planned to contain more logic ( for example validation of multiple fields) . Thus I am trying to use custom validator","body":"Check for length &gt;  2 - only sample . IsValid planned to contain more logic ( for example validation of multiple fields) . Thus I am trying to use custom validator"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1694861468,"post_id":77116490,"comment_id":135948836,"body_markdown":"In this case yes I am agree, just follow @KenChan answer it will help you","body":"In this case yes I am agree, just follow @KenChan answer it will help you"}],"answers":[{"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1694861270,"post_id":77117408,"comment_id":135948808,"body_markdown":"welcome. please consider to upvote or accept my answer if you find it useful to you. I spend many time to help you for free.thanks","body":"welcome. please consider to upvote or accept my answer if you find it useful to you. I spend many time to help you for free.thanks"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1694875206,"post_id":77117408,"comment_id":135950311,"body_markdown":"Thanks  Ken Chan again - it looks good","body":"Thanks  Ken Chan again - it looks good"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694861422,"creation_date":1694860878,"answer_id":77117408,"question_id":77116490,"body_markdown":"The validation will not take place automatically , you have to somehow invoke it using the bean validation API (e.g. `Validator`)\r\n\r\nPresume spring-boot already auto-configures a `Validator` , in your case you could trigger the validation programatically by : \r\n\r\n``` java\r\nprivate static void testChangePwd(ApplicationContext applicationContext) {\r\n    \r\n    ChangePasswordBody pwdBody = new ChangePasswordBody();\r\n    pwdBody.setNewPassword(&quot;l&quot;);  \r\n\r\n    Validator validator = applicationContext.getBean(Validator.class);\r\n    Set&lt;ConstraintViolation&lt;ChangePasswordBody&gt;&gt; validationErrors =  validator.validate(pwdBody);\r\n\r\n    //handle the validationErrors here...\r\n}\r\n```\r\n\r\nBut it is a very bad idea that it requires to get a bean from the spring context in the business codes as it would couple it to spring . A much better approach is to make the object that you want to validate as the method argument and validate it through executing that method. \r\n\r\nSomething likes : \r\n\r\n\r\n``` java\r\n@Validated\r\npublic class PasswordService {\r\n\r\n    public void changePassword(@Valid ChangePasswordBody request) {\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd if `ChangePasswordBody` fails the validation , it will throw `ConstraintViolationException`.  ","title":"Custom constraintvalidator in spring boot app does not invoked","body":"<p>The validation will not take place automatically , you have to somehow invoke it using the bean validation API (e.g. <code>Validator</code>)</p>\n<p>Presume spring-boot already auto-configures a <code>Validator</code> , in your case you could trigger the validation programatically by :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void testChangePwd(ApplicationContext applicationContext) {\n    \n    ChangePasswordBody pwdBody = new ChangePasswordBody();\n    pwdBody.setNewPassword(&quot;l&quot;);  \n\n    Validator validator = applicationContext.getBean(Validator.class);\n    Set&lt;ConstraintViolation&lt;ChangePasswordBody&gt;&gt; validationErrors =  validator.validate(pwdBody);\n\n    //handle the validationErrors here...\n}\n</code></pre>\n<p>But it is a very bad idea that it requires to get a bean from the spring context in the business codes as it would couple it to spring . A much better approach is to make the object that you want to validate as the method argument and validate it through executing that method.</p>\n<p>Something likes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Validated\npublic class PasswordService {\n\n    public void changePassword(@Valid ChangePasswordBody request) {\n\n    }\n}\n\n</code></pre>\n<p>And if <code>ChangePasswordBody</code> fails the validation , it will throw <code>ConstraintViolationException</code>.</p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77117408,"answer_count":1,"score":1,"last_activity_date":1694881915,"creation_date":1694842571,"question_id":77116490,"body_markdown":"I am trying to create custom validator for some class\r\nI defined constraint as following ( according to different samples , for example from [here][1] ) \r\n\r\n    @Target({ TYPE, ANNOTATION_TYPE })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = { MyClassValidator.class })\r\n    @Documented\r\n    public @interface MyClassValid {\r\n        String message() default &quot;The password2 does not comply with the rules&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\nThen I created corresponding validator :    \r\n\r\n     public class MyClassValidator implements ConstraintValidator&lt;MyClassValid, ChangePasswordBody&gt; {\r\n            @Override\r\n            public boolean isValid(ChangePasswordBody value, ConstraintValidatorContext context) {\r\n                \r\n    /*This check only for sample . Ot can be replaced by other logic*/\r\n    if (value.getNewPassword().length() &gt; 2 ) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n\r\nClass to be validated : \r\n\r\n    @MyClassValid\r\n    public class ChangePasswordBody {\r\n        private String oldPassword;\r\n        private String newPassword;\r\n    \r\n        public String getOldPassword() {\r\n            return oldPassword;\r\n        }\r\n    \r\n        public void setOldPassword(String oldPassword) {\r\n            this.oldPassword = oldPassword;\r\n        }\r\n    \r\n        public String getNewPassword() {\r\n            return newPassword;\r\n        }\r\n        \r\n        public void setNewPassword(String newPassword) {\r\n            this.newPassword = newPassword;\r\n        }\r\n    }\r\n\r\nThis is code using ChangePasswordBody\r\n\r\n    private static void testChangePwd(ApplicationContext applicationContext) {\r\n    \t//...\r\n    \tChangePasswordBody pwdBody = new ChangePasswordBody();\r\n    \tisValidPassword(pwdBody);\r\n    \t//...\r\n    }\r\n    private static void isValidPassword(ChangePasswordBody pwdBody) {\r\n    \tpwdBody.setNewPassword(&quot;l&quot;); \r\n    }\r\n\r\nI see that when executing `testChangePwd` method - MyClassValidator.isValid is not invoked. Is there something missing / wrong in the code ? Thanks in advance \r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30876820/how-to-conditionally-invoke-spring-validators\r\n","title":"Custom constraintvalidator in spring boot app does not invoked","body":"<p>I am trying to create custom validator for some class\nI defined constraint as following ( according to different samples , for example from <a href=\"https://stackoverflow.com/questions/30876820/how-to-conditionally-invoke-spring-validators\">here</a> )</p>\n<pre><code>@Target({ TYPE, ANNOTATION_TYPE })\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = { MyClassValidator.class })\n@Documented\npublic @interface MyClassValid {\n    String message() default &quot;The password2 does not comply with the rules&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>Then I created corresponding validator :</p>\n<pre><code> public class MyClassValidator implements ConstraintValidator&lt;MyClassValid, ChangePasswordBody&gt; {\n        @Override\n        public boolean isValid(ChangePasswordBody value, ConstraintValidatorContext context) {\n            \n/*This check only for sample . Ot can be replaced by other logic*/\nif (value.getNewPassword().length() &gt; 2 ) {\n                return true;\n            }\n            return false;\n        }\n    }\n</code></pre>\n<p>Class to be validated :</p>\n<pre><code>@MyClassValid\npublic class ChangePasswordBody {\n    private String oldPassword;\n    private String newPassword;\n\n    public String getOldPassword() {\n        return oldPassword;\n    }\n\n    public void setOldPassword(String oldPassword) {\n        this.oldPassword = oldPassword;\n    }\n\n    public String getNewPassword() {\n        return newPassword;\n    }\n    \n    public void setNewPassword(String newPassword) {\n        this.newPassword = newPassword;\n    }\n}\n</code></pre>\n<p>This is code using ChangePasswordBody</p>\n<pre><code>private static void testChangePwd(ApplicationContext applicationContext) {\n    //...\n    ChangePasswordBody pwdBody = new ChangePasswordBody();\n    isValidPassword(pwdBody);\n    //...\n}\nprivate static void isValidPassword(ChangePasswordBody pwdBody) {\n    pwdBody.setNewPassword(&quot;l&quot;); \n}\n</code></pre>\n<p>I see that when executing <code>testChangePwd</code> method - MyClassValidator.isValid is not invoked. Is there something missing / wrong in the code ? Thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","rest","swagger"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1694828239,"post_id":77115264,"comment_id":135946699,"body_markdown":"Could we please get a [mcve]?","body":"Could we please get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695117774,"post_id":77118585,"comment_id":135978274,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77118585/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23945000,"reputation":1,"user_id":17937464,"display_name":"Ashfaq"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694880762,"creation_date":1694880762,"answer_id":77118585,"question_id":77115264,"body_markdown":"The URL should typically be \r\nhttp://localhost:8080/swagger-ui/index.html or similar, depending on your context path and configuration.","title":"Set up Swagger in a Spring Boot project in microservices","body":"<p>The URL should typically be\nhttp://localhost:8080/swagger-ui/index.html or similar, depending on your context path and configuration.</p>\n"}],"owner":{"account_id":18571177,"reputation":1,"user_id":13532977,"display_name":"Simone Campisi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694880762,"creation_date":1694810580,"question_id":77115264,"body_markdown":"I am developing a microservices project consisting of the following applications:\r\n\\-Discovery Server\r\n\\-Gateway\r\n\\-Elemental Service (the main microservice)\r\n\\-Chat Service (microservice that manages a chat in real time).\r\n\r\nNow, I would like to set up Swagger, so that accessing the URI http://localhost:8080/swagger-ui/\r\nI can see all the microservices APIs.\r\n\r\nI tried setting the following dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;         \r\n   &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n   &lt;version&gt;2.0.0&lt;/version&gt;       \r\n&lt;/dependency&gt;\r\n```\r\n\r\nin my project&#39;s pom.xml and in my gateway&#39;s pom.xml, but I still can&#39;t access Swagger.\r\n\r\nIf I access the Swagger page I get the 404 error.\r\n\r\nHow can I solve it?\r\nThanks in advance.","title":"Set up Swagger in a Spring Boot project in microservices","body":"<p>I am developing a microservices project consisting of the following applications:\n-Discovery Server\n-Gateway\n-Elemental Service (the main microservice)\n-Chat Service (microservice that manages a chat in real time).</p>\n<p>Now, I would like to set up Swagger, so that accessing the URI http://localhost:8080/swagger-ui/\nI can see all the microservices APIs.</p>\n<p>I tried setting the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;         \n   &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n   &lt;version&gt;2.0.0&lt;/version&gt;       \n&lt;/dependency&gt;\n</code></pre>\n<p>in my project's pom.xml and in my gateway's pom.xml, but I still can't access Swagger.</p>\n<p>If I access the Swagger page I get the 404 error.</p>\n<p>How can I solve it?\nThanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","mapping","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668185261,"creation_date":1668184600,"answer_id":74405581,"question_id":74405271,"body_markdown":"It is clear from the error message that the ```bean of type &#39;org.modelmapper.ModelMapper&#39;``` is missing. So please add the following bean to your project and try again.\r\n\r\n\r\n```\r\n@Bean\r\npublic ModelMapper modelMapper() {\r\n    return new ModelMapper();\r\n}\r\n```\r\n\r\n**Note :** *Add this bean in class annotated with ```@Configuration```.*","title":"Consider defining a bean of type &#39;org.modelmapper.ModelMapper&#39; in your configuration","body":"<p>It is clear from the error message that the <code>bean of type 'org.modelmapper.ModelMapper'</code> is missing. So please add the following bean to your project and try again.</p>\n<pre><code>@Bean\npublic ModelMapper modelMapper() {\n    return new ModelMapper();\n}\n</code></pre>\n<p><strong>Note :</strong> <em>Add this bean in class annotated with <code>@Configuration</code>.</em></p>\n"},{"comments":[{"owner":{"account_id":7684429,"reputation":298,"user_id":5822716,"display_name":"navis1692"},"score":0,"creation_date":1694612020,"post_id":74405585,"comment_id":135914099,"body_markdown":"Why constructor level annotation is better than @Autowire?","body":"Why constructor level annotation is better than @Autowire?"},{"owner":{"account_id":16744354,"reputation":504,"user_id":12103109,"display_name":"CaptainAye"},"score":1,"creation_date":1694704519,"post_id":74405585,"comment_id":135929282,"body_markdown":"Injecting beans through constructor allows you to easily mock these beans in testing, encouraging proper testing. Additionally, it will result in the cleaner design of your application, as you&#39;ll easily spot all the circular dependencies, which may be harder to spot with field injection.","body":"Injecting beans through constructor allows you to easily mock these beans in testing, encouraging proper testing. Additionally, it will result in the cleaner design of your application, as you&#39;ll easily spot all the circular dependencies, which may be harder to spot with field injection."}],"tags":[],"owner":{"account_id":16744354,"reputation":504,"user_id":12103109,"display_name":"CaptainAye"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694880467,"creation_date":1668184623,"answer_id":74405585,"question_id":74405271,"body_markdown":"Your ModelMapper class is not registered as spring bean, it is just a normal java class.\r\n In order to fix that, you need to create a `@Configuration` class that will define the bean if you&#39;d like to autowire it.\r\n\r\n    @Configuration\r\n    public class AppConfiguration {\r\n        @Bean\r\n        public ModelMapper modelMapper() {\r\n            return new ModelMapper();\r\n        }\r\n    } \r\n\r\nOtherwise, you cannot use spring dependency injection and you would have to create the object yourself with `new ModelMapper();`\r\n\r\nAnother tip is to avoid annotating fields with `@Autowire`. Constructor level annotation is enough.\r\n","title":"Consider defining a bean of type &#39;org.modelmapper.ModelMapper&#39; in your configuration","body":"<p>Your ModelMapper class is not registered as spring bean, it is just a normal java class.\nIn order to fix that, you need to create a <code>@Configuration</code> class that will define the bean if you'd like to autowire it.</p>\n<pre><code>@Configuration\npublic class AppConfiguration {\n    @Bean\n    public ModelMapper modelMapper() {\n        return new ModelMapper();\n    }\n} \n</code></pre>\n<p>Otherwise, you cannot use spring dependency injection and you would have to create the object yourself with <code>new ModelMapper();</code></p>\n<p>Another tip is to avoid annotating fields with <code>@Autowire</code>. Constructor level annotation is enough.</p>\n"},{"tags":[],"owner":{"account_id":22158464,"reputation":499,"user_id":16405839,"display_name":"M Nouman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673519747,"creation_date":1673519747,"answer_id":75094959,"question_id":74405271,"body_markdown":"As My application is working without `@Configuration` annotation.So I&#39;m supposing In **Spring Boot v3.0.1** there is no need for `@Configuration` annotation. `@SpringBootApplication` annotation in main class handles everything. **You just need `@Been` annotation method mentioned in the above answers**. ","title":"Consider defining a bean of type &#39;org.modelmapper.ModelMapper&#39; in your configuration","body":"<p>As My application is working without <code>@Configuration</code> annotation.So I'm supposing In <strong>Spring Boot v3.0.1</strong> there is no need for <code>@Configuration</code> annotation. <code>@SpringBootApplication</code> annotation in main class handles everything. <strong>You just need <code>@Been</code> annotation method mentioned in the above answers</strong>.</p>\n"}],"owner":{"account_id":26902479,"reputation":35,"user_id":20479398,"display_name":"Fatih Selvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74405585,"answer_count":3,"score":0,"last_activity_date":1694880467,"creation_date":1668183013,"question_id":74405271,"body_markdown":"**APPLICATION FAILED TO START**\r\n\r\n***************************\r\nParameter 1 of constructor in Kodlama.io.Devs.business.concretes.ProgrammingLanguageManager required a bean of type &#39;org.modelmapper.ModelMapper&#39; that could not be found.\r\n\r\nConsider defining a bean of type &#39;org.modelmapper.ModelMapper&#39; in your configuration.\r\n***************************\r\n\r\n**ProgrammingLanguageManager**\r\n```\r\n@Service\r\npublic class ProgrammingLanguageManager implements ProgrammingLanguageService {\r\n\r\n\t@Autowired\r\n\tprivate ProgrammingLanguageRepository programmingLanguageRepository;\r\n\tprivate ModelMapper modelMapper;\r\n\r\n\t@Autowired\r\n\tpublic ProgrammingLanguageManager(ProgrammingLanguageRepository programmingLanguageRepository,\r\n\t\t\tModelMapper modelMapper) {\r\n\t\tthis.programmingLanguageRepository = programmingLanguageRepository;\r\n\t\tthis.modelMapper = modelMapper;\r\n\r\n\t}\r\n\r\n\t// * * * CRUD OPERATIONS * * *\r\n\r\n\t@Override\r\n\tpublic CreateProgrammingLanguageResponse add(CreateProgrammingLanguageRequest createProgrammingLanguageRequest)\r\n\t\t\tthrows Exception {\r\n\t\tnameCannotBeSame(createProgrammingLanguageRequest.getName());\r\n\r\n\t\tProgrammingLanguage programmingLanguage = modelMapper.map(createProgrammingLanguageRequest,\r\n\t\t\t\tProgrammingLanguage.class);\r\n\t\tProgrammingLanguage saveProgrammingLanguageResult = programmingLanguageRepository.save(programmingLanguage);\r\n\r\n\t\tCreateProgrammingLanguageResponse createProgrammingLanguageResponse = modelMapper\r\n\t\t\t\t.map(saveProgrammingLanguageResult, CreateProgrammingLanguageResponse.class);\r\n\r\n\t\treturn createProgrammingLanguageResponse;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic UpdateProgrammingLanguageResponse update(UpdateProgrammingLanguageRequest updateProgrammingLanguageRequest)\r\n\t\t\tthrows Exception {\r\n\t\tnameCannotBeSame(updateProgrammingLanguageRequest.getName());\r\n\r\n\t\tProgrammingLanguage programmingLanguage = modelMapper.map(updateProgrammingLanguageRequest,\r\n\t\t\t\tProgrammingLanguage.class);\r\n\t\tProgrammingLanguage saveProgrammingLanguageResult = programmingLanguageRepository.save(programmingLanguage);\r\n\r\n\t\tUpdateProgrammingLanguageResponse updateProgrammingLanguageResponse = modelMapper\r\n\t\t\t\t.map(saveProgrammingLanguageResult, UpdateProgrammingLanguageResponse.class);\r\n\r\n\t\treturn updateProgrammingLanguageResponse;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic DeleteProgrammingLanguageResponse delete(DeleteProgrammingLanguageRequest deleteProgrammingLanguageRequest) {\r\n\r\n\t\tProgrammingLanguage getReferenceByIdProgrammingLanguageResult = programmingLanguageRepository\r\n\t\t\t\t.getReferenceById(deleteProgrammingLanguageRequest.getId());\r\n\t\tprogrammingLanguageRepository.delete(getReferenceByIdProgrammingLanguageResult);\r\n\r\n\t\tDeleteProgrammingLanguageResponse deleteProgrammingLanguageResponse = modelMapper\r\n\t\t\t\t.map(getReferenceByIdProgrammingLanguageResult, DeleteProgrammingLanguageResponse.class);\r\n\r\n\t\treturn deleteProgrammingLanguageResponse;\r\n\t}\r\n\r\n\t// * * * GET METHODS * * *\r\n\r\n\t@Override\r\n\tpublic List&lt;GetAllProgrammingLanguagesResponse&gt; getAll() {\r\n\r\n\t\tList&lt;ProgrammingLanguage&gt; findAllProgrammingLanguageResult = programmingLanguageRepository.findAll();\r\n\r\n\t\treturn modelMapper.map(findAllProgrammingLanguageResult,\r\n\t\t\t\tnew TypeToken&lt;List&lt;GetAllProgrammingLanguagesResponse&gt;&gt;() {\r\n\t\t\t\t}.getType());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic GetByIdProgrammingLanguageResponse getById(\r\n\t\t\tGetByIdProgrammingLanguageRequest getByIdProgrammingLanguageRequest) {\r\n\r\n\t\tProgrammingLanguage getReferenceByIdProgrammingLanguageResult = programmingLanguageRepository\r\n\t\t\t\t.getReferenceById(getByIdProgrammingLanguageRequest.getId());\r\n\r\n\t\tGetByIdProgrammingLanguageResponse getByIdProgrammingLanguageResponse = modelMapper\r\n\t\t\t\t.map(getReferenceByIdProgrammingLanguageResult, GetByIdProgrammingLanguageResponse.class);\r\n\r\n\t\treturn getByIdProgrammingLanguageResponse;\r\n\t}\r\n\r\n\tpublic GetByNameProgrammingLanguageResponse getByName(\r\n\t\t\tGetByNameProgrammingLanguageRequest getByNameProgrammingLanguageRequest) {\r\n\r\n\t\tProgrammingLanguage getReferenceByNameProgrammingLanguageResult = new ProgrammingLanguage();\r\n\t\tgetReferenceByNameProgrammingLanguageResult = programmingLanguageRepository\r\n\t\t\t\t.getByName(getByNameProgrammingLanguageRequest.toString());\r\n\r\n\t\tGetByNameProgrammingLanguageResponse getByNameProgrammingLanguageResponse = modelMapper\r\n\t\t\t\t.map(getReferenceByNameProgrammingLanguageResult, GetByNameProgrammingLanguageResponse.class);\r\n\r\n\t\treturn getByNameProgrammingLanguageResponse;\r\n\t}\r\n\r\n\t// * * * BUSINESS RULES * * *\r\n\r\n\tprivate void nameCannotBeSame(String name) throws Exception {\r\n\r\n\t\tProgrammingLanguage programmingLanguage = programmingLanguageRepository.getByName(name);\r\n\r\n\t\tvar result = programmingLanguage;\r\n\r\n\t\tif (result != null) {\r\n\t\t\tthrow new Exception(Messages.NAME_ALREADY_EXISTS);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nIm missing something but i don&#39;t know what","title":"Consider defining a bean of type &#39;org.modelmapper.ModelMapper&#39; in your configuration","body":"<p><strong>APPLICATION FAILED TO START</strong></p>\n<hr />\n<p>Parameter 1 of constructor in Kodlama.io.Devs.business.concretes.ProgrammingLanguageManager required a bean of type 'org.modelmapper.ModelMapper' that could not be found.</p>\n<p>Consider defining a bean of type 'org.modelmapper.ModelMapper' in your configuration.</p>\n<hr />\n<p><strong>ProgrammingLanguageManager</strong></p>\n<pre><code>@Service\npublic class ProgrammingLanguageManager implements ProgrammingLanguageService {\n\n    @Autowired\n    private ProgrammingLanguageRepository programmingLanguageRepository;\n    private ModelMapper modelMapper;\n\n    @Autowired\n    public ProgrammingLanguageManager(ProgrammingLanguageRepository programmingLanguageRepository,\n            ModelMapper modelMapper) {\n        this.programmingLanguageRepository = programmingLanguageRepository;\n        this.modelMapper = modelMapper;\n\n    }\n\n    // * * * CRUD OPERATIONS * * *\n\n    @Override\n    public CreateProgrammingLanguageResponse add(CreateProgrammingLanguageRequest createProgrammingLanguageRequest)\n            throws Exception {\n        nameCannotBeSame(createProgrammingLanguageRequest.getName());\n\n        ProgrammingLanguage programmingLanguage = modelMapper.map(createProgrammingLanguageRequest,\n                ProgrammingLanguage.class);\n        ProgrammingLanguage saveProgrammingLanguageResult = programmingLanguageRepository.save(programmingLanguage);\n\n        CreateProgrammingLanguageResponse createProgrammingLanguageResponse = modelMapper\n                .map(saveProgrammingLanguageResult, CreateProgrammingLanguageResponse.class);\n\n        return createProgrammingLanguageResponse;\n    }\n\n    @Override\n    public UpdateProgrammingLanguageResponse update(UpdateProgrammingLanguageRequest updateProgrammingLanguageRequest)\n            throws Exception {\n        nameCannotBeSame(updateProgrammingLanguageRequest.getName());\n\n        ProgrammingLanguage programmingLanguage = modelMapper.map(updateProgrammingLanguageRequest,\n                ProgrammingLanguage.class);\n        ProgrammingLanguage saveProgrammingLanguageResult = programmingLanguageRepository.save(programmingLanguage);\n\n        UpdateProgrammingLanguageResponse updateProgrammingLanguageResponse = modelMapper\n                .map(saveProgrammingLanguageResult, UpdateProgrammingLanguageResponse.class);\n\n        return updateProgrammingLanguageResponse;\n    }\n\n    @Override\n    public DeleteProgrammingLanguageResponse delete(DeleteProgrammingLanguageRequest deleteProgrammingLanguageRequest) {\n\n        ProgrammingLanguage getReferenceByIdProgrammingLanguageResult = programmingLanguageRepository\n                .getReferenceById(deleteProgrammingLanguageRequest.getId());\n        programmingLanguageRepository.delete(getReferenceByIdProgrammingLanguageResult);\n\n        DeleteProgrammingLanguageResponse deleteProgrammingLanguageResponse = modelMapper\n                .map(getReferenceByIdProgrammingLanguageResult, DeleteProgrammingLanguageResponse.class);\n\n        return deleteProgrammingLanguageResponse;\n    }\n\n    // * * * GET METHODS * * *\n\n    @Override\n    public List&lt;GetAllProgrammingLanguagesResponse&gt; getAll() {\n\n        List&lt;ProgrammingLanguage&gt; findAllProgrammingLanguageResult = programmingLanguageRepository.findAll();\n\n        return modelMapper.map(findAllProgrammingLanguageResult,\n                new TypeToken&lt;List&lt;GetAllProgrammingLanguagesResponse&gt;&gt;() {\n                }.getType());\n    }\n\n    @Override\n    public GetByIdProgrammingLanguageResponse getById(\n            GetByIdProgrammingLanguageRequest getByIdProgrammingLanguageRequest) {\n\n        ProgrammingLanguage getReferenceByIdProgrammingLanguageResult = programmingLanguageRepository\n                .getReferenceById(getByIdProgrammingLanguageRequest.getId());\n\n        GetByIdProgrammingLanguageResponse getByIdProgrammingLanguageResponse = modelMapper\n                .map(getReferenceByIdProgrammingLanguageResult, GetByIdProgrammingLanguageResponse.class);\n\n        return getByIdProgrammingLanguageResponse;\n    }\n\n    public GetByNameProgrammingLanguageResponse getByName(\n            GetByNameProgrammingLanguageRequest getByNameProgrammingLanguageRequest) {\n\n        ProgrammingLanguage getReferenceByNameProgrammingLanguageResult = new ProgrammingLanguage();\n        getReferenceByNameProgrammingLanguageResult = programmingLanguageRepository\n                .getByName(getByNameProgrammingLanguageRequest.toString());\n\n        GetByNameProgrammingLanguageResponse getByNameProgrammingLanguageResponse = modelMapper\n                .map(getReferenceByNameProgrammingLanguageResult, GetByNameProgrammingLanguageResponse.class);\n\n        return getByNameProgrammingLanguageResponse;\n    }\n\n    // * * * BUSINESS RULES * * *\n\n    private void nameCannotBeSame(String name) throws Exception {\n\n        ProgrammingLanguage programmingLanguage = programmingLanguageRepository.getByName(name);\n\n        var result = programmingLanguage;\n\n        if (result != null) {\n            throw new Exception(Messages.NAME_ALREADY_EXISTS);\n        }\n    }\n}\n\n</code></pre>\n<p>Im missing something but i don't know what</p>\n"},{"tags":["java","android","android-studio","navigation-drawer","bottomnavigationview"],"owner":{"account_id":29460429,"reputation":1,"user_id":22575334,"display_name":"uranUsOP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694880451,"creation_date":1694878039,"question_id":77118409,"body_markdown":"I have made a bottom navigation bar and it has a small rectangular box inside it. i have searched everywhere but could not find the solution. I have even gone with the code many times if have accidentally added those, but i couldn&#39;t find a single one.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhere are some code that might help you.\r\n\r\nmainActivity.java:\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        bottomNavigationView = findViewById(R.id.bottom_navigation);\r\n        getSupportFragmentManager().beginTransaction().replace(R.id.main_container, new HomeFragment()).commit();\r\n\r\n        bottomNavigationView.setSelectedItemId(R.id.nav_home);\r\n\r\n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n                Fragment fragment = null;\r\n                switch (item.getItemId()){\r\n\r\n                    case R.id.nav_home:\r\n                        fragment = new HomeFragment();\r\n                        break;\r\n                    case R.id.nav_inbox:\r\n                        fragment = new InboxFragment();\r\n                        break;\r\n                    case R.id.nav_cart:\r\n                        fragment = new CartFragment();\r\n                        break;\r\n                    case R.id.nav_profile:\r\n                        fragment = new ProfileFragment();\r\n                        break;\r\n                    case R.id.nav_more:\r\n                        fragment = new MoreFragment();\r\n                        break;\r\n                }\r\n\r\n                getSupportFragmentManager().beginTransaction().replace(R.id.main_container, fragment).commit();\r\n                return true;\r\n\r\n            }\r\n        });\r\n    }\r\n```\r\nactivityMain,xml: \r\n```\r\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_navigation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        android:layout_margin=&quot;20dp&quot;\r\n        android:elevation=&quot;3dp&quot;\r\n        app:itemRippleColor=&quot;@android:color/transparent&quot;\r\n        app:itemIconSize=&quot;30dp&quot;\r\n        app:labelVisibilityMode=&quot;labeled&quot;\r\n        android:background=&quot;@drawable/rounded_corner&quot;\r\n        app:itemIconTint=&quot;@drawable/item_selector&quot;\r\n        app:itemTextColor=&quot;@drawable/item_selector&quot;\r\n        app:menu=&quot;@menu/bottom_menu&quot;\r\n        /&gt;\r\n```\r\nitem_selector.xml: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:state_checked=&quot;true&quot;\r\n        android:color=&quot;@color/red&quot; /&gt;\r\n    &lt;item\r\n        android:state_pressed=&quot;false&quot;\r\n        android:color=&quot;@color/grey&quot;/&gt;\r\n    &lt;item\r\n        android:color=&quot;@color/nav&quot;/&gt;\r\n&lt;/selector&gt;\r\n```\r\nI have tried every thing I could but I&#39;m not able to solve this issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h4w6p.png","title":"How to remove small rounded rectangular box inside the bottom navigation bar?","body":"<p>I have made a bottom navigation bar and it has a small rectangular box inside it. i have searched everywhere but could not find the solution. I have even gone with the code many times if have accidentally added those, but i couldn't find a single one.</p>\n<p><a href=\"https://i.stack.imgur.com/h4w6p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h4w6p.png\" alt=\"enter image description here\" /></a></p>\n<p>here are some code that might help you.</p>\n<p>mainActivity.java:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        bottomNavigationView = findViewById(R.id.bottom_navigation);\n        getSupportFragmentManager().beginTransaction().replace(R.id.main_container, new HomeFragment()).commit();\n\n        bottomNavigationView.setSelectedItemId(R.id.nav_home);\n\n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n                Fragment fragment = null;\n                switch (item.getItemId()){\n\n                    case R.id.nav_home:\n                        fragment = new HomeFragment();\n                        break;\n                    case R.id.nav_inbox:\n                        fragment = new InboxFragment();\n                        break;\n                    case R.id.nav_cart:\n                        fragment = new CartFragment();\n                        break;\n                    case R.id.nav_profile:\n                        fragment = new ProfileFragment();\n                        break;\n                    case R.id.nav_more:\n                        fragment = new MoreFragment();\n                        break;\n                }\n\n                getSupportFragmentManager().beginTransaction().replace(R.id.main_container, fragment).commit();\n                return true;\n\n            }\n        });\n    }\n</code></pre>\n<p>activityMain,xml:</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottom_navigation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:layout_margin=&quot;20dp&quot;\n        android:elevation=&quot;3dp&quot;\n        app:itemRippleColor=&quot;@android:color/transparent&quot;\n        app:itemIconSize=&quot;30dp&quot;\n        app:labelVisibilityMode=&quot;labeled&quot;\n        android:background=&quot;@drawable/rounded_corner&quot;\n        app:itemIconTint=&quot;@drawable/item_selector&quot;\n        app:itemTextColor=&quot;@drawable/item_selector&quot;\n        app:menu=&quot;@menu/bottom_menu&quot;\n        /&gt;\n</code></pre>\n<p>item_selector.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:state_checked=&quot;true&quot;\n        android:color=&quot;@color/red&quot; /&gt;\n    &lt;item\n        android:state_pressed=&quot;false&quot;\n        android:color=&quot;@color/grey&quot;/&gt;\n    &lt;item\n        android:color=&quot;@color/nav&quot;/&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>I have tried every thing I could but I'm not able to solve this issue.</p>\n"},{"tags":["java","android","libgdx","spritebatch"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695015459,"post_id":77117890,"comment_id":135962271,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1695066051,"post_id":77118504,"comment_id":135971839,"body_markdown":"Screen and touch coordinates have a Y axis that points down, where 0 is the top of the screen. Game world coordinates in OpenGL (which libGDX is based on) have a Y axis that points up. This is why Y is flipped. But  you should be using `unproject()` regardless because it also takes into account your camera being a different size than the screen pixels and not necessarily being aligned with Y=0 at the edge of the screen.","body":"Screen and touch coordinates have a Y axis that points down, where 0 is the top of the screen. Game world coordinates in OpenGL (which libGDX is based on) have a Y axis that points up. This is why Y is flipped. But  you should be using <code>unproject()</code> regardless because it also takes into account your camera being a different size than the screen pixels and not necessarily being aligned with Y=0 at the edge of the screen."}],"tags":[],"owner":{"account_id":13345003,"reputation":3,"user_id":9632028,"display_name":"Ohad Cohen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694879508,"creation_date":1694879508,"answer_id":77118504,"question_id":77117890,"body_markdown":"The solution was to look at the unproject coordinates of the camera and not the way I looked at them\r\n\r\nI have no explanation why it really works but this is the solution I found\r\n\r\n\r\n```\r\nif(Gdx.input.isTouched()){\r\n            int x = Gdx.input.getX();\r\n            int y = Gdx.input.getY();\r\n            Vector3 touchPos = new Vector3(x,y,0);\r\n            gamecam.unproject(touchPos);\r\n            //touchPosition = new Vector2(Gdx.input.getX(), Gdx.input.getY());\r\n            //touchPosition.y=(Gdx.graphics.getHeight() - touchPosition.y)*64/Gdx.graphics.getHeight();\r\n            if (touchPos.x &gt; LearningLetters.V_WIDTH/2+64 &amp;&amp; touchPos.x &lt; LearningLetters.V_WIDTH/2+64+64) {\r\n                if ( touchPos.y &gt;  LearningLetters.V_HEIGHT/2-64/2 &amp;&amp; touchPos.y &lt;  LearningLetters.V_HEIGHT/2-64/2+64 ) {\r\n                    System.out.println(touchPos);\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n```\r\n","title":"The Y axis is inverted libgdx","body":"<p>The solution was to look at the unproject coordinates of the camera and not the way I looked at them</p>\n<p>I have no explanation why it really works but this is the solution I found</p>\n<pre><code>if(Gdx.input.isTouched()){\n            int x = Gdx.input.getX();\n            int y = Gdx.input.getY();\n            Vector3 touchPos = new Vector3(x,y,0);\n            gamecam.unproject(touchPos);\n            //touchPosition = new Vector2(Gdx.input.getX(), Gdx.input.getY());\n            //touchPosition.y=(Gdx.graphics.getHeight() - touchPosition.y)*64/Gdx.graphics.getHeight();\n            if (touchPos.x &gt; LearningLetters.V_WIDTH/2+64 &amp;&amp; touchPos.x &lt; LearningLetters.V_WIDTH/2+64+64) {\n                if ( touchPos.y &gt;  LearningLetters.V_HEIGHT/2-64/2 &amp;&amp; touchPos.y &lt;  LearningLetters.V_HEIGHT/2-64/2+64 ) {\n                    System.out.println(touchPos);\n                }\n\n            }\n        }\n\n</code></pre>\n"}],"owner":{"account_id":13345003,"reputation":3,"user_id":9632028,"display_name":"Ohad Cohen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694879508,"creation_date":1694869518,"question_id":77117890,"body_markdown":"I am trying to print the coordinates in libgdx of the PLAY button that I touch\r\nEverything works well towards the X\r\nBut the Y is upside down and not in the right direction either, it says it is between 173 and 312\r\nBut I drew the frost in 72 and its size is 64, how suddenly its size increased to 139\r\nThere is simply a mismatch between the axes and whaI am trying to print the coordinates in libgdx of the PLAY button that I touch\r\nEverything works well towards the X\r\nBut the Y is upside down and not in the right direction either, it says it is between 173 and 312\r\nBut I drew the frost in 72 and its size is 64, how suddenly its size increased to 139\r\nThere is simply a mismatch between the axes and what is happening in reality\r\nIn addition, it doesn&#39;t start drawing at 0.0, I&#39;m starting to believe that maybe I have a problem with the version\r\n\r\n```\r\n\r\n\tpublic static final int V_WIDTH =400;\r\n\tpublic static final int V_HEIGHT =208;\r\n\r\npublic class MainMenuScreen implements Screen {\r\n\r\n    private Game game;\r\n    SpriteBatch batch;\r\n    private OrthographicCamera gamecam;\r\n    private OrthographicCamera waterCam;\r\n    private Viewport gamePort;\r\n    private Viewport waterPort;\r\n    private TmxMapLoader mapLoader;\r\n    private TiledMap map;\r\n    TiledMap WaterMap;\r\n    private OrthogonalTiledMapRenderer renderer;\r\n    private OrthogonalTiledMapRenderer rendererWater;\r\n    Vector2 touchPosition;\r\n    Texture img;\r\n    Texture playButton;\r\n    public MainMenuScreen(Game game, SpriteBatch batch) {\r\n        this.game = game;\r\n        this.batch=batch;\r\n        img = new Texture(&quot;BG.jpg&quot;);\r\n        playButton = new Texture(&quot;play.png&quot;);\r\n        gamecam = new OrthographicCamera();\r\n        waterCam = new OrthographicCamera();\r\n        gamePort = new StretchViewport(LearningLetters.V_WIDTH,LearningLetters.V_HEIGHT,gamecam);\r\n        waterPort= new StretchViewport(LearningLetters.V_WIDTH,LearningLetters.V_HEIGHT,waterCam);\r\n        mapLoader = new TmxMapLoader();\r\n        map= mapLoader.load(&quot;start.tmx&quot;);\r\n        WaterMap = mapLoader.load(&quot;water.tmx&quot;);\r\n        renderer = new OrthogonalTiledMapRenderer(map);\r\n        rendererWater = new OrthogonalTiledMapRenderer(WaterMap);\r\n        gamecam.position.set((16+4)*16,gamePort.getWorldHeight()/2,0);\r\n        waterCam.position.set((16+4)*16,waterPort.getWorldHeight()/2,0);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void show() {\r\n\r\n    }\r\n\r\n    public void update(float dt){\r\n        if(waterCam.position.x&gt;(16+4)*16+128)\r\n            waterCam.position.x=(16+4)*16;\r\n        waterCam.position.x+=50*dt;\r\n        gamecam.update();\r\n        waterCam.update();\r\n        renderer.setView(gamecam);\r\n        rendererWater.setView(waterCam);\r\n\r\n    }\r\n    @Override\r\n    public void render(float delta) {\r\n\r\n        update(delta);\r\n        Gdx.gl.glClearColor(1,1,0,1);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n        batch.begin();\r\n        batch.draw(img,16*16/2-16,0);\r\n        batch.end();\r\n\r\n        batch.setProjectionMatrix(waterCam.combined);\r\n        batch.setProjectionMatrix(gamecam.combined);\r\n        rendererWater.render();\r\n        renderer.render();\r\n        batch.begin();\r\n        batch.draw(playButton,LearningLetters.V_WIDTH/2+64,LearningLetters.V_HEIGHT/2-64/2);\r\n        batch.end();\r\n        if(Gdx.input.isTouched()){\r\n            touchPosition = new Vector2(Gdx.input.getX(), Gdx.input.getY());\r\n            touchPosition.y=(Gdx.graphics.getHeight() - touchPosition.y)*64/Gdx.graphics.getHeight();\r\n\t\t\tif (touchPosition.x &gt; LearningLetters.V_WIDTH/2+64/2 &amp;&amp; touchPosition.x &lt; LearningLetters.V_WIDTH/2+64+64) {\r\n\t\t\t\tif ( touchPosition.y &gt; Gdx.graphics.getHeight() - LearningLetters.V_HEIGHT/2-64/2 - playButton.getHeight() &amp;&amp; touchPosition.y &lt; Gdx.graphics.getHeight() - playButton.getHeight() ) {\r\n\t\t\t\t\tSystem.out.println(touchPosition);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n        // Render the main menu here\r\n    }\r\n\r\n    @Override\r\n    public void resize(int width, int height) {\r\n        gamePort.update(width, height);\r\n        waterPort.update(width, height);\r\n    }\r\n\r\n    @Override\r\n    public void pause() {\r\n        // Pause the main menu here\r\n    }\r\n\r\n    @Override\r\n    public void resume() {\r\n        // Resume the main menu here\r\n    }\r\n\r\n    @Override\r\n    public void hide() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n        map.dispose();\r\n        // Dispose of the main menu here\r\n    }\r\n}\r\n\r\n```\r\nt is happening in reality\r\nIn addition, it doesn&#39;t start drawing at 0.0, I&#39;m starting to believe that maybe I have a problem with the version\r\n\r\n\r\n","title":"The Y axis is inverted libgdx","body":"<p>I am trying to print the coordinates in libgdx of the PLAY button that I touch\nEverything works well towards the X\nBut the Y is upside down and not in the right direction either, it says it is between 173 and 312\nBut I drew the frost in 72 and its size is 64, how suddenly its size increased to 139\nThere is simply a mismatch between the axes and whaI am trying to print the coordinates in libgdx of the PLAY button that I touch\nEverything works well towards the X\nBut the Y is upside down and not in the right direction either, it says it is between 173 and 312\nBut I drew the frost in 72 and its size is 64, how suddenly its size increased to 139\nThere is simply a mismatch between the axes and what is happening in reality\nIn addition, it doesn't start drawing at 0.0, I'm starting to believe that maybe I have a problem with the version</p>\n<pre><code>\n    public static final int V_WIDTH =400;\n    public static final int V_HEIGHT =208;\n\npublic class MainMenuScreen implements Screen {\n\n    private Game game;\n    SpriteBatch batch;\n    private OrthographicCamera gamecam;\n    private OrthographicCamera waterCam;\n    private Viewport gamePort;\n    private Viewport waterPort;\n    private TmxMapLoader mapLoader;\n    private TiledMap map;\n    TiledMap WaterMap;\n    private OrthogonalTiledMapRenderer renderer;\n    private OrthogonalTiledMapRenderer rendererWater;\n    Vector2 touchPosition;\n    Texture img;\n    Texture playButton;\n    public MainMenuScreen(Game game, SpriteBatch batch) {\n        this.game = game;\n        this.batch=batch;\n        img = new Texture(&quot;BG.jpg&quot;);\n        playButton = new Texture(&quot;play.png&quot;);\n        gamecam = new OrthographicCamera();\n        waterCam = new OrthographicCamera();\n        gamePort = new StretchViewport(LearningLetters.V_WIDTH,LearningLetters.V_HEIGHT,gamecam);\n        waterPort= new StretchViewport(LearningLetters.V_WIDTH,LearningLetters.V_HEIGHT,waterCam);\n        mapLoader = new TmxMapLoader();\n        map= mapLoader.load(&quot;start.tmx&quot;);\n        WaterMap = mapLoader.load(&quot;water.tmx&quot;);\n        renderer = new OrthogonalTiledMapRenderer(map);\n        rendererWater = new OrthogonalTiledMapRenderer(WaterMap);\n        gamecam.position.set((16+4)*16,gamePort.getWorldHeight()/2,0);\n        waterCam.position.set((16+4)*16,waterPort.getWorldHeight()/2,0);\n\n    }\n\n    @Override\n    public void show() {\n\n    }\n\n    public void update(float dt){\n        if(waterCam.position.x&gt;(16+4)*16+128)\n            waterCam.position.x=(16+4)*16;\n        waterCam.position.x+=50*dt;\n        gamecam.update();\n        waterCam.update();\n        renderer.setView(gamecam);\n        rendererWater.setView(waterCam);\n\n    }\n    @Override\n    public void render(float delta) {\n\n        update(delta);\n        Gdx.gl.glClearColor(1,1,0,1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        batch.begin();\n        batch.draw(img,16*16/2-16,0);\n        batch.end();\n\n        batch.setProjectionMatrix(waterCam.combined);\n        batch.setProjectionMatrix(gamecam.combined);\n        rendererWater.render();\n        renderer.render();\n        batch.begin();\n        batch.draw(playButton,LearningLetters.V_WIDTH/2+64,LearningLetters.V_HEIGHT/2-64/2);\n        batch.end();\n        if(Gdx.input.isTouched()){\n            touchPosition = new Vector2(Gdx.input.getX(), Gdx.input.getY());\n            touchPosition.y=(Gdx.graphics.getHeight() - touchPosition.y)*64/Gdx.graphics.getHeight();\n            if (touchPosition.x &gt; LearningLetters.V_WIDTH/2+64/2 &amp;&amp; touchPosition.x &lt; LearningLetters.V_WIDTH/2+64+64) {\n                if ( touchPosition.y &gt; Gdx.graphics.getHeight() - LearningLetters.V_HEIGHT/2-64/2 - playButton.getHeight() &amp;&amp; touchPosition.y &lt; Gdx.graphics.getHeight() - playButton.getHeight() ) {\n                    System.out.println(touchPosition);\n                }\n\n            }\n        }\n        // Render the main menu here\n    }\n\n    @Override\n    public void resize(int width, int height) {\n        gamePort.update(width, height);\n        waterPort.update(width, height);\n    }\n\n    @Override\n    public void pause() {\n        // Pause the main menu here\n    }\n\n    @Override\n    public void resume() {\n        // Resume the main menu here\n    }\n\n    @Override\n    public void hide() {\n\n    }\n\n    @Override\n    public void dispose() {\n        map.dispose();\n        // Dispose of the main menu here\n    }\n}\n\n</code></pre>\n<p>t is happening in reality\nIn addition, it doesn't start drawing at 0.0, I'm starting to believe that maybe I have a problem with the version</p>\n"},{"tags":["java","algorithm","search","nodes","dijkstra"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1694880067,"post_id":77118496,"comment_id":135950909,"body_markdown":"Please provide the code that initialises the input and calls this function.","body":"Please provide the code that initialises the input and calls this function."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1694880279,"post_id":77118496,"comment_id":135950936,"body_markdown":"Yes, indeed, it would be great if you created a Java fiddle with a sample input that reproduces this problem so we could debug it.","body":"Yes, indeed, it would be great if you created a Java fiddle with a sample input that reproduces this problem so we could debug it."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1694880319,"post_id":77118496,"comment_id":135950942,"body_markdown":"*&quot;The graph is 10x10&quot;*: have you tried anything with smaller graphs first, step by step increasing until you get the problem, and then using a debugger to step through the code to see at which place variables don&#39;t get the value you expect?","body":"<i>&quot;The graph is 10x10&quot;</i>: have you tried anything with smaller graphs first, step by step increasing until you get the problem, and then using a debugger to step through the code to see at which place variables don&#39;t get the value you expect?"}],"owner":{"account_id":26868262,"reputation":1,"user_id":20450681,"display_name":"Angelo Juanico"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694879422,"creation_date":1694879422,"question_id":77118496,"body_markdown":"I&#39;m currently trying to learn the dijkstras algorithm. I think I&#39;ve gotten the idea of it, it&#39;s just I have an infinite loop running when I trace back from the destination node to the start node.\r\n\r\n\r\n```\r\npublic Node[] dijkstrasSearch(Node start, Node target) {\r\n\t\t//ASSUMPTION: Graph is not disconnected and does not require\r\n\t\t//the unvisited nodes to be visited after the algorithm stops\r\n\t\t\r\n\t\tArrayList&lt;Node&gt; visited = new ArrayList&lt;Node&gt;();\r\n\t\tArrayList&lt;Node&gt; unvisited = new ArrayList&lt;Node&gt;();\r\n\t\t\r\n\t\tHashMap&lt;Node, Node&gt; nodePD = new HashMap();\r\n\t\tHashMap&lt;Node, Double&gt; nodeValue = new HashMap();\r\n\t\t\r\n\t\tfinal int GRAPH_SIZE = 100;\r\n\t\tGraphLoader gl = new GraphLoader();\r\n\t\tNode[] nodes = gl.getNodes();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; GRAPH_SIZE; i++) {\r\n\t\t\tnodePD.put(nodes[i], null);\r\n\t\t\tnodeValue.put(nodes[i], Double.MAX_VALUE);\r\n\t\t\tunvisited.add(nodes[i]);\r\n\t\t}\r\n\t\t\r\n\t\tNode currentNode = start;\r\n\t\t\r\n\t\tnodePD.put(currentNode, null);\r\n\t\tnodeValue.put(currentNode, (double) 0);\r\n\t\t\r\n\t\t//Start Loop here\r\n\t\twhile (unvisited.size() &gt; 0) {\r\n\t\t\tvisited.add(currentNode);\r\n\t\t\tunvisited.remove(currentNode);\r\n\r\n\t\t\tif (currentNode == null || currentNode.equals(target)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tArrayList&lt;Edge&gt; nextNodes = currentNode.getEdges();\r\n\t\t\tArrayList&lt;Edge&gt; unvisitedEdges = new ArrayList();\r\n\r\n\t\t\tfor (int i = 0; i &lt; nextNodes.size(); i++) {\r\n\t\t\t\tNode getNode = nextNodes.get(i).getToNode();\r\n\t\t\t\tif (!(visited.contains(getNode))){\r\n\t\t\t\t\tDouble getNodeValue  = nodeValue.get(getNode);\r\n\t\t\t\t\tif (getNodeValue == null || (nodeValue.get(currentNode) + nextNodes.get(i).getWeight() &lt; nodeValue.get(getNode))){\r\n\t\t\t\t\t\tnodeValue.put(getNode, (nodeValue.get(currentNode) + nextNodes.get(i).getWeight()));\r\n\t\t\t\t\t\tnodePD.put(getNode, currentNode);\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tunvisitedEdges.add(nextNodes.get(i));\r\n\t\t\t\t}\r\n\t\t\t\tif (nodePD.get(getNode) == null) {\r\n\t\t\t\t\tnodePD.put(getNode, currentNode);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n            double minEdgeValue = Double.MAX_VALUE;\r\n            Edge nextNode = null;\r\n\r\n            for (Edge unvisitedNode : unvisitedEdges) {\r\n                if (nodeValue.get(unvisitedNode.getToNode()) &lt; minEdgeValue) {\r\n                    minEdgeValue = nodeValue.get(unvisitedNode.getToNode());\r\n                    nextNode = unvisitedNode;\r\n                }\r\n            }\r\n            \r\n            currentNode = nextNode.getToNode();\r\n\t\t}\r\n\t\t\r\n\t\tArrayList&lt;Node&gt; shortestPath = new ArrayList&lt;Node&gt;();\r\n\t\tNode tempNode = target;\r\n\r\n\t\t//Infinite loop? Is it my nodeHead hash that is wrong?\r\n\t\twhile (tempNode != null) {\r\n\t\t\tshortestPath.add(tempNode);\r\n\t\t\ttempNode = nodePD.get(tempNode);\r\n\t\t}\r\n\r\n\t\tCollections.reverse(shortestPath);\r\n\t\treturn shortestPath.toArray(new Node[0]);\r\n\t}\r\n\r\n```\r\n\r\n\r\nThe output should be a node array representing the shortest path from the start node to the end node. The graph is 10x10. My code probably isn&#39;t as efficient as it could be but I&#39;ll worry about it later, just wondering why I get an infinite loop.","title":"Infinite loop dijkstra algorithm","body":"<p>I'm currently trying to learn the dijkstras algorithm. I think I've gotten the idea of it, it's just I have an infinite loop running when I trace back from the destination node to the start node.</p>\n<pre><code>public Node[] dijkstrasSearch(Node start, Node target) {\n        //ASSUMPTION: Graph is not disconnected and does not require\n        //the unvisited nodes to be visited after the algorithm stops\n        \n        ArrayList&lt;Node&gt; visited = new ArrayList&lt;Node&gt;();\n        ArrayList&lt;Node&gt; unvisited = new ArrayList&lt;Node&gt;();\n        \n        HashMap&lt;Node, Node&gt; nodePD = new HashMap();\n        HashMap&lt;Node, Double&gt; nodeValue = new HashMap();\n        \n        final int GRAPH_SIZE = 100;\n        GraphLoader gl = new GraphLoader();\n        Node[] nodes = gl.getNodes();\n        \n        for (int i = 0; i &lt; GRAPH_SIZE; i++) {\n            nodePD.put(nodes[i], null);\n            nodeValue.put(nodes[i], Double.MAX_VALUE);\n            unvisited.add(nodes[i]);\n        }\n        \n        Node currentNode = start;\n        \n        nodePD.put(currentNode, null);\n        nodeValue.put(currentNode, (double) 0);\n        \n        //Start Loop here\n        while (unvisited.size() &gt; 0) {\n            visited.add(currentNode);\n            unvisited.remove(currentNode);\n\n            if (currentNode == null || currentNode.equals(target)) {\n                break;\n            }\n            ArrayList&lt;Edge&gt; nextNodes = currentNode.getEdges();\n            ArrayList&lt;Edge&gt; unvisitedEdges = new ArrayList();\n\n            for (int i = 0; i &lt; nextNodes.size(); i++) {\n                Node getNode = nextNodes.get(i).getToNode();\n                if (!(visited.contains(getNode))){\n                    Double getNodeValue  = nodeValue.get(getNode);\n                    if (getNodeValue == null || (nodeValue.get(currentNode) + nextNodes.get(i).getWeight() &lt; nodeValue.get(getNode))){\n                        nodeValue.put(getNode, (nodeValue.get(currentNode) + nextNodes.get(i).getWeight()));\n                        nodePD.put(getNode, currentNode);           \n                    }\n                    unvisitedEdges.add(nextNodes.get(i));\n                }\n                if (nodePD.get(getNode) == null) {\n                    nodePD.put(getNode, currentNode);\n                }\n            }\n            \n            double minEdgeValue = Double.MAX_VALUE;\n            Edge nextNode = null;\n\n            for (Edge unvisitedNode : unvisitedEdges) {\n                if (nodeValue.get(unvisitedNode.getToNode()) &lt; minEdgeValue) {\n                    minEdgeValue = nodeValue.get(unvisitedNode.getToNode());\n                    nextNode = unvisitedNode;\n                }\n            }\n            \n            currentNode = nextNode.getToNode();\n        }\n        \n        ArrayList&lt;Node&gt; shortestPath = new ArrayList&lt;Node&gt;();\n        Node tempNode = target;\n\n        //Infinite loop? Is it my nodeHead hash that is wrong?\n        while (tempNode != null) {\n            shortestPath.add(tempNode);\n            tempNode = nodePD.get(tempNode);\n        }\n\n        Collections.reverse(shortestPath);\n        return shortestPath.toArray(new Node[0]);\n    }\n\n</code></pre>\n<p>The output should be a node array representing the shortest path from the start node to the end node. The graph is 10x10. My code probably isn't as efficient as it could be but I'll worry about it later, just wondering why I get an infinite loop.</p>\n"},{"tags":["java","spring","hibernate","querydsl"],"owner":{"account_id":1806796,"reputation":329,"user_id":1643748,"accept_rate":57,"display_name":"C&#225;ssio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694879345,"creation_date":1694801237,"question_id":77114548,"body_markdown":"I want to perform a query in a OneToMany relationship. In the example below, a dog and a list of advantages for having him. More specifically, I want to query only a few attributes of Dog, as well as only a few attributes of Advantage. For this scenario, I created 2 DTOs to return what I need.&lt;br&gt;&lt;br&gt;\r\nFurthermore, I want to query specific fields from a OneToOne relationship. I know that in this case I can simply put its desired attributes directly on the projection; however, I want to know if there is a more elegant way of doing it. There is also a DTO for this complex type.\r\n\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;TB_RACE&quot;)\r\n\tpublic class Race {\r\n\t\tprivate Long id;\r\n\t\tprivate String name;\r\n\t\tprivate String predominantColor;\r\n\t\tprivate boolean aggressive;\r\n\t\t// getters and setters\r\n\t}\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;TB_ADVANTAGE&quot;)\r\n\tpublic class Advantage {\r\n\t\tprivate Long id;\r\n\t\tprivate String description;\r\n\t\tprivate int importance;\r\n\t\t// getters and setters\r\n\t}\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;TB_DOG&quot;)\r\n\tpublic class Dog {\r\n\t\tprivate Long id;\r\n\t\tprivate String name;\r\n\t\tprivate int age;\r\n\t\tprivate boolean male;\r\n\t\tprivate Race race;\r\n\t\tprivate List&lt;Advantage&gt; advantages;\r\n\t\t// getters and setters\r\n\t}\r\n\r\n\tpublic class RaceDTO implements Serializable {\r\n\t\tprivate static final long serialVersionUID = -9913068934589315984L;\r\n\t\tprivate String predominantColor;\r\n\t\t// getters and setters\r\n\t}\r\n\r\n\tpublic class AdvantageDTO implements Serializable {\r\n\t\tprivate static final long serialVersionUID = -8813068934589315984L;\r\n\t\tprivate String description;\r\n\t\t// getters and setters\r\n\t}\r\n\r\n\tpublic class DogDTO implements Serializable {\r\n\t\tprivate static final long serialVersionUID = -7713068934589315984L;\r\n\t\tprivate String name;\r\n\t\tprivate RaceDTO race;\r\n\t\tprivate List&lt;AdvantageDTO&gt; advantages;\r\n\t\t// getters and setters\r\n\t}\r\n\r\n    @Repository\r\n\tpublic DogRepository () {\r\n\t\t@PersistenceContext\r\n\t\tprotected EntityManager em;\r\n\r\n\t\t@Autowired\r\n\t\tprivate DSLQueryFactory queryFactory;\r\n\r\n\t\t// Getting dog with all of his info\r\n\t\tpublic Dog getAllDog(Long id) {\r\n\t\t\tfinal QDog qDog = new QDog(&quot;dog&quot;);\r\n\t\t\tfinal QAdvantage qAdv = new QAdvantage(&quot;adv&quot;);\r\n\r\n\t\t\treturn this.createQueryJPA(qDog)\r\n\t\t\t\t\t.from(qDog)\r\n\t\t\t\t\t.leftJoin(qDog.advantages, qAdv).fetchJoin()\r\n\t\t\t\t\t.where(qDog.id.eq(id)).fetchOne();\r\n\t\t}\r\n\r\n\t\t// Getting dog with some of his info\r\n\t\tpublic DogDTO getPartialDog(Long id) {\r\n\t\t\tfinal QDog qDog = new QDog(&quot;dog&quot;);\r\n\t\t\tfinal JPAQuery&lt;Dog&gt; queryDog = this.queryFactory.queryJPA();\r\n\r\n\t\t\t// How do I get specific Dog columns along with specific\r\n            // Advantage columns, in order to populate List&lt;AdvantageDTO&gt;\r\n            // and RaceDTO? And also using fetchJoin()?\r\n\t\t\tTuple tuple = queryChegada.select(qDog.name.as(&quot;name&quot;), ??RaceDTO??, ??List&lt;AdvantageDTO?? )\r\n\t\t\t\t\t.from(qDog)\r\n\t\t\t\t\t.where(qDog.id.eq(id)).fetchOne();\r\n\r\n\t\t\tDogDTO dto = new DogDTO();\r\n\t\t\tdto.setName(tuple.get(&quot;name&quot;));\r\n\t\t\tdto.setRace(tuple.get(?????));\r\n\t\t\tdto.setAdvantages(tuple.get(?????));\r\n\r\n\t\t\treturn dto;\r\n\t\t}\r\n\t}\r\n\r\nUsing java 11, SpringBoot 2.5.12, Hibernate 5.4.33 and QueryDSL 4.4.0","title":"How to query specific columns on a OneToMany relationship using QueryDSL","body":"<p>I want to perform a query in a OneToMany relationship. In the example below, a dog and a list of advantages for having him. More specifically, I want to query only a few attributes of Dog, as well as only a few attributes of Advantage. For this scenario, I created 2 DTOs to return what I need.<br><br>\nFurthermore, I want to query specific fields from a OneToOne relationship. I know that in this case I can simply put its desired attributes directly on the projection; however, I want to know if there is a more elegant way of doing it. There is also a DTO for this complex type.</p>\n<pre><code>@Entity\n@Table(name = &quot;TB_RACE&quot;)\npublic class Race {\n    private Long id;\n    private String name;\n    private String predominantColor;\n    private boolean aggressive;\n    // getters and setters\n}\n\n@Entity\n@Table(name = &quot;TB_ADVANTAGE&quot;)\npublic class Advantage {\n    private Long id;\n    private String description;\n    private int importance;\n    // getters and setters\n}\n\n@Entity\n@Table(name = &quot;TB_DOG&quot;)\npublic class Dog {\n    private Long id;\n    private String name;\n    private int age;\n    private boolean male;\n    private Race race;\n    private List&lt;Advantage&gt; advantages;\n    // getters and setters\n}\n\npublic class RaceDTO implements Serializable {\n    private static final long serialVersionUID = -9913068934589315984L;\n    private String predominantColor;\n    // getters and setters\n}\n\npublic class AdvantageDTO implements Serializable {\n    private static final long serialVersionUID = -8813068934589315984L;\n    private String description;\n    // getters and setters\n}\n\npublic class DogDTO implements Serializable {\n    private static final long serialVersionUID = -7713068934589315984L;\n    private String name;\n    private RaceDTO race;\n    private List&lt;AdvantageDTO&gt; advantages;\n    // getters and setters\n}\n\n@Repository\npublic DogRepository () {\n    @PersistenceContext\n    protected EntityManager em;\n\n    @Autowired\n    private DSLQueryFactory queryFactory;\n\n    // Getting dog with all of his info\n    public Dog getAllDog(Long id) {\n        final QDog qDog = new QDog(&quot;dog&quot;);\n        final QAdvantage qAdv = new QAdvantage(&quot;adv&quot;);\n\n        return this.createQueryJPA(qDog)\n                .from(qDog)\n                .leftJoin(qDog.advantages, qAdv).fetchJoin()\n                .where(qDog.id.eq(id)).fetchOne();\n    }\n\n    // Getting dog with some of his info\n    public DogDTO getPartialDog(Long id) {\n        final QDog qDog = new QDog(&quot;dog&quot;);\n        final JPAQuery&lt;Dog&gt; queryDog = this.queryFactory.queryJPA();\n\n        // How do I get specific Dog columns along with specific\n        // Advantage columns, in order to populate List&lt;AdvantageDTO&gt;\n        // and RaceDTO? And also using fetchJoin()?\n        Tuple tuple = queryChegada.select(qDog.name.as(&quot;name&quot;), ??RaceDTO??, ??List&lt;AdvantageDTO?? )\n                .from(qDog)\n                .where(qDog.id.eq(id)).fetchOne();\n\n        DogDTO dto = new DogDTO();\n        dto.setName(tuple.get(&quot;name&quot;));\n        dto.setRace(tuple.get(?????));\n        dto.setAdvantages(tuple.get(?????));\n\n        return dto;\n    }\n}\n</code></pre>\n<p>Using java 11, SpringBoot 2.5.12, Hibernate 5.4.33 and QueryDSL 4.4.0</p>\n"},{"tags":["java","proxy","io","netty"],"owner":{"account_id":29460572,"reputation":11,"user_id":22575447,"display_name":"owob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694878922,"creation_date":1694878922,"question_id":77118465,"body_markdown":"When I pass `data` to const ProxyServerHandler, everything works as usual.\r\nBut when I pass `activeBuffer`, then netty appears just stuck there, `channelRead` won&#39;t be fired again.\r\n```java\r\n    private ByteBuf activeBuffer = ByteBufAllocator.DEFAULT.buffer();\r\n    @Override\r\n    public void channelRead(final ChannelHandlerContext ctx, Object msg) {\r\n        ByteBuf data = (ByteBuf) msg;\r\n        activeBuffer.writeBytes(data);\r\n        serverHandler = new ProxyServerHandler(this, config.getKey(), activeBuffer or data); // start connection with server.\r\n    }\r\n```\r\n\r\nProxyServerHandler\r\n```java\r\n    ProxyServerHandler(PlayerProxyHandler proxy, IHostPort target, ByteBuf cached) {\r\n        this.proxy = proxy;\r\n        Bootstrap b = new Bootstrap();\r\n        b.group(proxy.handler.channel().eventLoop())\r\n                .channel(NioSocketChannel.class)\r\n                .handler(this)\r\n                .option(ChannelOption.AUTO_READ, false);\r\n\r\n        ChannelFuture f = b.connect(target.host, target.port);\r\n        channel = f.channel();\r\n\r\n        f.addListener((ChannelFutureListener) future -&gt; {\r\n            try {\r\n                if (future.isSuccess()) {\r\n                    channel.writeAndFlush(cached).sync();\r\n                    System.out.println(&quot;test&quot;); // The test is printed normally and no error just stuck.\r\n                } else {\r\n                    channel.close();\r\n                }\r\n            } catch (Throwable e) {\r\n                logger.log(Level.SEVERE, &quot;&quot;, e);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nI have no idea to debug.","title":"Netty - Not receiving new message when not calling writeAndFlush with ByteBuf of channelRead","body":"<p>When I pass <code>data</code> to const ProxyServerHandler, everything works as usual.\nBut when I pass <code>activeBuffer</code>, then netty appears just stuck there, <code>channelRead</code> won't be fired again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private ByteBuf activeBuffer = ByteBufAllocator.DEFAULT.buffer();\n    @Override\n    public void channelRead(final ChannelHandlerContext ctx, Object msg) {\n        ByteBuf data = (ByteBuf) msg;\n        activeBuffer.writeBytes(data);\n        serverHandler = new ProxyServerHandler(this, config.getKey(), activeBuffer or data); // start connection with server.\n    }\n</code></pre>\n<p>ProxyServerHandler</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ProxyServerHandler(PlayerProxyHandler proxy, IHostPort target, ByteBuf cached) {\n        this.proxy = proxy;\n        Bootstrap b = new Bootstrap();\n        b.group(proxy.handler.channel().eventLoop())\n                .channel(NioSocketChannel.class)\n                .handler(this)\n                .option(ChannelOption.AUTO_READ, false);\n\n        ChannelFuture f = b.connect(target.host, target.port);\n        channel = f.channel();\n\n        f.addListener((ChannelFutureListener) future -&gt; {\n            try {\n                if (future.isSuccess()) {\n                    channel.writeAndFlush(cached).sync();\n                    System.out.println(&quot;test&quot;); // The test is printed normally and no error just stuck.\n                } else {\n                    channel.close();\n                }\n            } catch (Throwable e) {\n                logger.log(Level.SEVERE, &quot;&quot;, e);\n            }\n        });\n    }\n</code></pre>\n<p>I have no idea to debug.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1694853777,"post_id":77116804,"comment_id":135948162,"body_markdown":"You wrote (in your question): _there should be no possibility of receiving input values with a comma._ Are you not aware that different countries have different [decimal separators](https://en.wikipedia.org/wiki/Decimal_separator)? By the way, thousands separator also varies by country.","body":"You wrote (in your question): <i>there should be no possibility of receiving input values with a comma.</i> Are you not aware that different countries have different <a href=\"https://en.wikipedia.org/wiki/Decimal_separator\" rel=\"nofollow noreferrer\">decimal separators</a>? By the way, thousands separator also varies by country."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1694854906,"post_id":77116804,"comment_id":135948254,"body_markdown":"Is there a reason why you don&#39;t use method [floor](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#floor(double)) (of class `java.lang.Math`) rather than converting a float to a string and then back to a float?","body":"Is there a reason why you don&#39;t use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#floor(double)\" rel=\"nofollow noreferrer\">floor</a> (of class <code>java.lang.Math</code>) rather than converting a float to a string and then back to a float?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694859879,"post_id":77116804,"comment_id":135948675,"body_markdown":"Please provide a [mre] and the full exception stacktrace.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the full exception stacktrace."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694862919,"post_id":77116804,"comment_id":135949007,"body_markdown":"I do not know Kotlin, but in Java, `DecimalFormat.format()` will return a `String` and is `Locale`-sensitive, that is, if the default `Locale` is set to use a comma, it will return a `String` with a comma! I suspect that `toFloat()` is the equivalent to `Float.parseFloat()` in Java, which is **not** `Locale`-sensitive, so you are getting an error since the first method returned a comma. (hardy an Android bug that the error message states `&quot;0,3&quot;`  with a comma and there is none)","body":"I do not know Kotlin, but in Java, <code>DecimalFormat.format()</code> will return a <code>String</code> and is <code>Locale</code>-sensitive, that is, if the default <code>Locale</code> is set to use a comma, it will return a <code>String</code> with a comma! I suspect that <code>toFloat()</code> is the equivalent to <code>Float.parseFloat()</code> in Java, which is <b>not</b> <code>Locale</code>-sensitive, so you are getting an error since the first method returned a comma. (hardy an Android bug that the error message states <code>&quot;0,3&quot;</code>  with a comma and there is none)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694863892,"post_id":77116804,"comment_id":135949082,"body_markdown":"BTW also be warned that `float` and `double` (in Java) are not able to correctly represent all numbers and they do no have a *number of decimal digits* (e.g. `0.3` is more like `0.300000011920928955078125`; it is the `toString` method that does not show all decimal digits)","body":"BTW also be warned that <code>float</code> and <code>double</code> (in Java) are not able to correctly represent all numbers and they do no have a <i>number of decimal digits</i> (e.g. <code>0.3</code> is more like <code>0.300000011920928955078125</code>; it is the <code>toString</code> method that does not show all decimal digits)"}],"answers":[{"tags":[],"owner":{"account_id":29458182,"reputation":31,"user_id":22573546,"display_name":"Ratko Kostov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694878689,"creation_date":1694850759,"answer_id":77116858,"question_id":77116804,"body_markdown":"Change this line:\r\n```\r\nval df = DecimalFormat(&quot;#.#&quot;)\r\n```\r\ninto this:\r\n```\r\nval df = DecimalFormat(&quot;#.#&quot;, DecimalFormatSymbols(Locale.US))\r\n```\r\nWith this change, regardless of the user&#39;s locale settings, your method will always format and parse numbers using a period as the decimal separator. This should prevent the `java.lang.NumberFormatException`.","title":"NumberFormatException for input string with comma in DecimalFormat","body":"<p>Change this line:</p>\n<pre><code>val df = DecimalFormat(&quot;#.#&quot;)\n</code></pre>\n<p>into this:</p>\n<pre><code>val df = DecimalFormat(&quot;#.#&quot;, DecimalFormatSymbols(Locale.US))\n</code></pre>\n<p>With this change, regardless of the user's locale settings, your method will always format and parse numbers using a period as the decimal separator. This should prevent the <code>java.lang.NumberFormatException</code>.</p>\n"}],"owner":{"account_id":10117127,"reputation":197,"user_id":7475436,"display_name":"Shashank Pednekar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694878689,"creation_date":1694849717,"question_id":77116804,"body_markdown":"I&#39;m encountering a java.lang.NumberFormatException in my Android app with Kotlin and Java when using the following code:\r\n\r\n    fun roundOffDecimal(number: Float): Float {\r\n        val df = DecimalFormat(&quot;#.#&quot;)\r\n        df.roundingMode = RoundingMode.FLOOR\r\n        return df.format(number).toFloat()\r\n    }\r\n\r\nThe error message I&#39;m receiving is:\r\n\r\n    Non-fatal Exception: java.lang.NumberFormatException\r\n    For input string: &quot;0,3&quot;\r\n\r\nI&#39;m puzzled by this error because the function parameter is a Float, and there should be no possibility of receiving input values with a comma. Here are some observations and considerations:\r\n\r\n- This issue seems to be specific to a particular user as it is working as expected for others.\r\n- The error occurs when calling df.format(number), which returns a string. This makes me suspect that there might be a localization issue or something related to the user&#39;s locale settings.\r\n- The user who reported this issue is from South Africa, which raises the question of whether there could be a country-specific issue related to number formatting or locale settings.\r\n\r\nI&#39;m seeking guidance on how to resolve this issue and understand why it&#39;s occurring for this specific user while working for others. Any insights or suggestions would be greatly appreciated.\r\n\r\n","title":"NumberFormatException for input string with comma in DecimalFormat","body":"<p>I'm encountering a java.lang.NumberFormatException in my Android app with Kotlin and Java when using the following code:</p>\n<pre><code>fun roundOffDecimal(number: Float): Float {\n    val df = DecimalFormat(&quot;#.#&quot;)\n    df.roundingMode = RoundingMode.FLOOR\n    return df.format(number).toFloat()\n}\n</code></pre>\n<p>The error message I'm receiving is:</p>\n<pre><code>Non-fatal Exception: java.lang.NumberFormatException\nFor input string: &quot;0,3&quot;\n</code></pre>\n<p>I'm puzzled by this error because the function parameter is a Float, and there should be no possibility of receiving input values with a comma. Here are some observations and considerations:</p>\n<ul>\n<li>This issue seems to be specific to a particular user as it is working as expected for others.</li>\n<li>The error occurs when calling df.format(number), which returns a string. This makes me suspect that there might be a localization issue or something related to the user's locale settings.</li>\n<li>The user who reported this issue is from South Africa, which raises the question of whether there could be a country-specific issue related to number formatting or locale settings.</li>\n</ul>\n<p>I'm seeking guidance on how to resolve this issue and understand why it's occurring for this specific user while working for others. Any insights or suggestions would be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-mvc","threadpool","synchronized"],"comments":[{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1694856919,"post_id":77115724,"comment_id":135948452,"body_markdown":"‘ setting up this limit on execution time ’ Execution time meaning when the spring app is loaded first time or is parameterized or other way?","body":"‘ setting up this limit on execution time ’ Execution time meaning when the spring app is loaded first time or is parameterized or other way?"},{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":1,"creation_date":1694857037,"post_id":77115724,"comment_id":135948464,"body_markdown":"FixedThreadpool or Semaphores should work if thinking of compile time","body":"FixedThreadpool or Semaphores should work if thinking of compile time"},{"owner":{"account_id":17302469,"reputation":403,"user_id":12531920,"display_name":"Cesar Lopes"},"score":0,"creation_date":1694864266,"post_id":77115724,"comment_id":135949127,"body_markdown":"It means that the number of threads in the pool, should be changeable without restarting the application. \nThanks, gonna take a look in FixedThreadpool and Semaphores","body":"It means that the number of threads in the pool, should be changeable without restarting the application.  Thanks, gonna take a look in FixedThreadpool and Semaphores"}],"answers":[{"tags":[],"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694865378,"creation_date":1694865378,"answer_id":77117678,"question_id":77115724,"body_markdown":"when multiple requests are made, that `webmethod` will work be executed in parallels threads , first of all you have to remove `syncronized` form static method.\r\nNow, the problem is large number of concurrent requests can not be handled because of limited resources in the server.\r\nassume that only 10 concurrent requests are allowed, when a request came, if 10 ongoing requests are there , then the expected behavior should be defined (weather it return an error or request is queued. if it is second way, then probably caller get read timeout exceptions).\r\n\r\nbased on the expected behavior, there are lot of different solution, even you can implement your own solution or existing solution. technically this is called &quot;rate limit&quot; . bucket4j is one implementation you can use.\r\nthis is a kind of your own simple soution you can implement (not perfect, you can make it perfect by learning and using inbuilt synchronizers we have in java concurrent package )\r\n   1. introduce a field `Semaphore semaphore = new Semaphore(10)` in your controller class or whatever the class which has `webmethod`\r\n   \r\nthen use this kind of logic in web method \r\n\r\n    if (semaphore.tryAcquire())\r\n    {\r\n         try\r\n         {\r\n           // your call to calculate task and return the result\r\n          }\r\n          finally\r\n          {\r\n              semaphore.release();\r\n          }\r\n    }\r\n    else\r\n    {\r\n      //handle or throw error , this is the 11th call while 10 ongoing requests are there \r\n    }\r\n    \r\n     \r\n    \r\n    \r\n      \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Limit concurrent Threads in Spring Web Method","body":"<p>when multiple requests are made, that <code>webmethod</code> will work be executed in parallels threads , first of all you have to remove <code>syncronized</code> form static method.\nNow, the problem is large number of concurrent requests can not be handled because of limited resources in the server.\nassume that only 10 concurrent requests are allowed, when a request came, if 10 ongoing requests are there , then the expected behavior should be defined (weather it return an error or request is queued. if it is second way, then probably caller get read timeout exceptions).</p>\n<p>based on the expected behavior, there are lot of different solution, even you can implement your own solution or existing solution. technically this is called &quot;rate limit&quot; . bucket4j is one implementation you can use.\nthis is a kind of your own simple soution you can implement (not perfect, you can make it perfect by learning and using inbuilt synchronizers we have in java concurrent package )</p>\n<ol>\n<li>introduce a field <code>Semaphore semaphore = new Semaphore(10)</code> in your controller class or whatever the class which has <code>webmethod</code></li>\n</ol>\n<p>then use this kind of logic in web method</p>\n<pre><code>if (semaphore.tryAcquire())\n{\n     try\n     {\n       // your call to calculate task and return the result\n      }\n      finally\n      {\n          semaphore.release();\n      }\n}\nelse\n{\n  //handle or throw error , this is the 11th call while 10 ongoing requests are there \n}\n\n \n\n\n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694878002,"creation_date":1694878002,"answer_id":77118408,"question_id":77115724,"body_markdown":"I believe what you need is a Thread pool. They were built for that purpose. You can configure how many threads are in the pool and have the pool handle executing calls to your calculator bean. The class you can google is ExecutorService or ThreadPoolExecutor. Below is an example in pseudo/Kotlin/Java. This will work well if you don&#39;t need the response in real time. You can have your client code initiate the request the look up the result in a separate call but I don&#39;t know your business requirement.\r\n\r\n**ExecutorService**\r\n\r\nDefine a thread pool, the number of threads in the pool and some other basics.\r\n\r\n    private val executorService: ExecutorService = ThreadPoolExecutor(\r\n        1, 1, 0L, TimeUnit.MILLISECONDS,\r\n        LinkedBlockingQueue&lt;Runnable&gt;()\r\n    )\r\n\r\nNow inside your controller or web request handler tell the executor to execute your calculator bean code. It will send all those calls to the pools queue and the constrained threads that you&#39;ve defined will process them.\r\n\r\n**Handling requests**\r\n\r\n        @WebMethod(operationName=&quot;calculateWebMethod&quot;, action=&quot;calculateWebMethod&quot;)\r\n    public calculateWebMethodResponse calculateWebMethod(\r\n    @WebParam(name=&quot;param1&quot;) String param1,\r\n    @WebParam(name=&quot;param2&quot;) String param2,\r\n    ...\r\n    ) {\r\n        executorService.execute {\r\n            long webMethodResult = CalculateBean.CalculateTask(...params);\r\n            return webMethodResult;\r\n        }\r\n    }\r\n\r\n","title":"Limit concurrent Threads in Spring Web Method","body":"<p>I believe what you need is a Thread pool. They were built for that purpose. You can configure how many threads are in the pool and have the pool handle executing calls to your calculator bean. The class you can google is ExecutorService or ThreadPoolExecutor. Below is an example in pseudo/Kotlin/Java. This will work well if you don't need the response in real time. You can have your client code initiate the request the look up the result in a separate call but I don't know your business requirement.</p>\n<p><strong>ExecutorService</strong></p>\n<p>Define a thread pool, the number of threads in the pool and some other basics.</p>\n<pre><code>private val executorService: ExecutorService = ThreadPoolExecutor(\n    1, 1, 0L, TimeUnit.MILLISECONDS,\n    LinkedBlockingQueue&lt;Runnable&gt;()\n)\n</code></pre>\n<p>Now inside your controller or web request handler tell the executor to execute your calculator bean code. It will send all those calls to the pools queue and the constrained threads that you've defined will process them.</p>\n<p><strong>Handling requests</strong></p>\n<pre><code>    @WebMethod(operationName=&quot;calculateWebMethod&quot;, action=&quot;calculateWebMethod&quot;)\npublic calculateWebMethodResponse calculateWebMethod(\n@WebParam(name=&quot;param1&quot;) String param1,\n@WebParam(name=&quot;param2&quot;) String param2,\n...\n) {\n    executorService.execute {\n        long webMethodResult = CalculateBean.CalculateTask(...params);\n        return webMethodResult;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17302469,"reputation":403,"user_id":12531920,"display_name":"Cesar Lopes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694878002,"creation_date":1694818908,"question_id":77115724,"body_markdown":"I have a spring Web MVC application which has a Web Method in SOAP called calculateWebMethod. \r\n\r\nBecause of the number of concurrent requests the server was overloading and my team decided to make the Web Method call a public static synchronized method `CalculateTask` to make the requests run in a single Thread and the overload go into a queue.\r\n\r\nSo basically we have this scenario:\r\n\r\n    public class CalculateBean {\r\n       public static synchronized long CalculateTask(params...) {\r\n          long result = null;\r\n           ... code to calculate\r\n          return result;\r\n       }\r\n    }\r\n\r\n \r\n    @WebMethod(operationName=&quot;calculateWebMethod&quot;, action=&quot;calculateWebMethod&quot;)\r\n    public calculateWebMethodResponse calculateWebMethod(\r\n       @WebParam(name=&quot;param1&quot;) String param1,\r\n       @WebParam(name=&quot;param2&quot;) String param2,\r\n       ...\r\n    ) {\r\n       ...\r\n       long webMethodResult = CalculateBean.CalculateTask(...params);\r\n       return webMethodResult;\r\n    }\r\n\r\nThe problem is the queue is too long to process all the requests in an acceptable time, but leave everything in multiple threads will overload the server, is it possible to limit the number of threads executing `CalculateTask` for 10 or n concurrents setting up this limit on execution time and make the overload go to a queue?","title":"Limit concurrent Threads in Spring Web Method","body":"<p>I have a spring Web MVC application which has a Web Method in SOAP called calculateWebMethod.</p>\n<p>Because of the number of concurrent requests the server was overloading and my team decided to make the Web Method call a public static synchronized method <code>CalculateTask</code> to make the requests run in a single Thread and the overload go into a queue.</p>\n<p>So basically we have this scenario:</p>\n<pre><code>public class CalculateBean {\n   public static synchronized long CalculateTask(params...) {\n      long result = null;\n       ... code to calculate\n      return result;\n   }\n}\n\n\n@WebMethod(operationName=&quot;calculateWebMethod&quot;, action=&quot;calculateWebMethod&quot;)\npublic calculateWebMethodResponse calculateWebMethod(\n   @WebParam(name=&quot;param1&quot;) String param1,\n   @WebParam(name=&quot;param2&quot;) String param2,\n   ...\n) {\n   ...\n   long webMethodResult = CalculateBean.CalculateTask(...params);\n   return webMethodResult;\n}\n</code></pre>\n<p>The problem is the queue is too long to process all the requests in an acceptable time, but leave everything in multiple threads will overload the server, is it possible to limit the number of threads executing <code>CalculateTask</code> for 10 or n concurrents setting up this limit on execution time and make the overload go to a queue?</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":6113017,"reputation":2809,"user_id":4768873,"display_name":"Rob Baily"},"score":2,"creation_date":1482945572,"post_id":41366031,"comment_id":69934945,"body_markdown":"Look like a duplicate of this one: http://stackoverflow.com/questions/28802544/java-8-localdate-jackson-format","body":"Look like a duplicate of this one: <a href=\"http://stackoverflow.com/questions/28802544/java-8-localdate-jackson-format\" title=\"java 8 localdate jackson format\">stackoverflow.com/questions/28802544/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1055208,"reputation":1237,"user_id":1058096,"display_name":"dtelaroli"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1519484136,"creation_date":1519484136,"answer_id":48964158,"question_id":41366031,"body_markdown":"Add in your date property\r\n\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)","title":"Failed to convert property value of type [java.lang.String] to required type [java.time.LocalDate]","body":"<p>Add in your date property</p>\n\n<pre><code>@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20910998,"reputation":1,"user_id":15361918,"display_name":"javivas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615302290,"creation_date":1615302290,"answer_id":66549430,"question_id":41366031,"body_markdown":"@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\r\n\r\nThe previous answer works fine for me. Only add, that if you need to change date format, you can use this sentence:\r\n\r\nth:value=&quot;${#temporals.format(fromDepartureDate,&#39;yyyy-MM-dd&#39;)}&quot;","title":"Failed to convert property value of type [java.lang.String] to required type [java.time.LocalDate]","body":"<p>@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)</p>\n<p>The previous answer works fine for me. Only add, that if you need to change date format, you can use this sentence:</p>\n<p>th:value=&quot;${#temporals.format(fromDepartureDate,'yyyy-MM-dd')}&quot;</p>\n"},{"tags":[],"owner":{"account_id":14176255,"reputation":40,"user_id":10241414,"display_name":"Nakip Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694124492,"creation_date":1694124328,"answer_id":77063106,"question_id":41366031,"body_markdown":"You can use this method in your model class instead of @JsonFormat\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(Include.NON_NULL)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class YourModelClass implements Serializable {\r\n        private static final long serialVersionUID = -4399291572854602191L;\r\n        ...\r\n        ...\r\n        @JsonDeserialize(using = LocalDateDeserializer.class)\r\n        @JsonSerialize(using = LocalDateSerializer.class)\r\n        @JsonProperty(&quot;toDepartureDate&quot;)\r\n        private LocalDate toDepartureDate;\r\n        ....\r\n        ....\r\n      }\r\n\r\n\r\n`@JsonProperty` annotation should be help to get data with key name. \r\n`private LocalDate toDepartureDate` line is defining your variables type for your model class. If the correct data entered , it will be assigned correctly.\r\nAnd also with serilization and deserilization like as below , it worked for me .","title":"Failed to convert property value of type [java.lang.String] to required type [java.time.LocalDate]","body":"<p>You can use this method in your model class instead of @JsonFormat</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(Include.NON_NULL)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class YourModelClass implements Serializable {\n    private static final long serialVersionUID = -4399291572854602191L;\n    ...\n    ...\n    @JsonDeserialize(using = LocalDateDeserializer.class)\n    @JsonSerialize(using = LocalDateSerializer.class)\n    @JsonProperty(&quot;toDepartureDate&quot;)\n    private LocalDate toDepartureDate;\n    ....\n    ....\n  }\n</code></pre>\n<p><code>@JsonProperty</code> annotation should be help to get data with key name.\n<code>private LocalDate toDepartureDate</code> line is defining your variables type for your model class. If the correct data entered , it will be assigned correctly.\nAnd also with serilization and deserilization like as below , it worked for me .</p>\n"}],"owner":{"account_id":3345927,"reputation":382,"user_id":2811078,"display_name":"Chandan Gawri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13011,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1694877900,"creation_date":1482942484,"question_id":41366031,"body_markdown":"    {\r\n    &quot;toDepartureDate&quot;: &quot;2016-12-28&quot;,\r\n    &quot;fromDepartureDate&quot;: &quot;2016-12-28&quot;\r\n    }\r\n\r\nI want to post above String dates in json as `java.time.LocalDate`, but I am receiving 400 Bad Request as error. Could some one help here. I have used `@JsonFormat` but it did not help me either.\r\n\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING,pattern=&quot;yyyy-MM-dd&quot;,timezone = &quot;GMT+5:30&quot;)\r\n\r\n\tprivate LocalDate fromDepartureDate;\r\n\t\r\n\t@JsonFormat(shape=JsonFormat.Shape.STRING,pattern=&quot;yyyy-MM-dd&quot;,timezone = &quot;GMT+5:30&quot;)\r\n\tprivate LocalDate toDepartureDate;\r\n\r\n    {\r\n      &quot;timestamp&quot;: 1482942147246,\r\n      &quot;status&quot;: 400,\r\n      &quot;error&quot;: &quot;Bad Request&quot;,\r\n      &quot;exception&quot;: &quot;org.springframework.validation.BindException&quot;,\r\n      &quot;errors&quot;: [\r\n        {\r\n          &quot;codes&quot;: [\r\n            &quot;typeMismatch.flightReportSearchDto.fromDepartureDate&quot;,\r\n            &quot;typeMismatch.fromDepartureDate&quot;,\r\n            &quot;typeMismatch.java.time.LocalDate&quot;,\r\n            &quot;typeMismatch&quot;\r\n          ],\r\n          &quot;arguments&quot;: [\r\n            {\r\n              &quot;codes&quot;: [\r\n                &quot;flightReportSearchDto.fromDepartureDate&quot;,\r\n                &quot;fromDepartureDate&quot;\r\n              ],\r\n              &quot;arguments&quot;: null,\r\n              &quot;defaultMessage&quot;: &quot;fromDepartureDate&quot;,\r\n              &quot;code&quot;: &quot;fromDepartureDate&quot;\r\n            }\r\n          ],\r\n          &quot;defaultMessage&quot;: &quot;Failed to convert property value of type [java.lang.String] to required type [java.time.LocalDate] for property &#39;fromDepartureDate&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@com.fasterxml.jackson.annotation.JsonFormat java.time.LocalDate] for value &#39;2016-12-28&#39;; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [2016-12-28]&quot;,\r\n          &quot;objectName&quot;: &quot;flightReportSearchDto&quot;,\r\n          &quot;field&quot;: &quot;fromDepartureDate&quot;,\r\n          &quot;rejectedValue&quot;: &quot;2016-12-28&quot;,\r\n          &quot;bindingFailure&quot;: true,\r\n          &quot;code&quot;: &quot;typeMismatch&quot;\r\n        },\r\n        {\r\n          &quot;codes&quot;: [\r\n            &quot;typeMismatch.flightReportSearchDto.toDepartureDate&quot;,\r\n            &quot;typeMismatch.toDepartureDate&quot;,\r\n            &quot;typeMismatch.java.time.LocalDate&quot;,\r\n            &quot;typeMismatch&quot;\r\n          ],\r\n          &quot;arguments&quot;: [\r\n            {\r\n              &quot;codes&quot;: [\r\n                &quot;flightReportSearchDto.toDepartureDate&quot;,\r\n                &quot;toDepartureDate&quot;\r\n              ],\r\n              &quot;arguments&quot;: null,\r\n              &quot;defaultMessage&quot;: &quot;toDepartureDate&quot;,\r\n              &quot;code&quot;: &quot;toDepartureDate&quot;\r\n            }\r\n          ],\r\n          &quot;defaultMessage&quot;: &quot;Failed to convert property value of type [java.lang.String] to required type [java.time.LocalDate] for property &#39;toDepartureDate&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@com.fasterxml.jackson.annotation.JsonFormat java.time.LocalDate] for value &#39;2016-12-29&#39;; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [2016-12-29]&quot;,\r\n          &quot;objectName&quot;: &quot;flightReportSearchDto&quot;,\r\n          &quot;field&quot;: &quot;toDepartureDate&quot;,\r\n          &quot;rejectedValue&quot;: &quot;2016-12-29&quot;,\r\n          &quot;bindingFailure&quot;: true,\r\n          &quot;code&quot;: &quot;typeMismatch&quot;\r\n        }\r\n      ]\r\n     \r\n    } \r\n\r\n\r\n","title":"Failed to convert property value of type [java.lang.String] to required type [java.time.LocalDate]","body":"<pre><code>{\n&quot;toDepartureDate&quot;: &quot;2016-12-28&quot;,\n&quot;fromDepartureDate&quot;: &quot;2016-12-28&quot;\n}\n</code></pre>\n<p>I want to post above String dates in json as <code>java.time.LocalDate</code>, but I am receiving 400 Bad Request as error. Could some one help here. I have used <code>@JsonFormat</code> but it did not help me either.</p>\n<pre><code>@JsonFormat(shape=JsonFormat.Shape.STRING,pattern=&quot;yyyy-MM-dd&quot;,timezone = &quot;GMT+5:30&quot;)\n\nprivate LocalDate fromDepartureDate;\n\n@JsonFormat(shape=JsonFormat.Shape.STRING,pattern=&quot;yyyy-MM-dd&quot;,timezone = &quot;GMT+5:30&quot;)\nprivate LocalDate toDepartureDate;\n\n{\n  &quot;timestamp&quot;: 1482942147246,\n  &quot;status&quot;: 400,\n  &quot;error&quot;: &quot;Bad Request&quot;,\n  &quot;exception&quot;: &quot;org.springframework.validation.BindException&quot;,\n  &quot;errors&quot;: [\n    {\n      &quot;codes&quot;: [\n        &quot;typeMismatch.flightReportSearchDto.fromDepartureDate&quot;,\n        &quot;typeMismatch.fromDepartureDate&quot;,\n        &quot;typeMismatch.java.time.LocalDate&quot;,\n        &quot;typeMismatch&quot;\n      ],\n      &quot;arguments&quot;: [\n        {\n          &quot;codes&quot;: [\n            &quot;flightReportSearchDto.fromDepartureDate&quot;,\n            &quot;fromDepartureDate&quot;\n          ],\n          &quot;arguments&quot;: null,\n          &quot;defaultMessage&quot;: &quot;fromDepartureDate&quot;,\n          &quot;code&quot;: &quot;fromDepartureDate&quot;\n        }\n      ],\n      &quot;defaultMessage&quot;: &quot;Failed to convert property value of type [java.lang.String] to required type [java.time.LocalDate] for property 'fromDepartureDate'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@com.fasterxml.jackson.annotation.JsonFormat java.time.LocalDate] for value '2016-12-28'; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [2016-12-28]&quot;,\n      &quot;objectName&quot;: &quot;flightReportSearchDto&quot;,\n      &quot;field&quot;: &quot;fromDepartureDate&quot;,\n      &quot;rejectedValue&quot;: &quot;2016-12-28&quot;,\n      &quot;bindingFailure&quot;: true,\n      &quot;code&quot;: &quot;typeMismatch&quot;\n    },\n    {\n      &quot;codes&quot;: [\n        &quot;typeMismatch.flightReportSearchDto.toDepartureDate&quot;,\n        &quot;typeMismatch.toDepartureDate&quot;,\n        &quot;typeMismatch.java.time.LocalDate&quot;,\n        &quot;typeMismatch&quot;\n      ],\n      &quot;arguments&quot;: [\n        {\n          &quot;codes&quot;: [\n            &quot;flightReportSearchDto.toDepartureDate&quot;,\n            &quot;toDepartureDate&quot;\n          ],\n          &quot;arguments&quot;: null,\n          &quot;defaultMessage&quot;: &quot;toDepartureDate&quot;,\n          &quot;code&quot;: &quot;toDepartureDate&quot;\n        }\n      ],\n      &quot;defaultMessage&quot;: &quot;Failed to convert property value of type [java.lang.String] to required type [java.time.LocalDate] for property 'toDepartureDate'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@com.fasterxml.jackson.annotation.JsonFormat java.time.LocalDate] for value '2016-12-29'; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [2016-12-29]&quot;,\n      &quot;objectName&quot;: &quot;flightReportSearchDto&quot;,\n      &quot;field&quot;: &quot;toDepartureDate&quot;,\n      &quot;rejectedValue&quot;: &quot;2016-12-29&quot;,\n      &quot;bindingFailure&quot;: true,\n      &quot;code&quot;: &quot;typeMismatch&quot;\n    }\n  ]\n \n} \n</code></pre>\n"},{"tags":["java","spring","spring-boot","stateless-session"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1465969745,"creation_date":1465969745,"answer_id":37827078,"question_id":37820315,"body_markdown":"    I know about the create-session=&quot;stateless&quot; in xml configuration, but is there any way to do the same in Java config so that Basic Authentication is Stateless and Form-Authentication is Statefull..?\r\n\r\nYou can do the following.\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    }\r\n\r\nAnd For your problem following custom Java Config can be used.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig {\r\n    \r\n    \t@Inject\r\n    \tUserDetailsService userService;\r\n    \t\r\n    \t@Bean\r\n    \tpublic AuthenticationManager authenticationManager() throws Exception {\r\n    \t\tAuthenticationManager authenticationManager = new ProviderManager(\r\n    \t\t\t\tArrays.asList(authenticationProvider()));\r\n    \t\treturn authenticationManager;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic AuthenticationProvider authenticationProvider() throws Exception {\r\n    \t\tCustomAuthenticationProvider authenticationProvider = new CustomAuthenticationProvider();\r\n    \t\tauthenticationProvider.setUserDetailsService(userService);\r\n    \t\tauthenticationProvider.setSaltSource(saltSource());\r\n    \t\tauthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n    \t\tauthenticationProvider.afterPropertiesSet();\r\n    \t\treturn authenticationProvider;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic SaltSource saltSource() throws Exception {\r\n    \t\tReflectionSaltSource saltSource = new ReflectionSaltSource();\r\n    \t\tsaltSource.setUserPropertyToUse(&quot;salt&quot;);\r\n    \t\tsaltSource.afterPropertiesSet();\r\n    \t\treturn saltSource;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \t\treturn new Md5PasswordEncoder();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic FilterChainProxy springSecurityFilterChain()\r\n    \t\t\tthrows ServletException, Exception {\r\n    \t\tList&lt;SecurityFilterChain&gt; securityFilterChains = new ArrayList&lt;SecurityFilterChain&gt;();\r\n    \t\tsecurityFilterChains.add(new DefaultSecurityFilterChain(\r\n    \t\t\t\tnew AntPathRequestMatcher(&quot;/login**&quot;)));\r\n    \t\tsecurityFilterChains.add(new DefaultSecurityFilterChain(\r\n    \t\t\t\tnew AntPathRequestMatcher(&quot;/resources/**&quot;)));\r\n    \t\tsecurityFilterChains.add(new DefaultSecurityFilterChain(\r\n    \t\t\t\tnew AntPathRequestMatcher(&quot;/api/**&quot;),\r\n    \t\t\t\tsecurityContextPersistenceFilterASCFalse(),\r\n    \t\t\t\tbasicAuthenticationFilter(), exceptionTranslationFilter(),\r\n    \t\t\t\tfilterSecurityInterceptor()));\r\n    \t\tsecurityFilterChains.add(new DefaultSecurityFilterChain(\r\n    \t\t\t\tnew AntPathRequestMatcher(&quot;/**&quot;),\r\n    \t\t\t\tsecurityContextPersistenceFilterASCTrue(), logoutFilter(),\r\n    \t\t\t\tusernamePasswordAuthenticationFilter(),\r\n    \t\t\t\texceptionTranslationFilter(), filterSecurityInterceptor()));\r\n    \t\treturn new FilterChainProxy(securityFilterChains);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic SecurityContextPersistenceFilter securityContextPersistenceFilterASCTrue() {\r\n    \t\treturn new SecurityContextPersistenceFilter(\r\n    \t\t\t\tnew HttpSessionSecurityContextRepository());\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic SecurityContextPersistenceFilter securityContextPersistenceFilterASCFalse() {\r\n    \t\tHttpSessionSecurityContextRepository httpSessionSecurityContextRepository = new HttpSessionSecurityContextRepository();\r\n    \t\thttpSessionSecurityContextRepository.setAllowSessionCreation(false);\r\n    \t\treturn new SecurityContextPersistenceFilter(\r\n    \t\t\t\thttpSessionSecurityContextRepository);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ExceptionTranslationFilter exceptionTranslationFilter() {\r\n    \t\tExceptionTranslationFilter exceptionTranslationFilter = new ExceptionTranslationFilter(\r\n    \t\t\t\tnew LoginUrlAuthenticationEntryPoint(&quot;/login&quot;));\r\n    \t\tAccessDeniedHandlerImpl accessDeniedHandlerImpl = new AccessDeniedHandlerImpl();\r\n    \t\taccessDeniedHandlerImpl.setErrorPage(&quot;/exception&quot;);\r\n    \t\texceptionTranslationFilter\r\n    \t\t\t\t.setAccessDeniedHandler(accessDeniedHandlerImpl);\r\n    \t\texceptionTranslationFilter.afterPropertiesSet();\r\n    \t\treturn exceptionTranslationFilter;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic UsernamePasswordAuthenticationFilter usernamePasswordAuthenticationFilter()\r\n    \t\t\tthrows Exception {\r\n    \t\tUsernamePasswordAuthenticationFilter usernamePasswordAuthenticationFilter = new UsernamePasswordAuthenticationFilter();\r\n    \t\tusernamePasswordAuthenticationFilter\r\n    \t\t\t\t.setAuthenticationManager(authenticationManager());\r\n    \t\tusernamePasswordAuthenticationFilter.setAllowSessionCreation(true);\r\n    \t\tSimpleUrlAuthenticationSuccessHandler successHandler = new SimpleUrlAuthenticationSuccessHandler(\r\n    \t\t\t\t&quot;/index&quot;);\r\n    \t\tsuccessHandler.setAlwaysUseDefaultTargetUrl(true);\r\n    \t\tusernamePasswordAuthenticationFilter\r\n    \t\t\t\t.setAuthenticationSuccessHandler(successHandler);\r\n    \t\tusernamePasswordAuthenticationFilter\r\n    \t\t\t\t.setAuthenticationFailureHandler(new SimpleUrlAuthenticationFailureHandler(\r\n    \t\t\t\t\t\t&quot;/login?error=true&quot;));\r\n    \t\tusernamePasswordAuthenticationFilter\r\n    \t\t\t\t.setAuthenticationDetailsSource(new CustomWebAuthenticationDetailsSource());\r\n    \t\tusernamePasswordAuthenticationFilter.afterPropertiesSet();\r\n    \r\n    \t\treturn usernamePasswordAuthenticationFilter;\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic FilterSecurityInterceptor filterSecurityInterceptor()\r\n    \t\t\tthrows Exception {\r\n    \t\tFilterSecurityInterceptor filterSecurityInterceptor = new FilterSecurityInterceptor();\r\n    \t\tfilterSecurityInterceptor\r\n    \t\t\t\t.setAuthenticationManager(authenticationManager());\r\n    \t\tfilterSecurityInterceptor\r\n    \t\t\t\t.setAccessDecisionManager(accessDecisionManager());\r\n    \t\tfilterSecurityInterceptor.setRunAsManager(runAsManager());\r\n    \t\tLinkedHashMap&lt;RequestMatcher, Collection&lt;ConfigAttribute&gt;&gt; requestMap = new LinkedHashMap&lt;RequestMatcher, Collection&lt;ConfigAttribute&gt;&gt;();\r\n    \t\tList&lt;ConfigAttribute&gt; configs = new ArrayList&lt;ConfigAttribute&gt;();\r\n    \t\tconfigs.add(new org.springframework.security.access.SecurityConfig(\r\n    \t\t\t\t&quot;isAuthenticated()&quot;));\r\n    \t\trequestMap.put(new AntPathRequestMatcher(&quot;/**&quot;), configs);\r\n    \t\tFilterInvocationSecurityMetadataSource filterInvocationSecurityMetadataSource = new ExpressionBasedFilterInvocationSecurityMetadataSource(\r\n    \t\t\t\trequestMap, new DefaultWebSecurityExpressionHandler());\r\n    \t\tfilterSecurityInterceptor\r\n    \t\t\t\t.setSecurityMetadataSource(filterInvocationSecurityMetadataSource);\r\n    \t\tfilterSecurityInterceptor.afterPropertiesSet();\r\n    \r\n    \t\treturn filterSecurityInterceptor;\r\n    \t}\r\n    \r\n    \tpublic AffirmativeBased accessDecisionManager() throws Exception {\r\n    \t\tList&lt;AccessDecisionVoter&gt; voters = new ArrayList&lt;AccessDecisionVoter&gt;();\r\n    \t\tvoters.add(new WebExpressionVoter());\r\n    \t\tvoters.add(new RoleVoter());\r\n    \t\tAffirmativeBased affirmativeBased = new AffirmativeBased(voters);\r\n    \t\taffirmativeBased.setAllowIfAllAbstainDecisions(false);\r\n    \t\taffirmativeBased.afterPropertiesSet();\r\n    \r\n    \t\treturn affirmativeBased;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RunAsManager runAsManager() throws Exception {\r\n    \t\tRunAsManagerImpl runAsManager = new RunAsManagerImpl();\r\n    \t\trunAsManager.setKey(&quot;V_RUN_AS&quot;);\r\n    \t\trunAsManager.afterPropertiesSet();\r\n    \t\treturn runAsManager;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic LogoutFilter logoutFilter() throws ServletException {\r\n    \t\tList&lt;LogoutHandler&gt; handlers = new ArrayList&lt;LogoutHandler&gt;();\r\n    \t\thandlers.add(new CookieClearingLogoutHandler(&quot;JSESSIONID&quot;));\r\n    \t\thandlers.add(new SecurityContextLogoutHandler());\r\n    \t\tLogoutFilter logoutFilter = new LogoutFilter(&quot;/login&quot;,\r\n    \t\t\t\thandlers.toArray(new LogoutHandler[] {}));\r\n    \t\tlogoutFilter.afterPropertiesSet();\r\n    \t\treturn logoutFilter;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RequestContextFilter requestContextFilter() {\r\n    \t\treturn new RequestContextFilter();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic BasicAuthenticationFilter basicAuthenticationFilter()\r\n    \t\t\tthrows Exception {\r\n    \t\tBasicAuthenticationEntryPoint basicAuthenticationEntryPoint = new BasicAuthenticationEntryPoint();\r\n    \t\tbasicAuthenticationEntryPoint.setRealmName(&quot;V_REALM&quot;);\r\n    \t\tbasicAuthenticationEntryPoint.afterPropertiesSet();\r\n    \t\tBasicAuthenticationFilter basicAuthenticationFilter = new BasicAuthenticationFilter(\r\n    \t\t\t\tauthenticationManager(), basicAuthenticationEntryPoint);\r\n    \t\tbasicAuthenticationFilter\r\n    \t\t\t\t.setAuthenticationDetailsSource(new CustomWebAuthenticationDetailsSource());\r\n    \t\tbasicAuthenticationFilter.afterPropertiesSet();\r\n    \t\treturn basicAuthenticationFilter;\r\n    \t}\r\n    }\r\n\r\nThis configuration creates two different authentication mechanism.\r\n\r\nFor any request starting with `/api/*` it will be using a `basicAuthenticationFilter` and `securityContextPersistenceFilterASCFalse` with Session Creation False.\r\n\r\nFor any request starting with `/*` it will be using a `usernamePasswordAuthenticationFilter` and `securityContextPersistenceFilterASCTrue` with Session Creation True.\r\n\r\nYou can make use of this and alter it to cater your problem.","title":"Spring Boot Basic Authentication without Session (Stateless Session)","body":"<pre><code>I know about the create-session=\"stateless\" in xml configuration, but is there any way to do the same in Java config so that Basic Authentication is Stateless and Form-Authentication is Statefull..?\n</code></pre>\n\n<p>You can do the following.</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.sessionManagement()\n    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n}\n</code></pre>\n\n<p>And For your problem following custom Java Config can be used.</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig {\n\n    @Inject\n    UserDetailsService userService;\n\n    @Bean\n    public AuthenticationManager authenticationManager() throws Exception {\n        AuthenticationManager authenticationManager = new ProviderManager(\n                Arrays.asList(authenticationProvider()));\n        return authenticationManager;\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() throws Exception {\n        CustomAuthenticationProvider authenticationProvider = new CustomAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userService);\n        authenticationProvider.setSaltSource(saltSource());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        authenticationProvider.afterPropertiesSet();\n        return authenticationProvider;\n    }\n\n    @Bean\n    public SaltSource saltSource() throws Exception {\n        ReflectionSaltSource saltSource = new ReflectionSaltSource();\n        saltSource.setUserPropertyToUse(\"salt\");\n        saltSource.afterPropertiesSet();\n        return saltSource;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new Md5PasswordEncoder();\n    }\n\n    @Bean\n    public FilterChainProxy springSecurityFilterChain()\n            throws ServletException, Exception {\n        List&lt;SecurityFilterChain&gt; securityFilterChains = new ArrayList&lt;SecurityFilterChain&gt;();\n        securityFilterChains.add(new DefaultSecurityFilterChain(\n                new AntPathRequestMatcher(\"/login**\")));\n        securityFilterChains.add(new DefaultSecurityFilterChain(\n                new AntPathRequestMatcher(\"/resources/**\")));\n        securityFilterChains.add(new DefaultSecurityFilterChain(\n                new AntPathRequestMatcher(\"/api/**\"),\n                securityContextPersistenceFilterASCFalse(),\n                basicAuthenticationFilter(), exceptionTranslationFilter(),\n                filterSecurityInterceptor()));\n        securityFilterChains.add(new DefaultSecurityFilterChain(\n                new AntPathRequestMatcher(\"/**\"),\n                securityContextPersistenceFilterASCTrue(), logoutFilter(),\n                usernamePasswordAuthenticationFilter(),\n                exceptionTranslationFilter(), filterSecurityInterceptor()));\n        return new FilterChainProxy(securityFilterChains);\n    }\n\n    @Bean\n    public SecurityContextPersistenceFilter securityContextPersistenceFilterASCTrue() {\n        return new SecurityContextPersistenceFilter(\n                new HttpSessionSecurityContextRepository());\n    }\n\n    @Bean\n    public SecurityContextPersistenceFilter securityContextPersistenceFilterASCFalse() {\n        HttpSessionSecurityContextRepository httpSessionSecurityContextRepository = new HttpSessionSecurityContextRepository();\n        httpSessionSecurityContextRepository.setAllowSessionCreation(false);\n        return new SecurityContextPersistenceFilter(\n                httpSessionSecurityContextRepository);\n    }\n\n    @Bean\n    public ExceptionTranslationFilter exceptionTranslationFilter() {\n        ExceptionTranslationFilter exceptionTranslationFilter = new ExceptionTranslationFilter(\n                new LoginUrlAuthenticationEntryPoint(\"/login\"));\n        AccessDeniedHandlerImpl accessDeniedHandlerImpl = new AccessDeniedHandlerImpl();\n        accessDeniedHandlerImpl.setErrorPage(\"/exception\");\n        exceptionTranslationFilter\n                .setAccessDeniedHandler(accessDeniedHandlerImpl);\n        exceptionTranslationFilter.afterPropertiesSet();\n        return exceptionTranslationFilter;\n    }\n\n    @Bean\n    public UsernamePasswordAuthenticationFilter usernamePasswordAuthenticationFilter()\n            throws Exception {\n        UsernamePasswordAuthenticationFilter usernamePasswordAuthenticationFilter = new UsernamePasswordAuthenticationFilter();\n        usernamePasswordAuthenticationFilter\n                .setAuthenticationManager(authenticationManager());\n        usernamePasswordAuthenticationFilter.setAllowSessionCreation(true);\n        SimpleUrlAuthenticationSuccessHandler successHandler = new SimpleUrlAuthenticationSuccessHandler(\n                \"/index\");\n        successHandler.setAlwaysUseDefaultTargetUrl(true);\n        usernamePasswordAuthenticationFilter\n                .setAuthenticationSuccessHandler(successHandler);\n        usernamePasswordAuthenticationFilter\n                .setAuthenticationFailureHandler(new SimpleUrlAuthenticationFailureHandler(\n                        \"/login?error=true\"));\n        usernamePasswordAuthenticationFilter\n                .setAuthenticationDetailsSource(new CustomWebAuthenticationDetailsSource());\n        usernamePasswordAuthenticationFilter.afterPropertiesSet();\n\n        return usernamePasswordAuthenticationFilter;\n\n    }\n\n    @Bean\n    public FilterSecurityInterceptor filterSecurityInterceptor()\n            throws Exception {\n        FilterSecurityInterceptor filterSecurityInterceptor = new FilterSecurityInterceptor();\n        filterSecurityInterceptor\n                .setAuthenticationManager(authenticationManager());\n        filterSecurityInterceptor\n                .setAccessDecisionManager(accessDecisionManager());\n        filterSecurityInterceptor.setRunAsManager(runAsManager());\n        LinkedHashMap&lt;RequestMatcher, Collection&lt;ConfigAttribute&gt;&gt; requestMap = new LinkedHashMap&lt;RequestMatcher, Collection&lt;ConfigAttribute&gt;&gt;();\n        List&lt;ConfigAttribute&gt; configs = new ArrayList&lt;ConfigAttribute&gt;();\n        configs.add(new org.springframework.security.access.SecurityConfig(\n                \"isAuthenticated()\"));\n        requestMap.put(new AntPathRequestMatcher(\"/**\"), configs);\n        FilterInvocationSecurityMetadataSource filterInvocationSecurityMetadataSource = new ExpressionBasedFilterInvocationSecurityMetadataSource(\n                requestMap, new DefaultWebSecurityExpressionHandler());\n        filterSecurityInterceptor\n                .setSecurityMetadataSource(filterInvocationSecurityMetadataSource);\n        filterSecurityInterceptor.afterPropertiesSet();\n\n        return filterSecurityInterceptor;\n    }\n\n    public AffirmativeBased accessDecisionManager() throws Exception {\n        List&lt;AccessDecisionVoter&gt; voters = new ArrayList&lt;AccessDecisionVoter&gt;();\n        voters.add(new WebExpressionVoter());\n        voters.add(new RoleVoter());\n        AffirmativeBased affirmativeBased = new AffirmativeBased(voters);\n        affirmativeBased.setAllowIfAllAbstainDecisions(false);\n        affirmativeBased.afterPropertiesSet();\n\n        return affirmativeBased;\n    }\n\n    @Bean\n    public RunAsManager runAsManager() throws Exception {\n        RunAsManagerImpl runAsManager = new RunAsManagerImpl();\n        runAsManager.setKey(\"V_RUN_AS\");\n        runAsManager.afterPropertiesSet();\n        return runAsManager;\n    }\n\n    @Bean\n    public LogoutFilter logoutFilter() throws ServletException {\n        List&lt;LogoutHandler&gt; handlers = new ArrayList&lt;LogoutHandler&gt;();\n        handlers.add(new CookieClearingLogoutHandler(\"JSESSIONID\"));\n        handlers.add(new SecurityContextLogoutHandler());\n        LogoutFilter logoutFilter = new LogoutFilter(\"/login\",\n                handlers.toArray(new LogoutHandler[] {}));\n        logoutFilter.afterPropertiesSet();\n        return logoutFilter;\n    }\n\n    @Bean\n    public RequestContextFilter requestContextFilter() {\n        return new RequestContextFilter();\n    }\n\n    @Bean\n    public BasicAuthenticationFilter basicAuthenticationFilter()\n            throws Exception {\n        BasicAuthenticationEntryPoint basicAuthenticationEntryPoint = new BasicAuthenticationEntryPoint();\n        basicAuthenticationEntryPoint.setRealmName(\"V_REALM\");\n        basicAuthenticationEntryPoint.afterPropertiesSet();\n        BasicAuthenticationFilter basicAuthenticationFilter = new BasicAuthenticationFilter(\n                authenticationManager(), basicAuthenticationEntryPoint);\n        basicAuthenticationFilter\n                .setAuthenticationDetailsSource(new CustomWebAuthenticationDetailsSource());\n        basicAuthenticationFilter.afterPropertiesSet();\n        return basicAuthenticationFilter;\n    }\n}\n</code></pre>\n\n<p>This configuration creates two different authentication mechanism.</p>\n\n<p>For any request starting with <code>/api/*</code> it will be using a <code>basicAuthenticationFilter</code> and <code>securityContextPersistenceFilterASCFalse</code> with Session Creation False.</p>\n\n<p>For any request starting with <code>/*</code> it will be using a <code>usernamePasswordAuthenticationFilter</code> and <code>securityContextPersistenceFilterASCTrue</code> with Session Creation True.</p>\n\n<p>You can make use of this and alter it to cater your problem.</p>\n"},{"tags":[],"owner":{"account_id":7631236,"reputation":783,"user_id":5786226,"display_name":"MattW"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500133202,"creation_date":1500132483,"answer_id":45119831,"question_id":37820315,"body_markdown":"For anyone else that comes across this, here&#39;s something else to check.\r\n\r\nI was hitting this same problem with Spring Boot and even with\r\n\r\n       sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\r\nI was still seeing JSESSIONID cookies being set. In my case (using JWT), the missing piece seemed to be setting setAllowSessionCreation on the `HttpSessionSecurityContextRepository` object, like this:\r\n\r\n        public class StatelessAuthenticationFilter extends GenericFilterBean {\r\n        \tprivate final MyTokenAuthService authenticationService;\r\n        \tprivate SecurityContextRepository repository = new HttpSessionSecurityContextRepository();\r\n        \tprotected final Logger logger = LoggerFactory.getLogger(getClass().getName());\r\n        \r\n        \tpublic StatelessAuthenticationFilter(MyTokenAuthService authenticationService) {\r\n        \t\tthis.authenticationService = authenticationService;\r\n        \t\t((HttpSessionSecurityContextRepository) repository).setAllowSessionCreation(false);\r\n        \t}\r\n         }\r\n\r\nWhat pointed me this were these lines in `HttpSessionSecurityContextRepository`:\r\n\r\n    private boolean allowSessionCreation = true;\r\n\r\n","title":"Spring Boot Basic Authentication without Session (Stateless Session)","body":"<p>For anyone else that comes across this, here's something else to check.</p>\n\n<p>I was hitting this same problem with Spring Boot and even with</p>\n\n<pre><code>   sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n</code></pre>\n\n<p>I was still seeing JSESSIONID cookies being set. In my case (using JWT), the missing piece seemed to be setting setAllowSessionCreation on the <code>HttpSessionSecurityContextRepository</code> object, like this:</p>\n\n<pre><code>    public class StatelessAuthenticationFilter extends GenericFilterBean {\n        private final MyTokenAuthService authenticationService;\n        private SecurityContextRepository repository = new HttpSessionSecurityContextRepository();\n        protected final Logger logger = LoggerFactory.getLogger(getClass().getName());\n\n        public StatelessAuthenticationFilter(MyTokenAuthService authenticationService) {\n            this.authenticationService = authenticationService;\n            ((HttpSessionSecurityContextRepository) repository).setAllowSessionCreation(false);\n        }\n     }\n</code></pre>\n\n<p>What pointed me this were these lines in <code>HttpSessionSecurityContextRepository</code>:</p>\n\n<pre><code>private boolean allowSessionCreation = true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679301808,"creation_date":1679301808,"answer_id":75788082,"question_id":37820315,"body_markdown":"You need to add &lt;b&gt;sessionCreationPolicy(SessionCreationPolicy.STATELESS)&lt;/b&gt; to HttpSecurity object, like below : \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Value(&quot;${basic.auth.username}&quot;)\r\n    private String basicAuthUsername;\r\n    @Value(&quot;${basic.auth.password}&quot;)\r\n    private String basicAuthPassword;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .csrf().disable()\r\n                .authorizeRequests().anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth)\r\n            throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .withUser(basicAuthUsername)\r\n                .password(&quot;{noop}&quot; + basicAuthPassword)\r\n                .roles(&quot;USER&quot;); // prefix ROLE_ is automatically added\r\n    }\r\n}\r\n\r\n ","title":"Spring Boot Basic Authentication without Session (Stateless Session)","body":"<p>You need to add <b>sessionCreationPolicy(SessionCreationPolicy.STATELESS)</b> to HttpSecurity object, like below :</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Value(&quot;${basic.auth.username}&quot;)\nprivate String basicAuthUsername;\n@Value(&quot;${basic.auth.password}&quot;)\nprivate String basicAuthPassword;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .csrf().disable()\n            .authorizeRequests().anyRequest().authenticated()\n            .and()\n            .httpBasic();\n}\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth)\n        throws Exception {\n    auth.inMemoryAuthentication()\n            .withUser(basicAuthUsername)\n            .password(&quot;{noop}&quot; + basicAuthPassword)\n            .roles(&quot;USER&quot;); // prefix ROLE_ is automatically added\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":23395970,"reputation":51,"user_id":17459992,"display_name":"tabea0806"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694877602,"creation_date":1694877602,"answer_id":77118377,"question_id":37820315,"body_markdown":"I noticed the other answers contain code that is now deprecated. For anyone else stumbling across this now, instead of:\r\n\r\n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\nuse:\r\n\r\n    http.sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));","title":"Spring Boot Basic Authentication without Session (Stateless Session)","body":"<p>I noticed the other answers contain code that is now deprecated. For anyone else stumbling across this now, instead of:</p>\n<pre><code>http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n</code></pre>\n<p>use:</p>\n<pre><code>http.sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n</code></pre>\n"}],"owner":{"account_id":5488637,"reputation":2572,"user_id":4362675,"accept_rate":58,"display_name":"The Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25932,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1694877602,"creation_date":1465931575,"question_id":37820315,"body_markdown":"I have configured Basic Authentication my Spring-Boot application. Everything is Java Config, no xml.\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            // Authenticate username -&gt; admin, password -&gt; admin &amp; set role as &quot;ROLE_USER&quot;\r\n            auth.inMemoryAuthentication().withUser(&quot;admin&quot;).password(&quot;admin&quot;).roles(&quot;USER&quot;);\r\n        }\r\n        \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            \r\n            http.authorizeRequests()\r\n                .antMatchers(&quot;/login&quot;).permitAll()\r\n                // All Requests should be Authenticated\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                // Enable Basic Authentication\r\n                .httpBasic()\r\n                .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .defaultSuccessUrl(&quot;/main&quot;, true)\r\n                    .loginProcessingUrl(&quot;/session&quot;)\r\n                    .usernameParameter(&quot;Username&quot;).passwordParameter(&quot;Password&quot;)\r\n                .and()\r\n                .logout().logoutUrl(&quot;/logout&quot;).permitAll()\r\n                .and().csrf().disable();\r\n        }\r\n        \r\n    }\r\n\r\nIt&#39;s configured for both Basic authentication and normal form login. When I tested the basic authentication from Rest-Client on Firefox, I can access the secure url &quot;/main&quot;. But in the response headers, I&#39;m getting `Set-Cookie: JSESSIONID=301225C7AE7C74B0892887389996785D;`.\r\n\r\nI don&#39;t want cookies to be generated for basic authentication. I want true `Stateless session` for Basic Authentication. Do note that I need cookies to be generated for form-login to work, so disabling cookies is not an option. I know about the `create-session=&quot;stateless&quot;` in xml configuration, but is there any way to do the same in Java config so that Basic Authentication is Stateless and Form-Authentication is Statefull..?","title":"Spring Boot Basic Authentication without Session (Stateless Session)","body":"<p>I have configured Basic Authentication my Spring-Boot application. Everything is Java Config, no xml.</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        // Authenticate username -&gt; admin, password -&gt; admin &amp; set role as \"ROLE_USER\"\n        auth.inMemoryAuthentication().withUser(\"admin\").password(\"admin\").roles(\"USER\");\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.authorizeRequests()\n            .antMatchers(\"/login\").permitAll()\n            // All Requests should be Authenticated\n            .anyRequest().authenticated()\n            .and()\n            // Enable Basic Authentication\n            .httpBasic()\n            .and()\n            .formLogin()\n                .loginPage(\"/login\")\n                .defaultSuccessUrl(\"/main\", true)\n                .loginProcessingUrl(\"/session\")\n                .usernameParameter(\"Username\").passwordParameter(\"Password\")\n            .and()\n            .logout().logoutUrl(\"/logout\").permitAll()\n            .and().csrf().disable();\n    }\n\n}\n</code></pre>\n\n<p>It's configured for both Basic authentication and normal form login. When I tested the basic authentication from Rest-Client on Firefox, I can access the secure url \"/main\". But in the response headers, I'm getting <code>Set-Cookie: JSESSIONID=301225C7AE7C74B0892887389996785D;</code>.</p>\n\n<p>I don't want cookies to be generated for basic authentication. I want true <code>Stateless session</code> for Basic Authentication. Do note that I need cookies to be generated for form-login to work, so disabling cookies is not an option. I know about the <code>create-session=\"stateless\"</code> in xml configuration, but is there any way to do the same in Java config so that Basic Authentication is Stateless and Form-Authentication is Statefull..?</p>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc-openapi-ui"],"owner":{"account_id":7591159,"reputation":69,"user_id":5758793,"accept_rate":33,"display_name":"rohit raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694877053,"creation_date":1694877053,"question_id":77118347,"body_markdown":"I am currently working on a project using Spring Boot 3.1.2, SpringDoc OpenAPI Starter WebMvc UI 2.1.0, and JDK 17. I have encountered an issue where I am unable to disable the &quot;petstore&quot; URL in the SpringDoc OpenAPI documentation. It seems that the configuration properties in my YAML file are not taking effect.\r\n\r\n\r\nThe &quot;**petstore**&quot; URL is appearing in the SpringDoc OpenAPI UI, even though I have tried to disable it using the configuration properties in my application.yml file.\r\n\r\n**Versions:**\r\n\r\nSpring Boot: 3.1.2\r\nSpringDoc OpenAPI Starter WebMvc UI: 2.1.0\r\nJDK: 17\r\n\r\n**Are there any known issues or compatibility concerns with the versions I am using (Spring Boot 3.1.2, SpringDoc OpenAPI Starter WebMvc UI 2.1.0, and JDK 17) that might be causing this problem?**","title":"Unable to Disable &quot;petstore&quot; URL in SpringDoc OpenAPI","body":"<p>I am currently working on a project using Spring Boot 3.1.2, SpringDoc OpenAPI Starter WebMvc UI 2.1.0, and JDK 17. I have encountered an issue where I am unable to disable the &quot;petstore&quot; URL in the SpringDoc OpenAPI documentation. It seems that the configuration properties in my YAML file are not taking effect.</p>\n<p>The &quot;<strong>petstore</strong>&quot; URL is appearing in the SpringDoc OpenAPI UI, even though I have tried to disable it using the configuration properties in my application.yml file.</p>\n<p><strong>Versions:</strong></p>\n<p>Spring Boot: 3.1.2\nSpringDoc OpenAPI Starter WebMvc UI: 2.1.0\nJDK: 17</p>\n<p><strong>Are there any known issues or compatibility concerns with the versions I am using (Spring Boot 3.1.2, SpringDoc OpenAPI Starter WebMvc UI 2.1.0, and JDK 17) that might be causing this problem?</strong></p>\n"},{"tags":["java","resteasy","quarkus"],"answers":[{"comments":[{"owner":{"account_id":3795,"reputation":48941,"user_id":5542,"accept_rate":61,"display_name":"Rasmus Faber"},"score":0,"creation_date":1587664485,"post_id":61390121,"comment_id":108607681,"body_markdown":"Oh wow. Mind just blown. So SecurityIdentifyProxy is RequestScoped, but can still be injected into an ApplicationScoped bean, and this just works, threadsafe and all. I guess I have some reading to do. I still would have preferred to provide the SecurityIdentity to the method, since I think that signals the intent better, but I guess that is not the Quarkus/J2EE-CDI way.","body":"Oh wow. Mind just blown. So SecurityIdentifyProxy is RequestScoped, but can still be injected into an ApplicationScoped bean, and this just works, threadsafe and all. I guess I have some reading to do. I still would have preferred to provide the SecurityIdentity to the method, since I think that signals the intent better, but I guess that is not the Quarkus/J2EE-CDI way."}],"tags":[],"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1587653382,"creation_date":1587653382,"answer_id":61390121,"question_id":61293562,"body_markdown":"Keeping it injected into a field will still work for ApplicationScoped beans and be thread safe","title":"Providing the SecurityIdentity directly to a Quarkus/RESTEasy web service method","body":"<p>Keeping it injected into a field will still work for ApplicationScoped beans and be thread safe</p>\n"},{"tags":[],"owner":{"account_id":3944179,"reputation":1340,"user_id":3257491,"display_name":"robSE13"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694876980,"creation_date":1694876980,"answer_id":77118342,"question_id":61293562,"body_markdown":"I&#39;m not sure if this was the case in 2020 but adding the `@Context` annotation is working in 2023 for me. So the magic annotation you requested seems to be `@Context`\r\n\r\n\r\n    @ApplicationScoped\r\n    @Path(&quot;/foo&quot;)\r\n    public class FooResource {\r\n        @GET\r\n        // Add the @Context annotation\r\n        public Foos getFoos(@Context SecurityIdentity securityIdentity) { \r\n            // use securityIdentity\r\n        }\r\n    }\r\n\r\nThe examples [in the documentation](https://quarkus.io/guides/security-authorize-web-endpoints-reference#standard-security-annotations) do not include injecting the `@Context SecurityIdentity` but do include injecting `@Context SecurityContext`. Maybe `SecurityContext` would be sufficient for your use case? If not, it seems `SecurityIdentity` can be used there too.","title":"Providing the SecurityIdentity directly to a Quarkus/RESTEasy web service method","body":"<p>I'm not sure if this was the case in 2020 but adding the <code>@Context</code> annotation is working in 2023 for me. So the magic annotation you requested seems to be <code>@Context</code></p>\n<pre><code>@ApplicationScoped\n@Path(&quot;/foo&quot;)\npublic class FooResource {\n    @GET\n    // Add the @Context annotation\n    public Foos getFoos(@Context SecurityIdentity securityIdentity) { \n        // use securityIdentity\n    }\n}\n</code></pre>\n<p>The examples <a href=\"https://quarkus.io/guides/security-authorize-web-endpoints-reference#standard-security-annotations\" rel=\"nofollow noreferrer\">in the documentation</a> do not include injecting the <code>@Context SecurityIdentity</code> but do include injecting <code>@Context SecurityContext</code>. Maybe <code>SecurityContext</code> would be sufficient for your use case? If not, it seems <code>SecurityIdentity</code> can be used there too.</p>\n"}],"owner":{"account_id":3795,"reputation":48941,"user_id":5542,"accept_rate":61,"display_name":"Rasmus Faber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61390121,"answer_count":2,"score":2,"last_activity_date":1694876980,"creation_date":1587231756,"question_id":61293562,"body_markdown":"I am using Quarkus with RESTEasy to make a web service and I need access to the `SecurityIdentity` in some of my methods.\r\n\r\nIt is possible to get it injected by making the service `RequestScoped`:\r\n\r\n    @RequestScoped\r\n    @Path(&quot;/foo&quot;)\r\n    public class FooResource {\r\n        @Inject\r\n        public SecurityIdentity securityIdentity;\r\n    \r\n        @GET\r\n        public Foos getFoos() {\r\n            // use securityIdentity\r\n        }\r\n    }\r\n\r\nBut I would prefer to have the class `ApplicationScoped` and have the `SecurityIdentity` provided to the method instead. Something like this:\r\n\r\n    @ApplicationScoped\r\n    @Path(&quot;/foo&quot;)\r\n    public class FooResource {\r\n        @GET\r\n        // This does not work, Quarkus tries to convert the request body to a SecurityIdentity.\r\n        public Foos getFoos(SecurityIdentity securityIdentity) { \r\n            // use securityIdentity\r\n        }\r\n    }\r\n\r\nIs this possible? Is there a magic annotation I can put on to make Quarkus inject the `SecurityIdentity`?","title":"Providing the SecurityIdentity directly to a Quarkus/RESTEasy web service method","body":"<p>I am using Quarkus with RESTEasy to make a web service and I need access to the <code>SecurityIdentity</code> in some of my methods.</p>\n\n<p>It is possible to get it injected by making the service <code>RequestScoped</code>:</p>\n\n<pre><code>@RequestScoped\n@Path(\"/foo\")\npublic class FooResource {\n    @Inject\n    public SecurityIdentity securityIdentity;\n\n    @GET\n    public Foos getFoos() {\n        // use securityIdentity\n    }\n}\n</code></pre>\n\n<p>But I would prefer to have the class <code>ApplicationScoped</code> and have the <code>SecurityIdentity</code> provided to the method instead. Something like this:</p>\n\n<pre><code>@ApplicationScoped\n@Path(\"/foo\")\npublic class FooResource {\n    @GET\n    // This does not work, Quarkus tries to convert the request body to a SecurityIdentity.\n    public Foos getFoos(SecurityIdentity securityIdentity) { \n        // use securityIdentity\n    }\n}\n</code></pre>\n\n<p>Is this possible? Is there a magic annotation I can put on to make Quarkus inject the <code>SecurityIdentity</code>?</p>\n"},{"tags":["java","getelementsbytagname"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1694871953,"post_id":77116285,"comment_id":135949966,"body_markdown":"“But received an error from the database.”  Edit your question and show us that error.  Also, there is no reason to use `new java.lang.String`, since all String objects are immutable and can be safely shared.","body":"“But received an error from the database.”  Edit your question and show us that error.  Also, there is no reason to use <code>new java.lang.String</code>, since all String objects are immutable and can be safely shared."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1694871620,"post_id":77116352,"comment_id":135949932,"body_markdown":"That looks like a JavaScript solution.  The question is asking about Java.","body":"That looks like a JavaScript solution.  The question is asking about Java."}],"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694838867,"creation_date":1694838867,"answer_id":77116352,"question_id":77116285,"body_markdown":"\r\nThe `getNodeValue()` method returns the text content of a node not the HTML tags. You can use `innerHTML` to get the HTML tags. \r\n\r\nUse like this,\r\n\r\n    var DOORSVal = node.getElementsByTagName(&quot;td&quot;).item(1).innerHTML;","title":"Java child elements stripped using .getTextContent","body":"<p>The <code>getNodeValue()</code> method returns the text content of a node not the HTML tags. You can use <code>innerHTML</code> to get the HTML tags.</p>\n<p>Use like this,</p>\n<pre><code>var DOORSVal = node.getElementsByTagName(&quot;td&quot;).item(1).innerHTML;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694876751,"creation_date":1694876751,"answer_id":77118323,"question_id":77116285,"body_markdown":"As you’ve discovered, getTextContent cannot be used for this.  You will need to use [XSLT](https://www.w3.org/TR/1999/REC-xslt-19991116) in order to preserve both text and elements.  (Only XSLT 1.0 is supposed by Java SE, currently, but this is more than sufficient for your task.)\r\n\r\nYou’ll want a template that always analyzes `&lt;td&gt;` elements, copies only text and `&lt;br&gt;` child elements, and ignores everything else:\r\n\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n                    version=&quot;1.0&quot;&gt;\r\n\r\n        &lt;xsl:template match=&quot;td&quot; priority=&quot;2&quot;&gt;\r\n            &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\r\n        &lt;/xsl:template&gt;\r\n\r\n        &lt;xsl:template match=&quot;br|text()&quot; priority=&quot;1&quot;&gt;\r\n            &lt;xsl:copy-of select=&quot;.&quot;/&gt;\r\n        &lt;/xsl:template&gt;\r\n\r\n        &lt;xsl:template match=&quot;@*|node()&quot;/&gt;\r\n\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nJava uses the [Transformer](https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/javax/xml/transform/Transformer.html) class to represent an XSLT document.  The usage looks something like this:\r\n\r\n    String xslt = &quot;&quot;&quot;\r\n        &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n                        version=&quot;1.0&quot;&gt;\r\n\r\n            &lt;xsl:template match=&quot;td&quot; priority=&quot;2&quot;&gt;\r\n                &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\r\n            &lt;/xsl:template&gt;\r\n\r\n            &lt;xsl:template match=&quot;br|text()&quot; priority=&quot;1&quot;&gt;\r\n                &lt;xsl:copy-of select=&quot;.&quot;/&gt;\r\n            &lt;/xsl:template&gt;\r\n\r\n            &lt;xsl:template match=&quot;@*|node()&quot;/&gt;\r\n\r\n        &lt;/xsl:stylesheet&gt;\r\n    &quot;&quot;&quot;;\r\n\r\n    Transformer transformer =\r\n        TransformerFactory.newInstance().newTransformer(\r\n            new StreamSource(new StringReader(xslt)));\r\n    transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n\r\n    var trList = root.getElementsByTagName(&quot;tr&quot;);\r\n    var nodeCount = trList.getLength();\r\n    for (int row = 0; row &lt; nodeCount; row++) {\r\n        Element tr = (Element) trList.item(row);\r\n\r\n        var tdList = tr.getElementsByTagName(&quot;td&quot;);\r\n\r\n        StringWriter DOORSKey = new StringWriter();\r\n        transformer.transform(new DOMSource(tdList.item(0)),\r\n                              new StreamResult(DOORSKey));\r\n\r\n        StringWriter DOORSVal = new StringWriter();\r\n        transformer.transform(new DOMSource(tdList.item(1)),\r\n                              new StreamResult(DOORSVal));\r\n\r\n        System.out.println(&quot;key=&quot; + DOORSKey + &quot;, value=&quot; + DOORSVal);\r\n    }\r\n\r\nBy the way, there is no reason to use `new java.lang.String`, since all String objects are immutable and can be safely shared.  `new String(otherString)` accomplishes nothing.\r\n","title":"Java child elements stripped using .getTextContent","body":"<p>As you’ve discovered, getTextContent cannot be used for this.  You will need to use <a href=\"https://www.w3.org/TR/1999/REC-xslt-19991116\" rel=\"nofollow noreferrer\">XSLT</a> in order to preserve both text and elements.  (Only XSLT 1.0 is supposed by Java SE, currently, but this is more than sufficient for your task.)</p>\n<p>You’ll want a template that always analyzes <code>&lt;td&gt;</code> elements, copies only text and <code>&lt;br&gt;</code> child elements, and ignores everything else:</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n                version=&quot;1.0&quot;&gt;\n\n    &lt;xsl:template match=&quot;td&quot; priority=&quot;2&quot;&gt;\n        &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;br|text()&quot; priority=&quot;1&quot;&gt;\n        &lt;xsl:copy-of select=&quot;.&quot;/&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;@*|node()&quot;/&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Java uses the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/javax/xml/transform/Transformer.html\" rel=\"nofollow noreferrer\">Transformer</a> class to represent an XSLT document.  The usage looks something like this:</p>\n<pre><code>String xslt = &quot;&quot;&quot;\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n                    version=&quot;1.0&quot;&gt;\n\n        &lt;xsl:template match=&quot;td&quot; priority=&quot;2&quot;&gt;\n            &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\n        &lt;/xsl:template&gt;\n\n        &lt;xsl:template match=&quot;br|text()&quot; priority=&quot;1&quot;&gt;\n            &lt;xsl:copy-of select=&quot;.&quot;/&gt;\n        &lt;/xsl:template&gt;\n\n        &lt;xsl:template match=&quot;@*|node()&quot;/&gt;\n\n    &lt;/xsl:stylesheet&gt;\n&quot;&quot;&quot;;\n\nTransformer transformer =\n    TransformerFactory.newInstance().newTransformer(\n        new StreamSource(new StringReader(xslt)));\ntransformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\n\nvar trList = root.getElementsByTagName(&quot;tr&quot;);\nvar nodeCount = trList.getLength();\nfor (int row = 0; row &lt; nodeCount; row++) {\n    Element tr = (Element) trList.item(row);\n\n    var tdList = tr.getElementsByTagName(&quot;td&quot;);\n\n    StringWriter DOORSKey = new StringWriter();\n    transformer.transform(new DOMSource(tdList.item(0)),\n                          new StreamResult(DOORSKey));\n\n    StringWriter DOORSVal = new StringWriter();\n    transformer.transform(new DOMSource(tdList.item(1)),\n                          new StreamResult(DOORSVal));\n\n    System.out.println(&quot;key=&quot; + DOORSKey + &quot;, value=&quot; + DOORSVal);\n}\n</code></pre>\n<p>By the way, there is no reason to use <code>new java.lang.String</code>, since all String objects are immutable and can be safely shared.  <code>new String(otherString)</code> accomplishes nothing.</p>\n"}],"owner":{"account_id":17574053,"reputation":61,"user_id":12749210,"display_name":"JenPann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694876751,"creation_date":1694836305,"question_id":77116285,"body_markdown":"I need to get the text with the ```&lt;br /&gt;``` tags intact. I was using `getTextContent`, but it strips the inner tags.\r\n\r\nCode:\r\n\r\n    var nodeList = root.getElementsByTagName(&quot;tr&quot;);\r\n    var nodeCount = nodeList.getLength();\r\n    for (row = 0; row &lt; nodeList.getLength(); row++) {\r\n        var node = nodeList.item(row);\r\n        // Legacy Data Key e.g &quot;ENV&quot;\r\n        var DOORSKey = new java.lang.String(node.getElementsByTagName(&quot;td&quot;).item(0).getTextContent().trim());\r\n        var DOORSKeyCount = DOORSKey.length();\r\n        // DOORSVal e.g. &quot;ALL&quot;\r\n        var DOORSVal = new java.lang.String(node.getElementsByTagName(&quot;td&quot;).item(1).getNodeValue());\r\n\r\nSample HTML:\r\n\r\n    &lt;table border=&quot;1&quot; cellpadding=&quot;3&quot; cellspacing=&quot;0&quot;&gt;\r\n        &lt;tbody&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;Customer&lt;/td&gt;\r\n                &lt;td&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;ENV&lt;/td&gt;\r\n                &lt;td&gt;ALL&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;Module&lt;/td&gt;\r\n                &lt;td&gt;6DOF&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;Object Level&lt;/td&gt;\r\n                &lt;td&gt;5&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;XML Profile&lt;/td&gt;\r\n                &lt;td&gt;DHS_CBP_HW&lt;br /&gt;DHS_CBP_TRAIN&lt;br /&gt;GE_B0_HW&lt;br /&gt;GE_B0_TRAIN&lt;br /&gt;GE_B1_HW&lt;br /&gt;GE_B1_JSIL_TRAIN&lt;br /&gt;GE_B1_TRAIN&lt;br /&gt;GE-ER_HW&lt;br /&gt;GE-ER_TRAIN&lt;br /&gt;GTS_MQ9&lt;br /&gt;ITALY_HW&lt;br /&gt;ITALY_TRAIN&lt;br /&gt;MQ1_HW&lt;br /&gt;MQ1_PMATS_TRAIN&lt;br /&gt;MQ1_TRAIN&lt;br /&gt;MQ9_BLOCK5_BW_HW&lt;br /&gt;MQ9_BLOCK5_BW_TRAIN&lt;br /&gt;MQ9_BLOCK5_HW&lt;br /&gt;MQ9_BLOCK5_JSIL_TRAIN&lt;br /&gt;MQ9_BLOCK5_PMATS_TRAIN&lt;br /&gt;MQ9_BLOCK5_TRAIN&lt;br /&gt;MQ9_BW_HW&lt;br /&gt;MQ9_BW_PMATS_TRAIN&lt;br /&gt;MQ9_BW_TRAIN&lt;br /&gt;MQ9_HW&lt;br /&gt;MQ9_IKHANA_TRAIN&lt;br /&gt;MQ9_JSIL_TRAIN&lt;br /&gt;MQ9_PMATS_TRAIN&lt;br /&gt;MQ9_SPECIAL_HW&lt;br /&gt;MQ9_SPECIAL_TRAIN&lt;br /&gt;MQ9_TAMLG_TRAIN&lt;br /&gt;MQ9_TEST&lt;br /&gt;MQ9_TRAIN&lt;br /&gt;ORGANIC_DEPOT_HW&lt;br /&gt;ORGANIC_DEPOT_BLOCK5_HW&lt;br /&gt;ORGANIC_DEPOT_TRAIN&lt;br /&gt;ORGANIC_DEPOT_BLOCK5_TRAIN&lt;br /&gt;PREDA_ITALY_TRAIN&lt;br /&gt;PREDB_ITALY_TRAIN&lt;br /&gt;PREDC_AC2_HW&lt;br /&gt;PREDC_AC2_TRAIN&lt;br /&gt;PREDC_HW&lt;br /&gt;PREDC_TRAIN&lt;br /&gt;PREDEP_TRAIN&lt;br /&gt;PREDXP_HW&lt;br /&gt;PREDXP_TRAIN&lt;br /&gt;RITI_HW&lt;br /&gt;RITI_TRAIN&lt;br /&gt;WARRIOR_A_HW&lt;br /&gt;WARRIOR_A_JSIL_TRAIN&lt;br /&gt;WARRIOR_A_TRAIN&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n\r\n\r\n\r\nI have tried to get the child tags using `.getNodeValue`. But received an error from the database.\r\n\r\n    var DOORSVal = new java.lang.String(node.getElementsByTagName(&quot;td&quot;).item(1).getNodeValue());","title":"Java child elements stripped using .getTextContent","body":"<p>I need to get the text with the <code>&lt;br /&gt;</code> tags intact. I was using <code>getTextContent</code>, but it strips the inner tags.</p>\n<p>Code:</p>\n<pre><code>var nodeList = root.getElementsByTagName(&quot;tr&quot;);\nvar nodeCount = nodeList.getLength();\nfor (row = 0; row &lt; nodeList.getLength(); row++) {\n    var node = nodeList.item(row);\n    // Legacy Data Key e.g &quot;ENV&quot;\n    var DOORSKey = new java.lang.String(node.getElementsByTagName(&quot;td&quot;).item(0).getTextContent().trim());\n    var DOORSKeyCount = DOORSKey.length();\n    // DOORSVal e.g. &quot;ALL&quot;\n    var DOORSVal = new java.lang.String(node.getElementsByTagName(&quot;td&quot;).item(1).getNodeValue());\n</code></pre>\n<p>Sample HTML:</p>\n<pre><code>&lt;table border=&quot;1&quot; cellpadding=&quot;3&quot; cellspacing=&quot;0&quot;&gt;\n    &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Customer&lt;/td&gt;\n            &lt;td&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;ENV&lt;/td&gt;\n            &lt;td&gt;ALL&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Module&lt;/td&gt;\n            &lt;td&gt;6DOF&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Object Level&lt;/td&gt;\n            &lt;td&gt;5&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;XML Profile&lt;/td&gt;\n            &lt;td&gt;DHS_CBP_HW&lt;br /&gt;DHS_CBP_TRAIN&lt;br /&gt;GE_B0_HW&lt;br /&gt;GE_B0_TRAIN&lt;br /&gt;GE_B1_HW&lt;br /&gt;GE_B1_JSIL_TRAIN&lt;br /&gt;GE_B1_TRAIN&lt;br /&gt;GE-ER_HW&lt;br /&gt;GE-ER_TRAIN&lt;br /&gt;GTS_MQ9&lt;br /&gt;ITALY_HW&lt;br /&gt;ITALY_TRAIN&lt;br /&gt;MQ1_HW&lt;br /&gt;MQ1_PMATS_TRAIN&lt;br /&gt;MQ1_TRAIN&lt;br /&gt;MQ9_BLOCK5_BW_HW&lt;br /&gt;MQ9_BLOCK5_BW_TRAIN&lt;br /&gt;MQ9_BLOCK5_HW&lt;br /&gt;MQ9_BLOCK5_JSIL_TRAIN&lt;br /&gt;MQ9_BLOCK5_PMATS_TRAIN&lt;br /&gt;MQ9_BLOCK5_TRAIN&lt;br /&gt;MQ9_BW_HW&lt;br /&gt;MQ9_BW_PMATS_TRAIN&lt;br /&gt;MQ9_BW_TRAIN&lt;br /&gt;MQ9_HW&lt;br /&gt;MQ9_IKHANA_TRAIN&lt;br /&gt;MQ9_JSIL_TRAIN&lt;br /&gt;MQ9_PMATS_TRAIN&lt;br /&gt;MQ9_SPECIAL_HW&lt;br /&gt;MQ9_SPECIAL_TRAIN&lt;br /&gt;MQ9_TAMLG_TRAIN&lt;br /&gt;MQ9_TEST&lt;br /&gt;MQ9_TRAIN&lt;br /&gt;ORGANIC_DEPOT_HW&lt;br /&gt;ORGANIC_DEPOT_BLOCK5_HW&lt;br /&gt;ORGANIC_DEPOT_TRAIN&lt;br /&gt;ORGANIC_DEPOT_BLOCK5_TRAIN&lt;br /&gt;PREDA_ITALY_TRAIN&lt;br /&gt;PREDB_ITALY_TRAIN&lt;br /&gt;PREDC_AC2_HW&lt;br /&gt;PREDC_AC2_TRAIN&lt;br /&gt;PREDC_HW&lt;br /&gt;PREDC_TRAIN&lt;br /&gt;PREDEP_TRAIN&lt;br /&gt;PREDXP_HW&lt;br /&gt;PREDXP_TRAIN&lt;br /&gt;RITI_HW&lt;br /&gt;RITI_TRAIN&lt;br /&gt;WARRIOR_A_HW&lt;br /&gt;WARRIOR_A_JSIL_TRAIN&lt;br /&gt;WARRIOR_A_TRAIN&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n<p>I have tried to get the child tags using <code>.getNodeValue</code>. But received an error from the database.</p>\n<pre><code>var DOORSVal = new java.lang.String(node.getElementsByTagName(&quot;td&quot;).item(1).getNodeValue());\n</code></pre>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1694879693,"post_id":77118272,"comment_id":135950864,"body_markdown":"Yes it&#39;s a good idea to use the latest - the latest for V1 is `1.12.552` as per Maven Central - https://central.sonatype.com/artifact/com.amazonaws/aws-java-sdk-s3","body":"Yes it&#39;s a good idea to use the latest - the latest for V1 is <code>1.12.552</code> as per Maven Central - <a href=\"https://central.sonatype.com/artifact/com.amazonaws/aws-java-sdk-s3\" rel=\"nofollow noreferrer\">central.sonatype.com/artifact/com.amazonaws/aws-java-sdk-s3</a>"},{"owner":{"account_id":23215399,"reputation":1,"user_id":17308375,"display_name":"Sari"},"score":0,"creation_date":1695022737,"post_id":77118272,"comment_id":135963314,"body_markdown":"Hey, I will use it but do you know if there was any time complexity improvements between the sdk I am using and this one?","body":"Hey, I will use it but do you know if there was any time complexity improvements between the sdk I am using and this one?"},{"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1695023362,"post_id":77118272,"comment_id":135963417,"body_markdown":"I don’t know for sure - but please upgrade it, check again, share some minimal code if still having issues.","body":"I don’t know for sure - but please upgrade it, check again, share some minimal code if still having issues."},{"owner":{"account_id":23215399,"reputation":1,"user_id":17308375,"display_name":"Sari"},"score":0,"creation_date":1695308342,"post_id":77118272,"comment_id":136009766,"body_markdown":"okay will do. How can I make sure that there are no API changes? (at least for two functions: \n\nputObject(String bucketName, String key, String content)\n\ncopyObject(String sourceBucketName, String sourceKey,\n            String destinationBucketName, String destinationKey)","body":"okay will do. How can I make sure that there are no API changes? (at least for two functions:   putObject(String bucketName, String key, String content)  copyObject(String sourceBucketName, String sourceKey,             String destinationBucketName, String destinationKey)"},{"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1695308436,"post_id":77118272,"comment_id":136009794,"body_markdown":"Update and try - but those are bog standard methods.","body":"Update and try - but those are bog standard methods."}],"owner":{"account_id":23215399,"reputation":1,"user_id":17308375,"display_name":"Sari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694875943,"creation_date":1694875943,"question_id":77118272,"body_markdown":"I am using aws client 1.11.214 in my microservice and I see that the copyobject function `com.amazonaws.services.s3.AmazonS3#copyObject(java.lang.String, java.lang.String, java.lang.String, java.lang.String)` is taking a lot of percentage of cpu flame graph as shown by the async profiler. How can I know if there is a problem with the client I am using (maybe I should upgrade it) or is there something wrong I am doing in my code?\r\nIf the client is old and needs to be upgraded, how do I know to which version should I upgrade? is it always best to upgrade to the newest one?\r\n\r\nThis was an existing service in the company I work in and it did not work very well, the lag time of the kafka messages was 4 minutes in the best times and when there was a big load it could get to 20 minutes or more. So I started enhancing the service and when I used the async profiler to create the flame graph I saw that a lot of the CPU is being spent on Amazon s3 copyObject.","title":"How do I know if AWS S3 client 1.11.214 is slow and to which version to upgrade it?","body":"<p>I am using aws client 1.11.214 in my microservice and I see that the copyobject function <code>com.amazonaws.services.s3.AmazonS3#copyObject(java.lang.String, java.lang.String, java.lang.String, java.lang.String)</code> is taking a lot of percentage of cpu flame graph as shown by the async profiler. How can I know if there is a problem with the client I am using (maybe I should upgrade it) or is there something wrong I am doing in my code?\nIf the client is old and needs to be upgraded, how do I know to which version should I upgrade? is it always best to upgrade to the newest one?</p>\n<p>This was an existing service in the company I work in and it did not work very well, the lag time of the kafka messages was 4 minutes in the best times and when there was a big load it could get to 20 minutes or more. So I started enhancing the service and when I used the async profiler to create the flame graph I saw that a lot of the CPU is being spent on Amazon s3 copyObject.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1694874514,"post_id":77118160,"comment_id":135950234,"body_markdown":"You can only use a variable before the `+=` operator.","body":"You can only use a variable before the <code>+=</code> operator."},{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":2,"creation_date":1694874611,"post_id":77118160,"comment_id":135950243,"body_markdown":"The assignment in your constructor assign the internal variables into the parameters, it should be the other way around.","body":"The assignment in your constructor assign the internal variables into the parameters, it should be the other way around."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694877826,"post_id":77118160,"comment_id":135950658,"body_markdown":"The assignments in your constructor are the wrong way around. Instead of assigning the values of the parameters to your fields, you assign the values of your fields (all 0) to your parameters. Since Java is pass-by-value that has no effects.","body":"The assignments in your constructor are the wrong way around. Instead of assigning the values of the parameters to your fields, you assign the values of your fields (all 0) to your parameters. Since Java is pass-by-value that has no effects."}],"answers":[{"comments":[{"owner":{"account_id":29352300,"reputation":61,"user_id":22489120,"display_name":"Jack M"},"score":0,"creation_date":1694875660,"post_id":77118225,"comment_id":135950372,"body_markdown":"Thank you so much, great explanation. Making silly mistakes and getting too ahead of myself.","body":"Thank you so much, great explanation. Making silly mistakes and getting too ahead of myself."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1694876181,"post_id":77118225,"comment_id":135950433,"body_markdown":"@JackM happy to help. Don&#39;t worry about making mistakes, those are part of learning.","body":"@JackM happy to help. Don&#39;t worry about making mistakes, those are part of learning."}],"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694875272,"creation_date":1694875272,"answer_id":77118225,"question_id":77118160,"body_markdown":"Let&#39;s break down the problems with the\r\n\r\n```\r\nint totalLoan = (carLoan / interestRate) += carLoan;\r\n```\r\n\r\nline. First of all, the `+=` operator is adding and assigning to a variable. For example, if you have\r\n\r\n```\r\nfoo += bar;\r\n```\r\n\r\nthen the value of `foo + bar` is computed and the result is assigned to `foo` as its new value. However, your code assigns `(carLoan / interestRate)` to `totalLoan`, resulting in the expected **value** that is assigned and then you try to add `carLoan` to this **value** and assign to the **value** rather than the variable. Secondly, you are computing the division of an `int` and a `double`, which leads to data loss if you want to assign it to an int. A possible solution would be:\r\n\r\n```\r\nint totalLoan = (int) ((carLoan / interestRate) + carLoan);\r\n```\r\n\r\nor even:\r\n\r\n```\r\nint totalLoan = (int) ((carLoan * (1 + interestRate)) / interestRate);\r\n```","title":"Unexpected type with arithmetic operators","body":"<p>Let's break down the problems with the</p>\n<pre><code>int totalLoan = (carLoan / interestRate) += carLoan;\n</code></pre>\n<p>line. First of all, the <code>+=</code> operator is adding and assigning to a variable. For example, if you have</p>\n<pre><code>foo += bar;\n</code></pre>\n<p>then the value of <code>foo + bar</code> is computed and the result is assigned to <code>foo</code> as its new value. However, your code assigns <code>(carLoan / interestRate)</code> to <code>totalLoan</code>, resulting in the expected <strong>value</strong> that is assigned and then you try to add <code>carLoan</code> to this <strong>value</strong> and assign to the <strong>value</strong> rather than the variable. Secondly, you are computing the division of an <code>int</code> and a <code>double</code>, which leads to data loss if you want to assign it to an int. A possible solution would be:</p>\n<pre><code>int totalLoan = (int) ((carLoan / interestRate) + carLoan);\n</code></pre>\n<p>or even:</p>\n<pre><code>int totalLoan = (int) ((carLoan * (1 + interestRate)) / interestRate);\n</code></pre>\n"}],"owner":{"account_id":29352300,"reputation":61,"user_id":22489120,"display_name":"Jack M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1694956344,"accepted_answer_id":77118225,"answer_count":1,"score":-4,"last_activity_date":1694875272,"creation_date":1694874121,"question_id":77118160,"body_markdown":"not sure why this isn&#39;t working. I know this is probably basic and I am pathetic at this but can anyone shed any light?\r\n\r\nCode:\r\n\r\n```\r\npublic class CarLoan {\r\n    int carLoan;\r\n    double interestRate;\r\n    int lengthOfLoan;\r\n    int downPayment;\r\n\r\n  public CarLoan(int loanAmount, double intRate, int lol, int dp) {\r\n    loanAmount = carLoan;\r\n    intRate = interestRate;\r\n    lol = lengthOfLoan;\r\n    dp = downPayment;\r\n  }\r\n\r\n  public void totalLoan() {\r\n    int totalLoan = (carLoan / interestRate) += carLoan;\r\n    System.out.println(&quot;The total amount you have loaned is:&quot; + totalLoan);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    CarLoan carL1 = new CarLoan(6500, 12.5, 3, 0);\r\n    carL1.totalLoan();\r\n\r\n\t}\r\n }\r\n```\r\n\r\nI am getting the error:\r\n\r\n```\r\nCarLoan.java:15: error: unexpected type\r\nint totalLoan = (carLoan / interestRate) += carLoan;\r\n^\r\nrequired: variable\r\nfound:    value\r\n1 error\r\n```\r\n\r\nI tried a few things to rectify:\r\n\r\n1. Reversed the constructor and instance variables\r\n2. Defined the totalLoan method without a creating new variable (example: (carloan / interestRate) += carLoan)\r\n3. Tried introducing a &quot;int&quot; return type to the totalLoan method but I was working with a few varTypes.","title":"Unexpected type with arithmetic operators","body":"<p>not sure why this isn't working. I know this is probably basic and I am pathetic at this but can anyone shed any light?</p>\n<p>Code:</p>\n<pre><code>public class CarLoan {\n    int carLoan;\n    double interestRate;\n    int lengthOfLoan;\n    int downPayment;\n\n  public CarLoan(int loanAmount, double intRate, int lol, int dp) {\n    loanAmount = carLoan;\n    intRate = interestRate;\n    lol = lengthOfLoan;\n    dp = downPayment;\n  }\n\n  public void totalLoan() {\n    int totalLoan = (carLoan / interestRate) += carLoan;\n    System.out.println(&quot;The total amount you have loaned is:&quot; + totalLoan);\n  }\n\n  public static void main(String[] args) {\n    CarLoan carL1 = new CarLoan(6500, 12.5, 3, 0);\n    carL1.totalLoan();\n\n    }\n }\n</code></pre>\n<p>I am getting the error:</p>\n<pre><code>CarLoan.java:15: error: unexpected type\nint totalLoan = (carLoan / interestRate) += carLoan;\n^\nrequired: variable\nfound:    value\n1 error\n</code></pre>\n<p>I tried a few things to rectify:</p>\n<ol>\n<li>Reversed the constructor and instance variables</li>\n<li>Defined the totalLoan method without a creating new variable (example: (carloan / interestRate) += carLoan)</li>\n<li>Tried introducing a &quot;int&quot; return type to the totalLoan method but I was working with a few varTypes.</li>\n</ol>\n"},{"tags":["java","testing","caching"],"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694873582,"creation_date":1694873582,"question_id":77118123,"body_markdown":"So i&#39;ve noticed if a have a test that reads a file.\r\n\r\nI run the test, it fails because of some error with the file.\r\n\r\nI correct the file and run the test again. The test still fails.\r\n\r\nI make some adjustments to the code for example sout(&quot;hello world&quot;) the test passes. Why is this? does VSC store files in memory when running tests and still uses an old version of the file when rerunning the test?","title":"VSC java cache behaviour in test when reading file","body":"<p>So i've noticed if a have a test that reads a file.</p>\n<p>I run the test, it fails because of some error with the file.</p>\n<p>I correct the file and run the test again. The test still fails.</p>\n<p>I make some adjustments to the code for example sout(&quot;hello world&quot;) the test passes. Why is this? does VSC store files in memory when running tests and still uses an old version of the file when rerunning the test?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694862884,"post_id":77117382,"comment_id":135949002,"body_markdown":"It&#39;s pretty easy for Spring to get all the `@Entity` annotated classes. The XML config is a thing of the past.","body":"It&#39;s pretty easy for Spring to get all the <code>@Entity</code> annotated classes. The XML config is a thing of the past."},{"owner":{"account_id":20516592,"reputation":25,"user_id":15057099,"display_name":"Abdalrazag Al-Shrufat"},"score":0,"creation_date":1694863836,"post_id":77117382,"comment_id":135949077,"body_markdown":"@Kayaman this is not my quastion, hibernate does have auto config, spring data jpa does, how spring data jpa register entities into hibernate ?","body":"@Kayaman this is not my quastion, hibernate does have auto config, spring data jpa does, how spring data jpa register entities into hibernate ?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1694864208,"post_id":77117382,"comment_id":135949118,"body_markdown":"If you want to find out the details, go read the source. Shouldn&#39;t be too hard to find the relevant classes.","body":"If you want to find out the details, go read the source. Shouldn&#39;t be too hard to find the relevant classes."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694872873,"post_id":77117382,"comment_id":135950088,"body_markdown":"This is JPA interfaces, not native Hibernate. In JPA, the container, Spring, is responsible for loading persistence.xml, so it just uses its own configuration and package scanning to build that instead of an xml to pass to JPA/Hibernate. If you want to learn about the config involved - docs will help, but best option is to try a provider that isn&#39;t automatically plumbed in so you have to write some of it yourself. It easier to see when you have to write the plumbing code to tie in to a new provider yourself.","body":"This is JPA interfaces, not native Hibernate. In JPA, the container, Spring, is responsible for loading persistence.xml, so it just uses its own configuration and package scanning to build that instead of an xml to pass to JPA/Hibernate. If you want to learn about the config involved - docs will help, but best option is to try a provider that isn&#39;t automatically plumbed in so you have to write some of it yourself. It easier to see when you have to write the plumbing code to tie in to a new provider yourself."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694873530,"creation_date":1694873530,"answer_id":77118119,"question_id":77117382,"body_markdown":"Technically it is not done by spring-data but done by core spring. Codewise , it is about configuring a `LocalContainerEntityManagerFactoryBean` especially the property [packageToScan][1] which will finally call the following [JPA API][2] to create an `EntityManagerFactory`: \r\n\r\n``` java\r\nEntityManagerFactory emf = persistenceProvider.createContainerEntityManagerFactory(persistenceUnitInfo,propertiesMap)\r\n```\r\n\r\nThe `PersistenceUnitInfo` here has a method (i.e [getManagedClassNames()][3]) to define the class names of all the entities.\r\n\r\nSpring implements `PersistenceUnitInfo` which is called `SpringPersistenceUnitInfo`. `LocalContainerEntityManagerFactoryBean` will somehow scan all the classes that are annotated with `@Entity` , `@Embeddable` , `@MappedSuperclass` and `@Converter` under the packages defined by `packageToScan` (see [this][4]) to configure `SpringPersistenceUnitInfo` and finally passed to the above mentioned JPA API to bootstrap the `EntityManagerFactory`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/jpa/LocalContainerEntityManagerFactoryBean.html#setPackagesToScan(java.lang.String...)\r\n  [2]: https://javadoc.io/static/jakarta.persistence/jakarta.persistence-api/3.1.0/jakarta.persistence/jakarta/persistence/spi/PersistenceProvider.html#createContainerEntityManagerFactory(jakarta.persistence.spi.PersistenceUnitInfo,java.util.Map)\r\n  [3]: https://javadoc.io/static/jakarta.persistence/jakarta.persistence-api/3.1.0/jakarta.persistence/jakarta/persistence/spi/PersistenceUnitInfo.html#getManagedClassNames()\r\n  [4]: https://github.com/spring-projects/spring-framework/blob/293e6ddf85c21094aac919a832aebb3757bb3e06/spring-orm/src/main/java/org/springframework/orm/jpa/persistenceunit/PersistenceManagedTypesScanner.java#L96C63-L97C1","title":"How Spring data jpa register the entities into hibernate without specifying into any configuration file?","body":"<p>Technically it is not done by spring-data but done by core spring. Codewise , it is about configuring a <code>LocalContainerEntityManagerFactoryBean</code> especially the property <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/jpa/LocalContainerEntityManagerFactoryBean.html#setPackagesToScan(java.lang.String...)\" rel=\"nofollow noreferrer\">packageToScan</a> which will finally call the following <a href=\"https://javadoc.io/static/jakarta.persistence/jakarta.persistence-api/3.1.0/jakarta.persistence/jakarta/persistence/spi/PersistenceProvider.html#createContainerEntityManagerFactory(jakarta.persistence.spi.PersistenceUnitInfo,java.util.Map)\" rel=\"nofollow noreferrer\">JPA API</a> to create an <code>EntityManagerFactory</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManagerFactory emf = persistenceProvider.createContainerEntityManagerFactory(persistenceUnitInfo,propertiesMap)\n</code></pre>\n<p>The <code>PersistenceUnitInfo</code> here has a method (i.e <a href=\"https://javadoc.io/static/jakarta.persistence/jakarta.persistence-api/3.1.0/jakarta.persistence/jakarta/persistence/spi/PersistenceUnitInfo.html#getManagedClassNames()\" rel=\"nofollow noreferrer\">getManagedClassNames()</a>) to define the class names of all the entities.</p>\n<p>Spring implements <code>PersistenceUnitInfo</code> which is called <code>SpringPersistenceUnitInfo</code>. <code>LocalContainerEntityManagerFactoryBean</code> will somehow scan all the classes that are annotated with <code>@Entity</code> , <code>@Embeddable</code> , <code>@MappedSuperclass</code> and <code>@Converter</code> under the packages defined by <code>packageToScan</code> (see <a href=\"https://github.com/spring-projects/spring-framework/blob/293e6ddf85c21094aac919a832aebb3757bb3e06/spring-orm/src/main/java/org/springframework/orm/jpa/persistenceunit/PersistenceManagedTypesScanner.java#L96C63-L97C1\" rel=\"nofollow noreferrer\">this</a>) to configure <code>SpringPersistenceUnitInfo</code> and finally passed to the above mentioned JPA API to bootstrap the <code>EntityManagerFactory</code></p>\n"}],"owner":{"account_id":20516592,"reputation":25,"user_id":15057099,"display_name":"Abdalrazag Al-Shrufat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694873530,"creation_date":1694860476,"question_id":77117382,"body_markdown":"I am just a new learner of Hibernate core, When we are only using hibernate without spring or other frameworks, we have to register an entity to Hibernate configuration and one way of this registration is using **Configuration** class like this:\r\n```\r\nif (sessionFactory == null){\r\n   Configuration configuration = new Configuration();\r\n   configuration.configure(&quot;hibernate.cfg.xml&quot;);\r\n   configuration.addAnnotatedClass(Product.class);\r\n   sessionFactory = configuration.buildSessionFactory();\r\n}\r\n```\r\n \r\nAs I know hibernate does not have auto scan packages, so I just want to know how Spring data jpa register the entities that scanned, I made some search and found that spring does not use this way to register entities into hibernate.\r\n\r\nHow exectly Hibernate interact with entities without specify them in hibernate.cfg.xml and without add them one by one into hibernate using addAnnotatedClass in Configuration class?\r\n","title":"How Spring data jpa register the entities into hibernate without specifying into any configuration file?","body":"<p>I am just a new learner of Hibernate core, When we are only using hibernate without spring or other frameworks, we have to register an entity to Hibernate configuration and one way of this registration is using <strong>Configuration</strong> class like this:</p>\n<pre><code>if (sessionFactory == null){\n   Configuration configuration = new Configuration();\n   configuration.configure(&quot;hibernate.cfg.xml&quot;);\n   configuration.addAnnotatedClass(Product.class);\n   sessionFactory = configuration.buildSessionFactory();\n}\n</code></pre>\n<p>As I know hibernate does not have auto scan packages, so I just want to know how Spring data jpa register the entities that scanned, I made some search and found that spring does not use this way to register entities into hibernate.</p>\n<p>How exectly Hibernate interact with entities without specify them in hibernate.cfg.xml and without add them one by one into hibernate using addAnnotatedClass in Configuration class?</p>\n"},{"tags":["java","swing","background-color","opacity","visual-glitch"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1694763942,"post_id":77109886,"comment_id":135936720,"body_markdown":"Swing components don’t support alpha based colors","body":"Swing components don’t support alpha based colors"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1694764756,"post_id":77109886,"comment_id":135936869,"body_markdown":"Swing components are either fully opaque or fully transparent.  You can &quot;fake&quot; it, but you may not like the effect, as you will need to set the component to transparent (ie `setOpaque(false)`) and the override it&#39;s `paintComponent` method and paint the color yourself - [for example](https://stackoverflow.com/questions/35472993/weird-color-changes-on-hovering-on-jbutton/35473190#35473190)","body":"Swing components are either fully opaque or fully transparent.  You can &quot;fake&quot; it, but you may not like the effect, as you will need to set the component to transparent (ie <code>setOpaque(false)</code>) and the override it&#39;s <code>paintComponent</code> method and paint the color yourself - <a href=\"https://stackoverflow.com/questions/35472993/weird-color-changes-on-hovering-on-jbutton/35473190#35473190\">for example</a>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1694765015,"post_id":77109886,"comment_id":135936910,"body_markdown":"@davidalayachew What is your objective in doing this? Do you want to be able to see a background image behind the buttons? Depending on your goal there are different ways to fake it, or use a completely different approach","body":"@davidalayachew What is your objective in doing this? Do you want to be able to see a background image behind the buttons? Depending on your goal there are different ways to fake it, or use a completely different approach"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694779443,"post_id":77109886,"comment_id":135939509,"body_markdown":"@sorifiend I have edited my post to include my objective at the bottom.","body":"@sorifiend I have edited my post to include my objective at the bottom."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694779498,"post_id":77109886,"comment_id":135939521,"body_markdown":"@MadProgrammer Thank you for the information! I have edited my post to include context and intent. Perhaps `JLayer` would be a useful alternative? Overriding the `paintComponent` method isn&#39;t a deal breaker, but it would use up a decent chunk of my mental complexity budget when I am still very early on in this project.","body":"@MadProgrammer Thank you for the information! I have edited my post to include context and intent. Perhaps <code>JLayer</code> would be a useful alternative? Overriding the <code>paintComponent</code> method isn&#39;t a deal breaker, but it would use up a decent chunk of my mental complexity budget when I am still very early on in this project."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694779683,"post_id":77109886,"comment_id":135939562,"body_markdown":"@MadProgrammer Could you also link me to documentation from Oracle that says that they don&#39;t support translucent? I will remove the `visual-glitch` tag in response.","body":"@MadProgrammer Could you also link me to documentation from Oracle that says that they don&#39;t support translucent? I will remove the <code>visual-glitch</code> tag in response."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694779829,"post_id":77109886,"comment_id":135939594,"body_markdown":"@MadProgrammer Actually, does it even support transparent? I tried making one of the colors with an `alpha` of 0, and it still gave me a visual glitch. Editing my post to demonstrate. EDIT - Ah, nevermind - you said `setOpaque`","body":"@MadProgrammer Actually, does it even support transparent? I tried making one of the colors with an <code>alpha</code> of 0, and it still gave me a visual glitch. Editing my post to demonstrate. EDIT - Ah, nevermind - you said <code>setOpaque</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1694781718,"post_id":77109886,"comment_id":135939984,"body_markdown":"Maybe [JavaFX](https://openjfx.io/) would be more suitable (rather than _Swing_)?","body":"Maybe <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">JavaFX</a> would be more suitable (rather than <i>Swing</i>)?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694781871,"post_id":77109886,"comment_id":135940022,"body_markdown":"@Abra I sincerely doubt that. Swing has proven to be incredibly flexible for this exact use case. And I have already been given 2 very suitable approaches. I am only holding out for a simpler one. I have thrown out a third alternative involving `JLayer` which should be exactly as simple as I want, but awaiting a response.","body":"@Abra I sincerely doubt that. Swing has proven to be incredibly flexible for this exact use case. And I have already been given 2 very suitable approaches. I am only holding out for a simpler one. I have thrown out a third alternative involving <code>JLayer</code> which should be exactly as simple as I want, but awaiting a response."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1694807198,"post_id":77109886,"comment_id":135944708,"body_markdown":"For an alpha value of 0 you use setOpaque( false ). For other alpha values you can use the `AlphaContainer` as demonstrated in [Backgrounds With Transparency](https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/) so you don&#39;t have do custom painting all the time as demonstrated in https://stackoverflow.com/a/3562529/131872.","body":"For an alpha value of 0 you use setOpaque( false ). For other alpha values you can use the <code>AlphaContainer</code> as demonstrated in <a href=\"https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">Backgrounds With Transparency</a> so you don&#39;t have do custom painting all the time as demonstrated in <a href=\"https://stackoverflow.com/a/3562529/131872\">stackoverflow.com/a/3562529/131872</a>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694812541,"post_id":77109886,"comment_id":135945497,"body_markdown":"@davidalayachew *&quot;Swing components are either fully opaque or fully transparent&quot;* - They do not support translucency or alpha based colors","body":"@davidalayachew <i>&quot;Swing components are either fully opaque or fully transparent&quot;</i> - They do not support translucency or alpha based colors"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694826063,"post_id":77109886,"comment_id":135946579,"body_markdown":"@MadProgrammer This comment is a repeat of what you told me before. What is your intent in saying it?","body":"@MadProgrammer This comment is a repeat of what you told me before. What is your intent in saying it?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694827618,"post_id":77109886,"comment_id":135946667,"body_markdown":"@davidalayachew You said *&quot;Actually, does it even support transparent?*&quot; - but I&#39;d already stated that *&quot;Swing components are either fully opaque or fully transparent&quot;* and wished the clarify the difference between &quot;transparency&quot; (see through) and &quot;translucency&quot; (partially see through - or, alpha base colors)","body":"@davidalayachew You said <i>&quot;Actually, does it even support transparent?</i>&quot; - but I&#39;d already stated that <i>&quot;Swing components are either fully opaque or fully transparent&quot;</i> and wished the clarify the difference between &quot;transparency&quot; (see through) and &quot;translucency&quot; (partially see through - or, alpha base colors)"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694828931,"post_id":77109886,"comment_id":135946734,"body_markdown":"got it, I understand now","body":"got it, I understand now"},{"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"score":0,"creation_date":1694841845,"post_id":77109886,"comment_id":135947372,"body_markdown":"You may like to refer to https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/, which is in line with @MadProgrammer has talked about.","body":"You may like to refer to <a href=\"https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">tips4java.wordpress.com/2009/05/31/&hellip;</a>, which is in line with @MadProgrammer has talked about."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694848750,"post_id":77109886,"comment_id":135947776,"body_markdown":"@camickr Thank you very much! Honestly, I think I&#39;ll just go with the solution that you and MadProgrammer have been saying. It&#39;s simple enough. Thank you both for the help!","body":"@camickr Thank you very much! Honestly, I think I&#39;ll just go with the solution that you and MadProgrammer have been saying. It&#39;s simple enough. Thank you both for the help!"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694849498,"post_id":77109886,"comment_id":135947826,"body_markdown":"@MadProgrammer Since I&#39;m going with the solution you &amp; camickr made, could you all close my question as a duplicate?","body":"@MadProgrammer Since I&#39;m going with the solution you &amp; camickr made, could you all close my question as a duplicate?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1694873850,"post_id":77109886,"comment_id":135950170,"body_markdown":"*I think I&#39;ll just go with the solution that you and MadProgrammer have been saying.* - actually our solutions are different. Madprogrammer&#39;s solution is to customize every component. Mine is to use a wrapper panel which does all the work so you don&#39;t have to customize each component. The explanation for the problem and the implementation in each class is basically the same.","body":"<i>I think I&#39;ll just go with the solution that you and MadProgrammer have been saying.</i> - actually our solutions are different. Madprogrammer&#39;s solution is to customize every component. Mine is to use a wrapper panel which does all the work so you don&#39;t have to customize each component. The explanation for the problem and the implementation in each class is basically the same."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694874133,"post_id":77109886,"comment_id":135950201,"body_markdown":"@camickr Agreed, the internals are the same, but one is packaged into a type, while the other is an anonymous class for each call site.","body":"@camickr Agreed, the internals are the same, but one is packaged into a type, while the other is an anonymous class for each call site."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694891993,"post_id":77109886,"comment_id":135952133,"body_markdown":"@camickr btw, now that I am actually using your linked GitHub copy of the code, I think you are missing a call to `super.paintComponent(g);` in your `paintComponent` override. You have it in the SO post, but not the GitHub link on your T4J website.","body":"@camickr btw, now that I am actually using your linked GitHub copy of the code, I think you are missing a call to <code>super.paintComponent(g);</code> in your <code>paintComponent</code> override. You have it in the SO post, but not the GitHub link on your T4J website."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1694896488,"post_id":77109886,"comment_id":135952566,"body_markdown":"@davidalayachew, The paintComponent() method is used to do the custom painting of the component. So yes, the general code, if you decide to extend each component manually, needs to invoke super.paintComponent() to invoke the custom painting logic of the component. However,  the `AlphaContainer` extends `JComponent` which has no custom painting.  You could add the statement. I decided to leave it out to indicate that there is no other special painting code needed for the container.","body":"@davidalayachew, The paintComponent() method is used to do the custom painting of the component. So yes, the general code, if you decide to extend each component manually, needs to invoke super.paintComponent() to invoke the custom painting logic of the component. However,  the <code>AlphaContainer</code> extends <code>JComponent</code> which has no custom painting.  You could add the statement. I decided to leave it out to indicate that there is no other special painting code needed for the container."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694898064,"post_id":77109886,"comment_id":135952729,"body_markdown":"@camickr ty vm! Didn&#39;t realize that, that is very informative. I&#39;m learning a lot from you 2 lately, ty both vm.","body":"@camickr ty vm! Didn&#39;t realize that, that is very informative. I&#39;m learning a lot from you 2 lately, ty both vm."}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1694849746,"answer_count":0,"score":1,"last_activity_date":1694873408,"creation_date":1694756574,"question_id":77109886,"body_markdown":"If I change my `JButton` to have a translucent color (0 &lt; alpha &lt; 1), I get wonky results for my `JButton` text.\r\n\r\n```java\r\n\r\npackage Paint;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.image.*;\r\n\r\npublic class GUI\r\n{\r\n\r\n   public GUI()\r\n   {\r\n   \r\n      final JFrame frame = new JFrame();\r\n   \r\n      frame.setTitle(&quot;Paint&quot;);\r\n      frame.setLocationByPlatform(true);\r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n   \r\n      frame.add(createMainPanel());\r\n   \r\n      frame.pack();\r\n      frame.setVisible(true);\r\n      \r\n      // System.out.println(JColorChooser.showDialog(null, &quot;Choose a color&quot;, null, true));\r\n   \r\n   }\r\n   \r\n   private static JPanel createMainPanel()\r\n   {\r\n   \r\n      final JPanel mainPanel = new JPanel(new BorderLayout());\r\n      \r\n      final JPanel topPanel = GUI.createTopPanel();\r\n      \r\n      mainPanel.add(topPanel, BorderLayout.NORTH);\r\n      \r\n      return mainPanel;\r\n   \r\n   }\r\n   \r\n   private static JPanel createTopPanel()\r\n   {\r\n   \r\n      final JPanel topPanel = new JPanel();\r\n      topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\r\n      \r\n      topPanel.add(GUI.createColorChooserPanel());\r\n      \r\n      return topPanel;\r\n   \r\n   }\r\n   \r\n   private static JPanel createColorChooserPanel()\r\n   {\r\n   \r\n      final int NUM_ROWS = 3;\r\n      final int NUM_COLUMNS = 3;\r\n      final String DIALOG_TITLE = &quot;Choose a color&quot;;\r\n      final java.util.List&lt;Character&gt; KEY_LIST = \r\n         java.util.List.of(&#39;U&#39;, &#39;I&#39;, &#39;O&#39;, &#39;H&#39;, &#39;J&#39;, &#39;K&#39;, &#39;B&#39;, &#39;N&#39;, &#39;M&#39;);\r\n   \r\n      final JPanel colorChooserPanel = new JPanel(new GridLayout(NUM_ROWS, NUM_COLUMNS));\r\n      \r\n      for (int index = 0; index &lt; NUM_ROWS * NUM_COLUMNS; index++)\r\n      {\r\n      \r\n         final JButton button = new JButton(&quot;&quot; + KEY_LIST.get(index));\r\n         button.setFont(button.getFont().deriveFont(20.0f));\r\n         button.setOpaque(true);\r\n         button\r\n            .addActionListener\r\n            (\r\n               event -&gt; \r\n                  button\r\n                     .setBackground\r\n                     (\r\n                        JColorChooser\r\n                           .showDialog\r\n                           (\r\n                              button, \r\n                              DIALOG_TITLE, \r\n                              button.getBackground(), \r\n                              true\r\n                           )\r\n                     )\r\n            );\r\n      \r\n         colorChooserPanel.add(button);\r\n      \r\n      }\r\n      \r\n      return colorChooserPanel;\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nClick on the center button, select a color, go to RGB tab, change alpha to be within the above mentioned range, then click ok. Then, hover mouse all over the buttons rapidly. You should wonky results like garbled text.\r\n\r\nHere&#39;s a few photos of the wonky results in action.\r\n\r\nBEFORE\r\n\r\n[![][1]][1]\r\n\r\nCLICKED ON THE CENTER BUTTON, THEN SELECTED A COLOR\r\n\r\n[![][2]][2]\r\n\r\nCLICKED ON THE RGB TAB, THEN CHANGED THE ALPHA VALUE\r\n\r\n[![][3]][3]\r\n\r\nCLICKED OK, AND NOW THE JBUTTON HAS A WONKY BACKGROUND\r\n\r\n[![][4]][4]\r\n\r\nMORE\r\n\r\n[![][5]][5]\r\n\r\n[![][6]][6]\r\n\r\nMoving my mouse between the center buttons and the other buttons seems to change the text of the center button.\r\n\r\n**EDIT** - I am building a clone of Microsoft Paint, and this particular piece of functionality is to recreate the color chooser on the top right of the following screenshot. Like this.\r\n\r\n[![][7]][7]\r\n\r\nI plan to use [`JColorChooser.showDialog(Component, String title, Color)`][8] as a popup for the user to select their color. But once they do, I want to bring that color back down to the component they clicked on (currently a `JButton`), so that they can see and select it next time.\r\n\r\n**EDIT 2** - Here is what happens if I set `alpha` to be 0.\r\n\r\nCHOOSING COLOR WITH `ALPHA` OF 0\r\n\r\n[![][9]][9]\r\n\r\nTHE RESULTS -- SAME PROBLEM, DIFFERENT SHADE OF COLOR\r\n\r\n[![][10]][10]\r\n\r\n[![][11]][11]\r\n\r\n  [1]: https://i.stack.imgur.com/0eS2p.png\r\n  [2]: https://i.stack.imgur.com/024K4.png\r\n  [3]: https://i.stack.imgur.com/40ah3.png\r\n  [4]: https://i.stack.imgur.com/2XWqq.png\r\n  [5]: https://i.stack.imgur.com/ok74w.png\r\n  [6]: https://i.stack.imgur.com/mqhe3.png\r\n  [7]: https://i.stack.imgur.com/fOswj.png\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JColorChooser.html#showDialog(java.awt.Component,java.lang.String,java.awt.Color)\r\n  [9]: https://i.stack.imgur.com/or68m.png\r\n  [10]: https://i.stack.imgur.com/lkKIO.png\r\n  [11]: https://i.stack.imgur.com/JxocM.png","title":"Random text showing on JButton when changing background to translucent color","body":"<p>If I change my <code>JButton</code> to have a translucent color (0 &lt; alpha &lt; 1), I get wonky results for my <code>JButton</code> text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage Paint;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.*;\n\npublic class GUI\n{\n\n   public GUI()\n   {\n   \n      final JFrame frame = new JFrame();\n   \n      frame.setTitle(&quot;Paint&quot;);\n      frame.setLocationByPlatform(true);\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n   \n      frame.add(createMainPanel());\n   \n      frame.pack();\n      frame.setVisible(true);\n      \n      // System.out.println(JColorChooser.showDialog(null, &quot;Choose a color&quot;, null, true));\n   \n   }\n   \n   private static JPanel createMainPanel()\n   {\n   \n      final JPanel mainPanel = new JPanel(new BorderLayout());\n      \n      final JPanel topPanel = GUI.createTopPanel();\n      \n      mainPanel.add(topPanel, BorderLayout.NORTH);\n      \n      return mainPanel;\n   \n   }\n   \n   private static JPanel createTopPanel()\n   {\n   \n      final JPanel topPanel = new JPanel();\n      topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\n      \n      topPanel.add(GUI.createColorChooserPanel());\n      \n      return topPanel;\n   \n   }\n   \n   private static JPanel createColorChooserPanel()\n   {\n   \n      final int NUM_ROWS = 3;\n      final int NUM_COLUMNS = 3;\n      final String DIALOG_TITLE = &quot;Choose a color&quot;;\n      final java.util.List&lt;Character&gt; KEY_LIST = \n         java.util.List.of('U', 'I', 'O', 'H', 'J', 'K', 'B', 'N', 'M');\n   \n      final JPanel colorChooserPanel = new JPanel(new GridLayout(NUM_ROWS, NUM_COLUMNS));\n      \n      for (int index = 0; index &lt; NUM_ROWS * NUM_COLUMNS; index++)\n      {\n      \n         final JButton button = new JButton(&quot;&quot; + KEY_LIST.get(index));\n         button.setFont(button.getFont().deriveFont(20.0f));\n         button.setOpaque(true);\n         button\n            .addActionListener\n            (\n               event -&gt; \n                  button\n                     .setBackground\n                     (\n                        JColorChooser\n                           .showDialog\n                           (\n                              button, \n                              DIALOG_TITLE, \n                              button.getBackground(), \n                              true\n                           )\n                     )\n            );\n      \n         colorChooserPanel.add(button);\n      \n      }\n      \n      return colorChooserPanel;\n   \n   }\n\n}\n</code></pre>\n<p>Click on the center button, select a color, go to RGB tab, change alpha to be within the above mentioned range, then click ok. Then, hover mouse all over the buttons rapidly. You should wonky results like garbled text.</p>\n<p>Here's a few photos of the wonky results in action.</p>\n<p>BEFORE</p>\n<p><a href=\"https://i.stack.imgur.com/0eS2p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0eS2p.png\" alt=\"\" /></a></p>\n<p>CLICKED ON THE CENTER BUTTON, THEN SELECTED A COLOR</p>\n<p><a href=\"https://i.stack.imgur.com/024K4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/024K4.png\" alt=\"\" /></a></p>\n<p>CLICKED ON THE RGB TAB, THEN CHANGED THE ALPHA VALUE</p>\n<p><a href=\"https://i.stack.imgur.com/40ah3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/40ah3.png\" alt=\"\" /></a></p>\n<p>CLICKED OK, AND NOW THE JBUTTON HAS A WONKY BACKGROUND</p>\n<p><a href=\"https://i.stack.imgur.com/2XWqq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2XWqq.png\" alt=\"\" /></a></p>\n<p>MORE</p>\n<p><a href=\"https://i.stack.imgur.com/ok74w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ok74w.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/mqhe3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mqhe3.png\" alt=\"\" /></a></p>\n<p>Moving my mouse between the center buttons and the other buttons seems to change the text of the center button.</p>\n<p><strong>EDIT</strong> - I am building a clone of Microsoft Paint, and this particular piece of functionality is to recreate the color chooser on the top right of the following screenshot. Like this.</p>\n<p><a href=\"https://i.stack.imgur.com/fOswj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fOswj.png\" alt=\"\" /></a></p>\n<p>I plan to use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JColorChooser.html#showDialog(java.awt.Component,java.lang.String,java.awt.Color)\" rel=\"nofollow noreferrer\"><code>JColorChooser.showDialog(Component, String title, Color)</code></a> as a popup for the user to select their color. But once they do, I want to bring that color back down to the component they clicked on (currently a <code>JButton</code>), so that they can see and select it next time.</p>\n<p><strong>EDIT 2</strong> - Here is what happens if I set <code>alpha</code> to be 0.</p>\n<p>CHOOSING COLOR WITH <code>ALPHA</code> OF 0</p>\n<p><a href=\"https://i.stack.imgur.com/or68m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/or68m.png\" alt=\"\" /></a></p>\n<p>THE RESULTS -- SAME PROBLEM, DIFFERENT SHADE OF COLOR</p>\n<p><a href=\"https://i.stack.imgur.com/lkKIO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lkKIO.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JxocM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JxocM.png\" alt=\"\" /></a></p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1694871247,"post_id":77117978,"comment_id":135949880,"body_markdown":"Class names should begin with an uppercase i.e. `Main`, per Java naming conventions.","body":"Class names should begin with an uppercase i.e. <code>Main</code>, per Java naming conventions."},{"owner":{"account_id":9685245,"reputation":9531,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":8,"creation_date":1694871250,"post_id":77117978,"comment_id":135949881,"body_markdown":"You call `sc.hasNext()` to check whether there&#39;s a next token, but you never call `sc.next()` to actually advance to the next token; you&#39;ll be stuck at the first token forever.","body":"You call <code>sc.hasNext()</code> to check whether there&#39;s a next token, but you never call <code>sc.next()</code> to actually advance to the next token; you&#39;ll be stuck at the first token forever."},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":1,"creation_date":1694871341,"post_id":77117978,"comment_id":135949896,"body_markdown":"You&#39;re not calling `next()`?","body":"You&#39;re not calling <code>next()</code>?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":1,"creation_date":1694871608,"post_id":77117978,"comment_id":135949929,"body_markdown":"What do you want the code to do?","body":"What do you want the code to do?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694871671,"post_id":77117978,"comment_id":135949938,"body_markdown":"Personally, I&#39;d split the string and loop over the array. Is there a specific reason to use a Scanner, if you&#39;re not going to call next()?","body":"Personally, I&#39;d split the string and loop over the array. Is there a specific reason to use a Scanner, if you&#39;re not going to call next()?"},{"owner":{"account_id":5981136,"reputation":29,"user_id":4700155,"display_name":"Alex"},"score":0,"creation_date":1694871796,"post_id":77117978,"comment_id":135949950,"body_markdown":"my code is just a test","body":"my code is just a test"}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1694871788,"post_id":77118015,"comment_id":135949948,"body_markdown":"The file now needs to be renamed to Main.java, as well","body":"The file now needs to be renamed to Main.java, as well"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694871902,"post_id":77118015,"comment_id":135949961,"body_markdown":"Also you don&#39;t need that much space between each word. You could just put one space unless you want the code to be more clear.","body":"Also you don&#39;t need that much space between each word. You could just put one space unless you want the code to be more clear."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1694875573,"post_id":77118015,"comment_id":135950358,"body_markdown":"I would have upvoted, but I don&#39;t buy the need to set a different separator.","body":"I would have upvoted, but I don&#39;t buy the need to set a different separator."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1694876571,"post_id":77118015,"comment_id":135950472,"body_markdown":"@LouisWasserman yeah, sorry. It seems the default delimiter checks for ALL whitespace. So this is really not needed.","body":"@LouisWasserman yeah, sorry. It seems the default delimiter checks for ALL whitespace. So this is really not needed."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694872072,"creation_date":1694871522,"answer_id":77118015,"question_id":77117978,"body_markdown":"You need to call `next()`. Also, make sure you use a delimiter of `\\s+`.\r\n\r\nPlease note that class names should begin with an uppercase letter.\r\n\r\n```java\r\n/* Filename: Main.java */\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String t = &quot;Munich     London      Paris   New_York&quot;;\r\n        Scanner sc = new Scanner(t).useDelimiter(&quot;\\\\s+&quot;);\r\n\r\n        while (sc.hasNext()) {\r\n            System.out.println(sc.next());\r\n        }\r\n\r\n        sc.close();\r\n    }\r\n}\r\n```\r\n\r\nResults:\r\n\r\n```\r\nMunich\r\nLondon\r\nParis\r\nNew_York\r\n```","title":"Issue with hasNext()","body":"<p>You need to call <code>next()</code>. Also, make sure you use a delimiter of <code>\\s+</code>.</p>\n<p>Please note that class names should begin with an uppercase letter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* Filename: Main.java */\n\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String t = &quot;Munich     London      Paris   New_York&quot;;\n        Scanner sc = new Scanner(t).useDelimiter(&quot;\\\\s+&quot;);\n\n        while (sc.hasNext()) {\n            System.out.println(sc.next());\n        }\n\n        sc.close();\n    }\n}\n</code></pre>\n<p>Results:</p>\n<pre><code>Munich\nLondon\nParis\nNew_York\n</code></pre>\n"}],"owner":{"account_id":5981136,"reputation":29,"user_id":4700155,"display_name":"Alex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694872072,"creation_date":1694870973,"question_id":77117978,"body_markdown":"I have 2 issues with the hasNext() function of the Scanner class.\r\n\r\nMy loop should  have 4 iterations, but  my loop is infinite instead.\r\n\r\nHere is the code:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class main {\r\n    public static void main(String[] args) {\r\n        String t = &quot;Munich     London      Paris   New_York&quot;;\r\n        Scanner sc = new Scanner(t);\r\n\r\n        while (sc.hasNext()) {\r\n            System.out.println(&quot;GOOD&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is a definition of the **hasNext()** function from official Oracle documentation :\r\n\r\n&gt; Returns true if this scanner has another token in its input. This method may block while waiting for input to scan. The scanner does not advance past any input. \r\n\r\nSo, what they mean with: **&quot;The scanner does not advance past any input.&quot;** ? \r\n","title":"Issue with hasNext()","body":"<p>I have 2 issues with the hasNext() function of the Scanner class.</p>\n<p>My loop should  have 4 iterations, but  my loop is infinite instead.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class main {\n    public static void main(String[] args) {\n        String t = &quot;Munich     London      Paris   New_York&quot;;\n        Scanner sc = new Scanner(t);\n\n        while (sc.hasNext()) {\n            System.out.println(&quot;GOOD&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here is a definition of the <strong>hasNext()</strong> function from official Oracle documentation :</p>\n<blockquote>\n<p>Returns true if this scanner has another token in its input. This method may block while waiting for input to scan. The scanner does not advance past any input.</p>\n</blockquote>\n<p>So, what they mean with: <strong>&quot;The scanner does not advance past any input.&quot;</strong> ?</p>\n"},{"tags":["java","amazon-web-services","apache-kafka","apache-camel"],"comments":[{"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"score":0,"creation_date":1697307493,"post_id":77109907,"comment_id":136264675,"body_markdown":"was this resolved?","body":"was this resolved?"}],"answers":[{"tags":[],"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694871266,"creation_date":1694871266,"answer_id":77117996,"question_id":77109907,"body_markdown":"You can try adding [additionalProperties][1] for kafka component as key-value pairs and set the properties specified in [AWS documentation][2]\r\n\r\n\r\n  [1]: https://camel.apache.org/components/4.0.x/kafka-component.html#_component_option_additionalProperties\r\n  [2]: https://aws.amazon.com/blogs/big-data/validate-evolve-and-control-schemas-in-amazon-msk-and-amazon-kinesis-data-streams-with-aws-glue-schema-registry/#:~:text=properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,GENERIC_RECORD.getName())%3B","title":"How to Connect the Apache Camel with the MSK Schema Registry","body":"<p>You can try adding <a href=\"https://camel.apache.org/components/4.0.x/kafka-component.html#_component_option_additionalProperties\" rel=\"nofollow noreferrer\">additionalProperties</a> for kafka component as key-value pairs and set the properties specified in <a href=\"https://aws.amazon.com/blogs/big-data/validate-evolve-and-control-schemas-in-amazon-msk-and-amazon-kinesis-data-streams-with-aws-glue-schema-registry/#:%7E:text=properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,GENERIC_RECORD.getName())%3B\" rel=\"nofollow noreferrer\">AWS documentation</a></p>\n"}],"owner":{"account_id":28272157,"reputation":15,"user_id":21615169,"display_name":"Aayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694871266,"creation_date":1694756848,"question_id":77109907,"body_markdown":"I have created a schema in MSK of AWS GLUE, but I cannot able to configure it with the Producer of the Application.\r\n\r\n**Schema Created in MKS:**\r\n\r\n[Schema Created][1]\r\n\r\n**Kafka Config**:\r\n\r\n```\r\nclass KafkaConfig {\r\n\r\n    @Value(&quot;${brokerHost}&quot;)\r\n    String brokerHost;\r\n\r\n    @Value(&quot;${saslMechanism}&quot;)\r\n    String saslMechanism;\r\n    @Value(&quot;${securityProtocol}&quot;)\r\n    String securityProtocol;\r\n    @Value(&quot;${brokerConfig}&quot;)\r\n    String brokerConfig;\r\n    @Autowired\r\n    CamelContext camelContext;\r\n\r\n    @Bean\r\n    public KafkaConfiguration kafkaConfiguration() {\r\n        KafkaConfiguration kafkaConfiguration = new KafkaConfiguration();\r\n        kafkaConfiguration.setBrokers(brokerHost);\r\n        kafkaConfiguration.setSaslMechanism(saslMechanism);\r\n        kafkaConfiguration.setSecurityProtocol(securityProtocol);\r\n        kafkaConfiguration.setSaslJaasConfig(brokerConfig);\r\n        return kafkaConfiguration;\r\n    }\r\n\r\n    @Bean(name = &quot;appKafkaProducer&quot;)\r\n    public KafkaComponent kafkaComponentProducer() throws Exception {\r\n        KafkaComponent kafkaComponentProducer = new KafkaComponent();\r\n        kafkaComponentProducer.setConfiguration(kafkaConfiguration());;\r\n        camelContext.addComponent(&quot;appKafkaProducer&quot;, kafkaComponentProducer);\r\n        return kafkaComponentProducer;\r\n    }\r\n\r\n    @Bean(name = &quot;appKafkaConsumer&quot;)\r\n    public KafkaComponent kafkaComponentConsumer() {\r\n        KafkaComponent kafkaComponentConsumer = new KafkaComponent();\r\n        kafkaComponentConsumer.setConfiguration(kafkaConfiguration());\r\n        camelContext.addComponent(&quot;appKafkaConsumer&quot;, kafkaComponentConsumer);\r\n        return kafkaComponentConsumer;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n**Producer Route:**\r\n\r\n```\r\n&lt;get uri=&quot;/refresh&quot;&gt;\r\n    &lt;description&gt;Refresh the Route&lt;/description&gt;\r\n    &lt;route id=&quot;refreshRoute&quot;&gt;\r\n        &lt;doTry&gt;\r\n        \r\n            &lt;to uri=&quot;appKafkaProducer:Checking&quot; /&gt;\r\n            &lt;setBody&gt;\r\n                &lt;constant&gt;ok&lt;/constant&gt;\r\n            &lt;/setBody&gt;\r\n            &lt;doCatch&gt;\r\n                &lt;exception&gt;java.lang.Exception&lt;/exception&gt;\r\n                &lt;to uri=&quot;bean:commonsExchangeUtil?method=setErrorResponse(500, &#39;Internal Server Error&#39;, ${exception.message}, *)&quot; /&gt;\r\n            &lt;/doCatch&gt;\r\n        &lt;/doTry&gt;\r\n    &lt;/route&gt;\r\n&lt;/get&gt;\r\n```\r\n\r\nI checked the offical documentation of the Camel, but cannot able to find suitable approach\r\n\r\nWhat are the Configuration that i need to add so that i can able to configure the producer with the schema so that we can validate\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lsk3a.png","title":"How to Connect the Apache Camel with the MSK Schema Registry","body":"<p>I have created a schema in MSK of AWS GLUE, but I cannot able to configure it with the Producer of the Application.</p>\n<p><strong>Schema Created in MKS:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/lsk3a.png\" rel=\"nofollow noreferrer\">Schema Created</a></p>\n<p><strong>Kafka Config</strong>:</p>\n<pre><code>class KafkaConfig {\n\n    @Value(&quot;${brokerHost}&quot;)\n    String brokerHost;\n\n    @Value(&quot;${saslMechanism}&quot;)\n    String saslMechanism;\n    @Value(&quot;${securityProtocol}&quot;)\n    String securityProtocol;\n    @Value(&quot;${brokerConfig}&quot;)\n    String brokerConfig;\n    @Autowired\n    CamelContext camelContext;\n\n    @Bean\n    public KafkaConfiguration kafkaConfiguration() {\n        KafkaConfiguration kafkaConfiguration = new KafkaConfiguration();\n        kafkaConfiguration.setBrokers(brokerHost);\n        kafkaConfiguration.setSaslMechanism(saslMechanism);\n        kafkaConfiguration.setSecurityProtocol(securityProtocol);\n        kafkaConfiguration.setSaslJaasConfig(brokerConfig);\n        return kafkaConfiguration;\n    }\n\n    @Bean(name = &quot;appKafkaProducer&quot;)\n    public KafkaComponent kafkaComponentProducer() throws Exception {\n        KafkaComponent kafkaComponentProducer = new KafkaComponent();\n        kafkaComponentProducer.setConfiguration(kafkaConfiguration());;\n        camelContext.addComponent(&quot;appKafkaProducer&quot;, kafkaComponentProducer);\n        return kafkaComponentProducer;\n    }\n\n    @Bean(name = &quot;appKafkaConsumer&quot;)\n    public KafkaComponent kafkaComponentConsumer() {\n        KafkaComponent kafkaComponentConsumer = new KafkaComponent();\n        kafkaComponentConsumer.setConfiguration(kafkaConfiguration());\n        camelContext.addComponent(&quot;appKafkaConsumer&quot;, kafkaComponentConsumer);\n        return kafkaComponentConsumer;\n    }\n\n\n\n\n}\n</code></pre>\n<p><strong>Producer Route:</strong></p>\n<pre><code>&lt;get uri=&quot;/refresh&quot;&gt;\n    &lt;description&gt;Refresh the Route&lt;/description&gt;\n    &lt;route id=&quot;refreshRoute&quot;&gt;\n        &lt;doTry&gt;\n        \n            &lt;to uri=&quot;appKafkaProducer:Checking&quot; /&gt;\n            &lt;setBody&gt;\n                &lt;constant&gt;ok&lt;/constant&gt;\n            &lt;/setBody&gt;\n            &lt;doCatch&gt;\n                &lt;exception&gt;java.lang.Exception&lt;/exception&gt;\n                &lt;to uri=&quot;bean:commonsExchangeUtil?method=setErrorResponse(500, 'Internal Server Error', ${exception.message}, *)&quot; /&gt;\n            &lt;/doCatch&gt;\n        &lt;/doTry&gt;\n    &lt;/route&gt;\n&lt;/get&gt;\n</code></pre>\n<p>I checked the offical documentation of the Camel, but cannot able to find suitable approach</p>\n<p>What are the Configuration that i need to add so that i can able to configure the producer with the schema so that we can validate</p>\n"},{"tags":["java","yaml","pom.xml","openapi","openapi-generator"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":1,"creation_date":1678726748,"post_id":75723123,"comment_id":133585860,"body_markdown":"Just after quickly looking through the documents for 3.3.4, it doesn&#39;t appear that there is anyway to adjust the host name on the fly. I&#39;d suggest modifying the generated `openapi.json` with a maven plugin prior to deployment.","body":"Just after quickly looking through the documents for 3.3.4, it doesn&#39;t appear that there is anyway to adjust the host name on the fly. I&#39;d suggest modifying the generated <code>openapi.json</code> with a maven plugin prior to deployment."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695181250,"post_id":77117966,"comment_id":135988220,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77117966/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18486228,"reputation":13,"user_id":13467124,"display_name":"Mihai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694870842,"creation_date":1694870818,"answer_id":77117966,"question_id":75723123,"body_markdown":"@tbtach comment about using a Maven plugin to modify the file helped me find a solution using maven-replacer-plugin, which allows you to modify &quot;tokens&quot; from any file in your project: [https://code.google.com/archive/p/maven-replacer-plugin/][1].\r\n\r\nSee a working example here in the 1st part of the question: [https://stackoverflow.com/questions/15157779/maven-replacer-plugin-and-multiple-files][2]\r\n\r\n\r\n  [1]: https://code.google.com/archive/p/maven-replacer-plugin/\r\n  [2]: https://stackoverflow.com/questions/15157779/maven-replacer-plugin-and-multiple-files","title":"OpenApi generator - change host by default","body":"<p>@tbtach comment about using a Maven plugin to modify the file helped me find a solution using maven-replacer-plugin, which allows you to modify &quot;tokens&quot; from any file in your project: <a href=\"https://code.google.com/archive/p/maven-replacer-plugin/\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/maven-replacer-plugin/</a>.</p>\n<p>See a working example here in the 1st part of the question: <a href=\"https://stackoverflow.com/questions/15157779/maven-replacer-plugin-and-multiple-files\">maven-replacer-plugin and multiple files</a></p>\n"}],"owner":{"account_id":18076677,"reputation":61,"user_id":13139745,"display_name":"Vicardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694870842,"creation_date":1678717253,"question_id":75723123,"body_markdown":"I need to change the **host** value every time when generating the Java classes.\r\n\r\nHere is my documentation file.\r\n\r\n````\r\nswagger: &quot;2.0&quot;\r\ninfo:\r\n  version: &quot;0.14&quot;\r\n  title: Some title\r\nhost: api.default.host\r\nbasePath: /base/path/\r\nschemes:\r\n  - https\r\n\r\n// ....\r\n\r\n````\r\n\r\nI tried something like this, but unfortunately, it doesn&#39;t work\r\n\r\n````\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;testId&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;                         \r\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/test.yaml&lt;/inputSpec&gt;\r\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n                            &lt;apiPackage&gt;com.test.api&lt;/apiPackage&gt;\r\n                            &lt;modelPackage&gt;com.test.model&lt;/modelPackage&gt;\r\n                            &lt;invokerPackage&gt;com.test.invoker&lt;/invokerPackage&gt;\r\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n                            &lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;globalFeatures&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;host&gt;targetHost&lt;/host&gt;\r\n\t\t\t\t\t\t\t\t&lt;/globalFeatures&gt;\r\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                                &lt;java8&gt;true&lt;/java8&gt;\r\n                            &lt;/configOptions&gt;\r\n                            &lt;library&gt;jersey2&lt;/library&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n````\r\n\r\nI use version 3.3.4 of generator and can&#39;t change due to company&#39;s policy.","title":"OpenApi generator - change host by default","body":"<p>I need to change the <strong>host</strong> value every time when generating the Java classes.</p>\n<p>Here is my documentation file.</p>\n<pre><code>swagger: &quot;2.0&quot;\ninfo:\n  version: &quot;0.14&quot;\n  title: Some title\nhost: api.default.host\nbasePath: /base/path/\nschemes:\n  - https\n\n// ....\n\n</code></pre>\n<p>I tried something like this, but unfortunately, it doesn't work</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;testId&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;                         \n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/test.yaml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;java&lt;/generatorName&gt;\n                            &lt;apiPackage&gt;com.test.api&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;com.test.model&lt;/modelPackage&gt;\n                            &lt;invokerPackage&gt;com.test.invoker&lt;/invokerPackage&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;configOptions&gt;\n                                &lt;globalFeatures&gt;\n                                    &lt;host&gt;targetHost&lt;/host&gt;\n                                &lt;/globalFeatures&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;java8&gt;true&lt;/java8&gt;\n                            &lt;/configOptions&gt;\n                            &lt;library&gt;jersey2&lt;/library&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>I use version 3.3.4 of generator and can't change due to company's policy.</p>\n"},{"tags":["java","apache-spark","hadoop","pyspark","hive"],"owner":{"account_id":13501140,"reputation":11,"user_id":9740520,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694870479,"creation_date":1623985209,"question_id":68028773,"body_markdown":"Affects Version/s:2.3.2\r\nComponent/s:PySpark, Spark Core, Spark Shell\r\nLabels:JSON external-tables hive spark\r\nEnvironment:hdp 3.1.4 \r\n\r\nhive-hcatalog-core-3.1.0.3.1.4.0-315.jar &amp; hive-hcatalog-core-3.1.2 both I&#39;ve tried\r\n\r\n \r\nDescription\r\nI create a external hive table with hdfs file which is formatted as json string.\r\n\r\nI can read the data field of this hive table with the help of  org.apache.hive.hcatalog.data.JsonSerDe which is packed in hive-hcatalog-core.jar in hive shell.\r\n\r\nBut when I try to use the spark (pyspark ,spark-shell or whatever) ,I just can&#39;t read it.\r\n\r\nIt gave me a error  Table: Unable to get field from serde: org.apache.hive.hcatalog.data.JsonSerDe\r\n\r\nI&#39;ve copied the jar (hive-hcatalog-core.jar) to $spark_home/jars and yarn libs and rerun ,there is no effect,even use --jars $jar_path/hive-hcatalog-core.jar.But  when I browse the webpage of spark task ,I can actually find the jar in the env list.","title":"can&#39;t read external hive table on spark","body":"<p>Affects Version/s:2.3.2\nComponent/s:PySpark, Spark Core, Spark Shell\nLabels:JSON external-tables hive spark\nEnvironment:hdp 3.1.4</p>\n<p>hive-hcatalog-core-3.1.0.3.1.4.0-315.jar &amp; hive-hcatalog-core-3.1.2 both I've tried</p>\n<p>Description\nI create a external hive table with hdfs file which is formatted as json string.</p>\n<p>I can read the data field of this hive table with the help of  org.apache.hive.hcatalog.data.JsonSerDe which is packed in hive-hcatalog-core.jar in hive shell.</p>\n<p>But when I try to use the spark (pyspark ,spark-shell or whatever) ,I just can't read it.</p>\n<p>It gave me a error  Table: Unable to get field from serde: org.apache.hive.hcatalog.data.JsonSerDe</p>\n<p>I've copied the jar (hive-hcatalog-core.jar) to $spark_home/jars and yarn libs and rerun ,there is no effect,even use --jars $jar_path/hive-hcatalog-core.jar.But  when I browse the webpage of spark task ,I can actually find the jar in the env list.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"score":0,"creation_date":1694816152,"post_id":77115581,"comment_id":135945913,"body_markdown":"did you try to add the haddop jar extenally?are you using maven/gradel","body":"did you try to add the haddop jar extenally?are you using maven/gradel"},{"owner":{"account_id":22012967,"reputation":113,"user_id":17989032,"display_name":"Anon"},"score":0,"creation_date":1694816567,"post_id":77115581,"comment_id":135945944,"body_markdown":"@satyesht when we started this class they had us configure our bashrc file to import the resources for this class\n\n`source /etc/profile.d/modules.sh`\n`module purge`\n`module load courses/cs435/pa0`\n`source ~/.bashrc `\n\nwhich allows the terminal to recognize what hadoop is. I&#39;m not sure how to get that same functionality onto VSCode though. We never personally installed Hadoop onto our nodes","body":"@satyesht when we started this class they had us configure our bashrc file to import the resources for this class  <code>source &#47;etc&#47;profile.d&#47;modules.sh</code> <code>module purge</code> <code>module load courses&#47;cs435&#47;pa0</code> <code>source ~&#47;.bashrc </code>  which allows the terminal to recognize what hadoop is. I&#39;m not sure how to get that same functionality onto VSCode though. We never personally installed Hadoop onto our nodes"},{"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"score":1,"creation_date":1694816857,"post_id":77115581,"comment_id":135945961,"body_markdown":"some where on your machine you will have hadoop-common.jar , search for this . in linux you can use find command and then add all jar in the project from that location","body":"some where on your machine you will have hadoop-common.jar , search for this . in linux you can use find command and then add all jar in the project from that location"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694869634,"post_id":77115581,"comment_id":135949696,"body_markdown":"I&#39;m not sure what you&#39;re being taught, but in practice, people don&#39;t use `hadoop  ... javac` command. They do use Maven/Gradle/sbt to package and distribute their code into jar files, not just `.class` files, regardless, that&#39;s unrelated to the IDE syntax highlighting or your Java path/version","body":"I&#39;m not sure what you&#39;re being taught, but in practice, people don&#39;t use <code>hadoop  ... javac</code> command. They do use Maven/Gradle/sbt to package and distribute their code into jar files, not just <code>.class</code> files, regardless, that&#39;s unrelated to the IDE syntax highlighting or your Java path/version"}],"answers":[{"comments":[{"owner":{"account_id":22012967,"reputation":113,"user_id":17989032,"display_name":"Anon"},"score":0,"creation_date":1694816869,"post_id":77115611,"comment_id":135945964,"body_markdown":"Okay thank you. I will try adding the jar to my VSCode manually!","body":"Okay thank you. I will try adding the jar to my VSCode manually!"}],"tags":[],"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694869906,"creation_date":1694816479,"answer_id":77115611,"question_id":77115581,"body_markdown":"In VS code, seems like your Hadoop jars are not part of your class path, hence VS Code is not able to recognize the import.\r\nIf you are not using Maven/Gradle, you may have to import them manually as below.\r\n\r\nPlease refer to this question on how to add external JAR files in VS Code:\r\n\r\n&gt; https://stackoverflow.com/questions/50232557/visual-studio-code-java-extension-how-to-add-a-jar-to-classpath\r\n","title":"Java JDK is different in VSCode than in the terminal","body":"<p>In VS code, seems like your Hadoop jars are not part of your class path, hence VS Code is not able to recognize the import.\nIf you are not using Maven/Gradle, you may have to import them manually as below.</p>\n<p>Please refer to this question on how to add external JAR files in VS Code:</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/50232557/visual-studio-code-java-extension-how-to-add-a-jar-to-classpath\">Visual Studio Code, Java Extension, how to add a JAR to classpath?</a></p>\n</blockquote>\n"}],"owner":{"account_id":22012967,"reputation":113,"user_id":17989032,"display_name":"Anon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77115611,"answer_count":1,"score":-1,"last_activity_date":1694869906,"creation_date":1694815904,"question_id":77115581,"body_markdown":"I looked through a few questions similar to this but mine is too specific for them to help. For one of my classes at school, I need to run Hadoop mapreduce code. \r\n\r\nI have fully configured my Hadoop and have it working in my terminal (which I am SSHed into) but the JDK of my VSCode (which is also connected via SSH) doesn&#39;t recognize that Hadoop exists (likely because they are not looking at the same JDK).\r\n\r\nI am getting hundreds of errors when trying to import things and define classes in my code but it can compile fine because the terminal recognized Hadoop. It&#39;s mostly annoying because I want to see where the legitimate errors are.\r\n\r\n[![Hadoop Errors][1]][1]\r\n\r\n[![Compilation working][2]][2]\r\n\r\nI am still getting an error because I have not completed the assignment but at least Hadoop is recognized by the compiler.\r\n\r\n[![Attempt to locate terminal JDK][3]][3]\r\n\r\nIn the above image, you can see that I tried to change the JDK path to one of the ones provided to me in the terminal but it says there&#39;s nothing there. I have also tried to go the command to &quot;Install New JDK&quot; to see if it would let me use an existing one but it does not. This is all on SSH which is why I am having so much trouble. If I left anything out, please let me know and I will add it in.\r\n\r\nAny help would be appreciated, thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qQ8Xp.png\r\n  [2]: https://i.stack.imgur.com/Ud9qu.png\r\n  [3]: https://i.stack.imgur.com/7antw.png","title":"Java JDK is different in VSCode than in the terminal","body":"<p>I looked through a few questions similar to this but mine is too specific for them to help. For one of my classes at school, I need to run Hadoop mapreduce code.</p>\n<p>I have fully configured my Hadoop and have it working in my terminal (which I am SSHed into) but the JDK of my VSCode (which is also connected via SSH) doesn't recognize that Hadoop exists (likely because they are not looking at the same JDK).</p>\n<p>I am getting hundreds of errors when trying to import things and define classes in my code but it can compile fine because the terminal recognized Hadoop. It's mostly annoying because I want to see where the legitimate errors are.</p>\n<p><a href=\"https://i.stack.imgur.com/qQ8Xp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qQ8Xp.png\" alt=\"Hadoop Errors\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Ud9qu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ud9qu.png\" alt=\"Compilation working\" /></a></p>\n<p>I am still getting an error because I have not completed the assignment but at least Hadoop is recognized by the compiler.</p>\n<p><a href=\"https://i.stack.imgur.com/7antw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7antw.png\" alt=\"Attempt to locate terminal JDK\" /></a></p>\n<p>In the above image, you can see that I tried to change the JDK path to one of the ones provided to me in the terminal but it says there's nothing there. I have also tried to go the command to &quot;Install New JDK&quot; to see if it would let me use an existing one but it does not. This is all on SSH which is why I am having so much trouble. If I left anything out, please let me know and I will add it in.</p>\n<p>Any help would be appreciated, thanks!</p>\n"},{"tags":["java","eclipse","apache-flex","flex4","flash-builder"],"comments":[{"owner":{"account_id":2466800,"reputation":990,"user_id":2149703,"display_name":"Bill Turner"},"score":0,"creation_date":1381333260,"post_id":19264583,"comment_id":28540427,"body_markdown":"I&#39;m not sure I&#39;m reading the log correctly, but it looks like your Eclipse Helios install is a 64-bit version, and the Flash Builder plug-in is 32-bit.  Can you verify or refute this?  I know that trying to run a mismatched set will give you errors, but I don&#39;t know which ones.","body":"I&#39;m not sure I&#39;m reading the log correctly, but it looks like your Eclipse Helios install is a 64-bit version, and the Flash Builder plug-in is 32-bit.  Can you verify or refute this?  I know that trying to run a mismatched set will give you errors, but I don&#39;t know which ones."}],"answers":[{"comments":[{"owner":{"account_id":74538,"reputation":4105,"user_id":214131,"accept_rate":69,"display_name":"RKCY"},"score":0,"creation_date":1381309346,"post_id":19264620,"comment_id":28525027,"body_markdown":"i have changed java version to 1.6 which is installed in my system . but still same issue is persist.","body":"i have changed java version to 1.6 which is installed in my system . but still same issue is persist."}],"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381299810,"creation_date":1381299810,"answer_id":19264620,"question_id":19264583,"body_markdown":"&gt; Java was started but returned exit code=13\r\n\r\nerror is caused when you are attempting to start Eclipse using the wrong version of the Java Virtual Machine (JVM). \r\n\r\nYour eclipse.ini file contains a java version which is different from the one installed/set on your machine.\r\n\r\nHere are some recommendations to correct this error:\r\n\r\nhttp://www.ehow.com/how_4784069_terminated-exit-code-error-eclipse.html","title":"while opening eclipse getting error","body":"<blockquote>\n  <p>Java was started but returned exit code=13</p>\n</blockquote>\n\n<p>error is caused when you are attempting to start Eclipse using the wrong version of the Java Virtual Machine (JVM). </p>\n\n<p>Your eclipse.ini file contains a java version which is different from the one installed/set on your machine.</p>\n\n<p>Here are some recommendations to correct this error:</p>\n\n<p><a href=\"http://www.ehow.com/how_4784069_terminated-exit-code-error-eclipse.html\" rel=\"nofollow\">http://www.ehow.com/how_4784069_terminated-exit-code-error-eclipse.html</a></p>\n"},{"comments":[{"owner":{"account_id":74538,"reputation":4105,"user_id":214131,"accept_rate":69,"display_name":"RKCY"},"score":0,"creation_date":1381300514,"post_id":19264626,"comment_id":28520746,"body_markdown":"I had installed java 1.6 version. In eclipse it is showing as 1.5 version. now where can to add in eclipse configuration.","body":"I had installed java 1.6 version. In eclipse it is showing as 1.5 version. now where can to add in eclipse configuration."},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1381300908,"post_id":19264626,"comment_id":28520895,"body_markdown":"Open the `eclipse.ini` and see the parameter `Dosgi.requiredJavaVersion=1.6`. `1.6`  is mine. Set what ever you want  to set.","body":"Open the <code>eclipse.ini</code> and see the parameter <code>Dosgi.requiredJavaVersion=1.6</code>. <code>1.6</code>  is mine. Set what ever you want  to set."},{"owner":{"account_id":74538,"reputation":4105,"user_id":214131,"accept_rate":69,"display_name":"RKCY"},"score":0,"creation_date":1381301223,"post_id":19264626,"comment_id":28521012,"body_markdown":"@suresh:- i have tried the same but doesn&#39;t work and getting same error.","body":"@suresh:- i have tried the same but doesn&#39;t work and getting same error."},{"owner":{"account_id":1194436,"reputation":5099,"user_id":1166447,"display_name":"Jhanvi"},"score":0,"creation_date":1381301686,"post_id":19264626,"comment_id":28521223,"body_markdown":"@RaviKChowdary did you change the parameter in eclipse.ini?","body":"@RaviKChowdary did you change the parameter in eclipse.ini?"},{"owner":{"account_id":74538,"reputation":4105,"user_id":214131,"accept_rate":69,"display_name":"RKCY"},"score":0,"creation_date":1381301933,"post_id":19264626,"comment_id":28521339,"body_markdown":"@Jhanvi :- where to change the parameter?","body":"@Jhanvi :- where to change the parameter?"},{"owner":{"account_id":1194436,"reputation":5099,"user_id":1166447,"display_name":"Jhanvi"},"score":0,"creation_date":1381302248,"post_id":19264626,"comment_id":28521471,"body_markdown":"refer this: http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.jst.j2ee.doc.user%2Ftopics%2Ftchangejavalevel.html and http://stackoverflow.com/questions/2540548/how-do-i-get-eclipse-to-use-a-different-compiler-version-for-java","body":"refer this: <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.jst.j2ee.doc.user%2Ftopics%2Ftchangejavalevel.html\" rel=\"nofollow noreferrer\">help.eclipse.org/indigo/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/2540548/how-do-i-get-eclipse-to-use-a-different-compiler-version-for-java\" title=\"how do i get eclipse to use a different compiler version for java\">stackoverflow.com/questions/2540548/&hellip;</a>"}],"tags":[],"owner":{"account_id":1194436,"reputation":5099,"user_id":1166447,"display_name":"Jhanvi"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381299846,"creation_date":1381299846,"answer_id":19264626,"question_id":19264583,"body_markdown":"Check your java version with command : java -version\r\n\r\nAnd then compare it with the version of java shown in your error message of eclipse.\r\n\r\nMaybe the version of of java that your eclipse support will be different from the installed java on your system.","title":"while opening eclipse getting error","body":"<p>Check your java version with command : java -version</p>\n\n<p>And then compare it with the version of java shown in your error message of eclipse.</p>\n\n<p>Maybe the version of of java that your eclipse support will be different from the installed java on your system.</p>\n"}],"owner":{"account_id":74538,"reputation":4105,"user_id":214131,"accept_rate":69,"display_name":"RKCY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694869420,"creation_date":1381299694,"question_id":19264583,"body_markdown":"I have installed flash builder plugin and i choose eclipse which i have.\r\n\r\nWhile opening Falsh builder plugin with eclipse, getting error and showed a screen shot of the error message.\r\n\r\n\r\n![http://img856.imageshack.us/img856/5366/chpp.png][1]\r\n\r\nBut if i open only eclipse it is working fine and no errors..\r\nCan i know the reason and required any changes in eclipse or flash builder?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/WavUh.png","title":"while opening eclipse getting error","body":"<p>I have installed flash builder plugin and i choose eclipse which i have.</p>\n\n<p>While opening Falsh builder plugin with eclipse, getting error and showed a screen shot of the error message.</p>\n\n<p><img src=\"https://i.stack.imgur.com/WavUh.png\" alt=\"http://img856.imageshack.us/img856/5366/chpp.png\"></p>\n\n<p>But if i open only eclipse it is working fine and no errors..\nCan i know the reason and required any changes in eclipse or flash builder?</p>\n"},{"tags":["java","match","rule-engine"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1694860263,"post_id":77117352,"comment_id":135948715,"body_markdown":"If your code works, but you&#39;re just looking for ways to optimise it, then this question might be better suited for https://codereview.stackexchange.com/","body":"If your code works, but you&#39;re just looking for ways to optimise it, then this question might be better suited for <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":3188501,"reputation":86,"user_id":2693431,"display_name":"Amit Jain"},"score":0,"creation_date":1694862889,"post_id":77117352,"comment_id":135949004,"body_markdown":"How does the attribute values loaded in the memory? Is it dynamically getting refreshed based on some criteria?","body":"How does the attribute values loaded in the memory? Is it dynamically getting refreshed based on some criteria?"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1694864180,"post_id":77117352,"comment_id":135949112,"body_markdown":"@AmitJain The attribute value map is populated in memory incrementally by various pieces of enrichment logic.","body":"@AmitJain The attribute value map is populated in memory incrementally by various pieces of enrichment logic."},{"owner":{"account_id":6725902,"reputation":449,"user_id":5999841,"accept_rate":78,"display_name":"pacmaninbw"},"score":1,"creation_date":1694868821,"post_id":77117352,"comment_id":135949619,"body_markdown":"@QBrute This code is demo code and would be considered too theoretical on Code Review.","body":"@QBrute This code is demo code and would be considered too theoretical on Code Review."}],"answers":[{"comments":[{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1694897324,"post_id":77117837,"comment_id":135952638,"body_markdown":"Not sure what your code is doing. I don&#39;t think it would work, and even if it did I don&#39;t think it would be faster than the simple algorithm.","body":"Not sure what your code is doing. I don&#39;t think it would work, and even if it did I don&#39;t think it would be faster than the simple algorithm."}],"tags":[],"owner":{"account_id":3188501,"reputation":86,"user_id":2693431,"display_name":"Amit Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694868435,"creation_date":1694868435,"answer_id":77117837,"question_id":77117352,"body_markdown":"Instead of iterating over the rules, we can iterate over the attributes and run only those rules which checks for the specific attribute.\r\n\r\nIf you build the map for the rules which can be applied for the attribute(`attributeRuleMap`), you can improve the performance a little bit.\r\n\r\nSomething like below\r\n```\r\nclass Rule {\r\n    int id;\r\n    Map&lt;String, Condition&gt; conditionsMap = new HashMap&lt;&gt;();\r\n\r\n    public Rule(int id, List&lt;Condition&gt; conditions) {\r\n        this.id = id;\r\n        conditions.forEach(condition -&gt; {\r\n            attributeRuleMap.computeIfAbsent(condition.attribute, x -&gt; new ArrayList&lt;&gt;()).add(id);\r\n            conditionsMap.put(condition.attribute, condition);\r\n        });\r\n        ruleMap.put(id, this);\r\n    }\r\n}\r\n```\r\n`conditionsMap` is for accessing only the conditions for a specific attribute we are checking the rule.\r\n\r\nThen your match function can be something like below\r\n```\r\nprivate static List&lt;Integer&gt; match(Map&lt;String, String&gt; attrValues) {\r\n    List&lt;Integer&gt; rules = new ArrayList&lt;&gt;();\r\n    attrValues.forEach((key, value) -&gt;\r\n                           attributeRuleMap.get(key)\r\n                                           .forEach(rule -&gt; {\r\n                                                        Condition condition = ruleMap.get(rule).conditionsMap.get(key);\r\n                                                        if (condition.values.contains(value) &amp;&amp; condition.operator == Operator.IN) {\r\n                                                            rules.add(rule);\r\n                                                        }\r\n                                                    }\r\n                                           ));\r\n    return rules;\r\n\r\n}\r\n```","title":"Optimise simple rule-matching logic","body":"<p>Instead of iterating over the rules, we can iterate over the attributes and run only those rules which checks for the specific attribute.</p>\n<p>If you build the map for the rules which can be applied for the attribute(<code>attributeRuleMap</code>), you can improve the performance a little bit.</p>\n<p>Something like below</p>\n<pre><code>class Rule {\n    int id;\n    Map&lt;String, Condition&gt; conditionsMap = new HashMap&lt;&gt;();\n\n    public Rule(int id, List&lt;Condition&gt; conditions) {\n        this.id = id;\n        conditions.forEach(condition -&gt; {\n            attributeRuleMap.computeIfAbsent(condition.attribute, x -&gt; new ArrayList&lt;&gt;()).add(id);\n            conditionsMap.put(condition.attribute, condition);\n        });\n        ruleMap.put(id, this);\n    }\n}\n</code></pre>\n<p><code>conditionsMap</code> is for accessing only the conditions for a specific attribute we are checking the rule.</p>\n<p>Then your match function can be something like below</p>\n<pre><code>private static List&lt;Integer&gt; match(Map&lt;String, String&gt; attrValues) {\n    List&lt;Integer&gt; rules = new ArrayList&lt;&gt;();\n    attrValues.forEach((key, value) -&gt;\n                           attributeRuleMap.get(key)\n                                           .forEach(rule -&gt; {\n                                                        Condition condition = ruleMap.get(rule).conditionsMap.get(key);\n                                                        if (condition.values.contains(value) &amp;&amp; condition.operator == Operator.IN) {\n                                                            rules.add(rule);\n                                                        }\n                                                    }\n                                           ));\n    return rules;\n\n}\n</code></pre>\n"}],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694868435,"creation_date":1694859726,"question_id":77117352,"body_markdown":"I have a simple algorithm for some rule-matching logic and would like to see if there is a way to optimise it.\r\n\r\nThe problem is as follows - I have a set of rules, and I need to determine for each incoming record, which rule (if any) matches the record. The record is essentially a map of string attributes to string values. The rule consists of an integer id and a list of conditions. Each condition has an attribute, an operator (IN or NOT_IN) and a set of string values.\r\n\r\nSo a sample rule might look something like the following:\r\n\r\n    {\r\n        id: &quot;1&quot;,\r\n        conditions: [\r\n            {\r\n                attribute: &quot;firstname&quot;,\r\n                operator: &quot;IN&quot;,\r\n                values: [&quot;Jon&quot;, &quot;Fred&quot;]\r\n            },{\r\n                attribute: &quot;surname&quot;,\r\n                operator: &quot;NOT_IN&quot;,\r\n                values: [&quot;Smith&quot;]\r\n            }\r\n        ]\r\n    }\r\n\r\nThe above rule would match any record where record.get(&quot;firstname&quot;) is either &quot;Jon&quot; or &quot;Fred&quot;, and record.get(&quot;surname&quot;) is either null or not &quot;Smith&quot;.\r\n\r\nThe rule matching logic when applied to a single record is as follows:\r\n\r\n 1. Iterate through each rule:\r\n    1. Iterate through each condition for the rule:\r\n        1. Lookup the condition attribute from the record attribute map.\r\n        1. If the condition operator is IN then apply the following check:\r\n           1. If the map contains the attribute and the lookup value is in the list of condition values then the condition passes, otherwise if fails.\r\n        1. Else, if the condition operator is NOT_IN then apply the following check:\r\n           1. If the map does not contain the attribute, or the lookup valu is not in the list of condition values then the condition passes, otherwise if fails.\r\n    1. If all conditions pass then the rule is a match and no futher rules are considered.\r\n\r\nIf it&#39;s not clear, the order of the rules in the list is important, as the first rule that matches will be chosen.\r\n\r\nI&#39;ve included some Java code below that implements the Rules data model and the above algorithm.\r\n\r\nThe above logic is relatively simple to implement, but it involves iterating through the rules for each record. My question is whether there&#39;s a more efficient algorithm.\r\n\r\nSome more data points:\r\n\r\n1. The rules are essentially static.\r\n1. There are around 2 billion records to process.\r\n1. The records will arrive in batches of varying sizes, but typically 100,000 - 1,000,000.\r\n1. The attributes are known in advance - there are around 500 in total, however the rules only use a relatively small subset - prob no more than 20.\r\n1. The attribute values are not generally known in advance.\r\n1. Each condition will typically contain a small number of values - usually no more than 6.\r\n1. The conditions that comprise a rule will each use different attributes - i.e. you would never get a rule with two or more conditions using the same attribute.\r\n1. The number of conditions comprising a rule is typically small - usually no more than 4.\r\n\r\nTo optimise the algorithm I looked at ways to pre-compile the rules into a data structure that might speed up the rule processing. At first I thought a decision tree structure might be more optimal, but it&#39;s not immediately clear how to construct one, as each rule may be testing different sets of attributes. Another approach I thought about involved encoding each rule as a number, perhaps as a bitmap or a hash code.\r\n\r\n``` Java\r\nimport java.util.*;\r\n\r\npublic class RulesTest {\r\n    \r\n    // Data model.\r\n\r\n    enum Operator {IN, NOT_IN}\r\n\r\n    record Condition(String attribute, Operator operator, Set&lt;String&gt; values) {}\r\n\r\n    record Rule(int id, List&lt;Condition&gt; conditions) {}\r\n\r\n    // Test data.\r\n    \r\n    private static final List&lt;Rule&gt; TEST_RULES = List.of(\r\n            new Rule(\r\n                    1,\r\n                    List.of(\r\n                            new Condition(&quot;B&quot;, Operator.IN, Set.of(&quot;b1&quot;, &quot;b2&quot;)),\r\n                            new Condition(&quot;C&quot;, Operator.IN, Set.of(&quot;c2&quot;, &quot;c4&quot;))\r\n                    )\r\n            ), new Rule(\r\n                    2,\r\n                    List.of(\r\n                            new Condition(&quot;A&quot;, Operator.IN, Set.of(&quot;a1&quot;, &quot;a3&quot;)),\r\n                            new Condition(&quot;C&quot;, Operator.NOT_IN, Set.of(&quot;c1&quot;, &quot;c4&quot;)),\r\n                            new Condition(&quot;D&quot;, Operator.IN, Set.of(&quot;d1&quot;, &quot;d2&quot;, &quot;d3&quot;))\r\n                    )\r\n            ), new Rule(\r\n                    3,\r\n                    List.of(\r\n                            new Condition(&quot;B&quot;, Operator.NOT_IN, Set.of(&quot;b1&quot;, &quot;b4&quot;)),\r\n                            new Condition(&quot;D&quot;, Operator.NOT_IN, Set.of(&quot;d1&quot;, &quot;d2&quot;)),\r\n                            new Condition(&quot;E&quot;, Operator.IN, Set.of(&quot;e1&quot;))\r\n                    )\r\n            )\r\n    );\r\n\r\n    // Matching logic.\r\n    private static OptionalInt match(List&lt;Rule&gt; rules, Map&lt;String, String&gt; attrValues) {\r\n        for (Rule rule : rules) {\r\n            final boolean pass = rule.conditions\r\n                    .stream()\r\n                    .allMatch(condition -&gt; {\r\n                        final String attrValue = attrValues.get(condition.attribute);\r\n                        return (attrValue != null &amp;&amp; condition.values().contains(attrValue))\r\n                                == (condition.operator == Operator.IN);\r\n                    });\r\n            if (pass) {\r\n                return OptionalInt.of(rule.id);\r\n            }\r\n        }\r\n\r\n        return OptionalInt.empty();\r\n    }\r\n\r\n    private static void test(List&lt;Rule&gt; rules, Map&lt;String, String&gt; attrValues) {\r\n        final OptionalInt optRuleId = match(rules, attrValues);\r\n\r\n        System.out.println(attrValues + &quot; -&gt; &quot; + optRuleId);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        {\r\n            final Map&lt;String, String&gt; attrValues = Map.of(\r\n                    &quot;A&quot;, &quot;a1&quot;,\r\n                    &quot;B&quot;, &quot;b1&quot;,\r\n                    &quot;C&quot;, &quot;c1&quot;\r\n            );\r\n\r\n            test(TEST_RULES, attrValues);\r\n        }\r\n\r\n        {\r\n            final Map&lt;String, String&gt; attrValues = Map.of(\r\n                    &quot;B&quot;, &quot;b2&quot;,\r\n                    &quot;C&quot;, &quot;c2&quot;\r\n            );\r\n\r\n            test(TEST_RULES, attrValues);\r\n        }\r\n\r\n        {\r\n            final Map&lt;String, String&gt; attrValues = Map.of(\r\n                    &quot;A&quot;, &quot;a3&quot;,\r\n                    &quot;C&quot;, &quot;c3&quot;,\r\n                    &quot;D&quot;, &quot;d3&quot;\r\n            );\r\n\r\n            test(TEST_RULES, attrValues);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Optimise simple rule-matching logic","body":"<p>I have a simple algorithm for some rule-matching logic and would like to see if there is a way to optimise it.</p>\n<p>The problem is as follows - I have a set of rules, and I need to determine for each incoming record, which rule (if any) matches the record. The record is essentially a map of string attributes to string values. The rule consists of an integer id and a list of conditions. Each condition has an attribute, an operator (IN or NOT_IN) and a set of string values.</p>\n<p>So a sample rule might look something like the following:</p>\n<pre><code>{\n    id: &quot;1&quot;,\n    conditions: [\n        {\n            attribute: &quot;firstname&quot;,\n            operator: &quot;IN&quot;,\n            values: [&quot;Jon&quot;, &quot;Fred&quot;]\n        },{\n            attribute: &quot;surname&quot;,\n            operator: &quot;NOT_IN&quot;,\n            values: [&quot;Smith&quot;]\n        }\n    ]\n}\n</code></pre>\n<p>The above rule would match any record where record.get(&quot;firstname&quot;) is either &quot;Jon&quot; or &quot;Fred&quot;, and record.get(&quot;surname&quot;) is either null or not &quot;Smith&quot;.</p>\n<p>The rule matching logic when applied to a single record is as follows:</p>\n<ol>\n<li>Iterate through each rule:\n<ol>\n<li>Iterate through each condition for the rule:\n<ol>\n<li>Lookup the condition attribute from the record attribute map.</li>\n<li>If the condition operator is IN then apply the following check:\n<ol>\n<li>If the map contains the attribute and the lookup value is in the list of condition values then the condition passes, otherwise if fails.</li>\n</ol>\n</li>\n<li>Else, if the condition operator is NOT_IN then apply the following check:\n<ol>\n<li>If the map does not contain the attribute, or the lookup valu is not in the list of condition values then the condition passes, otherwise if fails.</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>If all conditions pass then the rule is a match and no futher rules are considered.</li>\n</ol>\n</li>\n</ol>\n<p>If it's not clear, the order of the rules in the list is important, as the first rule that matches will be chosen.</p>\n<p>I've included some Java code below that implements the Rules data model and the above algorithm.</p>\n<p>The above logic is relatively simple to implement, but it involves iterating through the rules for each record. My question is whether there's a more efficient algorithm.</p>\n<p>Some more data points:</p>\n<ol>\n<li>The rules are essentially static.</li>\n<li>There are around 2 billion records to process.</li>\n<li>The records will arrive in batches of varying sizes, but typically 100,000 - 1,000,000.</li>\n<li>The attributes are known in advance - there are around 500 in total, however the rules only use a relatively small subset - prob no more than 20.</li>\n<li>The attribute values are not generally known in advance.</li>\n<li>Each condition will typically contain a small number of values - usually no more than 6.</li>\n<li>The conditions that comprise a rule will each use different attributes - i.e. you would never get a rule with two or more conditions using the same attribute.</li>\n<li>The number of conditions comprising a rule is typically small - usually no more than 4.</li>\n</ol>\n<p>To optimise the algorithm I looked at ways to pre-compile the rules into a data structure that might speed up the rule processing. At first I thought a decision tree structure might be more optimal, but it's not immediately clear how to construct one, as each rule may be testing different sets of attributes. Another approach I thought about involved encoding each rule as a number, perhaps as a bitmap or a hash code.</p>\n<pre><code>import java.util.*;\n\npublic class RulesTest {\n    \n    // Data model.\n\n    enum Operator {IN, NOT_IN}\n\n    record Condition(String attribute, Operator operator, Set&lt;String&gt; values) {}\n\n    record Rule(int id, List&lt;Condition&gt; conditions) {}\n\n    // Test data.\n    \n    private static final List&lt;Rule&gt; TEST_RULES = List.of(\n            new Rule(\n                    1,\n                    List.of(\n                            new Condition(&quot;B&quot;, Operator.IN, Set.of(&quot;b1&quot;, &quot;b2&quot;)),\n                            new Condition(&quot;C&quot;, Operator.IN, Set.of(&quot;c2&quot;, &quot;c4&quot;))\n                    )\n            ), new Rule(\n                    2,\n                    List.of(\n                            new Condition(&quot;A&quot;, Operator.IN, Set.of(&quot;a1&quot;, &quot;a3&quot;)),\n                            new Condition(&quot;C&quot;, Operator.NOT_IN, Set.of(&quot;c1&quot;, &quot;c4&quot;)),\n                            new Condition(&quot;D&quot;, Operator.IN, Set.of(&quot;d1&quot;, &quot;d2&quot;, &quot;d3&quot;))\n                    )\n            ), new Rule(\n                    3,\n                    List.of(\n                            new Condition(&quot;B&quot;, Operator.NOT_IN, Set.of(&quot;b1&quot;, &quot;b4&quot;)),\n                            new Condition(&quot;D&quot;, Operator.NOT_IN, Set.of(&quot;d1&quot;, &quot;d2&quot;)),\n                            new Condition(&quot;E&quot;, Operator.IN, Set.of(&quot;e1&quot;))\n                    )\n            )\n    );\n\n    // Matching logic.\n    private static OptionalInt match(List&lt;Rule&gt; rules, Map&lt;String, String&gt; attrValues) {\n        for (Rule rule : rules) {\n            final boolean pass = rule.conditions\n                    .stream()\n                    .allMatch(condition -&gt; {\n                        final String attrValue = attrValues.get(condition.attribute);\n                        return (attrValue != null &amp;&amp; condition.values().contains(attrValue))\n                                == (condition.operator == Operator.IN);\n                    });\n            if (pass) {\n                return OptionalInt.of(rule.id);\n            }\n        }\n\n        return OptionalInt.empty();\n    }\n\n    private static void test(List&lt;Rule&gt; rules, Map&lt;String, String&gt; attrValues) {\n        final OptionalInt optRuleId = match(rules, attrValues);\n\n        System.out.println(attrValues + &quot; -&gt; &quot; + optRuleId);\n    }\n\n    public static void main(String[] args) {\n        {\n            final Map&lt;String, String&gt; attrValues = Map.of(\n                    &quot;A&quot;, &quot;a1&quot;,\n                    &quot;B&quot;, &quot;b1&quot;,\n                    &quot;C&quot;, &quot;c1&quot;\n            );\n\n            test(TEST_RULES, attrValues);\n        }\n\n        {\n            final Map&lt;String, String&gt; attrValues = Map.of(\n                    &quot;B&quot;, &quot;b2&quot;,\n                    &quot;C&quot;, &quot;c2&quot;\n            );\n\n            test(TEST_RULES, attrValues);\n        }\n\n        {\n            final Map&lt;String, String&gt; attrValues = Map.of(\n                    &quot;A&quot;, &quot;a3&quot;,\n                    &quot;C&quot;, &quot;c3&quot;,\n                    &quot;D&quot;, &quot;d3&quot;\n            );\n\n            test(TEST_RULES, attrValues);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data-jpa","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694868324,"creation_date":1694868324,"answer_id":77117832,"question_id":77041462,"body_markdown":"First of all: Yes, you can do that using aggregation pipeline BUT... are you sure you need a NoSQL DB to perform two joins? It seems your data is highly related.\r\n\r\nBy the way, this is only a suggestion. Answering your question I think you want [this query](https://mongoplayground.net/p/k0Z624ALNcV)\r\n\r\nWhich can be translated into Java code like this (not tested at all):\r\n\r\n```java\r\nAggregation aggregation = Aggregation.newAggregation(\r\n    Aggregation.lookup(&quot;Catalog&quot;, &quot;_id&quot;, &quot;userId&quot;, &quot;catalogs&quot;),\r\n    Aggregation.lookup(&quot;Item&quot;, &quot;_id&quot;, &quot;userId&quot;, &quot;items&quot;),\r\n    Aggregation.project()\r\n        .andExclude(&quot;_id&quot;)\r\n        .and(&quot;_id&quot;).as(&quot;user._id&quot;)\r\n        .and(&quot;catalogId&quot;).as(&quot;user.catalogId&quot;)\r\n        .and(&quot;name&quot;).as(&quot;user.name&quot;)\r\n        .and(&quot;info&quot;).as(&quot;user.info&quot;)\r\n        .and(&quot;catalogs&quot;),size().as(&quot;countOfCatalogs&quot;)\r\n        .and(&quot;items&quot;),size().as(&quot;countOfItems&quot;)\r\n);\r\n\r\nAggregationResults &lt;Response&gt; results = mongoTemplate.aggregate(aggregation, &quot;User&quot;, Response.class);\r\n```","title":"How to create complex custom query with mongo template","body":"<p>First of all: Yes, you can do that using aggregation pipeline BUT... are you sure you need a NoSQL DB to perform two joins? It seems your data is highly related.</p>\n<p>By the way, this is only a suggestion. Answering your question I think you want <a href=\"https://mongoplayground.net/p/k0Z624ALNcV\" rel=\"nofollow noreferrer\">this query</a></p>\n<p>Which can be translated into Java code like this (not tested at all):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Aggregation aggregation = Aggregation.newAggregation(\n    Aggregation.lookup(&quot;Catalog&quot;, &quot;_id&quot;, &quot;userId&quot;, &quot;catalogs&quot;),\n    Aggregation.lookup(&quot;Item&quot;, &quot;_id&quot;, &quot;userId&quot;, &quot;items&quot;),\n    Aggregation.project()\n        .andExclude(&quot;_id&quot;)\n        .and(&quot;_id&quot;).as(&quot;user._id&quot;)\n        .and(&quot;catalogId&quot;).as(&quot;user.catalogId&quot;)\n        .and(&quot;name&quot;).as(&quot;user.name&quot;)\n        .and(&quot;info&quot;).as(&quot;user.info&quot;)\n        .and(&quot;catalogs&quot;),size().as(&quot;countOfCatalogs&quot;)\n        .and(&quot;items&quot;),size().as(&quot;countOfItems&quot;)\n);\n\nAggregationResults &lt;Response&gt; results = mongoTemplate.aggregate(aggregation, &quot;User&quot;, Response.class);\n</code></pre>\n"}],"owner":{"account_id":26871811,"reputation":1,"user_id":20453687,"display_name":"roditoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694868324,"creation_date":1693881764,"question_id":77041462,"body_markdown":"Im using Java 8 and Spring, trying to create a query with mongo template.\r\n\r\nI have this 3 collections:\r\n\r\n    public class User {     \r\n        private String id;     \r\n        private String catalogId;  \r\n        private String name;  \r\n        private String info;  \r\n    } \r\n     \r\n    public class Catalog {     \r\n        private String id;     \r\n        private String userId;     \r\n        private boolean exist; \r\n    } \r\n    \r\n    public class Item {     \r\n        private String id;    \r\n        private String catalogId;    \r\n        private String userId; \r\n    } \r\n\r\nI want to create a query that returns the following:\r\n\r\n    class Response {\r\n      private User user;\r\n      private int countOfCatalogs;\r\n      private int countOfItems;\r\n    }\r\n\r\nThe idea is to return a list with that information for each user and the count of catalogs and items for each user, a List&lt;Response. With pagination and sorting on ‘countOfCatalogs’ and ‘countOfItems’.\r\n\r\nIs there a way to do something like this with Mongo template?\r\n\r\nThanks!","title":"How to create complex custom query with mongo template","body":"<p>Im using Java 8 and Spring, trying to create a query with mongo template.</p>\n<p>I have this 3 collections:</p>\n<pre><code>public class User {     \n    private String id;     \n    private String catalogId;  \n    private String name;  \n    private String info;  \n} \n \npublic class Catalog {     \n    private String id;     \n    private String userId;     \n    private boolean exist; \n} \n\npublic class Item {     \n    private String id;    \n    private String catalogId;    \n    private String userId; \n} \n</code></pre>\n<p>I want to create a query that returns the following:</p>\n<pre><code>class Response {\n  private User user;\n  private int countOfCatalogs;\n  private int countOfItems;\n}\n</code></pre>\n<p>The idea is to return a list with that information for each user and the count of catalogs and items for each user, a List&lt;Response. With pagination and sorting on ‘countOfCatalogs’ and ‘countOfItems’.</p>\n<p>Is there a way to do something like this with Mongo template?</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","jpanel","fade"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682097759,"post_id":76075301,"comment_id":134167530,"body_markdown":"Do you mean something like [this](https://stackoverflow.com/a/22275584/522444) which uses a Swing Timer and CardLayout to do the transition?","body":"Do you mean something like <a href=\"https://stackoverflow.com/a/22275584/522444\">this</a> which uses a Swing Timer and CardLayout to do the transition?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1682098276,"post_id":76075301,"comment_id":134167634,"body_markdown":"I really wanted to try to make it on my own but I&#39;ll give it a try if I have no other choice =)","body":"I really wanted to try to make it on my own but I&#39;ll give it a try if I have no other choice =)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682098324,"post_id":76075301,"comment_id":134167643,"body_markdown":"Please define what you mean by &quot;make it on my own&quot;. That&#39;s what my answer does, only using Swing tools to do so.","body":"Please define what you mean by &quot;make it on my own&quot;. That&#39;s what my answer does, only using Swing tools to do so."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1682098474,"post_id":76075301,"comment_id":134167674,"body_markdown":"oh I see, my bad! But could you maybe try to at least cut out the part that I require and make it into an answer?","body":"oh I see, my bad! But could you maybe try to at least cut out the part that I require and make it into an answer?"},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":1,"creation_date":1682098980,"post_id":76075301,"comment_id":134167763,"body_markdown":"It&#39;s not that hard to make it on your own, @HovercraftFullOfEels has pointed to a running example you could extract that by: 1) Create a JFrame with 2 panels and a button 2) Make the button do the transition from the answer he has linked in his comment above.","body":"It&#39;s not that hard to make it on your own, @HovercraftFullOfEels has pointed to a running example you could extract that by: 1) Create a JFrame with 2 panels and a button 2) Make the button do the transition from the answer he has linked in his comment above."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1682156953,"post_id":76075301,"comment_id":134173479,"body_markdown":"note: calling updateUI is utterly __wrong__! it&#39;s called after changing the ui delegate, nothing else","body":"note: calling updateUI is utterly <b>wrong</b>! it&#39;s called after changing the ui delegate, nothing else"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1682157058,"post_id":76075301,"comment_id":134173490,"body_markdown":"btw: please edit the code and format it properly - in particular, the excessive and unneeded vertical whitespace makes it hard to read. Also make sure it&#39;s really a [mcve] (no external references, nothing unrelated to the problem)","body":"btw: please edit the code and format it properly - in particular, the excessive and unneeded vertical whitespace makes it hard to read. Also make sure it&#39;s really a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (no external references, nothing unrelated to the problem)"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694868587,"post_id":76075301,"comment_id":135949583,"body_markdown":"@HovercraftFullOfEels (I know this question is quite old but I edited it because I cant ask anymore questions) but I made this into an MRE but it is really easy to answer it. Is there anything you could recommend I do? (I&#39;m asking you because I you are a trusted user :&gt;)","body":"@HovercraftFullOfEels (I know this question is quite old but I edited it because I cant ask anymore questions) but I made this into an MRE but it is really easy to answer it. Is there anything you could recommend I do? (I&#39;m asking you because I you are a trusted user :&gt;)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694868753,"post_id":76075301,"comment_id":135949610,"body_markdown":"I&#39;ve done this before, let me see if it is in an answer to a previous question. First and most obvious though is to get rid of any while loops and changing of Swing state from within non-EDT background threads, and instead use a Swing Timer.","body":"I&#39;ve done this before, let me see if it is in an answer to a previous question. First and most obvious though is to get rid of any while loops and changing of Swing state from within non-EDT background threads, and instead use a Swing Timer."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694868779,"post_id":76075301,"comment_id":135949614,"body_markdown":"I think that I created images and then swapped them using a CardLayout, but again, let me look....","body":"I think that I created images and then swapped them using a CardLayout, but again, let me look...."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694869127,"post_id":76075301,"comment_id":135949647,"body_markdown":"Yes, I found them. Please check out [this answer](https://stackoverflow.com/a/22275584/) as well as [this one](https://stackoverflow.com/a/70622613/) for possible ideas. Also, [Gilbert&#39;s answer](https://stackoverflow.com/a/70626298/) as well as MadProgrammer&#39;s answers (always with great advice) [here](https://stackoverflow.com/a/20347600/), [here](https://stackoverflow.com/a/52883348/), and [here](https://stackoverflow.com/a/34123681/)","body":"Yes, I found them. Please check out <a href=\"https://stackoverflow.com/a/22275584/\">this answer</a> as well as <a href=\"https://stackoverflow.com/a/70622613/\">this one</a> for possible ideas. Also, <a href=\"https://stackoverflow.com/a/70626298/\">Gilbert&#39;s answer</a> as well as MadProgrammer&#39;s answers (always with great advice) <a href=\"https://stackoverflow.com/a/20347600/\">here</a>, <a href=\"https://stackoverflow.com/a/52883348/\">here</a>, and <a href=\"https://stackoverflow.com/a/34123681/\">here</a>"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694869494,"post_id":76075301,"comment_id":135949684,"body_markdown":"Yes thank you, really appreciate it btw [your answer](https://stackoverflow.com/questions/22275435/cardlayout-showing-two-panels-flashing/22275584#22275584) was in the [first comment](https://stackoverflow.com/questions/76075301/making-a-fade-transition-using-jpanels?noredirect=1#comment134167530_76075301) :&gt; but anyways @HovercraftFullOfEels do you have any idea what in my part I can do of this specific question to get my question ban lifted because as I learned more, I don&#39;t feel like I face this problem. however deleting it is not gonna cut it for me. Would really appreciate your advice.","body":"Yes thank you, really appreciate it btw <a href=\"https://stackoverflow.com/questions/22275435/cardlayout-showing-two-panels-flashing/22275584#22275584\">your answer</a> was in the <a href=\"https://stackoverflow.com/questions/76075301/making-a-fade-transition-using-jpanels?noredirect=1#comment134167530_76075301\">first comment</a> :&gt; but anyways @HovercraftFullOfEels do you have any idea what in my part I can do of this specific question to get my question ban lifted because as I learned more, I don&#39;t feel like I face this problem. however deleting it is not gonna cut it for me. Would really appreciate your advice."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694885504,"post_id":76075301,"comment_id":135951461,"body_markdown":"Never delete any questions to get out of a Q-ban as that may be even worse than not deleting one. The algorithm used is not known to us mortals, and I don&#39;t even think that the moderators know the algorithm. I do know that from what I&#39;ve read in meta, that it looks to be outdated, that reception to old questions may count the same as to new questions, which doesn&#39;t seem right to me. I suggest continuing to make positive contributions to the site in tangible ways (comments don&#39;t count), and when you&#39;re allowed to ask another question, make it one for the ages.","body":"Never delete any questions to get out of a Q-ban as that may be even worse than not deleting one. The algorithm used is not known to us mortals, and I don&#39;t even think that the moderators know the algorithm. I do know that from what I&#39;ve read in meta, that it looks to be outdated, that reception to old questions may count the same as to new questions, which doesn&#39;t seem right to me. I suggest continuing to make positive contributions to the site in tangible ways (comments don&#39;t count), and when you&#39;re allowed to ask another question, make it one for the ages."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694954662,"post_id":76075301,"comment_id":135956621,"body_markdown":"@HovercraftFullOfEels I&#39;ve made quite a few positive contributions ;) few [edits](https://stackoverflow.com/users/21252090/grinding-for-reputation?tab=activity&amp;sort=revisions&amp;page=2), few [answers](https://stackoverflow.com/users/21252090/grinding-for-reputation?tab=answers) and some [comments](https://stackoverflow.com/users/21252090/grinding-for-reputation?tab=activity&amp;sort=comments) that have helped!","body":"@HovercraftFullOfEels I&#39;ve made quite a few positive contributions ;) few <a href=\"https://stackoverflow.com/users/21252090/grinding-for-reputation?tab=activity&amp;sort=revisions&amp;page=2\">edits</a>, few <a href=\"https://stackoverflow.com/users/21252090/grinding-for-reputation?tab=answers\">answers</a> and some <a href=\"https://stackoverflow.com/users/21252090/grinding-for-reputation?tab=activity&amp;sort=comments\">comments</a> that have helped!"}],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694868254,"creation_date":1682096505,"question_id":76075301,"body_markdown":"Is there any way to make a fade animation between two JPanels? I am trying to transition the loading screen into the main menu of the game, this occurs when the loading is fully complete. But for some reason it stays black (the color of first JPanel) Here is the code I have  come up with -&gt;\r\n\r\n```\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class DisplayWindow implements Runnable{\r\n\t\r\n    public JFrame frame = new JFrame();\r\n    public Thread loop = new Thread(this);\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(()-&gt;new DisplayWindow());\r\n    }\r\n    \r\n    JPanel panel1 = new JPanel();\r\n    JPanel panel2 = new JPanel();\r\n\tprivate int transparency = 255;\r\n\r\n    public DisplayWindow() {\r\n        frame.setResizable(false);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(panel2);\r\n        frame.add(panel1); //Overlays panel2\r\n        frame.pack();\r\n        frame.setSize(800,500);\r\n        frame.setVisible(true);\r\n        loop.start();\r\n    }\r\n    @Override\r\n    public void run() {\r\n        while(loop != null) {\r\n        \tpanel1.repaint();\r\n        \tpanel2.repaint();\r\n        \tpanel1.setBackground(new Color(0, 0, 0, transparency));\r\n        \t\r\n        \tif(transparency &gt; 0) transparency--; //decrements transparency each time the loop is run\r\n        \t\r\n        \ttry {Thread.sleep(16);} \r\n            catch (InterruptedException e) {e.printStackTrace();}\r\n        }\r\n    }\r\n}\r\n```","title":"Making a fade transition using JPanels","body":"<p>Is there any way to make a fade animation between two JPanels? I am trying to transition the loading screen into the main menu of the game, this occurs when the loading is fully complete. But for some reason it stays black (the color of first JPanel) Here is the code I have  come up with -&gt;</p>\n<pre><code>import java.awt.Color;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class DisplayWindow implements Runnable{\n    \n    public JFrame frame = new JFrame();\n    public Thread loop = new Thread(this);\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(()-&gt;new DisplayWindow());\n    }\n    \n    JPanel panel1 = new JPanel();\n    JPanel panel2 = new JPanel();\n    private int transparency = 255;\n\n    public DisplayWindow() {\n        frame.setResizable(false);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(panel2);\n        frame.add(panel1); //Overlays panel2\n        frame.pack();\n        frame.setSize(800,500);\n        frame.setVisible(true);\n        loop.start();\n    }\n    @Override\n    public void run() {\n        while(loop != null) {\n            panel1.repaint();\n            panel2.repaint();\n            panel1.setBackground(new Color(0, 0, 0, transparency));\n            \n            if(transparency &gt; 0) transparency--; //decrements transparency each time the loop is run\n            \n            try {Thread.sleep(16);} \n            catch (InterruptedException e) {e.printStackTrace();}\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","google-play","crash-reports"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1694875092,"post_id":77117824,"comment_id":135950294,"body_markdown":"If the error is caused by en Exception/Throwable catch it and crate a new RuntimeException with the field details as message and the original exception attached.","body":"If the error is caused by en Exception/Throwable catch it and crate a new RuntimeException with the field details as message and the original exception attached."},{"owner":{"account_id":25202,"reputation":2920,"user_id":64635,"accept_rate":100,"display_name":"chesterbr"},"score":0,"creation_date":1694969504,"post_id":77117824,"comment_id":135958260,"body_markdown":"Oh, indeed, wrapping the exception and using the message, that&#39;s a great idea! (and like all the great ones, obvious in hindsight). Please feel free to write as a response, I&#39;ll be happy to choose it as correct, Robert. Thank you!","body":"Oh, indeed, wrapping the exception and using the message, that&#39;s a great idea! (and like all the great ones, obvious in hindsight). Please feel free to write as a response, I&#39;ll be happy to choose it as correct, Robert. Thank you!"}],"owner":{"account_id":25202,"reputation":2920,"user_id":64635,"accept_rate":100,"display_name":"chesterbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694868123,"creation_date":1694868123,"question_id":77117824,"body_markdown":"I am trying to debug an error reported on &quot;Crashes and ANRs&quot; on the Play Store, which I suspect is triggered by specific user input in a field (which I am allowed to collect per my app&#39;s privacy policy).\r\n\r\nI wonder if I could somehow include that field&#39;s content in my reports, so I could figure out what sort of input is causing the (quite rare, but annoying) crashes. Tried to search the documentation and beyond, but could not find such a possibility.\r\n\r\nI&#39;ve done that easily in the past with services like Sentry, but this being a free/open-source app (which I maintain with limited time and resources), I&#39;d wish to keep using Play Store. Is that possible? If not, any suggestions? Thank you!","title":"How to add custom information to a Play Store crash report?","body":"<p>I am trying to debug an error reported on &quot;Crashes and ANRs&quot; on the Play Store, which I suspect is triggered by specific user input in a field (which I am allowed to collect per my app's privacy policy).</p>\n<p>I wonder if I could somehow include that field's content in my reports, so I could figure out what sort of input is causing the (quite rare, but annoying) crashes. Tried to search the documentation and beyond, but could not find such a possibility.</p>\n<p>I've done that easily in the past with services like Sentry, but this being a free/open-source app (which I maintain with limited time and resources), I'd wish to keep using Play Store. Is that possible? If not, any suggestions? Thank you!</p>\n"},{"tags":["java","angular","spring","google-cloud-platform"],"comments":[{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1694685320,"post_id":77098090,"comment_id":135924870,"body_markdown":"What library are you using to authenticate the JWT on the backend?","body":"What library are you using to authenticate the JWT on the backend?"}],"answers":[{"comments":[{"owner":{"account_id":18770721,"reputation":29,"user_id":13687597,"display_name":"Roronoa Zoro"},"score":0,"creation_date":1694620972,"post_id":77098363,"comment_id":135916218,"body_markdown":"I have already logged in using acces token of google but it doesn&#39;t have authoroties claim how can I add them","body":"I have already logged in using acces token of google but it doesn&#39;t have authoroties claim how can I add them"},{"owner":{"account_id":29386274,"reputation":51,"user_id":22515654,"display_name":"Klajd Bakalli"},"score":0,"creation_date":1694697669,"post_id":77098363,"comment_id":135927598,"body_markdown":"Here are the general steps to add authorities/roles to a JWT token:\n1.Parse the Google JWT Token: First, you need to parse the JWT token you received from Google to extract the user&#39;s information, such as the user&#39;s email or unique identifier.Use libraries like jjwt\n2.Retrieve User Roles: Based on the user&#39;s email or unique identifier obtained from the Google JWT token, fetch the user&#39;s roles/authorities from your application&#39;s database or another source.\n3.Create a Custom JWT Token:Now, you can create a custom JWT token with the additional &quot;authorities&quot; claim and any other claims you need.","body":"Here are the general steps to add authorities/roles to a JWT token: 1.Parse the Google JWT Token: First, you need to parse the JWT token you received from Google to extract the user&#39;s information, such as the user&#39;s email or unique identifier.Use libraries like jjwt 2.Retrieve User Roles: Based on the user&#39;s email or unique identifier obtained from the Google JWT token, fetch the user&#39;s roles/authorities from your application&#39;s database or another source. 3.Create a Custom JWT Token:Now, you can create a custom JWT token with the additional &quot;authorities&quot; claim and any other claims you need."}],"tags":[],"owner":{"account_id":29386274,"reputation":51,"user_id":22515654,"display_name":"Klajd Bakalli"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694617973,"creation_date":1694617973,"answer_id":77098363,"question_id":77098090,"body_markdown":"Configure Spring Security to protect your endpoints based on the extracted user roles. You can use the `@PreAuthorize` annotation or configure security rules in your WebSecurityConfigurerAdapter class:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/secure-endpoint&quot;).hasRole(&quot;ROLE_USER&quot;)\r\n                    .antMatchers(&quot;/admin-endpoint&quot;).hasRole(&quot;ROLE_ADMIN&quot;)\r\n                    .anyRequest().permitAll()\r\n                    .and()\r\n                .oauth2Login()\r\n                    .and()\r\n                .csrf().disable();\r\n        }\r\n    }\r\n Above we are using `hasRole` to restrict access to specific roles. Make sure you match the role names extracted from the JWT token with the roles defined in your security configuration.","title":"Adding role to Google jwt","body":"<p>Configure Spring Security to protect your endpoints based on the extracted user roles. You can use the <code>@PreAuthorize</code> annotation or configure security rules in your WebSecurityConfigurerAdapter class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(&quot;/secure-endpoint&quot;).hasRole(&quot;ROLE_USER&quot;)\n                .antMatchers(&quot;/admin-endpoint&quot;).hasRole(&quot;ROLE_ADMIN&quot;)\n                .anyRequest().permitAll()\n                .and()\n            .oauth2Login()\n                .and()\n            .csrf().disable();\n    }\n}\n</code></pre>\n<p>Above we are using <code>hasRole</code> to restrict access to specific roles. Make sure you match the role names extracted from the JWT token with the roles defined in your security configuration.</p>\n"},{"comments":[{"owner":{"account_id":18770721,"reputation":29,"user_id":13687597,"display_name":"Roronoa Zoro"},"score":0,"creation_date":1694867836,"post_id":77103768,"comment_id":135949497,"body_markdown":"can I retrieve the roles from database and send it to angular to secure endpoints is it secure or not and how should I do that :)","body":"can I retrieve the roles from database and send it to angular to secure endpoints is it secure or not and how should I do that :)"},{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1694876817,"post_id":77103768,"comment_id":135950521,"body_markdown":"Yes to both questions. Your spring application can retrieve the users role from the database and return it at some endpoint like &quot;/user-role&quot;. Or just include it in the users session info that you load on every page. You can also have angular retrieve it as an ajax request to something like &quot;/user-info&quot;. Your controller at that endpoint can do the database lookup. Theres a lot of ways to do it since the users role is just another piece of database info like an email address. You would typically have a table dedicated to roles.","body":"Yes to both questions. Your spring application can retrieve the users role from the database and return it at some endpoint like &quot;/user-role&quot;. Or just include it in the users session info that you load on every page. You can also have angular retrieve it as an ajax request to something like &quot;/user-info&quot;. Your controller at that endpoint can do the database lookup. Theres a lot of ways to do it since the users role is just another piece of database info like an email address. You would typically have a table dedicated to roles."}],"tags":[],"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694685239,"creation_date":1694685239,"answer_id":77103768,"question_id":77098090,"body_markdown":"I wouldn&#39;t put the roles inside the JWT. When you add data that isn&#39;t immutable what will happen if a users role is changed? When will you update the JWT that doesn&#39;t live on your server? You&#39;ll have to add some updating logic and code that checks for new roles every time the user comes back. Its possible to do so using the claims MJM mentioned in his answer, but it has serious drawbacks if role changes are something of value in your application. See this for a debate on the subject -&gt; https://stackoverflow.com/questions/47224931/is-setting-roles-in-jwt-a-best-practice\r\n\r\n**A more robust design (IMO)**\r\n\r\nThe JWT is saving you round trips to the DB by not using cookie lookups but that doesn&#39;t mean put everything into it. Put the mutable data, like roles, in the DB and use the userId from the JWT to lookup the roles. If you&#39;re willing to learn a very standardized and popular framework then I suggest Spring Security. It comes with a lot of security tools like &quot;Remember me&quot; and lots of tutorials and videos online. It has support for JWT integration and roles. You can mark your controllers with what roles are allowed to access them and behind the scenes it will handle the authorization / error redirection for you....If you decide to still put roles in the JWT then just search your SDK for &quot;claims&quot; to add custom properties to your jwt then use the Spring Security JWT integration so you can protect your controllers like in the example below.\r\n\r\n**Spring Security Example**\r\n\r\n    @Controller\r\n    @Secured(&quot;ROLE_SAMURAI&quot;)\r\n    class AdminController \r\n\r\n**Reference Material**\r\n\r\nThis site is a good start. They have many other Spring Security tutorials -&gt; https://www.baeldung.com/spring-security-oauth-jwt","title":"Adding role to Google jwt","body":"<p>I wouldn't put the roles inside the JWT. When you add data that isn't immutable what will happen if a users role is changed? When will you update the JWT that doesn't live on your server? You'll have to add some updating logic and code that checks for new roles every time the user comes back. Its possible to do so using the claims MJM mentioned in his answer, but it has serious drawbacks if role changes are something of value in your application. See this for a debate on the subject -&gt; <a href=\"https://stackoverflow.com/questions/47224931/is-setting-roles-in-jwt-a-best-practice\">Is setting Roles in JWT a best practice?</a></p>\n<p><strong>A more robust design (IMO)</strong></p>\n<p>The JWT is saving you round trips to the DB by not using cookie lookups but that doesn't mean put everything into it. Put the mutable data, like roles, in the DB and use the userId from the JWT to lookup the roles. If you're willing to learn a very standardized and popular framework then I suggest Spring Security. It comes with a lot of security tools like &quot;Remember me&quot; and lots of tutorials and videos online. It has support for JWT integration and roles. You can mark your controllers with what roles are allowed to access them and behind the scenes it will handle the authorization / error redirection for you....If you decide to still put roles in the JWT then just search your SDK for &quot;claims&quot; to add custom properties to your jwt then use the Spring Security JWT integration so you can protect your controllers like in the example below.</p>\n<p><strong>Spring Security Example</strong></p>\n<pre><code>@Controller\n@Secured(&quot;ROLE_SAMURAI&quot;)\nclass AdminController \n</code></pre>\n<p><strong>Reference Material</strong></p>\n<p>This site is a good start. They have many other Spring Security tutorials -&gt; <a href=\"https://www.baeldung.com/spring-security-oauth-jwt\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-oauth-jwt</a></p>\n"}],"owner":{"account_id":18770721,"reputation":29,"user_id":13687597,"display_name":"Roronoa Zoro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1694708102,"answer_count":2,"score":1,"last_activity_date":1694867741,"creation_date":1694615714,"question_id":77098090,"body_markdown":"I managed to authenticate users in spring with jwt from angular Google login I used public key to verify the token retrieved from angular but I want to get roles from jwt to limit access to some endpoints in spring controller because Google token doesn&#39;t provide away to add attributes like roles how can I make this work.i am trying to add manually scopes like read write basically but it seems i&#39;m going to add more work I had an idea wich is to get roles from database but I don&#39;t know if it&#39;s secure because if someone can intercept the between the server backend and angular he can modify the response and add the role he wanted \r\n\r\n-----------------------------------------------------------------------\r\n\r\n    package com.example.ressource_server.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception{\r\n            httpSecurity.oauth2ResourceServer( r-&gt; r.jwt(jwtConfigurer -&gt; jwtConfigurer.jwkSetUri(&quot;https://www.googleapis.com/oauth2/v3/certs&quot;)));\r\n            httpSecurity.authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated());\r\n            return httpSecurity.build();\r\n        }\r\n    }\r\n\r\n","title":"Adding role to Google jwt","body":"<p>I managed to authenticate users in spring with jwt from angular Google login I used public key to verify the token retrieved from angular but I want to get roles from jwt to limit access to some endpoints in spring controller because Google token doesn't provide away to add attributes like roles how can I make this work.i am trying to add manually scopes like read write basically but it seems i'm going to add more work I had an idea wich is to get roles from database but I don't know if it's secure because if someone can intercept the between the server backend and angular he can modify the response and add the role he wanted</p>\n<hr />\n<pre><code>package com.example.ressource_server.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception{\n        httpSecurity.oauth2ResourceServer( r-&gt; r.jwt(jwtConfigurer -&gt; jwtConfigurer.jwkSetUri(&quot;https://www.googleapis.com/oauth2/v3/certs&quot;)));\n        httpSecurity.authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated());\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","progress-bar"],"comments":[{"owner":{"account_id":82638,"reputation":1773,"user_id":232196,"accept_rate":94,"display_name":"Dan"},"score":1,"creation_date":1360257127,"post_id":14756801,"comment_id":20653610,"body_markdown":"how does it not work, exactly?","body":"how does it not work, exactly?"},{"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"score":1,"creation_date":1360257381,"post_id":14756801,"comment_id":20653756,"body_markdown":"Where do you call `setProgress()`?","body":"Where do you call <code>setProgress()</code>?"},{"owner":{"account_id":1163342,"reputation":35,"user_id":1142407,"display_name":"bball"},"score":0,"creation_date":1360270897,"post_id":14756801,"comment_id":20660431,"body_markdown":"The progress bar does not pop up","body":"The progress bar does not pop up"}],"answers":[{"tags":[],"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1360257126,"creation_date":1360257126,"answer_id":14756938,"question_id":14756801,"body_markdown":"This comes from the Oracle javadoc for ProgressMonitor:\r\n\r\n&gt;  Initially, there is no ProgressDialog. After the first\r\n&gt; millisToDecideToPopup milliseconds (default 500) the progress monitor\r\n&gt; will predict how long the operation will take. If it is longer than\r\n&gt; millisToPopup (default 2000, 2 seconds) a ProgressDialog will be\r\n&gt; popped up.\r\n\r\nNote that it doesn&#39;t pop up until at least 1/2 second after you create it. Even then, it only pops up if the process is expected to take over 2 seconds. \r\n\r\nThis is all based on your repeated calls to `setProgress(int)` and the time between the progression of values across the range you gave it.\r\n\r\nI suspect the conditions that cause the dialog to pop up are not being met. Or, perhaps, your program exits before that amount of time goes by.","title":"JProgressBar Dialog","body":"<p>This comes from the Oracle javadoc for ProgressMonitor:</p>\n\n<blockquote>\n  <p>Initially, there is no ProgressDialog. After the first\n  millisToDecideToPopup milliseconds (default 500) the progress monitor\n  will predict how long the operation will take. If it is longer than\n  millisToPopup (default 2000, 2 seconds) a ProgressDialog will be\n  popped up.</p>\n</blockquote>\n\n<p>Note that it doesn't pop up until at least 1/2 second after you create it. Even then, it only pops up if the process is expected to take over 2 seconds. </p>\n\n<p>This is all based on your repeated calls to <code>setProgress(int)</code> and the time between the progression of values across the range you gave it.</p>\n\n<p>I suspect the conditions that cause the dialog to pop up are not being met. Or, perhaps, your program exits before that amount of time goes by.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360259001,"creation_date":1360258249,"answer_id":14757291,"question_id":14756801,"body_markdown":"You need to define attribute\r\n\r\n    ProgressMonitor pm;\r\n\r\nthen should create total progress size\r\n\r\n    int totalProgress = Feature.values().size();\r\n\r\n\r\nthen in the loop just increment count\r\n\r\n    int counter = 0;\r\n    for(Feature f : Feature.values())\r\n    {\r\n      if (pm.isCanceled()) {\r\n        pm.close();\r\n        return null;\r\n      }\r\n      pm.setProgress(counter);\r\n      pm.setNote(&quot;Task is &quot; + counter*100/totalProgress + &quot;% completed&quot;);\r\n      counter++;\r\n\r\ncall the progress monitor\r\n\r\n    pm = new ProgressMonitor(display, &quot;Testing...&quot;, &quot;&quot;, 0, totalProgress);\r\n\r\nassumed that the most part of the job is done in the loop, if the other part such as project creation takes time then you could add additional percent counts to `totalProgress` or reset monitor after features completed.  ","title":"JProgressBar Dialog","body":"<p>You need to define attribute</p>\n\n<pre><code>ProgressMonitor pm;\n</code></pre>\n\n<p>then should create total progress size</p>\n\n<pre><code>int totalProgress = Feature.values().size();\n</code></pre>\n\n<p>then in the loop just increment count</p>\n\n<pre><code>int counter = 0;\nfor(Feature f : Feature.values())\n{\n  if (pm.isCanceled()) {\n    pm.close();\n    return null;\n  }\n  pm.setProgress(counter);\n  pm.setNote(\"Task is \" + counter*100/totalProgress + \"% completed\");\n  counter++;\n</code></pre>\n\n<p>call the progress monitor</p>\n\n<pre><code>pm = new ProgressMonitor(display, \"Testing...\", \"\", 0, totalProgress);\n</code></pre>\n\n<p>assumed that the most part of the job is done in the loop, if the other part such as project creation takes time then you could add additional percent counts to <code>totalProgress</code> or reset monitor after features completed.  </p>\n"},{"tags":[],"owner":{"account_id":939255,"reputation":8775,"user_id":967638,"accept_rate":98,"display_name":"Amarnath"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360258336,"creation_date":1360258336,"answer_id":14757308,"question_id":14756801,"body_markdown":"I was not sure about your [SSCCE][1] so I am just posting how `JProgressBar` usually works.\r\n\r\nRead about [SwingWorker][2] and [JProgressBar][3]\r\n\r\nDuring background process show progress bar. A simple example of how it works is shown.\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JProgressBar;\r\n    import javax.swing.SwingWorker;\r\n    \r\n    public class MyProgressBarTest {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private static JProgressBar progressBar;\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n            @Override\r\n            public void run() {\r\n                MyProgressBarTest obj = new MyProgressBarTest();\r\n                obj.createGUI();\r\n            }\r\n        });\r\n        }\r\n    \r\n        public void createGUI() {\r\n            final JFrame frame = new JFrame();\r\n    \r\n            JPanel panel = new JPanel();\r\n            final JButton button = new JButton(&quot;Progress&quot;);\r\n    \r\n            progressBar = new JProgressBar();\r\n    \r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent arg0) {\r\n    \r\n                    MyCustomProgressBarDialog progressBarObj = new MyCustomProgressBarDialog(progressBar, frame);\r\n                    progressBarObj.createProgressUI();\r\n    \r\n                    MyActionPerformer actionObj = new MyActionPerformer(progressBar, progressBarObj, button);\r\n                    actionObj.execute();\r\n    \r\n                }\r\n            });\r\n    \r\n            panel.add(button);\r\n            frame.add(panel);\r\n    \r\n            frame.setTitle(&quot;JProgressBar Example&quot;);\r\n            frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setSize(200, 300);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n    \r\n    class MyActionPerformer extends SwingWorker&lt;String, Object&gt; {\r\n    \r\n        JProgressBar fProgressBar;\r\n        MyCustomProgressBarDialog progressDialog;\r\n        JButton button;\r\n    \r\n        public MyActionPerformer(JProgressBar progressBar, MyCustomProgressBarDialog progressDialog, JButton button) {\r\n            this.fProgressBar = progressBar;\r\n            this.fProgressBar.setVisible(true);\r\n            this.fProgressBar.setIndeterminate(true);\r\n            this.button = button;\r\n            this.progressDialog = progressDialog;\r\n    \r\n            this.button.setEnabled(false);\r\n        }\r\n    \r\n        protected String doInBackground() throws Exception {\r\n    \r\n            calculateResult();\r\n            return &quot;Finished&quot;;\r\n        }\r\n    \r\n        protected void done() {\r\n            fProgressBar.setVisible(false);\r\n            this.progressDialog.setVisible(false);\r\n            this.button.setEnabled(true);\r\n        }\r\n    \r\n        public void calculateResult() {\r\n            for (int i = 0; i &lt; 500000; i++) {\r\n                System.out.println(&quot;Progress Bar: &quot; + i);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class MyCustomProgressBarDialog extends JDialog {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private static JProgressBar progressBar;\r\n        private JFrame motherFrame;\r\n        private JLabel label = new JLabel(&quot;loading.. &quot;);\r\n        private JButton button;\r\n    \r\n        public MyCustomProgressBarDialog(JProgressBar progressBar, JFrame frame) {\r\n    \r\n            this.progressBar = progressBar;\r\n            this.motherFrame = frame;\r\n            this.button = button;\r\n        }\r\n    \r\n        public void createProgressUI() {\r\n            add(label, BorderLayout.NORTH);\r\n            add(progressBar, BorderLayout.CENTER);\r\n            setSize(50, 40);\r\n            setAlwaysOnTop(true);\r\n            setLocationRelativeTo(motherFrame);\r\n            setUndecorated(true);\r\n            setVisible(true);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://sscce.org\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JProgressBar.html","title":"JProgressBar Dialog","body":"<p>I was not sure about your <a href=\"http://sscce.org\" rel=\"nofollow\">SSCCE</a> so I am just posting how <code>JProgressBar</code> usually works.</p>\n\n<p>Read about <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html\" rel=\"nofollow\">SwingWorker</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JProgressBar.html\" rel=\"nofollow\">JProgressBar</a></p>\n\n<p>During background process show progress bar. A simple example of how it works is shown.</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JProgressBar;\nimport javax.swing.SwingWorker;\n\npublic class MyProgressBarTest {\n    private static final long serialVersionUID = 1L;\n\n    private static JProgressBar progressBar;\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n        @Override\n        public void run() {\n            MyProgressBarTest obj = new MyProgressBarTest();\n            obj.createGUI();\n        }\n    });\n    }\n\n    public void createGUI() {\n        final JFrame frame = new JFrame();\n\n        JPanel panel = new JPanel();\n        final JButton button = new JButton(\"Progress\");\n\n        progressBar = new JProgressBar();\n\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n\n                MyCustomProgressBarDialog progressBarObj = new MyCustomProgressBarDialog(progressBar, frame);\n                progressBarObj.createProgressUI();\n\n                MyActionPerformer actionObj = new MyActionPerformer(progressBar, progressBarObj, button);\n                actionObj.execute();\n\n            }\n        });\n\n        panel.add(button);\n        frame.add(panel);\n\n        frame.setTitle(\"JProgressBar Example\");\n        frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n        frame.setLocationRelativeTo(null);\n        frame.setSize(200, 300);\n        frame.setVisible(true);\n    }\n}\n\nclass MyActionPerformer extends SwingWorker&lt;String, Object&gt; {\n\n    JProgressBar fProgressBar;\n    MyCustomProgressBarDialog progressDialog;\n    JButton button;\n\n    public MyActionPerformer(JProgressBar progressBar, MyCustomProgressBarDialog progressDialog, JButton button) {\n        this.fProgressBar = progressBar;\n        this.fProgressBar.setVisible(true);\n        this.fProgressBar.setIndeterminate(true);\n        this.button = button;\n        this.progressDialog = progressDialog;\n\n        this.button.setEnabled(false);\n    }\n\n    protected String doInBackground() throws Exception {\n\n        calculateResult();\n        return \"Finished\";\n    }\n\n    protected void done() {\n        fProgressBar.setVisible(false);\n        this.progressDialog.setVisible(false);\n        this.button.setEnabled(true);\n    }\n\n    public void calculateResult() {\n        for (int i = 0; i &lt; 500000; i++) {\n            System.out.println(\"Progress Bar: \" + i);\n        }\n    }\n}\n\nclass MyCustomProgressBarDialog extends JDialog {\n    private static final long serialVersionUID = 1L;\n\n    private static JProgressBar progressBar;\n    private JFrame motherFrame;\n    private JLabel label = new JLabel(\"loading.. \");\n    private JButton button;\n\n    public MyCustomProgressBarDialog(JProgressBar progressBar, JFrame frame) {\n\n        this.progressBar = progressBar;\n        this.motherFrame = frame;\n        this.button = button;\n    }\n\n    public void createProgressUI() {\n        add(label, BorderLayout.NORTH);\n        add(progressBar, BorderLayout.CENTER);\n        setSize(50, 40);\n        setAlwaysOnTop(true);\n        setLocationRelativeTo(motherFrame);\n        setUndecorated(true);\n        setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1163342,"reputation":35,"user_id":1142407,"display_name":"bball"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14756938,"answer_count":3,"score":0,"last_activity_date":1694867492,"creation_date":1360256716,"question_id":14756801,"body_markdown":"I&#39;m trying to create a pop up dialog progress bar preferably an Indeterminate but that&#39;s not too important.  I have been looking through &quot;Oracle&#39;s ProgressBar Tutorials&quot; and Google searching but not such luck in getting it to work.  I&#39;m pasted my code below of my Action Listener and the dialog will not pop up. Any suggestions?\r\n\r\n\r\nSorry this is my first post on this site. But how it works is that When I press the create button, it goes out and grab some information from different servers and directories and creates a file for me. That is what the new Project is. Features is a Enumeration I made that are set with the text in the `JTextBox` when the Create Button. The problem is that this process takes time to process, so I want the a progress bar to show that its processing\r\n\r\n\r\n\tprivate class CreateButton implements ActionListener\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent arg0) {\t\r\n\t\t\tclass Task extends SwingWorker&lt;Void, Void&gt;\r\n\t\t\t{\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected Void doInBackground()\r\n\t\t\t\t{\t\t\t\t\t\r\n\t\t\t\t\t//Set Variables\r\n\t\t\t\t\tfor(Feature f : Feature.values())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(f.getComp() != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tf.getVariable().setVariable(((JTextField) f.getComp()).getText());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnew Project(jobs.getSelectedValue().split(&quot;-&quot;)[0].trim(), \r\n\t\t\t\t\t\t\t\tjobs.getSelectedValue().split(&quot;-&quot;)[1].trim(),\r\n\t\t\t\t\t\t\t\tfeatures);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tProgressMonitor pm = new ProgressMonitor(display, &quot;Testing...&quot;, &quot;&quot;, 0, 100);\r\n\t\t\tpm.setProgress(0);\r\n\t\t\tTask task = new Task();\r\n\t\t\ttask.execute();\r\n\t\t}\r\n\t\t\r\n\t}\t","title":"JProgressBar Dialog","body":"<p>I'm trying to create a pop up dialog progress bar preferably an Indeterminate but that's not too important.  I have been looking through &quot;Oracle's ProgressBar Tutorials&quot; and Google searching but not such luck in getting it to work.  I'm pasted my code below of my Action Listener and the dialog will not pop up. Any suggestions?</p>\n<p>Sorry this is my first post on this site. But how it works is that When I press the create button, it goes out and grab some information from different servers and directories and creates a file for me. That is what the new Project is. Features is a Enumeration I made that are set with the text in the <code>JTextBox</code> when the Create Button. The problem is that this process takes time to process, so I want the a progress bar to show that its processing</p>\n<pre><code>private class CreateButton implements ActionListener\n{\n    @Override\n    public void actionPerformed(ActionEvent arg0) { \n        class Task extends SwingWorker&lt;Void, Void&gt;\n        {\n            @Override\n            protected Void doInBackground()\n            {                   \n                //Set Variables\n                for(Feature f : Feature.values())\n                {\n                    if(f.getComp() != null)\n                    {\n                        f.getVariable().setVariable(((JTextField) f.getComp()).getText());\n                    }\n                }\n\n                new Project(jobs.getSelectedValue().split(&quot;-&quot;)[0].trim(), \n                            jobs.getSelectedValue().split(&quot;-&quot;)[1].trim(),\n                            features);\n                return null;\n            }\n        }\n        \n        ProgressMonitor pm = new ProgressMonitor(display, &quot;Testing...&quot;, &quot;&quot;, 0, 100);\n        pm.setProgress(0);\n        Task task = new Task();\n        task.execute();\n    }\n    \n}   \n</code></pre>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1694643594,"post_id":77100722,"comment_id":135920009,"body_markdown":"Do you have +SETID on both the queue manage (qmgr) and the queue?  What version of MQ are your jar files from?","body":"Do you have +SETID on both the queue manage (qmgr) and the queue?  What version of MQ are your jar files from?"},{"owner":{"account_id":26884495,"reputation":13,"user_id":20464312,"display_name":"Mitu"},"score":0,"creation_date":1694644817,"post_id":77100722,"comment_id":135920130,"body_markdown":"Hi @JoshMc, I&#39;m not sure of about the +SETID config. I&#39;m using 9.0.5.0 version of MQ. Thank you.","body":"Hi @JoshMc, I&#39;m not sure of about the +SETID config. I&#39;m using 9.0.5.0 version of MQ. Thank you."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1694649231,"post_id":77100722,"comment_id":135920568,"body_markdown":"MQRC 2095 is MQRC_NOT_OPEN_FOR_SET_ALL which suggests that adding MQPMO_SET_IDENTITY_CONTEXT to your putOptions is being treated as if you added MQPMO_SET_ALL_CONTEXT. As a quick experiment, could you try doing the same again, but also change the openOptions to use MQOO_SET_ALL_CONTEXT. If that works, I would suggest contacting IBM by opening a case.","body":"MQRC 2095 is MQRC_NOT_OPEN_FOR_SET_ALL which suggests that adding MQPMO_SET_IDENTITY_CONTEXT to your putOptions is being treated as if you added MQPMO_SET_ALL_CONTEXT. As a quick experiment, could you try doing the same again, but also change the openOptions to use MQOO_SET_ALL_CONTEXT. If that works, I would suggest contacting IBM by opening a case."},{"owner":{"account_id":26884495,"reputation":13,"user_id":20464312,"display_name":"Mitu"},"score":0,"creation_date":1695285635,"post_id":77100722,"comment_id":136004874,"body_markdown":"Thank you Morag for your inputs! it did help me!","body":"Thank you Morag for your inputs! it did help me!"},{"owner":{"account_id":26884495,"reputation":13,"user_id":20464312,"display_name":"Mitu"},"score":0,"creation_date":1695666178,"post_id":77100722,"comment_id":136052176,"body_markdown":"Hi @Morag, any thoughts on my comment below regarding extra white spaces please? Thank you.","body":"Hi @Morag, any thoughts on my comment below regarding extra white spaces please? Thank you."}],"answers":[{"comments":[{"owner":{"account_id":26884495,"reputation":13,"user_id":20464312,"display_name":"Mitu"},"score":0,"creation_date":1695581824,"post_id":77117784,"comment_id":136040286,"body_markdown":"Hi @Attila, there is another issue...do we know why extra spaces are getting padded at the end of thre ApplicationIdData at the receiver end?i.e. the receiver gets the ApplicationIdData as &quot;TestId        &quot;. Is there something I (i.e. the client) can do to remove these? Thank you.","body":"Hi @Attila, there is another issue...do we know why extra spaces are getting padded at the end of thre ApplicationIdData at the receiver end?i.e. the receiver gets the ApplicationIdData as &quot;TestId        &quot;. Is there something I (i.e. the client) can do to remove these? Thank you."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1695670241,"post_id":77117784,"comment_id":136052875,"body_markdown":"@Mitu - ApplicationIdData is an MQCHAR32 type, so you would expect the receiver to get all 32 characters. If you don&#39;t want it to be blank padded, you should ensure that the string you place in the field is null terminated.","body":"@Mitu - ApplicationIdData is an MQCHAR32 type, so you would expect the receiver to get all 32 characters. If you don&#39;t want it to be blank padded, you should ensure that the string you place in the field is null terminated."},{"owner":{"account_id":26884495,"reputation":13,"user_id":20464312,"display_name":"Mitu"},"score":0,"creation_date":1695676457,"post_id":77117784,"comment_id":136053774,"body_markdown":"Thank you @Morag for the response. Even if I hardcode (16 characters) and place it in the field, the receiver is still getting 32 chars with 16 blank spaces padded.","body":"Thank you @Morag for the response. Even if I hardcode (16 characters) and place it in the field, the receiver is still getting 32 chars with 16 blank spaces padded."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":1,"creation_date":1695682377,"post_id":77117784,"comment_id":136054343,"body_markdown":"@Mitu. I have just tested this out for myself and it does appear that the queue manager will always blank pad this field. So then I checked the IBM Docs (https://www.ibm.com/docs/en/ibm-mq/9.3?topic=descriptor-applidentitydata-mqchar32-mqmd) and it says &quot;If a null character is present, the null and any following characters are converted to blanks by the queue manager.&quot; So you must alter the receiving application to handle blank padded instead of null padded data.","body":"@Mitu. I have just tested this out for myself and it does appear that the queue manager will always blank pad this field. So then I checked the IBM Docs (<a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=descriptor-applidentitydata-mqchar32-mqmd\" rel=\"nofollow noreferrer\">ibm.com/docs/en/ibm-mq/&hellip;</a>) and it says &quot;If a null character is present, the null and any following characters are converted to blanks by the queue manager.&quot; So you must alter the receiving application to handle blank padded instead of null padded data."},{"owner":{"account_id":26884495,"reputation":13,"user_id":20464312,"display_name":"Mitu"},"score":0,"creation_date":1695688590,"post_id":77117784,"comment_id":136054907,"body_markdown":"Understood. Thank you @Morag! Appreciate your response!","body":"Understood. Thank you @Morag! Appreciate your response!"}],"tags":[],"owner":{"account_id":5230400,"reputation":1818,"user_id":4180950,"display_name":"Attila Repasi"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694867197,"creation_date":1694867197,"answer_id":77117784,"question_id":77100722,"body_markdown":"To be able to use the MQPMO_SET_IDENTITY_CONTEXT put message option you also need to open the queue with the open option MQOO_SET_IDENTIY_CONTEXT:\r\n\r\n&quot;For the MQPUT call, the queue must have been opened with the MQOO_SET_IDENTITY_CONTEXT option&quot; from\r\nhttps://www.ibm.com/docs/en/ibm-mq/7.5?topic=f-options-mqlong-11\r\n\r\nAnd of course the userid you are using to send this message will need the setid authority on the queue.","title":"Issue with context data","body":"<p>To be able to use the MQPMO_SET_IDENTITY_CONTEXT put message option you also need to open the queue with the open option MQOO_SET_IDENTIY_CONTEXT:</p>\n<p>&quot;For the MQPUT call, the queue must have been opened with the MQOO_SET_IDENTITY_CONTEXT option&quot; from\n<a href=\"https://www.ibm.com/docs/en/ibm-mq/7.5?topic=f-options-mqlong-11\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/7.5?topic=f-options-mqlong-11</a></p>\n<p>And of course the userid you are using to send this message will need the setid authority on the queue.</p>\n"}],"owner":{"account_id":26884495,"reputation":13,"user_id":20464312,"display_name":"Mitu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77117784,"answer_count":1,"score":0,"last_activity_date":1694867197,"creation_date":1694642194,"question_id":77100722,"body_markdown":"I&#39;m trying to set the ApplicationIdData while sending message to a queue, using IBM MQ in java.\r\n\r\nWhen I run the below code, the message is getting published to the queue as expected, but the ApplicationData received at the other receiver end is blank/empty.\r\n\r\n    int openOptions =  MQConstants.MQOO_SET_IDENTITY_CONTEXT | MQConstants.MQOO_OUTPUT | MQConstants.MQOO_INPUT_AS_Q_DEF | MQConstants.MQOO_INQUIRE;\r\n    queue = mqManager.accessQueue(queueName, openOptions);\r\n    int putOptions =  MQConstants.MQPMO_ASYNC_RESPONSE;;\r\n    MQPutMessageOptions pmo = new MQPutMessageOptions();\r\n    pmo.options = putOptions;\r\n    \r\n    MQMessage msg = new MQMessage();\r\n    msg.applicationIdData = &quot;TestId&quot;;\r\n    msg.writeString(qmessage);\r\n    \r\n    queue.put(msg, pmo);\r\n\r\n\r\nI believe ApplicationIdData belongs to the Identity Context group. So, I tried using MQPMO_SET_IDENTITY_CONTEXT in the putOptions, but I keep gettin an error: &quot;MQException: Reason 2095&quot; and message does not even get published to the queue.\r\nAny thoughts/suggestions please?\r\n\r\nThank you!","title":"Issue with context data","body":"<p>I'm trying to set the ApplicationIdData while sending message to a queue, using IBM MQ in java.</p>\n<p>When I run the below code, the message is getting published to the queue as expected, but the ApplicationData received at the other receiver end is blank/empty.</p>\n<pre><code>int openOptions =  MQConstants.MQOO_SET_IDENTITY_CONTEXT | MQConstants.MQOO_OUTPUT | MQConstants.MQOO_INPUT_AS_Q_DEF | MQConstants.MQOO_INQUIRE;\nqueue = mqManager.accessQueue(queueName, openOptions);\nint putOptions =  MQConstants.MQPMO_ASYNC_RESPONSE;;\nMQPutMessageOptions pmo = new MQPutMessageOptions();\npmo.options = putOptions;\n\nMQMessage msg = new MQMessage();\nmsg.applicationIdData = &quot;TestId&quot;;\nmsg.writeString(qmessage);\n\nqueue.put(msg, pmo);\n</code></pre>\n<p>I believe ApplicationIdData belongs to the Identity Context group. So, I tried using MQPMO_SET_IDENTITY_CONTEXT in the putOptions, but I keep gettin an error: &quot;MQException: Reason 2095&quot; and message does not even get published to the queue.\nAny thoughts/suggestions please?</p>\n<p>Thank you!</p>\n"},{"tags":["java","maven","pipeline","aggregation","spring-data-mongodb"],"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1694226289,"post_id":77069740,"comment_id":135867490,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option.","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option."}],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694866891,"creation_date":1694866891,"answer_id":77117770,"question_id":77069740,"body_markdown":"According to [docs](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/Aggregation.html) the annotation interface `@Aggregation` exists since version 2.2.\r\n\r\nSo it seems you can&#39;t use within `1.9.3.RELEASE` version.","title":"spring-data-mongodb dependency for @Aggregation annotation for aggregation pipeline","body":"<p>According to <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/Aggregation.html\" rel=\"nofollow noreferrer\">docs</a> the annotation interface <code>@Aggregation</code> exists since version 2.2.</p>\n<p>So it seems you can't use within <code>1.9.3.RELEASE</code> version.</p>\n"}],"owner":{"account_id":26523138,"reputation":1,"user_id":20156514,"display_name":"Sameer Makwana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694866964,"creation_date":1694205292,"question_id":77069740,"body_markdown":"\r\n```java\r\nimport org.springframework.data.mongodb.repository.Aggregation;\r\n```\r\nFollowing import is not resolved for \r\n                \r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n   &lt;version&gt;1.9.3.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nI tried \r\n                \r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n   &lt;version&gt;3.4.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nbut my production uses 1.9.3.RELEASE","title":"spring-data-mongodb dependency for @Aggregation annotation for aggregation pipeline","body":"<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.mongodb.repository.Aggregation;\n</code></pre>\n<p>Following import is not resolved for</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n   &lt;version&gt;1.9.3.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n   &lt;version&gt;3.4.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but my production uses 1.9.3.RELEASE</p>\n"},{"tags":["java","list","loops","linked-list"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1694867375,"post_id":77117758,"comment_id":135949438,"body_markdown":"why do you think it &quot;only takes the first node&quot;? It takes the whole remainder of the list, but the `next` link will (eventually) be changed in the next iteration or by the `if (list1 == null) ....` statement after the loop","body":"why do you think it &quot;only takes the first node&quot;? It takes the whole remainder of the list, but the <code>next</code> link will (eventually) be changed in the next iteration or by the <code>if (list1 == null) ....</code> statement after the loop"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1694868255,"post_id":77117758,"comment_id":135949544,"body_markdown":"try the [Java Visualizer](https://cscircles.cemc.uwaterloo.ca/java_visualize/)","body":"try the <a href=\"https://cscircles.cemc.uwaterloo.ca/java_visualize/\" rel=\"nofollow noreferrer\">Java Visualizer</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694870364,"post_id":77117758,"comment_id":135949784,"body_markdown":"Is this for [LeetCode 21](https://leetcode.com/problems/merge-two-sorted-lists/) ?","body":"Is this for <a href=\"https://leetcode.com/problems/merge-two-sorted-lists/\" rel=\"nofollow noreferrer\">LeetCode 21</a> ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694870583,"post_id":77117758,"comment_id":135949810,"body_markdown":"One approach is to copy the solution to your machine, add code for `ListNode` , and code a test driver. You could then run the program in a debugger: Set an early breakpoint, and then run the program one-step-at-a-time.","body":"One approach is to copy the solution to your machine, add code for <code>ListNode</code> , and code a test driver. You could then run the program in a debugger: Set an early breakpoint, and then run the program one-step-at-a-time."},{"owner":{"account_id":24013613,"reputation":3,"user_id":21064334,"display_name":"Mawhadmd"},"score":0,"creation_date":1694878977,"post_id":77117758,"comment_id":135950790,"body_markdown":"Thanks you so much  &quot; \nOld Dog Programmer&quot; this helped but not as much","body":"Thanks you so much  &quot;  Old Dog Programmer&quot; this helped but not as much"},{"owner":{"account_id":24013613,"reputation":3,"user_id":21064334,"display_name":"Mawhadmd"},"score":0,"creation_date":1694893501,"post_id":77117758,"comment_id":135952326,"body_markdown":"I didn&#39;t completely understand how, when doing result = result.next;, the node &#39;result&#39; (which doesn&#39;t exist at this point) was/will be moved to the dummy ListNode, since &#39;result&#39; doesn&#39;t exist now, only &#39;result.next&#39; and beyond.","body":"I didn&#39;t completely understand how, when doing result = result.next;, the node &#39;result&#39; (which doesn&#39;t exist at this point) was/will be moved to the dummy ListNode, since &#39;result&#39; doesn&#39;t exist now, only &#39;result.next&#39; and beyond."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1694931631,"post_id":77117758,"comment_id":135954709,"body_markdown":"^ That is a different question. Please focus your question on one question only, and provide a simple input example inside your question that you have tested with. Pinpoint exactly what you find during stepping through the code (with a debugger) and at which stage you have a question about it.","body":"^ That is a different question. Please focus your question on one question only, and provide a simple input example inside your question that you have tested with. Pinpoint exactly what you find during stepping through the code (with a debugger) and at which stage you have a question about it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695062422,"post_id":77117758,"comment_id":135971254,"body_markdown":"Pretend you are a computer. Your memory is paper and pen. Draw it out. Use a circle to represent a `Node`. Write the `int` value inside the circle. Represent each `next` by drawing an arrow to the node to which it points. A `null` can be represented with a circle with an `X`.  At each step, show a change by making a new drawing of `list1`, `list2`, `result`, or `dummy`, and cross off the previous version.","body":"Pretend you are a computer. Your memory is paper and pen. Draw it out. Use a circle to represent a <code>Node</code>. Write the <code>int</code> value inside the circle. Represent each <code>next</code> by drawing an arrow to the node to which it points. A <code>null</code> can be represented with a circle with an <code>X</code>.  At each step, show a change by making a new drawing of <code>list1</code>, <code>list2</code>, <code>result</code>, or <code>dummy</code>, and cross off the previous version."}],"owner":{"account_id":24013613,"reputation":3,"user_id":21064334,"display_name":"Mawhadmd"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694866771,"creation_date":1694866702,"question_id":77117758,"body_markdown":"I saw this solution of Merging Two Sorted Lists... i didn&#39;t quite understand how it works:\r\n\r\n \r\n```\r\n/**\r\n * Definition for singly-linked list.\r\n * public class ListNode {\r\n *     int val;\r\n *     ListNode next;\r\n *     ListNode() {}\r\n *     ListNode(int val) { this.val = val; }\r\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n * }\r\n */\r\nclass Solution {\r\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {\r\n        if (list1==null &amp;&amp; list2==null)\r\n        return null;\r\n       \r\n\r\n      ListNode dummy= new ListNode(-1);\r\n      ListNode result = dummy;\r\n       while (list1!=null &amp;&amp; list2!=null){\r\n          if (list1.val&lt;=list2.val){\r\n              result.next = list1;\r\n          list1=list1.next;\r\n          }\r\n         else {\r\n               result.next=list2;\r\n          list2=list2.next;         \r\n          }\r\n           result=result.next;\r\n         }\r\n            if (list1==null){\r\n                result.next = list2;\r\n                else if (list2==null){\r\n                result.next = list1;\r\n                \r\n\r\n     \r\n     return dummy.next;\r\n    }\r\n    }\r\n\r\n```\r\n\r\n\r\nWhy when assigning ``` result.next=list2;``` or ``` result.next=list1;``` in the loop, it only takes the first node from list2 and list1. But when i did the same thing outside the loop \r\n\r\n\r\n```\r\n  if (list1==null){\r\n                result.next = list2;\r\n                else if (list2==null){\r\n                result.next = list1;\r\n```\r\n\r\n\r\n  instead of assigning the first value, it assigned what left of the list. How does this work i don&#39;t understand \r\n\r\n\r\nHelp me understand what a ListNode Actually is, and how this code works.","title":"Does ListNodes behave differently inside a loop? java","body":"<p>I saw this solution of Merging Two Sorted Lists... i didn't quite understand how it works:</p>\n<pre><code>/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }\n */\nclass Solution {\n    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {\n        if (list1==null &amp;&amp; list2==null)\n        return null;\n       \n\n      ListNode dummy= new ListNode(-1);\n      ListNode result = dummy;\n       while (list1!=null &amp;&amp; list2!=null){\n          if (list1.val&lt;=list2.val){\n              result.next = list1;\n          list1=list1.next;\n          }\n         else {\n               result.next=list2;\n          list2=list2.next;         \n          }\n           result=result.next;\n         }\n            if (list1==null){\n                result.next = list2;\n                else if (list2==null){\n                result.next = list1;\n                \n\n     \n     return dummy.next;\n    }\n    }\n\n</code></pre>\n<p>Why when assigning <code> result.next=list2;</code> or <code> result.next=list1;</code> in the loop, it only takes the first node from list2 and list1. But when i did the same thing outside the loop</p>\n<pre><code>  if (list1==null){\n                result.next = list2;\n                else if (list2==null){\n                result.next = list1;\n</code></pre>\n<p>instead of assigning the first value, it assigned what left of the list. How does this work i don't understand</p>\n<p>Help me understand what a ListNode Actually is, and how this code works.</p>\n"},{"tags":["java","swing","user-interface","jbutton","jlabel"],"answers":[{"comments":[{"owner":{"account_id":788722,"reputation":4785,"user_id":856942,"accept_rate":93,"display_name":"Jeremy D"},"score":0,"creation_date":1384088123,"post_id":19889837,"comment_id":29588519,"body_markdown":"Yes, because your snippet adds only a textbox, what else are you expecting it to show?","body":"Yes, because your snippet adds only a textbox, what else are you expecting it to show?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1384088419,"post_id":19889837,"comment_id":29588582,"body_markdown":"JFrame doesn&#39;t have a paintComponent() method. You should create a JPanel, add components to this panel, and override the paintComponent() method of the panel. And add this panel to the frame. Also, always add the @Override annotation to methods that are supposed to override a method from the base class/interface.","body":"JFrame doesn&#39;t have a paintComponent() method. You should create a JPanel, add components to this panel, and override the paintComponent() method of the panel. And add this panel to the frame. Also, always add the @Override annotation to methods that are supposed to override a method from the base class/interface."},{"owner":{"account_id":788722,"reputation":4785,"user_id":856942,"accept_rate":93,"display_name":"Jeremy D"},"score":0,"creation_date":1384088507,"post_id":19889837,"comment_id":29588599,"body_markdown":"Change the coordinates of your string, it appears. You get the idea, now it is oyur job to play with it to understand how it works to fit your needs.","body":"Change the coordinates of your string, it appears. You get the idea, now it is oyur job to play with it to understand how it works to fit your needs."},{"owner":{"account_id":788722,"reputation":4785,"user_id":856942,"accept_rate":93,"display_name":"Jeremy D"},"score":0,"creation_date":1384088533,"post_id":19889837,"comment_id":29588608,"body_markdown":"@JBNizet isn&#39;t it what I did?","body":"@JBNizet isn&#39;t it what I did?"},{"owner":{"account_id":788722,"reputation":4785,"user_id":856942,"accept_rate":93,"display_name":"Jeremy D"},"score":0,"creation_date":1384088692,"post_id":19889837,"comment_id":29588652,"body_markdown":"@Bobski change the coordinates for your string to 220 400, and you will see it :)","body":"@Bobski change the coordinates for your string to 220 400, and you will see it :)"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1384088706,"post_id":19889837,"comment_id":29588655,"body_markdown":"Yes, sorry. My comment was for Bobski.","body":"Yes, sorry. My comment was for Bobski."},{"owner":{"account_id":2074371,"reputation":1198,"user_id":1848150,"accept_rate":76,"display_name":"lecardo"},"score":0,"creation_date":1384088942,"post_id":19889837,"comment_id":29588728,"body_markdown":"nope nothing. I don&#39;t think its coordinates. The fillroundrect was a massive rectangle on my screen...now it doesn&#39;t show at all.","body":"nope nothing. I don&#39;t think its coordinates. The fillroundrect was a massive rectangle on my screen...now it doesn&#39;t show at all."},{"owner":{"account_id":788722,"reputation":4785,"user_id":856942,"accept_rate":93,"display_name":"Jeremy D"},"score":0,"creation_date":1384089254,"post_id":19889837,"comment_id":29588812,"body_markdown":"I tried that on my machine and I can the blue rectangle, the text, and the textbox. https://gist.github.com/jrm2k6/7398128 (exact code i am running)","body":"I tried that on my machine and I can the blue rectangle, the text, and the textbox. <a href=\"https://gist.github.com/jrm2k6/7398128\" rel=\"nofollow noreferrer\">gist.github.com/jrm2k6/7398128</a> (exact code i am running)"}],"tags":[],"owner":{"account_id":788722,"reputation":4785,"user_id":856942,"accept_rate":93,"display_name":"Jeremy D"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1384087460,"creation_date":1384087460,"answer_id":19889837,"question_id":19889792,"body_markdown":"Do not override the method `paint()` of JFrame.\r\n\r\nOverride the method `paintComponent()` of an element.\r\n\r\nIf you subclass JPanel, you can override its `paintComponent` method:\r\n\r\n\r\n    class GridPanel extends JPanel {\r\n    \tGridPanel() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void paintComponent(Graphics g) {\r\n    \t\tsuper.paintComponent(g);\r\n    \t\tg.setColor(Color.decode(&quot;#0232ac&quot;));\r\n    \t\tg.fillRoundRect(100, 50, 300, 600, 50, 50);\r\n    \t\tg.setColor(Color.white);\r\n    \t\tg.drawString(&quot;TitleonRect&quot;, 220, 80);\r\n    \t}\r\n    }\r\n\r\n","title":"Why components doesn&#39;t show on my shape. I want to place them on a rectangle it disappears and the rectangle only shows?","body":"<p>Do not override the method <code>paint()</code> of JFrame.</p>\n\n<p>Override the method <code>paintComponent()</code> of an element.</p>\n\n<p>If you subclass JPanel, you can override its <code>paintComponent</code> method:</p>\n\n<pre><code>class GridPanel extends JPanel {\n    GridPanel() {\n        super();\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.setColor(Color.decode(\"#0232ac\"));\n        g.fillRoundRect(100, 50, 300, 600, 50, 50);\n        g.setColor(Color.white);\n        g.drawString(\"TitleonRect\", 220, 80);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384087566,"creation_date":1384087566,"answer_id":19889855,"question_id":19889792,"body_markdown":"It&#39;s all explained in [the javadoc][1]:\n\n&gt; public void paint(Graphics g)\n&gt;\n&gt; Paints the container. This forwards the paint to any lightweight components that are children of this container. If this method is reimplemented, super.paint(g) should be called so that lightweight components are properly rendered. \n\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Window.html#paint%28java.awt.Graphics%29","title":"Why components doesn&#39;t show on my shape. I want to place them on a rectangle it disappears and the rectangle only shows?","body":"<p>It's all explained in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Window.html#paint%28java.awt.Graphics%29\" rel=\"nofollow noreferrer\">the javadoc</a>:</p>\n<blockquote>\n<p>public void paint(Graphics g)</p>\n<p>Paints the container. This forwards the paint to any lightweight components that are children of this container. If this method is reimplemented, super.paint(g) should be called so that lightweight components are properly rendered.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384088227,"creation_date":1384087602,"answer_id":19889865,"question_id":19889792,"body_markdown":"You should not use `paint()` with `JFrame` because it&#39;s better to use `paintComponent()` on `JPanel` then add it to `JFrame`. \r\n\r\nIn the `paintComponent()` call `super.paintComponent()` to prepare the drawing surface to be painted.","title":"Why components doesn&#39;t show on my shape. I want to place them on a rectangle it disappears and the rectangle only shows?","body":"<p>You should not use <code>paint()</code> with <code>JFrame</code> because it's better to use <code>paintComponent()</code> on <code>JPanel</code> then add it to <code>JFrame</code>. </p>\n\n<p>In the <code>paintComponent()</code> call <code>super.paintComponent()</code> to prepare the drawing surface to be painted.</p>\n"},{"tags":[],"owner":{"account_id":1202808,"reputation":15318,"user_id":1173114,"display_name":"Sage"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384088818,"creation_date":1384087959,"answer_id":19889924,"question_id":19889792,"body_markdown":"The `paint(Graphics g)` function is the one which paint your component and it&#39;s content with invoking fowllowing three functions in the order they are appearing:\r\n\r\n  - **`protected void paintComponent(Graphics g)`**: this one paint your component, e,g.:background \r\n  - **`protected void paintBorder(Graphics g)`**: this one paints the border of the component \r\n  - **`protected void paintChildren(Graphics g)`**: This one paints the children of the component in it\r\n\r\nSo, anything you are painting by overriding the `paint(Graphics g)` function, you should call these function as well with the order they appeared above inside the `paint()` function. Calling `super.paint(g)` will work, because it is calling the container&#39;s Super class(`JComponent` class)&#39;s `paint()` function which is already invoking these three function.\r\n\r\nBut: why you are overriding this `paint()` function for just custom painting! put your custom painting code by creating a custom component extending `JComponent or JPanel` and implement `paintComponent()` function by overriding it and don&#39;t forget to call `super.paintComponent()`. If you need to have this custom component as frame&#39;s content pane: just set this pane `frame.setContentPane(customPane)`;\r\n\r\nCheck out [A Closer Look at the Paint Mechanism][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/painting/closer.html","title":"Why components doesn&#39;t show on my shape. I want to place them on a rectangle it disappears and the rectangle only shows?","body":"<p>The <code>paint(Graphics g)</code> function is the one which paint your component and it's content with invoking fowllowing three functions in the order they are appearing:</p>\n\n<ul>\n<li><strong><code>protected void paintComponent(Graphics g)</code></strong>: this one paint your component, e,g.:background </li>\n<li><strong><code>protected void paintBorder(Graphics g)</code></strong>: this one paints the border of the component </li>\n<li><strong><code>protected void paintChildren(Graphics g)</code></strong>: This one paints the children of the component in it</li>\n</ul>\n\n<p>So, anything you are painting by overriding the <code>paint(Graphics g)</code> function, you should call these function as well with the order they appeared above inside the <code>paint()</code> function. Calling <code>super.paint(g)</code> will work, because it is calling the container's Super class(<code>JComponent</code> class)'s <code>paint()</code> function which is already invoking these three function.</p>\n\n<p>But: why you are overriding this <code>paint()</code> function for just custom painting! put your custom painting code by creating a custom component extending <code>JComponent or JPanel</code> and implement <code>paintComponent()</code> function by overriding it and don't forget to call <code>super.paintComponent()</code>. If you need to have this custom component as frame's content pane: just set this pane <code>frame.setContentPane(customPane)</code>;</p>\n\n<p>Check out <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/painting/closer.html\" rel=\"nofollow\">A Closer Look at the Paint Mechanism</a></p>\n"}],"owner":{"account_id":2074371,"reputation":1198,"user_id":1848150,"accept_rate":76,"display_name":"lecardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19889837,"answer_count":4,"score":0,"last_activity_date":1694866478,"creation_date":1384087192,"question_id":19889792,"body_markdown":"I&#39;m having a really big issue in which when ether I create a `JLabel`, `Jbutton` and so on, it works in terms of showing on screen however when I want to place them on a rectangle it disappears and the rectangle only shows? \r\n\r\nWith `JLabel` I opted to use drawstring instead but now I&#39;m stuck with trying to get `JTextField` on. I don&#39;t know what I am missing.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.lang.*;\r\n    import javax.swing.event.*;\r\n    \r\n    class main\r\n    {\t\r\n    \tpublic static void main (String Args [])\r\n    \t{\r\n    \t\tGUIwindow guiW = new GUIwindow();\r\n    \t}\r\n    }\r\n    \r\n    class GUIwindow extends JFrame\r\n    {\r\n    \tJPanel grid = new JPanel();\r\n    \tJTextArea screenArea = new JTextArea(&quot;&quot;, 10, 20);\r\n    \tJScrollPane scrollBar = new JScrollPane(screenArea);\r\n    \t\r\n    \tGUIwindow()\r\n    \t{\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetSize(500,800);\r\n    \t\tsetTitle(&quot;Title here&quot;);\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t\t\r\n    \t\tscreenArea.setLineWrap(true);\r\n    \t\tscreenArea.setEditable(false);\r\n    \t\t\r\n    \t\t\r\n    \t\tgrid.add(scrollBar);\r\n    \t\tadd(grid);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic void paint (Graphics g)\r\n    \t{\r\n    \t\tg.setColor(Color.decode(&quot;#0232ac&quot;));\r\n    \t\tg.fillRoundRect(100, 50, 300, 600, 50, 50);\r\n    \t\tg.setColor(Color.white);\r\n    \t\tg.drawString(&quot;TitleonRect&quot;, 220, 80);\r\n    \t}  \r\n    \t\r\n    }\r\n\r\n","title":"Why components doesn&#39;t show on my shape. I want to place them on a rectangle it disappears and the rectangle only shows?","body":"<p>I'm having a really big issue in which when ether I create a <code>JLabel</code>, <code>Jbutton</code> and so on, it works in terms of showing on screen however when I want to place them on a rectangle it disappears and the rectangle only shows?</p>\n<p>With <code>JLabel</code> I opted to use drawstring instead but now I'm stuck with trying to get <code>JTextField</code> on. I don't know what I am missing.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.lang.*;\nimport javax.swing.event.*;\n\nclass main\n{   \n    public static void main (String Args [])\n    {\n        GUIwindow guiW = new GUIwindow();\n    }\n}\n\nclass GUIwindow extends JFrame\n{\n    JPanel grid = new JPanel();\n    JTextArea screenArea = new JTextArea(&quot;&quot;, 10, 20);\n    JScrollPane scrollBar = new JScrollPane(screenArea);\n    \n    GUIwindow()\n    {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(500,800);\n        setTitle(&quot;Title here&quot;);\n        setLocationRelativeTo(null);\n        \n        screenArea.setLineWrap(true);\n        screenArea.setEditable(false);\n        \n        \n        grid.add(scrollBar);\n        add(grid);\n        setVisible(true);\n    }\n    \n    public void paint (Graphics g)\n    {\n        g.setColor(Color.decode(&quot;#0232ac&quot;));\n        g.fillRoundRect(100, 50, 300, 600, 50, 50);\n        g.setColor(Color.white);\n        g.drawString(&quot;TitleonRect&quot;, 220, 80);\n    }  \n    \n}\n</code></pre>\n"},{"tags":["java","database","jsp","postgresql","sql-insert"],"answers":[{"comments":[{"owner":{"account_id":3286732,"reputation":1603,"user_id":2766041,"accept_rate":63,"display_name":"Ragesh Kr"},"score":0,"creation_date":1390374945,"post_id":21276130,"comment_id":32059231,"body_markdown":"Beauty ! works perfectly.. but y is it like executeUpdate works but executeQuery doesnt work ?? in both casesdata is getting inserted properly.","body":"Beauty ! works perfectly.. but y is it like executeUpdate works but executeQuery doesnt work ?? in both casesdata is getting inserted properly."},{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":1,"creation_date":1419613753,"post_id":21276130,"comment_id":43735333,"body_markdown":"@RageshKr, it gets inserted correctly, but the Java database connector is afterwards expecting data, and none comes. So the error happens after the insert.","body":"@RageshKr, it gets inserted correctly, but the Java database connector is afterwards expecting data, and none comes. So the error happens after the insert."}],"tags":[],"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"comment_count":2,"down_vote_count":0,"up_vote_count":123,"is_accepted":true,"score":123,"last_activity_date":1390373581,"creation_date":1390373581,"answer_id":21276130,"question_id":21276059,"body_markdown":"Use\r\n\r\n    executeUpdate\r\n\r\ninstead of \r\n\r\n    executeQuery\r\n\r\nif no data will be returned (i.e. a non-`SELECT` operation).","title":"No results returned by the Query error in PostgreSQL","body":"<p>Use</p>\n\n<pre><code>executeUpdate\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>executeQuery\n</code></pre>\n\n<p>if no data will be returned (i.e. a non-<code>SELECT</code> operation).</p>\n"},{"tags":[],"owner":{"account_id":4976528,"reputation":253,"user_id":4002680,"accept_rate":0,"display_name":"Popeye"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513562614,"creation_date":1513562614,"answer_id":47861253,"question_id":21276059,"body_markdown":"If you want last generated id, you can use this code after using executeUpdate() method\r\n         \r\n     int update = statement.executeUpdate()\r\n     ResultSet rs = statement.getGeneratedKeys();\r\n     if (rs != null &amp;&amp; rs.next()) {\r\n      key = rs.getLong(1);\r\n     }","title":"No results returned by the Query error in PostgreSQL","body":"<p>If you want last generated id, you can use this code after using executeUpdate() method</p>\n\n<pre><code> int update = statement.executeUpdate()\n ResultSet rs = statement.getGeneratedKeys();\n if (rs != null &amp;&amp; rs.next()) {\n  key = rs.getLong(1);\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16048752,"reputation":328,"user_id":11583240,"display_name":"need_to_know_now"},"score":0,"creation_date":1614155992,"post_id":58037702,"comment_id":117296336,"body_markdown":"Thanks for this, I wanted a solution for a JPQL query!","body":"Thanks for this, I wanted a solution for a JPQL query!"}],"tags":[],"owner":{"account_id":4884041,"reputation":655,"user_id":3936975,"display_name":"Dharmender Rawat"},"comment_count":1,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1658372827,"creation_date":1569045887,"answer_id":58037702,"question_id":21276059,"body_markdown":"Please use &lt;b&gt;@Modifying&lt;/b&gt; annotation over the &lt;b&gt;@Query&lt;/b&gt; annotation.\r\n\r\n&lt;pre&gt;\r\n@Modifying\r\n@Query(value = &quot;UPDATE Users set coins_balance = coins_balance + :coinsToAddOrRemove where user_id = :user_id&quot;, nativeQuery = true)\r\n\tint updateCoinsBalance(@Param(&quot;user_id&quot;) Long userId, @Param(&quot;coinsToAddOrRemove&quot;) Integer coinsToAddOrRemove); \r\n&lt;/pre&gt;\r\n\r\nThe same is true for any DML query (i.e. DELETE, UPDATE or INSERT)","title":"No results returned by the Query error in PostgreSQL","body":"<p>Please use <b>@Modifying</b> annotation over the <b>@Query</b> annotation.</p>\n<pre>\n@Modifying\n@Query(value = \"UPDATE Users set coins_balance = coins_balance + :coinsToAddOrRemove where user_id = :user_id\", nativeQuery = true)\n    int updateCoinsBalance(@Param(\"user_id\") Long userId, @Param(\"coinsToAddOrRemove\") Integer coinsToAddOrRemove); \n</pre>\n<p>The same is true for any DML query (i.e. DELETE, UPDATE or INSERT)</p>\n"},{"comments":[{"owner":{"account_id":3402975,"reputation":1185,"user_id":2854755,"accept_rate":75,"display_name":"Aaban Tariq Murtaza"},"score":2,"creation_date":1602776992,"post_id":60096314,"comment_id":113833724,"body_markdown":"Its @Transactional","body":"Its @Transactional"},{"owner":{"account_id":3499961,"reputation":959,"user_id":2926934,"display_name":"Usman"},"score":0,"creation_date":1616568874,"post_id":60096314,"comment_id":118039860,"body_markdown":"@Transactional\n    @Modifying(clearAutomatically = true)\n    @Query(value = Update/Delete/InstertQuery , nativeQuery = true)","body":"@Transactional     @Modifying(clearAutomatically = true)     @Query(value = Update/Delete/InstertQuery , nativeQuery = true)"}],"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1580996407,"creation_date":1580996407,"answer_id":60096314,"question_id":21276059,"body_markdown":"Using @Modifying and @Transaction fixed me","title":"No results returned by the Query error in PostgreSQL","body":"<p>Using @Modifying and @Transaction fixed me</p>\n"},{"tags":[],"owner":{"account_id":1089981,"reputation":6557,"user_id":1084813,"accept_rate":87,"display_name":"JohnEye"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1599496746,"creation_date":1599496746,"answer_id":63781354,"question_id":21276059,"body_markdown":"The problem that brought me to this question was a bit different - I was getting this error when deleting rows using an interface-based Spring JPA Repository. The cause was that my method signature was supposed to return some results:\r\n\r\n    @Modifying\r\n\t@Query(value = &quot;DELETE FROM table t WHERE t.some_id IN (:someIds)&quot;, nativeQuery = true)\r\n\tList&lt;Long&gt; deleteBySomeIdIn(@Param(&quot;someIds&quot;) Collection&lt;Long&gt; someIds);\r\n\r\nChanging the return type to `void` resolved the issue:\r\n\r\n    @Modifying\r\n    @Query(value = &quot;DELETE FROM table t WHERE t.some_id IN (:someIds)&quot;, nativeQuery = true)\r\n    void deleteBySomeIdIn(@Param(&quot;someIds&quot;) Collection&lt;Long&gt; someIds);","title":"No results returned by the Query error in PostgreSQL","body":"<p>The problem that brought me to this question was a bit different - I was getting this error when deleting rows using an interface-based Spring JPA Repository. The cause was that my method signature was supposed to return some results:</p>\n<pre><code>@Modifying\n@Query(value = &quot;DELETE FROM table t WHERE t.some_id IN (:someIds)&quot;, nativeQuery = true)\nList&lt;Long&gt; deleteBySomeIdIn(@Param(&quot;someIds&quot;) Collection&lt;Long&gt; someIds);\n</code></pre>\n<p>Changing the return type to <code>void</code> resolved the issue:</p>\n<pre><code>@Modifying\n@Query(value = &quot;DELETE FROM table t WHERE t.some_id IN (:someIds)&quot;, nativeQuery = true)\nvoid deleteBySomeIdIn(@Param(&quot;someIds&quot;) Collection&lt;Long&gt; someIds);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15922144,"reputation":97,"user_id":11488835,"display_name":"Ahmed Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619815711,"creation_date":1619799447,"answer_id":67337238,"question_id":21276059,"body_markdown":"I have solved this Problem using `addBatch` and `executeBatch` as following:\r\n```\r\nstatement.addBatch(&quot;DELETE FROM public.session_event WHERE id = &quot; + entry.getKey());\r\nstatement.executeBatch();\r\n```","title":"No results returned by the Query error in PostgreSQL","body":"<p>I have solved this Problem using <code>addBatch</code> and <code>executeBatch</code> as following:</p>\n<pre><code>statement.addBatch(&quot;DELETE FROM public.session_event WHERE id = &quot; + entry.getKey());\nstatement.executeBatch();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1694498176,"post_id":77084516,"comment_id":135894732,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77084516/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23618330,"reputation":1,"user_id":17652055,"display_name":"heboni"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694866070,"creation_date":1694462868,"answer_id":77084516,"question_id":21276059,"body_markdown":"You can use `execute` instead of `executeQuery` \r\nif no data will be returned\r\n\r\nIt can also be useful when executing a script with DDL statements (i.e. CREATE/ALTER/DROP).","title":"No results returned by the Query error in PostgreSQL","body":"<p>You can use <code>execute</code> instead of <code>executeQuery</code>\nif no data will be returned</p>\n<p>It can also be useful when executing a script with DDL statements (i.e. CREATE/ALTER/DROP).</p>\n"}],"owner":{"account_id":3286732,"reputation":1603,"user_id":2766041,"accept_rate":63,"display_name":"Ragesh Kr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70354,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":21276130,"answer_count":7,"score":66,"last_activity_date":1694866070,"creation_date":1390373293,"question_id":21276059,"body_markdown":"I am trying to insert a data into a table. After executing the query i am getting an exception stating\r\n   \r\n\r\n    org.postgresql.util.PSQLException: No results were returned by the query.\r\n    org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:284)\r\n\r\n\r\nThe data is getting inserted successfully, but i have no idea why i am getting this exception ??\r\n\r\n\t                                                                                                         ","title":"No results returned by the Query error in PostgreSQL","body":"<p>I am trying to insert a data into a table. After executing the query i am getting an exception stating</p>\n\n<pre><code>org.postgresql.util.PSQLException: No results were returned by the query.\norg.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:284)\n</code></pre>\n\n<p>The data is getting inserted successfully, but i have no idea why i am getting this exception ??</p>\n"},{"tags":["java","swagger","openapi","openapi-generator"],"answers":[{"comments":[{"owner":{"account_id":4668723,"reputation":629,"user_id":3781095,"accept_rate":65,"display_name":"J145"},"score":0,"creation_date":1695146775,"post_id":77117657,"comment_id":135984092,"body_markdown":"Brilliant, Thank you for this detailed response.","body":"Brilliant, Thank you for this detailed response."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1695304666,"post_id":77117657,"comment_id":136008935,"body_markdown":"You&#39;re welcome.","body":"You&#39;re welcome."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694865066,"creation_date":1694865066,"answer_id":77117657,"question_id":77117514,"body_markdown":"If you want to achieve polymorphism you shouldn&#39;t use `oneOf` but `allOf`. After all, you want _both_ the parent class and your own properties:\r\n```\r\ncar:\r\n  allOf:\r\n    - $ref: &#39;#/components/schemas/vehicle&#39;\r\n    - type: object    \r\n      properties:\r\n        carProperty:\r\n          type: string\r\n          description: &quot;property for car&quot;\r\n```\r\n\r\nThat&#39;s not enough though, you need to tell the generator to include the parent/child structure. This can be done by setting the [OpenAPI Normalizer][1] to `REF_AS_PARENT_IN_ALLOF=true`. When using the `openapi-generator-maven-plugin` you can do this by adding the following to the plugin&#39;s `configuration`:\r\n```\r\n&lt;openapiNormalizer&gt;REF_AS_PARENT_IN_ALLOF=true&lt;/openapiNormalizer&gt;\r\n```\r\n\r\nThe result with the `jaxrs-spec` generator:\r\n```\r\n@JsonTypeName(&quot;car&quot;)\r\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaJAXRSSpecServerCodegen&quot;, date = &quot;2023-09-16T13:44:47.665859200+02:00[Europe/Amsterdam]&quot;)\r\npublic class Car extends Vehicle  {\r\n...\r\n}\r\n```\r\n\r\nNote that you can&#39;t make full use of any generated fluent API though; `Car` does not override any property-specific methods, so the only methods you have to set the `vehicleType` are:\r\n* `public Vehicle vehicleProperty(String vehicleProperty)`\r\n* `public void setVehicleProperty(String vehicleProperty)`\r\n\r\nBecause the first one returns `Vehicle` and is not overridden, you cannot do this:\r\n```\r\nCar car1 = new Car()\r\n        .carProperty(&quot;...&quot;)\r\n        .vehicleProperty(&quot;...&quot;); // cannot assign Vehicle to Car\r\nCar car2 = new Car()\r\n        .vehicleProperty(&quot;...&quot;)\r\n        .carProperty(&quot;...&quot;); // method not defined for Vehicle\r\n```\r\n\r\n  [1]: https://openapi-generator.tech/docs/customization/#openapi-normalizer","title":"openAPI polymorphism - getting generated file to extend another schema","body":"<p>If you want to achieve polymorphism you shouldn't use <code>oneOf</code> but <code>allOf</code>. After all, you want <em>both</em> the parent class and your own properties:</p>\n<pre><code>car:\n  allOf:\n    - $ref: '#/components/schemas/vehicle'\n    - type: object    \n      properties:\n        carProperty:\n          type: string\n          description: &quot;property for car&quot;\n</code></pre>\n<p>That's not enough though, you need to tell the generator to include the parent/child structure. This can be done by setting the <a href=\"https://openapi-generator.tech/docs/customization/#openapi-normalizer\" rel=\"nofollow noreferrer\">OpenAPI Normalizer</a> to <code>REF_AS_PARENT_IN_ALLOF=true</code>. When using the <code>openapi-generator-maven-plugin</code> you can do this by adding the following to the plugin's <code>configuration</code>:</p>\n<pre><code>&lt;openapiNormalizer&gt;REF_AS_PARENT_IN_ALLOF=true&lt;/openapiNormalizer&gt;\n</code></pre>\n<p>The result with the <code>jaxrs-spec</code> generator:</p>\n<pre><code>@JsonTypeName(&quot;car&quot;)\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaJAXRSSpecServerCodegen&quot;, date = &quot;2023-09-16T13:44:47.665859200+02:00[Europe/Amsterdam]&quot;)\npublic class Car extends Vehicle  {\n...\n}\n</code></pre>\n<p>Note that you can't make full use of any generated fluent API though; <code>Car</code> does not override any property-specific methods, so the only methods you have to set the <code>vehicleType</code> are:</p>\n<ul>\n<li><code>public Vehicle vehicleProperty(String vehicleProperty)</code></li>\n<li><code>public void setVehicleProperty(String vehicleProperty)</code></li>\n</ul>\n<p>Because the first one returns <code>Vehicle</code> and is not overridden, you cannot do this:</p>\n<pre><code>Car car1 = new Car()\n        .carProperty(&quot;...&quot;)\n        .vehicleProperty(&quot;...&quot;); // cannot assign Vehicle to Car\nCar car2 = new Car()\n        .vehicleProperty(&quot;...&quot;)\n        .carProperty(&quot;...&quot;); // method not defined for Vehicle\n</code></pre>\n"}],"owner":{"account_id":4668723,"reputation":629,"user_id":3781095,"accept_rate":65,"display_name":"J145"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77117657,"answer_count":1,"score":1,"last_activity_date":1694865066,"creation_date":1694862880,"question_id":77117514,"body_markdown":"so im pretty new to openAPI and trying to get one schema to extend another.  I have it working to a certain extent in that I have two objects, a vehicle and a car (which should extend the vehicle object).  When these files are generated using openAPI generator I can see that the car object does infact have the properties of the vehicle object.  However, these values have been added to the class as opposed to the car object being extended from the vehicle object.  Is there any way that one object can be an extention of another object when the classes are auto generated?\r\n\r\nOpenAPI spec for the schemas:\r\n\r\n    vehicle:\r\n      type: object\r\n      properties:\r\n        vehicleProperty:\r\n          type: string\r\n          description: &quot;property for vehicle&quot;\r\n\r\n    car:\r\n      type: object\r\n      oneOf:\r\n        - $ref: &#39;#/components/schemas/vehicle&#39;\r\n        - type: object\r\n      properties:\r\n        carProperty:\r\n          type: string\r\n          description: &quot;property for car&quot;\r\n\r\nAuto generated files:\r\nVehicle file:\r\n\r\n    public class Vehicle  implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @JsonProperty(&quot;vehicleProperty&quot;)\r\n    private String vehicleProperty;\r\n\r\n    public Vehicle vehicleProperty(String vehicleProperty) {\r\n      this.vehicleProperty = vehicleProperty;\r\n      return this;\r\n    }\r\n    ....\r\n\r\nCar file\r\n\r\n    public class Car  implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n     @JsonProperty(&quot;carProperty&quot;)\r\n     private String carProperty;\r\n\r\n     @JsonProperty(&quot;vehicleProperty&quot;)\r\n     private String vehicleProperty;\r\n     ....\r\n\r\n\r\nAs you can see, the car file has got the vehicle property but it isnt generated as an extention of the vehicle.  Is there any way to acheive this?  \r\n\r\nAny help would be greatly appreciated, Thanks.\r\n   \r\n","title":"openAPI polymorphism - getting generated file to extend another schema","body":"<p>so im pretty new to openAPI and trying to get one schema to extend another.  I have it working to a certain extent in that I have two objects, a vehicle and a car (which should extend the vehicle object).  When these files are generated using openAPI generator I can see that the car object does infact have the properties of the vehicle object.  However, these values have been added to the class as opposed to the car object being extended from the vehicle object.  Is there any way that one object can be an extention of another object when the classes are auto generated?</p>\n<p>OpenAPI spec for the schemas:</p>\n<pre><code>vehicle:\n  type: object\n  properties:\n    vehicleProperty:\n      type: string\n      description: &quot;property for vehicle&quot;\n\ncar:\n  type: object\n  oneOf:\n    - $ref: '#/components/schemas/vehicle'\n    - type: object\n  properties:\n    carProperty:\n      type: string\n      description: &quot;property for car&quot;\n</code></pre>\n<p>Auto generated files:\nVehicle file:</p>\n<pre><code>public class Vehicle  implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@JsonProperty(&quot;vehicleProperty&quot;)\nprivate String vehicleProperty;\n\npublic Vehicle vehicleProperty(String vehicleProperty) {\n  this.vehicleProperty = vehicleProperty;\n  return this;\n}\n....\n</code></pre>\n<p>Car file</p>\n<pre><code>public class Car  implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n @JsonProperty(&quot;carProperty&quot;)\n private String carProperty;\n\n @JsonProperty(&quot;vehicleProperty&quot;)\n private String vehicleProperty;\n ....\n</code></pre>\n<p>As you can see, the car file has got the vehicle property but it isnt generated as an extention of the vehicle.  Is there any way to acheive this?</p>\n<p>Any help would be greatly appreciated, Thanks.</p>\n"},{"tags":["java","datetime","salesforce","calculator","apex"],"answers":[{"comments":[{"owner":{"account_id":21476278,"reputation":13,"user_id":22571945,"display_name":"Michelle Soto"},"score":0,"creation_date":1695166835,"post_id":77117632,"comment_id":135987053,"body_markdown":"Thanks for the information, it solve issue.","body":"Thanks for the information, it solve issue."}],"tags":[],"owner":{"account_id":120915,"reputation":18591,"user_id":313628,"display_name":"eyescream"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694864621,"creation_date":1694864621,"answer_id":77117632,"question_id":77115586,"body_markdown":"There&#39;s a better way, built-in method that does this calculation including weekends, holidays, daylight saving time...\r\n\r\nGo to Setup -&gt; Business Hours. Configure your opening times and couple public holidays. Then read up about https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_classes_businesshours.htm or search questions about it like https://stackoverflow.com/a/69723001/313628 and https://stackoverflow.com/a/75553533/313628.","title":"SLA expiration date calculation in Salesforce","body":"<p>There's a better way, built-in method that does this calculation including weekends, holidays, daylight saving time...</p>\n<p>Go to Setup -&gt; Business Hours. Configure your opening times and couple public holidays. Then read up about <a href=\"https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_classes_businesshours.htm\" rel=\"nofollow noreferrer\">https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_classes_businesshours.htm</a> or search questions about it like <a href=\"https://stackoverflow.com/a/69723001/313628\">https://stackoverflow.com/a/69723001/313628</a> and <a href=\"https://stackoverflow.com/a/75553533/313628\">https://stackoverflow.com/a/75553533/313628</a>.</p>\n"}],"owner":{"account_id":21476278,"reputation":13,"user_id":22571945,"display_name":"Michelle Soto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77117632,"answer_count":1,"score":0,"last_activity_date":1694864621,"creation_date":1694815984,"question_id":77115586,"body_markdown":"How can I create Apex code that calculates an exact date/time after 72 hours of service from Monday to Friday from 8 am to 6 pm, and Saturdays from 8 am to 1 pm, taking into account holidays and using an initial date as a base? In other words, I need to provide the method with the start date and service hours so that it can calculate the final date.\r\n\r\nI will provide two examples:\r\n\r\nMy initial date/time is 01/09/2023 08:00 am, and my service hours are 8, so my final date should be 01/09/2023 04:00 pm.\r\n\r\nMy initial date/time is 01/09/2023 08:00:00, and my service hours are 12, so my final date should be 02/09/2023 10:00:00. In this example, since my schedule is from Mon-Fri from 8 am to 6 pm, it skips to the 2nd day because on the 1st day, after 6 pm, it doesn&#39;t count until the next day, starting at 8 am.\r\n\r\nI tried the following code, but it doesn&#39;t give me the expected results.\r\n\r\n\r\n```\r\npublic class DateTimeCalculator {\r\n\r\n    // Method to calculate the final date/time\r\n    public static Datetime calculateFinalDatetime(Datetime initialDatetime, Integer serviceHours) {\r\n        Integer dailyWorkHours = 8;\r\n        Datetime finalDatetime = initialDatetime;\r\n        List&lt;Date&gt; holidays = new List&lt;Date&gt;{Date.newInstance(2023, 9, 4)}; // List of holidays\r\n        \r\n        while (serviceHours &gt; 0) {\r\n            if (isWorkingDay(finalDatetime)) {\r\n                Integer hoursUntilEndOfDay = (finalDatetime.addHours(18).getTime() - finalDatetime.getTime()) / 3600000;\r\n                if (serviceHours &lt;= hoursUntilEndOfDay) {\r\n                    finalDatetime = finalDatetime.addHours(serviceHours);\r\n                    serviceHours = 0;\r\n                } else {\r\n                    finalDatetime = finalDatetime.addHours(16); // Adjust to 8 am of the next day\r\n                    finalDatetime = finalDatetime.addDays(1);\r\n                    serviceHours -= hoursUntilEndOfDay;\r\n                }\r\n            } else {\r\n                finalDatetime = finalDatetime.addHours(16); // Adjust to 8 am of the next day\r\n                finalDatetime = finalDatetime.addDays(1);\r\n            }\r\n        }\r\n        \r\n        return finalDatetime;\r\n    }\r\n\r\n    // Method to check if a day is a working day\r\n    private static Boolean isWorkingDay(Datetime day) {\r\n        // Define working days (Monday to Friday) and Saturdays\r\n        return (day.format(&#39;E&#39;) != &#39;Sat&#39; &amp;&amp; day.format(&#39;E&#39;) != &#39;Sun&#39;) ||\r\n               (day.format(&#39;E&#39;) == &#39;Sat&#39; &amp;&amp; day.hour() &gt;= 8 &amp;&amp; day.hour() &lt; 13);\r\n    }\r\n}\r\n```\r\n\r\n","title":"SLA expiration date calculation in Salesforce","body":"<p>How can I create Apex code that calculates an exact date/time after 72 hours of service from Monday to Friday from 8 am to 6 pm, and Saturdays from 8 am to 1 pm, taking into account holidays and using an initial date as a base? In other words, I need to provide the method with the start date and service hours so that it can calculate the final date.</p>\n<p>I will provide two examples:</p>\n<p>My initial date/time is 01/09/2023 08:00 am, and my service hours are 8, so my final date should be 01/09/2023 04:00 pm.</p>\n<p>My initial date/time is 01/09/2023 08:00:00, and my service hours are 12, so my final date should be 02/09/2023 10:00:00. In this example, since my schedule is from Mon-Fri from 8 am to 6 pm, it skips to the 2nd day because on the 1st day, after 6 pm, it doesn't count until the next day, starting at 8 am.</p>\n<p>I tried the following code, but it doesn't give me the expected results.</p>\n<pre><code>public class DateTimeCalculator {\n\n    // Method to calculate the final date/time\n    public static Datetime calculateFinalDatetime(Datetime initialDatetime, Integer serviceHours) {\n        Integer dailyWorkHours = 8;\n        Datetime finalDatetime = initialDatetime;\n        List&lt;Date&gt; holidays = new List&lt;Date&gt;{Date.newInstance(2023, 9, 4)}; // List of holidays\n        \n        while (serviceHours &gt; 0) {\n            if (isWorkingDay(finalDatetime)) {\n                Integer hoursUntilEndOfDay = (finalDatetime.addHours(18).getTime() - finalDatetime.getTime()) / 3600000;\n                if (serviceHours &lt;= hoursUntilEndOfDay) {\n                    finalDatetime = finalDatetime.addHours(serviceHours);\n                    serviceHours = 0;\n                } else {\n                    finalDatetime = finalDatetime.addHours(16); // Adjust to 8 am of the next day\n                    finalDatetime = finalDatetime.addDays(1);\n                    serviceHours -= hoursUntilEndOfDay;\n                }\n            } else {\n                finalDatetime = finalDatetime.addHours(16); // Adjust to 8 am of the next day\n                finalDatetime = finalDatetime.addDays(1);\n            }\n        }\n        \n        return finalDatetime;\n    }\n\n    // Method to check if a day is a working day\n    private static Boolean isWorkingDay(Datetime day) {\n        // Define working days (Monday to Friday) and Saturdays\n        return (day.format('E') != 'Sat' &amp;&amp; day.format('E') != 'Sun') ||\n               (day.format('E') == 'Sat' &amp;&amp; day.hour() &gt;= 8 &amp;&amp; day.hour() &lt; 13);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","button","netbeans","runtime"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694864631,"post_id":77117580,"comment_id":135949160,"body_markdown":"@GrindingForReputation??? what in the world? How will that help? To the OP, the problem is your layout manager. The one that you&#39;re using will not readily accept addition of components in this way. The solution is to use a different one. Either that or use a CardLayout, or add the JTextField from the start, but make it not visible. Then later make it visible.","body":"@GrindingForReputation??? what in the world? How will that help? To the OP, the problem is your layout manager. The one that you&#39;re using will not readily accept addition of components in this way. The solution is to use a different one. Either that or use a CardLayout, or add the JTextField from the start, but make it not visible. Then later make it visible."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694864636,"post_id":77117580,"comment_id":135949161,"body_markdown":"you see that the layout used by Netbeans seems to require a lot of additional work (creating groups, adding the components to that groups, adding gaps, ...) - apparently this is not being done for the text field, so it get not laid out by the layout manager. Maybe it is *easier* to add a component (JPanel) or the components (label, field) at the start, but having these not visible (yet) until needed. @GrindingForReputation `revalidate()` (already being called) also calls `validate()`!","body":"you see that the layout used by Netbeans seems to require a lot of additional work (creating groups, adding the components to that groups, adding gaps, ...) - apparently this is not being done for the text field, so it get not laid out by the layout manager. Maybe it is <i>easier</i> to add a component (JPanel) or the components (label, field) at the start, but having these not visible (yet) until needed. @GrindingForReputation <code>revalidate()</code> (already being called) also calls <code>validate()</code>!"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694864718,"post_id":77117580,"comment_id":135949168,"body_markdown":"@HovercraftFullOfEels not really sure how that works either :&gt; but it seemed to *somehow* work for me in a project I was working on (or it must have been the other way around) so I wouldn&#39;t say it **works** just **try**, also yes I was also about to recommend creating the JTextField and later making it visible","body":"@HovercraftFullOfEels not really sure how that works either :&gt; but it seemed to <i>somehow</i> work for me in a project I was working on (or it must have been the other way around) so I wouldn&#39;t say it <b>works</b> just <b>try</b>, also yes I was also about to recommend creating the JTextField and later making it visible"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694864890,"post_id":77117580,"comment_id":135949190,"body_markdown":"@GrindingForReputation: but how on earth can it help when the OP is using a GroupLayout? That is clearly the issue here. Best not to throw out suggestions that are obviously not going to help.","body":"@GrindingForReputation: but how on earth can it help when the OP is using a GroupLayout? That is clearly the issue here. Best not to throw out suggestions that are obviously not going to help."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694865561,"post_id":77117580,"comment_id":135949268,"body_markdown":"@HovercraftFullOfEels sure :&gt; Also I just searched everywhere on NetBeans, but using NetBeans IDE&#39;s JFrame Form automatically uses GroupLayout and it is not editable as to my knowledge.","body":"@HovercraftFullOfEels sure :&gt; Also I just searched everywhere on NetBeans, but using NetBeans IDE&#39;s JFrame Form automatically uses GroupLayout and it is not editable as to my knowledge."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694865776,"post_id":77117580,"comment_id":135949292,"body_markdown":"@GrindingForReputation: when using NetBeans, GroupLayout is the *default* layout, but you are not forced to use it as NetBeans allows one to select any layout of choice, and in fact in this situation, the OP should select another layout, if only for a JPanel that holds the region where the JTextField will appear.","body":"@GrindingForReputation: when using NetBeans, GroupLayout is the <i>default</i> layout, but you are not forced to use it as NetBeans allows one to select any layout of choice, and in fact in this situation, the OP should select another layout, if only for a JPanel that holds the region where the JTextField will appear."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1694883971,"post_id":77117580,"comment_id":135951281,"body_markdown":"@GrindingForReputation *but using NetBeans IDE&#39;s JFrame Form automatically uses GroupLayout* - which is why we generally suggest that you don&#39;t use the IDE to generate the frame code. When you create the code manually you are in full control and the code is easier to maintain. If you ever change to a different IDE the code won&#39;t be maintainable by the IDE.","body":"@GrindingForReputation <i>but using NetBeans IDE&#39;s JFrame Form automatically uses GroupLayout</i> - which is why we generally suggest that you don&#39;t use the IDE to generate the frame code. When you create the code manually you are in full control and the code is easier to maintain. If you ever change to a different IDE the code won&#39;t be maintainable by the IDE."}],"owner":{"account_id":29459250,"reputation":1,"user_id":22574391,"display_name":"texs89"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694864157,"creation_date":1694863948,"question_id":77117580,"body_markdown":"i have a problem: I want to create a new textfield at runtime by clicking a button (jButton1). But when i click the button nothing happens. Can anybody help?\r\nI use Netbeans and create the existing window with the design manager from Netbeans automatically (new JFrame Form).\r\nThis is the code. I only added the code in the jButton1ActionPerformed-Method which will be processed when i click the button.\r\n\r\nThanks for help!\r\n\r\n\r\n    package test;\r\n    \r\n    import java.awt.FlowLayout;\r\n    import javax.swing.*;\r\n    \r\n    \r\n    public class Test extends javax.swing.JFrame {\r\n    \r\n        /**\r\n         * Creates new form Test\r\n         */\r\n        public Test() {\r\n            initComponents();\r\n        }\r\n    \r\n        /**\r\n         * This method is called from within the constructor to initialize the form.\r\n         * WARNING: Do NOT modify this code. The content of this method is always\r\n         * regenerated by the Form Editor.\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            jPanel1 = new javax.swing.JPanel();\r\n            jTextField1 = new javax.swing.JTextField();\r\n            jButton1 = new javax.swing.JButton();\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            jTextField1.setText(&quot;jTextField1&quot;);\r\n    \r\n            javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\r\n            jPanel1.setLayout(jPanel1Layout);\r\n            jPanel1Layout.setHorizontalGroup(\r\n                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(jPanel1Layout.createSequentialGroup()\r\n                    .addGap(23, 23, 23)\r\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addContainerGap(519, Short.MAX_VALUE))\r\n            );\r\n            jPanel1Layout.setVerticalGroup(\r\n                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(jPanel1Layout.createSequentialGroup()\r\n                    .addGap(21, 21, 21)\r\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addContainerGap(163, Short.MAX_VALUE))\r\n            );\r\n    \r\n            jButton1.setText(&quot;jButton1&quot;);\r\n            jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    jButton1ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(41, 41, 41)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addComponent(jButton1)\r\n                        .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addContainerGap(73, Short.MAX_VALUE))\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(52, 52, 52)\r\n                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(18, 18, 18)\r\n                    .addComponent(jButton1)\r\n                    .addContainerGap(171, Short.MAX_VALUE))\r\n            );\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n    \r\n            JTextField textField = new JTextField(20);\r\n    \r\n            jPanel1.add(new JLabel(&quot;Test: &quot;));\r\n            jPanel1.add(textField);\r\n    \r\n            jPanel1.revalidate();\r\n            jPanel1.repaint();\r\n    \r\n            pack();\r\n    \r\n        }                                        \r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String args[]) {\r\n            /* Set the Nimbus look and feel */\r\n            //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n            /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n             * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n             */\r\n            try {\r\n                for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                    if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                        javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                java.util.logging.Logger.getLogger(Test.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (InstantiationException ex) {\r\n                java.util.logging.Logger.getLogger(Test.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (IllegalAccessException ex) {\r\n                java.util.logging.Logger.getLogger(Test.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n                java.util.logging.Logger.getLogger(Test.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            }\r\n            //&lt;/editor-fold&gt;\r\n    \r\n            /* Create and display the form */\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new Test().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JButton jButton1;\r\n        private javax.swing.JPanel jPanel1;\r\n        private javax.swing.JTextField jTextField1;\r\n        // End of variables declaration                   \r\n    }\r\n\r\n\r\nI tried:\r\n\r\n`        jPanel1.revalidate();\r\n        jPanel1.repaint();`\r\n\r\nBut this also did not work.","title":"How to create a new textfield in a panel at runtime with Java Swing and Netbeans UI","body":"<p>i have a problem: I want to create a new textfield at runtime by clicking a button (jButton1). But when i click the button nothing happens. Can anybody help?\nI use Netbeans and create the existing window with the design manager from Netbeans automatically (new JFrame Form).\nThis is the code. I only added the code in the jButton1ActionPerformed-Method which will be processed when i click the button.</p>\n<p>Thanks for help!</p>\n<pre><code>package test;\n\nimport java.awt.FlowLayout;\nimport javax.swing.*;\n\n\npublic class Test extends javax.swing.JFrame {\n\n    /**\n     * Creates new form Test\n     */\n    public Test() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jPanel1 = new javax.swing.JPanel();\n        jTextField1 = new javax.swing.JTextField();\n        jButton1 = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jTextField1.setText(&quot;jTextField1&quot;);\n\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n        jPanel1.setLayout(jPanel1Layout);\n        jPanel1Layout.setHorizontalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(23, 23, 23)\n                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(519, Short.MAX_VALUE))\n        );\n        jPanel1Layout.setVerticalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(21, 21, 21)\n                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(163, Short.MAX_VALUE))\n        );\n\n        jButton1.setText(&quot;jButton1&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(41, 41, 41)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jButton1)\n                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addContainerGap(73, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(52, 52, 52)\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(18, 18, 18)\n                .addComponent(jButton1)\n                .addContainerGap(171, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n        JTextField textField = new JTextField(20);\n\n        jPanel1.add(new JLabel(&quot;Test: &quot;));\n        jPanel1.add(textField);\n\n        jPanel1.revalidate();\n        jPanel1.repaint();\n\n        pack();\n\n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(Test.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(Test.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(Test.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(Test.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Test().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JTextField jTextField1;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>I tried:</p>\n<p><code>        jPanel1.revalidate(); jPanel1.repaint();</code></p>\n<p>But this also did not work.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":7,"creation_date":1348870007,"post_id":3038392,"comment_id":17060059,"body_markdown":"You&#39;ve accepted a wrong answer, just try to allocate such a long array (and no, I&#39;m not running out of memory).","body":"You&#39;ve accepted a wrong answer, just try to allocate such a long array (and no, I&#39;m not running out of memory)."},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":1,"creation_date":1423220252,"post_id":3038392,"comment_id":45069917,"body_markdown":"Closely related: http://stackoverflow.com/questions/878309/java-array-with-more-than-4gb-elements","body":"Closely related: <a href=\"http://stackoverflow.com/questions/878309/java-array-with-more-than-4gb-elements\" title=\"java array with more than 4gb elements\">stackoverflow.com/questions/878309/&hellip;</a>"},{"owner":{"account_id":1429320,"reputation":2884,"user_id":1352098,"display_name":"Ivan Mamontov"},"score":0,"creation_date":1437935332,"post_id":3038392,"comment_id":51227504,"body_markdown":"The right answer is http://stackoverflow.com/questions/31382531/why-i-cant-create-an-array-with-large-size","body":"The right answer is <a href=\"http://stackoverflow.com/questions/31382531/why-i-cant-create-an-array-with-large-size\" title=\"why i cant create an array with large size\">stackoverflow.com/questions/31382531/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1677502590,"post_id":3038451,"comment_id":133344140,"body_markdown":"This answer doesn&#39;t attempt to answer what the value of &quot;the maximum element indexable for the array&quot; is.","body":"This answer doesn&#39;t attempt to answer what the value of &quot;the maximum element indexable for the array&quot; is."}],"tags":[],"owner":{"account_id":7448,"reputation":526484,"user_id":12950,"accept_rate":94,"display_name":"tvanfosson"},"comment_count":1,"down_vote_count":5,"up_vote_count":45,"is_accepted":false,"score":40,"last_activity_date":1276529043,"creation_date":1276529043,"answer_id":3038451,"question_id":3038392,"body_markdown":"There are actually two limits.  One, the maximum element indexable for the array and, two, the amount of memory available to your application.  Depending on the amount of memory available and the amount used by other data structures, you may hit the memory limit before you reach the maximum addressable array element.","title":"Do Java arrays have a maximum size?","body":"<p>There are actually two limits.  One, the maximum element indexable for the array and, two, the amount of memory available to your application.  Depending on the amount of memory available and the amount used by other data structures, you may hit the memory limit before you reach the maximum addressable array element.</p>\n"},{"comments":[{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":66,"creation_date":1276702240,"post_id":3039805,"comment_id":3127142,"body_markdown":"I think the idea of downvotes makes no sense unless we are willing to downvote answers that are plain and simply _wrong_.  Does the difference of five bytes actually matter in the real world, NO, of course not. But it concerns me that people are willing to give an answer &quot;authoritatively&quot; without even trying it to see if it really works.\n\nAs for the memory limit, well, DUH.  That&#39;s like if you asked me &quot;how many grapes can you eat?&quot; and I said &quot;well, it depends on how many I have in the fridge at the time.&quot;","body":"I think the idea of downvotes makes no sense unless we are willing to downvote answers that are plain and simply <i>wrong</i>.  Does the difference of five bytes actually matter in the real world, NO, of course not. But it concerns me that people are willing to give an answer &quot;authoritatively&quot; without even trying it to see if it really works.  As for the memory limit, well, DUH.  That&#39;s like if you asked me &quot;how many grapes can you eat?&quot; and I said &quot;well, it depends on how many I have in the fridge at the time.&quot;"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1322942605,"post_id":3039805,"comment_id":10328657,"body_markdown":"Sry I&#39;m not understanding your answer.. do you mean to say that the maximum is MAX_VALUE - 5 even if my machine has the required memory to create an int the size of MAX_VALUE ?","body":"Sry I&#39;m not understanding your answer.. do you mean to say that the maximum is MAX_VALUE - 5 even if my machine has the required memory to create an int the size of MAX_VALUE ?"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":2,"creation_date":1325410972,"post_id":3039805,"comment_id":10811668,"body_markdown":"@Pacerier, yes, the memory address index is 32bit and there is an object header+length, so they still need to be addressed by that 32bit index.","body":"@Pacerier, yes, the memory address index is 32bit and there is an object header+length, so they still need to be addressed by that 32bit index."},{"owner":{"account_id":1063558,"reputation":25048,"user_id":1064659,"accept_rate":77,"display_name":"Taymon"},"score":7,"creation_date":1325411054,"post_id":3039805,"comment_id":10811670,"body_markdown":"Do you happen to know _why_ it won&#39;t give you those five bytes? Is this necessarily something that always happens in Java, or could it just be related to your computer&#39;s memory or something?","body":"Do you happen to know <i>why</i> it won&#39;t give you those five bytes? Is this necessarily something that always happens in Java, or could it just be related to your computer&#39;s memory or something?"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":20,"creation_date":1348869524,"post_id":3039805,"comment_id":17059949,"body_markdown":"@Kevin Bourrillion: This seems to have changed, using Oracle 1.7.0_07 I can allocate up to `MAX_VALUE-2` elements. This is independent of what I allocate, and I really wonder what can the VM use the two &quot;things&quot; for (the length doesn&#39;t fit in 2 bytes).","body":"@Kevin Bourrillion: This seems to have changed, using Oracle 1.7.0_07 I can allocate up to <code>MAX_VALUE-2</code> elements. This is independent of what I allocate, and I really wonder what can the VM use the two &quot;things&quot; for (the length doesn&#39;t fit in 2 bytes)."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":1,"creation_date":1348869683,"post_id":3039805,"comment_id":17059988,"body_markdown":"@bestsss: I don&#39;t think so... there may be only 2 spare bytes (see my above comment) and the object header is much bigger. Actually, the JVM can use unsigned ints, so there must be some other reason.","body":"@bestsss: I don&#39;t think so... there may be only 2 spare bytes (see my above comment) and the object header is much bigger. Actually, the JVM can use unsigned ints, so there must be some other reason."},{"owner":{"account_id":1622859,"reputation":2292,"user_id":1499066,"display_name":"John Smith"},"score":0,"creation_date":1349884024,"post_id":3039805,"comment_id":17345875,"body_markdown":"@KevinBourrillion: Well the five bytes do actually matter in the real world, since you cannot even instance the array (independant of the objects in it).","body":"@KevinBourrillion: Well the five bytes do actually matter in the real world, since you cannot even instance the array (independant of the objects in it)."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":2,"creation_date":1350646451,"post_id":3039805,"comment_id":17592615,"body_markdown":"@maaartinus, *the object header is much bigger* Object header is (usually) 8bytes+4bytes length. References take 4 bytes on 32bit systems.","body":"@maaartinus, <i>the object header is much bigger</i> Object header is (usually) 8bytes+4bytes length. References take 4 bytes on 32bit systems."},{"owner":{"account_id":2121156,"reputation":5654,"user_id":1884363,"accept_rate":69,"display_name":"sudo"},"score":2,"creation_date":1387735025,"post_id":3039805,"comment_id":31062530,"body_markdown":"Wait, it runs out of memory. What if you just give it more memory? I want to know about the maximum length without that restraint. In C and Objective C, when you get the array&#39;s length, it&#39;s represented as a long.","body":"Wait, it runs out of memory. What if you just give it more memory? I want to know about the maximum length without that restraint. In C and Objective C, when you get the array&#39;s length, it&#39;s represented as a long."},{"owner":{"account_id":300331,"reputation":50767,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;š Zato"},"score":0,"creation_date":1390052152,"post_id":3039805,"comment_id":31932014,"body_markdown":"Does this limit also apply on strings?","body":"Does this limit also apply on strings?"},{"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"score":3,"creation_date":1399307486,"post_id":3039805,"comment_id":35996392,"body_markdown":"@Tom&#225;šZato the latest at `Integer.MAX_VALUE+1`, you will have an integer overflow. Array sizes in Java are `int`, not `long`; no matter what data type you store in your array, bytes or references. Strings are just Object references.","body":"@Tom&#225;šZato the latest at <code>Integer.MAX_VALUE+1</code>, you will have an integer overflow. Array sizes in Java are <code>int</code>, not <code>long</code>; no matter what data type you store in your array, bytes or references. Strings are just Object references."},{"owner":{"account_id":300331,"reputation":50767,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;š Zato"},"score":0,"creation_date":1399316757,"post_id":3039805,"comment_id":36001528,"body_markdown":"I&#39;m not sure how to understand this - so does string happen to be encapsulated array of chars or not?","body":"I&#39;m not sure how to understand this - so does string happen to be encapsulated array of chars or not?"},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":8,"creation_date":1425034008,"post_id":3039805,"comment_id":45805541,"body_markdown":"The maximum number of elements in an array in JDK 6 and above is `Integer.MAX_VALUE - 2` = 2 147 483 645. Java successfully allocates such an array if you run it with `-Xmx13G`. It fails with `OutOfMemoryError: Java heap space` if you pass `-Xmx12G`.","body":"The maximum number of elements in an array in JDK 6 and above is <code>Integer.MAX_VALUE - 2</code> = 2 147 483 645. Java successfully allocates such an array if you run it with <code>-Xmx13G</code>. It fails with <code>OutOfMemoryError: Java heap space</code> if you pass <code>-Xmx12G</code>."},{"owner":{"account_id":2874318,"reputation":482,"user_id":2466859,"accept_rate":33,"display_name":"Dhruvam Gupta"},"score":0,"creation_date":1479566970,"post_id":3039805,"comment_id":68617735,"body_markdown":"int arr[] = new int[1000000000]; gives `OutOfMemoryError`","body":"int arr[] = new int[1000000000]; gives <code>OutOfMemoryError</code>"},{"owner":{"account_id":5183088,"reputation":4025,"user_id":4148175,"accept_rate":70,"display_name":"Jim C"},"score":1,"creation_date":1515767214,"post_id":3039805,"comment_id":83438224,"body_markdown":"I guess that future readers may be interested to run eyes over https://stackoverflow.com/questions/48189656/how-properly-discover-the-maximun-size-allowed-for-an-array","body":"I guess that future readers may be interested to run eyes over <a href=\"https://stackoverflow.com/questions/48189656/how-properly-discover-the-maximun-size-allowed-for-an-array\" title=\"how properly discover the maximun size allowed for an array\">stackoverflow.com/questions/48189656/&hellip;</a>"},{"owner":{"account_id":1337381,"reputation":111,"user_id":1279777,"display_name":"avg"},"score":0,"creation_date":1577038382,"post_id":3039805,"comment_id":105076425,"body_markdown":"@AlexeyIvanov You mean an int array right? Testing in Eclipse Version: 2019-06 (4.12.0), jdk1.8.0_221, I got the same result for an int array, setting the options in a run configuration for the test class, although jvisualvm shows 8GB heap space allocated to the test process. For a boolean array I didn&#39;t need to set run config options for the test class with -Xmx1024m set in eclipse.ini, and jvisualvm shows 2GB heap space allocated to the test process.","body":"@AlexeyIvanov You mean an int array right? Testing in Eclipse Version: 2019-06 (4.12.0), jdk1.8.0_221, I got the same result for an int array, setting the options in a run configuration for the test class, although jvisualvm shows 8GB heap space allocated to the test process. For a boolean array I didn&#39;t need to set run config options for the test class with -Xmx1024m set in eclipse.ini, and jvisualvm shows 2GB heap space allocated to the test process."},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1577136807,"post_id":3039805,"comment_id":105103977,"body_markdown":"@avg I don&#39;t remember; likely I was allocating an array of `int`. The required heap size depends on the JVM and chosen GC. Additionally, `boolean` is four times smaller than `int`, and it may be compressed to store 8 values in one byte.","body":"@avg I don&#39;t remember; likely I was allocating an array of <code>int</code>. The required heap size depends on the JVM and chosen GC. Additionally, <code>boolean</code> is four times smaller than <code>int</code>, and it may be compressed to store 8 values in one byte."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":0,"creation_date":1668279090,"post_id":3039805,"comment_id":131368555,"body_markdown":"I&#39;ve finally edited the answer with the more current value. 10 entire years after posting it. Thanks @maaartinus and others.","body":"I&#39;ve finally edited the answer with the more current value. 10 entire years after posting it. Thanks @maaartinus and others."}],"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":18,"down_vote_count":8,"up_vote_count":214,"is_accepted":true,"score":206,"last_activity_date":1668279008,"creation_date":1276540003,"answer_id":3039805,"question_id":3038392,"body_markdown":"Using\r\n\r\n    OpenJDK 64-Bit Server VM (build 15.0.2+7, mixed mode, sharing)\r\n\r\n... on MacOS, the answer seems to be `Integer.MAX_VALUE - 2`.  Once you go beyond that:\r\n\r\n    cat &gt; Foo.java &lt;&lt; &quot;END&quot;\r\n    public class Foo {\r\n      public static void main(String[] args) {\r\n        boolean[] array = new boolean[Integer.MAX_VALUE - 1]; // too big\r\n      }\r\n    }\r\n    END\r\n    java -Xmx4g Foo.java\r\n\r\n... you get:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError:\r\n      Requested array size exceeds VM limit","title":"Do Java arrays have a maximum size?","body":"<p>Using</p>\n<pre><code>OpenJDK 64-Bit Server VM (build 15.0.2+7, mixed mode, sharing)\n</code></pre>\n<p>... on MacOS, the answer seems to be <code>Integer.MAX_VALUE - 2</code>.  Once you go beyond that:</p>\n<pre><code>cat &gt; Foo.java &lt;&lt; &quot;END&quot;\npublic class Foo {\n  public static void main(String[] args) {\n    boolean[] array = new boolean[Integer.MAX_VALUE - 1]; // too big\n  }\n}\nEND\njava -Xmx4g Foo.java\n</code></pre>\n<p>... you get:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError:\n  Requested array size exceeds VM limit\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5733749,"reputation":1003,"user_id":4528545,"accept_rate":50,"display_name":"JohnWinter"},"score":0,"creation_date":1436790089,"post_id":8381338,"comment_id":50743788,"body_markdown":"And why we need to add `-8`?","body":"And why we need to add <code>-8</code>?"},{"owner":{"account_id":1009009,"reputation":11535,"user_id":1369016,"accept_rate":80,"display_name":"Bitcoin Cash - ADA enthusiast"},"score":0,"creation_date":1441238680,"post_id":8381338,"comment_id":52602450,"body_markdown":"@Pacerier. Shouldn&#39;t this MAX_ARRAY_SIZE be applied only when you are using an ArrayList? That is different from using an array like int[] array = new int[some_value_here]; isn&#39;t it? Why can a constant defined in ArrayList be applied to a normal array (defined with [])? Are they the same  behind the scenes?","body":"@Pacerier. Shouldn&#39;t this MAX_ARRAY_SIZE be applied only when you are using an ArrayList? That is different from using an array like int[] array = new int[some_value_here]; isn&#39;t it? Why can a constant defined in ArrayList be applied to a normal array (defined with [])? Are they the same  behind the scenes?"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1448510817,"post_id":8381338,"comment_id":55621469,"body_markdown":"@Tiago, No, the code itself has got nothing to do with the maximum size of arrays. It&#39;s just a claim.","body":"@Tiago, No, the code itself has got nothing to do with the maximum size of arrays. It&#39;s just a claim."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1448510905,"post_id":8381338,"comment_id":55621495,"body_markdown":"@JohnWinter, The quote states &quot;Some VMs reserve some header words in an array&quot;. So the `-8` is due to the bytes the reserved header words would occupy.","body":"@JohnWinter, The quote states &quot;Some VMs reserve some header words in an array&quot;. So the <code>-8</code> is due to the bytes the reserved header words would occupy."},{"owner":{"account_id":13857137,"reputation":333,"user_id":10003645,"display_name":"torez233"},"score":1,"creation_date":1660194348,"post_id":8381338,"comment_id":129476298,"body_markdown":"@Pacerier 2^31 (Integer.MAX_VALUE - 8, approximate) * 2^2 (assume 4 byte int) = 2 ^ 33. But I think 64-bit system have at least 48 bit for their virtual address space. A portion of virtual address space goes to heap segment, so it seems the array in Java can get much larger than this size. Am I missing anything?","body":"@Pacerier 2^31 (Integer.MAX_VALUE - 8, approximate) * 2^2 (assume 4 byte int) = 2 ^ 33. But I think 64-bit system have at least 48 bit for their virtual address space. A portion of virtual address space goes to heap segment, so it seems the array in Java can get much larger than this size. Am I missing anything?"},{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":0,"creation_date":1696438648,"post_id":8381338,"comment_id":136154063,"body_markdown":"not &quot;totally&quot;. No matter the JVM&#39;s limits, it&#39;ll have to work with indices being int - thus, no index larger than Integer.MAX_VALUE is possible.","body":"not &quot;totally&quot;. No matter the JVM&#39;s limits, it&#39;ll have to work with indices being int - thus, no index larger than Integer.MAX_VALUE is possible."}],"tags":[],"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"comment_count":6,"down_vote_count":0,"up_vote_count":147,"is_accepted":false,"score":147,"last_activity_date":1454051622,"creation_date":1323062753,"answer_id":8381338,"question_id":3038392,"body_markdown":"This is (of course) totally VM-dependent.\r\n\r\nBrowsing through the source code of OpenJDK 7 and 8 [`java.util.ArrayList`][1], [`.Hashtable`][3], [`.AbstractCollection`][2],  [`.PriorityQueue`][4], and [`.Vector`][5], you can see this **claim** being repeated:\r\n\r\n&gt;     /**\r\n&gt;      * Some VMs reserve some header words in an array.\r\n&gt;      * Attempts to allocate larger arrays may result in\r\n&gt;      * OutOfMemoryError: Requested array size exceeds VM limit\r\n&gt;      */\r\n&gt;     private static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;\r\n\r\nwhich is added by Martin Buchholz (Google) [on 2010-05-09][9]; reviewed by Chris Hegarty (Oracle).\r\n\r\nSo,  *probably*  we can say that the maximum &quot;safe&quot; number would be  **2 147 483 639** (`Integer.MAX_VALUE - 8`) and &quot;attempts to allocate larger arrays may result in [OutOfMemoryError][10]&quot;.\r\n\r\n\r\n(Yes, Buchholz&#39;s standalone claim does not include backing evidence, so this is a calculated [appeal to authority.][11] Even within OpenJDK itself, we can see code like [`return (minCapacity &gt; MAX_ARRAY_SIZE) ? Integer.MAX_VALUE : MAX_ARRAY_SIZE;`][12] which shows that `MAX_ARRAY_SIZE` does not yet have a *real* use.)\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/util/ArrayList.java#l190\r\n  [2]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/util/AbstractCollection.java#l193\r\n  [3]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/util/Hashtable.java#l367\r\n  [4]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/util/PriorityQueue.java#l263\r\n  [5]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/util/Vector.java#l245\r\n  [6]: https://archive.is/XsFOg#17.22%25\r\n  [7]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java#l223\r\n  [8]: https://archive.is/bjZ1D#15.7%25\r\n  [9]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/rev/ec45423a4700#l3.1\r\n  [10]: https://docs.oracle.com/javase/8/docs/api/java/lang/OutOfMemoryError.html\r\n  [11]: https://yourlogicalfallacyis.com/appeal-to-authority\r\n  [12]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/rev/ec45423a4700#l4.50","title":"Do Java arrays have a maximum size?","body":"<p>This is (of course) totally VM-dependent.</p>\n\n<p>Browsing through the source code of OpenJDK 7 and 8 <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/util/ArrayList.java#l190\" rel=\"noreferrer\"><code>java.util.ArrayList</code></a>, <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/util/Hashtable.java#l367\" rel=\"noreferrer\"><code>.Hashtable</code></a>, <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/util/AbstractCollection.java#l193\" rel=\"noreferrer\"><code>.AbstractCollection</code></a>,  <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/util/PriorityQueue.java#l263\" rel=\"noreferrer\"><code>.PriorityQueue</code></a>, and <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/util/Vector.java#l245\" rel=\"noreferrer\"><code>.Vector</code></a>, you can see this <strong>claim</strong> being repeated:</p>\n\n<blockquote>\n<pre><code>/**\n * Some VMs reserve some header words in an array.\n * Attempts to allocate larger arrays may result in\n * OutOfMemoryError: Requested array size exceeds VM limit\n */\nprivate static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;\n</code></pre>\n</blockquote>\n\n<p>which is added by Martin Buchholz (Google) <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/rev/ec45423a4700#l3.1\" rel=\"noreferrer\">on 2010-05-09</a>; reviewed by Chris Hegarty (Oracle).</p>\n\n<p>So,  <em>probably</em>  we can say that the maximum \"safe\" number would be  <strong>2 147 483 639</strong> (<code>Integer.MAX_VALUE - 8</code>) and \"attempts to allocate larger arrays may result in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/OutOfMemoryError.html\" rel=\"noreferrer\">OutOfMemoryError</a>\".</p>\n\n<p>(Yes, Buchholz's standalone claim does not include backing evidence, so this is a calculated <a href=\"https://yourlogicalfallacyis.com/appeal-to-authority\" rel=\"noreferrer\">appeal to authority.</a> Even within OpenJDK itself, we can see code like <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/rev/ec45423a4700#l4.50\" rel=\"noreferrer\"><code>return (minCapacity &gt; MAX_ARRAY_SIZE) ? Integer.MAX_VALUE : MAX_ARRAY_SIZE;</code></a> which shows that <code>MAX_ARRAY_SIZE</code> does not yet have a <em>real</em> use.)</p>\n"},{"comments":[{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":6,"creation_date":1425033781,"post_id":20793805,"comment_id":45805405,"body_markdown":"Java can&#39;t allocate array of size `Integer.MAX_VALUE - 1`, you&#39;ll get &quot;java.lang.OutOfMemoryError: Requested array size exceeds VM limit&quot;. The maximum number of elements in JDK 6 and above is `Integer.MAX_VALUE - 2` = 2 147 483 645.","body":"Java can&#39;t allocate array of size <code>Integer.MAX_VALUE - 1</code>, you&#39;ll get &quot;java.lang.OutOfMemoryError: Requested array size exceeds VM limit&quot;. The maximum number of elements in JDK 6 and above is <code>Integer.MAX_VALUE - 2</code> = 2 147 483 645."}],"tags":[],"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"comment_count":1,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1388110188,"creation_date":1388110188,"answer_id":20793805,"question_id":3038392,"body_markdown":"Maximum number of elements of an `array` is `(2^31)−1` or `2 147 483 647` \r\n\r\n","title":"Do Java arrays have a maximum size?","body":"<p>Maximum number of elements of an <code>array</code> is <code>(2^31)−1</code> or <code>2 147 483 647</code> </p>\n"},{"comments":[{"owner":{"account_id":430793,"reputation":1500,"user_id":814422,"display_name":"kbolino"},"score":8,"creation_date":1453932135,"post_id":22515625,"comment_id":57822103,"body_markdown":"Java lacks the syntactic sugar for multidimensional arrays, but you can still &quot;have&quot; them with a little bit of multiplication (unless the total size of the array exceeded the aforementioned limit)","body":"Java lacks the syntactic sugar for multidimensional arrays, but you can still &quot;have&quot; them with a little bit of multiplication (unless the total size of the array exceeded the aforementioned limit)"},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":2,"creation_date":1595764349,"post_id":22515625,"comment_id":111580974,"body_markdown":"@kbolino It&#39;s true. I&#39;m sure the scientific users are smart enough to make their own multi-dimensional arrays","body":"@kbolino It&#39;s true. I&#39;m sure the scientific users are smart enough to make their own multi-dimensional arrays"}],"tags":[],"owner":{"account_id":1304470,"reputation":883,"user_id":1253717,"accept_rate":50,"display_name":"working"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1453238051,"creation_date":1395255453,"answer_id":22515625,"question_id":3038392,"body_markdown":"Going by this article http://en.wikipedia.org/wiki/Criticism_of_Java#Large_arrays:\r\n\r\n&gt; Java has been criticized for not supporting arrays of more than 2&lt;sup&gt;31&lt;/sup&gt;−1 (about 2.1 billion) elements. This is a limitation of the language; the Java Language Specification, Section 10.4, states that:\r\n&gt; &gt; Arrays must be indexed by int values... An attempt to access an array\r\n&gt; &gt; component with a long index value results in a compile-time error.\r\n\r\nSupporting large arrays would also require changes to the JVM. This limitation manifests itself in areas such as collections being limited to 2 billion elements and the inability to memory map files larger than 2 GiB. Java also lacks true multidimensional arrays (contiguously allocated single blocks of memory accessed by a single indirection), which limits performance for scientific and technical computing.\r\n\r\n   \r\n\r\n\r\n\r\n","title":"Do Java arrays have a maximum size?","body":"<p>Going by this article <a href=\"http://en.wikipedia.org/wiki/Criticism_of_Java#Large_arrays\">http://en.wikipedia.org/wiki/Criticism_of_Java#Large_arrays</a>:</p>\n\n<blockquote>\n  <p>Java has been criticized for not supporting arrays of more than 2<sup>31</sup>−1 (about 2.1 billion) elements. This is a limitation of the language; the Java Language Specification, Section 10.4, states that:</p>\n  \n  <blockquote>\n    <p>Arrays must be indexed by int values... An attempt to access an array\n    component with a long index value results in a compile-time error.</p>\n  </blockquote>\n</blockquote>\n\n<p>Supporting large arrays would also require changes to the JVM. This limitation manifests itself in areas such as collections being limited to 2 billion elements and the inability to memory map files larger than 2 GiB. Java also lacks true multidimensional arrays (contiguously allocated single blocks of memory accessed by a single indirection), which limits performance for scientific and technical computing.</p>\n"},{"tags":[],"owner":{"account_id":5741072,"reputation":2824,"user_id":4533771,"display_name":"Dhanuka"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1694863469,"creation_date":1434955870,"answer_id":30973632,"question_id":3038392,"body_markdown":"Arrays are non-negative integer indexed , so maximum array size you can access would be `Integer.MAX_VALUE`. The other thing is how big array you can create. It depends on the maximum memory available to your JVM and the content type of the array. Each array element has it&#39;s size, example. `byte` = 1 byte, `int` = 4 bytes, `Object` reference = 4 bytes (on a 32 bit system).\r\n\r\nSo if you have 1 MB of memory available on your machine, you could allocate an array of `byte[1024 * 1024]` or `Object[256 * 1024]`. \r\n\r\n*Answering your question* - You can allocate an array of size (maximum available memory / size of array item).   \r\n \r\n*Summary* - Theoretically the maximum size of an array will be `Integer.MAX_VALUE`. Practically it depends on how much memory your JVM has and how much of that has already been allocated to other objects.\r\n","title":"Do Java arrays have a maximum size?","body":"<p>Arrays are non-negative integer indexed , so maximum array size you can access would be <code>Integer.MAX_VALUE</code>. The other thing is how big array you can create. It depends on the maximum memory available to your JVM and the content type of the array. Each array element has it's size, example. <code>byte</code> = 1 byte, <code>int</code> = 4 bytes, <code>Object</code> reference = 4 bytes (on a 32 bit system).</p>\n<p>So if you have 1 MB of memory available on your machine, you could allocate an array of <code>byte[1024 * 1024]</code> or <code>Object[256 * 1024]</code>.</p>\n<p><em>Answering your question</em> - You can allocate an array of size (maximum available memory / size of array item).</p>\n<p><em>Summary</em> - Theoretically the maximum size of an array will be <code>Integer.MAX_VALUE</code>. Practically it depends on how much memory your JVM has and how much of that has already been allocated to other objects.</p>\n"},{"tags":[],"owner":{"account_id":5523445,"reputation":71,"user_id":4385699,"display_name":"Vasilis Nicolaou"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501508347,"creation_date":1501508347,"answer_id":45417544,"question_id":3038392,"body_markdown":"I tried to create a byte array like this\r\n\r\n    byte[] bytes = new byte[Integer.MAX_VALUE-x];\r\n    System.out.println(bytes.length);\r\n\r\nWith this run configuration:\r\n\r\n    -Xms4G -Xmx4G\r\n\r\nAnd java version:\r\n\r\n&gt; Openjdk version &quot;1.8.0_141&quot; \r\n\r\n&gt;OpenJDK Runtime Environment (build 1.8.0_141-b16) \r\n\r\n&gt;OpenJDK 64-Bit Server VM (build 25.141-b16, mixed mode)\r\n\r\nIt only works for x &gt;= 2 which means the maximum size of an array is Integer.MAX_VALUE-2\r\n\r\nValues above that give\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Requested array size exceeds VM limit\r\n\tat Main.main(Main.java:6)","title":"Do Java arrays have a maximum size?","body":"<p>I tried to create a byte array like this</p>\n\n<pre><code>byte[] bytes = new byte[Integer.MAX_VALUE-x];\nSystem.out.println(bytes.length);\n</code></pre>\n\n<p>With this run configuration:</p>\n\n<pre><code>-Xms4G -Xmx4G\n</code></pre>\n\n<p>And java version:</p>\n\n<blockquote>\n  <p>Openjdk version \"1.8.0_141\" </p>\n  \n  <p>OpenJDK Runtime Environment (build 1.8.0_141-b16) </p>\n  \n  <p>OpenJDK 64-Bit Server VM (build 25.141-b16, mixed mode)</p>\n</blockquote>\n\n<p>It only works for x >= 2 which means the maximum size of an array is Integer.MAX_VALUE-2</p>\n\n<p>Values above that give</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.OutOfMemoryError: Requested array size exceeds VM limit\n      at Main.main(Main.java:6)</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1568147259,"post_id":54480674,"comment_id":102180387,"body_markdown":"You&#39;re using a 32-bit JVM. Use a 64-bit JVM and the JVM limit will be close to 2^31. (You also need heap space available, which is not the default, and will be affected by your physical memory.)","body":"You&#39;re using a 32-bit JVM. Use a 64-bit JVM and the JVM limit will be close to 2^31. (You also need heap space available, which is not the default, and will be affected by your physical memory.)"}],"tags":[],"owner":{"account_id":13252283,"reputation":11,"user_id":9569467,"display_name":"Ferned"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1549028894,"creation_date":1549028256,"answer_id":54480674,"question_id":3038392,"body_markdown":"Actually it&#39;s java limitation caping it at 2^30-4 being 1073741820. Not 2^31-1. Dunno why but i tested it manually on jdk. [2^30-3 still throwing vm except][1]\r\n\r\nEdit: fixed -1 to -4, checked on windows jvm\r\n\r\n  [1]: https://i.stack.imgur.com/zRGQy.jpg","title":"Do Java arrays have a maximum size?","body":"<p>Actually it's java limitation caping it at 2^30-4 being 1073741820. Not 2^31-1. Dunno why but i tested it manually on jdk. <a href=\"https://i.stack.imgur.com/zRGQy.jpg\" rel=\"nofollow noreferrer\">2^30-3 still throwing vm except</a></p>\n\n<p>Edit: fixed -1 to -4, checked on windows jvm</p>\n"},{"comments":[{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1669136832,"post_id":57781957,"comment_id":131573808,"body_markdown":"Other answers indicated it&#39;s not possible to allocate an array of `Integer.MAX_VALUE` even if you have memory available.","body":"Other answers indicated it&#39;s not possible to allocate an array of <code>Integer.MAX_VALUE</code> even if you have memory available."},{"owner":{"account_id":16722719,"reputation":51,"user_id":12087158,"display_name":"dimm"},"score":0,"creation_date":1691919436,"post_id":57781957,"comment_id":135553689,"body_markdown":"2^32 is not 2,147,483,647 (which is 2^31 - 1)","body":"2^32 is not 2,147,483,647 (which is 2^31 - 1)"}],"tags":[],"owner":{"account_id":15363015,"reputation":27,"user_id":11083321,"display_name":"Avinash Barde"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1567574668,"creation_date":1567574668,"answer_id":57781957,"question_id":3038392,"body_markdown":"Yes, there limit on java array. Java uses an integer as an index to the array and the maximum integer store by JVM is 2^32. so you can store 2,147,483,647 elements in the array. \r\n\r\nIn case you need more than max-length you can use two different arrays but the recommended method is store data into a file. because storing data in the file has no limit. because files stored in your storage drivers but array are stored in JVM. JVM provides limited space for program execution. ","title":"Do Java arrays have a maximum size?","body":"<p>Yes, there limit on java array. Java uses an integer as an index to the array and the maximum integer store by JVM is 2^32. so you can store 2,147,483,647 elements in the array. </p>\n\n<p>In case you need more than max-length you can use two different arrays but the recommended method is store data into a file. because storing data in the file has no limit. because files stored in your storage drivers but array are stored in JVM. JVM provides limited space for program execution. </p>\n"},{"tags":[],"owner":{"account_id":18504952,"reputation":29,"user_id":13481465,"display_name":"maor averbuch"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623959012,"creation_date":1623959012,"answer_id":68025659,"question_id":3038392,"body_markdown":"Java array has a limit because its a integer array, what meant it has up to 2,147,483,647 elements in array","title":"Do Java arrays have a maximum size?","body":"<p>Java array has a limit because its a integer array, what meant it has up to 2,147,483,647 elements in array</p>\n"}],"owner":{"account_id":42281,"reputation":44028,"user_id":123140,"accept_rate":92,"display_name":"Lizard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229307,"favorite_count":0,"down_vote_count":1,"up_vote_count":250,"accepted_answer_id":3039805,"answer_count":10,"score":249,"last_activity_date":1694863469,"creation_date":1276528591,"question_id":3038392,"body_markdown":"Is there a limit to the number of elements a Java array can contain? If so, what is it?","title":"Do Java arrays have a maximum size?","body":"<p>Is there a limit to the number of elements a Java array can contain? If so, what is it?</p>\n"},{"tags":["java","spring","rest","web-services","rate-limiting"],"answers":[{"comments":[{"owner":{"account_id":364230,"reputation":2747,"user_id":708502,"accept_rate":38,"display_name":"shree"},"score":0,"creation_date":1695037086,"post_id":77117497,"comment_id":135966051,"body_markdown":"Thank you. but if we use ip, how to maintain in map as its dyanamic IP instance?","body":"Thank you. but if we use ip, how to maintain in map as its dyanamic IP instance?"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1695052009,"post_id":77117497,"comment_id":135969331,"body_markdown":"yse. to keep it simple, you can use a local cache . the key is the IP and the values is that ip &#39;s rate limiter. Think that you also need to  configure the the cache will automatically expiry if an entry is not accessed for more than certain time period in order to prevent OOM","body":"yse. to keep it simple, you can use a local cache . the key is the IP and the values is that ip &#39;s rate limiter. Think that you also need to  configure the the cache will automatically expiry if an entry is not accessed for more than certain time period in order to prevent OOM"},{"owner":{"account_id":364230,"reputation":2747,"user_id":708502,"accept_rate":38,"display_name":"shree"},"score":0,"creation_date":1695110311,"post_id":77117497,"comment_id":135976730,"body_markdown":"Okay. thank you  Ken Chan . Do we have any aws api service for throttling rest call instead of doing the implementation in Spring?","body":"Okay. thank you  Ken Chan . Do we have any aws api service for throttling rest call instead of doing the implementation in Spring?"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1695112994,"post_id":77117497,"comment_id":135977260,"body_markdown":"if you are using AWS gateway , it already has the IP rate limiting feature (https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-request-throttling.html)","body":"if you are using AWS gateway , it already has the IP rate limiting feature (<a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-request-throttling.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/apigateway/latest/developerguide/&hellip;</a>)"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694862792,"creation_date":1694862490,"answer_id":77117497,"question_id":77113760,"body_markdown":"There are some standalone rate limiter libraries that you can consider to use. Some of the well-known one are from [resilience4j][1] and [Guava][2]. But please note that they are not distributed , meaning that the rate limiting will only be applied to a single instance and will not be shared across all the app instances. \r\n\r\n\r\nAnother thing normally you need to think about is if the rate limiter is applied per IP or per user or both. Codewise , it basically means that you have to maintain a map of the rate limiter instance per IP/user/both and get the rate limiter belongs to that IP/user/both to check if the rate limiter hits the limit before processing an API request in the spring-mvc controller method.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/docs/ratelimiter\r\n  [2]: https://www.baeldung.com/guava-rate-limiter","title":"How to implement Rate Limiter in rest api call, spring mvc application without using springboot, or cloud?","body":"<p>There are some standalone rate limiter libraries that you can consider to use. Some of the well-known one are from <a href=\"https://resilience4j.readme.io/docs/ratelimiter\" rel=\"nofollow noreferrer\">resilience4j</a> and <a href=\"https://www.baeldung.com/guava-rate-limiter\" rel=\"nofollow noreferrer\">Guava</a>. But please note that they are not distributed , meaning that the rate limiting will only be applied to a single instance and will not be shared across all the app instances.</p>\n<p>Another thing normally you need to think about is if the rate limiter is applied per IP or per user or both. Codewise , it basically means that you have to maintain a map of the rate limiter instance per IP/user/both and get the rate limiter belongs to that IP/user/both to check if the rate limiter hits the limit before processing an API request in the spring-mvc controller method.</p>\n"}],"owner":{"account_id":364230,"reputation":2747,"user_id":708502,"accept_rate":38,"display_name":"shree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77117497,"answer_count":1,"score":0,"last_activity_date":1694862792,"creation_date":1694793159,"question_id":77113760,"body_markdown":"i have a application which runs on a tomcat using  spring and java. we are not using spring boot, cloud. as per requirement, if any brute force attack happened, need to use rate limiter concept in rest api calls. is there any example?. i couldn&#39;t find anywhere. mostly in google am seeing that all examples related spring boot only. please share any implementation link if anybody has?","title":"How to implement Rate Limiter in rest api call, spring mvc application without using springboot, or cloud?","body":"<p>i have a application which runs on a tomcat using  spring and java. we are not using spring boot, cloud. as per requirement, if any brute force attack happened, need to use rate limiter concept in rest api calls. is there any example?. i couldn't find anywhere. mostly in google am seeing that all examples related spring boot only. please share any implementation link if anybody has?</p>\n"},{"tags":["java","mongodb","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1694809618,"post_id":77113646,"comment_id":135945055,"body_markdown":"i suggest you read the spring security authorization servers best practices for authenticating browser based applications https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390 you have written a custom login which is usually referred to an `implicit flow` which was deprecated in the oauth2 standard because it has some severe vulnerabilities. You should never hand out JWT tokens directly to browser, they where never designed for this. They were designed for authenticating between microservices in the backend. This is why you have to write all this custom code","body":"i suggest you read the spring security authorization servers best practices for authenticating browser based applications <a href=\"https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-authorization-server/issue&zwnj;&#8203;s/&hellip;</a> you have written a custom login which is usually referred to an <code>implicit flow</code> which was deprecated in the oauth2 standard because it has some severe vulnerabilities. You should never hand out JWT tokens directly to browser, they where never designed for this. They were designed for authenticating between microservices in the backend. This is why you have to write all this custom code"}],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694860915,"creation_date":1694796281,"answer_id":77114088,"question_id":77113646,"body_markdown":"I think you missed negation `!` in `isTokenValid` method.\r\n\r\ninstead of \r\n```\r\nusername.equals(userDetails.getUsername())) &amp;&amp; isTokenExpired(token)\r\n```\r\nshould be \r\n```\r\nusername.equals(userDetails.getUsername())) &amp;&amp; !isTokenExpired(token)\r\n```\r\n    ","title":"Spring Security Configuration with JWT Authentication Causes HTTP 403 Forbidden Error in Postman with Bearer token set","body":"<p>I think you missed negation <code>!</code> in <code>isTokenValid</code> method.</p>\n<p>instead of</p>\n<pre><code>username.equals(userDetails.getUsername())) &amp;&amp; isTokenExpired(token)\n</code></pre>\n<p>should be</p>\n<pre><code>username.equals(userDetails.getUsername())) &amp;&amp; !isTokenExpired(token)\n</code></pre>\n"}],"owner":{"account_id":15584290,"reputation":33,"user_id":11243256,"display_name":"Mr Williams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77114088,"answer_count":1,"score":-1,"last_activity_date":1694860915,"creation_date":1694792199,"question_id":77113646,"body_markdown":"I am developing a Spring Boot application and I am trying to implement some authentication using JWT tokens. I have done everything that I can but for some reason the token that is being generated is not letting me access an endpoint when I try to access it from Postman. I have put the token in the Bearer Token section in the Authorisation for Postman but I am still getting a 403 error\r\n\r\nHere is the code I have used in the set up \r\n\r\nSecurityConfig\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement(session -&gt; session\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                )\r\n                .authorizeHttpRequests( authorize -&gt; authorize\r\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n\r\n\r\n\r\n        return http.build();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nJWTService:\r\n\r\n```\r\n@Service\r\npublic class JwtService {\r\n\r\n    @Value(&quot;${SECRET_KEY}&quot;)\r\n    private String secretKey;\r\n\r\n    public String extractUsername(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver){\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n\r\n    public String generateToken(UserDetails userDetails){\r\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\r\n    }\r\n\r\n    public String generateToken(\r\n            Map&lt;String, Object&gt; extraClaims,\r\n            UserDetails userDetails\r\n    ){\r\n        return Jwts\r\n                .builder()\r\n                .setClaims(extraClaims)\r\n                .setSubject(userDetails.getUsername())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\r\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    public boolean isTokenValid(String token, UserDetails userDetails) {\r\n        final String username = extractUsername(token);\r\n        return(username.equals(userDetails.getUsername())) &amp;&amp; isTokenExpired(token);\r\n    }\r\n\r\n    private boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    private Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    private Claims extractAllClaims(String token){\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(getSignInKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    private Key getSignInKey() {\r\n//        var secretKey = ;\r\n        byte[] keyBytes = Decoders.BASE64.decode(secretKey);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAuthenticationFilter:\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtService jwtService;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n        final String authHeader = request.getHeader(AUTHORIZATION);\r\n        final String jwt;\r\n        final String userEmail;\r\n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        jwt = authHeader.substring(7);\r\n        userEmail = jwtService.extractUsername(jwt);\r\n        if(userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n            if(jwtService.isTokenValid(jwt, userDetails)){\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authToken.setDetails(\r\n                        new WebAuthenticationDetailsSource().buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nApplicationConfig:\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n    private final UserRepository repository;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(){\r\n        return username -&gt; repository.findByEmail(username)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider(){\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n        return config.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nAuthenticationService:\r\n\r\n```\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AuthenticationService {\r\n\r\n    private final UserRepository repository;\r\n    private final PasswordEncoder passwordEncoder;\r\n    private final JwtService jwtService;\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    public AuthenticationResponse register(RegisterRequest request) {\r\n        var user = User.builder()\r\n                .firstName(request.getFirstName())\r\n                .lastName(request.getLastName())\r\n                .email(request.getEmail())\r\n                .password(passwordEncoder.encode(request.getPassword()))\r\n                .role(Role.USER)\r\n                .build();\r\n\r\n\r\n        repository.save(user);\r\n        var jwtToken = jwtService.generateToken(user);\r\n        return AuthenticationResponse.builder().token(jwtToken).build();\r\n    }\r\n\r\n    public AuthenticationResponse authenticate(AuthenticationRequest request) {\r\n        authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        request.getEmail(),\r\n                        request.getPassword()\r\n                )\r\n        );\r\n        var user = repository.findByEmail(request.getEmail())\r\n                .orElseThrow();\r\n        var jwtToken = jwtService.generateToken(user);\r\n        return AuthenticationResponse.builder().token(jwtToken).build();\r\n    }\r\n}\r\n```\r\n\r\nAuthenticationController:\r\n```\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/auth&quot;)\r\n@RequiredArgsConstructor\r\npublic class AuthenticationController {\r\n\r\n    private final AuthenticationService authenticationService;\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; register(\r\n            @RequestBody RegisterRequest request\r\n    ){\r\n        return ResponseEntity.ok(authenticationService.register(request));\r\n    }\r\n\r\n    @PostMapping(&quot;/authenticate&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(\r\n            @RequestBody AuthenticationRequest request\r\n    ){\r\n        return ResponseEntity.ok(authenticationService.authenticate(request));\r\n    }\r\n\r\n}\r\n```\r\n\r\nDespite me being able to register a new user and then authenticate the user (returns the jwt token), when I go to but this token that is returned in postman to access another endpoint in the project, I get a 403 Forbidden response. Please is anyone able to help me with this.","title":"Spring Security Configuration with JWT Authentication Causes HTTP 403 Forbidden Error in Postman with Bearer token set","body":"<p>I am developing a Spring Boot application and I am trying to implement some authentication using JWT tokens. I have done everything that I can but for some reason the token that is being generated is not letting me access an endpoint when I try to access it from Postman. I have put the token in the Bearer Token section in the Authorisation for Postman but I am still getting a 403 error</p>\n<p>Here is the code I have used in the set up</p>\n<p>SecurityConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(session -&gt; session\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                )\n                .authorizeHttpRequests( authorize -&gt; authorize\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n\n\n\n        return http.build();\n    }\n\n}\n\n</code></pre>\n<p>JWTService:</p>\n<pre><code>@Service\npublic class JwtService {\n\n    @Value(&quot;${SECRET_KEY}&quot;)\n    private String secretKey;\n\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver){\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    public String generateToken(UserDetails userDetails){\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public String generateToken(\n            Map&lt;String, Object&gt; extraClaims,\n            UserDetails userDetails\n    ){\n        return Jwts\n                .builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    public boolean isTokenValid(String token, UserDetails userDetails) {\n        final String username = extractUsername(token);\n        return(username.equals(userDetails.getUsername())) &amp;&amp; isTokenExpired(token);\n    }\n\n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    private Claims extractAllClaims(String token){\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(getSignInKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Key getSignInKey() {\n//        var secretKey = ;\n        byte[] keyBytes = Decoders.BASE64.decode(secretKey);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n}\n\n</code></pre>\n<p>AuthenticationFilter:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain\n    ) throws ServletException, IOException {\n        final String authHeader = request.getHeader(AUTHORIZATION);\n        final String jwt;\n        final String userEmail;\n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)){\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n        if(userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            if(jwtService.isTokenValid(jwt, userDetails)){\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n            filterChain.doFilter(request, response);\n        }\n    }\n}\n\n</code></pre>\n<p>ApplicationConfig:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final UserRepository repository;\n\n    @Bean\n    public UserDetailsService userDetailsService(){\n        return username -&gt; repository.findByEmail(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>AuthenticationService:</p>\n<pre><code>\n@Service\n@RequiredArgsConstructor\npublic class AuthenticationService {\n\n    private final UserRepository repository;\n    private final PasswordEncoder passwordEncoder;\n    private final JwtService jwtService;\n    private final AuthenticationManager authenticationManager;\n\n    public AuthenticationResponse register(RegisterRequest request) {\n        var user = User.builder()\n                .firstName(request.getFirstName())\n                .lastName(request.getLastName())\n                .email(request.getEmail())\n                .password(passwordEncoder.encode(request.getPassword()))\n                .role(Role.USER)\n                .build();\n\n\n        repository.save(user);\n        var jwtToken = jwtService.generateToken(user);\n        return AuthenticationResponse.builder().token(jwtToken).build();\n    }\n\n    public AuthenticationResponse authenticate(AuthenticationRequest request) {\n        authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        request.getEmail(),\n                        request.getPassword()\n                )\n        );\n        var user = repository.findByEmail(request.getEmail())\n                .orElseThrow();\n        var jwtToken = jwtService.generateToken(user);\n        return AuthenticationResponse.builder().token(jwtToken).build();\n    }\n}\n</code></pre>\n<p>AuthenticationController:</p>\n<pre><code>\n@RestController\n@RequestMapping(&quot;/api/v1/auth&quot;)\n@RequiredArgsConstructor\npublic class AuthenticationController {\n\n    private final AuthenticationService authenticationService;\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; register(\n            @RequestBody RegisterRequest request\n    ){\n        return ResponseEntity.ok(authenticationService.register(request));\n    }\n\n    @PostMapping(&quot;/authenticate&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(\n            @RequestBody AuthenticationRequest request\n    ){\n        return ResponseEntity.ok(authenticationService.authenticate(request));\n    }\n\n}\n</code></pre>\n<p>Despite me being able to register a new user and then authenticate the user (returns the jwt token), when I go to but this token that is returned in postman to access another endpoint in the project, I get a 403 Forbidden response. Please is anyone able to help me with this.</p>\n"},{"tags":["java","javafx","medusa"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":7,"creation_date":1694857273,"post_id":77116834,"comment_id":135948487,"body_markdown":"Maybe you could post a [mcve]?","body":"Maybe you could post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"owner":{"account_id":29457718,"reputation":1,"user_id":22573178,"display_name":"Jenil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694860410,"creation_date":1694850273,"question_id":77116834,"body_markdown":"I&#39;m using the `Gauge` from [Medusa](https://github.com/HanSolo/Medusa) to show battery percentage for my JavaFX project. After some iteration of updating I&#39;m getting this error.\r\n\r\nHere is the error I&#39;m getting.\r\n\r\n```none\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/java.util.Arrays.copyOf(Arrays.java:3481)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.sg.prism.GrowableDataBuffer.putObject(GrowableDataBuffer.java:417)\r\n\tat javafx.graphics@18.0.2/javafx.scene.canvas.GraphicsContext.writeText(GraphicsContext.java:782)\r\n\tat javafx.graphics@18.0.2/javafx.scene.canvas.GraphicsContext.fillText(GraphicsContext.java:1648)\r\n\tat eu.hansolo.medusa.tools.Helper.drawRadialTickMarks(Helper.java:971)\r\n\tat eu.hansolo.medusa.skins.GaugeSkin.redraw(GaugeSkin.java:1095)\r\n\tat eu.hansolo.medusa.skins.GaugeSkinBase.handleEvents(GaugeSkinBase.java:60)\r\n\tat eu.hansolo.medusa.skins.GaugeSkin.handleEvents(GaugeSkin.java:305)\r\n\tat eu.hansolo.medusa.skins.GaugeSkinBase.lambda$registerListeners$2(GaugeSkinBase.java:52)\r\n\tat eu.hansolo.medusa.skins.GaugeSkinBase$$Lambda$203/0x00000001002c06c0.onUpdateEvent(Unknown Source)\r\n\tat eu.hansolo.medusa.Gauge.fireUpdateEvent(Gauge.java:5887)\r\n\tat eu.hansolo.medusa.Gauge.setBarColor(Gauge.java:3492)\r\n\tat com.log9materials.utilities.ui_utilities.FXUtilities$16.run(FXUtilities.java:388)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl$$Lambda$104/0x0000000100143218.run(Unknown Source)\r\n\tat java.base/java.security.AccessController.executePrivileged(AccessController.java:776)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl$$Lambda$103/0x0000000100141fc8.run(Unknown Source)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication$$Lambda$92/0x0000000100130d10.run(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\nHere is my code.\r\n```java\r\nPlatform.runLater(new Runnable() {\r\n\r\n    @Override\r\n    public void run() {\r\n        if (gaugeIndicator != null) {\r\n            gaugeIndicator.setValue(doubleValue);\r\n            if (doubleValue &lt;= 10) {\r\n                gaugeIndicator.setBarColor(Color.RED);\r\n            } else if (doubleValue &lt;= 20) {\r\n                gaugeIndicator.setBarColor(Color.YELLOW);\r\n            } else if (doubleValue &lt;= 80) {\r\n                gaugeIndicator.setBarColor(Color.ORANGE);\r\n            } else {\r\n                gaugeIndicator.setBarColor(Color.GREEN);\r\n            }\r\n        }\r\n    }\r\n}","title":"Exception in thread &quot;JavaFX Application Thread&quot; java.lang.OutOfMemoryError: Java heap space - While using medusa ga","body":"<p>I'm using the <code>Gauge</code> from <a href=\"https://github.com/HanSolo/Medusa\" rel=\"nofollow noreferrer\">Medusa</a> to show battery percentage for my JavaFX project. After some iteration of updating I'm getting this error.</p>\n<p>Here is the error I'm getting.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.Arrays.copyOf(Arrays.java:3481)\n    at javafx.graphics@18.0.2/com.sun.javafx.sg.prism.GrowableDataBuffer.putObject(GrowableDataBuffer.java:417)\n    at javafx.graphics@18.0.2/javafx.scene.canvas.GraphicsContext.writeText(GraphicsContext.java:782)\n    at javafx.graphics@18.0.2/javafx.scene.canvas.GraphicsContext.fillText(GraphicsContext.java:1648)\n    at eu.hansolo.medusa.tools.Helper.drawRadialTickMarks(Helper.java:971)\n    at eu.hansolo.medusa.skins.GaugeSkin.redraw(GaugeSkin.java:1095)\n    at eu.hansolo.medusa.skins.GaugeSkinBase.handleEvents(GaugeSkinBase.java:60)\n    at eu.hansolo.medusa.skins.GaugeSkin.handleEvents(GaugeSkin.java:305)\n    at eu.hansolo.medusa.skins.GaugeSkinBase.lambda$registerListeners$2(GaugeSkinBase.java:52)\n    at eu.hansolo.medusa.skins.GaugeSkinBase$$Lambda$203/0x00000001002c06c0.onUpdateEvent(Unknown Source)\n    at eu.hansolo.medusa.Gauge.fireUpdateEvent(Gauge.java:5887)\n    at eu.hansolo.medusa.Gauge.setBarColor(Gauge.java:3492)\n    at com.log9materials.utilities.ui_utilities.FXUtilities$16.run(FXUtilities.java:388)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl$$Lambda$104/0x0000000100143218.run(Unknown Source)\n    at java.base/java.security.AccessController.executePrivileged(AccessController.java:776)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@18.0.2/com.sun.javafx.application.PlatformImpl$$Lambda$103/0x0000000100141fc8.run(Unknown Source)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication$$Lambda$92/0x0000000100130d10.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Here is my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Platform.runLater(new Runnable() {\n\n    @Override\n    public void run() {\n        if (gaugeIndicator != null) {\n            gaugeIndicator.setValue(doubleValue);\n            if (doubleValue &lt;= 10) {\n                gaugeIndicator.setBarColor(Color.RED);\n            } else if (doubleValue &lt;= 20) {\n                gaugeIndicator.setBarColor(Color.YELLOW);\n            } else if (doubleValue &lt;= 80) {\n                gaugeIndicator.setBarColor(Color.ORANGE);\n            } else {\n                gaugeIndicator.setBarColor(Color.GREEN);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","webserver","legacy","jetty-9"],"answers":[{"comments":[{"owner":{"account_id":15787958,"reputation":3,"user_id":14702614,"display_name":"Bruno Cabete"},"score":0,"creation_date":1694892693,"post_id":77117365,"comment_id":135952224,"body_markdown":"Thank you, I think my question had its origin on not knowing about the read-only quality of those folders and files. This makes me more confident about trying to re-manage the system structure.","body":"Thank you, I think my question had its origin on not knowing about the read-only quality of those folders and files. This makes me more confident about trying to re-manage the system structure."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694860091,"creation_date":1694860091,"answer_id":77117365,"question_id":77114992,"body_markdown":"&gt; Will this cause any problems with information being leaked from an app to another? \r\n\r\nNo.\r\n\r\n&gt; I know that jetty will extract the contents of the .war file to a work folder inside its respective folder structure and read it from there, but I don&#39;t know if this is enough to prevent any leaking of session info from the instances?\r\n\r\nI can&#39;t think of any (plausible) way that information *could* go: \r\n\r\n  - from a running webapp in one Jetty instance \r\n  - to the web container&#39;s exploded folder (read only) \r\n  - to the WAR file (read only)\r\n  - to an exploded folder (read only) in a different Jetty instance\r\n  - to the webapp running in the 2nd Jenny instance.\r\n\r\nSession information *could* potentially leak between Jetty instances if they use the same session tokens and the same database to hold persistent session information.  But that has nothing to do with sharing WAR files. \r\n\r\nI can&#39;t think of any downsides of sharing WAR files.","title":"Are there any downsides to reference the same .war file from many Jetty server instances?","body":"<blockquote>\n<p>Will this cause any problems with information being leaked from an app to another?</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p>I know that jetty will extract the contents of the .war file to a work folder inside its respective folder structure and read it from there, but I don't know if this is enough to prevent any leaking of session info from the instances?</p>\n</blockquote>\n<p>I can't think of any (plausible) way that information <em>could</em> go:</p>\n<ul>\n<li>from a running webapp in one Jetty instance</li>\n<li>to the web container's exploded folder (read only)</li>\n<li>to the WAR file (read only)</li>\n<li>to an exploded folder (read only) in a different Jetty instance</li>\n<li>to the webapp running in the 2nd Jenny instance.</li>\n</ul>\n<p>Session information <em>could</em> potentially leak between Jetty instances if they use the same session tokens and the same database to hold persistent session information.  But that has nothing to do with sharing WAR files.</p>\n<p>I can't think of any downsides of sharing WAR files.</p>\n"}],"owner":{"account_id":15787958,"reputation":3,"user_id":14702614,"display_name":"Bruno Cabete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77117365,"answer_count":1,"score":0,"last_activity_date":1694860091,"creation_date":1694807036,"question_id":77114992,"body_markdown":"I have a system with many Jetty servers running in parallel (each one on a different port), but they all use the same .war file (copied into each of the folders and referenced in their respective context.xml file).\r\nTo make the update process easier, instead of swapping each .war file inside each of the jetty folders, I want to create a single .war file placed somewhere else, and every context.xml file will reference it (for example, C:\\war\\app.war).\r\nWill this cause any problems with information being leaked from an app to another?\r\nI know that jetty will extract the contents of the .war file to a work folder inside its respective folder structure and read it from there, but I don&#39;t know if this is enough to prevent any leaking of session info from the instances?\r\n\r\nI&#39;m running jetty 9.3 (yes, I know), and any other suggestions of changes to this structure would also be appreciated, although the one i&#39;m asking about would be a nice and easy change that would save me a lot of time.\r\n\r\nI know I CAN reference the same .war file, but i&#39;m unsure about the consequences of that.","title":"Are there any downsides to reference the same .war file from many Jetty server instances?","body":"<p>I have a system with many Jetty servers running in parallel (each one on a different port), but they all use the same .war file (copied into each of the folders and referenced in their respective context.xml file).\nTo make the update process easier, instead of swapping each .war file inside each of the jetty folders, I want to create a single .war file placed somewhere else, and every context.xml file will reference it (for example, C:\\war\\app.war).\nWill this cause any problems with information being leaked from an app to another?\nI know that jetty will extract the contents of the .war file to a work folder inside its respective folder structure and read it from there, but I don't know if this is enough to prevent any leaking of session info from the instances?</p>\n<p>I'm running jetty 9.3 (yes, I know), and any other suggestions of changes to this structure would also be appreciated, although the one i'm asking about would be a nice and easy change that would save me a lot of time.</p>\n<p>I know I CAN reference the same .war file, but i'm unsure about the consequences of that.</p>\n"},{"tags":["java","linux","spring-boot","tesseract"],"owner":{"account_id":23709780,"reputation":1,"user_id":17731803,"display_name":"Yurii Zaripa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694858046,"creation_date":1694858046,"question_id":77117236,"body_markdown":"I&#39;m facing an issue with Tesseract while working on Linux(Ubuntu22.04) and in Docker. I&#39;m using Java Spring Boot. Here are Maven dependencies:\r\n\r\n```\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n       &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n       &lt;version&gt;5.6.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n       &lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n       &lt;version&gt;4.6.0-0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n```\r\n\r\n\r\nAnd here is the error that occurs:\r\n`Warning: Invalid resolution 0 dpi. Using 70 instead.\r\n2023-09-16T11:45:28.441+03:00 ERROR 11051 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.UnsatisfiedLinkError: Error looking up function &#39;pixFreeAndSetData&#39;: /lib/x86_64-linux-gnu/liblept.so.5: undefined symbol: pixFreeAndSetData] with root cause\r\n\r\njava.lang.UnsatisfiedLinkError: Error looking up function &#39;pixFreeAndSetData&#39;: /lib/x86_64-linux-gnu/liblept.so.5: undefined symbol: pixFreeAndSetData\r\n\tat com.sun.jna.Function.&lt;init&gt;(Function.java:252) ~[jna-5.13.0.jar:5.13.0 (b0)]\r\n\tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:620) ~[jna-5.13.0.jar:5.13.0 (b0)]\r\n\tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:596) ~[jna-5.13.0.jar:5.13.0 (b0)]\r\n\tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:582) ~[jna-5.13.0.jar:5.13.0 (b0)]`\r\n\r\nAs I see, it is a regular issue. However, I still can&#39;t find a solution.","title":"Tesseract does not work with ubuntu called from within a Java Spring App(can`t find liblept.so.5)","body":"<p>I'm facing an issue with Tesseract while working on Linux(Ubuntu22.04) and in Docker. I'm using Java Spring Boot. Here are Maven dependencies:</p>\n<pre><code>     &lt;dependency&gt;\n       &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n       &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n       &lt;version&gt;5.6.0&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n       &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n       &lt;version&gt;4.6.0-0&lt;/version&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>And here is the error that occurs:\n`Warning: Invalid resolution 0 dpi. Using 70 instead.\n2023-09-16T11:45:28.441+03:00 ERROR 11051 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.UnsatisfiedLinkError: Error looking up function 'pixFreeAndSetData': /lib/x86_64-linux-gnu/liblept.so.5: undefined symbol: pixFreeAndSetData] with root cause</p>\n<p>java.lang.UnsatisfiedLinkError: Error looking up function 'pixFreeAndSetData': /lib/x86_64-linux-gnu/liblept.so.5: undefined symbol: pixFreeAndSetData\nat com.sun.jna.Function.(Function.java:252) ~[jna-5.13.0.jar:5.13.0 (b0)]\nat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:620) ~[jna-5.13.0.jar:5.13.0 (b0)]\nat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:596) ~[jna-5.13.0.jar:5.13.0 (b0)]\nat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:582) ~[jna-5.13.0.jar:5.13.0 (b0)]`</p>\n<p>As I see, it is a regular issue. However, I still can't find a solution.</p>\n"},{"tags":["java","infinite-loop","password-checker"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":5,"creation_date":1694855692,"post_id":77117076,"comment_id":135948346,"body_markdown":"&quot;*`while(correct == false) System.out.println(&quot;please enter a password&quot;);`*&quot; - There is your infinite loop. I suspect that there is an `{` (and a corresponding `}`) missing.","body":"&quot;<i><code>while(correct == false) System.out.println(&quot;please enter a password&quot;);</code></i>&quot; - There is your infinite loop. I suspect that there is an <code>{</code> (and a corresponding <code>}</code>) missing."}],"answers":[{"comments":[{"owner":{"account_id":27384893,"reputation":23,"user_id":20888911,"display_name":"Dylan Andrews"},"score":0,"creation_date":1694938281,"post_id":77117149,"comment_id":135955185,"body_markdown":"thank you a ton, because of this fix I managed to fix everything else wrong with the program","body":"thank you a ton, because of this fix I managed to fix everything else wrong with the program"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694938328,"post_id":77117149,"comment_id":135955188,"body_markdown":"Just hope you don&#39;t make the mistake again :&gt;","body":"Just hope you don&#39;t make the mistake again :&gt;"}],"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694857179,"creation_date":1694856740,"answer_id":77117149,"question_id":77117076,"body_markdown":"Here&#39;s a MRE of your code that fixed that you can run and try yourself.\r\nPlease make sure you understand where you went wrong so you wont make this mistake again :)\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tboolean correct = false;\r\n\t\twhile(correct == false) {\r\n\t\t\tSystem.out.println(&quot;please enter a password&quot;);\r\n\t\t\tString pass = scanner.next();\r\n\t\t\tfor(int i = 0; i&lt;pass.length(); i++) {\r\n\t\t\t\tif(pass.charAt(i) == &#39;!&#39; &amp;&amp; pass.length() &gt; 8 ) {\r\n\t\t\t\t\tSystem.out.println(&quot;this password is correct&quot;);\r\n\t\t\t\t\tcorrect = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.println(&quot;this password is incorrect&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nThe mistake in your code was the missing curly braces (The `{` at the start and `}` at the end of your loop). Remember, conditions like `if`, `while` etc. will only run the first line after the condition if there are no curly braces. Which in your case it would run `while(correct == false) System.out.println(&quot;please enter a password&quot;);`, where `correct` never becomes false. So it ends up looping infinitely printing &quot;please enter a password&quot;. ","title":"I keep getting stuck in an infinite loop with my password checker","body":"<p>Here's a MRE of your code that fixed that you can run and try yourself.\nPlease make sure you understand where you went wrong so you wont make this mistake again :)</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        boolean correct = false;\n        while(correct == false) {\n            System.out.println(&quot;please enter a password&quot;);\n            String pass = scanner.next();\n            for(int i = 0; i&lt;pass.length(); i++) {\n                if(pass.charAt(i) == '!' &amp;&amp; pass.length() &gt; 8 ) {\n                    System.out.println(&quot;this password is correct&quot;);\n                    correct = true;\n                    break;\n                }\n                else {\n                    System.out.println(&quot;this password is incorrect&quot;);\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>The mistake in your code was the missing curly braces (The <code>{</code> at the start and <code>}</code> at the end of your loop). Remember, conditions like <code>if</code>, <code>while</code> etc. will only run the first line after the condition if there are no curly braces. Which in your case it would run <code>while(correct == false) System.out.println(&quot;please enter a password&quot;);</code>, where <code>correct</code> never becomes false. So it ends up looping infinitely printing &quot;please enter a password&quot;.</p>\n"}],"owner":{"account_id":27384893,"reputation":23,"user_id":20888911,"display_name":"Dylan Andrews"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1694912252,"accepted_answer_id":77117149,"answer_count":1,"score":-1,"last_activity_date":1694857179,"creation_date":1694855500,"question_id":77117076,"body_markdown":"Every time I run this program I keep coming up upon an infinite loop that keeps repeating the else statement &quot;this password is incorrect&quot; every time I run this program\r\n\r\nalso what other mistakes did I make here if there is any?\r\n\r\n\r\n```\r\npublic static void ValidChecker() {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\tboolean correct = false;\r\n\t\twhile(correct == false)\r\n\t\tSystem.out.println(&quot;please enter a password&quot;);\r\n\t\tString pass = scanner.next();\r\n\t\tfor(int i = 0; i&lt;pass.length(); i++) {\r\n\t\t\tif(pass.charAt(i) == &#39;!&#39; &amp;&amp; pass.length() &gt; 8 ) {\r\n\t\t\t\tSystem.out.println(&quot;this password is correct&quot;);\r\n\t\t\t\tcorrect = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;this password is incorrect&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n```\r\n","title":"I keep getting stuck in an infinite loop with my password checker","body":"<p>Every time I run this program I keep coming up upon an infinite loop that keeps repeating the else statement &quot;this password is incorrect&quot; every time I run this program</p>\n<p>also what other mistakes did I make here if there is any?</p>\n<pre><code>public static void ValidChecker() {\n        Scanner scanner = new Scanner(System.in);\n        \n        boolean correct = false;\n        while(correct == false)\n        System.out.println(&quot;please enter a password&quot;);\n        String pass = scanner.next();\n        for(int i = 0; i&lt;pass.length(); i++) {\n            if(pass.charAt(i) == '!' &amp;&amp; pass.length() &gt; 8 ) {\n                System.out.println(&quot;this password is correct&quot;);\n                correct = true;\n                    break;\n            }\n            else {\n                System.out.println(&quot;this password is incorrect&quot;);\n                break;\n            }\n            \n        }\n</code></pre>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":43160,"reputation":227400,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"score":2,"creation_date":1694845276,"post_id":77116556,"comment_id":135947572,"body_markdown":"This is a well-known problem in functional programming, and usually addressed with so-called *lenses*. I don&#39;t have time right now, but I may be able to write a C#-overview later, if you&#39;re interested. I don&#39;t know, however, how well that would translate to Java, and that particular framework.","body":"This is a well-known problem in functional programming, and usually addressed with so-called <i>lenses</i>. I don&#39;t have time right now, but I may be able to write a C#-overview later, if you&#39;re interested. I don&#39;t know, however, how well that would translate to Java, and that particular framework."},{"owner":{"account_id":1869832,"reputation":5089,"user_id":1692342,"accept_rate":61,"display_name":"user1692342"},"score":0,"creation_date":1694845365,"post_id":77116556,"comment_id":135947579,"body_markdown":"@MarkSeemann thanks for the reply. Would appreciate a sample when you get the chance to see if I can understand the pattern and try to apply it in Java","body":"@MarkSeemann thanks for the reply. Would appreciate a sample when you get the chance to see if I can understand the pattern and try to apply it in Java"}],"answers":[{"comments":[{"owner":{"account_id":1869832,"reputation":5089,"user_id":1692342,"accept_rate":61,"display_name":"user1692342"},"score":0,"creation_date":1694934546,"post_id":77117116,"comment_id":135954902,"body_markdown":"@Sweepr Thank you so much. This is a really interest pattern and thanks for sharing this approach. I wasn&#39;t able to figure out how do I go about updating a list or a collection with this approach though. Do you&#39;ve any thoughts around it?","body":"@Sweepr Thank you so much. This is a really interest pattern and thanks for sharing this approach. I wasn&#39;t able to figure out how do I go about updating a list or a collection with this approach though. Do you&#39;ve any thoughts around it?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1694935948,"post_id":77117116,"comment_id":135954995,"body_markdown":"@user1692342 I assume the collections are also immutable? You can get a lens that refers to the collection, and do `someLens.modify(someObj, x -&gt; x.add(y))` to add a new thing `y` to the collection, assuming `add` returns a new collection with the new element added.","body":"@user1692342 I assume the collections are also immutable? You can get a lens that refers to the collection, and do <code>someLens.modify(someObj, x -&gt; x.add(y))</code> to add a new thing <code>y</code> to the collection, assuming <code>add</code> returns a new collection with the new element added."},{"owner":{"account_id":22905554,"reputation":673,"user_id":17043683,"display_name":"MMZK1526"},"score":0,"creation_date":1697378586,"post_id":77117116,"comment_id":136269816,"body_markdown":"Very good answer, love from London","body":"Very good answer, love from London"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694856136,"creation_date":1694856136,"answer_id":77117116,"question_id":77116556,"body_markdown":"As mentioned by Mark Seemann, this problem can kind of be solved with lenses. \r\n\r\nThe idea is that a `Lens&lt;A, B&gt;` represents a way to get a `B` from an instance of `A`, and a way to set a new `B` for an instance of `A`. Each field of your classes can then be represented by a lens.\r\n\r\nYou can compose lenses. If you have a `Lens&lt;A, B&gt;`, and a `Lens&lt;B, C&gt;`, you can compose them to get `Lens&lt;A, C&gt;`. This is the key to setting a deeply nested field. You just need to compose lots of lenses together, then call `set` on that final composed lens.\r\n\r\n```\r\nClassA modifiedClassA = ClassA.CLASS_B_LENS\r\n        .then(ClassB.CLASS_D_LENS) // I&#39;ve called the composition operation &quot;then&quot;\r\n        .then(ClassD.FIELD_D_LENS)\r\n        .set(someClassA, &quot;New Value!&quot;);\r\n```\r\n\r\nHere is a possible implementation.\r\n\r\n```\r\ninterface Lens&lt;Root, T&gt; {\r\n    T get(Root r);\r\n    // here I generalised the set operation to a &quot;modify&quot;,\r\n    // where the previous value is also available\r\n    Root modify(Root root, UnaryOperator&lt;T&gt; newValue);\r\n\r\n    default Root set(Root root, T newValue) {\r\n        return modify(root, x -&gt; newValue);\r\n    }\r\n\r\n    default &lt;U&gt; Lens&lt;Root, U&gt; then(Lens&lt;T, U&gt; p2) {\r\n        return new Lens&lt;&gt;() {\r\n            @Override\r\n            public U get(Root r) {\r\n                return p2.get(Lens.this.get(r));\r\n            }\r\n\r\n            @Override\r\n            public Root modify(Root r, UnaryOperator&lt;U&gt; f) {\r\n                return Lens.this.modify(r, t -&gt; p2.modify(Lens.this.get(r), f));\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nYou can then make a factory method like this to create lenses from a getter and a &quot;wither&quot;. The latter can be generated by the lombok [`@With`][1] annotation. You can put all the null checks in this factory.\r\n\r\n    static &lt;Root, T&gt; Lens&lt;Root, T&gt; make(Function&lt;Root, T&gt; getter, BiFunction&lt;Root, T, Root&gt; setter) {\r\n        return new Lens&lt;&gt;() {\r\n            @Override\r\n            public T get(Root r) {\r\n                if (r == null) return null;\r\n                return getter.apply(r);\r\n            }\r\n\r\n            @Override\r\n            public Root modify(Root root, UnaryOperator&lt;T&gt; f) {\r\n                if (root == null) return null;\r\n                return setter.apply(root, f.apply(get(root)));\r\n            }\r\n        };\r\n    }\r\n\r\nYou can then add some lenses to your classes as static fields. This part can be done by a code generator/annotation processor, if you know how to write one.\r\n\r\n```\r\n@Value\r\n@With\r\nclass ClassA {\r\n    private String fieldA;\r\n    private ClassB classB;\r\n\r\n    public static final Lens&lt;ClassA, String&gt; FIELD_A_LENS = Lens.make(ClassA::getFieldA, ClassA::withFieldA);\r\n    public static final Lens&lt;ClassA, ClassB&gt; CLASS_B_LENS = Lens.make(ClassA::getClassB, ClassA::withClassB);\r\n}\r\n\r\n@Value\r\n@With\r\nclass ClassB {\r\n    private ClassC classC;\r\n    private ClassD classD;\r\n\r\n    public static final Lens&lt;ClassB, ClassC&gt; CLASS_C_LENS = Lens.make(ClassB::getClassC, ClassB::withClassC);\r\n    public static final Lens&lt;ClassB, ClassD&gt; CLASS_D_LENS = Lens.make(ClassB::getClassD, ClassB::withClassD);\r\n}\r\n\r\n// and so on...\r\n```\r\n\r\nSee also [this medium article](https://medium.com/expedia-group-tech/lenses-in-java-2b18c7d24366) that takes a slightly different approach.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/With","title":"Updating deeply nested fields that are immutable","body":"<p>As mentioned by Mark Seemann, this problem can kind of be solved with lenses.</p>\n<p>The idea is that a <code>Lens&lt;A, B&gt;</code> represents a way to get a <code>B</code> from an instance of <code>A</code>, and a way to set a new <code>B</code> for an instance of <code>A</code>. Each field of your classes can then be represented by a lens.</p>\n<p>You can compose lenses. If you have a <code>Lens&lt;A, B&gt;</code>, and a <code>Lens&lt;B, C&gt;</code>, you can compose them to get <code>Lens&lt;A, C&gt;</code>. This is the key to setting a deeply nested field. You just need to compose lots of lenses together, then call <code>set</code> on that final composed lens.</p>\n<pre><code>ClassA modifiedClassA = ClassA.CLASS_B_LENS\n        .then(ClassB.CLASS_D_LENS) // I've called the composition operation &quot;then&quot;\n        .then(ClassD.FIELD_D_LENS)\n        .set(someClassA, &quot;New Value!&quot;);\n</code></pre>\n<p>Here is a possible implementation.</p>\n<pre><code>interface Lens&lt;Root, T&gt; {\n    T get(Root r);\n    // here I generalised the set operation to a &quot;modify&quot;,\n    // where the previous value is also available\n    Root modify(Root root, UnaryOperator&lt;T&gt; newValue);\n\n    default Root set(Root root, T newValue) {\n        return modify(root, x -&gt; newValue);\n    }\n\n    default &lt;U&gt; Lens&lt;Root, U&gt; then(Lens&lt;T, U&gt; p2) {\n        return new Lens&lt;&gt;() {\n            @Override\n            public U get(Root r) {\n                return p2.get(Lens.this.get(r));\n            }\n\n            @Override\n            public Root modify(Root r, UnaryOperator&lt;U&gt; f) {\n                return Lens.this.modify(r, t -&gt; p2.modify(Lens.this.get(r), f));\n            }\n        };\n    }\n}\n</code></pre>\n<p>You can then make a factory method like this to create lenses from a getter and a &quot;wither&quot;. The latter can be generated by the lombok <a href=\"https://projectlombok.org/features/With\" rel=\"nofollow noreferrer\"><code>@With</code></a> annotation. You can put all the null checks in this factory.</p>\n<pre><code>static &lt;Root, T&gt; Lens&lt;Root, T&gt; make(Function&lt;Root, T&gt; getter, BiFunction&lt;Root, T, Root&gt; setter) {\n    return new Lens&lt;&gt;() {\n        @Override\n        public T get(Root r) {\n            if (r == null) return null;\n            return getter.apply(r);\n        }\n\n        @Override\n        public Root modify(Root root, UnaryOperator&lt;T&gt; f) {\n            if (root == null) return null;\n            return setter.apply(root, f.apply(get(root)));\n        }\n    };\n}\n</code></pre>\n<p>You can then add some lenses to your classes as static fields. This part can be done by a code generator/annotation processor, if you know how to write one.</p>\n<pre><code>@Value\n@With\nclass ClassA {\n    private String fieldA;\n    private ClassB classB;\n\n    public static final Lens&lt;ClassA, String&gt; FIELD_A_LENS = Lens.make(ClassA::getFieldA, ClassA::withFieldA);\n    public static final Lens&lt;ClassA, ClassB&gt; CLASS_B_LENS = Lens.make(ClassA::getClassB, ClassA::withClassB);\n}\n\n@Value\n@With\nclass ClassB {\n    private ClassC classC;\n    private ClassD classD;\n\n    public static final Lens&lt;ClassB, ClassC&gt; CLASS_C_LENS = Lens.make(ClassB::getClassC, ClassB::withClassC);\n    public static final Lens&lt;ClassB, ClassD&gt; CLASS_D_LENS = Lens.make(ClassB::getClassD, ClassB::withClassD);\n}\n\n// and so on...\n</code></pre>\n<p>See also <a href=\"https://medium.com/expedia-group-tech/lenses-in-java-2b18c7d24366\" rel=\"nofollow noreferrer\">this medium article</a> that takes a slightly different approach.</p>\n"}],"owner":{"account_id":1869832,"reputation":5089,"user_id":1692342,"accept_rate":61,"display_name":"user1692342"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77117116,"answer_count":1,"score":2,"last_activity_date":1694856136,"creation_date":1694843954,"question_id":77116556,"body_markdown":"I have a heavily nested class structure that does not have setters. \r\n\r\n```\r\n@Value\r\n@Builder(toBuilder = true)\r\npublic class ClassA {\r\n    private String fieldA;\r\n    private ClassB classB;\r\n}\r\n\r\n@Value\r\n@Builder(toBuilder = true)\r\npublic class ClassB {\r\n    private ClassC classC;\r\n    private ClassD classD;\r\n}\r\n\r\n@Value\r\n@Builder(toBuilder = true)\r\npublic class ClassC {\r\n    private ClassE classE;\r\n}\r\n\r\n\r\n@Value\r\n@Builder(toBuilder = true)\r\npublic class ClassD {\r\n    private String fieldD;\r\n}\r\n\r\n\r\n@Value\r\n@Builder(toBuilder = true)\r\npublic class ClassE {\r\n    private String fieldE;\r\n}\r\n```\r\n\r\n@Value comes from Lombok which sets all the fields to private finals. Since there are no setters and if I need to update fieldE, I need to update parent objects as well and it would like something like this:\r\n\r\n```\r\nclassA = classA.toBuilder()\r\n            .classB(classA.getClassB().toBuilder()\r\n                .classD(classA.getClassB().getClassD().toBuilder()\r\n                    .fieldD(&quot;abc&quot;)\r\n                    .build())\r\n                .build())\r\n            .build();\r\n```\r\n\r\n\r\nSome of the fields that I need to update are about 8 levels deep and incase I need to check for nulls, the code can get quite messy. \r\n\r\nI cannot modify the original POJOs and make them mutable. Is there a different approach I can do to make this easier to update fields? I thought of using the facade pattern, but I guess with that approach, I&#39;ll need to recreate the whole class hierarchy again. Any suggestions?","title":"Updating deeply nested fields that are immutable","body":"<p>I have a heavily nested class structure that does not have setters.</p>\n<pre><code>@Value\n@Builder(toBuilder = true)\npublic class ClassA {\n    private String fieldA;\n    private ClassB classB;\n}\n\n@Value\n@Builder(toBuilder = true)\npublic class ClassB {\n    private ClassC classC;\n    private ClassD classD;\n}\n\n@Value\n@Builder(toBuilder = true)\npublic class ClassC {\n    private ClassE classE;\n}\n\n\n@Value\n@Builder(toBuilder = true)\npublic class ClassD {\n    private String fieldD;\n}\n\n\n@Value\n@Builder(toBuilder = true)\npublic class ClassE {\n    private String fieldE;\n}\n</code></pre>\n<p>@Value comes from Lombok which sets all the fields to private finals. Since there are no setters and if I need to update fieldE, I need to update parent objects as well and it would like something like this:</p>\n<pre><code>classA = classA.toBuilder()\n            .classB(classA.getClassB().toBuilder()\n                .classD(classA.getClassB().getClassD().toBuilder()\n                    .fieldD(&quot;abc&quot;)\n                    .build())\n                .build())\n            .build();\n</code></pre>\n<p>Some of the fields that I need to update are about 8 levels deep and incase I need to check for nulls, the code can get quite messy.</p>\n<p>I cannot modify the original POJOs and make them mutable. Is there a different approach I can do to make this easier to update fields? I thought of using the facade pattern, but I guess with that approach, I'll need to recreate the whole class hierarchy again. Any suggestions?</p>\n"},{"tags":["java","string","recursion","substring","infinite-recursion"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1694740371,"post_id":77109092,"comment_id":135934437,"body_markdown":"Stack Overflow isn&#39;t a code writing service, but I&#39;ll hint that each step in a recursive process has to approach the base case, so passing the same parameter values to the recursive call as you were called with is, as you say, going to give you infinite recursion.","body":"Stack Overflow isn&#39;t a code writing service, but I&#39;ll hint that each step in a recursive process has to approach the base case, so passing the same parameter values to the recursive call as you were called with is, as you say, going to give you infinite recursion."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1694742472,"post_id":77109092,"comment_id":135934587,"body_markdown":"It would help if you were to improve the description of what the problem actually is -- that is the problem your code is intended to solve.  It might help to [take the tour](https://stackoverflow.com/tour), and read [how to ask a good question](https://stackoverflow.com/help/how-to-ask), with pages that are linked to.","body":"It would help if you were to improve the description of what the problem actually is -- that is the problem your code is intended to solve.  It might help to <a href=\"https://stackoverflow.com/tour\">take the tour</a>, and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>, with pages that are linked to."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1694776821,"post_id":77109092,"comment_id":135939027,"body_markdown":"Please edit your question and provide one or more examples of input parameters and expected output.  Should `theSub(&quot;hello[there]world&quot;, &#39;[&#39;, &#39;]&#39;)` return &quot;there&quot;?","body":"Please edit your question and provide one or more examples of input parameters and expected output.  Should <code>theSub(&quot;hello[there]world&quot;, &#39;[&#39;, &#39;]&#39;)</code> return &quot;there&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694741911,"creation_date":1694741911,"answer_id":77109167,"question_id":77109092,"body_markdown":"&gt; _&quot;... The substring will be enclosed between the characters first and last. Can someone please guide me? Aside from my base case I know what I have down is not right..I feel like I don&#39;t completely understand what is going on at each step. ...&quot;_\r\n\r\nFor example, if the string is _&quot;f(f(f(x)))&quot;_, and you want to get _x_.\r\n\r\nEssentially, while both _first_ and _last_ are present, get the _substring_ and make a recursive call.\r\n\r\n```java\r\npublic static String theSub(String str, char first, char last) {\r\n    if (str.length() == 0 ) return str;\r\n    int i = str.indexOf(first), j = str.lastIndexOf(last);\r\n    if (i == -1 || j == -1) return str;\r\n    return theSub(str.substring(i + 1, j), first, last);\r\n}\r\n```","title":"Recursive method to return substring enclosed in characters","body":"<blockquote>\n<p><em>&quot;... The substring will be enclosed between the characters first and last. Can someone please guide me? Aside from my base case I know what I have down is not right..I feel like I don't completely understand what is going on at each step. ...&quot;</em></p>\n</blockquote>\n<p>For example, if the string is <em>&quot;f(f(f(x)))&quot;</em>, and you want to get <em>x</em>.</p>\n<p>Essentially, while both <em>first</em> and <em>last</em> are present, get the <em>substring</em> and make a recursive call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String theSub(String str, char first, char last) {\n    if (str.length() == 0 ) return str;\n    int i = str.indexOf(first), j = str.lastIndexOf(last);\n    if (i == -1 || j == -1) return str;\n    return theSub(str.substring(i + 1, j), first, last);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694742852,"creation_date":1694742852,"answer_id":77109217,"question_id":77109092,"body_markdown":"I&#39;ll walk you through the steps to create a recursive method that extracts the substring enclosed between the characters first and last.\r\n\r\n    public static String theSub(String str, char first, char last) {\r\n        // Base case 1: If the input string is empty, return an empty string.\r\n        if (str.length() == 0) {\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        // Base case 2: If the first character of the string is &#39;last&#39;, return an empty string.\r\n        if (str.charAt(0) == last) {\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        // Base case 3: If the first character of the string is &#39;first&#39;, call the helper function.\r\n        if (str.charAt(0) == first) {\r\n            return extractSubstring(str.substring(1), first, last);\r\n        }\r\n    \r\n        // Recursive case: Keep looking for the &#39;first&#39; character.\r\n        return theSub(str.substring(1), first, last);\r\n    }\r\n    \r\n    // Helper function to extract the substring between &#39;first&#39; and &#39;last&#39; characters.\r\n    private static String extractSubstring(String str, char first, char last) {\r\n        // Base case: If the string is empty, return an empty string.\r\n        if (str.length() == 0) {\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        // If the current character is &#39;last&#39;, we&#39;ve reached the end of the substring.\r\n        if (str.charAt(0) == last) {\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        // Recursively build the substring.\r\n        return str.charAt(0) + extractSubstring(str.substring(1), first, last);\r\n    }\r\n\r\nThis should allow you to correctly extract the substring enclosed between first and last characters using recursion.","title":"Recursive method to return substring enclosed in characters","body":"<p>I'll walk you through the steps to create a recursive method that extracts the substring enclosed between the characters first and last.</p>\n<pre><code>public static String theSub(String str, char first, char last) {\n    // Base case 1: If the input string is empty, return an empty string.\n    if (str.length() == 0) {\n        return &quot;&quot;;\n    }\n\n    // Base case 2: If the first character of the string is 'last', return an empty string.\n    if (str.charAt(0) == last) {\n        return &quot;&quot;;\n    }\n\n    // Base case 3: If the first character of the string is 'first', call the helper function.\n    if (str.charAt(0) == first) {\n        return extractSubstring(str.substring(1), first, last);\n    }\n\n    // Recursive case: Keep looking for the 'first' character.\n    return theSub(str.substring(1), first, last);\n}\n\n// Helper function to extract the substring between 'first' and 'last' characters.\nprivate static String extractSubstring(String str, char first, char last) {\n    // Base case: If the string is empty, return an empty string.\n    if (str.length() == 0) {\n        return &quot;&quot;;\n    }\n\n    // If the current character is 'last', we've reached the end of the substring.\n    if (str.charAt(0) == last) {\n        return &quot;&quot;;\n    }\n\n    // Recursively build the substring.\n    return str.charAt(0) + extractSubstring(str.substring(1), first, last);\n}\n</code></pre>\n<p>This should allow you to correctly extract the substring enclosed between first and last characters using recursion.</p>\n"}],"owner":{"account_id":28046005,"reputation":1,"user_id":22563993,"display_name":"Dia Aw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694855866,"creation_date":1694739857,"question_id":77109092,"body_markdown":"I can&#39;t use other methods or add parameters and can only call the method recursively. I can&#39;t really understand how to approach this problem. I am struggling a bit wrapping my mind around recursion so bare with me.\r\n\r\nThe substring will be enclosed between the characters first and last. Can someone please guide me? Aside from my base case I know what I have down is not right..I feel like I don&#39;t completely understand what is going on at each step.\r\n```\r\npublic static String theSub(String str, char first, char last) {\r\n    if (str.length() == 0 ) {\r\n        return str;\r\n    }\r\n    else if (str.charAt(0)==first) {\r\n    \treturn str.substring(1, str.length() - 1);\r\n    }\r\n  //infinite recursion..\r\n    return theSub(str,first,last);\r\n}\r\n```","title":"Recursive method to return substring enclosed in characters","body":"<p>I can't use other methods or add parameters and can only call the method recursively. I can't really understand how to approach this problem. I am struggling a bit wrapping my mind around recursion so bare with me.</p>\n<p>The substring will be enclosed between the characters first and last. Can someone please guide me? Aside from my base case I know what I have down is not right..I feel like I don't completely understand what is going on at each step.</p>\n<pre><code>public static String theSub(String str, char first, char last) {\n    if (str.length() == 0 ) {\n        return str;\n    }\n    else if (str.charAt(0)==first) {\n        return str.substring(1, str.length() - 1);\n    }\n  //infinite recursion..\n    return theSub(str,first,last);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1694837355,"post_id":77115621,"comment_id":135947148,"body_markdown":"I believe that the way to get a `T` from a `Mono&lt;T&gt;` is to call one of the `block` methods.  That is what the [javadocs](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html) say.  Does that answer your question?  Obviously, that can&#39;t be done in a non-blocking way.","body":"I believe that the way to get a <code>T</code> from a <code>Mono&lt;T&gt;</code> is to call one of the <code>block</code> methods.  That is what the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">javadocs</a> say.  Does that answer your question?  Obviously, that can&#39;t be done in a non-blocking way."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694852712,"post_id":77115621,"comment_id":135948097,"body_markdown":"Filtering in `Flux` and `Mono` works just like filtering in `Stream` and `Optional` respectively.","body":"Filtering in <code>Flux</code> and <code>Mono</code> works just like filtering in <code>Stream</code> and <code>Optional</code> respectively."},{"owner":{"account_id":19159495,"reputation":25,"user_id":13995601,"display_name":"robertos"},"score":0,"creation_date":1694864418,"post_id":77115621,"comment_id":135949142,"body_markdown":"Thank you for your answers. @StephenC with map() it works just fine, but can I use flatMap as @amanin answered? It is asynchronous, so is it one of `block` methods? @RobSpoor I added `.filter(repo -&gt; !repo.fork())` after `.bodyToFlux(Repo.class)` and it works just fine.","body":"Thank you for your answers. @StephenC with map() it works just fine, but can I use flatMap as @amanin answered? It is asynchronous, so is it one of <code>block</code> methods? @RobSpoor I added <code>.filter(repo -&gt; !repo.fork())</code> after <code>.bodyToFlux(Repo.class)</code> and it works just fine."}],"answers":[{"comments":[{"owner":{"account_id":19159495,"reputation":25,"user_id":13995601,"display_name":"robertos"},"score":0,"creation_date":1694868187,"post_id":77117070,"comment_id":135949537,"body_markdown":"Thank you, it works with `map`. How would you do this with `flatMap`?","body":"Thank you, it works with <code>map</code>. How would you do this with <code>flatMap</code>?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1694971714,"post_id":77117070,"comment_id":135958554,"body_markdown":"`flatMap` is usable only if the operation result is a `Mono` or a `Flux`. It is not appropriate for simple in-memory operations.","body":"<code>flatMap</code> is usable only if the operation result is a <code>Mono</code> or a <code>Flux</code>. It is not appropriate for simple in-memory operations."}],"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694855315,"creation_date":1694855315,"answer_id":77117070,"question_id":77115621,"body_markdown":"From your code sample, it looks like you want to use your `Branch[]` object in the middle of a reactive pipeline, as you use it to return a `Flux&lt;ResponseRepo&gt;`. In that case, use `map` or `flatMap` on your `Mono&lt;Branch[]&gt;`.\r\n\r\nYou can modify your `getReposInfo` as follows:\r\n\r\n```java\r\n    public Flux&lt;ResponseRepo&gt; getReposInfo(String username) {\r\n        return getRepos(username)\r\n                .flatMap(repo -&gt; {\r\n                    String name = repo.name();\r\n                        String ownerLogin = repo.owner().login();\r\n                        Mono&lt;Branch[]&gt; branches = getBranches(username, repo.name());\r\n                        return branches.map(branchesValue -&gt; new ResponseRepo(name, ownerLogin, branchesValue));\r\n                });\r\n    }\r\n```","title":"How to get Object[] from Mono&lt;Object[]&gt; and how to filter Flux&lt;Object&gt;","body":"<p>From your code sample, it looks like you want to use your <code>Branch[]</code> object in the middle of a reactive pipeline, as you use it to return a <code>Flux&lt;ResponseRepo&gt;</code>. In that case, use <code>map</code> or <code>flatMap</code> on your <code>Mono&lt;Branch[]&gt;</code>.</p>\n<p>You can modify your <code>getReposInfo</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Flux&lt;ResponseRepo&gt; getReposInfo(String username) {\n        return getRepos(username)\n                .flatMap(repo -&gt; {\n                    String name = repo.name();\n                        String ownerLogin = repo.owner().login();\n                        Mono&lt;Branch[]&gt; branches = getBranches(username, repo.name());\n                        return branches.map(branchesValue -&gt; new ResponseRepo(name, ownerLogin, branchesValue));\n                });\n    }\n</code></pre>\n"}],"owner":{"account_id":19159495,"reputation":25,"user_id":13995601,"display_name":"robertos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77117070,"answer_count":1,"score":1,"last_activity_date":1694855315,"creation_date":1694816573,"question_id":77115621,"body_markdown":"I&#39;m creating a REST API that is supposed to fetch repositories that are not forks and, for each repository, a list of branches. However, I have a problem because:\r\n\r\n1. I don&#39;t know how to filter the response in the web client to check if a repository is a fork.\r\nShould I assign webClient response to a variable and then filter?\r\n\r\n2. I don&#39;t know how to extract Branch[] from Mono&lt;Branch[]&gt; in order to create a ResponseRepo.\r\n\r\nI&#39;ve done this with RestTemplate, but I&#39;d like to do it with WebClient in a non-blocking way.\r\n\r\n\r\n\r\nRepo record\r\n`public record Repo(String name, Owner owner, Boolean fork) {}`\r\n\r\nBranch record\r\n`public record Branch(String name, Commit commit) {}`\r\n\r\nResponseRepo record\r\n`public record ResponseRepo(String name, String ownerLogin, Branch[] branches) {}`\r\n\r\n\r\n\r\n```\r\n@Service\r\npublic class RepoServiceImpl implements RepoService {\r\n\r\n    private final WebClient webClient;\r\n\r\n    public RepoServiceImpl(WebClient.Builder builder) {\r\n        this.webClient = builder.baseUrl(&quot;https://api.github.com&quot;).build();\r\n    }\r\n\r\n    public Flux&lt;ResponseRepo&gt; getReposInfo(String username) {\r\n        return getRepos(username)\r\n                .flatMap(repo -&gt; {\r\n                    String name = repo.name();\r\n                        String ownerLogin = repo.owner().login();\r\n                        Mono&lt;Branch[]&gt; branches = getBranches(username, repo.name());\r\n                        return new ResponseRepo(name, ownerLogin, branches);\r\n                })\r\n    }\r\n\r\n    private Flux&lt;Repo&gt; getRepos(String username) {\r\n        return webClient\r\n                .get()\r\n                .uri(&quot;/users/&quot; + username + &quot;/repos&quot;)\r\n                .retrieve()\r\n                .bodyToFlux(Repo.class);\r\n    }\r\n\r\n    private Mono&lt;Branch[]&gt; getBranches(String username, String repo) {\r\n        return webClient\r\n                .get()\r\n                .uri(&quot;/repos/&quot; + username + &quot;/&quot; + repo + &quot;/branches&quot;)\r\n                .retrieve()\r\n                .bodyToMono(Branch[].class);\r\n    }\r\n}\r\n```\r\n\r\nHere, I want to get Branch[] from Mono&lt;Branch[]&gt; in order to create ResponseRepo\r\n\r\n\r\nThat was my recruitment task, so maybe it will help someone.\r\n\r\n\r\n","title":"How to get Object[] from Mono&lt;Object[]&gt; and how to filter Flux&lt;Object&gt;","body":"<p>I'm creating a REST API that is supposed to fetch repositories that are not forks and, for each repository, a list of branches. However, I have a problem because:</p>\n<ol>\n<li><p>I don't know how to filter the response in the web client to check if a repository is a fork.\nShould I assign webClient response to a variable and then filter?</p>\n</li>\n<li><p>I don't know how to extract Branch[] from Mono&lt;Branch[]&gt; in order to create a ResponseRepo.</p>\n</li>\n</ol>\n<p>I've done this with RestTemplate, but I'd like to do it with WebClient in a non-blocking way.</p>\n<p>Repo record\n<code>public record Repo(String name, Owner owner, Boolean fork) {}</code></p>\n<p>Branch record\n<code>public record Branch(String name, Commit commit) {}</code></p>\n<p>ResponseRepo record\n<code>public record ResponseRepo(String name, String ownerLogin, Branch[] branches) {}</code></p>\n<pre><code>@Service\npublic class RepoServiceImpl implements RepoService {\n\n    private final WebClient webClient;\n\n    public RepoServiceImpl(WebClient.Builder builder) {\n        this.webClient = builder.baseUrl(&quot;https://api.github.com&quot;).build();\n    }\n\n    public Flux&lt;ResponseRepo&gt; getReposInfo(String username) {\n        return getRepos(username)\n                .flatMap(repo -&gt; {\n                    String name = repo.name();\n                        String ownerLogin = repo.owner().login();\n                        Mono&lt;Branch[]&gt; branches = getBranches(username, repo.name());\n                        return new ResponseRepo(name, ownerLogin, branches);\n                })\n    }\n\n    private Flux&lt;Repo&gt; getRepos(String username) {\n        return webClient\n                .get()\n                .uri(&quot;/users/&quot; + username + &quot;/repos&quot;)\n                .retrieve()\n                .bodyToFlux(Repo.class);\n    }\n\n    private Mono&lt;Branch[]&gt; getBranches(String username, String repo) {\n        return webClient\n                .get()\n                .uri(&quot;/repos/&quot; + username + &quot;/&quot; + repo + &quot;/branches&quot;)\n                .retrieve()\n                .bodyToMono(Branch[].class);\n    }\n}\n</code></pre>\n<p>Here, I want to get Branch[] from Mono&lt;Branch[]&gt; in order to create ResponseRepo</p>\n<p>That was my recruitment task, so maybe it will help someone.</p>\n"},{"tags":["java","maven","jenkins","executable-jar","jenkins-job-dsl"],"comments":[{"owner":{"account_id":23196850,"reputation":466,"user_id":18169297,"display_name":"Iterokun "},"score":1,"creation_date":1692602020,"post_id":76942618,"comment_id":135640296,"body_markdown":"Could you elaborate how the shell command &quot;did not worked&quot;? Did it give you an error message? What was the message?","body":"Could you elaborate how the shell command &quot;did not worked&quot;? Did it give you an error message? What was the message?"}],"answers":[{"tags":[],"owner":{"account_id":2019714,"reputation":321,"user_id":1806194,"accept_rate":50,"display_name":"John Q Citizen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694852477,"creation_date":1694834002,"answer_id":77116223,"question_id":76942618,"body_markdown":"If the jar is installed on the same machine where the jenkins job will run then you can call the shell with a hard-coded path.\r\n\r\ne.g.\r\n\r\n````\r\npipeline {\r\n  agent { label &#39;...&#39; }    &lt;-- Need to specify agent that has the jar\r\n  stages {\r\n    stage(&#39;Run Jar&#39;) {\r\n       sh &quot;java /var/lib/mylib/mylib-1.0.0.jar ...&quot;\r\n    }\r\n  }\r\n}\r\n````\r\n\r\nBut best practice is to have one job that runs &quot;mvn clean deploy&quot; to upload the jar file to a remote repository (nexus or artifactory), then another job that downloads the jar artifact to its workspace and executes the jar:\r\n\r\n````\r\npipeline {\r\n  agent { label &#39;os-linux&#39; }   &lt;-- any agent running linux\r\n  stages {\r\n    stage(&#39;Install Jar&#39;) {\r\n      ... download jar from artifactory to e.g. ${WORKSPACE}/mylib.jar ..  \r\n    }\r\n    stage(&#39;Run Jar&#39;) {\r\n      sh &quot;java ${WORKSPACE}/mylib.jar ...&quot;\r\n    }\r\n  }\r\n}\r\n````\r\n\r\nThis will allow the jenkins job to run on multiple agents (rather than the very specific single agent in the first example above).\r\n\r\nThe &quot;download jar from artifactory&quot; comment could be implemented using a curl command, or you could use the artifactory plugin to define a download spec, etc.","title":"How to run a jar located in local drive from a jenkins job?","body":"<p>If the jar is installed on the same machine where the jenkins job will run then you can call the shell with a hard-coded path.</p>\n<p>e.g.</p>\n<pre><code>pipeline {\n  agent { label '...' }    &lt;-- Need to specify agent that has the jar\n  stages {\n    stage('Run Jar') {\n       sh &quot;java /var/lib/mylib/mylib-1.0.0.jar ...&quot;\n    }\n  }\n}\n</code></pre>\n<p>But best practice is to have one job that runs &quot;mvn clean deploy&quot; to upload the jar file to a remote repository (nexus or artifactory), then another job that downloads the jar artifact to its workspace and executes the jar:</p>\n<pre><code>pipeline {\n  agent { label 'os-linux' }   &lt;-- any agent running linux\n  stages {\n    stage('Install Jar') {\n      ... download jar from artifactory to e.g. ${WORKSPACE}/mylib.jar ..  \n    }\n    stage('Run Jar') {\n      sh &quot;java ${WORKSPACE}/mylib.jar ...&quot;\n    }\n  }\n}\n</code></pre>\n<p>This will allow the jenkins job to run on multiple agents (rather than the very specific single agent in the first example above).</p>\n<p>The &quot;download jar from artifactory&quot; comment could be implemented using a curl command, or you could use the artifactory plugin to define a download spec, etc.</p>\n"}],"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694852477,"creation_date":1692596478,"question_id":76942618,"body_markdown":"I have created a job which creates a jar using maven &amp; that jar gets stored in a local drive. I want to create a new job which runs that jar.\r\n\r\npom.xml for reference:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Backend_Automation&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;com.vodafone.hackathon.runner.CoreRunner&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;make-assembly&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;Backend_Automation&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nthis project is checked in on github repository. first job builds the project from the github repository and builds the project and creates the jar at a local place mentioned in the job. I tried adding shell commands but it did not worked.","title":"How to run a jar located in local drive from a jenkins job?","body":"<p>I have created a job which creates a jar using maven &amp; that jar gets stored in a local drive. I want to create a new job which runs that jar.</p>\n<p>pom.xml for reference:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;Backend_Automation&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.vodafone.hackathon.runner.CoreRunner&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;Backend_Automation&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this project is checked in on github repository. first job builds the project from the github repository and builds the project and creates the jar at a local place mentioned in the job. I tried adding shell commands but it did not worked.</p>\n"},{"tags":["java","list","interface"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":8,"creation_date":1694462404,"post_id":77084467,"comment_id":135891556,"body_markdown":"`get(0)` works for all List types and with the same efficiency of constant time complexity. Why not use that instead of `getFirst()`?","body":"<code>get(0)</code> works for all List types and with the same efficiency of constant time complexity. Why not use that instead of <code>getFirst()</code>?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":5,"creation_date":1694463486,"post_id":77084467,"comment_id":135891693,"body_markdown":"if &quot;*you need a method that&#39;s only available in the concrete implementation*&quot; then you are not &quot;*coding to an interface*&quot; (or, in that specific case, coding to the wrong interface, maybe it should be a `Queue` or `Deque` \\[in coming version [JEP 431: Sequenced Collections](https://openjdk.org/jeps/431)]","body":"if &quot;<i>you need a method that&#39;s only available in the concrete implementation</i>&quot; then you are not &quot;<i>coding to an interface</i>&quot; (or, in that specific case, coding to the wrong interface, maybe it should be a <code>Queue</code> or <code>Deque</code> &#91;in coming version <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431: Sequenced Collections</a>]"},{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1694463727,"post_id":77084467,"comment_id":135891728,"body_markdown":"If the function you need can be implemented via the interface and is trivial like here, just use `get(0)`. If it&#39;s non-trivial, then it should probably have been a default method on the interface (or static utility) and not an instance method on one concrete type. If it can&#39;t reasonably be implemented through the interface, then you&#39;re coding against the wrong interface.","body":"If the function you need can be implemented via the interface and is trivial like here, just use <code>get(0)</code>. If it&#39;s non-trivial, then it should probably have been a default method on the interface (or static utility) and not an instance method on one concrete type. If it can&#39;t reasonably be implemented through the interface, then you&#39;re coding against the wrong interface."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1694465207,"post_id":77084467,"comment_id":135891915,"body_markdown":"getFirst is defined by the Deque interface","body":"getFirst is defined by the Deque interface"}],"answers":[{"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1694850675,"post_id":77084772,"comment_id":135947926,"body_markdown":"Sorry, it is called &quot;findFirst()&quot;. What about get(0) in empty list? Kind greetings....","body":"Sorry, it is called &quot;findFirst()&quot;. What about get(0) in empty list? Kind greetings...."}],"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1694851908,"creation_date":1694466330,"answer_id":77084772,"question_id":77084467,"body_markdown":"If you are using Java 8+, I recommend you to use the stream API for getting the first element of a `List`.\r\n```java\r\nList x;\r\nx.stream().findFirst().orElse();\r\n```\r\nYou can use `get(0)` too, but IMO this is not good because it can throw a `NullPointerException` if the list is null or another `Exception`, if the list is empty.","title":"In Java, what if you&#39;re using List because you coded to an interface but later, because you have a LinkedList, you need to use getFirst()?","body":"<p>If you are using Java 8+, I recommend you to use the stream API for getting the first element of a <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List x;\nx.stream().findFirst().orElse();\n</code></pre>\n<p>You can use <code>get(0)</code> too, but IMO this is not good because it can throw a <code>NullPointerException</code> if the list is null or another <code>Exception</code>, if the list is empty.</p>\n"}],"owner":{"account_id":4923371,"reputation":1770,"user_id":3965322,"accept_rate":100,"display_name":"JL Gradley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694851908,"creation_date":1694462241,"question_id":77084467,"body_markdown":"I get the advantages of coding to an interface, but what do you do if you later find that you need a method that&#39;s only available in the concrete implementation. Do you then go back and change the variable type from the interface to the implementation?","title":"In Java, what if you&#39;re using List because you coded to an interface but later, because you have a LinkedList, you need to use getFirst()?","body":"<p>I get the advantages of coding to an interface, but what do you do if you later find that you need a method that's only available in the concrete implementation. Do you then go back and change the variable type from the interface to the implementation?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1694670137,"post_id":77101941,"comment_id":135922184,"body_markdown":"Problem is that both the `if` and the `else if` conditions may be false, in which case the method does not return a value. Either change `else if` to `else` or add an `else` block. Your code does not handle the case where `m` is zero.","body":"Problem is that both the <code>if</code> and the <code>else if</code> conditions may be false, in which case the method does not return a value. Either change <code>else if</code> to <code>else</code> or add an <code>else</code> block. Your code does not handle the case where <code>m</code> is zero."}],"answers":[{"tags":[],"owner":{"account_id":27841883,"reputation":11,"user_id":21258205,"display_name":"Umer Saeed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694671794,"creation_date":1694671161,"answer_id":77102138,"question_id":77101941,"body_markdown":"\r\nFirst, add missing return statement for the case when m is equal to 0:\r\nIf m is equal to 0, the code doesn&#39;t return any value, which will result in a compilation error. You should add a return statement for this case.\r\n\r\n\r\n Only pass the valid values while invoking the function\r\n\r\n    public static double round2(double m) {\r\n            double ans = 0;\r\n            if(m&lt;0) {\r\n              //your code goes here\r\n                 ans= {result};\r\n               \r\n            }else if(m&gt;0) {\r\n              //your code goes here\r\n                 ans= {result};\r\n                \r\n            }else {\r\n               ans= {result};\r\n                 }\r\n            return ans;\r\n        }","title":"Why does Eclipse keep insisting that my answer needs to be a double even though I&#39;ve casted it as a double?","body":"<p>First, add missing return statement for the case when m is equal to 0:\nIf m is equal to 0, the code doesn't return any value, which will result in a compilation error. You should add a return statement for this case.</p>\n<p>Only pass the valid values while invoking the function</p>\n<pre><code>public static double round2(double m) {\n        double ans = 0;\n        if(m&lt;0) {\n          //your code goes here\n             ans= {result};\n           \n        }else if(m&gt;0) {\n          //your code goes here\n             ans= {result};\n            \n        }else {\n           ans= {result};\n             }\n        return ans;\n    }\n</code></pre>\n"}],"owner":{"account_id":29326996,"reputation":1,"user_id":22469254,"display_name":"Cirrus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694671359,"answer_count":1,"score":0,"last_activity_date":1694849842,"creation_date":1694668313,"question_id":77101941,"body_markdown":"Here&#39;s my code [enter image description here](https://i.stack.imgur.com/pey4e.png) \r\n\r\nI&#39;ve tried casting it, but it doesn&#39;t work. I&#39;ve spent an entire 2 hours trying to make sense of this, but I can&#39;t. For context, I&#39;ve been assigned to make a math library but with conditionals, so that&#39;s why I&#39;m rounding to 2 decimals.\r\n\r\nCode:\r\n\r\n```java\r\npublic static double round2 (double m) {\r\n\tif (m &lt; 0) {\r\n\t\tdouble b=  (m*-1);\r\n\t\tdouble h = b * 1000;\r\n\t\tdouble v= h+ 5;\r\n\t\tdouble num = (int) v /10;\r\n\t\tdouble ans =(double) (num/100)*-1;\r\n\t\treturn  (double) ans;\r\n\t}else if (m &gt; 0){\r\n\t\tdouble n = m * 1000;\r\n\t\tdouble f= n+ 5;\r\n\t\tdouble num2 = (int) f/10;\r\n\t\tdouble ans2 = (double) num2/100;\r\n\t\treturn  (double) ans2;\r\n\t}\r\n}\r\n```","title":"Why does Eclipse keep insisting that my answer needs to be a double even though I&#39;ve casted it as a double?","body":"<p>Here's my code <a href=\"https://i.stack.imgur.com/pey4e.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I've tried casting it, but it doesn't work. I've spent an entire 2 hours trying to make sense of this, but I can't. For context, I've been assigned to make a math library but with conditionals, so that's why I'm rounding to 2 decimals.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double round2 (double m) {\n    if (m &lt; 0) {\n        double b=  (m*-1);\n        double h = b * 1000;\n        double v= h+ 5;\n        double num = (int) v /10;\n        double ans =(double) (num/100)*-1;\n        return  (double) ans;\n    }else if (m &gt; 0){\n        double n = m * 1000;\n        double f= n+ 5;\n        double num2 = (int) f/10;\n        double ans2 = (double) num2/100;\n        return  (double) ans2;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":24163521,"reputation":1,"user_id":18126722,"display_name":"user18126722"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694849592,"creation_date":1694849592,"question_id":77116799,"body_markdown":"In tutorial I watched, instructor said that we should uncheck an option &quot;do not build gradle task list during gradle sync&quot; before configuring firebase, but only options I get is this (picture below). So, is that option disabled, or should I uncheck something else?\r\n\r\n[tutorial options][1]\r\n\r\n\r\n[my options][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OuTYO.png\r\n  [2]: https://i.stack.imgur.com/UW37j.png","title":"How to disable building Gradle task list during Gradle sync in android studio (for firebase purposes)?","body":"<p>In tutorial I watched, instructor said that we should uncheck an option &quot;do not build gradle task list during gradle sync&quot; before configuring firebase, but only options I get is this (picture below). So, is that option disabled, or should I uncheck something else?</p>\n<p><a href=\"https://i.stack.imgur.com/OuTYO.png\" rel=\"nofollow noreferrer\">tutorial options</a></p>\n<p><a href=\"https://i.stack.imgur.com/UW37j.png\" rel=\"nofollow noreferrer\">my options</a></p>\n"},{"tags":["java","kotlin"],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694848934,"post_id":77116719,"comment_id":135947787,"body_markdown":"Technically, if you wanted to match it 1-to-1, you would say `var` instead of the actual type. That would help you match the `val` in the Kotlin example.","body":"Technically, if you wanted to match it 1-to-1, you would say <code>var</code> instead of the actual type. That would help you match the <code>val</code> in the Kotlin example."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1694849527,"post_id":77116719,"comment_id":135947829,"body_markdown":"@davidalayachew You wouldn&#39;t be able to use `var`, because in Java `var` only works for local variables, not for fields.","body":"@davidalayachew You wouldn&#39;t be able to use <code>var</code>, because in Java <code>var</code> only works for local variables, not for fields."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694849563,"post_id":77116719,"comment_id":135947837,"body_markdown":"@MarkRotteveel Ah, right you are. Ty vm","body":"@MarkRotteveel Ah, right you are. Ty vm"}],"tags":[],"owner":{"account_id":28536562,"reputation":107,"user_id":21843221,"display_name":"Munakas"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694849563,"creation_date":1694848064,"answer_id":77116719,"question_id":77116695,"body_markdown":"This code is not tested in any way, I just wrote this in the Stack Overflow&#39;s box, **use it carefully**:\r\n```\r\nprivate final MapObjectTapListener mapObjectTapListener = new MapObjectTapListener() {\r\n    @Override\r\n    public boolean onMapObjectTap(MapObject mapObject, Point point) {\r\n        Toast.makeText(getApplicationContext(), &quot;Эрмитаж — музей изобразительных искусств&quot;, Toast.LENGTH_SHORT).show();\r\n        return true;\r\n    }\r\n};\r\n```","title":"How to translate kotlin to java?","body":"<p>This code is not tested in any way, I just wrote this in the Stack Overflow's box, <strong>use it carefully</strong>:</p>\n<pre><code>private final MapObjectTapListener mapObjectTapListener = new MapObjectTapListener() {\n    @Override\n    public boolean onMapObjectTap(MapObject mapObject, Point point) {\n        Toast.makeText(getApplicationContext(), &quot;Эрмитаж — музей изобразительных искусств&quot;, Toast.LENGTH_SHORT).show();\n        return true;\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":8209651,"reputation":5,"user_id":6178272,"display_name":"Иван Александров"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1694849563,"creation_date":1694847655,"question_id":77116695,"body_markdown":"```\r\nprivate val mapObjectTapListener = object : MapObjectTapListener {\r\n \toverride fun onMapObjectTap(mapObject: MapObject, point: Point): Boolean{\r\n     \tToast.makeText(applicationContext, &quot;Эрмитаж — музей изобразительных искусств&quot;, Toast.LENGTH_SHORT).show()\r\n     \treturn true\r\n \t}\r\n }\r\n```\r\n\r\nwhat would this code look like in Java?\r\n\r\ntry translate this\r\n```\r\n  private void mapObjectTapListener = MapObjectTapListener(){\r\n        @Override\r\n        public boolean onMapObjectTap(mapObject,point){\r\n            Toast.makeText(applicationContext, &quot;Эрмитаж — музей изобразительных искусств&quot;, Toast.LENGTH_SHORT).show();\r\n            return true;\r\n        }\r\n    }\r\n```","title":"How to translate kotlin to java?","body":"<pre><code>private val mapObjectTapListener = object : MapObjectTapListener {\n    override fun onMapObjectTap(mapObject: MapObject, point: Point): Boolean{\n        Toast.makeText(applicationContext, &quot;Эрмитаж — музей изобразительных искусств&quot;, Toast.LENGTH_SHORT).show()\n        return true\n    }\n }\n</code></pre>\n<p>what would this code look like in Java?</p>\n<p>try translate this</p>\n<pre><code>  private void mapObjectTapListener = MapObjectTapListener(){\n        @Override\n        public boolean onMapObjectTap(mapObject,point){\n            Toast.makeText(applicationContext, &quot;Эрмитаж — музей изобразительных искусств&quot;, Toast.LENGTH_SHORT).show();\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium4","cdp"],"answers":[{"comments":[{"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"score":0,"creation_date":1691758378,"post_id":76836919,"comment_id":135538772,"body_markdown":"Thanks. I expected something like that. Is there a way to download the jar for the latest version of selenium-tools? My maven repo is completely useless. Until recently, it didn&#39;t show anything newer than 4.3. Now it doesn&#39;t show anything newer than 2.x. Maven is the absolute worst, btw. Completely useless.","body":"Thanks. I expected something like that. Is there a way to download the jar for the latest version of selenium-tools? My maven repo is completely useless. Until recently, it didn&#39;t show anything newer than 4.3. Now it doesn&#39;t show anything newer than 2.x. Maven is the absolute worst, btw. Completely useless."}],"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691207841,"creation_date":1691159900,"answer_id":76836919,"question_id":76834348,"body_markdown":"According to the [4.3.0 CHANGELOG][1], this version supports Chrome DevTools Protocol (CDP) versions 85, 101, 102, and 103. However, you are currently using CDP version 109 with your ChromeDriver.\r\n\r\nThis version discrepancy in the error message is due to the Selenium version not supporting the CDP version included in your ChromeDriver. You need to ensure your versions of Selenium and ChromeDriver (and its underlying CDP version) are compatible.\r\n\r\nYou should keep an eye on the [CHANGELOG][2] to verify the compatibility of future Selenium and CDP versions. As you are using Maven, this should help you manage and align the versions of your dependencies more effectively.\r\n\r\nIn order to resolve this issue, you would need to use [Selenium 4.8.x variant][3], as these versions are confirmed to support CDP version 109, according to the Selenium CHANGELOG.\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/d43b1edd3e2eb31b073a002e9afbafe47d6ff14d/java/CHANGELOG#L301\r\n  [2]: https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\r\n  [3]: https://github.com/SeleniumHQ/selenium/blob/d43b1edd3e2eb31b073a002e9afbafe47d6ff14d/java/CHANGELOG#L138","title":"Selenium 4&#39;s NetworkInterceptor and ChromeDriver 109: DevToolsException Issue","body":"<p>According to the <a href=\"https://github.com/SeleniumHQ/selenium/blob/d43b1edd3e2eb31b073a002e9afbafe47d6ff14d/java/CHANGELOG#L301\" rel=\"nofollow noreferrer\">4.3.0 CHANGELOG</a>, this version supports Chrome DevTools Protocol (CDP) versions 85, 101, 102, and 103. However, you are currently using CDP version 109 with your ChromeDriver.</p>\n<p>This version discrepancy in the error message is due to the Selenium version not supporting the CDP version included in your ChromeDriver. You need to ensure your versions of Selenium and ChromeDriver (and its underlying CDP version) are compatible.</p>\n<p>You should keep an eye on the <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"nofollow noreferrer\">CHANGELOG</a> to verify the compatibility of future Selenium and CDP versions. As you are using Maven, this should help you manage and align the versions of your dependencies more effectively.</p>\n<p>In order to resolve this issue, you would need to use <a href=\"https://github.com/SeleniumHQ/selenium/blob/d43b1edd3e2eb31b073a002e9afbafe47d6ff14d/java/CHANGELOG#L138\" rel=\"nofollow noreferrer\">Selenium 4.8.x variant</a>, as these versions are confirmed to support CDP version 109, according to the Selenium CHANGELOG.</p>\n"}],"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694848562,"creation_date":1691138905,"question_id":76834348,"body_markdown":"I&#39;m trying to use some example code at the beginning of exploring intercepting network requests in Selenium 4. \r\n\r\nSelenium version: 4.3.0\r\nChromeDriver version: 109.0.5414.74\r\n\r\nCode sample:\r\n\r\n    ChromeDriver driver = new ChromeDriver();\r\n\r\n    NetworkInterceptor interceptor = new NetworkInterceptor(\r\n        driver, Route.matching(req -&gt; true)\r\n            .to(() -&gt; req -&gt; new HttpResponse()\r\n                .setStatus(200)\r\n                .addHeader(&quot;Content-Type&quot;, MediaType.HTML_UTF_8.toString())\r\n                .setContent(utf8String(&quot;Creamy, delicious cheese!&quot;))));\r\n\r\n        driver.get(&quot;https://example-sausages-site.com&quot;);\r\n\r\n        String source = driver.getPageSource();\r\n\r\n        assertThat(source).contains(&quot;delicious cheese!&quot;);\r\n\r\n\r\nThis error occurs when trying to use NetworkInterceptor:\r\n\r\n    org.openqa.selenium.devtools.DevToolsException: You are using a no-op implementation of\r\n    the CDP. The most likely reason for this is that Selenium was unable to find an \r\n    implementation of the CDP protocol that matches your browser. Please be sure to include an \r\n    implementation on the classpath, possibly by adding a new (maven) dependency of \r\n    `org.seleniumhq.selenium:selenium-devtools-vNN:4.3.0` where `NN` matches the major version of \r\n    the browser you&#39;re using.\r\n    Build info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39;\r\n    System info: host: &#39;frank-ulyana-xfce&#39;, ip: &#39;127.0.1.1&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, \r\n    os.version: &#39;5.15.0-58-generic&#39;, java.version: &#39;11.0.17&#39;\r\n    Driver info: DevTools Connection \r\n\r\n\r\nI&#39;m thinking this is a version issue? The version of NetworkInterceptor doesn&#39;t support ChromeDriver 109?\r\n\r\nIf so, can I just download version 108 and just instantiate that directly, while waiting for a version that supports 109?\r\n\r\nI&#39;m using Maven, so all versions and dependencies are managed there.","title":"Selenium 4&#39;s NetworkInterceptor and ChromeDriver 109: DevToolsException Issue","body":"<p>I'm trying to use some example code at the beginning of exploring intercepting network requests in Selenium 4.</p>\n<p>Selenium version: 4.3.0\nChromeDriver version: 109.0.5414.74</p>\n<p>Code sample:</p>\n<pre><code>ChromeDriver driver = new ChromeDriver();\n\nNetworkInterceptor interceptor = new NetworkInterceptor(\n    driver, Route.matching(req -&gt; true)\n        .to(() -&gt; req -&gt; new HttpResponse()\n            .setStatus(200)\n            .addHeader(&quot;Content-Type&quot;, MediaType.HTML_UTF_8.toString())\n            .setContent(utf8String(&quot;Creamy, delicious cheese!&quot;))));\n\n    driver.get(&quot;https://example-sausages-site.com&quot;);\n\n    String source = driver.getPageSource();\n\n    assertThat(source).contains(&quot;delicious cheese!&quot;);\n</code></pre>\n<p>This error occurs when trying to use NetworkInterceptor:</p>\n<pre><code>org.openqa.selenium.devtools.DevToolsException: You are using a no-op implementation of\nthe CDP. The most likely reason for this is that Selenium was unable to find an \nimplementation of the CDP protocol that matches your browser. Please be sure to include an \nimplementation on the classpath, possibly by adding a new (maven) dependency of \n`org.seleniumhq.selenium:selenium-devtools-vNN:4.3.0` where `NN` matches the major version of \nthe browser you're using.\nBuild info: version: '4.3.0', revision: 'a4995e2c09*'\nSystem info: host: 'frank-ulyana-xfce', ip: '127.0.1.1', os.name: 'Linux', os.arch: 'amd64', \nos.version: '5.15.0-58-generic', java.version: '11.0.17'\nDriver info: DevTools Connection \n</code></pre>\n<p>I'm thinking this is a version issue? The version of NetworkInterceptor doesn't support ChromeDriver 109?</p>\n<p>If so, can I just download version 108 and just instantiate that directly, while waiting for a version that supports 109?</p>\n<p>I'm using Maven, so all versions and dependencies are managed there.</p>\n"},{"tags":["java","selenium","selenium-ide"],"comments":[{"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"score":0,"creation_date":1380792459,"post_id":19155430,"comment_id":28334557,"body_markdown":"please, provide some code representing your table to provide you proper selectors.","body":"please, provide some code representing your table to provide you proper selectors."},{"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"score":0,"creation_date":1380792808,"post_id":19155430,"comment_id":28334751,"body_markdown":"please also clarify which language you are using (Java) and if you are using WebDriver or not (Selenium IDE?).","body":"please also clarify which language you are using (Java) and if you are using WebDriver or not (Selenium IDE?)."},{"owner":{"account_id":3298990,"reputation":33,"user_id":2775574,"display_name":"kkr"},"score":0,"creation_date":1380793600,"post_id":19155430,"comment_id":28335185,"body_markdown":"Java and Selenium IDE.","body":"Java and Selenium IDE."}],"answers":[{"comments":[{"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"score":0,"creation_date":1380814407,"post_id":19155710,"comment_id":28347867,"body_markdown":"unfortunately this is useless if he is using Selenium IDE.","body":"unfortunately this is useless if he is using Selenium IDE."},{"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"score":0,"creation_date":1380814433,"post_id":19155710,"comment_id":28347885,"body_markdown":"also, you could shorten that code to `int size = driver.findElements().size()`","body":"also, you could shorten that code to <code>int size = driver.findElements().size()</code>"}],"tags":[],"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1380792963,"creation_date":1380792963,"answer_id":19155710,"question_id":19155430,"body_markdown":"I would suggest the following:\r\n\r\n1) make list of elements of your table (e.g if you need to count your row count then select any row using appropriate selector).\r\n\r\n2) then create list of web elements\r\n\r\n    List&lt;WebElement&gt; columnElments = driver.findElements(By.cssSelector(&quot;...blablabla...&quot;));\r\n    int rowNumer = columnElmments.size();\r\n\r\nor either:\r\n\r\n    @FindBy\r\n                (how = How.CSS, using = &quot;blablablba&quot;)\r\n    List&lt;WebElement&gt; col;\r\n    \r\n    int rowNumer =col.size();\r\n\r\nHope you got the idea\r\n","title":"Selenium - How to count the number of rows in a table?","body":"<p>I would suggest the following:</p>\n\n<p>1) make list of elements of your table (e.g if you need to count your row count then select any row using appropriate selector).</p>\n\n<p>2) then create list of web elements</p>\n\n<pre><code>List&lt;WebElement&gt; columnElments = driver.findElements(By.cssSelector(\"...blablabla...\"));\nint rowNumer = columnElmments.size();\n</code></pre>\n\n<p>or either:</p>\n\n<pre><code>@FindBy\n            (how = How.CSS, using = \"blablablba\")\nList&lt;WebElement&gt; col;\n\nint rowNumer =col.size();\n</code></pre>\n\n<p>Hope you got the idea</p>\n"},{"tags":[],"owner":{"account_id":302425,"reputation":1982,"user_id":1103189,"accept_rate":100,"display_name":"Rohit Ware"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385369964,"creation_date":1385369964,"answer_id":20188354,"question_id":19155430,"body_markdown":"To store Number of rows into table you can use `storeXpathCount`\r\n\r\n    storeXpathCount | id=listBalances | NumberOfRows\r\n    echo  | ${NumberOfRows}\r\n\r\nstoreXpathCount will store rows count into variable NumberOfRows\r\nAnd echo will return count.","title":"Selenium - How to count the number of rows in a table?","body":"<p>To store Number of rows into table you can use <code>storeXpathCount</code></p>\n\n<pre><code>storeXpathCount | id=listBalances | NumberOfRows\necho  | ${NumberOfRows}\n</code></pre>\n\n<p>storeXpathCount will store rows count into variable NumberOfRows\nAnd echo will return count.</p>\n"}],"owner":{"account_id":3298990,"reputation":33,"user_id":2775574,"display_name":"kkr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8807,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694847905,"creation_date":1380792155,"question_id":19155430,"body_markdown":"I have a table with &quot;n&quot; number of rows. I need to count them, how to do?\r\n\r\nExample:- My table looks like the below entry.\r\n\r\n    Type\t\tBalance Date received \t    Date returned \tPayment method \tAmount\r\n    General \tDefault 10/01/2013 08:53:20 \t\t        Cash \t        $ 10.00\r\n\r\n    HTML of my table looks like this. &lt;th&gt; is table title row and &lt;td&gt; are the entries done by the user. Everytime the user add the new entry, the count will increase and display a message &quot;3 found for account 6478 &quot;. where 3 is no of rows in the table.   \r\n    &lt;fieldset&gt;\r\n    &lt;table id=&quot;listBalances&quot; class=&quot;listTable&quot; width=&quot;100%&quot;&gt;\r\n    &lt;thead&gt;\r\n    &lt;tr&gt;\r\n    &lt;th&gt;Type&lt;/th&gt;\r\n    &lt;th&gt;Balance&lt;/th&gt;\r\n    &lt;th&gt;Date received&lt;/th&gt;\r\n    &lt;th&gt;Date returned&lt;/th&gt;\r\n    &lt;th&gt;Payment method&lt;/th&gt;\r\n    &lt;th&gt;Amount&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n    &lt;tr class=&quot;alt&quot;&gt;\r\n    &lt;td&gt;General Deposit&lt;/td&gt;\r\n    &lt;td&gt;Default for RTB&lt;/td&gt;\r\n    &lt;td&gt;09/30/2013 06:58:41&lt;/td&gt;\r\n    &lt;td/&gt;\r\n    &lt;td&gt;Cash&lt;/td&gt;\r\n    &lt;td&gt;$ 5.00&lt;/td&gt;\r\n       \r\n\r\n             ","title":"Selenium - How to count the number of rows in a table?","body":"<p>I have a table with \"n\" number of rows. I need to count them, how to do?</p>\n\n<p>Example:- My table looks like the below entry.</p>\n\n<pre><code>Type        Balance Date received       Date returned   Payment method  Amount\nGeneral     Default 10/01/2013 08:53:20                 Cash            $ 10.00\n\nHTML of my table looks like this. &lt;th&gt; is table title row and &lt;td&gt; are the entries done by the user. Everytime the user add the new entry, the count will increase and display a message \"3 found for account 6478 \". where 3 is no of rows in the table.   \n&lt;fieldset&gt;\n&lt;table id=\"listBalances\" class=\"listTable\" width=\"100%\"&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Type&lt;/th&gt;\n&lt;th&gt;Balance&lt;/th&gt;\n&lt;th&gt;Date received&lt;/th&gt;\n&lt;th&gt;Date returned&lt;/th&gt;\n&lt;th&gt;Payment method&lt;/th&gt;\n&lt;th&gt;Amount&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;tr class=\"alt\"&gt;\n&lt;td&gt;General Deposit&lt;/td&gt;\n&lt;td&gt;Default for RTB&lt;/td&gt;\n&lt;td&gt;09/30/2013 06:58:41&lt;/td&gt;\n&lt;td/&gt;\n&lt;td&gt;Cash&lt;/td&gt;\n&lt;td&gt;$ 5.00&lt;/td&gt;\n</code></pre>\n"},{"tags":["java","log4j","file-permissions","rollingfileappender"],"comments":[{"owner":{"account_id":930090,"reputation":4490,"user_id":960115,"accept_rate":92,"display_name":"Jeff G"},"score":1,"creation_date":1486674334,"post_id":7893511,"comment_id":71460022,"body_markdown":"I realize this is a very old question, but there is a [Jira issue](https://issues.apache.org/jira/browse/LOG4J2-1699) scheduled to be fixed in 2.8.1 that would enable setting these permissions explicitly.","body":"I realize this is a very old question, but there is a <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1699\" rel=\"nofollow noreferrer\">Jira issue</a> scheduled to be fixed in 2.8.1 that would enable setting these permissions explicitly."},{"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"score":0,"creation_date":1657228842,"post_id":7893511,"comment_id":128768093,"body_markdown":"Numerical permissions are more clearly expressed as positional r w x characters, as suggested by your parenthetical notes. The &quot;symbolic mode&quot; of chmod supports these too.","body":"Numerical permissions are more clearly expressed as positional r w x characters, as suggested by your parenthetical notes. The &quot;symbolic mode&quot; of chmod supports these too."}],"answers":[{"comments":[{"owner":{"account_id":455865,"reputation":388,"user_id":854296,"display_name":"Ken Waln"},"score":1,"creation_date":1319571765,"post_id":7893621,"comment_id":9637345,"body_markdown":"Thanks -- I completely forgot about the umask.  Turns out, now that I know what to google for, that jsvc hard codes the umask so I may have to live with it (or recomplie jsvc) -- https://issues.apache.org/jira/browse/DAEMON-178.","body":"Thanks -- I completely forgot about the umask.  Turns out, now that I know what to google for, that jsvc hard codes the umask so I may have to live with it (or recomplie jsvc) -- <a href=\"https://issues.apache.org/jira/browse/DAEMON-178\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/DAEMON-178</a>."},{"owner":{"account_id":930090,"reputation":4490,"user_id":960115,"accept_rate":92,"display_name":"Jeff G"},"score":2,"creation_date":1512426679,"post_id":7893621,"comment_id":82244780,"body_markdown":"This answer is no longer accurate.  Log4j 2.9.0 added a way to configure this without changing the umask setting.","body":"This answer is no longer accurate.  Log4j 2.9.0 added a way to configure this without changing the umask setting."}],"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1319565220,"creation_date":1319565220,"answer_id":7893621,"question_id":7893511,"body_markdown":"File permissions are determined by the user&#39;s umask - there&#39;s not a way to change it in log4j itself.\r\n\r\nYou probably want to set the user&#39;s umask to `0117`\r\n\r\n    $ umask -S 0117\r\n    u=rw,g=rw,o=\r\n","title":"Permissions on log files created by log4j RollingFileAppender","body":"<p>File permissions are determined by the user's umask - there's not a way to change it in log4j itself.</p>\n\n<p>You probably want to set the user's umask to <code>0117</code></p>\n\n<pre><code>$ umask -S 0117\nu=rw,g=rw,o=\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2191415,"reputation":159,"user_id":1938347,"display_name":"Pichitron"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1486559232,"creation_date":1486559232,"answer_id":42114019,"question_id":7893511,"body_markdown":"inside log4j.properties include this: `log4j.appender.file.File=${user.home}/log`\r\nanyway, this is my configuration that show info in console and file &quot;log&quot;.\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=DEBUG, stdout, file\r\n    \r\n    # Redirect log messages to console\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n    \r\n    # Redirect log messages to a log file, support file rolling.\r\n    log4j.appender.file=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.file.File=${user.home}/test\r\n    log4j.appender.file.MaxFileSize=5MB\r\n    log4j.appender.file.MaxBackupIndex=10\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n","title":"Permissions on log files created by log4j RollingFileAppender","body":"<p>inside log4j.properties include this: <code>log4j.appender.file.File=${user.home}/log</code>\nanyway, this is my configuration that show info in console and file \"log\".</p>\n\n<pre><code># Root logger option\nlog4j.rootLogger=DEBUG, stdout, file\n\n# Redirect log messages to console\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n# Redirect log messages to a log file, support file rolling.\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=${user.home}/test\nlog4j.appender.file.MaxFileSize=5MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1755277,"reputation":340,"user_id":1603489,"display_name":"NaanProphet"},"score":1,"creation_date":1539270981,"post_id":43353497,"comment_id":92450129,"body_markdown":"This is really helpful when locked into LOG4j v1.","body":"This is really helpful when locked into LOG4j v1."}],"tags":[],"owner":{"account_id":1148764,"reputation":16208,"user_id":1130930,"display_name":"Russell Zahniser"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1491934882,"creation_date":1491934882,"answer_id":43353497,"question_id":7893511,"body_markdown":"I realize this is an old question, but since it was the first hit still when I searched for this problem...\r\n\r\nYou can simply subclass `RollingFileAppender` and set the permission on the file when it is first opened, like this:\r\n\r\n    public class WorldWritableFileAppender extends RollingFileAppender {\r\n    \t@Override\r\n    \tpublic synchronized void setFile(String fileName, boolean append,\r\n    \t\t\tboolean bufferedIO, int bufferSize) throws IOException {\r\n    \t\tsuper.setFile(fileName, append, bufferedIO, bufferSize);\r\n    \t\tFile f = new File(fileName);\r\n    \t\tif(f.exists()) {\r\n    \t\t\tjava.nio.file.Files.setPosixFilePermissions(f.toPath(), \r\n    \t\t\t\t\tEnumSet.allOf(PosixFilePermission.class));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThen just reference `WorldWritableFileAppender` instead of `RollingFileAppender` in your `log4j.xml`.\r\n\r\n    &lt;appender name=&quot;name&quot; class=&quot;path.to.WorldWritableFileAppender&quot;&gt;\r\n\r\nThis works because `setFile()` is called both when originally setting up the logger, and when creating a new file after rollover. The old file is moved aside with `File.renameTo()`, which preserves the permissions.","title":"Permissions on log files created by log4j RollingFileAppender","body":"<p>I realize this is an old question, but since it was the first hit still when I searched for this problem...</p>\n\n<p>You can simply subclass <code>RollingFileAppender</code> and set the permission on the file when it is first opened, like this:</p>\n\n<pre><code>public class WorldWritableFileAppender extends RollingFileAppender {\n    @Override\n    public synchronized void setFile(String fileName, boolean append,\n            boolean bufferedIO, int bufferSize) throws IOException {\n        super.setFile(fileName, append, bufferedIO, bufferSize);\n        File f = new File(fileName);\n        if(f.exists()) {\n            java.nio.file.Files.setPosixFilePermissions(f.toPath(), \n                    EnumSet.allOf(PosixFilePermission.class));\n        }\n    }\n}\n</code></pre>\n\n<p>Then just reference <code>WorldWritableFileAppender</code> instead of <code>RollingFileAppender</code> in your <code>log4j.xml</code>.</p>\n\n<pre><code>&lt;appender name=\"name\" class=\"path.to.WorldWritableFileAppender\"&gt;\n</code></pre>\n\n<p>This works because <code>setFile()</code> is called both when originally setting up the logger, and when creating a new file after rollover. The old file is moved aside with <code>File.renameTo()</code>, which preserves the permissions.</p>\n"},{"comments":[{"owner":{"account_id":1778418,"reputation":51,"user_id":1621704,"display_name":"PSS"},"score":0,"creation_date":1643895955,"post_id":44668614,"comment_id":125464320,"body_markdown":"How this can be doen for logback?","body":"How this can be doen for logback?"}],"tags":[],"owner":{"account_id":1785654,"reputation":747,"user_id":1627174,"display_name":"Pierrick HYMBERT"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1498647490,"creation_date":1498027459,"answer_id":44668614,"question_id":7893511,"body_markdown":"Log4J-core-2.9 will provide this [feature][1] *fileOwner*, *fileGroup* and *filePermissions* for posix OS in *FileAppender*, *RollingFileAppender* and *RollingRandomAccessFileManager*:\r\n\r\n    &lt;RollingFile name=&quot;RollingFile&quot;\r\n                 fileName=&quot;mylogs.log&quot;\r\n                 filePattern=&quot;mylogs-$${date:MM-dd-yyyy}-%i.log.7z&quot;\r\n                 fileOwner=&quot;log4j&quot;\r\n                 fileGroup=&quot;log4grp&quot;\r\n                 filePermissions=&quot;rw-r-----&quot;&gt;\r\n\r\n\r\n[1]: https://issues.apache.org/jira/browse/LOG4J2-1699","title":"Permissions on log files created by log4j RollingFileAppender","body":"<p>Log4J-core-2.9 will provide this <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1699\" rel=\"noreferrer\">feature</a> <em>fileOwner</em>, <em>fileGroup</em> and <em>filePermissions</em> for posix OS in <em>FileAppender</em>, <em>RollingFileAppender</em> and <em>RollingRandomAccessFileManager</em>:</p>\n\n<pre><code>&lt;RollingFile name=\"RollingFile\"\n             fileName=\"mylogs.log\"\n             filePattern=\"mylogs-$${date:MM-dd-yyyy}-%i.log.7z\"\n             fileOwner=\"log4j\"\n             fileGroup=\"log4grp\"\n             filePermissions=\"rw-r-----\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3111257,"reputation":97,"user_id":2632932,"display_name":"Varun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694846684,"creation_date":1694846684,"answer_id":77116655,"question_id":7893511,"body_markdown":"Add this to your pom file:\r\n\r\n    &lt;plugin&gt;                \r\n      &lt;groupId&gt;\r\n         org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-maven- plugin&lt;/artifactId&gt;\r\n     &lt;configuration&gt;\r\n       &lt;jvmArguments&gt;\r\n         -DUMASK=&quot;0022&quot;\r\n         -Dorg.apache.catalina.security.SecurityListener.UMASK=&quot;0022&quot;\r\n       &lt;/jvmArguments&gt;\r\n     &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Permissions on log files created by log4j RollingFileAppender","body":"<p>Add this to your pom file:</p>\n<pre><code>&lt;plugin&gt;                \n  &lt;groupId&gt;\n     org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven- plugin&lt;/artifactId&gt;\n &lt;configuration&gt;\n   &lt;jvmArguments&gt;\n     -DUMASK=&quot;0022&quot;\n     -Dorg.apache.catalina.security.SecurityListener.UMASK=&quot;0022&quot;\n   &lt;/jvmArguments&gt;\n &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":455865,"reputation":388,"user_id":854296,"display_name":"Ken Waln"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45126,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":7893621,"answer_count":5,"score":24,"last_activity_date":1694846684,"creation_date":1319564771,"question_id":7893511,"body_markdown":"How are the permissions for files created by `RollingFileAppender` determined?\r\n\r\nI recently changed a daemon process I have to be run as a non-root user and the files are now being created with permissions of `0600` (only readable by the owner), but I would like them to be readable by all or at least members of an admin group (`0644` or `0640`).  Files created by my tomcat apps are always `0644` (readable by all).\r\n\r\nI don&#39;t know if I inadvertently changed something else or if it is something to do with permissions of that user.  I made the parent directory `0777` as a test and it didn&#39;t seem to help (it was `0755`).  Obviously not a big deal since I can `sudo` to look at them, but rather annoying and it will be a problem if I have to have a customer copy them for me.\r\n\r\nEnvironment is Ubuntu 10.04LTS using `jsvc/commons-daemon` to run the daemon. In case it matters here is the basics on my `log4j` config:\r\n\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &#39;log4j.dtd&#39;&gt;\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;true&quot;&gt;\r\n\t\r\n\t&lt;appender name=&quot;StdOutAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n\t\t&lt;!-- only send error / fatal messages to console (catalina.out) --&gt;\r\n\t\t&lt;param name=&quot;threshold&quot; value=&quot;${log4j.StdOutAppender.threshold}&quot; /&gt;\r\n\t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%5p %d{ISO8601} [%t][%x] %c - %m%n&quot; /&gt;\r\n\t\t\t&lt;!--%d{dd-MMM-yyyy HH:mm:ss.SSS} [%5p] %c{2}.%M [line:%L]: %m%n--&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n\t\r\n\t&lt;appender name=&quot;TimeBasedRollingFileAppender&quot; class=&quot;org.apache.log4j.rolling.RollingFileAppender&quot;&gt;\r\n\t\t&lt;param name=&quot;append&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;param name=&quot;encoding&quot; value=&quot;UTF-8&quot; /&gt;\r\n\t\t&lt;param name=&quot;threshold&quot; value=&quot;${log4j.TimeBasedRollingFileAppender.threshold}&quot; /&gt;\r\n\t\t&lt;rollingPolicy class=&quot;org.apache.log4j.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n\t\t\t&lt;param name=&quot;FileNamePattern&quot; value=&quot;${cloud.daemon.log4j.file.config.path}.%d.gz&quot; /&gt;\r\n\t\t&lt;/rollingPolicy&gt;\r\n\t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%5p %d{ISO8601} [%t][%x] %c - %m%n&quot; /&gt;\r\n\t\t\t&lt;!--%d{dd-MMM-yyyy HH:mm:ss.SSS} [%5p] %c{2}.%M [line:%L]: %m%n--&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n    ....\r\n\t","title":"Permissions on log files created by log4j RollingFileAppender","body":"<p>How are the permissions for files created by <code>RollingFileAppender</code> determined?</p>\n\n<p>I recently changed a daemon process I have to be run as a non-root user and the files are now being created with permissions of <code>0600</code> (only readable by the owner), but I would like them to be readable by all or at least members of an admin group (<code>0644</code> or <code>0640</code>).  Files created by my tomcat apps are always <code>0644</code> (readable by all).</p>\n\n<p>I don't know if I inadvertently changed something else or if it is something to do with permissions of that user.  I made the parent directory <code>0777</code> as a test and it didn't seem to help (it was <code>0755</code>).  Obviously not a big deal since I can <code>sudo</code> to look at them, but rather annoying and it will be a problem if I have to have a customer copy them for me.</p>\n\n<p>Environment is Ubuntu 10.04LTS using <code>jsvc/commons-daemon</code> to run the daemon. In case it matters here is the basics on my <code>log4j</code> config:</p>\n\n<pre><code>&lt;!DOCTYPE log4j:configuration SYSTEM 'log4j.dtd'&gt;\n&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\" debug=\"true\"&gt;\n\n&lt;appender name=\"StdOutAppender\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n    &lt;!-- only send error / fatal messages to console (catalina.out) --&gt;\n    &lt;param name=\"threshold\" value=\"${log4j.StdOutAppender.threshold}\" /&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n        &lt;param name=\"ConversionPattern\" value=\"%5p %d{ISO8601} [%t][%x] %c - %m%n\" /&gt;\n        &lt;!--%d{dd-MMM-yyyy HH:mm:ss.SSS} [%5p] %c{2}.%M [line:%L]: %m%n--&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"TimeBasedRollingFileAppender\" class=\"org.apache.log4j.rolling.RollingFileAppender\"&gt;\n    &lt;param name=\"append\" value=\"true\" /&gt;\n    &lt;param name=\"encoding\" value=\"UTF-8\" /&gt;\n    &lt;param name=\"threshold\" value=\"${log4j.TimeBasedRollingFileAppender.threshold}\" /&gt;\n    &lt;rollingPolicy class=\"org.apache.log4j.rolling.TimeBasedRollingPolicy\"&gt;\n        &lt;param name=\"FileNamePattern\" value=\"${cloud.daemon.log4j.file.config.path}.%d.gz\" /&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n        &lt;param name=\"ConversionPattern\" value=\"%5p %d{ISO8601} [%t][%x] %c - %m%n\" /&gt;\n        &lt;!--%d{dd-MMM-yyyy HH:mm:ss.SSS} [%5p] %c{2}.%M [line:%L]: %m%n--&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n....\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9953,"page":181,"page_size":100}
