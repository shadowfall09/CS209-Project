{"items":[{"tags":["java","database","hibernate"],"comments":[{"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"score":0,"creation_date":1326790192,"post_id":8891154,"comment_id":12537277,"body_markdown":"java.lang.RuntimeException: by java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject This tells me that javassist cannot be accessed. How do you include this library into the project?","body":"java.lang.RuntimeException: by java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject This tells me that javassist cannot be accessed. How do you include this library into the project?"},{"owner":{"account_id":378228,"reputation":2297,"user_id":730821,"accept_rate":82,"display_name":"Jose Hdez"},"score":0,"creation_date":1326790735,"post_id":8891154,"comment_id":12537278,"body_markdown":"I add the library in folder &#39;lib&#39; and I include a line in the manifest file like: Bundle-ClassPath:lib/javassist.jar","body":"I add the library in folder &#39;lib&#39; and I include a line in the manifest file like: Bundle-ClassPath:lib/javassist.jar"},{"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"score":0,"creation_date":1326791130,"post_id":8891154,"comment_id":12537279,"body_markdown":"are you building a standalone application or a web-app?","body":"are you building a standalone application or a web-app?"},{"owner":{"account_id":378228,"reputation":2297,"user_id":730821,"accept_rate":82,"display_name":"Jose Hdez"},"score":0,"creation_date":1326791603,"post_id":8891154,"comment_id":12537280,"body_markdown":"It is a Web application in a OSGi context. Then I deploy war file like a bundle","body":"It is a Web application in a OSGi context. Then I deploy war file like a bundle"},{"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"score":0,"creation_date":1326792043,"post_id":8891154,"comment_id":12537281,"body_markdown":"if it&#39;s a web-app, you have to put your libraries into WEB-INF/lib folder. They will be picked up by your application.","body":"if it&#39;s a web-app, you have to put your libraries into WEB-INF/lib folder. They will be picked up by your application."},{"owner":{"account_id":378228,"reputation":2297,"user_id":730821,"accept_rate":82,"display_name":"Jose Hdez"},"score":0,"creation_date":1326794186,"post_id":8891154,"comment_id":12537282,"body_markdown":"It is a Web application but deployed as OSGi bundle. Then, in manifest file, it is specified where the libraries are. In my case, lib folder.","body":"It is a Web application but deployed as OSGi bundle. Then, in manifest file, it is specified where the libraries are. In my case, lib folder."},{"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"score":0,"creation_date":1326794741,"post_id":8891154,"comment_id":12537283,"body_markdown":"I don&#39;t have much experience in OSGI based web-apps, can&#39;t help you :) But you surely want to include this info in your question. Good luck","body":"I don&#39;t have much experience in OSGI based web-apps, can&#39;t help you :) But you surely want to include this info in your question. Good luck"}],"answers":[{"tags":[],"owner":{"account_id":1192953,"reputation":1549,"user_id":1165331,"accept_rate":42,"display_name":"Pazonec"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327580291,"creation_date":1327580291,"answer_id":9017999,"question_id":8891154,"body_markdown":"Set the &quot;long&quot; type of id instead of java.lang.Integer. And add getters and setters to your fields. ","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>Set the \"long\" type of id instead of java.lang.Integer. And add getters and setters to your fields. </p>\n"},{"comments":[{"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"score":9,"creation_date":1349540729,"post_id":9954068,"comment_id":17244036,"body_markdown":"check the whole stack trace - it will tell you the name of the missing method.","body":"check the whole stack trace - it will tell you the name of the missing method."},{"owner":{"account_id":1551580,"reputation":2663,"user_id":1443840,"accept_rate":48,"display_name":"Shekhar Khairnar"},"score":1,"creation_date":1393657287,"post_id":9954068,"comment_id":33542640,"body_markdown":"I  was suffering from the same problem which is solved after reading your answer. Thanks.","body":"I  was suffering from the same problem which is solved after reading your answer. Thanks."},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":1,"creation_date":1398377310,"post_id":9954068,"comment_id":35633553,"body_markdown":"Not the problem in my case. I have only two class variables and both have getters and setters.","body":"Not the problem in my case. I have only two class variables and both have getters and setters."},{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1442297885,"post_id":9954068,"comment_id":53012270,"body_markdown":"I had a getter wich was not supposed to be persisted. Had to add @Transient to make it work.","body":"I had a getter wich was not supposed to be persisted. Had to add @Transient to make it work."},{"owner":{"account_id":2444447,"reputation":116,"user_id":2132164,"display_name":"Kersy"},"score":0,"creation_date":1552914598,"post_id":9954068,"comment_id":97179065,"body_markdown":"Just surround your hibernate session factory initialization with a try and catch. The exception thrown should tell where the issue is.","body":"Just surround your hibernate session factory initialization with a try and catch. The exception thrown should tell where the issue is."}],"tags":[],"owner":{"account_id":217708,"reputation":23000,"user_id":473637,"accept_rate":88,"display_name":"Jeshurun"},"comment_count":5,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1333180058,"creation_date":1333180058,"answer_id":9954068,"question_id":8891154,"body_markdown":"When I ran into this error the fix was simple. I was simply missing a setter for a property. Make sure you define matching getters / setters for all your properties.","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>When I ran into this error the fix was simple. I was simply missing a setter for a property. Make sure you define matching getters / setters for all your properties.</p>\n"},{"tags":[],"owner":{"account_id":465474,"reputation":587,"user_id":869585,"accept_rate":83,"display_name":"texasdude11"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1357074228,"creation_date":1357074228,"answer_id":14114206,"question_id":8891154,"body_markdown":"I am using spring 3.0 and Hibernate 3.6 in my project. I ran into the same error just now. Googling this error message brought me to this page.\r\n\r\nFuntik&#39;s comment on Jan 17 &#39;12 at 8:49 helped me resolve the issue-\r\n\r\n&quot;This tells me that javassist cannot be accessed. How do you include this library into the project?&quot;\r\n\r\nSo, I included java assist in my maven pom file as below:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javassist&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis resolved the issue for me. Thanks Funtik.\r\n","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>I am using spring 3.0 and Hibernate 3.6 in my project. I ran into the same error just now. Googling this error message brought me to this page.</p>\n\n<p>Funtik's comment on Jan 17 '12 at 8:49 helped me resolve the issue-</p>\n\n<p>\"This tells me that javassist cannot be accessed. How do you include this library into the project?\"</p>\n\n<p>So, I included java assist in my maven pom file as below:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.12.1.GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This resolved the issue for me. Thanks Funtik.</p>\n"},{"comments":[{"owner":{"account_id":1062123,"reputation":1779,"user_id":1063509,"accept_rate":73,"display_name":"Ishikawa Yoshi"},"score":2,"creation_date":1381244829,"post_id":14365438,"comment_id":28497925,"body_markdown":"Hi, can you please explain what javassit.jar do, why it fix this kind of problem and why i should add it to my project?","body":"Hi, can you please explain what javassit.jar do, why it fix this kind of problem and why i should add it to my project?"},{"owner":{"account_id":2189611,"reputation":2147,"user_id":1937081,"accept_rate":25,"display_name":"Guido Celada"},"score":6,"creation_date":1408826316,"post_id":14365438,"comment_id":39740332,"body_markdown":"Hibernate uses Javassist proxies to help with lazy loading.","body":"Hibernate uses Javassist proxies to help with lazy loading."}],"tags":[],"owner":{"account_id":1662669,"reputation":731,"user_id":1530639,"display_name":"Sameer Kulkarni"},"comment_count":2,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1426083837,"creation_date":1358361841,"answer_id":14365438,"question_id":8891154,"body_markdown":"I was also facing the same issue.\r\n\r\nAdded the same dependency and it worked (like this):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javassist&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n    &lt;/dependency&gt; ","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>I was also facing the same issue.</p>\n\n<p>Added the same dependency and it worked (like this):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.12.1.GA&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2359873,"reputation":9,"user_id":2066798,"display_name":"Hiran Kariyawasam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360721727,"creation_date":1360719666,"answer_id":14845108,"question_id":8891154,"body_markdown":"Check your Hibernate mapping file *.hbm.xml and check the class with which you are creating the getter and setter methods. Every property in the mapping file should exist as getters and setters in the populating class. Once you fix that the error is solved.\r\n\r\nAlso by reading the console, you can probably see the error mentioning a missing getter/setter.\r\n\r\nHope this helps you.\r\n","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>Check your Hibernate mapping file *.hbm.xml and check the class with which you are creating the getter and setter methods. Every property in the mapping file should exist as getters and setters in the populating class. Once you fix that the error is solved.</p>\n\n<p>Also by reading the console, you can probably see the error mentioning a missing getter/setter.</p>\n\n<p>Hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":319704,"reputation":5844,"user_id":637609,"accept_rate":96,"display_name":"Mark W"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383744877,"creation_date":1383744877,"answer_id":19813501,"question_id":8891154,"body_markdown":"For me this was resolved by adding an explicit default constructor\r\n\r\n    public MyClassName (){}","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>For me this was resolved by adding an explicit default constructor</p>\n\n<pre><code>public MyClassName (){}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":395153,"reputation":5697,"user_id":757966,"display_name":"Ademar"},"score":0,"creation_date":1388493189,"post_id":20857261,"comment_id":31289784,"body_markdown":"This answer could be added as a comment Im afraid.","body":"This answer could be added as a comment Im afraid."}],"tags":[],"owner":{"account_id":3793369,"reputation":1,"user_id":3149280,"display_name":"user3149280"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388493279,"creation_date":1388492174,"answer_id":20857261,"question_id":8891154,"body_markdown":"This issue is created due to  name=&quot;iSetPointId&quot; make &quot;i&quot; capital and corresponding model class changes.","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>This issue is created due to  name=\"iSetPointId\" make \"i\" capital and corresponding model class changes.</p>\n"},{"tags":[],"owner":{"account_id":84595,"reputation":1586,"user_id":236362,"accept_rate":78,"display_name":"Giorgio Vespucci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389015263,"creation_date":1389015263,"answer_id":20951150,"question_id":8891154,"body_markdown":"In my case I had a `isSomething()` boolean getter and got this error.\r\n\r\nI resolved it by annotating the method with the JPA `@Transient` annotation and find a confirmation in an answer to [this SO question][1], so telling the provider not to persist the attribute.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2154622/why-does-jpa-have-a-transient-annotation","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>In my case I had a <code>isSomething()</code> boolean getter and got this error.</p>\n\n<p>I resolved it by annotating the method with the JPA <code>@Transient</code> annotation and find a confirmation in an answer to <a href=\"https://stackoverflow.com/questions/2154622/why-does-jpa-have-a-transient-annotation\">this SO question</a>, so telling the provider not to persist the attribute.</p>\n"},{"tags":[],"owner":{"account_id":375100,"reputation":824,"user_id":725719,"accept_rate":48,"display_name":"day_dreamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390546230,"creation_date":1390546230,"answer_id":21326244,"question_id":8891154,"body_markdown":"I was getting the same error even after adding no-arg constructor,Then I figured out that I was missing several JARs.I am posting this so that if anyone gets the error like I got, make sure you have added these JARs in your lib folder :\r\n\r\n    activation-1.0.2.jar\r\n    antlr-2.7.6.jar\r\n    aopalliance.jar\r\n    asm-1.5.3.jar\r\n    asm-attrs-1.5.3.jar\r\n    cglib-2.1_3.jar\r\n    commons-beanutils-1.7.0.jar\r\n    commons-collections-2.1.1.jar\r\n    commons-digester-1.8.jar\r\n    commons-email-1.0.jar\r\n    commons-fileupload-1.1.1.jar\r\n    commons-io-1.1.jar\r\n    commons-lang-2.5.jar\r\n    commons-logging-1.1.3.jar\r\n    dom4j-1.6.1.jar\r\n    dumbster-1.6.jar\r\n    ehcache-1.2.3.jar\r\n    ejb3-persistence-3.3.1.jar\r\n    hibernate-commons-annotations-4.0.4.Final.jar\r\n    hibernate-core-4.2.8.Final.jar\r\n    icu4j-2.6.1.jar\r\n    javassist-3.4.GA.jar\r\n    javax.persistence_2.0.3.v201010191057.jar\r\n    javax.servlet.jsp.jstl-1.2.1.jar\r\n    jaxb-api-2.1.jar\r\n    jaxb-impl-2.1.3.jar\r\n    jaxen-1.1.1.jar\r\n    jboss-logging-3.1.3.GA.jar\r\n    jdom-1.0.jar\r\n    jstl-1.2.jar\r\n    jta-1.1.jar\r\n    lucene-core-2.3.2.jar\r\n    lucene-highlighter-2.0.0.jar\r\n    mail-1.4.jar\r\n    mysql-connector-java-5.0.8-bin.jar\r\n    org.springframework.orm.jar\r\n    slf4j-api-1.6.1.jar\r\n    slf4j-log4j12-1.5.6.jar\r\n    spring-aop-4.0.0.RELEASE.jar\r\n    spring-aspects-4.0.0.RELEASE-javadoc.jar\r\n    spring-beans-4.0.0.RELEASE.jar\r\n    spring-build-src-4.0.0.RELEASE.jar\r\n    spring-context-4.0.0.RELEASE.jar\r\n    spring-core-4.0.0.RELEASE.jar\r\n    spring-expression-4.0.0.RELEASE.jar\r\n    spring-framework-bom-4.0.0.RELEASE.jar\r\n    spring-jdbc-4.0.0.RELEASE.jar\r\n    spring-orm-4.0.0.RELEASE.jar\r\n    spring-tx-4.0.0.RELEASE.jar\r\n    spring-web-4.0.0.RELEASE.jar\r\n    spring-webmvc-4.0.0.RELEASE.jar\r\n    stax-api-1.0-2.jar\r\n    validation-api-1.0.0.GA.jar\r\n    xalan-2.6.0.jar\r\n    xercesImpl-2.6.2.jar\r\n    xml-apis-1.3.02.jar\r\n    xmlParserAPIs-2.6.2.jar\r\n    xom-1.0.jar","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>I was getting the same error even after adding no-arg constructor,Then I figured out that I was missing several JARs.I am posting this so that if anyone gets the error like I got, make sure you have added these JARs in your lib folder :</p>\n\n<pre><code>activation-1.0.2.jar\nantlr-2.7.6.jar\naopalliance.jar\nasm-1.5.3.jar\nasm-attrs-1.5.3.jar\ncglib-2.1_3.jar\ncommons-beanutils-1.7.0.jar\ncommons-collections-2.1.1.jar\ncommons-digester-1.8.jar\ncommons-email-1.0.jar\ncommons-fileupload-1.1.1.jar\ncommons-io-1.1.jar\ncommons-lang-2.5.jar\ncommons-logging-1.1.3.jar\ndom4j-1.6.1.jar\ndumbster-1.6.jar\nehcache-1.2.3.jar\nejb3-persistence-3.3.1.jar\nhibernate-commons-annotations-4.0.4.Final.jar\nhibernate-core-4.2.8.Final.jar\nicu4j-2.6.1.jar\njavassist-3.4.GA.jar\njavax.persistence_2.0.3.v201010191057.jar\njavax.servlet.jsp.jstl-1.2.1.jar\njaxb-api-2.1.jar\njaxb-impl-2.1.3.jar\njaxen-1.1.1.jar\njboss-logging-3.1.3.GA.jar\njdom-1.0.jar\njstl-1.2.jar\njta-1.1.jar\nlucene-core-2.3.2.jar\nlucene-highlighter-2.0.0.jar\nmail-1.4.jar\nmysql-connector-java-5.0.8-bin.jar\norg.springframework.orm.jar\nslf4j-api-1.6.1.jar\nslf4j-log4j12-1.5.6.jar\nspring-aop-4.0.0.RELEASE.jar\nspring-aspects-4.0.0.RELEASE-javadoc.jar\nspring-beans-4.0.0.RELEASE.jar\nspring-build-src-4.0.0.RELEASE.jar\nspring-context-4.0.0.RELEASE.jar\nspring-core-4.0.0.RELEASE.jar\nspring-expression-4.0.0.RELEASE.jar\nspring-framework-bom-4.0.0.RELEASE.jar\nspring-jdbc-4.0.0.RELEASE.jar\nspring-orm-4.0.0.RELEASE.jar\nspring-tx-4.0.0.RELEASE.jar\nspring-web-4.0.0.RELEASE.jar\nspring-webmvc-4.0.0.RELEASE.jar\nstax-api-1.0-2.jar\nvalidation-api-1.0.0.GA.jar\nxalan-2.6.0.jar\nxercesImpl-2.6.2.jar\nxml-apis-1.3.02.jar\nxmlParserAPIs-2.6.2.jar\nxom-1.0.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3988774,"reputation":31,"user_id":3288475,"display_name":"mahesh patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391904035,"creation_date":1391902715,"answer_id":21653193,"question_id":8891154,"body_markdown":"Add the following to your `pom.xml` and take out the dependency from `asm` jars from hibernate and add separate dependency to `asm` in a separate section. I did the same and it worked in one shot.  \t\r\n \r\n\r\n     \t&lt;!-- Hibernate core --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;3.2.7.ga&lt;/version&gt;\r\n    \t  \r\n       &lt;exclusions&gt;      \r\n          &lt;exclusion&gt;\r\n             &lt;groupId&gt;asm&lt;/groupId&gt; \r\n               &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n             &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;   \r\n              &lt;groupId&gt;asm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asm-attrs&lt;/artifactId&gt;\r\n              &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\r\n     \r\n     \r\n      \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;asm&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;3.1&lt;/version&gt;\r\n    \t","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>Add the following to your <code>pom.xml</code> and take out the dependency from <code>asm</code> jars from hibernate and add separate dependency to <code>asm</code> in a separate section. I did the same and it worked in one shot.    </p>\n\n<pre><code>    &lt;!-- Hibernate core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\n      &lt;version&gt;3.2.7.ga&lt;/version&gt;\n\n   &lt;exclusions&gt;      \n      &lt;exclusion&gt;\n         &lt;groupId&gt;asm&lt;/groupId&gt; \n           &lt;artifactId&gt;asm&lt;/artifactId&gt;\n         &lt;/exclusion&gt;\n      &lt;exclusion&gt;   \n          &lt;groupId&gt;asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm-attrs&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;asm&lt;/groupId&gt;\n      &lt;artifactId&gt;asm&lt;/artifactId&gt;\n      &lt;version&gt;3.1&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1897366,"reputation":1346,"user_id":1714013,"display_name":"karl li"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394142959,"creation_date":1394142959,"answer_id":22236896,"question_id":8891154,"body_markdown":"According to the stack trace:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject at     java.lang.ClassLoader.defineClass1(Native Method)\r\n\r\nThe issue is caused by &quot;java.lang.NoClassDefFoundError&quot;, so I think you should focus on this.\r\n\r\nThe direct solution is to add dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javassist&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto your pom.xml.\r\n\r\n","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>According to the stack trace:</p>\n\n<pre><code>Caused by: java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject at     java.lang.ClassLoader.defineClass1(Native Method)\n</code></pre>\n\n<p>The issue is caused by \"java.lang.NoClassDefFoundError\", so I think you should focus on this.</p>\n\n<p>The direct solution is to add dependency </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.12.1.GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>to your pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":2971837,"reputation":526,"user_id":2523737,"accept_rate":100,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404275805,"creation_date":1404275805,"answer_id":24522972,"question_id":8891154,"body_markdown":"I had a similar problem and after going over a lot on stack overflow and spending time on the jar dependencies, I figured out that in my case, I had two sets of asm.jar. I removed one of them and it worked fine...","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>I had a similar problem and after going over a lot on stack overflow and spending time on the jar dependencies, I figured out that in my case, I had two sets of asm.jar. I removed one of them and it worked fine...</p>\n"},{"tags":[],"owner":{"account_id":1246160,"reputation":116,"user_id":1207569,"display_name":"tanrobles"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1411079480,"creation_date":1411079480,"answer_id":25923460,"question_id":8891154,"body_markdown":"I had the same problem and resolved it adding this dependency.\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;javassist&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n\t&lt;/dependency&gt;\t\r\n\r\nI am using hibernate 3.6 version.","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>I had the same problem and resolved it adding this dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.12.1.GA&lt;/version&gt;\n&lt;/dependency&gt;   \n</code></pre>\n\n<p>I am using hibernate 3.6 version.</p>\n"},{"tags":[],"owner":{"account_id":4448460,"reputation":130,"user_id":3621120,"display_name":"szaroblekitny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481228256,"creation_date":1481228256,"answer_id":41048088,"question_id":8891154,"body_markdown":"In my case has helped to exclude javax.transaction.jta dependency from hibernate:\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\r\n\t  &lt;version&gt;3.2.7.ga&lt;/version&gt;\r\n\t  &lt;exclusions&gt;\r\n\t    &lt;exclusion&gt;\r\n\t  \t  &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n\t  \t  &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n\t  \t&lt;/exclusion&gt;\r\n\t  &lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>In my case has helped to exclude javax.transaction.jta dependency from hibernate:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\n  &lt;version&gt;3.2.7.ga&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n      &lt;artifactId&gt;jta&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484032403,"creation_date":1484032403,"answer_id":41563149,"question_id":8891154,"body_markdown":"Please do check Hibernate Property Name and Id Name also.","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>Please do check Hibernate Property Name and Id Name also.</p>\n"},{"tags":[],"owner":{"account_id":4048506,"reputation":2759,"user_id":3328979,"accept_rate":78,"display_name":"Arashsoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499289553,"creation_date":1499289553,"answer_id":44936169,"question_id":8891154,"body_markdown":"I had the same exception and I was excluding `javassist` because of its [issue with][1] `powermock`. Then I was adding it again as below but it was not working:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n       &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n       &lt;version&gt;1.7.0&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n       &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n             &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n             &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n       &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n       &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n       &lt;version&gt;3.20.0-GA&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFinally I found out that I have to remove `&lt;scope&gt;test&lt;/scope&gt;` from `javassist` dependency. Hope it helps someone.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/31189086/3328979","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>I had the same exception and I was excluding <code>javassist</code> because of its <a href=\"https://stackoverflow.com/q/31189086/3328979\">issue with</a> <code>powermock</code>. Then I was adding it again as below but it was not working:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n   &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n   &lt;version&gt;1.7.0&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n   &lt;exclusions&gt;\n      &lt;exclusion&gt;\n         &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n         &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n   &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n   &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n   &lt;version&gt;3.20.0-GA&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Finally I found out that I have to remove <code>&lt;scope&gt;test&lt;/scope&gt;</code> from <code>javassist</code> dependency. Hope it helps someone.</p>\n"},{"comments":[{"owner":{"account_id":1869831,"reputation":4089,"user_id":1692341,"accept_rate":90,"display_name":"Steffen"},"score":1,"creation_date":1543245274,"post_id":53030353,"comment_id":93837737,"body_markdown":"Thanks. I was facing the same issue. An update to Spring Boot 2.1 did the trick, though, if that is an option.","body":"Thanks. I was facing the same issue. An update to Spring Boot 2.1 did the trick, though, if that is an option."},{"owner":{"account_id":1691849,"reputation":3175,"user_id":1554035,"accept_rate":31,"display_name":"SheppardDigital"},"score":1,"creation_date":1560949429,"post_id":53030353,"comment_id":99904396,"body_markdown":"Perfect thank you, I had the same problem with Spring Boot 2, changed the project back to v1.8 of the Java SDK and it solved the problem.","body":"Perfect thank you, I had the same problem with Spring Boot 2, changed the project back to v1.8 of the Java SDK and it solved the problem."},{"owner":{"account_id":11824738,"reputation":3658,"user_id":8652920,"display_name":"notacorn"},"score":0,"creation_date":1582125830,"post_id":53030353,"comment_id":106670926,"body_markdown":"this was the answer for me","body":"this was the answer for me"}],"tags":[],"owner":{"account_id":10182669,"reputation":4457,"user_id":7518849,"display_name":"i.karayel"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1540721320,"creation_date":1540721320,"answer_id":53030353,"question_id":8891154,"body_markdown":"I know its an old question and lots of answers are helpful but in my case, I faced with the same error unluckily the reason was different. (Spring boot version 2.0.5.RELEASE) If you are using \r\n\r\n&gt; IntelliJ idea 2018.1.5 or above  and you set JDK version as JDK 11 \r\n\r\nthe same exception occurred. After updating the \r\n\r\n&gt; JDK version as 8\r\n\r\n the error is gone. ","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>I know its an old question and lots of answers are helpful but in my case, I faced with the same error unluckily the reason was different. (Spring boot version 2.0.5.RELEASE) If you are using </p>\n\n<blockquote>\n  <p>IntelliJ idea 2018.1.5 or above  and you set JDK version as JDK 11 </p>\n</blockquote>\n\n<p>the same exception occurred. After updating the </p>\n\n<blockquote>\n  <p>JDK version as 8</p>\n</blockquote>\n\n<p>the error is gone. </p>\n"},{"tags":[],"owner":{"account_id":1626664,"reputation":34767,"user_id":1502079,"accept_rate":56,"display_name":"vovahost"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553140408,"creation_date":1553140408,"answer_id":55273526,"question_id":8891154,"body_markdown":"In my case I had a Kotlin class with some fields which were not open so the generated Java \r\n setters and getters would be final. Solved it by adding `open` keyword to each field.\r\n\r\nBefore:\r\n\r\n    open class User(\r\n        var id: String = &quot;&quot;,\r\n        var email: String = &quot;&quot;\r\n    )\r\n\r\nAfter:\r\n\r\n    open class User(\r\n        open var id: String = &quot;&quot;,\r\n        open var email: String = &quot;&quot;\r\n    )","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>In my case I had a Kotlin class with some fields which were not open so the generated Java \n setters and getters would be final. Solved it by adding <code>open</code> keyword to each field.</p>\n\n<p>Before:</p>\n\n<pre><code>open class User(\n    var id: String = \"\",\n    var email: String = \"\"\n)\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>open class User(\n    open var id: String = \"\",\n    open var email: String = \"\"\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4254480,"reputation":1409,"user_id":3480525,"accept_rate":69,"display_name":"Praveesh P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588617330,"creation_date":1588617330,"answer_id":61599233,"question_id":8891154,"body_markdown":"My issue was due to version conflict. \r\nI resolved this issue by excluding byte-buddy dependency from springfox\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n      &lt;exclusion&gt;\r\n        &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n      &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n      &lt;exclusion&gt;\r\n        &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n      &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>My issue was due to version conflict. \nI resolved this issue by excluding byte-buddy dependency from springfox</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n  &lt;version&gt;2.7.0&lt;/version&gt;\n  &lt;exclusions&gt;\n  &lt;exclusion&gt;\n    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n    &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n  &lt;version&gt;2.7.0&lt;/version&gt;\n  &lt;exclusions&gt;\n  &lt;exclusion&gt;\n    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n    &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13430409,"reputation":268,"user_id":9690407,"display_name":"lyrio"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592990199,"creation_date":1592990199,"answer_id":62551631,"question_id":8891154,"body_markdown":"I know this post is old, but i ran in the same problem, and i solved it by simply changing my configuration from Java 11 down to Java 8.","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>I know this post is old, but i ran in the same problem, and i solved it by simply changing my configuration from Java 11 down to Java 8.</p>\n"},{"tags":[],"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614987798,"creation_date":1614987798,"answer_id":66500954,"question_id":8891154,"body_markdown":"same here with ***Jasper Reports Server (JRS) v7.2.0*** which is obviously **not compatible with Oracle JDK 11 (and likely OpenJDK 11)**, but the **distributed *Ora JDK 1.8.0_201* worked fine**.\r\nThis is also documented in the JRS community forum: https://community.jaspersoft.com/questions/1141881/jasper-installation-community-version","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>same here with <em><strong>Jasper Reports Server (JRS) v7.2.0</strong></em> which is obviously <strong>not compatible with Oracle JDK 11 (and likely OpenJDK 11)</strong>, but the <strong>distributed <em>Ora JDK 1.8.0_201</em> worked fine</strong>.\nThis is also documented in the JRS community forum: <a href=\"https://community.jaspersoft.com/questions/1141881/jasper-installation-community-version\" rel=\"nofollow noreferrer\">https://community.jaspersoft.com/questions/1141881/jasper-installation-community-version</a></p>\n"},{"tags":[],"owner":{"account_id":15770041,"reputation":31,"user_id":11379360,"display_name":"jewe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681725663,"creation_date":1681725663,"answer_id":76033913,"question_id":8891154,"body_markdown":"Years later, the problem came back, after i changed my machine to M1 apple Chip.\r\n\r\nAfter some research i found my answer in this google group:https://groups.google.com/g/repo-discuss/c/v3EHHdjDhiU\r\n\r\n`tldr:` I needed to add `--add-opens=java.base/java.lang=ALL-UNNAMED` as a VM option to my local environment. After this, all worked fine again.","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>Years later, the problem came back, after i changed my machine to M1 apple Chip.</p>\n<p>After some research i found my answer in this google group:<a href=\"https://groups.google.com/g/repo-discuss/c/v3EHHdjDhiU\" rel=\"nofollow noreferrer\">https://groups.google.com/g/repo-discuss/c/v3EHHdjDhiU</a></p>\n<p><code>tldr:</code> I needed to add <code>--add-opens=java.base/java.lang=ALL-UNNAMED</code> as a VM option to my local environment. After this, all worked fine again.</p>\n"}],"owner":{"account_id":378228,"reputation":2297,"user_id":730821,"accept_rate":82,"display_name":"Jose Hdez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118735,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":9954068,"answer_count":22,"score":75,"last_activity_date":1681725663,"creation_date":1326786153,"question_id":8891154,"body_markdown":"I am developing an application with Hibernate and I get an Exception when I connect with database. The exception is:\r\n\r\n    Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\r\n\r\nMy mapping file is:\r\n\r\n    &lt;hibernate-mapping&gt;\r\n\t&lt;class name=&quot;com.cartif.database.SetPoint&quot; table=&quot;SetPoint&quot;&gt;\r\n\t\t&lt;id name=&quot;iSetPointId&quot; column=&quot;setpointid&quot; type=&quot;java.lang.Integer&quot;&gt;\r\n\t\t\t&lt;generator class=&quot;sequence&quot;&gt;\r\n\t\t\t\t&lt;param name=&quot;sequence&quot;&gt;s_setpoint&lt;/param&gt;\r\n\t\t\t&lt;/generator&gt;\r\n\t\t&lt;/id&gt;\r\n\t\t&lt;property column=&quot;sensorType&quot; generated=&quot;never&quot; lazy=&quot;false&quot; name=&quot;sSensortype&quot; type=&quot;java.lang.String&quot;/&gt;\r\n\t\t&lt;property column=&quot;value&quot; generated=&quot;never&quot; lazy=&quot;false&quot; name=&quot;dValue&quot; type=&quot;java.lang.Double&quot;/&gt;\r\n\t\t&lt;property column=&quot;relationship&quot; generated=&quot;never&quot; lazy=&quot;false&quot; name=&quot;sRelation&quot; type=&quot;java.lang.String&quot;/&gt;\r\n\t\t&lt;property column=&quot;deviceid&quot; generated=&quot;never&quot; lazy=&quot;false&quot; name=&quot;iDeviceId&quot; type=&quot;java.lang.Integer&quot;/&gt;\r\n\t&lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nAnd the class with getters/setters which are not included:\r\n\r\n    public class SetPoint {\r\n\t    private int iSetPointId;\r\n\t    private String sSensorType;\r\n\t    private double dValue;\r\n\t    private String sRelationship;\r\n\t    private int iDeviceId;\r\n    }\r\n\r\nI have `javassist.jar` included into classpath. I do not know what is the problem. Someone would help me please.\r\n\r\nThanks!\r\n\r\n---\r\n\r\nI found when the error is launched. If I include properties in mapping file exception is thrown. If I only declare id of table, the exception is not thrown. What is the possible cause?\r\n\r\n---\r\n\r\nThe complete stacktrace is:\r\n\r\n    162980 [btpool0-2 - /Gateway/zigbeedriver/app] ERROR org.hibernate.proxy.pojo.BasicLazyInitializer  - Javassist Enhancement failed: com.cartif.database.ApplicationField\r\n    java.lang.RuntimeException: by java.lang.NoClassDefFoundError:   javassist/util/proxy/ProxyObject\r\n\tat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:174)\r\n\tat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)\r\n\tat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:167)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:77)\r\n\tat sun.reflect.GeneratedConstructorAccessor12.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)\r\n\tat org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.&lt;init&gt;(EntityEntityModeToTuplizerMapping.java:80)\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:322)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:485)\r\n\tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:133)\r\n\tat org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)\r\n\tat org.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:286)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\r\n\tat com.db.manager.DatabaseManager.createSession(DatabaseManager.java:74)\r\n\tat com.db.manager.DatabaseManager.loadObject(DatabaseManager.java:95)\r\n\tat com.cartif.database.User.loadUser(User.java:53)\r\n\tat com.cartif.database.User.checkUser(User.java:57)\r\n\tat com.cartif.zigbee.ZigbeeDriverImpl.checkUser(ZigbeeDriverImpl.java:124)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\r\n\tat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\r\n\tat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\r\n\tat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat $Proxy21.checkUser(Unknown Source)\r\n\tat main.com.cartif.app.server.AppServiceImpl.getUser(AppServiceImpl.java:39)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:569)\r\n\tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)\r\n\tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\r\n\tat com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n\tat main.com.cartif.app.server.AppServiceImpl.service(AppServiceImpl.java:33)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\r\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\r\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:320)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:842)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:648)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\r\n\tat org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)\r\n    Caused by: javassist.CannotCompileException: by java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject\r\n\tat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:167)\r\n\tat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:170)\r\n\t... 72 more\r\n    Caused by: java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClassCond(Unknown Source)\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:159)\r\n\t... 73 more\r\n    Caused by: java.lang.ClassNotFoundException: javassist.util.proxy.ProxyObject\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:506)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:422)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:410)\r\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\t... 81 more\r\n    163012 [btpool0-2 - /Gateway/zigbeedriver/app] WARN   org.hibernate.tuple.entity.PojoEntityTuplizer  - could not create proxy factory for:com.cartif.database.ApplicationField\r\n    org.hibernate.HibernateException: Javassist Enhancement failed: com.cartif.database.ApplicationField\r\n\tat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:169)\r\n\tat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:167)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:77)\r\n\tat sun.reflect.GeneratedConstructorAccessor12.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)\r\n\tat org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.&lt;init&gt;(EntityEntityModeToTuplizerMapping.java:80)\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:322)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:485)\r\n\tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:133)\r\n\tat org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)\r\n\tat org.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:286)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\r\n\tat com.db.manager.DatabaseManager.createSession(DatabaseManager.java:74)\r\n\tat com.db.manager.DatabaseManager.loadObject(DatabaseManager.java:95)\r\n\tat com.cartif.database.User.loadUser(User.java:53)\r\n\tat com.cartif.database.User.checkUser(User.java:57)\r\n\tat com.cartif.zigbee.ZigbeeDriverImpl.checkUser(ZigbeeDriverImpl.java:124)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\r\n\tat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\r\n\tat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\r\n\tat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat $Proxy21.checkUser(Unknown Source)\r\n\tat main.com.cartif.app.server.AppServiceImpl.getUser(AppServiceImpl.java:39)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:569)\r\n\tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)\r\n\tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\r\n\tat com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n\tat main.com.cartif.app.server.AppServiceImpl.service(AppServiceImpl.java:33)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\r\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\r\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:320)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:842)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:648)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\r\n\tat org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)\r\n    Caused by: java.lang.RuntimeException: by java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject\r\n\tat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:174)\r\n\tat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)\r\n\t... 71 more\r\n    Caused by: javassist.CannotCompileException: by java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject\r\n\tat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:167)\r\n\tat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:170)\r\n\t... 72 more\r\n    Caused by: java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClassCond(Unknown Source)\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:159)\r\n\t... 73 more\r\n    Caused by: java.lang.ClassNotFoundException: javassist.util.proxy.ProxyObject\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:506)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:422)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:410)\r\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\t... 81 more","title":"Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]","body":"<p>I am developing an application with Hibernate and I get an Exception when I connect with database. The exception is:</p>\n\n<pre><code>Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\n</code></pre>\n\n<p>My mapping file is:</p>\n\n<pre><code>&lt;hibernate-mapping&gt;\n&lt;class name=\"com.cartif.database.SetPoint\" table=\"SetPoint\"&gt;\n    &lt;id name=\"iSetPointId\" column=\"setpointid\" type=\"java.lang.Integer\"&gt;\n        &lt;generator class=\"sequence\"&gt;\n            &lt;param name=\"sequence\"&gt;s_setpoint&lt;/param&gt;\n        &lt;/generator&gt;\n    &lt;/id&gt;\n    &lt;property column=\"sensorType\" generated=\"never\" lazy=\"false\" name=\"sSensortype\" type=\"java.lang.String\"/&gt;\n    &lt;property column=\"value\" generated=\"never\" lazy=\"false\" name=\"dValue\" type=\"java.lang.Double\"/&gt;\n    &lt;property column=\"relationship\" generated=\"never\" lazy=\"false\" name=\"sRelation\" type=\"java.lang.String\"/&gt;\n    &lt;property column=\"deviceid\" generated=\"never\" lazy=\"false\" name=\"iDeviceId\" type=\"java.lang.Integer\"/&gt;\n&lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>And the class with getters/setters which are not included:</p>\n\n<pre><code>public class SetPoint {\n    private int iSetPointId;\n    private String sSensorType;\n    private double dValue;\n    private String sRelationship;\n    private int iDeviceId;\n}\n</code></pre>\n\n<p>I have <code>javassist.jar</code> included into classpath. I do not know what is the problem. Someone would help me please.</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>I found when the error is launched. If I include properties in mapping file exception is thrown. If I only declare id of table, the exception is not thrown. What is the possible cause?</p>\n\n<hr>\n\n<p>The complete stacktrace is:</p>\n\n<pre><code>162980 [btpool0-2 - /Gateway/zigbeedriver/app] ERROR org.hibernate.proxy.pojo.BasicLazyInitializer  - Javassist Enhancement failed: com.cartif.database.ApplicationField\njava.lang.RuntimeException: by java.lang.NoClassDefFoundError:   javassist/util/proxy/ProxyObject\nat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:174)\nat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)\nat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)\nat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)\nat org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:167)\nat org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:77)\nat sun.reflect.GeneratedConstructorAccessor12.newInstance(Unknown Source)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\nat java.lang.reflect.Constructor.newInstance(Unknown Source)\nat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)\nat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)\nat org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.&lt;init&gt;(EntityEntityModeToTuplizerMapping.java:80)\nat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:322)\nat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:485)\nat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:133)\nat org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)\nat org.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:286)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\nat com.db.manager.DatabaseManager.createSession(DatabaseManager.java:74)\nat com.db.manager.DatabaseManager.loadObject(DatabaseManager.java:95)\nat com.cartif.database.User.loadUser(User.java:53)\nat com.cartif.database.User.checkUser(User.java:57)\nat com.cartif.zigbee.ZigbeeDriverImpl.checkUser(ZigbeeDriverImpl.java:124)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\nat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\nat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\nat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\nat $Proxy21.checkUser(Unknown Source)\nat main.com.cartif.app.server.AppServiceImpl.getUser(AppServiceImpl.java:39)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:569)\nat com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)\nat com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\nat com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\nat main.com.cartif.app.server.AppServiceImpl.service(AppServiceImpl.java:33)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\nat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\nat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\nat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\nat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\nat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\nat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\nat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\nat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat org.mortbay.jetty.Server.handle(Server.java:320)\nat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\nat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:842)\nat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:648)\nat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)\nat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)\nat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\nat org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)\nCaused by: javassist.CannotCompileException: by java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject\nat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:167)\nat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:170)\n... 72 more\nCaused by: java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClassCond(Unknown Source)\nat java.lang.ClassLoader.defineClass(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:159)\n... 73 more\nCaused by: java.lang.ClassNotFoundException: javassist.util.proxy.ProxyObject\nat org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:506)\nat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:422)\nat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:410)\nat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)\nat java.lang.ClassLoader.loadClass(Unknown Source)\n... 81 more\n163012 [btpool0-2 - /Gateway/zigbeedriver/app] WARN   org.hibernate.tuple.entity.PojoEntityTuplizer  - could not create proxy factory for:com.cartif.database.ApplicationField\norg.hibernate.HibernateException: Javassist Enhancement failed: com.cartif.database.ApplicationField\nat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:169)\nat org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)\nat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)\nat org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:167)\nat org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:77)\nat sun.reflect.GeneratedConstructorAccessor12.newInstance(Unknown Source)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\nat java.lang.reflect.Constructor.newInstance(Unknown Source)\nat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)\nat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)\nat org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.&lt;init&gt;(EntityEntityModeToTuplizerMapping.java:80)\nat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:322)\nat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:485)\nat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:133)\nat org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)\nat org.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:286)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\nat com.db.manager.DatabaseManager.createSession(DatabaseManager.java:74)\nat com.db.manager.DatabaseManager.loadObject(DatabaseManager.java:95)\nat com.cartif.database.User.loadUser(User.java:53)\nat com.cartif.database.User.checkUser(User.java:57)\nat com.cartif.zigbee.ZigbeeDriverImpl.checkUser(ZigbeeDriverImpl.java:124)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\nat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.doInvoke(ServiceInvoker.java:58)\nat org.springframework.osgi.service.importer.support.internal.aop.ServiceInvoker.invoke(ServiceInvoker.java:62)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invokeUnprivileged(ServiceTCCLInterceptor.java:56)\nat org.springframework.osgi.service.util.internal.aop.ServiceTCCLInterceptor.invoke(ServiceTCCLInterceptor.java:39)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.osgi.service.importer.support.LocalBundleContextAdvice.invoke(LocalBundleContextAdvice.java:59)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:131)\nat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:119)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\nat $Proxy21.checkUser(Unknown Source)\nat main.com.cartif.app.server.AppServiceImpl.getUser(AppServiceImpl.java:39)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:569)\nat com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)\nat com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\nat com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\nat main.com.cartif.app.server.AppServiceImpl.service(AppServiceImpl.java:33)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\nat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\nat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\nat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\nat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\nat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\nat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\nat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\nat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat org.mortbay.jetty.Server.handle(Server.java:320)\nat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\nat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:842)\nat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:648)\nat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)\nat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)\nat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\nat org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)\nCaused by: java.lang.RuntimeException: by java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject\nat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:174)\nat org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)\n... 71 more\nCaused by: javassist.CannotCompileException: by java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject\nat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:167)\nat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:170)\n... 72 more\nCaused by: java.lang.NoClassDefFoundError: javassist/util/proxy/ProxyObject\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClassCond(Unknown Source)\nat java.lang.ClassLoader.defineClass(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:159)\n... 73 more\nCaused by: java.lang.ClassNotFoundException: javassist.util.proxy.ProxyObject\nat org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:506)\nat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:422)\nat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:410)\nat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)\nat java.lang.ClassLoader.loadClass(Unknown Source)\n... 81 more\n</code></pre>\n"},{"tags":["java","azure-cosmosdb","reactive-programming","flux"],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681725433,"creation_date":1681725433,"question_id":76033878,"body_markdown":"We are trying to update spring version from 2.7.1 to 2.7.10 which does not allow null in inErrorReturn method. Our previous code is below. com.azure.cosmos.models.FeedResponse constructor is not public so can not send an empty object. I am new to reactive programming can somebody please guide how to resolve this?\r\n\r\n     private Flux&lt;FeedResponse&lt;T&gt;&gt; createFlux(\r\n      String type, Flux&lt;FeedResponse&lt;T&gt;&gt; feedFlux, String customerQueryData) {\r\n    feedFlux =\r\n        feedFlux\r\n            .doOnError(\r\n                CosmosException.class,\r\n                (err) -&gt; {\r\n                  log.error(\r\n                      &quot;Exception Occurred While Executing Query={} exception={} &quot;, customerQueryData, err);\r\n                  this.cosmosMetricsLogger.registerCosmosError(\r\n                      this.database, this.collection, type, err);\r\n                })\r\n            .onErrorReturn(null);\r\n\r\n    return feedFlux;\r\n    }\r\n\r\nNew implementation of onErrorReturn in Spring2.7.10\r\n\r\n     public final Flux&lt;T&gt; onErrorComplete(Predicate&lt;? super Throwable&gt; predicate) {\r\n\t\tObjects.requireNonNull(predicate, &quot;predicate must not be null&quot;);\r\n\t\treturn onAssembly(new FluxOnErrorReturn&lt;&gt;(this, predicate, null));\r\n\t}","title":"Version Upgrade of Spring to 2.7.10 breaking onErrorReturn method in Flux","body":"<p>We are trying to update spring version from 2.7.1 to 2.7.10 which does not allow null in inErrorReturn method. Our previous code is below. com.azure.cosmos.models.FeedResponse constructor is not public so can not send an empty object. I am new to reactive programming can somebody please guide how to resolve this?</p>\n<pre><code> private Flux&lt;FeedResponse&lt;T&gt;&gt; createFlux(\n  String type, Flux&lt;FeedResponse&lt;T&gt;&gt; feedFlux, String customerQueryData) {\nfeedFlux =\n    feedFlux\n        .doOnError(\n            CosmosException.class,\n            (err) -&gt; {\n              log.error(\n                  &quot;Exception Occurred While Executing Query={} exception={} &quot;, customerQueryData, err);\n              this.cosmosMetricsLogger.registerCosmosError(\n                  this.database, this.collection, type, err);\n            })\n        .onErrorReturn(null);\n\nreturn feedFlux;\n}\n</code></pre>\n<p>New implementation of onErrorReturn in Spring2.7.10</p>\n<pre><code> public final Flux&lt;T&gt; onErrorComplete(Predicate&lt;? super Throwable&gt; predicate) {\n    Objects.requireNonNull(predicate, &quot;predicate must not be null&quot;);\n    return onAssembly(new FluxOnErrorReturn&lt;&gt;(this, predicate, null));\n}\n</code></pre>\n"},{"tags":["java","keycloak"],"answers":[{"comments":[{"owner":{"account_id":306208,"reputation":19010,"user_id":616815,"accept_rate":100,"display_name":"Ken Wayne VanderLinde"},"score":1,"creation_date":1476995220,"post_id":40163832,"comment_id":67596655,"body_markdown":"The information in the link may answer the question, but it is better to put the essential details in your answer. This makes it easier for a reader to quickly understand the value of your answer, and means that your answer will continue to be useful even if the link becomes dead.","body":"The information in the link may answer the question, but it is better to put the essential details in your answer. This makes it easier for a reader to quickly understand the value of your answer, and means that your answer will continue to be useful even if the link becomes dead."},{"owner":{"account_id":3729029,"reputation":528,"user_id":3102026,"accept_rate":12,"display_name":"Maximiliano Nunes Catarino"},"score":0,"creation_date":1477317420,"post_id":40163832,"comment_id":67703875,"body_markdown":"Thank you for your repply Borys Zibrov, but is not what I want. As described, the client stats returns information about sessions of clients used to access Keycloak, not user sessions.","body":"Thank you for your repply Borys Zibrov, but is not what I want. As described, the client stats returns information about sessions of clients used to access Keycloak, not user sessions."}],"tags":[],"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476995344,"creation_date":1476994867,"answer_id":40163832,"question_id":40163736,"body_markdown":"I think you want [that one][1] to get the list of the active client sessions:\r\n\r\n    GET /admin/realms/{realm}/client-session-stats\r\n     \r\nDescription\r\n\r\n&gt; The key is the client id, the (returned) value is the number of sessions that\r\n&gt; currently are active with that client. Only clients that actually have\r\n&gt; a session associated with them will be in this map.\r\n\r\n\r\n  [1]: http://www.keycloak.org/docs/rest-api/#_get_client_session_stats &quot;that one&quot;","title":"It&#39;s possible to check if an user has an active/valid session through REST API in Keycloak?","body":"<p>I think you want <a href=\"http://www.keycloak.org/docs/rest-api/#_get_client_session_stats\" rel=\"nofollow\" title=\"that one\">that one</a> to get the list of the active client sessions:</p>\n\n<pre><code>GET /admin/realms/{realm}/client-session-stats\n</code></pre>\n\n<p>Description</p>\n\n<blockquote>\n  <p>The key is the client id, the (returned) value is the number of sessions that\n  currently are active with that client. Only clients that actually have\n  a session associated with them will be in this map.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11858737,"reputation":196,"user_id":8678066,"display_name":"Daniel Chicken Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618350065,"creation_date":1618350065,"answer_id":67082769,"question_id":40163736,"body_markdown":"The specific API endpoint that you&#39;ve referenced here ([interface][1], [implementation][2]) *only* returns active/valid sessions for that user.  You could match on session id (or a variety of other things).  If a session is invalid, it is marked for removal and not returned for that endpoint.  So that seems like what you want.\r\n\r\nBut also realize that there are other sessions (like offline-sessions) if you&#39;re looking for that.  Check the linked source for more information or other endpoints if desired.\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/blob/master/integration/admin-client/src/main/java/org/keycloak/admin/client/resource/UserResource.java#LC267:~:text=List%3CUserSessionRepresentation%3E%20getUserSessions()%3B\r\n  [2]: https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/services/resources/admin/UserResource.java#LC335:~:text=public%20Stream%3CUserSessionRepresentation%3E%20getSessions()","title":"It&#39;s possible to check if an user has an active/valid session through REST API in Keycloak?","body":"<p>The specific API endpoint that you've referenced here (<a href=\"https://github.com/keycloak/keycloak/blob/master/integration/admin-client/src/main/java/org/keycloak/admin/client/resource/UserResource.java#LC267:%7E:text=List%3CUserSessionRepresentation%3E%20getUserSessions()%3B\" rel=\"nofollow noreferrer\">interface</a>, <a href=\"https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/services/resources/admin/UserResource.java#LC335:%7E:text=public%20Stream%3CUserSessionRepresentation%3E%20getSessions()\" rel=\"nofollow noreferrer\">implementation</a>) <em>only</em> returns active/valid sessions for that user.  You could match on session id (or a variety of other things).  If a session is invalid, it is marked for removal and not returned for that endpoint.  So that seems like what you want.</p>\n<p>But also realize that there are other sessions (like offline-sessions) if you're looking for that.  Check the linked source for more information or other endpoints if desired.</p>\n"},{"tags":[],"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631607949,"creation_date":1631607311,"answer_id":69174228,"question_id":40163736,"body_markdown":"you can check your session with this address:\r\n\r\n    http://keycloakAddressAndPort/auth/realms/develop/protocol/openid-connect/userinfo\r\n\r\nif your session is not ok you see this response (http status code **401**):\r\n\r\n    {\r\n        &quot;error&quot;: &quot;invalid_request&quot;,\r\n        &quot;error_description&quot;: &quot;User session not found or doesn&#39;t have client attached on it&quot;\r\n    }\r\n\r\nand if that is ok you see something like this (http status code **200**):\r\n\r\n    {\r\n        &quot;sub&quot;: &quot;c0c25095-63e7-471d-a39e-f3b157c91fd7&quot;,\r\n        &quot;email_verified&quot;: true,\r\n        &quot;name&quot;: &quot;Amir Azizkhani&quot;,\r\n        &quot;preferred_username&quot;: &quot;a.azizkhani@...&quot;,\r\n        &quot;given_name&quot;: &quot;Amir&quot;,\r\n        &quot;family_name&quot;: &quot;Azizkhani&quot;,\r\n        &quot;email&quot;: &quot;a.azizkhani@....&quot;\r\n    }\r\n\r\n\r\n\r\ncomplete postman json:\r\n\r\n\r\n    {\r\n    \t&quot;info&quot;: {\r\n    \t\t&quot;_postman_id&quot;: &quot;77ce65c3-948a-4b3d-a97b-b11cd00c593b&quot;,\r\n    \t\t&quot;name&quot;: &quot;Spring Keycloak&quot;,\r\n    \t\t&quot;schema&quot;: &quot;https://schema.getpostman.com/json/collection/v2.1.0/collection.json&quot;\r\n    \t},\r\n    \t&quot;item&quot;: [\r\n    \t\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;openid-connect/userinfo&quot;,\r\n    \t\t\t&quot;request&quot;: {\r\n    \t\t\t\t&quot;auth&quot;: {\r\n    \t\t\t\t\t&quot;type&quot;: &quot;bearer&quot;,\r\n    \t\t\t\t\t&quot;bearer&quot;: [\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t&quot;key&quot;: &quot;token&quot;,\r\n    \t\t\t\t\t\t\t&quot;value&quot;: &quot;eyJhbGciOiJSUzI1NiIsInR5cC...&quot;,\r\n    \t\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t]\r\n    \t\t\t\t},\r\n    \t\t\t\t&quot;method&quot;: &quot;GET&quot;,\r\n    \t\t\t\t&quot;header&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;key&quot;: &quot;accept&quot;,\r\n    \t\t\t\t\t\t&quot;value&quot;: &quot;application/json&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;url&quot;: {\r\n    \t\t\t\t\t&quot;raw&quot;: &quot;http://192.168.131.33:8080/auth/realms/develop/protocol/openid-connect/userinfo&quot;,\r\n    \t\t\t\t\t&quot;protocol&quot;: &quot;http&quot;,\r\n    \t\t\t\t\t&quot;host&quot;: [\r\n    \t\t\t\t\t\t&quot;192&quot;,\r\n    \t\t\t\t\t\t&quot;168&quot;,\r\n    \t\t\t\t\t\t&quot;131&quot;,\r\n    \t\t\t\t\t\t&quot;33&quot;\r\n    \t\t\t\t\t],\r\n    \t\t\t\t\t&quot;port&quot;: &quot;8080&quot;,\r\n    \t\t\t\t\t&quot;path&quot;: [\r\n    \t\t\t\t\t\t&quot;auth&quot;,\r\n    \t\t\t\t\t\t&quot;realms&quot;,\r\n    \t\t\t\t\t\t&quot;develop&quot;,\r\n    \t\t\t\t\t\t&quot;protocol&quot;,\r\n    \t\t\t\t\t\t&quot;openid-connect&quot;,\r\n    \t\t\t\t\t\t&quot;userinfo&quot;\r\n    \t\t\t\t\t]\r\n    \t\t\t\t},\r\n    \t\t\t\t&quot;description&quot;: &quot;Dont forget to set Bearer value obtains from token request&quot;\r\n    \t\t\t},\r\n    \t\t\t&quot;response&quot;: []\r\n    \t\t}\r\n    \t]\r\n    }","title":"It&#39;s possible to check if an user has an active/valid session through REST API in Keycloak?","body":"<p>you can check your session with this address:</p>\n<pre><code>http://keycloakAddressAndPort/auth/realms/develop/protocol/openid-connect/userinfo\n</code></pre>\n<p>if your session is not ok you see this response (http status code <strong>401</strong>):</p>\n<pre><code>{\n    &quot;error&quot;: &quot;invalid_request&quot;,\n    &quot;error_description&quot;: &quot;User session not found or doesn't have client attached on it&quot;\n}\n</code></pre>\n<p>and if that is ok you see something like this (http status code <strong>200</strong>):</p>\n<pre><code>{\n    &quot;sub&quot;: &quot;c0c25095-63e7-471d-a39e-f3b157c91fd7&quot;,\n    &quot;email_verified&quot;: true,\n    &quot;name&quot;: &quot;Amir Azizkhani&quot;,\n    &quot;preferred_username&quot;: &quot;a.azizkhani@...&quot;,\n    &quot;given_name&quot;: &quot;Amir&quot;,\n    &quot;family_name&quot;: &quot;Azizkhani&quot;,\n    &quot;email&quot;: &quot;a.azizkhani@....&quot;\n}\n</code></pre>\n<p>complete postman json:</p>\n<pre><code>{\n    &quot;info&quot;: {\n        &quot;_postman_id&quot;: &quot;77ce65c3-948a-4b3d-a97b-b11cd00c593b&quot;,\n        &quot;name&quot;: &quot;Spring Keycloak&quot;,\n        &quot;schema&quot;: &quot;https://schema.getpostman.com/json/collection/v2.1.0/collection.json&quot;\n    },\n    &quot;item&quot;: [\n    \n        {\n            &quot;name&quot;: &quot;openid-connect/userinfo&quot;,\n            &quot;request&quot;: {\n                &quot;auth&quot;: {\n                    &quot;type&quot;: &quot;bearer&quot;,\n                    &quot;bearer&quot;: [\n                        {\n                            &quot;key&quot;: &quot;token&quot;,\n                            &quot;value&quot;: &quot;eyJhbGciOiJSUzI1NiIsInR5cC...&quot;,\n                            &quot;type&quot;: &quot;string&quot;\n                        }\n                    ]\n                },\n                &quot;method&quot;: &quot;GET&quot;,\n                &quot;header&quot;: [\n                    {\n                        &quot;key&quot;: &quot;accept&quot;,\n                        &quot;value&quot;: &quot;application/json&quot;\n                    }\n                ],\n                &quot;url&quot;: {\n                    &quot;raw&quot;: &quot;http://192.168.131.33:8080/auth/realms/develop/protocol/openid-connect/userinfo&quot;,\n                    &quot;protocol&quot;: &quot;http&quot;,\n                    &quot;host&quot;: [\n                        &quot;192&quot;,\n                        &quot;168&quot;,\n                        &quot;131&quot;,\n                        &quot;33&quot;\n                    ],\n                    &quot;port&quot;: &quot;8080&quot;,\n                    &quot;path&quot;: [\n                        &quot;auth&quot;,\n                        &quot;realms&quot;,\n                        &quot;develop&quot;,\n                        &quot;protocol&quot;,\n                        &quot;openid-connect&quot;,\n                        &quot;userinfo&quot;\n                    ]\n                },\n                &quot;description&quot;: &quot;Dont forget to set Bearer value obtains from token request&quot;\n            },\n            &quot;response&quot;: []\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18443767,"reputation":569,"user_id":13435688,"display_name":"Franco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681725076,"creation_date":1681725076,"answer_id":76033823,"question_id":40163736,"body_markdown":"The endpoint to use is:\r\n\r\nhttp://localhost:8080/admin/realms/{YourRealm}/users/{userID}/sessions\r\n\r\nReplace userID with the user&#39;s ID and YourRealm with your Realm. A list of all the sessions of the user will be returned. If the user is not logged in an empty list will be returned. \r\n\r\nNote: You have to enter Client Bearer token as Authentication with the call. \r\n\r\n","title":"It&#39;s possible to check if an user has an active/valid session through REST API in Keycloak?","body":"<p>The endpoint to use is:</p>\n<p>http://localhost:8080/admin/realms/{YourRealm}/users/{userID}/sessions</p>\n<p>Replace userID with the user's ID and YourRealm with your Realm. A list of all the sessions of the user will be returned. If the user is not logged in an empty list will be returned.</p>\n<p>Note: You have to enter Client Bearer token as Authentication with the call.</p>\n"}],"owner":{"account_id":3729029,"reputation":528,"user_id":3102026,"accept_rate":12,"display_name":"Maximiliano Nunes Catarino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12797,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1681725076,"creation_date":1476994506,"question_id":40163736,"body_markdown":"It&#39;s possible to check if an user have an active/valid session through REST API?\r\n\r\nI&#39;m using the Java REST Admin client. I saw the UserSessionRepresentation returned by\r\n\r\n    List&lt;UserSessionRepresentation&gt; usr = Keycloak.realm(&quot;realmId&quot;).users().get(&quot;userId&quot;).getUserSessions();\r\n\r\nBut UserSessionRepresentation do not have the information I want.\r\nIt&#39;s possible?\r\n","title":"It&#39;s possible to check if an user has an active/valid session through REST API in Keycloak?","body":"<p>It's possible to check if an user have an active/valid session through REST API?</p>\n\n<p>I'm using the Java REST Admin client. I saw the UserSessionRepresentation returned by</p>\n\n<pre><code>List&lt;UserSessionRepresentation&gt; usr = Keycloak.realm(\"realmId\").users().get(\"userId\").getUserSessions();\n</code></pre>\n\n<p>But UserSessionRepresentation do not have the information I want.\nIt's possible?</p>\n"},{"tags":["java","jlink","binary-reproducibility"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":2,"creation_date":1599042000,"post_id":63701637,"comment_id":112648467,"body_markdown":"There is [JDK-8241602](https://bugs.openjdk.java.net/browse/JDK-8241602) which claims to be fixed in jdk-15 build 22. Which version are you using?","body":"There is <a href=\"https://bugs.openjdk.java.net/browse/JDK-8241602\" rel=\"nofollow noreferrer\">JDK-8241602</a> which claims to be fixed in jdk-15 build 22. Which version are you using?"},{"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"score":0,"creation_date":1599043410,"post_id":63701637,"comment_id":112649116,"body_markdown":"@Marcono1234: Thanks for the link! It&#39;s Build 36 (2020/8/11). Should I report this as a regression?","body":"@Marcono1234: Thanks for the link! It&#39;s Build 36 (2020/8/11). Should I report this as a regression?"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1599044431,"post_id":63701637,"comment_id":112649620,"body_markdown":"Yes, I guess it would be good if you did that. I am also slightly confused by their fix for JDK-8241602 since it appears to not really solve the underlying issue (a collection not being ordered?).","body":"Yes, I guess it would be good if you did that. I am also slightly confused by their fix for JDK-8241602 since it appears to not really solve the underlying issue (a collection not being ordered?)."},{"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"score":0,"creation_date":1599046222,"post_id":63701637,"comment_id":112650404,"body_markdown":"Ok, I&#39;ve reported on bugreport.java.com.","body":"Ok, I&#39;ve reported on bugreport.java.com."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1599056749,"post_id":63701637,"comment_id":112656204,"body_markdown":"Great, could you please update this question then once a public bug report has been created.","body":"Great, could you please update this question then once a public bug report has been created."},{"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"score":0,"creation_date":1599132321,"post_id":63701637,"comment_id":112682308,"body_markdown":"@Marcono1234: I&#39;ve added an answer with the link.","body":"@Marcono1234: I&#39;ve added an answer with the link."}],"answers":[{"tags":[],"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681724940,"creation_date":1599132284,"answer_id":63722632,"question_id":63701637,"body_markdown":"It&#39;s a JDK bug, reported at [JDK-8252730][1].\r\n\r\n[1]: https://bugs.openjdk.org/browse/JDK-8252730","title":"Reproducible builds with jlink","body":"<p>It's a JDK bug, reported at <a href=\"https://bugs.openjdk.org/browse/JDK-8252730\" rel=\"nofollow noreferrer\">JDK-8252730</a>.</p>\n"}],"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681724940,"creation_date":1599035399,"question_id":63701637,"body_markdown":"A reduced JDK (created with `jlink`) is part of our application. The required modules for the JDK image is rarely changed. Unfortunately generating a new JDK image (with the exact same `jlink` parameters) results different output, so\r\nclients have to download the same file again and again during the differential upgrade, unnecessarily.\r\n\r\nHere is a PoC:\r\n\r\n    $ mkdir jdk-15a jdk-15b\r\n    $ tar xzf openjdk-15_linux-x64_bin.tar.gz --directory jdk-15a/\r\n    $ tar xzf openjdk-15_linux-x64_bin.tar.gz --directory jdk-15b/\r\n    $ jdk-15a/jdk-15/bin/jlink --compress=1 --module-path jdk-15a/jdk-15/jmods --add-modules java.base,jdk.management,jdk.unsupported,jdk.charsets --output output01\r\n    $ jdk-15b/jdk-15/bin/jlink --compress=1 --module-path jdk-15b/jdk-15/jmods --add-modules java.base,jdk.management,jdk.unsupported,jdk.charsets --output output02\r\n    $ md5sum output*/lib/modules\r\n    9ae5ae63df59593a0892c5ed411d7e59  output01/lib/modules\r\n    24b4af31553670799ab286ad1186329e  output02/lib/modules\r\n\r\n(I&#39;m using the `jdk-15a` and `jdk-15b` directories similar to JDK instances on multiple build servers.)\r\n\r\nIs there any way to get [byte-to-byte identical output (reproducible build)][1] from `jlink` in this case?\r\n\r\n\r\nUsed JDK version:\r\n\r\n    $ cat jdk-15a/jdk-15/release \r\n    IMPLEMENTOR=&quot;Oracle Corporation&quot;\r\n    JAVA_VERSION=&quot;15&quot;\r\n    JAVA_VERSION_DATE=&quot;2020-09-15&quot;\r\n    ...\r\n    OS_ARCH=&quot;x86_64&quot;\r\n    OS_NAME=&quot;Linux&quot;\r\n    SOURCE=&quot;.:hg:e3f940bd3c8f&quot;\r\n\r\n[1]: https://en.wikipedia.org/wiki/Reproducible_builds\r\n\r\n\r\n\r\n","title":"Reproducible builds with jlink","body":"<p>A reduced JDK (created with <code>jlink</code>) is part of our application. The required modules for the JDK image is rarely changed. Unfortunately generating a new JDK image (with the exact same <code>jlink</code> parameters) results different output, so\nclients have to download the same file again and again during the differential upgrade, unnecessarily.</p>\n<p>Here is a PoC:</p>\n<pre><code>$ mkdir jdk-15a jdk-15b\n$ tar xzf openjdk-15_linux-x64_bin.tar.gz --directory jdk-15a/\n$ tar xzf openjdk-15_linux-x64_bin.tar.gz --directory jdk-15b/\n$ jdk-15a/jdk-15/bin/jlink --compress=1 --module-path jdk-15a/jdk-15/jmods --add-modules java.base,jdk.management,jdk.unsupported,jdk.charsets --output output01\n$ jdk-15b/jdk-15/bin/jlink --compress=1 --module-path jdk-15b/jdk-15/jmods --add-modules java.base,jdk.management,jdk.unsupported,jdk.charsets --output output02\n$ md5sum output*/lib/modules\n9ae5ae63df59593a0892c5ed411d7e59  output01/lib/modules\n24b4af31553670799ab286ad1186329e  output02/lib/modules\n</code></pre>\n<p>(I'm using the <code>jdk-15a</code> and <code>jdk-15b</code> directories similar to JDK instances on multiple build servers.)</p>\n<p>Is there any way to get <a href=\"https://en.wikipedia.org/wiki/Reproducible_builds\" rel=\"nofollow noreferrer\">byte-to-byte identical output (reproducible build)</a> from <code>jlink</code> in this case?</p>\n<p>Used JDK version:</p>\n<pre><code>$ cat jdk-15a/jdk-15/release \nIMPLEMENTOR=&quot;Oracle Corporation&quot;\nJAVA_VERSION=&quot;15&quot;\nJAVA_VERSION_DATE=&quot;2020-09-15&quot;\n...\nOS_ARCH=&quot;x86_64&quot;\nOS_NAME=&quot;Linux&quot;\nSOURCE=&quot;.:hg:e3f940bd3c8f&quot;\n</code></pre>\n"},{"tags":["java","indexoutofboundsexception"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1681709340,"post_id":76031953,"comment_id":134094296,"body_markdown":"Why would you expect null? `split()` never returns null elements.","body":"Why would you expect null? <code>split()</code> never returns null elements."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1681710691,"post_id":76031953,"comment_id":134094448,"body_markdown":"@shmosel OP expects a blank string `&quot;&quot;` at index 5, but the default behaviour of `split()` (without the seconds parameter) is to discard trailing blanks from the split result.","body":"@shmosel OP expects a blank string <code>&quot;&quot;</code> at index 5, but the default behaviour of <code>split()</code> (without the seconds parameter) is to discard trailing blanks from the split result."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681709688,"creation_date":1681709688,"answer_id":76031985,"question_id":76031953,"body_markdown":"If you use the alternative method, it will not throw an error\r\n\r\n    String s = &quot;123;456;;;;&quot;;\r\n    String field[] = s.split(&quot;;&quot;, -1);\r\n    System.out.println(field.length);\r\n    System.out.println(field[5]);\r\n\r\nAs per the single parameter version\r\n\r\n&gt; Trailing empty strings are therefore not included in the resulting\r\n&gt; array.\r\n\r\nHowever with the 2 parameter version\r\n\r\n&gt;  If n is non-positive then the pattern will be applied as many times as possible","title":"Getting array index out of bound exception after spliting a string","body":"<p>If you use the alternative method, it will not throw an error</p>\n<pre><code>String s = &quot;123;456;;;;&quot;;\nString field[] = s.split(&quot;;&quot;, -1);\nSystem.out.println(field.length);\nSystem.out.println(field[5]);\n</code></pre>\n<p>As per the single parameter version</p>\n<blockquote>\n<p>Trailing empty strings are therefore not included in the resulting\narray.</p>\n</blockquote>\n<p>However with the 2 parameter version</p>\n<blockquote>\n<p>If n is non-positive then the pattern will be applied as many times as possible</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1681717772,"post_id":76032189,"comment_id":134095677,"body_markdown":"no screenshots of plain text please","body":"no screenshots of plain text please"}],"tags":[],"owner":{"account_id":27436725,"reputation":89,"user_id":20932425,"display_name":"shmily"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1681723589,"creation_date":1681712516,"answer_id":76032189,"question_id":76031953,"body_markdown":"when you use `String field[] = s.split(&quot;;&quot;);`, the actual calling method is `split(&quot;;&quot;,0)`.\r\n\r\n   \r\n     public String[] split(String regex) {\r\n        return split(regex, 0); \r\n     }\r\n\r\n     // @param  regex : the delimiting regular expression\r\n     // @param  limit : the result threshold, as described above\r\n     public String[] split(String regex, int limit) {\r\n    \t...\r\n     }\r\n\r\n\r\nwhen `limit=0` and `the trailing element of the result list is equal to 0`, method `split` constructs the result by removing the empty elements as follows:\r\n\r\n\r\n    // Construct result\r\n    int resultSize = list.size();\r\n    if (limit == 0) {\r\n        while (resultSize &gt; 0 &amp;&amp; list.get(resultSize - 1).length() == 0) {\r\n            resultSize--;\r\n        }\r\n    }\r\n    String[] result = new String[resultSize];\r\n    return list.subList(0, resultSize).toArray(result);\r\n\r\nThis is the reason for `s = &quot;123;456;;;777;000&quot;`  not getting any exception, but `s = &quot;123;456;;;;&quot;` get ArrayindexoutofBoundException.\r\n\r\nIn conclusion, if you want get &quot;&quot; value, you can assgin `limit = -1 or other inegative number` (Provided you don&#39;t want to limit the scope of the `split`), for example:\r\n\r\n    String field[] = s.split(&quot;;&quot;, -1);\r\n    String field[] = s.split(&quot;;&quot;, -2);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a51ic.png\r\n  [2]: https://i.stack.imgur.com/Nub0s.png","title":"Getting array index out of bound exception after spliting a string","body":"<p>when you use <code>String field[] = s.split(&quot;;&quot;);</code>, the actual calling method is <code>split(&quot;;&quot;,0)</code>.</p>\n<pre><code> public String[] split(String regex) {\n    return split(regex, 0); \n }\n\n // @param  regex : the delimiting regular expression\n // @param  limit : the result threshold, as described above\n public String[] split(String regex, int limit) {\n    ...\n }\n</code></pre>\n<p>when <code>limit=0</code> and <code>the trailing element of the result list is equal to 0</code>, method <code>split</code> constructs the result by removing the empty elements as follows:</p>\n<pre><code>// Construct result\nint resultSize = list.size();\nif (limit == 0) {\n    while (resultSize &gt; 0 &amp;&amp; list.get(resultSize - 1).length() == 0) {\n        resultSize--;\n    }\n}\nString[] result = new String[resultSize];\nreturn list.subList(0, resultSize).toArray(result);\n</code></pre>\n<p>This is the reason for <code>s = &quot;123;456;;;777;000&quot;</code>  not getting any exception, but <code>s = &quot;123;456;;;;&quot;</code> get ArrayindexoutofBoundException.</p>\n<p>In conclusion, if you want get &quot;&quot; value, you can assgin <code>limit = -1 or other inegative number</code> (Provided you don't want to limit the scope of the <code>split</code>), for example:</p>\n<pre><code>String field[] = s.split(&quot;;&quot;, -1);\nString field[] = s.split(&quot;;&quot;, -2);\n</code></pre>\n"}],"owner":{"account_id":25439504,"reputation":3,"user_id":19242692,"display_name":"Pushpak Bannore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76032189,"answer_count":2,"score":0,"last_activity_date":1681724833,"creation_date":1681709280,"question_id":76031953,"body_markdown":"After `splitting` a string if last value of index is there then I am not getting any `exception`.\r\n\r\n```java\r\npublic class Digits {\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;123;456;;;777;000&quot;;\r\n        String field[] = s.split(&quot;;&quot;);\r\n        System.out.println(field.length);\r\n        System.out.println(field[5]);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Output is ---&gt; s[5] = 000**\r\n\r\n```java\r\npublic class Digits {\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;123;456;;;;&quot;;\r\n        String field[] = s.split(&quot;;&quot;);\r\n        System.out.println(field.length);\r\n        System.out.println(field[5]);\r\n    }\r\n}\r\n```\r\n\r\n**Output is----&gt; ArrayindexoutofBoundException**\r\n\r\nI am expecting `null value` but it is throwing error.\r\n","title":"Getting array index out of bound exception after spliting a string","body":"<p>After <code>splitting</code> a string if last value of index is there then I am not getting any <code>exception</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Digits {\n\n    public static void main(String[] args) {\n        String s = &quot;123;456;;;777;000&quot;;\n        String field[] = s.split(&quot;;&quot;);\n        System.out.println(field.length);\n        System.out.println(field[5]);\n    }\n}\n</code></pre>\n<p><strong>Output is ---&gt; s[5] = 000</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Digits {\n\n    public static void main(String[] args) {\n        String s = &quot;123;456;;;;&quot;;\n        String field[] = s.split(&quot;;&quot;);\n        System.out.println(field.length);\n        System.out.println(field[5]);\n    }\n}\n</code></pre>\n<p><strong>Output is----&gt; ArrayindexoutofBoundException</strong></p>\n<p>I am expecting <code>null value</code> but it is throwing error.</p>\n"},{"tags":["java","client-server"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681744637,"post_id":76032169,"comment_id":134102402,"body_markdown":"Before posting here, read [*The Java Tutorials*](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) provided by Oracle free of cost","body":"Before posting here, read <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\"><i>The Java Tutorials</i></a> provided by Oracle free of cost"}],"answers":[{"tags":[],"owner":{"account_id":12295008,"reputation":317,"user_id":8970918,"display_name":"Shellong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681724814,"creation_date":1681724814,"answer_id":76033785,"question_id":76032169,"body_markdown":"You can use different threads.\r\n\r\nOne thread is listen for the socket connection, another is doing other GUI tasks.","title":"How to handle 2 process at once but still responsive gui java","body":"<p>You can use different threads.</p>\n<p>One thread is listen for the socket connection, another is doing other GUI tasks.</p>\n"}],"owner":{"account_id":28052105,"reputation":15,"user_id":21427811,"display_name":"Mr. x"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76033785,"answer_count":1,"score":-2,"last_activity_date":1681724814,"creation_date":1681712262,"question_id":76032169,"body_markdown":"So i making a program that have gui and can be client/server at same time but my program only process one progress for example as a server wait for client to connect and wait for it but after that my program is freeze\r\n\r\n```\r\nThis is server \r\n\r\npublic void server(int port) {\r\n        try {\r\n            try (ServerSocket server = new ServerSocket(port)) {\r\n                serverStatus = (&quot;Server telah dimulai di port &quot; + port);\r\n\r\n                while (true) {\r\n                    // Menunggu koneksi dari client\r\n                    serverStatus = (&quot;Menunggu koneksi dari client...&quot;);\r\n                    Socket robot = server.accept();\r\n                    serverStatus = (&quot;Terhubung&quot;);\r\n               \r\n\r\n                    // Menambahkan koneksi client ke daftar koneksi\r\n                    robotSockets.add(robot);\r\n\r\n                    // Membuat thread untuk menangani setiap koneksi client\r\n                    Thread robotThread = new Thread(new ClientHandler(robot));\r\n                    robotThread.start();\r\n                }\r\n            }\r\n```\r\n\r\nHere for client\r\n\r\n```\r\npublic void client(Consumer&lt;String&gt; onMessageReceived) {\r\n        Thread clientSideThread = new Thread(() -&gt; {\r\n            try {\r\n                InputStream inputStream = socket.getInputStream();\r\n                byte[] buffer = new byte[1024];\r\n                int bytesRead;\r\n                while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                    String message = new String(buffer, 0, bytesRead, StandardCharsets.UTF_8);\r\n                    onMessageReceived.accept(message);\r\n                }\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                if (!socket.isClosed()) {\r\n                    this.statusKoneksi = &quot;Terputus&quot;;\r\n                }\r\n            }\r\n        });\r\n        clientSideThread.start();\r\n    }\r\n```\r\n\r\nSo how to make this program can handle be server and client but still working responsive?, as server wait client to connect and at same time as client can connect to server?\r\n\r\n```\r\n```","title":"How to handle 2 process at once but still responsive gui java","body":"<p>So i making a program that have gui and can be client/server at same time but my program only process one progress for example as a server wait for client to connect and wait for it but after that my program is freeze</p>\n<pre><code>This is server \n\npublic void server(int port) {\n        try {\n            try (ServerSocket server = new ServerSocket(port)) {\n                serverStatus = (&quot;Server telah dimulai di port &quot; + port);\n\n                while (true) {\n                    // Menunggu koneksi dari client\n                    serverStatus = (&quot;Menunggu koneksi dari client...&quot;);\n                    Socket robot = server.accept();\n                    serverStatus = (&quot;Terhubung&quot;);\n               \n\n                    // Menambahkan koneksi client ke daftar koneksi\n                    robotSockets.add(robot);\n\n                    // Membuat thread untuk menangani setiap koneksi client\n                    Thread robotThread = new Thread(new ClientHandler(robot));\n                    robotThread.start();\n                }\n            }\n</code></pre>\n<p>Here for client</p>\n<pre><code>public void client(Consumer&lt;String&gt; onMessageReceived) {\n        Thread clientSideThread = new Thread(() -&gt; {\n            try {\n                InputStream inputStream = socket.getInputStream();\n                byte[] buffer = new byte[1024];\n                int bytesRead;\n                while ((bytesRead = inputStream.read(buffer)) != -1) {\n                    String message = new String(buffer, 0, bytesRead, StandardCharsets.UTF_8);\n                    onMessageReceived.accept(message);\n                }\n\n            } catch (IOException e) {\n                e.printStackTrace();\n                if (!socket.isClosed()) {\n                    this.statusKoneksi = &quot;Terputus&quot;;\n                }\n            }\n        });\n        clientSideThread.start();\n    }\n</code></pre>\n<p>So how to make this program can handle be server and client but still working responsive?, as server wait client to connect and at same time as client can connect to server?</p>\n<pre><code></code></pre>\n"},{"tags":["java","maven","deployment","nexus","bamboo"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1681725550,"post_id":76033775,"comment_id":134097399,"body_markdown":"The question which is coming up if I read this: `I need to modify an existing package. ` ?? Why do you need to?","body":"The question which is coming up if I read this: <code>I need to modify an existing package. </code> ?? Why do you need to?"},{"owner":{"account_id":7078298,"reputation":3226,"user_id":5417542,"accept_rate":36,"display_name":"user5417542"},"score":0,"creation_date":1681726576,"post_id":76033775,"comment_id":134097628,"body_markdown":"@khmarbaise I just need to. The open source company, which we are a partner hasn&#39;t yet given us an extension mechanism, yet, they are working on it. So long we need to find a different way to customize a few files. I could go into detail, but yes we need to do it like this for now.","body":"@khmarbaise I just need to. The open source company, which we are a partner hasn&#39;t yet given us an extension mechanism, yet, they are working on it. So long we need to find a different way to customize a few files. I could go into detail, but yes we need to do it like this for now."}],"owner":{"account_id":7078298,"reputation":3226,"user_id":5417542,"accept_rate":36,"display_name":"user5417542"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681724757,"creation_date":1681724757,"question_id":76033775,"body_markdown":"I have a bit weird use-case, where I need to modify an existing package. Basically download it, unzip, swap some files, make some adjustments and then deploy it as special artifact in our Nexus artifactory.\r\n\r\nI created a Maven project, where I basically put everything together and then want to deploy my created jar (The maven project itself is just the sceleton for putting everything together). \r\n\r\nUsing deploy:deploy-file this is quite easy. Though I want to integrate this in our Bamboo CI and create a build pipeline. But this won&#39;t work. \r\n\r\nWhen I configure it in the pom, and use mvn clean deploy in our build-pipeline I have access problems to our Nexus artifactory:\r\n\r\n     &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;deploy-jar&lt;/id&gt;\r\n            &lt;phase&gt;deploy&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;deploy-file&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;file&gt;${project.build.outputDirectory}/my-customized.jar&lt;/file&gt;\r\n              &lt;groupId&gt;com.test.project&lt;/groupId&gt;\r\n              &lt;artifactId&gt;my-customized-service&lt;/artifactId&gt;\r\n              &lt;version&gt;${revision}${changelist}&lt;/version&gt;\r\n              &lt;repositoryId&gt;${targetrepositoryid}&lt;/repositoryId&gt;\r\n              &lt;url&gt;${targeturl}&lt;/url&gt;\r\n              &lt;packaging&gt;jar&lt;/packaging&gt;\r\n              &lt;generatePom&gt;false&lt;/generatePom&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;&lt;/plugin&gt;\r\n\r\n\r\n\r\n \r\nSo I noticed when calling mvn clean deploy:deploy-file directly with CI pipline it works. However I can&#39;t give dynamic values. For example:\r\n\r\n    clean install deploy:deploy-file -Dversion=1.0.0-SNAPSHOT ... \r\n\r\nThe version should be taken from the pom.xml of the Maven project. I don&#39;t want to manually change it everytime a new version is made. So I don&#39;t really know how to make it dynamic. \r\n","title":"How to use mvn deploy:file dynamically?","body":"<p>I have a bit weird use-case, where I need to modify an existing package. Basically download it, unzip, swap some files, make some adjustments and then deploy it as special artifact in our Nexus artifactory.</p>\n<p>I created a Maven project, where I basically put everything together and then want to deploy my created jar (The maven project itself is just the sceleton for putting everything together).</p>\n<p>Using deploy:deploy-file this is quite easy. Though I want to integrate this in our Bamboo CI and create a build pipeline. But this won't work.</p>\n<p>When I configure it in the pom, and use mvn clean deploy in our build-pipeline I have access problems to our Nexus artifactory:</p>\n<pre><code> &lt;plugin&gt;\n    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;deploy-jar&lt;/id&gt;\n        &lt;phase&gt;deploy&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;deploy-file&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;file&gt;${project.build.outputDirectory}/my-customized.jar&lt;/file&gt;\n          &lt;groupId&gt;com.test.project&lt;/groupId&gt;\n          &lt;artifactId&gt;my-customized-service&lt;/artifactId&gt;\n          &lt;version&gt;${revision}${changelist}&lt;/version&gt;\n          &lt;repositoryId&gt;${targetrepositoryid}&lt;/repositoryId&gt;\n          &lt;url&gt;${targeturl}&lt;/url&gt;\n          &lt;packaging&gt;jar&lt;/packaging&gt;\n          &lt;generatePom&gt;false&lt;/generatePom&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;&lt;/plugin&gt;\n</code></pre>\n<p>So I noticed when calling mvn clean deploy:deploy-file directly with CI pipline it works. However I can't give dynamic values. For example:</p>\n<pre><code>clean install deploy:deploy-file -Dversion=1.0.0-SNAPSHOT ... \n</code></pre>\n<p>The version should be taken from the pom.xml of the Maven project. I don't want to manually change it everytime a new version is made. So I don't really know how to make it dynamic.</p>\n"},{"tags":["java","android","firebase","google-translate"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681804565,"post_id":76032203,"comment_id":134111538,"body_markdown":"What is the exact line of code that produces that error?","body":"What is the exact line of code that produces that error?"}],"answers":[{"tags":[],"owner":{"account_id":12295008,"reputation":317,"user_id":8970918,"display_name":"Shellong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681724695,"creation_date":1681724695,"answer_id":76033763,"question_id":76032203,"body_markdown":"This is mainly because the runtime jars here is different from the compile time jars.\r\n\r\nThat is :\r\n\r\n1. compile the source code with denpendency jars version 1 and produce app;\r\n2. run the app with runtime dependency jars version 2;\r\n\r\nversion 1 and version 2 are different, so there occurs the error.","title":"java.lang.NoSuchMethodError: No virtual method setDefaults(I)V in class Lcom/google/firebase/remoteconfig/FirebaseRemoteConfig","body":"<p>This is mainly because the runtime jars here is different from the compile time jars.</p>\n<p>That is :</p>\n<ol>\n<li>compile the source code with denpendency jars version 1 and produce app;</li>\n<li>run the app with runtime dependency jars version 2;</li>\n</ol>\n<p>version 1 and version 2 are different, so there occurs the error.</p>\n"}],"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681724695,"creation_date":1681712566,"question_id":76032203,"body_markdown":"I&#39;m trying to add the firebase translate feature by following the steps as per instructed in the page. \r\n[text](https://firebase.google.com/docs/ml-kit/android/translate-text)\r\n\r\nbut I&#39;m getting this error\r\n[![enter image description here](https://i.stack.imgur.com/PzpPI.png)](https://i.stack.imgur.com/PzpPI.png)\r\n\r\nat getTranslator(options) method\r\n\r\n```\r\n// Create an English-German translator:\r\nFirebaseTranslatorOptions options =\r\n        new FirebaseTranslatorOptions.Builder()\r\n                .setSourceLanguage(FirebaseTranslateLanguage.EN)\r\n                .setTargetLanguage(FirebaseTranslateLanguage.DE)\r\n                .build();\r\nfinal FirebaseTranslator englishGermanTranslator =\r\n        FirebaseNaturalLanguage.getInstance().getTranslator(options);\r\n```\r\n\r\n\r\nKindly Help.\r\n\r\nThanks in advance.","title":"java.lang.NoSuchMethodError: No virtual method setDefaults(I)V in class Lcom/google/firebase/remoteconfig/FirebaseRemoteConfig","body":"<p>I'm trying to add the firebase translate feature by following the steps as per instructed in the page.\n<a href=\"https://firebase.google.com/docs/ml-kit/android/translate-text\" rel=\"nofollow noreferrer\">text</a></p>\n<p>but I'm getting this error\n<a href=\"https://i.stack.imgur.com/PzpPI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PzpPI.png\" alt=\"enter image description here\" /></a></p>\n<p>at getTranslator(options) method</p>\n<pre><code>// Create an English-German translator:\nFirebaseTranslatorOptions options =\n        new FirebaseTranslatorOptions.Builder()\n                .setSourceLanguage(FirebaseTranslateLanguage.EN)\n                .setTargetLanguage(FirebaseTranslateLanguage.DE)\n                .build();\nfinal FirebaseTranslator englishGermanTranslator =\n        FirebaseNaturalLanguage.getInstance().getTranslator(options);\n</code></pre>\n<p>Kindly Help.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":1,"creation_date":1679488911,"post_id":75812365,"comment_id":133730484,"body_markdown":"`Pair` is an interface. you can try one of its implementations, like `ImmutablePair`","body":"<code>Pair</code> is an interface. you can try one of its implementations, like <code>ImmutablePair</code>"},{"owner":{"account_id":16298094,"reputation":136,"user_id":11769866,"display_name":"Saptarshi"},"score":0,"creation_date":1679489053,"post_id":75812365,"comment_id":133730518,"body_markdown":"@SharonBenAsher, somewhat like `protected Map&lt;String, ImmutablePair&lt;Integer, Integer&gt;&gt; leafDistribution;` ? But I&#39;m surprised Map is also an interface, which is working fine!","body":"@SharonBenAsher, somewhat like <code>protected Map&lt;String, ImmutablePair&lt;Integer, Integer&gt;&gt; leafDistribution;</code> ? But I&#39;m surprised Map is also an interface, which is working fine!"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1679489332,"post_id":75812365,"comment_id":133730601,"body_markdown":"I guess Jackson has built in support for the interfaces in java.util package, but not for other 3rd party libraries.","body":"I guess Jackson has built in support for the interfaces in java.util package, but not for other 3rd party libraries."}],"answers":[{"tags":[],"owner":{"account_id":16298094,"reputation":136,"user_id":11769866,"display_name":"Saptarshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681724595,"creation_date":1681724595,"answer_id":76033750,"question_id":75812365,"body_markdown":"Found some workaround to fix this issue. One Pair serializer and one deserializer need to be defined and used in the object mapper.\r\n\r\n```Java\r\npublic final class PairSerializer extends JsonSerializer&lt;Pair&gt; {\r\n\r\n    @Override\r\n    public void serialize(Pair value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n        gen.writeStartObject();\r\n        gen.writeObjectField(&quot;left&quot;, value.getLeft());\r\n        gen.writeObjectField(&quot;right&quot;, value.getRight());\r\n        gen.writeEndObject();\r\n    }\r\n}\r\n```\r\n```Java\r\npublic final class PairDeserializer extends JsonDeserializer&lt;Pair&gt; {\r\n\r\n    @Override\r\n    public Pair deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n        p.nextValue();\r\n        Integer key= p.getValueAsInt();\r\n        p.nextToken();\r\n        p.nextToken();\r\n        Integer value= p.getValueAsInt();\r\n        p.nextToken();\r\n        return MutablePair.of(key, value);\r\n    }\r\n}\r\n```\r\nThese two need to be added in the `OM` definition\r\n```Java\r\nOBJECT_MAPPER.registerModule(new SimpleModule().addSerializer(Pair.class, new PairSerializer()));\r\nOBJECT_MAPPER.registerModule(new SimpleModule().addDeserializer(Pair.class, new PairDeserializer()));\r\n```\r\n\r\nIt&#39;s easier to use custom defined POJO classes instead of using library structures, in case you have the flexibility.","title":"`org.apache.commons.lang3.tuple.Pair`: abstract types need to be mapped to concrete types, custom deserializer Jackson","body":"<p>Found some workaround to fix this issue. One Pair serializer and one deserializer need to be defined and used in the object mapper.</p>\n<pre><code>public final class PairSerializer extends JsonSerializer&lt;Pair&gt; {\n\n    @Override\n    public void serialize(Pair value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        gen.writeStartObject();\n        gen.writeObjectField(&quot;left&quot;, value.getLeft());\n        gen.writeObjectField(&quot;right&quot;, value.getRight());\n        gen.writeEndObject();\n    }\n}\n</code></pre>\n<pre><code>public final class PairDeserializer extends JsonDeserializer&lt;Pair&gt; {\n\n    @Override\n    public Pair deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        p.nextValue();\n        Integer key= p.getValueAsInt();\n        p.nextToken();\n        p.nextToken();\n        Integer value= p.getValueAsInt();\n        p.nextToken();\n        return MutablePair.of(key, value);\n    }\n}\n</code></pre>\n<p>These two need to be added in the <code>OM</code> definition</p>\n<pre><code>OBJECT_MAPPER.registerModule(new SimpleModule().addSerializer(Pair.class, new PairSerializer()));\nOBJECT_MAPPER.registerModule(new SimpleModule().addDeserializer(Pair.class, new PairDeserializer()));\n</code></pre>\n<p>It's easier to use custom defined POJO classes instead of using library structures, in case you have the flexibility.</p>\n"}],"owner":{"account_id":16298094,"reputation":136,"user_id":11769866,"display_name":"Saptarshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76033750,"answer_count":1,"score":0,"last_activity_date":1681724595,"creation_date":1679488753,"question_id":75812365,"body_markdown":"I am using Jackson to convert the below JSON to object of a class Npd\r\n```JSON\r\n{\r\n  &quot;page&quot; : 0,\r\n  &quot;size&quot; : 4,\r\n  &quot;leafDistribution&quot; : {\r\n    &quot;D_a&quot; : {\r\n      &quot;1&quot; : 4\r\n    },\r\n    &quot;D_b&quot; : {\r\n      &quot;3&quot; : 4\r\n    }\r\n  }\r\n```\r\nThe structure of the Npd class is\r\n``` Java\r\n@Getter\r\npublic class Npd {\r\n   private Integer page;\r\n   private Integer size;\r\n   protected Map&lt;String, Pair&lt;Integer, Integer&gt;&gt; leafDistribution;\r\n}\r\n```\r\n\r\nI am getting the following error while trying to convert the same JSON in an object of Npd.\r\n\r\n&lt;pre&gt;\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of \r\n`org.apache.commons.lang3.tuple.Pair` (no Creators, like default constructor, exist): abstract \r\ntypes either need to be mapped to concrete types, have custom deserializer, or contain additional \r\ntype information\r\n at [Source: (String)&quot;{\r\n  &quot;page&quot; : 0,\r\n  &quot;size&quot; : 4,\r\n  &quot;leafDistribution&quot; : {\r\n    &quot;D_a&quot; : {\r\n      &quot;1&quot; : 4\r\n    },\r\n    &quot;D_b&quot; : {\r\n      &quot;3&quot; : 4\r\n    }\r\n  }\r\n}&quot;; line: 5, column: 15] (through reference chain: \r\nprac.filter.dto.NestedFilterRequestDto[&quot;leafDistribution&quot;]-&gt;java.util.LinkedHashMap[&quot;D_a&quot;])\r\n&lt;/pre&gt;\r\n\r\n\r\nTried to use a Jackson Mixin, but still getting the error.\r\n```Java\r\npublic abstract class NpdMixin {\r\n   @JsonDeserialize(as= org.apache.commons.lang3.tuple.MutablePair.class)\r\n    public abstract class Pair&lt;L, R&gt; implements Map.Entry&lt;L, R&gt;, Comparable&lt;org.apache.commons.lang3.tuple.Pair&lt;L, R&gt;&gt;, Serializable  { }\r\n}\r\n```\r\n\r\nHow to map `Pair` to a concrete type, I am using `org.apache.commons.lang3.tuple.Pair`.","title":"`org.apache.commons.lang3.tuple.Pair`: abstract types need to be mapped to concrete types, custom deserializer Jackson","body":"<p>I am using Jackson to convert the below JSON to object of a class Npd</p>\n<pre><code>{\n  &quot;page&quot; : 0,\n  &quot;size&quot; : 4,\n  &quot;leafDistribution&quot; : {\n    &quot;D_a&quot; : {\n      &quot;1&quot; : 4\n    },\n    &quot;D_b&quot; : {\n      &quot;3&quot; : 4\n    }\n  }\n</code></pre>\n<p>The structure of the Npd class is</p>\n<pre><code>@Getter\npublic class Npd {\n   private Integer page;\n   private Integer size;\n   protected Map&lt;String, Pair&lt;Integer, Integer&gt;&gt; leafDistribution;\n}\n</code></pre>\n<p>I am getting the following error while trying to convert the same JSON in an object of Npd.</p>\n<pre>\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of \n`org.apache.commons.lang3.tuple.Pair` (no Creators, like default constructor, exist): abstract \ntypes either need to be mapped to concrete types, have custom deserializer, or contain additional \ntype information\n at [Source: (String)\"{\n  \"page\" : 0,\n  \"size\" : 4,\n  \"leafDistribution\" : {\n    \"D_a\" : {\n      \"1\" : 4\n    },\n    \"D_b\" : {\n      \"3\" : 4\n    }\n  }\n}\"; line: 5, column: 15] (through reference chain: \nprac.filter.dto.NestedFilterRequestDto[\"leafDistribution\"]->java.util.LinkedHashMap[\"D_a\"])\n</pre>\n<p>Tried to use a Jackson Mixin, but still getting the error.</p>\n<pre><code>public abstract class NpdMixin {\n   @JsonDeserialize(as= org.apache.commons.lang3.tuple.MutablePair.class)\n    public abstract class Pair&lt;L, R&gt; implements Map.Entry&lt;L, R&gt;, Comparable&lt;org.apache.commons.lang3.tuple.Pair&lt;L, R&gt;&gt;, Serializable  { }\n}\n</code></pre>\n<p>How to map <code>Pair</code> to a concrete type, I am using <code>org.apache.commons.lang3.tuple.Pair</code>.</p>\n"},{"tags":["java","hibernate","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"score":0,"creation_date":1579110011,"post_id":59756818,"comment_id":105659674,"body_markdown":"Can you post the `profile` object content?","body":"Can you post the <code>profile</code> object content?"},{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1579110560,"post_id":59756818,"comment_id":105659911,"body_markdown":"It adds new line means? New record?","body":"It adds new line means? New record?"},{"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"score":0,"creation_date":1579111074,"post_id":59756818,"comment_id":105660121,"body_markdown":"@SandeshaJ I added more info pls take a look","body":"@SandeshaJ I added more info pls take a look"},{"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"score":0,"creation_date":1579111092,"post_id":59756818,"comment_id":105660126,"body_markdown":"@gnanajeyam95 New row to the table.","body":"@gnanajeyam95 New row to the table."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1579116614,"post_id":59756818,"comment_id":105662584,"body_markdown":"no id or not existing id -&gt; &quot;create&quot;,  existing id -&gt; &quot;update&quot; (?;) (talking about nested &quot;profileContacts&quot; (json) element)","body":"no id or not existing id -&gt; &quot;create&quot;,  existing id -&gt; &quot;update&quot; (?;) (talking about nested &quot;profileContacts&quot; (json) element)"},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1579116616,"post_id":59756818,"comment_id":105662586,"body_markdown":"problem is probably in your controller handling the update, so show us the code","body":"problem is probably in your controller handling the update, so show us the code"}],"answers":[{"tags":[],"owner":{"account_id":2558439,"reputation":61,"user_id":2219964,"display_name":"Sekhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579111441,"creation_date":1579110581,"answer_id":59757007,"question_id":59756818,"body_markdown":"    Need to specify the join column in the parent Entity.\r\n    @Entity\r\n    @Table(name = &quot;profile&quot;)\r\n    public class Profile {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    **@JoinColumn(name = &quot;id&quot;)** //\r\n    private ProfileContacts profileContacts;\r\n\r\n    ...\r\n\r\n    }\r\n    Now when you try to save Profile entity it will save the child entity also. \r\n\r\nAnd also needs to include Id in jason request for child entity also\r\n{\r\n        &quot;id&quot;: 1,\r\n        &quot;description&quot;: &quot;an update&quot;,\r\n        &quot;profileContacts&quot;: {\r\n            **&quot;id&quot;: 1,**\r\n            &quot;firstName&quot;: &quot;John&quot;,\r\n            &quot;lastName&quot;: &quot;Doe&quot;\r\n        }\r\n }","title":"Spring boot/Spring data jpa - how to update related entity?","body":"<pre><code>Need to specify the join column in the parent Entity.\n@Entity\n@Table(name = \"profile\")\npublic class Profile {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"id\")\nprivate Long id;\n\n@OneToOne(cascade = CascadeType.ALL)\n**@JoinColumn(name = \"id\")** //\nprivate ProfileContacts profileContacts;\n\n...\n\n}\nNow when you try to save Profile entity it will save the child entity also. \n</code></pre>\n\n<p>And also needs to include Id in jason request for child entity also\n{\n        \"id\": 1,\n        \"description\": \"an update\",\n        \"profileContacts\": {\n            <strong>\"id\": 1,</strong>\n            \"firstName\": \"John\",\n            \"lastName\": \"Doe\"\n        }\n }</p>\n"},{"comments":[{"owner":{"account_id":1987793,"reputation":3977,"user_id":1782570,"accept_rate":50,"display_name":"TheGeorgeous"},"score":0,"creation_date":1588831271,"post_id":59757367,"comment_id":109051980,"body_markdown":"Won&#39;t this allow the client to update any personalContact by simply passing along a random `EntityId`?","body":"Won&#39;t this allow the client to update any personalContact by simply passing along a random <code>EntityId</code>?"},{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1588865750,"post_id":59757367,"comment_id":109070836,"body_markdown":"If the random number matches persisted entity id (database entry) then it will update.\nbut we can restrict this by cascading I think so.","body":"If the random number matches persisted entity id (database entry) then it will update. but we can restrict this by cascading I think so."}],"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1579112152,"creation_date":1579112152,"answer_id":59757367,"question_id":59756818,"body_markdown":"As per your JSON structure. Yes it will create new `profileContacts` entry for every time.\n\nThe problem every time while saving `profile` entity you are passing `&quot;id&quot;: 1` that means Hibernate can identify the entity by this `id` value (primary key) but for `profileContacts` mapping you are not sending the `id` that&#39;s why Hibernate considering it has a new entity every time.\n\nTo update your `profileContacts` entity make sure to pass the id of it.\n\n*Example:*\n\n    { \n    &quot;id&quot;: 1,\n     &quot;description&quot;: &quot;an update&quot;, \n    &quot;profileContacts&quot;: {\n    &quot;id&quot; : yourEntityId\n     &quot;firstName&quot;: &quot;John&quot;, \n    &quot;lastName&quot;: &quot;Doe&quot; \n    }\n     }\n\n","title":"Spring boot/Spring data jpa - how to update related entity?","body":"<p>As per your JSON structure. Yes it will create new <code>profileContacts</code> entry for every time.</p>\n\n<p>The problem every time while saving <code>profile</code> entity you are passing <code>\"id\": 1</code> that means Hibernate can identify the entity by this <code>id</code> value (primary key) but for <code>profileContacts</code> mapping you are not sending the <code>id</code> that's why Hibernate considering it has a new entity every time.</p>\n\n<p>To update your <code>profileContacts</code> entity make sure to pass the id of it.</p>\n\n<p><em>Example:</em></p>\n\n<pre><code>{ \n\"id\": 1,\n \"description\": \"an update\", \n\"profileContacts\": {\n\"id\" : yourEntityId\n \"firstName\": \"John\", \n\"lastName\": \"Doe\" \n}\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579112464,"creation_date":1579112464,"answer_id":59757442,"question_id":59756818,"body_markdown":"Well, that&#39;s the expected behavior.\r\n\r\nYou&#39;re not telling hibernate to update the `profileContacts`.\r\n\r\nFor the framework to be able to update it, you need to send the `profileContact`&#39;s primary key - which in your case is the `ProfileContacts#id`.\r\n\r\nSomething like this:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;description&quot;: &quot;an update&quot;,\r\n  &quot;profileContacts&quot;: {\r\n    &quot;id&quot;: 1\r\n    &quot;firstName&quot;: &quot;John&quot;,\r\n    &quot;lastName&quot;: &quot;Doe&quot;\r\n  }\r\n}\r\n```\r\n\r\n","title":"Spring boot/Spring data jpa - how to update related entity?","body":"<p>Well, that's the expected behavior.</p>\n\n<p>You're not telling hibernate to update the <code>profileContacts</code>.</p>\n\n<p>For the framework to be able to update it, you need to send the <code>profileContact</code>'s primary key - which in your case is the <code>ProfileContacts#id</code>.</p>\n\n<p>Something like this:</p>\n\n<pre><code>{\n  \"id\": 1,\n  \"description\": \"an update\",\n  \"profileContacts\": {\n    \"id\": 1\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\"\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579116479,"creation_date":1579116479,"answer_id":59758360,"question_id":59756818,"body_markdown":"Ok, I see the problem. As @Matheus Cirillo pointed out, you need to tell the hibernate to update the row.\r\n\r\nNow, how do you tell the hibernate to update a row - By providing the primary key of the existing row.\r\n\r\nBut, creating an object with the primary key set is not enough. You need that entity class to be attached to the entity manager and the persistence context.\r\n\r\nYou can have something like,\r\n\r\n    //This attaches the entity to the entity manager\r\n    ProfileContacts existingProfileContacts = profileContactRepository.getOne(2);\r\n    Profile profile = new Profile();\r\n    ....\r\n    ....\r\n    profile.setProfileContacts(existingProfileContacts);\r\n    profileRepository.save(profile);\r\nI hope this helps.","title":"Spring boot/Spring data jpa - how to update related entity?","body":"<p>Ok, I see the problem. As @Matheus Cirillo pointed out, you need to tell the hibernate to update the row.</p>\n\n<p>Now, how do you tell the hibernate to update a row - By providing the primary key of the existing row.</p>\n\n<p>But, creating an object with the primary key set is not enough. You need that entity class to be attached to the entity manager and the persistence context.</p>\n\n<p>You can have something like,</p>\n\n<pre><code>//This attaches the entity to the entity manager\nProfileContacts existingProfileContacts = profileContactRepository.getOne(2);\nProfile profile = new Profile();\n....\n....\nprofile.setProfileContacts(existingProfileContacts);\nprofileRepository.save(profile);\n</code></pre>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":21510053,"reputation":51,"user_id":15852900,"display_name":"Ibrahim Hossain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681724135,"creation_date":1681380111,"answer_id":76004152,"question_id":59756818,"body_markdown":"Make an entity object and assign the filtered email and set the value to the entity object.\r\n\r\n    User user2 = registrationRepo.findByEmail(newPasswordDTO.getEmail());\r\n                 user2.setPassword(newPasswordDTO.getPassword());\r\n                 registrationRepo.save(user2);","title":"Spring boot/Spring data jpa - how to update related entity?","body":"<p>Make an entity object and assign the filtered email and set the value to the entity object.</p>\n<pre><code>User user2 = registrationRepo.findByEmail(newPasswordDTO.getEmail());\n             user2.setPassword(newPasswordDTO.getPassword());\n             registrationRepo.save(user2);\n</code></pre>\n"}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4720,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59757367,"answer_count":5,"score":1,"last_activity_date":1681724135,"creation_date":1579109786,"question_id":59756818,"body_markdown":"I have following entities:\r\n\r\n    @Entity\r\n    @Table(name = &quot;profile&quot;)\r\n    public class Profile {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        private ProfileContacts profileContacts;\r\n    \r\n    ...\r\n    \r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    @Table(name = &quot;profile_contacts&quot;)\r\n    public class ProfileContacts {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n\r\n        @Column(name = &quot;description&quot;)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n    }\r\n\r\nI am trying to update it by sending this JSON with update to REST controller:\r\n\r\n    {\r\n            &quot;id&quot;: 1,\r\n            &quot;description&quot;: &quot;an update&quot;,\r\n            &quot;profileContacts&quot;: {\r\n                &quot;firstName&quot;: &quot;John&quot;,\r\n                &quot;lastName&quot;: &quot;Doe&quot;\r\n            }\r\n     }\r\n\r\n so in the end it calls\r\n\r\n    profileRepository.save(profile);\r\n\r\nwhere `profileRepository` is instance of `ProfileRepository` class:\r\n\r\n    public interface ProfileRepository extends JpaRepository&lt;Profile, Long&gt; {\r\n    }\r\nwhich is `spring-data-jpa` interface.\r\n\r\nBut each time after such update it updates `profile` table but adds **new** row to `profile_contacts` table (table which corresponds to `ProfileContacts`entity) instead of updating existing ones.\r\nHow can I achieve updating?\r\n","title":"Spring boot/Spring data jpa - how to update related entity?","body":"<p>I have following entities:</p>\n\n<pre><code>@Entity\n@Table(name = \"profile\")\npublic class Profile {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\")\n    private Long id;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    private ProfileContacts profileContacts;\n\n...\n\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Entity\n@Table(name = \"profile_contacts\")\npublic class ProfileContacts {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\")\n    private Long id;\n\n    @Column(name = \"description\")\n    private String description;\n\n    @Column(name = \"first_name\")\n    private String firstName;\n\n    @Column(name = \"last_name\")\n    private String lastName;\n\n}\n</code></pre>\n\n<p>I am trying to update it by sending this JSON with update to REST controller:</p>\n\n<pre><code>{\n        \"id\": 1,\n        \"description\": \"an update\",\n        \"profileContacts\": {\n            \"firstName\": \"John\",\n            \"lastName\": \"Doe\"\n        }\n }\n</code></pre>\n\n<p>so in the end it calls</p>\n\n<pre><code>profileRepository.save(profile);\n</code></pre>\n\n<p>where <code>profileRepository</code> is instance of <code>ProfileRepository</code> class:</p>\n\n<pre><code>public interface ProfileRepository extends JpaRepository&lt;Profile, Long&gt; {\n}\n</code></pre>\n\n<p>which is <code>spring-data-jpa</code> interface.</p>\n\n<p>But each time after such update it updates <code>profile</code> table but adds <strong>new</strong> row to <code>profile_contacts</code> table (table which corresponds to <code>ProfileContacts</code>entity) instead of updating existing ones.\nHow can I achieve updating?</p>\n"},{"tags":["java","java-io","java-nio"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1681723712,"post_id":76033589,"comment_id":134096988,"body_markdown":"`MessageDigest` has a `toString` method that &quot;Returns a string representation of this message digest object.&quot;. What is the problem here?","body":"<code>MessageDigest</code> has a <code>toString</code> method that &quot;Returns a string representation of this message digest object.&quot;. What is the problem here?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":6,"creation_date":1681723806,"post_id":76033589,"comment_id":134097010,"body_markdown":"Since you only compute the digest while writing the file, you can&#39;t really know the final digest value when you first create the file. Creating it with a temp name and renaming afterwards is the appropriate thing to do here. An alternative would be to buffer the whole file in memory, but you *probably* don&#39;t want to do that.","body":"Since you only compute the digest while writing the file, you can&#39;t really know the final digest value when you first create the file. Creating it with a temp name and renaming afterwards is the appropriate thing to do here. An alternative would be to buffer the whole file in memory, but you <i>probably</i> don&#39;t want to do that."}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681723590,"creation_date":1681723380,"question_id":76033589,"body_markdown":"Currently, my code snippet:\r\n\r\n```lang-java\r\nPath destinationFilepath = Paths.get(&quot;/tmp/a/b/c/&quot; + UUID.randomUUID().toString());\r\nFileUtils.createParentDirectories(path.toFile());\r\ndestinationFilepath = Files.createFile(path);\r\nFile destinationFile = destinationFilepath.toFile();\r\n\r\nMessageDigest md5Digest = MessageDigest.getInstance(SHA_256);\r\n\r\nString hash = null;\r\ntry (FileOutputStream multipartFileOutputStream = FileUtils.openOutputStream(destinationFile);\r\n        DigestOutputStream digestOutputStream = new DigestOutputStream(multipartFileOutputStream, md5Digest)) {\r\n    IOUtils.copyLarge(fileItemStream.openStream(), digestOutputStream);\r\n    digestOutputStream.flush();\r\n    byte[] digest = digestOutputStream.getMessageDigest().digest();\r\n    hash = Hex.encodeHexString(digest);\r\n} catch (IOException e) {\r\n    Files.deleteIfExists(path);\r\n}\r\n```\r\n\r\nAs you can see, I&#39;m digesting an `InputStream` in order to get SHA_256 checksum. Shortly, In order to get that, I&#39;m channing an `DigestOutputStream` to the file `OutputStream`.\r\n\r\nCurrently, I&#39;m creating the file with a random UUID name.\r\n\r\nI&#39;d like to directly create the file with name to &quot;checksum hash code&quot;.\r\n\r\nI&#39;m aware I can rename it, but I&#39;d like to know if could there be any approach to directly create the filename with its checksum code.\r\n\r\nIs it possible? Any ideas?","title":"java io: Create file name directly with its digest code","body":"<p>Currently, my code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path destinationFilepath = Paths.get(&quot;/tmp/a/b/c/&quot; + UUID.randomUUID().toString());\nFileUtils.createParentDirectories(path.toFile());\ndestinationFilepath = Files.createFile(path);\nFile destinationFile = destinationFilepath.toFile();\n\nMessageDigest md5Digest = MessageDigest.getInstance(SHA_256);\n\nString hash = null;\ntry (FileOutputStream multipartFileOutputStream = FileUtils.openOutputStream(destinationFile);\n        DigestOutputStream digestOutputStream = new DigestOutputStream(multipartFileOutputStream, md5Digest)) {\n    IOUtils.copyLarge(fileItemStream.openStream(), digestOutputStream);\n    digestOutputStream.flush();\n    byte[] digest = digestOutputStream.getMessageDigest().digest();\n    hash = Hex.encodeHexString(digest);\n} catch (IOException e) {\n    Files.deleteIfExists(path);\n}\n</code></pre>\n<p>As you can see, I'm digesting an <code>InputStream</code> in order to get SHA_256 checksum. Shortly, In order to get that, I'm channing an <code>DigestOutputStream</code> to the file <code>OutputStream</code>.</p>\n<p>Currently, I'm creating the file with a random UUID name.</p>\n<p>I'd like to directly create the file with name to &quot;checksum hash code&quot;.</p>\n<p>I'm aware I can rename it, but I'd like to know if could there be any approach to directly create the filename with its checksum code.</p>\n<p>Is it possible? Any ideas?</p>\n"},{"tags":["java","arraylist","sorting"],"comments":[{"owner":{"account_id":10528629,"reputation":58529,"user_id":7758804,"display_name":"Trenton McKinney"},"score":0,"creation_date":1604026650,"post_id":7575761,"comment_id":114228424,"body_markdown":"As noted in a link-only answer, this can be accomplished with [Collections.sort()](http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29), which takes an explicit [Comparator](http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html)","body":"As noted in a link-only answer, this can be accomplished with <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\" rel=\"nofollow noreferrer\">Collections.sort()</a>, which takes an explicit <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a>"}],"answers":[{"comments":[{"owner":{"account_id":6887,"reputation":36377,"user_id":11721,"accept_rate":60,"display_name":"Stephen Denne"},"score":0,"creation_date":1317158562,"post_id":7575803,"comment_id":9186451,"body_markdown":"Priority to positive differences can be given by multiplying positive differences by two, and negative differences by negative two, then adding one.","body":"Priority to positive differences can be given by multiplying positive differences by two, and negative differences by negative two, then adding one."},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1317161736,"post_id":7575803,"comment_id":9187134,"body_markdown":"You should make referenceLength final.","body":"You should make referenceLength final."}],"tags":[],"owner":{"account_id":20633,"reputation":17376,"user_id":49489,"accept_rate":100,"display_name":"Barend"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1317158298,"creation_date":1317158298,"answer_id":7575803,"question_id":7575761,"body_markdown":"Use a custom comparator:\r\n\r\n    public class MyComparator implements java.util.Comparator&lt;String&gt; {\r\n\r\n        private int referenceLength;\r\n\r\n        public MyComparator(String reference) {\r\n            super();\r\n            this.referenceLength = reference.length();\r\n        }\r\n\r\n        public int compare(String s1, String s2) {\r\n            int dist1 = Math.abs(s1.length() - referenceLength);\r\n            int dist2 = Math.abs(s2.length() - referenceLength);\r\n\r\n            return dist1 - dist2;\r\n        }\r\n    }\r\n\r\nThen sort the list using `java.util.Collections.sort(List, Comparator)`.","title":"Sort ArrayList of strings by length difference","body":"<p>Use a custom comparator:</p>\n\n<pre><code>public class MyComparator implements java.util.Comparator&lt;String&gt; {\n\n    private int referenceLength;\n\n    public MyComparator(String reference) {\n        super();\n        this.referenceLength = reference.length();\n    }\n\n    public int compare(String s1, String s2) {\n        int dist1 = Math.abs(s1.length() - referenceLength);\n        int dist2 = Math.abs(s2.length() - referenceLength);\n\n        return dist1 - dist2;\n    }\n}\n</code></pre>\n\n<p>Then sort the list using <code>java.util.Collections.sort(List, Comparator)</code>.</p>\n"},{"tags":[],"owner":{"account_id":781143,"reputation":1507,"user_id":839428,"display_name":"parsifal"},"comment_count":0,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1317158362,"creation_date":1317158362,"answer_id":7575813,"question_id":7575761,"body_markdown":"You&#39;d do this with the version of [Collections.sort()][1] that takes an explicit [Comparator][2].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html","title":"Sort ArrayList of strings by length difference","body":"<p>You'd do this with the version of <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\" rel=\"nofollow noreferrer\">Collections.sort()</a> that takes an explicit <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a>.</p>\n"},{"tags":[],"owner":{"account_id":1703654,"reputation":2068,"user_id":1563174,"display_name":"Krishna Kumar Chourasiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604026785,"creation_date":1375787660,"answer_id":18078670,"question_id":7575761,"body_markdown":"- String in Ascending order \r\n\r\n```java\r\nclass StringLengthListSort implements Comparator&lt;String&gt;{\r\n\r\n    @Override\r\n    public int compare(String s1, String s2) {\r\n    return s1.length() - s2.length();\r\n    }\r\n\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    StringLengthListSort ss = new StringLengthListSort();\r\n    list.add(&quot;ram&quot;);\r\n    list.add(&quot;rahim&quot;);\r\n    list.add(&quot;ramshyam&quot;);\r\n    Collections.sort(list, ss);\r\n    System.out.println(list);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Sort ArrayList of strings by length difference","body":"<ul>\n<li>String in Ascending order</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>class StringLengthListSort implements Comparator&lt;String&gt;{\n\n    @Override\n    public int compare(String s1, String s2) {\n    return s1.length() - s2.length();\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    StringLengthListSort ss = new StringLengthListSort();\n    list.add(&quot;ram&quot;);\n    list.add(&quot;rahim&quot;);\n    list.add(&quot;ramshyam&quot;);\n    Collections.sort(list, ss);\n    System.out.println(list);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":991863,"reputation":3215,"user_id":1008916,"accept_rate":54,"display_name":"Mugoma J. Okomba"},"score":1,"creation_date":1489211393,"post_id":25071607,"comment_id":72582665,"body_markdown":"Best solution for Java 8+. Short and precise.","body":"Best solution for Java 8+. Short and precise."},{"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"score":4,"creation_date":1537123085,"post_id":25071607,"comment_id":91659071,"body_markdown":"In case you just want to sort by length: `strings.sort((s1, s2) -&gt; s1.length() - s2.length());`","body":"In case you just want to sort by length: <code>strings.sort((s1, s2) -&gt; s1.length() - s2.length());</code>"}],"tags":[],"owner":{"account_id":84044,"reputation":10799,"user_id":235179,"accept_rate":96,"display_name":"Josh Johnson"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1499087155,"creation_date":1406857271,"answer_id":25071607,"question_id":7575761,"body_markdown":"If you&#39;re using Java 8+ you can use a lambda expression to implement (@Barend&#39;s answer as) the comparator\r\n\r\n\tList&lt;String&gt; strings = Arrays.asList(new String[] {&quot;cucumber&quot;,&quot;aeronomical&quot;,&quot;bacon&quot;,&quot;tea&quot;,&quot;telescopic&quot;,&quot;fantasmagorical&quot;});\r\n\tstrings.sort((s1, s2) -&gt; Math.abs(s1.length() - &quot;intelligent&quot;.length()) - Math.abs(s2.length() - &quot;intelligent&quot;.length()));","title":"Sort ArrayList of strings by length difference","body":"<p>If you're using Java 8+ you can use a lambda expression to implement (@Barend's answer as) the comparator</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(new String[] {\"cucumber\",\"aeronomical\",\"bacon\",\"tea\",\"telescopic\",\"fantasmagorical\"});\nstrings.sort((s1, s2) -&gt; Math.abs(s1.length() - \"intelligent\".length()) - Math.abs(s2.length() - \"intelligent\".length()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6163155,"reputation":21,"user_id":4804041,"display_name":"Chris Mart"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535478540,"creation_date":1535478188,"answer_id":52063614,"question_id":7575761,"body_markdown":"The use of a custom comparator is correct. This is one way to implement it:\r\n\r\n        Comparator c = new Comparator&lt;String&gt;()\r\n        {\r\n            public int compare(String s1, String s2) {\r\n                return Integer.compare(s1.length(), s2.length());\r\n            }\r\n        };\r\n        Collections.sort(results, c);\r\n        return results;","title":"Sort ArrayList of strings by length difference","body":"<p>The use of a custom comparator is correct. This is one way to implement it:</p>\n\n<pre><code>    Comparator c = new Comparator&lt;String&gt;()\n    {\n        public int compare(String s1, String s2) {\n            return Integer.compare(s1.length(), s2.length());\n        }\n    };\n    Collections.sort(results, c);\n    return results;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1537512669,"creation_date":1537512669,"answer_id":52438135,"question_id":7575761,"body_markdown":"If you are using java 8 you can also try using this lambda\r\n\r\n    packages.sort(Comparator.comparingInt(String::length));","title":"Sort ArrayList of strings by length difference","body":"<p>If you are using java 8 you can also try using this lambda</p>\n\n<pre><code>packages.sort(Comparator.comparingInt(String::length));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1160007,"reputation":103,"user_id":1139726,"display_name":"Ross Bu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570736563,"creation_date":1570736563,"answer_id":58330068,"question_id":7575761,"body_markdown":"simple with Java8 solution with Comparator and Method reference only:\r\nStream.of(list).flatMap(Collection::stream).sorted( Comparator.comparing( String::length)).collect(toList());\r\n","title":"Sort ArrayList of strings by length difference","body":"<p>simple with Java8 solution with Comparator and Method reference only:\nStream.of(list).flatMap(Collection::stream).sorted( Comparator.comparing( String::length)).collect(toList());</p>\n"},{"tags":[],"owner":{"account_id":15891563,"reputation":29,"user_id":12727940,"display_name":"xyzzxy123"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596870053,"creation_date":1596870053,"answer_id":63312662,"question_id":7575761,"body_markdown":"I have a similar problem solved by lambda expression:\r\n\r\n    listBeforeSorting.sort((s1, s2) -&gt; s1.length() - s2.length());\r\nThis way, we will get sorted-by-length(ascending order) list.","title":"Sort ArrayList of strings by length difference","body":"<p>I have a similar problem solved by lambda expression:</p>\n<pre><code>listBeforeSorting.sort((s1, s2) -&gt; s1.length() - s2.length());\n</code></pre>\n<p>This way, we will get sorted-by-length(ascending order) list.</p>\n"},{"tags":[],"owner":{"account_id":6750688,"reputation":71,"user_id":5200767,"display_name":"Ashish Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603986310,"creation_date":1603986310,"answer_id":64594542,"question_id":7575761,"body_markdown":"    The shortest code for this-\r\n\r\n    public static void main(String... str) {\r\n    \t\tList.of(&quot;am&quot;, &quot;I&quot;, &quot;Best&quot;, &quot;the&quot;).stream().sorted((a, b) -&gt; a.length() - b.length())\r\n    \t\t\t\t.forEach(System.out::println);\r\n    \t}","title":"Sort ArrayList of strings by length difference","body":"<pre><code>The shortest code for this-\n\npublic static void main(String... str) {\n        List.of(&quot;am&quot;, &quot;I&quot;, &quot;Best&quot;, &quot;the&quot;).stream().sorted((a, b) -&gt; a.length() - b.length())\n                .forEach(System.out::println);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11678976,"reputation":407,"user_id":8551420,"display_name":"Taz"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1613183019,"creation_date":1613183019,"answer_id":66181306,"question_id":7575761,"body_markdown":"    List&lt;String&gt; list = Arrays.asList(&quot;geeksforgeeks&quot;, &quot;geeksfor&quot;, &quot;geeks&quot;);\r\n\tCollections.sort(list, new Comparator&lt;String&gt;(){\r\n\t\t   public int compare(String s1, String s2){\r\n\t\t            return s1.length() - s2.length();\r\n\t\t   }\r\n\t});","title":"Sort ArrayList of strings by length difference","body":"<pre><code>List&lt;String&gt; list = Arrays.asList(&quot;geeksforgeeks&quot;, &quot;geeksfor&quot;, &quot;geeks&quot;);\nCollections.sort(list, new Comparator&lt;String&gt;(){\n       public int compare(String s1, String s2){\n                return s1.length() - s2.length();\n       }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11374006,"reputation":359,"user_id":8338842,"display_name":"Kaushal Dokania"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1621875303,"creation_date":1621875303,"answer_id":67676003,"question_id":7575761,"body_markdown":"    Collections.sort(list, (a, b)-&gt;Integer.compare(a.length(), b.length()));","title":"Sort ArrayList of strings by length difference","body":"<pre><code>Collections.sort(list, (a, b)-&gt;Integer.compare(a.length(), b.length()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3289024,"reputation":49,"user_id":2767738,"display_name":"Amit Thakur"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681722507,"creation_date":1681136239,"answer_id":75977891,"question_id":7575761,"body_markdown":"**Sort the list of string by length using java8**\r\n\r\n    String[] strArr = { &quot;Apples&quot;,&quot;CSS&quot;, &quot;HTML&quot;, &quot;Oracle&quot;, &quot;Dart&quot;};\r\n    \t\r\n    List&lt;String&gt; result = Arrays.asList(strArr).stream().sorted( (str1,str2) -&gt;  str1.length() - str2.length()).collect(Collectors.toList());\r\n    \t\r\n    System.out.println(result); // output in Ascending Order : [CSS, HTML, Dart, Apples, Oracle]","title":"Sort ArrayList of strings by length difference","body":"<p><strong>Sort the list of string by length using java8</strong></p>\n<pre><code>String[] strArr = { &quot;Apples&quot;,&quot;CSS&quot;, &quot;HTML&quot;, &quot;Oracle&quot;, &quot;Dart&quot;};\n    \nList&lt;String&gt; result = Arrays.asList(strArr).stream().sorted( (str1,str2) -&gt;  str1.length() - str2.length()).collect(Collectors.toList());\n    \nSystem.out.println(result); // output in Ascending Order : [CSS, HTML, Dart, Apples, Oracle]\n</code></pre>\n"}],"owner":{"account_id":151953,"reputation":11217,"user_id":366133,"accept_rate":98,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67563,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":7575803,"answer_count":12,"score":26,"last_activity_date":1681723457,"creation_date":1317157983,"question_id":7575761,"body_markdown":"I want to order an ArrayList of strings by length, but not just in numeric order.\r\n\r\nSay for example, the list contains these words:\r\n\r\n    cucumber\r\n    aeronomical\r\n    bacon\r\n    tea\r\n    telescopic\r\n    fantasmagorical\r\n\r\nThey need to be ordered by their difference in length to a special string, for example:\r\n\r\n    intelligent\r\n\r\nSo the final list would look like this (difference in brackets):\r\n\r\n    aeronomical     (0)\r\n    telescopic      (1)\r\n    fantasmagorical (3) - give priority to positive differences? doesn&#39;t really matter\r\n    cucumber        (3)\r\n    bacon           (6)\r\n    tea             (8)","title":"Sort ArrayList of strings by length difference","body":"<p>I want to order an ArrayList of strings by length, but not just in numeric order.</p>\n\n<p>Say for example, the list contains these words:</p>\n\n<pre><code>cucumber\naeronomical\nbacon\ntea\ntelescopic\nfantasmagorical\n</code></pre>\n\n<p>They need to be ordered by their difference in length to a special string, for example:</p>\n\n<pre><code>intelligent\n</code></pre>\n\n<p>So the final list would look like this (difference in brackets):</p>\n\n<pre><code>aeronomical     (0)\ntelescopic      (1)\nfantasmagorical (3) - give priority to positive differences? doesn't really matter\ncucumber        (3)\nbacon           (6)\ntea             (8)\n</code></pre>\n"},{"tags":["java","soap","wsdl"],"owner":{"account_id":19226139,"reputation":343,"user_id":14098666,"display_name":"ciis0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681723244,"creation_date":1681723244,"question_id":76033566,"body_markdown":"I have a WSDL file for a WebService that I don&#39;t control that is missing some schema imports, which leads to JAX-WS returning me DOM Objects, while I want JAXB Objects.\r\n\r\nWhen adding the schema import to WSDL manually, I do get JAXB objects (wrapped in `JAXBElements`, due to xsd any but that is another issue), but I would prefer not updating WSDL in case of future external updates to it.\r\n\r\nCurrently the code is generated using `cxf-codegen-plugin` (see below).\r\n\r\nIs it possible to add an additional `&lt;xsd:import /&gt;` to the WSDL?\r\n\r\nI tried to find information on whether this is possible via a [&quot;JAX-WS Binding File&quot;](https://cxf.apache.org/docs/maven-cxf-codegen-plugin-wsdl-to-java.html#Mavencxfcodegenplugin(WSDLtoJava)-Example1:PassinginaJAX-WSBindingfile), but did not (yet?) really find info on it in general.\r\n\r\n```xml\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;generate-sources&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n              &lt;wsdlOptions&gt;\r\n                &lt;wsdlOption&gt;\r\n                  &lt;wsdl&gt;${project.basedir}/src/main/resources/wsdl/ExternalService.wsdl&lt;/wsdl&gt;\r\n                &lt;/wsdlOption&gt;\r\n              &lt;/wsdlOptions&gt;\r\n              &lt;sourceRoot&gt;${project.basedir}/src/gen/java&lt;/sourceRoot&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\n```xml\r\n\t&lt;types&gt;\r\n\t\t&lt;xsd:schema&gt;\r\n\t\t\t&lt;xsd:import namespace=&quot;urn:oasis:names:tc:SPML:2:0&quot; schemaLocation=&quot;pstc_spmlv2_core.xsd&quot;/&gt;\r\n\t\t\t&lt;xsd:import namespace=&quot;urn:oasis:names:tc:SPML:2:0:search&quot; schemaLocation=&quot;pstc_spmlv2_search.xsd&quot;/&gt;\r\n\t\t\t&lt;xsd:import namespace=&quot;urn:vnd:...:1.0:spmlCapabilityData&quot; schemaLocation=&quot;vnd_..._spmlv2_capabilitydata.xsd&quot;/&gt;\r\n\t\t&lt;/xsd:schema&gt;\r\n\t&lt;/types&gt;\r\n```","title":"cxf-codegen-plugin additional WSDL xsd:schema import?","body":"<p>I have a WSDL file for a WebService that I don't control that is missing some schema imports, which leads to JAX-WS returning me DOM Objects, while I want JAXB Objects.</p>\n<p>When adding the schema import to WSDL manually, I do get JAXB objects (wrapped in <code>JAXBElements</code>, due to xsd any but that is another issue), but I would prefer not updating WSDL in case of future external updates to it.</p>\n<p>Currently the code is generated using <code>cxf-codegen-plugin</code> (see below).</p>\n<p>Is it possible to add an additional <code>&lt;xsd:import /&gt;</code> to the WSDL?</p>\n<p>I tried to find information on whether this is possible via a <a href=\"https://cxf.apache.org/docs/maven-cxf-codegen-plugin-wsdl-to-java.html#Mavencxfcodegenplugin(WSDLtoJava)-Example1:PassinginaJAX-WSBindingfile\" rel=\"nofollow noreferrer\">&quot;JAX-WS Binding File&quot;</a>, but did not (yet?) really find info on it in general.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;generate-sources&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;configuration&gt;\n              &lt;wsdlOptions&gt;\n                &lt;wsdlOption&gt;\n                  &lt;wsdl&gt;${project.basedir}/src/main/resources/wsdl/ExternalService.wsdl&lt;/wsdl&gt;\n                &lt;/wsdlOption&gt;\n              &lt;/wsdlOptions&gt;\n              &lt;sourceRoot&gt;${project.basedir}/src/gen/java&lt;/sourceRoot&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;wsdl2java&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;types&gt;\n        &lt;xsd:schema&gt;\n            &lt;xsd:import namespace=&quot;urn:oasis:names:tc:SPML:2:0&quot; schemaLocation=&quot;pstc_spmlv2_core.xsd&quot;/&gt;\n            &lt;xsd:import namespace=&quot;urn:oasis:names:tc:SPML:2:0:search&quot; schemaLocation=&quot;pstc_spmlv2_search.xsd&quot;/&gt;\n            &lt;xsd:import namespace=&quot;urn:vnd:...:1.0:spmlCapabilityData&quot; schemaLocation=&quot;vnd_..._spmlv2_capabilitydata.xsd&quot;/&gt;\n        &lt;/xsd:schema&gt;\n    &lt;/types&gt;\n</code></pre>\n"},{"tags":["java","eclipse","code-snippets"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1681732286,"post_id":76033553,"comment_id":134098926,"body_markdown":"Find the Java code which does this, improve it to handle leading comments and do a pull request [here](https://github.com/eclipse-jdt/eclipse.jdt.ui).","body":"Find the Java code which does this, improve it to handle leading comments and do a pull request <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.ui\" rel=\"nofollow noreferrer\">here</a>."}],"owner":{"account_id":11132592,"reputation":103,"user_id":8172126,"display_name":"Philipp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681723168,"creation_date":1681723168,"question_id":76033553,"body_markdown":"When pasting a the code of a class into the Project Explorer of Eclipse, the code is pasted into the selected source Folder inside the correct package. \r\n\r\nBut when there is a comment above the package declaration (version-control...), the comment is pasted as a Snippet inside a newly created Snippet package. Also the comment is then missing inside the newly pasted class.\r\n\r\nHow can I prevent Eclipse from doing that?","title":"Eclipse creates snippet package when pasting code into Explorer","body":"<p>When pasting a the code of a class into the Project Explorer of Eclipse, the code is pasted into the selected source Folder inside the correct package.</p>\n<p>But when there is a comment above the package declaration (version-control...), the comment is pasted as a Snippet inside a newly created Snippet package. Also the comment is then missing inside the newly pasted class.</p>\n<p>How can I prevent Eclipse from doing that?</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream","solace","solace-mq"],"comments":[{"owner":{"account_id":1367993,"reputation":473,"user_id":1304010,"display_name":"Mrc0113"},"score":0,"creation_date":1681851813,"post_id":76033444,"comment_id":134123039,"body_markdown":"FYI - if others find this in the future it looks like this discussion is happening over here: https://solace.community/discussion/1732/failed-to-consume-a-message-from-destination-queue#latest","body":"FYI - if others find this in the future it looks like this discussion is happening over here: <a href=\"https://solace.community/discussion/1732/failed-to-consume-a-message-from-destination-queue#latest\" rel=\"nofollow noreferrer\">solace.community/discussion/1732/&hellip;</a>"}],"owner":{"account_id":2105859,"reputation":650,"user_id":1872207,"accept_rate":60,"display_name":"Kaliappan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681722834,"creation_date":1681722351,"question_id":76033444,"body_markdown":"I am using Spring cloud stream 2021.0.2 to consume messages from solace queue, when some messages are sent , I can see the message gets spooled continuously in the queue but It is not coming inside the application and processed because of the below exception. we are NOT setting value for `deliveryAttempt` anywhere within our microservice. Please help\r\n\r\n\r\n    023-04-13 16:21:39.086 WARN 27352 --- [pool-3-thread-5] s.b.i.RetryableInboundXMLMessageListener : Failed to consume a message from destination QUE_173707_PLATFORM_EVENT_LOGGING_DEV - attempt 3\r\n    \r\n    2023-04-13 16:21:39.086 WARN 27352 --- [pool-3-thread-5] s.b.i.RetryableInboundXMLMessageListener : Failed to consume a message from destination QUE_173707_PLATFORM_EVENT_LOGGING_DEV - attempt 3\r\n    \r\n    2023-04-13 16:21:39.086 WARN 27352 --- [pool-3-thread-5] s.b.i.RetryableInboundXMLMessageListener : Failed to consume a message from destination QUE_173707_PLATFORM_EVENT_LOGGING_DEV - attempt 3\r\n    \r\n    2023-04-13 16:21:39.086 WARN 27352 --- [pool-3-thread-5] s.b.i.RetryableInboundXMLMessageListener : Failed to consume a message from destination QUE_173707_PLATFORM_EVENT_LOGGING_DEV - attempt 3\r\n    \r\n    2023-04-13 16:21:39.087 WARN 27352 --- [pool-3-thread-5] s.b.i.RetryableInboundXMLMessageListener : Failed to consume a message from destination QUE_173707_PLATFORM_EVENT_LOGGING_DEV - attempt 3\r\n    \r\n    2023-04-13 16:21:39.087 ERROR 27352 --- [pool-3-thread-5] o.s.integration.handler.LoggingHandler  : org.springframework.messaging.MessagingException: Incorrect type specified for header &#39;deliveryAttempt&#39;. Expected [class java.util.concurrent.atomic.AtomicInteger] but actual type is [class java.lang.String]; nested exception is java.lang.IllegalArgumentException: Incorrect type specified for header &#39;deliveryAttempt&#39;. Expected [class java.util.concurrent.atomic.AtomicInteger] but actual type is [class java.lang.String]","title":"Failed to consume a message from destination Queue - Solace","body":"<p>I am using Spring cloud stream 2021.0.2 to consume messages from solace queue, when some messages are sent , I can see the message gets spooled continuously in the queue but It is not coming inside the application and processed because of the below exception. we are NOT setting value for <code>deliveryAttempt</code> anywhere within our microservice. Please help</p>\n<pre><code>023-04-13 16:21:39.086 WARN 27352 --- [pool-3-thread-5] s.b.i.RetryableInboundXMLMessageListener : Failed to consume a message from destination QUE_173707_PLATFORM_EVENT_LOGGING_DEV - attempt 3\n\n2023-04-13 16:21:39.086 WARN 27352 --- [pool-3-thread-5] s.b.i.RetryableInboundXMLMessageListener : Failed to consume a message from destination QUE_173707_PLATFORM_EVENT_LOGGING_DEV - attempt 3\n\n2023-04-13 16:21:39.086 WARN 27352 --- [pool-3-thread-5] s.b.i.RetryableInboundXMLMessageListener : Failed to consume a message from destination QUE_173707_PLATFORM_EVENT_LOGGING_DEV - attempt 3\n\n2023-04-13 16:21:39.086 WARN 27352 --- [pool-3-thread-5] s.b.i.RetryableInboundXMLMessageListener : Failed to consume a message from destination QUE_173707_PLATFORM_EVENT_LOGGING_DEV - attempt 3\n\n2023-04-13 16:21:39.087 WARN 27352 --- [pool-3-thread-5] s.b.i.RetryableInboundXMLMessageListener : Failed to consume a message from destination QUE_173707_PLATFORM_EVENT_LOGGING_DEV - attempt 3\n\n2023-04-13 16:21:39.087 ERROR 27352 --- [pool-3-thread-5] o.s.integration.handler.LoggingHandler  : org.springframework.messaging.MessagingException: Incorrect type specified for header 'deliveryAttempt'. Expected [class java.util.concurrent.atomic.AtomicInteger] but actual type is [class java.lang.String]; nested exception is java.lang.IllegalArgumentException: Incorrect type specified for header 'deliveryAttempt'. Expected [class java.util.concurrent.atomic.AtomicInteger] but actual type is [class java.lang.String]\n</code></pre>\n"},{"tags":["java","data-structures","time-complexity","contains"],"comments":[{"owner":{"account_id":5487075,"reputation":520,"user_id":4361503,"accept_rate":0,"display_name":"Jmrapp"},"score":0,"creation_date":1436497103,"post_id":31331725,"comment_id":50648801,"body_markdown":"Using a binary tree structure may be your best bet depending on the values being input. That&#39;ll run in O(logn) on average","body":"Using a binary tree structure may be your best bet depending on the values being input. That&#39;ll run in O(logn) on average"},{"owner":{"account_id":2714257,"reputation":5027,"user_id":2341963,"display_name":"logee"},"score":1,"creation_date":1436497316,"post_id":31331725,"comment_id":50648841,"body_markdown":"What not use a HashSet&lt;Integer&gt; if you only storing a number","body":"What not use a HashSet&lt;Integer&gt; if you only storing a number"},{"owner":{"account_id":4723421,"reputation":1048,"user_id":3820753,"accept_rate":65,"display_name":"devcodes"},"score":0,"creation_date":1436497434,"post_id":31331725,"comment_id":50648862,"body_markdown":"@user2341963 duplicate entries are to be allowed","body":"@user2341963 duplicate entries are to be allowed"},{"owner":{"account_id":2714257,"reputation":5027,"user_id":2341963,"display_name":"logee"},"score":2,"creation_date":1436497563,"post_id":31331725,"comment_id":50648890,"body_markdown":"In the problem description you&#39;re saying check if it exists, if not then add. Doesn&#39;t that mean duplicate entries are not allowed?","body":"In the problem description you&#39;re saying check if it exists, if not then add. Doesn&#39;t that mean duplicate entries are not allowed?"},{"owner":{"account_id":4723421,"reputation":1048,"user_id":3820753,"accept_rate":65,"display_name":"devcodes"},"score":0,"creation_date":1436497689,"post_id":31331725,"comment_id":50648920,"body_markdown":"if it exists then there is another condition , where it may or may not be added .","body":"if it exists then there is another condition , where it may or may not be added ."},{"owner":{"account_id":370444,"reputation":22668,"user_id":718379,"accept_rate":100,"display_name":"timrau"},"score":0,"creation_date":1436497724,"post_id":31331725,"comment_id":50648931,"body_markdown":"Use a boolean array with 1000000 elements, each element indicated whether the index value exist or not.","body":"Use a boolean array with 1000000 elements, each element indicated whether the index value exist or not."},{"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"score":0,"creation_date":1436497785,"post_id":31331725,"comment_id":50648949,"body_markdown":"Why do you search for `containsValue()`. Try to keep the `Integer` as a key in `HashMap` and use `containsKey()`. That will be much faster.","body":"Why do you search for <code>containsValue()</code>. Try to keep the <code>Integer</code> as a key in <code>HashMap</code> and use <code>containsKey()</code>. That will be much faster."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1436497967,"post_id":31331725,"comment_id":50648996,"body_markdown":"Sounds like you&#39;re using an inefficient method to construct your data structure and then probably search. Show your code.","body":"Sounds like you&#39;re using an inefficient method to construct your data structure and then probably search. Show your code."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1436498000,"post_id":31331725,"comment_id":50649006,"body_markdown":"@CodeBender Why in the world reinvent HashSet?","body":"@CodeBender Why in the world reinvent HashSet?"},{"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"score":1,"creation_date":1436498077,"post_id":31331725,"comment_id":50649019,"body_markdown":"@chrylis, because he needs duplicate values... He can keep integer as key.. and no of times it occurred as value... Read the comments above...","body":"@chrylis, because he needs duplicate values... He can keep integer as key.. and no of times it occurred as value... Read the comments above..."},{"owner":{"account_id":4723421,"reputation":1048,"user_id":3820753,"accept_rate":65,"display_name":"devcodes"},"score":0,"creation_date":1436498096,"post_id":31331725,"comment_id":50649022,"body_markdown":"ok i&#39;ll add the code , and explain the question in a little more detail","body":"ok i&#39;ll add the code , and explain the question in a little more detail"},{"owner":{"account_id":370444,"reputation":22668,"user_id":718379,"accept_rate":100,"display_name":"timrau"},"score":0,"creation_date":1436498597,"post_id":31331725,"comment_id":50649128,"body_markdown":"`if(!(m.containsValue(PokeType))) ... else if(m.containsValue(PokeType)) ...` Why bother search twice?","body":"<code>if(!(m.containsValue(PokeType))) ... else if(m.containsValue(PokeType)) ...</code> Why bother search twice?"},{"owner":{"account_id":4723421,"reputation":1048,"user_id":3820753,"accept_rate":65,"display_name":"devcodes"},"score":0,"creation_date":1436498649,"post_id":31331725,"comment_id":50649136,"body_markdown":"okay consider it else -_-","body":"okay consider it else -_-"},{"owner":{"account_id":370444,"reputation":22668,"user_id":718379,"accept_rate":100,"display_name":"timrau"},"score":2,"creation_date":1436498684,"post_id":31331725,"comment_id":50649147,"body_markdown":"And `HashMap.containsValue` performs _linear search_. You should reconsider what the key type should be.","body":"And <code>HashMap.containsValue</code> performs <i>linear search</i>. You should reconsider what the key type should be."},{"owner":{"account_id":42557,"reputation":3130,"user_id":124007,"accept_rate":45,"display_name":"JimN"},"score":3,"creation_date":1436498712,"post_id":31331725,"comment_id":50649151,"body_markdown":"Map.containsValue() is very expensive -- it must traverse the entire map.  Instead, invert the map so that you can use Map.containsKey(); maps are optimized for this type of operation, so this is very fast.","body":"Map.containsValue() is very expensive -- it must traverse the entire map.  Instead, invert the map so that you can use Map.containsKey(); maps are optimized for this type of operation, so this is very fast."},{"owner":{"account_id":4723421,"reputation":1048,"user_id":3820753,"accept_rate":65,"display_name":"devcodes"},"score":0,"creation_date":1436498774,"post_id":31331725,"comment_id":50649169,"body_markdown":"@timrau  tried TreeMap also , i guess it uses binary search right ? still same result","body":"@timrau  tried TreeMap also , i guess it uses binary search right ? still same result"},{"owner":{"account_id":42557,"reputation":3130,"user_id":124007,"accept_rate":45,"display_name":"JimN"},"score":4,"creation_date":1436498824,"post_id":31331725,"comment_id":50649177,"body_markdown":"You&#39;re missing the point.  Searching for values in a map is _expensive_.  Searching for keys in a map is _cheap_.","body":"You&#39;re missing the point.  Searching for values in a map is <i>expensive</i>.  Searching for keys in a map is <i>cheap</i>."},{"owner":{"account_id":4723421,"reputation":1048,"user_id":3820753,"accept_rate":65,"display_name":"devcodes"},"score":0,"creation_date":1436498856,"post_id":31331725,"comment_id":50649186,"body_markdown":"so i&#39;ll try using containsKey() then , thanks @JimN","body":"so i&#39;ll try using containsKey() then , thanks @JimN"},{"owner":{"account_id":370444,"reputation":22668,"user_id":718379,"accept_rate":100,"display_name":"timrau"},"score":0,"creation_date":1436498912,"post_id":31331725,"comment_id":50649195,"body_markdown":"Don&#39;t forget to reverse the parameter order when calling `m.put()`.","body":"Don&#39;t forget to reverse the parameter order when calling <code>m.put()</code>."}],"answers":[{"tags":[],"owner":{"account_id":200821,"reputation":4765,"user_id":446885,"accept_rate":93,"display_name":"Shahzeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436506030,"creation_date":1436506030,"answer_id":31333095,"question_id":31331725,"body_markdown":"Do not fully know what you are trying to do other than looking at your code. But this will give you quickest response . As far as finding the value in HashSet goes it will be O(1) . \r\n\r\nTry this below\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    public class SalesTracking {\r\n    public static void main(String args[] ) throws Exception {\r\n    \r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n        int T = Integer.parseInt(br.readLine());\r\n        if(T&lt;=10 &amp;&amp; T&gt;=1)   {\r\n        for (int i = 0; i &lt; T; i++) {\r\n           int count=0;\r\n           int numOfPonds = Integer.parseInt(br.readLine());\r\n            if(numOfPonds&lt;=100000 &amp;&amp; numOfPonds&gt;=1){  \r\n           String[] str ;\r\n           //Map m = new HashMap();\r\n           Set m = new HashSet();\r\n            for(int j=0 ; j&lt; numOfPonds ;j++)\r\n                    {   \r\n                        str = br.readLine().split(&quot; &quot;);\r\n                        int foodType = Integer.parseInt(str[0]);\r\n                        int PokeType = Integer.parseInt(str[1]);\r\n                        if(foodType&lt;=1000000 &amp;&amp; PokeType&lt;=1000000 &amp;&amp; foodType&gt;=1 &amp;&amp; PokeType&gt;=1 &amp;&amp; foodType != PokeType){\r\n                            m.add(foodType);\r\n                        if(!(m.contains(PokeType)))                        \r\n                                        count++;\r\n                        else if(m.contains(PokeType))\r\n                            {   m.remove(PokeType);\r\n                             \r\n                            }\r\n    \r\n                        }\r\n                    }\r\n            }\r\n           System.out.println(count);\r\n          }\r\n        }\r\n        }\r\n    }","title":"Data Structure for faster contains() operation?","body":"<p>Do not fully know what you are trying to do other than looking at your code. But this will give you quickest response . As far as finding the value in HashSet goes it will be O(1) . </p>\n\n<p>Try this below</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class SalesTracking {\npublic static void main(String args[] ) throws Exception {\n\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n    int T = Integer.parseInt(br.readLine());\n    if(T&lt;=10 &amp;&amp; T&gt;=1)   {\n    for (int i = 0; i &lt; T; i++) {\n       int count=0;\n       int numOfPonds = Integer.parseInt(br.readLine());\n        if(numOfPonds&lt;=100000 &amp;&amp; numOfPonds&gt;=1){  \n       String[] str ;\n       //Map m = new HashMap();\n       Set m = new HashSet();\n        for(int j=0 ; j&lt; numOfPonds ;j++)\n                {   \n                    str = br.readLine().split(\" \");\n                    int foodType = Integer.parseInt(str[0]);\n                    int PokeType = Integer.parseInt(str[1]);\n                    if(foodType&lt;=1000000 &amp;&amp; PokeType&lt;=1000000 &amp;&amp; foodType&gt;=1 &amp;&amp; PokeType&gt;=1 &amp;&amp; foodType != PokeType){\n                        m.add(foodType);\n                    if(!(m.contains(PokeType)))                        \n                                    count++;\n                    else if(m.contains(PokeType))\n                        {   m.remove(PokeType);\n\n                        }\n\n                    }\n                }\n        }\n       System.out.println(count);\n      }\n    }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4723421,"reputation":1048,"user_id":3820753,"accept_rate":65,"display_name":"devcodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1436516775,"creation_date":1436516775,"answer_id":31335921,"question_id":31331725,"body_markdown":"Following is the code that passed all the test cases within the time limit.\r\n\r\nAs mentioned by **Codebender** and **JimN** , I implemented `containsKey()` method that proved to be faster than `containsValue()` .\r\n\r\nPlus , for duplicates , incremented and changed the values in Map.\r\n\r\n\r\n    class TestClass {\r\n    public static void main(String args[] ) throws Exception {\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n    int T = Integer.parseInt(br.readLine());\r\n    if(T&lt;=10 &amp;&amp; T&gt;=1)   {\r\n    for (int i = 0; i &lt; T; i++) {\r\n       int count=0;\r\n       int numOfPonds = Integer.parseInt(br.readLine());\r\n        if(numOfPonds&lt;=100000 &amp;&amp; numOfPonds&gt;=1){  \r\n       String[] str ;\r\n      \r\n\tMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();\r\n        for(int j=0 ; j&lt; numOfPonds ;j++)\r\n                {   \r\n                    str = br.readLine().split(&quot; &quot;);\r\n                    int foodType = Integer.parseInt(str[0]);\r\n                    int PokeType = Integer.parseInt(str[1]);\r\n                    \r\n                    if(foodType&lt;=1000000 &amp;&amp; PokeType&lt;=1000000 &amp;&amp; foodType&gt;=1 &amp;&amp; PokeType&gt;=1 &amp;&amp; foodType != PokeType){\r\n\r\n                    if(map.containsKey(foodType))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tint x = map.get(Integer.valueOf(foodType));\r\n\t\t\t\t\t\tx++;\r\n\t\t\t\t\t\tmap.put(foodType,x);\r\n\t\t\t\t\t}\r\n                    else\r\n                    {   map.put(foodType,1);\r\n                    }\r\n                    \r\n                    if(!(map.containsKey(PokeType)))                        \r\n                                    count++;\r\n\r\n                    else \r\n                        {\tint x = map.get(Integer.valueOf(PokeType));\r\n\t\t\t\t\t\t    x--;\r\n                            \r\n                            if(x==0)\r\n                            map.remove(PokeType);\r\n                            \r\n                            else\r\n                            map.put(PokeType,x);\r\n                           \r\n                            }\r\n\r\n                    }\r\n                }\r\n         }\r\n       System.out.println(count);\r\n      }\r\n    }\r\n    }\r\n    }","title":"Data Structure for faster contains() operation?","body":"<p>Following is the code that passed all the test cases within the time limit.</p>\n\n<p>As mentioned by <strong>Codebender</strong> and <strong>JimN</strong> , I implemented <code>containsKey()</code> method that proved to be faster than <code>containsValue()</code> .</p>\n\n<p>Plus , for duplicates , incremented and changed the values in Map.</p>\n\n<pre><code>class TestClass {\npublic static void main(String args[] ) throws Exception {\n\nBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\nint T = Integer.parseInt(br.readLine());\nif(T&lt;=10 &amp;&amp; T&gt;=1)   {\nfor (int i = 0; i &lt; T; i++) {\n   int count=0;\n   int numOfPonds = Integer.parseInt(br.readLine());\n    if(numOfPonds&lt;=100000 &amp;&amp; numOfPonds&gt;=1){  \n   String[] str ;\n\nMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();\n    for(int j=0 ; j&lt; numOfPonds ;j++)\n            {   \n                str = br.readLine().split(\" \");\n                int foodType = Integer.parseInt(str[0]);\n                int PokeType = Integer.parseInt(str[1]);\n\n                if(foodType&lt;=1000000 &amp;&amp; PokeType&lt;=1000000 &amp;&amp; foodType&gt;=1 &amp;&amp; PokeType&gt;=1 &amp;&amp; foodType != PokeType){\n\n                if(map.containsKey(foodType))\n                {\n                    int x = map.get(Integer.valueOf(foodType));\n                    x++;\n                    map.put(foodType,x);\n                }\n                else\n                {   map.put(foodType,1);\n                }\n\n                if(!(map.containsKey(PokeType)))                        \n                                count++;\n\n                else \n                    {   int x = map.get(Integer.valueOf(PokeType));\n                        x--;\n\n                        if(x==0)\n                        map.remove(PokeType);\n\n                        else\n                        map.put(PokeType,x);\n\n                        }\n\n                }\n            }\n     }\n   System.out.println(count);\n  }\n}\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116757,"reputation":2670,"user_id":306047,"accept_rate":57,"display_name":"snorbi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681722703,"creation_date":1681722703,"answer_id":76033487,"question_id":31331725,"body_markdown":"You can use a combination of a [*bloom filter*][1] and a `Set&lt;T&gt;`.\r\n\r\n&gt; A Bloom filter is a space-efficient probabilistic data structure ... that is used to test whether\r\n&gt; an element is a member of a set. False positive matches are possible,\r\n&gt; but false negatives are not – in other words, a query returns either\r\n&gt; &quot;possibly in set&quot; or &quot;definitely not in set&quot;.\r\n\r\nThe algorithm:\r\n\r\n1. First query the *bloom filter*, if it return &quot;definitely not in set&quot; then the element is new.\r\n2. If the *bloom filter* returns &quot;possibly in set&quot; then call `Set&lt;T&gt;.contains()` to be sure about containment.\r\n\r\n*Bloom filter* Java implementation: https://guava.dev/releases/23.0/api/docs/com/google/common/hash/BloomFilter.html \\\r\nRelated article about usage: https://www.baeldung.com/guava-bloom-filter\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Bloom_filter","title":"Data Structure for faster contains() operation?","body":"<p>You can use a combination of a <a href=\"https://en.wikipedia.org/wiki/Bloom_filter\" rel=\"nofollow noreferrer\"><em>bloom filter</em></a> and a <code>Set&lt;T&gt;</code>.</p>\n<blockquote>\n<p>A Bloom filter is a space-efficient probabilistic data structure ... that is used to test whether\nan element is a member of a set. False positive matches are possible,\nbut false negatives are not – in other words, a query returns either\n&quot;possibly in set&quot; or &quot;definitely not in set&quot;.</p>\n</blockquote>\n<p>The algorithm:</p>\n<ol>\n<li>First query the <em>bloom filter</em>, if it return &quot;definitely not in set&quot; then the element is new.</li>\n<li>If the <em>bloom filter</em> returns &quot;possibly in set&quot; then call <code>Set&lt;T&gt;.contains()</code> to be sure about containment.</li>\n</ol>\n<p><em>Bloom filter</em> Java implementation: <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/hash/BloomFilter.html\" rel=\"nofollow noreferrer\">https://guava.dev/releases/23.0/api/docs/com/google/common/hash/BloomFilter.html</a> <br />\nRelated article about usage: <a href=\"https://www.baeldung.com/guava-bloom-filter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/guava-bloom-filter</a></p>\n"}],"owner":{"account_id":4723421,"reputation":1048,"user_id":3820753,"accept_rate":65,"display_name":"devcodes"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1725,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":31335921,"answer_count":3,"score":6,"last_activity_date":1681722703,"creation_date":1436497016,"question_id":31331725,"body_markdown":"In the problem , I parse the input (integer) and simultaneously check if it exists in the data structure , if not then add it.\r\n\r\nInput is - 2 integers separated by space of size &gt;=1 and &lt;= 1000000\r\n\r\nI tried using `HashMap` , `TreeMap` (`put()` and `containsValue()` method)- but it seems they are taking too much time. (5 out of 10 test  cases are exceeding time limit)\r\n\r\nWhen using `ArrayList`(add() and contains() method) - (4 out of 10 test cases exceeded the time limit)\r\n\r\n\r\nThese operations are to be performed inside 2nd for loop , inside an if condition.\r\n\r\niterations may varies as follows : -\r\n\r\n1st for loop - 1 to 10\r\n\r\n2nd for loop - 1 to 100000\r\n\r\nso i guess for higher order iteration in 2nd loop it exceeds time limit.\r\n\r\nIs there any other way i could perform this task in lesser time . \r\n\r\n\r\n**Problem :**\r\n\r\nA Monk encounters N ponds and at each pond a fooditem(input 1) and a pokemon(input 2) is found .\r\n\r\n\r\nThe monk can feed the item at the i&#39;th pond to the Pokemon at the pond if the type matches. Monk may have to carry some food items with him before leaving so as to feed all the Pokemons. Help him find the number of items he must carry, to be to able to pass through the land safely.\r\n\r\n\r\n**Explanation**\r\n\r\nAt First Pond he gets item of type1 and feeds it to the Pokemon of type1.\r\n\r\nAt Second Pond he gets item of type 2 and feeds it to the Pokemon of type2.\r\n\r\nAt Third Pond he gets item of type 3 ,but the Pokemon is of type4 . Hence, he \r\nhas to bring a food item of type 4 with him.\r\n\r\nAt Fourth Pond he gets item of type 4. He already has a item of type 3 and feeds it to the Pokemon. \r\n\r\nAt Fifth Pond he gets items of type 2. He already has a item of type 4 and feeds it to the Pokemon at this pond\r\n\r\n\r\n    class TestClass {\r\n    public static void main(String args[] ) throws Exception {\r\n        \r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n       \r\n        int T = Integer.parseInt(br.readLine());\r\n        if(T&lt;=10 &amp;&amp; T&gt;=1)\t{\r\n        for (int i = 0; i &lt; T; i++) {\r\n           int count=0;\r\n           int numOfPonds = Integer.parseInt(br.readLine());\r\n         \tif(numOfPonds&lt;=100000 &amp;&amp; numOfPonds&gt;=1){  \r\n           String[] str ;\r\n           Map m = new HashMap();\r\n           \t//List l = new ArrayList();\r\n           \t\r\n           \tfor(int j=0 ; j&lt; numOfPonds ;j++)\r\n           \t\t\t{\t\r\n           \t\t\t\tstr = br.readLine().split(&quot; &quot;);\r\n           \t\t\t\tint foodType = Integer.parseInt(str[0]);\r\n           \t\t\t\tint PokeType = Integer.parseInt(str[1]);\r\n           \t\t\t\tif(foodType&lt;=1000000 &amp;&amp; PokeType&lt;=1000000 &amp;&amp; foodType&gt;=1 &amp;&amp; PokeType&gt;=1 &amp;&amp; foodType != PokeType){\r\n           \t\t\t\t\r\n           \t\t\t\t\tm.put(j,foodType);\r\n           \t\t\t\t\r\n           \t\t\t\t//l.add(foodType);\r\n           \t\t\t\t\r\n           \t\t\t\t\t//if(!(l.contains(PokeType)))\r\n           \t\t\t\tif(!(m.containsValue(PokeType)))           \t\t\t\t\r\n           \t\t\t\t\t\t\t\tcount++;\r\n           \t\t\t\t\r\n           \t\t\t\t//else if(l.contains(PokeType))\r\n           \t\t\t\telse if(m.containsValue(PokeType))\r\n           \t\t\t\t\t{\r\n           \t\t\t\t\t\tm.values().remove(PokeType);\r\n           \t\t\t\t\t\t//\tl.remove(Integer.valueOf(PokeType));\r\n           \t\t\t\t\t\t}\r\n           \t\t\t\t \r\n           \t\t\t\t}\r\n           \t\t\t}\r\n         \t}\r\n           System.out.println(count);\r\n          }\r\n        }\r\n        }\r\n    }","title":"Data Structure for faster contains() operation?","body":"<p>In the problem , I parse the input (integer) and simultaneously check if it exists in the data structure , if not then add it.</p>\n\n<p>Input is - 2 integers separated by space of size >=1 and &lt;= 1000000</p>\n\n<p>I tried using <code>HashMap</code> , <code>TreeMap</code> (<code>put()</code> and <code>containsValue()</code> method)- but it seems they are taking too much time. (5 out of 10 test  cases are exceeding time limit)</p>\n\n<p>When using <code>ArrayList</code>(add() and contains() method) - (4 out of 10 test cases exceeded the time limit)</p>\n\n<p>These operations are to be performed inside 2nd for loop , inside an if condition.</p>\n\n<p>iterations may varies as follows : -</p>\n\n<p>1st for loop - 1 to 10</p>\n\n<p>2nd for loop - 1 to 100000</p>\n\n<p>so i guess for higher order iteration in 2nd loop it exceeds time limit.</p>\n\n<p>Is there any other way i could perform this task in lesser time . </p>\n\n<p><strong>Problem :</strong></p>\n\n<p>A Monk encounters N ponds and at each pond a fooditem(input 1) and a pokemon(input 2) is found .</p>\n\n<p>The monk can feed the item at the i'th pond to the Pokemon at the pond if the type matches. Monk may have to carry some food items with him before leaving so as to feed all the Pokemons. Help him find the number of items he must carry, to be to able to pass through the land safely.</p>\n\n<p><strong>Explanation</strong></p>\n\n<p>At First Pond he gets item of type1 and feeds it to the Pokemon of type1.</p>\n\n<p>At Second Pond he gets item of type 2 and feeds it to the Pokemon of type2.</p>\n\n<p>At Third Pond he gets item of type 3 ,but the Pokemon is of type4 . Hence, he \nhas to bring a food item of type 4 with him.</p>\n\n<p>At Fourth Pond he gets item of type 4. He already has a item of type 3 and feeds it to the Pokemon. </p>\n\n<p>At Fifth Pond he gets items of type 2. He already has a item of type 4 and feeds it to the Pokemon at this pond</p>\n\n<pre><code>class TestClass {\npublic static void main(String args[] ) throws Exception {\n\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n    int T = Integer.parseInt(br.readLine());\n    if(T&lt;=10 &amp;&amp; T&gt;=1)   {\n    for (int i = 0; i &lt; T; i++) {\n       int count=0;\n       int numOfPonds = Integer.parseInt(br.readLine());\n        if(numOfPonds&lt;=100000 &amp;&amp; numOfPonds&gt;=1){  \n       String[] str ;\n       Map m = new HashMap();\n        //List l = new ArrayList();\n\n        for(int j=0 ; j&lt; numOfPonds ;j++)\n                {   \n                    str = br.readLine().split(\" \");\n                    int foodType = Integer.parseInt(str[0]);\n                    int PokeType = Integer.parseInt(str[1]);\n                    if(foodType&lt;=1000000 &amp;&amp; PokeType&lt;=1000000 &amp;&amp; foodType&gt;=1 &amp;&amp; PokeType&gt;=1 &amp;&amp; foodType != PokeType){\n\n                        m.put(j,foodType);\n\n                    //l.add(foodType);\n\n                        //if(!(l.contains(PokeType)))\n                    if(!(m.containsValue(PokeType)))                        \n                                    count++;\n\n                    //else if(l.contains(PokeType))\n                    else if(m.containsValue(PokeType))\n                        {\n                            m.values().remove(PokeType);\n                            //  l.remove(Integer.valueOf(PokeType));\n                            }\n\n                    }\n                }\n        }\n       System.out.println(count);\n      }\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","keycloak","keycloak-services"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1681482316,"post_id":76015994,"comment_id":134068201,"body_markdown":"[Nashorn](https://github.com/openjdk/nashorn) was removed in the shipping JDK, I think you can still add it back.","body":"<a href=\"https://github.com/openjdk/nashorn\" rel=\"nofollow noreferrer\">Nashorn</a> was removed in the shipping JDK, I think you can still add it back."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681482480,"post_id":76015994,"comment_id":134068246,"body_markdown":"https://www.keycloak.org/docs-api/21.0.1/javadocs/org/keycloak/scripting/DefaultScriptingProvider.html","body":"<a href=\"https://www.keycloak.org/docs-api/21.0.1/javadocs/org/keycloak/scripting/DefaultScriptingProvider.html\" rel=\"nofollow noreferrer\">keycloak.org/docs-api/21.0.1/javadocs/org/keycloak/scripting&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681482592,"post_id":76015994,"comment_id":134068277,"body_markdown":"https://www.keycloak.org/docs-api/21.0.1/javadocs/org/keycloak/scripting/DefaultScriptingProvider.html","body":"<a href=\"https://www.keycloak.org/docs-api/21.0.1/javadocs/org/keycloak/scripting/DefaultScriptingProvider.html\" rel=\"nofollow noreferrer\">keycloak.org/docs-api/21.0.1/javadocs/org/keycloak/scripting&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681482698,"post_id":76015994,"comment_id":134068306,"body_markdown":"https://docs.oracle.com/en/java/javase/11/docs/api/java.scripting/javax/script/ScriptEngineManager.html?is-external=true","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.scripting/javax/script/ScriptEngineManager.html?is-external=true\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.scripting/ja&zwnj;&#8203;vax/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9243527,"reputation":986,"user_id":6866139,"accept_rate":50,"display_name":"Siddharth Eswaramoorthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681722349,"creation_date":1681722349,"answer_id":76033443,"question_id":76015994,"body_markdown":"Thanks, @Elliott Frisch, My java release version was 11, Adding Nashorn Core fixed the issue.\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjdk.nashorn&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nashorn-core&lt;/artifactId&gt;\r\n            &lt;version&gt;15.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies-quarkus&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/keycloak-server-extras/providers&lt;/outputDirectory&gt;\r\n                            &lt;includeArtifactIds&gt;nashorn-core,asm,asm-util,asm-commons&lt;/includeArtifactIds&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\nAnd moved dependencies to `/opt/keycloak/providers`\r\n\r\n```bash\r\nCOPY providers/target/keycloak-server-extras/providers/* /opt/keycloak/providers/\r\n```\r\n\r\nReference: https://www.keycloak.org/docs/latest/server_development/index.html#deploy-the-script-jar","title":"IllegalStateException: Could not find ScriptEngine for script","body":"<p>Thanks, @Elliott Frisch, My java release version was 11, Adding Nashorn Core fixed the issue.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjdk.nashorn&lt;/groupId&gt;\n            &lt;artifactId&gt;nashorn-core&lt;/artifactId&gt;\n            &lt;version&gt;15.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies-quarkus&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/keycloak-server-extras/providers&lt;/outputDirectory&gt;\n                            &lt;includeArtifactIds&gt;nashorn-core,asm,asm-util,asm-commons&lt;/includeArtifactIds&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>And moved dependencies to <code>/opt/keycloak/providers</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>COPY providers/target/keycloak-server-extras/providers/* /opt/keycloak/providers/\n</code></pre>\n<p>Reference: <a href=\"https://www.keycloak.org/docs/latest/server_development/index.html#deploy-the-script-jar\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs/latest/server_development/index.html#deploy-the-script-jar</a></p>\n"}],"owner":{"account_id":9243527,"reputation":986,"user_id":6866139,"accept_rate":50,"display_name":"Siddharth Eswaramoorthy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76033443,"answer_count":1,"score":0,"last_activity_date":1681722378,"creation_date":1681481412,"question_id":76015994,"body_markdown":"I recently migrated from Keycloak 12 to Keycloak 21.0.1 After migration the script based authentication is getting failed because I am getting the ScriptEngine as null for the mimetype `text/javascript`.\r\n\r\n```\r\nScriptEngine engineByMimeType = new ScriptEngineManager().getEngineByMimeType(script.getMimeType()); // getting it as null mime type is &#39;text/javascript&#39;\r\n```\r\n\r\nKeycloak Code: https://github.com/keycloak/keycloak/blob/21.0.2/services/src/main/java/org/keycloak/scripting/DefaultScriptingProvider.java#L145\r\n\r\nThis was working fine in the keycloak version 12.\r\n\r\nError Log:\r\n\r\n```\r\n\\[org.keycloak.services\\] (executor-thread-0) KC-SERVICES0013: Failed authentication: java.lang.IllegalStateException: Could not find ScriptEngine for script: Script{...}\r\nat org.keycloak.scripting.DefaultScriptingProvider.getPreparedScriptEngine(DefaultScriptingProvider.java:114)\r\nat org.keycloak.scripting.DefaultScriptingProvider.prepareEvaluatableScript(DefaultScriptingProvider.java:74)\r\nat org.keycloak.scripting.DefaultScriptingProvider.prepareInvocableScript(DefaultScriptingProvider.java:55)\r\nat org.keycloak.authentication.authenticators.browser.ScriptBasedAuthenticator.getInvocableScriptAdapter(ScriptBasedAuthenticator.java:164)\r\nat org.keycloak.authentication.authenticators.browser.ScriptBasedAuthenticator.tryInvoke(ScriptBasedAuthenticator.java:120)\r\nat org.keycloak.authentication.authenticators.browser.ScriptBasedAuthenticator.authenticate(ScriptBasedAuthenticator.java:103)\r\n...\r\n```","title":"IllegalStateException: Could not find ScriptEngine for script","body":"<p>I recently migrated from Keycloak 12 to Keycloak 21.0.1 After migration the script based authentication is getting failed because I am getting the ScriptEngine as null for the mimetype <code>text/javascript</code>.</p>\n<pre><code>ScriptEngine engineByMimeType = new ScriptEngineManager().getEngineByMimeType(script.getMimeType()); // getting it as null mime type is 'text/javascript'\n</code></pre>\n<p>Keycloak Code: <a href=\"https://github.com/keycloak/keycloak/blob/21.0.2/services/src/main/java/org/keycloak/scripting/DefaultScriptingProvider.java#L145\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/blob/21.0.2/services/src/main/java/org/keycloak/scripting/DefaultScriptingProvider.java#L145</a></p>\n<p>This was working fine in the keycloak version 12.</p>\n<p>Error Log:</p>\n<pre><code>\\[org.keycloak.services\\] (executor-thread-0) KC-SERVICES0013: Failed authentication: java.lang.IllegalStateException: Could not find ScriptEngine for script: Script{...}\nat org.keycloak.scripting.DefaultScriptingProvider.getPreparedScriptEngine(DefaultScriptingProvider.java:114)\nat org.keycloak.scripting.DefaultScriptingProvider.prepareEvaluatableScript(DefaultScriptingProvider.java:74)\nat org.keycloak.scripting.DefaultScriptingProvider.prepareInvocableScript(DefaultScriptingProvider.java:55)\nat org.keycloak.authentication.authenticators.browser.ScriptBasedAuthenticator.getInvocableScriptAdapter(ScriptBasedAuthenticator.java:164)\nat org.keycloak.authentication.authenticators.browser.ScriptBasedAuthenticator.tryInvoke(ScriptBasedAuthenticator.java:120)\nat org.keycloak.authentication.authenticators.browser.ScriptBasedAuthenticator.authenticate(ScriptBasedAuthenticator.java:103)\n...\n</code></pre>\n"},{"tags":["java","c#","design-patterns","strategy-pattern"],"answers":[{"comments":[{"owner":{"account_id":56759,"reputation":630,"user_id":170034,"display_name":"FrenchData"},"score":13,"creation_date":1263057605,"post_id":370270,"comment_id":1958442,"body_markdown":"Is your example not more a Factory Pattern? \nAlso I think it will not work in C# for example. Your &quot;getCipher()&quot; method is a static method but in C# you cannot define a static method on an interface (neither in Java I think but for this I&#39;m not sure).","body":"Is your example not more a Factory Pattern?  Also I think it will not work in C# for example. Your &quot;getCipher()&quot; method is a static method but in C# you cannot define a static method on an interface (neither in Java I think but for this I&#39;m not sure)."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":14,"creation_date":1263225310,"post_id":370270,"comment_id":1968798,"body_markdown":"They go together. The Factory create the strategy, but the strategy it self hold the algorithm to perform the ( basically ) same operation.  The strategy can also be changed at runtime. About the factory method you&#39;re correct, I have change it it.","body":"They go together. The Factory create the strategy, but the strategy it self hold the algorithm to perform the ( basically ) same operation.  The strategy can also be changed at runtime. About the factory method you&#39;re correct, I have change it it."},{"owner":{"account_id":1769821,"reputation":8901,"user_id":1614870,"accept_rate":57,"display_name":"Abhijit Mazumder"},"score":1,"creation_date":1402862304,"post_id":370270,"comment_id":37425800,"body_markdown":"To add on Osacars point, without factory this can be  created without factory \n`Cipher C =null;        \nif (file.size() &lt;= 2048) { \n          C = new InMemoryCipherStrategy();\n} \nelse { \nc= SwaptToDiskCipher ();\n}`","body":"To add on Osacars point, without factory this can be  created without factory  <code>Cipher C =null;         if (file.size() &lt;= 2048) {            C = new InMemoryCipherStrategy(); }  else {  c= SwaptToDiskCipher (); }</code>"},{"owner":{"account_id":308235,"reputation":8900,"user_id":619978,"accept_rate":95,"display_name":"user487772"},"score":2,"creation_date":1430381876,"post_id":370270,"comment_id":48045221,"body_markdown":"Agree with @FrenchData. While being a great example presence of `CipherFactory` may confuse those not familiar with Strategy pattern.","body":"Agree with @FrenchData. While being a great example presence of <code>CipherFactory</code> may confuse those not familiar with Strategy pattern."},{"owner":{"account_id":6873078,"reputation":9765,"user_id":5282585,"accept_rate":78,"display_name":"nhoxbypass"},"score":1,"creation_date":1515435291,"post_id":370270,"comment_id":83290654,"body_markdown":"Factory pattern is about creational, Strategy is about Behavioral. There is a slight different right?","body":"Factory pattern is about creational, Strategy is about Behavioral. There is a slight different right?"}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":5,"down_vote_count":1,"up_vote_count":115,"is_accepted":false,"score":114,"last_activity_date":1671854322,"creation_date":1229391638,"answer_id":370270,"question_id":370258,"body_markdown":"What about this: \r\n\r\nYou have to encrypt a file. \r\n\r\nFor small files, you can use &quot;in memory&quot; strategy, where the complete file is read and kept in memory ( let&#39;s say for files &lt; 1 gb ) \r\n\r\nFor large files, you can use another strategy, where parts of the file are read in memory and partial encrypted  results are stored in tmp files.\r\n\r\nThese may be two different strategies for the same task.\r\n\r\n\r\nThe client code would look the same:\r\n\r\n\r\n     File file = getFile();\r\n     Cipher c = CipherFactory.getCipher( file.size() );\r\n     c.performAction();\r\n\r\n\r\n\r\n    // implementations:\r\n    interface  Cipher  {\r\n         public void performAction();\r\n    }\r\n   \r\n    class InMemoryCipherStrategy implements Cipher { \r\n             public void performAction() {\r\n                 // load in byte[] ....\r\n             }\r\n    }\r\n\r\n    class SwaptToDiskCipher implements Cipher { \r\n             public void performAction() {\r\n                 // swapt partial results to file.\r\n             }\r\n\r\n    }\r\n\r\n\r\n\r\nThe \r\n\r\n         Cipher c = CipherFactory.getCipher( file.size() );\r\n\r\nWould return the correct strategy instance for the cipher.\r\n\r\n\r\n*( I don&#39;t even know if Cipher is the right word :P )*","title":"Real World Example of the Strategy Pattern","body":"<p>What about this:</p>\n<p>You have to encrypt a file.</p>\n<p>For small files, you can use &quot;in memory&quot; strategy, where the complete file is read and kept in memory ( let's say for files &lt; 1 gb )</p>\n<p>For large files, you can use another strategy, where parts of the file are read in memory and partial encrypted  results are stored in tmp files.</p>\n<p>These may be two different strategies for the same task.</p>\n<p>The client code would look the same:</p>\n<pre><code> File file = getFile();\n Cipher c = CipherFactory.getCipher( file.size() );\n c.performAction();\n\n\n\n// implementations:\ninterface  Cipher  {\n     public void performAction();\n}\n\nclass InMemoryCipherStrategy implements Cipher { \n         public void performAction() {\n             // load in byte[] ....\n         }\n}\n\nclass SwaptToDiskCipher implements Cipher { \n         public void performAction() {\n             // swapt partial results to file.\n         }\n\n}\n</code></pre>\n<p>The</p>\n<pre><code>     Cipher c = CipherFactory.getCipher( file.size() );\n</code></pre>\n<p>Would return the correct strategy instance for the cipher.</p>\n<p><em>( I don't even know if Cipher is the right word :P )</em></p>\n"},{"comments":[{"owner":{"account_id":2575514,"reputation":1525,"user_id":2233336,"accept_rate":80,"display_name":"Utsav T"},"score":0,"creation_date":1531069365,"post_id":370327,"comment_id":89447477,"body_markdown":"This is a very good example. Also, it clearly tells you the difference between command and strategy pattern in a nutshell - the intent.\n\n&quot;The main program basically *chooses* a master strategy depending on the day of the week&quot;","body":"This is a very good example. Also, it clearly tells you the difference between command and strategy pattern in a nutshell - the intent.  &quot;The main program basically <i>chooses</i> a master strategy depending on the day of the week&quot;"}],"tags":[],"owner":{"account_id":7448,"reputation":526484,"user_id":12950,"accept_rate":94,"display_name":"tvanfosson"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1229394985,"creation_date":1229394985,"answer_id":370327,"question_id":370258,"body_markdown":"I have an application that synchronizes it&#39;s user base each day against our enterprise directory.  User&#39;s are eligible or not eligible based on their status in the University.  Each day the provisioning program goes through and makes sure that those who are supposed to be eligible are provisioned in the application and those who are not are de-provisioned (actually according to a graceful degradation algorithm, but that&#39;s beside the point).  On Saturday I do a more thorough update that synchronizes some properties of each user as well as making sure that they have the proper eligibility.  At the end of the month I do some bill back processing based on usage for that month.\r\n\r\nI use a composable strategy pattern to do this synchronization.  The main program basically chooses a master strategy depending on the day of the week (sync changes only/sync all) and the time of semester relative to the academic calendar. If the billing cycle is ending, then it also composes it with a billing strategy.  It then runs the chosen strategy via a standard interface.\r\n\r\nI don&#39;t know how common this is, but I felt like it was a perfect fit for the strategy pattern.","title":"Real World Example of the Strategy Pattern","body":"<p>I have an application that synchronizes it's user base each day against our enterprise directory.  User's are eligible or not eligible based on their status in the University.  Each day the provisioning program goes through and makes sure that those who are supposed to be eligible are provisioned in the application and those who are not are de-provisioned (actually according to a graceful degradation algorithm, but that's beside the point).  On Saturday I do a more thorough update that synchronizes some properties of each user as well as making sure that they have the proper eligibility.  At the end of the month I do some bill back processing based on usage for that month.</p>\n\n<p>I use a composable strategy pattern to do this synchronization.  The main program basically chooses a master strategy depending on the day of the week (sync changes only/sync all) and the time of semester relative to the academic calendar. If the billing cycle is ending, then it also composes it with a billing strategy.  It then runs the chosen strategy via a standard interface.</p>\n\n<p>I don't know how common this is, but I felt like it was a perfect fit for the strategy pattern.</p>\n"},{"tags":[],"owner":{"account_id":13117,"reputation":66352,"user_id":26160,"accept_rate":93,"display_name":"JoshBerke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1229399859,"creation_date":1229399859,"answer_id":370419,"question_id":370258,"body_markdown":"I used the strategy approach in a fairly complex engine in an application that is a good example. Essentially the engine&#39;s role was to go and first find a list of people who had a widget, it&#39;s second role was to figure out which were the 10 best people with a widget based on an unknown number of parameters (things like price distance previous business together, ammount on stock, shipping options etc etc etc...)\r\n\r\nEssentially what we did was we broke the problem into two strategies the first being data retrieval, as we knew that we had multiple sources of our widgets and we needed to be able to get the data and transform it to a common structure.\r\n\r\nWe then also realized that we had multiple algorithims some were based on weighting the parameters, others were very weird and propitery and I couldn&#39;t do them justice without pulling out visios and charts and well you get the picture, we had lots of algorithims for selecting the best people. \r\n\r\nOur service itself was very thing it essentially defined the inputs, outputs and did some normalization of the data, it also used a provider pattern to plug-in the application specific data providers and algorithim providers which used the strategy. This was a fairly effective system.\r\n\r\nWe had some debates if we were using a strategy or a template pattern which we never resolved.","title":"Real World Example of the Strategy Pattern","body":"<p>I used the strategy approach in a fairly complex engine in an application that is a good example. Essentially the engine's role was to go and first find a list of people who had a widget, it's second role was to figure out which were the 10 best people with a widget based on an unknown number of parameters (things like price distance previous business together, ammount on stock, shipping options etc etc etc...)</p>\n\n<p>Essentially what we did was we broke the problem into two strategies the first being data retrieval, as we knew that we had multiple sources of our widgets and we needed to be able to get the data and transform it to a common structure.</p>\n\n<p>We then also realized that we had multiple algorithims some were based on weighting the parameters, others were very weird and propitery and I couldn't do them justice without pulling out visios and charts and well you get the picture, we had lots of algorithims for selecting the best people. </p>\n\n<p>Our service itself was very thing it essentially defined the inputs, outputs and did some normalization of the data, it also used a provider pattern to plug-in the application specific data providers and algorithim providers which used the strategy. This was a fairly effective system.</p>\n\n<p>We had some debates if we were using a strategy or a template pattern which we never resolved.</p>\n"},{"tags":[],"owner":{"account_id":9336,"reputation":7066,"user_id":17205,"accept_rate":64,"display_name":"Alan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1229403986,"creation_date":1229403986,"answer_id":370502,"question_id":370258,"body_markdown":"A few weeks ago, I added a common Java interface which was implemented by one of our domain objects. This domain object was loaded from the database, and the database representation was a star schema with about 10+ branches. One of the consequences of having such a heavy weight domain object is that we&#39;ve had to make other domain objects that represented the same schema, albeit less heavyweight. So I made the other lightweight objects implement the same interface.  Put otherwise we had:\r\n\r\n    public interface CollectibleElephant { \r\n        long getId();\r\n        String getName();\r\n        long getTagId();\r\n    }\r\n\r\n    public class Elephant implements CollectibleElephant { ... }\r\n    public class BabyElephant implements CollectibleElephant { ... }\r\n   \r\nOriginally, I wanted to use `CollectibleElephant` to sort `Elephant`s. Pretty quickly, my teammates glommed onto `CollectibleElephant` to run security checks, filter them as they get sent to the GUI, etc.\r\n\r\n\r\n","title":"Real World Example of the Strategy Pattern","body":"<p>A few weeks ago, I added a common Java interface which was implemented by one of our domain objects. This domain object was loaded from the database, and the database representation was a star schema with about 10+ branches. One of the consequences of having such a heavy weight domain object is that we've had to make other domain objects that represented the same schema, albeit less heavyweight. So I made the other lightweight objects implement the same interface.  Put otherwise we had:</p>\n\n<pre><code>public interface CollectibleElephant { \n    long getId();\n    String getName();\n    long getTagId();\n}\n\npublic class Elephant implements CollectibleElephant { ... }\npublic class BabyElephant implements CollectibleElephant { ... }\n</code></pre>\n\n<p>Originally, I wanted to use <code>CollectibleElephant</code> to sort <code>Elephant</code>s. Pretty quickly, my teammates glommed onto <code>CollectibleElephant</code> to run security checks, filter them as they get sent to the GUI, etc.</p>\n"},{"comments":[{"owner":{"account_id":2050816,"reputation":1689,"user_id":1829881,"accept_rate":51,"display_name":"greg"},"score":0,"creation_date":1644334875,"post_id":471233,"comment_id":125576201,"body_markdown":"The headFirst book is lying open on my desk right now. Very good reference","body":"The headFirst book is lying open on my desk right now. Very good reference"}],"tags":[],"owner":{"account_id":14896,"reputation":602,"user_id":30971,"accept_rate":69,"display_name":"grootjans"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232665655,"creation_date":1232665655,"answer_id":471233,"question_id":370258,"body_markdown":"Are you sure that the status of an &quot;order&quot; is not a State pattern? I have a hunch that an order will not be handled differently depending on its status.\r\n\r\nTake for example the method *Ship* on the Order: \r\n\r\n    order.Ship();\r\n\r\n - If the shipping method varies in\r\n   function of its status, then you&#39;ve\r\n   got a strategy pattern.\r\n - If however\r\n   the *Ship()* method succeeds only\r\n   when the order has been paid, and\r\n   the order has not been shipped yet,\r\n   you&#39;ve got a state pattern.\r\n\r\nThe best example of the state pattern (and other patterns) I found was in the book &quot;[Head First Design Patterns][1]&quot;, which is amazing.\r\nA close second will be [David Cumps&#39; blogging series of patterns][2].\r\n\r\n\r\n  [1]: http://www.amazon.com/First-Design-Patterns-Elisabeth-Freeman/dp/0596007124\r\n  [2]: http://blog.cumps.be/design-patterns-strategy-pattern/","title":"Real World Example of the Strategy Pattern","body":"<p>Are you sure that the status of an \"order\" is not a State pattern? I have a hunch that an order will not be handled differently depending on its status.</p>\n\n<p>Take for example the method <em>Ship</em> on the Order: </p>\n\n<pre><code>order.Ship();\n</code></pre>\n\n<ul>\n<li>If the shipping method varies in\nfunction of its status, then you've\ngot a strategy pattern.</li>\n<li>If however\nthe <em>Ship()</em> method succeeds only\nwhen the order has been paid, and\nthe order has not been shipped yet,\nyou've got a state pattern.</li>\n</ul>\n\n<p>The best example of the state pattern (and other patterns) I found was in the book \"<a href=\"https://rads.stackoverflow.com/amzn/click/com/0596007124\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Head First Design Patterns</a>\", which is amazing.\nA close second will be <a href=\"http://blog.cumps.be/design-patterns-strategy-pattern/\" rel=\"nofollow noreferrer\">David Cumps' blogging series of patterns</a>.</p>\n"},{"tags":[],"owner":{"account_id":19425,"reputation":8888,"user_id":45563,"accept_rate":62,"display_name":"Coxy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233194810,"creation_date":1233194810,"answer_id":490255,"question_id":370258,"body_markdown":"We had to create a third-party provisioning interface for an enterprise platform with a very complicated database. The submission of data to be provisioned was as a list of our data types which were put into a priority queue in our application so they could be written to the database in the correct order due to dependencies.\r\n\r\nThe process to write that data was then quite simple, keep popping off the top of the priority queue and then choose a strategy based on the type of the object that you extract.","title":"Real World Example of the Strategy Pattern","body":"<p>We had to create a third-party provisioning interface for an enterprise platform with a very complicated database. The submission of data to be provisioned was as a list of our data types which were put into a priority queue in our application so they could be written to the database in the correct order due to dependencies.</p>\n\n<p>The process to write that data was then quite simple, keep popping off the top of the priority queue and then choose a strategy based on the type of the object that you extract.</p>\n"},{"tags":[],"owner":{"account_id":1600,"reputation":2324,"user_id":2144,"accept_rate":86,"display_name":"Eric Pohl"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1262984846,"creation_date":1262984846,"answer_id":2030744,"question_id":370258,"body_markdown":"I can think of several fairly simple examples:\r\n\r\n - Sorting a list. The strategy is the comparison used to decide which of two items in the list is &quot;First&quot;\r\n - You might have an application where the sorting algorithm itself (QuickSort, HeapSort, etc.) may be chosen at runtime\r\n - Appenders, Layouts, and Filters in [Log4Net][1] and [Log4j][2]\r\n - [Layout Managers][3] in UI toolkits\r\n - Data compression. You might have an ICompressor interface whose sole method looks something like this:\r\n\r\n    byte[] compress(byte[] input);\r\n\r\n Your concrete compression classes might be things like RunLengthCompression, DeflateCompression, etc.\r\n\r\n \r\n\r\n  [1]: http://logging.apache.org/log4net/release/manual/introduction.html\r\n  [2]: http://logging.apache.org/log4j/1.2/manual.html\r\n  [3]: http://en.wikipedia.org/wiki/Layout_manager","title":"Real World Example of the Strategy Pattern","body":"<p>I can think of several fairly simple examples:</p>\n\n<ul>\n<li>Sorting a list. The strategy is the comparison used to decide which of two items in the list is \"First\"</li>\n<li>You might have an application where the sorting algorithm itself (QuickSort, HeapSort, etc.) may be chosen at runtime</li>\n<li>Appenders, Layouts, and Filters in <a href=\"http://logging.apache.org/log4net/release/manual/introduction.html\" rel=\"noreferrer\">Log4Net</a> and <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"noreferrer\">Log4j</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Layout_manager\" rel=\"noreferrer\">Layout Managers</a> in UI toolkits</li>\n<li><p>Data compression. You might have an ICompressor interface whose sole method looks something like this:</p>\n\n<p>byte[] compress(byte[] input);</p>\n\n<p>Your concrete compression classes might be things like RunLengthCompression, DeflateCompression, etc.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1263226352,"creation_date":1263226352,"answer_id":2043042,"question_id":370258,"body_markdown":"One common usage of the strategy pattern is to define custom sorting strategies (in languages without higher-order functions), e.g. to sort a list of strings by length in Java, passing an anonymous inner class (an implementation of the strategy interface):\r\n\r\n    List&lt;String&gt; names = Arrays.asList(&quot;Anne&quot;, &quot;Joe&quot;, &quot;Harry&quot;);\r\n    Collections.sort(names, new Comparator&lt;String&gt;() {\r\n      public int compare(String o1, String o2) {\r\n        return o1.length() - o2.length();\r\n      }\r\n    });\r\n    Assert.assertEquals(Arrays.asList(&quot;Joe&quot;, &quot;Anne&quot;, &quot;Harry&quot;), names);\r\n\r\nIn a similar manner, strategies can be used for native queries with object databases, e.g. in db4o:\r\n\r\n    List&lt;Document&gt; set = db.query(new Predicate&lt;Document&gt;() {\r\n      public boolean match(Document candidate) {\r\n        return candidate.getSource().contains(source);\r\n      }\r\n    });\r\n\r\n","title":"Real World Example of the Strategy Pattern","body":"<p>One common usage of the strategy pattern is to define custom sorting strategies (in languages without higher-order functions), e.g. to sort a list of strings by length in Java, passing an anonymous inner class (an implementation of the strategy interface):</p>\n\n<pre><code>List&lt;String&gt; names = Arrays.asList(\"Anne\", \"Joe\", \"Harry\");\nCollections.sort(names, new Comparator&lt;String&gt;() {\n  public int compare(String o1, String o2) {\n    return o1.length() - o2.length();\n  }\n});\nAssert.assertEquals(Arrays.asList(\"Joe\", \"Anne\", \"Harry\"), names);\n</code></pre>\n\n<p>In a similar manner, strategies can be used for native queries with object databases, e.g. in db4o:</p>\n\n<pre><code>List&lt;Document&gt; set = db.query(new Predicate&lt;Document&gt;() {\n  public boolean match(Document candidate) {\n    return candidate.getSource().contains(source);\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60463,"reputation":5589,"user_id":180581,"accept_rate":64,"display_name":"Gui Pr&#225;"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1349418355,"creation_date":1349416640,"answer_id":12740332,"question_id":370258,"body_markdown":"I know this is an old question, but I think I have another interesting example that I implemented recently.\r\n\r\nThis is a very practical example of the strategy pattern being used in a document delivery system.\r\n\r\nI had a PDF delivery system which received an archive containing lots of documents and some metadata. Based on the metadata, it decided where to put the document in; say, depending on the data, I could store the document in `A`, `B`, or `C` storage systems, or a mix of the three.\r\n\r\nDifferent customers used this system, and they had different rollback / error handling requirements in case of errors: one wanted the delivery system to stop on the first error, leave all documents already delivered in their storages, but stop the process and not deliver anything else; another one wanted it to rollback from `B` in case of errors when storing in `C`, but leave whatever was already delivered to `A`. It&#39;s easy to imagine that a third or fourth one will also have different needs.\r\n\r\nTo solve the problem, I have created a basic delivery class that contains the delivery logic, plus methods for rolling back stuff from all storages. Those methods are not actually called by the delivery system directly in case of errors. Instead, the class uses Dependency Injection to receive a &quot;Rollback / Error Handling Strategy&quot; class (based on the customer using the system), which is called in case of errors, which in turn calls the rollback methods if it&#39;s appropriate for that strategy.\r\n\r\nThe delivery class itself reports what&#39;s going on to the strategy class (what documents were delivered to what storages, and what failures happened), and whenever an error occurs, it asks the strategy whether to continue or not. If the strategy says &quot;stop it&quot;, the class calls the strategy&#39;s &quot;cleanUp&quot; method, which uses the information previously reported to decide which rollback methods to call from the delivery class, or simply do nothing.\r\n\r\n&lt;!-- language: lang-cpp --&gt;\r\n\r\n    rollbackStrategy.reportSuccessA(...);\r\n    rollbackStrategy.reportFailureB(...);\r\n\r\n    if (rollbackStrategy.mustAbort()) {\r\n        rollbackStrategy.rollback(); // rollback whatever is needed based on reports\r\n        return false;\r\n    }\r\n\r\nSo I now have two different strategies: one is the `QuitterStrategy` (which quits on the first error and cleans up nothing) and the other one is the `MaximizeDeliveryToAStrategy` (which tries as much as possible not to abort the process and never rollback stuff delivered to storage `A`, but rollbacks stuff from `B` if delivery to `C` fails).\r\n\r\nFrom my understanding, this is one example of the strategy pattern. If you (yes, you reading) think I&#39;m wrong, please comment below and let me know. I&#39;m curious as to what would constitute a &quot;pure&quot; use of the strategy pattern, and what aspects of my implementation violate the definition. I think it looks a bit funny because the strategy interface is a bit fat. All examples I&#39;ve seen so far use only one method, but I still think this encapsulates an algorithm (if a piece of business logic can be considered an algorithm, which I think it does).\r\n\r\nSince the strategy is also notified about events during the delivery execution, it can also be considered an [Observer][1], but that&#39;s another story.\r\n\r\nFrom doing a little research, it seems like this is a &quot;composite pattern&quot; (like MVC, a pattern that uses multiple design patterns underneath in a particular way) called the [Advisor][2]. It&#39;s an advisor on whether the delivery should continue or not, but it&#39;s also an active error handler since it can rollback stuff when asked to.\r\n\r\nAnyways, this is a quite complex example that might make that feeling of yours that usages of the strategy pattern are all too simple / silly. It can be really complex and even more applicable when used together with other patterns.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Observer_pattern\r\n  [2]: http://onjava.com/pub/a/onjava/2003/09/17/patterns.html","title":"Real World Example of the Strategy Pattern","body":"<p>I know this is an old question, but I think I have another interesting example that I implemented recently.</p>\n\n<p>This is a very practical example of the strategy pattern being used in a document delivery system.</p>\n\n<p>I had a PDF delivery system which received an archive containing lots of documents and some metadata. Based on the metadata, it decided where to put the document in; say, depending on the data, I could store the document in <code>A</code>, <code>B</code>, or <code>C</code> storage systems, or a mix of the three.</p>\n\n<p>Different customers used this system, and they had different rollback / error handling requirements in case of errors: one wanted the delivery system to stop on the first error, leave all documents already delivered in their storages, but stop the process and not deliver anything else; another one wanted it to rollback from <code>B</code> in case of errors when storing in <code>C</code>, but leave whatever was already delivered to <code>A</code>. It's easy to imagine that a third or fourth one will also have different needs.</p>\n\n<p>To solve the problem, I have created a basic delivery class that contains the delivery logic, plus methods for rolling back stuff from all storages. Those methods are not actually called by the delivery system directly in case of errors. Instead, the class uses Dependency Injection to receive a \"Rollback / Error Handling Strategy\" class (based on the customer using the system), which is called in case of errors, which in turn calls the rollback methods if it's appropriate for that strategy.</p>\n\n<p>The delivery class itself reports what's going on to the strategy class (what documents were delivered to what storages, and what failures happened), and whenever an error occurs, it asks the strategy whether to continue or not. If the strategy says \"stop it\", the class calls the strategy's \"cleanUp\" method, which uses the information previously reported to decide which rollback methods to call from the delivery class, or simply do nothing.</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>rollbackStrategy.reportSuccessA(...);\nrollbackStrategy.reportFailureB(...);\n\nif (rollbackStrategy.mustAbort()) {\n    rollbackStrategy.rollback(); // rollback whatever is needed based on reports\n    return false;\n}\n</code></pre>\n\n<p>So I now have two different strategies: one is the <code>QuitterStrategy</code> (which quits on the first error and cleans up nothing) and the other one is the <code>MaximizeDeliveryToAStrategy</code> (which tries as much as possible not to abort the process and never rollback stuff delivered to storage <code>A</code>, but rollbacks stuff from <code>B</code> if delivery to <code>C</code> fails).</p>\n\n<p>From my understanding, this is one example of the strategy pattern. If you (yes, you reading) think I'm wrong, please comment below and let me know. I'm curious as to what would constitute a \"pure\" use of the strategy pattern, and what aspects of my implementation violate the definition. I think it looks a bit funny because the strategy interface is a bit fat. All examples I've seen so far use only one method, but I still think this encapsulates an algorithm (if a piece of business logic can be considered an algorithm, which I think it does).</p>\n\n<p>Since the strategy is also notified about events during the delivery execution, it can also be considered an <a href=\"http://en.wikipedia.org/wiki/Observer_pattern\" rel=\"noreferrer\">Observer</a>, but that's another story.</p>\n\n<p>From doing a little research, it seems like this is a \"composite pattern\" (like MVC, a pattern that uses multiple design patterns underneath in a particular way) called the <a href=\"http://onjava.com/pub/a/onjava/2003/09/17/patterns.html\" rel=\"noreferrer\">Advisor</a>. It's an advisor on whether the delivery should continue or not, but it's also an active error handler since it can rollback stuff when asked to.</p>\n\n<p>Anyways, this is a quite complex example that might make that feeling of yours that usages of the strategy pattern are all too simple / silly. It can be really complex and even more applicable when used together with other patterns.</p>\n"},{"comments":[{"owner":{"account_id":21577,"reputation":34905,"user_id":52551,"accept_rate":89,"display_name":"Spencer Ruport"},"score":1,"creation_date":1551625697,"post_id":21165199,"comment_id":96699978,"body_markdown":"I know this is a bit out of scope of the question but what comes next? We have this `InternRule` now but how are we triggering `OvertimeRule`? How do we ensure that whatever logic called `OvertimeRule.IsApproved` now also calls `InternRule.IsApproved`?","body":"I know this is a bit out of scope of the question but what comes next? We have this <code>InternRule</code> now but how are we triggering <code>OvertimeRule</code>? How do we ensure that whatever logic called <code>OvertimeRule.IsApproved</code> now also calls <code>InternRule.IsApproved</code>?"},{"owner":{"account_id":2100640,"reputation":588,"user_id":1868371,"accept_rate":100,"display_name":"Gerardo Cauich"},"score":0,"creation_date":1651684100,"post_id":21165199,"comment_id":127423519,"body_markdown":"@SpencerRuport I&#39;m assuming that it would iterate through each strategy (concrete IRule) in the context class, so the assignment will be approved if all strategies returned `true`. This could be as complex as you need, e.g. applying a specific rule (not all) for a certain type of assignment.","body":"@SpencerRuport I&#39;m assuming that it would iterate through each strategy (concrete IRule) in the context class, so the assignment will be approved if all strategies returned <code>true</code>. This could be as complex as you need, e.g. applying a specific rule (not all) for a certain type of assignment."},{"owner":{"account_id":12351880,"reputation":1032,"user_id":9138440,"display_name":"AMunim"},"score":0,"creation_date":1688552481,"post_id":21165199,"comment_id":135087520,"body_markdown":"But it still would violate the `Open-Close Principle`, I mean you would have to add the newly created class to where the rules are verified, just a fancy way to abstract away some piece of code to another file.","body":"But it still would violate the <code>Open-Close Principle</code>, I mean you would have to add the newly created class to where the rules are verified, just a fancy way to abstract away some piece of code to another file."}],"tags":[],"owner":{"account_id":1668294,"reputation":1889,"user_id":1535282,"display_name":"C&#233;ryl Wiltink"},"comment_count":3,"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1531434400,"creation_date":1389884229,"answer_id":21165199,"question_id":370258,"body_markdown":"Again, an old post but still turns up on searches so I&#39;ll add two more examples (Code is in C#). I absolutely love the Strategy pattern since it has saved my butt a lot of times when the project managers say: &quot;We want the application to do &#39;X&#39;, but &#39;X&#39; is not yet clear and it can change in the near future.&quot;\r\nThis [video explaining the strategy pattern][1], uses StarCraft as an example.\r\n\r\n\r\nStuff that falls in this category:\r\n\r\n- Sorting: We want to sort these numbers, but we don&#39;t know if we are gonna use BrickSort, BubbleSort or some other sorting\r\n\r\n- Validation: We need to check items according to &quot;Some rule&quot;, but it&#39;s not yet clear what that rule will be, and we may think of new ones.\r\n\r\n- Games: We want player to either walk or run when he moves, but maybe in the future, he should also be able to swim, fly, teleport, burrow underground, etc.\r\n\r\n- Storing information: We want the application to store information to the Database, but later it may need to be able to save a file, or make a webcall\r\n\r\n- Outputting: We need to output X as a plain string, but later may be a CSV, XML, JSON, etc.\r\n\r\n\r\n----------\r\n\r\n**Examples**\r\n\r\nI have a project where the users can assign products to people in a database. This assignment of a product to a person has a status which is either &quot;Approved&quot; or &quot;Declined&quot;, which is dependent on some business rules. For example: if a user assigns a product to a person with a certain age, it&#39;s status should be declined; If the difference between two fields in the item is larger than 50, it&#39;s status is declined, etc.\r\n\r\nNow, at the moment of development these business rules are not yet all completely clear, and new rules could come up at any time. The power of the stragety-pattern is that I made a RuleAgent, which is given a list of IRules. \r\n\r\n    public interface IRule {\r\n        bool IsApproved(Assignment assignment); \r\n     }\r\n\r\nAt the moment of assigning a product to a person, I create a RuleAgent, give it a list of rules (which all implement IRule), and ask it to validate an assignment. It&#39;ll run through all it&#39;s rules. Which, because they all implement the same interface, all have the `IsApproved` method and return false if any of them returns false.\r\n\r\nNow when for instance the manager suddenly comes up and says, we also need to decline all assignments to interns, or all assignments to people working overtime... You make new classes like this:\r\n\r\n    public OvertimeRule : IRule\r\n    {\r\n        public bool IsApproved(Assignment assignment) //Interface method\r\n        {\r\n            if (assignment.Person.Timesheet &gt;= 40)\r\n            {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public InternRule : IRule\r\n    {\r\n        public bool IsApproved(Assignment assignment) //Interface method\r\n        {\r\n            if (assignment.Person.Title == &quot;Intern&quot;)\r\n            {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\nYou see that you don&#39;t have to keep adding or removing if-statements or code, just make a new rule-class that implements the IRUle interface and switch those out when needed. \r\n\r\n\r\n----------\r\n\r\n\r\nAnother great example: Scott Allen&#39;s video series at [http://www.asp.net/mvc/pluralsight][2] where he uses the strategy pattern in  the Unit-test part of the application\r\n\r\nHe builds a website which has a page that displays items based on popularity. However &quot;Popular&quot; can be many things (most views, most subscribers, creation date, most activity, least amount of comments, etc), and in case management doesn&#39;t yet know exactly how to order, and may want to experiment with different orderings at a later date. You make an interface (IOrderAlgorithm or something) with an order method, and let an Orderer-object delegate the ordering to a concrete implementation of the IOrderAlgorithm interface. You can make a &quot;CommentOrderer&quot;, &quot;ActivityOrderer&quot;, etc... And just switch these out when new requirements come up.\r\n\r\n\r\n  [1]: http://www.youtube.com/watch?v=MOEsKHqLiBM\r\n  [2]: http://www.asp.net/mvc/pluralsight","title":"Real World Example of the Strategy Pattern","body":"<p>Again, an old post but still turns up on searches so I'll add two more examples (Code is in C#). I absolutely love the Strategy pattern since it has saved my butt a lot of times when the project managers say: \"We want the application to do 'X', but 'X' is not yet clear and it can change in the near future.\"\nThis <a href=\"http://www.youtube.com/watch?v=MOEsKHqLiBM\" rel=\"noreferrer\">video explaining the strategy pattern</a>, uses StarCraft as an example.</p>\n\n<p>Stuff that falls in this category:</p>\n\n<ul>\n<li><p>Sorting: We want to sort these numbers, but we don't know if we are gonna use BrickSort, BubbleSort or some other sorting</p></li>\n<li><p>Validation: We need to check items according to \"Some rule\", but it's not yet clear what that rule will be, and we may think of new ones.</p></li>\n<li><p>Games: We want player to either walk or run when he moves, but maybe in the future, he should also be able to swim, fly, teleport, burrow underground, etc.</p></li>\n<li><p>Storing information: We want the application to store information to the Database, but later it may need to be able to save a file, or make a webcall</p></li>\n<li><p>Outputting: We need to output X as a plain string, but later may be a CSV, XML, JSON, etc.</p></li>\n</ul>\n\n<hr>\n\n<p><strong>Examples</strong></p>\n\n<p>I have a project where the users can assign products to people in a database. This assignment of a product to a person has a status which is either \"Approved\" or \"Declined\", which is dependent on some business rules. For example: if a user assigns a product to a person with a certain age, it's status should be declined; If the difference between two fields in the item is larger than 50, it's status is declined, etc.</p>\n\n<p>Now, at the moment of development these business rules are not yet all completely clear, and new rules could come up at any time. The power of the stragety-pattern is that I made a RuleAgent, which is given a list of IRules. </p>\n\n<pre><code>public interface IRule {\n    bool IsApproved(Assignment assignment); \n }\n</code></pre>\n\n<p>At the moment of assigning a product to a person, I create a RuleAgent, give it a list of rules (which all implement IRule), and ask it to validate an assignment. It'll run through all it's rules. Which, because they all implement the same interface, all have the <code>IsApproved</code> method and return false if any of them returns false.</p>\n\n<p>Now when for instance the manager suddenly comes up and says, we also need to decline all assignments to interns, or all assignments to people working overtime... You make new classes like this:</p>\n\n<pre><code>public OvertimeRule : IRule\n{\n    public bool IsApproved(Assignment assignment) //Interface method\n    {\n        if (assignment.Person.Timesheet &gt;= 40)\n        {\n            return false;\n        }\n        return true;\n    }\n}\n\npublic InternRule : IRule\n{\n    public bool IsApproved(Assignment assignment) //Interface method\n    {\n        if (assignment.Person.Title == \"Intern\")\n        {\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p>You see that you don't have to keep adding or removing if-statements or code, just make a new rule-class that implements the IRUle interface and switch those out when needed. </p>\n\n<hr>\n\n<p>Another great example: Scott Allen's video series at <a href=\"http://www.asp.net/mvc/pluralsight\" rel=\"noreferrer\">http://www.asp.net/mvc/pluralsight</a> where he uses the strategy pattern in  the Unit-test part of the application</p>\n\n<p>He builds a website which has a page that displays items based on popularity. However \"Popular\" can be many things (most views, most subscribers, creation date, most activity, least amount of comments, etc), and in case management doesn't yet know exactly how to order, and may want to experiment with different orderings at a later date. You make an interface (IOrderAlgorithm or something) with an order method, and let an Orderer-object delegate the ordering to a concrete implementation of the IOrderAlgorithm interface. You can make a \"CommentOrderer\", \"ActivityOrderer\", etc... And just switch these out when new requirements come up.</p>\n"},{"tags":[],"owner":{"account_id":1125350,"reputation":2249,"user_id":1112765,"accept_rate":100,"display_name":"anomal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390073228,"creation_date":1390073228,"answer_id":21208803,"question_id":370258,"body_markdown":"Let&#39;s say you want to write an algorithm to calculate the *nth Xday* of a given month and year, e.g., the second Monday of October 2014. You want to use Android&#39;s Time class `android.text.format.Time` to represent the date, but you also want to write a generic algorithm that can also apply to `java.util.Calendar`.\r\n\r\nThis is what I did.\r\n\r\nIn DatetimeMath.java:\r\n\r\n    public interface DatetimeMath {\t\r\n    \tpublic Object createDatetime(int year, int month, int day);\r\n    \t\r\n    \tpublic int getDayOfWeek(Object datetime);\r\n    \t\r\n    \tpublic void increment(Object datetime);\r\n    }\r\n    \r\nIn TimeMath.java:\r\n\r\n    public class TimeMath implements DatetimeMath {\r\n    \t@Override\r\n    \tpublic Object createDatetime(int year, int month, int day) {\r\n    \t\tTime t = new Time();\r\n    \t\tt.set(day, month, year);\r\n    \t\tt.normalize(false);\r\n    \t\treturn t;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int getDayOfWeek(Object o) {\r\n    \t\tTime t = (Time)o;\r\n    \t\treturn t.weekDay;\r\n    \t}\t\r\n    \t\r\n    \t@Override\r\n    \tpublic void increment(Object o) {\r\n    \t\tTime t = (Time)o;\r\n    \t\tt.set(t.monthDay + 1, t.month, t.year);\r\n    \t\tt.normalize(false);\r\n    \t}\r\n    }\r\n    \r\nIn OrdinalDayOfWeekCalculator.java, the class with the generic algorithm:\r\n\r\n    public class OrdinalDayOfWeekCalculator {\t\r\n    \tprivate DatetimeMath datetimeMath;\r\n    \t\r\n    \tpublic OrdinalDayOfWeekCalculator(DatetimeMath m) {\r\n    \t\tdatetimeMath = m;\r\n    \t}\r\n    \t\r\n    \tpublic Object getDate(int year, int month, int dayOfWeek, int ordinal) {\r\n    \t\tObject datetime = datetimeMath.createDatetime(year, month, 1);\r\n    \t\tif (datetimeMath.getDayOfWeek(datetime) == dayOfWeek) {\r\n    \t\t\treturn datetime;\r\n    \t\t} \r\n    \t\tint xDayCount = 0;\r\n    \t\twhile (xDayCount != ordinal) {\r\n    \t\t\tdatetimeMath.increment(datetime);\r\n    \t\t\tif (datetimeMath.getDayOfWeek(datetime) == dayOfWeek) {\r\n    \t\t\t\txDayCount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn datetime;\r\n    \t}\r\n    }\r\n\r\nIn my Android app, I would call something like\r\n\r\n    OrdinalDayOfWeekCalculator odowc = \r\n\t\t\tnew OrdinalDayOfWeekCalculator(new TimeMath());\r\n    Time canadianThanksgiving = (Time)odowc.getDate(\r\n\t\t\tyear, Calendar.OCTOBER, Time.MONDAY, 2);\r\n\r\nIf I want to reuse the same algorithm for `java.util.Calendar`, I would just write a class CalendarMath that implements the three methods in DatetimeMath and then use \r\n\r\n    OrdinalDayOfWeekCalculator odowc2 = \r\n\t\t\tnew OrdinalDayOfWeekCalculator(new CalendarMath());\r\n    Calendar canadianThanksgivingCal = (Calendar)odowc2.getDate(\r\n\t\t\tyear, Calendar.OCTOBER, Calendar.MONDAY, 2);","title":"Real World Example of the Strategy Pattern","body":"<p>Let's say you want to write an algorithm to calculate the <em>nth Xday</em> of a given month and year, e.g., the second Monday of October 2014. You want to use Android's Time class <code>android.text.format.Time</code> to represent the date, but you also want to write a generic algorithm that can also apply to <code>java.util.Calendar</code>.</p>\n\n<p>This is what I did.</p>\n\n<p>In DatetimeMath.java:</p>\n\n<pre><code>public interface DatetimeMath { \n    public Object createDatetime(int year, int month, int day);\n\n    public int getDayOfWeek(Object datetime);\n\n    public void increment(Object datetime);\n}\n</code></pre>\n\n<p>In TimeMath.java:</p>\n\n<pre><code>public class TimeMath implements DatetimeMath {\n    @Override\n    public Object createDatetime(int year, int month, int day) {\n        Time t = new Time();\n        t.set(day, month, year);\n        t.normalize(false);\n        return t;\n    }\n\n    @Override\n    public int getDayOfWeek(Object o) {\n        Time t = (Time)o;\n        return t.weekDay;\n    }   \n\n    @Override\n    public void increment(Object o) {\n        Time t = (Time)o;\n        t.set(t.monthDay + 1, t.month, t.year);\n        t.normalize(false);\n    }\n}\n</code></pre>\n\n<p>In OrdinalDayOfWeekCalculator.java, the class with the generic algorithm:</p>\n\n<pre><code>public class OrdinalDayOfWeekCalculator {   \n    private DatetimeMath datetimeMath;\n\n    public OrdinalDayOfWeekCalculator(DatetimeMath m) {\n        datetimeMath = m;\n    }\n\n    public Object getDate(int year, int month, int dayOfWeek, int ordinal) {\n        Object datetime = datetimeMath.createDatetime(year, month, 1);\n        if (datetimeMath.getDayOfWeek(datetime) == dayOfWeek) {\n            return datetime;\n        } \n        int xDayCount = 0;\n        while (xDayCount != ordinal) {\n            datetimeMath.increment(datetime);\n            if (datetimeMath.getDayOfWeek(datetime) == dayOfWeek) {\n                xDayCount++;\n            }\n        }\n        return datetime;\n    }\n}\n</code></pre>\n\n<p>In my Android app, I would call something like</p>\n\n<pre><code>OrdinalDayOfWeekCalculator odowc = \n        new OrdinalDayOfWeekCalculator(new TimeMath());\nTime canadianThanksgiving = (Time)odowc.getDate(\n        year, Calendar.OCTOBER, Time.MONDAY, 2);\n</code></pre>\n\n<p>If I want to reuse the same algorithm for <code>java.util.Calendar</code>, I would just write a class CalendarMath that implements the three methods in DatetimeMath and then use </p>\n\n<pre><code>OrdinalDayOfWeekCalculator odowc2 = \n        new OrdinalDayOfWeekCalculator(new CalendarMath());\nCalendar canadianThanksgivingCal = (Calendar)odowc2.getDate(\n        year, Calendar.OCTOBER, Calendar.MONDAY, 2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4676792,"reputation":129,"user_id":3786841,"display_name":"Jeancarlo Fontalvo"},"score":1,"creation_date":1478987952,"post_id":27967783,"comment_id":68372797,"body_markdown":"I thought that the accepted answer was supposed to talk about this example :)","body":"I thought that the accepted answer was supposed to talk about this example :)"}],"tags":[],"owner":{"account_id":1206736,"reputation":297,"user_id":1176180,"display_name":"Sandipan Karmakar"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1421338100,"creation_date":1421338100,"answer_id":27967783,"question_id":370258,"body_markdown":"A good example of strategy pattern would be in a game where we can have different characters and each character can have multiple weapons to attack but at a time can use only one weapon. So we have the character as the context, for example King, Commander, Knight ,Soldier\r\n and weapon as a strategy where attack() could be the method/algorithm which depends on the weapons being used. So if the concrete weapon classes were Sword, Axe, Crossbow, BowAndArrow etc .. they would all implement the attack() method. I am sure further explanation is not needed.","title":"Real World Example of the Strategy Pattern","body":"<p>A good example of strategy pattern would be in a game where we can have different characters and each character can have multiple weapons to attack but at a time can use only one weapon. So we have the character as the context, for example King, Commander, Knight ,Soldier\n and weapon as a strategy where attack() could be the method/algorithm which depends on the weapons being used. So if the concrete weapon classes were Sword, Axe, Crossbow, BowAndArrow etc .. they would all implement the attack() method. I am sure further explanation is not needed.</p>\n"},{"comments":[{"owner":{"account_id":6543898,"reputation":719,"user_id":5060478,"display_name":"Jatinder Pal"},"score":0,"creation_date":1436360538,"post_id":31291537,"comment_id":50577755,"body_markdown":"Different uses of strategy pattern : Validations: When there are lots of validations need to be done in your code. \nDifferent Algorithms: Specially when different sorting algorithms can be used, e.g bubble sort or quick sort.   \nStoring Information: When we might information at differnt places, e.g database or file system.   \nParsing: while parsing we can use different strategy for different inputs.  \nFiltering Strategies.   \nLayout Strategies.","body":"Different uses of strategy pattern : Validations: When there are lots of validations need to be done in your code.  Different Algorithms: Specially when different sorting algorithms can be used, e.g bubble sort or quick sort.    Storing Information: When we might information at differnt places, e.g database or file system.    Parsing: while parsing we can use different strategy for different inputs.   Filtering Strategies.    Layout Strategies."}],"tags":[],"owner":{"account_id":6543898,"reputation":719,"user_id":5060478,"display_name":"Jatinder Pal"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1436355503,"creation_date":1436355503,"answer_id":31291537,"question_id":370258,"body_markdown":"Strategy pattern is most commonly used pattern specially for validations and sorting algorithms. \r\n\r\nLet me explain with a simple practical example \r\n    \r\n    enum Speed {\r\n      SLOW, MEDIUM, FAST;\r\n    }\r\n \r\n    class Sorter {\r\n     public void sort(int[] input, Speed speed) {\r\n        SortStrategy strategy = null;\r\n        switch (speed) {\r\n        case SLOW:\r\n            strategy = new SlowBubbleSortStrategy();\r\n            break;\r\n        case MEDIUM:\r\n            strategy = new MediumInsertationSortStrategy();\r\n            break;\r\n \r\n        case FAST:\r\n            strategy = new FastQuickSortStrategy();\r\n            break;\r\n        default:\r\n            strategy = new MediumInsertationSortStrategy();\r\n        }\r\n        strategy.sort(input);\r\n     }\r\n \r\n    }\r\n \r\n    interface SortStrategy {\r\n \r\n        public void sort(int[] input);\r\n    }\r\n \r\n    class SlowBubbleSortStrategy implements SortStrategy {\r\n \r\n       public void sort(int[] input) {\r\n        for (int i = 0; i &lt; input.length; i++) {\r\n            for (int j = i + 1; j &lt; input.length; j++) {\r\n                if (input[i] &gt; input[j]) {\r\n                    int tmp = input[i];\r\n                    input[i] = input[j];\r\n                    input[j] = tmp;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;Slow sorting is done and the result is :&quot;);\r\n        for (int i : input) {\r\n            System.out.print(i + &quot;,&quot;);\r\n        }\r\n      }\r\n \r\n     }\r\n \r\n    class MediumInsertationSortStrategy implements SortStrategy {\r\n \r\n    public void sort(int[] input) {\r\n        for (int i = 0; i &lt; input.length - 1; i++) {\r\n            int k = i + 1;\r\n            int nxtVal = input[k];\r\n            while (input[k - 1] &gt; nxtVal) {\r\n                input[k] = input[k - 1];\r\n                k--;\r\n                if (k == 0)\r\n                    break;\r\n            }\r\n            input[k] = nxtVal;\r\n        }\r\n        System.out.println(&quot;Medium sorting is done and the result is :&quot;);\r\n        for (int i : input) {\r\n            System.out.print(i + &quot;,&quot;);\r\n        }\r\n \r\n     }\r\n \r\n    }\r\n \r\n    class FastQuickSortStrategy implements SortStrategy {\r\n \r\n    public void sort(int[] input) {\r\n        sort(input, 0, input.length-1);\r\n        System.out.println(&quot;Fast sorting is done and the result is :&quot;);\r\n        for (int i : input) {\r\n            System.out.print(i + &quot;,&quot;);\r\n        }\r\n    }\r\n \r\n    private void sort(int[] input, int startIndx, int endIndx) {\r\n        int endIndexOrig = endIndx;\r\n        int startIndexOrig = startIndx;\r\n        if( startIndx &gt;= endIndx)\r\n            return;\r\n        int pavitVal = input[endIndx];\r\n        while (startIndx &lt;= endIndx) {\r\n            while (input[startIndx] &lt; pavitVal)\r\n                startIndx++;\r\n            while (input[endIndx] &gt; pavitVal)\r\n                endIndx--;\r\n            if( startIndx &lt;= endIndx){\r\n                int tmp = input[startIndx];\r\n                input[startIndx] = input[endIndx];\r\n                input[endIndx] = tmp;\r\n                startIndx++;\r\n                endIndx--;\r\n            }\r\n        }\r\n        sort(input, startIndexOrig, endIndx);\r\n        sort(input, startIndx, endIndexOrig);\r\n     }\r\n \r\n    }  \r\n\r\nThe test code for this is\r\n\r\n    public class StrategyPattern {\r\n\t  public static void main(String[] args) {\r\n\t\tSorter sorter = new Sorter();\r\n\t\tint[] input = new int[] {7,1,23,22,22,11,0,21,1,2,334,45,6,11,2};\r\n\t\tSystem.out.print(&quot;Input is : &quot;);\r\n\t\tfor (int i : input) {\r\n\t\t\tSystem.out.print(i + &quot;,&quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\tsorter.sort(input, Speed.SLOW);\r\n\t }\r\n\r\n    }\r\n\r\nSame example is taken from http://coder2design.com/strategy-pattern/\r\n","title":"Real World Example of the Strategy Pattern","body":"<p>Strategy pattern is most commonly used pattern specially for validations and sorting algorithms. </p>\n\n<p>Let me explain with a simple practical example </p>\n\n<pre><code>enum Speed {\n  SLOW, MEDIUM, FAST;\n}\n\nclass Sorter {\n public void sort(int[] input, Speed speed) {\n    SortStrategy strategy = null;\n    switch (speed) {\n    case SLOW:\n        strategy = new SlowBubbleSortStrategy();\n        break;\n    case MEDIUM:\n        strategy = new MediumInsertationSortStrategy();\n        break;\n\n    case FAST:\n        strategy = new FastQuickSortStrategy();\n        break;\n    default:\n        strategy = new MediumInsertationSortStrategy();\n    }\n    strategy.sort(input);\n }\n\n}\n\ninterface SortStrategy {\n\n    public void sort(int[] input);\n}\n\nclass SlowBubbleSortStrategy implements SortStrategy {\n\n   public void sort(int[] input) {\n    for (int i = 0; i &lt; input.length; i++) {\n        for (int j = i + 1; j &lt; input.length; j++) {\n            if (input[i] &gt; input[j]) {\n                int tmp = input[i];\n                input[i] = input[j];\n                input[j] = tmp;\n            }\n        }\n    }\n    System.out.println(\"Slow sorting is done and the result is :\");\n    for (int i : input) {\n        System.out.print(i + \",\");\n    }\n  }\n\n }\n\nclass MediumInsertationSortStrategy implements SortStrategy {\n\npublic void sort(int[] input) {\n    for (int i = 0; i &lt; input.length - 1; i++) {\n        int k = i + 1;\n        int nxtVal = input[k];\n        while (input[k - 1] &gt; nxtVal) {\n            input[k] = input[k - 1];\n            k--;\n            if (k == 0)\n                break;\n        }\n        input[k] = nxtVal;\n    }\n    System.out.println(\"Medium sorting is done and the result is :\");\n    for (int i : input) {\n        System.out.print(i + \",\");\n    }\n\n }\n\n}\n\nclass FastQuickSortStrategy implements SortStrategy {\n\npublic void sort(int[] input) {\n    sort(input, 0, input.length-1);\n    System.out.println(\"Fast sorting is done and the result is :\");\n    for (int i : input) {\n        System.out.print(i + \",\");\n    }\n}\n\nprivate void sort(int[] input, int startIndx, int endIndx) {\n    int endIndexOrig = endIndx;\n    int startIndexOrig = startIndx;\n    if( startIndx &gt;= endIndx)\n        return;\n    int pavitVal = input[endIndx];\n    while (startIndx &lt;= endIndx) {\n        while (input[startIndx] &lt; pavitVal)\n            startIndx++;\n        while (input[endIndx] &gt; pavitVal)\n            endIndx--;\n        if( startIndx &lt;= endIndx){\n            int tmp = input[startIndx];\n            input[startIndx] = input[endIndx];\n            input[endIndx] = tmp;\n            startIndx++;\n            endIndx--;\n        }\n    }\n    sort(input, startIndexOrig, endIndx);\n    sort(input, startIndx, endIndexOrig);\n }\n\n}  \n</code></pre>\n\n<p>The test code for this is</p>\n\n<pre><code>public class StrategyPattern {\n  public static void main(String[] args) {\n    Sorter sorter = new Sorter();\n    int[] input = new int[] {7,1,23,22,22,11,0,21,1,2,334,45,6,11,2};\n    System.out.print(\"Input is : \");\n    for (int i : input) {\n        System.out.print(i + \",\");\n    }\n    System.out.println();\n    sorter.sort(input, Speed.SLOW);\n }\n\n}\n</code></pre>\n\n<p>Same example is taken from <a href=\"http://coder2design.com/strategy-pattern/\" rel=\"noreferrer\">http://coder2design.com/strategy-pattern/</a></p>\n"},{"comments":[{"owner":{"account_id":2033353,"reputation":168,"user_id":1816384,"accept_rate":100,"display_name":"Arnab Dutta"},"score":0,"creation_date":1599145556,"post_id":35180265,"comment_id":112689391,"body_markdown":"thanks....makes perefct sense....agreed applyStrategy() is a monster to achieve a lot of black magic. Also the non-static way of holding strategies in strategyContext is top-notch","body":"thanks....makes perefct sense....agreed applyStrategy() is a monster to achieve a lot of black magic. Also the non-static way of holding strategies in strategyContext is top-notch"},{"owner":{"account_id":4929951,"reputation":255,"user_id":3970061,"display_name":"rahul sharma"},"score":1,"creation_date":1616287968,"post_id":35180265,"comment_id":117954910,"body_markdown":"why cant we pass price as input to apply applyStrategy ?else we need to create newObject for each price?Why so? Just set the price and execute strategy","body":"why cant we pass price as input to apply applyStrategy ?else we need to create newObject for each price?Why so? Just set the price and execute strategy"}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1681722308,"creation_date":1454511150,"answer_id":35180265,"question_id":370258,"body_markdown":"**Key notes:**\r\n\r\n ***Strategy*** is behavioral design pattern. It is used to switch between family of algorithms. \r\n\r\n\r\nOne real word example : *Airlines offering discounts during some  months (July-December)*. You can have one *Fare* module, which decides pricing options depending on month number. \r\n\r\nHave a look at a simple example. This example can be extended to on-line retailing applications, which provides discount to shopping cart items on special days/happy hours easily. \r\n\r\n\r\n```java\r\nimport java.util.*;\r\n\r\n/* Interface for Strategy */\r\ninterface OfferStrategy {\r\n    public String getName();\r\n    public double getDiscountPercentage();\r\n}\r\n\r\n/* Concrete implementation of base Strategy */\r\nclass NoDiscountStrategy implements OfferStrategy {\r\n    public String getName() { \r\n        return this.getClass().getName();\r\n    }\r\n    public double getDiscountPercentage() {\r\n        return 0;\r\n    }\r\n}\r\n\r\n/* Concrete implementation of base Strategy */\r\nclass QuarterDiscountStrategy implements OfferStrategy {\r\n    public String getName() {\r\n        return this.getClass().getName();\r\n    }\r\n    public double getDiscountPercentage() {\r\n        return 0.25;\r\n    }\r\n}\r\n\r\n/* Context , which is optional can be single interface for client. */\r\nclass StrategyContext {\r\n\r\n    double price; // price for some item or air ticket etc.\r\n    Map&lt;String, OfferStrategy&gt; strategyContext = new HashMap&lt;String, OfferStrategy&gt;();\r\n\r\n    StrategyContext(double price) {\r\n        this.price = price;\r\n        strategyContext.put(NoDiscountStrategy.class.getName(), new NoDiscountStrategy());\r\n        strategyContext.put(QuarterDiscountStrategy.class.getName(), new QuarterDiscountStrategy());\r\n    }\r\n\r\n    public void applyStrategy(OfferStrategy strategy) {\r\n        /*\r\n        Currently applyStrategy has simple implementation. You can use Context for populating some more information,\r\n        which is required to call a particular operation\r\n        */\r\n        System.out.println(&quot;Price before offer :&quot; + price);\r\n        double finalPrice = price - (price*strategy.getDiscountPercentage());\r\n        System.out.println(&quot;Price after offer:&quot; + finalPrice);\r\n    }\r\n\r\n    public OfferStrategy getStrategy(int monthNo) {\r\n        /*\r\n            In absence of this Context method, client has to import relevant concrete Strategies everywhere.\r\n            Context acts as single point of contact for the Client to get relevant Strategy\r\n        */\r\n        if (monthNo &lt; 6)  {\r\n            return strategyContext.get(NoDiscountStrategy.class.getName());\r\n        }\r\n        else {\r\n            return strategyContext.get(QuarterDiscountStrategy.class.getName());\r\n        }\r\n    }\r\n}\r\n\r\npublic class StrategyDemo {\r\n    public static void main(String args[]) {\r\n        StrategyContext context = new StrategyContext(100);\r\n        System.out.println(&quot;Enter month number between 1 and 12&quot;);\r\n        int month = Integer.parseInt(args[0]);\r\n        System.out.println(&quot;Month =&quot; + month);\r\n        OfferStrategy strategy = context.getStrategy(month);\r\n        context.applyStrategy(strategy);\r\n    }\r\n}\r\n```\r\n\r\noutput:\r\n\r\n    Enter month number between 1 and 12\r\n    Month =1\r\n    Price before offer :100.0\r\n    Price after offer:100.0\r\n    \r\n    Enter month number between 1 and 12\r\n    Month =7\r\n    Price before offer :100.0\r\n    Price after offer:75.0\r\n","title":"Real World Example of the Strategy Pattern","body":"<p><strong>Key notes:</strong></p>\n<p><em><strong>Strategy</strong></em> is behavioral design pattern. It is used to switch between family of algorithms.</p>\n<p>One real word example : <em>Airlines offering discounts during some  months (July-December)</em>. You can have one <em>Fare</em> module, which decides pricing options depending on month number.</p>\n<p>Have a look at a simple example. This example can be extended to on-line retailing applications, which provides discount to shopping cart items on special days/happy hours easily.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\n/* Interface for Strategy */\ninterface OfferStrategy {\n    public String getName();\n    public double getDiscountPercentage();\n}\n\n/* Concrete implementation of base Strategy */\nclass NoDiscountStrategy implements OfferStrategy {\n    public String getName() { \n        return this.getClass().getName();\n    }\n    public double getDiscountPercentage() {\n        return 0;\n    }\n}\n\n/* Concrete implementation of base Strategy */\nclass QuarterDiscountStrategy implements OfferStrategy {\n    public String getName() {\n        return this.getClass().getName();\n    }\n    public double getDiscountPercentage() {\n        return 0.25;\n    }\n}\n\n/* Context , which is optional can be single interface for client. */\nclass StrategyContext {\n\n    double price; // price for some item or air ticket etc.\n    Map&lt;String, OfferStrategy&gt; strategyContext = new HashMap&lt;String, OfferStrategy&gt;();\n\n    StrategyContext(double price) {\n        this.price = price;\n        strategyContext.put(NoDiscountStrategy.class.getName(), new NoDiscountStrategy());\n        strategyContext.put(QuarterDiscountStrategy.class.getName(), new QuarterDiscountStrategy());\n    }\n\n    public void applyStrategy(OfferStrategy strategy) {\n        /*\n        Currently applyStrategy has simple implementation. You can use Context for populating some more information,\n        which is required to call a particular operation\n        */\n        System.out.println(&quot;Price before offer :&quot; + price);\n        double finalPrice = price - (price*strategy.getDiscountPercentage());\n        System.out.println(&quot;Price after offer:&quot; + finalPrice);\n    }\n\n    public OfferStrategy getStrategy(int monthNo) {\n        /*\n            In absence of this Context method, client has to import relevant concrete Strategies everywhere.\n            Context acts as single point of contact for the Client to get relevant Strategy\n        */\n        if (monthNo &lt; 6)  {\n            return strategyContext.get(NoDiscountStrategy.class.getName());\n        }\n        else {\n            return strategyContext.get(QuarterDiscountStrategy.class.getName());\n        }\n    }\n}\n\npublic class StrategyDemo {\n    public static void main(String args[]) {\n        StrategyContext context = new StrategyContext(100);\n        System.out.println(&quot;Enter month number between 1 and 12&quot;);\n        int month = Integer.parseInt(args[0]);\n        System.out.println(&quot;Month =&quot; + month);\n        OfferStrategy strategy = context.getStrategy(month);\n        context.applyStrategy(strategy);\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Enter month number between 1 and 12\nMonth =1\nPrice before offer :100.0\nPrice after offer:100.0\n\nEnter month number between 1 and 12\nMonth =7\nPrice before offer :100.0\nPrice after offer:75.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3106827,"reputation":762,"user_id":2629440,"display_name":"Vivek Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495514286,"creation_date":1495514286,"answer_id":44125911,"question_id":370258,"body_markdown":"    public class StrategyDemo {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tShoppingCart cart = new ShoppingCart();\r\n    \r\n    \t\tItem item1 = new Item(&quot;1234&quot;, 10);\r\n    \t\tItem item2 = new Item(&quot;5678&quot;, 40);\r\n    \r\n    \t\tcart.addItem(item1);\r\n    \t\tcart.addItem(item2);\r\n    \r\n    \t\t// pay by paypal\r\n    \t\tcart.pay(new PaypalStrategy(&quot;myemail@example.com&quot;, &quot;mypwd&quot;));\r\n    \r\n    \t\t// pay by credit card\r\n    \t\tcart.pay(new CreditCardStrategy(&quot;Pankaj Kumar&quot;, &quot;1234567890123456&quot;, &quot;786&quot;, &quot;12/15&quot;));\r\n    \t}\r\n    }\r\n    \r\n    interface PaymentStrategy {\r\n    \tpublic void pay(int amount);\r\n    }\r\n    \r\n    class CreditCardStrategy implements PaymentStrategy {\r\n    \r\n    \tprivate String name;\r\n    \tprivate String cardNumber;\r\n    \tprivate String cvv;\r\n    \tprivate String dateOfExpiry;\r\n    \r\n    \tpublic CreditCardStrategy(String nm, String ccNum, String cvv, String expiryDate) {\r\n    \t\tthis.name = nm;\r\n    \t\tthis.cardNumber = ccNum;\r\n    \t\tthis.cvv = cvv;\r\n    \t\tthis.dateOfExpiry = expiryDate;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void pay(int amount) {\r\n    \t\tSystem.out.println(amount + &quot; paid with credit/debit card&quot;);\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class PaypalStrategy implements PaymentStrategy {\r\n    \r\n    \tprivate String emailId;\r\n    \tprivate String password;\r\n    \r\n    \tpublic PaypalStrategy(String email, String pwd) {\r\n    \t\tthis.emailId = email;\r\n    \t\tthis.password = pwd;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void pay(int amount) {\r\n    \t\tSystem.out.println(amount + &quot; paid using Paypal.&quot;);\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Item {\r\n    \r\n    \tprivate String upcCode;\r\n    \tprivate int price;\r\n    \r\n    \tpublic Item(String upc, int cost) {\r\n    \t\tthis.upcCode = upc;\r\n    \t\tthis.price = cost;\r\n    \t}\r\n    \r\n    \tpublic String getUpcCode() {\r\n    \t\treturn upcCode;\r\n    \t}\r\n    \r\n    \tpublic int getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class ShoppingCart {\r\n    \r\n    \t// List of items\r\n    \tList&lt;Item&gt; items;\r\n    \r\n    \tpublic ShoppingCart() {\r\n    \t\tthis.items = new ArrayList&lt;Item&gt;();\r\n    \t}\r\n    \r\n    \tpublic void addItem(Item item) {\r\n    \t\tthis.items.add(item);\r\n    \t}\r\n    \r\n    \tpublic void removeItem(Item item) {\r\n    \t\tthis.items.remove(item);\r\n    \t}\r\n    \r\n    \tpublic int calculateTotal() {\r\n    \t\tint sum = 0;\r\n    \t\tfor (Item item : items) {\r\n    \t\t\tsum += item.getPrice();\r\n    \t\t}\r\n    \t\treturn sum;\r\n    \t}\r\n    \r\n    \tpublic void pay(PaymentStrategy paymentMethod) {\r\n    \t\tint amount = calculateTotal();\r\n    \t\tpaymentMethod.pay(amount);\r\n    \t}\r\n    }","title":"Real World Example of the Strategy Pattern","body":"<pre><code>public class StrategyDemo {\n    public static void main(String[] args) {\n        ShoppingCart cart = new ShoppingCart();\n\n        Item item1 = new Item(\"1234\", 10);\n        Item item2 = new Item(\"5678\", 40);\n\n        cart.addItem(item1);\n        cart.addItem(item2);\n\n        // pay by paypal\n        cart.pay(new PaypalStrategy(\"myemail@example.com\", \"mypwd\"));\n\n        // pay by credit card\n        cart.pay(new CreditCardStrategy(\"Pankaj Kumar\", \"1234567890123456\", \"786\", \"12/15\"));\n    }\n}\n\ninterface PaymentStrategy {\n    public void pay(int amount);\n}\n\nclass CreditCardStrategy implements PaymentStrategy {\n\n    private String name;\n    private String cardNumber;\n    private String cvv;\n    private String dateOfExpiry;\n\n    public CreditCardStrategy(String nm, String ccNum, String cvv, String expiryDate) {\n        this.name = nm;\n        this.cardNumber = ccNum;\n        this.cvv = cvv;\n        this.dateOfExpiry = expiryDate;\n    }\n\n    @Override\n    public void pay(int amount) {\n        System.out.println(amount + \" paid with credit/debit card\");\n    }\n\n}\n\nclass PaypalStrategy implements PaymentStrategy {\n\n    private String emailId;\n    private String password;\n\n    public PaypalStrategy(String email, String pwd) {\n        this.emailId = email;\n        this.password = pwd;\n    }\n\n    @Override\n    public void pay(int amount) {\n        System.out.println(amount + \" paid using Paypal.\");\n    }\n\n}\n\nclass Item {\n\n    private String upcCode;\n    private int price;\n\n    public Item(String upc, int cost) {\n        this.upcCode = upc;\n        this.price = cost;\n    }\n\n    public String getUpcCode() {\n        return upcCode;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n\n}\n\nclass ShoppingCart {\n\n    // List of items\n    List&lt;Item&gt; items;\n\n    public ShoppingCart() {\n        this.items = new ArrayList&lt;Item&gt;();\n    }\n\n    public void addItem(Item item) {\n        this.items.add(item);\n    }\n\n    public void removeItem(Item item) {\n        this.items.remove(item);\n    }\n\n    public int calculateTotal() {\n        int sum = 0;\n        for (Item item : items) {\n            sum += item.getPrice();\n        }\n        return sum;\n    }\n\n    public void pay(PaymentStrategy paymentMethod) {\n        int amount = calculateTotal();\n        paymentMethod.pay(amount);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147167,"reputation":2559,"user_id":358099,"accept_rate":47,"display_name":"bharanitharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528435836,"creation_date":1528435836,"answer_id":50753926,"question_id":370258,"body_markdown":"From wikipedia \r\n\r\n&gt; In computer programming, the strategy pattern (also known as the policy pattern) is a behavioral software design pattern that enables selecting an algorithm at runtime. Instead of implementing a single algorithm directly, code receives run-time instructions as to which in a family of algorithms to use\r\n\r\nIn Windows Paint application you can see a strategy pattern where you can choose the shape and color independently in a different sections. Here the shape and color are the algorithms which can changed at runtime. \r\n\r\nIf you want to draw a circle with red color, rather than providing an option of &#39;RedCircle&#39; they let you choose the circle and a color of your choice.\r\n\r\n    Shape redCircle = new RedCircle(); // Without stretegy Pattern\r\n    Shaped redCircle = new Shape(&quot;red&quot;,&quot;circle&quot;); // With Strategy pattern\r\n\r\n\r\nWithout strategy pattern will increase the number of classes with the Cartesian product of shape and color. Also the interface changes for each implementation.\r\n\r\n  ","title":"Real World Example of the Strategy Pattern","body":"<p>From wikipedia </p>\n\n<blockquote>\n  <p>In computer programming, the strategy pattern (also known as the policy pattern) is a behavioral software design pattern that enables selecting an algorithm at runtime. Instead of implementing a single algorithm directly, code receives run-time instructions as to which in a family of algorithms to use</p>\n</blockquote>\n\n<p>In Windows Paint application you can see a strategy pattern where you can choose the shape and color independently in a different sections. Here the shape and color are the algorithms which can changed at runtime. </p>\n\n<p>If you want to draw a circle with red color, rather than providing an option of 'RedCircle' they let you choose the circle and a color of your choice.</p>\n\n<pre><code>Shape redCircle = new RedCircle(); // Without stretegy Pattern\nShaped redCircle = new Shape(\"red\",\"circle\"); // With Strategy pattern\n</code></pre>\n\n<p>Without strategy pattern will increase the number of classes with the Cartesian product of shape and color. Also the interface changes for each implementation.</p>\n"},{"tags":[],"owner":{"account_id":17037091,"reputation":489,"user_id":12325896,"display_name":"C&#233;dric S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596163054,"creation_date":1596163054,"answer_id":63184989,"question_id":370258,"body_markdown":"Imagine a shooter game with AI enemies for example.\r\nYou want them to continuously fight in different ways based on what happens ..\r\nWith strategy pattern you can continuously loop and dynamically change how a specific or action will be performed.\r\n\r\n    interface FightingStategy{\r\n        public void fight();\r\n    }\r\n    public Defense implements FightingStrategy{\r\n        public void figth(){\r\n            ... hide behind wall to shoot\r\n        }\r\n    }\r\n    public Berserker implements FightingStrategy{\r\n        public void fight(){\r\n            ... run towards you, headrolls and shoots\r\n        }\r\n    }\r\n    public Dead implements FightingStrategy{\r\n        public void fight(){\r\n            ... is dead, doesn&#39;t move\r\n        }\r\n    }\r\n\r\n    public AiShooter{\r\n\r\n        FightingStrategy fightingStrategy;\r\n\r\n        public AiShooter(){\r\n            fightStrategy = new Berserker();\r\n        }\r\n    \r\n        public void fight(){\r\n            this.fightingStrategy.fight();\r\n        }\r\n    \r\n        public void changeStrategy(FightingStrategy f){\r\n            this.fightingStrategy = f;\r\n        }\r\n    }\r\n    \r\n    public static void main(){\r\n\r\n        ... create list of AiShooters...\r\n        while (condition){\r\n            list.forEach(shooter -&gt; shooter.fight());\r\n        }\r\n        ... you shoot back\r\n        list.ForEach(shooter -&gt; shooter.changeStrategy(new \r\n    Defense()));\r\n\r\n        ... you kill one\r\n        list.get(n).changeStrategy(new Dead());\r\n    }","title":"Real World Example of the Strategy Pattern","body":"<p>Imagine a shooter game with AI enemies for example.\nYou want them to continuously fight in different ways based on what happens ..\nWith strategy pattern you can continuously loop and dynamically change how a specific or action will be performed.</p>\n<pre><code>interface FightingStategy{\n    public void fight();\n}\npublic Defense implements FightingStrategy{\n    public void figth(){\n        ... hide behind wall to shoot\n    }\n}\npublic Berserker implements FightingStrategy{\n    public void fight(){\n        ... run towards you, headrolls and shoots\n    }\n}\npublic Dead implements FightingStrategy{\n    public void fight(){\n        ... is dead, doesn't move\n    }\n}\n\npublic AiShooter{\n\n    FightingStrategy fightingStrategy;\n\n    public AiShooter(){\n        fightStrategy = new Berserker();\n    }\n\n    public void fight(){\n        this.fightingStrategy.fight();\n    }\n\n    public void changeStrategy(FightingStrategy f){\n        this.fightingStrategy = f;\n    }\n}\n\npublic static void main(){\n\n    ... create list of AiShooters...\n    while (condition){\n        list.forEach(shooter -&gt; shooter.fight());\n    }\n    ... you shoot back\n    list.ForEach(shooter -&gt; shooter.changeStrategy(new \nDefense()));\n\n    ... you kill one\n    list.get(n).changeStrategy(new Dead());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4638791,"reputation":619,"user_id":3759227,"display_name":"Kuldeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623666501,"creation_date":1623666501,"answer_id":67968630,"question_id":370258,"body_markdown":"Example to calculate Item GST Tax Total \r\n\r\n```\r\npublic interface TaxCalculation {\r\n\r\n\tpublic Double calculateTax(Double price);  \r\n}\r\n```\r\n\r\n```\r\npublic class FivePercentage implements TaxCalculation {\r\n\r\n\t@Override\r\n\tpublic Double calculateTax(Double price) {\r\n\t\t\r\n\t\tDouble dbl = (price*5)/100;\r\n\t\treturn dbl;\r\n\t}\r\n\r\n}\r\n```\r\n```\r\npublic class EighteenPercentage implements TaxCalculation {\r\n\r\n\t@Override\r\n\tpublic Double calculateTax(Double price) {\r\n\t\tDouble dbl = (price*18)/100;\r\n\t\treturn dbl;\r\n\t}\r\n\r\n}\r\n```\r\n```\r\npublic class Item {\r\n\r\n\tpublic String name;\r\n\tpublic Double price;\r\n\tpublic int taxRate;\r\n\tpublic Double totalTax;\r\n\t\r\n\tpublic Item(String name, Double price, int taxRate) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.price = price;\r\n\t\tthis.taxRate = taxRate;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic Double getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\tpublic void setPrice(Double price) {\r\n\t\tthis.price = price;\r\n\t}\r\n\tpublic int getTaxRate() {\r\n\t\treturn taxRate;\r\n\t}\r\n\r\n\tpublic void setTaxRate(int taxRate) {\r\n\t\tthis.taxRate = taxRate;\r\n\t}\r\n\r\n\tpublic Double getTotalTax() {\r\n\t\treturn totalTax;\r\n\t}\r\n\r\n\tpublic void setTotalTax(Double totalTax) {\r\n\t\tthis.totalTax = totalTax;\r\n\t}\r\n\r\n\tpublic void calculateTax(TaxCalculation taxcalulation, Double price) {\r\n\t\tthis.totalTax = taxcalulation.calculateTax(price);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Items [name=&quot; + name + &quot;, price=&quot; + price + &quot;, taxRate=&quot; + taxRate + &quot;, totalTax=&quot; + totalTax + &quot;]&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\npublic class CalculateTax {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tList&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tItem item1 = new Item(&quot;Engine Oil&quot;, 320.0, 5);\r\n\t\tItem item2 = new Item(&quot;Painting&quot;, 3500.00, 18);\r\n\t\t\r\n\t\titemList.add(item1);\r\n\t\titemList.add(item2);\r\n\t\t\r\n\t\titemList.stream().forEach(x-&gt; {\r\n\t\t\tif(x.getTaxRate() == 5) {\r\n\t\t\t\tx.calculateTax(new FivePercentage(), x.getPrice());\r\n\t\t\t} else if(x.getTaxRate() == 18) {\r\n\t\t\t\tx.calculateTax(new EighteenPercentage(), x.getPrice());\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\titemList.stream().forEach(x-&gt; {\r\n\t\t\tSystem.out.println(x.toString());\r\n\t\t});\r\n\t}\r\n}\r\n```","title":"Real World Example of the Strategy Pattern","body":"<p>Example to calculate Item GST Tax Total</p>\n<pre><code>public interface TaxCalculation {\n\n    public Double calculateTax(Double price);  \n}\n</code></pre>\n<pre><code>public class FivePercentage implements TaxCalculation {\n\n    @Override\n    public Double calculateTax(Double price) {\n        \n        Double dbl = (price*5)/100;\n        return dbl;\n    }\n\n}\n</code></pre>\n<pre><code>public class EighteenPercentage implements TaxCalculation {\n\n    @Override\n    public Double calculateTax(Double price) {\n        Double dbl = (price*18)/100;\n        return dbl;\n    }\n\n}\n</code></pre>\n<pre><code>public class Item {\n\n    public String name;\n    public Double price;\n    public int taxRate;\n    public Double totalTax;\n    \n    public Item(String name, Double price, int taxRate) {\n        super();\n        this.name = name;\n        this.price = price;\n        this.taxRate = taxRate;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public Double getPrice() {\n        return price;\n    }\n    public void setPrice(Double price) {\n        this.price = price;\n    }\n    public int getTaxRate() {\n        return taxRate;\n    }\n\n    public void setTaxRate(int taxRate) {\n        this.taxRate = taxRate;\n    }\n\n    public Double getTotalTax() {\n        return totalTax;\n    }\n\n    public void setTotalTax(Double totalTax) {\n        this.totalTax = totalTax;\n    }\n\n    public void calculateTax(TaxCalculation taxcalulation, Double price) {\n        this.totalTax = taxcalulation.calculateTax(price);\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;Items [name=&quot; + name + &quot;, price=&quot; + price + &quot;, taxRate=&quot; + taxRate + &quot;, totalTax=&quot; + totalTax + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<pre><code>public class CalculateTax {\n\n    public static void main(String[] args) {\n        \n        List&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\n        \n        Item item1 = new Item(&quot;Engine Oil&quot;, 320.0, 5);\n        Item item2 = new Item(&quot;Painting&quot;, 3500.00, 18);\n        \n        itemList.add(item1);\n        itemList.add(item2);\n        \n        itemList.stream().forEach(x-&gt; {\n            if(x.getTaxRate() == 5) {\n                x.calculateTax(new FivePercentage(), x.getPrice());\n            } else if(x.getTaxRate() == 18) {\n                x.calculateTax(new EighteenPercentage(), x.getPrice());\n            }\n        });\n        \n        itemList.stream().forEach(x-&gt; {\n            System.out.println(x.toString());\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9206724,"reputation":1052,"user_id":6841676,"display_name":"Mazhar MIK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623827482,"creation_date":1623827482,"answer_id":67997973,"question_id":370258,"body_markdown":"This answer is for someone who is a beginner and want to understand this with the simplest example possible - (Reference : Headfirst Design Patterns)\r\n\r\n    #include&lt;iostream&gt;\r\n    using namespace std;\r\n\r\n    /*\r\n        Where it is applicable?\r\n        The selection of an algorithm is required from a family of algorithms.\r\n        To avoid multiple conditional statements for selection of algorithms\r\n        and to hide its algorithm data structures and complexity from client.\r\n    */\r\n    \r\n    class Fly {\r\n    public:\r\n        virtual void fly() = 0;\r\n    };\r\n    \r\n    //concrete Fly : rocketFly\r\n    class rocketFly : public Fly {\r\n    public:\r\n        void fly() {\r\n            cout &lt;&lt;&quot;rocketFly::fly()&quot; &lt;&lt; endl;\r\n        }\r\n    };\r\n    \r\n    //concrete Fly : normalFly\r\n    class normalFly : public Fly {\r\n    public:\r\n        void fly() {\r\n            cout &lt;&lt;&quot;normalFly::fly()&quot; &lt;&lt; endl;\r\n        }\r\n    };\r\n    \r\n    //Duck &quot;HAS A&quot; relationship with Fly\r\n    class Duck {\r\n    private:\r\n        //Duck has a Fly behavour\r\n        Fly* flyObj;\r\n    public:\r\n        Duck(Fly* obj) : flyObj(obj) {\r\n            \r\n        }\r\n    \r\n        void DuckFly() {\r\n            flyObj-&gt;fly();\r\n        }\r\n    };\r\n    \r\n    int main() {\r\n        rocketFly* rObj = new rocketFly;\r\n        Duck wildDuck(rObj);\r\n        wildDuck.DuckFly();\r\n    \r\n        normalFly* nObj = new normalFly;\r\n        Duck cityDuck(nObj);\r\n        cityDuck.DuckFly();\r\n    \r\n        /*\r\n            I didn&#39;t have to create classes like wildDuck which inherits from Duck and they implement their own\r\n            fly, quack etc behaviour. There will be code duplication.\r\n            So, instead of that, create an interface of fly, make concrete fly classes with different\r\n            fly behaviour. Use objects to any of these concrete classes to inject to one generic duck\r\n            class which will automatically call correct fly behaviour.\r\n        */\r\n    \r\n    return 0;\r\n    }","title":"Real World Example of the Strategy Pattern","body":"<p>This answer is for someone who is a beginner and want to understand this with the simplest example possible - (Reference : Headfirst Design Patterns)</p>\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\n/*\n    Where it is applicable?\n    The selection of an algorithm is required from a family of algorithms.\n    To avoid multiple conditional statements for selection of algorithms\n    and to hide its algorithm data structures and complexity from client.\n*/\n\nclass Fly {\npublic:\n    virtual void fly() = 0;\n};\n\n//concrete Fly : rocketFly\nclass rocketFly : public Fly {\npublic:\n    void fly() {\n        cout &lt;&lt;&quot;rocketFly::fly()&quot; &lt;&lt; endl;\n    }\n};\n\n//concrete Fly : normalFly\nclass normalFly : public Fly {\npublic:\n    void fly() {\n        cout &lt;&lt;&quot;normalFly::fly()&quot; &lt;&lt; endl;\n    }\n};\n\n//Duck &quot;HAS A&quot; relationship with Fly\nclass Duck {\nprivate:\n    //Duck has a Fly behavour\n    Fly* flyObj;\npublic:\n    Duck(Fly* obj) : flyObj(obj) {\n        \n    }\n\n    void DuckFly() {\n        flyObj-&gt;fly();\n    }\n};\n\nint main() {\n    rocketFly* rObj = new rocketFly;\n    Duck wildDuck(rObj);\n    wildDuck.DuckFly();\n\n    normalFly* nObj = new normalFly;\n    Duck cityDuck(nObj);\n    cityDuck.DuckFly();\n\n    /*\n        I didn't have to create classes like wildDuck which inherits from Duck and they implement their own\n        fly, quack etc behaviour. There will be code duplication.\n        So, instead of that, create an interface of fly, make concrete fly classes with different\n        fly behaviour. Use objects to any of these concrete classes to inject to one generic duck\n        class which will automatically call correct fly behaviour.\n    */\n\nreturn 0;\n}\n</code></pre>\n"}],"owner":{"display_name":"Tired"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103476,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"answer_count":19,"score":111,"last_activity_date":1681722308,"creation_date":1229390969,"question_id":370258,"body_markdown":"I&#39;ve been reading about the [OCP principle][1] and how to use the strategy pattern to accomplish this.\r\n\r\nI was going to try and explain this to a couple of people, but the only example I can think of is using different validation classes based on what status an &quot;order&quot; is.\r\n\r\nI&#39;ve read a couple of articles online, but these don&#39;t usually describe a real alike reason to use the strategy, like generating reports/bills/validation, etc...\r\n\r\nAre there any real-world examples where you think a strategy pattern is common?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Open/closed_principle","title":"Real World Example of the Strategy Pattern","body":"<p>I've been reading about the <a href=\"http://en.wikipedia.org/wiki/Open/closed_principle\" rel=\"noreferrer\">OCP principle</a> and how to use the strategy pattern to accomplish this.</p>\n<p>I was going to try and explain this to a couple of people, but the only example I can think of is using different validation classes based on what status an &quot;order&quot; is.</p>\n<p>I've read a couple of articles online, but these don't usually describe a real alike reason to use the strategy, like generating reports/bills/validation, etc...</p>\n<p>Are there any real-world examples where you think a strategy pattern is common?</p>\n"},{"tags":["java","spring-boot","activiti","workflow-engine"],"comments":[{"owner":{"account_id":4192536,"reputation":424,"user_id":3434820,"display_name":"Jocke"},"score":0,"creation_date":1693550194,"post_id":76033289,"comment_id":135778425,"body_markdown":"They are currently only publishing release candidates for SB3 support, it will come in version 7.12 of Activiti.","body":"They are currently only publishing release candidates for SB3 support, it will come in version 7.12 of Activiti."},{"owner":{"account_id":1062313,"reputation":2649,"user_id":1063673,"accept_rate":80,"display_name":"Steffen Harbich"},"score":0,"creation_date":1700212095,"post_id":76033289,"comment_id":136628990,"body_markdown":"Version 8 supports Spring Boot 3. See https://activiti.gitbook.io/activiti-7-developers-guide/releases/8.0.0","body":"Version 8 supports Spring Boot 3. See <a href=\"https://activiti.gitbook.io/activiti-7-developers-guide/releases/8.0.0\" rel=\"nofollow noreferrer\">activiti.gitbook.io/activiti-7-developers-guide/releases/8.0&zwnj;&#8203;.0</a>"}],"owner":{"account_id":24502827,"reputation":11,"user_id":18418214,"display_name":"Denish Ranpariya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681721311,"creation_date":1681721311,"question_id":76033289,"body_markdown":"Can anyone please provide information on the compatibility of Spring Boot version 3.x with the [Activiti framework](https://www.activiti.org/)? I have checked the official documentation of Activiti but could not find any specific information regarding the compatibility of these two. I have also looked for answers on the [Activiti forum](https://hub.alfresco.com/t5/alfresco-process-services/spring-boot-3-support-with-activiti/td-p/315788), but haven&#39;t found a response to the same question.\r\n\r\nI have seen some [examples](https://github.com/Activiti/Activiti/tree/develop/activiti-examples) from the Activiti github repo which are having spring boot version 2.7.6 ","title":"Spring Boot 3 support with Activiti","body":"<p>Can anyone please provide information on the compatibility of Spring Boot version 3.x with the <a href=\"https://www.activiti.org/\" rel=\"nofollow noreferrer\">Activiti framework</a>? I have checked the official documentation of Activiti but could not find any specific information regarding the compatibility of these two. I have also looked for answers on the <a href=\"https://hub.alfresco.com/t5/alfresco-process-services/spring-boot-3-support-with-activiti/td-p/315788\" rel=\"nofollow noreferrer\">Activiti forum</a>, but haven't found a response to the same question.</p>\n<p>I have seen some <a href=\"https://github.com/Activiti/Activiti/tree/develop/activiti-examples\" rel=\"nofollow noreferrer\">examples</a> from the Activiti github repo which are having spring boot version 2.7.6</p>\n"},{"tags":["java","android","android-bitmap"],"owner":{"account_id":21189237,"reputation":85,"user_id":15582009,"display_name":"Jens Stuber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681721249,"creation_date":1681721249,"question_id":76033273,"body_markdown":"i have an app that lets the user pick an image from the device. I create a Bitmap from it and at a certain point i want to copy that image into a larger image. Not scaling it just copy it at a certain position. I tried the following:\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; startActivityIntent = registerForActivityResult(\r\n        new ActivityResultContracts.StartActivityForResult(),\r\n        result -&gt; {\r\n            try {\r\n                img = ImageDecoder.decodeBitmap(ImageDecoder.createSource(getContentResolver(), result.getData().getData()));\r\n                width = img.getWidth();\r\n                height = img.getHeight();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    });\r\n\r\nand then later\r\n\r\n    Bitmap bmp = Bitmap.createBitmap(width+100,height, Bitmap.Config.RGB_565);\r\n    Canvas canvas = new Canvas(bmp);\r\n    canvas.drawBitmap(img,100,0,null);\r\n\r\nbut i get the error: `java.lang.IllegalArgumentException: Software rendering doesn&#39;t support hardware bitmaps`\r\n\r\nI get a similar error when i try to access the pixels of img. How can i achieve that?","title":"copy image picked by user into larger image","body":"<p>i have an app that lets the user pick an image from the device. I create a Bitmap from it and at a certain point i want to copy that image into a larger image. Not scaling it just copy it at a certain position. I tried the following:</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; startActivityIntent = registerForActivityResult(\n    new ActivityResultContracts.StartActivityForResult(),\n    result -&gt; {\n        try {\n            img = ImageDecoder.decodeBitmap(ImageDecoder.createSource(getContentResolver(), result.getData().getData()));\n            width = img.getWidth();\n            height = img.getHeight();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n});\n</code></pre>\n<p>and then later</p>\n<pre><code>Bitmap bmp = Bitmap.createBitmap(width+100,height, Bitmap.Config.RGB_565);\nCanvas canvas = new Canvas(bmp);\ncanvas.drawBitmap(img,100,0,null);\n</code></pre>\n<p>but i get the error: <code>java.lang.IllegalArgumentException: Software rendering doesn't support hardware bitmaps</code></p>\n<p>I get a similar error when i try to access the pixels of img. How can i achieve that?</p>\n"},{"tags":["java","serialization","hessian"],"answers":[{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681721022,"creation_date":1681721022,"answer_id":76033244,"question_id":10011696,"body_markdown":"The default Hessian serializer transforms characters (either char primitives or objects) into strings, see the source code here:\r\n\r\nhttps://github.com/ebourg/hessian/blob/git-svn/src/com/caucho/hessian/io/BasicSerializer.java#L144\r\n\r\nTo work around this, you either have to write your own Hessian serializer, or you can use a wrapper object:\r\n\r\n    class CharacterWrapper implements Serializable {\r\n        public Character character;\r\n    }\r\n    \r\n    CharacterWrapper cw = new CharacterWrapper();\r\n    cw.character = new Character(&#39;x&#39;);\r\n    \r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    Hessian2Output hessian2Output = new Hessian2Output( byteArrayOutputStream );\r\n    hessian2Output.startMessage();\r\n    hessian2Output.writeObject(cw);\r\n    hessian2Output.completeMessage();\r\n    hessian2Output.close();","title":"Hessian deserializes java.lang.Character as a String","body":"<p>The default Hessian serializer transforms characters (either char primitives or objects) into strings, see the source code here:</p>\n<p><a href=\"https://github.com/ebourg/hessian/blob/git-svn/src/com/caucho/hessian/io/BasicSerializer.java#L144\" rel=\"nofollow noreferrer\">https://github.com/ebourg/hessian/blob/git-svn/src/com/caucho/hessian/io/BasicSerializer.java#L144</a></p>\n<p>To work around this, you either have to write your own Hessian serializer, or you can use a wrapper object:</p>\n<pre><code>class CharacterWrapper implements Serializable {\n    public Character character;\n}\n\nCharacterWrapper cw = new CharacterWrapper();\ncw.character = new Character('x');\n\nByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\nHessian2Output hessian2Output = new Hessian2Output( byteArrayOutputStream );\nhessian2Output.startMessage();\nhessian2Output.writeObject(cw);\nhessian2Output.completeMessage();\nhessian2Output.close();\n</code></pre>\n"}],"owner":{"account_id":118523,"reputation":2655,"user_id":309596,"display_name":"Carter Page"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1681721022,"creation_date":1333544669,"question_id":10011696,"body_markdown":"I&#39;ve used Hessian for a while but just noticed the following behavior.  If you serialize a java.lang.Character in Hessian, it deserializes as a String.\r\n\r\n\r\n    public class TestHessianChar {\r\n        public static void main(String... args) throws IOException {\r\n            // Serialize\r\n            Character c = new Character(&#39;x&#39;);\r\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n            Hessian2Output hessian2Output = new Hessian2Output( byteArrayOutputStream );\r\n            hessian2Output.startMessage();\r\n            hessian2Output.writeObject(c);\r\n            hessian2Output.completeMessage();\r\n            hessian2Output.close();\r\n            byte[] dataBytes = byteArrayOutputStream.toByteArray();\r\n    \r\n            // Deserialize\r\n            Hessian2Input hessian2Input = new Hessian2Input( new ByteArrayInputStream(  dataBytes ) );\r\n            hessian2Input.startMessage();\r\n            Object o = hessian2Input.readObject();\r\n            hessian2Input.completeMessage();\r\n            hessian2Input.close();\r\n    \r\n            System.out.println(o.getClass().getName());\r\n        }\r\n    }\r\n\r\nOutput for this code is:\r\n\r\n    java.lang.String\r\n\r\nI&#39;m assuming it has something to do with language-independent serialization of primitives, but it&#39;s rather annoying.  I am writing a JMS driver and need to distinguish between char and String, since the spec demands different behavior.  I&#39;m considering writing my own class to represent a char (and give up auto-boxing), but I wanted to know if there is a proper way to get Hessian to treat a Character as a Character before I start going through such contortions.\r\n","title":"Hessian deserializes java.lang.Character as a String","body":"<p>I've used Hessian for a while but just noticed the following behavior.  If you serialize a java.lang.Character in Hessian, it deserializes as a String.</p>\n\n<pre><code>public class TestHessianChar {\n    public static void main(String... args) throws IOException {\n        // Serialize\n        Character c = new Character('x');\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        Hessian2Output hessian2Output = new Hessian2Output( byteArrayOutputStream );\n        hessian2Output.startMessage();\n        hessian2Output.writeObject(c);\n        hessian2Output.completeMessage();\n        hessian2Output.close();\n        byte[] dataBytes = byteArrayOutputStream.toByteArray();\n\n        // Deserialize\n        Hessian2Input hessian2Input = new Hessian2Input( new ByteArrayInputStream(  dataBytes ) );\n        hessian2Input.startMessage();\n        Object o = hessian2Input.readObject();\n        hessian2Input.completeMessage();\n        hessian2Input.close();\n\n        System.out.println(o.getClass().getName());\n    }\n}\n</code></pre>\n\n<p>Output for this code is:</p>\n\n<pre><code>java.lang.String\n</code></pre>\n\n<p>I'm assuming it has something to do with language-independent serialization of primitives, but it's rather annoying.  I am writing a JMS driver and need to distinguish between char and String, since the spec demands different behavior.  I'm considering writing my own class to represent a char (and give up auto-boxing), but I wanted to know if there is a proper way to get Hessian to treat a Character as a Character before I start going through such contortions.</p>\n"},{"tags":["java","multithreading","sas","snmp"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1681736869,"post_id":76033220,"comment_id":134100129,"body_markdown":"That&#39;s not an error message. It&#39;s a warning. It&#39;s telling you that around 1.2 Gb worth of live heap objects (around 97% of the live heap) are reachable from the thread&#39;s local variables. It&#39;s up to _you_ to decide whether or not that actually is a problem. Did you expect the thread to hold on to that much data? If not, then you may have a &quot;memory leak.&quot; That is to say, the your code may be keeping references to objects that you thought it would let go of.","body":"That&#39;s not an error message. It&#39;s a warning. It&#39;s telling you that around 1.2 Gb worth of live heap objects (around 97% of the live heap) are reachable from the thread&#39;s local variables. It&#39;s up to <i>you</i> to decide whether or not that actually is a problem. Did you expect the thread to hold on to that much data? If not, then you may have a &quot;memory leak.&quot; That is to say, the your code may be keeping references to objects that you thought it would let go of."},{"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"score":0,"creation_date":1681908855,"post_id":76033220,"comment_id":134132539,"body_markdown":"@solomonSlow.. Please let me know in which condition the warning message occupies a GB of file. And our application always uses less heap memory only. The above-mentioned fault caused it to occupy a GB. Furthermore, our application has been functioning properly for the previous 12 months. How then can the thread continue to hold the data for so long? Is there another specific reason why the heap would need that much memory other than a memory leak?","body":"@solomonSlow.. Please let me know in which condition the warning message occupies a GB of file. And our application always uses less heap memory only. The above-mentioned fault caused it to occupy a GB. Furthermore, our application has been functioning properly for the previous 12 months. How then can the thread continue to hold the data for so long? Is there another specific reason why the heap would need that much memory other than a memory leak?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1681929776,"post_id":76033220,"comment_id":134137916,"body_markdown":"I don&#39;t understand what you are asking, &quot;...in which condition...?&quot; The message seems to me to be self-explanatory. The total amount of memory occupied by all of the objects that can be &quot;reached&quot; via local variables of Thread-124 adds up to 1,224,754,360 bytes. If that&#39;s not what you were expecting, then probably the first thing you should look for is some _collection_ (some `List` or `Queue` or `Set` or etc.) to which your program adds and removes objects. Maybe you have a bug that sometimes allows an object to remain in the collection when it was supposed to be removed...","body":"I don&#39;t understand what you are asking, &quot;...in which condition...?&quot; The message seems to me to be self-explanatory. The total amount of memory occupied by all of the objects that can be &quot;reached&quot; via local variables of Thread-124 adds up to 1,224,754,360 bytes. If that&#39;s not what you were expecting, then probably the first thing you should look for is some <i>collection</i> (some <code>List</code> or <code>Queue</code> or <code>Set</code> or etc.) to which your program adds and removes objects. Maybe you have a bug that sometimes allows an object to remain in the collection when it was supposed to be removed..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1681929911,"post_id":76033220,"comment_id":134137948,"body_markdown":"...Or maybe you have a bug that allowed some huge number of completely bogus objects to be added. Or,... there&#39;s many possibilities, but a &quot;memory leak&quot; like that often is due to a collection or a data structure that has somehow grown huge when it was not expected to grow huge.","body":"...Or maybe you have a bug that allowed some huge number of completely bogus objects to be added. Or,... there&#39;s many possibilities, but a &quot;memory leak&quot; like that often is due to a collection or a data structure that has somehow grown huge when it was not expected to grow huge."}],"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681720845,"creation_date":1681720845,"question_id":76033220,"body_markdown":"Recently, in our Java application, we got heap.dump file and when we analyzed the file, the below error occupied more space.\r\n\r\n```\r\nThe thread com.XXXXX.snmp.sas.SASession @ 0x853de400&#160; Thread-124 keeps local variables with total size 1,224,754,360 (97.09%) bytes.\r\n\r\n```\r\n\r\nOur Java application, which is running on RHEL 8.5 OS, uses SNMP v2 protocol to communicate with hardware(Media) devices. Additionally, our application communicates with devices often. And we store the response from the hardware devices in our database.\r\n\r\nPlease let us know the suggestions for the below queries,\r\n\r\n1. This error is with device communication or with the thread in the Java application which occupied more space and leads to heap.dump?\r\n2. What does the error indicate?\r\n3. How to solve this and how to avoid this in the upcoming days?\r\n\r\nThanks,\r\n","title":"How to solve the &quot;The thread com.XXXX.snmp.sas.SASession @ 0x853de400 Thread-124 keeps local variables&quot; error?","body":"<p>Recently, in our Java application, we got heap.dump file and when we analyzed the file, the below error occupied more space.</p>\n<pre><code>The thread com.XXXXX.snmp.sas.SASession @ 0x853de400  Thread-124 keeps local variables with total size 1,224,754,360 (97.09%) bytes.\n\n</code></pre>\n<p>Our Java application, which is running on RHEL 8.5 OS, uses SNMP v2 protocol to communicate with hardware(Media) devices. Additionally, our application communicates with devices often. And we store the response from the hardware devices in our database.</p>\n<p>Please let us know the suggestions for the below queries,</p>\n<ol>\n<li>This error is with device communication or with the thread in the Java application which occupied more space and leads to heap.dump?</li>\n<li>What does the error indicate?</li>\n<li>How to solve this and how to avoid this in the upcoming days?</li>\n</ol>\n<p>Thanks,</p>\n"},{"tags":["java","html","css","itext","apache-velocity"],"comments":[{"owner":{"account_id":15016872,"reputation":21,"user_id":10839630,"display_name":"Altan Mehmet T&#252;rkmen"},"score":0,"creation_date":1672758557,"post_id":74994737,"comment_id":132343814,"body_markdown":"I can also do this without html using itextpdf functions from pure java if anyone has suggestion about it","body":"I can also do this without html using itextpdf functions from pure java if anyone has suggestion about it"}],"owner":{"account_id":15016872,"reputation":21,"user_id":10839630,"display_name":"Altan Mehmet T&#252;rkmen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681720776,"creation_date":1672756288,"question_id":74994737,"body_markdown":"I have a function to get data from the database and fill them into a prepared HTML template then export them to a pdf file. I&#39;m using Apache Velocity vm file and itextpdf for that purpose. I need to do this on one page because users will print the pdf file. Traditional CSS codes to split the page doesn&#39;t work because of the itextpdf version.\r\n\r\n\r\nHere is the expected output:[![resultExpected](https://i.stack.imgur.com/OKQqF.png)](https://i.stack.imgur.com/OKQqF.png)\r\n\r\nAnd here is my result (It creates the pages in one column flow):[![2 page](https://i.stack.imgur.com/F2pxQ.png)](https://i.stack.imgur.com/F2pxQ.png)\r\n\r\nHere is my pom.xml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n    &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.itextpdf.tool/xmlworker --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\r\n    &lt;version&gt;5.5.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    &lt;version&gt;5.5.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd here is my controller class to create and download pdf files:\r\n\r\n```\r\n@GetMapping(&quot;/genpdf/{fileName}&quot;)\r\nHttpEntity&lt;byte[]&gt; createPdf(\r\n        @PathVariable(&quot;fileName&quot;) String fileName) throws IOException {\r\n\r\n    /* first, get and initialize an engine */\r\n    VelocityEngine ve = new VelocityEngine();\r\n\r\n    /* next, get the Template */\r\n    ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\r\n    ve.setProperty(&quot;classpath.resource.loader.class&quot;,\r\n            ClasspathResourceLoader.class.getName());\r\n    ve.init();\r\n    Template t = ve.getTemplate(&quot;templates/helloworld.vm&quot;);\r\n    /* create a context and add data */\r\n    VelocityContext context = new VelocityContext();\r\n    context.put(&quot;name&quot;, &quot;World&quot;);\r\n    context.put(&quot;genDateTime&quot;, LocalDateTime.now().toString());\r\n    /* now render the template into a StringWriter */\r\n    StringWriter writer = new StringWriter();\r\n    t.merge(context, writer);\r\n    /* show the World */\r\n    System.out.println(writer.toString());\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\n    baos = generatePdf(writer.toString());\r\n\r\n    HttpHeaders header = new HttpHeaders();\r\n    header.setContentType(MediaType.APPLICATION_PDF);\r\n    header.set(HttpHeaders.CONTENT_DISPOSITION,\r\n            &quot;attachment; filename=&quot; + fileName.replace(&quot; &quot;, &quot;_&quot;));\r\n    header.setContentLength(baos.toByteArray().length);\r\n\r\n    return new HttpEntity&lt;byte[]&gt;(baos.toByteArray(), header);\r\n\r\n}\r\n\r\npublic ByteArrayOutputStream generatePdf(String html) {\r\n\r\n    String pdfFilePath = &quot;&quot;;\r\n    PdfWriter pdfWriter = null;\r\n\r\n    // create a new document\r\n    Document document = new Document();\r\n    try {\r\n\r\n        document = new Document();\r\n        // document header attributes\r\n        document.addCreationDate();\r\n        document.addTitle(&quot;HTML to PDF using itext&quot;);\r\n        document.setPageCount(1);\r\n        document.addLanguage(&quot;tr&quot;);\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        pdfWriter = PdfWriter.getInstance(document, baos);\r\n        // open document\r\n        document.open();\r\n        pdfWriter.addPageDictEntry(PdfName.PDF, PdfPage.LANDSCAPE);\r\n        XMLWorkerHelper xmlWorkerHelper = XMLWorkerHelper.getInstance();\r\n        xmlWorkerHelper.parseXHtml(pdfWriter, document, new StringReader(\r\n                html));\r\n        // close the document\r\n        document.close();\r\n        System.out.println(&quot;PDF generated successfully&quot;);\r\n\r\n        return baos;\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\nAnd this is my test.vm file to produce the pdf file : \r\n\r\n```\r\n&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//TR&quot;\r\n        &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n&lt;html lang=&quot;tr&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;style &gt;\r\n        p {\r\n            font-size: 10px;\r\n        }\r\n\r\n        span {\r\n            font-size: 10px\r\n        }\r\n        .split {\r\n            height: 100%;\r\n            width: 50%;\r\n            position: fixed;\r\n            z-index: 1;\r\n            top: 0;\r\n            overflow-x: hidden;\r\n            padding-top: 20px;\r\n        }\r\n\r\n        /* Control the left side */\r\n        .left {\r\n            left: 0;\r\n            background-color: #111;\r\n        }\r\n\r\n        /* Control the right side */\r\n        .right {\r\n            right: 0;\r\n            background-color: darkblue;\r\n        }\r\n    &lt;/style&gt;\r\n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;\r\n    &lt;title&gt;Sceda Techniqa&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=&quot;split left&quot;&gt;\r\n    &lt;div style=&quot;display: flex;flex-direction: row&quot;&gt;\r\n        &lt;p&gt;test&lt;/p&gt;\r\n        &lt;span&gt;&lt;strong&gt;test&lt;/strong&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div style=&quot;display: flex;flex-direction: row&quot;&gt;\r\n        &lt;p&gt;test&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;split right&quot;&gt;\r\n    &lt;div style=&quot;display: flex;flex-direction: row&quot;&gt;\r\n        &lt;span&gt;&lt;strong&gt;test&lt;/strong&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div style=&quot;display: flex;flex-direction: column&quot;&gt;\r\n        &lt;div style=&quot;display: flex;flex-direction: row&quot;&gt;\r\n            &lt;p&gt;test&lt;/p&gt;\r\n            &lt;span&gt;&lt;strong&gt;2&lt;/strong&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n        &lt;div style=&quot;display: flex;flex-direction: row&quot;&gt;\r\n            &lt;p&gt;test&lt;/p&gt;\r\n            &lt;span&gt;&lt;strong&gt;4&lt;/strong&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    \r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI tried using different HTML to pdf libraries for Maven but could not accomplish the desired result. What I need is a fully configurable css and html to pdf converter for Java. \r\n\r\nThanks so much for the help.","title":"Can&#39;t split the page horizontally from html to pdf conversion with Apache velocity and itextpdf in Spring Boot,Java","body":"<p>I have a function to get data from the database and fill them into a prepared HTML template then export them to a pdf file. I'm using Apache Velocity vm file and itextpdf for that purpose. I need to do this on one page because users will print the pdf file. Traditional CSS codes to split the page doesn't work because of the itextpdf version.</p>\n<p>Here is the expected output:<a href=\"https://i.stack.imgur.com/OKQqF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OKQqF.png\" alt=\"resultExpected\" /></a></p>\n<p>And here is my result (It creates the pages in one column flow):<a href=\"https://i.stack.imgur.com/F2pxQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F2pxQ.png\" alt=\"2 page\" /></a></p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n    &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n    &lt;version&gt;1.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n    &lt;version&gt;5.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.itextpdf.tool/xmlworker --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\n    &lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\n    &lt;version&gt;5.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n    &lt;version&gt;5.5.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And here is my controller class to create and download pdf files:</p>\n<pre><code>@GetMapping(&quot;/genpdf/{fileName}&quot;)\nHttpEntity&lt;byte[]&gt; createPdf(\n        @PathVariable(&quot;fileName&quot;) String fileName) throws IOException {\n\n    /* first, get and initialize an engine */\n    VelocityEngine ve = new VelocityEngine();\n\n    /* next, get the Template */\n    ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\n    ve.setProperty(&quot;classpath.resource.loader.class&quot;,\n            ClasspathResourceLoader.class.getName());\n    ve.init();\n    Template t = ve.getTemplate(&quot;templates/helloworld.vm&quot;);\n    /* create a context and add data */\n    VelocityContext context = new VelocityContext();\n    context.put(&quot;name&quot;, &quot;World&quot;);\n    context.put(&quot;genDateTime&quot;, LocalDateTime.now().toString());\n    /* now render the template into a StringWriter */\n    StringWriter writer = new StringWriter();\n    t.merge(context, writer);\n    /* show the World */\n    System.out.println(writer.toString());\n\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n    baos = generatePdf(writer.toString());\n\n    HttpHeaders header = new HttpHeaders();\n    header.setContentType(MediaType.APPLICATION_PDF);\n    header.set(HttpHeaders.CONTENT_DISPOSITION,\n            &quot;attachment; filename=&quot; + fileName.replace(&quot; &quot;, &quot;_&quot;));\n    header.setContentLength(baos.toByteArray().length);\n\n    return new HttpEntity&lt;byte[]&gt;(baos.toByteArray(), header);\n\n}\n\npublic ByteArrayOutputStream generatePdf(String html) {\n\n    String pdfFilePath = &quot;&quot;;\n    PdfWriter pdfWriter = null;\n\n    // create a new document\n    Document document = new Document();\n    try {\n\n        document = new Document();\n        // document header attributes\n        document.addCreationDate();\n        document.addTitle(&quot;HTML to PDF using itext&quot;);\n        document.setPageCount(1);\n        document.addLanguage(&quot;tr&quot;);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        pdfWriter = PdfWriter.getInstance(document, baos);\n        // open document\n        document.open();\n        pdfWriter.addPageDictEntry(PdfName.PDF, PdfPage.LANDSCAPE);\n        XMLWorkerHelper xmlWorkerHelper = XMLWorkerHelper.getInstance();\n        xmlWorkerHelper.parseXHtml(pdfWriter, document, new StringReader(\n                html));\n        // close the document\n        document.close();\n        System.out.println(&quot;PDF generated successfully&quot;);\n\n        return baos;\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n\n}\n</code></pre>\n<p>And this is my test.vm file to produce the pdf file :</p>\n<pre><code>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//TR&quot;\n        &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html lang=&quot;tr&quot;&gt;\n&lt;head&gt;\n    &lt;style &gt;\n        p {\n            font-size: 10px;\n        }\n\n        span {\n            font-size: 10px\n        }\n        .split {\n            height: 100%;\n            width: 50%;\n            position: fixed;\n            z-index: 1;\n            top: 0;\n            overflow-x: hidden;\n            padding-top: 20px;\n        }\n\n        /* Control the left side */\n        .left {\n            left: 0;\n            background-color: #111;\n        }\n\n        /* Control the right side */\n        .right {\n            right: 0;\n            background-color: darkblue;\n        }\n    &lt;/style&gt;\n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;\n    &lt;title&gt;Sceda Techniqa&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;split left&quot;&gt;\n    &lt;div style=&quot;display: flex;flex-direction: row&quot;&gt;\n        &lt;p&gt;test&lt;/p&gt;\n        &lt;span&gt;&lt;strong&gt;test&lt;/strong&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div style=&quot;display: flex;flex-direction: row&quot;&gt;\n        &lt;p&gt;test&lt;/p&gt;\n    &lt;/div&gt;\n    \n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=&quot;split right&quot;&gt;\n    &lt;div style=&quot;display: flex;flex-direction: row&quot;&gt;\n        &lt;span&gt;&lt;strong&gt;test&lt;/strong&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div style=&quot;display: flex;flex-direction: column&quot;&gt;\n        &lt;div style=&quot;display: flex;flex-direction: row&quot;&gt;\n            &lt;p&gt;test&lt;/p&gt;\n            &lt;span&gt;&lt;strong&gt;2&lt;/strong&gt;&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div style=&quot;display: flex;flex-direction: row&quot;&gt;\n            &lt;p&gt;test&lt;/p&gt;\n            &lt;span&gt;&lt;strong&gt;4&lt;/strong&gt;&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    \n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I tried using different HTML to pdf libraries for Maven but could not accomplish the desired result. What I need is a fully configurable css and html to pdf converter for Java.</p>\n<p>Thanks so much for the help.</p>\n"},{"tags":["java","android","exoplayer","exoplayer2.x"],"comments":[{"owner":{"account_id":4936607,"reputation":2115,"user_id":3974530,"accept_rate":25,"display_name":"InsaneCat"},"score":0,"creation_date":1650694449,"post_id":42263371,"comment_id":127185177,"body_markdown":"Checkout this may helps for Jetpack Compose: https://stackoverflow.com/a/71977304/3974530","body":"Checkout this may helps for Jetpack Compose: <a href=\"https://stackoverflow.com/a/71977304/3974530\">stackoverflow.com/a/71977304/3974530</a>"}],"answers":[{"tags":[],"owner":{"account_id":6679665,"reputation":17,"user_id":5153275,"display_name":"Dharan Aditya"},"comment_count":0,"down_vote_count":7,"up_vote_count":3,"is_accepted":false,"score":-4,"last_activity_date":1487210820,"creation_date":1487210820,"answer_id":42263526,"question_id":42263371,"body_markdown":"    controller.setVisibility(View.GONE);\r\n    controller.setVisibility(View.INVISIBLE); \r\nUse either of those to set visibilty.\r\nAndroid Documentation : [Link](https://developer.android.com/reference/android/view/View.html)","title":"How to hide control buttons in ExoPlayer2","body":"<pre><code>controller.setVisibility(View.GONE);\ncontroller.setVisibility(View.INVISIBLE); \n</code></pre>\n\n<p>Use either of those to set visibilty.\nAndroid Documentation : <a href=\"https://developer.android.com/reference/android/view/View.html\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"comments":[{"owner":{"account_id":9248237,"reputation":391,"user_id":6869491,"display_name":"Amit Verma"},"score":0,"creation_date":1586359191,"post_id":42666681,"comment_id":108100796,"body_markdown":"when using app:use_controller=&quot;false&quot; then click event not working on the exoplayer2","body":"when using app:use_controller=&quot;false&quot; then click event not working on the exoplayer2"},{"owner":{"account_id":140189,"reputation":9145,"user_id":346309,"accept_rate":92,"display_name":"JPM"},"score":0,"creation_date":1628610495,"post_id":42666681,"comment_id":121464776,"body_markdown":"I just want to play video, the clicklistener is still showing the control even with use_controller set to false","body":"I just want to play video, the clicklistener is still showing the control even with use_controller set to false"},{"owner":{"account_id":4936607,"reputation":2115,"user_id":3974530,"accept_rate":25,"display_name":"InsaneCat"},"score":0,"creation_date":1650694454,"post_id":42666681,"comment_id":127185179,"body_markdown":"Checkout this may helps for Jetpack Compose: https://stackoverflow.com/a/71977304/3974530","body":"Checkout this may helps for Jetpack Compose: <a href=\"https://stackoverflow.com/a/71977304/3974530\">stackoverflow.com/a/71977304/3974530</a>"}],"tags":[],"owner":{"account_id":10411976,"reputation":1511,"user_id":7677114,"display_name":"Junsu Lee"},"comment_count":3,"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1640666993,"creation_date":1488962753,"answer_id":42666681,"question_id":42263371,"body_markdown":"ExoPlayer-r2.2.0 used\r\n\r\n    videoView.hideController();\r\n    videoView.setControllerVisibilityListener(new PlaybackControlView.VisibilityListener() {\r\n        @Override\r\n        public void onVisibilityChange(int visibility) {\r\n            if(visibility == View.VISIBLE) {\r\n                videoView.hideController();\r\n            }\r\n        }\r\n    });\r\n\r\nor\r\n\r\napp:use_controller=&quot;false&quot; in Layout\r\n\r\n    &lt;...\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        ...&gt;\r\n\r\n        &lt;com.google.android.exoplayer2.ui.SimpleExoPlayerView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:use_controller=&quot;false&quot;/&gt;\r\n\r\n","title":"How to hide control buttons in ExoPlayer2","body":"<p>ExoPlayer-r2.2.0 used</p>\n<pre><code>videoView.hideController();\nvideoView.setControllerVisibilityListener(new PlaybackControlView.VisibilityListener() {\n    @Override\n    public void onVisibilityChange(int visibility) {\n        if(visibility == View.VISIBLE) {\n            videoView.hideController();\n        }\n    }\n});\n</code></pre>\n<p>or</p>\n<p>app:use_controller=&quot;false&quot; in Layout</p>\n<pre><code>&lt;...\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    ...&gt;\n\n    &lt;com.google.android.exoplayer2.ui.SimpleExoPlayerView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:use_controller=&quot;false&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4801001,"reputation":419,"user_id":3877647,"display_name":"MarceloSouza"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1504618620,"creation_date":1504618620,"answer_id":46056399,"question_id":42263371,"body_markdown":"To solve this problem I did this: \r\n\r\nCode in Kotlin\r\n        \r\n    simpleExoPlayerView.setControllerVisibilityListener { visibility -&gt;\r\n            val layout = activity.findViewById&lt;LinearLayout&gt;(R.id.ll_customPlayBackControlView)\r\n            if (layout.tag != &quot;IN_ANIMATION&quot;) {\r\n                when (visibility) {\r\n                    View.GONE -&gt; {\r\n                        layout.tag = &quot;IN_ANIMATION&quot;\r\n                        ex_fragmentVideoView.showController()\r\n                        layout.animate().alpha(0F).setDuration(450L).withEndAction({ ex_fragmentVideoView.hideController(); layout.tag = &quot;&quot; }).start()\r\n                    }\r\n                    View.VISIBLE -&gt; {\r\n                        layout.animate().alpha(1F).setDuration(450L).start()\r\n                    }\r\n                }\r\n            }\r\n        }","title":"How to hide control buttons in ExoPlayer2","body":"<p>To solve this problem I did this: </p>\n\n<p>Code in Kotlin</p>\n\n<pre><code>simpleExoPlayerView.setControllerVisibilityListener { visibility -&gt;\n        val layout = activity.findViewById&lt;LinearLayout&gt;(R.id.ll_customPlayBackControlView)\n        if (layout.tag != \"IN_ANIMATION\") {\n            when (visibility) {\n                View.GONE -&gt; {\n                    layout.tag = \"IN_ANIMATION\"\n                    ex_fragmentVideoView.showController()\n                    layout.animate().alpha(0F).setDuration(450L).withEndAction({ ex_fragmentVideoView.hideController(); layout.tag = \"\" }).start()\n                }\n                View.VISIBLE -&gt; {\n                    layout.animate().alpha(1F).setDuration(450L).start()\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2641767,"reputation":10424,"user_id":2285255,"accept_rate":50,"display_name":"rsc"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1520745539,"creation_date":1520745539,"answer_id":49216906,"question_id":42263371,"body_markdown":"    exoPlayerView.setUseController(false);","title":"How to hide control buttons in ExoPlayer2","body":"<pre><code>exoPlayerView.setUseController(false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9335977,"reputation":350,"user_id":9543418,"display_name":"Muhammed Haris"},"score":0,"creation_date":1585134823,"post_id":49256339,"comment_id":107654714,"body_markdown":"how to hide the next button only from the controller?","body":"how to hide the next button only from the controller?"},{"owner":{"account_id":204861,"reputation":19673,"user_id":453314,"display_name":"Westy92"},"score":3,"creation_date":1600268906,"post_id":49256339,"comment_id":113035992,"body_markdown":"@MuhammedHaris try asking that in a new question","body":"@MuhammedHaris try asking that in a new question"},{"owner":{"account_id":4936607,"reputation":2115,"user_id":3974530,"accept_rate":25,"display_name":"InsaneCat"},"score":0,"creation_date":1650694466,"post_id":49256339,"comment_id":127185182,"body_markdown":"Checkout this may helps for Jetpack Compose: https://stackoverflow.com/a/71977304/3974530","body":"Checkout this may helps for Jetpack Compose: <a href=\"https://stackoverflow.com/a/71977304/3974530\">stackoverflow.com/a/71977304/3974530</a>"},{"owner":{"account_id":10635177,"reputation":3315,"user_id":7832102,"display_name":"Prince Dholakiya"},"score":0,"creation_date":1661600008,"post_id":49256339,"comment_id":129813417,"body_markdown":"After applying `setUseController(false);`. it&#39;s onclicklistener method is not working.","body":"After applying <code>setUseController(false);</code>. it&#39;s onclicklistener method is not working."}],"tags":[],"owner":{"account_id":5593867,"reputation":2094,"user_id":4432176,"accept_rate":36,"display_name":"karthik kolanji"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1520944399,"creation_date":1520944399,"answer_id":49256339,"question_id":42263371,"body_markdown":"Simply use this \r\n\r\n\r\n    exoPlayerView.setUseController(false);","title":"How to hide control buttons in ExoPlayer2","body":"<p>Simply use this </p>\n\n<pre><code>exoPlayerView.setUseController(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5970387,"reputation":483,"user_id":4692873,"display_name":"linkaipeng"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1542270397,"creation_date":1542270397,"answer_id":53315148,"question_id":42263371,"body_markdown":"PlayerView has a hideController method.\r\nyou can call it like this:\r\n\r\n```\r\nmPlayerView.hideController();\r\n```","title":"How to hide control buttons in ExoPlayer2","body":"<p>PlayerView has a hideController method.\nyou can call it like this:</p>\n\n<p><code>\nmPlayerView.hideController();\n</code></p>\n"},{"tags":[],"owner":{"account_id":204861,"reputation":19673,"user_id":453314,"display_name":"Westy92"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1608739636,"creation_date":1565037085,"answer_id":57365738,"question_id":42263371,"body_markdown":"Kotlin:\r\n\r\n    exoPlayerView.useController = false\r\n\r\n\r\nJava:\r\n\r\n    exoPlayerView.setUseController(false);\r\n\r\n\r\nXML:\r\n\r\n    app:use_controller=&quot;false&quot;\r\n\r\n\r\nDocumentation:\r\nhttps://exoplayer.dev/doc/reference/com/google/android/exoplayer2/ui/PlayerView.html#setUseController-boolean-","title":"How to hide control buttons in ExoPlayer2","body":"<p>Kotlin:</p>\n<pre><code>exoPlayerView.useController = false\n</code></pre>\n<p>Java:</p>\n<pre><code>exoPlayerView.setUseController(false);\n</code></pre>\n<p>XML:</p>\n<pre><code>app:use_controller=&quot;false&quot;\n</code></pre>\n<p>Documentation:\n<a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/ui/PlayerView.html#setUseController-boolean-\" rel=\"noreferrer\">https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/ui/PlayerView.html#setUseController-boolean-</a></p>\n"},{"tags":[],"owner":{"account_id":14673482,"reputation":599,"user_id":10597330,"display_name":"GilbertS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592295088,"creation_date":1592295088,"answer_id":62403913,"question_id":42263371,"body_markdown":"In my case I wanted to only show the controller and hide the video screen. I used PlaybackControlView.\r\n```\r\n     &lt;com.google.android.exoplayer2.ui.PlaybackControlView\r\n            android:id=&quot;@+id/player_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/quantum_yellow&quot;/&gt;\r\n```","title":"How to hide control buttons in ExoPlayer2","body":"<p>In my case I wanted to only show the controller and hide the video screen. I used PlaybackControlView.</p>\n\n<pre><code>     &lt;com.google.android.exoplayer2.ui.PlaybackControlView\n            android:id=\"@+id/player_view\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@color/quantum_yellow\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14019881,"reputation":279,"user_id":10126339,"display_name":"ajaas azeez"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610014547,"creation_date":1610014547,"answer_id":65610407,"question_id":42263371,"body_markdown":"exoPlayerView.useController = false","title":"How to hide control buttons in ExoPlayer2","body":"<p>exoPlayerView.useController = false</p>\n"},{"comments":[{"owner":{"account_id":4936607,"reputation":2115,"user_id":3974530,"accept_rate":25,"display_name":"InsaneCat"},"score":0,"creation_date":1650694396,"post_id":70685187,"comment_id":127185171,"body_markdown":"VideoPlayer method works for me to stop video  by onDispose() Thanks!\nMine simple method is something like : https://stackoverflow.com/a/71977304/3974530","body":"VideoPlayer method works for me to stop video  by onDispose() Thanks! Mine simple method is something like : <a href=\"https://stackoverflow.com/a/71977304/3974530\">stackoverflow.com/a/71977304/3974530</a>"}],"tags":[],"owner":{"account_id":3970533,"reputation":5671,"user_id":3275253,"accept_rate":17,"display_name":"voghDev"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1642005594,"creation_date":1642005594,"answer_id":70685187,"question_id":42263371,"body_markdown":"A simple adaptation to Jetpack compose of this answer\r\n\r\n```\r\n@Composable\r\nfun VideoPlayer(myVideo: MyVideo, modifier: Modifier = Modifier) {\r\n    val context = LocalContext.current\r\n    val exoPlayer = remember {\r\n        ExoPlayer.Builder(context).build().apply {\r\n            setMediaItem(myVideo.asMediaItem())\r\n            repeatMode = ExoPlayer.REPEAT_MODE_ALL\r\n            playWhenReady = true\r\n            prepare()\r\n            play()\r\n        }\r\n    }\r\n    DisposableEffect(\r\n        AndroidView(\r\n            modifier = modifier,\r\n            factory = {\r\n                PlayerView(context).apply {\r\n                    player = exoPlayer\r\n                    useController = false\r\n                    FrameLayout.LayoutParams(\r\n                        ViewGroup.LayoutParams\r\n                            .MATCH_PARENT,\r\n                        ViewGroup.LayoutParams\r\n                            .MATCH_PARENT\r\n                    )\r\n                }\r\n            }\r\n        )\r\n    ) {\r\n        onDispose {\r\n            exoPlayer.release()\r\n        }\r\n    }\r\n}\r\n```\r\nThis would be `asMediaItem()` extension function\r\n```\r\nprivate fun MyVideo.asMediaItem() =\r\n    MediaItem.Builder()\r\n        .setUri(url)\r\n        .setMediaId(&quot;some-media-id&quot;)\r\n        .setTag(&quot;some-video-tag&quot;)\r\n        .setMediaMetadata(\r\n            MediaMetadata.Builder().setDisplayTitle(&quot;Video&quot;).build()\r\n        )\r\n        .build()\r\n\r\n```\r\nand MyVideo class, which models a really basic video\r\n```\r\ndata class MyVideo(val url: String, val previewImage: String)\r\n```\r\nThe key line to remove the controls here is `useController = false`","title":"How to hide control buttons in ExoPlayer2","body":"<p>A simple adaptation to Jetpack compose of this answer</p>\n<pre><code>@Composable\nfun VideoPlayer(myVideo: MyVideo, modifier: Modifier = Modifier) {\n    val context = LocalContext.current\n    val exoPlayer = remember {\n        ExoPlayer.Builder(context).build().apply {\n            setMediaItem(myVideo.asMediaItem())\n            repeatMode = ExoPlayer.REPEAT_MODE_ALL\n            playWhenReady = true\n            prepare()\n            play()\n        }\n    }\n    DisposableEffect(\n        AndroidView(\n            modifier = modifier,\n            factory = {\n                PlayerView(context).apply {\n                    player = exoPlayer\n                    useController = false\n                    FrameLayout.LayoutParams(\n                        ViewGroup.LayoutParams\n                            .MATCH_PARENT,\n                        ViewGroup.LayoutParams\n                            .MATCH_PARENT\n                    )\n                }\n            }\n        )\n    ) {\n        onDispose {\n            exoPlayer.release()\n        }\n    }\n}\n</code></pre>\n<p>This would be <code>asMediaItem()</code> extension function</p>\n<pre><code>private fun MyVideo.asMediaItem() =\n    MediaItem.Builder()\n        .setUri(url)\n        .setMediaId(&quot;some-media-id&quot;)\n        .setTag(&quot;some-video-tag&quot;)\n        .setMediaMetadata(\n            MediaMetadata.Builder().setDisplayTitle(&quot;Video&quot;).build()\n        )\n        .build()\n\n</code></pre>\n<p>and MyVideo class, which models a really basic video</p>\n<pre><code>data class MyVideo(val url: String, val previewImage: String)\n</code></pre>\n<p>The key line to remove the controls here is <code>useController = false</code></p>\n"},{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681720263,"creation_date":1681720263,"answer_id":76033135,"question_id":42263371,"body_markdown":"You should use new version `implementation &#39;com.google.android.exoplayer:exoplayer:2.18.5&#39;`\r\n\r\nUsage-1: Xml file : `app:use_controller=&quot;false&quot;`\r\n\r\n```xml\r\n&lt;com.google.android.exoplayer2.ui.StyledPlayerView\r\n        android:id=&quot;@+id/playerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:show_subtitle_button=&quot;true&quot;\r\n        argType:fastforward_increment=&quot;15000&quot;\r\n        argType:resize_mode=&quot;fixed_width&quot;\r\n        argType:rewind_increment=&quot;15000&quot;\r\n        argType:show_buffering=&quot;when_playing&quot;\r\n        argType:show_fastforward_button=&quot;true&quot;\r\n        argType:show_next_button=&quot;false&quot;\r\n        argType:show_previous_button=&quot;false&quot;\r\n        argType:show_rewind_button=&quot;true&quot;\r\n        argType:show_subtitle_button=&quot;true&quot;\r\n        argType:use_artwork=&quot;true&quot;\r\n        app:use_controller=&quot;false&quot;\r\n        argType:use_sensor_rotation=&quot;true&quot; /&gt;\r\n```\r\n\r\nUsage-2: You can use it in Activity like this.\r\n\r\n```kotlin\r\n binding.playerView.useController = false\r\n```","title":"How to hide control buttons in ExoPlayer2","body":"<p>You should use new version <code>implementation 'com.google.android.exoplayer:exoplayer:2.18.5'</code></p>\n<p>Usage-1: Xml file : <code>app:use_controller=&quot;false&quot;</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.exoplayer2.ui.StyledPlayerView\n        android:id=&quot;@+id/playerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:show_subtitle_button=&quot;true&quot;\n        argType:fastforward_increment=&quot;15000&quot;\n        argType:resize_mode=&quot;fixed_width&quot;\n        argType:rewind_increment=&quot;15000&quot;\n        argType:show_buffering=&quot;when_playing&quot;\n        argType:show_fastforward_button=&quot;true&quot;\n        argType:show_next_button=&quot;false&quot;\n        argType:show_previous_button=&quot;false&quot;\n        argType:show_rewind_button=&quot;true&quot;\n        argType:show_subtitle_button=&quot;true&quot;\n        argType:use_artwork=&quot;true&quot;\n        app:use_controller=&quot;false&quot;\n        argType:use_sensor_rotation=&quot;true&quot; /&gt;\n</code></pre>\n<p>Usage-2: You can use it in Activity like this.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> binding.playerView.useController = false\n</code></pre>\n"}],"owner":{"account_id":10243952,"reputation":531,"user_id":7560363,"display_name":"Nurlan Kanimetov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47775,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"answer_count":11,"score":51,"last_activity_date":1681720263,"creation_date":1487209643,"question_id":42263371,"body_markdown":"How to hide all controllers in ExoPlayer2 (start button, pause, and so on) that they did not exist, and the screen was always full.\r\n\r\nI looked, there is `simpleExoPlayerView.setUseController(true)` method;\r\n\r\nBut it deactivate the player ...\r\n\r\n    public void setUseController (boolean useController) {\r\n    &#160;&#160;&#160;&#160;this.useController = useController;\r\n    if (useController) {\r\n          controller.setPlayer(player);\r\n        } else {\r\n          controller.hide();\r\n          controller.setPlayer(null);\r\n        }\r\n    }\r\n\r\nHow to hide or delete these components?","title":"How to hide control buttons in ExoPlayer2","body":"<p>How to hide all controllers in ExoPlayer2 (start button, pause, and so on) that they did not exist, and the screen was always full.</p>\n\n<p>I looked, there is <code>simpleExoPlayerView.setUseController(true)</code> method;</p>\n\n<p>But it deactivate the player ...</p>\n\n<pre><code>public void setUseController (boolean useController) {\n    this.useController = useController;\nif (useController) {\n      controller.setPlayer(player);\n    } else {\n      controller.hide();\n      controller.setPlayer(null);\n    }\n}\n</code></pre>\n\n<p>How to hide or delete these components?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-storage"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1681627538,"post_id":76025669,"comment_id":134084828,"body_markdown":"I think what happen here. your str=&quot;&quot; that called database and save into database, but str initialize after some millisecond of insert database.","body":"I think what happen here. your str=&quot;&quot; that called database and save into database, but str initialize after some millisecond of insert database."},{"owner":{"account_id":1974004,"reputation":5392,"user_id":1772220,"display_name":"ugexe"},"score":0,"creation_date":1681665195,"post_id":76025669,"comment_id":134089560,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551/1772220)","body":"<a href=\"//meta.stackoverflow.com/q/285551/1772220\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681802593,"post_id":76025669,"comment_id":134111118,"body_markdown":"Aside from my answer, if you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) will help. Here is the corresponding [repo](https://github.com/alexmamo/CloudStorageJetpackCompose).","body":"Aside from my answer, if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1683696152,"post_id":76033069,"comment_id":134404105,"body_markdown":"Hey Kaiser. Have you tried my solution above, does it work?","body":"Hey Kaiser. Have you tried my solution above, does it work?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681719719,"creation_date":1681719719,"answer_id":76033069,"question_id":76025669,"body_markdown":"All Firebase operations are asynchronous and the solution is always the same. Any code that needs to process data as a result of an asynchronous operation, should be placed inside the `onSuccess` method or be called from there. So in your case, you have to move all the code from the inner `onSuccess` right inside the outer `onSuccess`.\r\n\r\n```\r\nprivate static String str = &quot;&quot;;\r\n\r\nprivate void uploadFile() {\r\n    if (!filename.getText().toString().equals(&quot;&quot;) &amp;&amp; imgView != null) {\r\n        StorageReference mp3ref = mp3StorageRef.child(SongName.getText().toString().trim() + &quot;_&quot; + System.currentTimeMillis() + &quot;.&quot; + getFileExtension(Mp3_uri));\r\n\r\n        mp3ref.putFile(Mp3_uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                Handler handler = new Handler();\r\n                handler.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        progressBar.setProgress(0);\r\n                    }\r\n\r\n                }, 500);\r\n\r\n                MediaMetadataRetriever mediaMetadataRetriever = new MediaMetadataRetriever();\r\n                mediaMetadataRetriever.setDataSource(getContext(), Mp3_uri);\r\n\r\n                String name = mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_TITLE);\r\n                String artist = mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ARTIST);\r\n                byte[] art = mediaMetadataRetriever.getEmbeddedPicture();\r\n\r\n\r\n                StorageReference cover = coverStorageRef.child(&quot;cover_&quot; + name + &quot;_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n                cover.putBytes(art).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                        Task&lt;Uri&gt; urlTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                        while (!urlTask.isSuccessful()) ;\r\n                        Uri downloadUrl = urlTask.getResult();\r\n                        str =  (downloadUrl.toString());\r\n\r\n                        //&#128071;\r\n                        Task&lt;Uri&gt; urlTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                        while (!urlTask.isSuccessful()) ;\r\n                        Uri downloadUrl = urlTask.getResult();\r\n                        Song song = new Song(name, artist, str, downloadUrl.toString());\r\n\r\n                        String uploadId = databaseReference.push().getKey();\r\n                        databaseReference.child(uploadId).setValue(song);\r\n                        Toast.makeText(getContext(), &quot;Upload Success&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(getContext(), &quot;Upload Failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\r\n                double Progress = (100.0 * snapshot.getBytesTransferred() / snapshot.getTotalByteCount());\r\n                progressBar.setProgress((int) Progress);\r\n            }\r\n        });\r\n    } else {\r\n        Toast.makeText(getContext(), &quot;No File Selected&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n\r\nIf you need to use the result of an async operation outside the onComplete, then I recommend you check my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\r\n\r\nIt&#39;s true that the answer refers to a read operation, but the exact same rules apply in your case.","title":"Can&#39;t Assign A String value in Android Studio","body":"<p>All Firebase operations are asynchronous and the solution is always the same. Any code that needs to process data as a result of an asynchronous operation, should be placed inside the <code>onSuccess</code> method or be called from there. So in your case, you have to move all the code from the inner <code>onSuccess</code> right inside the outer <code>onSuccess</code>.</p>\n<pre><code>private static String str = &quot;&quot;;\n\nprivate void uploadFile() {\n    if (!filename.getText().toString().equals(&quot;&quot;) &amp;&amp; imgView != null) {\n        StorageReference mp3ref = mp3StorageRef.child(SongName.getText().toString().trim() + &quot;_&quot; + System.currentTimeMillis() + &quot;.&quot; + getFileExtension(Mp3_uri));\n\n        mp3ref.putFile(Mp3_uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                Handler handler = new Handler();\n                handler.postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        progressBar.setProgress(0);\n                    }\n\n                }, 500);\n\n                MediaMetadataRetriever mediaMetadataRetriever = new MediaMetadataRetriever();\n                mediaMetadataRetriever.setDataSource(getContext(), Mp3_uri);\n\n                String name = mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_TITLE);\n                String artist = mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ARTIST);\n                byte[] art = mediaMetadataRetriever.getEmbeddedPicture();\n\n\n                StorageReference cover = coverStorageRef.child(&quot;cover_&quot; + name + &quot;_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\n                cover.putBytes(art).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                        Task&lt;Uri&gt; urlTask = taskSnapshot.getStorage().getDownloadUrl();\n                        while (!urlTask.isSuccessful()) ;\n                        Uri downloadUrl = urlTask.getResult();\n                        str =  (downloadUrl.toString());\n\n                        //👇\n                        Task&lt;Uri&gt; urlTask = taskSnapshot.getStorage().getDownloadUrl();\n                        while (!urlTask.isSuccessful()) ;\n                        Uri downloadUrl = urlTask.getResult();\n                        Song song = new Song(name, artist, str, downloadUrl.toString());\n\n                        String uploadId = databaseReference.push().getKey();\n                        databaseReference.child(uploadId).setValue(song);\n                        Toast.makeText(getContext(), &quot;Upload Success&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(getContext(), &quot;Upload Failed&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\n                double Progress = (100.0 * snapshot.getBytesTransferred() / snapshot.getTotalByteCount());\n                progressBar.setProgress((int) Progress);\n            }\n        });\n    } else {\n        Toast.makeText(getContext(), &quot;No File Selected&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>If you need to use the result of an async operation outside the onComplete, then I recommend you check my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">How to return DataSnapshot value as a result of a method?</a></li>\n</ul>\n<p>It's true that the answer refers to a read operation, but the exact same rules apply in your case.</p>\n"}],"owner":{"account_id":23792289,"reputation":1,"user_id":17803590,"display_name":"Kaiser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681719752,"creation_date":1681612974,"question_id":76025669,"body_markdown":"My codes are to:\r\n\r\n- Select a local Mp3 Uri\r\n- Upload it to Firebase\r\n- then retrieve that mp3 metadata such as name, artist, album cover,...\r\n- Upload the album cover to Firebase\r\n- Create a new object in the Firebase Realtime Database including the mp3 and cover download links, the name, and artist.\r\n\r\nI have a [Create the String](https://i.stack.imgur.com/zQSB9.png)\r\n\r\nThen inside the mp3 upload onSucess() I retrieve the metadatas and upload the mp3 album cover: [Uploading the album cover](https://i.stack.imgur.com/0j4Cw.png) and assign the downloadLink to the str created above.\r\n\r\nFinally create a song object and push it to he Realtime db: [push song object to db](https://i.stack.imgur.com/Jxa4e.png)\r\n\r\nbut the str is = &quot;&quot;. And the result on the db is like this [db result](https://i.stack.imgur.com/C2oN6.png)\r\n\r\nI have checked inside the onSucess() in the 2nd img, the str is = the downloadLink but when moved to the 3rd img it = &quot;&quot; again.\r\n\r\nI have tried static, non-static, local variable, etc for the str but no use.\r\n\r\nHere is the full code\r\n\r\n```\r\nprivate static String str = &quot;&quot;;\r\n\r\nprivate void uploadFile() {\r\n    if (!filename.getText().toString().equals(&quot;&quot;) &amp;&amp; imgView != null) {\r\n        StorageReference mp3ref = mp3StorageRef.child(SongName.getText().toString().trim() + &quot;_&quot; + System.currentTimeMillis() + &quot;.&quot; + getFileExtension(Mp3_uri));\r\n\r\n        mp3ref.putFile(Mp3_uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                Handler handler = new Handler();\r\n                handler.postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        progressBar.setProgress(0);\r\n                    }\r\n\r\n                }, 500);\r\n\r\n                MediaMetadataRetriever mediaMetadataRetriever = new MediaMetadataRetriever();\r\n                mediaMetadataRetriever.setDataSource(getContext(), Mp3_uri);\r\n\r\n                String name = mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_TITLE);\r\n                String artist = mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ARTIST);\r\n                byte[] art = mediaMetadataRetriever.getEmbeddedPicture();\r\n\r\n\r\n                StorageReference cover = coverStorageRef.child(&quot;cover_&quot; + name + &quot;_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n                cover.putBytes(art).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                        Task&lt;Uri&gt; urlTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                        while (!urlTask.isSuccessful()) ;\r\n                        Uri downloadUrl = urlTask.getResult();\r\n                        str =  (downloadUrl.toString());\r\n                    }\r\n                });\r\n\r\n\r\n\r\n                Task&lt;Uri&gt; urlTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                while (!urlTask.isSuccessful()) ;\r\n                Uri downloadUrl = urlTask.getResult();\r\n                Song song = new Song(name, artist, str, downloadUrl.toString());\r\n\r\n                String uploadId = databaseReference.push().getKey();\r\n                databaseReference.child(uploadId).setValue(song);\r\n                Toast.makeText(getContext(), &quot;Upload Success&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(getContext(), &quot;Upload Failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\r\n                double Progress = (100.0 * snapshot.getBytesTransferred() / snapshot.getTotalByteCount());\r\n                progressBar.setProgress((int) Progress);\r\n            }\r\n        });\r\n    } else {\r\n        Toast.makeText(getContext(), &quot;No File Selected&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n\r\nA way to upload 2 files (mp3 and jpg) and retrieve both files download Links.","title":"Can&#39;t Assign A String value in Android Studio","body":"<p>My codes are to:</p>\n<ul>\n<li>Select a local Mp3 Uri</li>\n<li>Upload it to Firebase</li>\n<li>then retrieve that mp3 metadata such as name, artist, album cover,...</li>\n<li>Upload the album cover to Firebase</li>\n<li>Create a new object in the Firebase Realtime Database including the mp3 and cover download links, the name, and artist.</li>\n</ul>\n<p>I have a <a href=\"https://i.stack.imgur.com/zQSB9.png\" rel=\"nofollow noreferrer\">Create the String</a></p>\n<p>Then inside the mp3 upload onSucess() I retrieve the metadatas and upload the mp3 album cover: <a href=\"https://i.stack.imgur.com/0j4Cw.png\" rel=\"nofollow noreferrer\">Uploading the album cover</a> and assign the downloadLink to the str created above.</p>\n<p>Finally create a song object and push it to he Realtime db: <a href=\"https://i.stack.imgur.com/Jxa4e.png\" rel=\"nofollow noreferrer\">push song object to db</a></p>\n<p>but the str is = &quot;&quot;. And the result on the db is like this <a href=\"https://i.stack.imgur.com/C2oN6.png\" rel=\"nofollow noreferrer\">db result</a></p>\n<p>I have checked inside the onSucess() in the 2nd img, the str is = the downloadLink but when moved to the 3rd img it = &quot;&quot; again.</p>\n<p>I have tried static, non-static, local variable, etc for the str but no use.</p>\n<p>Here is the full code</p>\n<pre><code>private static String str = &quot;&quot;;\n\nprivate void uploadFile() {\n    if (!filename.getText().toString().equals(&quot;&quot;) &amp;&amp; imgView != null) {\n        StorageReference mp3ref = mp3StorageRef.child(SongName.getText().toString().trim() + &quot;_&quot; + System.currentTimeMillis() + &quot;.&quot; + getFileExtension(Mp3_uri));\n\n        mp3ref.putFile(Mp3_uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                Handler handler = new Handler();\n                handler.postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        progressBar.setProgress(0);\n                    }\n\n                }, 500);\n\n                MediaMetadataRetriever mediaMetadataRetriever = new MediaMetadataRetriever();\n                mediaMetadataRetriever.setDataSource(getContext(), Mp3_uri);\n\n                String name = mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_TITLE);\n                String artist = mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_ARTIST);\n                byte[] art = mediaMetadataRetriever.getEmbeddedPicture();\n\n\n                StorageReference cover = coverStorageRef.child(&quot;cover_&quot; + name + &quot;_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\n                cover.putBytes(art).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                        Task&lt;Uri&gt; urlTask = taskSnapshot.getStorage().getDownloadUrl();\n                        while (!urlTask.isSuccessful()) ;\n                        Uri downloadUrl = urlTask.getResult();\n                        str =  (downloadUrl.toString());\n                    }\n                });\n\n\n\n                Task&lt;Uri&gt; urlTask = taskSnapshot.getStorage().getDownloadUrl();\n                while (!urlTask.isSuccessful()) ;\n                Uri downloadUrl = urlTask.getResult();\n                Song song = new Song(name, artist, str, downloadUrl.toString());\n\n                String uploadId = databaseReference.push().getKey();\n                databaseReference.child(uploadId).setValue(song);\n                Toast.makeText(getContext(), &quot;Upload Success&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(getContext(), &quot;Upload Failed&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\n                double Progress = (100.0 * snapshot.getBytesTransferred() / snapshot.getTotalByteCount());\n                progressBar.setProgress((int) Progress);\n            }\n        });\n    } else {\n        Toast.makeText(getContext(), &quot;No File Selected&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>A way to upload 2 files (mp3 and jpg) and retrieve both files download Links.</p>\n"},{"tags":["java","notation"],"comments":[{"owner":{"account_id":1063646,"reputation":31628,"user_id":1064728,"accept_rate":77,"display_name":"Jave"},"score":2,"creation_date":1324308557,"post_id":8563469,"comment_id":10614930,"body_markdown":"Other people have already answered your question, but I felt that you can also write &quot;variable ++&quot; or &quot;variable --&quot;, which means that the variable count increases by 1, or decreases by 1, respectively.","body":"Other people have already answered your question, but I felt that you can also write &quot;variable ++&quot; or &quot;variable --&quot;, which means that the variable count increases by 1, or decreases by 1, respectively."}],"answers":[{"tags":[],"owner":{"account_id":21812,"reputation":6376,"user_id":53321,"accept_rate":62,"display_name":"Dominik Sandjaja"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1426864807,"creation_date":1324308313,"answer_id":8563484,"question_id":8563469,"body_markdown":"In Java, the `*=` is called a multiplication compound assignment operator. \r\n\r\nIt&#39;s a shortcut for \r\n\r\n    density = density * invertedRatio;\r\n\r\nSame abbreviations are possible e.g. for:\r\n\r\n    String x = &quot;hello &quot;; x += &quot;world&quot; // results in &quot;hello world&quot;\r\n    int y = 100; y -= 42; // results in y == 58\r\n\r\nand so on.","title":"Meaning of *= in Java","body":"<p>In Java, the <code>*=</code> is called a multiplication compound assignment operator. </p>\n\n<p>It's a shortcut for </p>\n\n<pre><code>density = density * invertedRatio;\n</code></pre>\n\n<p>Same abbreviations are possible e.g. for:</p>\n\n<pre><code>String x = \"hello \"; x += \"world\" // results in \"hello world\"\nint y = 100; y -= 42; // results in y == 58\n</code></pre>\n\n<p>and so on.</p>\n"},{"comments":[{"owner":{"display_name":"user500074"},"score":1,"creation_date":1324310325,"post_id":8563498,"comment_id":10615607,"body_markdown":"I would probably call it syntactic sugar rather than acronym. :p","body":"I would probably call it syntactic sugar rather than acronym. :p"},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1324310646,"post_id":8563498,"comment_id":10615752,"body_markdown":"Comes from C?  That is why I thought it looked eerily similar to a pointer!  But it aint...","body":"Comes from C?  That is why I thought it looked eerily similar to a pointer!  But it aint..."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1324311902,"post_id":8563498,"comment_id":10616190,"body_markdown":"Note that a magic cast might be inserted. For instance, if `density` is `short` it&#39;ll still compile and might even work.","body":"Note that a magic cast might be inserted. For instance, if <code>density</code> is <code>short</code> it&#39;ll still compile and might even work."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1324310274,"creation_date":1324308376,"answer_id":8563498,"question_id":8563469,"body_markdown":"`density *= invertedRatio;` is a shortened version of `density = density * invertedRatio;`\r\n\r\nThis notation comes from C.","title":"Meaning of *= in Java","body":"<p><code>density *= invertedRatio;</code> is a shortened version of <code>density = density * invertedRatio;</code></p>\n\n<p>This notation comes from C.</p>\n"},{"tags":[],"owner":{"account_id":903132,"reputation":15025,"user_id":938694,"accept_rate":59,"display_name":"Cubic"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1324308463,"creation_date":1324308463,"answer_id":8563516,"question_id":8563469,"body_markdown":"Just like Da said, it&#39;s short for `density = density * invertedRatio;` - it&#39;s nothing Android specific, it&#39;s standard Java. You will find this (and similar operators) in many languages with a C-like syntax.","title":"Meaning of *= in Java","body":"<p>Just like Da said, it's short for <code>density = density * invertedRatio;</code> - it's nothing Android specific, it's standard Java. You will find this (and similar operators) in many languages with a C-like syntax.</p>\n"},{"comments":[{"owner":{"account_id":205417,"reputation":471,"user_id":454167,"accept_rate":100,"display_name":"xxpor"},"score":2,"creation_date":1336018391,"post_id":8563601,"comment_id":13453351,"body_markdown":"This is not strictly true, see http://stackoverflow.com/questions/8710619/java-operator","body":"This is not strictly true, see <a href=\"http://stackoverflow.com/questions/8710619/java-operator\">stackoverflow.com/questions/8710619/java-operator</a>"},{"owner":{"account_id":454081,"reputation":12893,"user_id":851432,"accept_rate":70,"display_name":"Jomoos"},"score":0,"creation_date":1336021677,"post_id":8563601,"comment_id":13454009,"body_markdown":"@xxpor Thanks for the insight! Its a new piece of knowledge. +1 for comment.","body":"@xxpor Thanks for the insight! Its a new piece of knowledge. +1 for comment."}],"tags":[],"owner":{"account_id":454081,"reputation":12893,"user_id":851432,"accept_rate":70,"display_name":"Jomoos"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1324308920,"creation_date":1324308920,"answer_id":8563601,"question_id":8563469,"body_markdown":"It is a shorthand assignment operator. It takes the following form:\r\n   \r\n    variable op= expression;\r\n\r\nis short form of\r\n\r\n    variable = variable op expression;\r\n\r\nSo, \r\n\r\n    density *= invertedRatio;\r\n\r\nis equivalent to\r\n\r\n    density = density * invertedRatio;\r\n\r\nSee the following link for more info:\r\n\r\n[How to Use Assignment Operators in Java][1]\r\n\r\n\r\n  [1]: http://www.ehow.com/how_2094990_use-assignment-operators-java.html","title":"Meaning of *= in Java","body":"<p>It is a shorthand assignment operator. It takes the following form:</p>\n\n<pre><code>variable op= expression;\n</code></pre>\n\n<p>is short form of</p>\n\n<pre><code>variable = variable op expression;\n</code></pre>\n\n<p>So, </p>\n\n<pre><code>density *= invertedRatio;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>density = density * invertedRatio;\n</code></pre>\n\n<p>See the following link for more info:</p>\n\n<p><a href=\"http://www.ehow.com/how_2094990_use-assignment-operators-java.html\" rel=\"noreferrer\">How to Use Assignment Operators in Java</a></p>\n"}],"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89671,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":8563498,"answer_count":4,"score":4,"last_activity_date":1681719541,"creation_date":1324308237,"question_id":8563469,"body_markdown":"I see an unfamiliar notation in the Android source code: `*=`\r\n\r\nFor example: `density *= invertedRatio;`\r\n\r\nI am not familiar with the star-equals notation.  Can somebody explain it?\r\n","title":"Meaning of *= in Java","body":"<p>I see an unfamiliar notation in the Android source code: <code>*=</code></p>\n\n<p>For example: <code>density *= invertedRatio;</code></p>\n\n<p>I am not familiar with the star-equals notation.  Can somebody explain it?</p>\n"},{"tags":["java","authentication","security","jetty"],"answers":[{"comments":[{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1681757902,"post_id":76033040,"comment_id":134105547,"body_markdown":"&quot;Basic is very insecure in many situations. Its far too easy to lose login data, and any reputable server should be using something more secure.&quot; That&#39;s not a fair assumption without considering the context (such as using HTTPS). Moreover, DIGEST scheme is considered insecure due to its weak hashing algorithm: https://docs.gitlab.com/ee/user/application_security/dast/checks/287.2.html","body":"&quot;Basic is very insecure in many situations. Its far too easy to lose login data, and any reputable server should be using something more secure.&quot; That&#39;s not a fair assumption without considering the context (such as using HTTPS). Moreover, DIGEST scheme is considered insecure due to its weak hashing algorithm: <a href=\"https://docs.gitlab.com/ee/user/application_security/dast/checks/287.2.html\" rel=\"nofollow noreferrer\">docs.gitlab.com/ee/user/application_security/dast/checks/&hellip;</a>"}],"tags":[],"owner":{"account_id":2514725,"reputation":324,"user_id":2186416,"accept_rate":60,"display_name":"Luke Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681719474,"creation_date":1681719474,"answer_id":76033040,"question_id":76032897,"body_markdown":"And minutes after posting this question I found out that my Domain Admins have disabled Basic authentication prompts on our PCs for security (which makes sense).\r\n\r\nI achieved my goals by modifying two lines: to be Digest instead of Basic.\r\n\r\n    Constraint constraint = new Constraint(Constraint.__DIGEST_AUTH, Roles.USER);\r\n    securityHandler.setAuthenticator(new DigestAuthenticator());\r\n\r\nThe background is that Basic is very insecure in many situations. Its far too easy to lose login data, and any reputable server should be using something more secure.","title":"How to prompt User for Basic Auth using Jetty","body":"<p>And minutes after posting this question I found out that my Domain Admins have disabled Basic authentication prompts on our PCs for security (which makes sense).</p>\n<p>I achieved my goals by modifying two lines: to be Digest instead of Basic.</p>\n<pre><code>Constraint constraint = new Constraint(Constraint.__DIGEST_AUTH, Roles.USER);\nsecurityHandler.setAuthenticator(new DigestAuthenticator());\n</code></pre>\n<p>The background is that Basic is very insecure in many situations. Its far too easy to lose login data, and any reputable server should be using something more secure.</p>\n"}],"owner":{"account_id":2514725,"reputation":324,"user_id":2186416,"accept_rate":60,"display_name":"Luke Turner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76033040,"answer_count":1,"score":0,"last_activity_date":1681719474,"creation_date":1681718521,"question_id":76032897,"body_markdown":"My aim is to programatically configure a Jetty Server with BASIC authentication. I have managed to get the authentication working when using a REST client like Postman and always sending the authentication header, but I would like the user to be prompted for input using the browaswers native login prompt if they open the page.\r\n\r\nThe code below is my current status. The response (401) and headers do include &quot;WWW-Authenticate: basic realm=&quot;thwCopRealm&quot;&quot;, so I do not understand why the user is not being prompted for input.\r\n\r\nCan you please help me to configure the server such that the user will be prompted to login using the browsers native login prompt?\r\n\r\n    Server server = new Server(8080);\r\n\r\n    HashLoginService loginService = new HashLoginService();\r\n    loginService.setName(REALM);\r\n    loginService.setConfig(Main.class.getResource(&quot;/users.txt&quot;).toString());\r\n\r\n    Constraint constraint = new Constraint(Constraint.__BASIC_AUTH, Roles.USER);\r\n    constraint.setAuthenticate(true);\r\n\r\n    ConstraintMapping constraintMapping = new ConstraintMapping();\r\n    constraintMapping.setConstraint(constraint);\r\n    constraintMapping.setPathSpec(&quot;/*&quot;);\r\n\r\n    ConstraintSecurityHandler securityHandler = new ConstraintSecurityHandler();\r\n    securityHandler.setAuthenticator(new BasicAuthenticator());\r\n    securityHandler.setRealmName(REALM);\r\n    securityHandler.setLoginService(loginService);\r\n    securityHandler.addRole(Roles.ADMIN);\r\n    securityHandler.addRole(Roles.USER);\r\n    securityHandler.addConstraintMapping(constraintMapping);\r\n\r\n    ExampleServlet copServlet = new ExampleServlet();\r\n    ServletHolder copServletHolder = new ServletHolder(copServlet);\r\n        \r\n    ServletContextHandler handler = new ServletContextHandler();\r\n    handler.addServlet(copServletHolder, &quot;/cop&quot;);        \r\n    handler.setSecurityHandler(securityHandler);\r\n\r\n    server.addBean(loginService);\r\n    server.setHandler(handler);","title":"How to prompt User for Basic Auth using Jetty","body":"<p>My aim is to programatically configure a Jetty Server with BASIC authentication. I have managed to get the authentication working when using a REST client like Postman and always sending the authentication header, but I would like the user to be prompted for input using the browaswers native login prompt if they open the page.</p>\n<p>The code below is my current status. The response (401) and headers do include &quot;WWW-Authenticate: basic realm=&quot;thwCopRealm&quot;&quot;, so I do not understand why the user is not being prompted for input.</p>\n<p>Can you please help me to configure the server such that the user will be prompted to login using the browsers native login prompt?</p>\n<pre><code>Server server = new Server(8080);\n\nHashLoginService loginService = new HashLoginService();\nloginService.setName(REALM);\nloginService.setConfig(Main.class.getResource(&quot;/users.txt&quot;).toString());\n\nConstraint constraint = new Constraint(Constraint.__BASIC_AUTH, Roles.USER);\nconstraint.setAuthenticate(true);\n\nConstraintMapping constraintMapping = new ConstraintMapping();\nconstraintMapping.setConstraint(constraint);\nconstraintMapping.setPathSpec(&quot;/*&quot;);\n\nConstraintSecurityHandler securityHandler = new ConstraintSecurityHandler();\nsecurityHandler.setAuthenticator(new BasicAuthenticator());\nsecurityHandler.setRealmName(REALM);\nsecurityHandler.setLoginService(loginService);\nsecurityHandler.addRole(Roles.ADMIN);\nsecurityHandler.addRole(Roles.USER);\nsecurityHandler.addConstraintMapping(constraintMapping);\n\nExampleServlet copServlet = new ExampleServlet();\nServletHolder copServletHolder = new ServletHolder(copServlet);\n    \nServletContextHandler handler = new ServletContextHandler();\nhandler.addServlet(copServletHolder, &quot;/cop&quot;);        \nhandler.setSecurityHandler(securityHandler);\n\nserver.addBean(loginService);\nserver.setHandler(handler);\n</code></pre>\n"},{"tags":["java","unit-testing","apache-kafka","spring-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680628117,"post_id":75929035,"comment_id":133929089,"body_markdown":"Hello. Stackoverflow is not a tutorial site. Please [edit] your question to include your own attempt at solving your problem and any errors you are running into. Refer [help] on asking good questions","body":"Hello. Stackoverflow is not a tutorial site. Please <a href=\"https://stackoverflow.com/posts/75929035/edit\">edit</a> your question to include your own attempt at solving your problem and any errors you are running into. Refer <a href=\"https://stackoverflow.com/help\">help center</a> on asking good questions"},{"owner":{"account_id":27441144,"reputation":11,"user_id":20936045,"display_name":"Kedar Jog"},"score":0,"creation_date":1680680894,"post_id":75929035,"comment_id":133937343,"body_markdown":"@OneCricketeer is this much information good enough? And thank you for letting me know that this is not a tutorial site. If possible please give some suggestions and references if something is available.","body":"@OneCricketeer is this much information good enough? And thank you for letting me know that this is not a tutorial site. If possible please give some suggestions and references if something is available."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680704145,"post_id":75929035,"comment_id":133943470,"body_markdown":"Thanks for the update. I will say that `TopologyTestDriver` class from Kafka should be used instead to test Kafka Streams... You should not start a web server to test your kafka specific code... Nor do you explicitly need any Spring-kafka classes beyond the embedded broker. KafkaTemplate and consumer are for basic producer/consumer API, not Kafka Streams or Spring Cloud Steams binder... If you want to test these, Spring source code would be best place to look / copy","body":"Thanks for the update. I will say that <code>TopologyTestDriver</code> class from Kafka should be used instead to test Kafka Streams... You should not start a web server to test your kafka specific code... Nor do you explicitly need any Spring-kafka classes beyond the embedded broker. KafkaTemplate and consumer are for basic producer/consumer API, not Kafka Streams or Spring Cloud Steams binder... If you want to test these, Spring source code would be best place to look / copy"},{"owner":{"account_id":27441144,"reputation":11,"user_id":20936045,"display_name":"Kedar Jog"},"score":0,"creation_date":1680762310,"post_id":75929035,"comment_id":133953710,"body_markdown":"If possible can you please provide any link or something? I am new to spring and kafka.","body":"If possible can you please provide any link or something? I am new to spring and kafka."},{"owner":{"account_id":27441144,"reputation":11,"user_id":20936045,"display_name":"Kedar Jog"},"score":0,"creation_date":1680764178,"post_id":75929035,"comment_id":133954060,"body_markdown":"TopologyTestDriver can&#39;t be used in above code correct as I am using functional approach. There is not topology and streambuilder used. I have appended my Kstream bean as well in question. @OneCricketeer","body":"TopologyTestDriver can&#39;t be used in above code correct as I am using functional approach. There is not topology and streambuilder used. I have appended my Kstream bean as well in question. @OneCricketeer"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680814969,"post_id":75929035,"comment_id":133965685,"body_markdown":"You have a function that accepts a KStream and returns a KStream. Yes, that can be used with `TopologyTestDriver`... More specifically, you would extract out a function you want to test, then simply `return functionToTest(input)` in your Spring code... In other words, remove your business logic from any framework specifics so that you can test it easier","body":"You have a function that accepts a KStream and returns a KStream. Yes, that can be used with <code>TopologyTestDriver</code>... More specifically, you would extract out a function you want to test, then simply <code>return functionToTest(input)</code> in your Spring code... In other words, remove your business logic from any framework specifics so that you can test it easier"},{"owner":{"account_id":27441144,"reputation":11,"user_id":20936045,"display_name":"Kedar Jog"},"score":0,"creation_date":1681031539,"post_id":75929035,"comment_id":133991313,"body_markdown":"can you please provide any reference for this @OneCricketeer","body":"can you please provide any reference for this @OneCricketeer"},{"owner":{"account_id":27441144,"reputation":11,"user_id":20936045,"display_name":"Kedar Jog"},"score":0,"creation_date":1681038043,"post_id":75929035,"comment_id":133991951,"body_markdown":"https://github.com/spring-cloud/spring-cloud-stream-samples/blob/main/kafka-streams-samples/kafka-streams-word-count/src/test/java/kafka/streams/word/count/KafkaStreamsWordCountApplicationTests.java &lt;-- I checked this example as well but it is also not working. I am unable to get message in outputTopic","body":"<a href=\"https://github.com/spring-cloud/spring-cloud-stream-samples/blob/main/kafka-streams-samples/kafka-streams-word-count/src/test/java/kafka/streams/word/count/KafkaStreamsWordCountApplicationTests.java\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream-samples/blob/mai&zwnj;&#8203;n/&hellip;</a> &lt;-- I checked this example as well but it is also not working. I am unable to get message in outputTopic"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681116798,"creation_date":1681052828,"answer_id":75971267,"question_id":75929035,"body_markdown":"I recommend removing Spring from the test classpath, if you only care about testing Kafka components such as [this documentation](https://docs.confluent.io/platform/current/streams/developer-guide/test-streams.html) shows. More importantly, this doesn&#39;t require starting an Kafka broker in memory, so it&#39;s actually a unit test, not integration test. \r\n\r\nThen Spring&#39;s KStream function simply defines a sub-Topology which should be extracted into a separate function. \r\n\r\n    public Topology buildTopology() {\r\n      StreamsBuilder builder = new StreamsBuilder();\r\n      KStream&lt;String, String&gt; input = builder.stream(&quot;input&quot;);\r\n      KStream output = functionToTest(input);  // refactored to call from Spring function\r\n      return builder.build();\r\n    }\r\n\r\n    // ... elsewhere\r\n    Function&lt;KStream, KStream&gt; process() -&gt; \r\n        return input -&gt; functionToTest(input);\r\n    }\r\n\r\n\r\n\r\nRegarding your existing tests, using Consumer and KafkaTemplate aren&#39;t testing Kafka Streams actions. \r\n","title":"Kafka Stream binder unit tests with junit 5","body":"<p>I recommend removing Spring from the test classpath, if you only care about testing Kafka components such as <a href=\"https://docs.confluent.io/platform/current/streams/developer-guide/test-streams.html\" rel=\"nofollow noreferrer\">this documentation</a> shows. More importantly, this doesn't require starting an Kafka broker in memory, so it's actually a unit test, not integration test.</p>\n<p>Then Spring's KStream function simply defines a sub-Topology which should be extracted into a separate function.</p>\n<pre><code>public Topology buildTopology() {\n  StreamsBuilder builder = new StreamsBuilder();\n  KStream&lt;String, String&gt; input = builder.stream(&quot;input&quot;);\n  KStream output = functionToTest(input);  // refactored to call from Spring function\n  return builder.build();\n}\n\n// ... elsewhere\nFunction&lt;KStream, KStream&gt; process() -&gt; \n    return input -&gt; functionToTest(input);\n}\n</code></pre>\n<p>Regarding your existing tests, using Consumer and KafkaTemplate aren't testing Kafka Streams actions.</p>\n"},{"tags":[],"owner":{"account_id":27441144,"reputation":11,"user_id":20936045,"display_name":"Kedar Jog"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681719050,"creation_date":1681719050,"answer_id":76032982,"question_id":75929035,"body_markdown":"I used the following reference. It is using dependencies with the old version but that&#39;s okay. I changed those versions to the newest. And Modified the test producer code as the current one was not working for me. Modifies code as below. This will be useful if you are working with Kafka Avro.\r\n\r\nadd these annotations for test class\r\n```\r\n@FunctionalSpringBootTest(classes = {&lt;MainClass&gt;Application.class},properties = {&quot;spring.cloud.stream.kafka.binder.brokers=localhost:9092&quot;})\r\n@EmbeddedKafka(partitions = 1,\r\n        brokerProperties = {&quot;listeners=PLAINTEXT://localhost:9092&quot;,&quot;port=9092&quot;,&quot;socket.request.max.bytes=409296129&quot;},\r\n        topics = {&quot;so0544in&quot;,&quot;so0544out&quot;}, controlledShutdown = true)\r\n```\r\nTest producer configuration\r\n```\r\nprivate Producer&lt;String, Pojoclass&gt; configureProducer() {\r\n        var producerProps = new HashMap&lt;&gt;(KafkaTestUtils.producerProps(embeddedKafka));\r\n        producerProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n        producerProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class.getName());\r\n        producerProps.put(KafkaAvroSerializerConfig.AUTO_REGISTER_SCHEMAS, &quot;true&quot;);\r\n        producerProps.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, &quot;600000&quot;);\r\n        producerProps.put(SCHEMA_REGISTRY_URL_CONFIG, &quot;mock://127.0.0.1:8081&quot;);\r\n        producerProps.put(BASIC_AUTH_CREDENTIALS_SOURCE, &quot;USER_INFO&quot;);\r\n        producerProps.put(USER_INFO_CONFIG, &quot;test:test&quot;);\r\n        return new DefaultKafkaProducerFactory&lt;String, Pojoclass&gt;(producerProps).createProducer();\r\n    }\r\n```\r\n\r\nusing producer as below in the test case\r\n```\r\n var producer = configureProducer();\r\n        Pojoclass pojoclass = TestUtility.getSample();\r\n        producer.send(new ProducerRecord&lt;&gt;(INPUT_TOPIC, &quot;key-1&quot;, pojoclass));\r\n```","title":"Kafka Stream binder unit tests with junit 5","body":"<p>I used the following reference. It is using dependencies with the old version but that's okay. I changed those versions to the newest. And Modified the test producer code as the current one was not working for me. Modifies code as below. This will be useful if you are working with Kafka Avro.</p>\n<p>add these annotations for test class</p>\n<pre><code>@FunctionalSpringBootTest(classes = {&lt;MainClass&gt;Application.class},properties = {&quot;spring.cloud.stream.kafka.binder.brokers=localhost:9092&quot;})\n@EmbeddedKafka(partitions = 1,\n        brokerProperties = {&quot;listeners=PLAINTEXT://localhost:9092&quot;,&quot;port=9092&quot;,&quot;socket.request.max.bytes=409296129&quot;},\n        topics = {&quot;so0544in&quot;,&quot;so0544out&quot;}, controlledShutdown = true)\n</code></pre>\n<p>Test producer configuration</p>\n<pre><code>private Producer&lt;String, Pojoclass&gt; configureProducer() {\n        var producerProps = new HashMap&lt;&gt;(KafkaTestUtils.producerProps(embeddedKafka));\n        producerProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        producerProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class.getName());\n        producerProps.put(KafkaAvroSerializerConfig.AUTO_REGISTER_SCHEMAS, &quot;true&quot;);\n        producerProps.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, &quot;600000&quot;);\n        producerProps.put(SCHEMA_REGISTRY_URL_CONFIG, &quot;mock://127.0.0.1:8081&quot;);\n        producerProps.put(BASIC_AUTH_CREDENTIALS_SOURCE, &quot;USER_INFO&quot;);\n        producerProps.put(USER_INFO_CONFIG, &quot;test:test&quot;);\n        return new DefaultKafkaProducerFactory&lt;String, Pojoclass&gt;(producerProps).createProducer();\n    }\n</code></pre>\n<p>using producer as below in the test case</p>\n<pre><code> var producer = configureProducer();\n        Pojoclass pojoclass = TestUtility.getSample();\n        producer.send(new ProducerRecord&lt;&gt;(INPUT_TOPIC, &quot;key-1&quot;, pojoclass));\n</code></pre>\n"}],"owner":{"account_id":27441144,"reputation":11,"user_id":20936045,"display_name":"Kedar Jog"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681719111,"creation_date":1680609066,"question_id":75929035,"body_markdown":"I am trying to write Kafka stream binder unit test cases that use a functional approach.\r\n```\r\n@FunctionalSpringBootTest(classes = {Application.class},properties = {&quot;spring.cloud.stream.kafka.binder.brokers=localhost:9092&quot;})\r\n\r\n@EmbeddedKafka(partitions = 1,\r\n        brokerProperties = {&quot;listeners=PLAINTEXT://localhost:9092&quot;,&quot;port=9092&quot;,&quot;socket.request.max.bytes=409296129&quot;},\r\n        topics = {&quot;inputTopic&quot;}, controlledShutdown = true)\r\n@DirtiesContext\r\npublic class Test {\r\n\r\n    @Test\r\n    public void testKstreamBinderWithPojoInputAndStringOuput() throws Exception {\r\n        Map&lt;String, Object&gt; consumerProps = KafkaTestUtils.consumerProps(&quot;group-id&quot;,\r\n                &quot;false&quot;, embeddedKafka);\r\n        consumerProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        DefaultKafkaConsumerFactory&lt;String, String&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(\r\n                consumerProps);\r\n        consumer = cf.createConsumer();\r\n        embeddedKafka.consumeFromAnEmbeddedTopic(consumer, &quot;inputTopic&quot;);\r\n        SpringApplication app = new SpringApplication(Application.class); //Springboot application class\r\n        app.setWebApplicationType(WebApplicationType.NONE);\r\n        ConfigurableApplicationContext context = app.run(&quot;--server.port=0&quot;,\r\n                &quot;--spring.jmx.enabled=false&quot;,\r\n                &quot;--spring.cloud.stream.function.bindings.process-in-0=input&quot;,\r\n                &quot;--spring.cloud.stream.function.bindings.process-out-0=output&quot;,\r\n                &quot;--spring.cloud.stream.bindings.input.destination=inputTopic&quot;,\r\n                &quot;--spring.cloud.stream.bindings.output.destination=outputTopic&quot;,\r\n                &quot;--spring.cloud.stream.kafka.streams.binder.configuration.commit.interval.ms=1000&quot;,\r\n                &quot;--spring.cloud.stream.kafka.streams.binder.configuration.default.key.serde&quot;\r\n                        + &quot;=org.apache.kafka.common.serialization.Serdes$StringSerde&quot;,\r\n                &quot;--spring.cloud.stream.kafka.streams.binder.configuration.default.value.serde&quot;\r\n                        + &quot;=org.apache.kafka.common.serialization.Serdes$StringSerde&quot;,\r\n                &quot;--spring.cloud.stream.kafka.streams.bindings.input.consumer.applicationId=StreamProcessorStorecloseApplication-xyz&quot;,\r\n                &quot;--spring.cloud.stream.kafka.streams.binder.brokers=&quot;\r\n                        + embeddedKafka.getBrokersAsString());\r\n        try {\r\n            receiveAndValidateInputTopic();\r\n            // Assertions on StreamBuilderFactoryBean\r\n            StreamsBuilderFactoryBean streamsBuilderFactoryBean = context\r\n                    .getBean(&quot;&amp;stream-builder-process&quot;, StreamsBuilderFactoryBean.class);\r\n            CleanupConfig cleanup = TestUtils.getPropertyValue(streamsBuilderFactoryBean,\r\n                    &quot;cleanupConfig&quot;, CleanupConfig.class);\r\n            assertThat(cleanup.cleanupOnStart()).isFalse();\r\n            assertThat(cleanup.cleanupOnStop()).isFalse();\r\n        }\r\n        finally {\r\n            context.close();\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\n private void receiveAndValidateInputTopic() {\r\n        Map&lt;String, Object&gt; senderProps = KafkaTestUtils.producerProps(embeddedKafka);\r\n        DefaultKafkaProducerFactory&lt;Integer, String&gt; pf = new DefaultKafkaProducerFactory&lt;&gt;(\r\n                senderProps);\r\n        KafkaTemplate&lt;Integer, String&gt; template = new KafkaTemplate&lt;&gt;(pf, true);\r\n        template.setDefaultTopic(&quot;inputTopic&quot;);\r\n        template.sendDefault(&quot;{\\&quot;id\\&quot;:\\&quot;123\\&quot;}&quot;);\r\n        ConsumerRecord&lt;String, String&gt; cr = KafkaTestUtils.getSingleRecord(consumer,\r\n                &quot;inputTopic&quot;);\r\n        assertThat(cr.value().contains(&quot;Count for product with ID 123: 1&quot;)).isTrue();\r\n    }\r\n```\r\nIn receiveAndValidateInputTopic() method I am sending POJO object which is expected by inputTopic and checking for expected output as by doing isTrue(), Test case is failing. How this ```getBean(&quot;&amp;stream-builder-process&quot;, StreamsBuilderFactoryBean.class); ``` \r\n\r\nKstream Bean -- This is the one I got reference on github. I am working on similar requirement.\r\n```\r\n @EnableAutoConfiguration\r\n    public static class ProductCountApplication {\r\n\r\n        @Bean\r\n        public Function&lt;KStream&lt;Object, Product&gt;, KStream&lt;Integer, String&gt;&gt; process() {\r\n            return input -&gt; input.filter((key, product) -&gt; product.getId() == 123)\r\n                    .map((key, value) -&gt; new KeyValue&lt;&gt;(value, value))\r\n                    .groupByKey(Grouped.with(new JsonSerde&lt;&gt;(Product.class),\r\n                            new JsonSerde&lt;&gt;(Product.class)))\r\n                    .windowedBy(TimeWindows.of(Duration.ofMillis(5000)))\r\n                    .count(Materialized.as(&quot;id-count-store&quot;)).toStream()\r\n                    .map((key, value) -&gt; new KeyValue&lt;&gt;(key.key().id,\r\n                            &quot;Count for product with ID 123: &quot; + value));\r\n        }\r\n\r\n    }\r\n\r\n    static class Product {\r\n\r\n        Integer id;\r\n\r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n\r\n    }\r\n```","title":"Kafka Stream binder unit tests with junit 5","body":"<p>I am trying to write Kafka stream binder unit test cases that use a functional approach.</p>\n<pre><code>@FunctionalSpringBootTest(classes = {Application.class},properties = {&quot;spring.cloud.stream.kafka.binder.brokers=localhost:9092&quot;})\n\n@EmbeddedKafka(partitions = 1,\n        brokerProperties = {&quot;listeners=PLAINTEXT://localhost:9092&quot;,&quot;port=9092&quot;,&quot;socket.request.max.bytes=409296129&quot;},\n        topics = {&quot;inputTopic&quot;}, controlledShutdown = true)\n@DirtiesContext\npublic class Test {\n\n    @Test\n    public void testKstreamBinderWithPojoInputAndStringOuput() throws Exception {\n        Map&lt;String, Object&gt; consumerProps = KafkaTestUtils.consumerProps(&quot;group-id&quot;,\n                &quot;false&quot;, embeddedKafka);\n        consumerProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        DefaultKafkaConsumerFactory&lt;String, String&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(\n                consumerProps);\n        consumer = cf.createConsumer();\n        embeddedKafka.consumeFromAnEmbeddedTopic(consumer, &quot;inputTopic&quot;);\n        SpringApplication app = new SpringApplication(Application.class); //Springboot application class\n        app.setWebApplicationType(WebApplicationType.NONE);\n        ConfigurableApplicationContext context = app.run(&quot;--server.port=0&quot;,\n                &quot;--spring.jmx.enabled=false&quot;,\n                &quot;--spring.cloud.stream.function.bindings.process-in-0=input&quot;,\n                &quot;--spring.cloud.stream.function.bindings.process-out-0=output&quot;,\n                &quot;--spring.cloud.stream.bindings.input.destination=inputTopic&quot;,\n                &quot;--spring.cloud.stream.bindings.output.destination=outputTopic&quot;,\n                &quot;--spring.cloud.stream.kafka.streams.binder.configuration.commit.interval.ms=1000&quot;,\n                &quot;--spring.cloud.stream.kafka.streams.binder.configuration.default.key.serde&quot;\n                        + &quot;=org.apache.kafka.common.serialization.Serdes$StringSerde&quot;,\n                &quot;--spring.cloud.stream.kafka.streams.binder.configuration.default.value.serde&quot;\n                        + &quot;=org.apache.kafka.common.serialization.Serdes$StringSerde&quot;,\n                &quot;--spring.cloud.stream.kafka.streams.bindings.input.consumer.applicationId=StreamProcessorStorecloseApplication-xyz&quot;,\n                &quot;--spring.cloud.stream.kafka.streams.binder.brokers=&quot;\n                        + embeddedKafka.getBrokersAsString());\n        try {\n            receiveAndValidateInputTopic();\n            // Assertions on StreamBuilderFactoryBean\n            StreamsBuilderFactoryBean streamsBuilderFactoryBean = context\n                    .getBean(&quot;&amp;stream-builder-process&quot;, StreamsBuilderFactoryBean.class);\n            CleanupConfig cleanup = TestUtils.getPropertyValue(streamsBuilderFactoryBean,\n                    &quot;cleanupConfig&quot;, CleanupConfig.class);\n            assertThat(cleanup.cleanupOnStart()).isFalse();\n            assertThat(cleanup.cleanupOnStop()).isFalse();\n        }\n        finally {\n            context.close();\n        }\n    }\n}\n</code></pre>\n<pre><code> private void receiveAndValidateInputTopic() {\n        Map&lt;String, Object&gt; senderProps = KafkaTestUtils.producerProps(embeddedKafka);\n        DefaultKafkaProducerFactory&lt;Integer, String&gt; pf = new DefaultKafkaProducerFactory&lt;&gt;(\n                senderProps);\n        KafkaTemplate&lt;Integer, String&gt; template = new KafkaTemplate&lt;&gt;(pf, true);\n        template.setDefaultTopic(&quot;inputTopic&quot;);\n        template.sendDefault(&quot;{\\&quot;id\\&quot;:\\&quot;123\\&quot;}&quot;);\n        ConsumerRecord&lt;String, String&gt; cr = KafkaTestUtils.getSingleRecord(consumer,\n                &quot;inputTopic&quot;);\n        assertThat(cr.value().contains(&quot;Count for product with ID 123: 1&quot;)).isTrue();\n    }\n</code></pre>\n<p>In receiveAndValidateInputTopic() method I am sending POJO object which is expected by inputTopic and checking for expected output as by doing isTrue(), Test case is failing. How this <code>getBean(&quot;&amp;stream-builder-process&quot;, StreamsBuilderFactoryBean.class); </code></p>\n<p>Kstream Bean -- This is the one I got reference on github. I am working on similar requirement.</p>\n<pre><code> @EnableAutoConfiguration\n    public static class ProductCountApplication {\n\n        @Bean\n        public Function&lt;KStream&lt;Object, Product&gt;, KStream&lt;Integer, String&gt;&gt; process() {\n            return input -&gt; input.filter((key, product) -&gt; product.getId() == 123)\n                    .map((key, value) -&gt; new KeyValue&lt;&gt;(value, value))\n                    .groupByKey(Grouped.with(new JsonSerde&lt;&gt;(Product.class),\n                            new JsonSerde&lt;&gt;(Product.class)))\n                    .windowedBy(TimeWindows.of(Duration.ofMillis(5000)))\n                    .count(Materialized.as(&quot;id-count-store&quot;)).toStream()\n                    .map((key, value) -&gt; new KeyValue&lt;&gt;(key.key().id,\n                            &quot;Count for product with ID 123: &quot; + value));\n        }\n\n    }\n\n    static class Product {\n\n        Integer id;\n\n        public Integer getId() {\n            return id;\n        }\n\n        public void setId(Integer id) {\n            this.id = id;\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":15006747,"reputation":67,"user_id":10832573,"display_name":"Anthony Pulse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681356702,"creation_date":1681356702,"answer_id":76001401,"question_id":76001344,"body_markdown":"I don&#39;t know if this will cause commotion, but the elements of your usage will obviously be giving you a greater chance to figure out if you&#39;re willing to look at both place and scope of your files. For this registry, your updated files need configuration to be upheld. If you didn&#39;t work the new configurations to their limits of completion to coordinate with your site, then you&#39;ll definitely need to redistribute your old sources. But, before you think that perhaps you made a mistaken in going this way, try a very much simpler framework for adding, responsive data.\r\n\r\n    &lt;pipe class-attr=&quot;attribute1:value;attribute2:value;&quot; attribution=&quot;class-to-add-attributes&quot;&gt;&lt;/pipes&gt;\r\n\r\nYou would point that at your `&lt;style&gt;` tag and it would fill in the attributes needed. Obviously everything here can be done dynamically. The `&lt;pipe&gt;` tag has a &quot;onLoad&quot; EventListener. If you want to change them with a click, a simple way is to use that same inner attribution, and use it as a `&lt;dyn&gt;` tag which just stands for &quot;responsive&quot; UI.\r\n\r\nPipesJS can be found on github in the wise-penny/pipes repository. Hope this at least gives a lead.","title":"Spring 6 Upgrade | CSS and JS files not loading","body":"<p>I don't know if this will cause commotion, but the elements of your usage will obviously be giving you a greater chance to figure out if you're willing to look at both place and scope of your files. For this registry, your updated files need configuration to be upheld. If you didn't work the new configurations to their limits of completion to coordinate with your site, then you'll definitely need to redistribute your old sources. But, before you think that perhaps you made a mistaken in going this way, try a very much simpler framework for adding, responsive data.</p>\n<pre><code>&lt;pipe class-attr=&quot;attribute1:value;attribute2:value;&quot; attribution=&quot;class-to-add-attributes&quot;&gt;&lt;/pipes&gt;\n</code></pre>\n<p>You would point that at your <code>&lt;style&gt;</code> tag and it would fill in the attributes needed. Obviously everything here can be done dynamically. The <code>&lt;pipe&gt;</code> tag has a &quot;onLoad&quot; EventListener. If you want to change them with a click, a simple way is to use that same inner attribution, and use it as a <code>&lt;dyn&gt;</code> tag which just stands for &quot;responsive&quot; UI.</p>\n<p>PipesJS can be found on github in the wise-penny/pipes repository. Hope this at least gives a lead.</p>\n"}],"owner":{"account_id":28284355,"reputation":1,"user_id":21630671,"display_name":"Anushka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681718937,"creation_date":1681355781,"question_id":76001344,"body_markdown":"Recently we upgraded our project to Spring version 6.0.0. After that website assets did not load on website anymore.\r\n\r\nWe observed below issue:\r\n\r\nCSS path having &quot;system&quot; is not loading: ** system/assets/css/main.css** =&gt; Not Working\r\n\r\nIf we use &quot;resources&quot; in path as ** resources/assets/css/main.css** ,  The css file starts loading on the website. \r\n\r\nWhere do we need to make any configuration changes to make the &quot;system&quot; path of CSS continue working? We cannot use &quot;resources&quot; path for our css files.\r\n\r\nTried below code:\r\n\r\n    registry.addResourceHandler(&quot;/system/assets/**&quot;).addResourceLocations(&quot;/assets/&quot;);","title":"Spring 6 Upgrade | CSS and JS files not loading","body":"<p>Recently we upgraded our project to Spring version 6.0.0. After that website assets did not load on website anymore.</p>\n<p>We observed below issue:</p>\n<p>CSS path having &quot;system&quot; is not loading: ** system/assets/css/main.css** =&gt; Not Working</p>\n<p>If we use &quot;resources&quot; in path as ** resources/assets/css/main.css** ,  The css file starts loading on the website.</p>\n<p>Where do we need to make any configuration changes to make the &quot;system&quot; path of CSS continue working? We cannot use &quot;resources&quot; path for our css files.</p>\n<p>Tried below code:</p>\n<pre><code>registry.addResourceHandler(&quot;/system/assets/**&quot;).addResourceLocations(&quot;/assets/&quot;);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1631697252,"post_id":69190177,"comment_id":122289905,"body_markdown":"Which Java version are you using? 8+?","body":"Which Java version are you using? 8+?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1631700723,"post_id":69190177,"comment_id":122291441,"body_markdown":"You shouldn&#39;t be using `Date` or `SimpleDateFormat`, they&#39;re obsolete. Use classes from the `java.time` package instead.","body":"You shouldn&#39;t be using <code>Date</code> or <code>SimpleDateFormat</code>, they&#39;re obsolete. Use classes from the <code>java.time</code> package instead."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1631702351,"post_id":69190177,"comment_id":122292085,"body_markdown":"and mm is minutes, MM is month","body":"and mm is minutes, MM is month"},{"owner":{"account_id":22757589,"reputation":1,"user_id":16916871,"display_name":"jm7757"},"score":0,"creation_date":1631709881,"post_id":69190177,"comment_id":122295300,"body_markdown":"I cant change format of Date ; the project is too big","body":"I cant change format of Date ; the project is too big"}],"answers":[{"comments":[{"owner":{"account_id":22757589,"reputation":1,"user_id":16916871,"display_name":"jm7757"},"score":0,"creation_date":1631707598,"post_id":69191889,"comment_id":122294202,"body_markdown":"thanksi tried your code but there is this error :Parameter value [2021-09-06T00:00] did not match expected type [java.util.Date (n/a)]|","body":"thanksi tried your code but there is this error :Parameter value [2021-09-06T00:00] did not match expected type [java.util.Date (n/a)]|"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1631708002,"post_id":69191889,"comment_id":122294402,"body_markdown":"The string with T is the standard ISO toString of for instance LocalDateTime.. And evidently the old java.util.Date is still used. So forget my answer.","body":"The string with T is the standard ISO toString of for instance LocalDateTime.. And evidently the old java.util.Date is still used. So forget my answer."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631703794,"creation_date":1631703794,"answer_id":69191889,"question_id":69190177,"body_markdown":"A partial overview of date time classes:\r\n\r\n    Date date = ...; // Old\r\n    LocalDate localDate = ...; // Days\r\n    LocalDateTime localDateTime = ...;\r\n    ZonedDateTime zonedDateTime = ...; // Human use of date &amp; time.\r\n\r\nGetting \r\n\r\n    localDate = LocalDate.parse(creationDate, DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;));\r\n    localDateTime = localDate.atStartOfDay();\r\n    criteriaBuilder.greaterThanOrEqualTo(join5.get(&quot;dateEvenement&quot;), localDateTime);\r\n\r\nFor end-of-day:\r\n\r\n    localDateTime = localDate.plusDays(1).atStartOfDay();\r\n    criteriaBuilder.lessThan(join5.get(&quot;dateEvenement&quot;), localDateTime);\r\n\r\nOne should be aware of ZonedDateTime, for 23 and 25 hour days for instance, and different time zones. Depends on what you store in the persistent data.","title":"criteriaBuilder.greaterThanOrEqualTo Comparing dates without time","body":"<p>A partial overview of date time classes:</p>\n<pre><code>Date date = ...; // Old\nLocalDate localDate = ...; // Days\nLocalDateTime localDateTime = ...;\nZonedDateTime zonedDateTime = ...; // Human use of date &amp; time.\n</code></pre>\n<p>Getting</p>\n<pre><code>localDate = LocalDate.parse(creationDate, DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;));\nlocalDateTime = localDate.atStartOfDay();\ncriteriaBuilder.greaterThanOrEqualTo(join5.get(&quot;dateEvenement&quot;), localDateTime);\n</code></pre>\n<p>For end-of-day:</p>\n<pre><code>localDateTime = localDate.plusDays(1).atStartOfDay();\ncriteriaBuilder.lessThan(join5.get(&quot;dateEvenement&quot;), localDateTime);\n</code></pre>\n<p>One should be aware of ZonedDateTime, for 23 and 25 hour days for instance, and different time zones. Depends on what you store in the persistent data.</p>\n"},{"tags":[],"owner":{"account_id":10460859,"reputation":1,"user_id":7711645,"display_name":"Lobots"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681718834,"creation_date":1681329468,"answer_id":75999355,"question_id":69190177,"body_markdown":"The `.as(Date.class)` method is needed to perform the conversion.\r\n\r\nReplace this: \r\n```\r\nPredicate predicateDate = criteriaBuilder.greaterThanOrEqualTo(join5.get(&quot;dateEvenement&quot;), dateCreation);\r\n```\r\n\r\nWith this: \r\n```\r\nPredicate predicateDate = criteriaBuilder.greaterThanOrEqualTo(join5.get(&quot;dateEvenement&quot;).as(Date.class), dateCreation);\r\n```","title":"criteriaBuilder.greaterThanOrEqualTo Comparing dates without time","body":"<p>The <code>.as(Date.class)</code> method is needed to perform the conversion.</p>\n<p>Replace this:</p>\n<pre><code>Predicate predicateDate = criteriaBuilder.greaterThanOrEqualTo(join5.get(&quot;dateEvenement&quot;), dateCreation);\n</code></pre>\n<p>With this:</p>\n<pre><code>Predicate predicateDate = criteriaBuilder.greaterThanOrEqualTo(join5.get(&quot;dateEvenement&quot;).as(Date.class), dateCreation);\n</code></pre>\n"}],"owner":{"account_id":22757589,"reputation":1,"user_id":16916871,"display_name":"jm7757"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1767,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681718834,"creation_date":1631696995,"question_id":69190177,"body_markdown":"I&#39;m working with `criteriabuilder`. \r\nI want to extract from database all lines where date is after a given date WITHOUT TAKING ACCOUNT OF TIME\r\nThe given date dateCreation is without time, for example &quot;`2020-10-10`&quot; in format Date.\r\nDates in database are with `timestamp`. Join5 is a join between tables.\r\n\r\n**my original code is :**\r\n\r\n    Predicate predicateDate = criteriaBuilder.greaterThanOrEqualTo(join5.get(&quot;dateEvenement&quot;), dateCreation);\r\n\r\nif `dateCreation` is `20210906`, this code works partially but doesn&#39;t return lines where `dateEvenement` is `2021-09-06 10:11:45.014`\r\n\r\nI tried converting with `SimpleDateFormat` `yyyy-mm-dd` but `criteriaBuilder.greaterThanOrEqualTo` doesn&#39;t work on strings.\r\n\r\nI need probably take only the date get(&quot;dateEvenement&quot;) without time, but I don&#39;t know how to do. \r\n\r\nThanks for your help.\r\nRegards\r\n","title":"criteriaBuilder.greaterThanOrEqualTo Comparing dates without time","body":"<p>I'm working with <code>criteriabuilder</code>.\nI want to extract from database all lines where date is after a given date WITHOUT TAKING ACCOUNT OF TIME\nThe given date dateCreation is without time, for example &quot;<code>2020-10-10</code>&quot; in format Date.\nDates in database are with <code>timestamp</code>. Join5 is a join between tables.</p>\n<p><strong>my original code is :</strong></p>\n<pre><code>Predicate predicateDate = criteriaBuilder.greaterThanOrEqualTo(join5.get(&quot;dateEvenement&quot;), dateCreation);\n</code></pre>\n<p>if <code>dateCreation</code> is <code>20210906</code>, this code works partially but doesn't return lines where <code>dateEvenement</code> is <code>2021-09-06 10:11:45.014</code></p>\n<p>I tried converting with <code>SimpleDateFormat</code> <code>yyyy-mm-dd</code> but <code>criteriaBuilder.greaterThanOrEqualTo</code> doesn't work on strings.</p>\n<p>I need probably take only the date get(&quot;dateEvenement&quot;) without time, but I don't know how to do.</p>\n<p>Thanks for your help.\nRegards</p>\n"},{"tags":["java","sql-server","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1681718403,"post_id":76032877,"comment_id":134095802,"body_markdown":"Use a table type parameter.","body":"Use a table type parameter."},{"owner":{"account_id":9985464,"reputation":321,"user_id":7386829,"display_name":"Sivaram Kumar"},"score":0,"creation_date":1681719465,"post_id":76032877,"comment_id":134096043,"body_markdown":"@Thom A There is no support for table valued functions in Hibernate","body":"@Thom A There is no support for table valued functions in Hibernate"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1681719840,"post_id":76032877,"comment_id":134096127,"body_markdown":"You could try taking a look at this? https://stackoverflow.com/questions/68481838/limit-of-in-clause-in-jpa  and the associated https://stackoverflow.com/questions/52363704/jpa-and-1000-id-use-in-oracle-in-operator/52363760#52363760","body":"You could try taking a look at this? <a href=\"https://stackoverflow.com/questions/68481838/limit-of-in-clause-in-jpa\" title=\"limit of in clause in jpa\">stackoverflow.com/questions/68481838/limit-of-in-clause-in-j&zwnj;&#8203;pa</a>  and the associated <a href=\"https://stackoverflow.com/questions/52363704/jpa-and-1000-id-use-in-oracle-in-operator/52363760#52363760\" title=\"jpa and 1000 id use in oracle in operator\">stackoverflow.com/questions/52363704/&hellip;</a>"},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1681720197,"post_id":76032877,"comment_id":134096218,"body_markdown":"If there&#39;s no support for TTP&#39;s then you&#39;ll probably want to use a temporary table; `INSERT` all the values into the table and then use an `IN`/`EXISTS` against that temporary table instead. If the table is likely to contain thousands of values, then ensuring you create an `INDEX` on that temporary table probably isn&#39;t a bad idea either.","body":"If there&#39;s no support for TTP&#39;s then you&#39;ll probably want to use a temporary table; <code>INSERT</code> all the values into the table and then use an <code>IN</code>/<code>EXISTS</code> against that temporary table instead. If the table is likely to contain thousands of values, then ensuring you create an <code>INDEX</code> on that temporary table probably isn&#39;t a bad idea either."},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1681742359,"post_id":76032877,"comment_id":134101740,"body_markdown":"Oracle does not support IN clause with more than 1000 items, then you can split your set of items in 999-item subsets and forge a query as `attr IN (subset1) OR attr IN (subset2) OR ...`","body":"Oracle does not support IN clause with more than 1000 items, then you can split your set of items in 999-item subsets and forge a query as <code>attr IN (subset1) OR attr IN (subset2) OR ...</code>"}],"owner":{"account_id":9985464,"reputation":321,"user_id":7386829,"display_name":"Sivaram Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681718537,"creation_date":1681718342,"question_id":76032877,"body_markdown":"I&#39;m trying to send in large IN clause (possibly in thousands) in a Criteria Query using JPA and the query has reached its limit and ran out resources in SQLServer (error 8623).\r\n\r\n&gt;The query processor ran out of internal resources and could not produce a query plan. This is a rare event and only expected for extremely complex queries or queries that reference a very large number of tables or partitions. Please simplify the query. If you believe you have received this message in error, contact Customer Support Services for more information.\r\n\r\nI&#39;m aware that this is not a good practice to send in large set in IN clause. \r\n\r\nAs the results are paginated, partitioning and aggregating the results are not possible.\r\n\r\n```\r\nTypedQuery&lt;T&gt; typedQuery = entityManager.createQuery(criteriaQuery)\r\n\t\t.setLockMode(LockModeType.NONE)\r\n\t\t.setHint(QueryHints.READ_ONLY, true)\r\n\t\t.setFirstResult(0)\r\n\t\t.setMaxResults(10);\r\n```\r\n\r\nI&#39;m looking for possible solutions and suggestions to overcome this limit.","title":"What is the efficient way to send large IN clause in JPA/Hibernate","body":"<p>I'm trying to send in large IN clause (possibly in thousands) in a Criteria Query using JPA and the query has reached its limit and ran out resources in SQLServer (error 8623).</p>\n<blockquote>\n<p>The query processor ran out of internal resources and could not produce a query plan. This is a rare event and only expected for extremely complex queries or queries that reference a very large number of tables or partitions. Please simplify the query. If you believe you have received this message in error, contact Customer Support Services for more information.</p>\n</blockquote>\n<p>I'm aware that this is not a good practice to send in large set in IN clause.</p>\n<p>As the results are paginated, partitioning and aggregating the results are not possible.</p>\n<pre><code>TypedQuery&lt;T&gt; typedQuery = entityManager.createQuery(criteriaQuery)\n        .setLockMode(LockModeType.NONE)\n        .setHint(QueryHints.READ_ONLY, true)\n        .setFirstResult(0)\n        .setMaxResults(10);\n</code></pre>\n<p>I'm looking for possible solutions and suggestions to overcome this limit.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681718517,"post_id":76032787,"comment_id":134095831,"body_markdown":"Use `hasAuthority` instead of `hasRole`. The latter tries to match against `ROLE_USER` and not `USER`.","body":"Use <code>hasAuthority</code> instead of <code>hasRole</code>. The latter tries to match against <code>ROLE_USER</code> and not <code>USER</code>."}],"answers":[{"tags":[],"owner":{"account_id":15662438,"reputation":958,"user_id":11301085,"display_name":"BeardOverflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681718502,"creation_date":1681718502,"answer_id":76032895,"question_id":76032787,"body_markdown":"When 403 Forbidden occurs, it means that your user is authenticated but he doesn&#39;t have enough permissions.\r\n\r\nIn your case, you are mixing roles/authorities in your configuration.\r\n\r\nA role is an authority and can be translated to an authority, prefixing the role with &quot;ROLE_&quot;. For example: (Role: USER) -&gt; (Authority: ROLE_USER) or (Role: ADMIN) -&gt; (Authority: ROLE_ADMIN).\r\n\r\nYou have two choices:\r\n\r\n- **Use authorities only**. Change `.antMatchers(&quot;/api/user/**&quot;).hasRole(&quot;USER&quot;)` to `.antMatchers(&quot;/api/user/**&quot;).hasAuthority(&quot;USER&quot;)`\r\n\r\nOR\r\n\r\n- **Translate your roles**. Change `authorities.add(new SimpleGrantedAuthority(role))` to `authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role))`","title":"Spring Boot Security login success but always return forbidden","body":"<p>When 403 Forbidden occurs, it means that your user is authenticated but he doesn't have enough permissions.</p>\n<p>In your case, you are mixing roles/authorities in your configuration.</p>\n<p>A role is an authority and can be translated to an authority, prefixing the role with &quot;ROLE_&quot;. For example: (Role: USER) -&gt; (Authority: ROLE_USER) or (Role: ADMIN) -&gt; (Authority: ROLE_ADMIN).</p>\n<p>You have two choices:</p>\n<ul>\n<li><strong>Use authorities only</strong>. Change <code>.antMatchers(&quot;/api/user/**&quot;).hasRole(&quot;USER&quot;)</code> to <code>.antMatchers(&quot;/api/user/**&quot;).hasAuthority(&quot;USER&quot;)</code></li>\n</ul>\n<p>OR</p>\n<ul>\n<li><strong>Translate your roles</strong>. Change <code>authorities.add(new SimpleGrantedAuthority(role))</code> to <code>authorities.add(new SimpleGrantedAuthority(&quot;ROLE_&quot; + role))</code></li>\n</ul>\n"}],"owner":{"account_id":23351413,"reputation":40,"user_id":17424919,"display_name":"great-jin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76032895,"answer_count":1,"score":0,"last_activity_date":1681718502,"creation_date":1681717617,"question_id":76032787,"body_markdown":"I was use Spring Boot Security for my application, and the user role infomation is saved in mysql database. But after user success that always return 403 forbidden, no matter what kind authority user that I has been logined.\r\n\r\nHere is my test data record: \r\n```sql\r\nid, user_name, password, role, authority, is_enabled\r\n1, &quot;Hedworth&quot;, &quot;123&quot;, &quot;USER&quot;, 1, 1\r\n2, &quot;Geoffrey&quot;, &quot;123&quot;, &quot;ADMIN&quot;, 1, 1\r\n```\r\n\r\nHere is my MySQL entity java bean:\r\n```java\r\npublic class TbUser implements Serializable, UserDetails {\r\n\r\n    private static final long serialVersionUID = 213034465413641992L;\r\n\r\n    private String id;\r\n\r\n    private String userName;\r\n\r\n    private String password;\r\n\r\n    private String role;\r\n\r\n    private String authority;\r\n\r\n    private Integer isEnabled;\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        String[] roles = role.split(&quot;,&quot;);\r\n        List&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        for (String role : roles) {\r\n            authorities.add(new SimpleGrantedAuthority(role));\r\n        }\r\n        return authorities;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return this.userName;\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return this.password;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return this.isEnabled == 1;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe security user role infomation query.\r\n```java\r\npublic class TbUserServiceImpl implements TbUserService {\r\n\r\n    @Resource\r\n    private TbUserDao tbUserDao;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        return tbUserDao.queryByName(username);\r\n    }\r\n}\r\n```\r\n\r\nMy Security configuration.\r\n```java\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private TbUserService tbUserService;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(tbUserService)\r\n                .passwordEncoder(new CustomPwdEncoder());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable();\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/api/user/**&quot;).hasRole(&quot;USER&quot;)\r\n                .antMatchers(&quot;/api/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .and()\r\n                .httpBasic();\r\n    }\r\n}\r\n```\r\n","title":"Spring Boot Security login success but always return forbidden","body":"<p>I was use Spring Boot Security for my application, and the user role infomation is saved in mysql database. But after user success that always return 403 forbidden, no matter what kind authority user that I has been logined.</p>\n<p>Here is my test data record:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>id, user_name, password, role, authority, is_enabled\n1, &quot;Hedworth&quot;, &quot;123&quot;, &quot;USER&quot;, 1, 1\n2, &quot;Geoffrey&quot;, &quot;123&quot;, &quot;ADMIN&quot;, 1, 1\n</code></pre>\n<p>Here is my MySQL entity java bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TbUser implements Serializable, UserDetails {\n\n    private static final long serialVersionUID = 213034465413641992L;\n\n    private String id;\n\n    private String userName;\n\n    private String password;\n\n    private String role;\n\n    private String authority;\n\n    private Integer isEnabled;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        String[] roles = role.split(&quot;,&quot;);\n        List&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        for (String role : roles) {\n            authorities.add(new SimpleGrantedAuthority(role));\n        }\n        return authorities;\n    }\n\n    @Override\n    public String getUsername() {\n        return this.userName;\n    }\n\n    @Override\n    public String getPassword() {\n        return this.password;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return this.isEnabled == 1;\n    }\n\n}\n</code></pre>\n<p>The security user role infomation query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TbUserServiceImpl implements TbUserService {\n\n    @Resource\n    private TbUserDao tbUserDao;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return tbUserDao.queryByName(username);\n    }\n}\n</code></pre>\n<p>My Security configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private TbUserService tbUserService;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(tbUserService)\n                .passwordEncoder(new CustomPwdEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.authorizeRequests()\n                .antMatchers(&quot;/api/user/**&quot;).hasRole(&quot;USER&quot;)\n                .antMatchers(&quot;/api/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .and()\n                .httpBasic();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","google-maps","android-fragments"],"owner":{"account_id":28315803,"reputation":1,"user_id":21652392,"display_name":"Umar Shahzad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681718132,"creation_date":1681587867,"question_id":76024410,"body_markdown":"I have created an blank activity and then a blank fragment into it and then I use to add google map to it when I add any button on blank activity. Then, How could I make changes on my map, if for example, I want to change type of my map then how it could be done?\r\n\r\n\r\n**This is my main activity**\r\n\r\n    package com.example.maps;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.fragment.app.Fragment;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Spinner;\r\n    \r\n    import com.google.android.gms.maps.GoogleMap;\r\n    import com.google.android.gms.maps.MapView;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        MapFragment f;\r\n        GoogleMap mv;\r\n        Spinner maps;\r\n        @SuppressLint(&quot;MissingInflatedId&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            f=new MapFragment();\r\n            //f=findViewById(R.id.google_map);\r\n    \r\n            getSupportFragmentManager().beginTransaction().replace(R.id.frame,f).commit();\r\n            maps=(Spinner) findViewById(R.id.spinner);\r\n            ArrayAdapter &lt;CharSequence&gt; a=ArrayAdapter.createFromResource(getApplicationContext(),R.array.spinner_item, android.R.layout.simple_spinner_item);\r\n            a.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n            maps.setAdapter(a);\r\n            maps.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    if(Objects.equals(maps.getSelectedItem().toString(), &quot;Normal View&quot;)){\r\n                        mv.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n**Fragment Activity**\r\n\r\n    package com.example.maps;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.fragment.app.Fragment;\r\n    \r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import com.google.android.gms.maps.CameraUpdate;\r\n    import com.google.android.gms.maps.CameraUpdateFactory;\r\n    import com.google.android.gms.maps.GoogleMap;\r\n    import com.google.android.gms.maps.OnMapReadyCallback;\r\n    import com.google.android.gms.maps.SupportMapFragment;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    import com.google.android.gms.maps.model.MarkerOptions;\r\n    \r\n    public class MapFragment extends Fragment {\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View view=inflater.inflate(R.layout.fragment_map, container, false);\r\n            SupportMapFragment smf=(SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.google_map);\r\n    \r\n            smf.getMapAsync(new OnMapReadyCallback() {\r\n                @Override\r\n                public void onMapReady(@NonNull GoogleMap googleMap) {\r\n                    LatLng latLng=new LatLng(33.803,72.368);\r\n                    googleMap.getUiSettings().setZoomControlsEnabled(true);\r\n                    googleMap.animateCamera(CameraUpdateFactory.zoomTo(100));\r\n                    MarkerOptions mo=new MarkerOptions();\r\n                    googleMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n                    mo.position(latLng);\r\n                    mo.title(&quot;Home&quot;);\r\n                    googleMap.addMarker(mo);\r\n                    googleMap.getUiSettings().setCompassEnabled(true);\r\n    \r\n    \r\n                }\r\n            });\r\n            return view;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nI expect to change types of maps from my main and it can done on fragment activity.","title":"How to make changes on maps from another activity to a blank fragment?","body":"<p>I have created an blank activity and then a blank fragment into it and then I use to add google map to it when I add any button on blank activity. Then, How could I make changes on my map, if for example, I want to change type of my map then how it could be done?</p>\n<p><strong>This is my main activity</strong></p>\n<pre><code>package com.example.maps;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Spinner;\n\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.MapView;\n\nimport java.util.Objects;\n\npublic class MainActivity extends AppCompatActivity {\n    MapFragment f;\n    GoogleMap mv;\n    Spinner maps;\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        f=new MapFragment();\n        //f=findViewById(R.id.google_map);\n\n        getSupportFragmentManager().beginTransaction().replace(R.id.frame,f).commit();\n        maps=(Spinner) findViewById(R.id.spinner);\n        ArrayAdapter &lt;CharSequence&gt; a=ArrayAdapter.createFromResource(getApplicationContext(),R.array.spinner_item, android.R.layout.simple_spinner_item);\n        a.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        maps.setAdapter(a);\n        maps.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                if(Objects.equals(maps.getSelectedItem().toString(), &quot;Normal View&quot;)){\n                    mv.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n                }\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>Fragment Activity</strong></p>\n<pre><code>package com.example.maps;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport com.google.android.gms.maps.CameraUpdate;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\npublic class MapFragment extends Fragment {\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view=inflater.inflate(R.layout.fragment_map, container, false);\n        SupportMapFragment smf=(SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.google_map);\n\n        smf.getMapAsync(new OnMapReadyCallback() {\n            @Override\n            public void onMapReady(@NonNull GoogleMap googleMap) {\n                LatLng latLng=new LatLng(33.803,72.368);\n                googleMap.getUiSettings().setZoomControlsEnabled(true);\n                googleMap.animateCamera(CameraUpdateFactory.zoomTo(100));\n                MarkerOptions mo=new MarkerOptions();\n                googleMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n                mo.position(latLng);\n                mo.title(&quot;Home&quot;);\n                googleMap.addMarker(mo);\n                googleMap.getUiSettings().setCompassEnabled(true);\n\n\n            }\n        });\n        return view;\n    }\n\n}\n</code></pre>\n<p>I expect to change types of maps from my main and it can done on fragment activity.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651512681,"post_id":72090211,"comment_id":127377200,"body_markdown":"I&#39;m going to guess and say &quot;Any&quot;, since it would read the array/stream/string and simply pass the mimetype on. Don&#39;t take my word though - look at the source ;)","body":"I&#39;m going to guess and say &quot;Any&quot;, since it would read the array/stream/string and simply pass the mimetype on. Don&#39;t take my word though - look at the source ;)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651512722,"post_id":72090211,"comment_id":127377217,"body_markdown":"Read https://docs.oracle.com/javaee/7/api/javax/mail/util/ByteArrayDataSource.html (assuming this is javax.mail.util.ByteArrayDataSource)","body":"Read <a href=\"https://docs.oracle.com/javaee/7/api/javax/mail/util/ByteArrayDataSource.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/mail/util/&hellip;</a> (assuming this is javax.mail.util.ByteArrayDataSource)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651512897,"post_id":72090211,"comment_id":127377271,"body_markdown":"Looks like I&#39;m right according to https://github.com/javaee/javamail/blob/master/mail/src/main/java/javax/mail/util/ByteArrayDataSource.java. It simply accepts any mimetype you give it","body":"Looks like I&#39;m right according to <a href=\"https://github.com/javaee/javamail/blob/master/mail/src/main/java/javax/mail/util/ByteArrayDataSource.java\" rel=\"nofollow noreferrer\">github.com/javaee/javamail/blob/master/mail/src/main/java/ja&zwnj;&#8203;vax/&hellip;</a>. It simply accepts any mimetype you give it"},{"owner":{"account_id":14574364,"reputation":11,"user_id":11558849,"display_name":"Myphre"},"score":0,"creation_date":1651513006,"post_id":72090211,"comment_id":127377325,"body_markdown":"Hmmm understand now... Its like any MIME type, like from this source: https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Basics_of_HTTP/MIME_types\n\nThanks. I was trying to find some enum or anything like that","body":"Hmmm understand now... Its like any MIME type, like from this source: <a href=\"https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Basics_of_HTTP/MIME_types\" rel=\"nofollow noreferrer\">developer.mozilla.org/pt-BR/docs/Web/HTTP/Basics_of_HTTP/&hellip;</a>  Thanks. I was trying to find some enum or anything like that"}],"owner":{"account_id":14574364,"reputation":11,"user_id":11558849,"display_name":"Myphre"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681718004,"creation_date":1651512341,"question_id":72090211,"body_markdown":"I&#39;m writing an API that sends email with attachment and I see that the code:\r\n\r\n```java\r\nByteArrayDataSource imageDataSource = new ByteArrayDataSource(rawImage,&quot;image/png&quot;);\r\n```\r\n\r\nI want to pass the type of the file, but I can&#39;t find all types that ByteArrayDataSource accepts. \r\n\r\nWhere can I find it? I saw that I can put anything, like &quot;any/thing&quot; that accept it. But, there is no preview or I cant open the file without telling my SO which program to use. ","title":"how to know all ByteArrayDataSource types that are acceptable?","body":"<p>I'm writing an API that sends email with attachment and I see that the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ByteArrayDataSource imageDataSource = new ByteArrayDataSource(rawImage,&quot;image/png&quot;);\n</code></pre>\n<p>I want to pass the type of the file, but I can't find all types that ByteArrayDataSource accepts.</p>\n<p>Where can I find it? I saw that I can put anything, like &quot;any/thing&quot; that accept it. But, there is no preview or I cant open the file without telling my SO which program to use.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":4,"creation_date":1681508685,"post_id":76019014,"comment_id":134073567,"body_markdown":"You need to check the source and documentation - even while looking to the jars content you can not say if it is slim or fat jar. You can only guess by the amount of jars included as well or not.","body":"You need to check the source and documentation - even while looking to the jars content you can not say if it is slim or fat jar. You can only guess by the amount of jars included as well or not."},{"owner":{"account_id":197142,"reputation":16848,"user_id":441016,"accept_rate":69,"display_name":"1.21 gigawatts"},"score":0,"creation_date":1681508814,"post_id":76019014,"comment_id":134073583,"body_markdown":"@LenglBoy A fat jar is everything bundled into the jar? And a slim jar would be the opposite?","body":"@LenglBoy A fat jar is everything bundled into the jar? And a slim jar would be the opposite?"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":2,"creation_date":1681508916,"post_id":76019014,"comment_id":134073595,"body_markdown":"Thats true. Keep in mind that the build can be configures to build a fat jar BUT changing/renaming some basic folders. That&#39;s why very often only relative paths are used in code since you dont need to care about the final results then.","body":"Thats true. Keep in mind that the build can be configures to build a fat jar BUT changing/renaming some basic folders. That&#39;s why very often only relative paths are used in code since you dont need to care about the final results then."},{"owner":{"account_id":197142,"reputation":16848,"user_id":441016,"accept_rate":69,"display_name":"1.21 gigawatts"},"score":0,"creation_date":1681508976,"post_id":76019014,"comment_id":134073608,"body_markdown":"So, if I delete the `/target` (output?) directory and then compile, if there is more than the single jar I can assume it would be a slim jar accessing external resources? Is there a way to discover the target output folder or is that always a default directory (like &quot;/target&quot;)?","body":"So, if I delete the <code>&#47;target</code> (output?) directory and then compile, if there is more than the single jar I can assume it would be a slim jar accessing external resources? Is there a way to discover the target output folder or is that always a default directory (like &quot;/target&quot;)?"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":1,"creation_date":1681509721,"post_id":76019014,"comment_id":134073713,"body_markdown":"Since you have a pom maven by default creates fat-jars.\nSo no worries you can always execute it where ever JVM is installed BUT even on docker/.-.... it is always better to only use slim jar and make the server downloading somehow the needed libs.\nSaves time, space and is more efficient on all performances.","body":"Since you have a pom maven by default creates fat-jars. So no worries you can always execute it where ever JVM is installed BUT even on docker/.-.... it is always better to only use slim jar and make the server downloading somehow the needed libs. Saves time, space and is more efficient on all performances."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1681509973,"post_id":76019014,"comment_id":134073743,"body_markdown":"Folders inside the jar and folder where your jar is created can be configured at the POM so applied to your build in order to controll the full process","body":"Folders inside the jar and folder where your jar is created can be configured at the POM so applied to your build in order to controll the full process"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681512145,"post_id":76019014,"comment_id":134074027,"body_markdown":"When you extract the contents of the jar file, there should be a META-INF folder.  Inside that is a manifest file.  Can you paste the contents of that file in the question?  That should tell you what was included when the jar was built.  https://stackoverflow.com/questions/8453543/extracting-jar-file-with-command-line","body":"When you extract the contents of the jar file, there should be a META-INF folder.  Inside that is a manifest file.  Can you paste the contents of that file in the question?  That should tell you what was included when the jar was built.  <a href=\"https://stackoverflow.com/questions/8453543/extracting-jar-file-with-command-line\" title=\"extracting jar file with command line\">stackoverflow.com/questions/8453543/&hellip;</a>"},{"owner":{"account_id":197142,"reputation":16848,"user_id":441016,"accept_rate":69,"display_name":"1.21 gigawatts"},"score":0,"creation_date":1681515213,"post_id":76019014,"comment_id":134074314,"body_markdown":"@MacGyver I&#39;ve added the manifest. The names have been changed changed obviously.","body":"@MacGyver I&#39;ve added the manifest. The names have been changed changed obviously."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681515946,"post_id":76019014,"comment_id":134074369,"body_markdown":"There are optional parameters when calling the command, but this is the bare minimum way to rebuild the jar WITH the manifest file.  http://web.eecs.utk.edu/~bvanderz/cs461/notes/jar.html","body":"There are optional parameters when calling the command, but this is the bare minimum way to rebuild the jar WITH the manifest file.  <a href=\"http://web.eecs.utk.edu/~bvanderz/cs461/notes/jar.html\" rel=\"nofollow noreferrer\">web.eecs.utk.edu/~bvanderz/cs461/notes/jar.html</a>"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681516032,"post_id":76019014,"comment_id":134074376,"body_markdown":"https://stackoverflow.com/questions/304268/getting-a-files-md5-checksum-in-java","body":"<a href=\"https://stackoverflow.com/questions/304268/getting-a-files-md5-checksum-in-java\" title=\"getting a files md5 checksum in java\">stackoverflow.com/questions/304268/&hellip;</a>"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681516412,"post_id":76019014,"comment_id":134074415,"body_markdown":"&quot;A JAR file can have one entry point set in its manifest file. In this case, the JAR file is an executable JAR. The main class has to be included in that JAR file. A nonexecutable JAR is simply a JAR file that doesn&#39;t have a Main-Class defined in the manifest file.&quot;","body":"&quot;A JAR file can have one entry point set in its manifest file. In this case, the JAR file is an executable JAR. The main class has to be included in that JAR file. A nonexecutable JAR is simply a JAR file that doesn&#39;t have a Main-Class defined in the manifest file.&quot;"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":1,"creation_date":1681516483,"post_id":76019014,"comment_id":134074416,"body_markdown":"So according to the manifest, this is an executable JAR file.","body":"So according to the manifest, this is an executable JAR file."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681516641,"post_id":76019014,"comment_id":134074427,"body_markdown":"If you rebuild the jar using the manifest file and everything it references, does the new jar (from the rebuilding jar) file checksum come out the same or different as the jar file you have now?","body":"If you rebuild the jar using the manifest file and everything it references, does the new jar (from the rebuilding jar) file checksum come out the same or different as the jar file you have now?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681516930,"post_id":76019014,"comment_id":134074451,"body_markdown":"Another thing to mention.  There are MANY versions of the Java Virtual Machine (and corresponding JDK/SE/whatever it was called for each release).  Make sure the JVM version on your machine EXACTLY matches the version of the JAR!!!!!!! \n https://en.wikipedia.org/wiki/Java_version_history","body":"Another thing to mention.  There are MANY versions of the Java Virtual Machine (and corresponding JDK/SE/whatever it was called for each release).  Make sure the JVM version on your machine EXACTLY matches the version of the JAR!!!!!!!   <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_version_history</a>"},{"owner":{"account_id":197142,"reputation":16848,"user_id":441016,"accept_rate":69,"display_name":"1.21 gigawatts"},"score":0,"creation_date":1681596462,"post_id":76019014,"comment_id":134082815,"body_markdown":"@MacGyver I included the Java version I have installed. I don&#39;t remember the reasons for why I have the current version but something about compatibility with some software and other issues and I think that no longer matter. Although, there are some odd notes that say maybe to use Java 11 if some specified problems exist. IOW I can upgrade my java if need be.","body":"@MacGyver I included the Java version I have installed. I don&#39;t remember the reasons for why I have the current version but something about compatibility with some software and other issues and I think that no longer matter. Although, there are some odd notes that say maybe to use Java 11 if some specified problems exist. IOW I can upgrade my java if need be."}],"answers":[{"comments":[{"owner":{"account_id":197142,"reputation":16848,"user_id":441016,"accept_rate":69,"display_name":"1.21 gigawatts"},"score":0,"creation_date":1681595005,"post_id":76019793,"comment_id":134082668,"body_markdown":"I don&#39;t know if it&#39;s related but when I received the project the problems inspector didn&#39;t like the compiler source value at value 11. I had to change it to value 12. I&#39;ll update the main post","body":"I don&#39;t know if it&#39;s related but when I received the project the problems inspector didn&#39;t like the compiler source value at value 11. I had to change it to value 12. I&#39;ll update the main post"},{"owner":{"account_id":197142,"reputation":16848,"user_id":441016,"accept_rate":69,"display_name":"1.21 gigawatts"},"score":0,"creation_date":1681595232,"post_id":76019793,"comment_id":134082693,"body_markdown":"I have not edited the *.lic file but a full license was purchased. Without the *.lic the license errors will appear.","body":"I have not edited the *.lic file but a full license was purchased. Without the *.lic the license errors will appear."}],"tags":[],"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681717928,"creation_date":1681518734,"answer_id":76019793,"question_id":76019014,"body_markdown":"When the source code checks for an external file, and throws an exception when the external file is missing, this has no correlation with the executable JAR file during runtime with the JRE.  The file should still execute fine, but will clearly throw an exception and error out without the *.lic file.  According to the JAR manifest file, this *.lic file was not included as a reference file.\r\n\r\nIf you cannot get the JAR to run at all, that is likely because you are executing with an incompatible JRE version.  The vendor is likely creating their own JDK based on version 16 from the looks of the referenced JAR.  \r\n\r\nThe JDK `&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;+&lt;build&gt;` version and the JRE `&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;+&lt;build&gt;` from the `java --version` command are usually different because they were developed by different teams at Sun Microsystems and Oracle.  The JDK compiles the source code and creates the JAR (version is not always shown in the JAR).  The JRE executes the JAR.\r\n\r\nThe best you can do is look for (or make) a software compatibility matrix when dealing with multiple programming frameworks.  With this code, you have versions for the Maven plugin, JDK (from built JAR), JRE (from built JAR--for evidence), CLASSPATH packages (for built JAR), and JRE (your environment--for execution).\r\n\r\nThink twice before changing the source code.  Tampering with a license file like this is against the law if it&#39;s not open source.","title":"How to know if a jar is self contained or needs external resources?","body":"<p>When the source code checks for an external file, and throws an exception when the external file is missing, this has no correlation with the executable JAR file during runtime with the JRE.  The file should still execute fine, but will clearly throw an exception and error out without the *.lic file.  According to the JAR manifest file, this *.lic file was not included as a reference file.</p>\n<p>If you cannot get the JAR to run at all, that is likely because you are executing with an incompatible JRE version.  The vendor is likely creating their own JDK based on version 16 from the looks of the referenced JAR.</p>\n<p>The JDK <code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;+&lt;build&gt;</code> version and the JRE <code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;+&lt;build&gt;</code> from the <code>java --version</code> command are usually different because they were developed by different teams at Sun Microsystems and Oracle.  The JDK compiles the source code and creates the JAR (version is not always shown in the JAR).  The JRE executes the JAR.</p>\n<p>The best you can do is look for (or make) a software compatibility matrix when dealing with multiple programming frameworks.  With this code, you have versions for the Maven plugin, JDK (from built JAR), JRE (from built JAR--for evidence), CLASSPATH packages (for built JAR), and JRE (your environment--for execution).</p>\n<p>Think twice before changing the source code.  Tampering with a license file like this is against the law if it's not open source.</p>\n"}],"owner":{"account_id":197142,"reputation":16848,"user_id":441016,"accept_rate":69,"display_name":"1.21 gigawatts"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681717928,"creation_date":1681507215,"question_id":76019014,"body_markdown":"I have a jar file that is giving errors that have led to this question. How do I know if a jar is self contained or if it is loading external resources? \r\n\r\nThe jar references a license file (`*.lic`) in the main constructor. Shouldn&#39;t this be included in the final jar build? \r\n\r\nHere is the main class: \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tcheckLicense();\r\n\t}\r\n\r\n\tprivate static void checkLicense() {\r\n\t\tInputStream licenseStream = null;\r\n\r\n\t\ttry {\r\n\t\t\tlicenseStream = Main.class.getClassLoader().getResourceAsStream(&quot;Vendor.lic&quot;);\r\n\t\t\tif (licenseStream == null) {\r\n\t\t\t\tthrow new NullPointerException();\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(&quot;Missing Vendor license resource&quot;);\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tLicense license = new License();\r\n\t\t\tlicense.setLicense(licenseStream);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(&quot;Invalid Vendor license&quot;);\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\r\nIf the `Vendor.lic` is not there then there is an error, &quot;Missing Vendor license resource&quot;. \r\n\r\nIf the `Vendor.lic` is there but the classes folder is not there I get another error for &quot;java.lang.ClassNotFoundException&quot;. \r\n\r\nI see two other .jar files in the same directory. \r\n\r\nCan the license be included? Does the jar need other files to work correctly? It seems like it won&#39;t work if run independently outside of the folder structure it is in that looks something like this: \r\n\r\n```\r\n/myproject.jar\r\n/classes/generatedsources\r\n/classes/com/mydomain/myproject/Main.class\r\n```\r\n\r\nI create the jar using `mvn clean package`. \r\n\r\nFYI I&#39;d like it to be self contained. \r\n\r\nThere is a POM.XML and that lists two entries in the `dependencies` node. There is also a `copy dependencies` in the `plugin\\executions` node. \r\n\r\n**Jar Manifest**  \r\n\r\n```\r\nManifest-Version: 1.0\r\nCreated-By: Maven JAR Plugin 3.3.0\r\nBuild-Jdk-Spec: 19\r\nClass-Path: vendor-1.0.0-jdk16.jar helper-library-1.0.0.jar\r\nSpecification-Title: myproject\r\nSpecification-Version: 1.0\r\nImplementation-Title: myproject\r\nImplementation-Version: 1.0.0\r\nMain-Class: com.domain.project.Main\r\n```\r\n\r\nThe pom.xml:  \r\n\r\nOriginal:  \r\n\r\n```\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\nAdjusted to relieve the problems errors: \r\n```\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\nProblems inspector prior to changing value:  \r\n[![enter image description here][1]][1]\r\n\r\nMore of the pom.xml:  \r\n```\r\n  &lt;groupId&gt;com.myproject&lt;/groupId&gt;\r\n  &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;com.mydomain.myproject.Main&lt;/mainClass&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n              &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n              &lt;includeScope&gt;compile&lt;/includeScope&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n...\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.3rdPartyVendorDomain&lt;/groupId&gt;\r\n      &lt;artifactId&gt;3rdPartyVendorDomain-library&lt;/artifactId&gt;\r\n      &lt;version&gt;10&lt;/version&gt;\r\n      &lt;classifier&gt;jdk16&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.14.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\nThe Jar is run from the command line using:  \r\n```\r\njava -jar myproject.jar --parameter1 value --parameter2 value\r\n```\r\n\r\nMy Java version:  \r\n```\r\n&gt; java --version\r\njava 12.0.1 2019-04-16\r\nJava(TM) SE Runtime Environment (build 12.0.1+12)\r\nJava HotSpot(TM) 64-Bit Server VM (build 12.0.1+12, mixed mode, sharing)\r\n```\r\n  [1]: https://i.stack.imgur.com/HpS6u.png","title":"How to know if a jar is self contained or needs external resources?","body":"<p>I have a jar file that is giving errors that have led to this question. How do I know if a jar is self contained or if it is loading external resources?</p>\n<p>The jar references a license file (<code>*.lic</code>) in the main constructor. Shouldn't this be included in the final jar build?</p>\n<p>Here is the main class:</p>\n<pre><code>public static void main(String[] args) {\n    checkLicense();\n}\n\nprivate static void checkLicense() {\n    InputStream licenseStream = null;\n\n    try {\n        licenseStream = Main.class.getClassLoader().getResourceAsStream(&quot;Vendor.lic&quot;);\n        if (licenseStream == null) {\n            throw new NullPointerException();\n        }\n    } catch (Exception e) {\n        System.err.println(&quot;Missing Vendor license resource&quot;);\n        System.exit(1);\n    }\n\n    try {\n        License license = new License();\n        license.setLicense(licenseStream);\n    } catch (Exception e) {\n        System.err.println(&quot;Invalid Vendor license&quot;);\n        System.exit(1);\n    }\n</code></pre>\n<p>If the <code>Vendor.lic</code> is not there then there is an error, &quot;Missing Vendor license resource&quot;.</p>\n<p>If the <code>Vendor.lic</code> is there but the classes folder is not there I get another error for &quot;java.lang.ClassNotFoundException&quot;.</p>\n<p>I see two other .jar files in the same directory.</p>\n<p>Can the license be included? Does the jar need other files to work correctly? It seems like it won't work if run independently outside of the folder structure it is in that looks something like this:</p>\n<pre><code>/myproject.jar\n/classes/generatedsources\n/classes/com/mydomain/myproject/Main.class\n</code></pre>\n<p>I create the jar using <code>mvn clean package</code>.</p>\n<p>FYI I'd like it to be self contained.</p>\n<p>There is a POM.XML and that lists two entries in the <code>dependencies</code> node. There is also a <code>copy dependencies</code> in the <code>plugin\\executions</code> node.</p>\n<p><strong>Jar Manifest</strong></p>\n<pre><code>Manifest-Version: 1.0\nCreated-By: Maven JAR Plugin 3.3.0\nBuild-Jdk-Spec: 19\nClass-Path: vendor-1.0.0-jdk16.jar helper-library-1.0.0.jar\nSpecification-Title: myproject\nSpecification-Version: 1.0\nImplementation-Title: myproject\nImplementation-Version: 1.0.0\nMain-Class: com.domain.project.Main\n</code></pre>\n<p>The pom.xml:</p>\n<p>Original:</p>\n<pre><code>  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>Adjusted to relieve the problems errors:</p>\n<pre><code>  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>Problems inspector prior to changing value:<br />\n<a href=\"https://i.stack.imgur.com/HpS6u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HpS6u.png\" alt=\"enter image description here\" /></a></p>\n<p>More of the pom.xml:</p>\n<pre><code>  &lt;groupId&gt;com.myproject&lt;/groupId&gt;\n  &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.mydomain.myproject.Main&lt;/mainClass&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n              &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.10&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n              &lt;includeScope&gt;compile&lt;/includeScope&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n...\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.3rdPartyVendorDomain&lt;/groupId&gt;\n      &lt;artifactId&gt;3rdPartyVendorDomain-library&lt;/artifactId&gt;\n      &lt;version&gt;10&lt;/version&gt;\n      &lt;classifier&gt;jdk16&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n      &lt;version&gt;2.14.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>The Jar is run from the command line using:</p>\n<pre><code>java -jar myproject.jar --parameter1 value --parameter2 value\n</code></pre>\n<p>My Java version:</p>\n<pre><code>&gt; java --version\njava 12.0.1 2019-04-16\nJava(TM) SE Runtime Environment (build 12.0.1+12)\nJava HotSpot(TM) 64-Bit Server VM (build 12.0.1+12, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","spring-boot","entitymanager"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681373023,"post_id":76003023,"comment_id":134046537,"body_markdown":"Is nothing getting logged?  How is this *app* getting started?","body":"Is nothing getting logged?  How is this <i>app</i> getting started?"},{"owner":{"account_id":28292142,"reputation":11,"user_id":21632099,"display_name":"carlos lopez"},"score":0,"creation_date":1681373240,"post_id":76003023,"comment_id":134046588,"body_markdown":"nothing is getting logged yet, i only trying to get data from my database using entitymanager, i start the app by clicking in maven spring-boot-run","body":"nothing is getting logged yet, i only trying to get data from my database using entitymanager, i start the app by clicking in maven spring-boot-run"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681373612,"post_id":76003023,"comment_id":134046656,"body_markdown":"Well it looks like you have tomcat running - it has logs","body":"Well it looks like you have tomcat running - it has logs"},{"owner":{"account_id":28292142,"reputation":11,"user_id":21632099,"display_name":"carlos lopez"},"score":0,"creation_date":1681373822,"post_id":76003023,"comment_id":134046703,"body_markdown":"yeah tomcat run automatically when i run the app","body":"yeah tomcat run automatically when i run the app"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681374149,"post_id":76003023,"comment_id":134046786,"body_markdown":"Hello, I recommend using JPARepository interface instead of entity manager and hard-coded SQL query.","body":"Hello, I recommend using JPARepository interface instead of entity manager and hard-coded SQL query."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681374198,"post_id":76003023,"comment_id":134046793,"body_markdown":"I would take a wild guess and say that it is likely that you do not have access to your db.  Can you connect using another mysql client?","body":"I would take a wild guess and say that it is likely that you do not have access to your db.  Can you connect using another mysql client?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681374343,"post_id":76003023,"comment_id":134046816,"body_markdown":"Check datasource url. Missing port number?","body":"Check datasource url. Missing port number?"}],"owner":{"account_id":28292142,"reputation":11,"user_id":21632099,"display_name":"carlos lopez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681717914,"creation_date":1681372858,"question_id":76003023,"body_markdown":"I&#39;m trying to use the EntityManager in my Spring Boot application, but I keep getting a NullPointerException when calling methods on it. Specifically, the error message is: &quot;Cannot invoke javax.persistence.EntityManager.createQuery(String) because this.entityManager is null.&quot;\r\n\r\nHere is my repository class\r\n\r\n\r\n```\r\n\r\npackage com.cursojava.curso.respositories;\r\n\r\nimport com.cursojava.curso.models.WebPage;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.PersistenceContext;\r\nimport java.util.List;\r\n@Repository\r\npublic class SearchRepositoryImp implements SearchRepository {\r\n\r\n    @PersistenceContext\r\n    EntityManager entityManager;\r\n\r\n    @Transactional\r\n    @Override\r\n    public List&lt;WebPage&gt; search (String textSearch){\r\n        String query = &quot;FROM WebPage WHERE description LIKE :textSearch&quot;;\r\n        return entityManager.createQuery(query)\r\n                .setParameter(&quot;textSearch&quot;,textSearch)\r\n                .getResultList();\r\n    }\r\n\r\n}\r\n```\r\n\r\nModel class:\r\n\r\n```\r\nimport jakarta.persistence.*;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Entity\r\n@Table(name=&quot;Webpage&quot;)\r\n@ToString @EqualsAndHashCode\r\n@Getter @Setter\r\npublic class WebPage {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;id&quot;)\r\n    private Long id;\r\n    @Column(name=&quot;url&quot;)\r\n    private String url;\r\n    @Column(name=&quot;title&quot;)\r\n    private String title;\r\n    @Column(name=&quot;description&quot;)\r\n    private String description;\r\n}\r\n\r\n```\r\nService class:\r\n\r\n```\r\npackage com.cursojava.curso.services;\r\n\r\nimport com.cursojava.curso.models.WebPage;\r\nimport com.cursojava.curso.respositories.SearchRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class SearchService {\r\n    @Autowired\r\n    private SearchRepository repository;\r\n    public List&lt;WebPage&gt; search(String textSearch) {\r\n\r\n        return repository.search(textSearch);\r\n    }\r\n}\r\n\r\n\r\n```\r\nMy pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.cursojava&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;curso&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;curso&lt;/name&gt;\r\n\t&lt;description&gt;clon google&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.20&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.19&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAnd my aplication properties:\r\n```\r\n\r\n# GENERAL\r\nserver.port=8080\r\n\r\n# DATABASE\r\nspring.datasource.url=jdbc:mysql://localhost/cursojava?useSSL=false\r\nspring.datasource.dbname=cursojava\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.hbm2ddl.auto=updatedup\r\n\r\n\r\n\r\n```\r\n\r\n\r\nI&#39;m trying to get some data from my mySQL database.","title":"Cannot invoke &quot;javax.persistence.EntityManager.createQuery(String)&quot; because &quot;this.entityManager&quot; is null","body":"<p>I'm trying to use the EntityManager in my Spring Boot application, but I keep getting a NullPointerException when calling methods on it. Specifically, the error message is: &quot;Cannot invoke javax.persistence.EntityManager.createQuery(String) because this.entityManager is null.&quot;</p>\n<p>Here is my repository class</p>\n<pre><code>\npackage com.cursojava.curso.respositories;\n\nimport com.cursojava.curso.models.WebPage;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport java.util.List;\n@Repository\npublic class SearchRepositoryImp implements SearchRepository {\n\n    @PersistenceContext\n    EntityManager entityManager;\n\n    @Transactional\n    @Override\n    public List&lt;WebPage&gt; search (String textSearch){\n        String query = &quot;FROM WebPage WHERE description LIKE :textSearch&quot;;\n        return entityManager.createQuery(query)\n                .setParameter(&quot;textSearch&quot;,textSearch)\n                .getResultList();\n    }\n\n}\n</code></pre>\n<p>Model class:</p>\n<pre><code>import jakarta.persistence.*;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Entity\n@Table(name=&quot;Webpage&quot;)\n@ToString @EqualsAndHashCode\n@Getter @Setter\npublic class WebPage {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Long id;\n    @Column(name=&quot;url&quot;)\n    private String url;\n    @Column(name=&quot;title&quot;)\n    private String title;\n    @Column(name=&quot;description&quot;)\n    private String description;\n}\n\n</code></pre>\n<p>Service class:</p>\n<pre><code>package com.cursojava.curso.services;\n\nimport com.cursojava.curso.models.WebPage;\nimport com.cursojava.curso.respositories.SearchRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n\nimport java.util.List;\n\n@Service\npublic class SearchService {\n    @Autowired\n    private SearchRepository repository;\n    public List&lt;WebPage&gt; search(String textSearch) {\n\n        return repository.search(textSearch);\n    }\n}\n\n\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.cursojava&lt;/groupId&gt;\n    &lt;artifactId&gt;curso&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;curso&lt;/name&gt;\n    &lt;description&gt;clon google&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.20&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.19&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>And my aplication properties:</p>\n<pre><code>\n# GENERAL\nserver.port=8080\n\n# DATABASE\nspring.datasource.url=jdbc:mysql://localhost/cursojava?useSSL=false\nspring.datasource.dbname=cursojava\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.generate-ddl=true\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.hbm2ddl.auto=updatedup\n\n\n\n</code></pre>\n<p>I'm trying to get some data from my mySQL database.</p>\n"},{"tags":["java","hibernate","sqlite","pom.xml","spring-framework-beans"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681569250,"post_id":76022451,"comment_id":134079332,"body_markdown":"Try this: spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect","body":"Try this: spring.jpa.database-platform=org.hibernate.community.dialect&zwnj;&#8203;.SQLiteDialect"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681569462,"post_id":76022451,"comment_id":134079354,"body_markdown":"And also, as you a using the newest versions of Spring Boot you should also use Hibernate 6. The best way to manage the versions of Spring Boot dependencies is to use spring-boot-starter-parent with version tag and remove the version tags of other dependencies.","body":"And also, as you a using the newest versions of Spring Boot you should also use Hibernate 6. The best way to manage the versions of Spring Boot dependencies is to use spring-boot-starter-parent with version tag and remove the version tags of other dependencies."}],"owner":{"account_id":25618478,"reputation":1,"user_id":19390718,"display_name":"buer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681717461,"creation_date":1681563927,"question_id":76022451,"body_markdown":"I&#39;m new to this.I&#39;m trying to make a Todo List but I keep getting an error and I couldn&#39;t fix it. I will be glad if you help. Thanks... I want to save the POJO I created in sqlite, but I keep getting an error.\r\n\r\nI can&#39;t find the mistake I made.\r\n```Intellij ide\r\napplication.properties\r\n\r\nspring.datasource.url=jdbc:sqlite:C:/Java/src/todolist/todolist/Todo.db\r\nspring.datasource.driver-class-name=org.sqlite.JDBC\r\nspring.jpa.database-platform=org.hibernate.dialect.SQLiteDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.devtools.restart.enabled=false\r\n```\r\n\r\n\r\n```\r\nPOM:XML\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.myjavafx&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;todolist&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;name&gt;todolist&lt;/name&gt;\r\n\t&lt;description&gt;Todo List&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-boot.version&gt;3.0.5&lt;/spring-boot.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Spring Boot Dependencies --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;!-- Hibernate and Jakarta Persistence API Dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.14.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.14.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Optional Development Dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.34.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot Test Dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- Spring Boot Maven Plugin --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;todos&quot;)\r\npublic class Todo {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;created_at&quot;)\r\n    private LocalDateTime createdAt;\r\n\r\n    @Column(name = &quot;completed_at&quot;)\r\n    private LocalDateTime completedAt;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Status status;\r\n\r\n    public enum Status {\r\n        TODO,\r\n        IN_PROGRESS,\r\n        COMPLETED\r\n    }\r\n\r\n    // Constructors\r\n    public Todo() {}\r\n\r\n    public Todo(String name) {\r\n        this.name = name;\r\n        this.status = Status.TODO;\r\n        this.createdAt = LocalDateTime.now();\r\n    }\r\n\r\n    // Getters and Setters\r\n    public Long getId() { return id; }\r\n    public void setId(Long id) { this.id = id; }\r\n\r\n    public String getName() { return name; }\r\n    public void setName(String name) { this.name = name; }\r\n\r\n    public LocalDateTime getCreatedAt() { return createdAt; }\r\n    public void setCreatedAt(LocalDateTime createdAt) { this.createdAt = createdAt; }\r\n\r\n    public LocalDateTime getCompletedAt() { return completedAt; }\r\n    public void setCompletedAt(LocalDateTime completedAt) { this.completedAt = completedAt; }\r\n\r\n    public Status getStatus() { return status; }\r\n    public void setStatus(Status status) { this.status = status; }\r\n}\r\n```\r\nI need to access a SQLite database with java. i get this error:\r\n\r\n\r\n```\r\norg.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.SQLiteDialect] as strategy [org.hibernate.dialect.Dialect]\r\n\tat com.myjavafx.todolist.TodolistApplication.main(TodolistApplication.java:11) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.SQLiteDialect]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:123) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:151) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 44 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.SQLiteDialect\r\n\tError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-04-15T15:02:12.345+02:00 ERROR 15444 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\r\n\t... 44 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.SQLiteDialect\r\n\r\nProcess finished with exit code 0```\r\n\r\n\r\nI am waiting for the tables to be created in sqlite by doing these operations. and to be able to add and remove in the HTml page I created.\r\nI&#39;m new to this. I&#39;m trying to make a Todo List but I keep getting an error and I couldn&#39;t fix it. I will be glad if you help. Thanks...I want to save the POJO I created in sqlite, but I keep getting an error.I&#39;m new to this.I&#39;m trying to make a Todo List but I keep getting an error and I couldn&#39;t fix it. I will be glad if you help.Thanks...I want to save the POJO I created in sqlite, but I keep getting an error.\r\n\r\n","title":"Unable to resolve name [org.hibernate.dialect.SQLiteDialect] as strategy [org.hibernate.dialect.Dialect","body":"<p>I'm new to this.I'm trying to make a Todo List but I keep getting an error and I couldn't fix it. I will be glad if you help. Thanks... I want to save the POJO I created in sqlite, but I keep getting an error.</p>\n<p>I can't find the mistake I made.</p>\n<pre><code>application.properties\n\nspring.datasource.url=jdbc:sqlite:C:/Java/src/todolist/todolist/Todo.db\nspring.datasource.driver-class-name=org.sqlite.JDBC\nspring.jpa.database-platform=org.hibernate.dialect.SQLiteDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.devtools.restart.enabled=false\n</code></pre>\n<pre><code>POM:XML\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.myjavafx&lt;/groupId&gt;\n    &lt;artifactId&gt;todolist&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;todolist&lt;/name&gt;\n    &lt;description&gt;Todo List&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-boot.version&gt;3.0.5&lt;/spring-boot.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Spring Boot Dependencies --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- Hibernate and Jakarta Persistence API Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.14.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.14.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Optional Development Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.34.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot Test Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Spring Boot Maven Plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;todos&quot;)\npublic class Todo {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;created_at&quot;)\n    private LocalDateTime createdAt;\n\n    @Column(name = &quot;completed_at&quot;)\n    private LocalDateTime completedAt;\n\n    @Enumerated(EnumType.STRING)\n    private Status status;\n\n    public enum Status {\n        TODO,\n        IN_PROGRESS,\n        COMPLETED\n    }\n\n    // Constructors\n    public Todo() {}\n\n    public Todo(String name) {\n        this.name = name;\n        this.status = Status.TODO;\n        this.createdAt = LocalDateTime.now();\n    }\n\n    // Getters and Setters\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n\n    public String getName() { return name; }\n    public void setName(String name) { this.name = name; }\n\n    public LocalDateTime getCreatedAt() { return createdAt; }\n    public void setCreatedAt(LocalDateTime createdAt) { this.createdAt = createdAt; }\n\n    public LocalDateTime getCompletedAt() { return completedAt; }\n    public void setCompletedAt(LocalDateTime completedAt) { this.completedAt = completedAt; }\n\n    public Status getStatus() { return status; }\n    public void setStatus(Status status) { this.status = status; }\n}\n</code></pre>\n<p>I need to access a SQLite database with java. i get this error:</p>\n<pre><code>org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.SQLiteDialect] as strategy [org.hibernate.dialect.Dialect]\n    at com.myjavafx.todolist.TodolistApplication.main(TodolistApplication.java:11) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.SQLiteDialect]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:123) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:151) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    ... 44 common frames omitted\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.SQLiteDialect\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-15T15:02:12.345+02:00 ERROR 15444 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n\n    ... 44 common frames omitted\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.SQLiteDialect\n\nProcess finished with exit code 0```\n\n\nI am waiting for the tables to be created in sqlite by doing these operations. and to be able to add and remove in the HTml page I created.\nI'm new to this. I'm trying to make a Todo List but I keep getting an error and I couldn't fix it. I will be glad if you help. Thanks...I want to save the POJO I created in sqlite, but I keep getting an error.I'm new to this.I'm trying to make a Todo List but I keep getting an error and I couldn't fix it. I will be glad if you help.Thanks...I want to save the POJO I created in sqlite, but I keep getting an error.\n\n</code></pre>\n"},{"tags":["java","redis","redisson"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1676631872,"post_id":75483200,"comment_id":133180724,"body_markdown":"I think any technology or tool is used to solve problems. Maybe they are not very suitable in some scenarios, but it does not mean that they are not good. After all, they were born because they can solve some problems.In my opinion, it is better to choose the right tool than the trendy tool","body":"I think any technology or tool is used to solve problems. Maybe they are not very suitable in some scenarios, but it does not mean that they are not good. After all, they were born because they can solve some problems.In my opinion, it is better to choose the right tool than the trendy tool"},{"owner":{"account_id":3572516,"reputation":141,"user_id":2982506,"display_name":"Dmitry Shabalin"},"score":0,"creation_date":1676632675,"post_id":75483200,"comment_id":133180928,"body_markdown":"I hope redisson is suitable here but i doing something wrong. I keep option to switch to jedis or some another java client to redis but in first trying to find the issue","body":"I hope redisson is suitable here but i doing something wrong. I keep option to switch to jedis or some another java client to redis but in first trying to find the issue"}],"answers":[{"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681717408,"creation_date":1681717408,"answer_id":76032763,"question_id":75483200,"body_markdown":"That might be caused by cleanup process. Which can be tuned by increasing https://github.com/redisson/redisson/wiki/2.-Configuration#mincleanupdelay and https://github.com/redisson/redisson/wiki/2.-Configuration#cleanupkeysamount settings","title":"Redisson is spamming redis","body":"<p>That might be caused by cleanup process. Which can be tuned by increasing <a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration#mincleanupdelay\" rel=\"nofollow noreferrer\">https://github.com/redisson/redisson/wiki/2.-Configuration#mincleanupdelay</a> and <a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration#cleanupkeysamount\" rel=\"nofollow noreferrer\">https://github.com/redisson/redisson/wiki/2.-Configuration#cleanupkeysamount</a> settings</p>\n"}],"owner":{"account_id":3572516,"reputation":141,"user_id":2982506,"display_name":"Dmitry Shabalin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681717408,"creation_date":1676630509,"question_id":75483200,"body_markdown":"Spring boot app using hibernate and redis as cache. \r\nProblem is - redis have up-to 80K op/sec when app get 250 rps.\r\nhere is spring configuration for redis (from https://redisson.org/glossary/spring-cache.html)\r\n```\r\n@Bean\r\n    public CacheManager cacheManager(RedissonClient redissonClient) {\r\n            return new RedissonSpringCacheManager(redissonClient) {\r\n                @Override\r\n                public Cache getCache(String cacheName) {\r\n                    Cache cache = super.getCache(cacheName);\r\n                    return new RedisCacheWrapper(cache);\r\n                }\r\n\r\n                @Override\r\n                protected CacheConfig createDefaultConfig() {\r\n                    CacheConfig cacheConfig = new CacheConfig(ttl, maxIdleTime);\r\n                    cacheConfig.setMaxSize(maxSize);\r\n                    return cacheConfig;\r\n                }\r\n            };\r\n    }\r\n```\r\n\r\nhibernate just @Cache annotation on cache required entity \r\n```\r\n@Cache(region = HIBERNATE_MY_REGION, usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class MyEntity{\r\n...\r\n} \r\nand next libs\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;redisson-hibernate-53&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;redisson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\ni checked app in local and opening some pages (no any hard work under the hood, just getting by id and external id) and there are profiling from redisinsignt\r\n\r\n[![profiling for 9 sec][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/2wWtJ.png\r\n\r\nFor now moved redis to cluster mode and up multiple slave redis modes to be able handle so many op/sec. ","title":"Redisson is spamming redis","body":"<p>Spring boot app using hibernate and redis as cache.\nProblem is - redis have up-to 80K op/sec when app get 250 rps.\nhere is spring configuration for redis (from <a href=\"https://redisson.org/glossary/spring-cache.html\" rel=\"nofollow noreferrer\">https://redisson.org/glossary/spring-cache.html</a>)</p>\n<pre><code>@Bean\n    public CacheManager cacheManager(RedissonClient redissonClient) {\n            return new RedissonSpringCacheManager(redissonClient) {\n                @Override\n                public Cache getCache(String cacheName) {\n                    Cache cache = super.getCache(cacheName);\n                    return new RedisCacheWrapper(cache);\n                }\n\n                @Override\n                protected CacheConfig createDefaultConfig() {\n                    CacheConfig cacheConfig = new CacheConfig(ttl, maxIdleTime);\n                    cacheConfig.setMaxSize(maxSize);\n                    return cacheConfig;\n                }\n            };\n    }\n</code></pre>\n<p>hibernate just @Cache annotation on cache required entity</p>\n<pre><code>@Cache(region = HIBERNATE_MY_REGION, usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class MyEntity{\n...\n} \nand next libs\n &lt;dependency&gt;\n            &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n            &lt;artifactId&gt;redisson-hibernate-53&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n            &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>i checked app in local and opening some pages (no any hard work under the hood, just getting by id and external id) and there are profiling from redisinsignt</p>\n<p><a href=\"https://i.stack.imgur.com/2wWtJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2wWtJ.png\" alt=\"profiling for 9 sec\" /></a></p>\n<p>For now moved redis to cluster mode and up multiple slave redis modes to be able handle so many op/sec.</p>\n"},{"tags":["java","android","mvvm","android-room","android-workmanager"],"answers":[{"tags":[],"owner":{"account_id":21241126,"reputation":53,"user_id":15624575,"display_name":"George Sinis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618424712,"creation_date":1618424712,"answer_id":67097139,"question_id":67094984,"body_markdown":"Ok so i figured it out. I used the LiveData obj that is available from WorkInfo to get the output data and the state of the task.\r\n\r\n 1. First thing i did was declare the LiveData obj inside my ViewModel `private LiveData&lt;List&lt;WorkInfo&gt;&gt; workerOutPut;`\r\n 2. Then in the view model constructor initialize my LiveData like this `workerOutPut = workManager.getWorkInfosByTagLiveData(ADD_WORKOUT_WORKER_QUEUE_TAG);`\r\n 3. Made a getter for the LiveData (in the ViewModel ofcourse)\r\n 4. Then i just simply made an Observer inside my activity that checked the status of the Worker based on a boolean i set inside the Worker output Data.\r\n\r\nAnd that was it. I am new to all this so if anyone has anything to add please feel free to do so. I will post the complete code for other new &quot;players&quot; to help them a bit. \r\n\r\n**Worker.java**\r\n\r\n    public class AddWorkoutWorker extends Worker {\r\n    \r\n        public static final String WORK_WORKOUT_NAME = &quot;workout&quot;;\r\n        public static final String WORK_WORKOUT_TYPE = &quot;type&quot;;\r\n        public static final String WORK_FAILURE_TAG = &quot;failed&quot;;\r\n        public static final String WORK_SUCCESS_TAG = &quot;success&quot;;\r\n        private static final String ADD_WORKOUT_WORKER_TAG = &quot;Worker Tag&quot;;\r\n        private WorkoutDAO workoutDAO;\r\n        private AppDatabase database;\r\n        Boolean workSuccess;\r\n    \r\n        //Worker constructor\r\n        public AddWorkoutWorker(@NonNull Context context, @NonNull WorkerParameters workerParams) {\r\n            super(context, workerParams);\r\n            database = AppDatabase.getInstance(context);\r\n            workoutDAO = database.workoutDAO();\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Result doWork() {\r\n    \r\n            //Gets input data\r\n            Data inputData = getInputData();\r\n            String workoutName = inputData.getString(WORK_WORKOUT_NAME);\r\n            String workoutType = inputData.getString(WORK_WORKOUT_TYPE);\r\n    \r\n    \r\n            if (workoutName != null &amp;&amp; workoutType != null){\r\n                //Inserts item in database through DAO\r\n                Log.d(ADD_WORKOUT_WORKER_TAG,&quot;Worker data passed: &quot;+workoutName + workoutType);\r\n                Workout workout = new Workout(workoutName, workoutType);\r\n                workoutDAO.insertSingleWorkout(workout);\r\n            }else{\r\n                //Returns false if the worker doesn&#39;t add the item to the database\r\n                workSuccess = false;\r\n                Data output = new Data.Builder()\r\n                        .putBoolean(WORK_FAILURE_TAG,workSuccess)\r\n                        .build();\r\n                return Result.failure(output);\r\n            }\r\n    \r\n            //Returns true if the worker adds the item to the database\r\n            workSuccess = true;\r\n            Data output = new Data.Builder()\r\n                    .putBoolean(WORK_SUCCESS_TAG, workSuccess)\r\n                    .build();\r\n    \r\n            return Result.success(output);\r\n        }\r\n    }\r\n\r\n**ViewModel.java**\r\n\r\n    public class AddWorkoutViewModel extends AndroidViewModel {\r\n    \r\n        private static final String WORKOUT_VIEW_MODEL = &quot;Workout View Model&quot;;\r\n        private AddWorkoutRepository repository;\r\n        private AddWorkoutWorker worker;\r\n        private WorkManager workManager;\r\n        private Boolean check;\r\n        private LiveData&lt;List&lt;WorkInfo&gt;&gt; workerOutPut;\r\n        //private LiveData&lt;List&lt;Workout&gt;&gt; AllWorkouts;\r\n    \r\n        public AddWorkoutViewModel(@NonNull Application application) {\r\n            super(application);\r\n            repository = new AddWorkoutRepository(application);\r\n            workManager = WorkManager.getInstance(application);\r\n            workerOutPut = workManager.getWorkInfosByTagLiveData(ADD_WORKOUT_WORKER_QUEUE_TAG);\r\n            //AllWorkouts = repository.getAllWorkouts();\r\n        }\r\n    \r\n    \r\n        /*public LiveData&lt;List&lt;Workout&gt;&gt; getWorkoutList(){\r\n            return AllWorkouts;\r\n        }*/\r\n    \r\n        public LiveData&lt;List&lt;WorkInfo&gt;&gt; checkWorkerStatus(){\r\n            return workerOutPut;\r\n        }\r\n    \r\n        public void insertData(Workout workout){\r\n            Log.d(WORKOUT_VIEW_MODEL,&quot;View Model Insert Data&quot;);\r\n            repository.insertWorkout(workout);\r\n        }\r\n    }\r\n\r\n***The observer inside the activity***\r\n\r\n    //Observes LiveData from WorkManager AddWorkoutWorker to validate if worker functioned correctly\r\n            mAddWorkoutViewModel.checkWorkerStatus().observe(this, new Observer&lt;List&lt;WorkInfo&gt;&gt;() {\r\n                @Override\r\n                public void onChanged(List&lt;WorkInfo&gt; workInfos) {\r\n    \r\n                    if(workInfos.isEmpty() || workInfos == null){\r\n                        Log.d(ADD_WORKOUT_WORKER_EMPTY,&quot;Worker is empty&quot;);\r\n                    }else{\r\n    \r\n                        if(workInfos.get(0).getOutputData().getBoolean(WORK_SUCCESS_TAG, false)){\r\n    \r\n                            //If works do stuff here\r\n    \r\n                        }else{\r\n                            Toast.makeText(AddWorkoutActivity.this,&quot;Something went wrong. Try again.&quot;,Toast.LENGTH_LONG);\r\n                        }\r\n    \r\n                    }\r\n    \r\n                }\r\n            });\r\n\r\nFor those that might wonder. I use workInfos.get(0) because we only have ONE single worker that we are checking. I would assume if we had multiple workers at the same time we could have made a case for each one.","title":"How do i get the Output Data from a Worker? (MVVM + WorkManager + Room)","body":"<p>Ok so i figured it out. I used the LiveData obj that is available from WorkInfo to get the output data and the state of the task.</p>\n<ol>\n<li>First thing i did was declare the LiveData obj inside my ViewModel <code>private LiveData&lt;List&lt;WorkInfo&gt;&gt; workerOutPut;</code></li>\n<li>Then in the view model constructor initialize my LiveData like this <code>workerOutPut = workManager.getWorkInfosByTagLiveData(ADD_WORKOUT_WORKER_QUEUE_TAG);</code></li>\n<li>Made a getter for the LiveData (in the ViewModel ofcourse)</li>\n<li>Then i just simply made an Observer inside my activity that checked the status of the Worker based on a boolean i set inside the Worker output Data.</li>\n</ol>\n<p>And that was it. I am new to all this so if anyone has anything to add please feel free to do so. I will post the complete code for other new &quot;players&quot; to help them a bit.</p>\n<p><strong>Worker.java</strong></p>\n<pre><code>public class AddWorkoutWorker extends Worker {\n\n    public static final String WORK_WORKOUT_NAME = &quot;workout&quot;;\n    public static final String WORK_WORKOUT_TYPE = &quot;type&quot;;\n    public static final String WORK_FAILURE_TAG = &quot;failed&quot;;\n    public static final String WORK_SUCCESS_TAG = &quot;success&quot;;\n    private static final String ADD_WORKOUT_WORKER_TAG = &quot;Worker Tag&quot;;\n    private WorkoutDAO workoutDAO;\n    private AppDatabase database;\n    Boolean workSuccess;\n\n    //Worker constructor\n    public AddWorkoutWorker(@NonNull Context context, @NonNull WorkerParameters workerParams) {\n        super(context, workerParams);\n        database = AppDatabase.getInstance(context);\n        workoutDAO = database.workoutDAO();\n    }\n\n    @NonNull\n    @Override\n    public Result doWork() {\n\n        //Gets input data\n        Data inputData = getInputData();\n        String workoutName = inputData.getString(WORK_WORKOUT_NAME);\n        String workoutType = inputData.getString(WORK_WORKOUT_TYPE);\n\n\n        if (workoutName != null &amp;&amp; workoutType != null){\n            //Inserts item in database through DAO\n            Log.d(ADD_WORKOUT_WORKER_TAG,&quot;Worker data passed: &quot;+workoutName + workoutType);\n            Workout workout = new Workout(workoutName, workoutType);\n            workoutDAO.insertSingleWorkout(workout);\n        }else{\n            //Returns false if the worker doesn't add the item to the database\n            workSuccess = false;\n            Data output = new Data.Builder()\n                    .putBoolean(WORK_FAILURE_TAG,workSuccess)\n                    .build();\n            return Result.failure(output);\n        }\n\n        //Returns true if the worker adds the item to the database\n        workSuccess = true;\n        Data output = new Data.Builder()\n                .putBoolean(WORK_SUCCESS_TAG, workSuccess)\n                .build();\n\n        return Result.success(output);\n    }\n}\n</code></pre>\n<p><strong>ViewModel.java</strong></p>\n<pre><code>public class AddWorkoutViewModel extends AndroidViewModel {\n\n    private static final String WORKOUT_VIEW_MODEL = &quot;Workout View Model&quot;;\n    private AddWorkoutRepository repository;\n    private AddWorkoutWorker worker;\n    private WorkManager workManager;\n    private Boolean check;\n    private LiveData&lt;List&lt;WorkInfo&gt;&gt; workerOutPut;\n    //private LiveData&lt;List&lt;Workout&gt;&gt; AllWorkouts;\n\n    public AddWorkoutViewModel(@NonNull Application application) {\n        super(application);\n        repository = new AddWorkoutRepository(application);\n        workManager = WorkManager.getInstance(application);\n        workerOutPut = workManager.getWorkInfosByTagLiveData(ADD_WORKOUT_WORKER_QUEUE_TAG);\n        //AllWorkouts = repository.getAllWorkouts();\n    }\n\n\n    /*public LiveData&lt;List&lt;Workout&gt;&gt; getWorkoutList(){\n        return AllWorkouts;\n    }*/\n\n    public LiveData&lt;List&lt;WorkInfo&gt;&gt; checkWorkerStatus(){\n        return workerOutPut;\n    }\n\n    public void insertData(Workout workout){\n        Log.d(WORKOUT_VIEW_MODEL,&quot;View Model Insert Data&quot;);\n        repository.insertWorkout(workout);\n    }\n}\n</code></pre>\n<p><em><strong>The observer inside the activity</strong></em></p>\n<pre><code>//Observes LiveData from WorkManager AddWorkoutWorker to validate if worker functioned correctly\n        mAddWorkoutViewModel.checkWorkerStatus().observe(this, new Observer&lt;List&lt;WorkInfo&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;WorkInfo&gt; workInfos) {\n\n                if(workInfos.isEmpty() || workInfos == null){\n                    Log.d(ADD_WORKOUT_WORKER_EMPTY,&quot;Worker is empty&quot;);\n                }else{\n\n                    if(workInfos.get(0).getOutputData().getBoolean(WORK_SUCCESS_TAG, false)){\n\n                        //If works do stuff here\n\n                    }else{\n                        Toast.makeText(AddWorkoutActivity.this,&quot;Something went wrong. Try again.&quot;,Toast.LENGTH_LONG);\n                    }\n\n                }\n\n            }\n        });\n</code></pre>\n<p>For those that might wonder. I use workInfos.get(0) because we only have ONE single worker that we are checking. I would assume if we had multiple workers at the same time we could have made a case for each one.</p>\n"}],"owner":{"account_id":21241126,"reputation":53,"user_id":15624575,"display_name":"George Sinis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2391,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681717218,"creation_date":1618415330,"question_id":67094984,"body_markdown":"I am using MVVM and enqueuing a worker from my Repository. The workers job is just to insert some data into the database but i would like to get access to some Output data when the background task is finished so i can verify if the data went inside the Database without issue or not. I tried using WorkInfo.State or  get the data with getOutputData but it doesn&#39;t seem to work for some reason. Any ideas on how i can achieve this?\r\n\r\nHere is the code for reference:\r\n\r\n**AddWorkoutWorker.java** \r\n\r\n    public class AddWorkoutWorker extends Worker {\r\n    \r\n        public static final String WORK_WORKOUT_NAME = &quot;workout&quot;;\r\n        public static final String WORK_WORKOUT_TYPE = &quot;type&quot;;\r\n        public static final String WORK_FAILURE_TAG = &quot;failed&quot;;\r\n        public static final String WORK_SUCCESS_TAG = &quot;success&quot;;\r\n        private static final String WORKER_TAG = &quot;Worker Tag&quot;;\r\n        private WorkoutDAO workoutDAO;\r\n        private AppDatabase database;\r\n        Boolean workSuccess;\r\n    \r\n        //Worker constructor\r\n        public AddWorkoutWorker(@NonNull Context context, @NonNull WorkerParameters workerParams) {\r\n            super(context, workerParams);\r\n            database = AppDatabase.getInstance(context);\r\n            workoutDAO = database.workoutDAO();\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Result doWork() {\r\n    \r\n            //Gets input data\r\n            Data inputData = getInputData();\r\n            String workoutName = inputData.getString(WORK_WORKOUT_NAME);\r\n            String workoutType = inputData.getString(WORK_WORKOUT_TYPE);\r\n    \r\n    \r\n            if (workoutName != null &amp;&amp; workoutType != null){\r\n                //Inserts item in database through DAO\r\n                Log.d(WORKER_TAG,&quot;Worker data passed: &quot;+workoutName + workoutType);\r\n                Workout workout = new Workout(workoutName, workoutType);\r\n                workoutDAO.insertSingleWorkout(workout);\r\n            }else{\r\n                //Returns false if the worker doesn&#39;t add the item to the database\r\n                workSuccess = false;\r\n                Data output = new Data.Builder()\r\n                        .putBoolean(WORK_FAILURE_TAG,workSuccess)\r\n                        .build();\r\n                return Result.failure(output);\r\n            }\r\n    \r\n            //Returns true if the worker adds the item to the database\r\n            workSuccess = true;\r\n            Data output = new Data.Builder()\r\n                    .putBoolean(WORK_SUCCESS_TAG, workSuccess)\r\n                    .build();\r\n    \r\n            return Result.success(output);\r\n        }\r\n    }\r\n\r\n**AddWorkoutRepository.java**\r\n\r\n    public class AddWorkoutRepository{\r\n    \r\n        private static final String REPOSITORY_TAG = &quot;REPOSITORY TAG&quot;;\r\n        public static final String WORKER_QUEUE_TAG = &quot;Importing Single Workout&quot;;\r\n        public WorkoutDAO workoutDAO;\r\n        private final WorkManager workManager;\r\n        private AppDatabase database;\r\n        //private LiveData&lt;List&lt;Workout&gt;&gt; workouts;\r\n    \r\n    \r\n    \r\n        public AddWorkoutRepository(Application application){\r\n    \r\n            database = AppDatabase.getInstance(application);\r\n            workoutDAO = database.workoutDAO();\r\n            workManager = WorkManager.getInstance(application.getApplicationContext());\r\n            //workouts = workoutDAO.getAllWorkoutsLiveData();\r\n    \r\n        }\r\n    \r\n        /*public LiveData&lt;List&lt;Workout&gt;&gt; getAllWorkouts(){\r\n            return workouts;\r\n        }*/\r\n    \r\n        public void insertWorkout(Workout workout){\r\n    \r\n            String workoutName = workout.getWorkoutName();\r\n            String workoutType = workout.getWorkoutType();\r\n    \r\n            Log.d(REPOSITORY_TAG, &quot;Insert Values passed: &quot;+workoutName + workoutType);\r\n    \r\n            Data data = new Data.Builder()\r\n                    .putString(WORK_WORKOUT_NAME, workoutName)\r\n                    .putString(WORK_WORKOUT_TYPE, workoutType)\r\n                    .build();\r\n    \r\n            OneTimeWorkRequest importDataRequest = new OneTimeWorkRequest.Builder(AddWorkoutWorker.class)\r\n                    .setInputData(data)\r\n                    .addTag(WORKER_QUEUE_TAG)\r\n                    .build();\r\n    \r\n            workManager.enqueue(importDataRequest);\r\n    \r\n            Log.d(REPOSITORY_TAG, &quot;After work manager task OK&quot;);\r\n    \r\n        }\r\n    \r\n    }","title":"How do i get the Output Data from a Worker? (MVVM + WorkManager + Room)","body":"<p>I am using MVVM and enqueuing a worker from my Repository. The workers job is just to insert some data into the database but i would like to get access to some Output data when the background task is finished so i can verify if the data went inside the Database without issue or not. I tried using WorkInfo.State or  get the data with getOutputData but it doesn't seem to work for some reason. Any ideas on how i can achieve this?</p>\n<p>Here is the code for reference:</p>\n<p><strong>AddWorkoutWorker.java</strong></p>\n<pre><code>public class AddWorkoutWorker extends Worker {\n\n    public static final String WORK_WORKOUT_NAME = &quot;workout&quot;;\n    public static final String WORK_WORKOUT_TYPE = &quot;type&quot;;\n    public static final String WORK_FAILURE_TAG = &quot;failed&quot;;\n    public static final String WORK_SUCCESS_TAG = &quot;success&quot;;\n    private static final String WORKER_TAG = &quot;Worker Tag&quot;;\n    private WorkoutDAO workoutDAO;\n    private AppDatabase database;\n    Boolean workSuccess;\n\n    //Worker constructor\n    public AddWorkoutWorker(@NonNull Context context, @NonNull WorkerParameters workerParams) {\n        super(context, workerParams);\n        database = AppDatabase.getInstance(context);\n        workoutDAO = database.workoutDAO();\n    }\n\n    @NonNull\n    @Override\n    public Result doWork() {\n\n        //Gets input data\n        Data inputData = getInputData();\n        String workoutName = inputData.getString(WORK_WORKOUT_NAME);\n        String workoutType = inputData.getString(WORK_WORKOUT_TYPE);\n\n\n        if (workoutName != null &amp;&amp; workoutType != null){\n            //Inserts item in database through DAO\n            Log.d(WORKER_TAG,&quot;Worker data passed: &quot;+workoutName + workoutType);\n            Workout workout = new Workout(workoutName, workoutType);\n            workoutDAO.insertSingleWorkout(workout);\n        }else{\n            //Returns false if the worker doesn't add the item to the database\n            workSuccess = false;\n            Data output = new Data.Builder()\n                    .putBoolean(WORK_FAILURE_TAG,workSuccess)\n                    .build();\n            return Result.failure(output);\n        }\n\n        //Returns true if the worker adds the item to the database\n        workSuccess = true;\n        Data output = new Data.Builder()\n                .putBoolean(WORK_SUCCESS_TAG, workSuccess)\n                .build();\n\n        return Result.success(output);\n    }\n}\n</code></pre>\n<p><strong>AddWorkoutRepository.java</strong></p>\n<pre><code>public class AddWorkoutRepository{\n\n    private static final String REPOSITORY_TAG = &quot;REPOSITORY TAG&quot;;\n    public static final String WORKER_QUEUE_TAG = &quot;Importing Single Workout&quot;;\n    public WorkoutDAO workoutDAO;\n    private final WorkManager workManager;\n    private AppDatabase database;\n    //private LiveData&lt;List&lt;Workout&gt;&gt; workouts;\n\n\n\n    public AddWorkoutRepository(Application application){\n\n        database = AppDatabase.getInstance(application);\n        workoutDAO = database.workoutDAO();\n        workManager = WorkManager.getInstance(application.getApplicationContext());\n        //workouts = workoutDAO.getAllWorkoutsLiveData();\n\n    }\n\n    /*public LiveData&lt;List&lt;Workout&gt;&gt; getAllWorkouts(){\n        return workouts;\n    }*/\n\n    public void insertWorkout(Workout workout){\n\n        String workoutName = workout.getWorkoutName();\n        String workoutType = workout.getWorkoutType();\n\n        Log.d(REPOSITORY_TAG, &quot;Insert Values passed: &quot;+workoutName + workoutType);\n\n        Data data = new Data.Builder()\n                .putString(WORK_WORKOUT_NAME, workoutName)\n                .putString(WORK_WORKOUT_TYPE, workoutType)\n                .build();\n\n        OneTimeWorkRequest importDataRequest = new OneTimeWorkRequest.Builder(AddWorkoutWorker.class)\n                .setInputData(data)\n                .addTag(WORKER_QUEUE_TAG)\n                .build();\n\n        workManager.enqueue(importDataRequest);\n\n        Log.d(REPOSITORY_TAG, &quot;After work manager task OK&quot;);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","kotlin","rfid"],"answers":[{"comments":[{"owner":{"account_id":216810,"reputation":16567,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"score":0,"creation_date":1681716822,"post_id":76021661,"comment_id":134095495,"body_markdown":"thanx for your kind reply. I really have no idea about modeindex/modeidentifier, I&#39;m just reading default settings and trying to apply them to reader back. What&#39;s wrong with this?\n\nJust added to my original post settings of reader, can you please say what&#39;s wrong there?","body":"thanx for your kind reply. I really have no idea about modeindex/modeidentifier, I&#39;m just reading default settings and trying to apply them to reader back. What&#39;s wrong with this?  Just added to my original post settings of reader, can you please say what&#39;s wrong there?"}],"tags":[],"owner":{"account_id":22068355,"reputation":1,"user_id":16329805,"display_name":"Onyximo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681554518,"creation_date":1681554518,"answer_id":76021661,"question_id":76013858,"body_markdown":"From what I can see it looks like the ModeIndex for your C1G2RFControl is out of range. The LLRP standard has historically mixed together ModeIndex and ModeIdentifier, which I have found to be confusing at best in some cases very ambiguous direction when  selecting a reader mode. Are you working with a sllurp inventory? If so try --mode-identifier N instead of -mode-index and see if that helps. If you want to find out the the mode designations your specific Impinj reader model supports through the C1G2RFControl option, check the reader&#39;s documentation or run sllurp --debug inventory command on the reader to get a dump of the supported modes. Let me know if this helps.","title":"Octane SDK (impinj RFID reader) fails to save settings","body":"<p>From what I can see it looks like the ModeIndex for your C1G2RFControl is out of range. The LLRP standard has historically mixed together ModeIndex and ModeIdentifier, which I have found to be confusing at best in some cases very ambiguous direction when  selecting a reader mode. Are you working with a sllurp inventory? If so try --mode-identifier N instead of -mode-index and see if that helps. If you want to find out the the mode designations your specific Impinj reader model supports through the C1G2RFControl option, check the reader's documentation or run sllurp --debug inventory command on the reader to get a dump of the supported modes. Let me know if this helps.</p>\n"}],"owner":{"account_id":216810,"reputation":16567,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681716777,"creation_date":1681466366,"question_id":76013858,"body_markdown":"I got Speedway R420 RFID reader. Trying to read tags. It does work on a real model connected to emulator or real Android device, but during field test it fails. Studying logs I managed to clarify that it fails during simple enough operation. Here&#39;s draft code:\r\n\r\n    val reader = ImpinjReader()\r\n    reader.name = &quot;ATZ Reader&quot;\r\n    reader.connectTimeout = 60000\r\n    reader.connect(readerHostname) //10.1.30.172\r\n    reader.setKeepaliveListener { impinjReader, keepaliveEvent -&gt;\r\n                Timber.d(&quot;Keepalive received from %s, %s, %s&quot;,\r\n                 impinjReader.name, impinjReader.address, keepaliveEvent)\r\n                _connectStatus.tryEmit(RfIdStatus.Success)\r\n    }\r\n    reader.setConnectionLostListener {\r\n                if(!it.isConnected) {\r\n                    logger.logRFID(&quot;Los connection ${it.name}, ${it.address}&quot;)\r\n                    _connectStatus.tryEmit(RfIdStatus.Disconnected)\r\n                }\r\n                else\r\n                    _connectStatus.tryEmit(RfIdStatus.Success)\r\n            }\r\n    reader.tagReportListener = tagReportListener\r\n    val settings = reader.queryDefaultSettings()\r\n    reader.applySettings(settings) //Exception thrown at this line\r\n    reader.saveSettings()\r\n    reader.start()\r\n    CoroutineScope(newSingleThreadContext(&quot;rfid reader&quot;)).launch {\r\n                while (true) {\r\n                    delay(10000)\r\n                    try {\r\n                        reader.queryTags()\r\n                        _connectStatus.emit(RfIdStatus.Success)\r\n                        logger.logRFID(&quot;Tags queried&quot;)\r\n                    } catch (e: OctaneSdkException) {\r\n                        logger.logRFID(&quot;Tags query error ${e.message}&quot;)\r\n                        reader.disconnect()\r\n                        break\r\n                    }\r\n                }\r\n    }\r\n\r\nHere&#39;s stacktrace:\r\n\r\n    OctaneSdk exception: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;llrp:ADD_ROSPEC_RESPONSE xmlns:llrp=&quot;http://www.llrp.org/ltk/schema/core/encoding/xml/1.0&quot; xmlns:Impinj=&quot;http://developer.impinj.com/ltk/schema/encoding/xml/1.46&quot; Version=&quot;1&quot; MessageID=&quot;5&quot;&gt;\r\n      &lt;llrp:LLRPStatus&gt;\r\n        &lt;llrp:StatusCode&gt;M_FieldError&lt;/llrp:StatusCode&gt;\r\n        &lt;llrp:ErrorDescription&gt;LLRP [420] : //C1G2RFControl/ModeIndex : out-of-range&lt;/llrp:ErrorDescription&gt;\r\n        &lt;llrp:ParameterError&gt;\r\n          &lt;llrp:ParameterType&gt;177&lt;/llrp:ParameterType&gt;\r\n          &lt;llrp:ErrorCode&gt;P_ParameterError&lt;/llrp:ErrorCode&gt;\r\n          &lt;llrp:ParameterError&gt;\r\n            &lt;llrp:ParameterType&gt;183&lt;/llrp:ParameterType&gt;\r\n            &lt;llrp:ErrorCode&gt;P_ParameterError&lt;/llrp:ErrorCode&gt;\r\n            &lt;llrp:ParameterError&gt;\r\n              &lt;llrp:ParameterType&gt;186&lt;/llrp:ParameterType&gt;\r\n              &lt;llrp:ErrorCode&gt;P_ParameterError&lt;/llrp:ErrorCode&gt;\r\n              &lt;llrp:ParameterError&gt;\r\n                &lt;llrp:ParameterType&gt;222&lt;/llrp:ParameterType&gt;\r\n                &lt;llrp:ErrorCode&gt;P_ParameterError&lt;/llrp:ErrorCode&gt;\r\n                &lt;llrp:ParameterError&gt;\r\n                  &lt;llrp:ParameterType&gt;330&lt;/llrp:ParameterType&gt;\r\n                  &lt;llrp:ErrorCode&gt;P_ParameterError&lt;/llrp:ErrorCode&gt;\r\n                  &lt;llrp:ParameterError&gt;\r\n                    &lt;llrp:ParameterType&gt;335&lt;/llrp:ParameterType&gt;\r\n                    &lt;llrp:ErrorCode&gt;P_FieldError&lt;/llrp:ErrorCode&gt;\r\n                    &lt;llrp:FieldError&gt;\r\n                      &lt;llrp:FieldNum&gt;1&lt;/llrp:FieldNum&gt;\r\n                      &lt;llrp:ErrorCode&gt;A_OutOfRange&lt;/llrp:ErrorCode&gt;\r\n                    &lt;/llrp:FieldError&gt;\r\n                  &lt;/llrp:ParameterError&gt;\r\n                &lt;/llrp:ParameterError&gt;\r\n              &lt;/llrp:ParameterError&gt;\r\n            &lt;/llrp:ParameterError&gt;\r\n          &lt;/llrp:ParameterError&gt;\r\n        &lt;/llrp:ParameterError&gt;\r\n      &lt;/llrp:LLRPStatus&gt;\r\n    &lt;/llrp:ADD_ROSPEC_RESPONSE&gt;\r\n    \r\n    \r\n    \tat com.impinj.octane.ImpinjReader.addRoSpec(ImpinjReader.java:1220)\r\n    \tat com.impinj.octane.ImpinjReader.applySettingsWithOptionalFactoryReset(ImpinjReader.java:1050)\r\n    \tat com.impinj.octane.ImpinjReader.applySettings(ImpinjReader.java:1008)\r\n    \tat com.impinj.octane.ImpinjReader.applySettings(ImpinjReader.java:1068)\r\n    \tat ru.avangard.refueler.features.datacollector.service.RfidReaderClient.setVariantA(RfidReaderClient.kt:70)\r\n    \tat ru.avangard.refueler.features.datacollector.service.RfidReaderClient.start(RfidReaderClient.kt:48)\r\n    \tat ru.avangard.refueler.features.datacollector.service.DataCollectorService$startRfidReaderClient$1.invokeSuspend(DataCollectorService.kt:131)\r\n    \tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n    \tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n    \tat kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\r\n    \tat kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\r\n    \tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\r\n    \tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\r\n    \tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\r\n    \tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\r\n\r\nAny ideas, hints, clues?\r\n\r\n**Update:**\r\n\r\nSettings read from device are following:\r\n\r\n    {\r\n      &quot;antennas&quot;: {\r\n        &quot;antennaCollectionCreatedBySerializer&quot;: false,\r\n        &quot;antennaConfigs&quot;: [\r\n          {\r\n            &quot;enabled&quot;: true,\r\n            &quot;isMaxRxSensitivity&quot;: true,\r\n            &quot;isMaxTxPower&quot;: true,\r\n            &quot;portName&quot;: &quot;Antenna Port 1&quot;,\r\n            &quot;portNumber&quot;: 1,\r\n            &quot;rxSensitivityinDbm&quot;: 0.0,\r\n            &quot;txPowerinDbm&quot;: 0.0\r\n          },\r\n          {\r\n            &quot;enabled&quot;: true,\r\n            &quot;isMaxRxSensitivity&quot;: true,\r\n            &quot;isMaxTxPower&quot;: true,\r\n            &quot;portName&quot;: &quot;Antenna Port 2&quot;,\r\n            &quot;portNumber&quot;: 2,\r\n            &quot;rxSensitivityinDbm&quot;: 0.0,\r\n            &quot;txPowerinDbm&quot;: 0.0\r\n          },\r\n          {\r\n            &quot;enabled&quot;: true,\r\n            &quot;isMaxRxSensitivity&quot;: true,\r\n            &quot;isMaxTxPower&quot;: true,\r\n            &quot;portName&quot;: &quot;Antenna Port 3&quot;,\r\n            &quot;portNumber&quot;: 3,\r\n            &quot;rxSensitivityinDbm&quot;: 0.0,\r\n            &quot;txPowerinDbm&quot;: 0.0\r\n          },\r\n          {\r\n            &quot;enabled&quot;: true,\r\n            &quot;isMaxRxSensitivity&quot;: true,\r\n            &quot;isMaxTxPower&quot;: true,\r\n            &quot;portName&quot;: &quot;Antenna Port 4&quot;,\r\n            &quot;portNumber&quot;: 4,\r\n            &quot;rxSensitivityinDbm&quot;: 0.0,\r\n            &quot;txPowerinDbm&quot;: 0.0\r\n          }\r\n        ],\r\n        &quot;isMaxRxSensitivity&quot;: true,\r\n        &quot;isMaxTxPower&quot;: true,\r\n        &quot;polarizationEnabled&quot;: false,\r\n        &quot;rxSensitivityinDbm&quot;: 0.0,\r\n        &quot;txPowerinDbm&quot;: 0.0\r\n      },\r\n      &quot;autoStart&quot;: {\r\n        &quot;firstDelayInMs&quot;: 0,\r\n        &quot;gpiPortNumber&quot;: 0,\r\n        &quot;mode&quot;: &quot;Immediate&quot;,\r\n        &quot;periodInMs&quot;: 0,\r\n        &quot;utcTimestamp&quot;: 0\r\n      },\r\n      &quot;autoStop&quot;: {\r\n        &quot;durationInMs&quot;: 0,\r\n        &quot;gpiPortNumber&quot;: 0,\r\n        &quot;mode&quot;: &quot;None&quot;,\r\n        &quot;timeout&quot;: 0\r\n      },\r\n      &quot;filters&quot;: {\r\n        &quot;Mode&quot;: &quot;None&quot;,\r\n        &quot;TagFilter1&quot;: {\r\n          &quot;BitCount&quot;: 0,\r\n          &quot;BitPointer&quot;: 0\r\n        },\r\n        &quot;TagFilter2&quot;: {\r\n          &quot;BitCount&quot;: 0,\r\n          &quot;BitPointer&quot;: 0\r\n        },\r\n        &quot;tagSelectFilterList&quot;: []\r\n      },\r\n      &quot;gpis&quot;: {\r\n        &quot;gpiCollectionCreatedBySerializer&quot;: false,\r\n        &quot;gpiConfigs&quot;: [\r\n          {\r\n            &quot;debounceInMs&quot;: 0,\r\n            &quot;isEnabled&quot;: false,\r\n            &quot;portNumber&quot;: 1\r\n          },\r\n          {\r\n            &quot;debounceInMs&quot;: 0,\r\n            &quot;isEnabled&quot;: false,\r\n            &quot;portNumber&quot;: 2\r\n          },\r\n          {\r\n            &quot;debounceInMs&quot;: 0,\r\n            &quot;isEnabled&quot;: false,\r\n            &quot;portNumber&quot;: 3\r\n          },\r\n          {\r\n            &quot;debounceInMs&quot;: 0,\r\n            &quot;isEnabled&quot;: false,\r\n            &quot;portNumber&quot;: 4\r\n          }\r\n        ]\r\n      },\r\n      &quot;gpos&quot;: {\r\n        &quot;gpoCollectionCreatedBySerializer&quot;: false,\r\n        &quot;gpoConfigs&quot;: [\r\n          {\r\n            &quot;gpoPulseDurationMsec&quot;: 0,\r\n            &quot;mode&quot;: &quot;Normal&quot;,\r\n            &quot;portNumber&quot;: 1\r\n          },\r\n          {\r\n            &quot;gpoPulseDurationMsec&quot;: 0,\r\n            &quot;mode&quot;: &quot;Normal&quot;,\r\n            &quot;portNumber&quot;: 2\r\n          },\r\n          {\r\n            &quot;gpoPulseDurationMsec&quot;: 0,\r\n            &quot;mode&quot;: &quot;Normal&quot;,\r\n            &quot;portNumber&quot;: 3\r\n          },\r\n          {\r\n            &quot;gpoPulseDurationMsec&quot;: 0,\r\n            &quot;mode&quot;: &quot;Normal&quot;,\r\n            &quot;portNumber&quot;: 4\r\n          }\r\n        ]\r\n      },\r\n      &quot;holdReportsOnDisconnect&quot;: true,\r\n      &quot;keepalives&quot;: {\r\n        &quot;enableLinkMonitorMode&quot;: false,\r\n        &quot;enabled&quot;: false,\r\n        &quot;linkDownThreshold&quot;: 0,\r\n        &quot;periodInMs&quot;: 0\r\n      },\r\n      &quot;lowDutyCycle&quot;: {\r\n        &quot;EmptyFieldTimeoutInMs&quot;: 0,\r\n        &quot;FieldPingIntervalInMs&quot;: 0,\r\n        &quot;IsEnabled&quot;: false\r\n      },\r\n      &quot;readerMode&quot;: &quot;AutoSetDenseReaderDeepScan&quot;,\r\n      &quot;reducedPowerFrequenciesInMhz&quot;: [],\r\n      &quot;report&quot;: {\r\n        &quot;includeAntennaPortNumber&quot;: false,\r\n        &quot;includeChannel&quot;: false,\r\n        &quot;includeCrc&quot;: false,\r\n        &quot;includeDopplerFrequency&quot;: false,\r\n        &quot;includeFastId&quot;: false,\r\n        &quot;includeFirstSeenTime&quot;: true,\r\n        &quot;includeGpsCoordinates&quot;: false,\r\n        &quot;includeLastSeenTime&quot;: true,\r\n        &quot;includePcBits&quot;: false,\r\n        &quot;includePeakRssi&quot;: false,\r\n        &quot;includePhaseAngle&quot;: false,\r\n        &quot;includeSeenCount&quot;: true,\r\n        &quot;mode&quot;: &quot;Individual&quot;,\r\n        &quot;optimizedReadOps&quot;: []\r\n      },\r\n      &quot;searchMode&quot;: &quot;DualTarget&quot;,\r\n      &quot;session&quot;: 2,\r\n      &quot;tagPopulationEstimate&quot;: 32,\r\n      &quot;truncatedReply&quot;: {\r\n        &quot;bitPointer&quot;: 32,\r\n        &quot;epcLengthInWords&quot;: 0,\r\n        &quot;gen2v2TagsOnly&quot;: false,\r\n        &quot;isEnabled&quot;: false,\r\n        &quot;tagMask&quot;: &quot;&quot;\r\n      },\r\n      &quot;txFrequenciesInMhz&quot;: [],\r\n      &quot;xArray&quot;: {\r\n        &quot;spatialConfig&quot;: {\r\n          &quot;direction&quot;: {\r\n            &quot;diagnosticReportEnabled&quot;: false,\r\n            &quot;enabledSectors&quot;: [],\r\n            &quot;entryReportEnabled&quot;: true,\r\n            &quot;exitReportEnabled&quot;: true,\r\n            &quot;fieldOfView&quot;: &quot;READER_SELECTED&quot;,\r\n            &quot;isMaxTxPower&quot;: true,\r\n            &quot;mode&quot;: &quot;HighPerformance&quot;,\r\n            &quot;tagAgeIntervalSeconds&quot;: 2,\r\n            &quot;txPowerinDbm&quot;: 0.0,\r\n            &quot;updateIntervalSeconds&quot;: 2,\r\n            &quot;updateReportEnabled&quot;: true,\r\n            &quot;userTagPopulationLimit&quot;: 0\r\n          },\r\n          &quot;location&quot;: {\r\n            &quot;computeWindowSeconds&quot;: 10,\r\n            &quot;diagnosticReportEnabled&quot;: false,\r\n            &quot;disabledAntennaList&quot;: [],\r\n            &quot;entryReportEnabled&quot;: true,\r\n            &quot;exitReportEnabled&quot;: true,\r\n            &quot;isMaxTxPower&quot;: true,\r\n            &quot;locationAlgorithmControl&quot;: [],\r\n            &quot;tagAgeIntervalSeconds&quot;: 20,\r\n            &quot;txPowerinDbm&quot;: 0.0,\r\n            &quot;updateIntervalSeconds&quot;: 5,\r\n            &quot;updateReportEnabled&quot;: true\r\n          },\r\n          &quot;mode&quot;: &quot;Inventory&quot;,\r\n          &quot;placement&quot;: {\r\n            &quot;facilityXLocationCm&quot;: 0,\r\n            &quot;facilityYLocationCm&quot;: 0,\r\n            &quot;heightCm&quot;: 400,\r\n            &quot;orientationDegrees&quot;: 0\r\n          }\r\n        }\r\n      }\r\n    }","title":"Octane SDK (impinj RFID reader) fails to save settings","body":"<p>I got Speedway R420 RFID reader. Trying to read tags. It does work on a real model connected to emulator or real Android device, but during field test it fails. Studying logs I managed to clarify that it fails during simple enough operation. Here's draft code:</p>\n<pre><code>val reader = ImpinjReader()\nreader.name = &quot;ATZ Reader&quot;\nreader.connectTimeout = 60000\nreader.connect(readerHostname) //10.1.30.172\nreader.setKeepaliveListener { impinjReader, keepaliveEvent -&gt;\n            Timber.d(&quot;Keepalive received from %s, %s, %s&quot;,\n             impinjReader.name, impinjReader.address, keepaliveEvent)\n            _connectStatus.tryEmit(RfIdStatus.Success)\n}\nreader.setConnectionLostListener {\n            if(!it.isConnected) {\n                logger.logRFID(&quot;Los connection ${it.name}, ${it.address}&quot;)\n                _connectStatus.tryEmit(RfIdStatus.Disconnected)\n            }\n            else\n                _connectStatus.tryEmit(RfIdStatus.Success)\n        }\nreader.tagReportListener = tagReportListener\nval settings = reader.queryDefaultSettings()\nreader.applySettings(settings) //Exception thrown at this line\nreader.saveSettings()\nreader.start()\nCoroutineScope(newSingleThreadContext(&quot;rfid reader&quot;)).launch {\n            while (true) {\n                delay(10000)\n                try {\n                    reader.queryTags()\n                    _connectStatus.emit(RfIdStatus.Success)\n                    logger.logRFID(&quot;Tags queried&quot;)\n                } catch (e: OctaneSdkException) {\n                    logger.logRFID(&quot;Tags query error ${e.message}&quot;)\n                    reader.disconnect()\n                    break\n                }\n            }\n}\n</code></pre>\n<p>Here's stacktrace:</p>\n<pre><code>OctaneSdk exception: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;llrp:ADD_ROSPEC_RESPONSE xmlns:llrp=&quot;http://www.llrp.org/ltk/schema/core/encoding/xml/1.0&quot; xmlns:Impinj=&quot;http://developer.impinj.com/ltk/schema/encoding/xml/1.46&quot; Version=&quot;1&quot; MessageID=&quot;5&quot;&gt;\n  &lt;llrp:LLRPStatus&gt;\n    &lt;llrp:StatusCode&gt;M_FieldError&lt;/llrp:StatusCode&gt;\n    &lt;llrp:ErrorDescription&gt;LLRP [420] : //C1G2RFControl/ModeIndex : out-of-range&lt;/llrp:ErrorDescription&gt;\n    &lt;llrp:ParameterError&gt;\n      &lt;llrp:ParameterType&gt;177&lt;/llrp:ParameterType&gt;\n      &lt;llrp:ErrorCode&gt;P_ParameterError&lt;/llrp:ErrorCode&gt;\n      &lt;llrp:ParameterError&gt;\n        &lt;llrp:ParameterType&gt;183&lt;/llrp:ParameterType&gt;\n        &lt;llrp:ErrorCode&gt;P_ParameterError&lt;/llrp:ErrorCode&gt;\n        &lt;llrp:ParameterError&gt;\n          &lt;llrp:ParameterType&gt;186&lt;/llrp:ParameterType&gt;\n          &lt;llrp:ErrorCode&gt;P_ParameterError&lt;/llrp:ErrorCode&gt;\n          &lt;llrp:ParameterError&gt;\n            &lt;llrp:ParameterType&gt;222&lt;/llrp:ParameterType&gt;\n            &lt;llrp:ErrorCode&gt;P_ParameterError&lt;/llrp:ErrorCode&gt;\n            &lt;llrp:ParameterError&gt;\n              &lt;llrp:ParameterType&gt;330&lt;/llrp:ParameterType&gt;\n              &lt;llrp:ErrorCode&gt;P_ParameterError&lt;/llrp:ErrorCode&gt;\n              &lt;llrp:ParameterError&gt;\n                &lt;llrp:ParameterType&gt;335&lt;/llrp:ParameterType&gt;\n                &lt;llrp:ErrorCode&gt;P_FieldError&lt;/llrp:ErrorCode&gt;\n                &lt;llrp:FieldError&gt;\n                  &lt;llrp:FieldNum&gt;1&lt;/llrp:FieldNum&gt;\n                  &lt;llrp:ErrorCode&gt;A_OutOfRange&lt;/llrp:ErrorCode&gt;\n                &lt;/llrp:FieldError&gt;\n              &lt;/llrp:ParameterError&gt;\n            &lt;/llrp:ParameterError&gt;\n          &lt;/llrp:ParameterError&gt;\n        &lt;/llrp:ParameterError&gt;\n      &lt;/llrp:ParameterError&gt;\n    &lt;/llrp:ParameterError&gt;\n  &lt;/llrp:LLRPStatus&gt;\n&lt;/llrp:ADD_ROSPEC_RESPONSE&gt;\n\n\n    at com.impinj.octane.ImpinjReader.addRoSpec(ImpinjReader.java:1220)\n    at com.impinj.octane.ImpinjReader.applySettingsWithOptionalFactoryReset(ImpinjReader.java:1050)\n    at com.impinj.octane.ImpinjReader.applySettings(ImpinjReader.java:1008)\n    at com.impinj.octane.ImpinjReader.applySettings(ImpinjReader.java:1068)\n    at ru.avangard.refueler.features.datacollector.service.RfidReaderClient.setVariantA(RfidReaderClient.kt:70)\n    at ru.avangard.refueler.features.datacollector.service.RfidReaderClient.start(RfidReaderClient.kt:48)\n    at ru.avangard.refueler.features.datacollector.service.DataCollectorService$startRfidReaderClient$1.invokeSuspend(DataCollectorService.kt:131)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\n    at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n</code></pre>\n<p>Any ideas, hints, clues?</p>\n<p><strong>Update:</strong></p>\n<p>Settings read from device are following:</p>\n<pre><code>{\n  &quot;antennas&quot;: {\n    &quot;antennaCollectionCreatedBySerializer&quot;: false,\n    &quot;antennaConfigs&quot;: [\n      {\n        &quot;enabled&quot;: true,\n        &quot;isMaxRxSensitivity&quot;: true,\n        &quot;isMaxTxPower&quot;: true,\n        &quot;portName&quot;: &quot;Antenna Port 1&quot;,\n        &quot;portNumber&quot;: 1,\n        &quot;rxSensitivityinDbm&quot;: 0.0,\n        &quot;txPowerinDbm&quot;: 0.0\n      },\n      {\n        &quot;enabled&quot;: true,\n        &quot;isMaxRxSensitivity&quot;: true,\n        &quot;isMaxTxPower&quot;: true,\n        &quot;portName&quot;: &quot;Antenna Port 2&quot;,\n        &quot;portNumber&quot;: 2,\n        &quot;rxSensitivityinDbm&quot;: 0.0,\n        &quot;txPowerinDbm&quot;: 0.0\n      },\n      {\n        &quot;enabled&quot;: true,\n        &quot;isMaxRxSensitivity&quot;: true,\n        &quot;isMaxTxPower&quot;: true,\n        &quot;portName&quot;: &quot;Antenna Port 3&quot;,\n        &quot;portNumber&quot;: 3,\n        &quot;rxSensitivityinDbm&quot;: 0.0,\n        &quot;txPowerinDbm&quot;: 0.0\n      },\n      {\n        &quot;enabled&quot;: true,\n        &quot;isMaxRxSensitivity&quot;: true,\n        &quot;isMaxTxPower&quot;: true,\n        &quot;portName&quot;: &quot;Antenna Port 4&quot;,\n        &quot;portNumber&quot;: 4,\n        &quot;rxSensitivityinDbm&quot;: 0.0,\n        &quot;txPowerinDbm&quot;: 0.0\n      }\n    ],\n    &quot;isMaxRxSensitivity&quot;: true,\n    &quot;isMaxTxPower&quot;: true,\n    &quot;polarizationEnabled&quot;: false,\n    &quot;rxSensitivityinDbm&quot;: 0.0,\n    &quot;txPowerinDbm&quot;: 0.0\n  },\n  &quot;autoStart&quot;: {\n    &quot;firstDelayInMs&quot;: 0,\n    &quot;gpiPortNumber&quot;: 0,\n    &quot;mode&quot;: &quot;Immediate&quot;,\n    &quot;periodInMs&quot;: 0,\n    &quot;utcTimestamp&quot;: 0\n  },\n  &quot;autoStop&quot;: {\n    &quot;durationInMs&quot;: 0,\n    &quot;gpiPortNumber&quot;: 0,\n    &quot;mode&quot;: &quot;None&quot;,\n    &quot;timeout&quot;: 0\n  },\n  &quot;filters&quot;: {\n    &quot;Mode&quot;: &quot;None&quot;,\n    &quot;TagFilter1&quot;: {\n      &quot;BitCount&quot;: 0,\n      &quot;BitPointer&quot;: 0\n    },\n    &quot;TagFilter2&quot;: {\n      &quot;BitCount&quot;: 0,\n      &quot;BitPointer&quot;: 0\n    },\n    &quot;tagSelectFilterList&quot;: []\n  },\n  &quot;gpis&quot;: {\n    &quot;gpiCollectionCreatedBySerializer&quot;: false,\n    &quot;gpiConfigs&quot;: [\n      {\n        &quot;debounceInMs&quot;: 0,\n        &quot;isEnabled&quot;: false,\n        &quot;portNumber&quot;: 1\n      },\n      {\n        &quot;debounceInMs&quot;: 0,\n        &quot;isEnabled&quot;: false,\n        &quot;portNumber&quot;: 2\n      },\n      {\n        &quot;debounceInMs&quot;: 0,\n        &quot;isEnabled&quot;: false,\n        &quot;portNumber&quot;: 3\n      },\n      {\n        &quot;debounceInMs&quot;: 0,\n        &quot;isEnabled&quot;: false,\n        &quot;portNumber&quot;: 4\n      }\n    ]\n  },\n  &quot;gpos&quot;: {\n    &quot;gpoCollectionCreatedBySerializer&quot;: false,\n    &quot;gpoConfigs&quot;: [\n      {\n        &quot;gpoPulseDurationMsec&quot;: 0,\n        &quot;mode&quot;: &quot;Normal&quot;,\n        &quot;portNumber&quot;: 1\n      },\n      {\n        &quot;gpoPulseDurationMsec&quot;: 0,\n        &quot;mode&quot;: &quot;Normal&quot;,\n        &quot;portNumber&quot;: 2\n      },\n      {\n        &quot;gpoPulseDurationMsec&quot;: 0,\n        &quot;mode&quot;: &quot;Normal&quot;,\n        &quot;portNumber&quot;: 3\n      },\n      {\n        &quot;gpoPulseDurationMsec&quot;: 0,\n        &quot;mode&quot;: &quot;Normal&quot;,\n        &quot;portNumber&quot;: 4\n      }\n    ]\n  },\n  &quot;holdReportsOnDisconnect&quot;: true,\n  &quot;keepalives&quot;: {\n    &quot;enableLinkMonitorMode&quot;: false,\n    &quot;enabled&quot;: false,\n    &quot;linkDownThreshold&quot;: 0,\n    &quot;periodInMs&quot;: 0\n  },\n  &quot;lowDutyCycle&quot;: {\n    &quot;EmptyFieldTimeoutInMs&quot;: 0,\n    &quot;FieldPingIntervalInMs&quot;: 0,\n    &quot;IsEnabled&quot;: false\n  },\n  &quot;readerMode&quot;: &quot;AutoSetDenseReaderDeepScan&quot;,\n  &quot;reducedPowerFrequenciesInMhz&quot;: [],\n  &quot;report&quot;: {\n    &quot;includeAntennaPortNumber&quot;: false,\n    &quot;includeChannel&quot;: false,\n    &quot;includeCrc&quot;: false,\n    &quot;includeDopplerFrequency&quot;: false,\n    &quot;includeFastId&quot;: false,\n    &quot;includeFirstSeenTime&quot;: true,\n    &quot;includeGpsCoordinates&quot;: false,\n    &quot;includeLastSeenTime&quot;: true,\n    &quot;includePcBits&quot;: false,\n    &quot;includePeakRssi&quot;: false,\n    &quot;includePhaseAngle&quot;: false,\n    &quot;includeSeenCount&quot;: true,\n    &quot;mode&quot;: &quot;Individual&quot;,\n    &quot;optimizedReadOps&quot;: []\n  },\n  &quot;searchMode&quot;: &quot;DualTarget&quot;,\n  &quot;session&quot;: 2,\n  &quot;tagPopulationEstimate&quot;: 32,\n  &quot;truncatedReply&quot;: {\n    &quot;bitPointer&quot;: 32,\n    &quot;epcLengthInWords&quot;: 0,\n    &quot;gen2v2TagsOnly&quot;: false,\n    &quot;isEnabled&quot;: false,\n    &quot;tagMask&quot;: &quot;&quot;\n  },\n  &quot;txFrequenciesInMhz&quot;: [],\n  &quot;xArray&quot;: {\n    &quot;spatialConfig&quot;: {\n      &quot;direction&quot;: {\n        &quot;diagnosticReportEnabled&quot;: false,\n        &quot;enabledSectors&quot;: [],\n        &quot;entryReportEnabled&quot;: true,\n        &quot;exitReportEnabled&quot;: true,\n        &quot;fieldOfView&quot;: &quot;READER_SELECTED&quot;,\n        &quot;isMaxTxPower&quot;: true,\n        &quot;mode&quot;: &quot;HighPerformance&quot;,\n        &quot;tagAgeIntervalSeconds&quot;: 2,\n        &quot;txPowerinDbm&quot;: 0.0,\n        &quot;updateIntervalSeconds&quot;: 2,\n        &quot;updateReportEnabled&quot;: true,\n        &quot;userTagPopulationLimit&quot;: 0\n      },\n      &quot;location&quot;: {\n        &quot;computeWindowSeconds&quot;: 10,\n        &quot;diagnosticReportEnabled&quot;: false,\n        &quot;disabledAntennaList&quot;: [],\n        &quot;entryReportEnabled&quot;: true,\n        &quot;exitReportEnabled&quot;: true,\n        &quot;isMaxTxPower&quot;: true,\n        &quot;locationAlgorithmControl&quot;: [],\n        &quot;tagAgeIntervalSeconds&quot;: 20,\n        &quot;txPowerinDbm&quot;: 0.0,\n        &quot;updateIntervalSeconds&quot;: 5,\n        &quot;updateReportEnabled&quot;: true\n      },\n      &quot;mode&quot;: &quot;Inventory&quot;,\n      &quot;placement&quot;: {\n        &quot;facilityXLocationCm&quot;: 0,\n        &quot;facilityYLocationCm&quot;: 0,\n        &quot;heightCm&quot;: 400,\n        &quot;orientationDegrees&quot;: 0\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","redis","redisson","elastic-cache"],"answers":[{"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681716767,"creation_date":1681716767,"answer_id":76032675,"question_id":75815828,"body_markdown":"It&#39;s recommended to specify all Redis nodes and not to use `replica.xxxx.cache.amazonaws.com` hostname for correct failover handling in `ReplicatedServers` mode. Since this hostname returns only a single replica address instead of all replicas.","title":"When connecting AWS Redis to Redisson what node addresses to use","body":"<p>It's recommended to specify all Redis nodes and not to use <code>replica.xxxx.cache.amazonaws.com</code> hostname for correct failover handling in <code>ReplicatedServers</code> mode. Since this hostname returns only a single replica address instead of all replicas.</p>\n"}],"owner":{"account_id":120589,"reputation":267,"user_id":313117,"accept_rate":17,"display_name":"Jarad Duersch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681716767,"creation_date":1679508378,"question_id":75815828,"body_markdown":"I am trying to use Redisson to connect to AWS Redis NOT clustered. There are 2 endpoints provided with such a AWS Redis configuration:\r\n\r\n - Primary endpoint:\r\n   master.redis-name-uswest2.nnnnnn.usw2.cache.amazonaws.com:6379\r\n - Reader endpoint: replica.redis-name-uswest2.nnnnnn.usw2.cache.amazonaws.com:6379\r\n\r\nWhen configuring Redisson in code should I be providing both endpoints, like so?\r\n\r\n    public class Application {\r\n        public static void main( String[] args ) {\r\n            // AWS Elasticache Replicated config\r\n    \r\n            Config config = new Config();\r\n            config.useReplicatedServers()\r\n                  .addNodeAddress(&quot;rediss://master.redis-name-uswest2.nnnnnn.usw2.cache.amazonaws.com:6379&quot;)\r\n                  .addNodeAddress(&quot;rediss://replica.redis-name-uswest2.nnnnnn.usw2.cache.amazonaws.com:6379&quot;)   \r\n\r\nIf configured as above, will Redisson keep track of which server is the primary on a reassignment?\r\n\r\n","title":"When connecting AWS Redis to Redisson what node addresses to use","body":"<p>I am trying to use Redisson to connect to AWS Redis NOT clustered. There are 2 endpoints provided with such a AWS Redis configuration:</p>\n<ul>\n<li>Primary endpoint:\nmaster.redis-name-uswest2.nnnnnn.usw2.cache.amazonaws.com:6379</li>\n<li>Reader endpoint: replica.redis-name-uswest2.nnnnnn.usw2.cache.amazonaws.com:6379</li>\n</ul>\n<p>When configuring Redisson in code should I be providing both endpoints, like so?</p>\n<pre><code>public class Application {\n    public static void main( String[] args ) {\n        // AWS Elasticache Replicated config\n\n        Config config = new Config();\n        config.useReplicatedServers()\n              .addNodeAddress(&quot;rediss://master.redis-name-uswest2.nnnnnn.usw2.cache.amazonaws.com:6379&quot;)\n              .addNodeAddress(&quot;rediss://replica.redis-name-uswest2.nnnnnn.usw2.cache.amazonaws.com:6379&quot;)   \n</code></pre>\n<p>If configured as above, will Redisson keep track of which server is the primary on a reassignment?</p>\n"},{"tags":["java","scheduled-tasks","quartz-scheduler","schedule"],"answers":[{"comments":[{"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"score":3,"creation_date":1461829155,"post_id":7159719,"comment_id":61379469,"body_markdown":"The limitation of this approach is **not** cluster aware.\n\nJava doc:\n*This method is not cluster aware.  That is, it will only interrupt instances of the identified InterruptableJob currently executing in this Scheduler instance, not across the entire cluster.*","body":"The limitation of this approach is <b>not</b> cluster aware.  Java doc: <i>This method is not cluster aware.  That is, it will only interrupt instances of the identified InterruptableJob currently executing in this Scheduler instance, not across the entire cluster.</i>"}],"tags":[],"owner":{"account_id":235935,"reputation":3935,"user_id":503095,"accept_rate":50,"display_name":"Dhananjay"},"comment_count":1,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1681716659,"creation_date":1314095812,"answer_id":7159719,"question_id":7159080,"body_markdown":"You need to write your job as an implementation of [InterruptableJob][1].\r\nTo interrupt this job, you need handle to [Scheduler][2] , and call `interrupt(jobKey&lt;&lt;job name &amp; job group&gt;&gt;)`\r\n\r\nPlease have a look @ javadoc for above classes, also quartz distribution contains an example for this (example7).\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/api/2.3.0/org/quartz/InterruptableJob.html\r\n  [2]: http://www.quartz-scheduler.org/api/2.3.0/org/quartz/Scheduler.html","title":"How to interrupt or stop currently running quartz job?","body":"<p>You need to write your job as an implementation of <a href=\"http://www.quartz-scheduler.org/api/2.3.0/org/quartz/InterruptableJob.html\" rel=\"nofollow noreferrer\">InterruptableJob</a>.\nTo interrupt this job, you need handle to <a href=\"http://www.quartz-scheduler.org/api/2.3.0/org/quartz/Scheduler.html\" rel=\"nofollow noreferrer\">Scheduler</a> , and call <code>interrupt(jobKey&lt;&lt;job name &amp; job group&gt;&gt;)</code></p>\n<p>Please have a look @ javadoc for above classes, also quartz distribution contains an example for this (example7).</p>\n"},{"tags":[],"owner":{"account_id":2515170,"reputation":1590,"user_id":2186777,"accept_rate":83,"display_name":"fl4l"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372168893,"creation_date":1372168893,"answer_id":17299387,"question_id":7159080,"body_markdown":"In Quartz 2.1 with Spring you can:\r\n\r\n    @Autowired\r\n    private Scheduler schedulerFactoryBean; //injected by spring\r\n    ...\r\n    ...\r\n    \r\n    List&lt;JobExecutionContext&gt; currentlyExecuting = schedulerFactoryBean.getCurrentlyExecutingJobs();\r\n    \r\n    //verifying if job is running\t\t\r\n    for (JobExecutionContext jobExecutionContext : currentlyExecuting) {\r\n    \tif(jobExecutionContext.getJobDetail().getKey().getName().equals(&quot;JobKeyNameToInterrupt&quot;)){\r\n    \t\tresult = schedulerFactoryBean.interrupt(jobExecutionContext.getJobDetail().getKey());\r\n    \t}\r\n    }","title":"How to interrupt or stop currently running quartz job?","body":"<p>In Quartz 2.1 with Spring you can:</p>\n\n<pre><code>@Autowired\nprivate Scheduler schedulerFactoryBean; //injected by spring\n...\n...\n\nList&lt;JobExecutionContext&gt; currentlyExecuting = schedulerFactoryBean.getCurrentlyExecutingJobs();\n\n//verifying if job is running       \nfor (JobExecutionContext jobExecutionContext : currentlyExecuting) {\n    if(jobExecutionContext.getJobDetail().getKey().getName().equals(\"JobKeyNameToInterrupt\")){\n        result = schedulerFactoryBean.interrupt(jobExecutionContext.getJobDetail().getKey());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4054993,"reputation":339,"user_id":3333314,"display_name":"melfore"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1414924563,"creation_date":1414924563,"answer_id":26698377,"question_id":7159080,"body_markdown":"The best solution in my opinion is the one described in this thread: http://forums.terracotta.org/forums/posts/list/7700.page\r\n\r\n\r\nI&#39;ve just introduced a &quot;sleep&quot; after set stop flag to true to allow the job to finish cleanly.\r\n\r\n    \t@Override\r\n\tpublic void interrupt() throws UnableToInterruptJobException {\r\n\t\tstopFlag.set(true);\r\n\t\ttry {\r\n\t\t\tThread.sleep(30000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t//logger.error(&quot;interrupt()&quot;, e);\r\n\t\t}\r\n\t\tThread thread = runningThread.getAndSet(null);\r\n\t\tif (thread != null)\r\n\t\t\tthread.interrupt();\r\n\t}","title":"How to interrupt or stop currently running quartz job?","body":"<p>The best solution in my opinion is the one described in this thread: <a href=\"http://forums.terracotta.org/forums/posts/list/7700.page\" rel=\"nofollow\">http://forums.terracotta.org/forums/posts/list/7700.page</a></p>\n\n<p>I've just introduced a \"sleep\" after set stop flag to true to allow the job to finish cleanly.</p>\n\n<pre><code>    @Override\npublic void interrupt() throws UnableToInterruptJobException {\n    stopFlag.set(true);\n    try {\n        Thread.sleep(30000);\n    } catch (InterruptedException e) {\n        //logger.error(\"interrupt()\", e);\n    }\n    Thread thread = runningThread.getAndSet(null);\n    if (thread != null)\n        thread.interrupt();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3653292,"reputation":1236,"user_id":3044904,"accept_rate":61,"display_name":"Salman"},"score":19,"creation_date":1445148363,"post_id":30378086,"comment_id":54195113,"body_markdown":"This solution is shutting down the whole scheduler which is not really correct unless you have one job assigned to the scheduler. You should have a way to remove only specific job not the whole scheduler because it is possible to have more than one job running on the same scheduler.","body":"This solution is shutting down the whole scheduler which is not really correct unless you have one job assigned to the scheduler. You should have a way to remove only specific job not the whole scheduler because it is possible to have more than one job running on the same scheduler."},{"owner":{"account_id":235131,"reputation":2628,"user_id":501739,"accept_rate":67,"display_name":"Jolta"},"score":1,"creation_date":1553074061,"post_id":30378086,"comment_id":97246222,"body_markdown":"Having more than one job on a Scheduler? I would even say it&#39;s extremely common, and shutting down the Scheduler would be a disaster in that case.","body":"Having more than one job on a Scheduler? I would even say it&#39;s extremely common, and shutting down the Scheduler would be a disaster in that case."}],"tags":[],"owner":{"account_id":5641425,"reputation":89,"user_id":4465156,"display_name":"Nikhil Kumar"},"comment_count":2,"down_vote_count":6,"up_vote_count":7,"is_accepted":false,"score":1,"last_activity_date":1432222061,"creation_date":1432222061,"answer_id":30378086,"question_id":7159080,"body_markdown":"I don&#39;t know why nobody mentioned this, or maybe this was not available at the time the question was asked. \r\n\r\nThere is a method called shutdown for a Scheduler instance. \r\n\r\n\r\n\r\n     SchedulerFactory factory = new StdSchedulerFactor();\r\n     Scheduler scheduler = factory.getScheduler();\r\n\r\nThe above is used to start a job like\r\n               \r\n     scheduler.start();\r\n\r\nUse a flag or something to know when to stop the job from running.\r\nThen use\r\n\r\n     scheduler.shutdown();\r\n\r\nHow I implemented my requirement: \r\n\r\n    if(flag==true)\r\n\t\t{\r\n\t\t\tscheduler.start();\r\n\t\t\tscheduler.scheduleJob(jobDetail, simpleTrigger);\r\n\t\t}\r\n\t\telse if(flag==false)\r\n\t\t{\r\n\t\t\tscheduler.shutdown();\r\n\t\t}\r\nWhere jobDetail and simpleTrigger are self explanatory. \r\n\r\nHope it helps. :)","title":"How to interrupt or stop currently running quartz job?","body":"<p>I don't know why nobody mentioned this, or maybe this was not available at the time the question was asked. </p>\n\n<p>There is a method called shutdown for a Scheduler instance. </p>\n\n<pre><code> SchedulerFactory factory = new StdSchedulerFactor();\n Scheduler scheduler = factory.getScheduler();\n</code></pre>\n\n<p>The above is used to start a job like</p>\n\n<pre><code> scheduler.start();\n</code></pre>\n\n<p>Use a flag or something to know when to stop the job from running.\nThen use</p>\n\n<pre><code> scheduler.shutdown();\n</code></pre>\n\n<p>How I implemented my requirement: </p>\n\n<pre><code>if(flag==true)\n    {\n        scheduler.start();\n        scheduler.scheduleJob(jobDetail, simpleTrigger);\n    }\n    else if(flag==false)\n    {\n        scheduler.shutdown();\n    }\n</code></pre>\n\n<p>Where jobDetail and simpleTrigger are self explanatory. </p>\n\n<p>Hope it helps. :)</p>\n"},{"tags":[],"owner":{"account_id":2440556,"reputation":739,"user_id":2129212,"accept_rate":44,"display_name":"Swapnil B."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552930771,"creation_date":1552930771,"answer_id":55227123,"question_id":7159080,"body_markdown":"Probably a little late to answer this, but may be it can help:\r\n\r\nIf you no longer need a job, you can delete that particular job using\r\n\r\n    scheduler.deleteJob(jobKey(&lt;JobKey&gt;, &lt;JobGroup&gt;));\r\n\r\nThis method will only interrupt/stop the job uniquely identified by the Job Key and Group within the scheduler which may have many other jobs running.\r\n\r\nOn the other hand if you want to completely shutdown the scheduler and all the jobs therein you can do\r\n\r\n    scheduler.shutdown();\r\n\r\n[This][1]  is a pretty nice example of different job related tasks.\r\n\r\n\r\n  [1]: https://www.programcreek.com/java-api-examples/?code=jeffreyning/nh-micro/nh-micro-master/project-demo/src/main/java/com/project/util/MicroQuartzManager.java","title":"How to interrupt or stop currently running quartz job?","body":"<p>Probably a little late to answer this, but may be it can help:</p>\n\n<p>If you no longer need a job, you can delete that particular job using</p>\n\n<pre><code>scheduler.deleteJob(jobKey(&lt;JobKey&gt;, &lt;JobGroup&gt;));\n</code></pre>\n\n<p>This method will only interrupt/stop the job uniquely identified by the Job Key and Group within the scheduler which may have many other jobs running.</p>\n\n<p>On the other hand if you want to completely shutdown the scheduler and all the jobs therein you can do</p>\n\n<pre><code>scheduler.shutdown();\n</code></pre>\n\n<p><a href=\"https://www.programcreek.com/java-api-examples/?code=jeffreyning/nh-micro/nh-micro-master/project-demo/src/main/java/com/project/util/MicroQuartzManager.java\" rel=\"nofollow noreferrer\">This</a>  is a pretty nice example of different job related tasks.</p>\n"},{"tags":[],"owner":{"account_id":4295729,"reputation":972,"user_id":3510860,"display_name":"apflieger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617716389,"creation_date":1617715619,"answer_id":66969589,"question_id":7159080,"body_markdown":"To interrupt all running jobs\r\n```java\r\nfor (JobExecutionContext currentlyExecutingJob : scheduler.getCurrentlyExecutingJobs()) {\r\n    if (InterruptableJob.class.isAssignableFrom(currentlyExecutingJob.getJobDetail().getJobClass())) // Otherwise it will throw an exception\r\n        scheduler.interrupt(currentlyExecutingJob.getFireInstanceId());\r\n}\r\n```\r\n\r\nYou can get jobs informations in `JobExecutionContext`, retrieve the Job class or things like that.","title":"How to interrupt or stop currently running quartz job?","body":"<p>To interrupt all running jobs</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (JobExecutionContext currentlyExecutingJob : scheduler.getCurrentlyExecutingJobs()) {\n    if (InterruptableJob.class.isAssignableFrom(currentlyExecutingJob.getJobDetail().getJobClass())) // Otherwise it will throw an exception\n        scheduler.interrupt(currentlyExecutingJob.getFireInstanceId());\n}\n</code></pre>\n<p>You can get jobs informations in <code>JobExecutionContext</code>, retrieve the Job class or things like that.</p>\n"}],"owner":{"display_name":"user253202"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71518,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":7159719,"answer_count":6,"score":24,"last_activity_date":1681716659,"creation_date":1314092738,"question_id":7159080,"body_markdown":"I have some tasks that are executed with the help of Java Quartz Jobs, but I need to stop some tasks by some condition in my code. I read that this can be done via InterruptableJob. But i didn&#39;t understand in what way i should do it?","title":"How to interrupt or stop currently running quartz job?","body":"<p>I have some tasks that are executed with the help of Java Quartz Jobs, but I need to stop some tasks by some condition in my code. I read that this can be done via InterruptableJob. But i didn't understand in what way i should do it?</p>\n"},{"tags":["java","android","datetime","mobile","offlineapps"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681737237,"post_id":76032648,"comment_id":134100230,"body_markdown":"You can use the Android system boot time as reference. Will not work if the user also reboots the device, though.","body":"You can use the Android system boot time as reference. Will not work if the user also reboots the device, though."}],"owner":{"account_id":21029676,"reputation":13,"user_id":15454343,"display_name":"Why I code"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681743609,"answer_count":0,"score":0,"last_activity_date":1681716614,"creation_date":1681716614,"question_id":76032648,"body_markdown":"We have a Java android application that can work both online and offline.\r\nThe purpose of the application is to be able to run a test on a scheduled date.\r\n\r\nThe problem is that if the user changes the date of the phone system, then the test date is no longer consistent with what was scheduled and the results will be wrong.\r\n\r\nFor example, the current date is 17/04/23 10:20:00 and we have programmed a test for 17/04/23 10:25:00. If the user changes the date to 17/04/23 09:20:00 then he will still have 1h05mn before the test instead of 5mn, which is not in accordance with the usage.\r\n\r\nKnowing that the application can work in disconnected mode, what solution should we adopt to avoid this?","title":"How can I handle user changing android system datetime inside my android application?","body":"<p>We have a Java android application that can work both online and offline.\nThe purpose of the application is to be able to run a test on a scheduled date.</p>\n<p>The problem is that if the user changes the date of the phone system, then the test date is no longer consistent with what was scheduled and the results will be wrong.</p>\n<p>For example, the current date is 17/04/23 10:20:00 and we have programmed a test for 17/04/23 10:25:00. If the user changes the date to 17/04/23 09:20:00 then he will still have 1h05mn before the test instead of 5mn, which is not in accordance with the usage.</p>\n<p>Knowing that the application can work in disconnected mode, what solution should we adopt to avoid this?</p>\n"},{"tags":["java","proxy","apache-httpclient-4.x","squid","http-status-code-407"],"answers":[{"comments":[{"owner":{"account_id":545207,"reputation":267,"user_id":914894,"accept_rate":39,"display_name":"Lazy"},"score":0,"creation_date":1352383775,"post_id":13288313,"comment_id":18120994,"body_markdown":"getProxyServer() returns an IP address","body":"getProxyServer() returns an IP address"},{"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"score":0,"creation_date":1352386714,"post_id":13288313,"comment_id":18122495,"body_markdown":"interesting ... have you tried the HttpHost without the http/https checking? I&#39;m wondering if that would have any impact - That aside, I would try tracing down using a debugger to see if it is even attempting to use the proxy that has been configured.","body":"interesting ... have you tried the HttpHost without the http/https checking? I&#39;m wondering if that would have any impact - That aside, I would try tracing down using a debugger to see if it is even attempting to use the proxy that has been configured."},{"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"score":0,"creation_date":1352424724,"post_id":13288313,"comment_id":18138587,"body_markdown":"I&#39;ve got a good chunk of experience recently with this client ... I&#39;ll try and setup an environment in the morning to examine this further - Stay tuned I&#39;ll be in touch.","body":"I&#39;ve got a good chunk of experience recently with this client ... I&#39;ll try and setup an environment in the morning to examine this further - Stay tuned I&#39;ll be in touch."},{"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"score":0,"creation_date":1352466599,"post_id":13288313,"comment_id":18150959,"body_markdown":"Just took another look at this - I think I know what&#39;s up","body":"Just took another look at this - I think I know what&#39;s up"},{"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"score":0,"creation_date":1352470163,"post_id":13288313,"comment_id":18152584,"body_markdown":"I updated my answer - It looks like you can&#39;t really prepopulate the cache entry other than indicate that there is a scheme already attached.  You will, on start up, always see a 407 response as it is indicating to the client that it is not authenticated and must authenticate.  Caching that and sending it on the first request may introduce and application vulnerability and should be discouraged. If you can live with the 407 on the first request but maintain the local context between requests you should not see them past that.","body":"I updated my answer - It looks like you can&#39;t really prepopulate the cache entry other than indicate that there is a scheme already attached.  You will, on start up, always see a 407 response as it is indicating to the client that it is not authenticated and must authenticate.  Caching that and sending it on the first request may introduce and application vulnerability and should be discouraged. If you can live with the 407 on the first request but maintain the local context between requests you should not see them past that."}],"tags":[],"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352466949,"creation_date":1352374566,"answer_id":13288313,"question_id":13288038,"body_markdown":"It&#39;s your AuthScope:\r\n\r\n    // You set proxyServer here vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\r\n    credsProvider.setCredentials(new AuthScope(proxyServer, proxyPort), new UsernamePasswordCredentials(proxyUser, proxyPassword));\r\n    httpClient.setCredentialsProvider(credsProvider);\r\n    // But here you are looking for the indexof https to determine if it is an SSL proxy\r\n    // is the String returned from getProxyServer() above a URL or a host name?\r\n    HttpHost proxy = new HttpHost(proxyServer, proxyPort, (proxyServer.indexOf(&quot;https&quot;) != 0) ? &quot;http&quot; : &quot;https&quot;);\r\n    httpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\r\n\r\nBuried in my comment above - is the string returned by getProxyServer() a URL or a hostname?\r\n\r\n**EDIT**\r\n\r\nI think I have figured out what is going on.  Basic Auth has to be sent on every request for it to work. If you are making multiple executions you are going to need to have some mechanism to cache the authentication data.  By executing the client in the fashion you are right now, there is no &quot;context&quot; that can store that as one is created on every request.\r\n\r\nThe other item to look at is the [client tutorial][1] sections 4.7 and 4.8.  If you are looking to completely eliminate the 407 error followed by a request with the BASIC authentication, then make sure you read section 4.8.\r\n\r\nPay very close attention to the &quot;localcontext&quot; variable they have defined as this acts as a state container for your client.\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/authentication.html","title":"HttpClient 4.2.2 and proxy with username/password","body":"<p>It's your AuthScope:</p>\n\n<pre><code>// You set proxyServer here vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\ncredsProvider.setCredentials(new AuthScope(proxyServer, proxyPort), new UsernamePasswordCredentials(proxyUser, proxyPassword));\nhttpClient.setCredentialsProvider(credsProvider);\n// But here you are looking for the indexof https to determine if it is an SSL proxy\n// is the String returned from getProxyServer() above a URL or a host name?\nHttpHost proxy = new HttpHost(proxyServer, proxyPort, (proxyServer.indexOf(\"https\") != 0) ? \"http\" : \"https\");\nhttpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\n</code></pre>\n\n<p>Buried in my comment above - is the string returned by getProxyServer() a URL or a hostname?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I think I have figured out what is going on.  Basic Auth has to be sent on every request for it to work. If you are making multiple executions you are going to need to have some mechanism to cache the authentication data.  By executing the client in the fashion you are right now, there is no \"context\" that can store that as one is created on every request.</p>\n\n<p>The other item to look at is the <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/authentication.html\" rel=\"nofollow\">client tutorial</a> sections 4.7 and 4.8.  If you are looking to completely eliminate the 407 error followed by a request with the BASIC authentication, then make sure you read section 4.8.</p>\n\n<p>Pay very close attention to the \"localcontext\" variable they have defined as this acts as a state container for your client.</p>\n"},{"tags":[],"owner":{"account_id":2091733,"reputation":2566,"user_id":1861412,"display_name":"Cristian Greco"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1354139734,"creation_date":1354139734,"answer_id":13615091,"question_id":13288038,"body_markdown":"The authentication process with an HTTP proxy is described in RFC2616 [&#167;14.33][1] and &#167;14.34 and is exactly as you see with HttpClient. It includes:\r\n\r\n- the proxy sending a **407 (Proxy Authentication Required)** response with a **Proxy-Authenticate** header containing the challenge applicable to the requested resource,\r\n- the client issuing a new request with a **Proxy-Authorization** header consisting of the credentials containing the authentication information.\r\n\r\nImplementing the preemptive authentication with HttpClient is described in [this tutorial][2] (section &#167;4.8), and requires prepopulating the authentication cache of the client object.\r\nUnfortunately, their code does not work when preauthenticating to a proxy server. It may be a bit tricky to understand how to get it right, but actually it is as simple as passing a parameter to the **BasicScheme** constructor:\r\n\r\n\r\n    AuthCache authCache = new BasicAuthCache();\r\n    \r\n    AuthScheme basicAuthScheme = null;\r\n    if (isProxy) {\r\n       basicAuthScheme = new BasicScheme(ChallengeState.PROXY);\r\n    } else {\r\n       basicAuthScheme = new BasicScheme(ChallengeState.TARGET);\r\n    }\r\n    \r\n    authCache.put(host, basicAuthScheme);\r\n    httpContext.setAttribute(ClientContext.AUTH_CACHE, authCache);\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2616#section-14.33\r\n  [2]: https://hc.apache.org/httpcomponents-client-ga/tutorial/html/authentication.html","title":"HttpClient 4.2.2 and proxy with username/password","body":"<p>The authentication process with an HTTP proxy is described in RFC2616 <a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-14.33\" rel=\"nofollow noreferrer\">§14.33</a> and §14.34 and is exactly as you see with HttpClient. It includes:</p>\n<ul>\n<li>the proxy sending a <strong>407 (Proxy Authentication Required)</strong> response with a <strong>Proxy-Authenticate</strong> header containing the challenge applicable to the requested resource,</li>\n<li>the client issuing a new request with a <strong>Proxy-Authorization</strong> header consisting of the credentials containing the authentication information.</li>\n</ul>\n<p>Implementing the preemptive authentication with HttpClient is described in <a href=\"https://hc.apache.org/httpcomponents-client-ga/tutorial/html/authentication.html\" rel=\"nofollow noreferrer\">this tutorial</a> (section §4.8), and requires prepopulating the authentication cache of the client object.\nUnfortunately, their code does not work when preauthenticating to a proxy server. It may be a bit tricky to understand how to get it right, but actually it is as simple as passing a parameter to the <strong>BasicScheme</strong> constructor:</p>\n<pre><code>AuthCache authCache = new BasicAuthCache();\n\nAuthScheme basicAuthScheme = null;\nif (isProxy) {\n   basicAuthScheme = new BasicScheme(ChallengeState.PROXY);\n} else {\n   basicAuthScheme = new BasicScheme(ChallengeState.TARGET);\n}\n\nauthCache.put(host, basicAuthScheme);\nhttpContext.setAttribute(ClientContext.AUTH_CACHE, authCache);\n</code></pre>\n"}],"owner":{"account_id":545207,"reputation":267,"user_id":914894,"accept_rate":39,"display_name":"Lazy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21479,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":13615091,"answer_count":2,"score":4,"last_activity_date":1681716190,"creation_date":1352373535,"question_id":13288038,"body_markdown":"I have a problem with HttpClient 4.2.2 and proxy with username/password.\r\nHttpClient works in this way:\r\n\r\n 1. List item\r\n 2. Send request without proxy stuff (however I set proxy parameters for each request)\r\n 3. Get response from Squid with 407 error\r\n 4. Send request with proxy stuff\r\n\r\nIt&#39;s very strange behavior, Is it possible to add info about proxy to each request? I&#39;ve tried to add hardcoded &quot;Proxy-Authorization&quot; header to each request and it works fine, why HttpClient can&#39;t do the same?\r\n\r\n**Java code**\r\n\r\n    DefaultHttpClient httpClient = new DefaultHttpClient();\r\n    httpClient.getParams().setParameter(PROTOCOL_VERSION, HTTP_1_1);\r\n    ...\r\n    String proxyServer = getProxyServer();\r\n    int proxyPort = getProxyPort();\r\n    List&lt;String&gt; authpref = new ArrayList&lt;String&gt;();\r\n    authpref.add(AuthPolicy.BASIC);\r\n    httpClient.getParams().setParameter(AuthPNames.PROXY_AUTH_PREF, authpref);\r\n    String proxyUser = getProxyUser();\r\n    String proxyPassword = getProxyPassword();\r\n    CredentialsProvider credsProvider = httpClient.getCredentialsProvider();\r\n    credsProvider.setCredentials(new AuthScope(proxyServer, proxyPort), new UsernamePasswordCredentials(proxyUser, proxyPassword));\r\n    httpClient.setCredentialsProvider(credsProvider);\r\n    HttpHost proxy = new HttpHost(proxyServer, proxyPort, (proxyServer.indexOf(&quot;https&quot;) != 0) ? &quot;http&quot; : &quot;https&quot;);\r\n    httpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\r\n    ...\r\n    HttpPut put = new HttpPut(url);\r\n    \r\n    /*** hardcoded header ***/\r\n    //put.addHeader(&quot;Proxy-Authorization&quot;, &quot;Basic eHRlbmR4LmRuZXByOnF3ZXJ0eQ==&quot;);\r\n    /*** hardcoded header ***/\r\n    \r\n    put.setEntity(entity);\r\n    httpClient.execute(put);\r\n    httpClient.getConnectionManager().shutdown();\r\n\r\n\r\n    [DefaultClientConnection] Sending request: PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg HTTP/1.1\r\n    [headers] &gt;&gt; PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg HTTP/1.1\r\n    [headers] &gt;&gt; Authorization: Basic eGRldjo0YTFmNmMwOTgyYWRkMWQ0NDg1YjRhMGE4YWMxY2JjMWNiMTA0ODc1\r\n    [headers] &gt;&gt; Content-Length: 2\r\n    [headers] &gt;&gt; Host: 172.26.27.22:8080\r\n    [headers] &gt;&gt; Proxy-Connection: Keep-Alive\r\n    [headers] &gt;&gt; User-Agent: Apache-HttpClient/4.2.2 (java 1.5)\r\n    [DefaultClientConnection] Receiving response: HTTP/1.0 407 Proxy Authentication Required\r\n    [headers] &lt;&lt; HTTP/1.0 407 Proxy Authentication Required\r\n    [headers] &lt;&lt; Server: squid/2.7.STABLE8\r\n    [headers] &lt;&lt; Date: Thu, 08 Nov 2012 10:09:49 GMT\r\n    [headers] &lt;&lt; Content-Type: text/html\r\n    [headers] &lt;&lt; Content-Length: 1431\r\n    [headers] &lt;&lt; X-Squid-Error: ERR_CACHE_ACCESS_DENIED 0\r\n    [headers] &lt;&lt; Proxy-Authenticate: Basic realm=&quot;Please, enter username and password&quot;\r\n    [headers] &lt;&lt; X-Cache: MISS from 172.26.27.94\r\n    [headers] &lt;&lt; X-Cache-Lookup: NONE from 172.26.27.94:3128\r\n    [headers] &lt;&lt; Via: 1.0 172.26.27.94:3128 (squid/2.7.STABLE8)\r\n    [headers] &lt;&lt; Connection: close\r\n    [DefaultHttpClient] Authentication required\r\n    [DefaultHttpClient] 172.26.27.94:3128 requested authentication\r\n    [ProxyAuthenticationStrategy] Authentication schemes in the order of preference: [Basic]\r\n    [DefaultHttpClient] Selected authentication options: [BASIC]\r\n    [DefaultClientConnection] Connection 0.0.0.0:63344&lt;-&gt;172.26.27.94:3128 closed\r\n    [DefaultClientConnectionOperator] Connecting to 172.26.27.94:3128\r\n    [RequestAddCookies] CookieSpec selected: best-match\r\n    [RequestAuthCache] Re-using cached &#39;basic&#39; auth scheme for http://172.26.27.22:8080\r\n    [RequestAuthCache] No credentials for preemptive authentication\r\n    [RequestProxyAuthentication] Proxy auth state: CHALLENGED\r\n    [RequestProxyAuthentication] Generating response to an authentication challenge using basic scheme\r\n    [DefaultHttpClient] Attempt 2 to execute request\r\n    [DefaultClientConnection] Sending request: PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg HTTP/1.1\r\n    [headers] &gt;&gt; PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg HTTP/1.1\r\n    [headers] &gt;&gt; Authorization: Basic eGRldjo0YTFmNmMwOTgyYWRkMWQ0NDg1YjRhMGE4YWMxY2JjMWNiMTA0ODc1\r\n    [headers] &gt;&gt; Content-Length: 2\r\n    [headers] &gt;&gt; Host: 172.26.27.22:8080\r\n    [headers] &gt;&gt; Proxy-Connection: Keep-Alive\r\n    [headers] &gt;&gt; User-Agent: Apache-HttpClient/4.2.2 (java 1.5)\r\n    [headers] &gt;&gt; Proxy-Authorization: Basic eHRlbmR4LmRuZXByOnF3ZXJ0eQ==\r\n    [DefaultClientConnection] Receiving response: HTTP/1.0 201 Created\r\n    [headers] &lt;&lt; HTTP/1.0 201 Created\r\n    [headers] &lt;&lt; Content-Length: 0\r\n    [headers] &lt;&lt; Date: Thu, 08 Nov 2012 10:09:49 GMT\r\n    [headers] &lt;&lt; X-Cache: MISS from 172.26.27.94\r\n    [headers] &lt;&lt; X-Cache-Lookup: MISS from 172.26.27.94:3128\r\n    [headers] &lt;&lt; Via: 1.1 172.26.27.94:3128 (squid/2.7.STABLE8)\r\n    [headers] &lt;&lt; Connection: keep-alive\r\n    [headers] &lt;&lt; Proxy-Connection: keep-alive\r\n\r\n*Squid log*\r\n\r\n    1352370666.778      0 172.26.27.94 TCP_DENIED/407 1870 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg - NONE/- text/html\r\n    1352370671.429      8 172.26.27.94 TCP_MISS/201 282 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg proxyuser DIRECT/172.26.27.22 -\r\n    1352370671.474      0 172.26.27.94 TCP_DENIED/407 1882 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image2.jpg - NONE/- text/html\r\n    1352370671.486      7 172.26.27.94 TCP_MISS/201 282 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image2.jpg proxyuser DIRECT/172.26.27.22 -\r\n\r\n**With hardcoded header**\r\n\r\nThere is no 407 error in the java log, and squid log\r\n\r\n*Squid log*\r\n\r\n    1352370542.016      8 172.26.27.94 TCP_MISS/201 282 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg proxyuser DIRECT/172.26.27.22 -\r\n    1352370542.033      7 172.26.27.94 TCP_MISS/201 282 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image2.jpg proxyuser DIRECT/172.26.27.22 -\r\n\r\n","title":"HttpClient 4.2.2 and proxy with username/password","body":"<p>I have a problem with HttpClient 4.2.2 and proxy with username/password.\nHttpClient works in this way:</p>\n\n<ol>\n<li>List item</li>\n<li>Send request without proxy stuff (however I set proxy parameters for each request)</li>\n<li>Get response from Squid with 407 error</li>\n<li>Send request with proxy stuff</li>\n</ol>\n\n<p>It's very strange behavior, Is it possible to add info about proxy to each request? I've tried to add hardcoded \"Proxy-Authorization\" header to each request and it works fine, why HttpClient can't do the same?</p>\n\n<p><strong>Java code</strong></p>\n\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\nhttpClient.getParams().setParameter(PROTOCOL_VERSION, HTTP_1_1);\n...\nString proxyServer = getProxyServer();\nint proxyPort = getProxyPort();\nList&lt;String&gt; authpref = new ArrayList&lt;String&gt;();\nauthpref.add(AuthPolicy.BASIC);\nhttpClient.getParams().setParameter(AuthPNames.PROXY_AUTH_PREF, authpref);\nString proxyUser = getProxyUser();\nString proxyPassword = getProxyPassword();\nCredentialsProvider credsProvider = httpClient.getCredentialsProvider();\ncredsProvider.setCredentials(new AuthScope(proxyServer, proxyPort), new UsernamePasswordCredentials(proxyUser, proxyPassword));\nhttpClient.setCredentialsProvider(credsProvider);\nHttpHost proxy = new HttpHost(proxyServer, proxyPort, (proxyServer.indexOf(\"https\") != 0) ? \"http\" : \"https\");\nhttpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\n...\nHttpPut put = new HttpPut(url);\n\n/*** hardcoded header ***/\n//put.addHeader(\"Proxy-Authorization\", \"Basic eHRlbmR4LmRuZXByOnF3ZXJ0eQ==\");\n/*** hardcoded header ***/\n\nput.setEntity(entity);\nhttpClient.execute(put);\nhttpClient.getConnectionManager().shutdown();\n\n\n[DefaultClientConnection] Sending request: PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg HTTP/1.1\n[headers] &gt;&gt; PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg HTTP/1.1\n[headers] &gt;&gt; Authorization: Basic eGRldjo0YTFmNmMwOTgyYWRkMWQ0NDg1YjRhMGE4YWMxY2JjMWNiMTA0ODc1\n[headers] &gt;&gt; Content-Length: 2\n[headers] &gt;&gt; Host: 172.26.27.22:8080\n[headers] &gt;&gt; Proxy-Connection: Keep-Alive\n[headers] &gt;&gt; User-Agent: Apache-HttpClient/4.2.2 (java 1.5)\n[DefaultClientConnection] Receiving response: HTTP/1.0 407 Proxy Authentication Required\n[headers] &lt;&lt; HTTP/1.0 407 Proxy Authentication Required\n[headers] &lt;&lt; Server: squid/2.7.STABLE8\n[headers] &lt;&lt; Date: Thu, 08 Nov 2012 10:09:49 GMT\n[headers] &lt;&lt; Content-Type: text/html\n[headers] &lt;&lt; Content-Length: 1431\n[headers] &lt;&lt; X-Squid-Error: ERR_CACHE_ACCESS_DENIED 0\n[headers] &lt;&lt; Proxy-Authenticate: Basic realm=\"Please, enter username and password\"\n[headers] &lt;&lt; X-Cache: MISS from 172.26.27.94\n[headers] &lt;&lt; X-Cache-Lookup: NONE from 172.26.27.94:3128\n[headers] &lt;&lt; Via: 1.0 172.26.27.94:3128 (squid/2.7.STABLE8)\n[headers] &lt;&lt; Connection: close\n[DefaultHttpClient] Authentication required\n[DefaultHttpClient] 172.26.27.94:3128 requested authentication\n[ProxyAuthenticationStrategy] Authentication schemes in the order of preference: [Basic]\n[DefaultHttpClient] Selected authentication options: [BASIC]\n[DefaultClientConnection] Connection 0.0.0.0:63344&lt;-&gt;172.26.27.94:3128 closed\n[DefaultClientConnectionOperator] Connecting to 172.26.27.94:3128\n[RequestAddCookies] CookieSpec selected: best-match\n[RequestAuthCache] Re-using cached 'basic' auth scheme for http://172.26.27.22:8080\n[RequestAuthCache] No credentials for preemptive authentication\n[RequestProxyAuthentication] Proxy auth state: CHALLENGED\n[RequestProxyAuthentication] Generating response to an authentication challenge using basic scheme\n[DefaultHttpClient] Attempt 2 to execute request\n[DefaultClientConnection] Sending request: PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg HTTP/1.1\n[headers] &gt;&gt; PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg HTTP/1.1\n[headers] &gt;&gt; Authorization: Basic eGRldjo0YTFmNmMwOTgyYWRkMWQ0NDg1YjRhMGE4YWMxY2JjMWNiMTA0ODc1\n[headers] &gt;&gt; Content-Length: 2\n[headers] &gt;&gt; Host: 172.26.27.22:8080\n[headers] &gt;&gt; Proxy-Connection: Keep-Alive\n[headers] &gt;&gt; User-Agent: Apache-HttpClient/4.2.2 (java 1.5)\n[headers] &gt;&gt; Proxy-Authorization: Basic eHRlbmR4LmRuZXByOnF3ZXJ0eQ==\n[DefaultClientConnection] Receiving response: HTTP/1.0 201 Created\n[headers] &lt;&lt; HTTP/1.0 201 Created\n[headers] &lt;&lt; Content-Length: 0\n[headers] &lt;&lt; Date: Thu, 08 Nov 2012 10:09:49 GMT\n[headers] &lt;&lt; X-Cache: MISS from 172.26.27.94\n[headers] &lt;&lt; X-Cache-Lookup: MISS from 172.26.27.94:3128\n[headers] &lt;&lt; Via: 1.1 172.26.27.94:3128 (squid/2.7.STABLE8)\n[headers] &lt;&lt; Connection: keep-alive\n[headers] &lt;&lt; Proxy-Connection: keep-alive\n</code></pre>\n\n<p><em>Squid log</em></p>\n\n<pre><code>1352370666.778      0 172.26.27.94 TCP_DENIED/407 1870 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg - NONE/- text/html\n1352370671.429      8 172.26.27.94 TCP_MISS/201 282 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg proxyuser DIRECT/172.26.27.22 -\n1352370671.474      0 172.26.27.94 TCP_DENIED/407 1882 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image2.jpg - NONE/- text/html\n1352370671.486      7 172.26.27.94 TCP_MISS/201 282 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image2.jpg proxyuser DIRECT/172.26.27.22 -\n</code></pre>\n\n<p><strong>With hardcoded header</strong></p>\n\n<p>There is no 407 error in the java log, and squid log</p>\n\n<p><em>Squid log</em></p>\n\n<pre><code>1352370542.016      8 172.26.27.94 TCP_MISS/201 282 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image1.jpg proxyuser DIRECT/172.26.27.22 -\n1352370542.033      7 172.26.27.94 TCP_MISS/201 282 PUT http://172.26.27.22:8080/myapp/rest/2/3/29/image2.jpg proxyuser DIRECT/172.26.27.22 -\n</code></pre>\n"},{"tags":["java","swagger"],"owner":{"account_id":27067822,"reputation":1,"user_id":20618918,"display_name":"winner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681716142,"creation_date":1681716142,"question_id":76032590,"body_markdown":"While working with swagger2, I found this\r\n[enter image description here](https://i.stack.imgur.com/kGXtT.png)\r\n\r\nwhy can swagger2 display generics, don&#39;t generics erase during compilation?\r\nThis is one of my attempts!\r\n[enter image description here](https://i.stack.imgur.com/Vo75j.png)\r\n\r\nI hope we can solve this problem!","title":"A generic problem found in the process of using swagger2","body":"<p>While working with swagger2, I found this\n<a href=\"https://i.stack.imgur.com/kGXtT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>why can swagger2 display generics, don't generics erase during compilation?\nThis is one of my attempts!\n<a href=\"https://i.stack.imgur.com/Vo75j.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I hope we can solve this problem!</p>\n"},{"tags":["java","kotlin","opensearch","amazon-opensearch"],"answers":[{"tags":[],"owner":{"account_id":10096496,"reputation":131,"user_id":7461708,"display_name":"Alireza Fa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681715863,"creation_date":1681715863,"answer_id":76032556,"question_id":76015766,"body_markdown":"I found the answer to this.\r\nThe code in `org.opensearch.knn` such as the `kNNQuerybuilder` class are for internal use in the package. So that means I shouldn&#39;t take dependency in K-NN plugin and use the [Java client][1].\r\n\r\n\r\n  [1]: https://github.com/opensearch-project/opensearch-java","title":"Problem importing org.opensearch.knn in Java","body":"<p>I found the answer to this.\nThe code in <code>org.opensearch.knn</code> such as the <code>kNNQuerybuilder</code> class are for internal use in the package. So that means I shouldn't take dependency in K-NN plugin and use the <a href=\"https://github.com/opensearch-project/opensearch-java\" rel=\"nofollow noreferrer\">Java client</a>.</p>\n"}],"owner":{"account_id":10096496,"reputation":131,"user_id":7461708,"display_name":"Alireza Fa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681715863,"creation_date":1681479878,"question_id":76015766,"body_markdown":"My question is about correctly using the Java API of opensearch to with with the KNN plugin and make KNN queries in Java. How can I add `org.opensearch.plugin:opensearch-knn` as a dependency to my Java project and use it?\r\n\r\nI’ve added K-NN plugin as dependency in my build.gradle:\r\n```\r\nimplementation(&quot;org.opensearch.plugin:opensearch-knn:2.3.0.0&quot;)\r\n```\r\nBut I still get unresolved reference error when trying to import anything from `org.opensearch.knn`.","title":"Problem importing org.opensearch.knn in Java","body":"<p>My question is about correctly using the Java API of opensearch to with with the KNN plugin and make KNN queries in Java. How can I add <code>org.opensearch.plugin:opensearch-knn</code> as a dependency to my Java project and use it?</p>\n<p>I’ve added K-NN plugin as dependency in my build.gradle:</p>\n<pre><code>implementation(&quot;org.opensearch.plugin:opensearch-knn:2.3.0.0&quot;)\n</code></pre>\n<p>But I still get unresolved reference error when trying to import anything from <code>org.opensearch.knn</code>.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"score":0,"creation_date":1387203690,"post_id":20612946,"comment_id":30846768,"body_markdown":"What do you want to unit test? Whether `updateGreen()` calls `Runtime.exec()` or the actual result?","body":"What do you want to unit test? Whether <code>updateGreen()</code> calls <code>Runtime.exec()</code> or the actual result?"}],"answers":[{"tags":[],"owner":{"account_id":1306560,"reputation":6829,"user_id":1255453,"accept_rate":68,"display_name":"Husman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387203895,"creation_date":1387203895,"answer_id":20613203,"question_id":20612946,"body_markdown":"You could return true if the method ran successfully and false otherwise. It would be easy to test for this. \r\n\r\nYou could also test the output of this method, as described here:\r\nhttps://stackoverflow.com/questions/15175175/should-we-unit-test-console-outputs\r\n\r\nBut in my experience, it is much better to have methods return an optimistic or pessimistic value (true/false, 1/0/-1 etc) to indicate their status.\r\n\r\n\r\nYou can also write a getter method for the onCommand flag:\r\n\r\n    public string getFlag(){\r\n      // some logic here\r\n      return &quot;green&quot;;\r\n    \r\n      // otherwise default to no flags\r\n      return &quot;&quot;;\r\n    }","title":"How do I test a very simple void method in jUnit?","body":"<p>You could return true if the method ran successfully and false otherwise. It would be easy to test for this. </p>\n\n<p>You could also test the output of this method, as described here:\n<a href=\"https://stackoverflow.com/questions/15175175/should-we-unit-test-console-outputs\">Should we unit test console outputs?</a></p>\n\n<p>But in my experience, it is much better to have methods return an optimistic or pessimistic value (true/false, 1/0/-1 etc) to indicate their status.</p>\n\n<p>You can also write a getter method for the onCommand flag:</p>\n\n<pre><code>public string getFlag(){\n  // some logic here\n  return \"green\";\n\n  // otherwise default to no flags\n  return \"\";\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user2979186"},"score":0,"creation_date":1387265707,"post_id":20613236,"comment_id":30874886,"body_markdown":"Don&#39;t know about Mockito. Now read about it. Looks really great. Just what I&#39;ve searched.","body":"Don&#39;t know about Mockito. Now read about it. Looks really great. Just what I&#39;ve searched."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1387268710,"post_id":20613236,"comment_id":30876123,"body_markdown":"Yeah, mocking is simple, yet important part of unit testing. Nice to hear you liked it.","body":"Yeah, mocking is simple, yet important part of unit testing. Nice to hear you liked it."}],"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1387204680,"creation_date":1387204004,"answer_id":20613236,"question_id":20612946,"body_markdown":"If there is a lot of such methods, the thing which you might want to test here is that `updateScreen()` uses the right string, &quot;some-command-green&quot; and that the `System.out` is being invoked. In order to do this you might want to extract `System.out` into an object field and mock it (i.e. with Mockito&#39;s `spy()`) to test the string that was provided to `println`.\r\n\r\nI.e.\r\n\r\n    class MyClass{\r\n         PrintStream out = System.out;\r\n    \r\n         public void updateGreen() { ... }\r\n    }\r\n\r\nIn test:\r\n\r\n    @Test\r\n    public void testUpdate(){\r\n         MyClass myClass = new MyClass();\r\n         myClass.out = Mockito.spy(new PrintStream(...));\r\n         \r\n         // mock a call with an expected input\r\n         doNothing().when(myClass.out).println(&quot;expected command&quot;);\r\n\r\n         myClass.updateGreen();\r\n\r\n         // test that there was a call\r\n         Mockito.verify(myClass.out, Mockito.times(1)).println(&quot;expected command&quot;);\r\n    }\r\n","title":"How do I test a very simple void method in jUnit?","body":"<p>If there is a lot of such methods, the thing which you might want to test here is that <code>updateScreen()</code> uses the right string, \"some-command-green\" and that the <code>System.out</code> is being invoked. In order to do this you might want to extract <code>System.out</code> into an object field and mock it (i.e. with Mockito's <code>spy()</code>) to test the string that was provided to <code>println</code>.</p>\n\n<p>I.e.</p>\n\n<pre><code>class MyClass{\n     PrintStream out = System.out;\n\n     public void updateGreen() { ... }\n}\n</code></pre>\n\n<p>In test:</p>\n\n<pre><code>@Test\npublic void testUpdate(){\n     MyClass myClass = new MyClass();\n     myClass.out = Mockito.spy(new PrintStream(...));\n\n     // mock a call with an expected input\n     doNothing().when(myClass.out).println(\"expected command\");\n\n     myClass.updateGreen();\n\n     // test that there was a call\n     Mockito.verify(myClass.out, Mockito.times(1)).println(\"expected command\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387208137,"creation_date":1387208137,"answer_id":20614663,"question_id":20612946,"body_markdown":"You could test that `onCommand + &quot;-green&quot;` has been written to `System.out` by using the [System Rules library.](http://www.stefan-birkner.de/system-rules/#StandardErrorStreamLog)","title":"How do I test a very simple void method in jUnit?","body":"<p>You could test that <code>onCommand + \"-green\"</code> has been written to <code>System.out</code> by using the <a href=\"http://www.stefan-birkner.de/system-rules/#StandardErrorStreamLog\" rel=\"nofollow\">System Rules library.</a></p>\n"}],"owner":{"display_name":"user2979186"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86112,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":20613236,"answer_count":3,"score":5,"last_activity_date":1681715825,"creation_date":1387203080,"question_id":20612946,"body_markdown":"I know there are several question about void-method Unit-Testing, but my question is different.  \r\nI&#39;m learning java, so my boss give me some tasks with different requirements on my tasks. \r\n\r\nIn my actual task, there is a requirement which says, the jUnit test must cover &gt;60%. So I need to test a very simple method to reach this 60%. The method is the following:\r\n\r\n    public void updateGreen() {\r\n    \t// delete this outprint if the Power Manager works\r\n    \tSystem.out.println(onCommand + &quot;-green&quot;);\r\n    \t// p = Runtime.getRuntime().exec(command + &quot;-green&quot;);\r\n    \t// wait until the command is finished\r\n    \t// p.waitFor();\r\n    }\r\nBecause of intern problems, I can&#39;t execute the command with the `Runtime` task. So there is only a `System.out` in this method.\r\n\r\nI&#39;ve multiple methods like that, so tests for this method will cover over 10% of my whole code.\r\n\r\nIs it useful to test such a method? When yes, how?","title":"How do I test a very simple void method in jUnit?","body":"<p>I know there are several question about void-method Unit-Testing, but my question is different.<br>\nI'm learning java, so my boss give me some tasks with different requirements on my tasks. </p>\n\n<p>In my actual task, there is a requirement which says, the jUnit test must cover >60%. So I need to test a very simple method to reach this 60%. The method is the following:</p>\n\n<pre><code>public void updateGreen() {\n    // delete this outprint if the Power Manager works\n    System.out.println(onCommand + \"-green\");\n    // p = Runtime.getRuntime().exec(command + \"-green\");\n    // wait until the command is finished\n    // p.waitFor();\n}\n</code></pre>\n\n<p>Because of intern problems, I can't execute the command with the <code>Runtime</code> task. So there is only a <code>System.out</code> in this method.</p>\n\n<p>I've multiple methods like that, so tests for this method will cover over 10% of my whole code.</p>\n\n<p>Is it useful to test such a method? When yes, how?</p>\n"},{"tags":["java","android","eclipse","android-studio"],"comments":[{"owner":{"account_id":1156700,"reputation":1433,"user_id":1137118,"accept_rate":100,"display_name":"Pphoenix"},"score":1,"creation_date":1397468684,"post_id":23056804,"comment_id":35231310,"body_markdown":"The app probably crashes because you are trying to download on the uithread. Try to strat a new asynctask which downloads the file for you :)","body":"The app probably crashes because you are trying to download on the uithread. Try to strat a new asynctask which downloads the file for you :)"},{"owner":{"account_id":4324008,"reputation":345,"user_id":3531307,"accept_rate":43,"display_name":"71m3"},"score":0,"creation_date":1397468886,"post_id":23056804,"comment_id":35231424,"body_markdown":"How would I do this @Pphoenix ? Thanks :)","body":"How would I do this @Pphoenix ? Thanks :)"},{"owner":{"display_name":"user1650415"},"score":0,"creation_date":1397469131,"post_id":23056804,"comment_id":35231552,"body_markdown":"@Pphoenix asynctask are used when there are an interaction (update) with UI !","body":"@Pphoenix asynctask are used when there are an interaction (update) with UI !"},{"owner":{"account_id":1156700,"reputation":1433,"user_id":1137118,"accept_rate":100,"display_name":"Pphoenix"},"score":0,"creation_date":1397471112,"post_id":23056804,"comment_id":35232870,"body_markdown":"@SELMANON Ah yes, I just assumed he used UI update :)","body":"@SELMANON Ah yes, I just assumed he used UI update :)"}],"answers":[{"comments":[{"owner":{"account_id":4324008,"reputation":345,"user_id":3531307,"accept_rate":43,"display_name":"71m3"},"score":0,"creation_date":1397471721,"post_id":23057753,"comment_id":35233231,"body_markdown":"Thanks @Tim , but I put private DownloadFile df; under &#39;public class MainActivity extends ActionBarActivity&#39; and put df = new DownloadFile();\n        df.Download(); but it still doesnt work.","body":"Thanks @Tim , but I put private DownloadFile df; under &#39;public class MainActivity extends ActionBarActivity&#39; and put df = new DownloadFile();         df.Download(); but it still doesnt work."},{"owner":{"account_id":221813,"reputation":4653,"user_id":480007,"accept_rate":100,"display_name":"Timu&#231;in"},"score":0,"creation_date":1397471848,"post_id":23057753,"comment_id":35233304,"body_markdown":"By initialising it, you solved the NPE problem. Now it might be another problem. Look at the logcat.","body":"By initialising it, you solved the NPE problem. Now it might be another problem. Look at the logcat."},{"owner":{"account_id":4324008,"reputation":345,"user_id":3531307,"accept_rate":43,"display_name":"71m3"},"score":0,"creation_date":1397472019,"post_id":23057753,"comment_id":35233400,"body_markdown":"Ill add the new logcat in the post. @Tim","body":"Ill add the new logcat in the post. @Tim"},{"owner":{"account_id":4324008,"reputation":345,"user_id":3531307,"accept_rate":43,"display_name":"71m3"},"score":0,"creation_date":1397473309,"post_id":23057753,"comment_id":35234115,"body_markdown":"I added the new logcat @Tim","body":"I added the new logcat @Tim"}],"tags":[],"owner":{"account_id":221813,"reputation":4653,"user_id":480007,"accept_rate":100,"display_name":"Timu&#231;in"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1397473662,"creation_date":1397471212,"answer_id":23057753,"question_id":23056804,"body_markdown":"You are declaring `DownloadFile` object but not initializing it.\r\n\r\n    private DownloadFile df;\r\n    df.Download(); // Throws NPE\r\n\r\nDon&#39;t forget to initialize it.\r\n\r\n    private DownloadFile df = new DownloadFile();\r\n    df.Download();\r\n\r\n**EDIT:**\r\n\r\nNow you initialised the object and avoided NPE but this time you are getting a `NetworkOnMainThreadException`. After Honeycomb version, Android does not allow you to do network operations on main thread. You can use an [AsyncTask][1] to overcome this.\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/AsyncTask.html","title":"Android Java - How to download zip file from URL?","body":"<p>You are declaring <code>DownloadFile</code> object but not initializing it.</p>\n\n<pre><code>private DownloadFile df;\ndf.Download(); // Throws NPE\n</code></pre>\n\n<p>Don't forget to initialize it.</p>\n\n<pre><code>private DownloadFile df = new DownloadFile();\ndf.Download();\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Now you initialised the object and avoided NPE but this time you are getting a <code>NetworkOnMainThreadException</code>. After Honeycomb version, Android does not allow you to do network operations on main thread. You can use an <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow\">AsyncTask</a> to overcome this.</p>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681715242,"creation_date":1681715242,"answer_id":76032483,"question_id":23056804,"body_markdown":"In **Kotlin**, This function can be useful, here try/catch **avoids crash** and handle send Toast to user.\r\n\r\n\r\nAfter that maybe need **UNZIP** this file, so please see this link \r\nhttps://stackoverflow.com/a/76032406/12272687\r\n \r\n\r\n    fun downloadZip() {\r\n    \r\n    \r\n            val url = URL(&quot;http://www.Any.com/sub/name.zip&quot;)\r\n    \r\n            Thread {\r\n                try {\r\n                    val con: HttpURLConnection = url.openConnection() as HttpURLConnection\r\n                    con.doInput = true\r\n                    con.connectTimeout = 1200\r\n                    con.connect()\r\n                    val responseCode = con.responseCode\r\n                   \r\n    \r\n                    if (responseCode == HttpURLConnection.HTTP_OK) {\r\n                        val m = con.inputStream\r\n                        val inStream = BufferedInputStream(m, 1024 * 5)\r\n                        val myFilename = &quot;newFile&quot;\r\n                        val myExtensionVar = &quot;.zip&quot;\r\n                        val file = File(\r\n                            context.getDir(&quot;Music&quot;, AppCompatActivity.MODE_PRIVATE),\r\n                            &quot;/$myFilename$myExtensionVar&quot;\r\n                        )\r\n                        \r\n                        Log.i(&quot;well&quot;, &quot;Downloaded file: $file&quot;)\r\n                        if (file.exists()) {\r\n                           file.delete()\r\n                           \r\n                        }else{\r\n                        val buff = ByteArray(5 * 1024)\r\n                        // Create File (Copy)\r\n                        file.createNewFile()\r\n                        val outStream = FileOutputStream(file)\r\n                        var len:Int\r\n                        while (inStream.read(buff).also { len = it } &gt;= 0) {\r\n    \r\n                            outStream.write(buff, 0, len)\r\n  \r\n    \r\n                        }\r\n    \r\n                        outStream.flush()\r\n                        outStream.close()\r\n                        inStream.close()\r\n                        Log.i(&quot;well&quot;, &quot;Done file: $file&quot;)\r\n    \r\n                        handler.post {\r\n                            Toast.makeText(\r\n                                context,\r\n                                context.getString(R.string.mes_end_file), Toast.LENGTH_SHORT\r\n                            ).show()\r\n                          \r\n    \r\n                          \r\n                        }\r\n                        }\r\n                    }\r\n                } catch (ex: Exception) {\r\n                    ex.printStackTrace()\r\n                    handler.sendMessage(handler.obtainMessage(22, &quot;OK&quot;))\r\n                } catch (ex: IllegalThreadStateException){\r\n                    println( ex.printStackTrace())\r\n                    handler.sendMessage(handler.obtainMessage(22, &quot;OK&quot;))\r\n                }\r\n    \r\n            }.start()","title":"Android Java - How to download zip file from URL?","body":"<p>In <strong>Kotlin</strong>, This function can be useful, here try/catch <strong>avoids crash</strong> and handle send Toast to user.</p>\n<p>After that maybe need <strong>UNZIP</strong> this file, so please see this link\n<a href=\"https://stackoverflow.com/a/76032406/12272687\">https://stackoverflow.com/a/76032406/12272687</a></p>\n<pre><code>fun downloadZip() {\n\n\n        val url = URL(&quot;http://www.Any.com/sub/name.zip&quot;)\n\n        Thread {\n            try {\n                val con: HttpURLConnection = url.openConnection() as HttpURLConnection\n                con.doInput = true\n                con.connectTimeout = 1200\n                con.connect()\n                val responseCode = con.responseCode\n               \n\n                if (responseCode == HttpURLConnection.HTTP_OK) {\n                    val m = con.inputStream\n                    val inStream = BufferedInputStream(m, 1024 * 5)\n                    val myFilename = &quot;newFile&quot;\n                    val myExtensionVar = &quot;.zip&quot;\n                    val file = File(\n                        context.getDir(&quot;Music&quot;, AppCompatActivity.MODE_PRIVATE),\n                        &quot;/$myFilename$myExtensionVar&quot;\n                    )\n                    \n                    Log.i(&quot;well&quot;, &quot;Downloaded file: $file&quot;)\n                    if (file.exists()) {\n                       file.delete()\n                       \n                    }else{\n                    val buff = ByteArray(5 * 1024)\n                    // Create File (Copy)\n                    file.createNewFile()\n                    val outStream = FileOutputStream(file)\n                    var len:Int\n                    while (inStream.read(buff).also { len = it } &gt;= 0) {\n\n                        outStream.write(buff, 0, len)\n\n\n                    }\n\n                    outStream.flush()\n                    outStream.close()\n                    inStream.close()\n                    Log.i(&quot;well&quot;, &quot;Done file: $file&quot;)\n\n                    handler.post {\n                        Toast.makeText(\n                            context,\n                            context.getString(R.string.mes_end_file), Toast.LENGTH_SHORT\n                        ).show()\n                      \n\n                      \n                    }\n                    }\n                }\n            } catch (ex: Exception) {\n                ex.printStackTrace()\n                handler.sendMessage(handler.obtainMessage(22, &quot;OK&quot;))\n            } catch (ex: IllegalThreadStateException){\n                println( ex.printStackTrace())\n                handler.sendMessage(handler.obtainMessage(22, &quot;OK&quot;))\n            }\n\n        }.start()\n</code></pre>\n"}],"owner":{"account_id":4324008,"reputation":345,"user_id":3531307,"accept_rate":43,"display_name":"71m3"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8458,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23057753,"answer_count":2,"score":4,"last_activity_date":1681715242,"creation_date":1397468519,"question_id":23056804,"body_markdown":"Hey Im making a new project which requires you to download some files from my Dropbox. I added a new class called DownloadFile which has the code to download a file. For some reason the app crashes when I click download. Thanks.\r\n\r\nHeres the DownloadFile:\r\n\r\n        package com.Matt7262.download.app;\r\n    \r\n        import android.support.v7.app.ActionBarActivity;\r\n        import android.os.Bundle;\r\n        import android.view.Menu;\r\n        import android.view.MenuItem;\r\n        //Chat bot library\r\n        import org.alicebot.ab.Chat;\r\n        import org.alicebot.ab.Bot;\r\n    \r\n        import android.view.View;\r\n        import android.widget.Button;\r\n        import android.os.Environment;\r\n        import android.widget.TextView;\r\n        import android.widget.Toast;\r\n    \r\n        import java.io.InputStream;\r\n        import java.net.URL;\r\n        import java.io.DataInputStream;\r\n        import java.io.DataOutputStream;\r\n        import java.io.File;\r\n        import java.io.FileNotFoundException;\r\n        import java.io.FileOutputStream;\r\n        import java.io.IOException;\r\n        import java.net.HttpURLConnection;\r\n        import java.net.MalformedURLException;\r\n        import android.widget.ProgressBar;\r\n        import java.net.URL;\r\n        import java.net.URLConnection;\r\n        import android.app.Activity;\r\n        import android.app.ProgressDialog;\r\n        import android.os.Environment;\r\n        import android.view.View.OnClickListener;\r\n    \r\n        public class DownloadFile extends ActionBarActivity{\r\n    \r\n        public void updateProgress(int currentSize, int totalSize)\r\n        {\r\n            Toast.makeText(getApplicationContext(), &quot;Loading Files...&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n        public void Download()\r\n        {\r\n            try {\r\n                //set the download URL, a url that points to a file on the internet\r\n                //this is the file to be downloaded\r\n                URL url = new URL(&quot;https://dl.dropboxusercontent.com/shz/9cyfz0b45mj6szr/7pBuupNz3N/xecta?token_hash=AAEs9cDFswt98D1IhLnab4dHwhwh5z2Lmhq_N6H-2M0LWg&amp;top_level_offset=6&quot;);\r\n    \r\n                //create the new connection\r\n                HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n    \r\n                //set up some things on the connection\r\n                urlConnection.setRequestMethod(&quot;GET&quot;);\r\n                urlConnection.setDoOutput(true);\r\n    \r\n                //and connect!\r\n                urlConnection.connect();\r\n    \r\n                //set the path where we want to save the file\r\n                //in this case, going to save it on the root directory of the\r\n                //sd card.\r\n                File SDCardRoot = Environment.getExternalStorageDirectory();\r\n                //create a new file, specifying the path, and the filename\r\n                //which we want to save the file as.\r\n                File file = new File(SDCardRoot,&quot;hello.zip&quot;);\r\n    \r\n                //this will be used to write the downloaded data into the file we created\r\n                FileOutputStream fileOutput = new FileOutputStream(file);\r\n    \r\n                //this will be used in reading the data from the internet\r\n                InputStream inputStream = urlConnection.getInputStream();\r\n    \r\n                //this is the total size of the file\r\n                int totalSize = urlConnection.getContentLength();\r\n                //variable to store total downloaded bytes\r\n                int downloadedSize = 0;\r\n    \r\n                //create a buffer...\r\n                byte[] buffer = new byte[1024];\r\n                int bufferLength = 0; //used to store a temporary size of the buffer\r\n    \r\n                //now, read through the input buffer and write the contents to the file\r\n                while ( (bufferLength = inputStream.read(buffer)) &gt; 0 ) {\r\n                    //add the data in the buffer to the file in the file output stream (the file on the sd card\r\n                    fileOutput.write(buffer, 0, bufferLength);\r\n                    //add up the size so we know how much is downloaded\r\n                    downloadedSize += bufferLength;\r\n                    //this is where you would do something to report the prgress, like this maybe\r\n                    updateProgress(downloadedSize, totalSize);\r\n    \r\n                }\r\n                //close the output stream when done\r\n                fileOutput.close();\r\n    \r\n                //catch some possible errors...\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        }\r\n    \r\nMainActivity:\r\n\r\n    package com.Matt7262.download.app;\r\n    \r\n    import android.support.v7.app.ActionBarActivity;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    //Chat bot library\r\n    import org.alicebot.ab.Chat;\r\n    import org.alicebot.ab.Bot;\r\n    \r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.os.Environment;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import android.os.AsyncTask;\r\n    \r\n    public class MainActivity extends ActionBarActivity {\r\n    \r\n        TextView input;\r\n        String dPath = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/Download&quot;;\r\n        private DownloadFile df;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        //EditText mEdit = (EditText)findViewById(R.id.editText1);\r\n    \r\n        public void buttonOnClick(View v)\r\n        {\r\n            input = (TextView) findViewById(R.id.editText1);\r\n    \r\n            String dbPath = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/Download/Ab&quot;;\r\n    \r\n            Button button=(Button) v;\r\n    \r\n            //Creating bot\r\n            String botname=&quot;xecta&quot;;\r\n            String path= dbPath;\r\n            Bot xecta = new Bot(botname, path);\r\n    \r\n            Chat chatSession = new Chat(xecta);\r\n    \r\n            String request = input.getText().toString();\r\n            String response = chatSession.multisentenceRespond(request);\r\n            ((Button) v).setText(response);\r\n        }\r\n    \r\n        public void onClickDownload(View view)\r\n        {\r\n            df.Download();\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n    \r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            // Handle action bar item clicks here. The action bar will\r\n            // automatically handle clicks on the Home/Up button, so long\r\n            // as you specify a parent activity in AndroidManifest.xml.\r\n            int id = item.getItemId();\r\n            if (id == R.id.action_settings) {\r\n                return true;\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        /*public void updateProgress(int currentSize, int totalSize)\r\n        {\r\n            Toast.makeText(getApplicationContext(), &quot;Retrieving Files...&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n        }/*\r\n    \r\n        /*public void Download()\r\n        {\r\n            try {\r\n                //set the download URL, a url that points to a file on the internet\r\n                //this is the file to be downloaded\r\n                URL url = new URL(&quot;https://dl.dropboxusercontent.com/shz/9cyfz0b45mj6szr/7pBuupNz3N/xecta?token_hash=AAEs9cDFswt98D1IhLnab4dHwhwh5z2Lmhq_N6H-2M0LWg&amp;top_level_offset=6&quot;);\r\n    \r\n                //create the new connection\r\n                HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n    \r\n                //set up some things on the connection\r\n                urlConnection.setRequestMethod(&quot;GET&quot;);\r\n                urlConnection.setDoOutput(true);\r\n    \r\n                //and connect!\r\n                urlConnection.connect();\r\n    \r\n                //set the path where we want to save the file\r\n                //in this case, going to save it on the root directory of the\r\n                //sd card.\r\n                File SDCardRoot = Environment.getExternalStorageDirectory();\r\n                //create a new file, specifying the path, and the filename\r\n                //which we want to save the file as.\r\n                File file = new File(SDCardRoot,&quot;hello.zip&quot;);\r\n    \r\n                //this will be used to write the downloaded data into the file we created\r\n                FileOutputStream fileOutput = new FileOutputStream(file);\r\n    \r\n                //this will be used in reading the data from the internet\r\n                InputStream inputStream = urlConnection.getInputStream();\r\n    \r\n                //this is the total size of the file\r\n                int totalSize = urlConnection.getContentLength();\r\n                //variable to store total downloaded bytes\r\n                int downloadedSize = 0;\r\n    \r\n                //create a buffer...\r\n                byte[] buffer = new byte[1024];\r\n                int bufferLength = 0; //used to store a temporary size of the buffer\r\n    \r\n                //now, read through the input buffer and write the contents to the file\r\n                while ( (bufferLength = inputStream.read(buffer)) &gt; 0 ) {\r\n                    //add the data in the buffer to the file in the file output stream (the file on the sd card\r\n                    fileOutput.write(buffer, 0, bufferLength);\r\n                    //add up the size so we know how much is downloaded\r\n                    downloadedSize += bufferLength;\r\n                    //this is where you would do something to report the prgress, like this maybe\r\n                    updateProgress(downloadedSize, totalSize);\r\n    \r\n                }\r\n                //close the output stream when done\r\n                fileOutput.close();\r\n    \r\n             //catch some possible errors...\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }*/\r\n    \r\n    \r\n    }\r\n\r\nI think this is all I got out of the logcat:\r\n\r\n[logcat][1]\r\n\r\n\r\n  [1]: https://dl.dropboxusercontent.com/u/258218351/Screen%20Shot%202014-04-14%20at%208.43.50%20PM.png","title":"Android Java - How to download zip file from URL?","body":"<p>Hey Im making a new project which requires you to download some files from my Dropbox. I added a new class called DownloadFile which has the code to download a file. For some reason the app crashes when I click download. Thanks.</p>\n\n<p>Heres the DownloadFile:</p>\n\n<pre><code>    package com.Matt7262.download.app;\n\n    import android.support.v7.app.ActionBarActivity;\n    import android.os.Bundle;\n    import android.view.Menu;\n    import android.view.MenuItem;\n    //Chat bot library\n    import org.alicebot.ab.Chat;\n    import org.alicebot.ab.Bot;\n\n    import android.view.View;\n    import android.widget.Button;\n    import android.os.Environment;\n    import android.widget.TextView;\n    import android.widget.Toast;\n\n    import java.io.InputStream;\n    import java.net.URL;\n    import java.io.DataInputStream;\n    import java.io.DataOutputStream;\n    import java.io.File;\n    import java.io.FileNotFoundException;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    import java.net.HttpURLConnection;\n    import java.net.MalformedURLException;\n    import android.widget.ProgressBar;\n    import java.net.URL;\n    import java.net.URLConnection;\n    import android.app.Activity;\n    import android.app.ProgressDialog;\n    import android.os.Environment;\n    import android.view.View.OnClickListener;\n\n    public class DownloadFile extends ActionBarActivity{\n\n    public void updateProgress(int currentSize, int totalSize)\n    {\n        Toast.makeText(getApplicationContext(), \"Loading Files...\",\n                Toast.LENGTH_SHORT).show();\n    }\n\n    public void Download()\n    {\n        try {\n            //set the download URL, a url that points to a file on the internet\n            //this is the file to be downloaded\n            URL url = new URL(\"https://dl.dropboxusercontent.com/shz/9cyfz0b45mj6szr/7pBuupNz3N/xecta?token_hash=AAEs9cDFswt98D1IhLnab4dHwhwh5z2Lmhq_N6H-2M0LWg&amp;top_level_offset=6\");\n\n            //create the new connection\n            HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n\n            //set up some things on the connection\n            urlConnection.setRequestMethod(\"GET\");\n            urlConnection.setDoOutput(true);\n\n            //and connect!\n            urlConnection.connect();\n\n            //set the path where we want to save the file\n            //in this case, going to save it on the root directory of the\n            //sd card.\n            File SDCardRoot = Environment.getExternalStorageDirectory();\n            //create a new file, specifying the path, and the filename\n            //which we want to save the file as.\n            File file = new File(SDCardRoot,\"hello.zip\");\n\n            //this will be used to write the downloaded data into the file we created\n            FileOutputStream fileOutput = new FileOutputStream(file);\n\n            //this will be used in reading the data from the internet\n            InputStream inputStream = urlConnection.getInputStream();\n\n            //this is the total size of the file\n            int totalSize = urlConnection.getContentLength();\n            //variable to store total downloaded bytes\n            int downloadedSize = 0;\n\n            //create a buffer...\n            byte[] buffer = new byte[1024];\n            int bufferLength = 0; //used to store a temporary size of the buffer\n\n            //now, read through the input buffer and write the contents to the file\n            while ( (bufferLength = inputStream.read(buffer)) &gt; 0 ) {\n                //add the data in the buffer to the file in the file output stream (the file on the sd card\n                fileOutput.write(buffer, 0, bufferLength);\n                //add up the size so we know how much is downloaded\n                downloadedSize += bufferLength;\n                //this is where you would do something to report the prgress, like this maybe\n                updateProgress(downloadedSize, totalSize);\n\n            }\n            //close the output stream when done\n            fileOutput.close();\n\n            //catch some possible errors...\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    }\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>package com.Matt7262.download.app;\n\nimport android.support.v7.app.ActionBarActivity;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\n//Chat bot library\nimport org.alicebot.ab.Chat;\nimport org.alicebot.ab.Bot;\n\nimport android.view.View;\nimport android.widget.Button;\nimport android.os.Environment;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport android.os.AsyncTask;\n\npublic class MainActivity extends ActionBarActivity {\n\n    TextView input;\n    String dPath = Environment.getExternalStorageDirectory().getAbsolutePath() + \"/Download\";\n    private DownloadFile df;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    //EditText mEdit = (EditText)findViewById(R.id.editText1);\n\n    public void buttonOnClick(View v)\n    {\n        input = (TextView) findViewById(R.id.editText1);\n\n        String dbPath = Environment.getExternalStorageDirectory().getAbsolutePath() + \"/Download/Ab\";\n\n        Button button=(Button) v;\n\n        //Creating bot\n        String botname=\"xecta\";\n        String path= dbPath;\n        Bot xecta = new Bot(botname, path);\n\n        Chat chatSession = new Chat(xecta);\n\n        String request = input.getText().toString();\n        String response = chatSession.multisentenceRespond(request);\n        ((Button) v).setText(response);\n    }\n\n    public void onClickDownload(View view)\n    {\n        df.Download();\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n        if (id == R.id.action_settings) {\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    /*public void updateProgress(int currentSize, int totalSize)\n    {\n        Toast.makeText(getApplicationContext(), \"Retrieving Files...\",\n                Toast.LENGTH_SHORT).show();\n    }/*\n\n    /*public void Download()\n    {\n        try {\n            //set the download URL, a url that points to a file on the internet\n            //this is the file to be downloaded\n            URL url = new URL(\"https://dl.dropboxusercontent.com/shz/9cyfz0b45mj6szr/7pBuupNz3N/xecta?token_hash=AAEs9cDFswt98D1IhLnab4dHwhwh5z2Lmhq_N6H-2M0LWg&amp;top_level_offset=6\");\n\n            //create the new connection\n            HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n\n            //set up some things on the connection\n            urlConnection.setRequestMethod(\"GET\");\n            urlConnection.setDoOutput(true);\n\n            //and connect!\n            urlConnection.connect();\n\n            //set the path where we want to save the file\n            //in this case, going to save it on the root directory of the\n            //sd card.\n            File SDCardRoot = Environment.getExternalStorageDirectory();\n            //create a new file, specifying the path, and the filename\n            //which we want to save the file as.\n            File file = new File(SDCardRoot,\"hello.zip\");\n\n            //this will be used to write the downloaded data into the file we created\n            FileOutputStream fileOutput = new FileOutputStream(file);\n\n            //this will be used in reading the data from the internet\n            InputStream inputStream = urlConnection.getInputStream();\n\n            //this is the total size of the file\n            int totalSize = urlConnection.getContentLength();\n            //variable to store total downloaded bytes\n            int downloadedSize = 0;\n\n            //create a buffer...\n            byte[] buffer = new byte[1024];\n            int bufferLength = 0; //used to store a temporary size of the buffer\n\n            //now, read through the input buffer and write the contents to the file\n            while ( (bufferLength = inputStream.read(buffer)) &gt; 0 ) {\n                //add the data in the buffer to the file in the file output stream (the file on the sd card\n                fileOutput.write(buffer, 0, bufferLength);\n                //add up the size so we know how much is downloaded\n                downloadedSize += bufferLength;\n                //this is where you would do something to report the prgress, like this maybe\n                updateProgress(downloadedSize, totalSize);\n\n            }\n            //close the output stream when done\n            fileOutput.close();\n\n         //catch some possible errors...\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }*/\n\n\n}\n</code></pre>\n\n<p>I think this is all I got out of the logcat:</p>\n\n<p><a href=\"https://dl.dropboxusercontent.com/u/258218351/Screen%20Shot%202014-04-14%20at%208.43.50%20PM.png\" rel=\"nofollow\">logcat</a></p>\n"},{"tags":["java","spring","spring-boot","maven","swagger"],"answers":[{"tags":[],"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581431038,"creation_date":1581431038,"answer_id":60171046,"question_id":60170611,"body_markdown":"Interface [Parameter][1] is from the [swagger-models][2] maven dependency.\r\n\r\nTo fix the issue simply remove the corresponding exclusion from the POM file:\r\n\r\n    &lt;exclusion&gt;\r\n      &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\r\n      &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    &lt;/exclusion&gt;\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/io.swagger/swagger-models/1.6.0/io/swagger/models/parameters/Parameter.html\r\n  [2]: https://search.maven.org/artifact/io.swagger/swagger-models","title":"Spring-boot swagger throws java.lang.ClassNotFoundException on io.swagger.models.parameters.Parameter","body":"<p>Interface <a href=\"https://www.javadoc.io/doc/io.swagger/swagger-models/1.6.0/io/swagger/models/parameters/Parameter.html\" rel=\"nofollow noreferrer\">Parameter</a> is from the <a href=\"https://search.maven.org/artifact/io.swagger/swagger-models\" rel=\"nofollow noreferrer\">swagger-models</a> maven dependency.</p>\n\n<p>To fix the issue simply remove the corresponding exclusion from the POM file:</p>\n\n<pre><code>&lt;exclusion&gt;\n  &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\n  &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n&lt;/exclusion&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":1,"creation_date":1614332152,"post_id":60181356,"comment_id":117358692,"body_markdown":"You just saved me a whole lot of headache.","body":"You just saved me a whole lot of headache."}],"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581483080,"creation_date":1581483080,"answer_id":60181356,"question_id":60170611,"body_markdown":"Swagger is not working properly in spring boot version 2.2.0 an above. You can use alternatively \r\n\r\n&gt; &quot;springdoc-openapi-ui&quot;\r\n\r\nTutorial available at [www.baeldung.com/spring-rest-openapi-documentation][1]\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.30&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-rest-openapi-documentation","title":"Spring-boot swagger throws java.lang.ClassNotFoundException on io.swagger.models.parameters.Parameter","body":"<p>Swagger is not working properly in spring boot version 2.2.0 an above. You can use alternatively </p>\n\n<blockquote>\n  <p>\"springdoc-openapi-ui\"</p>\n</blockquote>\n\n<p>Tutorial available at <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"nofollow noreferrer\">www.baeldung.com/spring-rest-openapi-documentation</a></p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.2.30&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675601223,"post_id":75322165,"comment_id":132960374,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75322165/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":25822353,"reputation":279,"user_id":19561210,"display_name":"Jessica"},"score":0,"creation_date":1681825848,"post_id":75322165,"comment_id":134116870,"body_markdown":"Wow this actually worked for me ! For anyone wondering, I downgraded the version of my org.springdoc from 1.6.9 to 1.6.4","body":"Wow this actually worked for me ! For anyone wondering, I downgraded the version of my org.springdoc from 1.6.9 to 1.6.4"}],"tags":[],"owner":{"account_id":27684462,"reputation":11,"user_id":21132504,"display_name":"Rajesh"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675335561,"creation_date":1675335561,"answer_id":75322165,"question_id":60170611,"body_markdown":"I could resolve my issue when I downgraded my version to \r\n       &lt;open-api-version&gt;1.6.4&lt;/open-api-version&gt;\r\nfrom 1.6.9\r\n","title":"Spring-boot swagger throws java.lang.ClassNotFoundException on io.swagger.models.parameters.Parameter","body":"<p>I could resolve my issue when I downgraded my version to\n1.6.4\nfrom 1.6.9</p>\n"},{"tags":[],"owner":{"account_id":5876483,"reputation":47,"user_id":4627163,"display_name":"Siddharth Vanakudari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681714860,"creation_date":1681714860,"answer_id":76032444,"question_id":60170611,"body_markdown":"For Spring Security support use the Below dependency \r\n\r\n```\r\nimplementation(&quot;org.springdoc:springdoc-openapi-starter-common:2.1.0&quot;)\r\nimplementation(&quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0&quot;)\r\n```\r\n\r\nfrom https://springdoc.org/v2/#migrating-from-springfox","title":"Spring-boot swagger throws java.lang.ClassNotFoundException on io.swagger.models.parameters.Parameter","body":"<p>For Spring Security support use the Below dependency</p>\n<pre><code>implementation(&quot;org.springdoc:springdoc-openapi-starter-common:2.1.0&quot;)\nimplementation(&quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0&quot;)\n</code></pre>\n<p>from <a href=\"https://springdoc.org/v2/#migrating-from-springfox\" rel=\"nofollow noreferrer\">https://springdoc.org/v2/#migrating-from-springfox</a></p>\n"}],"owner":{"account_id":17536054,"reputation":397,"user_id":12719159,"display_name":"hispanicprogrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20819,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1681714860,"creation_date":1581429712,"question_id":60170611,"body_markdown":"I am using the following spring-boot dependencies in order to generate a swagger file for my `Spring-boot` application:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${swagger-fox.version}&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\r\n\t\t\t\t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t&lt;version&gt;${swagger-fox.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;properties&gt;\r\n\t\t&lt;swagger.version&gt;1.6.0&lt;/swagger.version&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;dockerfile-maven-version&gt;1.4.3&lt;/dockerfile-maven-version&gt;\r\n\t\t&lt;swagger-fox.version&gt;2.9.2&lt;/swagger-fox.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nAnd this is the swagger configuration class, which I have included in my app:\r\n\r\n```\r\n\r\n@SpringBootApplication\r\n@EnableSwagger2\r\npublic class SpringFoxConfig {\r\n\r\n\r\n    private static final String AUTHOR_MAIL = &quot;xxx@xxx.com&quot;;\r\n\r\n    private static final String API_TITLE = &quot;DEMO  Service REST API&quot;;\r\n\r\n    private static final String API_DESCRIPTION = &quot;demo&quot;;\r\n\r\n    private static final String API_BASE_PACKAGE = &quot;demo_package&quot;;\r\n\r\n\r\n    private ApiInfo getApiInfo() {\r\n        return new ApiInfo(API_TITLE, API_DESCRIPTION, &quot;V1&quot;, &quot;&quot;, AUTHOR_MAIL,\r\n                &quot;&quot;,&quot;&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2).apiInfo(getApiInfo())\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(API_BASE_PACKAGE))\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n```\r\nDespite that when I run my app I get the following error:\r\n\r\n```\r\n\r\njava.lang.NoClassDefFoundError: io/swagger/models/parameters/Parameter\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredConstructors(Class.java:2357) ~[na:na]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.findConstructorBindingAnnotatedConstructor(ConfigurationPropertiesBindConstructorProvider.java:62) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.getBindConstructor(ConfigurationPropertiesBindConstructorProvider.java:48) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.forType(ConfigurationPropertiesBean.java:311) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.validate(ConfigurationPropertiesBeanDefinitionValidator.java:63) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.postProcessBeanFactory(ConfigurationPropertiesBeanDefinitionValidator.java:45) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:286) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:174) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat demo.Application.main(Application.java:10) ~[classes/:na]\r\nCaused by: java.lang.ClassNotFoundException: io.swagger.models.parameters.Parameter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 19 common frames omitted\r\n```\r\nNote that I also get a warning that the method `ApiInfo` is deprecated and suspect that error has something to do with it, however I am not sure about it. Could anyone help me figure out how to go about solving this? Thanks in advance ","title":"Spring-boot swagger throws java.lang.ClassNotFoundException on io.swagger.models.parameters.Parameter","body":"<p>I am using the following spring-boot dependencies in order to generate a swagger file for my <code>Spring-boot</code> application:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger-fox.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n                    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\n                &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;${swagger-fox.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;properties&gt;\n        &lt;swagger.version&gt;1.6.0&lt;/swagger.version&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;dockerfile-maven-version&gt;1.4.3&lt;/dockerfile-maven-version&gt;\n        &lt;swagger-fox.version&gt;2.9.2&lt;/swagger-fox.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>And this is the swagger configuration class, which I have included in my app:</p>\n\n<pre><code>\n@SpringBootApplication\n@EnableSwagger2\npublic class SpringFoxConfig {\n\n\n    private static final String AUTHOR_MAIL = \"xxx@xxx.com\";\n\n    private static final String API_TITLE = \"DEMO  Service REST API\";\n\n    private static final String API_DESCRIPTION = \"demo\";\n\n    private static final String API_BASE_PACKAGE = \"demo_package\";\n\n\n    private ApiInfo getApiInfo() {\n        return new ApiInfo(API_TITLE, API_DESCRIPTION, \"V1\", \"\", AUTHOR_MAIL,\n                \"\",\"\");\n    }\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2).apiInfo(getApiInfo())\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(API_BASE_PACKAGE))\n                .paths(PathSelectors.any())\n                .build();\n    }\n</code></pre>\n\n<p>Despite that when I run my app I get the following error:</p>\n\n<pre><code>\njava.lang.NoClassDefFoundError: io/swagger/models/parameters/Parameter\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2357) ~[na:na]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.findConstructorBindingAnnotatedConstructor(ConfigurationPropertiesBindConstructorProvider.java:62) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindConstructorProvider.getBindConstructor(ConfigurationPropertiesBindConstructorProvider.java:48) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.forType(ConfigurationPropertiesBean.java:311) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.validate(ConfigurationPropertiesBeanDefinitionValidator.java:63) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.postProcessBeanFactory(ConfigurationPropertiesBeanDefinitionValidator.java:45) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:286) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:174) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at demo.Application.main(Application.java:10) ~[classes/:na]\nCaused by: java.lang.ClassNotFoundException: io.swagger.models.parameters.Parameter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 19 common frames omitted\n</code></pre>\n\n<p>Note that I also get a warning that the method <code>ApiInfo</code> is deprecated and suspect that error has something to do with it, however I am not sure about it. Could anyone help me figure out how to go about solving this? Thanks in advance </p>\n"},{"tags":["java","spring-boot","apache-camel","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681714617,"creation_date":1681714617,"answer_id":76032417,"question_id":76024678,"body_markdown":"You can see the list of versions via `camel version list` command (camel-jbang)\r\n\r\n```\r\n~/workspace/camel main *13 ❯ camel version list --runtime=spring-boot --minimum-version=3.0\r\n CAMEL VERSION   SPRING-BOOT     JDK   KIND     RELEASED     SUPPORTED UNTIL\r\n     3.1.0      2.2.4.RELEASE    8,11         February 2020\r\n     3.2.0      2.2.6.RELEASE    8,11            April 2020\r\n     3.3.0      2.2.7.RELEASE    8,11              May 2020\r\n     3.4.0      2.3.0.RELEASE    8,11  LTS        June 2020        June 2021\r\n     3.4.1      2.3.1.RELEASE    8,11  LTS        July 2020        June 2021\r\n     3.4.2      2.3.1.RELEASE    8,11  LTS        July 2020        June 2021\r\n     3.4.3      2.3.2.RELEASE    8,11  LTS      August 2020        June 2021\r\n     3.4.4      2.3.4.RELEASE    8,11  LTS   September 2020        June 2021\r\n     3.4.5      2.3.4.RELEASE    8,11  LTS    December 2020        June 2021\r\n     3.4.6      2.3.10.RELEASE   8,11  LTS        June 2021        June 2021\r\n     3.5.0      2.3.3.RELEASE    8,11        September 2020\r\n     3.6.0      2.3.4.RELEASE    8,11        September 2020\r\n     3.7.0          2.4.0        8,11  LTS    December 2020     January 2022\r\n     3.7.1          2.4.2        8,11  LTS     January 2021     January 2022\r\n     3.7.2          2.4.2        8,11  LTS    February 2021     January 2022\r\n     3.7.3          2.4.3        8,11  LTS       March 2021     January 2022\r\n     3.7.4          2.4.5        8,11  LTS         May 2021     January 2022\r\n     3.7.5          2.4.8        8,11  LTS        July 2021     January 2022\r\n     3.7.6          2.4.11       8,11  LTS     October 2021     January 2022\r\n     3.7.7          2.4.11       8,11  LTS    December 2021     January 2022\r\n     3.8.0          2.4.2        8,11         February 2021\r\n     3.9.0          2.4.4        8,11            March 2021\r\n    3.10.0          2.4.5        8,11              May 2021\r\n    3.11.0          2.5.1        8,11  LTS        June 2021        July 2022\r\n    3.11.1          2.5.3        8,11  LTS      August 2021        July 2022\r\n    3.11.2          2.5.4        8,11  LTS   September 2021        July 2022\r\n    3.11.3          2.5.5        8,11  LTS     October 2021        July 2022\r\n    3.11.4          2.5.6        8,11  LTS    November 2021        July 2022\r\n    3.11.5          2.5.8        8,11  LTS    December 2021        July 2022\r\n    3.11.6          2.5.10       8,11  LTS       March 2022        July 2022\r\n    3.11.7          2.5.13       8,11  LTS         May 2022        July 2022\r\n    3.12.0          2.5.5        8,11          October 2021\r\n    3.13.0          2.5.6        8,11         November 2021\r\n    3.14.0          2.6.1        8,11  LTS    December 2021    December 2023\r\n    3.14.1          2.6.3        8,11  LTS     January 2022    December 2023\r\n    3.14.2          2.6.4        8,11  LTS       March 2022    December 2023\r\n    3.14.3          2.6.7        8,11  LTS         May 2022    December 2023\r\n    3.14.4          2.6.8        8,11  LTS        June 2022    December 2023\r\n    3.14.5          2.6.10       8,11  LTS      August 2022    December 2023\r\n    3.14.6          2.6.13       8,11  LTS    November 2022    December 2023\r\n    3.14.7          2.6.13       8,11  LTS    December 2022    December 2023\r\n    3.15.0          2.6.3          11         February 2022\r\n    3.16.0          2.6.4          11            March 2022\r\n    3.17.0          2.6.7       11,17              May 2022\r\n    3.18.0          2.7.1       11,17  LTS        July 2022        July 2023\r\n    3.18.1          2.7.2       11,17  LTS      August 2022        July 2023\r\n    3.18.2          2.7.3       11,17  LTS   September 2022        July 2023\r\n    3.18.3          2.7.5       11,17  LTS     October 2022        July 2023\r\n    3.18.4          2.7.6       11,17  LTS    December 2022        July 2023\r\n    3.18.5          2.7.8       11,17  LTS     January 2023        July 2023\r\n    3.18.6          2.7.8       11,17  LTS       April 2023        July 2023\r\n    3.19.0          2.7.3       11,17          October 2022\r\n    3.20.0          2.7.6       11,17  LTS    December 2022    December 2023\r\n    3.20.1          2.7.7       11,17  LTS     January 2023    December 2023\r\n    3.20.2          2.7.8       11,17  LTS    February 2023    December 2023\r\n    3.20.3          2.7.10      11,17  LTS       March 2023    December 2023\r\n   4.0.0-M1         3.0.2          17   RC    February 2023\r\n   4.0.0-M2         3.0.4          17   RC       March 2023\r\n```","title":"Which version of Apache Camel SpringBoot Starter to use for Spring Boot 2.5.0","body":"<p>You can see the list of versions via <code>camel version list</code> command (camel-jbang)</p>\n<pre><code>~/workspace/camel main *13 ❯ camel version list --runtime=spring-boot --minimum-version=3.0\n CAMEL VERSION   SPRING-BOOT     JDK   KIND     RELEASED     SUPPORTED UNTIL\n     3.1.0      2.2.4.RELEASE    8,11         February 2020\n     3.2.0      2.2.6.RELEASE    8,11            April 2020\n     3.3.0      2.2.7.RELEASE    8,11              May 2020\n     3.4.0      2.3.0.RELEASE    8,11  LTS        June 2020        June 2021\n     3.4.1      2.3.1.RELEASE    8,11  LTS        July 2020        June 2021\n     3.4.2      2.3.1.RELEASE    8,11  LTS        July 2020        June 2021\n     3.4.3      2.3.2.RELEASE    8,11  LTS      August 2020        June 2021\n     3.4.4      2.3.4.RELEASE    8,11  LTS   September 2020        June 2021\n     3.4.5      2.3.4.RELEASE    8,11  LTS    December 2020        June 2021\n     3.4.6      2.3.10.RELEASE   8,11  LTS        June 2021        June 2021\n     3.5.0      2.3.3.RELEASE    8,11        September 2020\n     3.6.0      2.3.4.RELEASE    8,11        September 2020\n     3.7.0          2.4.0        8,11  LTS    December 2020     January 2022\n     3.7.1          2.4.2        8,11  LTS     January 2021     January 2022\n     3.7.2          2.4.2        8,11  LTS    February 2021     January 2022\n     3.7.3          2.4.3        8,11  LTS       March 2021     January 2022\n     3.7.4          2.4.5        8,11  LTS         May 2021     January 2022\n     3.7.5          2.4.8        8,11  LTS        July 2021     January 2022\n     3.7.6          2.4.11       8,11  LTS     October 2021     January 2022\n     3.7.7          2.4.11       8,11  LTS    December 2021     January 2022\n     3.8.0          2.4.2        8,11         February 2021\n     3.9.0          2.4.4        8,11            March 2021\n    3.10.0          2.4.5        8,11              May 2021\n    3.11.0          2.5.1        8,11  LTS        June 2021        July 2022\n    3.11.1          2.5.3        8,11  LTS      August 2021        July 2022\n    3.11.2          2.5.4        8,11  LTS   September 2021        July 2022\n    3.11.3          2.5.5        8,11  LTS     October 2021        July 2022\n    3.11.4          2.5.6        8,11  LTS    November 2021        July 2022\n    3.11.5          2.5.8        8,11  LTS    December 2021        July 2022\n    3.11.6          2.5.10       8,11  LTS       March 2022        July 2022\n    3.11.7          2.5.13       8,11  LTS         May 2022        July 2022\n    3.12.0          2.5.5        8,11          October 2021\n    3.13.0          2.5.6        8,11         November 2021\n    3.14.0          2.6.1        8,11  LTS    December 2021    December 2023\n    3.14.1          2.6.3        8,11  LTS     January 2022    December 2023\n    3.14.2          2.6.4        8,11  LTS       March 2022    December 2023\n    3.14.3          2.6.7        8,11  LTS         May 2022    December 2023\n    3.14.4          2.6.8        8,11  LTS        June 2022    December 2023\n    3.14.5          2.6.10       8,11  LTS      August 2022    December 2023\n    3.14.6          2.6.13       8,11  LTS    November 2022    December 2023\n    3.14.7          2.6.13       8,11  LTS    December 2022    December 2023\n    3.15.0          2.6.3          11         February 2022\n    3.16.0          2.6.4          11            March 2022\n    3.17.0          2.6.7       11,17              May 2022\n    3.18.0          2.7.1       11,17  LTS        July 2022        July 2023\n    3.18.1          2.7.2       11,17  LTS      August 2022        July 2023\n    3.18.2          2.7.3       11,17  LTS   September 2022        July 2023\n    3.18.3          2.7.5       11,17  LTS     October 2022        July 2023\n    3.18.4          2.7.6       11,17  LTS    December 2022        July 2023\n    3.18.5          2.7.8       11,17  LTS     January 2023        July 2023\n    3.18.6          2.7.8       11,17  LTS       April 2023        July 2023\n    3.19.0          2.7.3       11,17          October 2022\n    3.20.0          2.7.6       11,17  LTS    December 2022    December 2023\n    3.20.1          2.7.7       11,17  LTS     January 2023    December 2023\n    3.20.2          2.7.8       11,17  LTS    February 2023    December 2023\n    3.20.3          2.7.10      11,17  LTS       March 2023    December 2023\n   4.0.0-M1         3.0.2          17   RC    February 2023\n   4.0.0-M2         3.0.4          17   RC       March 2023\n</code></pre>\n"}],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681714617,"creation_date":1681591571,"question_id":76024678,"body_markdown":"From Maven Central: https://mvnrepository.com/artifact/org.apache.camel.springboot/camel-spring-boot-starter \r\n\r\nThis is what the dependency seems to be:\r\n\r\norg.apache.camel.springboot &#187; camel-spring-boot-starter:3.11.0 depends on org.springframework.boot &#187; spring-boot-starter\t2.5.1\r\n\r\norg.apache.camel.springboot &#187; camel-spring-boot-starter &#187; 3.10.0 depends on org.springframework.boot &#187; spring-boot-starter\t2.4.5\r\n\r\nWhich one should we use in a project which runs Spring Boot 2.5.0 \r\n\r\nWould the lower one be compatible or the higher one. \r\n\r\nI guess what I am asking is... if Camel Spring Boot Starter wants (at-least?) spring-boot-starter\t2.4.5, then would it be okay with Spring Boot 2.5.0 being there is the project already, or would it import Spring Boot 2.4.5?\r\n\r\nI would like to understand how the dependency works.\r\n\r\n**Update:** \r\n\r\nI tried camel-spring-boot-starter:3.11.0 with a project which runs Spring Boot 2.5.0. And spring-boot-starter\t2.5.1 is not seen in the expanded dependencies. Doesn&#39;t camel-spring-boot-starter:3.11.0 need/bring-in spring-boot-starter\t2.5.1?","title":"Which version of Apache Camel SpringBoot Starter to use for Spring Boot 2.5.0","body":"<p>From Maven Central: <a href=\"https://mvnrepository.com/artifact/org.apache.camel.springboot/camel-spring-boot-starter\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.camel.springboot/camel-spring-boot-starter</a></p>\n<p>This is what the dependency seems to be:</p>\n<p>org.apache.camel.springboot » camel-spring-boot-starter:3.11.0 depends on org.springframework.boot » spring-boot-starter    2.5.1</p>\n<p>org.apache.camel.springboot » camel-spring-boot-starter » 3.10.0 depends on org.springframework.boot » spring-boot-starter  2.4.5</p>\n<p>Which one should we use in a project which runs Spring Boot 2.5.0</p>\n<p>Would the lower one be compatible or the higher one.</p>\n<p>I guess what I am asking is... if Camel Spring Boot Starter wants (at-least?) spring-boot-starter   2.4.5, then would it be okay with Spring Boot 2.5.0 being there is the project already, or would it import Spring Boot 2.4.5?</p>\n<p>I would like to understand how the dependency works.</p>\n<p><strong>Update:</strong></p>\n<p>I tried camel-spring-boot-starter:3.11.0 with a project which runs Spring Boot 2.5.0. And spring-boot-starter   2.5.1 is not seen in the expanded dependencies. Doesn't camel-spring-boot-starter:3.11.0 need/bring-in spring-boot-starter  2.5.1?</p>\n"},{"tags":["java","android","unzip"],"comments":[{"owner":{"account_id":1189636,"reputation":7055,"user_id":1162784,"display_name":"arsent"},"score":3,"creation_date":1529680532,"post_id":3382996,"comment_id":88976582,"body_markdown":"You can get the Kotlin solution here - https://stackoverflow.com/a/50990992/1162784","body":"You can get the Kotlin solution here - <a href=\"https://stackoverflow.com/a/50990992/1162784\">stackoverflow.com/a/50990992/1162784</a>"}],"answers":[{"comments":[{"owner":{"account_id":178706,"reputation":21668,"user_id":410867,"accept_rate":80,"display_name":"Cameron Lowell Palmer"},"score":10,"creation_date":1487847837,"post_id":3383014,"comment_id":71973289,"body_markdown":"You should have provided a code example. You missed out on a lot of points.","body":"You should have provided a code example. You missed out on a lot of points."},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1647353942,"post_id":3383014,"comment_id":126346465,"body_markdown":"Will it work for 7zip also?","body":"Will it work for 7zip also?"}],"tags":[],"owner":{"account_id":81202,"reputation":12119,"user_id":229106,"accept_rate":76,"display_name":"ankitjaininfo"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1280685275,"creation_date":1280683936,"answer_id":3383014,"question_id":3382996,"body_markdown":"Android has build-in Java API. Check out [java.util.zip][1] package.\r\n\r\nThe class [ZipInputStream][2] is what you should look into. Read ZipEntry from the ZipInputStream and dump it into filesystem/folder. Check [similar example to compress into zip][3] file.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/zip/package-summary.html\r\n  [2]: http://developer.android.com/reference/java/util/zip/ZipInputStream.html\r\n  [3]: http://www.jondev.net/articles/Zipping_Files_with_Android_(Programmatically)","title":"How to unzip files programmatically in Android?","body":"<p>Android has build-in Java API. Check out <a href=\"http://developer.android.com/reference/java/util/zip/package-summary.html\" rel=\"noreferrer\">java.util.zip</a> package.</p>\n\n<p>The class <a href=\"http://developer.android.com/reference/java/util/zip/ZipInputStream.html\" rel=\"noreferrer\">ZipInputStream</a> is what you should look into. Read ZipEntry from the ZipInputStream and dump it into filesystem/folder. Check <a href=\"http://www.jondev.net/articles/Zipping_Files_with_Android_(Programmatically)\" rel=\"noreferrer\">similar example to compress into zip</a> file.</p>\n"},{"comments":[{"owner":{"account_id":953341,"reputation":20069,"user_id":1254536,"accept_rate":56,"display_name":"LOG_TAG"},"score":0,"creation_date":1343884791,"post_id":7420690,"comment_id":15632618,"body_markdown":"do you think same code works for unzipping or unpacking the expansion APK Expansion Files obb files?","body":"do you think same code works for unzipping or unpacking the expansion APK Expansion Files obb files?"}],"tags":[],"owner":{"account_id":350565,"reputation":7641,"user_id":686540,"accept_rate":100,"display_name":"petrnohejl"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1363276508,"creation_date":1316022440,"answer_id":7420690,"question_id":3382996,"body_markdown":"This is my unzip method, which I use:\r\n\r\n    private boolean unpackZip(String path, String zipname)\r\n\t{\t\t\r\n\t\t InputStream is;\r\n\t\t ZipInputStream zis;\r\n\t\t try \r\n\t\t {\r\n\t\t\t is = new FileInputStream(path + zipname);\r\n\t\t\t zis = new ZipInputStream(new BufferedInputStream(is));\t\t\t \r\n\t\t     ZipEntry ze;\r\n\t\t     \r\n\t\t     while((ze = zis.getNextEntry()) != null) \r\n\t\t     {\r\n\t\t         ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t         byte[] buffer = new byte[1024];\r\n\t\t         int count;\r\n\t\t         \r\n\t\t         String filename = ze.getName();\r\n\t\t         FileOutputStream fout = new FileOutputStream(path + filename);\r\n\t\t         \r\n\t\t         // reading and writing\r\n\t\t         while((count = zis.read(buffer)) != -1) \r\n\t\t         {\r\n\t\t             baos.write(buffer, 0, count);\r\n\t\t             byte[] bytes = baos.toByteArray();\r\n\t\t             fout.write(bytes);             \r\n\t\t             baos.reset();\r\n\t\t         }\r\n\t\r\n\t\t         fout.close();\t\t         \r\n\t\t         zis.closeEntry();\r\n\t\t     }\r\n\t\t     \r\n\t\t     zis.close();\r\n\t\t } \r\n\t\t catch(IOException e)\r\n\t\t {\r\n\t\t\t e.printStackTrace();\r\n\t\t\t return false;\r\n\t\t }\r\n\r\n\t\treturn true;\r\n\t}","title":"How to unzip files programmatically in Android?","body":"<p>This is my unzip method, which I use:</p>\n\n<pre><code>private boolean unpackZip(String path, String zipname)\n{       \n     InputStream is;\n     ZipInputStream zis;\n     try \n     {\n         is = new FileInputStream(path + zipname);\n         zis = new ZipInputStream(new BufferedInputStream(is));          \n         ZipEntry ze;\n\n         while((ze = zis.getNextEntry()) != null) \n         {\n             ByteArrayOutputStream baos = new ByteArrayOutputStream();\n             byte[] buffer = new byte[1024];\n             int count;\n\n             String filename = ze.getName();\n             FileOutputStream fout = new FileOutputStream(path + filename);\n\n             // reading and writing\n             while((count = zis.read(buffer)) != -1) \n             {\n                 baos.write(buffer, 0, count);\n                 byte[] bytes = baos.toByteArray();\n                 fout.write(bytes);             \n                 baos.reset();\n             }\n\n             fout.close();               \n             zis.closeEntry();\n         }\n\n         zis.close();\n     } \n     catch(IOException e)\n     {\n         e.printStackTrace();\n         return false;\n     }\n\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":953341,"reputation":20069,"user_id":1254536,"accept_rate":56,"display_name":"LOG_TAG"},"score":0,"creation_date":1343884775,"post_id":10879538,"comment_id":15632611,"body_markdown":"do you think same code works for unzipping or unpacking the expansion APK Expansion Files obb files?","body":"do you think same code works for unzipping or unpacking the expansion APK Expansion Files obb files?"}],"tags":[],"owner":{"account_id":43036,"reputation":16153,"user_id":125617,"accept_rate":74,"display_name":"Renaud"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338804227,"creation_date":1338804227,"answer_id":10879538,"question_id":3382996,"body_markdown":"Here is a ZipFileIterator (like a java Iterator, but for zip files):\r\n\r\n   \tpackage ch.epfl.bbp.io;\r\n\r\n\timport java.io.BufferedInputStream;\r\n\timport java.io.ByteArrayOutputStream;\r\n\timport java.io.File;\r\n\timport java.io.FileInputStream;\r\n\timport java.io.FileNotFoundException;\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.IOException;\r\n\timport java.util.Iterator;\r\n\timport java.util.zip.ZipEntry;\r\n\timport java.util.zip.ZipInputStream;\r\n\r\n\tpublic class ZipFileIterator implements Iterator&lt;File&gt; {\r\n\r\n\t    private byte[] buffer = new byte[1024];\r\n\r\n\t    private FileInputStream is;\r\n\t    private ZipInputStream zis;\r\n\t    private ZipEntry ze;\r\n\r\n\t    public ZipFileIterator(File file) throws FileNotFoundException {\r\n\t\tis = new FileInputStream(file);\r\n\t\tzis = new ZipInputStream(new BufferedInputStream(is));\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public boolean hasNext() {\r\n\t\ttry {\r\n\t\t    return (ze = zis.getNextEntry()) != null;\r\n\t\t} catch (IOException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public File next() {\r\n\t\ttry {\r\n\t\t    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t    int count;\r\n\r\n\t\t    String filename = ze.getName();\r\n\t\t    File tmpFile = File.createTempFile(filename, &quot;tmp&quot;);\r\n\t\t    tmpFile.deleteOnExit();// TODO make it configurable\r\n\t\t    FileOutputStream fout = new FileOutputStream(tmpFile);\r\n\r\n\t\t    while ((count = zis.read(buffer)) != -1) {\r\n\t\t\tbaos.write(buffer, 0, count);\r\n\t\t\tbyte[] bytes = baos.toByteArray();\r\n\t\t\tfout.write(bytes);\r\n\t\t\tbaos.reset();\r\n\t\t    }\r\n\t\t    fout.close();\r\n\t\t    zis.closeEntry();\r\n\r\n\t\t    return tmpFile;\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t    throw new RuntimeException(e);\r\n\t\t}\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void remove() {\r\n\t\tthrow new RuntimeException(&quot;not implemented&quot;);\r\n\t    }\r\n\r\n\t    public void close() {\r\n\t\ttry {\r\n\t\t    zis.close();\r\n\t\t    is.close();\r\n\t\t} catch (IOException e) {// nope\r\n\t\t}\r\n\t    }\r\n\t}\r\n","title":"How to unzip files programmatically in Android?","body":"<p>Here is a ZipFileIterator (like a java Iterator, but for zip files):</p>\n\n<pre><code>package ch.epfl.bbp.io;\n\nimport java.io.BufferedInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\n\npublic class ZipFileIterator implements Iterator&lt;File&gt; {\n\n    private byte[] buffer = new byte[1024];\n\n    private FileInputStream is;\n    private ZipInputStream zis;\n    private ZipEntry ze;\n\n    public ZipFileIterator(File file) throws FileNotFoundException {\n    is = new FileInputStream(file);\n    zis = new ZipInputStream(new BufferedInputStream(is));\n    }\n\n    @Override\n    public boolean hasNext() {\n    try {\n        return (ze = zis.getNextEntry()) != null;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return false;\n    }\n\n    @Override\n    public File next() {\n    try {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        int count;\n\n        String filename = ze.getName();\n        File tmpFile = File.createTempFile(filename, \"tmp\");\n        tmpFile.deleteOnExit();// TODO make it configurable\n        FileOutputStream fout = new FileOutputStream(tmpFile);\n\n        while ((count = zis.read(buffer)) != -1) {\n        baos.write(buffer, 0, count);\n        byte[] bytes = baos.toByteArray();\n        fout.write(bytes);\n        baos.reset();\n        }\n        fout.close();\n        zis.closeEntry();\n\n        return tmpFile;\n\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n    }\n\n    @Override\n    public void remove() {\n    throw new RuntimeException(\"not implemented\");\n    }\n\n    public void close() {\n    try {\n        zis.close();\n        is.close();\n    } catch (IOException e) {// nope\n    }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":544976,"reputation":5086,"user_id":914587,"accept_rate":59,"display_name":"Lou Morda"},"score":13,"creation_date":1343426446,"post_id":10997886,"comment_id":15510551,"body_markdown":"&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;","body":"&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;"},{"owner":{"account_id":953341,"reputation":20069,"user_id":1254536,"accept_rate":56,"display_name":"LOG_TAG"},"score":0,"creation_date":1343884807,"post_id":10997886,"comment_id":15632620,"body_markdown":"do you think same code works for unzipping or unpacking the expansion APK Expansion Files obb files?","body":"do you think same code works for unzipping or unpacking the expansion APK Expansion Files obb files?"},{"owner":{"account_id":1499797,"reputation":3991,"user_id":1404831,"display_name":"Vasily Sochinsky"},"score":1,"creation_date":1343944687,"post_id":10997886,"comment_id":15657373,"body_markdown":"I think yes, it works, because it is very usual way of unpacking things. Just manage to get the right &#39;path&#39; and &#39;zipname&#39;. I&#39;ve also seen some stuff you might be interested in (sure you&#39;ve seen it already though): [link](http://developer.android.com/guide/google/play/expansion-files.html#ZipLib)","body":"I think yes, it works, because it is very usual way of unpacking things. Just manage to get the right &#39;path&#39; and &#39;zipname&#39;. I&#39;ve also seen some stuff you might be interested in (sure you&#39;ve seen it already though): <a href=\"http://developer.android.com/guide/google/play/expansion-files.html#ZipLib\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":1499797,"reputation":3991,"user_id":1404831,"display_name":"Vasily Sochinsky"},"score":2,"creation_date":1368440555,"post_id":10997886,"comment_id":23718869,"body_markdown":"Because you need to skip the &quot;file-only&quot; operations if your `ze` is a directory. Trying to perform these operations will cause an exception.","body":"Because you need to skip the &quot;file-only&quot; operations if your <code>ze</code> is a directory. Trying to perform these operations will cause an exception."},{"owner":{"account_id":2542717,"reputation":383,"user_id":2210921,"accept_rate":100,"display_name":"felixd"},"score":0,"creation_date":1382551841,"post_id":10997886,"comment_id":29007368,"body_markdown":"Why don&#39;t you make that method static? Would it work?","body":"Why don&#39;t you make that method static? Would it work?"},{"owner":{"account_id":90840,"reputation":1203,"user_id":249819,"accept_rate":72,"display_name":"Tom"},"score":0,"creation_date":1405962098,"post_id":10997886,"comment_id":38626513,"body_markdown":"This is amazing. Previously I have used the same ZipInputStream but different solution and it took 140 seconds to unzip 2MB file. Now it in real time, thanks!!","body":"This is amazing. Previously I have used the same ZipInputStream but different solution and it took 140 seconds to unzip 2MB file. Now it in real time, thanks!!"},{"owner":{"display_name":"user3402040"},"score":0,"creation_date":1448293703,"post_id":10997886,"comment_id":55513613,"body_markdown":"Nice speed &quot;drugs&quot; doping method, but is correct this awesome speed ?","body":"Nice speed &quot;drugs&quot; doping method, but is correct this awesome speed ?"},{"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"score":0,"creation_date":1456477946,"post_id":10997886,"comment_id":58975539,"body_markdown":"Will this work on folders or only files? And if not, then how do I unzip folders?","body":"Will this work on folders or only files? And if not, then how do I unzip folders?"},{"owner":{"account_id":2130434,"reputation":3071,"user_id":2294985,"accept_rate":100,"display_name":"Omar HossamEldin"},"score":1,"creation_date":1479330204,"post_id":10997886,"comment_id":68516590,"body_markdown":"This answer should not work, because it doesn&#39;t create the missing files to write data on it !!","body":"This answer should not work, because it doesn&#39;t create the missing files to write data on it !!"},{"owner":{"account_id":3061325,"reputation":1455,"user_id":2593896,"accept_rate":75,"display_name":"Shaw"},"score":1,"creation_date":1495003574,"post_id":10997886,"comment_id":75062096,"body_markdown":"Actually, this code won&#39;t work if the zip file is create without junk path, for example, you can run this code to unzip an APK file, you will get FileNotFoundException.","body":"Actually, this code won&#39;t work if the zip file is create without junk path, for example, you can run this code to unzip an APK file, you will get FileNotFoundException."},{"owner":{"account_id":226513,"reputation":3223,"user_id":487605,"accept_rate":85,"display_name":"Krystian"},"score":1,"creation_date":1496693810,"post_id":10997886,"comment_id":75754891,"body_markdown":"I agree with @Shaw . If the zip was created without directory entries, it will not work. Each file should be checked if the directory it is supposed to be extracted to exists. `zip -j` will not generate directory entries. EDIT: actually didn&#39;t notice, but the next answer from zapi is the right one.","body":"I agree with @Shaw . If the zip was created without directory entries, it will not work. Each file should be checked if the directory it is supposed to be extracted to exists. <code>zip -j</code> will not generate directory entries. EDIT: actually didn&#39;t notice, but the next answer from zapi is the right one."},{"owner":{"account_id":2761230,"reputation":484,"user_id":2378095,"accept_rate":50,"display_name":"Nicola Beghin"},"score":0,"creation_date":1553293506,"post_id":10997886,"comment_id":97345214,"body_markdown":"Please note, as stated by @Shaw: if your ZIP file does not contain explicit folders, such method will fail with FileNotFoundException since it&#39;s missing a &quot;new File(path + File.separator + filename).getParentFile().mkdirs()&quot; in the !isDirectory() branch","body":"Please note, as stated by @Shaw: if your ZIP file does not contain explicit folders, such method will fail with FileNotFoundException since it&#39;s missing a &quot;new File(path + File.separator + filename).getParentFile().mkdirs()&quot; in the !isDirectory() branch"},{"owner":{"account_id":16913603,"reputation":428,"user_id":12232152,"display_name":"El Sushiboi"},"score":0,"creation_date":1588268131,"post_id":10997886,"comment_id":108840622,"body_markdown":"Wouldn&#39;t using ```BufferedOutputStream(FileOutputStream)``` be faster than using the ```FileOutputStream``` itself?","body":"Wouldn&#39;t using <code>BufferedOutputStream(FileOutputStream)</code> be faster than using the <code>FileOutputStream</code> itself?"}],"tags":[],"owner":{"account_id":1499797,"reputation":3991,"user_id":1404831,"display_name":"Vasily Sochinsky"},"comment_count":13,"down_vote_count":3,"up_vote_count":158,"is_accepted":false,"score":155,"last_activity_date":1540207702,"creation_date":1339508273,"answer_id":10997886,"question_id":3382996,"body_markdown":"Had peno&#39;s version optimised a bit. The increase in performance is perceptible.\r\n\r\n    private boolean unpackZip(String path, String zipname)\r\n    {       \r\n         InputStream is;\r\n         ZipInputStream zis;\r\n         try \r\n         {\r\n             String filename;\r\n             is = new FileInputStream(path + zipname);\r\n             zis = new ZipInputStream(new BufferedInputStream(is));          \r\n             ZipEntry ze;\r\n             byte[] buffer = new byte[1024];\r\n             int count;\r\n\r\n             while ((ze = zis.getNextEntry()) != null) \r\n             {\r\n                 filename = ze.getName();\r\n                 \r\n                 // Need to create directories if not exists, or\r\n                 // it will generate an Exception...\r\n                 if (ze.isDirectory()) {\r\n                    File fmd = new File(path + filename);\r\n                    fmd.mkdirs();\r\n                    continue;\r\n                 }\r\n                \r\n                 FileOutputStream fout = new FileOutputStream(path + filename);\r\n\r\n                 while ((count = zis.read(buffer)) != -1) \r\n                 {\r\n                     fout.write(buffer, 0, count);             \r\n                 }\r\n\r\n                 fout.close();               \r\n                 zis.closeEntry();\r\n             }\r\n\r\n             zis.close();\r\n         } \r\n         catch(IOException e)\r\n         {\r\n             e.printStackTrace();\r\n             return false;\r\n         }\r\n\r\n        return true;\r\n    }","title":"How to unzip files programmatically in Android?","body":"<p>Had peno's version optimised a bit. The increase in performance is perceptible.</p>\n\n<pre><code>private boolean unpackZip(String path, String zipname)\n{       \n     InputStream is;\n     ZipInputStream zis;\n     try \n     {\n         String filename;\n         is = new FileInputStream(path + zipname);\n         zis = new ZipInputStream(new BufferedInputStream(is));          \n         ZipEntry ze;\n         byte[] buffer = new byte[1024];\n         int count;\n\n         while ((ze = zis.getNextEntry()) != null) \n         {\n             filename = ze.getName();\n\n             // Need to create directories if not exists, or\n             // it will generate an Exception...\n             if (ze.isDirectory()) {\n                File fmd = new File(path + filename);\n                fmd.mkdirs();\n                continue;\n             }\n\n             FileOutputStream fout = new FileOutputStream(path + filename);\n\n             while ((count = zis.read(buffer)) != -1) \n             {\n                 fout.write(buffer, 0, count);             \n             }\n\n             fout.close();               \n             zis.closeEntry();\n         }\n\n         zis.close();\n     } \n     catch(IOException e)\n     {\n         e.printStackTrace();\n         return false;\n     }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1576591,"reputation":5132,"user_id":1462846,"accept_rate":96,"display_name":"jcw"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1369289221,"creation_date":1369289221,"answer_id":16706664,"question_id":3382996,"body_markdown":"While the answers that are already here work well, I found that they were slightly slower than I had hoped for. Instead I used [zip4j][1], which I think is the best solution because of its speed. It also allowed for different options for the amount of compression, which I found useful.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.lingala.net/zip4j/","title":"How to unzip files programmatically in Android?","body":"<p>While the answers that are already here work well, I found that they were slightly slower than I had hoped for. Instead I used <a href=\"http://www.lingala.net/zip4j/\" rel=\"noreferrer\">zip4j</a>, which I think is the best solution because of its speed. It also allowed for different options for the amount of compression, which I found useful.</p>\n"},{"tags":[],"owner":{"account_id":3239833,"reputation":41,"user_id":2733149,"display_name":"userDroid"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378189003,"creation_date":1378189003,"answer_id":18585367,"question_id":3382996,"body_markdown":"     \r\n    public class MainActivity extends Activity {\r\n\r\n\tprivate String LOG_TAG = MainActivity.class.getSimpleName();\r\n\t\r\n\tprivate File zipFile;\r\n\tprivate File destination;\r\n\t\r\n\tprivate TextView status;\r\n\t\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        status = (TextView) findViewById(R.id.main_status);\r\n        status.setGravity(Gravity.CENTER);\r\n        \r\n        if ( initialize() ) {\r\n        \tzipFile = new File(destination, &quot;BlueBoxnew.zip&quot;);\r\n        \ttry {\r\n\t\t\t\tUnzipper.unzip(zipFile, destination);\r\n\t\t\t\tstatus.setText(&quot;Extracted to \\n&quot;+destination.getAbsolutePath());\r\n\t\t\t} catch (ZipException e) {\r\n\t\t\t\tLog.e(LOG_TAG, e.getMessage());\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tLog.e(LOG_TAG, e.getMessage());\r\n\t\t\t}\r\n        } else {\r\n        \tstatus.setText(&quot;Unable to initialize sd card.&quot;);\r\n        }\r\n    }\r\n    \r\n    public boolean initialize() {\r\n    \tboolean result = false;\r\n    \t File sdCard = new File(Environment.getExternalStorageDirectory()+&quot;/zip/&quot;);\r\n    \t//File sdCard = Environment.getExternalStorageDirectory();\r\n    \tif ( sdCard != null ) {\r\n    \t\tdestination = sdCard;\r\n    \t\tif ( !destination.exists() ) {\r\n    \t\t\tif ( destination.mkdir() ) {\r\n    \t\t\t\tresult = true;\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tresult = true;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \treturn result;\r\n    }\r\n    \r\n     }\r\n\r\n-&gt;Helper Class(Unzipper.java)\r\n\r\n\r\n        import java.io.File;\r\n        import java.io.FileInputStream;\r\n       import java.io.FileOutputStream;\r\n        import java.io.IOException;\r\n           import java.util.zip.ZipEntry;\r\n        import java.util.zip.ZipException;\r\n        import java.util.zip.ZipInputStream;\r\n         import android.util.Log;\r\n\r\n       public class Unzipper {\r\n\r\n\tprivate static String LOG_TAG = Unzipper.class.getSimpleName();\r\n\t\r\n\tpublic static void unzip(final File file, final File destination) throws ZipException, IOException {\r\n\t\tnew Thread() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tlong START_TIME = System.currentTimeMillis();\r\n\t\t\t\tlong FINISH_TIME = 0;\r\n\t\t\t\tlong ELAPSED_TIME = 0;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tZipInputStream zin = new ZipInputStream(new FileInputStream(file));\r\n\t\t\t\t\tString workingDir = destination.getAbsolutePath()+&quot;/&quot;;\r\n\r\n\t\t\t\t\tbyte buffer[] = new byte[4096];\r\n\t\t\t\t\tint bytesRead;\r\n\t\t\t\t\tZipEntry entry = null;\r\n\t\t\t\t\twhile ((entry = zin.getNextEntry()) != null) {\r\n\t\t\t\t\t\tif (entry.isDirectory()) {\r\n\t\t\t\t\t\t\tFile dir = new File(workingDir, entry.getName());\r\n\t\t\t\t\t\t\tif (!dir.exists()) {\r\n\t\t\t\t\t\t\t\tdir.mkdir();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tLog.i(LOG_TAG, &quot;[DIR] &quot;+entry.getName());\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tFileOutputStream fos = new FileOutputStream(workingDir + entry.getName());\r\n\t\t\t\t\t\t\twhile ((bytesRead = zin.read(buffer)) != -1) {\r\n\t\t\t\t\t\t\t\tfos.write(buffer, 0, bytesRead);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfos.close();\r\n\t\t\t\t\t\t\tLog.i(LOG_TAG, &quot;[FILE] &quot;+entry.getName());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tzin.close();\r\n\t\t\t\t\t\r\n\t\t\t\t\tFINISH_TIME = System.currentTimeMillis();\r\n\t\t\t\t\tELAPSED_TIME = FINISH_TIME - START_TIME;\r\n\t\t\t\t\tLog.i(LOG_TAG, &quot;COMPLETED in &quot;+(ELAPSED_TIME/1000)+&quot; seconds.&quot;);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tLog.e(LOG_TAG, &quot;FAILED&quot;);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}.start();\r\n\t}\r\n\r\n       }\r\n\r\n\r\n\r\n\r\n\r\n-&gt;xml layout(activity_main.xml):\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n       xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;\r\n     tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/main_status&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:text=&quot;@string/hello_world&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n-&gt;permission in Menifest file:\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n","title":"How to unzip files programmatically in Android?","body":"<pre><code>public class MainActivity extends Activity {\n\nprivate String LOG_TAG = MainActivity.class.getSimpleName();\n\nprivate File zipFile;\nprivate File destination;\n\nprivate TextView status;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    status = (TextView) findViewById(R.id.main_status);\n    status.setGravity(Gravity.CENTER);\n\n    if ( initialize() ) {\n        zipFile = new File(destination, \"BlueBoxnew.zip\");\n        try {\n            Unzipper.unzip(zipFile, destination);\n            status.setText(\"Extracted to \\n\"+destination.getAbsolutePath());\n        } catch (ZipException e) {\n            Log.e(LOG_TAG, e.getMessage());\n        } catch (IOException e) {\n            Log.e(LOG_TAG, e.getMessage());\n        }\n    } else {\n        status.setText(\"Unable to initialize sd card.\");\n    }\n}\n\npublic boolean initialize() {\n    boolean result = false;\n     File sdCard = new File(Environment.getExternalStorageDirectory()+\"/zip/\");\n    //File sdCard = Environment.getExternalStorageDirectory();\n    if ( sdCard != null ) {\n        destination = sdCard;\n        if ( !destination.exists() ) {\n            if ( destination.mkdir() ) {\n                result = true;\n            }\n        } else {\n            result = true;\n        }\n    }\n\n    return result;\n}\n\n }\n</code></pre>\n\n<p>->Helper Class(Unzipper.java)</p>\n\n<pre><code>    import java.io.File;\n    import java.io.FileInputStream;\n   import java.io.FileOutputStream;\n    import java.io.IOException;\n       import java.util.zip.ZipEntry;\n    import java.util.zip.ZipException;\n    import java.util.zip.ZipInputStream;\n     import android.util.Log;\n\n   public class Unzipper {\n\nprivate static String LOG_TAG = Unzipper.class.getSimpleName();\n\npublic static void unzip(final File file, final File destination) throws ZipException, IOException {\n    new Thread() {\n        public void run() {\n            long START_TIME = System.currentTimeMillis();\n            long FINISH_TIME = 0;\n            long ELAPSED_TIME = 0;\n            try {\n                ZipInputStream zin = new ZipInputStream(new FileInputStream(file));\n                String workingDir = destination.getAbsolutePath()+\"/\";\n\n                byte buffer[] = new byte[4096];\n                int bytesRead;\n                ZipEntry entry = null;\n                while ((entry = zin.getNextEntry()) != null) {\n                    if (entry.isDirectory()) {\n                        File dir = new File(workingDir, entry.getName());\n                        if (!dir.exists()) {\n                            dir.mkdir();\n                        }\n                        Log.i(LOG_TAG, \"[DIR] \"+entry.getName());\n                    } else {\n                        FileOutputStream fos = new FileOutputStream(workingDir + entry.getName());\n                        while ((bytesRead = zin.read(buffer)) != -1) {\n                            fos.write(buffer, 0, bytesRead);\n                        }\n                        fos.close();\n                        Log.i(LOG_TAG, \"[FILE] \"+entry.getName());\n                    }\n                }\n                zin.close();\n\n                FINISH_TIME = System.currentTimeMillis();\n                ELAPSED_TIME = FINISH_TIME - START_TIME;\n                Log.i(LOG_TAG, \"COMPLETED in \"+(ELAPSED_TIME/1000)+\" seconds.\");\n            } catch (Exception e) {\n                Log.e(LOG_TAG, \"FAILED\");\n            }\n        };\n    }.start();\n}\n\n   }\n</code></pre>\n\n<p>->xml layout(activity_main.xml):</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n   xmlns:tools=\"http://schemas.android.com/tools\"\n   android:layout_width=\"match_parent\"\n android:layout_height=\"match_parent\"\n tools:context=\".MainActivity\" &gt;\n\n&lt;TextView\n    android:id=\"@+id/main_status\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_centerVertical=\"true\"\n    android:text=\"@string/hello_world\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>->permission in Menifest file:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3309558,"reputation":3112,"user_id":2783386,"accept_rate":60,"display_name":"Ando Masahashi"},"score":0,"creation_date":1418784556,"post_id":27050680,"comment_id":43465103,"body_markdown":"hello i m getting path with backward slash like sdcard/temp/768\\769.json so i am getting error can u tell me how to manage it","body":"hello i m getting path with backward slash like sdcard/temp/768\\769.json so i am getting error can u tell me how to manage it"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1418818367,"post_id":27050680,"comment_id":43479218,"body_markdown":"@AndoMasahashi that should be a legal filename on a linux filesystem. What error do you get and how should the filename look like at the end?","body":"@AndoMasahashi that should be a legal filename on a linux filesystem. What error do you get and how should the filename look like at the end?"},{"owner":{"account_id":3309558,"reputation":3112,"user_id":2783386,"accept_rate":60,"display_name":"Ando Masahashi"},"score":0,"creation_date":1418880696,"post_id":27050680,"comment_id":43507254,"body_markdown":"it look like /sdcard/pictures\\picturess.jpeg and error file not found error","body":"it look like /sdcard/pictures\\picturess.jpeg and error file not found error"},{"owner":{"account_id":2440244,"reputation":645,"user_id":2128979,"accept_rate":70,"display_name":"Ashish Tanna"},"score":1,"creation_date":1438215836,"post_id":27050680,"comment_id":51364300,"body_markdown":"It works fine, but it throws exception when one of the file name inside zip is not in `UTF8 format`. So, I used [this code](http://stackoverflow.com/a/20523390/2128979) instead which uses apache&#39;s `commons-compress` lib.","body":"It works fine, but it throws exception when one of the file name inside zip is not in <code>UTF8 format</code>. So, I used <a href=\"http://stackoverflow.com/a/20523390/2128979\">this code</a> instead which uses apache&#39;s <code>commons-compress</code> lib."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1438238889,"post_id":27050680,"comment_id":51371008,"body_markdown":"@AshishTanna indeed, it&#39;s a known Problem https://blogs.oracle.com/xuemingshen/entry/non_utf_8_encoding_in","body":"@AshishTanna indeed, it&#39;s a known Problem <a href=\"https://blogs.oracle.com/xuemingshen/entry/non_utf_8_encoding_in\" rel=\"nofollow noreferrer\">blogs.oracle.com/xuemingshen/entry/non_utf_8_encoding_in</a>"},{"owner":{"account_id":10104334,"reputation":227,"user_id":7467383,"accept_rate":38,"display_name":"Vijay"},"score":0,"creation_date":1503325329,"post_id":27050680,"comment_id":78556835,"body_markdown":"Hii,I had this, what is this and how to solve this one, please help me, **java.util.zip.ZipException: CRC mismatch**","body":"Hii,I had this, what is this and how to solve this one, please help me, <b>java.util.zip.ZipException: CRC mismatch</b>"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1503326574,"post_id":27050680,"comment_id":78557780,"body_markdown":"@Vijaykumar your zip is probably corrupt. Maybe like in https://stackoverflow.com/questions/11058639/android-unzipping-files-throws-data-errors-or-crc-errors you download it the wrong way. Or maybe you just put a broken zip file. Get the file off of the device and check that it works with a desktop unzip tool.","body":"@Vijaykumar your zip is probably corrupt. Maybe like in <a href=\"https://stackoverflow.com/questions/11058639/android-unzipping-files-throws-data-errors-or-crc-errors\" title=\"android unzipping files throws data errors or crc errors\">stackoverflow.com/questions/11058639/&hellip;</a> you download it the wrong way. Or maybe you just put a broken zip file. Get the file off of the device and check that it works with a desktop unzip tool."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1503390186,"post_id":27050680,"comment_id":78582350,"body_markdown":"@Vijaykumar  The comment section is a bad place to ask much / debug. Please post a new question showing how you the zip file comes to the device. Maybe linking to the actual file so people can reproduce your error. &quot;CRC error&quot; means the checksum of the extracted file does not match what the zip file says it should be, therefore something in the zipped data is usually wrong. Meaning you need to look at the file and what happens to it before it hits above code.","body":"@Vijaykumar  The comment section is a bad place to ask much / debug. Please post a new question showing how you the zip file comes to the device. Maybe linking to the actual file so people can reproduce your error. &quot;CRC error&quot; means the checksum of the extracted file does not match what the zip file says it should be, therefore something in the zipped data is usually wrong. Meaning you need to look at the file and what happens to it before it hits above code."},{"owner":{"account_id":7614622,"reputation":2926,"user_id":5774498,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1530863252,"post_id":27050680,"comment_id":89391789,"body_markdown":"Is there a way to check that the user has enough space on their device to unzip the file? What happens currently if they don&#39;t?","body":"Is there a way to check that the user has enough space on their device to unzip the file? What happens currently if they don&#39;t?"},{"owner":{"account_id":12605951,"reputation":2564,"user_id":9166855,"display_name":"Prajwal Waingankar"},"score":0,"creation_date":1568086080,"post_id":27050680,"comment_id":102152965,"body_markdown":"So in the above code, the pictures.zip is stored under the sdcard folder. And when we unzip it, it will be stored within the same sdcard folder? Or outside of sdcard folder? I wanted that my zip location of file and unzip location should be the same! Will that work? If yes, will it wont cause a crash since in the same folder my zip file will also be present.","body":"So in the above code, the pictures.zip is stored under the sdcard folder. And when we unzip it, it will be stored within the same sdcard folder? Or outside of sdcard folder? I wanted that my zip location of file and unzip location should be the same! Will that work? If yes, will it wont cause a crash since in the same folder my zip file will also be present."},{"owner":{"account_id":1931338,"reputation":192,"user_id":1740663,"display_name":"chksr"},"score":0,"creation_date":1679389599,"post_id":27050680,"comment_id":133708599,"body_markdown":"you might want to replace the ZipInputStream object creation/close() with a try-with-resource creation. It&#39;s a bit cleaner for a Closeable object. Same for FileOutputStream.","body":"you might want to replace the ZipInputStream object creation/close() with a try-with-resource creation. It&#39;s a bit cleaner for a Closeable object. Same for FileOutputStream."}],"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"comment_count":11,"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1416521892,"creation_date":1416521892,"answer_id":27050680,"question_id":3382996,"body_markdown":"Based on Vasily Sochinsky&#39;s answer a bit tweaked &amp; with a small fix:\r\n\r\n    public static void unzip(File zipFile, File targetDirectory) throws IOException {\r\n        ZipInputStream zis = new ZipInputStream(\r\n                new BufferedInputStream(new FileInputStream(zipFile)));\r\n        try {\r\n            ZipEntry ze;\r\n            int count;\r\n            byte[] buffer = new byte[8192];\r\n            while ((ze = zis.getNextEntry()) != null) {\r\n                File file = new File(targetDirectory, ze.getName());\r\n                File dir = ze.isDirectory() ? file : file.getParentFile();\r\n                if (!dir.isDirectory() &amp;&amp; !dir.mkdirs())\r\n                    throw new FileNotFoundException(&quot;Failed to ensure directory: &quot; +\r\n                            dir.getAbsolutePath());\r\n                if (ze.isDirectory())\r\n                    continue;\r\n                FileOutputStream fout = new FileOutputStream(file);\r\n                try {\r\n                    while ((count = zis.read(buffer)) != -1)\r\n                        fout.write(buffer, 0, count);\r\n                } finally {\r\n                    fout.close();\r\n                }\r\n                /* if time should be restored as well\r\n                long time = ze.getTime();\r\n                if (time &gt; 0)\r\n                    file.setLastModified(time);\r\n                */\r\n            }\r\n        } finally {\r\n            zis.close();\r\n        }\r\n    }\r\n\r\nNotable differences\r\n\r\n* `public static` - this is a static utility method that can be anywhere.\r\n* 2 `File` parameters because `String` are :/ for files and one could not specify where the zip file is to be extracted before. Also `path + filename` concatenation &gt; https://stackoverflow.com/a/412495/995891\r\n* `throws` - because [catch late](https://softwareengineering.stackexchange.com/questions/231057/exceptions-why-throw-early-why-catch-late) - add a try catch if really not interested in them.\r\n* actually makes sure that the required directories exist in all cases. Not every zip contains all the required directory entries in advance of file entries. This had 2 potential bugs:\r\n * if the zip contains an empty directory and instead of the resulting directory there is an existing file, this was ignored. The return value of `mkdirs()` is important.\r\n * could crash on zip files that don&#39;t contain directories.\r\n* increased write buffer size, this should improve performance a bit. Storage is usually in 4k blocks and writing in smaller chunks is usually slower than necessary.\r\n* uses the magic of `finally` to prevent resource leaks.\r\n\r\nSo\r\n\r\n    unzip(new File(&quot;/sdcard/pictures.zip&quot;), new File(&quot;/sdcard&quot;));\r\n\r\nshould do the equivalent of the original\r\n\r\n    unpackZip(&quot;/sdcard/&quot;, &quot;pictures.zip&quot;)","title":"How to unzip files programmatically in Android?","body":"<p>Based on Vasily Sochinsky's answer a bit tweaked &amp; with a small fix:</p>\n\n<pre><code>public static void unzip(File zipFile, File targetDirectory) throws IOException {\n    ZipInputStream zis = new ZipInputStream(\n            new BufferedInputStream(new FileInputStream(zipFile)));\n    try {\n        ZipEntry ze;\n        int count;\n        byte[] buffer = new byte[8192];\n        while ((ze = zis.getNextEntry()) != null) {\n            File file = new File(targetDirectory, ze.getName());\n            File dir = ze.isDirectory() ? file : file.getParentFile();\n            if (!dir.isDirectory() &amp;&amp; !dir.mkdirs())\n                throw new FileNotFoundException(\"Failed to ensure directory: \" +\n                        dir.getAbsolutePath());\n            if (ze.isDirectory())\n                continue;\n            FileOutputStream fout = new FileOutputStream(file);\n            try {\n                while ((count = zis.read(buffer)) != -1)\n                    fout.write(buffer, 0, count);\n            } finally {\n                fout.close();\n            }\n            /* if time should be restored as well\n            long time = ze.getTime();\n            if (time &gt; 0)\n                file.setLastModified(time);\n            */\n        }\n    } finally {\n        zis.close();\n    }\n}\n</code></pre>\n\n<p>Notable differences</p>\n\n<ul>\n<li><code>public static</code> - this is a static utility method that can be anywhere.</li>\n<li>2 <code>File</code> parameters because <code>String</code> are :/ for files and one could not specify where the zip file is to be extracted before. Also <code>path + filename</code> concatenation > <a href=\"https://stackoverflow.com/a/412495/995891\">https://stackoverflow.com/a/412495/995891</a></li>\n<li><code>throws</code> - because <a href=\"https://softwareengineering.stackexchange.com/questions/231057/exceptions-why-throw-early-why-catch-late\">catch late</a> - add a try catch if really not interested in them.</li>\n<li>actually makes sure that the required directories exist in all cases. Not every zip contains all the required directory entries in advance of file entries. This had 2 potential bugs:\n\n<ul>\n<li>if the zip contains an empty directory and instead of the resulting directory there is an existing file, this was ignored. The return value of <code>mkdirs()</code> is important.</li>\n<li>could crash on zip files that don't contain directories.</li>\n</ul></li>\n<li>increased write buffer size, this should improve performance a bit. Storage is usually in 4k blocks and writing in smaller chunks is usually slower than necessary.</li>\n<li>uses the magic of <code>finally</code> to prevent resource leaks.</li>\n</ul>\n\n<p>So</p>\n\n<pre><code>unzip(new File(\"/sdcard/pictures.zip\"), new File(\"/sdcard\"));\n</code></pre>\n\n<p>should do the equivalent of the original</p>\n\n<pre><code>unpackZip(\"/sdcard/\", \"pictures.zip\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151391,"reputation":3473,"user_id":365229,"accept_rate":77,"display_name":"Behrouz.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467866314,"creation_date":1420451644,"answer_id":27777010,"question_id":3382996,"body_markdown":"According to @zapl answer,Unzip with progress report:\r\n\r\n    public interface UnzipFile_Progress\r\n\t{\r\n\t\tvoid Progress(int percent, String FileName);\r\n\t}\r\n\r\n\t// unzip(new File(&quot;/sdcard/pictures.zip&quot;), new File(&quot;/sdcard&quot;));\r\n\tpublic static void UnzipFile(File zipFile, File targetDirectory, UnzipFile_Progress progress) throws IOException,\r\n\t\t\tFileNotFoundException\r\n\t{\r\n\t\tlong total_len = zipFile.length();\r\n\t\tlong total_installed_len = 0;\r\n\t\t\r\n\t\tZipInputStream zis = new ZipInputStream(new BufferedInputStream(new FileInputStream(zipFile)));\r\n\t\ttry\r\n\t\t{\r\n\t\t\tZipEntry ze;\r\n\t\t\tint count;\r\n\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\twhile ((ze = zis.getNextEntry()) != null)\r\n\t\t\t{\r\n\t\t\t\tif (progress != null)\r\n\t\t\t\t{\r\n\t\t\t\t\ttotal_installed_len += ze.getCompressedSize();\r\n\t\t\t\t\tString file_name = ze.getName();\r\n\t\t\t\t\tint percent = (int)(total_installed_len * 100 / total_len);\r\n\t\t\t\t\tprogress.Progress(percent, file_name);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tFile file = new File(targetDirectory, ze.getName());\r\n\t\t\t\tFile dir = ze.isDirectory() ? file : file.getParentFile();\r\n\t\t\t\tif (!dir.isDirectory() &amp;&amp; !dir.mkdirs())\r\n\t\t\t\t\tthrow new FileNotFoundException(&quot;Failed to ensure directory: &quot; + dir.getAbsolutePath());\r\n\t\t\t\tif (ze.isDirectory())\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tFileOutputStream fout = new FileOutputStream(file);\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\twhile ((count = zis.read(buffer)) != -1)\r\n\t\t\t\t\t\tfout.write(buffer, 0, count);\r\n\t\t\t\t} finally\r\n\t\t\t\t{\r\n\t\t\t\t\tfout.close();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if time should be restored as well\r\n\t\t\t\tlong time = ze.getTime();\r\n\t\t\t\tif (time &gt; 0)\r\n\t\t\t\t\tfile.setLastModified(time);\r\n\t\t\t}\r\n\t\t} finally\r\n\t\t{\r\n\t\t\tzis.close();\r\n\t\t}\r\n\t}","title":"How to unzip files programmatically in Android?","body":"<p>According to @zapl answer,Unzip with progress report:</p>\n\n<pre><code>public interface UnzipFile_Progress\n{\n    void Progress(int percent, String FileName);\n}\n\n// unzip(new File(\"/sdcard/pictures.zip\"), new File(\"/sdcard\"));\npublic static void UnzipFile(File zipFile, File targetDirectory, UnzipFile_Progress progress) throws IOException,\n        FileNotFoundException\n{\n    long total_len = zipFile.length();\n    long total_installed_len = 0;\n\n    ZipInputStream zis = new ZipInputStream(new BufferedInputStream(new FileInputStream(zipFile)));\n    try\n    {\n        ZipEntry ze;\n        int count;\n        byte[] buffer = new byte[1024];\n        while ((ze = zis.getNextEntry()) != null)\n        {\n            if (progress != null)\n            {\n                total_installed_len += ze.getCompressedSize();\n                String file_name = ze.getName();\n                int percent = (int)(total_installed_len * 100 / total_len);\n                progress.Progress(percent, file_name);\n            }\n\n            File file = new File(targetDirectory, ze.getName());\n            File dir = ze.isDirectory() ? file : file.getParentFile();\n            if (!dir.isDirectory() &amp;&amp; !dir.mkdirs())\n                throw new FileNotFoundException(\"Failed to ensure directory: \" + dir.getAbsolutePath());\n            if (ze.isDirectory())\n                continue;\n            FileOutputStream fout = new FileOutputStream(file);\n            try\n            {\n                while ((count = zis.read(buffer)) != -1)\n                    fout.write(buffer, 0, count);\n            } finally\n            {\n                fout.close();\n            }\n\n            // if time should be restored as well\n            long time = ze.getTime();\n            if (time &gt; 0)\n                file.setLastModified(time);\n        }\n    } finally\n    {\n        zis.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6941897,"reputation":3971,"user_id":5327912,"accept_rate":33,"display_name":"Parth Anjaria"},"score":0,"creation_date":1497936597,"post_id":40125872,"comment_id":76274199,"body_markdown":"can see the file name, but when trying to extrace the file, i am getting FileNotFoundException error","body":"can see the file name, but when trying to extrace the file, i am getting FileNotFoundException error"}],"tags":[],"owner":{"account_id":8652943,"reputation":22456,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1597974320,"creation_date":1476865336,"answer_id":40125872,"question_id":3382996,"body_markdown":"use the following class\r\n\r\n\r\n    \timport java.io.BufferedOutputStream;\r\n    \timport java.io.File;\r\n    \timport java.io.FileInputStream;\r\n    \timport java.io.FileOutputStream;\r\n    \timport java.util.zip.ZipEntry;\r\n    \timport java.util.zip.ZipInputStream;\r\n    \timport android.util.Log;\r\n\r\n    \tpublic class DecompressFast {\r\n\t\r\n\t\r\n\t\r\n\t private String _zipFile; \r\n\t  private String _location; \r\n\t \r\n\t  public DecompressFast(String zipFile, String location) { \r\n\t    _zipFile = zipFile; \r\n\t    _location = location; \r\n\t \r\n\t    _dirChecker(&quot;&quot;); \r\n\t  } \r\n\t \r\n\t  public void unzip() { \r\n\t    try  { \r\n\t      FileInputStream fin = new FileInputStream(_zipFile); \r\n\t      ZipInputStream zin = new ZipInputStream(fin); \r\n\t      ZipEntry ze = null; \r\n\t      while ((ze = zin.getNextEntry()) != null) { \r\n\t        Log.v(&quot;Decompress&quot;, &quot;Unzipping &quot; + ze.getName()); \r\n\t \r\n\t        if(ze.isDirectory()) { \r\n\t          _dirChecker(ze.getName()); \r\n\t        } else { \r\n\t          FileOutputStream fout = new FileOutputStream(_location + ze.getName()); \r\n             BufferedOutputStream bufout = new BufferedOutputStream(fout);\r\n              byte[] buffer = new byte[1024];\r\n              int read = 0;\r\n              while ((read = zin.read(buffer)) != -1) {\r\n                  bufout.write(buffer, 0, read);\r\n              }\r\n\r\n              \r\n              \r\n              \r\n              bufout.close();\r\n              \r\n\t          zin.closeEntry(); \r\n\t          fout.close(); \r\n\t        } \r\n\t         \r\n\t      } \r\n\t      zin.close(); \r\n\t      \r\n\t      \r\n\t      Log.d(&quot;Unzip&quot;, &quot;Unzipping complete. path :  &quot; +_location );\r\n\t    } catch(Exception e) { \r\n\t      Log.e(&quot;Decompress&quot;, &quot;unzip&quot;, e); \r\n\t      \r\n\t      Log.d(&quot;Unzip&quot;, &quot;Unzipping failed&quot;);\r\n\t    } \r\n\t \r\n\t  } \r\n\t \r\n\t  private void _dirChecker(String dir) { \r\n\t    File f = new File(_location + dir); \r\n\t \r\n\t    if(!f.isDirectory()) { \r\n\t      f.mkdirs(); \r\n\t    } \r\n\t  } \r\n\t\r\n\r\n     }\r\n\r\nHow to use\r\n\r\n     String zipFile = Environment.getExternalStorageDirectory() + &quot;/the_raven.zip&quot;; //your zip file location\r\n\t    String unzipLocation = Environment.getExternalStorageDirectory() + &quot;/unzippedtestNew/&quot;; // destination folder location\r\n      DecompressFast df= new DecompressFast(zipFile, unzipLocation);\r\n\t    df.unzip();\r\n\r\nPermissions\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;","title":"How to unzip files programmatically in Android?","body":"<p>use the following class</p>\n<pre><code>    import java.io.BufferedOutputStream;\n    import java.io.File;\n    import java.io.FileInputStream;\n    import java.io.FileOutputStream;\n    import java.util.zip.ZipEntry;\n    import java.util.zip.ZipInputStream;\n    import android.util.Log;\n\n    public class DecompressFast {\n\n\n\n private String _zipFile; \n  private String _location; \n \n  public DecompressFast(String zipFile, String location) { \n    _zipFile = zipFile; \n    _location = location; \n \n    _dirChecker(&quot;&quot;); \n  } \n \n  public void unzip() { \n    try  { \n      FileInputStream fin = new FileInputStream(_zipFile); \n      ZipInputStream zin = new ZipInputStream(fin); \n      ZipEntry ze = null; \n      while ((ze = zin.getNextEntry()) != null) { \n        Log.v(&quot;Decompress&quot;, &quot;Unzipping &quot; + ze.getName()); \n \n        if(ze.isDirectory()) { \n          _dirChecker(ze.getName()); \n        } else { \n          FileOutputStream fout = new FileOutputStream(_location + ze.getName()); \n         BufferedOutputStream bufout = new BufferedOutputStream(fout);\n          byte[] buffer = new byte[1024];\n          int read = 0;\n          while ((read = zin.read(buffer)) != -1) {\n              bufout.write(buffer, 0, read);\n          }\n\n          \n          \n          \n          bufout.close();\n          \n          zin.closeEntry(); \n          fout.close(); \n        } \n         \n      } \n      zin.close(); \n      \n      \n      Log.d(&quot;Unzip&quot;, &quot;Unzipping complete. path :  &quot; +_location );\n    } catch(Exception e) { \n      Log.e(&quot;Decompress&quot;, &quot;unzip&quot;, e); \n      \n      Log.d(&quot;Unzip&quot;, &quot;Unzipping failed&quot;);\n    } \n \n  } \n \n  private void _dirChecker(String dir) { \n    File f = new File(_location + dir); \n \n    if(!f.isDirectory()) { \n      f.mkdirs(); \n    } \n  } \n\n\n }\n</code></pre>\n<p>How to use</p>\n<pre><code> String zipFile = Environment.getExternalStorageDirectory() + &quot;/the_raven.zip&quot;; //your zip file location\n    String unzipLocation = Environment.getExternalStorageDirectory() + &quot;/unzippedtestNew/&quot;; // destination folder location\n  DecompressFast df= new DecompressFast(zipFile, unzipLocation);\n    df.unzip();\n</code></pre>\n<p>Permissions</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424440,"reputation":10491,"user_id":804440,"accept_rate":76,"display_name":"nilsi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489390054,"creation_date":1489390054,"answer_id":42758356,"question_id":3382996,"body_markdown":"Minimal example I used to unzip a specific file from my zipfile into my applications cache folder. I then read the manifest file using a different method.\r\n\r\n\r\n    private void unzipUpdateToCache() {\r\n        ZipInputStream zipIs = new ZipInputStream(context.getResources().openRawResource(R.raw.update));\r\n        ZipEntry ze = null;\r\n\r\n        try {\r\n\r\n            while ((ze = zipIs.getNextEntry()) != null) {\r\n                if (ze.getName().equals(&quot;update/manifest.json&quot;)) {\r\n                    FileOutputStream fout = new FileOutputStream(context.getCacheDir().getAbsolutePath() + &quot;/manifest.json&quot;);\r\n\r\n                    byte[] buffer = new byte[1024];\r\n                    int length = 0;\r\n\r\n                    while ((length = zipIs.read(buffer))&gt;0) {\r\n                        fout.write(buffer, 0, length);\r\n                    }\r\n                    zipIs .closeEntry();\r\n                    fout.close();\r\n                }\r\n            }\r\n            zipIs .close();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }","title":"How to unzip files programmatically in Android?","body":"<p>Minimal example I used to unzip a specific file from my zipfile into my applications cache folder. I then read the manifest file using a different method.</p>\n\n<pre><code>private void unzipUpdateToCache() {\n    ZipInputStream zipIs = new ZipInputStream(context.getResources().openRawResource(R.raw.update));\n    ZipEntry ze = null;\n\n    try {\n\n        while ((ze = zipIs.getNextEntry()) != null) {\n            if (ze.getName().equals(\"update/manifest.json\")) {\n                FileOutputStream fout = new FileOutputStream(context.getCacheDir().getAbsolutePath() + \"/manifest.json\");\n\n                byte[] buffer = new byte[1024];\n                int length = 0;\n\n                while ((length = zipIs.read(buffer))&gt;0) {\n                    fout.write(buffer, 0, length);\n                }\n                zipIs .closeEntry();\n                fout.close();\n            }\n        }\n        zipIs .close();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2405130,"reputation":9203,"user_id":2101822,"accept_rate":86,"display_name":"Milad Faridnia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510047472,"creation_date":1510047472,"answer_id":47154408,"question_id":3382996,"body_markdown":"**Password Protected Zip File**\n\nif you want to compress files with password you can take a look at [this library][1] that can zip files with password easily: \n\n**Zip:**\n\n    ZipArchive zipArchive = new ZipArchive();\n    zipArchive.zip(targetPath,destinationPath,password);\n**Unzip:**\n\n    ZipArchive zipArchive = new ZipArchive();\n    zipArchive.unzip(targetPath,destinationPath,password);\n**Rar:**\n\n    RarArchive rarArchive = new RarArchive();\n    rarArchive.extractArchive(file archive, file destination);\n\nThe documentation of this library is good enough, I just added a few examples from there. \nIt&#39;s totally free and wrote specially for android.\n\n  [1]: https://github.com/ghost1372/Mzip-Android","title":"How to unzip files programmatically in Android?","body":"<p><strong>Password Protected Zip File</strong></p>\n<p>if you want to compress files with password you can take a look at <a href=\"https://github.com/ghost1372/Mzip-Android\" rel=\"nofollow noreferrer\">this library</a> that can zip files with password easily:</p>\n<p><strong>Zip:</strong></p>\n<pre><code>ZipArchive zipArchive = new ZipArchive();\nzipArchive.zip(targetPath,destinationPath,password);\n</code></pre>\n<p><strong>Unzip:</strong></p>\n<pre><code>ZipArchive zipArchive = new ZipArchive();\nzipArchive.unzip(targetPath,destinationPath,password);\n</code></pre>\n<p><strong>Rar:</strong></p>\n<pre><code>RarArchive rarArchive = new RarArchive();\nrarArchive.extractArchive(file archive, file destination);\n</code></pre>\n<p>The documentation of this library is good enough, I just added a few examples from there.\nIt's totally free and wrote specially for android.</p>\n"},{"comments":[{"owner":{"account_id":17892708,"reputation":104,"user_id":12998857,"display_name":"Hamza Khan"},"score":1,"creation_date":1605504593,"post_id":50990872,"comment_id":114660724,"body_markdown":"It throws an exception at &#39;output.outputStream() &#39; line that says &quot;FileNotFoundException ... (Not a directory)&quot;","body":"It throws an exception at &#39;output.outputStream() &#39; line that says &quot;FileNotFoundException ... (Not a directory)&quot;"},{"owner":{"account_id":246288,"reputation":250,"user_id":520349,"accept_rate":75,"display_name":"dajver"},"score":0,"creation_date":1648653245,"post_id":50990872,"comment_id":126680303,"body_markdown":"good example, thaks! Works great","body":"good example, thaks! Works great"}],"tags":[],"owner":{"account_id":1189636,"reputation":7055,"user_id":1162784,"display_name":"arsent"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1590416569,"creation_date":1529680054,"answer_id":50990872,"question_id":3382996,"body_markdown":"The Kotlin way\r\n\r\n    //FileExt.kt\r\n\r\n    data class ZipIO (val entry: ZipEntry, val output: File)\r\n\r\n    fun File.unzip(unzipLocationRoot: File? = null) {\r\n        \r\n        val rootFolder = unzipLocationRoot ?: File(parentFile.absolutePath + File.separator + nameWithoutExtension)\r\n        if (!rootFolder.exists()) {\r\n           rootFolder.mkdirs()\r\n        }\r\n\r\n        ZipFile(this).use { zip -&gt;\r\n            zip\r\n            .entries()\r\n            .asSequence()\r\n            .map {\r\n                val outputFile = File(rootFolder.absolutePath + File.separator + it.name)\r\n                ZipIO(it, outputFile)\r\n            }\r\n            .map {\r\n                it.output.parentFile?.run{\r\n                    if (!exists()) mkdirs()\r\n                }\r\n                it\r\n            }\r\n            .filter { !it.entry.isDirectory }\r\n            .forEach { (entry, output) -&gt;\r\n                zip.getInputStream(entry).use { input -&gt;\r\n                    output.outputStream().use { output -&gt;\r\n                        input.copyTo(output)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n**Usage**\r\n\r\n    val zipFile = File(&quot;path_to_your_zip_file&quot;)\r\n    file.unzip()\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KQZBi.png","title":"How to unzip files programmatically in Android?","body":"<p>The Kotlin way</p>\n\n<pre><code>//FileExt.kt\n\ndata class ZipIO (val entry: ZipEntry, val output: File)\n\nfun File.unzip(unzipLocationRoot: File? = null) {\n\n    val rootFolder = unzipLocationRoot ?: File(parentFile.absolutePath + File.separator + nameWithoutExtension)\n    if (!rootFolder.exists()) {\n       rootFolder.mkdirs()\n    }\n\n    ZipFile(this).use { zip -&gt;\n        zip\n        .entries()\n        .asSequence()\n        .map {\n            val outputFile = File(rootFolder.absolutePath + File.separator + it.name)\n            ZipIO(it, outputFile)\n        }\n        .map {\n            it.output.parentFile?.run{\n                if (!exists()) mkdirs()\n            }\n            it\n        }\n        .filter { !it.entry.isDirectory }\n        .forEach { (entry, output) -&gt;\n            zip.getInputStream(entry).use { input -&gt;\n                output.outputStream().use { output -&gt;\n                    input.copyTo(output)\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>val zipFile = File(\"path_to_your_zip_file\")\nfile.unzip()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535267743,"creation_date":1535267743,"answer_id":52024022,"question_id":3382996,"body_markdown":"I&#39;m working with zip files which Java&#39;s ZipFile class isn&#39;t able to handle. Java 8 apparently can&#39;t handle compression method 12 (bzip2 I believe). After trying a number of methods including zip4j (which also fails with these particular files due to another issue), I had success with **Apache&#39;s commons-compress** which supports [additional compression methods as mentioned here][1].\r\n\r\n*Note that the ZipFile class below is not the one from java.util.zip.*\r\n \r\nIt&#39;s actually **org.apache.commons.compress.archivers.zip.ZipFile** so be careful with the imports.\r\n\r\n    try (ZipFile zipFile = new ZipFile(archiveFile)) {\r\n        Enumeration&lt;ZipArchiveEntry&gt; entries = zipFile.getEntries();\r\n        while (entries.hasMoreElements()) {\r\n            ZipArchiveEntry entry = entries.nextElement();\r\n            File entryDestination = new File(destination, entry.getName());\r\n            if (entry.isDirectory()) {\r\n                entryDestination.mkdirs();\r\n            } else {\r\n                entryDestination.getParentFile().mkdirs();\r\n                try (InputStream in = zipFile.getInputStream(entry); OutputStream out = new FileOutputStream(entryDestination)) {\r\n                    IOUtils.copy(in, out);\r\n                }\r\n            }\r\n        }\r\n    } catch (IOException ex) {\r\n        log.debug(&quot;Error unzipping archive file: &quot; + archiveFile, ex);\r\n    }\r\n\r\nFor Gradle: \r\n\r\n    compile &#39;org.apache.commons:commons-compress:1.18&#39;\r\n\r\n  [1]: http://commons.apache.org/proper/commons-compress/zip.html#encryption","title":"How to unzip files programmatically in Android?","body":"<p>I'm working with zip files which Java's ZipFile class isn't able to handle. Java 8 apparently can't handle compression method 12 (bzip2 I believe). After trying a number of methods including zip4j (which also fails with these particular files due to another issue), I had success with <strong>Apache's commons-compress</strong> which supports <a href=\"http://commons.apache.org/proper/commons-compress/zip.html#encryption\" rel=\"nofollow noreferrer\">additional compression methods as mentioned here</a>.</p>\n\n<p><em>Note that the ZipFile class below is not the one from java.util.zip.</em></p>\n\n<p>It's actually <strong>org.apache.commons.compress.archivers.zip.ZipFile</strong> so be careful with the imports.</p>\n\n<pre><code>try (ZipFile zipFile = new ZipFile(archiveFile)) {\n    Enumeration&lt;ZipArchiveEntry&gt; entries = zipFile.getEntries();\n    while (entries.hasMoreElements()) {\n        ZipArchiveEntry entry = entries.nextElement();\n        File entryDestination = new File(destination, entry.getName());\n        if (entry.isDirectory()) {\n            entryDestination.mkdirs();\n        } else {\n            entryDestination.getParentFile().mkdirs();\n            try (InputStream in = zipFile.getInputStream(entry); OutputStream out = new FileOutputStream(entryDestination)) {\n                IOUtils.copy(in, out);\n            }\n        }\n    }\n} catch (IOException ex) {\n    log.debug(\"Error unzipping archive file: \" + archiveFile, ex);\n}\n</code></pre>\n\n<p>For Gradle: </p>\n\n<pre><code>compile 'org.apache.commons:commons-compress:1.18'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8651178,"reputation":543,"user_id":6476816,"display_name":"MarkoR"},"score":1,"creation_date":1577298355,"post_id":58637657,"comment_id":105138515,"body_markdown":"This is best solution in this thread. In addition, I would also use BufferedOutputStream in stack with FileOutputStream.","body":"This is best solution in this thread. In addition, I would also use BufferedOutputStream in stack with FileOutputStream."}],"tags":[],"owner":{"account_id":2111085,"reputation":8537,"user_id":1876355,"accept_rate":91,"display_name":"Pierre"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572501833,"creation_date":1572501833,"answer_id":58637657,"question_id":3382996,"body_markdown":"Based on zapl&#39;s answer, adding `try()` around `Closeable`&#39;s closes the streams automatically after use.\n\n    public static void unzip(File zipFile, File targetDirectory) {\n        try (FileInputStream fis = new FileInputStream(zipFile)) {\n            try (BufferedInputStream bis = new BufferedInputStream(fis)) {\n                try (ZipInputStream zis = new ZipInputStream(bis)) {\n                    ZipEntry ze;\n                    int count;\n                    byte[] buffer = new byte[Constant.DefaultBufferSize];\n                    while ((ze = zis.getNextEntry()) != null) {\n                        File file = new File(targetDirectory, ze.getName());\n                        File dir = ze.isDirectory() ? file : file.getParentFile();\n                        if (!dir.isDirectory() &amp;&amp; !dir.mkdirs())\n                            throw new FileNotFoundException(&quot;Failed to ensure directory: &quot; + dir.getAbsolutePath());\n                        if (ze.isDirectory())\n                            continue;\n                        try (FileOutputStream fout = new FileOutputStream(file)) {\n                            while ((count = zis.read(buffer)) != -1)\n                                fout.write(buffer, 0, count);\n                        }\n                    }\n                }\n            }\n        } catch (Exception ex) {\n            //handle exception\n        }\n    }\n\nUsing `Constant.DefaultBufferSize` (`65536`) gotten from `C# .NET 4` [Stream.CopyTo][1] from Jon Skeet&#39;s answer here:\n[https://stackoverflow.com/a/411605/1876355][2]\n\nI always just see posts using `byte[1024]` or `byte[4096]` buffer, never knew it can be much larger which improves performance and is still working perfectly normal.\n\nHere is the `Stream` Source code:\n[https://referencesource.microsoft.com/#mscorlib/system/io/stream.cs][3]\n\n&gt;     //We pick a value that is the largest multiple of 4096 that is still smaller than the large object heap threshold (85K).\n&gt;     // The CopyTo/CopyToAsync buffer is short-lived and is likely to be collected at Gen0, and it offers a significant\n&gt;     // improvement in Copy performance.\n&gt;\n&gt;     private const int _DefaultCopyBufferSize = 81920;\n\nHowever, I dialed it back to `65536` which is also a multiple of `4096` just to be safe.\n\n  [1]: https://learn.microsoft.com/en-gb/dotnet/api/system.io.stream.copyto?view=netframework-4.5#System_IO_Stream_CopyTo_System_IO_Stream_\n  [2]: https://stackoverflow.com/a/411605/1876355\n  [3]: https://referencesource.microsoft.com/#mscorlib/system/io/stream.cs","title":"How to unzip files programmatically in Android?","body":"<p>Based on zapl's answer, adding <code>try()</code> around <code>Closeable</code>'s closes the streams automatically after use.</p>\n<pre><code>public static void unzip(File zipFile, File targetDirectory) {\n    try (FileInputStream fis = new FileInputStream(zipFile)) {\n        try (BufferedInputStream bis = new BufferedInputStream(fis)) {\n            try (ZipInputStream zis = new ZipInputStream(bis)) {\n                ZipEntry ze;\n                int count;\n                byte[] buffer = new byte[Constant.DefaultBufferSize];\n                while ((ze = zis.getNextEntry()) != null) {\n                    File file = new File(targetDirectory, ze.getName());\n                    File dir = ze.isDirectory() ? file : file.getParentFile();\n                    if (!dir.isDirectory() &amp;&amp; !dir.mkdirs())\n                        throw new FileNotFoundException(&quot;Failed to ensure directory: &quot; + dir.getAbsolutePath());\n                    if (ze.isDirectory())\n                        continue;\n                    try (FileOutputStream fout = new FileOutputStream(file)) {\n                        while ((count = zis.read(buffer)) != -1)\n                            fout.write(buffer, 0, count);\n                    }\n                }\n            }\n        }\n    } catch (Exception ex) {\n        //handle exception\n    }\n}\n</code></pre>\n<p>Using <code>Constant.DefaultBufferSize</code> (<code>65536</code>) gotten from <code>C# .NET 4</code> <a href=\"https://learn.microsoft.com/en-gb/dotnet/api/system.io.stream.copyto?view=netframework-4.5#System_IO_Stream_CopyTo_System_IO_Stream_\" rel=\"nofollow noreferrer\">Stream.CopyTo</a> from Jon Skeet's answer here:\n<a href=\"https://stackoverflow.com/a/411605/1876355\">https://stackoverflow.com/a/411605/1876355</a></p>\n<p>I always just see posts using <code>byte[1024]</code> or <code>byte[4096]</code> buffer, never knew it can be much larger which improves performance and is still working perfectly normal.</p>\n<p>Here is the <code>Stream</code> Source code:\n<a href=\"https://referencesource.microsoft.com/#mscorlib/system/io/stream.cs\" rel=\"nofollow noreferrer\">https://referencesource.microsoft.com/#mscorlib/system/io/stream.cs</a></p>\n<blockquote>\n<pre><code>//We pick a value that is the largest multiple of 4096 that is still smaller than the large object heap threshold (85K).\n// The CopyTo/CopyToAsync buffer is short-lived and is likely to be collected at Gen0, and it offers a significant\n// improvement in Copy performance.\n\nprivate const int _DefaultCopyBufferSize = 81920;\n</code></pre>\n</blockquote>\n<p>However, I dialed it back to <code>65536</code> which is also a multiple of <code>4096</code> just to be safe.</p>\n"},{"tags":[],"owner":{"account_id":1028523,"reputation":8301,"user_id":1037294,"accept_rate":83,"display_name":"a.ch."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637158398,"creation_date":1637158398,"answer_id":70005953,"question_id":3382996,"body_markdown":"Here is more concise version of @arsent solution:\r\n\r\n    fun File.unzip(to: File? = null) {\r\n        val destinationDir = to ?: File(parentFile, nameWithoutExtension)\r\n        destinationDir.mkdirs()\r\n    \r\n        ZipFile(this).use { zipFile -&gt;\r\n            zipFile\r\n                .entries()\r\n                .asSequence()\r\n                .filter { !it.isDirectory }\r\n                .forEach { zipEntry -&gt;\r\n                    val currFile = File(destinationDir, zipEntry.name)\r\n                    currFile.parentFile?.mkdirs()\r\n                    zipFile.getInputStream(zipEntry).use { input -&gt;\r\n                        currFile.outputStream().use { output -&gt; input.copyTo(output) }\r\n                    }\r\n                }\r\n        }\r\n    }","title":"How to unzip files programmatically in Android?","body":"<p>Here is more concise version of @arsent solution:</p>\n<pre><code>fun File.unzip(to: File? = null) {\n    val destinationDir = to ?: File(parentFile, nameWithoutExtension)\n    destinationDir.mkdirs()\n\n    ZipFile(this).use { zipFile -&gt;\n        zipFile\n            .entries()\n            .asSequence()\n            .filter { !it.isDirectory }\n            .forEach { zipEntry -&gt;\n                val currFile = File(destinationDir, zipEntry.name)\n                currFile.parentFile?.mkdirs()\n                zipFile.getInputStream(zipEntry).use { input -&gt;\n                    currFile.outputStream().use { output -&gt; input.copyTo(output) }\n                }\n            }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681714551,"creation_date":1681714551,"answer_id":76032406,"question_id":3382996,"body_markdown":"In **Kotlin**, this Function can be helpful :\r\n\r\nif this path is a internal storage, don&#39;t need any permission. \r\n\r\nFor example\r\n\r\n    val file = File(context.getDir(&quot;Music&quot;, AppCompatActivity.MODE_PRIVATE),\r\n                            &quot;/$myFilename$myExtensionVar&quot;)\r\n\r\n    unpackZipFile(file.path,&quot;zipFileName&quot;)\r\n\r\notherwise add permission for **read/write** external storage.\r\n\r\n     private fun unpackZipFile(path: String, zipFileName: String): Boolean {\r\n            val `is`: InputStream\r\n            val zis: ZipInputStream\r\n            try {\r\n                var filename: String\r\n                // Here put the Zip file path\r\n                `is` = FileInputStream(path+zipFileName)\r\n                zis = ZipInputStream(BufferedInputStream(`is`))\r\n                var ze: ZipEntry\r\n                val buffer = ByteArray(1024)\r\n                var count: Int\r\n                \r\n                while (zis.nextEntry.also { ze = it } != null) {\r\n                    filename = ze.name\r\n                    \r\n                    if (ze.isDirectory) {\r\n                        val fmd = File(path+ filename )\r\n                        fmd.mkdirs()\r\n                        continue\r\n                    }\r\n                    val fileOutputStream = FileOutputStream(path +filename )\r\n                    while (zis.read(buffer).also { count = it } != -1) {\r\n                        fileOutputStream.write(buffer, 0, count)\r\n                    }\r\n                    fileOutputStream.close()\r\n                    zis.closeEntry()\r\n                }\r\n                zis.close()\r\n    \r\n    \r\n    \r\n            } catch (e: IOException) {\r\n                e.printStackTrace()\r\n                return false\r\n            }catch (e:NullPointerException){\r\n                e.printStackTrace()\r\n                return false\r\n            }\r\n            return true\r\n        }","title":"How to unzip files programmatically in Android?","body":"<p>In <strong>Kotlin</strong>, this Function can be helpful :</p>\n<p>if this path is a internal storage, don't need any permission.</p>\n<p>For example</p>\n<pre><code>val file = File(context.getDir(&quot;Music&quot;, AppCompatActivity.MODE_PRIVATE),\n                        &quot;/$myFilename$myExtensionVar&quot;)\n\nunpackZipFile(file.path,&quot;zipFileName&quot;)\n</code></pre>\n<p>otherwise add permission for <strong>read/write</strong> external storage.</p>\n<pre><code> private fun unpackZipFile(path: String, zipFileName: String): Boolean {\n        val `is`: InputStream\n        val zis: ZipInputStream\n        try {\n            var filename: String\n            // Here put the Zip file path\n            `is` = FileInputStream(path+zipFileName)\n            zis = ZipInputStream(BufferedInputStream(`is`))\n            var ze: ZipEntry\n            val buffer = ByteArray(1024)\n            var count: Int\n            \n            while (zis.nextEntry.also { ze = it } != null) {\n                filename = ze.name\n                \n                if (ze.isDirectory) {\n                    val fmd = File(path+ filename )\n                    fmd.mkdirs()\n                    continue\n                }\n                val fileOutputStream = FileOutputStream(path +filename )\n                while (zis.read(buffer).also { count = it } != -1) {\n                    fileOutputStream.write(buffer, 0, count)\n                }\n                fileOutputStream.close()\n                zis.closeEntry()\n            }\n            zis.close()\n\n\n\n        } catch (e: IOException) {\n            e.printStackTrace()\n            return false\n        }catch (e:NullPointerException){\n            e.printStackTrace()\n            return false\n        }\n        return true\n    }\n</code></pre>\n"}],"owner":{"account_id":636691,"reputation":1517,"user_id":408033,"display_name":"Kartik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133193,"favorite_count":0,"down_vote_count":2,"up_vote_count":152,"answer_count":16,"score":150,"last_activity_date":1681714551,"creation_date":1280683563,"question_id":3382996,"body_markdown":"I need a small code snippet which unzips a few files from a given .zip file and gives the separate files according to the format they were in the zipped file. Please post your knowledge and help me out. ","title":"How to unzip files programmatically in Android?","body":"<p>I need a small code snippet which unzips a few files from a given .zip file and gives the separate files according to the format they were in the zipped file. Please post your knowledge and help me out. </p>\n"},{"tags":["java","databricks","azure-databricks"],"comments":[{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1681573994,"post_id":76021747,"comment_id":134079986,"body_markdown":"what Databricks Runtime are you using?","body":"what Databricks Runtime are you using?"},{"owner":{"account_id":28306158,"reputation":13,"user_id":21644142,"display_name":"ninja"},"score":0,"creation_date":1681587875,"post_id":76021747,"comment_id":134081819,"body_markdown":"@AlexOtt I tested it against  13.0 (includes Apache Spark 3.4.0, Scala 2.12). It doesn&#39;t have to be this version. I selected the latest one available. If it is possible to change version of Java in other runtimes then it would be fine.","body":"@AlexOtt I tested it against  13.0 (includes Apache Spark 3.4.0, Scala 2.12). It doesn&#39;t have to be this version. I selected the latest one available. If it is possible to change version of Java in other runtimes then it would be fine."}],"answers":[{"comments":[{"owner":{"account_id":28306158,"reputation":13,"user_id":21644142,"display_name":"ninja"},"score":0,"creation_date":1681736819,"post_id":76032390,"comment_id":134100112,"body_markdown":"Thank you @AlexOtt for checking it. I am pretty sure I did the same. Anyway, let me double check it. I will keep you posted. Thank you very much for your support.","body":"Thank you @AlexOtt for checking it. I am pretty sure I did the same. Anyway, let me double check it. I will keep you posted. Thank you very much for your support."},{"owner":{"account_id":339786,"reputation":1941,"user_id":669472,"accept_rate":70,"display_name":"vissu"},"score":0,"creation_date":1688736102,"post_id":76032390,"comment_id":135117718,"body_markdown":"It did not work for me.  I added same in env variables.  But still my java version says 1.8 in cluster.","body":"It did not work for me.  I added same in env variables.  But still my java version says 1.8 in cluster."}],"tags":[],"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681714477,"creation_date":1681714477,"answer_id":76032390,"question_id":76021747,"body_markdown":"I just tested on the DBR 11.3, 13.0 &amp; 12.2 and everything works just fine. As [per doc][1] - add following environment variable:\r\n\r\n```\r\nJNAME=zulu11-ca-amd64\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand you get a cluster with Java 11:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://docs.databricks.com/release-notes/runtime/10.0.html#cluster-support-for-jdk-11-public-preview\r\n  [2]: https://i.stack.imgur.com/LT9Sq.png\r\n  [3]: https://i.stack.imgur.com/ZoJUY.png\r\n  [4]: https://i.stack.imgur.com/MaxKd.png","title":"How to configure Azure Databricks cluster to use Java 11","body":"<p>I just tested on the DBR 11.3, 13.0 &amp; 12.2 and everything works just fine. As <a href=\"https://docs.databricks.com/release-notes/runtime/10.0.html#cluster-support-for-jdk-11-public-preview\" rel=\"nofollow noreferrer\">per doc</a> - add following environment variable:</p>\n<pre><code>JNAME=zulu11-ca-amd64\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LT9Sq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LT9Sq.png\" alt=\"enter image description here\" /></a></p>\n<p>and you get a cluster with Java 11:</p>\n<p><a href=\"https://i.stack.imgur.com/ZoJUY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZoJUY.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MaxKd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MaxKd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28306158,"reputation":13,"user_id":21644142,"display_name":"ninja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76032390,"answer_count":1,"score":1,"last_activity_date":1681714477,"creation_date":1681555353,"question_id":76021747,"body_markdown":"I would like to configure Azure Databricks cluster to use Java 11 instead of 8\r\n\r\nI added the following property under **Advanced Options \\&gt; Spark \\&gt; Environment Variables**:\r\n\r\n```\r\nJNAME=zulu11-ca-amd64\r\n```\r\n\r\nand restarted the cluster. Unfortunately, I still see that Spark Conf (Cluster --\\&gt; Spark Cluster UI -\\&gt; Runtime information) is configured to use java 8\r\n\r\n#### Runtime Information\r\n\r\n```\r\nJava Home: /usr/lib/jvm/zulu8-ca-amd64/jre\r\n```\r\n\r\n```\r\nJava Version: 1.8.0_362 (Azul Systems, Inc.)\r\n```","title":"How to configure Azure Databricks cluster to use Java 11","body":"<p>I would like to configure Azure Databricks cluster to use Java 11 instead of 8</p>\n<p>I added the following property under <strong>Advanced Options &gt; Spark &gt; Environment Variables</strong>:</p>\n<pre><code>JNAME=zulu11-ca-amd64\n</code></pre>\n<p>and restarted the cluster. Unfortunately, I still see that Spark Conf (Cluster --&gt; Spark Cluster UI -&gt; Runtime information) is configured to use java 8</p>\n<h4>Runtime Information</h4>\n<pre><code>Java Home: /usr/lib/jvm/zulu8-ca-amd64/jre\n</code></pre>\n<pre><code>Java Version: 1.8.0_362 (Azul Systems, Inc.)\n</code></pre>\n"},{"tags":["java","multithreading","unit-testing","javafx","junit"],"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1681710018,"post_id":76031966,"comment_id":134094360,"body_markdown":"can you explain how you want to provide a database connection within your Test? Do you want to use an Test-Database (may an in-memory DB like H2DB)  or do you want to mock your Database using a mocking Framework like Mokito or use an DB-Simulator? Do you try to use your develop-DB in Tests?\nIt is important to know since otherwise we cannot give an answer","body":"can you explain how you want to provide a database connection within your Test? Do you want to use an Test-Database (may an in-memory DB like H2DB)  or do you want to mock your Database using a mocking Framework like Mokito or use an DB-Simulator? Do you try to use your develop-DB in Tests? It is important to know since otherwise we cannot give an answer"},{"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"score":0,"creation_date":1681711029,"post_id":76031966,"comment_id":134094494,"body_markdown":"@MartinFrank Hello. No I am not using anything you mentioned. Infact this is my first time using Junit required for college project. As for database connection, I am just calling method (Test code snippet) getUserValidationStatus which in turns call retrieveUserId method which contains code to get connection from connection pool.","body":"@MartinFrank Hello. No I am not using anything you mentioned. Infact this is my first time using Junit required for college project. As for database connection, I am just calling method (Test code snippet) getUserValidationStatus which in turns call retrieveUserId method which contains code to get connection from connection pool."},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1681711347,"post_id":76031966,"comment_id":134094530,"body_markdown":"usually the test run during build - on a machine that has no access to a database connection. When this happens your code will not work - you already found out, where it will not work (`Connection connection = ConnectionPool.getDataSource().getConnection()`)","body":"usually the test run during build - on a machine that has no access to a database connection. When this happens your code will not work - you already found out, where it will not work (<code>Connection connection = ConnectionPool.getDataSource().getConnection()</code>)"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1681711597,"post_id":76031966,"comment_id":134094572,"body_markdown":"so  - you have to prove a TEST-DATABASE in a way, any way you want - but if you DO NOT your specific Test wont work.\nIf all of that is no option for you have a look at the **DIP - Dependency Inversion Principle** - your professor will love you for this ^^ (https://en.wikipedia.org/wiki/Dependency_inversion_principle)","body":"so  - you have to prove a TEST-DATABASE in a way, any way you want - but if you DO NOT your specific Test wont work. If all of that is no option for you have a look at the <b>DIP - Dependency Inversion Principle</b> - your professor will love you for this ^^ (<a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Dependency_inversion_principle</a>)"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1681712319,"post_id":76031966,"comment_id":134094688,"body_markdown":"One problem is that you have the assertion code inside a callback that is itself added inside a `Platform.runLater` call. That means the test will return, and thus succeed, likely before the assertions are even executed. Given you don&#39;t care about blocking the thread during this unit test, see if doing something like `assertEquals(SUCCESS, task.get())` works for you. That `get()` method comes from the `Future` interface. It also throws checked exceptions, so you have to handle them in the test (I would just declare a `throws` clause, as propagating an exception will fail the test).","body":"One problem is that you have the assertion code inside a callback that is itself added inside a <code>Platform.runLater</code> call. That means the test will return, and thus succeed, likely before the assertions are even executed. Given you don&#39;t care about blocking the thread during this unit test, see if doing something like <code>assertEquals(SUCCESS, task.get())</code> works for you. That <code>get()</code> method comes from the <code>Future</code> interface. It also throws checked exceptions, so you have to handle them in the test (I would just declare a <code>throws</code> clause, as propagating an exception will fail the test)."},{"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"score":0,"creation_date":1681713192,"post_id":76031966,"comment_id":134094804,"body_markdown":"@Slaw Thanks for help. But it still doesn&#39;t throw exception. The problem of program aborting remains when creating new DataSource object.","body":"@Slaw Thanks for help. But it still doesn&#39;t throw exception. The problem of program aborting remains when creating new DataSource object."},{"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"score":0,"creation_date":1681713294,"post_id":76031966,"comment_id":134094820,"body_markdown":"@MartinFrank How to prove it? Is there any guide that can help with my problem which doesn&#39;t use Spring or JPA or anything advanced that I am not using? All guides are based on them.","body":"@MartinFrank How to prove it? Is there any guide that can help with my problem which doesn&#39;t use Spring or JPA or anything advanced that I am not using? All guides are based on them."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1681715159,"post_id":76031966,"comment_id":134095185,"body_markdown":"Another problem you have is you catch all exceptions in `getDataSource()`. That method can&#39;t handle an exception meaningfully; it should let the exception propagate, possibly by rethrowing it wrapped in an unchecked exception.","body":"Another problem you have is you catch all exceptions in <code>getDataSource()</code>. That method can&#39;t handle an exception meaningfully; it should let the exception propagate, possibly by rethrowing it wrapped in an unchecked exception."}],"answers":[{"tags":[],"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681714335,"creation_date":1681714335,"answer_id":76032384,"question_id":76031966,"body_markdown":"Dependency inversion principle\r\n---\r\n\r\nit says that high level classes should not be dependent of low level classes\r\n\r\n\r\n**bad example:**\r\n[![enter image description here][1]][1]\r\n\r\nyour `OnlineShop` is strongly dependent on your `CatalogDatabase`. this is evil, since you cannot test your Shop without having a database prepared.\r\n\r\n**good example:**&lt;br/&gt;\r\n[![enter image description here][2]][2]\r\n\r\nyour Onlineshop only know that there is an **interface** of a Catalog - you can now **replace** the database-catalog with a test-catalog. There is even a constructor that tells you which database you choose.\r\n\r\n**...then what?**&lt;br&gt;\r\nwhen you have implemented DIP you will be able to replace your connection with a test-connection. you can provide a test-connecxtion, that does the stuff you want it to do. It can even go further, you could test bad cases as well - and your tests will be independent where they run. on a build-server, on your local machine, on ...where ever you want....\r\n\r\nsummary\r\n--\r\ni do not know where and how you create instances of `ConnectionPool`, `DataSource` and `Connection` - but you must make them replaceable! (your code does not provide where it happens). \r\n\r\nAs a friendly note: **DO NOT USE STATIC METHODS** - they will always make it harder for you (even if it makes everything easier in the beginning)\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BCZ6q.png\r\n  [2]: https://i.stack.imgur.com/EnCRr.png","title":"How to properly test the method returning Task object in JavaFX?","body":"<h2>Dependency inversion principle</h2>\n<p>it says that high level classes should not be dependent of low level classes</p>\n<p><strong>bad example:</strong>\n<a href=\"https://i.stack.imgur.com/BCZ6q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BCZ6q.png\" alt=\"enter image description here\" /></a></p>\n<p>your <code>OnlineShop</code> is strongly dependent on your <code>CatalogDatabase</code>. this is evil, since you cannot test your Shop without having a database prepared.</p>\n<p><strong>good example:</strong><br/>\n<a href=\"https://i.stack.imgur.com/EnCRr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EnCRr.png\" alt=\"enter image description here\" /></a></p>\n<p>your Onlineshop only know that there is an <strong>interface</strong> of a Catalog - you can now <strong>replace</strong> the database-catalog with a test-catalog. There is even a constructor that tells you which database you choose.</p>\n<p><strong>...then what?</strong><br>\nwhen you have implemented DIP you will be able to replace your connection with a test-connection. you can provide a test-connecxtion, that does the stuff you want it to do. It can even go further, you could test bad cases as well - and your tests will be independent where they run. on a build-server, on your local machine, on ...where ever you want....</p>\n<h2>summary</h2>\n<p>i do not know where and how you create instances of <code>ConnectionPool</code>, <code>DataSource</code> and <code>Connection</code> - but you must make them replaceable! (your code does not provide where it happens).</p>\n<p>As a friendly note: <strong>DO NOT USE STATIC METHODS</strong> - they will always make it harder for you (even if it makes everything easier in the beginning)</p>\n"}],"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681714335,"creation_date":1681709419,"question_id":76031966,"body_markdown":"I am facing problem testing method that returns Task object of `javafx.concurrent.Task` package. When I run the test, the program aborts and it fails to create new `BasicDataSource` object and doesn&#39;t even throw any exceptions and the test passes too. So it is difficult to trace the exact problem. Imo, it is probably related to threading but not exactly sure.\r\n\r\nConnection Pool code snippet (Problem originates here):\r\n\r\n```\r\npublic synchronized static DataSource getDataSource() {\r\n\r\n        try {\r\n\r\n            Properties property = new Properties();\r\n            URL url = SessionManager.class.getResource(&quot;/properties/database.properties&quot;);\r\n            property.load(new FileInputStream(Objects.requireNonNull(url).getFile()));\r\n            if (dataSource == null) {\r\n                synchronized (ConnectionPool.class) {\r\n\r\n                    if (dataSource == null)\r\n                        dataSource = new BasicDataSource(); //Program aborts here\r\n                }\r\n            }\r\n            \r\n            dataSource.setUrl(property.getProperty(&quot;DB_URL&quot;));\r\n            dataSource.setUsername(property.getProperty(&quot;DB_USERNAME&quot;));\r\n            dataSource.setPassword(property.getProperty(&quot;DB_PASSWORD&quot;));\r\n            dataSource.setMaxTotal(Integer.parseInt(property.getProperty(&quot;DB_MAX_CONNECTIONS&quot;)));\r\n            dataSource.setMaxOpenPreparedStatements(Integer.parseInt(property.getProperty(&quot;DB_MAX_PREPARED_STATEMENTS&quot;)));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return dataSource;\r\n    }\r\n```\r\n\r\nJunit 5 Test Snippet:\r\n\r\n\r\n```\r\n    \r\n    @BeforeAll\r\n    static void initJavaFxToolkit() {\r\n\r\n        // Initialize the JavaFX toolkit\r\n        Platform.startup(() -&gt; {\r\n        });\r\n    }\r\n\r\n    @AfterAll\r\n    static void tearDown() {\r\n\r\n        Platform.exit();\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Test if user credentials pass on correct credentials&quot;)\r\n    void testIfUserCredentialsPassOnCorrectCredentials() {\r\n\r\n        LoginCredentials loginCredentials = new LoginCredentials(&quot;organization&quot;, &quot;Hello123#&quot;, true);\r\n        Validator login = new Login(loginCredentials);\r\n\r\n        Task&lt;AuthenticationStatus&gt; task = login.getUserValidationStatus();\r\n        Platform.runLater(() -&gt; task.setOnSucceeded(workerStateEvent -&gt; assertEquals(AuthenticationStatus.SUCCESS, task.getValue())));\r\n    }\r\n```\r\n\r\nMethod where first time `getDataSource()` is called\r\n\r\n\r\n```\r\n    @Override\r\n    public Optional&lt;Long&gt; retrieveUserId(String username) throws SQLException {\r\n\r\n        String sql = &quot;SELECT user_id FROM personal_details WHERE username = ?&quot;;\r\n\r\n        //problem occurs down here\r\n        try (Connection connection = ConnectionPool.getDataSource().getConnection()) {\r\n\r\n            //rest of code\r\n    }\r\n```\r\n\r\nTask returning method:\r\n\r\n\r\n```\r\n    @Override\r\n    public synchronized Task&lt;AuthenticationStatus&gt; getUserValidationStatus() {\r\n\r\n        Task&lt;AuthenticationStatus&gt; loginTask = new Task&lt;&gt;() {\r\n            @Override\r\n            protected AuthenticationStatus call() {\r\n\r\n                //rest of code\r\n\r\n                Optional&lt;Long&gt; optionalUserID = retrieveUserId(username); //problem\r\n                userID = optionalUserID.orElse(0L);\r\n\r\n                //rest of code\r\n        };\r\n\r\n        Thread thread = new Thread(loginTask);\r\n        thread.setDaemon(true);\r\n        thread.start();\r\n        return loginTask;\r\n    }\r\n```\r\n\r\n\r\n\r\nAs you can see in Test snippet, I tried to initialize JavaFX toolkit so that FXApplicationThread is created but that didn&#39;t help.\r\n\r\nNote: The application runs fine when executing the non-test/source code.\r\n","title":"How to properly test the method returning Task object in JavaFX?","body":"<p>I am facing problem testing method that returns Task object of <code>javafx.concurrent.Task</code> package. When I run the test, the program aborts and it fails to create new <code>BasicDataSource</code> object and doesn't even throw any exceptions and the test passes too. So it is difficult to trace the exact problem. Imo, it is probably related to threading but not exactly sure.</p>\n<p>Connection Pool code snippet (Problem originates here):</p>\n<pre><code>public synchronized static DataSource getDataSource() {\n\n        try {\n\n            Properties property = new Properties();\n            URL url = SessionManager.class.getResource(&quot;/properties/database.properties&quot;);\n            property.load(new FileInputStream(Objects.requireNonNull(url).getFile()));\n            if (dataSource == null) {\n                synchronized (ConnectionPool.class) {\n\n                    if (dataSource == null)\n                        dataSource = new BasicDataSource(); //Program aborts here\n                }\n            }\n            \n            dataSource.setUrl(property.getProperty(&quot;DB_URL&quot;));\n            dataSource.setUsername(property.getProperty(&quot;DB_USERNAME&quot;));\n            dataSource.setPassword(property.getProperty(&quot;DB_PASSWORD&quot;));\n            dataSource.setMaxTotal(Integer.parseInt(property.getProperty(&quot;DB_MAX_CONNECTIONS&quot;)));\n            dataSource.setMaxOpenPreparedStatements(Integer.parseInt(property.getProperty(&quot;DB_MAX_PREPARED_STATEMENTS&quot;)));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return dataSource;\n    }\n</code></pre>\n<p>Junit 5 Test Snippet:</p>\n<pre><code>    \n    @BeforeAll\n    static void initJavaFxToolkit() {\n\n        // Initialize the JavaFX toolkit\n        Platform.startup(() -&gt; {\n        });\n    }\n\n    @AfterAll\n    static void tearDown() {\n\n        Platform.exit();\n    }\n\n    @Test\n    @DisplayName(&quot;Test if user credentials pass on correct credentials&quot;)\n    void testIfUserCredentialsPassOnCorrectCredentials() {\n\n        LoginCredentials loginCredentials = new LoginCredentials(&quot;organization&quot;, &quot;Hello123#&quot;, true);\n        Validator login = new Login(loginCredentials);\n\n        Task&lt;AuthenticationStatus&gt; task = login.getUserValidationStatus();\n        Platform.runLater(() -&gt; task.setOnSucceeded(workerStateEvent -&gt; assertEquals(AuthenticationStatus.SUCCESS, task.getValue())));\n    }\n</code></pre>\n<p>Method where first time <code>getDataSource()</code> is called</p>\n<pre><code>    @Override\n    public Optional&lt;Long&gt; retrieveUserId(String username) throws SQLException {\n\n        String sql = &quot;SELECT user_id FROM personal_details WHERE username = ?&quot;;\n\n        //problem occurs down here\n        try (Connection connection = ConnectionPool.getDataSource().getConnection()) {\n\n            //rest of code\n    }\n</code></pre>\n<p>Task returning method:</p>\n<pre><code>    @Override\n    public synchronized Task&lt;AuthenticationStatus&gt; getUserValidationStatus() {\n\n        Task&lt;AuthenticationStatus&gt; loginTask = new Task&lt;&gt;() {\n            @Override\n            protected AuthenticationStatus call() {\n\n                //rest of code\n\n                Optional&lt;Long&gt; optionalUserID = retrieveUserId(username); //problem\n                userID = optionalUserID.orElse(0L);\n\n                //rest of code\n        };\n\n        Thread thread = new Thread(loginTask);\n        thread.setDaemon(true);\n        thread.start();\n        return loginTask;\n    }\n</code></pre>\n<p>As you can see in Test snippet, I tried to initialize JavaFX toolkit so that FXApplicationThread is created but that didn't help.</p>\n<p>Note: The application runs fine when executing the non-test/source code.</p>\n"},{"tags":["java","zip","odt","opendocument","zipoutputstream"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1342827752,"post_id":11588164,"comment_id":15334995,"body_markdown":"That sounds a bit strange.  Are you handling exceptions **properly**?","body":"That sounds a bit strange.  Are you handling exceptions <b>properly</b>?"},{"owner":{"account_id":1308175,"reputation":21,"user_id":1256716,"display_name":"raul_herranz"},"score":0,"creation_date":1342828447,"post_id":11588164,"comment_id":15335104,"body_markdown":"I have a big &quot;try-catch&quot; surrounding all the code, and there are no exceptions.","body":"I have a big &quot;try-catch&quot; surrounding all the code, and there are no exceptions."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1342831121,"post_id":11588164,"comment_id":15335441,"body_markdown":"Do you have any little &quot;try-catches&quot; that are squashing exceptions?  (I asked if you were handling exceptions *properly* ... )","body":"Do you have any little &quot;try-catches&quot; that are squashing exceptions?  (I asked if you were handling exceptions <i>properly</i> ... )"}],"answers":[{"comments":[{"owner":{"account_id":1308175,"reputation":21,"user_id":1256716,"display_name":"raul_herranz"},"score":0,"creation_date":1342882962,"post_id":11589157,"comment_id":15342613,"body_markdown":"And do I need to create the root directory (&quot;/&quot; or &quot;./&quot;)?","body":"And do I need to create the root directory (&quot;/&quot; or &quot;./&quot;)?"},{"owner":{"account_id":1675090,"reputation":176,"user_id":1540822,"display_name":"Pareshkumar"},"score":0,"creation_date":1342894847,"post_id":11589157,"comment_id":15345045,"body_markdown":"No the zip file name is usually used when zip unzip. You can creat the zip and safly rename the file to anything, but unzipping will use the new name. We use to append time, processedby, state and have the file name reflect the current state and history in the file name.","body":"No the zip file name is usually used when zip unzip. You can creat the zip and safly rename the file to anything, but unzipping will use the new name. We use to append time, processedby, state and have the file name reflect the current state and history in the file name."},{"owner":{"account_id":1675090,"reputation":176,"user_id":1540822,"display_name":"Pareshkumar"},"score":0,"creation_date":1342895219,"post_id":11589157,"comment_id":15345128,"body_markdown":"Good luck hope you can nail it. Also it may not matter but I did have issues if did a write with all the data at once, it&#39;s a blocking call so if your zipping a 200Mb image your app can freezz for a bit.  I never had problem after I started to read/write 1024 bytes at a time.","body":"Good luck hope you can nail it. Also it may not matter but I did have issues if did a write with all the data at once, it&#39;s a blocking call so if your zipping a 200Mb image your app can freezz for a bit.  I never had problem after I started to read/write 1024 bytes at a time."},{"owner":{"account_id":1308175,"reputation":21,"user_id":1256716,"display_name":"raul_herranz"},"score":0,"creation_date":1342913436,"post_id":11589157,"comment_id":15348426,"body_markdown":"right now I&#39;m creating the following entries:\n\n&#183; &quot;mimetype&quot;\n&#183; &quot;Thumbnails/&quot;\n&#183; &quot;META-INF/&quot;\n&#183; &quot;META-INF/manifest.xml&quot;\n&#183; &quot;content.xml&quot;\n&#183; &quot;styles.xml&quot;\n&#183; &quot;meta.xml&quot;\n&#183; &quot;settings.xml&quot;\n&#183; &quot;Thumbnails/thumbnail.png&quot;\n\n...but I still have the same problem :(","body":"right now I&#39;m creating the following entries:  &#183; &quot;mimetype&quot; &#183; &quot;Thumbnails/&quot; &#183; &quot;META-INF/&quot; &#183; &quot;META-INF/manifest.xml&quot; &#183; &quot;content.xml&quot; &#183; &quot;styles.xml&quot; &#183; &quot;meta.xml&quot; &#183; &quot;settings.xml&quot; &#183; &quot;Thumbnails/thumbnail.png&quot;  ...but I still have the same problem :("},{"owner":{"account_id":1675090,"reputation":176,"user_id":1540822,"display_name":"Pareshkumar"},"score":0,"creation_date":1342915218,"post_id":11589157,"comment_id":15348627,"body_markdown":"I am not near my laptop and can&#39;t scroll through my code, but check this out it&#39;s good as is gets, you should be able to use it as is. Just besure to get mime file as the first entry.","body":"I am not near my laptop and can&#39;t scroll through my code, but check this out it&#39;s good as is gets, you should be able to use it as is. Just besure to get mime file as the first entry."},{"owner":{"account_id":1675090,"reputation":176,"user_id":1540822,"display_name":"Pareshkumar"},"score":0,"creation_date":1342915710,"post_id":11589157,"comment_id":15348687,"body_markdown":"Oh I guess I should supply what to check out: http://www.avajava.com/tutorials/lessons/how-do-i-zip-a-directory-and-all-its-contents.html","body":"Oh I guess I should supply what to check out: <a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-zip-a-directory-and-all-its-contents.html\" rel=\"nofollow noreferrer\">avajava.com/tutorials/lessons/&hellip;</a>"},{"owner":{"account_id":1675090,"reputation":176,"user_id":1540822,"display_name":"Pareshkumar"},"score":0,"creation_date":1342916223,"post_id":11589157,"comment_id":15348744,"body_markdown":"Oh and I don&#39;t think you should be writing any bytes or even call the zip.write( bytes ) when your processing a directory entry. As as the output shoes from my prior samples of the zipped content you just need to ensure paths are relative and your not over shooting your writes with extra or not supplying the amount of bytes you are asking to be placed by write call.  If you don&#39;t have anything sensative data in your oo doc you can email the zip your ending up with and send it over with fixing it trying to open it.  Paresh@kuyash.com","body":"Oh and I don&#39;t think you should be writing any bytes or even call the zip.write( bytes ) when your processing a directory entry. As as the output shoes from my prior samples of the zipped content you just need to ensure paths are relative and your not over shooting your writes with extra or not supplying the amount of bytes you are asking to be placed by write call.  If you don&#39;t have anything sensative data in your oo doc you can email the zip your ending up with and send it over with fixing it trying to open it.  Paresh@kuyash.com"},{"owner":{"account_id":1675090,"reputation":176,"user_id":1540822,"display_name":"Pareshkumar"},"score":0,"creation_date":1342917682,"post_id":11589157,"comment_id":15348926,"body_markdown":"Oh and one more quick though your path as a string your passing to ZipEntey( path ) is that &quot;/home/user/you/content2compress/content.xml&quot; or is it &quot;context.xml&quot; ? Hope your chopping everything up to the content2compress/ including the / after root dir. So you shouldn&#39;t have &quot;/content.xml&quot; as the zipEntey name or the path passed in.","body":"Oh and one more quick though your path as a string your passing to ZipEntey( path ) is that &quot;/home/user/you/content2compress/content.xml&quot; or is it &quot;context.xml&quot; ? Hope your chopping everything up to the content2compress/ including the / after root dir. So you shouldn&#39;t have &quot;/content.xml&quot; as the zipEntey name or the path passed in."},{"owner":{"account_id":1308175,"reputation":21,"user_id":1256716,"display_name":"raul_herranz"},"score":0,"creation_date":1342998690,"post_id":11589157,"comment_id":15362173,"body_markdown":"I have sent you a sample odt file created with my code..., If you have an idea... Thanks!","body":"I have sent you a sample odt file created with my code..., If you have an idea... Thanks!"},{"owner":{"account_id":1675090,"reputation":176,"user_id":1540822,"display_name":"Pareshkumar"},"score":0,"creation_date":1343699263,"post_id":11589157,"comment_id":15568904,"body_markdown":"@raul_herranz Hay, Did you get this working properly? I got your first email but I have not seen a second email with a new odt file.  Sorry I haven&#39;t followed up on this been a little busy.","body":"@raul_herranz Hay, Did you get this working properly? I got your first email but I have not seen a second email with a new odt file.  Sorry I haven&#39;t followed up on this been a little busy."},{"owner":{"account_id":1308175,"reputation":21,"user_id":1256716,"display_name":"raul_herranz"},"score":0,"creation_date":1343868000,"post_id":11589157,"comment_id":15629723,"body_markdown":"here is my answer for your question &quot;how big of a buffer are you using to write to your zipoutputstream?&quot;:\n\nI have tried with different buffer sizes: 1024, 2048, 4096 and with the complete files without buffering... and I allways get the same different size after zip the files...","body":"here is my answer for your question &quot;how big of a buffer are you using to write to your zipoutputstream?&quot;:  I have tried with different buffer sizes: 1024, 2048, 4096 and with the complete files without buffering... and I allways get the same different size after zip the files..."}],"tags":[],"owner":{"account_id":1675090,"reputation":176,"user_id":1540822,"display_name":"Pareshkumar"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342840386,"creation_date":1342840386,"answer_id":11589157,"question_id":11588164,"body_markdown":"    **I don&#39;t see a ZipEntry for the Directory META-INF/ to be added in your list of files, is the manifest.xml file ending up in the root directory? then again, that&#39;s not the problem I guessing.**\r\n    \r\n    &gt; 1. &quot;mimetype&quot; (for this file, I set the ZipEntry method to STORED)\r\n    &gt; 2. &quot;manifest.xml&quot; in a subfolder called &quot;META-INF&quot; (META-INF/manifest.xml)\r\n    &gt; 3. &quot;content.xml&quot;\r\n    &gt; 4. &quot;styles.xml&quot;\r\n    &gt; 5. &quot;meta.xml&quot;\r\n    &gt; 6. &quot;thumbnail.png&quot; in a subfolder called &quot;Thumbnails&quot; (&quot;Thumbnails/thumbnail.png&quot;)\r\n    &gt; 7. &quot;settings.xml&quot;\r\n    \r\n    *That&#39;s why OO is freaking out for a moment and the and when you open it in winrar, winZip or any other zip utility and re-zip it, the utility will create the entry for the directories in the zipFile. by noticing that the file URL conforms to a valid path on the current OS, I beat if you took the bad zip file with not directory entries and opened in OO it may not be able to recover because the File.Separator is leaning the other way.*\r\n    \r\n    *So In the case where you open it right in OO and it can&#39;t determine what type of content its opening maybe because it can&#39;t locate the manifest.xml which it would be expecting to unpack into the META-INF/ directory.*\r\n    \r\n    *This causes a chain side effect. So when files that are inside directories are just seen as files with path &quot;Configurations2/accelerator/current.xml&quot; for example.  But because the Name or the String Representation of the Path does not include actual folders, its just a string that looks like a path and so OO thinks &quot;Configurations2/accelerator/current.xml&quot; is the name of the file. It does not recognize it as two directories with a file init.*\r\n    \r\n    \r\n    **so why does zip utility or OO it self fix it at some point?**\r\n    \r\n    *what&#39;s most likely going on is when OO unpacks the files tries to find the manifest.xml named entry, but it cant find it there is a &quot;META-INF/manifest.xml&quot; named entry or resource but it does a compare == 0 and withInString to find the keys.*\r\n    \r\n    *And this gets fixed when the application(s) write the entry &quot;META-INF/manifest.xml&quot; back into a zipped file, it because of the &quot;/&quot; knows that this is a path that contains directories and adds the directories as entries in the zip file, so when it reopens or when it recovers by trying to save-reload the document it now has a directory META-INF/ as a entry it adds that first then the manifest.xml file into that dir and the ODF structure is what it likes*\r\n    \r\n    **Important: When Adding files Images, Data, Video, Audio or any type you should either: \r\n    - Create a ZipEntry for each folder in the path. for /MyCustomImgDir/Trip/swimming.png\r\n         -- Entry Name: MyCustomImgDir/ should be added as a directory entry\r\n         -- and Entry Name: MyCustomImgDir/Trip/ should be added another directory entry\r\n    - OR you can add the file in the Meta-Inf/manifest.xml file and provide the full-path location so, OO can find-and-put it in the proper place.\r\n    \r\n     \r\n    **********************************************************************************\r\n    * Optianl Reading for more detail if you&#39;re not familir with zip files and paths *\r\n    **********************************************************************************\r\n    *  Why the below section? - I spent many years working on a platform that used   *\r\n    *                           the ODF format, when the API was limited and we were *\r\n    *                           and the only way to do many things was to rip aprt the*\r\n    *                            xml and add-delete-modify-move around the bytes all over*\r\n    *                           Major pain in the butt, I just want to same someonea few weeks*\r\n    *                           heck. (I can say that right?)\r\n    **********************************************************************************\r\n    \r\n    \r\n    So to further discuss and more details, Ex: I have a file.ods and when I list the contents of the file below is what I get with 15 files\r\n    \r\n    kumar@PareshMacBookPro~/temp/eKits/variableData&gt;unzip -l ../variabledata.ods \r\n    Archive:  ../variabledata.ods\r\n      Length     Date   Time    Name\r\n     --------    ----   ----    ----\r\n           46  04-11-08 18:36   mimetype\r\n            0  04-11-08 18:36   Configurations2/statusbar/\r\n            0  04-11-08 18:36   Configurations2/accelerator/current.xml\r\n            0  04-11-08 18:36   Configurations2/floater/\r\n            0  04-11-08 18:36   Configurations2/popupmenu/\r\n            0  04-11-08 18:36   Configurations2/progressbar/\r\n            0  04-11-08 18:36   Configurations2/menubar/\r\n            0  04-11-08 18:36   Configurations2/toolbar/\r\n            0  04-11-08 18:36   Configurations2/images/Bitmaps/\r\n        61403  04-11-08 18:36   content.xml\r\n         6909  04-11-08 18:36   styles.xml\r\n         1037  04-11-08 18:36   meta.xml\r\n         1355  04-11-08 18:36   Thumbnails/thumbnail.png\r\n         7668  04-11-08 18:36   settings.xml\r\n         1873  04-11-08 18:36   META-INF/manifest.xml\r\n     --------                   -------\r\n        80291                   15 files\r\n    \r\n    \r\n    *****************************************************************************\r\n    and Unziping it produces: (15 files, like it listed)\r\n    \r\n    kumar@PareshMacBookPro~/temp/eKits&gt;unzip -d variabledata variabledata.ods\r\n    Archive:  variabledata.ods\r\n     extracting:/mimetype   \r\n       creating:/Configurations2/statusbar/\r\n      inflating:/Configurations2/accelerator/current.xml  \r\n       creating:/Configurations2/floater/\r\n       creating:/Configurations2/popupmenu/\r\n       creating:/Configurations2/progressbar/\r\n       creating:/Configurations2/menubar/\r\n       creating:/Configurations2/toolbar/\r\n       creating:/Configurations2/images/Bitmaps/\r\n      inflating:/content.xml  \r\n      inflating:/styles.xml  \r\n     extracting:/meta.xml   \r\n      inflating:/Thumbnails/thumbnail.png  \r\n      inflating:/settings.xml  \r\n      inflating:/META-INF/manifest.xml\r\n    \r\n    *****************************************************************************\r\n    so from my unzipped files and folders I rezip it without any change and looking at results show:\r\n    \r\n    kumar@PareshMacBookPro~/temp/eKits/variableData&gt;zip -ru newDocZip.zip *\r\n    \tzip warning: newDocZip.zip not found or empty\r\n      adding: Configurations2/ (stored 0%)\r\n      adding: Configurations2/accelerator/ (stored 0%)\r\n      adding: Configurations2/accelerator/current.xml (stored 0%)\r\n      adding: Configurations2/floater/ (stored 0%)\r\n      adding: Configurations2/images/ (stored 0%)\r\n      adding: Configurations2/images/Bitmaps/ (stored 0%)\r\n      adding: Configurations2/menubar/ (stored 0%)\r\n      adding: Configurations2/popupmenu/ (stored 0%)\r\n      adding: Configurations2/progressbar/ (stored 0%)\r\n      adding: Configurations2/statusbar/ (stored 0%)\r\n      adding: Configurations2/toolbar/ (stored 0%)\r\n      adding: META-INF/ (stored 0%)\r\n      adding: META-INF/manifest.xml (deflated 83%)\r\n      adding: Thumbnails/ (stored 0%)\r\n      adding: Thumbnails/thumbnail.png (deflated 44%)\r\n      adding: content.xml (deflated 89%)\r\n      adding: meta.xml (deflated 59%)\r\n      adding: mimetype (deflated 4%)\r\n      adding: settings.xml (deflated 87%)\r\n      adding: styles.xml (deflated 78%)\r\n    \r\n    ******************************************************************************\r\n    *****now there are 20 entries*******************\r\n    Why OO does not include a ZipEntry for folder that are in the middle of a path:\r\n    \r\n    Example there is an entry at: Configurations2/accelerator/current.xml\r\n    but you do not see entries for directories:\r\n     - Configurations2/\r\n    and\r\n     - Configurations2/accelerator\r\n    Why Because it know when it keeps \r\n    \r\n    ******************************************************************************\r\n    \r\n    ** Notice that mimetype is the first ZipEntry in the ZipFile created by OO and its anywhere and where ever when created by a zip utility**\r\n    \r\n    *Notice the META-INF/ and Thumbnails/ other folders that are added in order (&lt;em&gt;parent dir before children&#39;s&lt;em&gt;)!*\r\n    \r\n    **So lets check out the mimetype of the .ods and .zip file with command line util:**\r\n    \r\n    kumar@PareshMacBookPro~/temp/eKits&gt;file --mime variabledata.ods \r\n    variabledata.ods: application/vnd.oasis.opendocument.spreadsheet; charset=binary\r\n    \r\n    *you see that the mimetype shows as a application/spreadsheet and when you do the same for the new zip file (just rezipped unzipped ods content by zip util no changes to paths or files) you get:*\r\n    ******************************************************************************\r\n    \r\n    kumar@PareshMacBookPro~/temp/eKits/variabledata&gt;file --mime newDoc.zip \r\n    newDoc.zip: application/zip; charset=binary\r\n    \r\n    *it&#39;s no loger a spreadsheet it is an actual zip file content type.*\r\n    ******************************************************************************\r\n    \r\n    *Also just for fun you may want to output the raw bytes in a command line or consol by just &#39;cat&#39; or &#39;head&#39; or &#39;print&#39; on the same files. You get trash but somethings there if look closer.*\r\n    ******************************************************************************\r\n    \r\n    \r\n    kumar@PareshMacBookPro~/temp/eKits/variabledata&gt;head ../variabledata.ods \r\n    PK???8?l9?.&lt;em&gt;mimetypeapplication/vnd.oasis.opendocument.spreadsheet&lt;em&gt;PK???8Configurations2/statusbar/???8&#39;\r\n    \r\n    **and re-zipped file, we&#39;ve lost the content-type header and much more.**\r\n    ******************************************************************************\r\n    \r\n    kumar@PareshMacBookPro~/temp/eKits/variabledata&gt;head newDoc.ods \r\n    PK\r\n    u??@Configurations2/UT\t??\tPF?\tPux\r\n                                               ?PK\r\n    \r\n    ******************************************************************************\r\n    ***What to watch out for***\r\n    ******************************************************************************\r\n    \r\n    **It is not nesserry to have the content-type of the zip file as the &lt;em&gt;mimetypeapplication/vnd.oasis.opendocument.spreadsheet&lt;em&gt; it can be &lt;em&gt;applicatoin/zip&lt;em&gt; and openOffice will still be able to use it. The content-type is important to have there and correct, but for OpenOffice-Documents its more important to have the mimetype file in the root dir and have the META-INF/manifest.xml file in the directory META-INF/.  \r\n    \r\n    - The application does not look at the extension to determine the file type the OS does to launch the linked application for that extension, and if there is non it tries to find the content-type from the file header and find the appropriate application to handel file. Note that you can assign .txt or .jpeg to open with openOffice and it will open it even though its not a zip file.\r\n    \r\n    - OO tries to start by looking at the file header to find the content-type first but it can live with out it.\r\n    \r\n    - It then tries to find manifest.xml file. It placed it there so it can trust it. From that file It makes a check list of stuff listed in the manifest.xml file and cross checks it against the actual files (ZipEntires) extracted from the ZippedFile.\r\n      &lt;em&gt;Listed directories in the manifest.xml that are not in the zipContent as entries won&#39;t cause a problem long as its not expecting a file in that directory.&lt;em&gt;\r\n    \r\n    - When it fails to read the file header (because its application/zip type), and the it does not have a mimetype.  It will wiggout and want to find out really bad what type this file is. Or if there is file (i.e. ZipEntry) missing or it thinks its missing becuase the name is full string literal with the full path it can&#39;t resolve it to a ZipEntry Name Key.  Even though, the real readable binary data is in the zip file, it will think something is wrong and ask to restore it but reproduce the zip content the best way it can.\r\n    \r\n    - The ODF file is a zip format file but it&#39;s picky and expect things to in a certain place.  **\r\n    \r\n    ******************************************************************************\r\n    **So whats the fix to not have this problem? Simply: You need to recursively walk the directories adding sub-dirs and files all of them.**\r\n    ******************************************************************************\r\n    \r\n    **In more detail:**\r\n    1. start at the root directory\r\n    2. RootDirectory.listfiles()\r\n    2a. if the entry from listfile() \r\n        2a-1) if aFile from the list is a real file then add that as the zipentry as you would\r\n          * then move on to the next item in your listfiles()\r\n        2a-2) if aFile from the list is a directory you need to add that as a entry in the zipfile as a dir by appending &quot;/&quot; at the end of the path.\r\n          * then again do a listfiles() on the directory to get files and dirs for the directory you just added and restart step 1. with the sub-directory as the RootDirectory and add its dirs and sub-dirs and files.\r\n    \r\n    ******************************************************************************\r\n    *  other note to keep in mind:\r\n    ******************************************************************************\r\n    ** Of course there is the matter of using the right Encoding for the xml files and other files.  Windows defualts to ios-8859-1 and Linux/Unix/Mac defaults to UTF-8 when new OutputSteams and writers are create. so if somethings working in nix and not winders, good place to look is at your streams**\r\n    ******************************************************************************\r\n    \r\n    Thanks, I hope you had as much fun reading this as I did writing it.  I just hope it makes sense.\r\n    \r\n    ps - sorry about the formatting job.\r\n\r\n\r\n\r\n","title":"When using ZipOutputStream to create an ODT file in java fails to open in OpenOffice","body":"<pre><code>**I don't see a ZipEntry for the Directory META-INF/ to be added in your list of files, is the manifest.xml file ending up in the root directory? then again, that's not the problem I guessing.**\n\n&gt; 1. \"mimetype\" (for this file, I set the ZipEntry method to STORED)\n&gt; 2. \"manifest.xml\" in a subfolder called \"META-INF\" (META-INF/manifest.xml)\n&gt; 3. \"content.xml\"\n&gt; 4. \"styles.xml\"\n&gt; 5. \"meta.xml\"\n&gt; 6. \"thumbnail.png\" in a subfolder called \"Thumbnails\" (\"Thumbnails/thumbnail.png\")\n&gt; 7. \"settings.xml\"\n\n*That's why OO is freaking out for a moment and the and when you open it in winrar, winZip or any other zip utility and re-zip it, the utility will create the entry for the directories in the zipFile. by noticing that the file URL conforms to a valid path on the current OS, I beat if you took the bad zip file with not directory entries and opened in OO it may not be able to recover because the File.Separator is leaning the other way.*\n\n*So In the case where you open it right in OO and it can't determine what type of content its opening maybe because it can't locate the manifest.xml which it would be expecting to unpack into the META-INF/ directory.*\n\n*This causes a chain side effect. So when files that are inside directories are just seen as files with path \"Configurations2/accelerator/current.xml\" for example.  But because the Name or the String Representation of the Path does not include actual folders, its just a string that looks like a path and so OO thinks \"Configurations2/accelerator/current.xml\" is the name of the file. It does not recognize it as two directories with a file init.*\n\n\n**so why does zip utility or OO it self fix it at some point?**\n\n*what's most likely going on is when OO unpacks the files tries to find the manifest.xml named entry, but it cant find it there is a \"META-INF/manifest.xml\" named entry or resource but it does a compare == 0 and withInString to find the keys.*\n\n*And this gets fixed when the application(s) write the entry \"META-INF/manifest.xml\" back into a zipped file, it because of the \"/\" knows that this is a path that contains directories and adds the directories as entries in the zip file, so when it reopens or when it recovers by trying to save-reload the document it now has a directory META-INF/ as a entry it adds that first then the manifest.xml file into that dir and the ODF structure is what it likes*\n\n**Important: When Adding files Images, Data, Video, Audio or any type you should either: \n- Create a ZipEntry for each folder in the path. for /MyCustomImgDir/Trip/swimming.png\n     -- Entry Name: MyCustomImgDir/ should be added as a directory entry\n     -- and Entry Name: MyCustomImgDir/Trip/ should be added another directory entry\n- OR you can add the file in the Meta-Inf/manifest.xml file and provide the full-path location so, OO can find-and-put it in the proper place.\n\n\n**********************************************************************************\n* Optianl Reading for more detail if you're not familir with zip files and paths *\n**********************************************************************************\n*  Why the below section? - I spent many years working on a platform that used   *\n*                           the ODF format, when the API was limited and we were *\n*                           and the only way to do many things was to rip aprt the*\n*                            xml and add-delete-modify-move around the bytes all over*\n*                           Major pain in the butt, I just want to same someonea few weeks*\n*                           heck. (I can say that right?)\n**********************************************************************************\n\n\nSo to further discuss and more details, Ex: I have a file.ods and when I list the contents of the file below is what I get with 15 files\n\nkumar@PareshMacBookPro~/temp/eKits/variableData&gt;unzip -l ../variabledata.ods \nArchive:  ../variabledata.ods\n  Length     Date   Time    Name\n --------    ----   ----    ----\n       46  04-11-08 18:36   mimetype\n        0  04-11-08 18:36   Configurations2/statusbar/\n        0  04-11-08 18:36   Configurations2/accelerator/current.xml\n        0  04-11-08 18:36   Configurations2/floater/\n        0  04-11-08 18:36   Configurations2/popupmenu/\n        0  04-11-08 18:36   Configurations2/progressbar/\n        0  04-11-08 18:36   Configurations2/menubar/\n        0  04-11-08 18:36   Configurations2/toolbar/\n        0  04-11-08 18:36   Configurations2/images/Bitmaps/\n    61403  04-11-08 18:36   content.xml\n     6909  04-11-08 18:36   styles.xml\n     1037  04-11-08 18:36   meta.xml\n     1355  04-11-08 18:36   Thumbnails/thumbnail.png\n     7668  04-11-08 18:36   settings.xml\n     1873  04-11-08 18:36   META-INF/manifest.xml\n --------                   -------\n    80291                   15 files\n\n\n*****************************************************************************\nand Unziping it produces: (15 files, like it listed)\n\nkumar@PareshMacBookPro~/temp/eKits&gt;unzip -d variabledata variabledata.ods\nArchive:  variabledata.ods\n extracting:/mimetype   \n   creating:/Configurations2/statusbar/\n  inflating:/Configurations2/accelerator/current.xml  \n   creating:/Configurations2/floater/\n   creating:/Configurations2/popupmenu/\n   creating:/Configurations2/progressbar/\n   creating:/Configurations2/menubar/\n   creating:/Configurations2/toolbar/\n   creating:/Configurations2/images/Bitmaps/\n  inflating:/content.xml  \n  inflating:/styles.xml  \n extracting:/meta.xml   \n  inflating:/Thumbnails/thumbnail.png  \n  inflating:/settings.xml  \n  inflating:/META-INF/manifest.xml\n\n*****************************************************************************\nso from my unzipped files and folders I rezip it without any change and looking at results show:\n\nkumar@PareshMacBookPro~/temp/eKits/variableData&gt;zip -ru newDocZip.zip *\n    zip warning: newDocZip.zip not found or empty\n  adding: Configurations2/ (stored 0%)\n  adding: Configurations2/accelerator/ (stored 0%)\n  adding: Configurations2/accelerator/current.xml (stored 0%)\n  adding: Configurations2/floater/ (stored 0%)\n  adding: Configurations2/images/ (stored 0%)\n  adding: Configurations2/images/Bitmaps/ (stored 0%)\n  adding: Configurations2/menubar/ (stored 0%)\n  adding: Configurations2/popupmenu/ (stored 0%)\n  adding: Configurations2/progressbar/ (stored 0%)\n  adding: Configurations2/statusbar/ (stored 0%)\n  adding: Configurations2/toolbar/ (stored 0%)\n  adding: META-INF/ (stored 0%)\n  adding: META-INF/manifest.xml (deflated 83%)\n  adding: Thumbnails/ (stored 0%)\n  adding: Thumbnails/thumbnail.png (deflated 44%)\n  adding: content.xml (deflated 89%)\n  adding: meta.xml (deflated 59%)\n  adding: mimetype (deflated 4%)\n  adding: settings.xml (deflated 87%)\n  adding: styles.xml (deflated 78%)\n\n******************************************************************************\n*****now there are 20 entries*******************\nWhy OO does not include a ZipEntry for folder that are in the middle of a path:\n\nExample there is an entry at: Configurations2/accelerator/current.xml\nbut you do not see entries for directories:\n - Configurations2/\nand\n - Configurations2/accelerator\nWhy Because it know when it keeps \n\n******************************************************************************\n\n** Notice that mimetype is the first ZipEntry in the ZipFile created by OO and its anywhere and where ever when created by a zip utility**\n\n*Notice the META-INF/ and Thumbnails/ other folders that are added in order (&lt;em&gt;parent dir before children's&lt;em&gt;)!*\n\n**So lets check out the mimetype of the .ods and .zip file with command line util:**\n\nkumar@PareshMacBookPro~/temp/eKits&gt;file --mime variabledata.ods \nvariabledata.ods: application/vnd.oasis.opendocument.spreadsheet; charset=binary\n\n*you see that the mimetype shows as a application/spreadsheet and when you do the same for the new zip file (just rezipped unzipped ods content by zip util no changes to paths or files) you get:*\n******************************************************************************\n\nkumar@PareshMacBookPro~/temp/eKits/variabledata&gt;file --mime newDoc.zip \nnewDoc.zip: application/zip; charset=binary\n\n*it's no loger a spreadsheet it is an actual zip file content type.*\n******************************************************************************\n\n*Also just for fun you may want to output the raw bytes in a command line or consol by just 'cat' or 'head' or 'print' on the same files. You get trash but somethings there if look closer.*\n******************************************************************************\n\n\nkumar@PareshMacBookPro~/temp/eKits/variabledata&gt;head ../variabledata.ods \nPK???8?l9?.&lt;em&gt;mimetypeapplication/vnd.oasis.opendocument.spreadsheet&lt;em&gt;PK???8Configurations2/statusbar/???8'\n\n**and re-zipped file, we've lost the content-type header and much more.**\n******************************************************************************\n\nkumar@PareshMacBookPro~/temp/eKits/variabledata&gt;head newDoc.ods \nPK\nu??@Configurations2/UT  ??  PF? Pux\n                                           ?PK\n\n******************************************************************************\n***What to watch out for***\n******************************************************************************\n\n**It is not nesserry to have the content-type of the zip file as the &lt;em&gt;mimetypeapplication/vnd.oasis.opendocument.spreadsheet&lt;em&gt; it can be &lt;em&gt;applicatoin/zip&lt;em&gt; and openOffice will still be able to use it. The content-type is important to have there and correct, but for OpenOffice-Documents its more important to have the mimetype file in the root dir and have the META-INF/manifest.xml file in the directory META-INF/.  \n\n- The application does not look at the extension to determine the file type the OS does to launch the linked application for that extension, and if there is non it tries to find the content-type from the file header and find the appropriate application to handel file. Note that you can assign .txt or .jpeg to open with openOffice and it will open it even though its not a zip file.\n\n- OO tries to start by looking at the file header to find the content-type first but it can live with out it.\n\n- It then tries to find manifest.xml file. It placed it there so it can trust it. From that file It makes a check list of stuff listed in the manifest.xml file and cross checks it against the actual files (ZipEntires) extracted from the ZippedFile.\n  &lt;em&gt;Listed directories in the manifest.xml that are not in the zipContent as entries won't cause a problem long as its not expecting a file in that directory.&lt;em&gt;\n\n- When it fails to read the file header (because its application/zip type), and the it does not have a mimetype.  It will wiggout and want to find out really bad what type this file is. Or if there is file (i.e. ZipEntry) missing or it thinks its missing becuase the name is full string literal with the full path it can't resolve it to a ZipEntry Name Key.  Even though, the real readable binary data is in the zip file, it will think something is wrong and ask to restore it but reproduce the zip content the best way it can.\n\n- The ODF file is a zip format file but it's picky and expect things to in a certain place.  **\n\n******************************************************************************\n**So whats the fix to not have this problem? Simply: You need to recursively walk the directories adding sub-dirs and files all of them.**\n******************************************************************************\n\n**In more detail:**\n1. start at the root directory\n2. RootDirectory.listfiles()\n2a. if the entry from listfile() \n    2a-1) if aFile from the list is a real file then add that as the zipentry as you would\n      * then move on to the next item in your listfiles()\n    2a-2) if aFile from the list is a directory you need to add that as a entry in the zipfile as a dir by appending \"/\" at the end of the path.\n      * then again do a listfiles() on the directory to get files and dirs for the directory you just added and restart step 1. with the sub-directory as the RootDirectory and add its dirs and sub-dirs and files.\n\n******************************************************************************\n*  other note to keep in mind:\n******************************************************************************\n** Of course there is the matter of using the right Encoding for the xml files and other files.  Windows defualts to ios-8859-1 and Linux/Unix/Mac defaults to UTF-8 when new OutputSteams and writers are create. so if somethings working in nix and not winders, good place to look is at your streams**\n******************************************************************************\n\nThanks, I hope you had as much fun reading this as I did writing it.  I just hope it makes sense.\n\nps - sorry about the formatting job.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1308175,"reputation":21,"user_id":1256716,"display_name":"raul_herranz"},"score":0,"creation_date":1343381295,"post_id":11606957,"comment_id":15491834,"body_markdown":"I did send you an odt file created with OpenOffice and an odt file created with my code after coding your fixes... as you can see, there are some differences in the size of some compressed elements... do you know why? maybe a problem with the java zip implementation?","body":"I did send you an odt file created with OpenOffice and an odt file created with my code after coding your fixes... as you can see, there are some differences in the size of some compressed elements... do you know why? maybe a problem with the java zip implementation?"}],"tags":[],"owner":{"account_id":1675090,"reputation":176,"user_id":1540822,"display_name":"Pareshkumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343021698,"creation_date":1343021698,"answer_id":11606957,"question_id":11588164,"body_markdown":"Raul,\r\n\r\nLooks like your zip file is intact and correct, so its not the zip process that causing the problem.\r\n\r\nThe problem is that the doctype dtd location is invalid when your process creates the xml file for maniest.xml file.  \r\n\r\nThe line in manifest.xml:\r\n\r\n&lt;!DOCTYPE manifest:manifest PUBLIC &quot;-//OpenOffice.org//DTD Manifest 1.0//EN&quot; &quot;Manifest.dtd&quot;&gt;\r\n\r\nAnd also you have a manifest.rdf file in the root of the zip which throwing OO off when trying to put stuff back together.  I don&#39;t know process you are using to create the OpenOffice document XML output, but thats where the problem is.  You need to make sure the path for the DTD is correct or remove the DOCTYPE from the XML files.\r\n\r\nHere is how you can manually fix the OpenOffice ODT file:\r\n\r\n - Remove the Manifest.rdf from zip root dir\r\n - Remove the DOCTYPE line from META-INF/menifest.xml\r\n - Add the manifest entries for the directories listed below (Note the difference in the Configurations2 entry)\r\n\r\n\r\n   &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/statusbar/&quot;/&gt;\r\n\r\n &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/accelerator/current.xml&quot;/&gt;\r\n\r\n &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/accelerator/&quot;/&gt;\r\n\r\n &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/floater/&quot;/&gt;\r\n\r\n &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/popupmenu/&quot;/&gt;\r\n\r\n &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/progressbar/&quot;/&gt;\r\n\r\n &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/toolpanel/&quot;/&gt;\r\n\r\n &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/menubar/&quot;/&gt;\r\n\r\n &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/toolbar/&quot;/&gt;\r\n\r\n &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/images/Bitmaps/&quot;/&gt;\r\n\r\n &lt; manifest:file-entry manifest:media-type=&quot;&quot; manifest:full-path=&quot;Configurations2/images/&quot;/&gt;\r\n\r\n**&lt; manifest:file-entry manifest:media-type=&quot;application/vnd.sun.xml.ui.configuration&quot; manifest:full-path=&quot;Configurations2/&quot;/&gt;**\r\n\r\n\r\nI think the winrar may be taking care of fixing the dtd path issues for you. And so does open office when it repairs it. OO can handel not having the DTD defined, it know what to look for but it doesn&#39;t like bad DTD&#39;s\r\n\r\nHope that fixes it for you.  I like to know what your using to write the XML though.","title":"When using ZipOutputStream to create an ODT file in java fails to open in OpenOffice","body":"<p>Raul,</p>\n\n<p>Looks like your zip file is intact and correct, so its not the zip process that causing the problem.</p>\n\n<p>The problem is that the doctype dtd location is invalid when your process creates the xml file for maniest.xml file.  </p>\n\n<p>The line in manifest.xml:</p>\n\n<p></p>\n\n<p>And also you have a manifest.rdf file in the root of the zip which throwing OO off when trying to put stuff back together.  I don't know process you are using to create the OpenOffice document XML output, but thats where the problem is.  You need to make sure the path for the DTD is correct or remove the DOCTYPE from the XML files.</p>\n\n<p>Here is how you can manually fix the OpenOffice ODT file:</p>\n\n<ul>\n<li>Remove the Manifest.rdf from zip root dir</li>\n<li>Remove the DOCTYPE line from META-INF/menifest.xml</li>\n<li><p>Add the manifest entries for the directories listed below (Note the difference in the Configurations2 entry)</p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/statusbar/\"/></p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/accelerator/current.xml\"/></p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/accelerator/\"/></p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/floater/\"/></p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/popupmenu/\"/></p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/progressbar/\"/></p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/toolpanel/\"/></p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/menubar/\"/></p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/toolbar/\"/></p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/images/Bitmaps/\"/></p>\n\n<p>&lt; manifest:file-entry manifest:media-type=\"\" manifest:full-path=\"Configurations2/images/\"/></p></li>\n</ul>\n\n<p><strong>&lt; manifest:file-entry manifest:media-type=\"application/vnd.sun.xml.ui.configuration\" manifest:full-path=\"Configurations2/\"/></strong></p>\n\n<p>I think the winrar may be taking care of fixing the dtd path issues for you. And so does open office when it repairs it. OO can handel not having the DTD defined, it know what to look for but it doesn't like bad DTD's</p>\n\n<p>Hope that fixes it for you.  I like to know what your using to write the XML though.</p>\n"},{"tags":[],"owner":{"account_id":1412215,"reputation":11,"user_id":1338586,"display_name":"Bobs Dogs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360860517,"creation_date":1360860517,"answer_id":14879885,"question_id":11588164,"body_markdown":"I&#39;ve found that the problem can be on Windows where you provide backslashes in the filename you pass to the ZipEntry constructor.\r\nI change them to forward slashes and after that OpenOffice no longer complains about the odt being corrupt","title":"When using ZipOutputStream to create an ODT file in java fails to open in OpenOffice","body":"<p>I've found that the problem can be on Windows where you provide backslashes in the filename you pass to the ZipEntry constructor.\nI change them to forward slashes and after that OpenOffice no longer complains about the odt being corrupt</p>\n"},{"tags":[],"owner":{"account_id":8238744,"reputation":459,"user_id":6197002,"display_name":"haoxiqiang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681714289,"creation_date":1681714289,"answer_id":76032377,"question_id":11588164,"body_markdown":"in my case. I replace \r\n```\r\nzos.flush();\r\nzos.closeEntry();\r\n```\r\nby =&gt; \r\n```\r\nzos.finish()\r\n```\r\n","title":"When using ZipOutputStream to create an ODT file in java fails to open in OpenOffice","body":"<p>in my case. I replace</p>\n<pre><code>zos.flush();\nzos.closeEntry();\n</code></pre>\n<p>by =&gt;</p>\n<pre><code>zos.finish()\n</code></pre>\n"}],"owner":{"account_id":1308175,"reputation":21,"user_id":1256716,"display_name":"raul_herranz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1681714289,"creation_date":1342826857,"question_id":11588164,"body_markdown":"I have the following method to add zip entries to a ZipOutputStream:\r\n\r\n        private void addFile(String filename, byte[] bytes, ZipOutputStream zos, boolean encrypt) throws IOException {\r\n            ZipEntry entry = new ZipEntry(filename);\r\n            if (encrypt) {\r\n                entry.setMethod(ZipEntry.DEFLATED);\r\n            } else {\r\n                entry.setMethod(ZipEntry.STORED);\r\n                CRC32 crc32 = new CRC32();\r\n                crc32.update(bytes);\r\n                entry.setCrc(crc32.getValue());\r\n                entry.setSize(bytes.length);\r\n                entry.setCompressedSize(bytes.length);\r\n            }\r\n            zos.putNextEntry(entry);\r\n            zos.write(bytes);\r\n            zos.flush();\r\n            zos.closeEntry();\r\n        }\r\n\r\n...and I use it opening a new ZipOutputStream (`ZipOutputStream zos = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(new File(path))));`), setting its method to DEFLATED (`zos.setMethod(ZipOutputStream.DEFLATED);`) and then calling for the following files (in order):\r\n\r\n 1. &quot;mimetype&quot; (for this file, I set the ZipEntry method to STORED)\r\n 2. &quot;manifest.xml&quot; in a subfolder called &quot;META-INF&quot; (META-INF/manifest.xml)\r\n 3. &quot;content.xml&quot;\r\n 4. &quot;styles.xml&quot;\r\n 5. &quot;meta.xml&quot;\r\n 6. &quot;thumbnail.png&quot; in a subfolder called &quot;Thumbnails&quot; (&quot;Thumbnails/thumbnail.png&quot;)\r\n 7. &quot;settings.xml&quot;\r\n\r\n...finally, I call the close method for the ZipOutputStream (`zos.close();`).\r\n\r\nIf I try to open it directly with OpenOffice, it ask me what kind of file I&#39;m trying to open, it says that the file is corrupted and finally it opens the file... but If I unzip the file (I&#39;m using winrar) and then I zip again with the same tool (winrar, I mean) without any change, OpenOffice is able to open without any problem the document...\r\n\r\nAny help? Thanks in advance!","title":"When using ZipOutputStream to create an ODT file in java fails to open in OpenOffice","body":"<p>I have the following method to add zip entries to a ZipOutputStream:</p>\n\n<pre><code>    private void addFile(String filename, byte[] bytes, ZipOutputStream zos, boolean encrypt) throws IOException {\n        ZipEntry entry = new ZipEntry(filename);\n        if (encrypt) {\n            entry.setMethod(ZipEntry.DEFLATED);\n        } else {\n            entry.setMethod(ZipEntry.STORED);\n            CRC32 crc32 = new CRC32();\n            crc32.update(bytes);\n            entry.setCrc(crc32.getValue());\n            entry.setSize(bytes.length);\n            entry.setCompressedSize(bytes.length);\n        }\n        zos.putNextEntry(entry);\n        zos.write(bytes);\n        zos.flush();\n        zos.closeEntry();\n    }\n</code></pre>\n\n<p>...and I use it opening a new ZipOutputStream (<code>ZipOutputStream zos = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(new File(path))));</code>), setting its method to DEFLATED (<code>zos.setMethod(ZipOutputStream.DEFLATED);</code>) and then calling for the following files (in order):</p>\n\n<ol>\n<li>\"mimetype\" (for this file, I set the ZipEntry method to STORED)</li>\n<li>\"manifest.xml\" in a subfolder called \"META-INF\" (META-INF/manifest.xml)</li>\n<li>\"content.xml\"</li>\n<li>\"styles.xml\"</li>\n<li>\"meta.xml\"</li>\n<li>\"thumbnail.png\" in a subfolder called \"Thumbnails\" (\"Thumbnails/thumbnail.png\")</li>\n<li>\"settings.xml\"</li>\n</ol>\n\n<p>...finally, I call the close method for the ZipOutputStream (<code>zos.close();</code>).</p>\n\n<p>If I try to open it directly with OpenOffice, it ask me what kind of file I'm trying to open, it says that the file is corrupted and finally it opens the file... but If I unzip the file (I'm using winrar) and then I zip again with the same tool (winrar, I mean) without any change, OpenOffice is able to open without any problem the document...</p>\n\n<p>Any help? Thanks in advance!</p>\n"},{"tags":["java","sorting","arrays"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1384448742,"post_id":19983818,"comment_id":29750201,"body_markdown":"Have you seek for `Collections#sort`?","body":"Have you seek for <code>Collections#sort</code>?"},{"owner":{"account_id":2191523,"reputation":6723,"user_id":1938435,"accept_rate":92,"display_name":"PurkkaKoodari"},"score":1,"creation_date":1384448762,"post_id":19983818,"comment_id":29750216,"body_markdown":"I would make my own `Comparator` to process the string in two parts.","body":"I would make my own <code>Comparator</code> to process the string in two parts."},{"owner":{"account_id":1873047,"reputation":473,"user_id":1694873,"accept_rate":65,"display_name":"user1694873"},"score":0,"creation_date":1384448939,"post_id":19983818,"comment_id":29750327,"body_markdown":"@Pietu1998 Could you point to any similar comparator example for reference? Thanks","body":"@Pietu1998 Could you point to any similar comparator example for reference? Thanks"},{"owner":{"display_name":"user180100"},"score":1,"creation_date":1384449042,"post_id":19983818,"comment_id":29750391,"body_markdown":"possible duplicate of [Sort ArrayList of custom Objects by property](http://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property\">Sort ArrayList of custom Objects by property</a>"},{"owner":{"account_id":1873047,"reputation":473,"user_id":1694873,"accept_rate":65,"display_name":"user1694873"},"score":0,"creation_date":1384451261,"post_id":19983818,"comment_id":29751614,"body_markdown":"@RC Cheers I&#39;ll have a look","body":"@RC Cheers I&#39;ll have a look"}],"answers":[{"comments":[{"owner":{"account_id":3205495,"reputation":3179,"user_id":2706605,"accept_rate":89,"display_name":"Mengjun"},"score":1,"creation_date":1384450970,"post_id":19983963,"comment_id":29751472,"body_markdown":"@Pietu1998 - Thanks for the correction. Changes are made accordingly. :)","body":"@Pietu1998 - Thanks for the correction. Changes are made accordingly. :)"}],"tags":[],"owner":{"account_id":3205495,"reputation":3179,"user_id":2706605,"accept_rate":89,"display_name":"Mengjun"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384450929,"creation_date":1384449042,"answer_id":19983963,"question_id":19983818,"body_markdown":"You can use `Collections.sort` to sort the contents.\r\n\r\nIn the mean while, write a comparator for comparison, like,\r\n\r\n1 Write a Comparator\r\n\r\n    public class MyComparator implements Comparator {\r\n\r\n\t@Override\r\n\tpublic int compare(Object o1, Object o2) {\r\n\t\t\r\n\t\tString s1 = (String)o1;\r\n\t\tString s2 = (String)o2;\r\n\t\t//String part has 10 characters, It is fixed.\r\n\t\tString strPart1 = s1.substring(0,10); \r\n\t\tint intPart1 = Integer.valueOf(s1.substring(10));\r\n\t\t\r\n\t\tString strPart2 = s2.substring(0,10);\r\n\t\tint intPart2 = Integer.valueOf(s2.substring(10));\r\n\t\t\r\n\t\tint strCompareResult = strPart1.compareTo(strPart2);\r\n\t\tif(0 == strCompareResult )\r\n\t\t{\r\n\t\t\treturn intPart1 - intPart2;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn strCompareResult;\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n    \r\n2 Use `Collections.sort` and Comparator to complete the sorting\r\n\r\n        List&lt;String&gt; results = Arrays.asList(&quot;ABCD XYZ M1210&quot;, &quot;ABCD XYZ M149&quot;,\r\n\t\t\t\t&quot;ABCD XYZ M5130&quot;, &quot;ABCD XYZ N1420&quot;, &quot;ABCD XYZ T11299&quot;,\r\n\t\t\t\t&quot;ABCD XYZ S11044&quot;);\r\n\r\n\t\tSystem.out.println(&quot;Before sorting... ...&quot;);\r\n\t\tSystem.out.println(results);\r\n\r\n\t\tSystem.out.println(&quot;After sorting... ... &quot;);\r\n\t\tCollections.sort(results, new MyComparator());\r\n\t\tSystem.out.println(results);\r\n\r\nOutput in Console:\r\n\r\nBefore sorting... ...\r\n\r\n    [ABCD XYZ M1210, ABCD XYZ M149, ABCD XYZ M5130, ABCD XYZ N1420, ABCD XYZ T11299, ABCD XYZ S11044]\r\n\r\nAfter sorting... ... \r\n\r\n    [ABCD XYZ M149, ABCD XYZ M1210, ABCD XYZ M5130, ABCD XYZ N1420, ABCD XYZ S11044, ABCD XYZ T11299]","title":"Sort String Array by alphabet and then by number","body":"<p>You can use <code>Collections.sort</code> to sort the contents.</p>\n\n<p>In the mean while, write a comparator for comparison, like,</p>\n\n<p>1 Write a Comparator</p>\n\n<pre><code>public class MyComparator implements Comparator {\n\n@Override\npublic int compare(Object o1, Object o2) {\n\n    String s1 = (String)o1;\n    String s2 = (String)o2;\n    //String part has 10 characters, It is fixed.\n    String strPart1 = s1.substring(0,10); \n    int intPart1 = Integer.valueOf(s1.substring(10));\n\n    String strPart2 = s2.substring(0,10);\n    int intPart2 = Integer.valueOf(s2.substring(10));\n\n    int strCompareResult = strPart1.compareTo(strPart2);\n    if(0 == strCompareResult )\n    {\n        return intPart1 - intPart2;\n    }\n    else\n    {\n        return strCompareResult;\n    }\n}\n\n}\n</code></pre>\n\n<p>2 Use <code>Collections.sort</code> and Comparator to complete the sorting</p>\n\n<pre><code>    List&lt;String&gt; results = Arrays.asList(\"ABCD XYZ M1210\", \"ABCD XYZ M149\",\n            \"ABCD XYZ M5130\", \"ABCD XYZ N1420\", \"ABCD XYZ T11299\",\n            \"ABCD XYZ S11044\");\n\n    System.out.println(\"Before sorting... ...\");\n    System.out.println(results);\n\n    System.out.println(\"After sorting... ... \");\n    Collections.sort(results, new MyComparator());\n    System.out.println(results);\n</code></pre>\n\n<p>Output in Console:</p>\n\n<p>Before sorting... ...</p>\n\n<pre><code>[ABCD XYZ M1210, ABCD XYZ M149, ABCD XYZ M5130, ABCD XYZ N1420, ABCD XYZ T11299, ABCD XYZ S11044]\n</code></pre>\n\n<p>After sorting... ... </p>\n\n<pre><code>[ABCD XYZ M149, ABCD XYZ M1210, ABCD XYZ M5130, ABCD XYZ N1420, ABCD XYZ S11044, ABCD XYZ T11299]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384449080,"creation_date":1384449080,"answer_id":19983982,"question_id":19983818,"body_markdown":"    Arrays.sort(array, new Comparator&lt;String&gt;() {\r\n        @Override\r\n        public int compare(String s1, String s2) {\r\n            String stringPart1 = extractStringPart(s1); \r\n            String stringPart2 = extractStringPart(s2); \r\n            int result = stringPart1.compare(stringPart2);\r\n            if (result == 0) {\r\n                int intPart1 = extractIntPart(s1);\r\n                int intPart2 = extractIntPart(s2);\r\n                result = Integer.compare(intPart1, intPart2);\r\n            }\r\n            return result;\r\n        }\r\n    });\r\n\r\nThe two extract methods are left as an exercise. Read the javadoc for String and/or Matcher to find out how you could do.","title":"Sort String Array by alphabet and then by number","body":"<pre><code>Arrays.sort(array, new Comparator&lt;String&gt;() {\n    @Override\n    public int compare(String s1, String s2) {\n        String stringPart1 = extractStringPart(s1); \n        String stringPart2 = extractStringPart(s2); \n        int result = stringPart1.compare(stringPart2);\n        if (result == 0) {\n            int intPart1 = extractIntPart(s1);\n            int intPart2 = extractIntPart(s2);\n            result = Integer.compare(intPart1, intPart2);\n        }\n        return result;\n    }\n});\n</code></pre>\n\n<p>The two extract methods are left as an exercise. Read the javadoc for String and/or Matcher to find out how you could do.</p>\n"},{"comments":[{"owner":{"account_id":7844116,"reputation":912,"user_id":5929690,"accept_rate":50,"display_name":"Rahul Sharma"},"score":2,"creation_date":1472120390,"post_id":19984198,"comment_id":65629408,"body_markdown":"@user1694873 notice the output carefully! it doesn&#39;t work. `ABCD XYZ N1420,` comes before `ABCD XYZ M5130` which shouldn&#39;t.","body":"@user1694873 notice the output carefully! it doesn&#39;t work. <code>ABCD XYZ N1420,</code> comes before <code>ABCD XYZ M5130</code> which shouldn&#39;t."}],"tags":[],"owner":{"account_id":1202808,"reputation":15318,"user_id":1173114,"display_name":"Sage"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1384449666,"creation_date":1384449666,"answer_id":19984198,"question_id":19983818,"body_markdown":"&gt; and it is the last element i specifically want\r\n\r\nThe following program first extract the last integer part of your string element. And then return by comparing them. \r\n\r\n    List&lt;String&gt; results = Arrays.asList(&quot;ABCD XYZ M1210&quot;, &quot;ABCD XYZ M149&quot;,\r\n            &quot;ABCD XYZ M5130&quot;, &quot;ABCD XYZ N1420&quot;, &quot;ABCD XYZ T11299&quot;,\r\n            &quot;ABCD XYZ S11044&quot;);\r\n            \r\n            Collections.sort(results, new Comparator&lt;String&gt;(){\r\n\r\n                @Override\r\n                public int compare(String o1, String o2) {\r\n                    Integer x1 = Integer.parseInt(o1.substring(o1.lastIndexOf(&quot; &quot;)+2, o1.length()));\r\n                    Integer x2 = Integer.parseInt(o2.substring(o2.lastIndexOf(&quot; &quot;)+2, o2.length()));\r\n                    \r\n                    return x1.compareTo(x2);\r\n                    \r\n                }\r\n            });\r\n            \r\n            System.out.println(results);\r\n\r\n**Output:**\r\n\r\n    [ABCD XYZ M149, \r\n    ABCD XYZ M1210, \r\n    ABCD XYZ N1420, \r\n    ABCD XYZ M5130, \r\n    ABCD XYZ S11044, \r\n    ABCD XYZ T11299]","title":"Sort String Array by alphabet and then by number","body":"<blockquote>\n  <p>and it is the last element i specifically want</p>\n</blockquote>\n\n<p>The following program first extract the last integer part of your string element. And then return by comparing them. </p>\n\n<pre><code>List&lt;String&gt; results = Arrays.asList(\"ABCD XYZ M1210\", \"ABCD XYZ M149\",\n        \"ABCD XYZ M5130\", \"ABCD XYZ N1420\", \"ABCD XYZ T11299\",\n        \"ABCD XYZ S11044\");\n\n        Collections.sort(results, new Comparator&lt;String&gt;(){\n\n            @Override\n            public int compare(String o1, String o2) {\n                Integer x1 = Integer.parseInt(o1.substring(o1.lastIndexOf(\" \")+2, o1.length()));\n                Integer x2 = Integer.parseInt(o2.substring(o2.lastIndexOf(\" \")+2, o2.length()));\n\n                return x1.compareTo(x2);\n\n            }\n        });\n\n        System.out.println(results);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[ABCD XYZ M149, \nABCD XYZ M1210, \nABCD XYZ N1420, \nABCD XYZ M5130, \nABCD XYZ S11044, \nABCD XYZ T11299]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21172194,"reputation":23,"user_id":15568293,"display_name":"Saurabh Khandagale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681713661,"creation_date":1681713661,"answer_id":76032317,"question_id":19983818,"body_markdown":"A question can also be revers of it like sort number followed by alphabate\r\ni know this is revers of it but posting so anyone can get idea\r\n\r\nexpected output:B01\r\nA02\r\nA03\r\nA04\r\nA10\r\nA11\r\nC13\r\nA20\r\nA112\r\n```\r\n\r\nvar items = [&quot;A01&quot;, &quot;A112&quot;,&quot;A02&quot;, &quot;A03&quot;, &quot;B01&quot;,&quot;C13&quot;,&quot;A04&quot;,&quot;A10&quot;, &quot;A11&quot;, &quot;A20&quot;];\r\n// console.log(   items.sort());\r\nlet obj={}\r\nitems.map((ele)=&gt;{\r\n   let y=ele.slice(1)\r\n   // console.log(y);\r\n   obj[parseInt(ele.slice(1))]=ele\r\n\r\n})\r\nconsole.log(obj);\r\nfor(let yy in obj)\r\n{\r\nconsole.log(obj[yy]);\r\n}```","title":"Sort String Array by alphabet and then by number","body":"<p>A question can also be revers of it like sort number followed by alphabate\ni know this is revers of it but posting so anyone can get idea</p>\n<p>expected output:B01\nA02\nA03\nA04\nA10\nA11\nC13\nA20\nA112</p>\n<pre><code>\nvar items = [&quot;A01&quot;, &quot;A112&quot;,&quot;A02&quot;, &quot;A03&quot;, &quot;B01&quot;,&quot;C13&quot;,&quot;A04&quot;,&quot;A10&quot;, &quot;A11&quot;, &quot;A20&quot;];\n// console.log(   items.sort());\nlet obj={}\nitems.map((ele)=&gt;{\n   let y=ele.slice(1)\n   // console.log(y);\n   obj[parseInt(ele.slice(1))]=ele\n\n})\nconsole.log(obj);\nfor(let yy in obj)\n{\nconsole.log(obj[yy]);\n}```\n</code></pre>\n"}],"owner":{"account_id":1873047,"reputation":473,"user_id":1694873,"accept_rate":65,"display_name":"user1694873"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7767,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19984198,"answer_count":4,"score":1,"last_activity_date":1681713661,"creation_date":1384448615,"question_id":19983818,"body_markdown":"I have an String Array i have fileterd from a database with output like this in Java\r\n\r\n    [ABCD XYZ M1210, \r\n    ABCD XYZ M149, \r\n    ABCD XYZ M5130, \r\n    ABCD XYZ N1420, \r\n    ABCD XYZ T11299, \r\n    ABCD XYZ S11044]\r\n\r\nIm looking to sort my array as follows:\r\n\r\n    [ABCD XYZ M149, \r\n    ABCD XYZ M1210, \r\n    ABCD XYZ M5130, \r\n    ABCD XYZ N1420,  \r\n    ABCD XYZ S11044,\r\n    ABCD XYZ T11299]\r\n\r\nand it is the last element i specifically want\r\n\r\n     ==&gt; String theStringIWant = myStringArray.get(myStringArray.size() - 1);\r\n\r\nWhat i need to dois first sort the letter after &quot;XYZ&quot; alphabetically and then sort the numerically after that so for example \r\nABCD XYZ M1210 &lt; ABCD XYZ M5130 as 5130 is greater than 1210.\r\n\r\nAny help here would be much appreciated\r\n\r\n*Any referencing to suitable libraries in java etc\r\n\r\nCheers\r\n","title":"Sort String Array by alphabet and then by number","body":"<p>I have an String Array i have fileterd from a database with output like this in Java</p>\n\n<pre><code>[ABCD XYZ M1210, \nABCD XYZ M149, \nABCD XYZ M5130, \nABCD XYZ N1420, \nABCD XYZ T11299, \nABCD XYZ S11044]\n</code></pre>\n\n<p>Im looking to sort my array as follows:</p>\n\n<pre><code>[ABCD XYZ M149, \nABCD XYZ M1210, \nABCD XYZ M5130, \nABCD XYZ N1420,  \nABCD XYZ S11044,\nABCD XYZ T11299]\n</code></pre>\n\n<p>and it is the last element i specifically want</p>\n\n<pre><code> ==&gt; String theStringIWant = myStringArray.get(myStringArray.size() - 1);\n</code></pre>\n\n<p>What i need to dois first sort the letter after \"XYZ\" alphabetically and then sort the numerically after that so for example \nABCD XYZ M1210 &lt; ABCD XYZ M5130 as 5130 is greater than 1210.</p>\n\n<p>Any help here would be much appreciated</p>\n\n<p>*Any referencing to suitable libraries in java etc</p>\n\n<p>Cheers</p>\n"},{"tags":["java","apache-camel","jms","weblogic","quarkus"],"answers":[{"tags":[],"owner":{"account_id":11777559,"reputation":1172,"user_id":8627215,"display_name":"James Netherton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680171074,"creation_date":1680171074,"answer_id":75886857,"question_id":75883323,"body_markdown":"If you want to use Camel and AMQP to produce messages to a queue, then you can use the `camel-quarkus-amqp` extension. It uses `quarkus-qpid-jms`. You can add a dependency for it like this.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel.quarkus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-quarkus-amqp&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen define your connection configuration in `application.yml`.\r\n\r\n```yaml\r\nquarkus:\r\n  qpid-jms:\r\n    url: your connection url\r\n    username: your username\r\n    password: your password\r\n```\r\n\r\nA simple Camel route to produce a message to a queue might look like this.\r\n\r\n```java\r\npublic class Routes extends RouteBuilder {\r\n\r\n    public void configure() throws Exception {\r\n        from(&quot;direct:sendMessage&quot;)\r\n                .to(&quot;amqp:queue:myQueue&quot;);\r\n    }\r\n}\r\n```\r\n\r\nNote: to use the `direct` endpoint you need `camel-quarkus-direct` added as a dependency.\r\n\r\nThere is more information in the Camel &amp; Camel Quarkus documentation:\r\n\r\nhttps://camel.apache.org/camel-quarkus/2.16.x/reference/extensions/amqp.html\r\n\r\nhttps://camel.apache.org/components/3.20.x/amqp-component.html","title":"How to send a queue to a weblogic server using quarkus and apache camel?","body":"<p>If you want to use Camel and AMQP to produce messages to a queue, then you can use the <code>camel-quarkus-amqp</code> extension. It uses <code>quarkus-qpid-jms</code>. You can add a dependency for it like this.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-quarkus-amqp&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then define your connection configuration in <code>application.yml</code>.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>quarkus:\n  qpid-jms:\n    url: your connection url\n    username: your username\n    password: your password\n</code></pre>\n<p>A simple Camel route to produce a message to a queue might look like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Routes extends RouteBuilder {\n\n    public void configure() throws Exception {\n        from(&quot;direct:sendMessage&quot;)\n                .to(&quot;amqp:queue:myQueue&quot;);\n    }\n}\n</code></pre>\n<p>Note: to use the <code>direct</code> endpoint you need <code>camel-quarkus-direct</code> added as a dependency.</p>\n<p>There is more information in the Camel &amp; Camel Quarkus documentation:</p>\n<p><a href=\"https://camel.apache.org/camel-quarkus/2.16.x/reference/extensions/amqp.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/camel-quarkus/2.16.x/reference/extensions/amqp.html</a></p>\n<p><a href=\"https://camel.apache.org/components/3.20.x/amqp-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/amqp-component.html</a></p>\n"}],"owner":{"account_id":27905521,"reputation":11,"user_id":21308831,"display_name":"Pedro Sabas Vega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681713375,"creation_date":1680137987,"question_id":75883323,"body_markdown":"I am using the dependency in my pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.amqphub.quarkus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;quarkus-qpid-jms&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nmy yml properties file\r\n\r\n```\r\nquarkus:\r\n   qpid-jms: amqp:url:port\r\n   username: username\r\n   password: password\r\n\r\n```\r\nI have a class like\r\n\r\n```\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\nimport javax.jms.ConnectionFactory;\r\nimport javax.jms.JMSContext;\r\nimport javax.jms.JMSRuntimeException;\r\nimport javax.jms.Session;\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.Proccesor;\r\n\r\n@ApplicationScoped\r\npublic class JMSProducer implements Processor {\r\n    @Inject\r\n    ConnectionFactory connectionFactory;\r\n\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        try (JMSContext context = connectionFactory.createContext(Session.AUTO_ACKNOWLEDGE)){\r\n            context.createProducer().send(context.createQueue(&quot;my_queue&quot;), exchange.getMessage().getBody(String.class));\r\n        } catch (JMSRuntimeException ex) {}\r\n    }\r\n}\r\n```\r\nAfter this I call this class as a bean in a procces of my apache camel route.\r\n\r\n\r\nI&#39;m new to these issues, I hope you can help me.","title":"How to send a queue to a weblogic server using quarkus and apache camel?","body":"<p>I am using the dependency in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.amqphub.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-qpid-jms&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>my yml properties file</p>\n<pre><code>quarkus:\n   qpid-jms: amqp:url:port\n   username: username\n   password: password\n\n</code></pre>\n<p>I have a class like</p>\n<pre><code>import javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.jms.ConnectionFactory;\nimport javax.jms.JMSContext;\nimport javax.jms.JMSRuntimeException;\nimport javax.jms.Session;\nimport org.apache.camel.Exchange;\nimport org.apache.camel.Proccesor;\n\n@ApplicationScoped\npublic class JMSProducer implements Processor {\n    @Inject\n    ConnectionFactory connectionFactory;\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        try (JMSContext context = connectionFactory.createContext(Session.AUTO_ACKNOWLEDGE)){\n            context.createProducer().send(context.createQueue(&quot;my_queue&quot;), exchange.getMessage().getBody(String.class));\n        } catch (JMSRuntimeException ex) {}\n    }\n}\n</code></pre>\n<p>After this I call this class as a bean in a procces of my apache camel route.</p>\n<p>I'm new to these issues, I hope you can help me.</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":3,"creation_date":1681678976,"post_id":76030249,"comment_id":134091390,"body_markdown":"Why do you **have** code to detect &#39;files that are symbolic links&#39;?   Why isn&#39;t `Files.isSymbolicLink(Path.of(filename))` all you need? And I suggest you don&#39;t need to test whether the Java library does what it says it will do.","body":"Why do you <b>have</b> code to detect &#39;files that are symbolic links&#39;?   Why isn&#39;t <code>Files.isSymbolicLink(Path.of(filename))</code> all you need? And I suggest you don&#39;t need to test whether the Java library does what it says it will do."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1681701468,"post_id":76030249,"comment_id":134093536,"body_markdown":"We need more details about what the code does specifically, and which aspects you want to test. Is mocking all API calls that actually perform IO operations an option for you?","body":"We need more details about what the code does specifically, and which aspects you want to test. Is mocking all API calls that actually perform IO operations an option for you?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1681702272,"post_id":76030249,"comment_id":134093609,"body_markdown":"For the sake of precision, I&#39;d call a test that test that code correctly interacts with the platform an Integration Test, not a unit test (although it may be implemented using a Unit Test framework). For such a test, I&#39;d usually set up the test input (the files in this case) through a separate channel (e.g. a build script).","body":"For the sake of precision, I&#39;d call a test that test that code correctly interacts with the platform an Integration Test, not a unit test (although it may be implemented using a Unit Test framework). For such a test, I&#39;d usually set up the test input (the files in this case) through a separate channel (e.g. a build script)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681702501,"post_id":76030249,"comment_id":134093625,"body_markdown":"For testing filesystem stuff, there&#39;s [Jimfs](https://www.baeldung.com/jimfs-file-system-mocking) which lets you mock out an entire system. Optimally, unit tests should not touch disk whatsoever; jimfs lets you do that (also speeding things up, disks are relatively slow), and would let you create a symlink without admin privileges (as it&#39;s all just a fake filesystem).","body":"For testing filesystem stuff, there&#39;s <a href=\"https://www.baeldung.com/jimfs-file-system-mocking\" rel=\"nofollow noreferrer\">Jimfs</a> which lets you mock out an entire system. Optimally, unit tests should not touch disk whatsoever; jimfs lets you do that (also speeding things up, disks are relatively slow), and would let you create a symlink without admin privileges (as it&#39;s all just a fake filesystem)."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1681709588,"post_id":76030249,"comment_id":134094326,"body_markdown":"For the more general question, there is https://superuser.com/questions/1020821/how-can-i-create-a-symbolic-link-on-windows-10, which also explains how to grant the right to create links to other users.","body":"For the more general question, there is <a href=\"https://superuser.com/questions/1020821/how-can-i-create-a-symbolic-link-on-windows-10\" title=\"how can i create a symbolic link on windows 10\">superuser.com/questions/1020821/&hellip;</a>, which also explains how to grant the right to create links to other users."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1681807092,"post_id":76030249,"comment_id":134112085,"body_markdown":"@ArfurNarf You are right. The code uses `Files.isSymbolicLink()`. The unit test checks to make sure the method is getting called under the correct circumstances.","body":"@ArfurNarf You are right. The code uses <code>Files.isSymbolicLink()</code>. The unit test checks to make sure the method is getting called under the correct circumstances."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1681807474,"post_id":76030249,"comment_id":134112168,"body_markdown":"@Hulk Thank you for your ideas. A build script sounds like a good idea, but I&#39;m not sure if it&#39;s practical in our cross-platform development environment.","body":"@Hulk Thank you for your ideas. A build script sounds like a good idea, but I&#39;m not sure if it&#39;s practical in our cross-platform development environment."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1681807535,"post_id":76030249,"comment_id":134112183,"body_markdown":"@ rzwitserloot Thank you. I need to check out Jimfs, which sounds like it might be exactly what I need.","body":"@ rzwitserloot Thank you. I need to check out Jimfs, which sounds like it might be exactly what I need."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1681828059,"post_id":76030249,"comment_id":134117513,"body_markdown":"@rzwitserloot Well, Jimfs certainly looked like a good idea. However, one of the methods I need to test is an implementation of `java.io.FileFilter`, which takes a `java.io.File` as its first parameter. Unfortunately, creating a File from a Path using Jimfs is an unsupported operation. In fact, the Javadocs for `Path.toFile()` explicitly states that it only returns a File if the Path was created by the default FileSystem. Otherwise, it throws an `UnsupportedOperationException.` But thanks for the suggestion.","body":"@rzwitserloot Well, Jimfs certainly looked like a good idea. However, one of the methods I need to test is an implementation of <code>java.io.FileFilter</code>, which takes a <code>java.io.File</code> as its first parameter. Unfortunately, creating a File from a Path using Jimfs is an unsupported operation. In fact, the Javadocs for <code>Path.toFile()</code> explicitly states that it only returns a File if the Path was created by the default FileSystem. Otherwise, it throws an <code>UnsupportedOperationException.</code> But thanks for the suggestion."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1681834400,"post_id":76030249,"comment_id":134119298,"body_markdown":"@MiguelMunoz whatever system is distributing your builds to your test environment(s) is usually also capable of creating files. If you want the files to really exist, the either account of this system or the account executing the test will need the required rights. If you prefer mocking, we&#39;ll need more info on what concrete problems you are facing. You mentioned some in the comments, but please add this info to the question.","body":"@MiguelMunoz whatever system is distributing your builds to your test environment(s) is usually also capable of creating files. If you want the files to really exist, the either account of this system or the account executing the test will need the required rights. If you prefer mocking, we&#39;ll need more info on what concrete problems you are facing. You mentioned some in the comments, but please add this info to the question."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1681944068,"post_id":76030249,"comment_id":134140223,"body_markdown":"@Hulk Thank you for your input. I&#39;ve developed a unit test that creates temporary files, and successfully mocks them on Windows. Fiddling with the system that distributes the build makes the problem bigger. I&#39;ve managed to make it work.","body":"@Hulk Thank you for your input. I&#39;ve developed a unit test that creates temporary files, and successfully mocks them on Windows. Fiddling with the system that distributes the build makes the problem bigger. I&#39;ve managed to make it work."}],"answers":[{"comments":[{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1681807691,"post_id":76032274,"comment_id":134112216,"body_markdown":"Thank you. This is along the lines of what I&#39;m currently trying. But I think the method to test if symbolic links are supported might better be written as `return !System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;windows&quot;);` (I&#39;m developing on a Mac.) `;)`","body":"Thank you. This is along the lines of what I&#39;m currently trying. But I think the method to test if symbolic links are supported might better be written as <code>return !System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;windo&zwnj;&#8203;ws&quot;);</code> (I&#39;m developing on a Mac.) <code>;)</code>"}],"tags":[],"owner":{"display_name":"user21651537"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681713265,"creation_date":1681713265,"answer_id":76032274,"question_id":76030249,"body_markdown":"    import org.junit.Test;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    \r\n    public class SymbolicLinkDetectorTest {\r\n    \r\n        @Test\r\n        public void testDetectSymbolicLink() throws IOException {\r\n            File tempFile = createTempFile();\r\n            if (isSymbolicLinkSupported()) {\r\n                Files.createSymbolicLink(tempFile.toPath(), new File(&quot;c:\\\\temp&quot;).toPath());\r\n                assert SymbolicLinkDetector.detectSymbolicLink(tempFile);\r\n            } else {\r\n                assert !SymbolicLinkDetector.detectSymbolicLink(tempFile);\r\n            }\r\n        }\r\n    \r\n        private File createTempFile() throws IOException {\r\n            File tempFile = File.createTempFile(&quot;test&quot;, &quot;.tmp&quot;);\r\n            tempFile.deleteOnExit();\r\n            return tempFile;\r\n        }\r\n    \r\n        private boolean isSymbolicLinkSupported() {\r\n            return System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;linux&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Unit test for a method that detects files that are symbolic links","body":"<pre><code>import org.junit.Test;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\n\npublic class SymbolicLinkDetectorTest {\n\n    @Test\n    public void testDetectSymbolicLink() throws IOException {\n        File tempFile = createTempFile();\n        if (isSymbolicLinkSupported()) {\n            Files.createSymbolicLink(tempFile.toPath(), new File(&quot;c:\\\\temp&quot;).toPath());\n            assert SymbolicLinkDetector.detectSymbolicLink(tempFile);\n        } else {\n            assert !SymbolicLinkDetector.detectSymbolicLink(tempFile);\n        }\n    }\n\n    private File createTempFile() throws IOException {\n        File tempFile = File.createTempFile(&quot;test&quot;, &quot;.tmp&quot;);\n        tempFile.deleteOnExit();\n        return tempFile;\n    }\n\n    private boolean isSymbolicLinkSupported() {\n        return System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;linux&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681713265,"creation_date":1681677876,"question_id":76030249,"body_markdown":"I need to write a unit test in Java for a method that detects files that are symbolic links. The test would have to create temporary files that are symbolic links. The trouble is that on Windows 10, and probably other versions of Windows, the unit test would need admin privileges to create a symbolic link. Does anyone have a way to handle special-case issues like this in unit tests?","title":"Unit test for a method that detects files that are symbolic links","body":"<p>I need to write a unit test in Java for a method that detects files that are symbolic links. The test would have to create temporary files that are symbolic links. The trouble is that on Windows 10, and probably other versions of Windows, the unit test would need admin privileges to create a symbolic link. Does anyone have a way to handle special-case issues like this in unit tests?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681712707,"post_id":76029600,"comment_id":134094742,"body_markdown":"Remove `@EntityScan` and `@EnableJpaRepositories`. Remove `@Repository` from your interface and ditch the `getAllUsers`, Spring Data already provides the `findAll` method for this.","body":"Remove <code>@EntityScan</code> and <code>@EnableJpaRepositories</code>. Remove <code>@Repository</code> from your interface and ditch the <code>getAllUsers</code>, Spring Data already provides the <code>findAll</code> method for this."}],"answers":[{"comments":[{"owner":{"account_id":16931282,"reputation":13,"user_id":12245478,"display_name":"Ho&#224;ng Thi&#234;n"},"score":0,"creation_date":1681699417,"post_id":76029911,"comment_id":134093371,"body_markdown":"Entity &#39;com.baothien.server.User.User&#39; has no identifier (every &#39;@Entity&#39; class must declare or inherit at least one &#39;@Id&#39; or &#39;@EmbeddedId&#39; property)\n\nNot found @Entity","body":"Entity &#39;com.baothien.server.User.User&#39; has no identifier (every &#39;@Entity&#39; class must declare or inherit at least one &#39;@Id&#39; or &#39;@EmbeddedId&#39; property)  Not found @Entity"},{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1681703337,"post_id":76029911,"comment_id":134093700,"body_markdown":"You might be most likely facing issue because the user is keyword in most of the databases and you cannot create a table with name of user. You have 2 options here, Option 1) rename your entity class to Users or something more meaningful. Option 2) you can include the name attribute to your table annotation in the entity class with meaningful name. Something like `@Table(name = &quot;Users&quot;)`.","body":"You might be most likely facing issue because the user is keyword in most of the databases and you cannot create a table with name of user. You have 2 options here, Option 1) rename your entity class to Users or something more meaningful. Option 2) you can include the name attribute to your table annotation in the entity class with meaningful name. Something like <code>@Table(name = &quot;Users&quot;)</code>."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681673069,"creation_date":1681673069,"answer_id":76029911,"question_id":76029600,"body_markdown":"Your basePackages is too narrow. Try\r\n\r\n    EntityScan(basePackages = {&quot;com.baothien.server&quot;})","title":"Service not found a repository bean in my Springboot project","body":"<p>Your basePackages is too narrow. Try</p>\n<pre><code>EntityScan(basePackages = {&quot;com.baothien.server&quot;})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16931282,"reputation":13,"user_id":12245478,"display_name":"Ho&#224;ng Thi&#234;n"},"score":0,"creation_date":1681805172,"post_id":76032268,"comment_id":134111659,"body_markdown":"Problem is solved, thank you very much!","body":"Problem is solved, thank you very much!"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681713219,"creation_date":1681713219,"answer_id":76032268,"question_id":76029600,"body_markdown":"You are trying to hard. \r\n\r\n1. You don&#39;t need `@EntityScan`\r\n2. You don&#39;t need `@EnableJpaRepositories`\r\n3. `@Repository` on a Spring Data repository interface doesn&#39;t do anything\r\n4. `JpaRepository` or rather `CrudRepository` already has a `findAll` to retrieve all entities. Ditch your `getAllUsers` method. \r\n5. You are using the wrong `@Id` you are using the Spring Data one whereas you need the `jakarta.persistence` one. \r\n\r\nPoint 4 and 5 are actually your issues as the query you have written is wrong it should read `SELECT u FROM User u`. It is a JPQL and not a SQL query. However as stated you don&#39;t need it as there is already a `findAll` method. An `@Id` for JPA entities is required, so that makes it fail as well. ","title":"Service not found a repository bean in my Springboot project","body":"<p>You are trying to hard.</p>\n<ol>\n<li>You don't need <code>@EntityScan</code></li>\n<li>You don't need <code>@EnableJpaRepositories</code></li>\n<li><code>@Repository</code> on a Spring Data repository interface doesn't do anything</li>\n<li><code>JpaRepository</code> or rather <code>CrudRepository</code> already has a <code>findAll</code> to retrieve all entities. Ditch your <code>getAllUsers</code> method.</li>\n<li>You are using the wrong <code>@Id</code> you are using the Spring Data one whereas you need the <code>jakarta.persistence</code> one.</li>\n</ol>\n<p>Point 4 and 5 are actually your issues as the query you have written is wrong it should read <code>SELECT u FROM User u</code>. It is a JPQL and not a SQL query. However as stated you don't need it as there is already a <code>findAll</code> method. An <code>@Id</code> for JPA entities is required, so that makes it fail as well.</p>\n"}],"owner":{"account_id":16931282,"reputation":13,"user_id":12245478,"display_name":"Ho&#224;ng Thi&#234;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76032268,"answer_count":2,"score":-1,"last_activity_date":1681713219,"creation_date":1681669500,"question_id":76029600,"body_markdown":"First of all, I want to give many thanks to everyone who read my question and want to help me solve it so, I have a problem which about not found bean in my project. I have a repository named &quot;UserRepository&quot; and in my service is &quot;UserService&quot; has @Autowired that repository, its not found my repository although I added repository annotation. &quot;UserService&quot; not found the repository bean\r\n\r\nThis is my problem:\r\n&gt; ***************************\r\n&gt; APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; Parameter 0 of constructor in com.baothien.server.User.UserService required a bean of type &#39;com.baothien.server.User.UserRepository&#39; that could not be found.\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type &#39;com.baothien.server.User.UserRepository&#39; in your configuration.\r\n&gt; \r\n&gt; \r\n&gt; Process finished with exit code 0\r\n\r\nMy Project Structure:\r\n[My project structure](https://i.stack.imgur.com/HTVxz.png)\r\n\r\nUserRepository.java\r\n```\r\npackage com.baothien.server.User;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    @Query(&quot;SELECT * FROM Users&quot;)\r\n    List&lt;User&gt; getAllUsers();\r\n}\r\n```\r\n\r\nUserService.java\r\n```\r\npackage com.baothien.server.User;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class UserService {\r\n    @Autowired\r\n    private final UserRepository userRepository;\r\n\r\n    public UserService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.getAllUsers();\r\n    }\r\n}\r\n```\r\n\r\nUserController.java\r\n```\r\npackage com.baothien.server.User;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class UserController {\r\n    @Autowired\r\n    private final UserService userService;\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String test() {\r\n        return &quot;GET User API succesfully!&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/get-users&quot;)\r\n    public List&lt;User&gt; getUsers() {\r\n        return userService.getAllUsers();\r\n    }\r\n}\r\n```\r\n\r\nUser.java\r\n```\r\npackage com.baothien.server.User;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.data.annotation.Id;\r\n\r\n@Entity\r\n@Table\r\n@Data\r\n@NoArgsConstructor\r\npublic class User {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;user_sequence&quot;,\r\n            sequenceName = &quot;user_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;user_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String email;\r\n    private String fullName;\r\n    private String role;\r\n    private String password;\r\n}\r\n```\r\n\r\n\r\nMain method\r\n```\r\npackage com.baothien.server;\r\n\r\nimport com.baothien.server.User.UserController;\r\nimport com.baothien.server.User.UserRepository;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EntityScan(basePackages = {&quot;com.baothien.server.User.*&quot;})\r\n@EnableJpaRepositories(basePackages = {&quot;com.baothien.server.User.*&quot;})\r\npublic class ServerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ServerApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI tried my best but this problem was not solved, I really need a solution.\r\nThanks for reading my question, see you.\r\n\r\n**UPDATE**: I use @ComponentScan: \r\n```\r\n@ComponentScan(basePackages = &quot;com.baothien.server.User.*&quot;)\r\n```\r\nIt run but when I test on Postman, it has White Label Error, not found page (http://localhost:8080/api/v1/test). As you see, my controller has /test path, I don&#39;t understand why it have this error.\r\n\r\nI tried find the solution on many forum but cannot solve that problem","title":"Service not found a repository bean in my Springboot project","body":"<p>First of all, I want to give many thanks to everyone who read my question and want to help me solve it so, I have a problem which about not found bean in my project. I have a repository named &quot;UserRepository&quot; and in my service is &quot;UserService&quot; has @Autowired that repository, its not found my repository although I added repository annotation. &quot;UserService&quot; not found the repository bean</p>\n<p>This is my problem:</p>\n<blockquote>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.baothien.server.User.UserService required a bean of type 'com.baothien.server.User.UserRepository' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.baothien.server.User.UserRepository' in your configuration.</p>\n<p>Process finished with exit code 0</p>\n</blockquote>\n<p>My Project Structure:\n<a href=\"https://i.stack.imgur.com/HTVxz.png\" rel=\"nofollow noreferrer\">My project structure</a></p>\n<p>UserRepository.java</p>\n<pre><code>package com.baothien.server.User;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    @Query(&quot;SELECT * FROM Users&quot;)\n    List&lt;User&gt; getAllUsers();\n}\n</code></pre>\n<p>UserService.java</p>\n<pre><code>package com.baothien.server.User;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class UserService {\n    @Autowired\n    private final UserRepository userRepository;\n\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.getAllUsers();\n    }\n}\n</code></pre>\n<p>UserController.java</p>\n<pre><code>package com.baothien.server.User;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class UserController {\n    @Autowired\n    private final UserService userService;\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping(&quot;/test&quot;)\n    public String test() {\n        return &quot;GET User API succesfully!&quot;;\n    }\n\n    @GetMapping(&quot;/get-users&quot;)\n    public List&lt;User&gt; getUsers() {\n        return userService.getAllUsers();\n    }\n}\n</code></pre>\n<p>User.java</p>\n<pre><code>package com.baothien.server.User;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\n\n@Entity\n@Table\n@Data\n@NoArgsConstructor\npublic class User {\n    @Id\n    @SequenceGenerator(\n            name = &quot;user_sequence&quot;,\n            sequenceName = &quot;user_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;user_sequence&quot;\n    )\n    private Long id;\n    private String email;\n    private String fullName;\n    private String role;\n    private String password;\n}\n</code></pre>\n<p>Main method</p>\n<pre><code>package com.baothien.server;\n\nimport com.baothien.server.User.UserController;\nimport com.baothien.server.User.UserRepository;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EntityScan(basePackages = {&quot;com.baothien.server.User.*&quot;})\n@EnableJpaRepositories(basePackages = {&quot;com.baothien.server.User.*&quot;})\npublic class ServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ServerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I tried my best but this problem was not solved, I really need a solution.\nThanks for reading my question, see you.</p>\n<p><strong>UPDATE</strong>: I use @ComponentScan:</p>\n<pre><code>@ComponentScan(basePackages = &quot;com.baothien.server.User.*&quot;)\n</code></pre>\n<p>It run but when I test on Postman, it has White Label Error, not found page (http://localhost:8080/api/v1/test). As you see, my controller has /test path, I don't understand why it have this error.</p>\n<p>I tried find the solution on many forum but cannot solve that problem</p>\n"},{"tags":["java","arrays","class","object"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1681677697,"post_id":76030197,"comment_id":134091236,"body_markdown":"You might want to ask what &quot;append&quot; means in this context,  because I don&#39;t think of that as a standard array operation.  What might work: create a *new* array that is a big as both arrays, and copy the elements from *both* arrays into the new array.  But you can&#39;t actually extend an array in any way, so the original array is not appended but replaced.","body":"You might want to ask what &quot;append&quot; means in this context,  because I don&#39;t think of that as a standard array operation.  What might work: create a <i>new</i> array that is a big as both arrays, and copy the elements from <i>both</i> arrays into the new array.  But you can&#39;t actually extend an array in any way, so the original array is not appended but replaced."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681677807,"post_id":76030197,"comment_id":134091242,"body_markdown":"P. S. what does `mode` do?","body":"P. S. what does <code>mode</code> do?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1681677898,"post_id":76030197,"comment_id":134091253,"body_markdown":"*&quot;any imports&quot;* — do you mean *imports* or do you mean *classes*?","body":"<i>&quot;any imports&quot;</i> — do you mean <i>imports</i> or do you mean <i>classes</i>?"},{"owner":{"account_id":28067936,"reputation":1,"user_id":21441060,"display_name":"z.....k"},"score":0,"creation_date":1681678026,"post_id":76030197,"comment_id":134091266,"body_markdown":"append and mode are both words used in the instruction booklet, however I know that append meant that he wants us to store each new person added into our existing array, because later in the program we&#39;ll need to display them all. As for mode, I&#39;m wondering the same thing, but i&#39;m pretty sure its just the variable name he wants us to use. Not to make it too complicated but this methods will have to accept a number too because its a menu program, so that&#39;s all that the int is.","body":"append and mode are both words used in the instruction booklet, however I know that append meant that he wants us to store each new person added into our existing array, because later in the program we&#39;ll need to display them all. As for mode, I&#39;m wondering the same thing, but i&#39;m pretty sure its just the variable name he wants us to use. Not to make it too complicated but this methods will have to accept a number too because its a menu program, so that&#39;s all that the int is."},{"owner":{"account_id":28067936,"reputation":1,"user_id":21441060,"display_name":"z.....k"},"score":0,"creation_date":1681678067,"post_id":76030197,"comment_id":134091277,"body_markdown":"no imports like, nothing at the top other than java util scanner","body":"no imports like, nothing at the top other than java util scanner"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1681680297,"post_id":76030197,"comment_id":134091549,"body_markdown":"&quot;_because later in the program we&#39;ll need to display them all_&quot; -- That&#39;s still possible if you implement what @markspace mentioned. You&#39;d create a new array, copy the two arrays into the new array, and then reassign the field to the new array. The other option is to have an array with an allocated capacity, then maintain a &quot;size&quot; field. All indices in the range `[0, size)` would be non-null, anything in the range `[size, capacity)` would be null. Then you just keep copying elements from the given array to the next available spot in the &quot;main&quot; array.","body":"&quot;<i>because later in the program we&#39;ll need to display them all</i>&quot; -- That&#39;s still possible if you implement what @markspace mentioned. You&#39;d create a new array, copy the two arrays into the new array, and then reassign the field to the new array. The other option is to have an array with an allocated capacity, then maintain a &quot;size&quot; field. All indices in the range <code>[0, size)</code> would be non-null, anything in the range <code>[size, capacity)</code> would be null. Then you just keep copying elements from the given array to the next available spot in the &quot;main&quot; array."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1681680392,"post_id":76030197,"comment_id":134091563,"body_markdown":"But then you have to worry about if there is not enough capacity to append all the given elements. In that case, you&#39;d still have to create a new, larger array, copy the elements over, and then replace the old array. However, at that point you&#39;re reimplementing `java.util.ArrayList` and so it would make more sense to just use that class instead (though that seems to be disallowed by your assignment instructions).","body":"But then you have to worry about if there is not enough capacity to append all the given elements. In that case, you&#39;d still have to create a new, larger array, copy the elements over, and then replace the old array. However, at that point you&#39;re reimplementing <code>java.util.ArrayList</code> and so it would make more sense to just use that class instead (though that seems to be disallowed by your assignment instructions)."}],"owner":{"account_id":28067936,"reputation":1,"user_id":21441060,"display_name":"z.....k"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681713099,"creation_date":1681677336,"question_id":76030197,"body_markdown":"Academic assignment requirements:\r\n\r\n&gt; Create a custom method called: appendToPersonArr with these parameters: (Person[] srcArr, int mode), that accepts an array of Person[] objects and appends it to the class&#39; existent private array of Person[] objects. \r\n&gt; \r\n&gt; The user will be inputting the id, firstname, lastname; id, firstname, lastname;... as many times as they need to enter a new person each time. Each entry between semicolons is a different person, but each word between commas will need to be manipulated separately after\r\n&gt; \r\n&gt; No imports allowed other than for `java.util.Scanner`\r\n\r\nI&#39;m not sure how to put it into the array properly in that case. And I have no idea how to add this onto my private Person[] instance. \r\n\r\n    public class Course {\r\n\t    private String courseName;\r\n\t    private String courseCode;\r\n\t    private String classTerm;\r\n\r\n\t    private Person instructor;\r\n\t    private Person[] teachAsst;\r\n\t    private Person[] student;\r\n\r\n    // these are all of my private instance variables, i will need to do this adding of arrays method for both teachAsst and Student, but it will be the same process for both. \r\n\r\n    public String appendToPersonArr(Person[] srcArr, int mode) {\r\n\r\n\t\tSystem.out.println(&quot;Enter TAs information (ID1, FirstName1, LastName1; ID2,    FirstName2, LastName2):&quot;);\r\n\r\n\t\tString input2 = userin.nextLine();\r\n\t\tString[] parts = input2.split(&quot;;&quot;);\r\n\t\t\r\n\t\t}\r\n\r\nThis is all I have so far for the method, and I genuinely have no idea what to do next. My desired outcome is that the users inputs get added to my existing Person[] array, and can be accessed when I need to print them out. \r\n\r\nNOTE: I&#39;m not allowed to use any imports other than a scanner","title":"How to make a method that accepts an array from a user, separated by &quot;;&quot; and adds it to the existing private array in the same class","body":"<p>Academic assignment requirements:</p>\n<blockquote>\n<p>Create a custom method called: appendToPersonArr with these parameters: (Person[] srcArr, int mode), that accepts an array of Person[] objects and appends it to the class' existent private array of Person[] objects.</p>\n<p>The user will be inputting the id, firstname, lastname; id, firstname, lastname;... as many times as they need to enter a new person each time. Each entry between semicolons is a different person, but each word between commas will need to be manipulated separately after</p>\n<p>No imports allowed other than for <code>java.util.Scanner</code></p>\n</blockquote>\n<p>I'm not sure how to put it into the array properly in that case. And I have no idea how to add this onto my private Person[] instance.</p>\n<pre><code>public class Course {\n    private String courseName;\n    private String courseCode;\n    private String classTerm;\n\n    private Person instructor;\n    private Person[] teachAsst;\n    private Person[] student;\n\n// these are all of my private instance variables, i will need to do this adding of arrays method for both teachAsst and Student, but it will be the same process for both. \n\npublic String appendToPersonArr(Person[] srcArr, int mode) {\n\n    System.out.println(&quot;Enter TAs information (ID1, FirstName1, LastName1; ID2,    FirstName2, LastName2):&quot;);\n\n    String input2 = userin.nextLine();\n    String[] parts = input2.split(&quot;;&quot;);\n    \n    }\n</code></pre>\n<p>This is all I have so far for the method, and I genuinely have no idea what to do next. My desired outcome is that the users inputs get added to my existing Person[] array, and can be accessed when I need to print them out.</p>\n<p>NOTE: I'm not allowed to use any imports other than a scanner</p>\n"},{"tags":["java","android","filenotfoundexception","internal-storage"],"comments":[{"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"score":1,"creation_date":1533840122,"post_id":51773785,"comment_id":90506437,"body_markdown":"Have you determined that the file is actually renamed by your code in internal storage? Although this does not appear to be your problem looking at the code you posted, I have had issues with **renameTo()** before when there are edits in progress. And can you provide the log?","body":"Have you determined that the file is actually renamed by your code in internal storage? Although this does not appear to be your problem looking at the code you posted, I have had issues with <b>renameTo()</b> before when there are edits in progress. And can you provide the log?"},{"owner":{"account_id":14125270,"reputation":67,"user_id":10204769,"display_name":"Abdelrahman Hashim"},"score":0,"creation_date":1533840621,"post_id":51773785,"comment_id":90506646,"body_markdown":"@ViaTech  that&#39;s the weird part ,the folder &quot;imageDir&quot; that i created is not in data&gt;data&gt;my app  ,i cant find it  ,even though it read the image from the first load ..and sure one sec.","body":"@ViaTech  that&#39;s the weird part ,the folder &quot;imageDir&quot; that i created is not in data&gt;data&gt;my app  ,i cant find it  ,even though it read the image from the first load ..and sure one sec."},{"owner":{"account_id":14125270,"reputation":67,"user_id":10204769,"display_name":"Abdelrahman Hashim"},"score":0,"creation_date":1533841141,"post_id":51773785,"comment_id":90506864,"body_markdown":"@ViaTech that&#39;s the path  /data/user/0/com.example.abzo.socsoc/app_imageDir  , but  how to access it?  ,i cant see user in data when i use Device explorer","body":"@ViaTech that&#39;s the path  /data/user/0/com.example.abzo.socsoc/app_imageDir  , but  how to access it?  ,i cant see user in data when i use Device explorer"},{"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"score":0,"creation_date":1533843198,"post_id":51773785,"comment_id":90507775,"body_markdown":"Hmm.. the code you provided above does not seem complete so I am not able to recreate your issue directly (at least yet), but yeah since the error you are getting is **No such file or directory**, you are attempting to open a file that does not exist. This can happen for a few reasons which is easy to check if you actually have access to the directory from the Explorer, but since you don&#39;t you will need to troubleshoot the path using logs. In your second code snippet set **filePath = f.getAbsolutePath()** after the rename and **Log.d(&quot;Image&quot;,&quot;first load succcess&quot;);** Does that do anything?","body":"Hmm.. the code you provided above does not seem complete so I am not able to recreate your issue directly (at least yet), but yeah since the error you are getting is <b>No such file or directory</b>, you are attempting to open a file that does not exist. This can happen for a few reasons which is easy to check if you actually have access to the directory from the Explorer, but since you don&#39;t you will need to troubleshoot the path using logs. In your second code snippet set <b>filePath = f.getAbsolutePath()</b> after the rename and <b>Log.d(&quot;Image&quot;,&quot;first load succcess&quot;);</b> Does that do anything?"},{"owner":{"account_id":14125270,"reputation":67,"user_id":10204769,"display_name":"Abdelrahman Hashim"},"score":0,"creation_date":1533894283,"post_id":51773785,"comment_id":90524355,"body_markdown":"@ViaTech it didnt rename it , i checked it ..so there was no such file, why it didnt rename it ?","body":"@ViaTech it didnt rename it , i checked it ..so there was no such file, why it didnt rename it ?"},{"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"score":0,"creation_date":1533913266,"post_id":51773785,"comment_id":90535788,"body_markdown":"I am not certain in your specific situation why the rename is failing because, as I said, this is not your full code, but I have taken the code you have posted and provided a solution that shows it works in the **logs**, please check my post. **Note** in my solution I am not actually grabbing images from the user&#39;s gallery or album, I am just showing how to complete the rename successfully based on the code you provided","body":"I am not certain in your specific situation why the rename is failing because, as I said, this is not your full code, but I have taken the code you have posted and provided a solution that shows it works in the <b>logs</b>, please check my post. <b>Note</b> in my solution I am not actually grabbing images from the user&#39;s gallery or album, I am just showing how to complete the rename successfully based on the code you provided"}],"answers":[{"tags":[],"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1533916573,"creation_date":1533913635,"answer_id":51789385,"question_id":51773785,"body_markdown":"As we discussed in the comments, I believe your **renameTo()** is not working because of some type of hold on the file, but you did not post your full code so I cannot be completely sure. \r\n\r\nWith the code you provided, I have created a **MainActivity** that accomplishes a rename of the file you noted that was stored in **Internal Storage** (i.e. pippo.png). The successful rename is proved in the debug logs when you run the Activity.\r\n\r\n**Note:** In my solution below I am just creating Files and placing them where you said they are supposed to go to provide you an answer of how **renameTo()** should/can be used in your app, I am not actually working with images as you did not provide me with your code that you use to access the images. I&#39;m sure you realize this, but you will need to be sure the image you are working with is being selected correctly by the user and the path is accurate for my example to work when you plug it into your real application.\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            String imageFilename = &quot;pippo.png&quot;;\r\n            //example username, I am not sure how you get this info\r\n            String exampleUsername = &quot;user1&quot;;   \r\n    \r\n            try {\r\n                ContextWrapper cw = new ContextWrapper(getApplicationContext());\r\n                File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\r\n                //check that we are good here...\r\n                if(directory.exists())\r\n                    Log.d(&quot;ImageTAG&quot;, &quot;&#39;imageDir&#39; exists&quot;);\r\n    \r\n                // create imageDir\r\n                File completeImagePath = new File(directory, imageFilename);\r\n    \r\n                //write file\r\n                FileOutputStream out = new FileOutputStream(completeImagePath);\r\n    \r\n                out.flush();\r\n                out.close();\r\n    \r\n                //check to ensure complete image path exists... it should\r\n                if(completeImagePath.exists())\r\n                    Log.d(&quot;ImageTAG&quot;, &quot;&#39;completeImagePath&#39; exists&quot;);\r\n    \r\n                //show full path on device\r\n                Log.d(&quot;ImageTAG&quot;, &quot;Image saved success, complete Image Path: &quot; +\r\n                        completeImagePath.getAbsolutePath());\r\n    \r\n                //redeclaration of file here is not needed, but added for clarity\r\n                File from = new File(completeImagePath.getAbsolutePath());\r\n                //what you are renaming the file to\r\n                File to = new File(directory, exampleUsername + &quot;.png&quot;);\r\n                //now rename\r\n                Boolean success = from.renameTo(to);\r\n    \r\n                Log.d(&quot;ImageTAG&quot;, &quot;Successful Rename: &quot;+success.toString()+&quot;| File is now named: &quot;+to.getPath());\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                Log.d(&quot;ImageTAG&quot;,&quot;saved failed&quot;);\r\n            }\r\n    \r\n        }\r\n    }","title":"How to rename a file in internal Storage?","body":"<p>As we discussed in the comments, I believe your <strong>renameTo()</strong> is not working because of some type of hold on the file, but you did not post your full code so I cannot be completely sure. </p>\n\n<p>With the code you provided, I have created a <strong>MainActivity</strong> that accomplishes a rename of the file you noted that was stored in <strong>Internal Storage</strong> (i.e. pippo.png). The successful rename is proved in the debug logs when you run the Activity.</p>\n\n<p><strong>Note:</strong> In my solution below I am just creating Files and placing them where you said they are supposed to go to provide you an answer of how <strong>renameTo()</strong> should/can be used in your app, I am not actually working with images as you did not provide me with your code that you use to access the images. I'm sure you realize this, but you will need to be sure the image you are working with is being selected correctly by the user and the path is accurate for my example to work when you plug it into your real application.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        String imageFilename = \"pippo.png\";\n        //example username, I am not sure how you get this info\n        String exampleUsername = \"user1\";   \n\n        try {\n            ContextWrapper cw = new ContextWrapper(getApplicationContext());\n            File directory = cw.getDir(\"imageDir\", Context.MODE_PRIVATE);\n            //check that we are good here...\n            if(directory.exists())\n                Log.d(\"ImageTAG\", \"'imageDir' exists\");\n\n            // create imageDir\n            File completeImagePath = new File(directory, imageFilename);\n\n            //write file\n            FileOutputStream out = new FileOutputStream(completeImagePath);\n\n            out.flush();\n            out.close();\n\n            //check to ensure complete image path exists... it should\n            if(completeImagePath.exists())\n                Log.d(\"ImageTAG\", \"'completeImagePath' exists\");\n\n            //show full path on device\n            Log.d(\"ImageTAG\", \"Image saved success, complete Image Path: \" +\n                    completeImagePath.getAbsolutePath());\n\n            //redeclaration of file here is not needed, but added for clarity\n            File from = new File(completeImagePath.getAbsolutePath());\n            //what you are renaming the file to\n            File to = new File(directory, exampleUsername + \".png\");\n            //now rename\n            Boolean success = from.renameTo(to);\n\n            Log.d(\"ImageTAG\", \"Successful Rename: \"+success.toString()+\"| File is now named: \"+to.getPath());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            Log.d(\"ImageTAG\",\"saved failed\");\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681712850,"creation_date":1681712850,"answer_id":76032230,"question_id":51773785,"body_markdown":"In **Kotlin**, This way is the simplest one:     \r\n\r\n    try {\r\n                    val dir =context.getDir(&quot;imageDir&quot;, AppCompatActivity.MODE_PRIVATE)\r\n                    if (dir.exists()) {\r\n                        val from = File(dir, &quot;old_name.png&quot;)\r\n                        val to = File(dir, &quot;new_Name.png&quot;)\r\n                        if (from.exists()) from.renameTo(to)\r\n                    }\r\n        } catch (e: IOException) {\r\n                    e.printStackTrace()\r\n                   \r\n                }catch (e:NullPointerException){\r\n                    e.printStackTrace()\r\n                  \r\n                }","title":"How to rename a file in internal Storage?","body":"<p>In <strong>Kotlin</strong>, This way is the simplest one:</p>\n<pre><code>try {\n                val dir =context.getDir(&quot;imageDir&quot;, AppCompatActivity.MODE_PRIVATE)\n                if (dir.exists()) {\n                    val from = File(dir, &quot;old_name.png&quot;)\n                    val to = File(dir, &quot;new_Name.png&quot;)\n                    if (from.exists()) from.renameTo(to)\n                }\n    } catch (e: IOException) {\n                e.printStackTrace()\n               \n            }catch (e:NullPointerException){\n                e.printStackTrace()\n              \n            }\n</code></pre>\n"}],"owner":{"account_id":14125270,"reputation":67,"user_id":10204769,"display_name":"Abdelrahman Hashim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3659,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51789385,"answer_count":2,"score":2,"last_activity_date":1681712850,"creation_date":1533839853,"question_id":51773785,"body_markdown":"I have an image that I got from the user&#39;s album and I saved it in a folder. \r\n\r\nhere is the code:\r\n\r\n  \r\n\r\n       filename = &quot;pippo.png&quot;;\r\n    \r\n                 try {\r\n                        ContextWrapper cw = new ContextWrapper(getApplicationContext());\r\n                        File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\r\n    \r\n                        // Create imageDir\r\n                        File myPath = new File(directory,filename);\r\n    \r\n                        FileOutputStream out = new FileOutputStream(myPath);\r\n    \r\n                        theImage.compress(Bitmap.CompressFormat.PNG, 90, out);\r\n                        out.flush();\r\n                        out.close();\r\n                        Log.d(&quot;Image&quot;,&quot;saved success&quot;);\r\n    \r\n                       picture =  directory.getAbsolutePath();\r\n    \r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        Log.d(&quot;Image&quot;,&quot;saved failed&quot;);\r\n    \r\n                    }\r\n\r\nThen i read the image and change its name by that code:\r\n\r\n \r\n\r\n    if(comingIntent.hasExtra(&quot;FILEPATH&quot;))\r\n                    {\r\n    \r\n                        filePath = comingIntent.getStringExtra(&quot;FILEPATH&quot;);\r\n                        String filename = &quot;pippo.png&quot;;\r\n    \r\n                        try {\r\n                            File f = new File(filePath, filename);\r\n                            Bitmap b = BitmapFactory.decodeStream(new FileInputStream(f));\r\n                            playerImage.setImageBitmap(b);\r\n    \r\n                            File newfile = new File(filePath,username+&quot;.png&quot;);\r\n                            f.renameTo(newfile);\r\n                            Log.d(&quot;Image&quot;,&quot;first load succcess&quot;);\r\n    \r\n                        }\r\n                        catch (FileNotFoundException e)\r\n                        {\r\n                            e.printStackTrace();\r\n                            Log.d(&quot;Image&quot;,&quot;first load failed&quot;);\r\n    \r\n                        }\r\n\r\nBut then when I try to reload the image with its new name, I get a file not found exception, that&#39;s the code:\r\n\r\n    try {\r\n           File f = new File(filePath, username+&quot;.png&quot;);\r\n           Bitmap b = BitmapFactory.decodeStream(new FileInputStream(f));\r\n           playerImage.setImageBitmap(b);\r\n    \r\n           Log.d(&quot;Image&quot;,&quot;second load succcess&quot;);  }\r\n\r\n     catch (FileNotFoundException e)\r\n           {\r\n             e.printStackTrace();\r\n             Log.d(&quot;Image&quot;,&quot;second load failed&quot;); }\r\n\r\n\r\nThat&#39;s the Log error:\r\n\r\n&gt; 08-09 20:23:50.730 15052-15052/? W/System.err:\r\n&gt; java.io.FileNotFoundException: lol1.png: open failed: ENOENT (No such\r\n&gt; file or directory) 08-09 20:23:50.743 15052-15052/? W/System.err:    \r\n&gt; at libcore.io.IoBridge.open(IoBridge.java:452)\r\n&gt;         at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:76)\r\n&gt;         at com.example.abzo.socsoc.PlayerHomePage.onCreate(PlayerHomePage.java:103)\r\n&gt;         at android.app.Activity.performCreate(Activity.java:6285)\r\n&gt;         at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)\r\n&gt;         at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2414)\r\n&gt;         at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2521)\r\n&gt;         at android.app.ActivityThread.access$900(ActivityThread.java:150)\r\n&gt;         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1383)\r\n&gt;         at android.os.Handler.dispatchMessage(Handler.java:102)\r\n&gt;         at android.os.Looper.loop(Looper.java:148)\r\n&gt;         at android.app.ActivityThread.main(ActivityThread.java:5517)\r\n&gt;         at java.lang.reflect.Method.invoke(Native Method)\r\n&gt;         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n&gt;         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n&gt;     Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\r\n&gt;         at libcore.io.Posix.open(Native Method)\r\n&gt;         at libcore.io.BlockGuardOs.open(BlockGuardOs.java:186)\r\n&gt;         at libcore.io.IoBridge.open(IoBridge.java:438)\r\n&gt;     \t... 14 more 08-09 20:23:50.744 15052-15052/? D/Image: second load failed\r\n\r\n","title":"How to rename a file in internal Storage?","body":"<p>I have an image that I got from the user's album and I saved it in a folder. </p>\n\n<p>here is the code:</p>\n\n<pre><code>   filename = \"pippo.png\";\n\n             try {\n                    ContextWrapper cw = new ContextWrapper(getApplicationContext());\n                    File directory = cw.getDir(\"imageDir\", Context.MODE_PRIVATE);\n\n                    // Create imageDir\n                    File myPath = new File(directory,filename);\n\n                    FileOutputStream out = new FileOutputStream(myPath);\n\n                    theImage.compress(Bitmap.CompressFormat.PNG, 90, out);\n                    out.flush();\n                    out.close();\n                    Log.d(\"Image\",\"saved success\");\n\n                   picture =  directory.getAbsolutePath();\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                    Log.d(\"Image\",\"saved failed\");\n\n                }\n</code></pre>\n\n<p>Then i read the image and change its name by that code:</p>\n\n<pre><code>if(comingIntent.hasExtra(\"FILEPATH\"))\n                {\n\n                    filePath = comingIntent.getStringExtra(\"FILEPATH\");\n                    String filename = \"pippo.png\";\n\n                    try {\n                        File f = new File(filePath, filename);\n                        Bitmap b = BitmapFactory.decodeStream(new FileInputStream(f));\n                        playerImage.setImageBitmap(b);\n\n                        File newfile = new File(filePath,username+\".png\");\n                        f.renameTo(newfile);\n                        Log.d(\"Image\",\"first load succcess\");\n\n                    }\n                    catch (FileNotFoundException e)\n                    {\n                        e.printStackTrace();\n                        Log.d(\"Image\",\"first load failed\");\n\n                    }\n</code></pre>\n\n<p>But then when I try to reload the image with its new name, I get a file not found exception, that's the code:</p>\n\n<pre><code>try {\n       File f = new File(filePath, username+\".png\");\n       Bitmap b = BitmapFactory.decodeStream(new FileInputStream(f));\n       playerImage.setImageBitmap(b);\n\n       Log.d(\"Image\",\"second load succcess\");  }\n\n catch (FileNotFoundException e)\n       {\n         e.printStackTrace();\n         Log.d(\"Image\",\"second load failed\"); }\n</code></pre>\n\n<p>That's the Log error:</p>\n\n<blockquote>\n  <p>08-09 20:23:50.730 15052-15052/? W/System.err:\n  java.io.FileNotFoundException: lol1.png: open failed: ENOENT (No such\n  file or directory) 08-09 20:23:50.743 15052-15052/? W/System.err:<br>\n  at libcore.io.IoBridge.open(IoBridge.java:452)\n          at java.io.FileInputStream.(FileInputStream.java:76)\n          at com.example.abzo.socsoc.PlayerHomePage.onCreate(PlayerHomePage.java:103)\n          at android.app.Activity.performCreate(Activity.java:6285)\n          at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1108)\n          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2414)\n          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2521)\n          at android.app.ActivityThread.access$900(ActivityThread.java:150)\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1383)\n          at android.os.Handler.dispatchMessage(Handler.java:102)\n          at android.os.Looper.loop(Looper.java:148)\n          at android.app.ActivityThread.main(ActivityThread.java:5517)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n      Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\n          at libcore.io.Posix.open(Native Method)\n          at libcore.io.BlockGuardOs.open(BlockGuardOs.java:186)\n          at libcore.io.IoBridge.open(IoBridge.java:438)\n        ... 14 more 08-09 20:23:50.744 15052-15052/? D/Image: second load failed</p>\n</blockquote>\n"},{"tags":["java","spring","nginx","tomcat","vps"],"comments":[{"owner":{"account_id":28222744,"reputation":11,"user_id":21573224,"display_name":"Norbert Jakubiec"},"score":0,"creation_date":1681661580,"post_id":76024484,"comment_id":134089024,"body_markdown":"If there is any more information I can provide, just tell.","body":"If there is any more information I can provide, just tell."},{"owner":{"account_id":28222744,"reputation":11,"user_id":21573224,"display_name":"Norbert Jakubiec"},"score":0,"creation_date":1682377596,"post_id":76024484,"comment_id":134202792,"body_markdown":"I know that post is dead, but I tried to add additional configuration to spring security, related to CORS, but it didnt helped.","body":"I know that post is dead, but I tried to add additional configuration to spring security, related to CORS, but it didnt helped."}],"owner":{"account_id":28222744,"reputation":11,"user_id":21573224,"display_name":"Norbert Jakubiec"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681712790,"creation_date":1681588852,"question_id":76024484,"body_markdown":"I have 2 problems that seem to be related to each other.\r\n\r\n1. I have deployed 2 Java Spring Boot web apps (frontend Vaadin app and backend) on VPS linux based Tomcat server.\r\nBoth of them work while testing in development environment (IntelliJ-provided Tomcat) and also when deploying to Tomcat server installed on my localhost manually.\r\nIf I deploy my backend on my Tomcat VPS and try to communicate with it using Postman, it also works (I can use open endpoints without any issues).\r\nSame goes to front - it works by itself when accessing using VPS Tomcat interface.\r\nWhat doesn&#39;t work is when I deploy both my apps and make them communicate with eachother. It looks like there is some sort of timeout, but there is nothing in the catalina.out logs. Logs from the moment I&#39;m trying to communicate with the backend in catalina.out (all have status 200):\r\n\r\n&gt; 2023-04-15 19:12:47.541 DEBUG 175 --- [io-20656-exec-9]\r\n&gt; o.s.security.web.FilterChainProxy        : Securing POST\r\n&gt; /?v-r=uidl&amp;v-uiId=3 2023-04-15 19:12:47.542 DEBUG 175 ---\r\n&gt; [io-20656-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set\r\n&gt; SecurityContextHolder to empty SecurityContext 2023-04-15 19:12:47.542\r\n&gt; DEBUG 175 --- [io-20656-exec-9]\r\n&gt; o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder\r\n&gt; to anonymous SecurityContext 2023-04-15 19:12:47.542 DEBUG 175 ---\r\n&gt; [io-20656-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    :\r\n&gt; Authorized filter invocation [POST /?v-r=uidl&amp;v-uiId=3] with\r\n&gt; attributes [permitAll] 2023-04-15 19:12:47.542 DEBUG 175 ---\r\n&gt; [io-20656-exec-9] o.s.security.web.FilterChainProxy        : Secured\r\n&gt; POST /?v-r=uidl&amp;v-uiId=3 2023-04-15 19:12:47.542 DEBUG 175 ---\r\n&gt; [io-20656-exec-9] o.s.web.servlet.DispatcherServlet        : POST\r\n&gt; &quot;/BeersAndMealsAppFrontendDebug/?v-r=uidl&amp;v-uiId=3&quot;,\r\n&gt; parameters={masked} 2023-04-15 19:12:47.544 DEBUG 175 ---\r\n&gt; [io-20656-exec-9] w.c.HttpSessionSecurityContextRepository : Did not\r\n&gt; store anonymous SecurityContext 2023-04-15 19:12:47.544 DEBUG 175 ---\r\n&gt; [io-20656-exec-9] o.s.web.servlet.DispatcherServlet        : Completed\r\n&gt; 200 OK 2023-04-15 19:12:47.544 DEBUG 175 --- [io-20656-exec-9]\r\n&gt; w.c.HttpSessionSecurityContextRepository : Did not store anonymous\r\n&gt; SecurityContext 2023-04-15 19:12:47.544 DEBUG 175 ---\r\n&gt; [io-20656-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared\r\n&gt; SecurityContextHolder to complete request 2023-04-15 19:12:47.651\r\n&gt; DEBUG 175 --- [o-20656-exec-10] o.s.security.web.FilterChainProxy     \r\n&gt; : Securing GET /create_account 2023-04-15 19:12:47.651 DEBUG 175 ---\r\n&gt; [o-20656-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set\r\n&gt; SecurityContextHolder to empty SecurityContext 2023-04-15 19:12:47.651\r\n&gt; DEBUG 175 --- [o-20656-exec-10]\r\n&gt; o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder\r\n&gt; to anonymous SecurityContext 2023-04-15 19:12:47.651 DEBUG 175 ---\r\n&gt; [o-20656-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    :\r\n&gt; Authorized filter invocation [GET /create_account] with attributes\r\n&gt; [permitAll] 2023-04-15 19:12:47.651 DEBUG 175 --- [o-20656-exec-10]\r\n&gt; o.s.security.web.FilterChainProxy        : Secured GET /create_account\r\n&gt; 2023-04-15 19:12:47.651 DEBUG 175 --- [o-20656-exec-10]\r\n&gt; o.s.web.servlet.DispatcherServlet        : GET\r\n&gt; &quot;/BeersAndMealsAppFrontendDebug/create_account&quot;, parameters={}\r\n&gt; 2023-04-15 19:12:47.666 DEBUG 175 --- [o-20656-exec-10]\r\n&gt; w.c.HttpSessionSecurityContextRepository : Did not store anonymous\r\n&gt; SecurityContext 2023-04-15 19:12:47.666 DEBUG 175 ---\r\n&gt; [o-20656-exec-10] o.s.web.servlet.DispatcherServlet        : Completed\r\n&gt; 200 OK 2023-04-15 19:12:47.666 DEBUG 175 --- [o-20656-exec-10]\r\n&gt; w.c.HttpSessionSecurityContextRepository : Did not store anonymous\r\n&gt; SecurityContext 2023-04-15 19:12:47.666 DEBUG 175 ---\r\n&gt; [o-20656-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared\r\n&gt; SecurityContextHolder to complete request 2023-04-15 19:12:47.894\r\n&gt; DEBUG 175 --- [io-20656-exec-3] o.s.security.web.FilterChainProxy     \r\n&gt; : Securing GET /?v-r=init&amp;location=create_account&amp;query= 2023-04-15\r\n&gt; 19:12:47.894 DEBUG 175 --- [io-20656-exec-3]\r\n&gt; s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder\r\n&gt; to empty SecurityContext 2023-04-15 19:12:47.894 DEBUG 175 ---\r\n&gt; [io-20656-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set\r\n&gt; SecurityContextHolder to anonymous SecurityContext 2023-04-15\r\n&gt; 19:12:47.896 DEBUG 175 --- [io-20656-exec-3]\r\n&gt; o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter\r\n&gt; invocation [GET /?v-r=init&amp;location=create_account&amp;query=] with\r\n&gt; attributes [permitAll] 2023-04-15 19:12:47.896 DEBUG 175 ---\r\n&gt; [io-20656-exec-3] o.s.security.web.FilterChainProxy        : Secured\r\n&gt; GET /?v-r=init&amp;location=create_account&amp;query= 2023-04-15 19:12:47.897\r\n&gt; DEBUG 175 --- [io-20656-exec-3] o.s.web.servlet.DispatcherServlet     \r\n&gt; : GET\r\n&gt; &quot;/BeersAndMealsAppFrontendDebug/?v-r=init&amp;location=create_account&amp;query=&quot;,\r\n&gt; parameters={masked} 2023-04-15 19:12:47.899 DEBUG 175 ---\r\n&gt; [io-20656-exec-3] w.c.HttpSessionSecurityContextRepository : Did not\r\n&gt; store anonymous SecurityContext 2023-04-15 19:12:47.899 DEBUG 175 ---\r\n&gt; [io-20656-exec-3] o.s.web.servlet.DispatcherServlet        : Completed\r\n&gt; 200 OK 2023-04-15 19:12:47.900 DEBUG 175 --- [io-20656-exec-3]\r\n&gt; w.c.HttpSessionSecurityContextRepository : Did not store anonymous\r\n&gt; SecurityContext 2023-04-15 19:12:47.900 DEBUG 175 ---\r\n&gt; [io-20656-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared\r\n&gt; SecurityContextHolder to complete request 2023-04-15 19:12:48.073\r\n&gt; DEBUG 175 --- [io-20656-exec-5] o.s.security.web.FilterChainProxy     \r\n&gt; : Securing POST /?v-r=uidl&amp;v-uiId=4 2023-04-15 19:12:48.073 DEBUG 175\r\n&gt; --- [io-20656-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext 2023-04-15 19:12:48.073\r\n&gt; DEBUG 175 --- [io-20656-exec-5]\r\n&gt; o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder\r\n&gt; to anonymous SecurityContext 2023-04-15 19:12:48.073 DEBUG 175 ---\r\n&gt; [io-20656-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    :\r\n&gt; Authorized filter invocation [POST /?v-r=uidl&amp;v-uiId=4] with\r\n&gt; attributes [permitAll] 2023-04-15 19:12:48.073 DEBUG 175 ---\r\n&gt; [io-20656-exec-5] o.s.security.web.FilterChainProxy        : Secured\r\n&gt; POST /?v-r=uidl&amp;v-uiId=4 2023-04-15 19:12:48.073 DEBUG 175 ---\r\n&gt; [io-20656-exec-5] o.s.web.servlet.DispatcherServlet        : POST\r\n&gt; &quot;/BeersAndMealsAppFrontendDebug/?v-r=uidl&amp;v-uiId=4&quot;,\r\n&gt; parameters={masked} 2023-04-15 19:12:48.075 DEBUG 175 ---\r\n&gt; [io-20656-exec-5] o.s.b.f.s.DefaultListableBeanFactory     :\r\n&gt; Autowiring by type from bean name\r\n&gt; &#39;com.cokroktosmok.beersandmealsappfront.view.CreateAccountForm&#39; via\r\n&gt; constructor to bean named &#39;backendCommunicationClient&#39; 2023-04-15\r\n&gt; 19:12:48.075 DEBUG 175 --- [io-20656-exec-5]\r\n&gt; o.s.b.f.s.DefaultListableBeanFactory     : Autowiring by type from\r\n&gt; bean name\r\n&gt; &#39;com.cokroktosmok.beersandmealsappfront.view.CreateAccountForm&#39; via\r\n&gt; constructor to bean named &#39;createdUserDto&#39; 2023-04-15 19:12:48.079\r\n&gt; DEBUG 175 --- [io-20656-exec-5] o.s.web.client.RestTemplate           \r\n&gt; : HTTP GET\r\n&gt; http://maluch.mikr.us:20656/BeersAndMealsAppBackendDebug/user/login_validator?login=\r\n&gt; 2023-04-15 19:12:48.080 DEBUG 175 --- [io-20656-exec-5]\r\n&gt; o.s.web.client.RestTemplate              : Accept=[application/json,\r\n&gt; application/*+json] 2023-04-15 19:14:58.576 DEBUG 175 ---\r\n&gt; [io-20656-exec-5] w.c.HttpSessionSecurityContextRepository : Did not\r\n&gt; store anonymous SecurityContext 2023-04-15 19:14:58.577 DEBUG 175 ---\r\n&gt; [io-20656-exec-5] o.s.web.servlet.DispatcherServlet        : Completed\r\n&gt; 200 OK 2023-04-15 19:14:58.577 DEBUG 175 --- [io-20656-exec-5]\r\n&gt; w.c.HttpSessionSecurityContextRepository : Did not store anonymous\r\n&gt; SecurityContext 2023-04-15 19:14:58.577 DEBUG 175 ---\r\n&gt; [io-20656-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared\r\n&gt; SecurityContextHolder to complete request 2023-04-15 19:14:58.698\r\n&gt; DEBUG 175 --- [io-20656-exec-1] o.s.security.web.FilterChainProxy     \r\n&gt; : Securing POST /?v-r=uidl&amp;v-uiId=4 2023-04-15 19:14:58.698 DEBUG 175\r\n&gt; --- [io-20656-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext 2023-04-15 19:14:58.698\r\n&gt; DEBUG 175 --- [io-20656-exec-1]\r\n&gt; o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder\r\n&gt; to anonymous SecurityContext 2023-04-15 19:14:58.698 DEBUG 175 ---\r\n&gt; [io-20656-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    :\r\n&gt; Authorized filter invocation [POST /?v-r=uidl&amp;v-uiId=4] with\r\n&gt; attributes [permitAll] 2023-04-15 19:14:58.698 DEBUG 175 ---\r\n&gt; [io-20656-exec-1] o.s.security.web.FilterChainProxy        : Secured\r\n&gt; POST /?v-r=uidl&amp;v-uiId=4 2023-04-15 19:14:58.698 DEBUG 175 ---\r\n&gt; [io-20656-exec-1] o.s.web.servlet.DispatcherServlet        : POST\r\n&gt; &quot;/BeersAndMealsAppFrontendDebug/?v-r=uidl&amp;v-uiId=4&quot;,\r\n&gt; parameters={masked} 2023-04-15 19:14:58.700 DEBUG 175 ---\r\n&gt; [io-20656-exec-1] w.c.HttpSessionSecurityContextRepository : Did not\r\n&gt; store anonymous SecurityContext 2023-04-15 19:14:58.700 DEBUG 175 ---\r\n&gt; [io-20656-exec-1] o.s.web.servlet.DispatcherServlet        : Completed\r\n&gt; 200 OK 2023-04-15 19:14:58.700 DEBUG 175 --- [io-20656-exec-1]\r\n&gt; w.c.HttpSessionSecurityContextRepository : Did not store anonymous\r\n&gt; SecurityContext 2023-04-15 19:14:58.700 DEBUG 175 ---\r\n&gt; [io-20656-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared\r\n&gt; SecurityContextHolder to complete request 2023-04-15 19:14:58.731\r\n&gt; DEBUG 175 --- [io-20656-exec-2] o.s.security.web.FilterChainProxy     \r\n&gt; : Securing GET\r\n&gt; /VAADIN/dynamic/resource/4/7d9b172b-29b9-4201-acb1-15a416862d95/logo.png\r\n&gt; 2023-04-15 19:14:58.731 DEBUG 175 --- [io-20656-exec-2]\r\n&gt; s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder\r\n&gt; to empty SecurityContext 2023-04-15 19:14:58.731 DEBUG 175 ---\r\n&gt; [io-20656-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set\r\n&gt; SecurityContextHolder to anonymous SecurityContext 2023-04-15\r\n&gt; 19:14:58.732 DEBUG 175 --- [io-20656-exec-2]\r\n&gt; o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter\r\n&gt; invocation [GET\r\n&gt; /VAADIN/dynamic/resource/4/7d9b172b-29b9-4201-acb1-15a416862d95/logo.png]\r\n&gt; with attributes [permitAll] 2023-04-15 19:14:58.732 DEBUG 175 ---\r\n&gt; [io-20656-exec-2] o.s.security.web.FilterChainProxy        : Secured\r\n&gt; GET\r\n&gt; /VAADIN/dynamic/resource/4/7d9b172b-29b9-4201-acb1-15a416862d95/logo.png\r\n&gt; 2023-04-15 19:14:58.732 DEBUG 175 --- [io-20656-exec-2]\r\n&gt; o.s.web.servlet.DispatcherServlet        : GET\r\n&gt; &quot;/BeersAndMealsAppFrontendDebug/VAADIN/dynamic/resource/4/7d9b172b-29b9-4201-acb1-15a416862d95/logo.png&quot;,\r\n&gt; parameters={} 2023-04-15 19:14:58.747 DEBUG 175 --- [io-20656-exec-2]\r\n&gt; w.c.HttpSessionSecurityContextRepository : Did not store anonymous\r\n&gt; SecurityContext 2023-04-15 19:14:58.884 DEBUG 175 ---\r\n&gt; [io-20656-exec-2] o.s.web.servlet.DispatcherServlet        : Completed\r\n&gt; 200 OK 2023-04-15 19:14:58.884 DEBUG 175 --- [io-20656-exec-2]\r\n&gt; w.c.HttpSessionSecurityContextRepository : Did not store anonymous\r\n&gt; SecurityContext 2023-04-15 19:14:58.884 DEBUG 175 ---\r\n&gt; [io-20656-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared\r\n&gt; SecurityContextHolder to complete request\r\n\r\nI have added a small popup to my frontend that checks the response code from my backend, and it gives a &quot;500 Internal Server Error&quot;. However, as you can see, there is nothing in catalina.out, even though the logs are configured to be at the INFO level. From a user perspective, after I try to access the functionality that requires communication with my backend, the page gets stuck on loading, and after a few minutes, the &quot;failsafe&quot; kicks in (coded in case the response codes from the backend are not 200). From my perspective, it looks like some sort of timeouts, but as stated before, there is nothing in catalina.out.\r\n\r\n2. The second problem is somewhat related to the first one. I&#39;ve configured the domain, Cloudflare, and Nginx to redirect communication to my Tomcat. I know that DNS and Cloudflare are configured properly because the VPS has a dummy server setup on it, and my domain successfully redirects to it without Nginx. The problem starts when I&#39;m trying to redirect traffic to my Tomcat using reverse proxy. When trying to access the page, I&#39;m getting a 504 on my web browser, and Nginx saves error logs like this: \r\n\r\n&gt; 2023/04/15 19:27:46 [error] 180#180: *5 upstream timed out (110:\r\n&gt; Connection timed out) while connecting to upstream, client:\r\n&gt; 2400:cb00:632:1024::6ca2:e2e5, server: 2a01:4f9:6a:18a8::656, request:\r\n&gt; &quot;GET /cms/wp-includes/wlwmanifest.xml HTTP/1.1&quot;, upstream:\r\n&gt; &quot;http://65.21.225.215:20656/BeersAndMealsAppFullV2/cms/wp-includes/wlwmanifest.xml&quot;, host: &quot;beersandmeals.xyz&quot; 2023/04/15 19:28:14 [error] 180#180: *22\r\n&gt; upstream timed out (110: Connection timed out) while connecting to\r\n&gt; upstream, client: 2400:cb00:12:1024::ac45:217f, server:\r\n&gt; 2a01:4f9:6a:18a8::656, request: &quot;GET / HTTP/1.1&quot;, upstream:\r\n&gt; &quot;http://65.21.225.215:20656/BeersAndMealsAppFullV2/&quot;, host:\r\n&gt; &quot;beersandmeals.xyz&quot; 2023/04/15 19:28:46 [error] 180#180: *5 upstream\r\n&gt; timed out (110: Connection timed out) while connecting to upstream,\r\n&gt; client: 2400:cb00:632:1024::6ca2:e2e5, server: 2a01:4f9:6a:18a8::656,\r\n&gt; request: &quot;GET /sito/wp-includes/wlwmanifest.xml HTTP/1.1&quot;, upstream:\r\n&gt; &quot;http://65.21.225.215:20656/BeersAndMealsAppFullV2/sito/wp-includes/wlwmanifest.xml&quot;, host: &quot;beersandmeals.xyz&quot; 2023/04/15 19:29:14 [error] 180#180: *22\r\n&gt; upstream timed out (110: Connection timed out) while connecting to\r\n&gt; upstream, client: 2400:cb00:12:1024::ac45:217f, server:\r\n&gt; 2a01:4f9:6a:18a8::656, request: &quot;GET /blog/wp-includes/wlwmanifest.xml\r\n&gt; HTTP/1.1&quot;, upstream:\r\n&gt; &quot;http://65.21.225.215:20656/BeersAndMealsAppFullV2/blog/wp-includes/wlwmanifest.xml&quot;, host: &quot;beersandmeals.xyz&quot;\r\n\r\nFor me, both problems are related and connected to something restricting the connection between apps or accessing them, and it also feel like it must be tomcat/VPS related, but after a week of trying, I still can&#39;t pinpoint the problem. \r\n\r\n\r\nWhat I tried:\r\n\r\n1. Fresh installation of everything.\r\n\r\n2. Testing multiple versions of Tomcat.\r\n\r\n3. Testing multiple browsers.\r\n\r\n4. Changing the levels of the catalina.out logs in the hope that there will be some sort of error.\r\n\r\n5. Checking firewall settings.\r\n\r\n6. Giving tomcat user root status.\r\n\r\n7. I have also briefly talked with a senior DevOps, and he suggested dropping Tomcat for something more modern, but if it&#39;s VPS related, then it would be just a massive waste of time.\r\n\r\n","title":"Java web apps refuse to communicate with eachother while deployed on VPS tomcat server","body":"<p>I have 2 problems that seem to be related to each other.</p>\n<ol>\n<li>I have deployed 2 Java Spring Boot web apps (frontend Vaadin app and backend) on VPS linux based Tomcat server.\nBoth of them work while testing in development environment (IntelliJ-provided Tomcat) and also when deploying to Tomcat server installed on my localhost manually.\nIf I deploy my backend on my Tomcat VPS and try to communicate with it using Postman, it also works (I can use open endpoints without any issues).\nSame goes to front - it works by itself when accessing using VPS Tomcat interface.\nWhat doesn't work is when I deploy both my apps and make them communicate with eachother. It looks like there is some sort of timeout, but there is nothing in the catalina.out logs. Logs from the moment I'm trying to communicate with the backend in catalina.out (all have status 200):</li>\n</ol>\n<blockquote>\n<p>2023-04-15 19:12:47.541 DEBUG 175 --- [io-20656-exec-9]\no.s.security.web.FilterChainProxy        : Securing POST\n/?v-r=uidl&amp;v-uiId=3 2023-04-15 19:12:47.542 DEBUG 175 ---\n[io-20656-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set\nSecurityContextHolder to empty SecurityContext 2023-04-15 19:12:47.542\nDEBUG 175 --- [io-20656-exec-9]\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder\nto anonymous SecurityContext 2023-04-15 19:12:47.542 DEBUG 175 ---\n[io-20656-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    :\nAuthorized filter invocation [POST /?v-r=uidl&amp;v-uiId=3] with\nattributes [permitAll] 2023-04-15 19:12:47.542 DEBUG 175 ---\n[io-20656-exec-9] o.s.security.web.FilterChainProxy        : Secured\nPOST /?v-r=uidl&amp;v-uiId=3 2023-04-15 19:12:47.542 DEBUG 175 ---\n[io-20656-exec-9] o.s.web.servlet.DispatcherServlet        : POST\n&quot;/BeersAndMealsAppFrontendDebug/?v-r=uidl&amp;v-uiId=3&quot;,\nparameters={masked} 2023-04-15 19:12:47.544 DEBUG 175 ---\n[io-20656-exec-9] w.c.HttpSessionSecurityContextRepository : Did not\nstore anonymous SecurityContext 2023-04-15 19:12:47.544 DEBUG 175 ---\n[io-20656-exec-9] o.s.web.servlet.DispatcherServlet        : Completed\n200 OK 2023-04-15 19:12:47.544 DEBUG 175 --- [io-20656-exec-9]\nw.c.HttpSessionSecurityContextRepository : Did not store anonymous\nSecurityContext 2023-04-15 19:12:47.544 DEBUG 175 ---\n[io-20656-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared\nSecurityContextHolder to complete request 2023-04-15 19:12:47.651\nDEBUG 175 --- [o-20656-exec-10] o.s.security.web.FilterChainProxy<br />\n: Securing GET /create_account 2023-04-15 19:12:47.651 DEBUG 175 ---\n[o-20656-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set\nSecurityContextHolder to empty SecurityContext 2023-04-15 19:12:47.651\nDEBUG 175 --- [o-20656-exec-10]\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder\nto anonymous SecurityContext 2023-04-15 19:12:47.651 DEBUG 175 ---\n[o-20656-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    :\nAuthorized filter invocation [GET /create_account] with attributes\n[permitAll] 2023-04-15 19:12:47.651 DEBUG 175 --- [o-20656-exec-10]\no.s.security.web.FilterChainProxy        : Secured GET /create_account\n2023-04-15 19:12:47.651 DEBUG 175 --- [o-20656-exec-10]\no.s.web.servlet.DispatcherServlet        : GET\n&quot;/BeersAndMealsAppFrontendDebug/create_account&quot;, parameters={}\n2023-04-15 19:12:47.666 DEBUG 175 --- [o-20656-exec-10]\nw.c.HttpSessionSecurityContextRepository : Did not store anonymous\nSecurityContext 2023-04-15 19:12:47.666 DEBUG 175 ---\n[o-20656-exec-10] o.s.web.servlet.DispatcherServlet        : Completed\n200 OK 2023-04-15 19:12:47.666 DEBUG 175 --- [o-20656-exec-10]\nw.c.HttpSessionSecurityContextRepository : Did not store anonymous\nSecurityContext 2023-04-15 19:12:47.666 DEBUG 175 ---\n[o-20656-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared\nSecurityContextHolder to complete request 2023-04-15 19:12:47.894\nDEBUG 175 --- [io-20656-exec-3] o.s.security.web.FilterChainProxy<br />\n: Securing GET /?v-r=init&amp;location=create_account&amp;query= 2023-04-15\n19:12:47.894 DEBUG 175 --- [io-20656-exec-3]\ns.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder\nto empty SecurityContext 2023-04-15 19:12:47.894 DEBUG 175 ---\n[io-20656-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set\nSecurityContextHolder to anonymous SecurityContext 2023-04-15\n19:12:47.896 DEBUG 175 --- [io-20656-exec-3]\no.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter\ninvocation [GET /?v-r=init&amp;location=create_account&amp;query=] with\nattributes [permitAll] 2023-04-15 19:12:47.896 DEBUG 175 ---\n[io-20656-exec-3] o.s.security.web.FilterChainProxy        : Secured\nGET /?v-r=init&amp;location=create_account&amp;query= 2023-04-15 19:12:47.897\nDEBUG 175 --- [io-20656-exec-3] o.s.web.servlet.DispatcherServlet<br />\n: GET\n&quot;/BeersAndMealsAppFrontendDebug/?v-r=init&amp;location=create_account&amp;query=&quot;,\nparameters={masked} 2023-04-15 19:12:47.899 DEBUG 175 ---\n[io-20656-exec-3] w.c.HttpSessionSecurityContextRepository : Did not\nstore anonymous SecurityContext 2023-04-15 19:12:47.899 DEBUG 175 ---\n[io-20656-exec-3] o.s.web.servlet.DispatcherServlet        : Completed\n200 OK 2023-04-15 19:12:47.900 DEBUG 175 --- [io-20656-exec-3]\nw.c.HttpSessionSecurityContextRepository : Did not store anonymous\nSecurityContext 2023-04-15 19:12:47.900 DEBUG 175 ---\n[io-20656-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared\nSecurityContextHolder to complete request 2023-04-15 19:12:48.073\nDEBUG 175 --- [io-20656-exec-5] o.s.security.web.FilterChainProxy<br />\n: Securing POST /?v-r=uidl&amp;v-uiId=4 2023-04-15 19:12:48.073 DEBUG 175\n--- [io-20656-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext 2023-04-15 19:12:48.073\nDEBUG 175 --- [io-20656-exec-5]\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder\nto anonymous SecurityContext 2023-04-15 19:12:48.073 DEBUG 175 ---\n[io-20656-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    :\nAuthorized filter invocation [POST /?v-r=uidl&amp;v-uiId=4] with\nattributes [permitAll] 2023-04-15 19:12:48.073 DEBUG 175 ---\n[io-20656-exec-5] o.s.security.web.FilterChainProxy        : Secured\nPOST /?v-r=uidl&amp;v-uiId=4 2023-04-15 19:12:48.073 DEBUG 175 ---\n[io-20656-exec-5] o.s.web.servlet.DispatcherServlet        : POST\n&quot;/BeersAndMealsAppFrontendDebug/?v-r=uidl&amp;v-uiId=4&quot;,\nparameters={masked} 2023-04-15 19:12:48.075 DEBUG 175 ---\n[io-20656-exec-5] o.s.b.f.s.DefaultListableBeanFactory     :\nAutowiring by type from bean name\n'com.cokroktosmok.beersandmealsappfront.view.CreateAccountForm' via\nconstructor to bean named 'backendCommunicationClient' 2023-04-15\n19:12:48.075 DEBUG 175 --- [io-20656-exec-5]\no.s.b.f.s.DefaultListableBeanFactory     : Autowiring by type from\nbean name\n'com.cokroktosmok.beersandmealsappfront.view.CreateAccountForm' via\nconstructor to bean named 'createdUserDto' 2023-04-15 19:12:48.079\nDEBUG 175 --- [io-20656-exec-5] o.s.web.client.RestTemplate<br />\n: HTTP GET\n<a href=\"http://maluch.mikr.us:20656/BeersAndMealsAppBackendDebug/user/login_validator?login=\" rel=\"nofollow noreferrer\">http://maluch.mikr.us:20656/BeersAndMealsAppBackendDebug/user/login_validator?login=</a>\n2023-04-15 19:12:48.080 DEBUG 175 --- [io-20656-exec-5]\no.s.web.client.RestTemplate              : Accept=[application/json,\napplication/*+json] 2023-04-15 19:14:58.576 DEBUG 175 ---\n[io-20656-exec-5] w.c.HttpSessionSecurityContextRepository : Did not\nstore anonymous SecurityContext 2023-04-15 19:14:58.577 DEBUG 175 ---\n[io-20656-exec-5] o.s.web.servlet.DispatcherServlet        : Completed\n200 OK 2023-04-15 19:14:58.577 DEBUG 175 --- [io-20656-exec-5]\nw.c.HttpSessionSecurityContextRepository : Did not store anonymous\nSecurityContext 2023-04-15 19:14:58.577 DEBUG 175 ---\n[io-20656-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared\nSecurityContextHolder to complete request 2023-04-15 19:14:58.698\nDEBUG 175 --- [io-20656-exec-1] o.s.security.web.FilterChainProxy<br />\n: Securing POST /?v-r=uidl&amp;v-uiId=4 2023-04-15 19:14:58.698 DEBUG 175\n--- [io-20656-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext 2023-04-15 19:14:58.698\nDEBUG 175 --- [io-20656-exec-1]\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder\nto anonymous SecurityContext 2023-04-15 19:14:58.698 DEBUG 175 ---\n[io-20656-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    :\nAuthorized filter invocation [POST /?v-r=uidl&amp;v-uiId=4] with\nattributes [permitAll] 2023-04-15 19:14:58.698 DEBUG 175 ---\n[io-20656-exec-1] o.s.security.web.FilterChainProxy        : Secured\nPOST /?v-r=uidl&amp;v-uiId=4 2023-04-15 19:14:58.698 DEBUG 175 ---\n[io-20656-exec-1] o.s.web.servlet.DispatcherServlet        : POST\n&quot;/BeersAndMealsAppFrontendDebug/?v-r=uidl&amp;v-uiId=4&quot;,\nparameters={masked} 2023-04-15 19:14:58.700 DEBUG 175 ---\n[io-20656-exec-1] w.c.HttpSessionSecurityContextRepository : Did not\nstore anonymous SecurityContext 2023-04-15 19:14:58.700 DEBUG 175 ---\n[io-20656-exec-1] o.s.web.servlet.DispatcherServlet        : Completed\n200 OK 2023-04-15 19:14:58.700 DEBUG 175 --- [io-20656-exec-1]\nw.c.HttpSessionSecurityContextRepository : Did not store anonymous\nSecurityContext 2023-04-15 19:14:58.700 DEBUG 175 ---\n[io-20656-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared\nSecurityContextHolder to complete request 2023-04-15 19:14:58.731\nDEBUG 175 --- [io-20656-exec-2] o.s.security.web.FilterChainProxy<br />\n: Securing GET\n/VAADIN/dynamic/resource/4/7d9b172b-29b9-4201-acb1-15a416862d95/logo.png\n2023-04-15 19:14:58.731 DEBUG 175 --- [io-20656-exec-2]\ns.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder\nto empty SecurityContext 2023-04-15 19:14:58.731 DEBUG 175 ---\n[io-20656-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set\nSecurityContextHolder to anonymous SecurityContext 2023-04-15\n19:14:58.732 DEBUG 175 --- [io-20656-exec-2]\no.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter\ninvocation [GET\n/VAADIN/dynamic/resource/4/7d9b172b-29b9-4201-acb1-15a416862d95/logo.png]\nwith attributes [permitAll] 2023-04-15 19:14:58.732 DEBUG 175 ---\n[io-20656-exec-2] o.s.security.web.FilterChainProxy        : Secured\nGET\n/VAADIN/dynamic/resource/4/7d9b172b-29b9-4201-acb1-15a416862d95/logo.png\n2023-04-15 19:14:58.732 DEBUG 175 --- [io-20656-exec-2]\no.s.web.servlet.DispatcherServlet        : GET\n&quot;/BeersAndMealsAppFrontendDebug/VAADIN/dynamic/resource/4/7d9b172b-29b9-4201-acb1-15a416862d95/logo.png&quot;,\nparameters={} 2023-04-15 19:14:58.747 DEBUG 175 --- [io-20656-exec-2]\nw.c.HttpSessionSecurityContextRepository : Did not store anonymous\nSecurityContext 2023-04-15 19:14:58.884 DEBUG 175 ---\n[io-20656-exec-2] o.s.web.servlet.DispatcherServlet        : Completed\n200 OK 2023-04-15 19:14:58.884 DEBUG 175 --- [io-20656-exec-2]\nw.c.HttpSessionSecurityContextRepository : Did not store anonymous\nSecurityContext 2023-04-15 19:14:58.884 DEBUG 175 ---\n[io-20656-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared\nSecurityContextHolder to complete request</p>\n</blockquote>\n<p>I have added a small popup to my frontend that checks the response code from my backend, and it gives a &quot;500 Internal Server Error&quot;. However, as you can see, there is nothing in catalina.out, even though the logs are configured to be at the INFO level. From a user perspective, after I try to access the functionality that requires communication with my backend, the page gets stuck on loading, and after a few minutes, the &quot;failsafe&quot; kicks in (coded in case the response codes from the backend are not 200). From my perspective, it looks like some sort of timeouts, but as stated before, there is nothing in catalina.out.</p>\n<ol start=\"2\">\n<li>The second problem is somewhat related to the first one. I've configured the domain, Cloudflare, and Nginx to redirect communication to my Tomcat. I know that DNS and Cloudflare are configured properly because the VPS has a dummy server setup on it, and my domain successfully redirects to it without Nginx. The problem starts when I'm trying to redirect traffic to my Tomcat using reverse proxy. When trying to access the page, I'm getting a 504 on my web browser, and Nginx saves error logs like this:</li>\n</ol>\n<blockquote>\n<p>2023/04/15 19:27:46 [error] 180#180: *5 upstream timed out (110:\nConnection timed out) while connecting to upstream, client:\n2400:cb00:632:1024::6ca2:e2e5, server: 2a01:4f9:6a:18a8::656, request:\n&quot;GET /cms/wp-includes/wlwmanifest.xml HTTP/1.1&quot;, upstream:\n&quot;http://65.21.225.215:20656/BeersAndMealsAppFullV2/cms/wp-includes/wlwmanifest.xml&quot;, host: &quot;beersandmeals.xyz&quot; 2023/04/15 19:28:14 [error] 180#180: *22\nupstream timed out (110: Connection timed out) while connecting to\nupstream, client: 2400:cb00:12:1024::ac45:217f, server:\n2a01:4f9:6a:18a8::656, request: &quot;GET / HTTP/1.1&quot;, upstream:\n&quot;http://65.21.225.215:20656/BeersAndMealsAppFullV2/&quot;, host:\n&quot;beersandmeals.xyz&quot; 2023/04/15 19:28:46 [error] 180#180: *5 upstream\ntimed out (110: Connection timed out) while connecting to upstream,\nclient: 2400:cb00:632:1024::6ca2:e2e5, server: 2a01:4f9:6a:18a8::656,\nrequest: &quot;GET /sito/wp-includes/wlwmanifest.xml HTTP/1.1&quot;, upstream:\n&quot;http://65.21.225.215:20656/BeersAndMealsAppFullV2/sito/wp-includes/wlwmanifest.xml&quot;, host: &quot;beersandmeals.xyz&quot; 2023/04/15 19:29:14 [error] 180#180: *22\nupstream timed out (110: Connection timed out) while connecting to\nupstream, client: 2400:cb00:12:1024::ac45:217f, server:\n2a01:4f9:6a:18a8::656, request: &quot;GET /blog/wp-includes/wlwmanifest.xml\nHTTP/1.1&quot;, upstream:\n&quot;http://65.21.225.215:20656/BeersAndMealsAppFullV2/blog/wp-includes/wlwmanifest.xml&quot;, host: &quot;beersandmeals.xyz&quot;</p>\n</blockquote>\n<p>For me, both problems are related and connected to something restricting the connection between apps or accessing them, and it also feel like it must be tomcat/VPS related, but after a week of trying, I still can't pinpoint the problem.</p>\n<p>What I tried:</p>\n<ol>\n<li><p>Fresh installation of everything.</p>\n</li>\n<li><p>Testing multiple versions of Tomcat.</p>\n</li>\n<li><p>Testing multiple browsers.</p>\n</li>\n<li><p>Changing the levels of the catalina.out logs in the hope that there will be some sort of error.</p>\n</li>\n<li><p>Checking firewall settings.</p>\n</li>\n<li><p>Giving tomcat user root status.</p>\n</li>\n<li><p>I have also briefly talked with a senior DevOps, and he suggested dropping Tomcat for something more modern, but if it's VPS related, then it would be just a massive waste of time.</p>\n</li>\n</ol>\n"},{"tags":["java","web-services","jax-ws","jax-rpc","apache-axis"],"answers":[{"comments":[{"owner":{"account_id":2026093,"reputation":331,"user_id":1811044,"display_name":"tuga"},"score":0,"creation_date":1356882444,"post_id":14080436,"comment_id":19490760,"body_markdown":"Just want to point out that axis2 doesn&#39;t build a tree model in memory. For instance, with JAXB data binding, the unmarshall is done directly from a XMLStreamReader rather than a AXIOM in memory tree. I think that what you mean is that CXF was built from the group up, to &quot;comply&quot; with JAX-WS. But if you look carefully at axis2 architecture, you will see that it&#39;s scalable enough to &quot;comply&quot; with JAX-WS without any performance impact. But I tend to agree with you. CXF is becoming more popular these days... http://www.google.com/trends/explore#q=apache%20axis2,%20apache%20cxf","body":"Just want to point out that axis2 doesn&#39;t build a tree model in memory. For instance, with JAXB data binding, the unmarshall is done directly from a XMLStreamReader rather than a AXIOM in memory tree. I think that what you mean is that CXF was built from the group up, to &quot;comply&quot; with JAX-WS. But if you look carefully at axis2 architecture, you will see that it&#39;s scalable enough to &quot;comply&quot; with JAX-WS without any performance impact. But I tend to agree with you. CXF is becoming more popular these days... <a href=\"http://www.google.com/trends/explore#q=apache%20axis2,%20apache%20cxf\" rel=\"nofollow noreferrer\">google.com/trends/explore#q=apache%20axis2,%20apache%20cxf</a>"},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":2,"creation_date":1356883362,"post_id":14080436,"comment_id":19490951,"body_markdown":"@PauloSilva I agree, I was trying to contrast the &quot;modern&quot; toolkits (CXF and Axis2) with the &quot;old&quot; one (Axis v1). I&#39;ve edited my answer to make this clearer.","body":"@PauloSilva I agree, I was trying to contrast the &quot;modern&quot; toolkits (CXF and Axis2) with the &quot;old&quot; one (Axis v1). I&#39;ve edited my answer to make this clearer."},{"owner":{"account_id":1385658,"reputation":7967,"user_id":1317840,"accept_rate":87,"display_name":"user182944"},"score":0,"creation_date":1356959774,"post_id":14080436,"comment_id":19509675,"body_markdown":"What is the exact meaning of the terms `implementation` and `specification`? What i understand is with these two terms is: `if we consider Axis(1) then RPC is built on Axis(1) i.e. RPC have all the features present in Axis1 as well as some additional features which the Axis(1) is lacking`. Please let me know if my understanding is correct or not. Also, you may also include something on these two terns if you want.","body":"What is the exact meaning of the terms <code>implementation</code> and <code>specification</code>? What i understand is with these two terms is: <code>if we consider Axis(1) then RPC is built on Axis(1) i.e. RPC have all the features present in Axis1 as well as some additional features which the Axis(1) is lacking</code>. Please let me know if my understanding is correct or not. Also, you may also include something on these two terns if you want."},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1356960299,"post_id":14080436,"comment_id":19509830,"body_markdown":"@user182944 in this case the specification is http://jcp.org/en/jsr/detail?id=224, and in particular the classes and interfaces under `javax.jws` and `javax.xml.ws` - it defines a set of rules that an implementation must follow in order to be JAX-WS compliant.  Apache CXF is an example of a toolkit that implements the JAX-WS specification, Glassfish Metro is another.  Each implementation may have its own specific features in addition to those required by the spec (which is the inverse of what you&#39;ve said in your comment).","body":"@user182944 in this case the specification is <a href=\"http://jcp.org/en/jsr/detail?id=224\" rel=\"nofollow noreferrer\">jcp.org/en/jsr/detail?id=224</a>, and in particular the classes and interfaces under <code>javax.jws</code> and <code>javax.xml.ws</code> - it defines a set of rules that an implementation must follow in order to be JAX-WS compliant.  Apache CXF is an example of a toolkit that implements the JAX-WS specification, Glassfish Metro is another.  Each implementation may have its own specific features in addition to those required by the spec (which is the inverse of what you&#39;ve said in your comment)."},{"owner":{"account_id":1385658,"reputation":7967,"user_id":1317840,"accept_rate":87,"display_name":"user182944"},"score":0,"creation_date":1356961007,"post_id":14080436,"comment_id":19510038,"body_markdown":"Ok so it means RPC has got some predefined rules and Axis(1) is simply following the rules and some additional things as well correct? Using Apache tomcat v6.0, when I try to create a new web service, for service deployment configuration  I used to get the web service runtime options as: Axis(1), Axis2 or CXF. But again, if i use WAS7.0, I used to get the service runtime options as: JAX-WS or JAX-RPC. Again for WAS 6.0, only JAX-RPC is available. Why are the RPC/WS options not available for APache or Axis options not available for WAS? Is it based on the vendor providing the server? pls help:(","body":"Ok so it means RPC has got some predefined rules and Axis(1) is simply following the rules and some additional things as well correct? Using Apache tomcat v6.0, when I try to create a new web service, for service deployment configuration  I used to get the web service runtime options as: Axis(1), Axis2 or CXF. But again, if i use WAS7.0, I used to get the service runtime options as: JAX-WS or JAX-RPC. Again for WAS 6.0, only JAX-RPC is available. Why are the RPC/WS options not available for APache or Axis options not available for WAS? Is it based on the vendor providing the server? pls help:("},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1357043819,"post_id":14080436,"comment_id":19525651,"body_markdown":"@user182944 I don&#39;t know, I&#39;ve never used the Eclipse tools to create web service projects. But if you can build a CXF or Axis2 based service by targeting Tomcat, the resulting WAR file should be deployable to any other servlet container as well.","body":"@user182944 I don&#39;t know, I&#39;ve never used the Eclipse tools to create web service projects. But if you can build a CXF or Axis2 based service by targeting Tomcat, the resulting WAR file should be deployable to any other servlet container as well."}],"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"comment_count":6,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1356883272,"creation_date":1356774007,"answer_id":14080436,"question_id":13784763,"body_markdown":"JAX-RPC and JAX-WS are specifications, Axis, Axis2 and CXF are implementations.\r\n\r\n - for JAX-RPC you need Axis (1)\r\n - for JAX-WS use CXF (I believe Axis2 also supports this spec but I&#39;ve never used it)\r\n\r\nIf you have a choice I strongly recommend the latter (JAX-WS) as it&#39;s the more modern spec and more importantly the toolkits are being actively developed and updated - Axis 1 has been dormant for years and relies on old versions of a number of other libraries.\r\n\r\nYou&#39;re also likely to get better performance with a more modern toolkit like CXF or Axis2, which has been designed from the beginning to use streaming XML APIs wherever possible, rather than building a tree model in memory.","title":"JAX-RPC / JAX-WS runtime in Apache Tomcat","body":"<p>JAX-RPC and JAX-WS are specifications, Axis, Axis2 and CXF are implementations.</p>\n\n<ul>\n<li>for JAX-RPC you need Axis (1)</li>\n<li>for JAX-WS use CXF (I believe Axis2 also supports this spec but I've never used it)</li>\n</ul>\n\n<p>If you have a choice I strongly recommend the latter (JAX-WS) as it's the more modern spec and more importantly the toolkits are being actively developed and updated - Axis 1 has been dormant for years and relies on old versions of a number of other libraries.</p>\n\n<p>You're also likely to get better performance with a more modern toolkit like CXF or Axis2, which has been designed from the beginning to use streaming XML APIs wherever possible, rather than building a tree model in memory.</p>\n"},{"tags":[],"owner":{"account_id":356129,"reputation":5868,"user_id":695461,"accept_rate":81,"display_name":"Daniel Moses"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1357296804,"creation_date":1357152466,"answer_id":14127436,"question_id":13784763,"body_markdown":"I&#39;d like to expand and upon Ian Roberts answer and give you more options.\r\n\r\n**JAX-RPC**\r\n\r\nThis is an older standerd.  You can still find an implementation for it \r\nJAX-RPC SI (standard implementation) : http://java.net/projects/jax-rpc/\r\n\r\nAlso, many of the JAX-WS implementations will implement the old JAX-RPC standard.  JAX-WS replaced JAX-RPC and you shouldn&#39;t really need it if you are creating a new project.\r\n\r\n\r\n**JAX-WS**\r\n\r\nJAX-WS standard: http://jcp.org/en/jsr/detail?id=224\r\n\r\n**JAX-WS implementations:**\r\n\r\nJAX-WS RI (reference implementation) : http://jax-ws.java.net/\r\n\r\nApache CXF : http://cxf.apache.org/docs/jax-ws-configuration.html\r\n\r\nApache Axis2 : http://axis.apache.org/axis2/java/core/\r\n\r\nJBOSS-WS: http://www.jboss.org/jbossws (Easy if you choose jboss over a bare tomcat, pros and cons come along with this)\r\n\r\n\r\n**Choosing the right library**\r\n\r\nIf you just want to get something up and running you can just have eclipse use Axis2 or CXF.  (Just google &quot;Eclipse Axis2&quot; or &quot;Eclipse CXF&quot; and you&#39;ll find plenty of tutorials and videos on getting up and running.)  I personally use JAX-WS RI, but all of the above options have pros and cons.  ","title":"JAX-RPC / JAX-WS runtime in Apache Tomcat","body":"<p>I'd like to expand and upon Ian Roberts answer and give you more options.</p>\n\n<p><strong>JAX-RPC</strong></p>\n\n<p>This is an older standerd.  You can still find an implementation for it \nJAX-RPC SI (standard implementation) : <a href=\"http://java.net/projects/jax-rpc/\">http://java.net/projects/jax-rpc/</a></p>\n\n<p>Also, many of the JAX-WS implementations will implement the old JAX-RPC standard.  JAX-WS replaced JAX-RPC and you shouldn't really need it if you are creating a new project.</p>\n\n<p><strong>JAX-WS</strong></p>\n\n<p>JAX-WS standard: <a href=\"http://jcp.org/en/jsr/detail?id=224\">http://jcp.org/en/jsr/detail?id=224</a></p>\n\n<p><strong>JAX-WS implementations:</strong></p>\n\n<p>JAX-WS RI (reference implementation) : <a href=\"http://jax-ws.java.net/\">http://jax-ws.java.net/</a></p>\n\n<p>Apache CXF : <a href=\"http://cxf.apache.org/docs/jax-ws-configuration.html\">http://cxf.apache.org/docs/jax-ws-configuration.html</a></p>\n\n<p>Apache Axis2 : <a href=\"http://axis.apache.org/axis2/java/core/\">http://axis.apache.org/axis2/java/core/</a></p>\n\n<p>JBOSS-WS: <a href=\"http://www.jboss.org/jbossws\">http://www.jboss.org/jbossws</a> (Easy if you choose jboss over a bare tomcat, pros and cons come along with this)</p>\n\n<p><strong>Choosing the right library</strong></p>\n\n<p>If you just want to get something up and running you can just have eclipse use Axis2 or CXF.  (Just google \"Eclipse Axis2\" or \"Eclipse CXF\" and you'll find plenty of tutorials and videos on getting up and running.)  I personally use JAX-WS RI, but all of the above options have pros and cons.  </p>\n"},{"comments":[{"owner":{"display_name":"user1080697"},"score":0,"creation_date":1357302431,"post_id":14145443,"comment_id":19610076,"body_markdown":"@user182944 Depending on your exact version of Tomcat, catalina-ws.jar will come with it. You only need to copy it over from extras to lib. i.e. for version 6.0.14 you can use these extras: http://archive.apache.org/dist/tomcat/tomcat-6/v6.0.14/bin/extras/ Other versions are here: http://archive.apache.org/dist/tomcat/tomcat-6/ As for the JAX-RPC Web Service client, see the example at http://www.mkyong.com/webservices/jax-ws/jax-ws-hello-world-example/ If the extras section experiment works, you will have copied the files and JAX-RPC starts working as in the example.","body":"@user182944 Depending on your exact version of Tomcat, catalina-ws.jar will come with it. You only need to copy it over from extras to lib. i.e. for version 6.0.14 you can use these extras: <a href=\"http://archive.apache.org/dist/tomcat/tomcat-6/v6.0.14/bin/extras/\" rel=\"nofollow noreferrer\">archive.apache.org/dist/tomcat/tomcat-6/v6.0.14/bin/extras</a> Other versions are here: <a href=\"http://archive.apache.org/dist/tomcat/tomcat-6/\" rel=\"nofollow noreferrer\">archive.apache.org/dist/tomcat/tomcat-6</a> As for the JAX-RPC Web Service client, see the example at <a href=\"http://www.mkyong.com/webservices/jax-ws/jax-ws-hello-world-example/\" rel=\"nofollow noreferrer\">mkyong.com/webservices/jax-ws/jax-ws-hello-world-example</a> If the extras section experiment works, you will have copied the files and JAX-RPC starts working as in the example."},{"owner":{"display_name":"user1080697"},"score":0,"creation_date":1357302723,"post_id":14145443,"comment_id":19610181,"body_markdown":"@user182944 also note the JAX-RPC libs is a guess. It may not be required at all. Or it may serve a different purpose, such as to  resolve web services references only. Hence, I said I am answering only a half of this question. It might be enough to get things working!","body":"@user182944 also note the JAX-RPC libs is a guess. It may not be required at all. Or it may serve a different purpose, such as to  resolve web services references only. Hence, I said I am answering only a half of this question. It might be enough to get things working!"}],"tags":[],"owner":{"display_name":"user1080697"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1357239942,"creation_date":1357239942,"answer_id":14145443,"question_id":13784763,"body_markdown":"I can only answer a half of this question. Yes, it&#39;s possible to run JAX-WS and JAX-RPC on Tomcat 6:\r\n\r\nJAX-WS\r\n------\r\n\r\nhttp://www.mkyong.com/webservices/jax-ws/deploy-jax-ws-web-services-on-tomcat/\r\n\r\nOR\r\n\r\nhttp://puretech.paawak.com/2010/03/09/running-jax-ws-with-tomcat/\r\n\r\nJAX-RPC\r\n-------\r\nsee the last 2 paragraphs at http://tomcat.apache.org/tomcat-6.0-doc/extras.html#Components_list and try to experiment\r\n\r\n","title":"JAX-RPC / JAX-WS runtime in Apache Tomcat","body":"<p>I can only answer a half of this question. Yes, it's possible to run JAX-WS and JAX-RPC on Tomcat 6:</p>\n\n<h2>JAX-WS</h2>\n\n<p><a href=\"http://www.mkyong.com/webservices/jax-ws/deploy-jax-ws-web-services-on-tomcat/\" rel=\"nofollow\">http://www.mkyong.com/webservices/jax-ws/deploy-jax-ws-web-services-on-tomcat/</a></p>\n\n<p>OR</p>\n\n<p><a href=\"http://puretech.paawak.com/2010/03/09/running-jax-ws-with-tomcat/\" rel=\"nofollow\">http://puretech.paawak.com/2010/03/09/running-jax-ws-with-tomcat/</a></p>\n\n<h2>JAX-RPC</h2>\n\n<p>see the last 2 paragraphs at <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/extras.html#Components_list\" rel=\"nofollow\">http://tomcat.apache.org/tomcat-6.0-doc/extras.html#Components_list</a> and try to experiment</p>\n"}],"owner":{"account_id":1385658,"reputation":7967,"user_id":1317840,"accept_rate":87,"display_name":"user182944"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6811,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14080436,"answer_count":3,"score":7,"last_activity_date":1681712598,"creation_date":1355028655,"question_id":13784763,"body_markdown":"I am using Apache Tomcat v6 server. While creating a new Web Service, I get the Web service runtime options for &quot;Apache Axis&quot;, &quot;Apache Axis2&quot; and &quot;Apache CXF2.x&quot;.\r\n\r\nIs it possible to have the runtime as &quot;JAX-RPC&quot; or &quot;Jax-WS&quot;?\r\n\r\nI am using Eclipse IDE.","title":"JAX-RPC / JAX-WS runtime in Apache Tomcat","body":"<p>I am using Apache Tomcat v6 server. While creating a new Web Service, I get the Web service runtime options for &quot;Apache Axis&quot;, &quot;Apache Axis2&quot; and &quot;Apache CXF2.x&quot;.</p>\n<p>Is it possible to have the runtime as &quot;JAX-RPC&quot; or &quot;Jax-WS&quot;?</p>\n<p>I am using Eclipse IDE.</p>\n"},{"tags":["java","apache","web-services","apache-axis"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1512719101,"post_id":47709761,"comment_id":82379371,"body_markdown":"I wouldn&#39;t use either one.","body":"I wouldn&#39;t use either one."}],"answers":[{"tags":[],"owner":{"account_id":10270929,"reputation":210,"user_id":7579324,"accept_rate":60,"display_name":"Raheel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512719162,"creation_date":1512719162,"answer_id":47709869,"question_id":47709761,"body_markdown":"Axis1.x and Axis2 have evolved from different architectures.\r\n\r\n**Speed** - Axis2 is based on the StAX API, which gives greater speed than the SAX event based parsing used in Axis1.x.\r\n\r\n**Stability** - Axis2 has fixed phases as well as user-defined phases for extensions. This allows far more stability as well as flexibility than Axis1.x.\r\n\r\n**Transport framework** - Transports (i.e., senders and listeners for SOAP over various protocols such as HTTP, SMTP, etc.), have been abstracted away from the Axis2 engine. Having a transport-independent Axis engine allows far more flexibility in transport options.\r\n\r\n**WSDL 2.0 support** - Axis2 supports both WSDL versions 1.1 and 2.0, which are used by Axis2&#39;s code generation tools to create web service skeletons and client stubs.\r\n\r\n**Component-oriented architecture** - Axis2 components consist of handlers and modules in .mar and .aar archives. These easily reusable components allow extended functionality such as pattern processing for your applications or distribution to partners. Axis2 emphasizes the &quot;Module&quot; concept over the &quot;Handler&quot; concept of Axis 1.x. Modules contain handlers that are ordered by phase rules. These are attached to specific service(s).","title":"What are main differences between Apache Axis and Apache Axis 2?","body":"<p>Axis1.x and Axis2 have evolved from different architectures.</p>\n\n<p><strong>Speed</strong> - Axis2 is based on the StAX API, which gives greater speed than the SAX event based parsing used in Axis1.x.</p>\n\n<p><strong>Stability</strong> - Axis2 has fixed phases as well as user-defined phases for extensions. This allows far more stability as well as flexibility than Axis1.x.</p>\n\n<p><strong>Transport framework</strong> - Transports (i.e., senders and listeners for SOAP over various protocols such as HTTP, SMTP, etc.), have been abstracted away from the Axis2 engine. Having a transport-independent Axis engine allows far more flexibility in transport options.</p>\n\n<p><strong>WSDL 2.0 support</strong> - Axis2 supports both WSDL versions 1.1 and 2.0, which are used by Axis2's code generation tools to create web service skeletons and client stubs.</p>\n\n<p><strong>Component-oriented architecture</strong> - Axis2 components consist of handlers and modules in .mar and .aar archives. These easily reusable components allow extended functionality such as pattern processing for your applications or distribution to partners. Axis2 emphasizes the \"Module\" concept over the \"Handler\" concept of Axis 1.x. Modules contain handlers that are ordered by phase rules. These are attached to specific service(s).</p>\n"}],"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1512719094,"answer_count":1,"score":0,"last_activity_date":1681712561,"creation_date":1512718618,"question_id":47709761,"body_markdown":"Apache Axis and Apache Axis 2 are still available on Apache website and I am unable to figure what are the differences between two? When should we use one over other?\r\n    \r\nDeveloping SOAP web services using Eclipse IDE&#39;s Web Services Wizard brings up Axis by default. If I know the differences I can judge whether to change runtime to Axis 2 or not. \r\n","title":"What are main differences between Apache Axis and Apache Axis 2?","body":"<p>Apache Axis and Apache Axis 2 are still available on Apache website and I am unable to figure what are the differences between two? When should we use one over other?</p>\n<p>Developing SOAP web services using Eclipse IDE's Web Services Wizard brings up Axis by default. If I know the differences I can judge whether to change runtime to Axis 2 or not.</p>\n"},{"tags":["java","apache","apache-axis"],"answers":[{"tags":[],"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221504318,"creation_date":1221504318,"answer_id":65575,"question_id":65310,"body_markdown":"This is what my code looks like. It seems to work fine.\r\nAre you using a service locator or just creating your service?\r\n\r\n    SomeServiceLocator locator = new SomeServiceLocator();\r\n    SomeService service = null;\r\n    try\r\n    {\r\n    \tservice = locator.getSomeServiceImplPort();\r\n    }\r\n    catch (ServiceException e)\r\n    {\r\n       \te.printStackTrace();\r\n    }","title":"Apache Axis ConfigurationException","body":"<p>This is what my code looks like. It seems to work fine.\nAre you using a service locator or just creating your service?</p>\n\n<pre><code>SomeServiceLocator locator = new SomeServiceLocator();\nSomeService service = null;\ntry\n{\n    service = locator.getSomeServiceImplPort();\n}\ncatch (ServiceException e)\n{\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5996,"reputation":1508,"user_id":9910,"accept_rate":43,"display_name":"KC Baltz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1223398576,"creation_date":1223398576,"answer_id":179414,"question_id":65310,"body_markdown":"Just a guess, but it looks like that error message is reporting that you&#39;ve left the service name blank.  I imagine the code that generates that error message looks like this:\r\n\r\n    throw new ConfigurationException(&quot;No service named&quot; + serviceName + &quot; is available&quot;);\r\n\r\n","title":"Apache Axis ConfigurationException","body":"<p>Just a guess, but it looks like that error message is reporting that you've left the service name blank.  I imagine the code that generates that error message looks like this:</p>\n\n<pre><code>throw new ConfigurationException(\"No service named\" + serviceName + \" is available\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13392,"reputation":2549,"user_id":26859,"accept_rate":91,"display_name":"Vinze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1223984892,"creation_date":1223984892,"answer_id":200824,"question_id":65310,"body_markdown":"I don&#39;t know what version of Axis you&#39;re using but I&#39;m using Axis2 for both server and client and the Java2WSDL create a default endpoint for the service on localhost. If you create the client stub with WSDL2Java, the default constructor of the stub will then point to localhost. If the service is on other endpoint you must use the constructor with the endpoint as parameter...\r\nMaybe the problem is not that at all but as said on other answers, without the WSDL you&#39;re using as WSDL2Java input it&#39;s hard to say.","title":"Apache Axis ConfigurationException","body":"<p>I don't know what version of Axis you're using but I'm using Axis2 for both server and client and the Java2WSDL create a default endpoint for the service on localhost. If you create the client stub with WSDL2Java, the default constructor of the stub will then point to localhost. If the service is on other endpoint you must use the constructor with the endpoint as parameter...\nMaybe the problem is not that at all but as said on other answers, without the WSDL you're using as WSDL2Java input it's hard to say.</p>\n"},{"tags":[],"owner":{"account_id":776306,"reputation":11,"user_id":817796,"display_name":"arnonym"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309193109,"creation_date":1309193109,"answer_id":6496124,"question_id":65310,"body_markdown":"It is an exception used by Axis&#39; control flow. \r\n\r\nhttp://wiki.apache.org/ws/FrontPage/Axis/DealingWithCommonExceptions\r\n--&gt; org.apache.axis.ConfigurationException: No service named XXX is available","title":"Apache Axis ConfigurationException","body":"<p>It is an exception used by Axis' control flow. </p>\n\n<p><a href=\"http://wiki.apache.org/ws/FrontPage/Axis/DealingWithCommonExceptions\" rel=\"nofollow\">http://wiki.apache.org/ws/FrontPage/Axis/DealingWithCommonExceptions</a>\n--> org.apache.axis.ConfigurationException: No service named XXX is available</p>\n"},{"tags":[],"owner":{"account_id":109862,"reputation":2187,"user_id":290918,"accept_rate":67,"display_name":"kldavis4"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1375305543,"creation_date":1375305543,"answer_id":17981199,"question_id":65310,"body_markdown":"According to the [documentation][1] linked to by @arnonym, this exception is somewhat misleading. In the first attempt to find the service a ConfigurationException is thrown and caught. It is logged at DEBUG level by the ConfigurationException class. Then another attempt is made using a different method to find the service that may then succeed. The workaround for this is to just change the log level on the ConfigurationException class to INFO in your log4j.properties:\r\n\r\n    log4j.logger.org.apache.axis.ConfigurationException = INFO\r\n\r\n\r\n  [1]: http://wiki.apache.org/ws/FrontPage/Axis/DealingWithCommonExceptions","title":"Apache Axis ConfigurationException","body":"<p>According to the <a href=\"http://wiki.apache.org/ws/FrontPage/Axis/DealingWithCommonExceptions\">documentation</a> linked to by @arnonym, this exception is somewhat misleading. In the first attempt to find the service a ConfigurationException is thrown and caught. It is logged at DEBUG level by the ConfigurationException class. Then another attempt is made using a different method to find the service that may then succeed. The workaround for this is to just change the log level on the ConfigurationException class to INFO in your log4j.properties:</p>\n\n<pre><code>log4j.logger.org.apache.axis.ConfigurationException = INFO\n</code></pre>\n"}],"owner":{"account_id":1721,"reputation":7959,"user_id":2328,"accept_rate":88,"display_name":"Craig H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32378,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":179414,"answer_count":5,"score":16,"last_activity_date":1681712454,"creation_date":1221502433,"question_id":65310,"body_markdown":"I am using Apache Axis to connect my Java app to a web server. I used wsdl2java to create the stubs for me, but when I try to use the stubs, I get the following exception:\r\n```none\r\norg.apache.axis.ConfigurationException: No service named `&lt;web service name&gt;` is available\r\n```\r\nWhat is happening?","title":"Apache Axis ConfigurationException","body":"<p>I am using Apache Axis to connect my Java app to a web server. I used wsdl2java to create the stubs for me, but when I try to use the stubs, I get the following exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.axis.ConfigurationException: No service named `&lt;web service name&gt;` is available\n</code></pre>\n<p>What is happening?</p>\n"},{"tags":["java","tomcat","soap","http-status-code-401","apache-axis"],"owner":{"account_id":2007211,"reputation":581,"user_id":1796748,"accept_rate":40,"display_name":"yonikawa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681712239,"creation_date":1675998313,"question_id":75406552,"body_markdown":"What does `org.apache.axis.client.AdminClient.process()` do? \r\nIs there any authentication/authorization happening behind the scenes on invoking this function?\r\n\r\nWe have a legacy SOAP based web service built using `Apache Axis 1`. On application start up, the web service try to deploy automatically using the AdminClient.process(). Everything was working fine until our client implemented sso and now the soap service throws the below exception.\r\n\r\n    AxisFault\r\n    faultCode: {http://xml.apache.org/axis/}HTTP\r\n    faultSubcode: \r\n    faultString: (401)401 \r\n    faultActor: \r\n    faultNode: \r\n    faultDetail: \r\n\t{}:return code:  401\r\n    HTTP  Status 401 – Unauthorized: The request has not been applied because it lacks valid authentication credentials for the target resource. VMware tc Runtime 9.0.65.A.RELEASE&amp;lt\r\n\t{http://xml.apache.org/axis/}HttpErrorCode:401\r\n\r\n    (401)401 \r\n\tat org.apache.axis.transport.http.HTTPSender.readFromSocket(HTTPSender.java:744)\r\n\tat org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:144)\r\n\tat org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\r\n\tat org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\r\n\tat org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\r\n\tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)\r\n\tat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2767)\r\n\tat org.apache.axis.client.Call.invoke(Call.java:1792)\r\n\tat org.apache.axis.client.AdminClient.process(AdminClient.java:439)\r\n\tat org.apache.axis.client.AdminClient.process(AdminClient.java:404)\r\n\tat org.apache.axis.client.AdminClient.process(AdminClient.java:410)\r\n\tat org.apache.axis.client.AdminClient.process(AdminClient.java:320)\r\n\r\n\r\nApparently the SSO isn&#39;t configured properly. But what does the adminClient.process(String[] arg0)) does internally?Why does it complain about authentication while its merely invoking a http url?\r\n\r\nJava code:\r\n\r\n    AdminClient ac = new AdminClient();\r\n        String result = ac.process(\r\n            new String[] {\r\n                &quot;-p&quot; + API_PORT,\r\n                &quot;-l&quot;+API_PROTOCOL+&quot;://&quot;+API_HOST+&quot;:&quot;\r\n                    + API_PORT\r\n                    + &quot;/&quot;+CONTEXT+&quot;/axis/AdminService&quot;,\r\n                deploymentdescriptorfile });\r\n\r\nCode is deployed in VMware TC server","title":"Apache axis admin client process - 401 error","body":"<p>What does <code>org.apache.axis.client.AdminClient.process()</code> do?\nIs there any authentication/authorization happening behind the scenes on invoking this function?</p>\n<p>We have a legacy SOAP based web service built using <code>Apache Axis 1</code>. On application start up, the web service try to deploy automatically using the AdminClient.process(). Everything was working fine until our client implemented sso and now the soap service throws the below exception.</p>\n<pre><code>AxisFault\nfaultCode: {http://xml.apache.org/axis/}HTTP\nfaultSubcode: \nfaultString: (401)401 \nfaultActor: \nfaultNode: \nfaultDetail: \n{}:return code:  401\nHTTP  Status 401 – Unauthorized: The request has not been applied because it lacks valid authentication credentials for the target resource. VMware tc Runtime 9.0.65.A.RELEASE&amp;lt\n{http://xml.apache.org/axis/}HttpErrorCode:401\n\n(401)401 \nat org.apache.axis.transport.http.HTTPSender.readFromSocket(HTTPSender.java:744)\nat org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:144)\nat org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\nat org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\nat org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\nat org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)\nat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\nat org.apache.axis.client.Call.invoke(Call.java:2767)\nat org.apache.axis.client.Call.invoke(Call.java:1792)\nat org.apache.axis.client.AdminClient.process(AdminClient.java:439)\nat org.apache.axis.client.AdminClient.process(AdminClient.java:404)\nat org.apache.axis.client.AdminClient.process(AdminClient.java:410)\nat org.apache.axis.client.AdminClient.process(AdminClient.java:320)\n</code></pre>\n<p>Apparently the SSO isn't configured properly. But what does the adminClient.process(String[] arg0)) does internally?Why does it complain about authentication while its merely invoking a http url?</p>\n<p>Java code:</p>\n<pre><code>AdminClient ac = new AdminClient();\n    String result = ac.process(\n        new String[] {\n            &quot;-p&quot; + API_PORT,\n            &quot;-l&quot;+API_PROTOCOL+&quot;://&quot;+API_HOST+&quot;:&quot;\n                + API_PORT\n                + &quot;/&quot;+CONTEXT+&quot;/axis/AdminService&quot;,\n            deploymentdescriptorfile });\n</code></pre>\n<p>Code is deployed in VMware TC server</p>\n"},{"tags":["java","output","hashset"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1495547056,"post_id":44136555,"comment_id":75291682,"body_markdown":"`HashSet` is completely unordered. to keep insertion order use a `LinkedHashSet`","body":"<code>HashSet</code> is completely unordered. to keep insertion order use a <code>LinkedHashSet</code>"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1495547103,"post_id":44136555,"comment_id":75291722,"body_markdown":"You can use a TreeSet: `private Set&lt;String&gt; currentDays = new TreeSet&lt;String&gt;(allDays);`","body":"You can use a TreeSet: <code>private Set&lt;String&gt; currentDays = new TreeSet&lt;String&gt;(allDays);</code>"},{"owner":{"account_id":2785683,"reputation":2653,"user_id":2397162,"accept_rate":61,"display_name":"niceman"},"score":0,"creation_date":1495547115,"post_id":44136555,"comment_id":75291733,"body_markdown":"`HashSet` is an implementation of `Set` which is the same concept found in mathematics, if you want order yet you want unique items, `SortedSet` interface is what you want(`TreeSet` is one of the implementations)","body":"<code>HashSet</code> is an implementation of <code>Set</code> which is the same concept found in mathematics, if you want order yet you want unique items, <code>SortedSet</code> interface is what you want(<code>TreeSet</code> is one of the implementations)"},{"owner":{"account_id":2785683,"reputation":2653,"user_id":2397162,"accept_rate":61,"display_name":"niceman"},"score":0,"creation_date":1495547217,"post_id":44136555,"comment_id":75291826,"body_markdown":"as for the compiler errors, well you can live with `HashSet` and print its contents in order I guess, whether this is good or bad really depends on what are you intending to do","body":"as for the compiler errors, well you can live with <code>HashSet</code> and print its contents in order I guess, whether this is good or bad really depends on what are you intending to do"},{"owner":{"account_id":428157,"reputation":720,"user_id":810297,"accept_rate":76,"display_name":"BCartolo"},"score":0,"creation_date":1495547255,"post_id":44136555,"comment_id":75291849,"body_markdown":"Why don&#39;t you use DayOfWeek enum? https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\nDon&#39;t reinvent the wheel! :)","body":"Why don&#39;t you use DayOfWeek enum? <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html</a> Don&#39;t reinvent the wheel! :)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495547547,"creation_date":1495547139,"answer_id":44136628,"question_id":44136555,"body_markdown":"&gt; As I understand, with HashSets, you cannot guarantee the order in which its elements will be retrieved/ displayed- is that correct?\r\n\r\nCorrect.\r\n\r\n&gt; So is there a way that I can specify the output of the HashSet where it&#39;s used in this case, in order to predetermine the order in which its elements will be displayed?\r\n\r\nNo.  The `toString()` method &quot;outputs&quot; the element in an order that you cannot alter.\r\n\r\nHowever, you *could* write a method that displayed the elements of a `HashSet` in a specific order.  For example:\r\n\r\n    private static String[] DAYS = {&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, \r\n                                    &quot;Fri&quot;, &quot;Sat&quot;};\r\n\r\n    String printDays(Set&lt;String&gt; days) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (String s: DAYS) {\r\n            if (days.contains(s)) {\r\n                if (sb.length() == 0) {\r\n                    sb.append(&quot;{&quot; + s);\r\n                } else {\r\n                    sb.append(&quot;, &quot; + s);\r\n                }\r\n             }\r\n         }\r\n         sb.append(&quot;}&quot;);\r\n         return sb.toString();\r\n     }\r\n\r\nThat can easily be modified to work with an `enum` ... and the method could be a static method of the `enum` class.","title":"Java HashSet - is there a way to specify the order in which elements will be displayed?","body":"<blockquote>\n  <p>As I understand, with HashSets, you cannot guarantee the order in which its elements will be retrieved/ displayed- is that correct?</p>\n</blockquote>\n\n<p>Correct.</p>\n\n<blockquote>\n  <p>So is there a way that I can specify the output of the HashSet where it's used in this case, in order to predetermine the order in which its elements will be displayed?</p>\n</blockquote>\n\n<p>No.  The <code>toString()</code> method \"outputs\" the element in an order that you cannot alter.</p>\n\n<p>However, you <em>could</em> write a method that displayed the elements of a <code>HashSet</code> in a specific order.  For example:</p>\n\n<pre><code>private static String[] DAYS = {\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \n                                \"Fri\", \"Sat\"};\n\nString printDays(Set&lt;String&gt; days) {\n    StringBuilder sb = new StringBuilder();\n    for (String s: DAYS) {\n        if (days.contains(s)) {\n            if (sb.length() == 0) {\n                sb.append(\"{\" + s);\n            } else {\n                sb.append(\", \" + s);\n            }\n         }\n     }\n     sb.append(\"}\");\n     return sb.toString();\n }\n</code></pre>\n\n<p>That can easily be modified to work with an <code>enum</code> ... and the method could be a static method of the <code>enum</code> class.</p>\n"},{"tags":[],"owner":{"account_id":1223725,"reputation":5602,"user_id":1189800,"display_name":"Chetan Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681712137,"creation_date":1495547534,"answer_id":44136783,"question_id":44136555,"body_markdown":"You can Use `LinkedHashSet` it keeps order of elements. \r\n\r\n&gt; Hash table and linked list implementation of the Set interface, with predictable iteration order. This implementation differs from HashSet in that it maintains a doubly-linked list running through all of its entries. This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set. (An element e is reinserted into a set s if s.add(e) is invoked when s.contains(e) would return true immediately prior to the invocation.)\r\n\r\n\r\nAbove quote is from: [LinkedHashSet ][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html","title":"Java HashSet - is there a way to specify the order in which elements will be displayed?","body":"<p>You can Use <code>LinkedHashSet</code> it keeps order of elements.</p>\n<blockquote>\n<p>Hash table and linked list implementation of the Set interface, with predictable iteration order. This implementation differs from HashSet in that it maintains a doubly-linked list running through all of its entries. This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set. (An element e is reinserted into a set s if s.add(e) is invoked when s.contains(e) would return true immediately prior to the invocation.)</p>\n</blockquote>\n<p>Above quote is from: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\">LinkedHashSet </a></p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495547544,"creation_date":1495547544,"answer_id":44136788,"question_id":44136555,"body_markdown":"First of all, those days of the week must be enum values. And if you do that, you&#39;ll be able to use:\r\n\r\n`EnumSet.allOf(DaysOfWeekEnum.class);` which would display all your days in the order in which they were defined in the enum.","title":"Java HashSet - is there a way to specify the order in which elements will be displayed?","body":"<p>First of all, those days of the week must be enum values. And if you do that, you'll be able to use:</p>\n\n<p><code>EnumSet.allOf(DaysOfWeekEnum.class);</code> which would display all your days in the order in which they were defined in the enum.</p>\n"}],"owner":{"account_id":1434858,"reputation":3072,"user_id":1841758,"accept_rate":51,"display_name":"Noble-Surfer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44136783,"answer_count":3,"score":2,"last_activity_date":1681712137,"creation_date":1495546948,"question_id":44136555,"body_markdown":"I have just started debugging some software that has been written in Java, and on one of the web pages, there is drop down list that lists the days of the week.\r\n\r\nWhen expanded, the list shows the days of the week in the drop down Sunday through to Saturday. However, when the drop down is not selected/ expanded, it&#39;s text shows:\r\n\r\n&gt; Mo-Su-Tu-We-Th-Fr-Sa\r\n\r\ni.e. the order of the days displayed on the button when it&#39;s not selected/ expanded is incorrect.\r\n\r\nMy thinking is that this is probably because the class has been written using a `HashSet` object to display the days:\r\n\r\n    private List&lt;String&gt; allDays = Arrays.asList(SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY);\r\n    ...\r\n    private Set&lt;String&gt; currentDays = new HashSet&lt;String&gt;(allDays);\r\n\r\nAs I understand, with HashSets, you cannot guarantee the order in which its elements will be retrieved/ displayed- is that correct?\r\n\r\nI tried changing the type from `HashSet` to `ArrayList`, so that I could set definite positions for each day of the week within the collection, but this caused other compile errors elsewhere in the code. My thought is that there must be design reasons for why it has been implemented as a `HashSet`, rather than an ordered list, so I don&#39;t really want to refactor the code to change the object&#39;s type.\r\n\r\nSo is there a way that I can specify the output of the `HashSet` where it&#39;s used in this case, in order to predetermine the order in which its elements will be displayed?\r\n\r\nCan I cast it to a type that is an ordered list, i.e. an `ArrayList`/ some other structured data type, or can I specifically tell the `HashSet` object in what order I want to display its elements?","title":"Java HashSet - is there a way to specify the order in which elements will be displayed?","body":"<p>I have just started debugging some software that has been written in Java, and on one of the web pages, there is drop down list that lists the days of the week.</p>\n\n<p>When expanded, the list shows the days of the week in the drop down Sunday through to Saturday. However, when the drop down is not selected/ expanded, it's text shows:</p>\n\n<blockquote>\n  <p>Mo-Su-Tu-We-Th-Fr-Sa</p>\n</blockquote>\n\n<p>i.e. the order of the days displayed on the button when it's not selected/ expanded is incorrect.</p>\n\n<p>My thinking is that this is probably because the class has been written using a <code>HashSet</code> object to display the days:</p>\n\n<pre><code>private List&lt;String&gt; allDays = Arrays.asList(SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY);\n...\nprivate Set&lt;String&gt; currentDays = new HashSet&lt;String&gt;(allDays);\n</code></pre>\n\n<p>As I understand, with HashSets, you cannot guarantee the order in which its elements will be retrieved/ displayed- is that correct?</p>\n\n<p>I tried changing the type from <code>HashSet</code> to <code>ArrayList</code>, so that I could set definite positions for each day of the week within the collection, but this caused other compile errors elsewhere in the code. My thought is that there must be design reasons for why it has been implemented as a <code>HashSet</code>, rather than an ordered list, so I don't really want to refactor the code to change the object's type.</p>\n\n<p>So is there a way that I can specify the output of the <code>HashSet</code> where it's used in this case, in order to predetermine the order in which its elements will be displayed?</p>\n\n<p>Can I cast it to a type that is an ordered list, i.e. an <code>ArrayList</code>/ some other structured data type, or can I specifically tell the <code>HashSet</code> object in what order I want to display its elements?</p>\n"},{"tags":["java","class","random","derived-class"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1681707129,"post_id":76031784,"comment_id":134094044,"body_markdown":"Why do you need a `VarDice` class? How is it different from your `Dice` class? Also, the class should be called `Die` not `Dice`; &quot;dice&quot; is the plural of &quot;die&quot; and classes should be named in the singular.","body":"Why do you need a <code>VarDice</code> class? How is it different from your <code>Dice</code> class? Also, the class should be called <code>Die</code> not <code>Dice</code>; &quot;dice&quot; is the plural of &quot;die&quot; and classes should be named in the singular."},{"owner":{"account_id":10004293,"reputation":2540,"user_id":7399631,"display_name":"bkis"},"score":1,"creation_date":1681707157,"post_id":76031784,"comment_id":134094050,"body_markdown":"Your code in `VarDice` is (for some reason) in a `main` method - why? You should put all that code directly in `VarDice`.","body":"Your code in <code>VarDice</code> is (for some reason) in a <code>main</code> method - why? You should put all that code directly in <code>VarDice</code>."}],"answers":[{"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1681710448,"post_id":76031932,"comment_id":134094415,"body_markdown":"that does not answer (explain) why the OPs code is not working","body":"that does not answer (explain) why the OPs code is not working"},{"owner":{"account_id":26789641,"reputation":9,"user_id":20383257,"display_name":"EliKhan"},"score":0,"creation_date":1681713453,"post_id":76031932,"comment_id":134094847,"body_markdown":"Hey! I appreciate the quick feedback and wanted to begin by saying my main method was not supposed to be there that was just from careless copy/paste lol. 2) I understand not wanting two classes, but was still wondering why my child class was not working? The purpose of VarDie is to inherit class Die traits, but then expand to take user input for a custom die.","body":"Hey! I appreciate the quick feedback and wanted to begin by saying my main method was not supposed to be there that was just from careless copy/paste lol. 2) I understand not wanting two classes, but was still wondering why my child class was not working? The purpose of VarDie is to inherit class Die traits, but then expand to take user input for a custom die."},{"owner":{"account_id":10004293,"reputation":2540,"user_id":7399631,"display_name":"bkis"},"score":0,"creation_date":1681714576,"post_id":76031932,"comment_id":134095062,"body_markdown":"Well, you say *&quot;I am a little bit lost on the errors I am getting&quot;* - what errors are you getting? If I set up your program as intended (without the extraneous `main` in `VarDice`), it seems to work just fine. I input `20` and I get `The dice come up 16`. What is it that&#39;s not working?","body":"Well, you say <i>&quot;I am a little bit lost on the errors I am getting&quot;</i> - what errors are you getting? If I set up your program as intended (without the extraneous <code>main</code> in <code>VarDice</code>), it seems to work just fine. I input <code>20</code> and I get <code>The dice come up 16</code>. What is it that&#39;s not working?"},{"owner":{"account_id":26789641,"reputation":9,"user_id":20383257,"display_name":"EliKhan"},"score":0,"creation_date":1681714872,"post_id":76031932,"comment_id":134095136,"body_markdown":"I apologize!! I believe it is the site that I am using then that is giving me these mysterious errors then. I will try to use another resource to edit my code in and move from there. Again I appreciate the feedback, and for the second approach to not having two classes :). I will be sure to update my progress as well since I am positive I will have more questions later on with saving each roll and printing out results lol.","body":"I apologize!! I believe it is the site that I am using then that is giving me these mysterious errors then. I will try to use another resource to edit my code in and move from there. Again I appreciate the feedback, and for the second approach to not having two classes :). I will be sure to update my progress as well since I am positive I will have more questions later on with saving each roll and printing out results lol."}],"tags":[],"owner":{"account_id":10004293,"reputation":2540,"user_id":7399631,"display_name":"bkis"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681708968,"creation_date":1681708968,"answer_id":76031932,"question_id":76031784,"body_markdown":"There are some problems, here:\r\n\r\n1. The code of `VarDice` is in a `main` method that doesn&#39;t belong here.\r\n2. As @Bohemian pointed out in the comments, you don&#39;t really need two classes with inheritance, here. I&#39;d drop the parent class, because the default case of 6 sides can be handled by a default constructor.\r\n3. And yes, @Bohemian, &quot;Dice&quot; is the plural of &quot;Die&quot;.\r\n\r\nYour `Die` class could look something like this:\r\n\r\n```java\r\nimport java.util.Random;\r\n\r\npublic class Die {\r\n\tprivate final Random rand;\r\n\tprivate int numSides;\r\n\tprivate int numRolled;\r\n\r\n\tpublic Die(int numSides) {\r\n\t\tthis.rand = new Random();\r\n\t\tthis.numRolled = -1;\r\n\t\t// custom no. of sides, 6 if invalid\r\n\t\tthis.numSides = numSides &gt; 0 ? numSides : 6;\r\n\t}\r\n\r\n\tpublic Die() {\r\n\t\tthis(6); // 6 is default\r\n\t}\r\n\r\n\tpublic void setNumSides(int sides) {\r\n\t\tnumSides = sides;\r\n\t\tnumRolled = -1;\r\n\t}\r\n\r\n\tpublic int getNumSides() {\r\n\t\treturn numSides;\r\n\t}\r\n\r\n\tpublic int getNumRolled() {\r\n\t\tif (numRolled &lt; 0) {\r\n\t\t\troll();\r\n\t\t}\r\n\t\treturn numRolled;\r\n\t}\r\n\r\n    public int roll() {\r\n    \tnumRolled = rand.nextInt(numSides) + 1;\r\n    \treturn numRolled;\r\n    }\r\n}\r\n```\r\n\r\nAnd you&#39;d use this class something like this in your application:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// use default die\r\n\t\tDie die = new Die(); // create instance with default no of sides\r\n\t\tSystem.out.println(die.roll()); // roll die and print result\r\n\t\tSystem.out.println(die.getNumRolled()); // print rolled number again\r\n\t\t// use custom die\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Set number of sides (greater than 0): &quot;);\r\n\t\tDie customDie = new Die(scanner.nextInt());\r\n\t\tSystem.out.println(customDie.roll()); // roll custom die\r\n\t\tscanner.close();\r\n\t}\r\n\r\n}\r\n\r\n```","title":"DnD Dice Roll Simulation","body":"<p>There are some problems, here:</p>\n<ol>\n<li>The code of <code>VarDice</code> is in a <code>main</code> method that doesn't belong here.</li>\n<li>As @Bohemian pointed out in the comments, you don't really need two classes with inheritance, here. I'd drop the parent class, because the default case of 6 sides can be handled by a default constructor.</li>\n<li>And yes, @Bohemian, &quot;Dice&quot; is the plural of &quot;Die&quot;.</li>\n</ol>\n<p>Your <code>Die</code> class could look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\n\npublic class Die {\n    private final Random rand;\n    private int numSides;\n    private int numRolled;\n\n    public Die(int numSides) {\n        this.rand = new Random();\n        this.numRolled = -1;\n        // custom no. of sides, 6 if invalid\n        this.numSides = numSides &gt; 0 ? numSides : 6;\n    }\n\n    public Die() {\n        this(6); // 6 is default\n    }\n\n    public void setNumSides(int sides) {\n        numSides = sides;\n        numRolled = -1;\n    }\n\n    public int getNumSides() {\n        return numSides;\n    }\n\n    public int getNumRolled() {\n        if (numRolled &lt; 0) {\n            roll();\n        }\n        return numRolled;\n    }\n\n    public int roll() {\n        numRolled = rand.nextInt(numSides) + 1;\n        return numRolled;\n    }\n}\n</code></pre>\n<p>And you'd use this class something like this in your application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class App {\n\n    public static void main(String[] args) {\n        // use default die\n        Die die = new Die(); // create instance with default no of sides\n        System.out.println(die.roll()); // roll die and print result\n        System.out.println(die.getNumRolled()); // print rolled number again\n        // use custom die\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(&quot;Set number of sides (greater than 0): &quot;);\n        Die customDie = new Die(scanner.nextInt());\n        System.out.println(customDie.roll()); // roll custom die\n        scanner.close();\n    }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681711755,"creation_date":1681711755,"answer_id":76032126,"question_id":76031784,"body_markdown":"A few mistakes I noticed:\r\n\r\nthe line `numSides = scar.nextInt();` should be `numSides = scnr.nextInt();`\r\n\r\nthe class VarDice has wrapped everything in `public static void main(String[] args) {...}`. Remove this wrapping to ensure that the code is a part of the class and not the method.\r\n\r\nWith those changes, the code worked for me.","title":"DnD Dice Roll Simulation","body":"<p>A few mistakes I noticed:</p>\n<p>the line <code>numSides = scar.nextInt();</code> should be <code>numSides = scnr.nextInt();</code></p>\n<p>the class VarDice has wrapped everything in <code>public static void main(String[] args) {...}</code>. Remove this wrapping to ensure that the code is a part of the class and not the method.</p>\n<p>With those changes, the code worked for me.</p>\n"}],"owner":{"account_id":26789641,"reputation":9,"user_id":20383257,"display_name":"EliKhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1681711755,"creation_date":1681706709,"question_id":76031784,"body_markdown":"I am Trying to make a simulated dice rolling game for my friends. I want to utilize two classes Dice and a child class VarDice which will let user choose how many sides. However, I am struggling to get my derived class to work properly. \r\n\r\n This is my parent class :\r\n\r\n    import java.util.Random;\r\n    \r\n    public class Dice {\r\n       \r\n       protected int numRolled;\r\n       final Random rand = new Random();\r\n        \r\n        \r\n       public void roll() {\r\n            numRolled = rand.nextInt(5) + 1;\r\n       }\r\n       public int getNumRolled() {\r\n          return numRolled;\r\n       }\r\n       \r\n    }\r\n\r\nThis is the derived class: \r\n\r\n        import java.util.Random;\r\n        \r\n        \r\n        public class VarDice extends Dice {\r\n        \r\n           public static void main(String[] args) {\r\n                Scanner scnr = new Scanner(System.in);\r\n                int numSides;\r\n                \r\n                public void setNumSides(int sides) {\r\n                    numSides = sides;\r\n                }\r\n                \r\n               public int getNumSides() {\r\n                  return numSides;  \r\n                }\r\n                \r\n                @Override\r\n                public void roll() {\r\n                numRolled = rand.nextInt(numSides) + 1;\r\n               }\r\n        \r\n        }\r\n        }\r\n\r\nThis is finally my main code: \r\n\r\n    import java.util.Scanner; \r\n    \r\n        public class Main {\r\n        \r\n           public static void main(String[] args) {\r\n                Scanner scnr = new Scanner(System.in);\r\n                 int numSides;\r\n\r\n                 VarDice dice = new VarDice();\r\n\r\n                 numSides = scar.nextInt();\r\n\r\n                 dice.setNumSides(numSides);\r\n                 \r\n                 dice.roll();\r\n                 System.out.println(&quot;The dice come up &quot; + dice.getNumRolled()); \r\n            \r\n        \r\n            }\r\n        \r\n        }\r\nI want the user to be able to input how many sides are on their dice and how many dice, but my VarDice class is not overriding the roll method very well and I am a little bit lost on the errors I am getting... I appreciate the help and hope the format is appropriate.  ","title":"DnD Dice Roll Simulation","body":"<p>I am Trying to make a simulated dice rolling game for my friends. I want to utilize two classes Dice and a child class VarDice which will let user choose how many sides. However, I am struggling to get my derived class to work properly.</p>\n<p>This is my parent class :</p>\n<pre><code>import java.util.Random;\n\npublic class Dice {\n   \n   protected int numRolled;\n   final Random rand = new Random();\n    \n    \n   public void roll() {\n        numRolled = rand.nextInt(5) + 1;\n   }\n   public int getNumRolled() {\n      return numRolled;\n   }\n   \n}\n</code></pre>\n<p>This is the derived class:</p>\n<pre><code>    import java.util.Random;\n    \n    \n    public class VarDice extends Dice {\n    \n       public static void main(String[] args) {\n            Scanner scnr = new Scanner(System.in);\n            int numSides;\n            \n            public void setNumSides(int sides) {\n                numSides = sides;\n            }\n            \n           public int getNumSides() {\n              return numSides;  \n            }\n            \n            @Override\n            public void roll() {\n            numRolled = rand.nextInt(numSides) + 1;\n           }\n    \n    }\n    }\n</code></pre>\n<p>This is finally my main code:</p>\n<pre><code>import java.util.Scanner; \n\n    public class Main {\n    \n       public static void main(String[] args) {\n            Scanner scnr = new Scanner(System.in);\n             int numSides;\n\n             VarDice dice = new VarDice();\n\n             numSides = scar.nextInt();\n\n             dice.setNumSides(numSides);\n             \n             dice.roll();\n             System.out.println(&quot;The dice come up &quot; + dice.getNumRolled()); \n        \n    \n        }\n    \n    }\n</code></pre>\n<p>I want the user to be able to input how many sides are on their dice and how many dice, but my VarDice class is not overriding the roll method very well and I am a little bit lost on the errors I am getting... I appreciate the help and hope the format is appropriate.</p>\n"},{"tags":["java","fully-qualified-naming"],"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1432244603,"post_id":30384830,"comment_id":48858885,"body_markdown":"You can&#39;t. Simple names aren&#39;t unique. Just use fully-qualified names instead of simple names.","body":"You can&#39;t. Simple names aren&#39;t unique. Just use fully-qualified names instead of simple names."},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1432244967,"post_id":30384830,"comment_id":48859062,"body_markdown":"But I need to determine the fully qualified name dynamically from a simple Java.lang.Class name represented as a Java.lang.String","body":"But I need to determine the fully qualified name dynamically from a simple Java.lang.Class name represented as a Java.lang.String"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1432245023,"post_id":30384830,"comment_id":48859091,"body_markdown":"Why do you need to do that?","body":"Why do you need to do that?"},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1432245288,"post_id":30384830,"comment_id":48859207,"body_markdown":"I need to do that because of a reflective dependecy in another widget in which the selected item is obtained as a Java.lang.String and hence constrains my behavior to accept a Java.lang.String.","body":"I need to do that because of a reflective dependecy in another widget in which the selected item is obtained as a Java.lang.String and hence constrains my behavior to accept a Java.lang.String."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":1,"creation_date":1432245472,"post_id":30384830,"comment_id":48859306,"body_markdown":"What will you do in the case where two classes in the classloader have the same name, but different packages?","body":"What will you do in the case where two classes in the classloader have the same name, but different packages?"},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1432245699,"post_id":30384830,"comment_id":48859400,"body_markdown":"Same name but different packages is not a problem as Java.lang.Class.forName() can still resolve a class object.","body":"Same name but different packages is not a problem as Java.lang.Class.forName() can still resolve a class object."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":1,"creation_date":1432246077,"post_id":30384830,"comment_id":48859564,"body_markdown":"My point is, how will you decide which is the correct one to pass off to Class.forName()?  They&#39;re both classes, and they both have name `foo`.  Is `com.poo.foo` the one you want, or `org.poo.foo`?  No program can answer that for you; you&#39;re asking it to guess.","body":"My point is, how will you decide which is the correct one to pass off to Class.forName()?  They&#39;re both classes, and they both have name <code>foo</code>.  Is <code>com.poo.foo</code> the one you want, or <code>org.poo.foo</code>?  No program can answer that for you; you&#39;re asking it to guess."},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1432246328,"post_id":30384830,"comment_id":48859675,"body_markdown":"Does Java.lang.Class.forName(...) return more than one class object?  In this case unique class names pulled from a reflective widget leaves me free to ignore this problem.","body":"Does Java.lang.Class.forName(...) return more than one class object?  In this case unique class names pulled from a reflective widget leaves me free to ignore this problem."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":1,"creation_date":1432246377,"post_id":30384830,"comment_id":48859692,"body_markdown":"No, Class.forName() only accepts fully qualified class names BECAUSE of this problem.","body":"No, Class.forName() only accepts fully qualified class names BECAUSE of this problem."},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1432250127,"post_id":30384830,"comment_id":48860943,"body_markdown":"Am I led to believe there is no way to achieve what I am asking above that I can dynamically discover the fully qualified name of a class represented only as a String in simple class name?","body":"Am I led to believe there is no way to achieve what I am asking above that I can dynamically discover the fully qualified name of a class represented only as a String in simple class name?"},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1432250546,"post_id":30384830,"comment_id":48861069,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/78481/discussion-between-mushy-and-gus).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/78481/discussion-between-mushy-and-gus\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1432245164,"post_id":30384922,"comment_id":48859155,"body_markdown":"I have to do this dynamically and hence will never know what package the class is in.","body":"I have to do this dynamically and hence will never know what package the class is in."},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1432251025,"post_id":30384922,"comment_id":48861224,"body_markdown":"I agree with you are writing in your answer but this is not an aswer to my question in which I am using a simple class name in the form of a Java.lang.String and want to discover the fully qualified name of the class and get a class object through Java.lang.Class.forName(...)","body":"I agree with you are writing in your answer but this is not an aswer to my question in which I am using a simple class name in the form of a Java.lang.String and want to discover the fully qualified name of the class and get a class object through Java.lang.Class.forName(...)"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1432277142,"post_id":30384922,"comment_id":48868551,"body_markdown":"@Mushy Then you will have to write code that searches through all packages on the classpath to find the class with the simple name that you are looking for. That is probably not easy, and you&#39;ll have to decide what should happen if there are multiple classes with the same simple name in different packages.","body":"@Mushy Then you will have to write code that searches through all packages on the classpath to find the class with the simple name that you are looking for. That is probably not easy, and you&#39;ll have to decide what should happen if there are multiple classes with the same simple name in different packages."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1432278465,"post_id":30384922,"comment_id":48869214,"body_markdown":"@Mushy See for example: [Get all of the Classes in the Classpath](http://stackoverflow.com/questions/3222638/get-all-of-the-classes-in-the-classpath)","body":"@Mushy See for example: <a href=\"http://stackoverflow.com/questions/3222638/get-all-of-the-classes-in-the-classpath\">Get all of the Classes in the Classpath</a>"},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1432295107,"post_id":30384922,"comment_id":48879310,"body_markdown":"There won&#39;t be multiple classes with same name in different packages. I have the afforded luxury to work within a namespace that is singularly unique in class name but not so in field name. Only issue I have with searching is response time but I will do it.  This answer is more to what I was looking for and will be accepted if no other solutions present themselves.","body":"There won&#39;t be multiple classes with same name in different packages. I have the afforded luxury to work within a namespace that is singularly unique in class name but not so in field name. Only issue I have with searching is response time but I will do it.  This answer is more to what I was looking for and will be accepted if no other solutions present themselves."},{"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"score":0,"creation_date":1698585551,"post_id":30384922,"comment_id":136421598,"body_markdown":"Watch out to NOT include the module name (e.g. &quot;java.base.&quot;)","body":"Watch out to NOT include the module name (e.g. &quot;java.base.&quot;)"}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":6,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1432244768,"creation_date":1432244768,"answer_id":30384922,"question_id":30384830,"body_markdown":"The fully qualified name of a class is the name of the class prefixed with the package name. For example if class `Address` is in a package `com.mycompany.myproject`, then the fully qualified name of class `Address` is `com.mycompany.myproject.Address`.\r\n\r\nJava can only find classes by their fully qualified name (unless the class is in the default package - but then the simple name of the class is also the fully qualified name).\r\n\r\nYou need to know in what package your class is in, otherwise there is no way to load the class with `Class.forName(...)`.","title":"Determining Fully Qualified Class Name from Java.lang.String","body":"<p>The fully qualified name of a class is the name of the class prefixed with the package name. For example if class <code>Address</code> is in a package <code>com.mycompany.myproject</code>, then the fully qualified name of class <code>Address</code> is <code>com.mycompany.myproject.Address</code>.</p>\n\n<p>Java can only find classes by their fully qualified name (unless the class is in the default package - but then the simple name of the class is also the fully qualified name).</p>\n\n<p>You need to know in what package your class is in, otherwise there is no way to load the class with <code>Class.forName(...)</code>.</p>\n"}],"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12189,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1681711283,"creation_date":1432244356,"question_id":30384830,"body_markdown":"I have considered in thought how I can take a `java.lang.String` representing a class name and determine the fully qualified name to then convert the string to a class using `Java.lang.Class.forName(FullyQualifiedName)`.\r\n\r\nThis is puzzling me because I can&#39;t use `Java.lang.Class.forName()` with a `Java.lang.String` representing a class name such as &quot;Address&quot; because I need the fully qualified name or I get an `Exception.ClassNotFoundException` which cycles me back to needing to know the fully qualified name but how when I can&#39;t use `Java.lang.Class.forName()`.\r\n\r\nI am simply stuck with my current knowledge. I have searched using Google and even with the creation of this question but I bet this has already been asked-n-answered.  Someone please point me in the right direction?\r\n\r\n\r\nNote: This question should be removed as it does not appear possible to do what the OP is requesting in Java.","title":"Determining Fully Qualified Class Name from Java.lang.String","body":"<p>I have considered in thought how I can take a <code>java.lang.String</code> representing a class name and determine the fully qualified name to then convert the string to a class using <code>Java.lang.Class.forName(FullyQualifiedName)</code>.</p>\n<p>This is puzzling me because I can't use <code>Java.lang.Class.forName()</code> with a <code>Java.lang.String</code> representing a class name such as &quot;Address&quot; because I need the fully qualified name or I get an <code>Exception.ClassNotFoundException</code> which cycles me back to needing to know the fully qualified name but how when I can't use <code>Java.lang.Class.forName()</code>.</p>\n<p>I am simply stuck with my current knowledge. I have searched using Google and even with the creation of this question but I bet this has already been asked-n-answered.  Someone please point me in the right direction?</p>\n<p>Note: This question should be removed as it does not appear possible to do what the OP is requesting in Java.</p>\n"},{"tags":["java","opengl","minecraft","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":2176875,"reputation":31,"user_id":6923291,"display_name":"Drew Chase"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681710035,"creation_date":1681710035,"answer_id":76032006,"question_id":75977473,"body_markdown":"So I solved the issue\r\n\r\n```java\r\n\r\n\tprivate static final Minecraft client = Minecraft.getInstance();\r\n\tpublic static final Matrix4f lastProjMat = new Matrix4f();\r\n\tpublic static final Matrix4f lastModMat = new Matrix4f();\r\n\tpublic static final Matrix4f lastWorldSpaceMatrix = new Matrix4f();\r\n\t\r\n\tpublic static Vector3d worldSpaceToScreenSpace(Vector3d pos)\r\n\t{\r\n\t\tCamera camera = client.getEntityRenderDispatcher().camera;\r\n\t\tint displayHeight = client.getWindow().getHeight();\r\n\t\tint[] viewport = new int[4];\r\n\t\tGL11.glGetIntegerv(GL11.GL_VIEWPORT, viewport);\r\n\t\tVector3f target = new Vector3f();\r\n\t\tdouble dx = pos.x - camera.getPosition().x;\r\n\t\tdouble dy = pos.y - camera.getPosition().y;\r\n\t\tdouble dz = pos.z - camera.getPosition().z;\r\n\t\t\r\n\t\tVector4f transformedCoordinates = new Vector4f((float) dx, (float) dy, (float) dz, 1.f).mul(lastWorldSpaceMatrix);\r\n\t\t\r\n\t\tMatrix4f matrixProj = new Matrix4f(lastProjMat);\r\n\t\tMatrix4f matrixModel = new Matrix4f(lastModMat);\r\n\t\tmatrixProj.mul(matrixModel).project(transformedCoordinates.x(), transformedCoordinates.y(), transformedCoordinates.z(), viewport, target);\r\n\t\t\r\n\t\treturn new Vector3d(target.x / client.getWindow().getGuiScale(), (displayHeight - target.y) / client.getWindow().getGuiScale(), target.z);\r\n\t}\r\n\t\r\n\tpublic static boolean screenSpaceCoordinateIsVisible(Vector3d pos)\r\n\t{\r\n\t\treturn pos != null &amp;&amp; (pos.z &gt; -1 &amp;&amp; pos.z &lt; 1);\r\n\t}\r\n```\r\nhttps://github.com/DcmanProductions/The-Warp-Mod/blob/1.19.4-architectury/common/src/main/java/chase/minecraft/architectury/warpmod/client/renderer/RenderUtils.java","title":"Calculate Screenspace Position from 3D Position in Java","body":"<p>So I solved the issue</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    private static final Minecraft client = Minecraft.getInstance();\n    public static final Matrix4f lastProjMat = new Matrix4f();\n    public static final Matrix4f lastModMat = new Matrix4f();\n    public static final Matrix4f lastWorldSpaceMatrix = new Matrix4f();\n    \n    public static Vector3d worldSpaceToScreenSpace(Vector3d pos)\n    {\n        Camera camera = client.getEntityRenderDispatcher().camera;\n        int displayHeight = client.getWindow().getHeight();\n        int[] viewport = new int[4];\n        GL11.glGetIntegerv(GL11.GL_VIEWPORT, viewport);\n        Vector3f target = new Vector3f();\n        double dx = pos.x - camera.getPosition().x;\n        double dy = pos.y - camera.getPosition().y;\n        double dz = pos.z - camera.getPosition().z;\n        \n        Vector4f transformedCoordinates = new Vector4f((float) dx, (float) dy, (float) dz, 1.f).mul(lastWorldSpaceMatrix);\n        \n        Matrix4f matrixProj = new Matrix4f(lastProjMat);\n        Matrix4f matrixModel = new Matrix4f(lastModMat);\n        matrixProj.mul(matrixModel).project(transformedCoordinates.x(), transformedCoordinates.y(), transformedCoordinates.z(), viewport, target);\n        \n        return new Vector3d(target.x / client.getWindow().getGuiScale(), (displayHeight - target.y) / client.getWindow().getGuiScale(), target.z);\n    }\n    \n    public static boolean screenSpaceCoordinateIsVisible(Vector3d pos)\n    {\n        return pos != null &amp;&amp; (pos.z &gt; -1 &amp;&amp; pos.z &lt; 1);\n    }\n</code></pre>\n<p><a href=\"https://github.com/DcmanProductions/The-Warp-Mod/blob/1.19.4-architectury/common/src/main/java/chase/minecraft/architectury/warpmod/client/renderer/RenderUtils.java\" rel=\"nofollow noreferrer\">https://github.com/DcmanProductions/The-Warp-Mod/blob/1.19.4-architectury/common/src/main/java/chase/minecraft/architectury/warpmod/client/renderer/RenderUtils.java</a></p>\n"}],"owner":{"account_id":2176875,"reputation":31,"user_id":6923291,"display_name":"Drew Chase"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1681714709,"accepted_answer_id":76032006,"answer_count":1,"score":-2,"last_activity_date":1681710035,"creation_date":1681132537,"question_id":75977473,"body_markdown":"# Overview\r\n\r\nHi,I&#39;m trying to calculate the screen space position of a waypoint on screen, I can&#39;t figure out the math to do so.\r\n\r\n```java\r\n   private Vector2f calc(float partialTicks)\r\n    {\r\n        // Getting the gui scale adjusted width and height\r\n        Window window = _minecraft.getWindow();\r\n        int width = window.getGuiScaledWidth();\r\n        int height = window.getGuiScaledHeight();\r\n        \r\n        // Calculating the center of the screen\r\n        double screenCenterX = width / 2.0;\r\n        double screenCenterY = height / 2.0;\r\n        \r\n        // Getting the player from minecraft\r\n        LocalPlayer player = _minecraft.player;\r\n        assert player != null;\r\n        \r\n        // The players looking angle\r\n        float pitch = player.getXRot();\r\n        float yaw = player.getYRot();\r\n        \r\n        // The players field of view\r\n        double fov = Math.toRadians(player.getFieldOfViewModifier() * 70f);\r\n        float pitchRadians = (float) Math.toRadians(pitch);\r\n        float yawRadians = (float) Math.toRadians(yaw);\r\n        double verticalPixelPerRad = screenCenterY / fov;\r\n        double horizontalPixelPerRad = screenCenterX / fov;\r\n        \r\n        \r\n        // The players position\r\n        double px = player.getX();\r\n        double py = player.getY();\r\n        double pz = player.getZ();\r\n        \r\n        // The warps position\r\n        double wx = _warp.x();\r\n        double wy = _warp.y();\r\n        double wz = _warp.z();\r\n        \r\n        // Getting the delta between the players position and the position of the warp\r\n        double dx = wx - px;\r\n        double dy = wy - py;\r\n        double dz = wz - pz;\r\n\r\n        // Calculate the distance between the player and the warp\r\n        double distance = Math.sqrt(dx * dx + dy * dy + dz * dz);\r\n        \r\n        // TODO: Calculate the screen space position of the warp point relative to the players position and rotation\r\n        \r\n        return new Vector2f(0,0);\r\n        \r\n    }\r\n```\r\n\r\nThe github repo: https://github.com/DcmanProductions/The-Warp-Mod/blob/be5400678cfe3f05a8a0501ac9d2b9f3d04a4a63/common/src/main/java/chase/minecraft/architectury/warpmod/client/gui/waypoint/WaypointOverlay.java","title":"Calculate Screenspace Position from 3D Position in Java","body":"<h1>Overview</h1>\n<p>Hi,I'm trying to calculate the screen space position of a waypoint on screen, I can't figure out the math to do so.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   private Vector2f calc(float partialTicks)\n    {\n        // Getting the gui scale adjusted width and height\n        Window window = _minecraft.getWindow();\n        int width = window.getGuiScaledWidth();\n        int height = window.getGuiScaledHeight();\n        \n        // Calculating the center of the screen\n        double screenCenterX = width / 2.0;\n        double screenCenterY = height / 2.0;\n        \n        // Getting the player from minecraft\n        LocalPlayer player = _minecraft.player;\n        assert player != null;\n        \n        // The players looking angle\n        float pitch = player.getXRot();\n        float yaw = player.getYRot();\n        \n        // The players field of view\n        double fov = Math.toRadians(player.getFieldOfViewModifier() * 70f);\n        float pitchRadians = (float) Math.toRadians(pitch);\n        float yawRadians = (float) Math.toRadians(yaw);\n        double verticalPixelPerRad = screenCenterY / fov;\n        double horizontalPixelPerRad = screenCenterX / fov;\n        \n        \n        // The players position\n        double px = player.getX();\n        double py = player.getY();\n        double pz = player.getZ();\n        \n        // The warps position\n        double wx = _warp.x();\n        double wy = _warp.y();\n        double wz = _warp.z();\n        \n        // Getting the delta between the players position and the position of the warp\n        double dx = wx - px;\n        double dy = wy - py;\n        double dz = wz - pz;\n\n        // Calculate the distance between the player and the warp\n        double distance = Math.sqrt(dx * dx + dy * dy + dz * dz);\n        \n        // TODO: Calculate the screen space position of the warp point relative to the players position and rotation\n        \n        return new Vector2f(0,0);\n        \n    }\n</code></pre>\n<p>The github repo: <a href=\"https://github.com/DcmanProductions/The-Warp-Mod/blob/be5400678cfe3f05a8a0501ac9d2b9f3d04a4a63/common/src/main/java/chase/minecraft/architectury/warpmod/client/gui/waypoint/WaypointOverlay.java\" rel=\"nofollow noreferrer\">https://github.com/DcmanProductions/The-Warp-Mod/blob/be5400678cfe3f05a8a0501ac9d2b9f3d04a4a63/common/src/main/java/chase/minecraft/architectury/warpmod/client/gui/waypoint/WaypointOverlay.java</a></p>\n"},{"tags":["java","azure","azure-keyvault"],"answers":[{"tags":[],"owner":{"account_id":26453603,"reputation":864,"user_id":20096460,"display_name":"Sourav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681709440,"creation_date":1681709440,"answer_id":76031967,"question_id":76009638,"body_markdown":"**I tried in my environment and got the below results:**\r\n\r\n \r\n\r\n&gt; ERROR com.azure.core.http.policy.RetryPolicy -\r\n{&quot;az.sdk.message&quot;:&quot;Retry attempts have been\r\nexhausted.&quot;,&quot;exception&quot;:&quot;DefaultAzureCredential authentication failed. ---&gt; AzureCliCredential authentication failed. Error Details: &#39;az&#39; n o   reconhecido como um comando internoou externo, um programa oper vel ou um arquivo em lotes.&quot;,&quot;tryCount&quot;:3}\r\n\r\n \r\n\r\nThe above error occurs when you attempt to authenticate using various credentials, including **`EnvironmentCredential, ManagedIdentityCredential, SharedTokenCacheCredential, and IntelliJCredential`**. Still, none of them are available or are failing to authenticate and also there is az command is not installed yet.\r\n\r\n \r\n\r\nYou can install the az cli commands using this [MS-DOCS](https://learn.microsoft.com/en-us/cli/azure/install-azure-cli-windows?tabs=azure-cli) and you need to use **`az login`** command before running the code in your terminal.\r\n\r\n \r\n\r\nYou can use the below code to get the list of files from Azure blob storage without using the connection string and account key.\r\n\r\n \r\n\r\n**Code:**\r\n\r\n    import com.azure.identity.DefaultAzureCredential;\r\n    import com.azure.identity.DefaultAzureCredentialBuilder;\r\n    import com.azure.storage.blob.BlobContainerClient;\r\n    import com.azure.storage.blob.BlobServiceClient;\r\n    import com.azure.storage.blob.BlobServiceClientBuilder;\r\n    import com.azure.storage.blob.models.BlobItem;\r\n\r\n    public class App {\r\n        public static void main(String[] args) {\r\n\r\n            String containerName = &quot;test2&quot;;\r\n            DefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\r\n    // Azure SDK client builders accept the credential as a parameter\r\n           BlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\r\n                .endpoint(&quot;https://&lt;storageaccountname&gt;.blob.core.windows.net/&quot;)\r\n                .credential(defaultCredential)\r\n                .buildClient();\r\n            BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerName);\r\n            for (BlobItem blobItem : containerClient.listBlobs()) {\r\n                System.out.println(blobItem.getName());\r\n            }\r\n        }\r\n    }\r\n\r\n \r\n\r\n**Output:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/Pav1z.png)\r\n\r\n \r\n\r\nAlso, You need **`storage blob data contributor role`** to access the data from Azure blob storage.\r\n\r\n \r\n\r\n**Reference:**\r\n[Quickstart: Azure Blob Storage library - Java | Microsoft Learn](https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli#authenticate-to-azure-and-authorize-access-to-blob-data)","title":"Failing to list files from azure blob storage using keyvault on java","body":"<p><strong>I tried in my environment and got the below results:</strong></p>\n<blockquote>\n<p>ERROR com.azure.core.http.policy.RetryPolicy -\n{&quot;az.sdk.message&quot;:&quot;Retry attempts have been\nexhausted.&quot;,&quot;exception&quot;:&quot;DefaultAzureCredential authentication failed. ---&gt; AzureCliCredential authentication failed. Error Details: 'az' n o   reconhecido como um comando internoou externo, um programa oper vel ou um arquivo em lotes.&quot;,&quot;tryCount&quot;:3}</p>\n</blockquote>\n<p>The above error occurs when you attempt to authenticate using various credentials, including <strong><code>EnvironmentCredential, ManagedIdentityCredential, SharedTokenCacheCredential, and IntelliJCredential</code></strong>. Still, none of them are available or are failing to authenticate and also there is az command is not installed yet.</p>\n<p>You can install the az cli commands using this <a href=\"https://learn.microsoft.com/en-us/cli/azure/install-azure-cli-windows?tabs=azure-cli\" rel=\"nofollow noreferrer\">MS-DOCS</a> and you need to use <strong><code>az login</code></strong> command before running the code in your terminal.</p>\n<p>You can use the below code to get the list of files from Azure blob storage without using the connection string and account key.</p>\n<p><strong>Code:</strong></p>\n<pre><code>import com.azure.identity.DefaultAzureCredential;\nimport com.azure.identity.DefaultAzureCredentialBuilder;\nimport com.azure.storage.blob.BlobContainerClient;\nimport com.azure.storage.blob.BlobServiceClient;\nimport com.azure.storage.blob.BlobServiceClientBuilder;\nimport com.azure.storage.blob.models.BlobItem;\n\npublic class App {\n    public static void main(String[] args) {\n\n        String containerName = &quot;test2&quot;;\n        DefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\n// Azure SDK client builders accept the credential as a parameter\n       BlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\n            .endpoint(&quot;https://&lt;storageaccountname&gt;.blob.core.windows.net/&quot;)\n            .credential(defaultCredential)\n            .buildClient();\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerName);\n        for (BlobItem blobItem : containerClient.listBlobs()) {\n            System.out.println(blobItem.getName());\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/Pav1z.png\" alt=\"enter image description here\" /></p>\n<p>Also, You need <strong><code>storage blob data contributor role</code></strong> to access the data from Azure blob storage.</p>\n<p><strong>Reference:</strong>\n<a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli#authenticate-to-azure-and-authorize-access-to-blob-data\" rel=\"nofollow noreferrer\">Quickstart: Azure Blob Storage library - Java | Microsoft Learn</a></p>\n"}],"owner":{"account_id":28298446,"reputation":31,"user_id":21637528,"display_name":"Italo Gon&#231;alves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1681709440,"creation_date":1681418156,"question_id":76009638,"body_markdown":"So im trying to list the files inside of an Azure Blob Storage. I&#39;m able to do that using the connection string or access key from the blob storage but i dont want it to be leaked on the code so i tried to implement Azure Keyvault on the acess key and i&#39;m now getting an authentication error(yes i do have enough permissions since i can run it without the keyvault). are there any workaround i&#39;ve been trying alot but havent found a solution yet.\r\n\r\nHeres the code snippet im using \r\n```\r\npackage org.example;\r\nimport com.azure.storage.common.StorageSharedKeyCredential;\r\nimport com.azure.identity.DefaultAzureCredentialBuilder;\r\nimport com.azure.security.keyvault.secrets.SecretClient;\r\nimport com.azure.security.keyvault.secrets.SecretClientBuilder;\r\nimport com.azure.security.keyvault.secrets.models.KeyVaultSecret;\r\nimport com.azure.storage.blob.BlobContainerClient;\r\nimport com.azure.storage.blob.BlobServiceClient;\r\nimport com.azure.storage.blob.BlobServiceClientBuilder;\r\nimport com.azure.storage.blob.models.BlobItem;\r\n\r\npublic class ListKeyVaultSecrets {\r\n    public static void main(String[] args) {\r\n\r\n        String accountName = &quot;&quot;;\r\n        String containerName = &quot;&quot;;\r\n        String secretName = &quot;&quot;;\r\n        String keyVaultUrl = &quot;&quot;;\r\n\r\n\r\n        SecretClient secretClient = new SecretClientBuilder()\r\n                .vaultUrl(keyVaultUrl)\r\n                .credential(new DefaultAzureCredentialBuilder().build())\r\n                .buildClient();\r\n\r\n\r\n\r\n        KeyVaultSecret secret = secretClient.getSecret(secretName); ## the error is here###\r\n        String accountKey = secret.getValue();                       ###################\r\n\r\n        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\r\n                .endpoint(String.format(&quot;https://%s.blob.core.windows.net&quot;, accountName))\r\n                .credential(new StorageSharedKeyCredential(accountName, accountKey))\r\n                .buildClient();\r\n\r\n\r\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerName);\r\n\r\n\r\n        for (BlobItem blobItem : containerClient.listBlobs()) {\r\n            System.out.println(blobItem.getName());\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\nAt the end im getting this error btw:\r\n\r\n    [main] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential EnvironmentCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential ManagedIdentityCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential SharedTokenCacheCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.WindowsCredentialAccessor - Elemento n&#227;o encontrado.\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential IntelliJCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.core.implementation.AccessTokenCache - Failed to acquire a new access token.\r\n    [parallel-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential EnvironmentCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential ManagedIdentityCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-2] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential SharedTokenCacheCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-2] ERROR com.azure.identity.implementation.WindowsCredentialAccessor - Elemento n&#227;o encontrado.\r\n    [ForkJoinPool.commonPool-worker-2] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential IntelliJCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-2] ERROR com.azure.identity.implementation.IdentityClient - &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\r\n    [ForkJoinPool.commonPool-worker-2] ERROR com.azure.identity.implementation.IdentityClient - &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\r\n    [ForkJoinPool.commonPool-worker-2] ERROR com.azure.core.implementation.AccessTokenCache - Failed to acquire a new access token.\r\n    [parallel-2] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential EnvironmentCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-2] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential ManagedIdentityCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential SharedTokenCacheCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.WindowsCredentialAccessor - Elemento n&#227;o encontrado.\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential IntelliJCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.core.implementation.AccessTokenCache - Failed to acquire a new access token.\r\n    [parallel-3] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential EnvironmentCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential ManagedIdentityCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential SharedTokenCacheCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.WindowsCredentialAccessor - Elemento n&#227;o encontrado.\r\n    [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential IntelliJCredential is unavailable.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\r\n    [ForkJoinPool.commonPool-worker-1] ERROR com.azure.core.implementation.AccessTokenCache - Failed to acquire a new access token.\r\n    [main] ERROR com.azure.core.http.policy.RetryPolicy - {&quot;az.sdk.message&quot;:&quot;Retry attempts have been exhausted.&quot;,&quot;exception&quot;:&quot;DefaultAzureCredential authentication failed. ---&gt; AzureCliCredential authentication failed. Error Details: &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.&quot;,&quot;tryCount&quot;:3}\r\n    [main] ERROR com.azure.core.http.policy.RetryPolicy - DefaultAzureCredential authentication failed. ---&gt; AzureCliCredential authentication failed. Error Details: &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\r\n    [main] ERROR com.azure.core.implementation.http.rest.RestProxyBase - DefaultAzureCredential authentication failed. ---&gt; AzureCliCredential authentication failed. Error Details: &#39;az&#39; n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\r\n    \r\n    I&#39;ve tried most of the solutions on the documentation but it doesnt seem to work for some reason.\r\n\r\n","title":"Failing to list files from azure blob storage using keyvault on java","body":"<p>So im trying to list the files inside of an Azure Blob Storage. I'm able to do that using the connection string or access key from the blob storage but i dont want it to be leaked on the code so i tried to implement Azure Keyvault on the acess key and i'm now getting an authentication error(yes i do have enough permissions since i can run it without the keyvault). are there any workaround i've been trying alot but havent found a solution yet.</p>\n<p>Heres the code snippet im using</p>\n<pre><code>package org.example;\nimport com.azure.storage.common.StorageSharedKeyCredential;\nimport com.azure.identity.DefaultAzureCredentialBuilder;\nimport com.azure.security.keyvault.secrets.SecretClient;\nimport com.azure.security.keyvault.secrets.SecretClientBuilder;\nimport com.azure.security.keyvault.secrets.models.KeyVaultSecret;\nimport com.azure.storage.blob.BlobContainerClient;\nimport com.azure.storage.blob.BlobServiceClient;\nimport com.azure.storage.blob.BlobServiceClientBuilder;\nimport com.azure.storage.blob.models.BlobItem;\n\npublic class ListKeyVaultSecrets {\n    public static void main(String[] args) {\n\n        String accountName = &quot;&quot;;\n        String containerName = &quot;&quot;;\n        String secretName = &quot;&quot;;\n        String keyVaultUrl = &quot;&quot;;\n\n\n        SecretClient secretClient = new SecretClientBuilder()\n                .vaultUrl(keyVaultUrl)\n                .credential(new DefaultAzureCredentialBuilder().build())\n                .buildClient();\n\n\n\n        KeyVaultSecret secret = secretClient.getSecret(secretName); ## the error is here###\n        String accountKey = secret.getValue();                       ###################\n\n        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\n                .endpoint(String.format(&quot;https://%s.blob.core.windows.net&quot;, accountName))\n                .credential(new StorageSharedKeyCredential(accountName, accountKey))\n                .buildClient();\n\n\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerName);\n\n\n        for (BlobItem blobItem : containerClient.listBlobs()) {\n            System.out.println(blobItem.getName());\n        }\n    }\n}\n\n\n\n</code></pre>\n<p>At the end im getting this error btw:</p>\n<pre><code>[main] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential EnvironmentCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential ManagedIdentityCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential SharedTokenCacheCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.WindowsCredentialAccessor - Elemento não encontrado.\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential IntelliJCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.core.implementation.AccessTokenCache - Failed to acquire a new access token.\n[parallel-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential EnvironmentCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential ManagedIdentityCredential is unavailable.\n[ForkJoinPool.commonPool-worker-2] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential SharedTokenCacheCredential is unavailable.\n[ForkJoinPool.commonPool-worker-2] ERROR com.azure.identity.implementation.WindowsCredentialAccessor - Elemento não encontrado.\n[ForkJoinPool.commonPool-worker-2] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential IntelliJCredential is unavailable.\n[ForkJoinPool.commonPool-worker-2] ERROR com.azure.identity.implementation.IdentityClient - 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\n[ForkJoinPool.commonPool-worker-2] ERROR com.azure.identity.implementation.IdentityClient - 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\n[ForkJoinPool.commonPool-worker-2] ERROR com.azure.core.implementation.AccessTokenCache - Failed to acquire a new access token.\n[parallel-2] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential EnvironmentCredential is unavailable.\n[ForkJoinPool.commonPool-worker-2] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential ManagedIdentityCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential SharedTokenCacheCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.WindowsCredentialAccessor - Elemento não encontrado.\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential IntelliJCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.core.implementation.AccessTokenCache - Failed to acquire a new access token.\n[parallel-3] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential EnvironmentCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential ManagedIdentityCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential SharedTokenCacheCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.WindowsCredentialAccessor - Elemento não encontrado.\n[ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ChainedTokenCredential - Azure Identity =&gt; Attempted credential IntelliJCredential is unavailable.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.identity.implementation.IdentityClient - 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\n[ForkJoinPool.commonPool-worker-1] ERROR com.azure.core.implementation.AccessTokenCache - Failed to acquire a new access token.\n[main] ERROR com.azure.core.http.policy.RetryPolicy - {&quot;az.sdk.message&quot;:&quot;Retry attempts have been exhausted.&quot;,&quot;exception&quot;:&quot;DefaultAzureCredential authentication failed. ---&gt; AzureCliCredential authentication failed. Error Details: 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.&quot;,&quot;tryCount&quot;:3}\n[main] ERROR com.azure.core.http.policy.RetryPolicy - DefaultAzureCredential authentication failed. ---&gt; AzureCliCredential authentication failed. Error Details: 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\n[main] ERROR com.azure.core.implementation.http.rest.RestProxyBase - DefaultAzureCredential authentication failed. ---&gt; AzureCliCredential authentication failed. Error Details: 'az' n�o � reconhecido como um comando internoou externo, um programa oper�vel ou um arquivo em lotes.\n\nI've tried most of the solutions on the documentation but it doesnt seem to work for some reason.\n</code></pre>\n"},{"tags":["java","android-studio","wear-os"],"answers":[{"comments":[{"owner":{"account_id":1385885,"reputation":93,"user_id":1317960,"accept_rate":0,"display_name":"MikeR"},"score":0,"creation_date":1680276400,"post_id":75893109,"comment_id":133876178,"body_markdown":"could you please add the build.gradle (:app) file to your answer?  Thank you!","body":"could you please add the build.gradle (:app) file to your answer?  Thank you!"},{"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"score":0,"creation_date":1680625824,"post_id":75893109,"comment_id":133928449,"body_markdown":"I have added the build.gradle in my answer","body":"I have added the build.gradle in my answer"},{"owner":{"account_id":1385885,"reputation":93,"user_id":1317960,"accept_rate":0,"display_name":"MikeR"},"score":0,"creation_date":1681583763,"post_id":75893109,"comment_id":134081283,"body_markdown":"I have entered your code and successfully loaded it onto my Fossil Gen 6  watch.  Though the code executed, it did not recognize wrist gestures.  I contacted Fossil customer support, and after several back-and-forths, I got the following response:    \nI double-checked everything again and found that Wrist gesture is not yet available on Wear OS 3. You can rest assured that I have already passed along your feedback to the engineering team regarding the wrist gestures for further consideration. Please stay tuned and wait for our new releases!","body":"I have entered your code and successfully loaded it onto my Fossil Gen 6  watch.  Though the code executed, it did not recognize wrist gestures.  I contacted Fossil customer support, and after several back-and-forths, I got the following response:     I double-checked everything again and found that Wrist gesture is not yet available on Wear OS 3. You can rest assured that I have already passed along your feedback to the engineering team regarding the wrist gestures for further consideration. Please stay tuned and wait for our new releases!"},{"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"score":0,"creation_date":1681709493,"post_id":75893109,"comment_id":134094310,"body_markdown":"You can also try the code for gestures that I posted above (UPDATED CODE ABOVE).","body":"You can also try the code for gestures that I posted above (UPDATED CODE ABOVE)."}],"tags":[],"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681709405,"creation_date":1680211394,"answer_id":75893109,"question_id":75887645,"body_markdown":"Here is a Demo Code for the wrist gestures.\r\n\r\nMainActivity.java\r\n```\r\npackage com.example.appname;\r\n\r\nimport android.os.Bundle;\r\nimport android.support.wearable.activity.WearableActivity;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends WearableActivity {\r\n\r\n    private TextView mTextView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTextView = findViewById(R.id.text);\r\n\r\n        // Enables wrist gestures\r\n        setAmbientEnabled();\r\n    }\r\n\r\n    @Override\r\n    public boolean dispatchTouchEvent(MotionEvent ev) {\r\n        if (ev.getAction() == MotionEvent.ACTION_DOWN) {\r\n            // Wrist flick gesture\r\n            if (ev.getEdgeFlags() == MotionEvent.EDGE_WRIGHT) {\r\n                Log.d(&quot;Wrist Gesture&quot;, &quot;Flick wrist right&quot;);\r\n                mTextView.setText(&quot;Flicked wrist right&quot;);\r\n                return true;\r\n            } else if (ev.getEdgeFlags() == MotionEvent.EDGE_LEFT) {\r\n                // Wrist tilt gesture\r\n                Log.d(&quot;Wrist Gesture&quot;, &quot;Tilt wrist left&quot;);\r\n                mTextView.setText(&quot;Tilted wrist left&quot;);\r\n                return true;\r\n            }\r\n        }\r\n        return super.dispatchTouchEvent(ev);\r\n    }\r\n}\r\n```\r\n\r\nactivity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.wearable.view.BoxInsetLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:padding=&quot;16dp&quot;\r\n    app:layout_box=&quot;all&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:text=&quot;Hello World!&quot; /&gt;\r\n\r\n&lt;/android.support.wearable.view.BoxInsetLayout&gt;\r\n```\r\n\r\nAndroidManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.appname&quot;&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.type.watch&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Wearable&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@android:style/Theme.DeviceDefault.Light&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;category android:name=&quot;com.google.android.wearable.action.WEARABLE_ACTIVITY&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nBuild.gradle\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.appname&quot;\r\n        minSdkVersion 25\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        // Enabling multidex support for the app.\r\n        multiDexEnabled true\r\n\r\n        // Enabling standalone mode for Wear OS apps.\r\n        wearAppUnbundled true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;androidx.wear:wear:1.1.0&#39;\r\n    // Adding multidex support.\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n}\r\n\r\n```\r\n\r\nYou can also use the following code to capture wrist gestures:\r\n\r\n```\r\n final GestureDetector gestureDetector = new GestureDetector(this, new GestureDetector.SimpleOnGestureListener() {\r\n            @Override\r\n            public boolean onDown(MotionEvent event) {\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public boolean onFling(MotionEvent event1, MotionEvent event2, float velocityX, float velocityY) {\r\n                if (event1.getY() - event2.getY() &gt; 100 &amp;&amp; Math.abs(velocityY) &gt; 100) {\r\n                    // Handle up gesture\r\n                    return true;\r\n                } else if (event2.getY() - event1.getY() &gt; 100 &amp;&amp; Math.abs(velocityY) &gt; 100) {\r\n                    // Handle down gesture\r\n                    return true;\r\n                }\r\n\r\n                return super.onFling(event1, event2, velocityX, velocityY);\r\n            }\r\n        });\r\n```","title":"How to capture wrist gestures in a Wear OS app?","body":"<p>Here is a Demo Code for the wrist gestures.</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.appname;\n\nimport android.os.Bundle;\nimport android.support.wearable.activity.WearableActivity;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.TextView;\n\npublic class MainActivity extends WearableActivity {\n\n    private TextView mTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mTextView = findViewById(R.id.text);\n\n        // Enables wrist gestures\n        setAmbientEnabled();\n    }\n\n    @Override\n    public boolean dispatchTouchEvent(MotionEvent ev) {\n        if (ev.getAction() == MotionEvent.ACTION_DOWN) {\n            // Wrist flick gesture\n            if (ev.getEdgeFlags() == MotionEvent.EDGE_WRIGHT) {\n                Log.d(&quot;Wrist Gesture&quot;, &quot;Flick wrist right&quot;);\n                mTextView.setText(&quot;Flicked wrist right&quot;);\n                return true;\n            } else if (ev.getEdgeFlags() == MotionEvent.EDGE_LEFT) {\n                // Wrist tilt gesture\n                Log.d(&quot;Wrist Gesture&quot;, &quot;Tilt wrist left&quot;);\n                mTextView.setText(&quot;Tilted wrist left&quot;);\n                return true;\n            }\n        }\n        return super.dispatchTouchEvent(ev);\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.wearable.view.BoxInsetLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:padding=&quot;16dp&quot;\n    app:layout_box=&quot;all&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textSize=&quot;24sp&quot;\n        android:text=&quot;Hello World!&quot; /&gt;\n\n&lt;/android.support.wearable.view.BoxInsetLayout&gt;\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.appname&quot;&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.type.watch&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Wearable&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@android:style/Theme.DeviceDefault.Light&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n                &lt;category android:name=&quot;com.google.android.wearable.action.WEARABLE_ACTIVITY&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Build.gradle</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.appname&quot;\n        minSdkVersion 25\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        // Enabling multidex support for the app.\n        multiDexEnabled true\n\n        // Enabling standalone mode for Wear OS apps.\n        wearAppUnbundled true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'androidx.wear:wear:1.1.0'\n    // Adding multidex support.\n    implementation 'com.android.support:multidex:1.0.3'\n}\n\n</code></pre>\n<p>You can also use the following code to capture wrist gestures:</p>\n<pre><code> final GestureDetector gestureDetector = new GestureDetector(this, new GestureDetector.SimpleOnGestureListener() {\n            @Override\n            public boolean onDown(MotionEvent event) {\n                return true;\n            }\n\n            @Override\n            public boolean onFling(MotionEvent event1, MotionEvent event2, float velocityX, float velocityY) {\n                if (event1.getY() - event2.getY() &gt; 100 &amp;&amp; Math.abs(velocityY) &gt; 100) {\n                    // Handle up gesture\n                    return true;\n                } else if (event2.getY() - event1.getY() &gt; 100 &amp;&amp; Math.abs(velocityY) &gt; 100) {\n                    // Handle down gesture\n                    return true;\n                }\n\n                return super.onFling(event1, event2, velocityX, velocityY);\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":1385885,"reputation":93,"user_id":1317960,"accept_rate":0,"display_name":"MikeR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681709405,"creation_date":1680175731,"question_id":75887645,"body_markdown":"I would like to see a simple, complete Android Studio Wear OS Java app source code that handles Wear OS wrist gestures.  I have reviewed the guidance at [Text](https://developer.android.com/training/wearables/user-input/wrist-gestures), but would like to see a complete example including java source code, xml, and manifest.","title":"How to capture wrist gestures in a Wear OS app?","body":"<p>I would like to see a simple, complete Android Studio Wear OS Java app source code that handles Wear OS wrist gestures.  I have reviewed the guidance at <a href=\"https://developer.android.com/training/wearables/user-input/wrist-gestures\" rel=\"nofollow noreferrer\">Text</a>, but would like to see a complete example including java source code, xml, and manifest.</p>\n"},{"tags":["java","android-studio","android-layout","checkbox","radio-group"],"answers":[{"tags":[],"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681709362,"creation_date":1681709362,"answer_id":76031960,"question_id":76031463,"body_markdown":"You are trying to access the `gender` `RadioGroup` without initializing it first and there are some other issues in your code, variables `clear` and `enter` are not initialized, in the `gender.setOnCheckedChangeListener()` method, you are trying to find a RadioButton and you need to `setContentView()` before trying to initialize any of the views. Your code should be something like this:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.your_layout_file_name);\r\n    \r\n        gender = findViewById(R.id.gender);\r\n        Male = findViewById(R.id.Male);\r\n        Female = findViewById(R.id.Female);\r\n        create = findViewById(R.id.Create);\r\n        login = findViewById(R.id.Login);\r\n        clear = findViewById(R.id.clear);\r\n        enter = findViewById(R.id.enter);\r\n        \r\n        gender.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup radioGroup, int checkedId) {\r\n                RadioButton radioButton = findViewById(checkedId);\r\n                //....\r\n            }\r\n        });\r\n    \r\n        clear.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                gender.clearCheck();\r\n            }\r\n        });\r\n    \r\n        enter.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //Get the selected RadioButton\r\n               //....\r\n            }\r\n        });\r\n\r\n        //....\r\n    }","title":"The problem with android studio jave code com.example.myapplication.mainActivity.onCreate","body":"<p>You are trying to access the <code>gender</code> <code>RadioGroup</code> without initializing it first and there are some other issues in your code, variables <code>clear</code> and <code>enter</code> are not initialized, in the <code>gender.setOnCheckedChangeListener()</code> method, you are trying to find a RadioButton and you need to <code>setContentView()</code> before trying to initialize any of the views. Your code should be something like this:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.your_layout_file_name);\n\n    gender = findViewById(R.id.gender);\n    Male = findViewById(R.id.Male);\n    Female = findViewById(R.id.Female);\n    create = findViewById(R.id.Create);\n    login = findViewById(R.id.Login);\n    clear = findViewById(R.id.clear);\n    enter = findViewById(R.id.enter);\n    \n    gender.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(RadioGroup radioGroup, int checkedId) {\n            RadioButton radioButton = findViewById(checkedId);\n            //....\n        }\n    });\n\n    clear.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            gender.clearCheck();\n        }\n    });\n\n    enter.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            //Get the selected RadioButton\n           //....\n        }\n    });\n\n    //....\n}\n</code></pre>\n"}],"owner":{"account_id":21275602,"reputation":1,"user_id":15654543,"display_name":"Mohammed Fadhul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681709362,"creation_date":1681700842,"question_id":76031463,"body_markdown":"The problem on i run app it come \r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.myapplication, PID: 13080\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplication/com.example.myapplication.mainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.RadioGroup.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:135)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:372)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.RadioGroup.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at com.example.myapplication.mainActivity.onCreate(mainActivity.java:31)\r\n        at android.app.Activity.performCreate(Activity.java:5990)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)&#160;\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:135)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n```\r\n\r\nmy java code is\r\n\r\n```\r\npackage com.example.myapplication;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.DialogInterface;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.CheckBox;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n    @SuppressLint(&quot;SuspiciousIndentation&quot;)\r\n    public class mainActivity extends AppCompatActivity {\r\n        Button create, login, enter, clear;\r\n        RadioGroup gender;\r\n        RadioButton Male, Female;\r\n        private String msg;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n\r\n            gender = (RadioGroup) findViewById(R.id.gender);\r\n            Male = (RadioButton) findViewById(R.id.Male);\r\n            Female = (RadioButton) findViewById(R.id.Female);\r\n            create = (Button) findViewById(R.id.Create);\r\n            login = (Button) findViewById(R.id.Login);\r\n            create = findViewById(R.id.Create);\r\n            login = findViewById(R.id.Login);\r\n            gender.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    //Get the selected RadioButton\r\n                    int checkId = gender.getCheckedRadioButtonId();\r\n                    // compare selected&#39;s Id with individual RadioButtons ID\r\n                    if (checkId == -1) {\r\n                            Message.message(getApplicationContext(), msg + &quot;It&#39;s done&quot;);\r\n                    } else {\r\n                        findRaqdioButton(checkId);\r\n                    }\r\n                }\r\n            });\r\n            clear.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    gender.clearCheck();\r\n                }\r\n            });\r\n            gender.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup radioGroup, int checkedId) {\r\n                    gender = findViewById(checkedId);\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                        Message.message(getApplicationContext(), gender.getTooltipText().toString());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        private void findRaqdioButton(int checkId) {\r\n            switch (checkId) {\r\n                case R.id.Male:\r\n                    Message.message(getApplicationContext(), msg + &quot;Male&quot;);\r\n                    break;\r\n                case R.id.Female:\r\n                    Message.message(getApplicationContext(), msg + &quot;Female&quot;);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\nthis xml \r\n\r\n```\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/b1&quot;\r\n    tools:context=&quot;.mainActivity&quot;\r\n    tools:ignore=&quot;ExtraText&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/title_textview&quot;\r\n        android:text=&quot;Create your new account&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/smile_imageview&quot;\r\n        android:src=&quot;@mipmap/icons&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/firstname&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:text=&quot;Frist name&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;#FFFFFF&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/Name_edit&quot;\r\n        android:hint=&quot;@string/first_name&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:background=&quot;#FAF8F8&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/lastname&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:text=&quot;Last name&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;#FFFFFF&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/lastname_edit&quot;\r\n        android:hint=&quot;Last name&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:background=&quot;#FAF8F8&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/Email&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:text=&quot;Email&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;#FFFFFF&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/Email_edit&quot;\r\n        android:hint=&quot;Enter your Email&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:background=&quot;#FAF8F8&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/Passwoed&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:text=&quot;Password&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;#FFFFFF&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/Password_edit&quot;\r\n        android:hint=&quot;Enter your Password&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        android:background=&quot;#FAF8F8&quot; /&gt;\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/gender&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot; &gt;\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/Male&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/male&quot;\r\n            android:textColor=&quot;#FFFFFF&quot;/&gt;\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/Female&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:checked=&quot;true&quot;\r\n            android:text=&quot;@string/female&quot;\r\n            android:textColor=&quot;#FFFFFF&quot;/&gt;\r\n    &lt;/RadioGroup&gt;\r\n   &lt;TableLayout\r\n    android:id=&quot;@+id/table1&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:stretchColumns=&quot;*&quot;&gt;\r\n\r\n    &lt;TableRow&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/enter&quot;\r\n            android:text=&quot;choose&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginBottom=&quot;20dp&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/clear&quot;\r\n            android:text=&quot;@string/clear&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginBottom=&quot;20dp&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n           /&gt;\r\n    &lt;/TableRow&gt;\r\n   &lt;/TableLayout&gt;\r\n    &lt;CheckBox\r\n        android:id=&quot;@+id/ch1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;I agree with Terms of Service&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;#FFFFFF&quot; &gt;\r\n    &lt;/CheckBox&gt;\r\n    &lt;CheckBox\r\n        android:id=&quot;@+id/ch2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=\r\n            &quot;@string/i_understand_that_if_i_loss_my_password_i_may_lose_my_data_read_more_information_on_help&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;&gt;\r\n    &lt;/CheckBox&gt;\r\n    &lt;TableLayout\r\n        android:id=&quot;@+id/t1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:stretchColumns=&quot;*&quot;&gt;\r\n    &lt;TableRow&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/Create&quot;\r\n        android:text=&quot;Create account&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/Login&quot;\r\n        android:text=&quot;Log in&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;/TableRow&gt;\r\n        &lt;TableRow&gt;\r\n            &lt;TextView\r\n                android:text=&quot;Help&quot;\r\n                android:id=&quot;@+id/help&quot;\r\n                android:textColor=&quot;#FFFFFF&quot;\r\n                android:padding=&quot;5dp&quot;/&gt;\r\n            &lt;TextView\r\n                android:text=&quot;How you can use it&quot;\r\n                android:id=&quot;@+id/how&quot;\r\n                android:textColor=&quot;#FFFFFF&quot;\r\n                android:padding=&quot;5dp&quot;/&gt;\r\n        &lt;/TableRow&gt;\r\n    &lt;/TableLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nMy app always stopped i can&#39;t run","title":"The problem with android studio jave code com.example.myapplication.mainActivity.onCreate","body":"<p>The problem on i run app it come</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.myapplication, PID: 13080\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplication/com.example.myapplication.mainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.RadioGroup.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.RadioGroup.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n        at com.example.myapplication.mainActivity.onCreate(mainActivity.java:31)\n        at android.app.Activity.performCreate(Activity.java:5990)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387) \n        at android.app.ActivityThread.access$800(ActivityThread.java:151) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:135) \n        at android.app.ActivityThread.main(ActivityThread.java:5254) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at java.lang.reflect.Method.invoke(Method.java:372) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \n</code></pre>\n<p>my java code is</p>\n<pre><code>package com.example.myapplication;\nimport android.annotation.SuppressLint;\nimport android.content.DialogInterface;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n    @SuppressLint(&quot;SuspiciousIndentation&quot;)\n    public class mainActivity extends AppCompatActivity {\n        Button create, login, enter, clear;\n        RadioGroup gender;\n        RadioButton Male, Female;\n        private String msg;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n\n            gender = (RadioGroup) findViewById(R.id.gender);\n            Male = (RadioButton) findViewById(R.id.Male);\n            Female = (RadioButton) findViewById(R.id.Female);\n            create = (Button) findViewById(R.id.Create);\n            login = (Button) findViewById(R.id.Login);\n            create = findViewById(R.id.Create);\n            login = findViewById(R.id.Login);\n            gender.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    //Get the selected RadioButton\n                    int checkId = gender.getCheckedRadioButtonId();\n                    // compare selected's Id with individual RadioButtons ID\n                    if (checkId == -1) {\n                            Message.message(getApplicationContext(), msg + &quot;It's done&quot;);\n                    } else {\n                        findRaqdioButton(checkId);\n                    }\n                }\n            });\n            clear.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    gender.clearCheck();\n                }\n            });\n            gender.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(RadioGroup radioGroup, int checkedId) {\n                    gender = findViewById(checkedId);\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                        Message.message(getApplicationContext(), gender.getTooltipText().toString());\n                    }\n                }\n            });\n        }\n        private void findRaqdioButton(int checkId) {\n            switch (checkId) {\n                case R.id.Male:\n                    Message.message(getApplicationContext(), msg + &quot;Male&quot;);\n                    break;\n                case R.id.Female:\n                    Message.message(getApplicationContext(), msg + &quot;Female&quot;);\n                    break;\n            }\n        }\n    }\n\n</code></pre>\n<p>this xml</p>\n<pre><code>&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/b1&quot;\n    tools:context=&quot;.mainActivity&quot;\n    tools:ignore=&quot;ExtraText&quot;&gt;\n    &lt;TextView\n        android:id=&quot;@+id/title_textview&quot;\n        android:text=&quot;Create your new account&quot;\n        android:textSize=&quot;30sp&quot;\n        android:textColor=&quot;#FFFFFF&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginBottom=&quot;20dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;ImageView\n        android:id=&quot;@+id/smile_imageview&quot;\n        android:src=&quot;@mipmap/icons&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:layout_marginBottom=&quot;20dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;TextView\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/firstname&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:text=&quot;Frist name&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;#FFFFFF&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/Name_edit&quot;\n        android:hint=&quot;@string/first_name&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;text&quot;\n        android:background=&quot;#FAF8F8&quot; /&gt;\n    &lt;TextView\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/lastname&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:text=&quot;Last name&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;#FFFFFF&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/lastname_edit&quot;\n        android:hint=&quot;Last name&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;text&quot;\n        android:background=&quot;#FAF8F8&quot; /&gt;\n    &lt;TextView\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/Email&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:text=&quot;Email&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;#FFFFFF&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/Email_edit&quot;\n        android:hint=&quot;Enter your Email&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;text&quot;\n        android:background=&quot;#FAF8F8&quot; /&gt;\n    &lt;TextView\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/Passwoed&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:text=&quot;Password&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;#FFFFFF&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/Password_edit&quot;\n        android:hint=&quot;Enter your Password&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:background=&quot;#FAF8F8&quot; /&gt;\n    &lt;RadioGroup\n        android:id=&quot;@+id/gender&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; &gt;\n        &lt;RadioButton\n            android:id=&quot;@+id/Male&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/male&quot;\n            android:textColor=&quot;#FFFFFF&quot;/&gt;\n        &lt;RadioButton\n            android:id=&quot;@+id/Female&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:checked=&quot;true&quot;\n            android:text=&quot;@string/female&quot;\n            android:textColor=&quot;#FFFFFF&quot;/&gt;\n    &lt;/RadioGroup&gt;\n   &lt;TableLayout\n    android:id=&quot;@+id/table1&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:stretchColumns=&quot;*&quot;&gt;\n\n    &lt;TableRow&gt;\n        &lt;Button\n            android:id=&quot;@+id/enter&quot;\n            android:text=&quot;choose&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:layout_marginBottom=&quot;20dp&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n        &lt;Button\n            android:id=&quot;@+id/clear&quot;\n            android:text=&quot;@string/clear&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:layout_marginBottom=&quot;20dp&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n           /&gt;\n    &lt;/TableRow&gt;\n   &lt;/TableLayout&gt;\n    &lt;CheckBox\n        android:id=&quot;@+id/ch1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;I agree with Terms of Service&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;#FFFFFF&quot; &gt;\n    &lt;/CheckBox&gt;\n    &lt;CheckBox\n        android:id=&quot;@+id/ch2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=\n            &quot;@string/i_understand_that_if_i_loss_my_password_i_may_lose_my_data_read_more_information_on_help&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;#FFFFFF&quot;&gt;\n    &lt;/CheckBox&gt;\n    &lt;TableLayout\n        android:id=&quot;@+id/t1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:stretchColumns=&quot;*&quot;&gt;\n    &lt;TableRow&gt;\n    &lt;Button\n        android:id=&quot;@+id/Create&quot;\n        android:text=&quot;Create account&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginBottom=&quot;20dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;Button\n        android:id=&quot;@+id/Login&quot;\n        android:text=&quot;Log in&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginBottom=&quot;20dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;/TableRow&gt;\n        &lt;TableRow&gt;\n            &lt;TextView\n                android:text=&quot;Help&quot;\n                android:id=&quot;@+id/help&quot;\n                android:textColor=&quot;#FFFFFF&quot;\n                android:padding=&quot;5dp&quot;/&gt;\n            &lt;TextView\n                android:text=&quot;How you can use it&quot;\n                android:id=&quot;@+id/how&quot;\n                android:textColor=&quot;#FFFFFF&quot;\n                android:padding=&quot;5dp&quot;/&gt;\n        &lt;/TableRow&gt;\n    &lt;/TableLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>My app always stopped i can't run</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":6482662,"reputation":677,"user_id":5019199,"display_name":"e.g78"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566552049,"creation_date":1566551284,"answer_id":57623074,"question_id":57618681,"body_markdown":"The problem is \r\n\r\n    .authorizeRequests()\r\n    .anyRequest()\r\n    .authenticated()\r\n\r\nThis means every request to your web application should be authenticated, even the request to your authorization endpoint and login form.\r\n\r\nTry changing with \r\n\r\n    .authorizeRequests()\r\n    .antMatchers(&quot;/login&quot;, &quot;/oauth/authorize&quot;).permitAll()\r\n    .anyRequest().authenticated();\r\n\r\nIn this way login and authorization URLs are permitted, so when you will ask for /oauth/authorize you will be redirected to the login form, where you can insert your credentials","title":"User must be authenticated with Spring Security before authorization can be completed","body":"<p>The problem is </p>\n\n<pre><code>.authorizeRequests()\n.anyRequest()\n.authenticated()\n</code></pre>\n\n<p>This means every request to your web application should be authenticated, even the request to your authorization endpoint and login form.</p>\n\n<p>Try changing with </p>\n\n<pre><code>.authorizeRequests()\n.antMatchers(\"/login\", \"/oauth/authorize\").permitAll()\n.anyRequest().authenticated();\n</code></pre>\n\n<p>In this way login and authorization URLs are permitted, so when you will ask for /oauth/authorize you will be redirected to the login form, where you can insert your credentials</p>\n"},{"tags":[],"owner":{"account_id":22796807,"reputation":1,"user_id":16950237,"display_name":"izilongwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681708081,"creation_date":1681708081,"answer_id":76031872,"question_id":57618681,"body_markdown":"```java\r\n@RestControllerAdvice\r\npublic class ExceptionConfig {\r\n    @ExceptionHandler\r\n    public String handler(Exception e) {\r\n        return String.format(&quot;Error =&gt; %s&quot;, e.getMessage());\r\n    }\r\n\r\n    @ExceptionHandler(InsufficientAuthenticationException.class)\r\n    public void handler2(Error e) {\r\n        throw new RuntimeErrorException(e);\r\n    }\r\n}\r\n\r\n```\r\nWhether there is a global exception handler, if there is an **InsufficientAuthenticationException** caught and rethrown to the security for processing","title":"User must be authenticated with Spring Security before authorization can be completed","body":"<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class ExceptionConfig {\n    @ExceptionHandler\n    public String handler(Exception e) {\n        return String.format(&quot;Error =&gt; %s&quot;, e.getMessage());\n    }\n\n    @ExceptionHandler(InsufficientAuthenticationException.class)\n    public void handler2(Error e) {\n        throw new RuntimeErrorException(e);\n    }\n}\n\n</code></pre>\n<p>Whether there is a global exception handler, if there is an <strong>InsufficientAuthenticationException</strong> caught and rethrown to the security for processing</p>\n"}],"owner":{"account_id":16547285,"reputation":21,"user_id":11956512,"display_name":"prettyQian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6602,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1681708081,"creation_date":1566522891,"question_id":57618681,"body_markdown":"Springboot can be started, but the error is reported after accessing the address（http://localhost:8080/oauth/authorize?client_id=clientapp&amp;redirect_uri=http://localhost:9001/callback&amp;response_type=code&amp;scope=read_userinfo）.\r\n        \r\nerrors：\r\n2019-08-23 08:55:22.357 ERROR 20996 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.] with root cause.\r\nHow to solve this problem?thanks.\r\n    \r\n    @Configuration\r\n        @EnableResourceServer\r\n        public class OAuth2ResourceServer extends ResourceServerConfigurerAdapter {\r\n        \r\n            public void configure(HttpSecurity http) throws Exception {\r\n                http\r\n                        .authorizeRequests()\r\n                        .anyRequest()\r\n                        .authenticated()\r\n                        .and()\r\n                        .requestMatchers()\r\n                        .antMatchers(&quot;/api/**&quot;);\r\n        \r\n            }\r\n        }\r\n        \r\n        @Configuration\r\n        @EnableAuthorizationServer\r\n        public class OAuth2AuthorizationServer extends AuthorizationServerConfigurerAdapter {\r\n        \r\n            public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n                clients.inMemory()\r\n                        .withClient(&quot;clientapp&quot;)\r\n                        .secret(&quot;112233&quot;)\r\n                        .redirectUris(&quot;http://localhost:9001/callback&quot;)\r\n                        .authorizedGrantTypes(&quot;authorization_code&quot;)\r\n                        .scopes(&quot;read_userinfo&quot;, &quot;read_contacts&quot;);\r\n            }\r\n        }\r\n        \r\n        @RestController\r\n        public class UserController {\r\n        \r\n            @RequestMapping(&quot;/api/userinfo&quot;)\r\n            public ResponseEntity&lt;UserInfo&gt; getUserInfo() {\r\n                User user = (User) SecurityContextHolder.getContext()\r\n                        .getAuthentication().getPrincipal();\r\n                String email = user.getUsername() + &quot;@spring2go.com&quot;;\r\n        \r\n                UserInfo userInfo = new UserInfo();\r\n                userInfo.setName(user.getUsername());\r\n                userInfo.setEmail(email);\r\n                return ResponseEntity.ok(userInfo);\r\n            }\r\n        }\r\n        \r\n        public class UserInfo{\r\n        \r\n            private String name;\r\n            private String email;\r\n            public String getName() {\r\n                return name;\r\n            }\r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n            public String getEmail() {\r\n                return email;\r\n            }\r\n            public void setEmail(String email) {\r\n                this.email = email;\r\n            }\r\n        }\r\n        \r\n        @SpringBootApplication\r\n        public class Main {\r\n        \r\n            public static void main(String[] args) {\r\n                SpringApplication.run(Main.class, args);\r\n            }\r\n        }\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    errors：\r\n        2019-08-23 08:55:22.357 ERROR 20996 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.] with root cause.\r\n    org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.\r\n    \tat org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143) ~[spring-security-oauth2-2.3.6.RELEASE.jar:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.21.jar:9.0.21]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]","title":"User must be authenticated with Spring Security before authorization can be completed","body":"<p>Springboot can be started, but the error is reported after accessing the address（<a href=\"http://localhost:8080/oauth/authorize?client_id=clientapp&amp;redirect_uri=http://localhost:9001/callback&amp;response_type=code&amp;scope=read_userinfo\" rel=\"nofollow noreferrer\">http://localhost:8080/oauth/authorize?client_id=clientapp&amp;redirect_uri=http://localhost:9001/callback&amp;response_type=code&amp;scope=read_userinfo</a>）.</p>\n\n<p>errors：\n2019-08-23 08:55:22.357 ERROR 20996 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.] with root cause.\nHow to solve this problem?thanks.</p>\n\n<pre><code>@Configuration\n    @EnableResourceServer\n    public class OAuth2ResourceServer extends ResourceServerConfigurerAdapter {\n\n        public void configure(HttpSecurity http) throws Exception {\n            http\n                    .authorizeRequests()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                    .requestMatchers()\n                    .antMatchers(\"/api/**\");\n\n        }\n    }\n\n    @Configuration\n    @EnableAuthorizationServer\n    public class OAuth2AuthorizationServer extends AuthorizationServerConfigurerAdapter {\n\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n            clients.inMemory()\n                    .withClient(\"clientapp\")\n                    .secret(\"112233\")\n                    .redirectUris(\"http://localhost:9001/callback\")\n                    .authorizedGrantTypes(\"authorization_code\")\n                    .scopes(\"read_userinfo\", \"read_contacts\");\n        }\n    }\n\n    @RestController\n    public class UserController {\n\n        @RequestMapping(\"/api/userinfo\")\n        public ResponseEntity&lt;UserInfo&gt; getUserInfo() {\n            User user = (User) SecurityContextHolder.getContext()\n                    .getAuthentication().getPrincipal();\n            String email = user.getUsername() + \"@spring2go.com\";\n\n            UserInfo userInfo = new UserInfo();\n            userInfo.setName(user.getUsername());\n            userInfo.setEmail(email);\n            return ResponseEntity.ok(userInfo);\n        }\n    }\n\n    public class UserInfo{\n\n        private String name;\n        private String email;\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public String getEmail() {\n            return email;\n        }\n        public void setEmail(String email) {\n            this.email = email;\n        }\n    }\n\n    @SpringBootApplication\n    public class Main {\n\n        public static void main(String[] args) {\n            SpringApplication.run(Main.class, args);\n        }\n    }\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\nerrors：\n    2019-08-23 08:55:22.357 ERROR 20996 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.] with root cause.\norg.springframework.security.authentication.InsufficientAuthenticationException: User must be authenticated with Spring Security before authorization can be completed.\n    at org.springframework.security.oauth2.provider.endpoint.AuthorizationEndpoint.authorize(AuthorizationEndpoint.java:143) ~[spring-security-oauth2-2.3.6.RELEASE.jar:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) ~[spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.21.jar:9.0.21]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]\n</code></pre>\n"},{"tags":["java","xml","batch-file","testng"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1681463210,"post_id":76013025,"comment_id":134063718,"body_markdown":"hi &amp; welcome! ..sounds like the &quot;diff&quot; of (working and non working) xml files is significant. please share([edit]) ..or find it:)","body":"hi &amp; welcome! ..sounds like the &quot;diff&quot; of (working and non working) xml files is significant. please share(<a href=\"https://stackoverflow.com/posts/76013025/edit\">edit</a>) ..or find it:)"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1681466924,"post_id":76013025,"comment_id":134064612,"body_markdown":"Check the log files of the database for any errors.","body":"Check the log files of the database for any errors."},{"owner":{"account_id":28302463,"reputation":1,"user_id":21640955,"display_name":"Mohammed Aiman"},"score":0,"creation_date":1681468496,"post_id":76013025,"comment_id":134064939,"body_markdown":"Thank you xerx593, there is not difference between the running and not running xml file except for the class name.","body":"Thank you xerx593, there is not difference between the running and not running xml file except for the class name."},{"owner":{"account_id":28302463,"reputation":1,"user_id":21640955,"display_name":"Mohammed Aiman"},"score":0,"creation_date":1681468561,"post_id":76013025,"comment_id":134064949,"body_markdown":"There is no issue with db, issue is with batch file or xml. not sure jdweng","body":"There is no issue with db, issue is with batch file or xml. not sure jdweng"}],"owner":{"account_id":28302463,"reputation":1,"user_id":21640955,"display_name":"Mohammed Aiman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681708006,"creation_date":1681460699,"question_id":76013025,"body_markdown":"I am trying to execute a batch file with testng suite and a XML file linked to a java class.\r\n\r\nIf I try to execute the batch file I get a failure with no indication of what failed. `cmd.exe` is not showing any exceptions or any reason for why the batch file has failed, only that 1 failure has occurred.\r\n\r\nIf I run the XML file from Eclipse as testng suite, it is runs without any issue.\r\n\r\n```shell\r\ncd &lt;Filepath&gt;\r\nset ProjectPath=&lt;Filepath&gt;\r\necho %ProjectPath%\r\nset classpath=%ProjectPath%\\bin;%ProjectPath%\\lib\\*\r\necho %classpath%\r\njava -cp &quot;%classpath%&quot; org.testng.TestNG FHA_BS_testng.xml\r\npause\r\n```\r\n\r\nPlease note, if I run other XML files without database queries, they are running fine from a batch file, (I am just changing the XML file name from the above script). The issue only occurs for database query related XML files.\r\n\r\nBelow is the java class which needs to be executed by batch file through XML\r\n\r\n```java\r\npackage other_utilities;\r\n\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport org.testng.annotations.Test;\r\nimport com.Data.ExcelDataConfig;\r\nimport com.garage.mailLibrary.MailLibrary;\r\n\r\npublic class FHA_BlazeSupportEmail {\r\n\tstatic java.sql.Connection conn = null;\r\n\tstatic ResultSet result = null;\r\n\tstatic ExcelDataConfig excel;\r\n\r\n\t@Test\r\n\tpublic  void main() throws Exception {\r\n\t\texcel =new ExcelDataConfig(&quot;&lt;Filepath&gt;bug_tracker_mail.xlsx&quot;);\r\n\t\tString url = &quot;jdbc:sqlserver://&quot; + &quot;XXXXXXXXXX&quot; + &quot;:1433;databaseName=&quot; + &quot;BlazeSupport&quot;;\r\n\t\tString username = &quot;XXXXX&quot;;\r\n\t\tString password = &quot;XXXXX&quot;;\r\n\r\n\t\t// Initialize Sqldriver instance\r\n\t\tClass.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n\r\n\t\t// Creating the connection providing URL and username password\r\n\t\tconn = DriverManager.getConnection(url, username, password);\r\n\r\n\t\t// Checking for the connection( returns boolean false if connected)\r\n\t\tSystem.out.println(conn.isClosed());\r\n\r\n\t\t// For Print\r\n\t\tSystem.out.println(&quot;Data values getting displayed below&quot;);\r\n\t\tString sql=\t&quot;SELECT TKT.Id, TKT.PlatformId, TKT.BugTrackerId, TKT.ExpectedDate, TKT.TimeStampUtc, TKTMD.FirstName, TKTMD.LastName, TKTMD.UserName,&#160;&#160;&#160;&#160;&#160;\\r\\n&quot;\r\n\t\t          + &quot;TKTMD.Email, TKTMD.Title, TKTMD.Details, TKTMD.UserType, ISNULL(TKTMD.TestingOutcomeId, 0) as TestingOutcome\\r\\n&quot;\r\n\t\t          + &quot;FROM [dbo].[Ticket] TKT&#160;&#160;&#160;&#160;\\r\\n&quot;\r\n\t\t          + &quot;LEFT JOIN [dbo].[Platform] PF&#160;&#160;&#160;&#160; ON PF.Id = TKT.PlatformId&#160;&#160;&#160;&#160;\\r\\n&quot;\r\n\t\t          + &quot;LEFT JOIN [dbo].[TicketMetadata] TKTMD&#160;&#160;&#160;&#160; ON TKTMD.TicketId = TKT.Id&#160;&#160;\\r\\n&quot;\r\n\t\t          + &quot;where --CAST(TKT.TimeStampUtc as date) = CAST((GETDATE()) as date)&#160; and&#160;\\r\\n&quot;\r\n\t\t          + &quot;pf.Id = 34&quot;;\r\n\r\n\t\tPreparedStatement pst2 = conn.prepareStatement(sql);\r\n\t\tresult = pst2.executeQuery();\r\n\r\n\t\tfor(int i=1;i&lt;=getRowCount();i++){\r\n\t\t\texcel.setdata(0, i, 0, &quot;&quot;);\r\n\t\t\texcel.setdata(0, i, 1, &quot;&quot;);\r\n\t\t\texcel.setdata(0, i, 2, &quot;&quot;);\r\n\t\t\texcel.setdata(0, i, 3, &quot;&quot;);\r\n\t\t\texcel.setdata(0, i, 4, &quot;&quot;);\r\n\t\t}\r\n\r\n\t\tint counter=0;\r\n\t\tint arrayCount=0;\r\n\t\tint rowCount=1;\r\n\r\n\t\twhile(result.next()){\r\n\t\t\texcel.setdata(0, rowCount, 0, result.getString(&quot;BugTrackerId&quot;));\r\n\t\t\texcel.setdata(0, rowCount, 1, result.getString(&quot;FirstName&quot;));\r\n\t\t\texcel.setdata(0, rowCount, 2, result.getString(&quot;LastName&quot;));\r\n\t\t\texcel.setdata(0, rowCount, 3, result.getString(&quot;Title&quot;));\r\n\t\t\texcel.setdata(0, rowCount, 4, result.getString(&quot;Email&quot;));\r\n\t\t\trowCount++;\r\n\t\t}\r\n\r\n\t\tString checkedID[] = new String[getRowCount()];\r\n\t\tMailLibrary mail = new MailLibrary();\r\n\t\tmail.setUsernameAndPassword(&quot;xxxxx&quot;, &quot;xxxx!!&quot;);\r\n\r\n\t\tfor (int i=1;i&lt;=getRowCount();i++) {\r\n\t\t\tmail.setSMTP(&quot;xxxx&quot;);\r\n\t\t\tmail.fromMailId(&quot;xxxxxx&quot;);\r\n\t\t\tmail.setSubject(&quot;You have BlazeSupport Ticket Updates&quot;);\r\n\t\t\tString userID = excel.getdata(0, i, 4);\r\n\t\t\tString FName = excel.getdata(0, i, 1);\r\n\t\t\tString LName = excel.getdata(0, i, 2);\r\n\t\t\tString email=&quot;&quot;;\r\n\r\n\t\t\ttry {\r\n\t\t\t\temail = excel.getdata(0,i,4);\r\n\t\t\t\tif(email.isEmpty()){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t} catch (NullPointerException e) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t//we are adding descriptions from excel in the form of list for that creating a html tag and below list is added dynamically\r\n\t\t\tString description=&quot;&lt;ul&gt;&quot;;\r\n\r\n\t\t\t//there will be multiple entries for same userID so the userID is already checked then we need to continue\r\n\t\t\tif(i&gt;1){\r\n\t\t\t\tString isThisRepeatedID = &quot;No&quot;;\r\n\r\n\t\t\t\tfor(String s:checkedID)\t{\r\n\t\t\t\t\tif(userID.equalsIgnoreCase(s)){\r\n\t\t\t\t\t\tisThisRepeatedID=&quot;Yes&quot;;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(isThisRepeatedID.equalsIgnoreCase(&quot;Yes&quot;)){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (int j=1;j&lt;=getRowCount();j++){\r\n\t\t\t\tString newUserID = excel.getdata(0, j, 4);\r\n\t\t\t\tif(userID.equalsIgnoreCase(newUserID)){\r\n\t\t\t\t\tString desc =excel.getdata(0, j, 3);\r\n\t\t\t\t\tString BTID =excel.getdata(0, j, 0);\r\n\t\t\t\t\tdescription = description+&quot;&lt;li&gt;&quot;+BTID+&quot; - &quot;+desc+&quot;&lt;/li&gt;&quot;;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//moving used ID to array\t\r\n\t\t\tcheckedID[arrayCount]=userID;\r\n\t\t\tarrayCount++;\r\n\t\t\tmail.ToMailId(XXXX);\r\n\r\n\t\t\tString createTable =&quot;&lt;!DOCTYPE html&gt;\\r\\n&quot; + \r\n\t\t\t                    &quot;&lt;html&gt;\\r\\n&quot; + \r\n    \t\t\t\t\t        &quot;&lt;style&gt;\\r\\n&quot; + \r\n\t\t\t                    &quot;table, th, td {\\r\\n&quot; + \r\n    \t\t\t\t\t        &quot;  border:1px solid black;\\r\\n&quot; + \r\n\t\t\t                    &quot; \\r\\n&quot; + \r\n\t\t\t                    &quot;}\\r\\n&quot; + \r\n\t\t\t                    &quot;&lt;/style&gt;\\r\\n&quot; + \r\n\t\t\t                    &quot;&lt;body&gt;\\r\\n&quot; + \r\n\t\t\t                    &quot;\\r\\n&quot; + \r\n\t\t\t                    &quot;&lt;p&gt;Hi &quot;+FName+&quot; &quot;+LName+&quot;&lt;/p&gt;&quot;+\r\n\t\t\t                    &quot;&lt;p&gt; &lt;/p&gt;&quot;+\r\n\t\t\t                    &quot;&lt;p&gt;There have been updates made to ticket(s) you submitted in BlazeSupport in your bridge environment.&lt;/p&gt;&quot;+\r\n\t\t\t                    &quot;&lt;p&gt;Please log into the following URL to navigate to blazesupport and review the updates.&lt;/p&gt;&quot;+\r\n\t\t\t                    &quot;&lt;p&gt;&lt;/p&gt;&quot;+\r\n\t\t\t                    &quot;&lt;h2 align=\\&quot;center\\&quot;&gt;&lt;/h2&gt;\\r\\n&quot; + \r\n\t\t\t                    &quot;\\r\\n&quot; ;\r\n\r\n\t\t\tString note=&quot;&lt;p&gt;&lt;/p&gt;&quot;+\r\n\t\t\t            &quot;&lt;p&gt;https://fhabridgetest.bridgelive.net/&lt;/p&gt;&quot;;\r\n\r\n\t\t\tString html = createTable+description+&quot;&lt;/ul&gt;&quot;+note;\r\n\t\t\tmail.setHtmlMessage(html.toString());\r\n\t\t\tmail.sendMail();\r\n\r\n\t\t\t// break;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static int getRowCount(){\r\n\t\tint rowCount=0;\r\n\t\tfor(int i=0;i&lt;=excel.rowcount(0);i++){\r\n\t\t\tif(!excel.getdata(0, i, 0).isEmpty()){\r\n\t\t\t\trowCount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn rowCount;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nIf I run the above java class in eclipse through XML suite, it will execute.\r\nBut if i create a batch file for this and run, it is not executing","title":"Batch file not executing for testng suite with database queries","body":"<p>I am trying to execute a batch file with testng suite and a XML file linked to a java class.</p>\n<p>If I try to execute the batch file I get a failure with no indication of what failed. <code>cmd.exe</code> is not showing any exceptions or any reason for why the batch file has failed, only that 1 failure has occurred.</p>\n<p>If I run the XML file from Eclipse as testng suite, it is runs without any issue.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>cd &lt;Filepath&gt;\nset ProjectPath=&lt;Filepath&gt;\necho %ProjectPath%\nset classpath=%ProjectPath%\\bin;%ProjectPath%\\lib\\*\necho %classpath%\njava -cp &quot;%classpath%&quot; org.testng.TestNG FHA_BS_testng.xml\npause\n</code></pre>\n<p>Please note, if I run other XML files without database queries, they are running fine from a batch file, (I am just changing the XML file name from the above script). The issue only occurs for database query related XML files.</p>\n<p>Below is the java class which needs to be executed by batch file through XML</p>\n<pre class=\"lang-java prettyprint-override\"><code>package other_utilities;\n\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport org.testng.annotations.Test;\nimport com.Data.ExcelDataConfig;\nimport com.garage.mailLibrary.MailLibrary;\n\npublic class FHA_BlazeSupportEmail {\n    static java.sql.Connection conn = null;\n    static ResultSet result = null;\n    static ExcelDataConfig excel;\n\n    @Test\n    public  void main() throws Exception {\n        excel =new ExcelDataConfig(&quot;&lt;Filepath&gt;bug_tracker_mail.xlsx&quot;);\n        String url = &quot;jdbc:sqlserver://&quot; + &quot;XXXXXXXXXX&quot; + &quot;:1433;databaseName=&quot; + &quot;BlazeSupport&quot;;\n        String username = &quot;XXXXX&quot;;\n        String password = &quot;XXXXX&quot;;\n\n        // Initialize Sqldriver instance\n        Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n\n        // Creating the connection providing URL and username password\n        conn = DriverManager.getConnection(url, username, password);\n\n        // Checking for the connection( returns boolean false if connected)\n        System.out.println(conn.isClosed());\n\n        // For Print\n        System.out.println(&quot;Data values getting displayed below&quot;);\n        String sql= &quot;SELECT TKT.Id, TKT.PlatformId, TKT.BugTrackerId, TKT.ExpectedDate, TKT.TimeStampUtc, TKTMD.FirstName, TKTMD.LastName, TKTMD.UserName,     \\r\\n&quot;\n                  + &quot;TKTMD.Email, TKTMD.Title, TKTMD.Details, TKTMD.UserType, ISNULL(TKTMD.TestingOutcomeId, 0) as TestingOutcome\\r\\n&quot;\n                  + &quot;FROM [dbo].[Ticket] TKT    \\r\\n&quot;\n                  + &quot;LEFT JOIN [dbo].[Platform] PF     ON PF.Id = TKT.PlatformId    \\r\\n&quot;\n                  + &quot;LEFT JOIN [dbo].[TicketMetadata] TKTMD     ON TKTMD.TicketId = TKT.Id  \\r\\n&quot;\n                  + &quot;where --CAST(TKT.TimeStampUtc as date) = CAST((GETDATE()) as date)  and \\r\\n&quot;\n                  + &quot;pf.Id = 34&quot;;\n\n        PreparedStatement pst2 = conn.prepareStatement(sql);\n        result = pst2.executeQuery();\n\n        for(int i=1;i&lt;=getRowCount();i++){\n            excel.setdata(0, i, 0, &quot;&quot;);\n            excel.setdata(0, i, 1, &quot;&quot;);\n            excel.setdata(0, i, 2, &quot;&quot;);\n            excel.setdata(0, i, 3, &quot;&quot;);\n            excel.setdata(0, i, 4, &quot;&quot;);\n        }\n\n        int counter=0;\n        int arrayCount=0;\n        int rowCount=1;\n\n        while(result.next()){\n            excel.setdata(0, rowCount, 0, result.getString(&quot;BugTrackerId&quot;));\n            excel.setdata(0, rowCount, 1, result.getString(&quot;FirstName&quot;));\n            excel.setdata(0, rowCount, 2, result.getString(&quot;LastName&quot;));\n            excel.setdata(0, rowCount, 3, result.getString(&quot;Title&quot;));\n            excel.setdata(0, rowCount, 4, result.getString(&quot;Email&quot;));\n            rowCount++;\n        }\n\n        String checkedID[] = new String[getRowCount()];\n        MailLibrary mail = new MailLibrary();\n        mail.setUsernameAndPassword(&quot;xxxxx&quot;, &quot;xxxx!!&quot;);\n\n        for (int i=1;i&lt;=getRowCount();i++) {\n            mail.setSMTP(&quot;xxxx&quot;);\n            mail.fromMailId(&quot;xxxxxx&quot;);\n            mail.setSubject(&quot;You have BlazeSupport Ticket Updates&quot;);\n            String userID = excel.getdata(0, i, 4);\n            String FName = excel.getdata(0, i, 1);\n            String LName = excel.getdata(0, i, 2);\n            String email=&quot;&quot;;\n\n            try {\n                email = excel.getdata(0,i,4);\n                if(email.isEmpty()){\n                    continue;\n                }\n            } catch (NullPointerException e) {\n                continue;\n            }\n\n            //we are adding descriptions from excel in the form of list for that creating a html tag and below list is added dynamically\n            String description=&quot;&lt;ul&gt;&quot;;\n\n            //there will be multiple entries for same userID so the userID is already checked then we need to continue\n            if(i&gt;1){\n                String isThisRepeatedID = &quot;No&quot;;\n\n                for(String s:checkedID) {\n                    if(userID.equalsIgnoreCase(s)){\n                        isThisRepeatedID=&quot;Yes&quot;;\n                        break;\n                    }\n                }\n\n                if(isThisRepeatedID.equalsIgnoreCase(&quot;Yes&quot;)){\n                    continue;\n                }\n            }\n\n            for (int j=1;j&lt;=getRowCount();j++){\n                String newUserID = excel.getdata(0, j, 4);\n                if(userID.equalsIgnoreCase(newUserID)){\n                    String desc =excel.getdata(0, j, 3);\n                    String BTID =excel.getdata(0, j, 0);\n                    description = description+&quot;&lt;li&gt;&quot;+BTID+&quot; - &quot;+desc+&quot;&lt;/li&gt;&quot;;\n                }\n            }\n\n            //moving used ID to array   \n            checkedID[arrayCount]=userID;\n            arrayCount++;\n            mail.ToMailId(XXXX);\n\n            String createTable =&quot;&lt;!DOCTYPE html&gt;\\r\\n&quot; + \n                                &quot;&lt;html&gt;\\r\\n&quot; + \n                                &quot;&lt;style&gt;\\r\\n&quot; + \n                                &quot;table, th, td {\\r\\n&quot; + \n                                &quot;  border:1px solid black;\\r\\n&quot; + \n                                &quot; \\r\\n&quot; + \n                                &quot;}\\r\\n&quot; + \n                                &quot;&lt;/style&gt;\\r\\n&quot; + \n                                &quot;&lt;body&gt;\\r\\n&quot; + \n                                &quot;\\r\\n&quot; + \n                                &quot;&lt;p&gt;Hi &quot;+FName+&quot; &quot;+LName+&quot;&lt;/p&gt;&quot;+\n                                &quot;&lt;p&gt; &lt;/p&gt;&quot;+\n                                &quot;&lt;p&gt;There have been updates made to ticket(s) you submitted in BlazeSupport in your bridge environment.&lt;/p&gt;&quot;+\n                                &quot;&lt;p&gt;Please log into the following URL to navigate to blazesupport and review the updates.&lt;/p&gt;&quot;+\n                                &quot;&lt;p&gt;&lt;/p&gt;&quot;+\n                                &quot;&lt;h2 align=\\&quot;center\\&quot;&gt;&lt;/h2&gt;\\r\\n&quot; + \n                                &quot;\\r\\n&quot; ;\n\n            String note=&quot;&lt;p&gt;&lt;/p&gt;&quot;+\n                        &quot;&lt;p&gt;https://fhabridgetest.bridgelive.net/&lt;/p&gt;&quot;;\n\n            String html = createTable+description+&quot;&lt;/ul&gt;&quot;+note;\n            mail.setHtmlMessage(html.toString());\n            mail.sendMail();\n\n            // break;\n        }\n    }\n\n    public static int getRowCount(){\n        int rowCount=0;\n        for(int i=0;i&lt;=excel.rowcount(0);i++){\n            if(!excel.getdata(0, i, 0).isEmpty()){\n                rowCount++;\n            }\n        }\n        return rowCount;\n    }\n\n}\n</code></pre>\n<p>If I run the above java class in eclipse through XML suite, it will execute.\nBut if i create a batch file for this and run, it is not executing</p>\n"},{"tags":["java","mysql","sap-commerce-cloud"],"answers":[{"comments":[{"owner":{"account_id":13423611,"reputation":103,"user_id":9685664,"display_name":"Namu"},"score":1,"creation_date":1524567561,"post_id":49999914,"comment_id":87015835,"body_markdown":"Thanks for your prompt answer. As mentioned in post, I&#39;ll try SQL query to correct my data.","body":"Thanks for your prompt answer. As mentioned in post, I&#39;ll try SQL query to correct my data."},{"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"score":0,"creation_date":1524567720,"post_id":49999914,"comment_id":87015937,"body_markdown":"I am glad that post helps you!! If you need more help, edit the question with more details, I am happy to answer it.","body":"I am glad that post helps you!! If you need more help, edit the question with more details, I am happy to answer it."}],"tags":[],"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1524567301,"creation_date":1524567301,"answer_id":49999914,"question_id":49999817,"body_markdown":"Run the below Impex (Change `MyItemType` with your ItemType)\r\n\r\n    $targetType=MyItemType\r\n    REMOVE $targetType[batchmode=true];itemtype(code)[unique=true]\r\n    ;$targetType\r\n\r\n\r\n----------\r\n\r\n\r\nYou can also run SQL query from HAC, refer [**this post**][1] for more detail\r\n\r\n\r\n  [1]: https://www.helphybris.com/2018/04/how-remove-update-data-records-hybris-itemtype-hac.html","title":"How to remove all records of the table in Hybris?","body":"<p>Run the below Impex (Change <code>MyItemType</code> with your ItemType)</p>\n\n<pre><code>$targetType=MyItemType\nREMOVE $targetType[batchmode=true];itemtype(code)[unique=true]\n;$targetType\n</code></pre>\n\n<hr>\n\n<p>You can also run SQL query from HAC, refer <a href=\"https://www.helphybris.com/2018/04/how-remove-update-data-records-hybris-itemtype-hac.html\" rel=\"noreferrer\"><strong>this post</strong></a> for more detail</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681552821,"post_id":75982466,"comment_id":134077264,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75982466/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28271500,"reputation":11,"user_id":21614604,"display_name":"user21614604"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681707797,"creation_date":1681188205,"answer_id":75982466,"question_id":49999817,"body_markdown":"You can run this using commit mode on SQL Query in hac by giving TypePkString as input\r\n```\r\ndelete FROM itemtype WHERE (TypePkString=&#39;8796149088338&#39;)\r\n```","title":"How to remove all records of the table in Hybris?","body":"<p>You can run this using commit mode on SQL Query in hac by giving TypePkString as input</p>\n<pre><code>delete FROM itemtype WHERE (TypePkString='8796149088338')\n</code></pre>\n"}],"owner":{"account_id":13423611,"reputation":103,"user_id":9685664,"display_name":"Namu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7171,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":49999914,"answer_count":2,"score":5,"last_activity_date":1681707797,"creation_date":1524567006,"question_id":49999817,"body_markdown":"In my development environment, I have added wrong data to my custom ItemType. Now I want to remove all data for that Type. Basically I want to truncate my ItemType table.\r\n","title":"How to remove all records of the table in Hybris?","body":"<p>In my development environment, I have added wrong data to my custom ItemType. Now I want to remove all data for that Type. Basically I want to truncate my ItemType table.</p>\n"},{"tags":["java","android","text","contrast"],"comments":[{"owner":{"account_id":204470,"reputation":8571,"user_id":452708,"accept_rate":0,"display_name":"Abhijeet"},"score":1,"creation_date":1464055437,"post_id":37402880,"comment_id":62314728,"body_markdown":"What about `/**\n     * Sets the current state and notifies listeners, if necessary.\n     *\n     * @param stateFlags The state flags.\n     */\n    private void setStateLocked(int stateFlags) {`\n\nThat uses the `stateFlags` for setting `final boolean highTextContrastEnabled =\n                (stateFlags &amp; STATE_FLAG_HIGH_TEXT_CONTRAST_ENABLED) != 0;`","body":"What about <code>&#47;**      * Sets the current state and notifies listeners, if necessary.      *      * @param stateFlags The state flags.      *&#47;     private void setStateLocked(int stateFlags) {</code>  That uses the <code>stateFlags</code> for setting <code>final boolean highTextContrastEnabled =                 (stateFlags &amp; STATE_FLAG_HIGH_TEXT_CONTRAST_ENABLED) != 0;</code>"},{"owner":{"account_id":4651398,"reputation":501,"user_id":3768195,"accept_rate":100,"display_name":"GIZNAJ"},"score":0,"creation_date":1464057322,"post_id":37402880,"comment_id":62315126,"body_markdown":"I don&#39;t fully understand some of the context of your answer ( &quot;That uses the stateFlags for setting&quot; )","body":"I don&#39;t fully understand some of the context of your answer ( &quot;That uses the stateFlags for setting&quot; )"},{"owner":{"account_id":4651398,"reputation":501,"user_id":3768195,"accept_rate":100,"display_name":"GIZNAJ"},"score":0,"creation_date":1464104313,"post_id":37402880,"comment_id":62342001,"body_markdown":"@Abhijeet - can you elaborate with contextual example?","body":"@Abhijeet - can you elaborate with contextual example?"},{"owner":{"account_id":4651398,"reputation":501,"user_id":3768195,"accept_rate":100,"display_name":"GIZNAJ"},"score":0,"creation_date":1464566067,"post_id":37402880,"comment_id":62525506,"body_markdown":"I am able to successfully get the status of the High Contrast Text boolean value, but I am not able to set it yet.  The method is private and I&#39;m wondering if I have to use reflection or not?","body":"I am able to successfully get the status of the High Contrast Text boolean value, but I am not able to set it yet.  The method is private and I&#39;m wondering if I have to use reflection or not?"},{"owner":{"account_id":4651398,"reputation":501,"user_id":3768195,"accept_rate":100,"display_name":"GIZNAJ"},"score":0,"creation_date":1465609150,"post_id":37402880,"comment_id":62987611,"body_markdown":"I now have the following code but I am getting a &quot;no method exception&quot;.  What do you think?","body":"I now have the following code but I am getting a &quot;no method exception&quot;.  What do you think?"},{"owner":{"account_id":4651398,"reputation":501,"user_id":3768195,"accept_rate":100,"display_name":"GIZNAJ"},"score":0,"creation_date":1465609175,"post_id":37402880,"comment_id":62987615,"body_markdown":"AccessibilityManager am = (AccessibilityManager) this.getSystemService(Context.ACCESSIBILITY_SERVICE);\n        Class accessibilityClass = am.getClass();\n        Method m1 = null;\n        Method m2 = null;\n        try {\n            m1 = accessibilityClass.getDeclaredMethod(&quot;setStateLocked&quot;,null);\n            m2 = accessibilityClass.getMethod(&quot;setStateLocked&quot;,null);\n\n        } catch (NoSuchMethodException e) {\n            Toast.makeText(getApplicationContext(), &quot;No such method&quot;, Toast.LENGTH_SHORT).show();","body":"AccessibilityManager am = (AccessibilityManager) this.getSystemService(Context.ACCESSIBILITY_SERVICE);         Class accessibilityClass = am.getClass();         Method m1 = null;         Method m2 = null;         try {             m1 = accessibilityClass.getDeclaredMethod(&quot;setStateLocked&quot;,null);             m2 = accessibilityClass.getMethod(&quot;setStateLocked&quot;,null);          } catch (NoSuchMethodException e) {             Toast.makeText(getApplicationContext(), &quot;No such method&quot;, Toast.LENGTH_SHORT).show();"}],"owner":{"account_id":4651398,"reputation":501,"user_id":3768195,"accept_rate":100,"display_name":"GIZNAJ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681707482,"creation_date":1464051978,"question_id":37402880,"body_markdown":"I&#39;ve reviewed this thread on how to get the current status of the &#39;High Contrast Text&#39; mode by calling :  isHighTextContrastEnabled from within AccessibilityManager.\r\n\r\nSee this thread:\r\nhttps://stackoverflow.com/questions/34411712/detect-if-high-contrast-is-enabled-in-android-accessibility-settings\r\n\r\nIs there a way one can use AccessibilityManager to enable the &#39;Hight Contrast Text&#39; mode from within an application? \r\n\r\nLooking at the available methods I didn&#39;t see anything.","title":"Enabling &#39;High Contrast Text&#39; mode from within Android/Java using AccessibilityManager","body":"<p>I've reviewed this thread on how to get the current status of the 'High Contrast Text' mode by calling :  isHighTextContrastEnabled from within AccessibilityManager.</p>\n\n<p>See this thread:\n<a href=\"https://stackoverflow.com/questions/34411712/detect-if-high-contrast-is-enabled-in-android-accessibility-settings\">Detect if &#39;High contrast&#39; is enabled in Android accessibility settings</a></p>\n\n<p>Is there a way one can use AccessibilityManager to enable the 'Hight Contrast Text' mode from within an application? </p>\n\n<p>Looking at the available methods I didn't see anything.</p>\n"},{"tags":["java","ajax","text","encoding"],"answers":[{"comments":[{"owner":{"account_id":104708,"reputation":35011,"user_id":279776,"accept_rate":88,"display_name":"Alex"},"score":0,"creation_date":1307007191,"post_id":6212656,"comment_id":7233573,"body_markdown":"What are you familiar with? C++, C#, PHP, Python, anything would work. I can&#39;t find the solution on the internet. How did you decode it so fast?","body":"What are you familiar with? C++, C#, PHP, Python, anything would work. I can&#39;t find the solution on the internet. How did you decode it so fast?"},{"owner":{"account_id":104708,"reputation":35011,"user_id":279776,"accept_rate":88,"display_name":"Alex"},"score":3,"creation_date":1307007369,"post_id":6212656,"comment_id":7233607,"body_markdown":"I found the solution here: http://stackoverflow.com/questions/3775684/decoding-html-returned-as-json-response-android/3776170#3776170","body":"I found the solution here: <a href=\"http://stackoverflow.com/questions/3775684/decoding-html-returned-as-json-response-android/3776170#3776170\" title=\"decoding html returned as json response android\">stackoverflow.com/questions/3775684/&hellip;</a>"},{"owner":{"account_id":207785,"reputation":9062,"user_id":457872,"accept_rate":91,"display_name":"binaryLV"},"score":2,"creation_date":1307007405,"post_id":6212656,"comment_id":7233621,"body_markdown":"I typed `javascript:alert(&#39;\\x3Cb\\x3E\\x3C&#39;);` in browser&#39;s address bar ;) It is a way to escape symbols, &quot;\\&quot; is escape character, `x` means that next 2 symbols are char code in HEX, so `\\x3C` is `chr(0x3C)` or `chr(60)`, which results in &quot;&lt;&quot; symbol.","body":"I typed <code>javascript:alert(&#39;\\x3Cb\\x3E\\x3C&#39;);</code> in browser&#39;s address bar ;) It is a way to escape symbols, &quot;\\&quot; is escape character, <code>x</code> means that next 2 symbols are char code in HEX, so <code>\\x3C</code> is <code>chr(0x3C)</code> or <code>chr(60)</code>, which results in &quot;&lt;&quot; symbol."}],"tags":[],"owner":{"account_id":207785,"reputation":9062,"user_id":457872,"accept_rate":91,"display_name":"binaryLV"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1307006702,"creation_date":1307006702,"answer_id":6212656,"question_id":6212638,"body_markdown":"It might be plain ASCII. `\\x3Cb\\x3E\\x3C` decodes to `&lt;b&gt;&lt;`.","title":"What kind of encoding is this: \\x3Cb\\x3E\\x3C?","body":"<p>It might be plain ASCII. <code>\\x3Cb\\x3E\\x3C</code> decodes to <code>&lt;b&gt;&lt;</code>.</p>\n"},{"comments":[{"owner":{"account_id":207785,"reputation":9062,"user_id":457872,"accept_rate":91,"display_name":"binaryLV"},"score":2,"creation_date":1307007265,"post_id":6212692,"comment_id":7233584,"body_markdown":"it has nothing to do with HTML entities. HTML entities start with `&amp;`, end with `;` and have either name of entity between those chars (e.g., `&amp;amp;` or `&amp;apos;`) or `#` sign after `&amp;`, followed by char code (e.g., `&amp;#65;` or `&amp;#x41;` for letter &quot;A&quot;).","body":"it has nothing to do with HTML entities. HTML entities start with <code>&amp;</code>, end with <code>;</code> and have either name of entity between those chars (e.g., <code>&amp;amp;</code> or <code>&amp;apos;</code>) or <code>#</code> sign after <code>&amp;</code>, followed by char code (e.g., <code>&amp;#65;</code> or <code>&amp;#x41;</code> for letter &quot;A&quot;)."}],"tags":[],"owner":{"account_id":206772,"reputation":6012,"user_id":456266,"accept_rate":95,"display_name":"YvesR"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1307006947,"creation_date":1307006947,"answer_id":6212692,"question_id":6212638,"body_markdown":"html entities it is. So you have html content embedded in your ajax hash.\r\nwhat language you are using? there should be several encode/decode anyway. RoR has it for sure, in .NET is use the JSON.NET lib to decode.","title":"What kind of encoding is this: \\x3Cb\\x3E\\x3C?","body":"<p>html entities it is. So you have html content embedded in your ajax hash.\nwhat language you are using? there should be several encode/decode anyway. RoR has it for sure, in .NET is use the JSON.NET lib to decode.</p>\n"}],"owner":{"account_id":104708,"reputation":35011,"user_id":279776,"accept_rate":88,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10388,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":6212656,"answer_count":2,"score":12,"last_activity_date":1681706521,"creation_date":1307006560,"question_id":6212638,"body_markdown":"I&#39;m receiving data from an AJAX request, and it&#39;s really weird. I thought it was unicode, but unicode&#39;s codes are like \\u00E7 (&#231;). \r\n\r\n    \\x3Cb\\x3E\\x3C\r\n\r\nWhat do you think this is? And how can I convert it to normal text with Java?","title":"What kind of encoding is this: \\x3Cb\\x3E\\x3C?","body":"<p>I'm receiving data from an AJAX request, and it's really weird. I thought it was unicode, but unicode's codes are like \\u00E7 (ç).</p>\n<pre><code>\\x3Cb\\x3E\\x3C\n</code></pre>\n<p>What do you think this is? And how can I convert it to normal text with Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1681691203,"post_id":76030953,"comment_id":134092585,"body_markdown":"`!(x == 0)` is an awfully verbose way to write `x != 0`.","body":"<code>!(x == 0)</code> is an awfully verbose way to write <code>x != 0</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681693438,"post_id":76030953,"comment_id":134092805,"body_markdown":"Off-topic:`countDigits (x)` should give the same result as `(int)(Math.ceil(Math.log10((double) Math.abs(x))))`.","body":"Off-topic:<code>countDigits (x)</code> should give the same result as <code>(int)(Math.ceil(Math.log10((double) Math.abs(x))))</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681695279,"post_id":76030953,"comment_id":134092979,"body_markdown":"How about if you change the code: `public static int countDigits (int x, int minDigits) ... return Math.max (y, minDigits); }`","body":"How about if you change the code: <code>public static int countDigits (int x, int minDigits) ... return Math.max (y, minDigits); }</code>"},{"owner":{"account_id":27682833,"reputation":1,"user_id":21659684,"display_name":"Ahmad Aldali"},"score":0,"creation_date":1681749439,"post_id":76030953,"comment_id":134103589,"body_markdown":"Chris&gt; Thank you for your advice, I will edit the condition.","body":"Chris&gt; Thank you for your advice, I will edit the condition."},{"owner":{"account_id":27682833,"reputation":1,"user_id":21659684,"display_name":"Ahmad Aldali"},"score":0,"creation_date":1681750023,"post_id":76030953,"comment_id":134103726,"body_markdown":"Old Dog Programmer&gt; actually I wanted to creat my own Digits counting method, but in the worst case I will just use your recommended method above.                                                  Thank you very much for your help!","body":"Old Dog Programmer&gt; actually I wanted to creat my own Digits counting method, but in the worst case I will just use your recommended method above.                                                  Thank you very much for your help!"}],"answers":[{"comments":[{"owner":{"account_id":27682833,"reputation":1,"user_id":21659684,"display_name":"Ahmad Aldali"},"score":0,"creation_date":1681750288,"post_id":76030975,"comment_id":134103792,"body_markdown":"Thank you really for your useful explaination I got it know, I will try changing the Data type to String it might work then.","body":"Thank you really for your useful explaination I got it know, I will try changing the Data type to String it might work then."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681691268,"creation_date":1681691268,"answer_id":76030975,"question_id":76030953,"body_markdown":"`00101111` isn&#39;t a thing that an `int` value can represent. Literally. Something like:\r\n\r\n```\r\nint x = Integer.parseInt(&quot;00101111&quot;);\r\nint y = Integer.parseInt(&quot;101111&quot;);\r\n```\r\n\r\nx and y are bit for bit identical. It is __impossible__ to tell the difference between `x` and `y` here. There is in fact no possible way to store, say, 400000000000 in an `int` (it doesn&#39;t go that far; ints can store any integral number between -2^31 and +2^31-1). There also is no way to store specifically `00101111` either. That is what makes `int` so efficient, they can only represent very specific things. And `00101111` isn&#39;t one of them. Only `101111` is.\r\n\r\nIf you have a need to store such a concept, well, that isn&#39;t a number. It&#39;s some sort of limited string; use `String` (in which case you can just invoke `str.length()` to figure out how many characters are in it), or write your own type for it.\r\n\r\nIf you are provided an `int` value and asked to count the digits, and you want an answer of &#39;8&#39; because that int was created with `00101111`, that is __completely impossible__ - you&#39;ll need to change whatever code gave you that `int`, and change it to give you a `String` or some specific other data type instead.\r\n","title":"Digits count method","body":"<p><code>00101111</code> isn't a thing that an <code>int</code> value can represent. Literally. Something like:</p>\n<pre><code>int x = Integer.parseInt(&quot;00101111&quot;);\nint y = Integer.parseInt(&quot;101111&quot;);\n</code></pre>\n<p>x and y are bit for bit identical. It is <strong>impossible</strong> to tell the difference between <code>x</code> and <code>y</code> here. There is in fact no possible way to store, say, 400000000000 in an <code>int</code> (it doesn't go that far; ints can store any integral number between -2^31 and +2^31-1). There also is no way to store specifically <code>00101111</code> either. That is what makes <code>int</code> so efficient, they can only represent very specific things. And <code>00101111</code> isn't one of them. Only <code>101111</code> is.</p>\n<p>If you have a need to store such a concept, well, that isn't a number. It's some sort of limited string; use <code>String</code> (in which case you can just invoke <code>str.length()</code> to figure out how many characters are in it), or write your own type for it.</p>\n<p>If you are provided an <code>int</code> value and asked to count the digits, and you want an answer of '8' because that int was created with <code>00101111</code>, that is <strong>completely impossible</strong> - you'll need to change whatever code gave you that <code>int</code>, and change it to give you a <code>String</code> or some specific other data type instead.</p>\n"}],"owner":{"account_id":27682833,"reputation":1,"user_id":21659684,"display_name":"Ahmad Aldali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681705473,"creation_date":1681690820,"question_id":76030953,"body_markdown":"I created a method that should count digits of numbers but it is only working when the the first digit is not zero.\r\nFor example it  gives for the number 01011100 the result 7 instead of 8, and for the number 00101111 6 instead of 8.\r\nI am very thankful for any help!.\r\n\r\n```java\r\npublic static int countDigits(int x) {\r\n\tint y=0;\r\n\twhile (!(x== 0)) \r\n\t\t{\r\n\t\tx /= 10;\r\n\t    y ++;\r\n\t    }\r\n\r\n\treturn y;\r\n}\r\n```\r\n\r\nThe method starts counting digits only after the firs &quot;1&quot; comes.","title":"Digits count method","body":"<p>I created a method that should count digits of numbers but it is only working when the the first digit is not zero.\nFor example it  gives for the number 01011100 the result 7 instead of 8, and for the number 00101111 6 instead of 8.\nI am very thankful for any help!.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int countDigits(int x) {\n    int y=0;\n    while (!(x== 0)) \n        {\n        x /= 10;\n        y ++;\n        }\n\n    return y;\n}\n</code></pre>\n<p>The method starts counting digits only after the firs &quot;1&quot; comes.</p>\n"},{"tags":["java","android","react-native","gradle"],"owner":{"account_id":19370393,"reputation":97,"user_id":14163801,"display_name":"Sachin Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681705006,"creation_date":1681705006,"question_id":76031687,"body_markdown":"I am using Android Studio Dolphin | 2021.3.1 Patch 1. I am getting error while syncing project with gradle files. Build variant not showing\r\n\r\nGradle version as per gradle-wrapper.properties : distributionUrl=https\\://services.gradle.org/distributions/gradle-6.2-all.zip\r\n\r\nbuild.gradle file\r\n\r\n    buildscrpit{\r\n    dependencies {\r\n            classpath(&quot;com.android.tools.build:gradle:3.5.3&quot;)\r\n            classpath &#39;com.google.gms:google-services:4.3.4&#39;\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\nI have also tried changing gradle version to 7.5 and 8.0 but did not work","title":"Gradle sync failed: Cause: startup failed: unable to resolve class org.jetbrains.plugins.gradle.tooling.internal.ExtraModelBuilder","body":"<p>I am using Android Studio Dolphin | 2021.3.1 Patch 1. I am getting error while syncing project with gradle files. Build variant not showing</p>\n<p>Gradle version as per gradle-wrapper.properties : distributionUrl=https://services.gradle.org/distributions/gradle-6.2-all.zip</p>\n<p>build.gradle file</p>\n<pre><code>buildscrpit{\ndependencies {\n        classpath(&quot;com.android.tools.build:gradle:3.5.3&quot;)\n        classpath 'com.google.gms:google-services:4.3.4'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n</code></pre>\n<p>I have also tried changing gradle version to 7.5 and 8.0 but did not work</p>\n"},{"tags":["java","android","xml","android-layout","android-spinner"],"comments":[{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1592747731,"post_id":62499164,"comment_id":110529160,"body_markdown":"Does the Toast with the selected exercise appear?","body":"Does the Toast with the selected exercise appear?"},{"owner":{"account_id":18217073,"reputation":77,"user_id":13258564,"display_name":"Josh Brett"},"score":0,"creation_date":1592747782,"post_id":62499164,"comment_id":110529181,"body_markdown":"No the toast does not appear, nor does the Log","body":"No the toast does not appear, nor does the Log"},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1592748943,"post_id":62499164,"comment_id":110529602,"body_markdown":"please add the dpendencies (build.gradle) as well as the imports in RecordExerciseActivity2 - and one more question: which Android version does your device/ emulator have?","body":"please add the dpendencies (build.gradle) as well as the imports in RecordExerciseActivity2 - and one more question: which Android version does your device/ emulator have?"},{"owner":{"account_id":18217073,"reputation":77,"user_id":13258564,"display_name":"Josh Brett"},"score":0,"creation_date":1592749295,"post_id":62499164,"comment_id":110529724,"body_markdown":"I have added your requests. My device is a Nexus 6P API 30","body":"I have added your requests. My device is a Nexus 6P API 30"},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1592753746,"post_id":62499164,"comment_id":110531323,"body_markdown":"This is extremely weird... I managed to reproduce your error: selecting an item has no effect on `android.widget.Spinner` for a device with API level 30. Then I added another Spinner to the layout, this time an `androidx.appcompat.widget.AppCompatSpinner`. Now *both Spinners* work, and I can&#39;t make them &quot;not work&quot; again...even if I remove the androix-Spinner and clean the project or do &quot;Files-&gt; invalidate caches and restart&quot; on AS)... I&#39;ve no idea why, but I think switching over from `android.widget.Spinner` to `androidx.appcompat.widget.AppCompatSpinner` in the xml will solve the problem.","body":"This is extremely weird... I managed to reproduce your error: selecting an item has no effect on <code>android.widget.Spinner</code> for a device with API level 30. Then I added another Spinner to the layout, this time an <code>androidx.appcompat.widget.AppCompatSpinner</code>. Now <i>both Spinners</i> work, and I can&#39;t make them &quot;not work&quot; again...even if I remove the androix-Spinner and clean the project or do &quot;Files-&gt; invalidate caches and restart&quot; on AS)... I&#39;ve no idea why, but I think switching over from <code>android.widget.Spinner</code> to <code>androidx.appcompat.widget.AppCompatSpinner</code> in the xml will solve the problem."},{"owner":{"account_id":18217073,"reputation":77,"user_id":13258564,"display_name":"Josh Brett"},"score":0,"creation_date":1592755553,"post_id":62499164,"comment_id":110531994,"body_markdown":"I am extremely confused as to what is going on here, I have changed to `androidx.appcompat.widget.AppCompatSpinner` however no luck :(","body":"I am extremely confused as to what is going on here, I have changed to <code>androidx.appcompat.widget.AppCompatSpinner</code> however no luck :("},{"owner":{"account_id":12607225,"reputation":985,"user_id":9167710,"display_name":"cgb_pandey"},"score":0,"creation_date":1592978224,"post_id":62499164,"comment_id":110614380,"body_markdown":"@B&#246;machtBlau, According to documentation of `AppCompatSpinner`, &quot;**This will automatically be used when you use Spinner in your layouts. You should only need to manually use this class when writing custom views.**&quot;","body":"@B&#246;machtBlau, According to documentation of <code>AppCompatSpinner</code>, &quot;<b>This will automatically be used when you use Spinner in your layouts. You should only need to manually use this class when writing custom views.</b>&quot;"},{"owner":{"account_id":12607225,"reputation":985,"user_id":9167710,"display_name":"cgb_pandey"},"score":0,"creation_date":1592978472,"post_id":62499164,"comment_id":110614459,"body_markdown":"@JoshBrett but in code, you are still creating object with `Spinner` class. I have also post a possible solution to this problem. Please, check it out.","body":"@JoshBrett but in code, you are still creating object with <code>Spinner</code> class. I have also post a possible solution to this problem. Please, check it out."},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1593023974,"post_id":62499164,"comment_id":110637861,"body_markdown":"@cgb_pandey - that&#39;s correct, one should not use AppCompatSpinner in a layout file, simply Spinner will do. But please note that I tried to communicate what I did to analyse the issue, and that after adding the AppCompatSpinner I stopped being able to reproduce the error, even after removing it from the project and cleaning / rebuilding the project. I admit that my last sentence can be read as a recommendation (at least if you feel encouraged to try something when someone tells you &quot;I&#39;ve no idea...&quot;) but it was not meant that way (cont)","body":"@cgb_pandey - that&#39;s correct, one should not use AppCompatSpinner in a layout file, simply Spinner will do. But please note that I tried to communicate what I did to analyse the issue, and that after adding the AppCompatSpinner I stopped being able to reproduce the error, even after removing it from the project and cleaning / rebuilding the project. I admit that my last sentence can be read as a recommendation (at least if you feel encouraged to try something when someone tells you &quot;I&#39;ve no idea...&quot;) but it was not meant that way (cont)"},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1593023976,"post_id":62499164,"comment_id":110637865,"body_markdown":"(cont) Without being able to reliably reproduce the error, I had to stop working on the problem, but I hoped my results might help others to find a solution.","body":"(cont) Without being able to reliably reproduce the error, I had to stop working on the problem, but I hoped my results might help others to find a solution."}],"answers":[{"comments":[{"owner":{"account_id":18217073,"reputation":77,"user_id":13258564,"display_name":"Josh Brett"},"score":0,"creation_date":1592748018,"post_id":62499536,"comment_id":110529244,"body_markdown":"onItemSelectedListener is only for the spinner.  My log does not return anything, nor does the toast so I think the problem is to do with something else.","body":"onItemSelectedListener is only for the spinner.  My log does not return anything, nor does the toast so I think the problem is to do with something else."}],"tags":[],"owner":{"account_id":18037874,"reputation":378,"user_id":13110837,"display_name":"Jaime"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592747739,"creation_date":1592747739,"answer_id":62499536,"question_id":62499164,"body_markdown":"In `onItemSelected` you could do something like this after your log statement. Check if the view is of type spinner and if so set the selection to the index of the position you clicked.\r\n\r\n```\r\nif(view instanceof Spinner) {\r\n  (Spinner)view.setSelection(position);\r\n}\r\n```\r\nIf your `onItemSelected` is only used by your spinner, you could take all the code out of `onItemSelected` and set the onClickListener directly for your spinner, that way the `instanceof` check isnt needed.","title":"How do I get Android Spinner Text to Update?","body":"<p>In <code>onItemSelected</code> you could do something like this after your log statement. Check if the view is of type spinner and if so set the selection to the index of the position you clicked.</p>\n<pre><code>if(view instanceof Spinner) {\n  (Spinner)view.setSelection(position);\n}\n</code></pre>\n<p>If your <code>onItemSelected</code> is only used by your spinner, you could take all the code out of <code>onItemSelected</code> and set the onClickListener directly for your spinner, that way the <code>instanceof</code> check isnt needed.</p>\n"},{"comments":[{"owner":{"account_id":18217073,"reputation":77,"user_id":13258564,"display_name":"Josh Brett"},"score":0,"creation_date":1593016690,"post_id":62544428,"comment_id":110634313,"body_markdown":"Many thanks for the response. I have ran the app on two emulators and both are having the same problem. Even after making your recommended alternate change, its still the same. I have updated all of my dependencies to their most recent version and I&#39;m still having the same issue. Do you know of any other things that I could try?","body":"Many thanks for the response. I have ran the app on two emulators and both are having the same problem. Even after making your recommended alternate change, its still the same. I have updated all of my dependencies to their most recent version and I&#39;m still having the same issue. Do you know of any other things that I could try?"},{"owner":{"account_id":18217073,"reputation":77,"user_id":13258564,"display_name":"Josh Brett"},"score":0,"creation_date":1593017814,"post_id":62544428,"comment_id":110634885,"body_markdown":"I have also ran this on my real Huawei P20 Pro and the same error is occurring.","body":"I have also ran this on my real Huawei P20 Pro and the same error is occurring."},{"owner":{"account_id":5161890,"reputation":5598,"user_id":4133301,"accept_rate":57,"display_name":"GensaGames"},"score":0,"creation_date":1593028169,"post_id":62544428,"comment_id":110639832,"body_markdown":"@JoshBrett Above workaround should work for sure. Please double check updated code.","body":"@JoshBrett Above workaround should work for sure. Please double check updated code."}],"tags":[],"owner":{"account_id":5161890,"reputation":5598,"user_id":4133301,"accept_rate":57,"display_name":"GensaGames"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593028148,"creation_date":1592949756,"answer_id":62544428,"question_id":62499164,"body_markdown":"It should work out of box. I think there is an issue with emulator, or old dependency in the project. Validate on real device too. **There might be alternatives, which I don&#39;t like too!** \r\n\r\n**For ex.** \r\n\r\n    // .....\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n        selectedExercise = parent.getItemAtPosition(position).toString();\r\n        Toast.makeText(parent.getContext(), selectedExercise, Toast.LENGTH_SHORT).show();\r\n        Log.i(&quot;spinner item clicked &quot;, selectedExercise);\r\n        updateAdapter(selectedExercise)\r\n    }\r\n    \r\n    // ....\r\n    private void updateAdapter(@Nullable final String selected) {\r\n       final List&lt;String&gt; array = new ArrayList&lt;&gt;(allChildExerciseNames);\r\n    \r\n       if (!TextUtils.isEmpty(selected)) {\r\n           array.remove(selected)\r\n           array.set(0, selected)\r\n    }\r\n        \r\n       final Spinner spinner =  findViewById(R.id.spinner1);\r\n       final ArrayAdapter&lt;String&gt; spinnerAdapter = new \r\n             ArrayAdapter&lt;String&gt;(this,  android.R.layout.simple_spinner_dropdown_item, array);\r\n       \r\n\r\n       spinnerAdapter.setDropDownViewResource(\r\n           android.R.layout.simple_spinner_dropdown_item);\r\n       spinner.setAdapter(spinnerAdapter, array);\r\n       spinner.setOnItemSelectedListener(this);\r\n    }\r\n    //...\r\n\r\n\r\nPs. You can get rid off some variables above by placing them as `Activity` class state. This solution was added by Your request, as alternative. At least you can use it, till we figure out the real issue.","title":"How do I get Android Spinner Text to Update?","body":"<p>It should work out of box. I think there is an issue with emulator, or old dependency in the project. Validate on real device too. <strong>There might be alternatives, which I don't like too!</strong></p>\n<p><strong>For ex.</strong></p>\n<pre><code>// .....\n@Override\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n    selectedExercise = parent.getItemAtPosition(position).toString();\n    Toast.makeText(parent.getContext(), selectedExercise, Toast.LENGTH_SHORT).show();\n    Log.i(&quot;spinner item clicked &quot;, selectedExercise);\n    updateAdapter(selectedExercise)\n}\n\n// ....\nprivate void updateAdapter(@Nullable final String selected) {\n   final List&lt;String&gt; array = new ArrayList&lt;&gt;(allChildExerciseNames);\n\n   if (!TextUtils.isEmpty(selected)) {\n       array.remove(selected)\n       array.set(0, selected)\n}\n    \n   final Spinner spinner =  findViewById(R.id.spinner1);\n   final ArrayAdapter&lt;String&gt; spinnerAdapter = new \n         ArrayAdapter&lt;String&gt;(this,  android.R.layout.simple_spinner_dropdown_item, array);\n   \n\n   spinnerAdapter.setDropDownViewResource(\n       android.R.layout.simple_spinner_dropdown_item);\n   spinner.setAdapter(spinnerAdapter, array);\n   spinner.setOnItemSelectedListener(this);\n}\n//...\n</code></pre>\n<p>Ps. You can get rid off some variables above by placing them as <code>Activity</code> class state. This solution was added by Your request, as alternative. At least you can use it, till we figure out the real issue.</p>\n"},{"comments":[{"owner":{"account_id":2265197,"reputation":131,"user_id":1994089,"display_name":"Shekhar Suman"},"score":0,"creation_date":1592954275,"post_id":62545102,"comment_id":110608830,"body_markdown":"I am maually adding spinner items.                 private void getAllChildExercises() {\n\n        allChildExerciseNames.add(&quot;Select exercise&quot;);\n        allChildExerciseNames.add(&quot;3 sec squat&quot;);\n        allChildExerciseNames.add(&quot;Plank&quot;);\n        allChildExerciseNames.add(&quot;PushUps&quot;);\n        allChildExerciseNames.add(&quot;Jogging&quot;);\n        allChildExerciseNames.add(&quot;Run&quot;);\n    }","body":"I am maually adding spinner items.                 private void getAllChildExercises() {          allChildExerciseNames.add(&quot;Select exercise&quot;);         allChildExerciseNames.add(&quot;3 sec squat&quot;);         allChildExerciseNames.add(&quot;Plank&quot;);         allChildExerciseNames.add(&quot;PushUps&quot;);         allChildExerciseNames.add(&quot;Jogging&quot;);         allChildExerciseNames.add(&quot;Run&quot;);     }"},{"owner":{"account_id":2265197,"reputation":131,"user_id":1994089,"display_name":"Shekhar Suman"},"score":0,"creation_date":1592954417,"post_id":62545102,"comment_id":110608868,"body_markdown":"Let me know if you are able to find the root issue.","body":"Let me know if you are able to find the root issue."},{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1592973797,"post_id":62545102,"comment_id":110613012,"body_markdown":"Are you sure you have tested on device with API 30","body":"Are you sure you have tested on device with API 30"},{"owner":{"account_id":18217073,"reputation":77,"user_id":13258564,"display_name":"Josh Brett"},"score":0,"creation_date":1593018531,"post_id":62545102,"comment_id":110635248,"body_markdown":"I have ran the app on 2 virtual devices, as well as my own real phone, the same problem is occurring... Could this be something to do with the fact I am obtaining the values to go in the spinner from my ROOM database (liveData)?","body":"I have ran the app on 2 virtual devices, as well as my own real phone, the same problem is occurring... Could this be something to do with the fact I am obtaining the values to go in the spinner from my ROOM database (liveData)?"},{"owner":{"account_id":2265197,"reputation":131,"user_id":1994089,"display_name":"Shekhar Suman"},"score":0,"creation_date":1593036224,"post_id":62545102,"comment_id":110643049,"body_markdown":"Verified this on Android R API30...this is working shown in GIF above.","body":"Verified this on Android R API30...this is working shown in GIF above."},{"owner":{"account_id":2265197,"reputation":131,"user_id":1994089,"display_name":"Shekhar Suman"},"score":0,"creation_date":1593036416,"post_id":62545102,"comment_id":110643112,"body_markdown":"@joshBrett as shown in the image attached by you that your spinner list is being populated. However, on the selection of an item, you are unable to seen the toast or logs in logcat. I would have looked closely there.","body":"@joshBrett as shown in the image attached by you that your spinner list is being populated. However, on the selection of an item, you are unable to seen the toast or logs in logcat. I would have looked closely there."}],"tags":[],"owner":{"account_id":2265197,"reputation":131,"user_id":1994089,"display_name":"Shekhar Suman"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592954572,"creation_date":1592953607,"answer_id":62545102,"question_id":62499164,"body_markdown":"[![enter image description here][1]][1]I copy and pasted your activity and XML from above compiled and ran on pixel 3xl emulator and it is working for me. \r\n\r\nNote -  I have only commented and updated sections like framents, model and styles (in XML) that I didn&#39;t had. Please check if style of the spinner is the issue. \r\n\r\nYou can provide a custom UI to spinner as below.\r\n\r\n     ArrayAdapter&lt;String&gt; spinnerGenderAdapter = new ArrayAdapter&lt;String&gt;(getActivity(),\r\n                R.layout.spinner_item, sp_gender);\r\n        spinnerGenderAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        mGenderSpinner.setAdapter(spinnerGenderAdapter);\r\n        mGenderSpinner.setSelection(0);\r\n\r\nspinner_item.xml\r\n\r\n    &#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n  \r\n    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/tv_desc&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_gravity=&quot;end&quot;\r\n    android:textColor=&quot;@color/somecolor&quot;\r\n    android:textSize=&quot;16sp&quot; /&gt;&#39;\r\n\r\n\r\n[![Activity][2]][2]\r\n[![Gradle][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/302w5.gif\r\n  [2]: https://i.stack.imgur.com/ZNo7L.png\r\n  [3]: https://i.stack.imgur.com/JJqkf.png","title":"How do I get Android Spinner Text to Update?","body":"<p><a href=\"https://i.stack.imgur.com/302w5.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/302w5.gif\" alt=\"enter image description here\" /></a>I copy and pasted your activity and XML from above compiled and ran on pixel 3xl emulator and it is working for me.</p>\n<p>Note -  I have only commented and updated sections like framents, model and styles (in XML) that I didn't had. Please check if style of the spinner is the issue.</p>\n<p>You can provide a custom UI to spinner as below.</p>\n<pre><code> ArrayAdapter&lt;String&gt; spinnerGenderAdapter = new ArrayAdapter&lt;String&gt;(getActivity(),\n            R.layout.spinner_item, sp_gender);\n    spinnerGenderAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    mGenderSpinner.setAdapter(spinnerGenderAdapter);\n    mGenderSpinner.setSelection(0);\n</code></pre>\n<p>spinner_item.xml</p>\n<pre><code>'&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:id=&quot;@+id/tv_desc&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_gravity=&quot;end&quot;\nandroid:textColor=&quot;@color/somecolor&quot;\nandroid:textSize=&quot;16sp&quot; /&gt;'\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZNo7L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZNo7L.png\" alt=\"Activity\" /></a>\n<a href=\"https://i.stack.imgur.com/JJqkf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JJqkf.png\" alt=\"Gradle\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12607225,"reputation":985,"user_id":9167710,"display_name":"cgb_pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592978064,"creation_date":1592978064,"answer_id":62548548,"question_id":62499164,"body_markdown":"I was able to reproduce your scenario programmatically in API 29. I believe this way you can get the default spinner behaviour.  \r\nWhat I did to reproduce your scenario was I override the default `getView()` implementation of the `ArrayAdapter` object.(I did it with my custom `simple_spinner_item_custom` layout but it should work with `android.R.layout.simple_spinner_item` too):\r\n\r\n    ArrayAdapter&lt;String&gt; spinnerAdapter = new ArrayAdapter&lt;String&gt;(this,\r\n                    R.layout.simple_spinner_item_custom, spinnerStringArray) {\r\n                @NonNull\r\n                @Override\r\n                public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n                    View view = super.getView(position, convertView, parent);\r\n                    // get a reference to the textview from the item layout\r\n                    TextView tv = view.findViewById(R.id.custom_text_1);\r\n                    // I manually set the text to empty like this to reproduce :D\r\n                    // tv.setText(&quot;&quot;);\r\n                    // the fix I would like to suggest\r\n                    tv.setText(spinnerStringArray[position]);\r\n                    return view;\r\n                }\r\n            };  \r\nI also believe you can now set `onClickListener()` in this `view` object to get `onItemSelectedListener()` like behaviour.","title":"How do I get Android Spinner Text to Update?","body":"<p>I was able to reproduce your scenario programmatically in API 29. I believe this way you can get the default spinner behaviour.<br />\nWhat I did to reproduce your scenario was I override the default <code>getView()</code> implementation of the <code>ArrayAdapter</code> object.(I did it with my custom <code>simple_spinner_item_custom</code> layout but it should work with <code>android.R.layout.simple_spinner_item</code> too):</p>\n<pre><code>ArrayAdapter&lt;String&gt; spinnerAdapter = new ArrayAdapter&lt;String&gt;(this,\n                R.layout.simple_spinner_item_custom, spinnerStringArray) {\n            @NonNull\n            @Override\n            public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n                View view = super.getView(position, convertView, parent);\n                // get a reference to the textview from the item layout\n                TextView tv = view.findViewById(R.id.custom_text_1);\n                // I manually set the text to empty like this to reproduce :D\n                // tv.setText(&quot;&quot;);\n                // the fix I would like to suggest\n                tv.setText(spinnerStringArray[position]);\n                return view;\n            }\n        };  \n</code></pre>\n<p>I also believe you can now set <code>onClickListener()</code> in this <code>view</code> object to get <code>onItemSelectedListener()</code> like behaviour.</p>\n"},{"comments":[{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1593029615,"post_id":62563200,"comment_id":110640490,"body_markdown":"@Josh Brett - somewhere in your comments you mentioned Room and LiveData. Until then I had only patched something together in onCreate() and commented out most of your ViewModel-related code. Today I tried with a makeshift VewModel and so I stumbled across the missing `notifyDatasetChanged()` (as in the 2nd version). And I&#39;m fairly sure that this is the cause for the misbehavior because now I can make it &quot;not work&quot; again simply by commenting out the `notifyDatasetChanged()`","body":"@Josh Brett - somewhere in your comments you mentioned Room and LiveData. Until then I had only patched something together in onCreate() and commented out most of your ViewModel-related code. Today I tried with a makeshift VewModel and so I stumbled across the missing <code>notifyDatasetChanged()</code> (as in the 2nd version). And I&#39;m fairly sure that this is the cause for the misbehavior because now I can make it &quot;not work&quot; again simply by commenting out the <code>notifyDatasetChanged()</code>"}],"tags":[],"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1593030279,"creation_date":1593029045,"answer_id":62563200,"question_id":62499164,"body_markdown":"Currently you are doing the whole setup for the `Spinner` in `onCreate()`: you instantiate the adapter with a (possibly empty) data list and call `spinner.setAdapter(spinnerAdapter);`\r\n\r\nAfter that you only change the data list: each time that `getAllChildExercisesFromParentID(List&lt;String&gt;)` is called, you add a couple of `String`s to the data list which you passed into the adapter. But you never call `notifyDatasetChanged()` on the adapter, and I think this is where things start going wrong.\r\n\r\nThe runtime does not throw an `Exception` (as would have been the case with `ListView` instead of `Spinner` if I remember correctly) - you just see an empty(!) `Spinner` with a non-empty dropdown list, and selecting an item does not have any effect.  \r\n\r\nSo to fix your issue, you can either recreate a new adapter for the `Spinner` when `getAllChildExercisesFromParentID(List&lt;String&gt;)` is called. In this case you need to make the `Spinner` a field of your `Activity`, so that it can be accessed from this method:\r\n\r\n    private Spinner spinner;\r\n\r\nInitialize it in `onCreate()` but don&#39;t set the adapter yet:\r\n\r\n    spinner =  findViewById(R.id.spinner1);\r\n    spinner.setOnItemSelectedListener(this);\r\n\r\n\r\nCreate a new instance of the adapter for the `Spinner` when you receive the data:\r\n\r\n    private void getAllChildExercisesFromParentID(List&lt;String&gt; allChildExercisesReceived){\r\n        // maybe removing old data is a good idea?\r\n        allChildExerciseNames.clear();\r\n\r\n        allChildExerciseNames.addAll(allChildExercisesReceived);\r\n     \r\n        ArrayAdapter&lt;String&gt; spinnerAdapter = new ArrayAdapter&lt;String&gt;(this,\r\n                android.R.layout.simple_spinner_dropdown_item, allChildExerciseNames);\r\n        spinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(spinnerAdapter);\r\n\r\n    }\r\n\r\n\r\nOr you let your `Activity` have a field `private ArrayAdapter&lt;String&gt; spinnerAdapter;`\r\n\r\nInitialize the `Spinner` completely in `onCreate()`:\r\n\r\n    Spinner spinner =  findViewById(R.id.spinner1);\r\n    spinnerAdapter = new ArrayAdapter&lt;String&gt;(this,\r\n                android.R.layout.simple_spinner_dropdown_item, allChildExerciseNames);\r\n        spinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n    spinner.setAdapter(spinnerAdapter);\r\n\r\n    spinner.setOnItemSelectedListener(this);\r\n\r\n... and update the data list (and consequently the adapter) when you receive the data:\r\n\r\n    private void getAllChildExercisesFromParentID(List&lt;String&gt; allChildExercisesReceived){\r\n        // remove old data \r\n        allChildExerciseNames.clear();\r\n\r\n        allChildExerciseNames.addAll(allChildExercisesReceived);\r\n        spinnerAdapter.notifyDataSetChanged();\r\n    }\r\n\r\nI like the second version better because it does not need to create a new object each time the data is refreshed - it can help to improve performance (but in this case the effect on modern devices will hardly be noticeable, so it&#39;s more a matter of code style) \r\n\r\nBTW of course you can and should keep the `Spinner` in your layout - the `AppCompatSpinner` was just my attempt at getting rid of the weird &quot;Landroid/widget/AbsListView...&quot; message which just happened to pop up at the same time as the `Spinner` problem.","title":"How do I get Android Spinner Text to Update?","body":"<p>Currently you are doing the whole setup for the <code>Spinner</code> in <code>onCreate()</code>: you instantiate the adapter with a (possibly empty) data list and call <code>spinner.setAdapter(spinnerAdapter);</code></p>\n<p>After that you only change the data list: each time that <code>getAllChildExercisesFromParentID(List&lt;String&gt;)</code> is called, you add a couple of <code>String</code>s to the data list which you passed into the adapter. But you never call <code>notifyDatasetChanged()</code> on the adapter, and I think this is where things start going wrong.</p>\n<p>The runtime does not throw an <code>Exception</code> (as would have been the case with <code>ListView</code> instead of <code>Spinner</code> if I remember correctly) - you just see an empty(!) <code>Spinner</code> with a non-empty dropdown list, and selecting an item does not have any effect.</p>\n<p>So to fix your issue, you can either recreate a new adapter for the <code>Spinner</code> when <code>getAllChildExercisesFromParentID(List&lt;String&gt;)</code> is called. In this case you need to make the <code>Spinner</code> a field of your <code>Activity</code>, so that it can be accessed from this method:</p>\n<pre><code>private Spinner spinner;\n</code></pre>\n<p>Initialize it in <code>onCreate()</code> but don't set the adapter yet:</p>\n<pre><code>spinner =  findViewById(R.id.spinner1);\nspinner.setOnItemSelectedListener(this);\n</code></pre>\n<p>Create a new instance of the adapter for the <code>Spinner</code> when you receive the data:</p>\n<pre><code>private void getAllChildExercisesFromParentID(List&lt;String&gt; allChildExercisesReceived){\n    // maybe removing old data is a good idea?\n    allChildExerciseNames.clear();\n\n    allChildExerciseNames.addAll(allChildExercisesReceived);\n \n    ArrayAdapter&lt;String&gt; spinnerAdapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.simple_spinner_dropdown_item, allChildExerciseNames);\n    spinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner.setAdapter(spinnerAdapter);\n\n}\n</code></pre>\n<p>Or you let your <code>Activity</code> have a field <code>private ArrayAdapter&lt;String&gt; spinnerAdapter;</code></p>\n<p>Initialize the <code>Spinner</code> completely in <code>onCreate()</code>:</p>\n<pre><code>Spinner spinner =  findViewById(R.id.spinner1);\nspinnerAdapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.simple_spinner_dropdown_item, allChildExerciseNames);\n    spinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\nspinner.setAdapter(spinnerAdapter);\n\nspinner.setOnItemSelectedListener(this);\n</code></pre>\n<p>... and update the data list (and consequently the adapter) when you receive the data:</p>\n<pre><code>private void getAllChildExercisesFromParentID(List&lt;String&gt; allChildExercisesReceived){\n    // remove old data \n    allChildExerciseNames.clear();\n\n    allChildExerciseNames.addAll(allChildExercisesReceived);\n    spinnerAdapter.notifyDataSetChanged();\n}\n</code></pre>\n<p>I like the second version better because it does not need to create a new object each time the data is refreshed - it can help to improve performance (but in this case the effect on modern devices will hardly be noticeable, so it's more a matter of code style)</p>\n<p>BTW of course you can and should keep the <code>Spinner</code> in your layout - the <code>AppCompatSpinner</code> was just my attempt at getting rid of the weird &quot;Landroid/widget/AbsListView...&quot; message which just happened to pop up at the same time as the <code>Spinner</code> problem.</p>\n"},{"tags":[],"owner":{"account_id":6889546,"reputation":736,"user_id":5293554,"accept_rate":0,"display_name":"Jan Bergstr&#246;m"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681701458,"creation_date":1681701458,"answer_id":76031497,"question_id":62499164,"body_markdown":"The simplest way is to create a new String array, make a new SpinnerAdapter and setAdapter (replace the old) to the spinner.  ","title":"How do I get Android Spinner Text to Update?","body":"<p>The simplest way is to create a new String array, make a new SpinnerAdapter and setAdapter (replace the old) to the spinner.</p>\n"}],"owner":{"account_id":18217073,"reputation":77,"user_id":13258564,"display_name":"Josh Brett"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62563200,"answer_count":6,"score":2,"last_activity_date":1681701458,"creation_date":1592745890,"question_id":62499164,"body_markdown":"I have a spinner inside my activity.\r\n\r\n[![spinner][2]][2]\r\n\r\nThe top spinner bar is to act as a title, I then have a navigation bar below that and in the bottom half I have a fragment container.\r\n\r\n\r\nThe spinner contains a list of all of the exercises which it is passed.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter clicking one of the items inside the spinner drop down, I would like the spinner text to be updated, however no change occurs...\r\n\r\nI get the following messages:\r\n\r\n`W/e.exerciseappv: Accessing hidden field Landroid/widget/AbsListView;-&gt;mIsChildViewEnabled:Z (greylist, reflection, allowed)`\r\n\r\n`D/OpenGLRenderer: endAllActiveAnimators on 0xc6707410 (DropDownListView) with handle 0xc6e4a5f0`\r\n\r\nHow can I get my basic spinner working (alternatively does anyone have a work-around) ?\r\n\r\n**Activity**\r\n\r\n```\r\n\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProviders;\r\nimport com.example.exerciseappv5.Fragments.ExerciseGraphFragment;\r\nimport com.example.exerciseappv5.Fragments.RecordExerciseFragment;\r\nimport com.example.exerciseappv5.Fragments.RecordExerciseHistoryFragment;\r\nimport com.example.exerciseappv5.ViewModels.ChildExerciseViewModel;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class RecordExerciseActivity2 extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n\r\n    List&lt;String&gt; allChildExerciseNames = new ArrayList&lt;&gt;();\r\n    public static final String PARENT_EXERCISE_ID = &quot;-999&quot;;\r\n    public static final String EXTRA_DATE = &quot;com.example.exerciseappv4.EXTRA_DATE&quot;;\r\n    public static final String EXTRA_WEEK_DATES = &quot;1&quot;;\r\n    public static String EXTRA_JUNCTIONID = &quot;EXERCISE_JUNCTION_ID&quot;;\r\n    int parentExerciseID;\r\n    private ChildExerciseViewModel childExerciseViewModel;\r\n    String firstExerciseName;\r\n    String selectedExercise;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_record_exercise);\r\n\r\n        getSupportActionBar().hide();\r\n\r\n        Intent intent = getIntent();\r\n        if (intent.hasExtra(PARENT_EXERCISE_ID)) {\r\n            parentExerciseID = Integer.parseInt(intent.getStringExtra(PARENT_EXERCISE_ID));\r\n        }\r\n\r\n        BottomNavigationView bottomNav = findViewById(R.id.top_navigation);\r\n        bottomNav.setOnNavigationItemSelectedListener(navListener);\r\n\r\n        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container2, new RecordExerciseFragment()).commit();\r\n\r\n        //getSupportActionBar().setHomeAsUpIndicator(R.drawable.ic_back);\r\n        childExerciseViewModel = ViewModelProviders.of(this).get(ChildExerciseViewModel.class);\r\n        childExerciseViewModel.getChildExerciseNameFromParentID(parentExerciseID).observe(this, this::setChildExerciseName);\r\n        childExerciseViewModel.getAllchildExercisesFromParentID(parentExerciseID).observe(this, this::getAllChildExercisesFromParentID);\r\n\r\n\r\n        Spinner spinner =  findViewById(R.id.spinner1);\r\n        ArrayList&lt;String&gt; spinnerStringArray = new ArrayList&lt;&gt;();\r\n        //Add your data to your array\r\n        spinnerStringArray.addAll(allChildExerciseNames);\r\n        ArrayAdapter&lt;String&gt; spinnerAdapter = new ArrayAdapter&lt;String&gt;(this,\r\n               android.R.layout.simple_spinner_dropdown_item, allChildExerciseNames);\r\n        spinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(spinnerAdapter);\r\n        spinner.setOnItemSelectedListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n        selectedExercise = parent.getItemAtPosition(position).toString();\r\n        Toast.makeText(parent.getContext(), selectedExercise, Toast.LENGTH_SHORT).show();\r\n        Log.i(&quot;spinner item clicked &quot;, selectedExercise);\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n    }\r\n\r\n    private BottomNavigationView.OnNavigationItemSelectedListener navListener =\r\n            new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    Fragment selectedFragment = null;\r\n\r\n                    switch (item.getItemId()) {\r\n                        case R.id.nav_track:\r\n                            selectedFragment = new RecordExerciseFragment();\r\n                            break;\r\n                        case R.id.nav_history:\r\n                            selectedFragment = new RecordExerciseHistoryFragment();\r\n                            break;\r\n                        case R.id.nav_exercise_list:\r\n                            selectedFragment = new ExerciseGraphFragment();\r\n                            break;\r\n                    }\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container2, selectedFragment).commit();\r\n                    return true;\r\n                }\r\n            };\r\n\r\n    private void setChildExerciseName(String childExerciseName) {\r\n        firstExerciseName = childExerciseName;\r\n    }\r\n\r\n    public String getSelectedExercise() {\r\n        return selectedExercise;\r\n    }\r\n\r\n    private void getAllChildExercisesFromParentID(List&lt;String&gt; allChildExercisesReceived) {\r\n        allChildExerciseNames.addAll(allChildExercisesReceived);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n**Activity Layout XML**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;View style=&quot;@style/Full_Divider&quot;\r\n        android:id=&quot;@+id/divider9&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;1dp&quot;\r\n        android:layout_below=&quot;@+id/spinner1&quot;/&gt;\r\n\r\n    &lt;View style=&quot;@style/Full_Divider&quot;\r\n        android:id=&quot;@+id/divider10&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;1dp&quot;\r\n        android:layout_below=&quot;@+id/top_navigation&quot; /&gt;\r\n\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/fragment_container2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_below=&quot;@id/divider10&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatSpinner\r\n        android:id=&quot;@+id/spinner1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n\r\n        android:layout_marginEnd=&quot;1dp&quot;\r\n        android:layout_marginRight=&quot;1dp&quot;\r\n        android:gravity=&quot;right&quot;\r\n        android:padding=&quot;8dp&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/top_navigation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/spinner1&quot;\r\n        app:itemTextColor=&quot;#ffffff&quot;\r\n        app:itemIconTint=&quot;#ffffff&quot;\r\n        app:menu=&quot;@menu/top_navigation&quot;\r\n        android:background=&quot;#292929&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n**build.Gradle**\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion &quot;29.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.exerciseappv5&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility = 1.8\r\n        targetCompatibility = 1.8\r\n\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;com.github.barteksc:android-pdf-viewer:2.8.2&#39;\r\n\r\n    def lifecycle_version = &quot;1.1.1&quot;\r\n    def room_version = &quot;1.1.1&quot;\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.1.0-rc01&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n\r\n\r\n\r\n\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n    implementation &#39;android.arch.lifecycle:extensions:1.0.0-alpha1&#39;\r\n    annotationProcessor &#39;android.arch.lifecycle:compiler:1.1.1&#39;\r\n\r\n    implementation &#39;android.arch.persistence.room:runtime:1.0.0-alpha1&#39;\r\n    annotationProcessor &#39;android.arch.persistence.room:compiler:1.0.0-alpha1&#39;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k2G0P.png\r\n  [2]: https://i.stack.imgur.com/e7zpR.png","title":"How do I get Android Spinner Text to Update?","body":"<p>I have a spinner inside my activity.</p>\n<p><a href=\"https://i.stack.imgur.com/e7zpR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e7zpR.png\" alt=\"spinner\" /></a></p>\n<p>The top spinner bar is to act as a title, I then have a navigation bar below that and in the bottom half I have a fragment container.</p>\n<p>The spinner contains a list of all of the exercises which it is passed.</p>\n<p><a href=\"https://i.stack.imgur.com/k2G0P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2G0P.png\" alt=\"enter image description here\" /></a></p>\n<p>After clicking one of the items inside the spinner drop down, I would like the spinner text to be updated, however no change occurs...</p>\n<p>I get the following messages:</p>\n<p><code>W/e.exerciseappv: Accessing hidden field Landroid/widget/AbsListView;-&gt;mIsChildViewEnabled:Z (greylist, reflection, allowed)</code></p>\n<p><code>D/OpenGLRenderer: endAllActiveAnimators on 0xc6707410 (DropDownListView) with handle 0xc6e4a5f0</code></p>\n<p>How can I get my basic spinner working (alternatively does anyone have a work-around) ?</p>\n<p><strong>Activity</strong></p>\n<pre><code>\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Spinner;\nimport android.widget.Toast;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.ViewModelProviders;\nimport com.example.exerciseappv5.Fragments.ExerciseGraphFragment;\nimport com.example.exerciseappv5.Fragments.RecordExerciseFragment;\nimport com.example.exerciseappv5.Fragments.RecordExerciseHistoryFragment;\nimport com.example.exerciseappv5.ViewModels.ChildExerciseViewModel;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class RecordExerciseActivity2 extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n\n    List&lt;String&gt; allChildExerciseNames = new ArrayList&lt;&gt;();\n    public static final String PARENT_EXERCISE_ID = &quot;-999&quot;;\n    public static final String EXTRA_DATE = &quot;com.example.exerciseappv4.EXTRA_DATE&quot;;\n    public static final String EXTRA_WEEK_DATES = &quot;1&quot;;\n    public static String EXTRA_JUNCTIONID = &quot;EXERCISE_JUNCTION_ID&quot;;\n    int parentExerciseID;\n    private ChildExerciseViewModel childExerciseViewModel;\n    String firstExerciseName;\n    String selectedExercise;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_record_exercise);\n\n        getSupportActionBar().hide();\n\n        Intent intent = getIntent();\n        if (intent.hasExtra(PARENT_EXERCISE_ID)) {\n            parentExerciseID = Integer.parseInt(intent.getStringExtra(PARENT_EXERCISE_ID));\n        }\n\n        BottomNavigationView bottomNav = findViewById(R.id.top_navigation);\n        bottomNav.setOnNavigationItemSelectedListener(navListener);\n\n        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container2, new RecordExerciseFragment()).commit();\n\n        //getSupportActionBar().setHomeAsUpIndicator(R.drawable.ic_back);\n        childExerciseViewModel = ViewModelProviders.of(this).get(ChildExerciseViewModel.class);\n        childExerciseViewModel.getChildExerciseNameFromParentID(parentExerciseID).observe(this, this::setChildExerciseName);\n        childExerciseViewModel.getAllchildExercisesFromParentID(parentExerciseID).observe(this, this::getAllChildExercisesFromParentID);\n\n\n        Spinner spinner =  findViewById(R.id.spinner1);\n        ArrayList&lt;String&gt; spinnerStringArray = new ArrayList&lt;&gt;();\n        //Add your data to your array\n        spinnerStringArray.addAll(allChildExerciseNames);\n        ArrayAdapter&lt;String&gt; spinnerAdapter = new ArrayAdapter&lt;String&gt;(this,\n               android.R.layout.simple_spinner_dropdown_item, allChildExerciseNames);\n        spinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(spinnerAdapter);\n        spinner.setOnItemSelectedListener(this);\n    }\n\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n        selectedExercise = parent.getItemAtPosition(position).toString();\n        Toast.makeText(parent.getContext(), selectedExercise, Toast.LENGTH_SHORT).show();\n        Log.i(&quot;spinner item clicked &quot;, selectedExercise);\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n    }\n\n    private BottomNavigationView.OnNavigationItemSelectedListener navListener =\n            new BottomNavigationView.OnNavigationItemSelectedListener() {\n                @Override\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                    Fragment selectedFragment = null;\n\n                    switch (item.getItemId()) {\n                        case R.id.nav_track:\n                            selectedFragment = new RecordExerciseFragment();\n                            break;\n                        case R.id.nav_history:\n                            selectedFragment = new RecordExerciseHistoryFragment();\n                            break;\n                        case R.id.nav_exercise_list:\n                            selectedFragment = new ExerciseGraphFragment();\n                            break;\n                    }\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container2, selectedFragment).commit();\n                    return true;\n                }\n            };\n\n    private void setChildExerciseName(String childExerciseName) {\n        firstExerciseName = childExerciseName;\n    }\n\n    public String getSelectedExercise() {\n        return selectedExercise;\n    }\n\n    private void getAllChildExercisesFromParentID(List&lt;String&gt; allChildExercisesReceived) {\n        allChildExerciseNames.addAll(allChildExercisesReceived);\n    }\n}\n\n\n</code></pre>\n<p><strong>Activity Layout XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;View style=&quot;@style/Full_Divider&quot;\n        android:id=&quot;@+id/divider9&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:layout_below=&quot;@+id/spinner1&quot;/&gt;\n\n    &lt;View style=&quot;@style/Full_Divider&quot;\n        android:id=&quot;@+id/divider10&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:layout_below=&quot;@+id/top_navigation&quot; /&gt;\n\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/fragment_container2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_below=&quot;@id/divider10&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatSpinner\n        android:id=&quot;@+id/spinner1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n\n        android:layout_marginEnd=&quot;1dp&quot;\n        android:layout_marginRight=&quot;1dp&quot;\n        android:gravity=&quot;right&quot;\n        android:padding=&quot;8dp&quot; /&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/top_navigation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/spinner1&quot;\n        app:itemTextColor=&quot;#ffffff&quot;\n        app:itemIconTint=&quot;#ffffff&quot;\n        app:menu=&quot;@menu/top_navigation&quot;\n        android:background=&quot;#292929&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>build.Gradle</strong></p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion &quot;29.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.exerciseappv5&quot;\n        minSdkVersion 16\n        targetSdkVersion 29\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility = 1.8\n        targetCompatibility = 1.8\n\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'com.github.barteksc:android-pdf-viewer:2.8.2'\n\n    def lifecycle_version = &quot;1.1.1&quot;\n    def room_version = &quot;1.1.1&quot;\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'com.google.android.material:material:1.1.0-rc01'\n    implementation 'androidx.cardview:cardview:1.0.0'\n\n\n\n\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'android.arch.lifecycle:extensions:1.0.0-alpha1'\n    annotationProcessor 'android.arch.lifecycle:compiler:1.1.1'\n\n    implementation 'android.arch.persistence.room:runtime:1.0.0-alpha1'\n    annotationProcessor 'android.arch.persistence.room:compiler:1.0.0-alpha1'\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":17258251,"reputation":3,"user_id":16591227,"display_name":"Jit Banerjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681699632,"creation_date":1681699632,"question_id":76031407,"body_markdown":"I have two tabs inside MainActivity &quot;FragmentOne&quot; and &quot;Favourites&quot;. In &quot;FragmentOne&quot; there is a button clicking on which takes the user to &quot;FragmentTwo&quot;. I have put NavHost inside MainActivity and the action is TabOne -&gt; TabTwo. \r\n\r\nThe button is working fine as well as the tabs. The problem I am having is with The navHost i.e. the button is appearing in both tabs. Also, When I click on the button the contents of &quot;FragmentTwo&quot; is also appearing in both tabs. \r\n\r\nI want the button as well as the contents of &quot;FragmentTwo&quot; should appear in the &quot;FragmentOne&quot; tab only. \r\n\r\nHere is the code:\r\n**activity_main.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tab_layout&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Search&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Favourites&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/view_pager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_below=&quot;@+id/tab_layout&quot; /&gt;\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/fragmentContainerView2&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:navGraph=&quot;@navigation/nav_graph&quot; /&gt;\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/one_to_favourites&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:navGraph=&quot;@navigation/nav_graph&quot; /&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n**MainActivity.java**\r\n```\r\npackage com.example.testproject;\r\n\r\nimport static androidx.navigation.ui.NavigationUI.setupActionBarWithNavController;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.fragment.NavHostFragment;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.material.tabs.TabLayout;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    TabLayout tabLayout;\r\n    ViewPager2 viewPager2;\r\n    tabsAdapter tAdapter;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        tabLayout = findViewById(R.id.tab_layout);\r\n        viewPager2 = findViewById(R.id.view_pager);\r\n        tAdapter = new tabsAdapter(this);\r\n        viewPager2.setAdapter(tAdapter);\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                viewPager2.setCurrentItem(tab.getPosition());\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n\r\n        viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                super.onPageSelected(position);\r\n                tabLayout.getTabAt(position).select();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n```\r\n**tabsAdapter.java**\r\n```\r\npackage com.example.testproject;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.viewpager2.adapter.FragmentStateAdapter;\r\nimport com.example.testproject.FragmentOne;\r\nimport com.example.testproject.FavouritesFragment;\r\n\r\npublic class tabsAdapter extends FragmentStateAdapter {\r\n    public tabsAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n        super(fragmentActivity);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        switch (position){\r\n            case 1:\r\n                return new FavouritesFragment();\r\n\r\n            default:\r\n                return new FragmentOne();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 2;\r\n    }\r\n}\r\n\r\n```\r\n**FragmentOne.Java**\r\n```\r\npublic class FragmentOne extends Fragment {\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_one, container, false);\r\n        Button button = view.findViewById(R.id.button);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Navigation.findNavController(view).navigate(R.id.action_fragmentOne_to_fragmentTwo);\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How to implement multiple navigation inside a tab?","body":"<p>I have two tabs inside MainActivity &quot;FragmentOne&quot; and &quot;Favourites&quot;. In &quot;FragmentOne&quot; there is a button clicking on which takes the user to &quot;FragmentTwo&quot;. I have put NavHost inside MainActivity and the action is TabOne -&gt; TabTwo.</p>\n<p>The button is working fine as well as the tabs. The problem I am having is with The navHost i.e. the button is appearing in both tabs. Also, When I click on the button the contents of &quot;FragmentTwo&quot; is also appearing in both tabs.</p>\n<p>I want the button as well as the contents of &quot;FragmentTwo&quot; should appear in the &quot;FragmentOne&quot; tab only.</p>\n<p>Here is the code:\n<strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tab_layout&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Search&quot; /&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Favourites&quot; /&gt;\n\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/view_pager&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_below=&quot;@+id/tab_layout&quot; /&gt;\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/fragmentContainerView2&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:navGraph=&quot;@navigation/nav_graph&quot; /&gt;\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/one_to_favourites&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:navGraph=&quot;@navigation/nav_graph&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.testproject;\n\nimport static androidx.navigation.ui.NavigationUI.setupActionBarWithNavController;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.navigation.NavController;\nimport androidx.navigation.fragment.NavHostFragment;\nimport androidx.viewpager2.widget.ViewPager2;\n\nimport android.os.Bundle;\n\nimport com.google.android.material.tabs.TabLayout;\n\npublic class MainActivity extends AppCompatActivity {\n    TabLayout tabLayout;\n    ViewPager2 viewPager2;\n    tabsAdapter tAdapter;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        tabLayout = findViewById(R.id.tab_layout);\n        viewPager2 = findViewById(R.id.view_pager);\n        tAdapter = new tabsAdapter(this);\n        viewPager2.setAdapter(tAdapter);\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n                viewPager2.setCurrentItem(tab.getPosition());\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n\n        viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n            @Override\n            public void onPageSelected(int position) {\n                super.onPageSelected(position);\n                tabLayout.getTabAt(position).select();\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p><strong>tabsAdapter.java</strong></p>\n<pre><code>package com.example.testproject;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.viewpager2.adapter.FragmentStateAdapter;\nimport com.example.testproject.FragmentOne;\nimport com.example.testproject.FavouritesFragment;\n\npublic class tabsAdapter extends FragmentStateAdapter {\n    public tabsAdapter(@NonNull FragmentActivity fragmentActivity) {\n        super(fragmentActivity);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position){\n            case 1:\n                return new FavouritesFragment();\n\n            default:\n                return new FragmentOne();\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return 2;\n    }\n}\n\n</code></pre>\n<p><strong>FragmentOne.Java</strong></p>\n<pre><code>public class FragmentOne extends Fragment {\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_one, container, false);\n        Button button = view.findViewById(R.id.button);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Navigation.findNavController(view).navigate(R.id.action_fragmentOne_to_fragmentTwo);\n            }\n        });\n        return view;\n    }\n}\n</code></pre>\n"},{"tags":["java","literals","permgen"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1681696896,"post_id":76031259,"comment_id":134093134,"body_markdown":"Literals are stored in the *constant pool* and loaded from there at the byte code level. **What** problem are you trying to solve, and how does this help you solve it?","body":"Literals are stored in the <i>constant pool</i> and loaded from there at the byte code level. <b>What</b> problem are you trying to solve, and how does this help you solve it?"},{"owner":{"account_id":28276387,"reputation":17,"user_id":21618811,"display_name":"xyz"},"score":0,"creation_date":1681697641,"post_id":76031259,"comment_id":134093207,"body_markdown":"@ElliottFrisch I am just clearing my basics. So 10 is first stored in the constant pool and from there, it is loaded to variable x, and literal 2 also stored inside the constant pool ??","body":"@ElliottFrisch I am just clearing my basics. So 10 is first stored in the constant pool and from there, it is loaded to variable x, and literal 2 also stored inside the constant pool ??"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1681697836,"post_id":76031259,"comment_id":134093225,"body_markdown":"Yes. Every literal is loaded from the constant pool. The command `javap -v` can be used to examine the byte code, that&#39;s all there is at runtime so it must be in the byte code.","body":"Yes. Every literal is loaded from the constant pool. The command <code>javap -v</code> can be used to examine the byte code, that&#39;s all there is at runtime so it must be in the byte code."},{"owner":{"account_id":28276387,"reputation":17,"user_id":21618811,"display_name":"xyz"},"score":0,"creation_date":1681697947,"post_id":76031259,"comment_id":134093234,"body_markdown":"@ElliottFrisch Thank you for clarification. Is there any difference between constant pool and string pool? Or both are same??","body":"@ElliottFrisch Thank you for clarification. Is there any difference between constant pool and string pool? Or both are same??"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1681698537,"post_id":76031259,"comment_id":134093298,"body_markdown":"This aren&#39;t the &quot;basics&quot;, these are deep internals that go waaaay beyond what you normally care about when coding Java. Still relevant, but not at all basic. String pool and constant pools are VERY different things: https://stackoverflow.com/a/23253122/2442804","body":"This aren&#39;t the &quot;basics&quot;, these are deep internals that go waaaay beyond what you normally care about when coding Java. Still relevant, but not at all basic. String pool and constant pools are VERY different things: <a href=\"https://stackoverflow.com/a/23253122/2442804\">stackoverflow.com/a/23253122/2442804</a>"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1681698606,"post_id":76031259,"comment_id":134093302,"body_markdown":"Part of the String pool is loaded by the constant pool which contains Strings. Use `javap -v`, or just read about the [class file format](https://jcp.org/aboutJava/communityprocess/maintenance/jsr924/JVMS-SE5.0-Ch4-ClassFile.pdf).","body":"Part of the String pool is loaded by the constant pool which contains Strings. Use <code>javap -v</code>, or just read about the <a href=\"https://jcp.org/aboutJava/communityprocess/maintenance/jsr924/JVMS-SE5.0-Ch4-ClassFile.pdf\" rel=\"nofollow noreferrer\">class file format</a>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681699520,"post_id":76031259,"comment_id":134093381,"body_markdown":"Unfortunately, there are a bunch of Java tutorial sites (and stack overflow Q&amp;As) that *incorrectly* call the string pool the &quot;string constant pool&quot;.  That leads to all sorts of confusion for newbies and not-so-newbies.   And of course ... &quot;permgen&quot; was removed in Java 7 ... a long time ago.  In short: be selective in what you read!!","body":"Unfortunately, there are a bunch of Java tutorial sites (and stack overflow Q&amp;As) that <i>incorrectly</i> call the string pool the &quot;string constant pool&quot;.  That leads to all sorts of confusion for newbies and not-so-newbies.   And of course ... &quot;permgen&quot; was removed in Java 7 ... a long time ago.  In short: be selective in what you read!!"},{"owner":{"account_id":28276387,"reputation":17,"user_id":21618811,"display_name":"xyz"},"score":0,"creation_date":1681703758,"post_id":76031259,"comment_id":134093742,"body_markdown":"@StephenC  Is there any difference between constant pool and string pool?","body":"@StephenC  Is there any difference between constant pool and string pool?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1681704204,"post_id":76031259,"comment_id":134093778,"body_markdown":"Yup.  The constant pool is a region of a class file.  The string pool is a data structure in the heap.   Completely different things.  And you absolutely don&#39;t need to know this stuff ... unless you are planning on modifying or debugging the JVM.","body":"Yup.  The constant pool is a region of a class file.  The string pool is a data structure in the heap.   Completely different things.  And you absolutely don&#39;t need to know this stuff ... unless you are planning on modifying or debugging the JVM."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1681704564,"post_id":76031259,"comment_id":134093822,"body_markdown":"A normal programmer just needs to follow these rules: 1) use `String.equals` not `==`, and 2) don&#39;t use `String.intern` ... turn on the GC string deduping instead.   If you do that, you need to know **nothing** about the string pool.","body":"A normal programmer just needs to follow these rules: 1) use <code>String.equals</code> not <code>==</code>, and 2) don&#39;t use <code>String.intern</code> ... turn on the GC string deduping instead.   If you do that, you need to know <b>nothing</b> about the string pool."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1681705013,"post_id":76031259,"comment_id":134093858,"body_markdown":"And the constant pool is only relevant if you are writing or maintaining a custom reader for &quot;.class&quot; files.  There are probably less than 100 people on the planet who need to do that.","body":"And the constant pool is only relevant if you are writing or maintaining a custom reader for &quot;.class&quot; files.  There are probably less than 100 people on the planet who need to do that."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681700213,"post_id":76031406,"comment_id":134093427,"body_markdown":"*&quot;That&#39;s the kind of programmer task that only seniors with 20 years of experience would ever do.&quot;* - And most of them (us) are far too wise to do that :-)","body":"<i>&quot;That&#39;s the kind of programmer task that only seniors with 20 years of experience would ever do.&quot;</i> - And most of them (us) are far too wise to do that :-)"},{"owner":{"account_id":28276387,"reputation":17,"user_id":21618811,"display_name":"xyz"},"score":0,"creation_date":1681702905,"post_id":76031406,"comment_id":134093660,"body_markdown":"So I just need to know that literal 10 is loaded from the constant pool and string literal is present in the string constant pool that&#39;s all. And all these pools are present in heap memory. I don&#39;t need to go into its internal working. Please correct me if I am wrong ??","body":"So I just need to know that literal 10 is loaded from the constant pool and string literal is present in the string constant pool that&#39;s all. And all these pools are present in heap memory. I don&#39;t need to go into its internal working. Please correct me if I am wrong ??"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1681703430,"post_id":76031406,"comment_id":134093709,"body_markdown":"Yeah that sounds fine :)","body":"Yeah that sounds fine :)"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681699586,"creation_date":1681699586,"answer_id":76031406,"question_id":76031259,"body_markdown":"Your code has to live somewhere. It starts out as a source file, which `javac` turns into a `.class` file, which then goes.. somewhere. Java is flexible enough that you can write your own loaders if you want. By default, they go directly to disk or in a jar file and a java virtual machine can load them from there. When the JVM starts, it does __not__ load them all. It just loads the one class that you told the JVM contains the `main` method. However, the JVM, anytime it needs to execute code, always scans &#39;hey which types are required to run this code&#39; and if that finds any types that aren&#39;t currently loaded, the JVM will first load that type (guaranteed once only), &#39;resolve&#39; it (this mostly involves running all static initializers), and then continues. Hence, generally if you have a few classes they&#39;ll be loaded _nearly immediately_ (only your main class is loaded but executing it will usually cause most of your other classes to get loaded soon after).\r\n\r\nWhen you write `int z = 10;` That 10 is in your class file. You can run `javap -v -c com.foo.YourCompileClass` to see it.\r\n\r\nThe bytecode generated is one that means &#39;load this value from the constant pool&#39;. At runtime, java is a stack based processor, so there is no such thing as &#39;variable z&#39;. There is a position on the stack or possibly a local frame slot, depends on how `javac` translated your java code into bytecode.\r\n\r\nPermgen ceased to be a thing 15 years ago. class files now basically just live in the same place any other object lives. That&#39;s where the &#39;10&#39; lives, directly.\r\n Same for `int z = 2 * x * y;` - that 2 is in the same place the `IMULT` instruction lives that tells the JVM to multiply the last 2 things on the stack. Code is, after all, just as much &#39;data&#39; as data would be.\r\n\r\nIt&#39;s fairly clear from your question you do not perhaps have a good understanding of how JVMs / machine code works. Perhaps ask a more specific question. Why do you &#39;care&#39; - are you trying to optimize for performance? These are the kinds of internals where the very _point_ is that you don&#39;t need to care about it to write good code. It&#39;s not going to have a performance impact you could possibly measure. Knowing _exactly_ how all this works has more or less zero effect on your skills as a java programmer.\r\n\r\nNow if you are going to hack on the JVM itself, sure, this is good to know. That&#39;s the kind of programmer task that only seniors with 20 years of experience would ever do. If you are a beginner, this is identical to the following conversation:\r\n\r\nxyz: Hi! I&#39;m 16 and ready for my first driving lesson!\r\n\r\ninstructor: Great, here&#39;s the wheel, here&#39;s the gas ped...\r\n\r\nxyz: nonono nevermind all that! Here is a picture of a carburettor and the differential axle photo from wikipedia, it was built in 1962. I think we should spend 50 hours talking about all the physics and math involved in how this differential works, because only then will I be any good at driving a car!\r\n\r\nYou see how utterly preposterous that would be. Same thing applies here. These are internal details that you do not need to know about: They do not &#39;affect&#39; anything - they aren&#39;t leaky abstractions. Plenty of under the hood stuff can show up in weird ways and it can be useful to know about them (though, even there, as beginning coder I doubt that&#39;s a good place to start!) - but this? No. It won&#39;t make you a better coder. Just a more curious one.\r\n","title":"Integer literal in Java?","body":"<p>Your code has to live somewhere. It starts out as a source file, which <code>javac</code> turns into a <code>.class</code> file, which then goes.. somewhere. Java is flexible enough that you can write your own loaders if you want. By default, they go directly to disk or in a jar file and a java virtual machine can load them from there. When the JVM starts, it does <strong>not</strong> load them all. It just loads the one class that you told the JVM contains the <code>main</code> method. However, the JVM, anytime it needs to execute code, always scans 'hey which types are required to run this code' and if that finds any types that aren't currently loaded, the JVM will first load that type (guaranteed once only), 'resolve' it (this mostly involves running all static initializers), and then continues. Hence, generally if you have a few classes they'll be loaded <em>nearly immediately</em> (only your main class is loaded but executing it will usually cause most of your other classes to get loaded soon after).</p>\n<p>When you write <code>int z = 10;</code> That 10 is in your class file. You can run <code>javap -v -c com.foo.YourCompileClass</code> to see it.</p>\n<p>The bytecode generated is one that means 'load this value from the constant pool'. At runtime, java is a stack based processor, so there is no such thing as 'variable z'. There is a position on the stack or possibly a local frame slot, depends on how <code>javac</code> translated your java code into bytecode.</p>\n<p>Permgen ceased to be a thing 15 years ago. class files now basically just live in the same place any other object lives. That's where the '10' lives, directly.\nSame for <code>int z = 2 * x * y;</code> - that 2 is in the same place the <code>IMULT</code> instruction lives that tells the JVM to multiply the last 2 things on the stack. Code is, after all, just as much 'data' as data would be.</p>\n<p>It's fairly clear from your question you do not perhaps have a good understanding of how JVMs / machine code works. Perhaps ask a more specific question. Why do you 'care' - are you trying to optimize for performance? These are the kinds of internals where the very <em>point</em> is that you don't need to care about it to write good code. It's not going to have a performance impact you could possibly measure. Knowing <em>exactly</em> how all this works has more or less zero effect on your skills as a java programmer.</p>\n<p>Now if you are going to hack on the JVM itself, sure, this is good to know. That's the kind of programmer task that only seniors with 20 years of experience would ever do. If you are a beginner, this is identical to the following conversation:</p>\n<p>xyz: Hi! I'm 16 and ready for my first driving lesson!</p>\n<p>instructor: Great, here's the wheel, here's the gas ped...</p>\n<p>xyz: nonono nevermind all that! Here is a picture of a carburettor and the differential axle photo from wikipedia, it was built in 1962. I think we should spend 50 hours talking about all the physics and math involved in how this differential works, because only then will I be any good at driving a car!</p>\n<p>You see how utterly preposterous that would be. Same thing applies here. These are internal details that you do not need to know about: They do not 'affect' anything - they aren't leaky abstractions. Plenty of under the hood stuff can show up in weird ways and it can be useful to know about them (though, even there, as beginning coder I doubt that's a good place to start!) - but this? No. It won't make you a better coder. Just a more curious one.</p>\n"}],"owner":{"account_id":28276387,"reputation":17,"user_id":21618811,"display_name":"xyz"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1681699586,"creation_date":1681696752,"question_id":76031259,"body_markdown":"```\r\nint x = 10;\r\n```\r\n\r\nHere 10 is directly assigned to variable x or 10 is stored somewhere else and then it get assigned to variable x?\r\n\r\nI have read in one of the stackoverlow answer that Java stores literals in permgen space. So is 10 stored inside permgen space first and then get assigned to variable x?\r\n\r\n```\r\nint z = 2*x+y\r\n```\r\n\r\nHere also is integer litareal 2 stored inside permgen space?\r\n\r\nCan anyone help me in understanding where literal of any data type stored in Java and what is permgen space?\r\n\r\nI have try to understand but got confused.","title":"Integer literal in Java?","body":"<pre><code>int x = 10;\n</code></pre>\n<p>Here 10 is directly assigned to variable x or 10 is stored somewhere else and then it get assigned to variable x?</p>\n<p>I have read in one of the stackoverlow answer that Java stores literals in permgen space. So is 10 stored inside permgen space first and then get assigned to variable x?</p>\n<pre><code>int z = 2*x+y\n</code></pre>\n<p>Here also is integer litareal 2 stored inside permgen space?</p>\n<p>Can anyone help me in understanding where literal of any data type stored in Java and what is permgen space?</p>\n<p>I have try to understand but got confused.</p>\n"},{"tags":["java","file","minecraft"],"owner":{"account_id":23945581,"reputation":77,"user_id":17937975,"display_name":"KaizOffical"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681698061,"creation_date":1681393807,"question_id":76006246,"body_markdown":"I&#39;m making a Client with MCP and I need to get the data inside the path. I tried this code but it isn&#39;t working\r\n```java\r\n    File currDir = new File(&quot;.&quot;);\r\n    String path = currDir.getAbsolutePath();\r\n    path = path.substring(0, path.length() - 2);\r\n    System.out.println(path);\r\n    return (path + File.separator + &quot;src&quot; + File.separator + &quot;minecraft&quot; + File.separator + &quot;client&quot; + File.separator + &quot;data&quot;);\r\n```\r\nThe path that I need is `&lt;workspace_path&gt;/src/minecraft/client/data`, however the code above returns `&lt;workspace_path&gt;/jars/src/minecraft/client/data`. I&#39;m using IDE to run it so it is `jars` inside, however if I&#39;m playing game, it will return the path to the Client Config path. &lt;br&gt;\r\nPlease help me, thanks!","title":"How to get workspace path with Minecraft Coder Pack (MCP)?","body":"<p>I'm making a Client with MCP and I need to get the data inside the path. I tried this code but it isn't working</p>\n<pre class=\"lang-java prettyprint-override\"><code>    File currDir = new File(&quot;.&quot;);\n    String path = currDir.getAbsolutePath();\n    path = path.substring(0, path.length() - 2);\n    System.out.println(path);\n    return (path + File.separator + &quot;src&quot; + File.separator + &quot;minecraft&quot; + File.separator + &quot;client&quot; + File.separator + &quot;data&quot;);\n</code></pre>\n<p>The path that I need is <code>&lt;workspace_path&gt;/src/minecraft/client/data</code>, however the code above returns <code>&lt;workspace_path&gt;/jars/src/minecraft/client/data</code>. I'm using IDE to run it so it is <code>jars</code> inside, however if I'm playing game, it will return the path to the Client Config path. <br>\nPlease help me, thanks!</p>\n"},{"tags":["java","eclipse","file-io"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1681695355,"post_id":76031157,"comment_id":134092986,"body_markdown":"You&#39;re trying to write to a directory `records` relative to the &quot;working directory&quot;.  You need to beware that the working directory may or may not be the same location as the jar file and you may not have write permission at that location anyway, modern OS&#39;s can be restrictive.","body":"You&#39;re trying to write to a directory <code>records</code> relative to the &quot;working directory&quot;.  You need to beware that the working directory may or may not be the same location as the jar file and you may not have write permission at that location anyway, modern OS&#39;s can be restrictive."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681695386,"post_id":76031157,"comment_id":134092993,"body_markdown":"One approach is to make use the platforms &quot;common&quot; or &quot;well known&quot; locations, for [example](https://stackoverflow.com/questions/27974857/where-should-i-place-my-files-in-order-to-be-able-to-access-them-when-i-run-the/27974989#27974989); [example](https://stackoverflow.com/questions/53405312/java-reading-the-properties-file-outside-of-jar-file/53405540#53405540).  This places the files in a place which is independent of you applications installation location and the &quot;working directory&quot;","body":"One approach is to make use the platforms &quot;common&quot; or &quot;well known&quot; locations, for <a href=\"https://stackoverflow.com/questions/27974857/where-should-i-place-my-files-in-order-to-be-able-to-access-them-when-i-run-the/27974989#27974989\">example</a>; <a href=\"https://stackoverflow.com/questions/53405312/java-reading-the-properties-file-outside-of-jar-file/53405540#53405540\">example</a>.  This places the files in a place which is independent of you applications installation location and the &quot;working directory&quot;"}],"answers":[{"tags":[],"owner":{"account_id":6928808,"reputation":524,"user_id":14515110,"display_name":"Jam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681696112,"creation_date":1681696112,"answer_id":76031219,"question_id":76031157,"body_markdown":"A couple things to mention here:\r\n\r\nIf you want to open files safely, use a try-with-resources block\r\n```\r\ntry (PrintStream writer = new PrintStream(new File(fileName))) {\r\n    writer.print(records);\r\n}\r\n```\r\nThe way you&#39;re currently doing it may not close the file since the writer is never closed, especially if an error is thrown upon catching an exception\r\n\r\nSecond, I don&#39;t think throwing an IllegalArgumentException is optimal here since you&#39;re essentially just hiding what the may be and instead of a helpful stacktrace you get just &quot;Unable to save file.&quot;. This is epecially problematic if something other than an IO exception is thrown, as it will just hide it (e.g. if one of those methods isn&#39;t null-safe and somehow a nullpointerexception gets thrown)\r\n\r\nTo answer your question, `records/records.txt` is a relative file location, and may change\r\nYou&#39;d best either go with a [resource path file][1] ([extra examples][2]) or a common file (a little less nice since it&#39;s platform-dependent), or the common locations method mentioned by MadProgrammer\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20389255/reading-a-resource-file-from-within-jar\r\n  [2]: https://stackoverflow.com/questions/13000937/read-and-write-to-java-file-via-resource","title":"How to handle saving game data for a simple Java game","body":"<p>A couple things to mention here:</p>\n<p>If you want to open files safely, use a try-with-resources block</p>\n<pre><code>try (PrintStream writer = new PrintStream(new File(fileName))) {\n    writer.print(records);\n}\n</code></pre>\n<p>The way you're currently doing it may not close the file since the writer is never closed, especially if an error is thrown upon catching an exception</p>\n<p>Second, I don't think throwing an IllegalArgumentException is optimal here since you're essentially just hiding what the may be and instead of a helpful stacktrace you get just &quot;Unable to save file.&quot;. This is epecially problematic if something other than an IO exception is thrown, as it will just hide it (e.g. if one of those methods isn't null-safe and somehow a nullpointerexception gets thrown)</p>\n<p>To answer your question, <code>records/records.txt</code> is a relative file location, and may change\nYou'd best either go with a <a href=\"https://stackoverflow.com/questions/20389255/reading-a-resource-file-from-within-jar\">resource path file</a> (<a href=\"https://stackoverflow.com/questions/13000937/read-and-write-to-java-file-via-resource\">extra examples</a>) or a common file (a little less nice since it's platform-dependent), or the common locations method mentioned by MadProgrammer</p>\n"},{"tags":[],"owner":{"account_id":27824880,"reputation":5,"user_id":21244500,"display_name":"CuteMrMerp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681697394,"creation_date":1681697394,"answer_id":76031303,"question_id":76031157,"body_markdown":"You can maybe save a text file with the needed data but [this](https://www.w3schools.com/java/java_files_create.asp) might help. This is how I store data like high scores in my game\r\n\r\nThis tutorial shows you how to create and read `.txt` files in Java. You could use this to read/write game data.\r\n\r\nHere is the code from the website:\r\n\r\n```java\r\nimport java.io.File;  // Import the File class\r\nimport java.io.IOException;  // Import the IOException class to handle errors\r\n\r\npublic class CreateFile {\r\n  public static void main(String[] args) {\r\n    try {\r\n      File myObj = new File(&quot;filename.txt&quot;);\r\n      if (myObj.createNewFile()) {\r\n        System.out.println(&quot;File created: &quot; + myObj.getName());\r\n      } else {\r\n        System.out.println(&quot;File already exists.&quot;);\r\n      }\r\n    } catch (IOException e) {\r\n      System.out.println(&quot;An error occurred.&quot;);\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```","title":"How to handle saving game data for a simple Java game","body":"<p>You can maybe save a text file with the needed data but <a href=\"https://www.w3schools.com/java/java_files_create.asp\" rel=\"nofollow noreferrer\">this</a> might help. This is how I store data like high scores in my game</p>\n<p>This tutorial shows you how to create and read <code>.txt</code> files in Java. You could use this to read/write game data.</p>\n<p>Here is the code from the website:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;  // Import the File class\nimport java.io.IOException;  // Import the IOException class to handle errors\n\npublic class CreateFile {\n  public static void main(String[] args) {\n    try {\n      File myObj = new File(&quot;filename.txt&quot;);\n      if (myObj.createNewFile()) {\n        System.out.println(&quot;File created: &quot; + myObj.getName());\n      } else {\n        System.out.println(&quot;File already exists.&quot;);\n      }\n    } catch (IOException e) {\n      System.out.println(&quot;An error occurred.&quot;);\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":28324813,"reputation":13,"user_id":21659993,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76031219,"answer_count":2,"score":1,"last_activity_date":1681697394,"creation_date":1681695035,"question_id":76031157,"body_markdown":"Im working on a Minesweeper clone and I want the user to be able to save their fastest solve times to a .txt file. I have it set up and working inside Eclipse with the following code in my i/o class:\r\n\r\n```\r\n\r\n        public static final String RECORD_FILE_NAME = &quot;records/records.txt&quot;;\r\n\r\n\tpublic static String readRecords() {\r\n\t\tString records = &quot;&quot;;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tScanner scan = new Scanner(new FileInputStream(RECORD_FILE_NAME));\r\n\t\t\twhile (scan.hasNextLine()) {\r\n\t\t\t\trecords = records + scan.nextLine() + &quot;\\n&quot;;\r\n\t\t\t}\r\n\t\t\tscan.close();\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Invalid file&quot;);\r\n\t\t}\r\n\t\treturn records;\r\n\t}\r\n\r\n\tpublic static void writeRecords(String records, String fileName) {\r\n\t\ttry {\r\n\t\t\tPrintStream writer = new PrintStream(new File(fileName));\r\n\t\t\twriter.print(records);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Unable to save file.&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\n```\r\n\r\n\r\nHowever, after exporting the project as a Runnable JAR File, the readRecords() method throws the IllegalArgumentException from inside the catch block. So, how should I set up file i/o so that it works outside of Eclipse? Any help is greatly appreciated, thanks!","title":"How to handle saving game data for a simple Java game","body":"<p>Im working on a Minesweeper clone and I want the user to be able to save their fastest solve times to a .txt file. I have it set up and working inside Eclipse with the following code in my i/o class:</p>\n<pre><code>\n        public static final String RECORD_FILE_NAME = &quot;records/records.txt&quot;;\n\n    public static String readRecords() {\n        String records = &quot;&quot;;\n        \n        try {\n            Scanner scan = new Scanner(new FileInputStream(RECORD_FILE_NAME));\n            while (scan.hasNextLine()) {\n                records = records + scan.nextLine() + &quot;\\n&quot;;\n            }\n            scan.close();\n            \n        } catch (Exception e) {\n            throw new IllegalArgumentException(&quot;Invalid file&quot;);\n        }\n        return records;\n    }\n\n    public static void writeRecords(String records, String fileName) {\n        try {\n            PrintStream writer = new PrintStream(new File(fileName));\n            writer.print(records);\n        } catch (Exception e) {\n            throw new IllegalArgumentException(&quot;Unable to save file.&quot;);\n        }\n    }\n\n\n</code></pre>\n<p>However, after exporting the project as a Runnable JAR File, the readRecords() method throws the IllegalArgumentException from inside the catch block. So, how should I set up file i/o so that it works outside of Eclipse? Any help is greatly appreciated, thanks!</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1580117111,"post_id":59900419,"comment_id":105978535,"body_markdown":"Change `@Document(collection = &quot;#{@personRepositoryCustom.getCollectionName()}&quot;)` to `@Document(collection = &quot;#{personRepositoryCustom.getCollectionName()}&quot;)`","body":"Change <code>@Document(collection = &quot;#{@personRepositoryCustom.getCollectionName()}&quot;)</code> to <code>@Document(collection = &quot;#{personRepositoryCustom.getCollectionName()}&quot;)</code>"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1580118332,"post_id":59900419,"comment_id":105979157,"body_markdown":"Fot `T() operator` getCollectionName must be `static`","body":"Fot <code>T() operator</code> getCollectionName must be <code>static</code>"},{"owner":{"account_id":12546089,"reputation":327,"user_id":9129342,"display_name":"paul035"},"score":0,"creation_date":1701414143,"post_id":59900419,"comment_id":136774992,"body_markdown":"This can be easily achieved with the help of a config class, where we read data from the properties file and pass it to the entity class. For step-by-step implementation, please refer to https://paulsofts.com/how-to-inject-collection-name-in-document-from-properties-file-in-spring-boot/","body":"This can be easily achieved with the help of a config class, where we read data from the properties file and pass it to the entity class. For step-by-step implementation, please refer to <a href=\"https://paulsofts.com/how-to-inject-collection-name-in-document-from-properties-file-in-spring-boot/\" rel=\"nofollow noreferrer\">paulsofts.com/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1580116947,"post_id":59901053,"comment_id":105978449,"body_markdown":"@SlimSoltaniDridi try to remove `@` from SPEL","body":"@SlimSoltaniDridi try to remove <code>@</code> from SPEL"},{"owner":{"display_name":"user3460409"},"score":0,"creation_date":1580119587,"post_id":59901053,"comment_id":105979788,"body_markdown":"Your second point resolved my problem. Thanks a lot. I created another answer to give the final result.","body":"Your second point resolved my problem. Thanks a lot. I created another answer to give the final result."}],"tags":[],"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579886383,"creation_date":1579886383,"answer_id":59901053,"question_id":59900419,"body_markdown":"You may use SpEL (It works)\r\n\r\n1. Use `@Component` class to get `@Value` and use SpEL\r\n\r\n---\r\n\r\n    @Component\r\n    public class CustomMongoCollection {\r\n        \r\n        @Value(&quot;spring.data.mongodb.person-collection&quot;)\r\n        private String person;\r\n\r\n        public void getCollectionName(String coll) {\r\n            if (&quot;person&quot;.equals(coll)) {\r\n                return person;\r\n            } else {\r\n                //setup here\r\n            }\r\n        }\r\n    }\r\n\r\n    @Document(collection = &quot;#{customMongoCollection.getCollectionName(&#39;person&#39;)}&quot;)\r\n    public class PersonEntity {\r\n    \r\n    }\r\n\r\n**Note:** I had problems during unit testing\r\n\r\n---\r\n\r\n2. Use &#39;T&#39; operator\r\n&gt;The special &#39;T&#39; operator can be used to specify an instance of java.lang.Class (the &#39;type&#39;). Static methods are invoked using this operator as well. The StandardEvaluationContext uses a TypeLocator to find types and the StandardTypeLocator (which can be replaced) is built with an understanding of the java.lang package. This means T() references to types within java.lang do not need to be fully qualified, but all other type references must be.\r\n\r\nhttps://docs.spring.io/spring/docs/3.0.x/reference/expressions.html\r\n\r\n    #{T(your.package.CustomMongoCollection).getCollectionName(&#39;person&#39;)}\r\n\r\n**Note:** Now CustomMongoCollection.getCollectionName is `static` method. ","title":"Inject collection name in @Document from spring data mongodb in using a property from application.yml","body":"<p>You may use SpEL (It works)</p>\n\n<ol>\n<li>Use <code>@Component</code> class to get <code>@Value</code> and use SpEL</li>\n</ol>\n\n<hr>\n\n<pre><code>@Component\npublic class CustomMongoCollection {\n\n    @Value(\"spring.data.mongodb.person-collection\")\n    private String person;\n\n    public void getCollectionName(String coll) {\n        if (\"person\".equals(coll)) {\n            return person;\n        } else {\n            //setup here\n        }\n    }\n}\n\n@Document(collection = \"#{customMongoCollection.getCollectionName('person')}\")\npublic class PersonEntity {\n\n}\n</code></pre>\n\n<p><strong>Note:</strong> I had problems during unit testing</p>\n\n<hr>\n\n<ol start=\"2\">\n<li>Use 'T' operator\n\n<blockquote>\n  <p>The special 'T' operator can be used to specify an instance of java.lang.Class (the 'type'). Static methods are invoked using this operator as well. The StandardEvaluationContext uses a TypeLocator to find types and the StandardTypeLocator (which can be replaced) is built with an understanding of the java.lang package. This means T() references to types within java.lang do not need to be fully qualified, but all other type references must be.</p>\n</blockquote></li>\n</ol>\n\n<p><a href=\"https://docs.spring.io/spring/docs/3.0.x/reference/expressions.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/3.0.x/reference/expressions.html</a></p>\n\n<pre><code>#{T(your.package.CustomMongoCollection).getCollectionName('person')}\n</code></pre>\n\n<p><strong>Note:</strong> Now CustomMongoCollection.getCollectionName is <code>static</code> method. </p>\n"},{"tags":[],"owner":{"display_name":"user3460409"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580119305,"creation_date":1580119305,"answer_id":59928811,"question_id":59900419,"body_markdown":"I finally found a way to resolve that in using a part of the answer given by @Valijon and another part from another post on stackoverflow\r\n\r\n    package persistence.mongodb.repositories;\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class PersonRepositoryCustom {\r\n\r\n    private static String collectionName;\r\n\r\n    /**\r\n     * @return the collectionName\r\n     */\r\n    public static String getCollectionName() {\r\n        return collectionName;\r\n    }\r\n\r\n    @Value(&quot;${spring.data.mongodb.person-collection:person}&quot;)\r\n    public void setCollectionName(String collectionNameVariable) {\r\n        collectionName = collectionNameVariable;\r\n    }\r\n\r\n    }\r\n\r\n    @Document(collection = &quot;#{T(mongodb.repositories.PersonRepositoryCustom).getCollectionName() }&quot;)\r\n    public class PersonEntity { ... }","title":"Inject collection name in @Document from spring data mongodb in using a property from application.yml","body":"<p>I finally found a way to resolve that in using a part of the answer given by @Valijon and another part from another post on stackoverflow</p>\n\n<pre><code>package persistence.mongodb.repositories;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class PersonRepositoryCustom {\n\nprivate static String collectionName;\n\n/**\n * @return the collectionName\n */\npublic static String getCollectionName() {\n    return collectionName;\n}\n\n@Value(\"${spring.data.mongodb.person-collection:person}\")\npublic void setCollectionName(String collectionNameVariable) {\n    collectionName = collectionNameVariable;\n}\n\n}\n\n@Document(collection = \"#{T(mongodb.repositories.PersonRepositoryCustom).getCollectionName() }\")\npublic class PersonEntity { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9829253,"reputation":172,"user_id":7281468,"display_name":"Nyck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681697057,"creation_date":1681696712,"answer_id":76031257,"question_id":59900419,"body_markdown":"**In SpEL, using a bean, be sure to use ```@``` before the bean name. This is relevant because if it is missing, SpEL will look for a property of that name instead of a bean. I lost some time before figuring this out.\r\nThe answer of @Valijon and @user3460409 are close to correct, but neither talks about the use of ```@```, instead talking about the ```T``` operator.**\r\n\r\nCreate a class that has a field annotated with the ```@Value``` annotation, getting the property from the file. A bean for this class should be created, in this example I use ```@Component``` for bean auto-generation.\r\n\r\n```\r\n@Component\r\nclass Constants {\r\n    @Value(&quot;${spring.data.mongodb.person-collection}&quot;)\r\n    private String personCollectionName;\r\n\r\n    public String getPersonCollectionName() {\r\n        return this.personCollectionName;\r\n    }\r\n}\r\n```\r\n\r\nNext, in your actual entity class, use SpEL (Spring Expression Language) to fetch the value from the bean of the created class (by default the bean name is the lowercase class name).\r\n```\r\n@Document(collection = &quot;#{@constants.personCollectionName}&quot;)\r\npublic class PersonEntity {\r\n    ...\r\n}\r\n```\r\n\r\n**Again, notice the ```@``` before the bean name.**","title":"Inject collection name in @Document from spring data mongodb in using a property from application.yml","body":"<p><strong>In SpEL, using a bean, be sure to use <code>@</code> before the bean name. This is relevant because if it is missing, SpEL will look for a property of that name instead of a bean. I lost some time before figuring this out.\nThe answer of @Valijon and @user3460409 are close to correct, but neither talks about the use of <code>@</code>, instead talking about the <code>T</code> operator.</strong></p>\n<p>Create a class that has a field annotated with the <code>@Value</code> annotation, getting the property from the file. A bean for this class should be created, in this example I use <code>@Component</code> for bean auto-generation.</p>\n<pre><code>@Component\nclass Constants {\n    @Value(&quot;${spring.data.mongodb.person-collection}&quot;)\n    private String personCollectionName;\n\n    public String getPersonCollectionName() {\n        return this.personCollectionName;\n    }\n}\n</code></pre>\n<p>Next, in your actual entity class, use SpEL (Spring Expression Language) to fetch the value from the bean of the created class (by default the bean name is the lowercase class name).</p>\n<pre><code>@Document(collection = &quot;#{@constants.personCollectionName}&quot;)\npublic class PersonEntity {\n    ...\n}\n</code></pre>\n<p><strong>Again, notice the <code>@</code> before the bean name.</strong></p>\n"}],"owner":{"display_name":"user3460409"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1681697057,"creation_date":1579883548,"question_id":59900419,"body_markdown":"I&#39;d like to name my collection name from a Mongo Collection in using a property from application.yml.\r\n\r\nFor instance, if i got that file :\r\napplication.yml\r\n\r\n    spring.data.mongodb.person-collection: character\r\n\r\nAnd I&#39;d like to inject that property in that Entity: \r\n\r\n    @Document(collection = &quot;@Value(&#39;spring.data.mongodb.person-collection&#39;)&quot;)\r\n    public class PersonEntity {\r\n        ...\r\n    }\r\n\r\nI&#39;d like to use that property because i&#39;ve many environment, who use the same database. I&#39;d like to isolate some collections in function of the environment.\r\n\r\nDo you have any idea how I can resolve that ?\r\n\r\n(I tried with SpEL but I couldn&#39;t resolve that problem).\r\n\r\nEdit : \r\n\r\nI tried to make a workaround in using another bean to inject my property \r\n\r\n    @Component\r\n    public class PersonRepositoryCustom {\r\n\r\n    private static String collectionName;\r\n\r\n    /**\r\n     * @return the collectionName\r\n     */\r\n    public static String getCollectionName() {\r\n        return collectionName;\r\n    }\r\n\r\n    @Value(&quot;${spring.data.mongodb.person-collection:person}&quot;)\r\n    public void setCollectionName(String collectionNameVariable) {\r\n        collectionName = collectionNameVariable;\r\n    }\r\n\r\n    }\r\n\r\nSo I changed my document annotation by : \r\n\r\n    \r\n    @Document(collection = &quot;#{@T(persistence.mongodb.repositories.PersonRepositoryCustom).getCollectionName()}&quot;)\r\n\r\nSO i got that message\r\n\r\n    Caused by: org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;lparen(()&#39;\r\n\tat org.springframework.expression.spel.standard.InternalSpelExpressionParser.doParseExpression(InternalSpelExpressionParser.java:135) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.expression.spel.standard.SpelExpressionParser.doParseExpression(SpelExpressionParser.java:61) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.expression.spel.standard.SpelExpressionParser.doParseExpression(SpelExpressionParser.java:33) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.expression.common.TemplateAwareExpressionParser.parseExpressions(TemplateAwareExpressionParser.java:121) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.expression.common.TemplateAwareExpressionParser.parseTemplate(TemplateAwareExpressionParser.java:62) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.expression.common.TemplateAwareExpressionParser.parseExpression(TemplateAwareExpressionParser.java:49) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.data.mongodb.core.mapping.BasicMongoPersistentEntity.detectExpression(BasicMongoPersistentEntity.java:255) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mongodb.core.mapping.BasicMongoPersistentEntity.&lt;init&gt;(BasicMongoPersistentEntity.java:80) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mongodb.core.mapping.MongoMappingContext.createPersistentEntity(MongoMappingContext.java:90) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mongodb.core.mapping.MongoMappingContext.createPersistentEntity(MongoMappingContext.java:39) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:366) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:248) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:191) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:85) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:73) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mongodb.repository.support.MongoRepositoryFactory.getEntityInformation(MongoRepositoryFactory.java:149) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mongodb.repository.support.MongoRepositoryFactory.getTargetRepository(MongoRepositoryFactory.java:123) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:305) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:211) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean.afterPropertiesSet(MongoRepositoryFactoryBean.java:119) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\t... 22 more\r\n\r\n\r\nI tried it in another way, in using a bean directly : \r\n\r\n    package persistence.mongodb.repositories;\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class PersonRepositoryCustom {\r\n\r\n    private static String collectionName;\r\n\r\n    /**\r\n     * @return the collectionName\r\n     */\r\n    public String getCollectionName() {\r\n        return collectionName;\r\n    }\r\n\r\n    @Value(&quot;${spring.data.mongodb.person-collection:person}&quot;)\r\n    public void setCollectionName(String collectionNameVariable) {\r\n        collectionName = collectionNameVariable;\r\n    }\r\n\r\n    }\r\n\r\nSo i updated my document annotation with the following : \r\n\r\n    @Document(collection = &quot;#{@personRepositoryCustom.getCollectionName()}&quot;)\r\n\r\nAnd i got that message : \r\n\r\n    Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1057E: No bean resolver registered in the context to resolve access to bean  &#39;personRepositoryCustom&#39;","title":"Inject collection name in @Document from spring data mongodb in using a property from application.yml","body":"<p>I'd like to name my collection name from a Mongo Collection in using a property from application.yml.</p>\n\n<p>For instance, if i got that file :\napplication.yml</p>\n\n<pre><code>spring.data.mongodb.person-collection: character\n</code></pre>\n\n<p>And I'd like to inject that property in that Entity: </p>\n\n<pre><code>@Document(collection = \"@Value('spring.data.mongodb.person-collection')\")\npublic class PersonEntity {\n    ...\n}\n</code></pre>\n\n<p>I'd like to use that property because i've many environment, who use the same database. I'd like to isolate some collections in function of the environment.</p>\n\n<p>Do you have any idea how I can resolve that ?</p>\n\n<p>(I tried with SpEL but I couldn't resolve that problem).</p>\n\n<p>Edit : </p>\n\n<p>I tried to make a workaround in using another bean to inject my property </p>\n\n<pre><code>@Component\npublic class PersonRepositoryCustom {\n\nprivate static String collectionName;\n\n/**\n * @return the collectionName\n */\npublic static String getCollectionName() {\n    return collectionName;\n}\n\n@Value(\"${spring.data.mongodb.person-collection:person}\")\npublic void setCollectionName(String collectionNameVariable) {\n    collectionName = collectionNameVariable;\n}\n\n}\n</code></pre>\n\n<p>So I changed my document annotation by : </p>\n\n<pre><code>@Document(collection = \"#{@T(persistence.mongodb.repositories.PersonRepositoryCustom).getCollectionName()}\")\n</code></pre>\n\n<p>SO i got that message</p>\n\n<pre><code>Caused by: org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'lparen(()'\nat org.springframework.expression.spel.standard.InternalSpelExpressionParser.doParseExpression(InternalSpelExpressionParser.java:135) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.expression.spel.standard.SpelExpressionParser.doParseExpression(SpelExpressionParser.java:61) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.expression.spel.standard.SpelExpressionParser.doParseExpression(SpelExpressionParser.java:33) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.expression.common.TemplateAwareExpressionParser.parseExpressions(TemplateAwareExpressionParser.java:121) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.expression.common.TemplateAwareExpressionParser.parseTemplate(TemplateAwareExpressionParser.java:62) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.expression.common.TemplateAwareExpressionParser.parseExpression(TemplateAwareExpressionParser.java:49) ~[spring-expression-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.data.mongodb.core.mapping.BasicMongoPersistentEntity.detectExpression(BasicMongoPersistentEntity.java:255) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mongodb.core.mapping.BasicMongoPersistentEntity.&lt;init&gt;(BasicMongoPersistentEntity.java:80) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mongodb.core.mapping.MongoMappingContext.createPersistentEntity(MongoMappingContext.java:90) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mongodb.core.mapping.MongoMappingContext.createPersistentEntity(MongoMappingContext.java:39) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:366) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:248) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:191) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:85) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:73) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mongodb.repository.support.MongoRepositoryFactory.getEntityInformation(MongoRepositoryFactory.java:149) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mongodb.repository.support.MongoRepositoryFactory.getTargetRepository(MongoRepositoryFactory.java:123) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:305) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.util.Lazy.getNullable(Lazy.java:211) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean.afterPropertiesSet(MongoRepositoryFactoryBean.java:119) ~[spring-data-mongodb-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n... 22 more\n</code></pre>\n\n<p>I tried it in another way, in using a bean directly : </p>\n\n<pre><code>package persistence.mongodb.repositories;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class PersonRepositoryCustom {\n\nprivate static String collectionName;\n\n/**\n * @return the collectionName\n */\npublic String getCollectionName() {\n    return collectionName;\n}\n\n@Value(\"${spring.data.mongodb.person-collection:person}\")\npublic void setCollectionName(String collectionNameVariable) {\n    collectionName = collectionNameVariable;\n}\n\n}\n</code></pre>\n\n<p>So i updated my document annotation with the following : </p>\n\n<pre><code>@Document(collection = \"#{@personRepositoryCustom.getCollectionName()}\")\n</code></pre>\n\n<p>And i got that message : </p>\n\n<pre><code>Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1057E: No bean resolver registered in the context to resolve access to bean  'personRepositoryCustom'\n</code></pre>\n"},{"tags":["java","mysql","database","netbeans","mariadb"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1681694564,"post_id":76031130,"comment_id":134092924,"body_markdown":"Welcome to Stack Overflow.  Is ```id``` an integer?  Why is there the reserved word ```TABLE```?","body":"Welcome to Stack Overflow.  Is <code>id</code> an integer?  Why is there the reserved word <code>TABLE</code>?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1681694705,"post_id":76031130,"comment_id":134092933,"body_markdown":"You should also be making use of [`PreparedStatement`](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html)","body":"You should also be making use of <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\"><code>PreparedStatement</code></a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1681695388,"post_id":76031130,"comment_id":134092996,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"owner":{"account_id":28324809,"reputation":11,"user_id":21659991,"display_name":"Rafi Raihan Ikbar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681695817,"answer_count":0,"score":1,"last_activity_date":1681694434,"creation_date":1681694434,"question_id":76031130,"body_markdown":"[warning image](https://i.stack.imgur.com/DAHTY.png)\r\n\r\ni keep getting this message in netbeans while doin project for collage\r\n\r\nhow to fix it?\r\n\r\n\r\n```\r\ntry{\r\n            stmt = conn.createStatement();\r\n            \r\n            int stdId = Integer.parseInt(id.getText());\r\n            \r\n            String sql = &quot;SELECT * FROM STUDENT TABLE WHERE id =&#39;&quot;+stdId+&quot;&#39; &quot;;\r\n            \r\n            rs = stmt.executeQuery(sql);\r\n            \r\n            if(rs.next()){\r\n                \r\n                name.setText(rs.getString(&quot;stdName&quot;));\r\n                FatherName.setText(rs.getString(&quot;stdFatherName&quot;));\r\n                City.setText(rs.getString(&quot;stdCity&quot;));\r\n                blood.setText(rs.getString(&quot;stdBlood&quot;));\r\n                phone.setText(rs.getString(&quot;stdPhone&quot;));\r\n                stdkelas.setText(String.format(&quot;%s&quot;,rs.getInt(&quot;Class&quot;)));\r\n                \r\n            }else{\r\n                JOptionPane.showMessageDialog(null,&quot;Record Not Found&quot;);\r\n            }\r\n        }catch(HeadlessException | NumberFormatException | SQLException e){JOptionPane.showMessageDialog(null,e);}\r\n```\r\n\r\n\r\ni tried to found and solution and i expect people will help","title":"Keep getting warning java.sql.SQLSyntaxErrorException","body":"<p><a href=\"https://i.stack.imgur.com/DAHTY.png\" rel=\"nofollow noreferrer\">warning image</a></p>\n<p>i keep getting this message in netbeans while doin project for collage</p>\n<p>how to fix it?</p>\n<pre><code>try{\n            stmt = conn.createStatement();\n            \n            int stdId = Integer.parseInt(id.getText());\n            \n            String sql = &quot;SELECT * FROM STUDENT TABLE WHERE id ='&quot;+stdId+&quot;' &quot;;\n            \n            rs = stmt.executeQuery(sql);\n            \n            if(rs.next()){\n                \n                name.setText(rs.getString(&quot;stdName&quot;));\n                FatherName.setText(rs.getString(&quot;stdFatherName&quot;));\n                City.setText(rs.getString(&quot;stdCity&quot;));\n                blood.setText(rs.getString(&quot;stdBlood&quot;));\n                phone.setText(rs.getString(&quot;stdPhone&quot;));\n                stdkelas.setText(String.format(&quot;%s&quot;,rs.getInt(&quot;Class&quot;)));\n                \n            }else{\n                JOptionPane.showMessageDialog(null,&quot;Record Not Found&quot;);\n            }\n        }catch(HeadlessException | NumberFormatException | SQLException e){JOptionPane.showMessageDialog(null,e);}\n</code></pre>\n<p>i tried to found and solution and i expect people will help</p>\n"},{"tags":["java","spring-boot","backend","request-mapping"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1677569258,"post_id":75588965,"comment_id":133358717,"body_markdown":"What does the server log say?","body":"What does the server log say?"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":1,"creation_date":1677569660,"post_id":75588965,"comment_id":133358807,"body_markdown":"Use `@GetMapping` instead of RequestMapping, or else, specify the type of REST Request i.e. RequestMethod.POST or RequestMethod.GET if you want to use `@RequestMapping` annotation ! If the issue still persist, do post, your POM.xml file ! Also, since the browser initiates a request which is by default GET in nature, but it may not be a good programming practice","body":"Use <code>@GetMapping</code> instead of RequestMapping, or else, specify the type of REST Request i.e. RequestMethod.POST or RequestMethod.GET if you want to use <code>@RequestMapping</code> annotation ! If the issue still persist, do post, your POM.xml file ! Also, since the browser initiates a request which is by default GET in nature, but it may not be a good programming practice"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1677573817,"post_id":75588965,"comment_id":133359839,"body_markdown":"@Harsh `method=RequestMethod.GET` is the default. But yes `@GetMapping` would be better.","body":"@Harsh <code>method=RequestMethod.GET</code> is the default. But yes <code>@GetMapping</code> would be better."},{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677598711,"post_id":75588965,"comment_id":133367572,"body_markdown":"@Harsh I tried that and that did not work the updated code file and the pom file are all on github repo linked in the question.","body":"@Harsh I tried that and that did not work the updated code file and the pom file are all on github repo linked in the question."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1677667712,"post_id":75588965,"comment_id":133381726,"body_markdown":"What are you using the `spring-dotenv` dependency for? Try removing it.","body":"What are you using the <code>spring-dotenv</code> dependency for? Try removing it."},{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677682770,"post_id":75588965,"comment_id":133386494,"body_markdown":"@ValerijDobler I tried that and it still doesnt work i created a new class and made is it controller and no other class is controller and the mapping still doesnt work.","body":"@ValerijDobler I tried that and it still doesnt work i created a new class and made is it controller and no other class is controller and the mapping still doesnt work."}],"answers":[{"comments":[{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677598620,"post_id":75589140,"comment_id":133367540,"body_markdown":"I rearranged and did what you said but i still get the white error page with /error mapping information. The updated code is on the github repo linked in the question above.","body":"I rearranged and did what you said but i still get the white error page with /error mapping information. The updated code is on the github repo linked in the question above."},{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677604213,"post_id":75589140,"comment_id":133369345,"body_markdown":"i updated the question perhaps it gives enough insight for you to help me","body":"i updated the question perhaps it gives enough insight for you to help me"}],"tags":[],"owner":{"account_id":20168591,"reputation":58,"user_id":14791907,"display_name":"Grigor"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677570283,"creation_date":1677570283,"answer_id":75589140,"question_id":75588965,"body_markdown":"put this \r\n\r\n@RequestMapping(&quot;/&quot;)\r\non top of the class and rename it to movies\r\nthis method can look like this\r\n\r\n    @GetMapping\r\n    public String allMovies(){\r\n        return &quot;All Movies&quot;;\r\n    }\r\n\r\n","title":"SpringBoot Request Mapping not working as expected","body":"<p>put this</p>\n<p>@RequestMapping(&quot;/&quot;)\non top of the class and rename it to movies\nthis method can look like this</p>\n<pre><code>@GetMapping\npublic String allMovies(){\n    return &quot;All Movies&quot;;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677598659,"post_id":75589540,"comment_id":133367553,"body_markdown":"I rearranged and did what you said but i still get the white error page with /error mapping information. The updated code is on the github repo linked in the question above.","body":"I rearranged and did what you said but i still get the white error page with /error mapping information. The updated code is on the github repo linked in the question above."},{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677604260,"post_id":75589540,"comment_id":133369355,"body_markdown":"I updated the question maybe it gives enough clues for you guys to help me.","body":"I updated the question maybe it gives enough clues for you guys to help me."}],"tags":[],"owner":{"account_id":25654570,"reputation":111,"user_id":19421233,"display_name":"Vidz Here"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681694389,"creation_date":1677572941,"answer_id":75589540,"question_id":75588965,"body_markdown":"@RequestMapping is both a a class level &amp; method level annotation.\r\n At class level ,it is used to create base URI.\r\n Every URI specified in method level annotation is appended to base URI \r\n specified on the top of the class.The URI specified at method level is added to clearly define or identify that the specific method of the class has been made request to.\r\nIn addition you can use ,path parameters, method=get/post/put etc attributes in method level annotation. The new way of implementing method level annotation is @GetMapping/@PostMapping.\r\n\r\nYou need to specify baseURI @ class level &amp; Can use @Getmapping or @RequestMapping(method = RequestMethod.GET) at method level.\r\n\r\nMissing class level annotation is causing the issue.\r\n\r\n   \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class MovieController {\r\n   \r\n    @GetMapping\r\n    public String allMovies(){\r\n        return &quot;All Movies&quot;;\r\n    }\r\n}\r\n```","title":"SpringBoot Request Mapping not working as expected","body":"<p>@RequestMapping is both a a class level &amp; method level annotation.\nAt class level ,it is used to create base URI.\nEvery URI specified in method level annotation is appended to base URI\nspecified on the top of the class.The URI specified at method level is added to clearly define or identify that the specific method of the class has been made request to.\nIn addition you can use ,path parameters, method=get/post/put etc attributes in method level annotation. The new way of implementing method level annotation is @GetMapping/@PostMapping.</p>\n<p>You need to specify baseURI @ class level &amp; Can use @Getmapping or @RequestMapping(method = RequestMethod.GET) at method level.</p>\n<p>Missing class level annotation is causing the issue.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class MovieController {\n   \n    @GetMapping\n    public String allMovies(){\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677612454,"post_id":75595553,"comment_id":133371548,"body_markdown":"Nope i do add the /movies every time i recorded the code running on my machine to show the issue. https://www.veed.io/view/3b14100c-c541-4d0d-9ffd-477439c3747e?panel=share I think i might just delete it from the pc and pull it from github again.","body":"Nope i do add the /movies every time i recorded the code running on my machine to show the issue. <a href=\"https://www.veed.io/view/3b14100c-c541-4d0d-9ffd-477439c3747e?panel=share\" rel=\"nofollow noreferrer\">veed.io/view/3b14100c-c541-4d0d-9ffd-477439c3747e?panel=shar&zwnj;&#8203;e</a> I think i might just delete it from the pc and pull it from github again."},{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677612919,"post_id":75595553,"comment_id":133371658,"body_markdown":"Even making a new project by pulling the current one from github and running doesnt fix the issue.","body":"Even making a new project by pulling the current one from github and running doesnt fix the issue."},{"owner":{"account_id":25654570,"reputation":111,"user_id":19421233,"display_name":"Vidz Here"},"score":0,"creation_date":1677645933,"post_id":75595553,"comment_id":133377237,"body_markdown":"Your main application class is not a Rest Controller .  Remove @RequestMapping(&quot;/test&quot;) &amp; root method from there. If you need that code ,create separate TestController class ,just Like MoviesController. Clean &amp; Rebuild the code. It will work","body":"Your main application class is not a Rest Controller .  Remove @RequestMapping(&quot;/test&quot;) &amp; root method from there. If you need that code ,create separate TestController class ,just Like MoviesController. Clean &amp; Rebuild the code. It will work"},{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677681588,"post_id":75595553,"comment_id":133386055,"body_markdown":"Yah i understand the main class is not Controller i was just trying to see if its working when i do it in that class vs the controller class i wrote","body":"Yah i understand the main class is not Controller i was just trying to see if its working when i do it in that class vs the controller class i wrote"}],"tags":[],"owner":{"account_id":25654570,"reputation":111,"user_id":19421233,"display_name":"Vidz Here"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677606114,"creation_date":1677606114,"answer_id":75595553,"question_id":75588965,"body_markdown":"\r\nYour code is working fine. You need to mention movies in url like this &quot;http://localhost:8080/movies&quot;. You are accessing &quot;http://localhost:8080/&quot;. Since your url is incomplete ,you are getting default error page \r\n\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kWWDs.png","title":"SpringBoot Request Mapping not working as expected","body":"<p>Your code is working fine. You need to mention movies in url like this &quot;http://localhost:8080/movies&quot;. You are accessing &quot;http://localhost:8080/&quot;. Since your url is incomplete ,you are getting default error page</p>\n<p><a href=\"https://i.stack.imgur.com/kWWDs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kWWDs.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677682055,"post_id":75601606,"comment_id":133386234,"body_markdown":"Yes i only put that in the main to test if the issue was only happening outside of the main class and that seems to be the case. If you look at the bottom of the question i have a video running the project and tryin to acess the url&#39;s and it doesnt work giving me an error. At this point i am so confused honestly.","body":"Yes i only put that in the main to test if the issue was only happening outside of the main class and that seems to be the case. If you look at the bottom of the question i have a video running the project and tryin to acess the url&#39;s and it doesnt work giving me an error. At this point i am so confused honestly."},{"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"score":0,"creation_date":1677682845,"post_id":75601606,"comment_id":133386518,"body_markdown":"Check the github and you can try removing the mongodb dependency and running it to see if its a machine issue because i am starting to think it is","body":"Check the github and you can try removing the mongodb dependency and running it to see if its a machine issue because i am starting to think it is"}],"tags":[],"owner":{"account_id":10447931,"reputation":11,"user_id":7702460,"display_name":"Daria"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677662103,"creation_date":1677662103,"answer_id":75601606,"question_id":75588965,"body_markdown":"Try to split the second class \r\n\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    @RequestMapping(&quot;/abc&quot;)\r\n    public class MovieReviewApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MovieReviewApplication.class, args);\r\n    \r\n        }\r\n        @GetMapping\r\n        public String root(){\r\n            return &quot;Movies&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\ninto two different classes, first one is for running spring boot application with @SpringBootApplication annotation, BUT without any mapping methods, \r\n\r\n    @SpringBootApplication\r\n    public class MovieReviewApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MovieReviewApplication.class, args);\r\n    \r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\nand second new one only with mapping\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/test&quot;)\r\n    public class TestController {\r\n    \r\n        @GetMapping\r\n        public String oneOfMyControllerMethod(){\r\n            return &quot;Movies&quot;;\r\n        }\r\n    }\r\n\r\nand test it locally","title":"SpringBoot Request Mapping not working as expected","body":"<p>Try to split the second class</p>\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(&quot;/abc&quot;)\npublic class MovieReviewApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MovieReviewApplication.class, args);\n\n    }\n    @GetMapping\n    public String root(){\n        return &quot;Movies&quot;;\n    }\n}\n</code></pre>\n<p>into two different classes, first one is for running spring boot application with @SpringBootApplication annotation, BUT without any mapping methods,</p>\n<pre><code>@SpringBootApplication\npublic class MovieReviewApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MovieReviewApplication.class, args);\n\n    }\n\n}\n</code></pre>\n<p>and second new one only with mapping</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/test&quot;)\npublic class TestController {\n\n    @GetMapping\n    public String oneOfMyControllerMethod(){\n        return &quot;Movies&quot;;\n    }\n}\n</code></pre>\n<p>and test it locally</p>\n"},{"comments":[{"owner":{"account_id":2708451,"reputation":674,"user_id":2337522,"display_name":"Sky"},"score":0,"creation_date":1678288433,"post_id":75607431,"comment_id":133503974,"body_markdown":"It&#39;s good that you share how you solved the problem. However, in this case it might have been better to update your question (add a section with this text), or to write it as a simple comment to your question.","body":"It&#39;s good that you share how you solved the problem. However, in this case it might have been better to update your question (add a section with this text), or to write it as a simple comment to your question."}],"tags":[],"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677693941,"creation_date":1677693941,"answer_id":75607431,"question_id":75588965,"body_markdown":"I ended up Just restarting with a new project and choosing the same dependencies and it seems to work. Not too sure what exactly was causing the issue but it i suspect it was not a programming issue.","title":"SpringBoot Request Mapping not working as expected","body":"<p>I ended up Just restarting with a new project and choosing the same dependencies and it seems to work. Not too sure what exactly was causing the issue but it i suspect it was not a programming issue.</p>\n"}],"owner":{"account_id":13309933,"reputation":105,"user_id":9608531,"display_name":"k4b00m"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75589540,"answer_count":5,"score":0,"last_activity_date":1681694389,"creation_date":1677569098,"question_id":75588965,"body_markdown":"I am new to spring boot and trying to make a starter application ran into this issue, the code is simple: \r\n``` Java\r\n@RestController\r\npublic class MovieController {\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String allMovies(){\r\n        return &quot;All Movies&quot;;\r\n    }\r\n}\r\n```\r\nI would expect this code to display All Movies when i go to localhoast:8080/ but it just shows me the boilerplate no explicit mapping for error. This is a fresh project i changed nothing during the while process i just have some other classes but none of them interfere with this class. The project is here: https://github.com/hozaifaO/Movie-Review . Another note to add is that i have a similar boiler plate starter project with the same code and that one works the only difference is that this one has mongodb as a dependency. Any help is appreciated.\r\n\r\nI was expecting a string msg but i was greeted by boilerplate error mapping page.\r\n\r\nUPDATE: Changing the code to this did not work.\r\n\r\n``` Java\r\n@RestController\r\n@RequestMapping(&quot;/movies&quot;)\r\npublic class MovieController {\r\n    @GetMapping()\r\n    public String allMovies(){\r\n        return &quot;All Movies&quot;;\r\n    }\r\n}\r\n```\r\nHowever, i did try to do this in a different class so i made the mapping happen in the Application class and it works if i do it in that class but i dont want to. Here is the code from that class,\r\n\r\n``` Java\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(&quot;/abc&quot;)\r\npublic class MovieReviewApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MovieReviewApplication.class, args);\r\n\r\n    }\r\n    @GetMapping\r\n    public String root(){\r\n        return &quot;Movies&quot;;\r\n    }\r\n}\r\n```\r\nAll the code can be seen on the Github page link above including the pom file.\r\nVideo of me running the software and showing whats wrong https://www.veed.io/view/3b14100c-c541-4d0d-9ffd-477439c3747e?panel=share","title":"SpringBoot Request Mapping not working as expected","body":"<p>I am new to spring boot and trying to make a starter application ran into this issue, the code is simple:</p>\n<pre><code>@RestController\npublic class MovieController {\n    @RequestMapping(&quot;/&quot;)\n    public String allMovies(){\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n<p>I would expect this code to display All Movies when i go to localhoast:8080/ but it just shows me the boilerplate no explicit mapping for error. This is a fresh project i changed nothing during the while process i just have some other classes but none of them interfere with this class. The project is here: <a href=\"https://github.com/hozaifaO/Movie-Review\" rel=\"nofollow noreferrer\">https://github.com/hozaifaO/Movie-Review</a> . Another note to add is that i have a similar boiler plate starter project with the same code and that one works the only difference is that this one has mongodb as a dependency. Any help is appreciated.</p>\n<p>I was expecting a string msg but i was greeted by boilerplate error mapping page.</p>\n<p>UPDATE: Changing the code to this did not work.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/movies&quot;)\npublic class MovieController {\n    @GetMapping()\n    public String allMovies(){\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n<p>However, i did try to do this in a different class so i made the mapping happen in the Application class and it works if i do it in that class but i dont want to. Here is the code from that class,</p>\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(&quot;/abc&quot;)\npublic class MovieReviewApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MovieReviewApplication.class, args);\n\n    }\n    @GetMapping\n    public String root(){\n        return &quot;Movies&quot;;\n    }\n}\n</code></pre>\n<p>All the code can be seen on the Github page link above including the pom file.\nVideo of me running the software and showing whats wrong <a href=\"https://www.veed.io/view/3b14100c-c541-4d0d-9ffd-477439c3747e?panel=share\" rel=\"nofollow noreferrer\">https://www.veed.io/view/3b14100c-c541-4d0d-9ffd-477439c3747e?panel=share</a></p>\n"},{"tags":["java","monitoring","cdi","java-melody"],"answers":[{"tags":[],"owner":{"account_id":41096,"reputation":1723,"user_id":119366,"display_name":"evernat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681694188,"creation_date":1681694188,"answer_id":76031113,"question_id":75735698,"body_markdown":"See https://github.com/javamelody/javamelody/issues/1149\r\n\r\nFixed in javamelody 1.94.0","title":"JavaMelody: @net.bull.javamelody.Monitored annotation not showing Statistics for Classes or Methods","body":"<p>See <a href=\"https://github.com/javamelody/javamelody/issues/1149\" rel=\"nofollow noreferrer\">https://github.com/javamelody/javamelody/issues/1149</a></p>\n<p>Fixed in javamelody 1.94.0</p>\n"}],"owner":{"account_id":28016110,"reputation":1,"user_id":21397843,"display_name":"mabasha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681694188,"creation_date":1678810245,"question_id":75735698,"body_markdown":"we followed the JavaMelody User Guide https://github.com/javamelody/javamelody/wiki/UserGuide, and annotated a method of our CDI Bean with `@SessionScoped` accordingly (`@net.bull.javamelody.Monitored`) as described in the **Session Business facades (ejb-jar.xml file if EJB3) or CDI** session of the User Guide. We are using JavaMelody Version 1.92.0\r\n\r\nHowever, when we deploy the application and call the `/monitoring` endpoint, everything is displayed, but no information on the monitored method. Also, placing the annotation on the class has no effects, i.e., no statistics.\r\n\r\nAre there other prerequisites to meet in addition to get the statistics to be collected and displayed?\r\nI will appreciate any help, please.\r\n\r\nWe did just as described above; annotate the method of the CDI Bean with `@net.bull.javamelody.Monitored`","title":"JavaMelody: @net.bull.javamelody.Monitored annotation not showing Statistics for Classes or Methods","body":"<p>we followed the JavaMelody User Guide <a href=\"https://github.com/javamelody/javamelody/wiki/UserGuide\" rel=\"nofollow noreferrer\">https://github.com/javamelody/javamelody/wiki/UserGuide</a>, and annotated a method of our CDI Bean with <code>@SessionScoped</code> accordingly (<code>@net.bull.javamelody.Monitored</code>) as described in the <strong>Session Business facades (ejb-jar.xml file if EJB3) or CDI</strong> session of the User Guide. We are using JavaMelody Version 1.92.0</p>\n<p>However, when we deploy the application and call the <code>/monitoring</code> endpoint, everything is displayed, but no information on the monitored method. Also, placing the annotation on the class has no effects, i.e., no statistics.</p>\n<p>Are there other prerequisites to meet in addition to get the statistics to be collected and displayed?\nI will appreciate any help, please.</p>\n<p>We did just as described above; annotate the method of the CDI Bean with <code>@net.bull.javamelody.Monitored</code></p>\n"},{"tags":["java","linux","chmod","chown","debian-based"],"comments":[{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":2,"creation_date":1681693451,"post_id":76031076,"comment_id":134092807,"body_markdown":"This could be a symptom of running code with unnecessarily elevated privileges. Can you run it as `admin`?","body":"This could be a symptom of running code with unnecessarily elevated privileges. Can you run it as <code>admin</code>?"},{"owner":{"account_id":23386636,"reputation":15,"user_id":17451881,"display_name":"Ricardo"},"score":0,"creation_date":1681693964,"post_id":76031076,"comment_id":134092873,"body_markdown":"@JohnKugelman thanks for your reply.\nI already ran the code as admin instead of root, it didn&#39;t work.","body":"@JohnKugelman thanks for your reply. I already ran the code as admin instead of root, it didn&#39;t work."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1681699738,"post_id":76031076,"comment_id":134093398,"body_markdown":"@Ricardo How were you able to tell that it didn’t work?","body":"@Ricardo How were you able to tell that it didn’t work?"}],"owner":{"account_id":23386636,"reputation":15,"user_id":17451881,"display_name":"Ricardo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681693475,"creation_date":1681693236,"question_id":76031076,"body_markdown":"I have different .jar files that create a directory with files inside, the problem is that this directory and these files are created with the wrong owner (**root**) and I&#39;d like that by default the owner is **admin**. Is there any use of chmod or chown to change this?\r\n\r\n\r\n\r\nThe owner of the directory and files change with some command and thus not be granting permissions each time a file generated by a .jar is created.\r\n\r\nI tried to use chmod g+rwxs /dirname but it doesn&#39;t work ...","title":"Set default owner / permission to new files on Linux","body":"<p>I have different .jar files that create a directory with files inside, the problem is that this directory and these files are created with the wrong owner (<strong>root</strong>) and I'd like that by default the owner is <strong>admin</strong>. Is there any use of chmod or chown to change this?</p>\n<p>The owner of the directory and files change with some command and thus not be granting permissions each time a file generated by a .jar is created.</p>\n<p>I tried to use chmod g+rwxs /dirname but it doesn't work ...</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681664216,"post_id":76029133,"comment_id":134089417,"body_markdown":"Define &quot;better&quot;? You can cast a long to an int, potentially losing values (or wrapping to negative values) or you could use `Math#toIntExact` which will throw an exception if the value cannot be represented with 32 bits.","body":"Define &quot;better&quot;? You can cast a long to an int, potentially losing values (or wrapping to negative values) or you could use <code>Math#toIntExact</code> which will throw an exception if the value cannot be represented with 32 bits."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1681664640,"post_id":76029133,"comment_id":134089477,"body_markdown":"ok, I will use casting","body":"ok, I will use casting"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681673675,"post_id":76029133,"comment_id":134090748,"body_markdown":"[`Math.toIntExact()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Math.html#toIntExact(long))? Otherwise no. The obvious alternative, `ChronoUnit.SECONDS.between()`, returns a `long` too.","body":"<a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Math.html#toIntExact(long)\" rel=\"nofollow noreferrer\"><code>Math.toIntExact()</code></a>? Otherwise no. The obvious alternative, <code>ChronoUnit.SECONDS.between()</code>, returns a <code>long</code> too."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681691113,"post_id":76029133,"comment_id":134092577,"body_markdown":"By the way, I would use `toSeconds()` rather than `getSeconds`. The getter method was one of the few design flaws in *java.time* built into Java 8, a method exposing an implementation detail ([internally](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/Duration.java), a `Duration` is a pair of `long` integers, a count of seconds, &amp; a count of nanos). Corrected in Java 9; `toSeconds` method follows the [naming conventions](https://docs.oracle.com/javase/tutorial/datetime/overview/naming.html) per the other `to…` methods. So `getSeconds` should be deprecated.","body":"By the way, I would use <code>toSeconds()</code> rather than <code>getSeconds</code>. The getter method was one of the few design flaws in <i>java.time</i> built into Java 8, a method exposing an implementation detail (<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/Duration.java\" rel=\"nofollow noreferrer\">internally</a>, a <code>Duration</code> is a pair of <code>long</code> integers, a count of seconds, &amp; a count of nanos). Corrected in Java 9; <code>toSeconds</code> method follows the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/overview/naming.html\" rel=\"nofollow noreferrer\">naming conventions</a> per the other <code>to…</code> methods. So <code>getSeconds</code> should be deprecated."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681690845,"creation_date":1681668719,"answer_id":76029533,"question_id":76029133,"body_markdown":"No; it is trivially imaginable that the gap, in seconds, between 2 OffsetDateTime objects is more than 2^31-1 seconds. (more than about 4 billion).\r\n\r\nIf you __know__ it cannot possibly be such a large gap, just cast to int. The somewhat ugly &#39;int&#39; cast is your visible sign in the code that somebody made an assumption that it won&#39;t be a problem. In other words, that cast is a GOOD thing.\r\n\r\nIf you&#39;re not quite sure and you want an exception instead, you have to program that. Fortunately, Java has a built-in [function for this][1]:\r\n\r\n```\r\nreturn java.lang.Math.toIntExact(Duration.between....);\r\n```\r\n\r\nThat will throw if the returned amount is so large, casting it to an `int` would [overflow][2] the value.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#toIntExact(long)\r\n  [2]: https://en.wikipedia.org/wiki/Integer_overflow","title":"Migrate org.joda.time to java.time","body":"<p>No; it is trivially imaginable that the gap, in seconds, between 2 OffsetDateTime objects is more than 2^31-1 seconds. (more than about 4 billion).</p>\n<p>If you <strong>know</strong> it cannot possibly be such a large gap, just cast to int. The somewhat ugly 'int' cast is your visible sign in the code that somebody made an assumption that it won't be a problem. In other words, that cast is a GOOD thing.</p>\n<p>If you're not quite sure and you want an exception instead, you have to program that. Fortunately, Java has a built-in <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#toIntExact(long)\" rel=\"nofollow noreferrer\">function for this</a>:</p>\n<pre><code>return java.lang.Math.toIntExact(Duration.between....);\n</code></pre>\n<p>That will throw if the returned amount is so large, casting it to an <code>int</code> would <a href=\"https://en.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\">overflow</a> the value.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1681940412,"answer_count":1,"score":-2,"last_activity_date":1681690845,"creation_date":1681664057,"question_id":76029133,"body_markdown":"\r\n\r\nI need to migrate also this code:\r\n\r\n    private int calculate(OffsetDateTime expirationDate) {\r\n        return Seconds.secondsBetween(DateTime.now(), expirationDate).getSeconds();\r\n      }\r\n\r\nto this code:\r\n    \r\n    private int calculate(OffsetDateTime expirationDate) {\r\n        return Duration.between(OffsetDateTime.now(), expirationDate).getSeconds();\r\n      }\r\n\r\n`getSeconds` returns long. is there some better way to get int?\r\n\r\n","title":"Migrate org.joda.time to java.time","body":"<p>I need to migrate also this code:</p>\n<pre><code>private int calculate(OffsetDateTime expirationDate) {\n    return Seconds.secondsBetween(DateTime.now(), expirationDate).getSeconds();\n  }\n</code></pre>\n<p>to this code:</p>\n<pre><code>private int calculate(OffsetDateTime expirationDate) {\n    return Duration.between(OffsetDateTime.now(), expirationDate).getSeconds();\n  }\n</code></pre>\n<p><code>getSeconds</code> returns long. is there some better way to get int?</p>\n"},{"tags":["java","windows","ssl","ssl-certificate","certificate"],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681690367,"creation_date":1681690367,"question_id":76030939,"body_markdown":"I am trying to get the trusted certificates from Windows programatically within Java. I am already able to get the following `Personal` and `Trusted Root Certification Authorities` which can also be found in `Certlm` as shown below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```java\r\nimport java.security.KeyStore;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // get Trusted Root Certification Authorities\r\n        KeyStore root = KeyStore.getInstance(&quot;Windows-ROOT&quot;);\r\n        root.load(null, null);\r\n\r\n        // get Personal\r\n        KeyStore my = KeyStore.getInstance(&quot;Windows-MY&quot;);\r\n        my.load(null, null);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nHowever I am not able to get `Third Party Root Certification Authorities`. Any idea if there is another special keystore available like the others to get access to those certificates or a different mechanisme to obtain those certificates?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ensI.png","title":"Access Third Party Root Certification Authorities of Windows from Java","body":"<p>I am trying to get the trusted certificates from Windows programatically within Java. I am already able to get the following <code>Personal</code> and <code>Trusted Root Certification Authorities</code> which can also be found in <code>Certlm</code> as shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/5ensI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ensI.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.KeyStore;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n        // get Trusted Root Certification Authorities\n        KeyStore root = KeyStore.getInstance(&quot;Windows-ROOT&quot;);\n        root.load(null, null);\n\n        // get Personal\n        KeyStore my = KeyStore.getInstance(&quot;Windows-MY&quot;);\n        my.load(null, null);\n    }\n    \n}\n</code></pre>\n<p>However I am not able to get <code>Third Party Root Certification Authorities</code>. Any idea if there is another special keystore available like the others to get access to those certificates or a different mechanisme to obtain those certificates?</p>\n"},{"tags":["java","swing","timer","bufferedimage","paintcomponent"],"answers":[{"comments":[{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345613826,"post_id":12066734,"comment_id":16117216,"body_markdown":"Hello Mr. Hovercraft Full Of Eels thanks for your advice i am trying it now and let you know.","body":"Hello Mr. Hovercraft Full Of Eels thanks for your advice i am trying it now and let you know."},{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345613915,"post_id":12066734,"comment_id":16117239,"body_markdown":"Yes i know it Mr. Hovercraft , i wrote my first comment to Mr. Mad programmer.","body":"Yes i know it Mr. Hovercraft , i wrote my first comment to Mr. Mad programmer."},{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345614032,"post_id":12066734,"comment_id":16117271,"body_markdown":"Mr. HoverCraft can you give me a link of any working example you have suggested me in the comment.","body":"Mr. HoverCraft can you give me a link of any working example you have suggested me in the comment."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1345614102,"post_id":12066734,"comment_id":16117295,"body_markdown":"@Mihir: nope I can&#39;t, but it shouldn&#39;t be hard to try to do.","body":"@Mihir: nope I can&#39;t, but it shouldn&#39;t be hard to try to do."},{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345614125,"post_id":12066734,"comment_id":16117297,"body_markdown":"I did the removal of comment , i posted it by mistake on your answer.","body":"I did the removal of comment , i posted it by mistake on your answer."},{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345614269,"post_id":12066734,"comment_id":16117337,"body_markdown":"actually the byte i am getting is from TragetDataLine&#39;s buffer which is the numeric values of samples of recorded voice and i am trying to draw that bytes on the panel so i can construct a wave form in real time using those values.everything works fine but failed in painting on the panel.","body":"actually the byte i am getting is from TragetDataLine&#39;s buffer which is the numeric values of samples of recorded voice and i am trying to draw that bytes on the panel so i can construct a wave form in real time using those values.everything works fine but failed in painting on the panel."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1345614385,"post_id":12066734,"comment_id":16117364,"body_markdown":"Ah, perhaps what you want to do is to only draw that which is new, and leave the old graphics data unchanged. You could still use a BufferedImage for this I think.","body":"Ah, perhaps what you want to do is to only draw that which is new, and leave the old graphics data unchanged. You could still use a BufferedImage for this I think."},{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345614574,"post_id":12066734,"comment_id":16117411,"body_markdown":"even if comment repaint line  in the TimerDrawing class it still freezes the GUI and my whole application.","body":"even if comment repaint line  in the TimerDrawing class it still freezes the GUI and my whole application."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1345614954,"post_id":12066734,"comment_id":16117507,"body_markdown":"Then it&#39;s your other methods that are causing your problems as MadProgrammer suggests. Time to look into using a little background threading. 1+ to him.","body":"Then it&#39;s your other methods that are causing your problems as MadProgrammer suggests. Time to look into using a little background threading. 1+ to him."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345613056,"creation_date":1345613056,"answer_id":12066734,"question_id":12066698,"body_markdown":"I&#39;m guessing that your wave drawing code, which is being called from within a `paintComponent(...)` method is taking longer than you think and is tying up both Swing painting and the EDT. \r\n\r\nIf this were my code, I&#39;d consider drawing my waves to BufferedImages *once*, making ImageIcons from these images and then simply swapping icons in my Swing Timer.","title":"GUI freezes when drawing Wave from animation on JPanel though i used Swing Timer","body":"<p>I'm guessing that your wave drawing code, which is being called from within a <code>paintComponent(...)</code> method is taking longer than you think and is tying up both Swing painting and the EDT. </p>\n\n<p>If this were my code, I'd consider drawing my waves to BufferedImages <em>once</em>, making ImageIcons from these images and then simply swapping icons in my Swing Timer.</p>\n"},{"comments":[{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345614083,"post_id":12066748,"comment_id":16117287,"body_markdown":"Hello Mr. Mad Programmer i tried to paint it each every seconds but it freezes.i tried to paint also every 8th sample rather your suggestion four but no luck.","body":"Hello Mr. Mad Programmer i tried to paint it each every seconds but it freezes.i tried to paint also every 8th sample rather your suggestion four but no luck."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1345614240,"post_id":12066748,"comment_id":16117326,"body_markdown":"Painting every second probably isn&#39;t the best solution, given that it can more then a second to paint (my initial test was 2.18 seconds)","body":"Painting every second probably isn&#39;t the best solution, given that it can more then a second to paint (my initial test was 2.18 seconds)"},{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345614356,"post_id":12066748,"comment_id":16117360,"body_markdown":"so , please give me the solution or it is best if you can give me any working example link , you r talking about.","body":"so , please give me the solution or it is best if you can give me any working example link , you r talking about."},{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345614604,"post_id":12066748,"comment_id":16117419,"body_markdown":"even if comment repaint line  in the TimerDrawing class it still freezes the GUI and my whole application.","body":"even if comment repaint line  in the TimerDrawing class it still freezes the GUI and my whole application."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1345615741,"post_id":12066748,"comment_id":16117694,"body_markdown":"The I&#39;d suggest that&#39;s not the problem area then.","body":"The I&#39;d suggest that&#39;s not the problem area then."},{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345616376,"post_id":12066748,"comment_id":16117863,"body_markdown":"hello Mr. wise Programmer can you post here the code from which you generated this output ?? so i can debug . i think now i am very near to my solution .","body":"hello Mr. wise Programmer can you post here the code from which you generated this output ?? so i can debug . i think now i am very near to my solution ."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1345617609,"post_id":12066748,"comment_id":16118213,"body_markdown":"I don&#39;t know how useful it will be, but it&#39;s there","body":"I don&#39;t know how useful it will be, but it&#39;s there"},{"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1345708137,"post_id":12066748,"comment_id":16149510,"body_markdown":"thanks Mr. wise programmer , after slight modification of your code and some hard work i have achieved what i want exactly. thanks again.","body":"thanks Mr. wise programmer , after slight modification of your code and some hard work i have achieved what i want exactly. thanks again."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1350197342,"post_id":12066748,"comment_id":17438246,"body_markdown":"I&#39;m thinking an `AffineTransform` would (also) be of use here.","body":"I&#39;m thinking an <code>AffineTransform</code> would (also) be of use here."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681688657,"creation_date":1345613124,"answer_id":12066748,"question_id":12066698,"body_markdown":"The `java.swingx.Timer` calls the `ActionPerformed` within the `EDT`.  The question then is, what&#39;s taking the time to render. It could be the call to `captureThread.getTempBuffer` it could be the construction of the help, but I suspect it&#39;s just the sheer amount of data you are trying to paint.\r\n\r\nHaving played with this recently, it takes quite a bit of time to process the waveform.\r\n\r\nOne suggestion might be to reduce the number of samples that you paint.  Rather then painting each one, maybe paint every second or forth sample point depending on the width of the component.  You should still get the same jist but without all the work...\r\n\r\n**UPDATED**\r\n\r\nAll samples, 2.18 seconds\r\n\r\n![AllSamples][1]\r\n\r\nEvery 4th sample, 0.711 seconds\r\n\r\n![enter image description here][2]\r\n\r\nEvery 8th sample, 0.450 seconds\r\n\r\n![enter image description here][3]\r\n\r\nRather then paint in response to the timer, maybe you need to paint in response to batches of data.\r\n\r\nAs your loader thread has a &quot;chunk&quot; of data, may be paint it then.\r\n\r\nAs HoverCraftFullOfEels suggested, you could paint this to a BufferedImage first and then paint that to the screen...\r\n\r\n[SwingWorker][4] might be able to achieve this for you\r\n\r\n**UPDATED**\r\n\r\nThis is the code I use to paint the above samples.\r\n\r\n\r\n    // Samples is a 2D int array (int[][]), where the first index is the channel, the second is the sample for that channel\r\n    if (samples != null) {\r\n\r\n        Graphics2D g2d = (Graphics2D) g;\r\n\r\n        int length = samples[0].length;\r\n\r\n        int width = getWidth() - 1;\r\n        int height = getHeight() - 1;\r\n\r\n        int oldX = 0;\r\n        int oldY = height / 2;\r\n        int frame = 0;\r\n\r\n        // min, max is the min/max range of the samples, ie the highest and lowest samples\r\n        int range = max + (min * -2);\r\n        float scale = (float) height / (float) range;\r\n\r\n        int minY = Math.round(((height / 2) + (min * scale)));\r\n        int maxY = Math.round(((height / 2) + (max * scale)));\r\n\r\n        LinearGradientPaint lgp = new LinearGradientPaint(\r\n                new Point2D.Float(0, minY),\r\n                new Point2D.Float(0, maxY),\r\n                new float[]{0f, 0.5f, 1f},\r\n                new Color[]{Color.BLUE, Color.RED, Color.BLUE});\r\n        g2d.setPaint(lgp);\r\n        for (int sample : samples[0]) {\r\n\r\n            if (sample % 64 == 0) {\r\n\r\n                int x = Math.round(((float) frame / (float) length) * width);\r\n                int y = Math.round((height / 2) + (sample * scale));\r\n\r\n                g2d.drawLine(oldX, oldY, x, y);\r\n\r\n                oldX = x;\r\n                oldY = y;\r\n\r\n            }\r\n\r\n            frame++;\r\n\r\n        }\r\n\r\n    }\r\n\r\nI use an `AudioStream` stream to load a Wav file an produce the 2D samples.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vFuxD.png\r\n  [2]: http://i.stack.imgur.com/E9FOT.png\r\n  [3]: http://i.stack.imgur.com/nN7M7.png\r\n  [4]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html","title":"GUI freezes when drawing Wave from animation on JPanel though i used Swing Timer","body":"<p>The <code>java.swingx.Timer</code> calls the <code>ActionPerformed</code> within the <code>EDT</code>.  The question then is, what's taking the time to render. It could be the call to <code>captureThread.getTempBuffer</code> it could be the construction of the help, but I suspect it's just the sheer amount of data you are trying to paint.</p>\n<p>Having played with this recently, it takes quite a bit of time to process the waveform.</p>\n<p>One suggestion might be to reduce the number of samples that you paint.  Rather then painting each one, maybe paint every second or forth sample point depending on the width of the component.  You should still get the same jist but without all the work...</p>\n<p><strong>UPDATED</strong></p>\n<p>All samples, 2.18 seconds</p>\n<p><img src=\"https://i.stack.imgur.com/vFuxD.png\" alt=\"AllSamples\" /></p>\n<p>Every 4th sample, 0.711 seconds</p>\n<p><img src=\"https://i.stack.imgur.com/E9FOT.png\" alt=\"enter image description here\" /></p>\n<p>Every 8th sample, 0.450 seconds</p>\n<p><img src=\"https://i.stack.imgur.com/nN7M7.png\" alt=\"enter image description here\" /></p>\n<p>Rather then paint in response to the timer, maybe you need to paint in response to batches of data.</p>\n<p>As your loader thread has a &quot;chunk&quot; of data, may be paint it then.</p>\n<p>As HoverCraftFullOfEels suggested, you could paint this to a BufferedImage first and then paint that to the screen...</p>\n<p><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">SwingWorker</a> might be able to achieve this for you</p>\n<p><strong>UPDATED</strong></p>\n<p>This is the code I use to paint the above samples.</p>\n<pre><code>// Samples is a 2D int array (int[][]), where the first index is the channel, the second is the sample for that channel\nif (samples != null) {\n\n    Graphics2D g2d = (Graphics2D) g;\n\n    int length = samples[0].length;\n\n    int width = getWidth() - 1;\n    int height = getHeight() - 1;\n\n    int oldX = 0;\n    int oldY = height / 2;\n    int frame = 0;\n\n    // min, max is the min/max range of the samples, ie the highest and lowest samples\n    int range = max + (min * -2);\n    float scale = (float) height / (float) range;\n\n    int minY = Math.round(((height / 2) + (min * scale)));\n    int maxY = Math.round(((height / 2) + (max * scale)));\n\n    LinearGradientPaint lgp = new LinearGradientPaint(\n            new Point2D.Float(0, minY),\n            new Point2D.Float(0, maxY),\n            new float[]{0f, 0.5f, 1f},\n            new Color[]{Color.BLUE, Color.RED, Color.BLUE});\n    g2d.setPaint(lgp);\n    for (int sample : samples[0]) {\n\n        if (sample % 64 == 0) {\n\n            int x = Math.round(((float) frame / (float) length) * width);\n            int y = Math.round((height / 2) + (sample * scale));\n\n            g2d.drawLine(oldX, oldY, x, y);\n\n            oldX = x;\n            oldY = y;\n\n        }\n\n        frame++;\n\n    }\n\n}\n</code></pre>\n<p>I use an <code>AudioStream</code> stream to load a Wav file an produce the 2D samples.</p>\n"}],"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1654,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12066748,"answer_count":2,"score":3,"last_activity_date":1681688657,"creation_date":1345612790,"question_id":12066698,"body_markdown":"plese look at my code snippets , wha is wrong with it , it frrezes GUI when the Swing timer stats which is repeteadly paints on the jpnael ??\r\n\r\n    class WaveformPanel extends JPanel {\r\n    \r\n    \t\tTimer graphTimer = null;\r\n    \t\tAudioInfo helper = null;\r\n    \r\n    \t\tWaveformPanel() {\r\n    \t\t\tsetPreferredSize(new Dimension(200, 80));\r\n    \t\t\tsetBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n    \t\t\tgraphTimer = new Timer(15, new TimerDrawing());\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * \r\n    \t\t */\r\n    \t\tprivate static final long serialVersionUID = 969991141812736791L;\r\n    \t\tprotected final Color BACKGROUND_COLOR = Color.white;\r\n    \t\tprotected final Color REFERENCE_LINE_COLOR = Color.black;\r\n    \t\tprotected final Color WAVEFORM_COLOR = Color.red;\r\n    \r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tint lineHeight = getHeight() / 2;\r\n    \t\t\tg.setColor(REFERENCE_LINE_COLOR);\r\n    \t\t\tg.drawLine(0, lineHeight, (int) getWidth(), lineHeight);\r\n    \r\n    \t\t\tif (helper == null) {\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \r\n    \t\t\tdrawWaveform(g, helper.getAudio(0));\r\n    \r\n    \t\t}\r\n    \r\n    \t\tprotected void drawWaveform(Graphics g, int[] samples) {\r\n    \r\n    \t\t\tif (samples == null) {\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \r\n    \t\t\tint oldX = 0;\r\n    \t\t\tint oldY = (int) (getHeight() / 2);\r\n    \t\t\tint xIndex = 0;\r\n    \r\n    \t\t\tint increment = helper.getIncrement(helper\r\n    \t\t\t\t\t.getXScaleFactor(getWidth()));\r\n    \t\t\tg.setColor(WAVEFORM_COLOR);\r\n    \r\n    \t\t\tint t = 0;\r\n    \r\n    \t\t\tfor (t = 0; t &lt; increment; t += increment) {\r\n    \t\t\t\tg.drawLine(oldX, oldY, xIndex, oldY);\r\n    \t\t\t\txIndex++;\r\n    \t\t\t\toldX = xIndex;\r\n    \t\t\t}\r\n    \r\n    \t\t\tfor (; t &lt; samples.length; t += increment) {\r\n    \t\t\t\tdouble scaleFactor = helper.getYScaleFactor(getHeight());\r\n    \t\t\t\tdouble scaledSample = samples[t] * scaleFactor;\r\n    \t\t\t\tint y = (int) ((getHeight() / 2) - (scaledSample));\r\n    \t\t\t\tg.drawLine(oldX, oldY, xIndex, y);\r\n    \r\n    \t\t\t\txIndex++;\r\n    \t\t\t\toldX = xIndex;\r\n    \t\t\t\toldY = y;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic void setAnimation(boolean turnon) {\r\n    \t\t\tif (turnon) {\r\n    \t\t\t\tgraphTimer.start();\r\n    \t\t\t} else {\r\n    \t\t\t\tgraphTimer.stop();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tclass TimerDrawing implements ActionListener {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \r\n    \t\t\t\tbyte[] bytes = captureThread.getTempBuffer();\r\n    \r\n    \t\t\t\tif (helper != null) {\r\n    \t\t\t\t\thelper.setBytes(bytes);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\thelper = new AudioInfo(bytes);\r\n    \t\t\t\t}\r\n    \t\t\t\trepaint();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\nI am calling setAnimation of WaveFormPanel from its parent class.when animation starts it does not draw anything but freezes. please , give me solution.\r\n\r\nThank You\r\nMihir Parekh","title":"GUI freezes when drawing Wave from animation on JPanel though i used Swing Timer","body":"<p>plese look at my code snippets , wha is wrong with it , it frrezes GUI when the Swing timer stats which is repeteadly paints on the jpnael ??</p>\n\n<pre><code>class WaveformPanel extends JPanel {\n\n        Timer graphTimer = null;\n        AudioInfo helper = null;\n\n        WaveformPanel() {\n            setPreferredSize(new Dimension(200, 80));\n            setBorder(BorderFactory.createLineBorder(Color.BLACK));\n            graphTimer = new Timer(15, new TimerDrawing());\n        }\n\n        /**\n         * \n         */\n        private static final long serialVersionUID = 969991141812736791L;\n        protected final Color BACKGROUND_COLOR = Color.white;\n        protected final Color REFERENCE_LINE_COLOR = Color.black;\n        protected final Color WAVEFORM_COLOR = Color.red;\n\n        protected void paintComponent(Graphics g) {\n\n            super.paintComponent(g);\n\n            int lineHeight = getHeight() / 2;\n            g.setColor(REFERENCE_LINE_COLOR);\n            g.drawLine(0, lineHeight, (int) getWidth(), lineHeight);\n\n            if (helper == null) {\n                return;\n            }\n\n            drawWaveform(g, helper.getAudio(0));\n\n        }\n\n        protected void drawWaveform(Graphics g, int[] samples) {\n\n            if (samples == null) {\n                return;\n            }\n\n            int oldX = 0;\n            int oldY = (int) (getHeight() / 2);\n            int xIndex = 0;\n\n            int increment = helper.getIncrement(helper\n                    .getXScaleFactor(getWidth()));\n            g.setColor(WAVEFORM_COLOR);\n\n            int t = 0;\n\n            for (t = 0; t &lt; increment; t += increment) {\n                g.drawLine(oldX, oldY, xIndex, oldY);\n                xIndex++;\n                oldX = xIndex;\n            }\n\n            for (; t &lt; samples.length; t += increment) {\n                double scaleFactor = helper.getYScaleFactor(getHeight());\n                double scaledSample = samples[t] * scaleFactor;\n                int y = (int) ((getHeight() / 2) - (scaledSample));\n                g.drawLine(oldX, oldY, xIndex, y);\n\n                xIndex++;\n                oldX = xIndex;\n                oldY = y;\n            }\n        }\n\n        public void setAnimation(boolean turnon) {\n            if (turnon) {\n                graphTimer.start();\n            } else {\n                graphTimer.stop();\n            }\n        }\n\n        class TimerDrawing implements ActionListener {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n                byte[] bytes = captureThread.getTempBuffer();\n\n                if (helper != null) {\n                    helper.setBytes(bytes);\n                } else {\n                    helper = new AudioInfo(bytes);\n                }\n                repaint();\n            }\n        }\n\n    }\n</code></pre>\n\n<p>I am calling setAnimation of WaveFormPanel from its parent class.when animation starts it does not draw anything but freezes. please , give me solution.</p>\n\n<p>Thank You\nMihir Parekh</p>\n"},{"tags":["java","swing","jpanel","mp3"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1681688602,"post_id":76030828,"comment_id":134092328,"body_markdown":"Which part of that question do you want us to try and answer?  Extracting the audio frequency from a MP3 file?  Visualising a data set graphically?  I&#39;m sure there are some more steps in there, but you need to narrow the questions down","body":"Which part of that question do you want us to try and answer?  Extracting the audio frequency from a MP3 file?  Visualising a data set graphically?  I&#39;m sure there are some more steps in there, but you need to narrow the questions down"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1681689094,"post_id":76030828,"comment_id":134092386,"body_markdown":"For [example](https://stackoverflow.com/questions/12066698/gui-freezes-when-drawing-wave-from-animation-on-jpanel-though-i-used-swing-timer/12066748#12066748); [example](https://stackoverflow.com/questions/27517265/graphing-wav-file-in-java/27517678#27517678)","body":"For <a href=\"https://stackoverflow.com/questions/12066698/gui-freezes-when-drawing-wave-from-animation-on-jpanel-though-i-used-swing-timer/12066748#12066748\">example</a>; <a href=\"https://stackoverflow.com/questions/27517265/graphing-wav-file-in-java/27517678#27517678\">example</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1681695999,"post_id":76030828,"comment_id":134093045,"body_markdown":"Also consider this JavaFX [example](https://stackoverflow.com/a/54927406/230513).","body":"Also consider this JavaFX <a href=\"https://stackoverflow.com/a/54927406/230513\">example</a>."},{"owner":{"account_id":26990729,"reputation":3,"user_id":20553665,"display_name":"Rivera"},"score":0,"creation_date":1681699375,"post_id":76030828,"comment_id":134093369,"body_markdown":"@MadProgrammer I am looking to visualize the waveforms much like your first example. I will try to get around to seeing If I can work it out myself, thank you for giving me a better resource to see what I&#39;m needing to do next!","body":"@MadProgrammer I am looking to visualize the waveforms much like your first example. I will try to get around to seeing If I can work it out myself, thank you for giving me a better resource to see what I&#39;m needing to do next!"}],"owner":{"account_id":26990729,"reputation":3,"user_id":20553665,"display_name":"Rivera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681688366,"creation_date":1681688062,"question_id":76030828,"body_markdown":"I was trying to do a personal project where I could visualize the waveforms of an mp3 file and visualize it in a JPanel but I am extremely new to GUI. I found a post that was answered nearly 14 years ago and the answer happened to be the book that I had been reading on how to do it. I hit a massive wall where I can&#39;t seem to figure out what to do to draw these waves and this is where I am turning for help.\r\n\r\nThe original SO question: &lt;https://stackoverflow.com/questions/1062968/display-sound-wav-mp3-as-graph-in-java&gt;\r\n\r\nThe book: &lt;https://archive.org/details/swinghacks0000mari/page/386/mode/2up&gt;  (Chapter 10: Building an Audio Waveform Display)\r\n\r\nAny help would be greatly appreciated!","title":"Need to convert an mp3 file information to the graphical drawing of wave forms using Java Swing","body":"<p>I was trying to do a personal project where I could visualize the waveforms of an mp3 file and visualize it in a JPanel but I am extremely new to GUI. I found a post that was answered nearly 14 years ago and the answer happened to be the book that I had been reading on how to do it. I hit a massive wall where I can't seem to figure out what to do to draw these waves and this is where I am turning for help.</p>\n<p>The original SO question: <a href=\"https://stackoverflow.com/questions/1062968/display-sound-wav-mp3-as-graph-in-java\">Display sound (.wav/.mp3) as graph in Java</a></p>\n<p>The book: <a href=\"https://archive.org/details/swinghacks0000mari/page/386/mode/2up\" rel=\"nofollow noreferrer\">https://archive.org/details/swinghacks0000mari/page/386/mode/2up</a>  (Chapter 10: Building an Audio Waveform Display)</p>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","spring-security","oauth-2.0","jwt"],"answers":[{"comments":[{"owner":{"account_id":15364859,"reputation":149,"user_id":11084701,"display_name":"Mr P"},"score":0,"creation_date":1681686940,"post_id":76030715,"comment_id":134092192,"body_markdown":"But how to configure it properly? In previous versions of Spring Security there was something like ResourceServerSecurityConfigurer which is now deprecated, and it allowed to configure your own ResourceServerTokenServices via loadAuthentication method for example.","body":"But how to configure it properly? In previous versions of Spring Security there was something like ResourceServerSecurityConfigurer which is now deprecated, and it allowed to configure your own ResourceServerTokenServices via loadAuthentication method for example."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1681687786,"post_id":76030715,"comment_id":134092260,"body_markdown":"I added the links to the doc, but honestly use your IDE auto-completion `.oauth2ResourceServer()` in your conf, just try what you can put instead of `.jwt()`...","body":"I added the links to the doc, but honestly use your IDE auto-completion <code>.oauth2ResourceServer()</code> in your conf, just try what you can put instead of <code>.jwt()</code>..."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1681688843,"post_id":76030715,"comment_id":134092356,"body_markdown":"I also have a tutorial about introspection in the series I wrote there: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","body":"I also have a tutorial about introspection in the series I wrote there: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">github.com/ch4mpy/spring-addons/tree/master/samples/tutorial&zwnj;&#8203;s</a>"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681687722,"creation_date":1681685812,"answer_id":76030715,"question_id":76030409,"body_markdown":"You configured your resource-server with a [JWT decoder][1] and not [introspection][2] (opaquetoken in spring configuration) =&gt; the access token validation is local to your resource server, not submitted to authorization server.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/opaque-token.html","title":"Spring Security 5 &amp; OAuth2 configuration: missing token bad request","body":"<p>You configured your resource-server with a <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">JWT decoder</a> and not <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/opaque-token.html\" rel=\"nofollow noreferrer\">introspection</a> (opaquetoken in spring configuration) =&gt; the access token validation is local to your resource server, not submitted to authorization server.</p>\n"}],"owner":{"account_id":15364859,"reputation":149,"user_id":11084701,"display_name":"Mr P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681687722,"creation_date":1681680321,"question_id":76030409,"body_markdown":"My application receives a request from the third-party app with Authorization header with Bearer Token. Then I try to validate the token via Authorization Server. \r\n\r\nThe issue is that validation request is always send without token param, which is expected by the server, resulting in bad request error. \r\n\r\nCurrent validation request:\r\n`GET https://myApp.com/connect/tokenValidation`\r\n\r\nExpected validation request: \r\n`GET https://myApp.com/connect/tokenValidation?token=eySomething`\r\n\r\nHow can I modify the request?\r\n\r\n\r\nMy config:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\r\npublic class ResourceServerConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain oAuth2filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n            .requestMatchers()\r\n            .antMatchers(&quot;/api/**&quot;, &quot;/rest/**&quot;)\r\n                .and()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .oauth2ResourceServer()\r\n                .jwt();\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n\r\n        NimbusJwtDecoder jwtDecoder = NimbusJwtDecoder\r\n                .withJwkSetUri(&quot;https://myApp.com/connect/tokenValidation&quot;)\r\n                .jwtProcessorCustomizer(jwtProcessor -&gt; jwtProcessor.setJWSTypeVerifier(\r\n                        new DefaultJOSEObjectTypeVerifier&lt;&gt;(new JOSEObjectType(&quot;at+jwt&quot;))))\r\n                .build();\r\n\r\n        return jwtDecoder;\r\n    }\r\n\r\n}\r\n```\r\n\r\nSome logs:\r\n```\r\norg.springframework.security.authentication.AuthenticationServiceException: An error occurred while attempting to decode the Jwt: \r\nCouldn&#39;t retrieve remote JWK set: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;&quot;token is missing&quot;&quot;\r\n\tat org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:104) ~[spring-security-oauth2-resource-server-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.5.jar:5.7.5]\r\n\tat org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:134) ~[spring-security-oauth2-resource-server-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.64]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[catalina.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:9.0.64]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[catalina.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:9.0.64]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.64]\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) ~[catalina.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:9.0.64]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[catalina.jar:9.0.64]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-coyote.jar:9.0.64]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:9.0.64]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-coyote.jar:9.0.64]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-coyote.jar:9.0.64]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:9.0.64]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.64]\r\n\tat java.lang.Thread.run(Thread.java:829) ~[?:?]\r\nCaused by: org.springframework.security.oauth2.jwt.JwtException: An error occurred while attempting to decode the Jwt: Couldn&#39;t retrieve remote JWK set: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;&quot;token is missing&quot;&quot;\r\n\tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:169) ~[spring-security-oauth2-jose-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:137) ~[spring-security-oauth2-jose-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:97) ~[spring-security-oauth2-resource-server-5.7.2.jar:5.7.2]\r\n\t... 45 more\r\n```","title":"Spring Security 5 &amp; OAuth2 configuration: missing token bad request","body":"<p>My application receives a request from the third-party app with Authorization header with Bearer Token. Then I try to validate the token via Authorization Server.</p>\n<p>The issue is that validation request is always send without token param, which is expected by the server, resulting in bad request error.</p>\n<p>Current validation request:\n<code>GET https://myApp.com/connect/tokenValidation</code></p>\n<p>Expected validation request:\n<code>GET https://myApp.com/connect/tokenValidation?token=eySomething</code></p>\n<p>How can I modify the request?</p>\n<p>My config:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\npublic class ResourceServerConfiguration {\n\n    @Bean\n    public SecurityFilterChain oAuth2filterChain(HttpSecurity http) throws Exception {\n\n        http\n            .requestMatchers()\n            .antMatchers(&quot;/api/**&quot;, &quot;/rest/**&quot;)\n                .and()\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n            .oauth2ResourceServer()\n                .jwt();\n\n        return http.build();\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n\n        NimbusJwtDecoder jwtDecoder = NimbusJwtDecoder\n                .withJwkSetUri(&quot;https://myApp.com/connect/tokenValidation&quot;)\n                .jwtProcessorCustomizer(jwtProcessor -&gt; jwtProcessor.setJWSTypeVerifier(\n                        new DefaultJOSEObjectTypeVerifier&lt;&gt;(new JOSEObjectType(&quot;at+jwt&quot;))))\n                .build();\n\n        return jwtDecoder;\n    }\n\n}\n</code></pre>\n<p>Some logs:</p>\n<pre><code>org.springframework.security.authentication.AuthenticationServiceException: An error occurred while attempting to decode the Jwt: \nCouldn't retrieve remote JWK set: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;&quot;token is missing&quot;&quot;\n    at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:104) ~[spring-security-oauth2-resource-server-5.7.2.jar:5.7.2]\n    at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-5.7.2.jar:5.7.2]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.7.5.jar:5.7.5]\n    at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:134) ~[spring-security-oauth2-resource-server-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[catalina.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[catalina.jar:9.0.64]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[catalina.jar:9.0.64]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[catalina.jar:9.0.64]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[catalina.jar:9.0.64]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[catalina.jar:9.0.64]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.64]\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) ~[catalina.jar:9.0.64]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[catalina.jar:9.0.64]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[catalina.jar:9.0.64]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-coyote.jar:9.0.64]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote.jar:9.0.64]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-coyote.jar:9.0.64]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-coyote.jar:9.0.64]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:9.0.64]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.64]\n    at java.lang.Thread.run(Thread.java:829) ~[?:?]\nCaused by: org.springframework.security.oauth2.jwt.JwtException: An error occurred while attempting to decode the Jwt: Couldn't retrieve remote JWK set: org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;&quot;token is missing&quot;&quot;\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:169) ~[spring-security-oauth2-jose-5.7.2.jar:5.7.2]\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:137) ~[spring-security-oauth2-jose-5.7.2.jar:5.7.2]\n    at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:97) ~[spring-security-oauth2-resource-server-5.7.2.jar:5.7.2]\n    ... 45 more\n</code></pre>\n"},{"tags":["java","audio"],"answers":[{"tags":[],"owner":{"account_id":2248,"reputation":7914,"user_id":3105,"accept_rate":86,"display_name":"Marcin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1246366343,"creation_date":1246366343,"answer_id":1063499,"question_id":1062968,"body_markdown":"In Java Sound API poke around AudioSystem.getAudioInputStream\r\n which will return [AudioInputStream][1]  which shows you how to open audio files form within Java. It is good enough to read .wav files, but not quite so for mp3s. \r\n\r\nIt lets you read bytes one by one directly. Also getAudioFormat will return object that has sample rate, bit/sample, etc. After reading your waveform you can draw it in your favorite way on the screen (Swing, AWT, png file on the web, etc.).\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/javax/sound/sampled/AudioInputStream.html","title":"Display sound (.wav/.mp3) as graph in Java","body":"<p>In Java Sound API poke around AudioSystem.getAudioInputStream\n which will return <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/javax/sound/sampled/AudioInputStream.html\" rel=\"nofollow noreferrer\">AudioInputStream</a>  which shows you how to open audio files form within Java. It is good enough to read .wav files, but not quite so for mp3s. </p>\n\n<p>It lets you read bytes one by one directly. Also getAudioFormat will return object that has sample rate, bit/sample, etc. After reading your waveform you can draw it in your favorite way on the screen (Swing, AWT, png file on the web, etc.).</p>\n"},{"tags":[],"owner":{"account_id":41550,"reputation":13392,"user_id":120820,"accept_rate":100,"display_name":"William"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1246527784,"creation_date":1246527784,"answer_id":1073465,"question_id":1062968,"body_markdown":"In the end I found code to do exactly what I wanted in Chapter 10 of the book [Swing Hacks][1].\r\n\r\n\r\n  [1]: http://books.google.com/books?id=oNbFfcyAtv4C&amp;pg=PP1&amp;dq=swing+hacks","title":"Display sound (.wav/.mp3) as graph in Java","body":"<p>In the end I found code to do exactly what I wanted in Chapter 10 of the book <a href=\"http://books.google.com/books?id=oNbFfcyAtv4C&amp;pg=PP1&amp;dq=swing+hacks\" rel=\"nofollow noreferrer\">Swing Hacks</a>.</p>\n"}],"owner":{"account_id":41550,"reputation":13392,"user_id":120820,"accept_rate":100,"display_name":"William"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10511,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":1073465,"answer_count":2,"score":7,"last_activity_date":1681687397,"creation_date":1246358171,"question_id":1062968,"body_markdown":"I need to display a graph of a sound file - i.e. a wave form as displayed by audio editors such as Audacity.\r\n\r\nHow should I go about this? Is there anything in the Java Sound API that can help me?","title":"Display sound (.wav/.mp3) as graph in Java","body":"<p>I need to display a graph of a sound file - i.e. a wave form as displayed by audio editors such as Audacity.</p>\n\n<p>How should I go about this? Is there anything in the Java Sound API that can help me?</p>\n"},{"tags":["java","android","audio","real-time","frequency"],"comments":[{"owner":{"account_id":3639085,"reputation":207,"user_id":3033730,"accept_rate":40,"display_name":"Prerak Diwan"},"score":0,"creation_date":1386034627,"post_id":20341229,"comment_id":30362115,"body_markdown":"I am trying to get the frequency values and not the graph","body":"I am trying to get the frequency values and not the graph"},{"owner":{"account_id":3615290,"reputation":15707,"user_id":3015325,"display_name":"Larry Schiefer"},"score":0,"creation_date":1393528155,"post_id":20341229,"comment_id":33482649,"body_markdown":"Can you provide a logcat capture of the crash?  A stack trace would be helpful.  In this form I can see a possible crash because `transformer` is never initialized, so as soon as you get to the line `transformer.ft(toTransform)` it will crash will a `NullPointerException`.","body":"Can you provide a logcat capture of the crash?  A stack trace would be helpful.  In this form I can see a possible crash because <code>transformer</code> is never initialized, so as soon as you get to the line <code>transformer.ft(toTransform)</code> it will crash will a <code>NullPointerException</code>."}],"answers":[{"comments":[{"owner":{"account_id":3817409,"reputation":12833,"user_id":3166417,"accept_rate":39,"display_name":"itzhar"},"score":3,"creation_date":1436058977,"post_id":22121847,"comment_id":50452535,"body_markdown":"can you explain where i use this fft function?","body":"can you explain where i use this fft function?"},{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":0,"creation_date":1574258195,"post_id":22121847,"comment_id":104167672,"body_markdown":"Hi @Avanz , Can you please help me on it. I have to create the demo of the sound frequency detection.I have searched this library  https://android-arsenal.com/details/1/6086 , but not getting it properly ..Can you please guide me on your above solution","body":"Hi @Avanz , Can you please help me on it. I have to create the demo of the sound frequency detection.I have searched this library  <a href=\"https://android-arsenal.com/details/1/6086\" rel=\"nofollow noreferrer\">android-arsenal.com/details/1/6086</a> , but not getting it properly ..Can you please guide me on your above solution"}],"tags":[],"owner":{"account_id":3616503,"reputation":7466,"user_id":3016219,"display_name":"Avanz"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1393716655,"creation_date":1393716655,"answer_id":22121847,"question_id":20341229,"body_markdown":"Try this FFT:\r\n\r\n    public class FFT {\r\n    \r\n      int n, m;\r\n    \r\n      // Lookup tables. Only need to recompute when size of FFT changes.\r\n      double[] cos;\r\n      double[] sin;\r\n    \r\n      public FFT(int n) {\r\n          this.n = n;\r\n          this.m = (int) (Math.log(n) / Math.log(2));\r\n    \r\n          // Make sure n is a power of 2\r\n          if (n != (1 &lt;&lt; m))\r\n              throw new RuntimeException(&quot;FFT length must be power of 2&quot;);\r\n    \r\n          // precompute tables\r\n          cos = new double[n / 2];\r\n          sin = new double[n / 2];\r\n    \r\n          for (int i = 0; i &lt; n / 2; i++) {\r\n              cos[i] = Math.cos(-2 * Math.PI * i / n);\r\n              sin[i] = Math.sin(-2 * Math.PI * i / n);\r\n          }\r\n    \r\n      }\r\n    \r\n      public void fft(double[] x, double[] y) {\r\n          int i, j, k, n1, n2, a;\r\n          double c, s, t1, t2;\r\n    \r\n          // Bit-reverse\r\n          j = 0;\r\n          n2 = n / 2;\r\n          for (i = 1; i &lt; n - 1; i++) {\r\n              n1 = n2;\r\n              while (j &gt;= n1) {\r\n                  j = j - n1;\r\n                  n1 = n1 / 2;\r\n              }\r\n              j = j + n1;\r\n    \r\n              if (i &lt; j) {\r\n                  t1 = x[i];\r\n                  x[i] = x[j];\r\n                  x[j] = t1;\r\n                  t1 = y[i];\r\n                  y[i] = y[j];\r\n                  y[j] = t1;\r\n              }\r\n          }\r\n    \r\n          // FFT\r\n          n1 = 0;\r\n          n2 = 1;\r\n    \r\n          for (i = 0; i &lt; m; i++) {\r\n              n1 = n2;\r\n              n2 = n2 + n2;\r\n              a = 0;\r\n    \r\n              for (j = 0; j &lt; n1; j++) {\r\n                  c = cos[a];\r\n                  s = sin[a];\r\n                  a += 1 &lt;&lt; (m - i - 1);\r\n    \r\n                  for (k = j; k &lt; n; k = k + n2) {\r\n                      t1 = c * x[k + n1] - s * y[k + n1];\r\n                      t2 = s * x[k + n1] + c * y[k + n1];\r\n                      x[k + n1] = x[k] - t1;\r\n                      y[k + n1] = y[k] - t2;\r\n                      x[k] = x[k] + t1;\r\n                      y[k] = y[k] + t2;\r\n                  }\r\n              }\r\n          }\r\n      }\r\n    }\r\n\r\nIt should address what you have in mind. If you decided to re-use it, give the proper credit to the author.\r\n\r\nSource/Author: [EricLarch][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9272232/fft-library-in-android-sdk","title":"android getting sound frequencies real time?","body":"<p>Try this FFT:</p>\n\n<pre><code>public class FFT {\n\n  int n, m;\n\n  // Lookup tables. Only need to recompute when size of FFT changes.\n  double[] cos;\n  double[] sin;\n\n  public FFT(int n) {\n      this.n = n;\n      this.m = (int) (Math.log(n) / Math.log(2));\n\n      // Make sure n is a power of 2\n      if (n != (1 &lt;&lt; m))\n          throw new RuntimeException(\"FFT length must be power of 2\");\n\n      // precompute tables\n      cos = new double[n / 2];\n      sin = new double[n / 2];\n\n      for (int i = 0; i &lt; n / 2; i++) {\n          cos[i] = Math.cos(-2 * Math.PI * i / n);\n          sin[i] = Math.sin(-2 * Math.PI * i / n);\n      }\n\n  }\n\n  public void fft(double[] x, double[] y) {\n      int i, j, k, n1, n2, a;\n      double c, s, t1, t2;\n\n      // Bit-reverse\n      j = 0;\n      n2 = n / 2;\n      for (i = 1; i &lt; n - 1; i++) {\n          n1 = n2;\n          while (j &gt;= n1) {\n              j = j - n1;\n              n1 = n1 / 2;\n          }\n          j = j + n1;\n\n          if (i &lt; j) {\n              t1 = x[i];\n              x[i] = x[j];\n              x[j] = t1;\n              t1 = y[i];\n              y[i] = y[j];\n              y[j] = t1;\n          }\n      }\n\n      // FFT\n      n1 = 0;\n      n2 = 1;\n\n      for (i = 0; i &lt; m; i++) {\n          n1 = n2;\n          n2 = n2 + n2;\n          a = 0;\n\n          for (j = 0; j &lt; n1; j++) {\n              c = cos[a];\n              s = sin[a];\n              a += 1 &lt;&lt; (m - i - 1);\n\n              for (k = j; k &lt; n; k = k + n2) {\n                  t1 = c * x[k + n1] - s * y[k + n1];\n                  t2 = s * x[k + n1] + c * y[k + n1];\n                  x[k + n1] = x[k] - t1;\n                  y[k + n1] = y[k] - t2;\n                  x[k] = x[k] + t1;\n                  y[k] = y[k] + t2;\n              }\n          }\n      }\n  }\n}\n</code></pre>\n\n<p>It should address what you have in mind. If you decided to re-use it, give the proper credit to the author.</p>\n\n<p>Source/Author: <a href=\"https://stackoverflow.com/questions/9272232/fft-library-in-android-sdk\">EricLarch</a></p>\n"},{"comments":[{"owner":{"account_id":332097,"reputation":5951,"user_id":657184,"accept_rate":95,"display_name":"Edison"},"score":0,"creation_date":1393880939,"post_id":22156746,"comment_id":33625499,"body_markdown":"Agreed, do not use the java approach as it can be much much slower on certain devices.","body":"Agreed, do not use the java approach as it can be much much slower on certain devices."},{"owner":{"account_id":8630369,"reputation":581,"user_id":6462184,"accept_rate":60,"display_name":"Sahana Prabhakar"},"score":0,"creation_date":1488456000,"post_id":22156746,"comment_id":72244185,"body_markdown":"Can you please brief on how to use the library?","body":"Can you please brief on how to use the library?"}],"tags":[],"owner":{"account_id":1074669,"reputation":12309,"user_id":1367571,"accept_rate":73,"display_name":"Sebastiano"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1393878595,"creation_date":1393878595,"answer_id":22156746,"question_id":20341229,"body_markdown":"If you really want to perform a **real-time** audio analysis, a Java-based approach won&#39;t do. I had a similar task in Q4 2013 for my company, and we decided to use [Kiss FFT][1] (perhaps the most simple FFT library with a BSD license), compiled for Android using the NDK.\r\n\r\nA native C/C++ approach is **tons of times faster** than its Java counterpart. With the former, we have been able to perform *real-time audio decoding* and *audio features analysis* on nearly every mid to high end device, something that was obviously impossible with the latter.\r\n\r\nI **strongly** suggest you to consider the native approach as your best option to do this task. Kiss FFT is a really simple library (literally stands for `Keep It Simple FFT`), and you won&#39;t find much troubles in compiling and using it on Android. You won&#39;t be disappointed by the performance results.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/kissfft/","title":"android getting sound frequencies real time?","body":"<p>If you really want to perform a <strong>real-time</strong> audio analysis, a Java-based approach won't do. I had a similar task in Q4 2013 for my company, and we decided to use <a href=\"http://sourceforge.net/projects/kissfft/\">Kiss FFT</a> (perhaps the most simple FFT library with a BSD license), compiled for Android using the NDK.</p>\n\n<p>A native C/C++ approach is <strong>tons of times faster</strong> than its Java counterpart. With the former, we have been able to perform <em>real-time audio decoding</em> and <em>audio features analysis</em> on nearly every mid to high end device, something that was obviously impossible with the latter.</p>\n\n<p>I <strong>strongly</strong> suggest you to consider the native approach as your best option to do this task. Kiss FFT is a really simple library (literally stands for <code>Keep It Simple FFT</code>), and you won't find much troubles in compiling and using it on Android. You won't be disappointed by the performance results.</p>\n"},{"tags":[],"owner":{"account_id":5568028,"reputation":123,"user_id":4414487,"accept_rate":100,"display_name":"송요섭"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681685399,"creation_date":1481552629,"answer_id":41102991,"question_id":20341229,"body_markdown":"Did you solved the problem? The crush is occurred because of the `ArrayIndexOutOfBoundsException`.\r\n\r\nSo, modify your code to:\r\n\r\n```java\r\ndouble[] re = new double[blockSize];\r\ndouble[] im = new double[blockSize];\r\ndouble[] magnitude = new double[blockSize];\r\n\r\n// Calculate the Real and imaginary and Magnitude.\r\nfor(int i = 0; i &lt; blockSize+1; i++){\r\n    try {\r\n        // real is stored in first part of array\r\n        re[i] = toTransform[i * 2];\r\n        // imaginary is stored in the sequential part\r\n        im[i] = toTransform[(i * 2) + 1];\r\n        // magnitude is calculated by the square root of (imaginary^2 + real^2)\r\n        magnitude[i] = Math.sqrt((re[i] * re[i]) + (im[i] * im[i]));\r\n    }catch (ArrayIndexOutOfBoundsException e){\r\n        Log.e(&quot;test&quot;, &quot;NULL&quot;);\r\n    }\r\n}\r\n\r\ndouble peak = -1.0;\r\n// Get the largest magnitude peak\r\nfor(int i = 0; i &lt; blockSize; i++){\r\n    if(peak &lt; magnitude[i])\r\n        peak = magnitude[i];\r\n}\r\n// calculated the frequency\r\nfrequency = Double.toString((sampleRate * peak)/blockSize);\r\n```\r\n","title":"android getting sound frequencies real time?","body":"<p>Did you solved the problem? The crush is occurred because of the <code>ArrayIndexOutOfBoundsException</code>.</p>\n<p>So, modify your code to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] re = new double[blockSize];\ndouble[] im = new double[blockSize];\ndouble[] magnitude = new double[blockSize];\n\n// Calculate the Real and imaginary and Magnitude.\nfor(int i = 0; i &lt; blockSize+1; i++){\n    try {\n        // real is stored in first part of array\n        re[i] = toTransform[i * 2];\n        // imaginary is stored in the sequential part\n        im[i] = toTransform[(i * 2) + 1];\n        // magnitude is calculated by the square root of (imaginary^2 + real^2)\n        magnitude[i] = Math.sqrt((re[i] * re[i]) + (im[i] * im[i]));\n    }catch (ArrayIndexOutOfBoundsException e){\n        Log.e(&quot;test&quot;, &quot;NULL&quot;);\n    }\n}\n\ndouble peak = -1.0;\n// Get the largest magnitude peak\nfor(int i = 0; i &lt; blockSize; i++){\n    if(peak &lt; magnitude[i])\n        peak = magnitude[i];\n}\n// calculated the frequency\nfrequency = Double.toString((sampleRate * peak)/blockSize);\n</code></pre>\n"}],"owner":{"account_id":3639085,"reputation":207,"user_id":3033730,"accept_rate":40,"display_name":"Prerak Diwan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14123,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1681685399,"creation_date":1386034568,"question_id":20341229,"body_markdown":"I have been trying to get the sound frequency(number) in real time using fft and i am having run time errors. can any one help?\r\n\r\n\r\n\r\n    package com.example.recordsound;\r\n\r\n    import edu.emory.mathcs.jtransforms.fft.DoubleFFT_1D;\r\n\r\n    import ca.uol.aig.fftpack.RealDoubleFFT;\r\n\r\n    public class MainActivity extends Activity implements OnClickListener{\r\n\r\n    int audioSource = MediaRecorder.AudioSource.MIC;    // Audio source is the device MIC\r\n    int channelConfig = AudioFormat.CHANNEL_IN_MONO;    // Recording in mono\r\n    int audioEncoding = AudioFormat.ENCODING_PCM_16BIT; // Records in 16bit\r\n\r\n    private DoubleFFT_1D fft;                           // The fft double array\r\n    private RealDoubleFFT transformer;\r\n    int blockSize = 256;                               // deal with this many samples at a time\r\n    int sampleRate = 8000;                             // Sample rate in Hz\r\n    public double frequency = 0.0;                      // the frequency given\r\n\r\n    RecordAudio recordTask;                             // Creates a Record Audio command\r\n    TextView tv;                                        // Creates a text view for the frequency\r\n    boolean started = false;\r\n\tButton startStopButton;\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\ttv = (TextView)findViewById(R.id.textView1);  \r\n\t\tstartStopButton= (Button)findViewById(R.id.button1);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n\t\t// Inflate the menu; this adds items to the action bar if it is present.\r\n\t\tgetMenuInflater().inflate(R.menu.main, menu);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t\r\n\tprivate class RecordAudio extends AsyncTask&lt;Void, Double, Void&gt;{\r\n\t    @Override\r\n\t    protected Void doInBackground(Void... params){      \r\n\r\n\t        /*Calculates the fft and frequency of the input*/\r\n\t        //try{\r\n\t            int bufferSize = AudioRecord.getMinBufferSize(sampleRate, channelConfig, audioEncoding);                // Gets the minimum buffer needed\r\n\t            AudioRecord audioRecord = new AudioRecord(audioSource, sampleRate, channelConfig, audioEncoding, bufferSize);   // The RAW PCM sample recording\r\n\t            \r\n\t                            \r\n\t           \r\n\t            short[] buffer = new short[blockSize];          // Save the raw PCM samples as short bytes\r\n\t           \r\n\t          //  double[] audioDataDoubles = new double[(blockSize*2)]; // Same values as above, as doubles\r\n\t       //   ----------------------------------------------- \r\n\t            double[] re = new double[blockSize];\r\n\t            double[] im = new double[blockSize];\r\n\t            double[] magnitude = new double[blockSize];\r\n\t       //\t----------------------------------------------------\r\n\t            double[] toTransform = new double[blockSize];\r\n                \r\n\t            tv.setText(&quot;Hello&quot;);\r\n\t           // fft = new DoubleFFT_1D(blockSize);\r\n\t            \r\n\t           \r\n\t            try{\r\n\t            audioRecord.startRecording();  //Start\r\n\t            }catch(Throwable t){\r\n\t\t            Log.e(&quot;AudioRecord&quot;, &quot;Recording Failed&quot;);\r\n\t\t        }\r\n\t\t    \r\n\t            while(started){\r\n\t                /* Reads the data from the microphone. it takes in data \r\n\t                 * to the size of the window &quot;blockSize&quot;. The data is then\r\n\t                 * given in to audioRecord. The int returned is the number\r\n\t                 * of bytes that were read*/\r\n\r\n\t                int bufferReadResult = audioRecord.read(buffer, 0, blockSize);\r\n\r\n\t                // Read in the data from the mic to the array\r\n\t                for(int i = 0; i &lt; blockSize &amp;&amp; i &lt; bufferReadResult; i++) {\r\n\r\n\t                    /* dividing the short by 32768.0 gives us the \r\n\t                     * result in a range -1.0 to 1.0.\r\n\t                     * Data for the compextForward is given back \r\n\t                     * as two numbers in sequence. Therefore audioDataDoubles\r\n\t                     * needs to be twice as large*/\r\n\r\n\t                   // audioDataDoubles[2*i] = (double) buffer[i]/32768.0; // signed 16 bit\r\n\t                    //audioDataDoubles[(2*i)+1] = 0.0;\r\n\t                    toTransform[i] = (double) buffer[i] / 32768.0; // signed 16 bit\r\n\t                       \r\n\t                }\r\n\r\n\t                //audiodataDoubles now holds data to work with\r\n\t               // fft.complexForward(audioDataDoubles);\r\n\t                transformer.ft(toTransform);\r\n       //------------------------------------------------------------------------------------------\r\n\t                // Calculate the Real and imaginary and Magnitude.\r\n\t                for(int i = 0; i &lt; blockSize; i++){\r\n\t                    // real is stored in first part of array\r\n\t                    re[i] = toTransform[i*2];\r\n\t                    // imaginary is stored in the sequential part\r\n\t                    im[i] = toTransform[(i*2)+1];\r\n\t                    // magnitude is calculated by the square root of (imaginary^2 + real^2)\r\n\t                    magnitude[i] = Math.sqrt((re[i] * re[i]) + (im[i]*im[i]));\r\n\t                }\r\n\r\n\t                double peak = -1.0;\r\n\t                // Get the largest magnitude peak\r\n\t                for(int i = 0; i &lt; blockSize; i++){\r\n\t                    if(peak &lt; magnitude[i])\r\n\t                        peak = magnitude[i];\r\n\t                }\r\n\t                // calculated the frequency\r\n\t                frequency = (sampleRate * peak)/blockSize;\r\n    //----------------------------------------------------------------------------------------------\r\n\t                /* calls onProgressUpdate\r\n\t                 * publishes the frequency\r\n\t                 */\r\n\t                publishProgress(frequency);\r\n\t                try{\r\n                    \taudioRecord.stop();\r\n                    }\r\n                    catch(IllegalStateException e){\r\n                    \tLog.e(&quot;Stop failed&quot;, e.toString());\r\n                    \t\r\n                    }\r\n\t            }\r\n\r\n\t    //    } \r\n\t        return null;\r\n\t    }\r\n\r\n\t    protected void onProgressUpdate(Double... frequencies){\r\n\t        //print the frequency \r\n\t        String info = Double.toString(frequencies[0]);\r\n\t        tv.setText(info);\r\n\t    }\r\n\t    \r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tif(started){\r\n\t           started = false;\r\n\t           startStopButton.setText(&quot;Start&quot;);\r\n\t           recordTask.cancel(true);\r\n\t       } else {\r\n\t           started = true;\r\n\t           startStopButton.setText(&quot;Stop&quot;);\r\n\t           recordTask = new RecordAudio();\r\n\t           recordTask.execute();\r\n\t       }\r\n\t\t\r\n\t}\r\n\r\n    }\r\n\r\nAS SOON AS I run the program with the OnClick it crashes \r\nI tried two libraries for fft but ran one at a time to see if the library works or not \r\nAs soon as it reaches the line where I assign the the block size to the FFT object it crashes \r\ncan any one help ","title":"android getting sound frequencies real time?","body":"<p>I have been trying to get the sound frequency(number) in real time using fft and i am having run time errors. can any one help?</p>\n\n<pre><code>package com.example.recordsound;\n\nimport edu.emory.mathcs.jtransforms.fft.DoubleFFT_1D;\n\nimport ca.uol.aig.fftpack.RealDoubleFFT;\n\npublic class MainActivity extends Activity implements OnClickListener{\n\nint audioSource = MediaRecorder.AudioSource.MIC;    // Audio source is the device MIC\nint channelConfig = AudioFormat.CHANNEL_IN_MONO;    // Recording in mono\nint audioEncoding = AudioFormat.ENCODING_PCM_16BIT; // Records in 16bit\n\nprivate DoubleFFT_1D fft;                           // The fft double array\nprivate RealDoubleFFT transformer;\nint blockSize = 256;                               // deal with this many samples at a time\nint sampleRate = 8000;                             // Sample rate in Hz\npublic double frequency = 0.0;                      // the frequency given\n\nRecordAudio recordTask;                             // Creates a Record Audio command\nTextView tv;                                        // Creates a text view for the frequency\nboolean started = false;\nButton startStopButton;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    tv = (TextView)findViewById(R.id.textView1);  \n    startStopButton= (Button)findViewById(R.id.button1);\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.main, menu);\n    return true;\n}\n\n\nprivate class RecordAudio extends AsyncTask&lt;Void, Double, Void&gt;{\n    @Override\n    protected Void doInBackground(Void... params){      \n\n        /*Calculates the fft and frequency of the input*/\n        //try{\n            int bufferSize = AudioRecord.getMinBufferSize(sampleRate, channelConfig, audioEncoding);                // Gets the minimum buffer needed\n            AudioRecord audioRecord = new AudioRecord(audioSource, sampleRate, channelConfig, audioEncoding, bufferSize);   // The RAW PCM sample recording\n\n\n\n            short[] buffer = new short[blockSize];          // Save the raw PCM samples as short bytes\n\n          //  double[] audioDataDoubles = new double[(blockSize*2)]; // Same values as above, as doubles\n       //   ----------------------------------------------- \n            double[] re = new double[blockSize];\n            double[] im = new double[blockSize];\n            double[] magnitude = new double[blockSize];\n       //   ----------------------------------------------------\n            double[] toTransform = new double[blockSize];\n\n            tv.setText(\"Hello\");\n           // fft = new DoubleFFT_1D(blockSize);\n\n\n            try{\n            audioRecord.startRecording();  //Start\n            }catch(Throwable t){\n                Log.e(\"AudioRecord\", \"Recording Failed\");\n            }\n\n            while(started){\n                /* Reads the data from the microphone. it takes in data \n                 * to the size of the window \"blockSize\". The data is then\n                 * given in to audioRecord. The int returned is the number\n                 * of bytes that were read*/\n\n                int bufferReadResult = audioRecord.read(buffer, 0, blockSize);\n\n                // Read in the data from the mic to the array\n                for(int i = 0; i &lt; blockSize &amp;&amp; i &lt; bufferReadResult; i++) {\n\n                    /* dividing the short by 32768.0 gives us the \n                     * result in a range -1.0 to 1.0.\n                     * Data for the compextForward is given back \n                     * as two numbers in sequence. Therefore audioDataDoubles\n                     * needs to be twice as large*/\n\n                   // audioDataDoubles[2*i] = (double) buffer[i]/32768.0; // signed 16 bit\n                    //audioDataDoubles[(2*i)+1] = 0.0;\n                    toTransform[i] = (double) buffer[i] / 32768.0; // signed 16 bit\n\n                }\n\n                //audiodataDoubles now holds data to work with\n               // fft.complexForward(audioDataDoubles);\n                transformer.ft(toTransform);\n   //------------------------------------------------------------------------------------------\n                // Calculate the Real and imaginary and Magnitude.\n                for(int i = 0; i &lt; blockSize; i++){\n                    // real is stored in first part of array\n                    re[i] = toTransform[i*2];\n                    // imaginary is stored in the sequential part\n                    im[i] = toTransform[(i*2)+1];\n                    // magnitude is calculated by the square root of (imaginary^2 + real^2)\n                    magnitude[i] = Math.sqrt((re[i] * re[i]) + (im[i]*im[i]));\n                }\n\n                double peak = -1.0;\n                // Get the largest magnitude peak\n                for(int i = 0; i &lt; blockSize; i++){\n                    if(peak &lt; magnitude[i])\n                        peak = magnitude[i];\n                }\n                // calculated the frequency\n                frequency = (sampleRate * peak)/blockSize;\n//----------------------------------------------------------------------------------------------\n                /* calls onProgressUpdate\n                 * publishes the frequency\n                 */\n                publishProgress(frequency);\n                try{\n                    audioRecord.stop();\n                }\n                catch(IllegalStateException e){\n                    Log.e(\"Stop failed\", e.toString());\n\n                }\n            }\n\n    //    } \n        return null;\n    }\n\n    protected void onProgressUpdate(Double... frequencies){\n        //print the frequency \n        String info = Double.toString(frequencies[0]);\n        tv.setText(info);\n    }\n\n}\n\n@Override\npublic void onClick(View v) {\n    // TODO Auto-generated method stub\n    if(started){\n           started = false;\n           startStopButton.setText(\"Start\");\n           recordTask.cancel(true);\n       } else {\n           started = true;\n           startStopButton.setText(\"Stop\");\n           recordTask = new RecordAudio();\n           recordTask.execute();\n       }\n\n}\n\n}\n</code></pre>\n\n<p>AS SOON AS I run the program with the OnClick it crashes \nI tried two libraries for fft but ran one at a time to see if the library works or not \nAs soon as it reaches the line where I assign the the block size to the FFT object it crashes \ncan any one help </p>\n"},{"tags":["java","operators"],"comments":[{"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"score":0,"creation_date":1416215522,"post_id":26969080,"comment_id":42474524,"body_markdown":"why can&#39;t you do `if(currChar.equals(&quot;*&quot;))`?","body":"why can&#39;t you do <code>if(currChar.equals(&quot;*&quot;))</code>?"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1416215534,"post_id":26969080,"comment_id":42474530,"body_markdown":"There&#39;s no &quot;operator&quot; type. Invoke the correct operation based on the string value.","body":"There&#39;s no &quot;operator&quot; type. Invoke the correct operation based on the string value."},{"owner":{"display_name":"user4120685"},"score":0,"creation_date":1416215746,"post_id":26969080,"comment_id":42474640,"body_markdown":"Ok. If i get (a+b)*c as input what can i do.","body":"Ok. If i get (a+b)*c as input what can i do."},{"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"score":0,"creation_date":1416216062,"post_id":26969080,"comment_id":42474785,"body_markdown":"@SURESHKUMARS please post your code! we can&#39;t do all the work for you","body":"@SURESHKUMARS please post your code! we can&#39;t do all the work for you"},{"owner":{"account_id":3054541,"reputation":651,"user_id":2588479,"accept_rate":100,"display_name":"Chan"},"score":0,"creation_date":1416216062,"post_id":26969080,"comment_id":42474786,"body_markdown":"You still have not specified what is your logic to calculate the value of the expression. Just that you are using the Stack class is not enough information.","body":"You still have not specified what is your logic to calculate the value of the expression. Just that you are using the Stack class is not enough information."},{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":0,"creation_date":1416216137,"post_id":26969080,"comment_id":42474842,"body_markdown":"@SURESHKUMARS, to handle brackets &#39;(&#39; and &#39;)&#39; you could split the string up into multiple sections, handling the inner sections first, possibly a recursive function that returns the result.","body":"@SURESHKUMARS, to handle brackets &#39;(&#39; and &#39;)&#39; you could split the string up into multiple sections, handling the inner sections first, possibly a recursive function that returns the result."},{"owner":{"account_id":3054541,"reputation":651,"user_id":2588479,"accept_rate":100,"display_name":"Chan"},"score":0,"creation_date":1416216603,"post_id":26969080,"comment_id":42475106,"body_markdown":"Could you also be more specific about what &#39;simple&#39; expressions mean? Could you give a few examples? Do your simple expressions have parenthesis yet? If yes, could you supply a few examples of how you would evaluate those expressions.","body":"Could you also be more specific about what &#39;simple&#39; expressions mean? Could you give a few examples? Do your simple expressions have parenthesis yet? If yes, could you supply a few examples of how you would evaluate those expressions."},{"owner":{"account_id":3054541,"reputation":651,"user_id":2588479,"accept_rate":100,"display_name":"Chan"},"score":0,"creation_date":1416216715,"post_id":26969080,"comment_id":42475171,"body_markdown":"&quot;My code logic is: For eg: Given string 2 + 3 * 5, So 3 * 5 will be operated first then +2 will be performed in result of 3 * 5.&quot; --&gt; Thanks. Could you also post the code that is doing this incorrectly so we can suggest the corrections.","body":"&quot;My code logic is: For eg: Given string 2 + 3 * 5, So 3 * 5 will be operated first then +2 will be performed in result of 3 * 5.&quot; --&gt; Thanks. Could you also post the code that is doing this incorrectly so we can suggest the corrections."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1416219682,"post_id":26969080,"comment_id":42476812,"body_markdown":"Look into shunting yard algorithm. It copes with operator precedence and brackets.","body":"Look into shunting yard algorithm. It copes with operator precedence and brackets."}],"answers":[{"tags":[],"owner":{"account_id":2474748,"reputation":6549,"user_id":2155605,"accept_rate":85,"display_name":"Ogen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416215533,"creation_date":1416215533,"answer_id":26969126,"question_id":26969080,"body_markdown":"You will have to manually check and assign the operator. E.g.\r\n\r\n    if (s.equals(&quot;+&quot;)) {\r\n        // addition\r\n    }","title":"Convert String to operator(+*/-) in java","body":"<p>You will have to manually check and assign the operator. E.g.</p>\n\n<pre><code>if (s.equals(\"+\")) {\n    // addition\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":3,"creation_date":1416215817,"post_id":26969193,"comment_id":42474680,"body_markdown":"Just wondering, is it possible for * to have a lower case form and a upper case form?","body":"Just wondering, is it possible for * to have a lower case form and a upper case form?"},{"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"score":0,"creation_date":1416215972,"post_id":26969193,"comment_id":42474736,"body_markdown":"@committedandroider hmm.. probably not, i wanted to ignore whitespaces and thought it does so in ignoreCase. changed it now...","body":"@committedandroider hmm.. probably not, i wanted to ignore whitespaces and thought it does so in ignoreCase. changed it now..."},{"owner":{"account_id":3054541,"reputation":651,"user_id":2588479,"accept_rate":100,"display_name":"Chan"},"score":0,"creation_date":1416216467,"post_id":26969193,"comment_id":42475037,"body_markdown":"@No Idea For Name I still can&#39;t figure what is the current logic the user is using to calculate the value of the expression, what does &#39;simple&#39; mean when he/she says simple expressions. I mean the original question is yet so undefined and hence I kind of don&#39;t understand all these proposed solutions. Just saying..","body":"@No Idea For Name I still can&#39;t figure what is the current logic the user is using to calculate the value of the expression, what does &#39;simple&#39; mean when he/she says simple expressions. I mean the original question is yet so undefined and hence I kind of don&#39;t understand all these proposed solutions. Just saying.."},{"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"score":0,"creation_date":1416216611,"post_id":26969193,"comment_id":42475112,"body_markdown":"@Chan i agree with you and for that asked the OP for the code. i want to understand what has he done and what does he expect to receive.","body":"@Chan i agree with you and for that asked the OP for the code. i want to understand what has he done and what does he expect to receive."}],"tags":[],"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1416215739,"creation_date":1416215739,"answer_id":26969193,"question_id":26969080,"body_markdown":"probably the best way to do it will be `equals`, but it&#39;s best to ignore whitespaces:\r\n\r\ni&#39;m not quite sure how you split your string, but for example, if you have a char `op` and two integer `a` and `b`:\r\n\r\n    String str = op.replace(&quot; &quot;, &quot;&quot;);\r\n\r\n    if(str.equals(&quot;*&quot;)){\r\n       retVal = a*b;\r\n    } else if(str.equals(&quot;+&quot;)){\r\n       retVal = a+b;\r\n    }//etc\r\n\r\n","title":"Convert String to operator(+*/-) in java","body":"<p>probably the best way to do it will be <code>equals</code>, but it's best to ignore whitespaces:</p>\n\n<p>i'm not quite sure how you split your string, but for example, if you have a char <code>op</code> and two integer <code>a</code> and <code>b</code>:</p>\n\n<pre><code>String str = op.replace(\" \", \"\");\n\nif(str.equals(\"*\")){\n   retVal = a*b;\n} else if(str.equals(\"+\")){\n   retVal = a+b;\n}//etc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1416216012,"creation_date":1416215782,"answer_id":26969207,"question_id":26969080,"body_markdown":"Do what Ogen suggested and manually check the operator. A quick shortcut to doing the if, else if .... structure is switch, that is \r\n\r\n    switch(operand) {\r\n    case &quot;*&quot;:\r\n          break;\r\n    case &quot;+&quot;:\r\n          break; \r\n     .....\r\n     default:\r\n    }","title":"Convert String to operator(+*/-) in java","body":"<p>Do what Ogen suggested and manually check the operator. A quick shortcut to doing the if, else if .... structure is switch, that is </p>\n\n<pre><code>switch(operand) {\ncase \"*\":\n      break;\ncase \"+\":\n      break; \n .....\n default:\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3054541,"reputation":651,"user_id":2588479,"accept_rate":100,"display_name":"Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416217407,"creation_date":1416217407,"answer_id":26969706,"question_id":26969080,"body_markdown":"Ok, assuming your assignment needs you to use the Stack class and you already have the logic to pick numbers ( including the negative numbers -- that would an operator followed by another operator in all but one cases) and operators and parens, what you could do is as follows. \r\n\r\nIf you encounter a number, pop the last two elements from your stack.  The first item you pop will be an operator and the next will be a number. Evaluate the expression and push it into Stack and continue.\r\n\r\nYou can ignore the parenthesis. You will also have to handle the case of reading a number or parenthesis the first time.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Convert String to operator(+*/-) in java","body":"<p>Ok, assuming your assignment needs you to use the Stack class and you already have the logic to pick numbers ( including the negative numbers -- that would an operator followed by another operator in all but one cases) and operators and parens, what you could do is as follows. </p>\n\n<p>If you encounter a number, pop the last two elements from your stack.  The first item you pop will be an operator and the next will be a number. Evaluate the expression and push it into Stack and continue.</p>\n\n<p>You can ignore the parenthesis. You will also have to handle the case of reading a number or parenthesis the first time.</p>\n"},{"tags":[],"owner":{"account_id":7122241,"reputation":31,"user_id":5446445,"display_name":"Jigar Modi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456832896,"creation_date":1456832896,"answer_id":35722091,"question_id":26969080,"body_markdown":"Quick solution: Use below code for executing correct javascript Arithmetic expression in java.\r\n        \r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n\t\tScriptEngine se = manager.getEngineByName(&quot;JavaScript&quot;);        \r\n\t\ttry {\r\n\t\t\tObject result = se.eval(val);\r\n\t\t\tSystem.out.println(result.toString());\r\n\t\t} catch (ScriptException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"Convert String to operator(+*/-) in java","body":"<p>Quick solution: Use below code for executing correct javascript Arithmetic expression in java.</p>\n\n<pre><code>    ScriptEngineManager manager = new ScriptEngineManager();\n    ScriptEngine se = manager.getEngineByName(\"JavaScript\");        \n    try {\n        Object result = se.eval(val);\n        System.out.println(result.toString());\n    } catch (ScriptException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22800960,"reputation":1,"user_id":21659259,"display_name":"Nathanael Nathanael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681685092,"creation_date":1681685092,"answer_id":76030682,"question_id":26969080,"body_markdown":"Honestly, I was looking for an answer too. I wanted to make a calculator app so I was trying to turn a string directly into an operation but after looking on the internet for a few hours I found nothing so I ended up making the program myself and since I&#39;m a beginner it wasn&#39;t easy. So here s my program it doesn&#39;t work with parenthesis or commas . You can only use the four operators &quot;+ - * /&quot;\r\nbut besides that, everything seems to be working.\r\n\r\nIt s pretty simple just start with the division by taking both numbers and the string that represent the operand then cut it into three string then do the operation with both numbers after that replace the operation with the result until there s no division left . After that do the same for multiplication , subtraction, and finally addition\r\n\r\nhere s a description of my functions\r\norderOp : will call the other function\r\ngetOp   : get the string of the operation so if you gave it &quot;2+4*5/6&quot; you&#39;ll get 5/6\r\ncutString: cut the string into three part so if you gave it 5/6 you&#39;ll get \r\na string array with [&quot;5&quot;,&quot;/&quot;,&quot;6&quot;] inside \r\nOp: takes the the array of cutString and depending on the arr[1] so in this case &quot;/&quot; it does the math with\r\n\r\n    class Operateur{\r\n    private static final DecimalFormat decfor = new DecimalFormat(&quot;0.00&quot;);\r\n    public static String Op(String s){\r\n        String[] equation = cutString(s);\r\n        double sol = 0;\r\n        switch (equation[1]){\r\n            case &quot;/&quot;:\r\n                sol = Double.parseDouble(equation[0])/Double.parseDouble(equation[2]);\r\n                break;\r\n            case &quot;*&quot;:\r\n                sol = Double.parseDouble(equation[0])*Double.parseDouble(equation[2]);\r\n                break;\r\n            case &quot;+&quot;:\r\n                sol = Double.parseDouble(equation[0])+Double.parseDouble(equation[2]);\r\n                break;\r\n            case &quot;-&quot;:\r\n                sol = Double.parseDouble(equation[0])-Double.parseDouble(equation[2]);\r\n                break;\r\n        }\r\n        return sol+&quot;&quot;;\r\n    }\r\n    \r\n\r\n    public static String[] cutString(String s){\r\n        String[] arr = new String[0];\r\n        if(s.contains(&quot;+&quot;)){\r\n            arr = s.split(&quot;((?=[//+])|(?&lt;=[//+]))&quot;);\r\n        }\r\n        if(s.contains(&quot;-&quot;)){\r\n            arr = s.split(&quot;((?=-)|(?&lt;=-))&quot;);\r\n        }\r\n        if(s.contains(&quot;*&quot;)){\r\n            arr = s.split(&quot;((?=[//*])|(?&lt;=[//*]))&quot;);\r\n        }\r\n        if(s.contains(&quot;/&quot;)){\r\n            arr = s.split(&quot;((?=[///])|(?&lt;=[///]))&quot;);\r\n        }\r\n        return arr;\r\n    }\r\n    \r\n\r\n    public static void orderOp(String equation){\r\n        while(equation.contains(&quot;/&quot;)){\r\n            equation = equation.replace(getOp(equation),(decfor.format(Double.parseDouble(Op(getOp(equation))))).replace(&#39;,&#39;, &#39;.&#39;));\r\n\r\n        }\r\n        System.out.println(&quot;Division :&quot; +equation);\r\n        while(equation.contains(&quot;*&quot;)){\r\n            equation = equation.replace(getOp(equation),decfor.format(Double.parseDouble(Op(getOp(equation)))).replace(&#39;,&#39;, &#39;.&#39;));\r\n        }\r\n        System.out.println(&quot;Multiplication:&quot; +equation);\r\n        while(equation.contains(&quot;+&quot;)){\r\n            equation = equation.replace(getOp(equation),Op(getOp(equation)));\r\n        }\r\n        System.out.println(&quot;addition:&quot; +equation);\r\n        while(equation.contains(&quot;-&quot;)&amp;&amp; (equation.replaceAll(&quot;[^.]&quot;, &quot;&quot;).length()&gt;1)){\r\n            equation = equation.replace(getOp(equation),Op(getOp(equation)).replace(&#39;,&#39;, &#39;.&#39;));\r\n            equation = RemoveNegative(equation);\r\n            System.out.println(equation);\r\n        }\r\n        System.out.println(&quot;soustraction:&quot; +equation);\r\n\r\n    }\r\n\r\n    public static String getOp(String s){\r\n        String r =&quot;&quot;;\r\n        if(s.contains(&quot;/&quot;)){\r\n            int slash = s.indexOf(&quot;/&quot;);\r\n            int first = slash;\r\n            int last = slash;\r\n            first -= 1;\r\n            while((first &gt;= 0)&amp;&amp;(s.charAt(first) != &#39;+&#39;)&amp;(s.charAt(first) != &#39;-&#39;)&amp;(s.charAt(first) != &#39;*&#39;)&amp;(s.charAt(first) != &#39;/&#39;)){\r\n                first -= 1;\r\n            }\r\n            first += 1;\r\n            last += 1;\r\n            while((last &lt; s.length())&amp;&amp;(s.charAt(last) != &#39;+&#39;)&amp;(s.charAt(last) != &#39;-&#39;)&amp;(s.charAt(last) != &#39;*&#39;)&amp;(s.charAt(last) != &#39;/&#39;)&amp;&amp;(s.charAt(last) != &#39;/&#39;)){//&amp;(last &gt;= s.length())\r\n                if(last &lt; s.length()) {\r\n                    last += 1;\r\n                }\r\n            }\r\n            r = s.substring(first,last);\r\n        }\r\n        else if(s.contains(&quot;*&quot;)){\r\n            int slash = s.indexOf(&quot;*&quot;);\r\n            int first = slash;\r\n            int last = slash;\r\n            first -= 1;\r\n            while((first &gt;= 0)&amp;&amp;(s.charAt(first) != &#39;+&#39;)&amp;(s.charAt(first) != &#39;-&#39;)&amp;(s.charAt(first) != &#39;*&#39;)&amp;(s.charAt(first) != &#39;/&#39;)){\r\n                first -= 1;\r\n            }\r\n            first += 1;\r\n            last += 1;\r\n            while((last &lt; s.length())&amp;&amp;(s.charAt(last) != &#39;+&#39;)&amp;&amp;(s.charAt(last) != &#39;-&#39;)&amp;&amp;(s.charAt(last) != &#39;*&#39;)&amp;&amp;(s.charAt(last) != &#39;/&#39;)){\r\n                if(last &lt; s.length()) {\r\n                    last += 1;\r\n                }\r\n            }\r\n            r = s.substring(first,last);\r\n        }\r\n        else if(s.contains(&quot;+&quot;)){\r\n            int slash = s.indexOf(&quot;+&quot;);\r\n            int first = slash;\r\n            int last = slash;\r\n            first -= 1;\r\n            while((first &gt;= 0)&amp;&amp;(s.charAt(first) != &#39;+&#39;)&amp;(s.charAt(first) != &#39;-&#39;)&amp;(s.charAt(first) != &#39;*&#39;)&amp;(s.charAt(first) != &#39;/&#39;)){\r\n                first -= 1;\r\n            }\r\n            first += 1;\r\n            last += 1;\r\n            while((last &lt; s.length())&amp;&amp;(s.charAt(last) != &#39;+&#39;)&amp;&amp;(s.charAt(last) != &#39;-&#39;)&amp;&amp;(s.charAt(last) != &#39;*&#39;)&amp;&amp;(s.charAt(last) != &#39;/&#39;)){\r\n                if(last &lt; s.length()) {\r\n                    last += 1;\r\n                }\r\n            }\r\n            r = s.substring(first,last);\r\n        }\r\n        else if(s.contains(&quot;-&quot;)){\r\n            int slash = s.indexOf(&quot;-&quot;);\r\n            int first = slash;\r\n            int last = slash;\r\n            first -= 1;\r\n            while((first &gt;= 0)&amp;&amp;(s.charAt(first) != &#39;+&#39;)&amp;(s.charAt(first) != &#39;-&#39;)&amp;(s.charAt(first) != &#39;*&#39;)&amp;(s.charAt(first) != &#39;/&#39;)){\r\n                first -= 1;\r\n            }\r\n            first += 1;\r\n            last += 1;\r\n            while((last &lt; s.length())&amp;&amp;(s.charAt(last) != &#39;+&#39;)&amp;&amp;(s.charAt(last) != &#39;-&#39;)&amp;&amp;(s.charAt(last) != &#39;*&#39;)&amp;&amp;(s.charAt(last) != &#39;/&#39;)){\r\n                if(last &lt; s.length()) {\r\n                    last += 1;\r\n                }\r\n            }\r\n            r = s.substring(first,last);\r\n        }\r\n\r\n        return r;\r\n    }\r\n    \r\n\r\n    public static String RemoveNegative(String s){\r\n        s = s.replace(&quot;-+&quot;,&quot;-&quot;);\r\n        s = s.replace(&quot;+-&quot;,&quot;-&quot;);\r\n        if(s.charAt(0) == &#39;-&#39;){\r\n            s = s.replaceFirst(&quot;-&quot;,&quot;&quot;);\r\n            s = s.replace(&quot;-&quot;,&quot;+&quot;);\r\n            while(s.contains(&quot;+&quot;)){\r\n                s = s.replace(getOp(s),Op(getOp(s)));\r\n            }\r\n            s = &quot;-&quot;+s;\r\n        }\r\n        return s;\r\n    }\r\n}","title":"Convert String to operator(+*/-) in java","body":"<p>Honestly, I was looking for an answer too. I wanted to make a calculator app so I was trying to turn a string directly into an operation but after looking on the internet for a few hours I found nothing so I ended up making the program myself and since I'm a beginner it wasn't easy. So here s my program it doesn't work with parenthesis or commas . You can only use the four operators &quot;+ - * /&quot;\nbut besides that, everything seems to be working.</p>\n<p>It s pretty simple just start with the division by taking both numbers and the string that represent the operand then cut it into three string then do the operation with both numbers after that replace the operation with the result until there s no division left . After that do the same for multiplication , subtraction, and finally addition</p>\n<p>here s a description of my functions\norderOp : will call the other function\ngetOp   : get the string of the operation so if you gave it &quot;2+4*5/6&quot; you'll get 5/6\ncutString: cut the string into three part so if you gave it 5/6 you'll get\na string array with [&quot;5&quot;,&quot;/&quot;,&quot;6&quot;] inside\nOp: takes the the array of cutString and depending on the arr[1] so in this case &quot;/&quot; it does the math with</p>\n<pre><code>class Operateur{\nprivate static final DecimalFormat decfor = new DecimalFormat(&quot;0.00&quot;);\npublic static String Op(String s){\n    String[] equation = cutString(s);\n    double sol = 0;\n    switch (equation[1]){\n        case &quot;/&quot;:\n            sol = Double.parseDouble(equation[0])/Double.parseDouble(equation[2]);\n            break;\n        case &quot;*&quot;:\n            sol = Double.parseDouble(equation[0])*Double.parseDouble(equation[2]);\n            break;\n        case &quot;+&quot;:\n            sol = Double.parseDouble(equation[0])+Double.parseDouble(equation[2]);\n            break;\n        case &quot;-&quot;:\n            sol = Double.parseDouble(equation[0])-Double.parseDouble(equation[2]);\n            break;\n    }\n    return sol+&quot;&quot;;\n}\n\n\npublic static String[] cutString(String s){\n    String[] arr = new String[0];\n    if(s.contains(&quot;+&quot;)){\n        arr = s.split(&quot;((?=[//+])|(?&lt;=[//+]))&quot;);\n    }\n    if(s.contains(&quot;-&quot;)){\n        arr = s.split(&quot;((?=-)|(?&lt;=-))&quot;);\n    }\n    if(s.contains(&quot;*&quot;)){\n        arr = s.split(&quot;((?=[//*])|(?&lt;=[//*]))&quot;);\n    }\n    if(s.contains(&quot;/&quot;)){\n        arr = s.split(&quot;((?=[///])|(?&lt;=[///]))&quot;);\n    }\n    return arr;\n}\n\n\npublic static void orderOp(String equation){\n    while(equation.contains(&quot;/&quot;)){\n        equation = equation.replace(getOp(equation),(decfor.format(Double.parseDouble(Op(getOp(equation))))).replace(',', '.'));\n\n    }\n    System.out.println(&quot;Division :&quot; +equation);\n    while(equation.contains(&quot;*&quot;)){\n        equation = equation.replace(getOp(equation),decfor.format(Double.parseDouble(Op(getOp(equation)))).replace(',', '.'));\n    }\n    System.out.println(&quot;Multiplication:&quot; +equation);\n    while(equation.contains(&quot;+&quot;)){\n        equation = equation.replace(getOp(equation),Op(getOp(equation)));\n    }\n    System.out.println(&quot;addition:&quot; +equation);\n    while(equation.contains(&quot;-&quot;)&amp;&amp; (equation.replaceAll(&quot;[^.]&quot;, &quot;&quot;).length()&gt;1)){\n        equation = equation.replace(getOp(equation),Op(getOp(equation)).replace(',', '.'));\n        equation = RemoveNegative(equation);\n        System.out.println(equation);\n    }\n    System.out.println(&quot;soustraction:&quot; +equation);\n\n}\n\npublic static String getOp(String s){\n    String r =&quot;&quot;;\n    if(s.contains(&quot;/&quot;)){\n        int slash = s.indexOf(&quot;/&quot;);\n        int first = slash;\n        int last = slash;\n        first -= 1;\n        while((first &gt;= 0)&amp;&amp;(s.charAt(first) != '+')&amp;(s.charAt(first) != '-')&amp;(s.charAt(first) != '*')&amp;(s.charAt(first) != '/')){\n            first -= 1;\n        }\n        first += 1;\n        last += 1;\n        while((last &lt; s.length())&amp;&amp;(s.charAt(last) != '+')&amp;(s.charAt(last) != '-')&amp;(s.charAt(last) != '*')&amp;(s.charAt(last) != '/')&amp;&amp;(s.charAt(last) != '/')){//&amp;(last &gt;= s.length())\n            if(last &lt; s.length()) {\n                last += 1;\n            }\n        }\n        r = s.substring(first,last);\n    }\n    else if(s.contains(&quot;*&quot;)){\n        int slash = s.indexOf(&quot;*&quot;);\n        int first = slash;\n        int last = slash;\n        first -= 1;\n        while((first &gt;= 0)&amp;&amp;(s.charAt(first) != '+')&amp;(s.charAt(first) != '-')&amp;(s.charAt(first) != '*')&amp;(s.charAt(first) != '/')){\n            first -= 1;\n        }\n        first += 1;\n        last += 1;\n        while((last &lt; s.length())&amp;&amp;(s.charAt(last) != '+')&amp;&amp;(s.charAt(last) != '-')&amp;&amp;(s.charAt(last) != '*')&amp;&amp;(s.charAt(last) != '/')){\n            if(last &lt; s.length()) {\n                last += 1;\n            }\n        }\n        r = s.substring(first,last);\n    }\n    else if(s.contains(&quot;+&quot;)){\n        int slash = s.indexOf(&quot;+&quot;);\n        int first = slash;\n        int last = slash;\n        first -= 1;\n        while((first &gt;= 0)&amp;&amp;(s.charAt(first) != '+')&amp;(s.charAt(first) != '-')&amp;(s.charAt(first) != '*')&amp;(s.charAt(first) != '/')){\n            first -= 1;\n        }\n        first += 1;\n        last += 1;\n        while((last &lt; s.length())&amp;&amp;(s.charAt(last) != '+')&amp;&amp;(s.charAt(last) != '-')&amp;&amp;(s.charAt(last) != '*')&amp;&amp;(s.charAt(last) != '/')){\n            if(last &lt; s.length()) {\n                last += 1;\n            }\n        }\n        r = s.substring(first,last);\n    }\n    else if(s.contains(&quot;-&quot;)){\n        int slash = s.indexOf(&quot;-&quot;);\n        int first = slash;\n        int last = slash;\n        first -= 1;\n        while((first &gt;= 0)&amp;&amp;(s.charAt(first) != '+')&amp;(s.charAt(first) != '-')&amp;(s.charAt(first) != '*')&amp;(s.charAt(first) != '/')){\n            first -= 1;\n        }\n        first += 1;\n        last += 1;\n        while((last &lt; s.length())&amp;&amp;(s.charAt(last) != '+')&amp;&amp;(s.charAt(last) != '-')&amp;&amp;(s.charAt(last) != '*')&amp;&amp;(s.charAt(last) != '/')){\n            if(last &lt; s.length()) {\n                last += 1;\n            }\n        }\n        r = s.substring(first,last);\n    }\n\n    return r;\n}\n\n\npublic static String RemoveNegative(String s){\n    s = s.replace(&quot;-+&quot;,&quot;-&quot;);\n    s = s.replace(&quot;+-&quot;,&quot;-&quot;);\n    if(s.charAt(0) == '-'){\n        s = s.replaceFirst(&quot;-&quot;,&quot;&quot;);\n        s = s.replace(&quot;-&quot;,&quot;+&quot;);\n        while(s.contains(&quot;+&quot;)){\n            s = s.replace(getOp(s),Op(getOp(s)));\n        }\n        s = &quot;-&quot;+s;\n    }\n    return s;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"display_name":"user4120685"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70723,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26969193,"answer_count":6,"score":6,"last_activity_date":1681685092,"creation_date":1416215358,"question_id":26969080,"body_markdown":"I am using Stack class to calculate simple arithmetic expressions involving integers,\r\nsuch as 1+2*3.your program would execute operations in the order given,without regarding to the precedence of operators.\r\n*Thus, the expression 1+2*3 should be calculated (1+2)*3=9,not 1+(2*3)=7.\r\n\r\n\r\nIf i get the input as 1+2*3,i know how to convert the string 1,2,3 to Integer.but i don&#39;t know how to covert +,* from string type to operator.\r\n\r\nMy code logic is:\r\nFor eg: Given string 2 + (3 * 5), So 3 * 5 will be operated first then +2 will be performed in result of 3 * 5.","title":"Convert String to operator(+*/-) in java","body":"<p>I am using Stack class to calculate simple arithmetic expressions involving integers,\nsuch as 1+2*3.your program would execute operations in the order given,without regarding to the precedence of operators.\n*Thus, the expression 1+2*3 should be calculated (1+2)*3=9,not 1+(2*3)=7.</p>\n\n<p>If i get the input as 1+2*3,i know how to convert the string 1,2,3 to Integer.but i don't know how to covert +,* from string type to operator.</p>\n\n<p>My code logic is:\nFor eg: Given string 2 + (3 * 5), So 3 * 5 will be operated first then +2 will be performed in result of 3 * 5.</p>\n"},{"tags":["java","gradle","mqtt","hivemq"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681653210,"post_id":76027936,"comment_id":134087752,"body_markdown":"You haven&#39;t provided enough information.  You need to show us the **complete** error message.  It probably says `Try: Run with --debug option to get more log output`.  So you should do that too.  Read what the log output says ... and show it to us if you don&#39;t understand it.","body":"You haven&#39;t provided enough information.  You need to show us the <b>complete</b> error message.  It probably says <code>Try: Run with --debug option to get more log output</code>.  So you should do that too.  Read what the log output says ... and show it to us if you don&#39;t understand it."},{"owner":{"account_id":24756681,"reputation":53,"user_id":18641533,"display_name":"Ziad"},"score":0,"creation_date":1681654754,"post_id":76027936,"comment_id":134087991,"body_markdown":"Hi Stephen I have just added the debug log to the question","body":"Hi Stephen I have just added the debug log to the question"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681684880,"creation_date":1681655777,"answer_id":76028384,"question_id":76027936,"body_markdown":"The purpose of the &#39;:licensemain&#39; task is to check that your source files have a license header of the required format.  You can read about it in the README for the [license-gradle-plugin][1].\r\n\r\nThe nested exception&#39;s message has a list of filenames that are violating the requirement.  I expect these are files that you have added.\r\n\r\nThis check is in the build instructions for the codebase of the project you are modifying to detect violations of a &quot;code quality&quot; rule that they have set for themselves; i.e. that all source files need a copyright header.  I don&#39;t think that missing headers are a violation of the Apache License 2.0.  If I am correct about what &#39;:licensemain&#39; errors are saying, you could ignore them; e.g. comment out the relevant part of the Gradle build file.\r\n\r\nHaving said that, you &gt;should&lt; make sure that you understand the permissions and requirements of the Apache License 2.0 so that you don&#39;t accidentally violate them.  If you intend to contribute your work back to the project, you should also find and read the project&#39;s legal requirements for contributors.\r\n\r\n(I&#39;m not going to advise you on the requirements of the Apache license because I&#39;m not an expert legal matters.  Also, legal and licensing questions are explicitly off-topic for StackOverflow.)\r\n\r\n  [1]: https://github.com/hierynomus/license-gradle-plugin","title":"Get permission to make changes on project with Apache License 2.0","body":"<p>The purpose of the ':licensemain' task is to check that your source files have a license header of the required format.  You can read about it in the README for the <a href=\"https://github.com/hierynomus/license-gradle-plugin\" rel=\"nofollow noreferrer\">license-gradle-plugin</a>.</p>\n<p>The nested exception's message has a list of filenames that are violating the requirement.  I expect these are files that you have added.</p>\n<p>This check is in the build instructions for the codebase of the project you are modifying to detect violations of a &quot;code quality&quot; rule that they have set for themselves; i.e. that all source files need a copyright header.  I don't think that missing headers are a violation of the Apache License 2.0.  If I am correct about what ':licensemain' errors are saying, you could ignore them; e.g. comment out the relevant part of the Gradle build file.</p>\n<p>Having said that, you &gt;should&lt; make sure that you understand the permissions and requirements of the Apache License 2.0 so that you don't accidentally violate them.  If you intend to contribute your work back to the project, you should also find and read the project's legal requirements for contributors.</p>\n<p>(I'm not going to advise you on the requirements of the Apache license because I'm not an expert legal matters.  Also, legal and licensing questions are explicitly off-topic for StackOverflow.)</p>\n"}],"owner":{"account_id":24756681,"reputation":53,"user_id":18641533,"display_name":"Ziad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681684880,"creation_date":1681650289,"question_id":76027936,"body_markdown":"I&#39;m working on Hivemq allow all extension for Mqtt broker.https://github.com/hivemq/hivemq-allow-all-extension\r\nI need to add logging to the extention but the issue is that when I am trying to build gradle after adding some changes it is giving this error: \r\n\r\n\r\n    Execution failed for task &#39;:licenseMain&#39;.\r\n    License violations were found\r\n\r\n\r\nMy experience in Java and Gradle is limited, I could not understand how to get permission for redistribution. is it the license form that I need to change or what exactly do I need to do?\r\nHere&#39;s what I got when build with debug:\r\n\r\n    Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:licenseMain&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\r\n    \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:72)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:144)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:129)\r\n    \tat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:42)\r\n    \tat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:51)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:54)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:43)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:40)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$executeTasks$7(DefaultBuildLifecycleController.java:165)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$tryTransition$8(StateTransitionController.java:174)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n    \tat org.gradle.internal.model.StateTransitionController.tryTransition(StateTransitionController.java:174)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.executeTasks(DefaultBuildLifecycleController.java:165)\r\n    \tat org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.runWork(DefaultBuildWorkGraphController.java:142)\r\n    \tat org.gradle.composite.internal.DefaultBuildController.doBuild(DefaultBuildController.java:231)\r\n    \tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:124)\r\n    \tat org.gradle.composite.internal.DefaultBuildController.doRun(DefaultBuildController.java:204)\r\n    \tat org.gradle.composite.internal.DefaultBuildController.access$000(DefaultBuildController.java:51)\r\n    \tat org.gradle.composite.internal.DefaultBuildController$BuildOpRunnable.run(DefaultBuildController.java:264)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    Caused by: org.gradle.api.GradleException: License violations were found: C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\configuration\\MessageLogConfigurationReader.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\configuration\\MessageLogConfiguration.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\initilizer\\ClientInitializerImplementation.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\AllowAllExtensionMain.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\initilizer\\ClientInitializerImplimentation4_2.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\util\\MessageLog.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\AllowAllAuthenticator.java}\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat nl.javadude.gradle.plugins.license.License.process(License.groovy:145)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n    \tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n    \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n    \tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n    \tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n    \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n    \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n    \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n    \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n    \tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n    \tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n    \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n    \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n    \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n    \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n    \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:204)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:83)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\r\n    \tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n    \tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n    \tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n    \tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n    \tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n    \tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:72)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:144)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:129)\r\n    \tat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:42)\r\n    \tat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:51)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:54)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:43)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:40)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$executeTasks$7(DefaultBuildLifecycleController.java:165)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$tryTransition$8(StateTransitionController.java:174)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n    \tat org.gradle.internal.model.StateTransitionController.tryTransition(StateTransitionController.java:174)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.executeTasks(DefaultBuildLifecycleController.java:165)\r\n    \tat org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.runWork(DefaultBuildWorkGraphController.java:142)\r\n    \tat org.gradle.composite.internal.DefaultBuildController.doBuild(DefaultBuildController.java:231)\r\n    \tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:124)\r\n    \tat org.gradle.composite.internal.DefaultBuildController.doRun(DefaultBuildController.java:204)\r\n    \tat org.gradle.composite.internal.DefaultBuildController.access$000(DefaultBuildController.java:51)\r\n    \tat org.gradle.composite.internal.DefaultBuildController$BuildOpRunnable.run(DefaultBuildController.java:264)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)","title":"Get permission to make changes on project with Apache License 2.0","body":"<p>I'm working on Hivemq allow all extension for Mqtt broker.https://github.com/hivemq/hivemq-allow-all-extension\nI need to add logging to the extention but the issue is that when I am trying to build gradle after adding some changes it is giving this error:</p>\n<pre><code>Execution failed for task ':licenseMain'.\nLicense violations were found\n</code></pre>\n<p>My experience in Java and Gradle is limited, I could not understand how to get permission for redistribution. is it the license form that I need to change or what exactly do I need to do?\nHere's what I got when build with debug:</p>\n<pre><code>Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':licenseMain'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:72)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:144)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:129)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:42)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:51)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:54)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:43)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:40)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$executeTasks$7(DefaultBuildLifecycleController.java:165)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n    at org.gradle.internal.model.StateTransitionController.lambda$tryTransition$8(StateTransitionController.java:174)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.tryTransition(StateTransitionController.java:174)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.executeTasks(DefaultBuildLifecycleController.java:165)\n    at org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.runWork(DefaultBuildWorkGraphController.java:142)\n    at org.gradle.composite.internal.DefaultBuildController.doBuild(DefaultBuildController.java:231)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:124)\n    at org.gradle.composite.internal.DefaultBuildController.doRun(DefaultBuildController.java:204)\n    at org.gradle.composite.internal.DefaultBuildController.access$000(DefaultBuildController.java:51)\n    at org.gradle.composite.internal.DefaultBuildController$BuildOpRunnable.run(DefaultBuildController.java:264)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.api.GradleException: License violations were found: C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\configuration\\MessageLogConfigurationReader.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\configuration\\MessageLogConfiguration.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\initilizer\\ClientInitializerImplementation.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\AllowAllExtensionMain.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\initilizer\\ClientInitializerImplimentation4_2.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\util\\MessageLog.java,C:\\MqttExtentions\\hivemq-allow-all-extension-master\\hivemq-allow-all-extension-master\\src\\main\\java\\com\\hivemq\\extensions\\allowall\\AllowAllAuthenticator.java}\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at nl.javadude.gradle.plugins.license.License.process(License.groovy:145)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:204)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:83)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.execution.plan.DefaultPlanExecutor.process(DefaultPlanExecutor.java:72)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.executeWithServices(DefaultTaskExecutionGraph.java:144)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:129)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:42)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:51)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:54)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor$ExecuteTasks.call(BuildOperationFiringBuildWorkerExecutor.java:43)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.execution.BuildOperationFiringBuildWorkerExecutor.execute(BuildOperationFiringBuildWorkerExecutor.java:40)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$executeTasks$7(DefaultBuildLifecycleController.java:165)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n    at org.gradle.internal.model.StateTransitionController.lambda$tryTransition$8(StateTransitionController.java:174)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.tryTransition(StateTransitionController.java:174)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.executeTasks(DefaultBuildLifecycleController.java:165)\n    at org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.runWork(DefaultBuildWorkGraphController.java:142)\n    at org.gradle.composite.internal.DefaultBuildController.doBuild(DefaultBuildController.java:231)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:124)\n    at org.gradle.composite.internal.DefaultBuildController.doRun(DefaultBuildController.java:204)\n    at org.gradle.composite.internal.DefaultBuildController.access$000(DefaultBuildController.java:51)\n    at org.gradle.composite.internal.DefaultBuildController$BuildOpRunnable.run(DefaultBuildController.java:264)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n</code></pre>\n"},{"tags":["java","wicket"],"owner":{"account_id":25488603,"reputation":131,"user_id":19283800,"display_name":"Helotrix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681683535,"creation_date":1681683535,"question_id":76030604,"body_markdown":"Good evening everyone,\r\n\r\nI&#39;m currently having a small problem within my Wicket project which is driving me nuts. I tried to break it down extremely in a small example. Actually, they are complex JPA objects with intermediate tables. In addition, there are several address types. I hide all of that for this example.\r\n\r\nGoal: all addresses in the database are to be output in a ListChoice (wicket-id: addresses). With a click on the plus button (wicket-id: addToList), all selected entries from the ListChoice should be added to the current SimpleObject. In addition, all addresses assigned to the SimpleObject are displayed in a ListChoice (wicket-id: notifications). If one or more addresses are selected here &amp; then clicked on the minus button (wicket-id: removeFromList), the addresses are removed from the SimpleObject.\r\n\r\nCurrent state: one or more address data records can be selected in the list choice and added by clicking on the plus button. Unfortunately nothing happens when I select a item on the notification-List and click the minus button. When I query within the button&#39;s onSubmit method which items have been selected (selectedNotifications), I get an empty list.\r\n\r\nHere is the code\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n \r\n&lt;wicket:extend xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:wicket=&quot;http://wicket.apache.org&quot;&gt;\r\n        &lt;form wicket:id=&quot;form&quot;&gt;\r\n                &lt;label&gt;Available adresses:&lt;/label&gt;\r\n                &lt;div class=&quot;cronAddresses&quot;&gt;\r\n                        &lt;select wicket:id=&quot;addresses&quot; class=&quot;fullWidth&quot;&gt;&lt;/select&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;buttons&quot;&gt;\r\n                        &lt;input type=&quot;button&quot; wicket:id=&quot;addToList&quot; value=&quot;+&quot; /&gt;&lt;br&gt;\r\n                        &lt;input type=&quot;button&quot; wicket:id=&quot;removeFromList&quot; value=&quot;-&quot; /&gt;\r\n                &lt;/div&gt;\r\n                &lt;label&gt;Included adresses:&lt;/label&gt;\r\n                &lt;div class=&quot;list&quot;&gt;\r\n                        &lt;select wicket:id=&quot;notifications&quot;&gt;&lt;/select&gt;\r\n                &lt;/div&gt;\r\n        &lt;/form&gt;\r\n&lt;/wicket:extend&gt;\r\n```\r\n \r\n```\r\npublic class SimpleObject implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n       \r\n        private List&lt;String&gt; addresses = new ArrayList&lt;&gt;();\r\n \r\n        public List&lt;String&gt; getAddresses() {\r\n                return addresses;\r\n        }\r\n \r\n        public void addAddress(String address) {\r\n                boolean alreadyPresent = addresses.stream()\r\n                        .anyMatch(curAddress -&gt; curAddress.equals(address));\r\n                if(alreadyPresent == false) {\r\n                        addresses.add(address);\r\n                }\r\n        }\r\n \r\n        public void removeAddress(String address) {\r\n                List&lt;String&gt; foundAddresses = addresses.stream()\r\n                        .filter(curAddress -&gt; curAddress.equals(address))\r\n                        .collect(Collectors.toList());\r\n                addresses.removeAll(foundAddresses);\r\n        }\r\n}\r\n```\r\n \r\n \r\n \r\n```\r\npublic class SimpleTestPanel extends BPanel {\r\n        private static final long serialVersionUID = 1L;\r\n \r\n        private Model&lt;SimpleObject&gt; simpleObjectModel;\r\n \r\n        private ListModel&lt;String&gt; selectedAddresses = new ListModel&lt;&gt;();\r\n        private ListModel&lt;String&gt; selectedNotifications = new ListModel&lt;&gt;();\r\n       \r\n        public SimpleTestPanel(String id) {\r\n                super(id);\r\n               \r\n                simpleObjectModel = Model.of(new SimpleObject());\r\n               \r\n                initialize();\r\n \r\n                add(form);\r\n        }\r\n \r\n \r\n        private void initialize() {\r\n                CompoundPropertyModel model = new CompoundPropertyModel(simpleObjectModel);\r\n                form.setModel(model);\r\n               \r\n                form.add(createAddresssesChoice());\r\n                form.add(createAddToListButton());\r\n                form.add(createRemoveFromListButton());\r\n                form.add(createNotificationList());\r\n        }\r\n \r\n        private ListMultipleChoice&lt;String&gt; createAddresssesChoice() {\r\n                return new ListMultipleChoice&lt;String&gt;(&quot;addresses&quot;, selectedAddresses, List.of(&quot;adress1&quot;, &quot;address2&quot;));\r\n        }\r\n \r\n        private AjaxButton createRemoveFromListButton() {\r\n                return new AjaxButton(&quot;removeFromList&quot;) {\r\n                        private static final long serialVersionUID = 1L;\r\n                       \r\n                        @Override\r\n                        protected void onSubmit(AjaxRequestTarget target) {\r\n                                SimpleObject simpleObject = simpleObjectModel.getObject();\r\n                                List&lt;String&gt; notifications = selectedNotifications.getObject();\r\n                                if(simpleObject != null &amp;&amp; notifications != null) {\r\n                                        notifications.stream()\r\n                                                .forEach(address -&gt; simpleObject.removeAddress(address));\r\n                                        target.add(SimpleTestPanel.this.form);\r\n                                }\r\n                        }\r\n                };\r\n        }\r\n \r\n        private AjaxButton createAddToListButton() {\r\n                return new AjaxButton(&quot;addToList&quot;) {\r\n                        private static final long serialVersionUID = 1L;\r\n                       \r\n                        @Override\r\n                        protected void onSubmit(AjaxRequestTarget target) {\r\n                                SimpleObject simpleObject = simpleObjectModel.getObject();\r\n                                List&lt;String&gt; addresses = selectedAddresses.getObject();\r\n                                if(simpleObject != null &amp;&amp; addresses != null) {\r\n                                        addresses.stream()\r\n                                                .forEach(address -&gt; simpleObject.addAddress(address));\r\n                                        target.add(SimpleTestPanel.this.form);\r\n                                }\r\n                        }\r\n                };\r\n        }\r\n        private ListMultipleChoice&lt;String&gt; createNotificationList() {\r\n                return new ListMultipleChoice&lt;String&gt;(&quot;notifications&quot;, selectedNotifications, simpleObjectModel.getObject().getAddresses());\r\n        }\r\n}\r\n```","title":"Wicket issue: model of ListMultipleChoice is empty","body":"<p>Good evening everyone,</p>\n<p>I'm currently having a small problem within my Wicket project which is driving me nuts. I tried to break it down extremely in a small example. Actually, they are complex JPA objects with intermediate tables. In addition, there are several address types. I hide all of that for this example.</p>\n<p>Goal: all addresses in the database are to be output in a ListChoice (wicket-id: addresses). With a click on the plus button (wicket-id: addToList), all selected entries from the ListChoice should be added to the current SimpleObject. In addition, all addresses assigned to the SimpleObject are displayed in a ListChoice (wicket-id: notifications). If one or more addresses are selected here &amp; then clicked on the minus button (wicket-id: removeFromList), the addresses are removed from the SimpleObject.</p>\n<p>Current state: one or more address data records can be selected in the list choice and added by clicking on the plus button. Unfortunately nothing happens when I select a item on the notification-List and click the minus button. When I query within the button's onSubmit method which items have been selected (selectedNotifications), I get an empty list.</p>\n<p>Here is the code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n \n&lt;wicket:extend xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:wicket=&quot;http://wicket.apache.org&quot;&gt;\n        &lt;form wicket:id=&quot;form&quot;&gt;\n                &lt;label&gt;Available adresses:&lt;/label&gt;\n                &lt;div class=&quot;cronAddresses&quot;&gt;\n                        &lt;select wicket:id=&quot;addresses&quot; class=&quot;fullWidth&quot;&gt;&lt;/select&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;buttons&quot;&gt;\n                        &lt;input type=&quot;button&quot; wicket:id=&quot;addToList&quot; value=&quot;+&quot; /&gt;&lt;br&gt;\n                        &lt;input type=&quot;button&quot; wicket:id=&quot;removeFromList&quot; value=&quot;-&quot; /&gt;\n                &lt;/div&gt;\n                &lt;label&gt;Included adresses:&lt;/label&gt;\n                &lt;div class=&quot;list&quot;&gt;\n                        &lt;select wicket:id=&quot;notifications&quot;&gt;&lt;/select&gt;\n                &lt;/div&gt;\n        &lt;/form&gt;\n&lt;/wicket:extend&gt;\n</code></pre>\n<pre><code>public class SimpleObject implements Serializable {\n        private static final long serialVersionUID = 1L;\n       \n        private List&lt;String&gt; addresses = new ArrayList&lt;&gt;();\n \n        public List&lt;String&gt; getAddresses() {\n                return addresses;\n        }\n \n        public void addAddress(String address) {\n                boolean alreadyPresent = addresses.stream()\n                        .anyMatch(curAddress -&gt; curAddress.equals(address));\n                if(alreadyPresent == false) {\n                        addresses.add(address);\n                }\n        }\n \n        public void removeAddress(String address) {\n                List&lt;String&gt; foundAddresses = addresses.stream()\n                        .filter(curAddress -&gt; curAddress.equals(address))\n                        .collect(Collectors.toList());\n                addresses.removeAll(foundAddresses);\n        }\n}\n</code></pre>\n<pre><code>public class SimpleTestPanel extends BPanel {\n        private static final long serialVersionUID = 1L;\n \n        private Model&lt;SimpleObject&gt; simpleObjectModel;\n \n        private ListModel&lt;String&gt; selectedAddresses = new ListModel&lt;&gt;();\n        private ListModel&lt;String&gt; selectedNotifications = new ListModel&lt;&gt;();\n       \n        public SimpleTestPanel(String id) {\n                super(id);\n               \n                simpleObjectModel = Model.of(new SimpleObject());\n               \n                initialize();\n \n                add(form);\n        }\n \n \n        private void initialize() {\n                CompoundPropertyModel model = new CompoundPropertyModel(simpleObjectModel);\n                form.setModel(model);\n               \n                form.add(createAddresssesChoice());\n                form.add(createAddToListButton());\n                form.add(createRemoveFromListButton());\n                form.add(createNotificationList());\n        }\n \n        private ListMultipleChoice&lt;String&gt; createAddresssesChoice() {\n                return new ListMultipleChoice&lt;String&gt;(&quot;addresses&quot;, selectedAddresses, List.of(&quot;adress1&quot;, &quot;address2&quot;));\n        }\n \n        private AjaxButton createRemoveFromListButton() {\n                return new AjaxButton(&quot;removeFromList&quot;) {\n                        private static final long serialVersionUID = 1L;\n                       \n                        @Override\n                        protected void onSubmit(AjaxRequestTarget target) {\n                                SimpleObject simpleObject = simpleObjectModel.getObject();\n                                List&lt;String&gt; notifications = selectedNotifications.getObject();\n                                if(simpleObject != null &amp;&amp; notifications != null) {\n                                        notifications.stream()\n                                                .forEach(address -&gt; simpleObject.removeAddress(address));\n                                        target.add(SimpleTestPanel.this.form);\n                                }\n                        }\n                };\n        }\n \n        private AjaxButton createAddToListButton() {\n                return new AjaxButton(&quot;addToList&quot;) {\n                        private static final long serialVersionUID = 1L;\n                       \n                        @Override\n                        protected void onSubmit(AjaxRequestTarget target) {\n                                SimpleObject simpleObject = simpleObjectModel.getObject();\n                                List&lt;String&gt; addresses = selectedAddresses.getObject();\n                                if(simpleObject != null &amp;&amp; addresses != null) {\n                                        addresses.stream()\n                                                .forEach(address -&gt; simpleObject.addAddress(address));\n                                        target.add(SimpleTestPanel.this.form);\n                                }\n                        }\n                };\n        }\n        private ListMultipleChoice&lt;String&gt; createNotificationList() {\n                return new ListMultipleChoice&lt;String&gt;(&quot;notifications&quot;, selectedNotifications, simpleObjectModel.getObject().getAddresses());\n        }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":1,"creation_date":1505749208,"post_id":46283245,"comment_id":79529480,"body_markdown":"provide it as a library?","body":"provide it as a library?"}],"answers":[{"tags":[],"owner":{"account_id":6152698,"reputation":89,"user_id":4796674,"accept_rate":62,"display_name":"Harsh Mighlani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521168105,"creation_date":1520489148,"answer_id":49166473,"question_id":46283245,"body_markdown":"I had same issue &amp; was able to solve.\r\nYou&#39;re missing @ComponentScan annotation in your Controller Advice class.\r\n@ComponentScan(basePackages=&quot;com.yourpackage&quot;)","title":"How to invoke @ControllerAdvice from another project","body":"<p>I had same issue &amp; was able to solve.\nYou're missing @ComponentScan annotation in your Controller Advice class.\n@ComponentScan(basePackages=\"com.yourpackage\")</p>\n"},{"tags":[],"owner":{"account_id":11751385,"reputation":358,"user_id":8600439,"display_name":"Edgar Hernandez "},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681683484,"creation_date":1623698199,"answer_id":67976021,"question_id":46283245,"body_markdown":"I had the same problem. I fixed it by exposing the controller advised class as a @Bean in the config class (class annotated with @SpringBootApplication or @Configuration).\r\n\r\nOf course, you need to add the library&#39;s pom dependency where your controller advice is.","title":"How to invoke @ControllerAdvice from another project","body":"<p>I had the same problem. I fixed it by exposing the controller advised class as a @Bean in the config class (class annotated with @SpringBootApplication or @Configuration).</p>\n<p>Of course, you need to add the library's pom dependency where your controller advice is.</p>\n"}],"owner":{"account_id":7509974,"reputation":51,"user_id":5705258,"display_name":"Pay aaM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2203,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1681683484,"creation_date":1505749094,"question_id":46283245,"body_markdown":"Actually I wrote a global ExceptionHandling using *@ControllerAdvice* for my Sprint boot project in a separate project, *now I want to call it from another project* but seems it doesn&#39;t work, since it doesn&#39;t override the default exceptions.\r\n\r\nI&#39;m developing in Java.\r\n\r\nNow I want to know *how to configure both projects* to be able to invoke this global ExceptionHandling class for me from another project. My intention is to use this into several projects.\r\n\r\nThanks inadvance for the help.","title":"How to invoke @ControllerAdvice from another project","body":"<p>Actually I wrote a global ExceptionHandling using <em>@ControllerAdvice</em> for my Sprint boot project in a separate project, <em>now I want to call it from another project</em> but seems it doesn't work, since it doesn't override the default exceptions.</p>\n\n<p>I'm developing in Java.</p>\n\n<p>Now I want to know <em>how to configure both projects</em> to be able to invoke this global ExceptionHandling class for me from another project. My intention is to use this into several projects.</p>\n\n<p>Thanks inadvance for the help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9728,"page":497,"page_size":100}
