{"items":[{"tags":["java","swing","icons","jlabel","mouselistener"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1634998903,"post_id":69688962,"comment_id":123180329,"body_markdown":"Don&#39;t use a JLabel. Instead use a JButton. It already supports methods for a pressed Icon. You can make the button look like a label by using  `setBorderPainted(false)` on each button.","body":"Don&#39;t use a JLabel. Instead use a JButton. It already supports methods for a pressed Icon. You can make the button look like a label by using  <code>setBorderPainted(false)</code> on each button."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1635000119,"post_id":69688962,"comment_id":123180623,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":23121612,"reputation":13,"user_id":17228059,"display_name":"staa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635140352,"creation_date":1634998489,"question_id":69688962,"body_markdown":"I&#39;m currently trying to write a minesweeper game in Java using NetBeans for a school project. I&#39;ve come across a big problem that I can&#39;t solve by myself and can&#39;t find any solution online either. I&#39;ve created 100 JLabels with icons, added them to an array, then I&#39;ve added a MouseListener to each of them. As I press on them I want their icon to change, but I don&#39;t really know how to get to the icon of the pressed label and change it. Any ideas?\r\n\r\nThat&#39;s a MouseListener class:\r\n\r\n```\r\npackage MineSweeper;\r\n\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.ImageIcon;\r\n\r\nclass myMouseListener implements MouseListener{\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent arg0) { }\r\n    \r\n    @Override\r\n    public void mouseEntered(MouseEvent arg0){ }\r\n\r\n    @Override\r\n    public void mouseExited(MouseEvent arg0){ }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent arg0){ }\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent e){\r\n        try{\r\n            BufferedImage img = ImageIO.read(new File(&quot;D:\\\\SAPER\\\\grafika\\\\30x30\\\\pole odkryte.png&quot;));\r\n            ImageIcon icon = new ImageIcon(img);\r\n            //THATS THE PLACE I WANT THE ICON TO CHANGE\r\n            \r\n            \r\n        }catch (Exception x){}\r\n    }\r\n}\r\n```\r\n\r\nAnd that&#39;s minesweeper&#39;s field class:\r\n\r\n```\r\npackage MineSweeper;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JLabel;\r\n\r\npublic class pola{\r\n    \r\n    public int numer_w_tabeli;               //zmienne pola\r\n    public int koord_x;\r\n    public int koord_y;\r\n    \r\n    public int czy_odkryte;\r\n    public int rodzaj_pola;\r\n    \r\n    public static JLabel pole;\r\n    public pola(int x, int y, int i, int czy, int rodzaj){              //konstruktor pola\r\n        \r\n        koord_x = x;\r\n        koord_y = y;\r\n        numer_w_tabeli = i;\r\n        czy_odkryte = czy;\r\n        rodzaj_pola = rodzaj;\r\n        pole = new JLabel();\r\n        \r\n        try{\r\n            BufferedImage img = ImageIO.read(new File(&quot;D:\\\\SAPER\\\\grafika\\\\30x30\\\\pole.png&quot;));\r\n            ImageIcon icon = new ImageIcon(img);\r\n            pole.setIcon(icon);\r\n            pole.setBounds(x,y,30,30);\r\n        }catch(Exception e){} \r\n    }\r\n}\r\n```\r\nAnd that&#39;s window class:\r\n```\r\npackage MineSweeper;\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.List;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JMenu;\r\nimport javax.swing.JMenuBar;\r\nimport javax.swing.JMenuItem;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Okno extends JPanel {\r\n    \r\n    public int x = 0;\r\n    public int y = 0;\r\n    \r\n    public int numer_tablicy = 0;\r\n    int i = 0;\r\n    int j = 0;\r\n    \r\n    public int iloscPol = 100;\r\n    public int rozmiarX = 10;\r\n    public int rozmiarY = 10;\r\n    public int iloscBomb = 10;\r\n    \r\n    public pola[] tablica = new pola[iloscPol];\r\n    \r\n    public Okno() throws IOException{\r\n        \r\n        setLayout(null);\r\n        \r\n        for(i = 0; i &lt; rozmiarY; i++){\r\n            for(j = 0; j &lt; rozmiarX; j++){\r\n                tablica[numer_tablicy] = new pola(x,y,numer_tablicy,0,0);\r\n                add(tablica[numer_tablicy].pole);\r\n                \r\n                myMouseListener m1 = new myMouseListener();         //dodanie do pola listenera\r\n                tablica[numer_tablicy].pole.addMouseListener(m1);\r\n                \r\n//                System.out.println(x);\r\n                x += 30;\r\n                numer_tablicy++;\r\n            }\r\n            j = 0;\r\n            x = 0;\r\n            y += 30;\r\n        }\r\n        wylosuj_i_przydziel(iloscBomb,tablica,iloscPol);\r\n    }\r\n    \r\n    @Override\r\n    public Dimension getPreferredSize(){\r\n        return new Dimension(300,300);\r\n    }\r\n    \r\n    public void dodajListener(){\r\n        \r\n    }\r\n    \r\n    public void wylosuj_i_przydziel(int iloscBomb, pola[] tablica, int iloscPol){\r\n        \r\n        int pozycjeBomb[] = new int[iloscBomb];\r\n        int losowa = 0;\r\n        boolean powtorka = false;\r\n        \r\n        for(int i = 0; i &lt; iloscBomb; i++)\r\n        {\r\n            losowa = (int)(Math.random()*iloscPol-1);\r\n            \r\n            for(int j = 0; j &lt; pozycjeBomb.length; j++){\r\n                \r\n                if(losowa == pozycjeBomb[j]){\r\n                    break;  \r\n                }\r\n                else pozycjeBomb[j] = losowa;\r\n            }\r\n            System.out.println(pozycjeBomb[i]);\r\n        }\r\n    }\r\n}\r\n```","title":"How to change icon of pressed JLabel","body":"<p>I'm currently trying to write a minesweeper game in Java using NetBeans for a school project. I've come across a big problem that I can't solve by myself and can't find any solution online either. I've created 100 JLabels with icons, added them to an array, then I've added a MouseListener to each of them. As I press on them I want their icon to change, but I don't really know how to get to the icon of the pressed label and change it. Any ideas?</p>\n<p>That's a MouseListener class:</p>\n<pre><code>package MineSweeper;\n\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\n\nclass myMouseListener implements MouseListener{\n\n    @Override\n    public void mouseClicked(MouseEvent arg0) { }\n    \n    @Override\n    public void mouseEntered(MouseEvent arg0){ }\n\n    @Override\n    public void mouseExited(MouseEvent arg0){ }\n\n    @Override\n    public void mousePressed(MouseEvent arg0){ }\n\n    @Override\n    public void mouseReleased(MouseEvent e){\n        try{\n            BufferedImage img = ImageIO.read(new File(&quot;D:\\\\SAPER\\\\grafika\\\\30x30\\\\pole odkryte.png&quot;));\n            ImageIcon icon = new ImageIcon(img);\n            //THATS THE PLACE I WANT THE ICON TO CHANGE\n            \n            \n        }catch (Exception x){}\n    }\n}\n</code></pre>\n<p>And that's minesweeper's field class:</p>\n<pre><code>package MineSweeper;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\n\npublic class pola{\n    \n    public int numer_w_tabeli;               //zmienne pola\n    public int koord_x;\n    public int koord_y;\n    \n    public int czy_odkryte;\n    public int rodzaj_pola;\n    \n    public static JLabel pole;\n    public pola(int x, int y, int i, int czy, int rodzaj){              //konstruktor pola\n        \n        koord_x = x;\n        koord_y = y;\n        numer_w_tabeli = i;\n        czy_odkryte = czy;\n        rodzaj_pola = rodzaj;\n        pole = new JLabel();\n        \n        try{\n            BufferedImage img = ImageIO.read(new File(&quot;D:\\\\SAPER\\\\grafika\\\\30x30\\\\pole.png&quot;));\n            ImageIcon icon = new ImageIcon(img);\n            pole.setIcon(icon);\n            pole.setBounds(x,y,30,30);\n        }catch(Exception e){} \n    }\n}\n</code></pre>\n<p>And that's window class:</p>\n<pre><code>package MineSweeper;\n\nimport java.awt.Dimension;\nimport java.awt.List;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\n\npublic class Okno extends JPanel {\n    \n    public int x = 0;\n    public int y = 0;\n    \n    public int numer_tablicy = 0;\n    int i = 0;\n    int j = 0;\n    \n    public int iloscPol = 100;\n    public int rozmiarX = 10;\n    public int rozmiarY = 10;\n    public int iloscBomb = 10;\n    \n    public pola[] tablica = new pola[iloscPol];\n    \n    public Okno() throws IOException{\n        \n        setLayout(null);\n        \n        for(i = 0; i &lt; rozmiarY; i++){\n            for(j = 0; j &lt; rozmiarX; j++){\n                tablica[numer_tablicy] = new pola(x,y,numer_tablicy,0,0);\n                add(tablica[numer_tablicy].pole);\n                \n                myMouseListener m1 = new myMouseListener();         //dodanie do pola listenera\n                tablica[numer_tablicy].pole.addMouseListener(m1);\n                \n//                System.out.println(x);\n                x += 30;\n                numer_tablicy++;\n            }\n            j = 0;\n            x = 0;\n            y += 30;\n        }\n        wylosuj_i_przydziel(iloscBomb,tablica,iloscPol);\n    }\n    \n    @Override\n    public Dimension getPreferredSize(){\n        return new Dimension(300,300);\n    }\n    \n    public void dodajListener(){\n        \n    }\n    \n    public void wylosuj_i_przydziel(int iloscBomb, pola[] tablica, int iloscPol){\n        \n        int pozycjeBomb[] = new int[iloscBomb];\n        int losowa = 0;\n        boolean powtorka = false;\n        \n        for(int i = 0; i &lt; iloscBomb; i++)\n        {\n            losowa = (int)(Math.random()*iloscPol-1);\n            \n            for(int j = 0; j &lt; pozycjeBomb.length; j++){\n                \n                if(losowa == pozycjeBomb[j]){\n                    break;  \n                }\n                else pozycjeBomb[j] = losowa;\n            }\n            System.out.println(pozycjeBomb[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-notifications"],"comments":[{"owner":{"account_id":420575,"reputation":5030,"user_id":798346,"accept_rate":56,"display_name":"Jim Rhodes"},"score":0,"creation_date":1635014086,"post_id":69690901,"comment_id":123184071,"body_markdown":"Can you provide more information? More code? Are you saying that `builder.setContentTitle(maxTitle);` is not working? You don&#39;t show where `maxTitle1` is assigned.","body":"Can you provide more information? More code? Are you saying that <code>builder.setContentTitle(maxTitle);</code> is not working? You don&#39;t show where <code>maxTitle1</code> is assigned."},{"owner":{"display_name":"user13133459"},"score":0,"creation_date":1635015026,"post_id":69690901,"comment_id":123184306,"body_markdown":"yes builder.setContentTitle(maxTitle); is not showing the title i took from user. i added more code to where its assigned","body":"yes builder.setContentTitle(maxTitle); is not showing the title i took from user. i added more code to where its assigned"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":1,"creation_date":1635016009,"post_id":69690901,"comment_id":123184498,"body_markdown":"@mightyleen Can the user click on `countUp` without first clicking on `submit`?","body":"@mightyleen Can the user click on <code>countUp</code> without first clicking on <code>submit</code>?"},{"owner":{"account_id":420575,"reputation":5030,"user_id":798346,"accept_rate":56,"display_name":"Jim Rhodes"},"score":0,"creation_date":1635016273,"post_id":69690901,"comment_id":123184546,"body_markdown":"Set a break point where `maxTitle` is assigned to see if it is getting a value. Set a break point where you set the notification title to see what the value of `maxTitle` is. Double check your `activity_main` layout to make sure that the ID `maxTitle1` is being assigned to the control where the user enters the title.","body":"Set a break point where <code>maxTitle</code> is assigned to see if it is getting a value. Set a break point where you set the notification title to see what the value of <code>maxTitle</code> is. Double check your <code>activity_main</code> layout to make sure that the ID <code>maxTitle1</code> is being assigned to the control where the user enters the title."},{"owner":{"display_name":"user13133459"},"score":0,"creation_date":1635017746,"post_id":69690901,"comment_id":123184847,"body_markdown":"@akhilnair no they cant","body":"@akhilnair no they cant"},{"owner":{"display_name":"user13133459"},"score":0,"creation_date":1635017781,"post_id":69690901,"comment_id":123184855,"body_markdown":"can you show me what you mean ? do you want me to print the value ? @jimRhodes","body":"can you show me what you mean ? do you want me to print the value ? @jimRhodes"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1635018106,"post_id":69690901,"comment_id":123184914,"body_markdown":"@mightyleen Can you please add an image of how your notification currently looks like?","body":"@mightyleen Can you please add an image of how your notification currently looks like?"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1635018500,"post_id":69690901,"comment_id":123184998,"body_markdown":"@mightyleen Are you running this on which android version?","body":"@mightyleen Are you running this on which android version?"}],"answers":[{"tags":[],"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635139955,"creation_date":1635016912,"answer_id":69691309,"question_id":69690901,"body_markdown":"  For android 8.0 and above you have to create a notification channel like this:\r\n \r\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        CharSequence name = getString(R.string.channel_name);\r\n        String description = getString(R.string.channel_description);\r\n        int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n        channel.setDescription(description);\r\n        // Register the channel with the system; you can&#39;t change the importance\r\n        // or other notification behaviors after this\r\n        NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n        notificationManager.createNotificationChannel(channel);\r\n    }\r\n  From your code it is clear that when your highest text becomes equal to count+1 your notification pops up but you are updating your maxtitle value in your submit button so it is not set to your current maxtitle value when your notification is shown.So\r\nAdd maxTitle=maxTitle1.getText().toString(); before your \r\n                        builder.setContentTitle(maxTitle); to update your maxtitle on your countUp click.\r\n\r\n             countUp.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(highestText == 0 &amp;&amp; minimumText == 0){\r\n                    Toast.makeText(getApplicationContext(),&quot;Please enter the target numbers!&quot;,Toast.LENGTH_SHORT).show();\r\n                }else {\r\n\r\n                    if (highestText == count+1 ) {\r\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, &quot;number&quot;);\r\n                        maxTitle=maxTitle1.getText().toString();\r\n                        builder.setContentTitle(maxTitle);\r\n                        builder.setContentText(&quot;please be aware that you reached the maximum number&quot;);\r\n                        builder.setSmallIcon(R.drawable.ic_launcher_background);\r\n                        builder.setAutoCancel(true);\r\n                        NotificationManagerCompat managerCompat = NotificationManagerCompat.from(MainActivity.this);\r\n                        managerCompat.notify(1, builder.build());\r\n                    }\r\n            ","title":"Notification title not being shown in Android","body":"<p>For android 8.0 and above you have to create a notification channel like this:</p>\n<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    CharSequence name = getString(R.string.channel_name);\n    String description = getString(R.string.channel_description);\n    int importance = NotificationManager.IMPORTANCE_DEFAULT;\n    NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n    channel.setDescription(description);\n    // Register the channel with the system; you can't change the importance\n    // or other notification behaviors after this\n    NotificationManager notificationManager = getSystemService(NotificationManager.class);\n    notificationManager.createNotificationChannel(channel);\n}\n</code></pre>\n<p>From your code it is clear that when your highest text becomes equal to count+1 your notification pops up but you are updating your maxtitle value in your submit button so it is not set to your current maxtitle value when your notification is shown.So\nAdd maxTitle=maxTitle1.getText().toString(); before your\nbuilder.setContentTitle(maxTitle); to update your maxtitle on your countUp click.</p>\n<pre><code>         countUp.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View view) {\n            if(highestText == 0 &amp;&amp; minimumText == 0){\n                Toast.makeText(getApplicationContext(),&quot;Please enter the target numbers!&quot;,Toast.LENGTH_SHORT).show();\n            }else {\n\n                if (highestText == count+1 ) {\n                    NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, &quot;number&quot;);\n                    maxTitle=maxTitle1.getText().toString();\n                    builder.setContentTitle(maxTitle);\n                    builder.setContentText(&quot;please be aware that you reached the maximum number&quot;);\n                    builder.setSmallIcon(R.drawable.ic_launcher_background);\n                    builder.setAutoCancel(true);\n                    NotificationManagerCompat managerCompat = NotificationManagerCompat.from(MainActivity.this);\n                    managerCompat.notify(1, builder.build());\n                }\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635020457,"creation_date":1635019997,"answer_id":69691712,"question_id":69690901,"body_markdown":"Something what is missing here is the creation of a channel\r\n\r\n&gt; Before you can deliver the notification on Android 8.0 and higher, you must register your app&#39;s notification channel with the system by passing an instance of NotificationChannel to createNotificationChannel()\r\n\r\n    private fun createNotificationChannel() {\r\n    // Create the NotificationChannel, but only on API 26+ because\r\n    // the NotificationChannel class is new and not in the support library\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        val name = getString(R.string.channel_name)\r\n        val descriptionText = getString(R.string.channel_description)\r\n        val importance = NotificationManager.IMPORTANCE_DEFAULT\r\n        val channel = NotificationChannel(CHANNEL_ID, name, importance).apply {\r\n            description = descriptionText\r\n        }\r\n        // Register the channel with the system\r\n        val notificationManager: NotificationManager =\r\n            getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n        notificationManager.createNotificationChannel(channel)\r\n      }\r\n    }\r\n\r\n&gt; Because you must create the notification channel before posting any notifications on Android 8.0 and higher, you should execute this code as soon as your app starts. It&#39;s safe to call this repeatedly because creating an existing notification channel performs no operation.\r\n\r\nMore information [here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/notify-user/build-notification#kotlin","title":"Notification title not being shown in Android","body":"<p>Something what is missing here is the creation of a channel</p>\n<blockquote>\n<p>Before you can deliver the notification on Android 8.0 and higher, you must register your app's notification channel with the system by passing an instance of NotificationChannel to createNotificationChannel()</p>\n</blockquote>\n<pre><code>private fun createNotificationChannel() {\n// Create the NotificationChannel, but only on API 26+ because\n// the NotificationChannel class is new and not in the support library\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    val name = getString(R.string.channel_name)\n    val descriptionText = getString(R.string.channel_description)\n    val importance = NotificationManager.IMPORTANCE_DEFAULT\n    val channel = NotificationChannel(CHANNEL_ID, name, importance).apply {\n        description = descriptionText\n    }\n    // Register the channel with the system\n    val notificationManager: NotificationManager =\n        getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    notificationManager.createNotificationChannel(channel)\n  }\n}\n</code></pre>\n<blockquote>\n<p>Because you must create the notification channel before posting any notifications on Android 8.0 and higher, you should execute this code as soon as your app starts. It's safe to call this repeatedly because creating an existing notification channel performs no operation.</p>\n</blockquote>\n<p>More information <a href=\"https://developer.android.com/training/notify-user/build-notification#kotlin\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"display_name":"user13133459"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69691309,"answer_count":2,"score":1,"last_activity_date":1635139955,"creation_date":1635013339,"question_id":69690901,"body_markdown":"I am trying to take the title of the notification from the user to show when they reach the highest value and I did this: \r\n\r\n\r\n     @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n        minTitle1 = (EditText) findViewById(R.id.minTitle1) ;\r\n      maxTitle1 = (EditText) findViewById(R.id.maxTitle1) ;\r\n\r\n\r\n       submit.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                try {\r\n                    highestText = Integer.parseInt(highest.getText().toString().trim());\r\n                    minimumText = Integer.parseInt(minimum.getText().toString().trim());\r\n                    minTitle =minTitle1.getText().toString();\r\n                    maxTitle=maxTitle1.getText().toString();\r\n                } catch(Exception ex){\r\n                    Toast.makeText(getApplicationContext(),&quot;Please enter numbers!&quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        countUp.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(highestText == 0 &amp;&amp; minimumText == 0){\r\n                    Toast.makeText(getApplicationContext(),&quot;Please enter the target numbers!&quot;,Toast.LENGTH_SHORT).show();\r\n                }else {\r\n\r\n                    if (highestText == count+1 ) {\r\n                        NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, &quot;number&quot;);\r\n                        builder.setContentTitle(maxTitle);\r\n                        builder.setContentText(&quot;please be aware that you reached the maximum number&quot;);\r\n                        builder.setSmallIcon(R.drawable.ic_launcher_background);\r\n                        builder.setAutoCancel(true);\r\n                        NotificationManagerCompat managerCompat = NotificationManagerCompat.from(MainActivity.this);\r\n                        managerCompat.notify(1, builder.build());\r\n                    }\r\n\r\nFor some reason the title does not show up with the notification. Am I missing something? How can I fix it?","title":"Notification title not being shown in Android","body":"<p>I am trying to take the title of the notification from the user to show when they reach the highest value and I did this:</p>\n<pre><code> @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n\n    setContentView(R.layout.activity_main);\n\n    minTitle1 = (EditText) findViewById(R.id.minTitle1) ;\n  maxTitle1 = (EditText) findViewById(R.id.maxTitle1) ;\n\n\n   submit.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View view) {\n            try {\n                highestText = Integer.parseInt(highest.getText().toString().trim());\n                minimumText = Integer.parseInt(minimum.getText().toString().trim());\n                minTitle =minTitle1.getText().toString();\n                maxTitle=maxTitle1.getText().toString();\n            } catch(Exception ex){\n                Toast.makeText(getApplicationContext(),&quot;Please enter numbers!&quot;,Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n\n    countUp.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View view) {\n            if(highestText == 0 &amp;&amp; minimumText == 0){\n                Toast.makeText(getApplicationContext(),&quot;Please enter the target numbers!&quot;,Toast.LENGTH_SHORT).show();\n            }else {\n\n                if (highestText == count+1 ) {\n                    NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, &quot;number&quot;);\n                    builder.setContentTitle(maxTitle);\n                    builder.setContentText(&quot;please be aware that you reached the maximum number&quot;);\n                    builder.setSmallIcon(R.drawable.ic_launcher_background);\n                    builder.setAutoCancel(true);\n                    NotificationManagerCompat managerCompat = NotificationManagerCompat.from(MainActivity.this);\n                    managerCompat.notify(1, builder.build());\n                }\n</code></pre>\n<p>For some reason the title does not show up with the notification. Am I missing something? How can I fix it?</p>\n"},{"tags":["java","database","spring-boot","message","phone-number"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1635139448,"post_id":69703169,"comment_id":123205909,"body_markdown":"you can buy a server to do that, or you can pay someone else&#39;s server to do so","body":"you can buy a server to do that, or you can pay someone else&#39;s server to do so"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1635139542,"post_id":69703169,"comment_id":123205927,"body_markdown":"As far as I understand, there is no way to do it for free, right? @Stultuske","body":"As far as I understand, there is no way to do it for free, right? @Stultuske"}],"answers":[{"tags":[],"owner":{"account_id":18889303,"reputation":11,"user_id":13779958,"display_name":"yimwk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635139752,"creation_date":1635139752,"answer_id":69703236,"question_id":69703169,"body_markdown":"You&#39;ll need to send the message via SMS Gateway, which is a service that enables you to send SMS.\r\n\r\nThe SMS Gateway should be provided by the bank (assuming the bank is your client), as SMS Gateway is a paid service, based on how many characters sent, and how many SMS sent, there are charges and cost.\r\n\r\nHow it works is the same as calling a normal API. You&#39;ll need to get the API Specification from the client.","title":"Sending messages to the real mobile phone numbers","body":"<p>You'll need to send the message via SMS Gateway, which is a service that enables you to send SMS.</p>\n<p>The SMS Gateway should be provided by the bank (assuming the bank is your client), as SMS Gateway is a paid service, based on how many characters sent, and how many SMS sent, there are charges and cost.</p>\n<p>How it works is the same as calling a normal API. You'll need to get the API Specification from the client.</p>\n"}],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635139752,"creation_date":1635139183,"question_id":69703169,"body_markdown":"Right now I am working in this project, so I made a project like this, when the bank worker upload the file with xlsx extension to our bank&#39;s site, all the values (phone number, message) in the excel file are placed in the database. When the values are uploaded to the database, the column named status takes the value 0 by default. Then I get all values with status 0 from the database. I want to send the messages,which belongs to their phone numbers in the database to their real mobile phones. What exactly can I do with the last part I said? I would appreciate it if you could suggest explanations or links about it. Is there any free program I can use here?","title":"Sending messages to the real mobile phone numbers","body":"<p>Right now I am working in this project, so I made a project like this, when the bank worker upload the file with xlsx extension to our bank's site, all the values (phone number, message) in the excel file are placed in the database. When the values are uploaded to the database, the column named status takes the value 0 by default. Then I get all values with status 0 from the database. I want to send the messages,which belongs to their phone numbers in the database to their real mobile phones. What exactly can I do with the last part I said? I would appreciate it if you could suggest explanations or links about it. Is there any free program I can use here?</p>\n"},{"tags":["java","bots","discord-jda"],"comments":[{"owner":{"account_id":22976663,"reputation":45,"user_id":17104176,"display_name":"Vincent Banks"},"score":0,"creation_date":1633675421,"post_id":69491265,"comment_id":122827528,"body_markdown":"Figured it out, I needed to be on JAVA 1.8","body":"Figured it out, I needed to be on JAVA 1.8"},{"owner":{"account_id":17019844,"reputation":292,"user_id":15143429,"display_name":"Abdullah Ahmed"},"score":0,"creation_date":1633772660,"post_id":69491265,"comment_id":122853031,"body_markdown":"Please close your question.","body":"Please close your question."}],"answers":[{"tags":[],"owner":{"account_id":22976663,"reputation":45,"user_id":17104176,"display_name":"Vincent Banks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635139366,"creation_date":1635139366,"answer_id":69703186,"question_id":69491265,"body_markdown":"needed to be on JAVA 1.8, I was previously on the current version of java but this version of JDA needed java 1.8.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/api/JDABuilder","body":"<p>needed to be on JAVA 1.8, I was previously on the current version of java but this version of JDA needed java 1.8.</p>\n"}],"owner":{"account_id":22976663,"reputation":45,"user_id":17104176,"display_name":"Vincent Banks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69703186,"answer_count":1,"score":1,"last_activity_date":1635139366,"creation_date":1633673570,"question_id":69491265,"body_markdown":"Hello First time posting so sorry if this is bad\r\nI keep running into this error code, I have tried reinstalling different versions of JDA and the only one that works is JDA-4.3.0_333, I am using eclipse. I even reinstalled eclipse to the for developers version. I have restarded and rewritten multiple times runnning into the same error\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/api/JDABuilder\r\n\tat threeStringsMusicBot.StartUp.main(StartUp.java:11)\r\nCaused by: java.lang.ClassNotFoundException: net.dv8tion.jda.api.JDABuilder\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\r\n```\r\npackage threeStringsMusicBot;\r\n\r\nimport javax.security.auth.login.LoginException;\r\n\r\nimport net.dv8tion.jda.api.JDABuilder;\r\nimport net.dv8tion.jda.api.OnlineStatus;\r\nimport net.dv8tion.jda.api.entities.Activity;\r\n\r\npublic class StartUp {\r\n\tpublic static void main(String[] args) throws LoginException{ //Login Exception allows for bot to log into bot account&#39;\r\n\t\tJDABuilder threeStrings = JDABuilder.createDefault(&quot;#######&quot;); //create new bot with JDABuilder class and give it our bot token\r\n\t\tthreeStrings.setActivity(Activity.playing(&quot;The Lute!&quot;)); //set bot activity\r\n\t\tthreeStrings.setStatus(OnlineStatus.ONLINE); //set bit status to online\r\n\t\tthreeStrings.build(); //build(); function calls for bot to login\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/api/JDABuilder","body":"<p>Hello First time posting so sorry if this is bad\nI keep running into this error code, I have tried reinstalling different versions of JDA and the only one that works is JDA-4.3.0_333, I am using eclipse. I even reinstalled eclipse to the for developers version. I have restarded and rewritten multiple times runnning into the same error</p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/api/JDABuilder\nat threeStringsMusicBot.StartUp.main(StartUp.java:11)\nCaused by: java.lang.ClassNotFoundException: net.dv8tion.jda.api.JDABuilder\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)</p>\n<pre><code>package threeStringsMusicBot;\n\nimport javax.security.auth.login.LoginException;\n\nimport net.dv8tion.jda.api.JDABuilder;\nimport net.dv8tion.jda.api.OnlineStatus;\nimport net.dv8tion.jda.api.entities.Activity;\n\npublic class StartUp {\n    public static void main(String[] args) throws LoginException{ //Login Exception allows for bot to log into bot account'\n        JDABuilder threeStrings = JDABuilder.createDefault(&quot;#######&quot;); //create new bot with JDABuilder class and give it our bot token\n        threeStrings.setActivity(Activity.playing(&quot;The Lute!&quot;)); //set bot activity\n        threeStrings.setStatus(OnlineStatus.ONLINE); //set bit status to online\n        threeStrings.build(); //build(); function calls for bot to login\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","jakarta-ee"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635003440,"post_id":69681643,"comment_id":123181434,"body_markdown":"I would suggest to take a look maven-shade-plugin...","body":"I would suggest to take a look maven-shade-plugin..."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1635009164,"post_id":69681643,"comment_id":123182852,"body_markdown":"@khmarbaise could you please explain what do you have in mind? I don&#39;t see how shading is related here, but maybe I&#39;m missing something. Thanks!","body":"@khmarbaise could you please explain what do you have in mind? I don&#39;t see how shading is related here, but maybe I&#39;m missing something. Thanks!"},{"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"score":1,"creation_date":1690287842,"post_id":69681643,"comment_id":135329631,"body_markdown":"Here&#39;s a decent looking overview listing several possible approaches: maven-shade-plugin, eclipse transformer tool, tomcat transformer tool, and so on https://tomee.apache.org/javax-to-jakarta.html","body":"Here&#39;s a decent looking overview listing several possible approaches: maven-shade-plugin, eclipse transformer tool, tomcat transformer tool, and so on <a href=\"https://tomee.apache.org/javax-to-jakarta.html\" rel=\"nofollow noreferrer\">tomee.apache.org/javax-to-jakarta.html</a>"}],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635139275,"creation_date":1634927686,"question_id":69681643,"body_markdown":"I&#39;ve built a small servlet utility lib that is currently using `javax.servlet` namespace (let&#39;s call it `my-servlet-utils-1.0.0.jar`) and now I want to automate the process of creating `jakarta.servlet` version (`my-servlet-utils-1.0.0-jakarta.jar`) using maven. I know how to replace `javax.servlet` dependencies with `jakarta.servlet` and add `-jakarta` classifier using maven build profiles, but I don&#39;t know how to automate replacing `import`s in my java files. Currently I run a `sed` script before building `-jakarta` version, but I&#39;m looking for a better way (integrated into maven) to do this. Thanks!\r\n\r\n**update:** running my `sed` script from maven using `maven-antrun-plugin` does not really improve things as it modifies the java files directly in the source tree, which confuses `git` related tools and creates a danger of committing such modified files. I&#39;m looking for a solution that will modify the sources somewhere in `target` folder.","title":"maven: replace imports to create separate artifacts for javax and jakarta","body":"<p>I've built a small servlet utility lib that is currently using <code>javax.servlet</code> namespace (let's call it <code>my-servlet-utils-1.0.0.jar</code>) and now I want to automate the process of creating <code>jakarta.servlet</code> version (<code>my-servlet-utils-1.0.0-jakarta.jar</code>) using maven. I know how to replace <code>javax.servlet</code> dependencies with <code>jakarta.servlet</code> and add <code>-jakarta</code> classifier using maven build profiles, but I don't know how to automate replacing <code>import</code>s in my java files. Currently I run a <code>sed</code> script before building <code>-jakarta</code> version, but I'm looking for a better way (integrated into maven) to do this. Thanks!</p>\n<p><strong>update:</strong> running my <code>sed</code> script from maven using <code>maven-antrun-plugin</code> does not really improve things as it modifies the java files directly in the source tree, which confuses <code>git</code> related tools and creates a danger of committing such modified files. I'm looking for a solution that will modify the sources somewhere in <code>target</code> folder.</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":1,"creation_date":1635136421,"post_id":69702894,"comment_id":123205413,"body_markdown":"This is not a well structured question. What problem are you facing? besides your original question &quot;How to break this while loop&quot;","body":"This is not a well structured question. What problem are you facing? besides your original question &quot;How to break this while loop&quot;"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1635136691,"post_id":69702894,"comment_id":123205460,"body_markdown":"Well of course it spams &quot;Incorrect pin&quot;.  The only thing that changes inside the loop body is the value of `counter`, so if it is initially the case that `userPin` does not contain `pin`, then that will be the case on every iteration.  If you want to accept a new pin before the next check then put that inside the loop.","body":"Well of course it spams &quot;Incorrect pin&quot;.  The only thing that changes inside the loop body is the value of <code>counter</code>, so if it is initially the case that <code>userPin</code> does not contain <code>pin</code>, then that will be the case on every iteration.  If you want to accept a new pin before the next check then put that inside the loop."}],"answers":[{"tags":[],"owner":{"account_id":19393469,"reputation":60,"user_id":14181621,"display_name":"nghihua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635137201,"creation_date":1635137201,"answer_id":69702978,"question_id":69702894,"body_markdown":"I don&#39;t see any user input in your code (i.e no Scanner to take in user input), so what&#39;s happening is userPin stays the same throughout each loop.\r\n\r\n[userPin is false --&gt; count++ --&gt; print &quot;Incorrect pin&quot;] repeats 3 times, that&#39;s why it spams 3 times.\r\n\r\nHere&#39;s the code I&#39;ve rewritten:\r\n\r\n    public boolean checkPin() {\r\n\t\tint counter = 0;\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\twhile(counter &lt; 3) {\r\n\t\t\tString userPin = scanner.nextLine();\r\n\t\t\tif(userPin.contains(pin)){\r\n\t            System.out.println(&quot;Your pin is correct!&quot;);\r\n\t            return true;\r\n\t        }\r\n            System.out.println(&quot;Incorrect pin.&quot;);\r\n            counter += 1;\r\n        }\r\n        System.out.println(&quot;Too many tries, your account has been blocked.&quot;);\r\n        return false;\r\n\t}\r\n\r\n","title":"How to properly use this while loop within my method to have user retry input to a maximum of three times","body":"<p>I don't see any user input in your code (i.e no Scanner to take in user input), so what's happening is userPin stays the same throughout each loop.</p>\n<p>[userPin is false --&gt; count++ --&gt; print &quot;Incorrect pin&quot;] repeats 3 times, that's why it spams 3 times.</p>\n<p>Here's the code I've rewritten:</p>\n<pre><code>public boolean checkPin() {\n    int counter = 0;\n    Scanner scanner = new Scanner(System.in);\n    while(counter &lt; 3) {\n        String userPin = scanner.nextLine();\n        if(userPin.contains(pin)){\n            System.out.println(&quot;Your pin is correct!&quot;);\n            return true;\n        }\n        System.out.println(&quot;Incorrect pin.&quot;);\n        counter += 1;\n    }\n    System.out.println(&quot;Too many tries, your account has been blocked.&quot;);\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":22976663,"reputation":45,"user_id":17104176,"display_name":"Vincent Banks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":69702978,"answer_count":1,"score":-3,"last_activity_date":1635138884,"creation_date":1635136157,"question_id":69702894,"body_markdown":"Hi I am creating a mock atm, and I created a method to check if the user&#39;s pin is inputted wrong, but if it is wrong it spams incorrect pin 3 times then my program stops, I am looking at how to have the user input incorrectly have it tell them it is wrong once then have them retry their pin until they reach the max 3 attempts.\r\n\r\nMy while loop is with my ATM class (First time posting bare with me)\r\n\r\nMAIN\r\n```package ATM;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args){\r\n        Scanner enterPin = new Scanner(System.in);\r\n        System.out.println(&quot;Enter your 4 digit pin: &quot;);\r\n        String userPin = enterPin.nextLine();\r\n        ATM pin = new ATM(&quot;1234&quot;);\r\n        pin.checkPin(userPin);\r\n    }\r\n}\r\n```\r\nATM CLASS\r\n```package ATM;\r\n\r\npublic class ATM {\r\n    String pin;\r\n    int counter;\r\n    public ATM(String pin){ //constructor 1 for pin\r\n        this.pin = pin;\r\n    }\r\n    public ATM(int counter){ //constructor for counting how many times pin is entered\r\n        this.counter = counter;\r\n    }\r\n    public String getPin(){\r\n        return pin;\r\n    }\r\n    public boolean setPin(String pin){\r\n        this.pin = pin;\r\n        return true;\r\n    }\r\n    public boolean checkPin(String userPin){\r\n        while(!userPin.contains(pin) &amp;&amp; counter &lt; 3) {\r\n                System.out.println(&quot;Incorrect pin.&quot;);\r\n                counter += 1;\r\n            if (counter &gt;= 3){\r\n                System.out.println(&quot;Incorrect pin your account has been blocked.&quot;);\r\n                return false;\r\n            }\r\n        }\r\n        if(userPin.contains(pin)){\r\n            System.out.println(&quot;Your pin is correct!&quot;);\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n","title":"How to properly use this while loop within my method to have user retry input to a maximum of three times","body":"<p>Hi I am creating a mock atm, and I created a method to check if the user's pin is inputted wrong, but if it is wrong it spams incorrect pin 3 times then my program stops, I am looking at how to have the user input incorrectly have it tell them it is wrong once then have them retry their pin until they reach the max 3 attempts.</p>\n<p>My while loop is with my ATM class (First time posting bare with me)</p>\n<p>MAIN</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args){\n        Scanner enterPin = new Scanner(System.in);\n        System.out.println(&quot;Enter your 4 digit pin: &quot;);\n        String userPin = enterPin.nextLine();\n        ATM pin = new ATM(&quot;1234&quot;);\n        pin.checkPin(userPin);\n    }\n}\n</code></pre>\n<p>ATM CLASS</p>\n<pre><code>\npublic class ATM {\n    String pin;\n    int counter;\n    public ATM(String pin){ //constructor 1 for pin\n        this.pin = pin;\n    }\n    public ATM(int counter){ //constructor for counting how many times pin is entered\n        this.counter = counter;\n    }\n    public String getPin(){\n        return pin;\n    }\n    public boolean setPin(String pin){\n        this.pin = pin;\n        return true;\n    }\n    public boolean checkPin(String userPin){\n        while(!userPin.contains(pin) &amp;&amp; counter &lt; 3) {\n                System.out.println(&quot;Incorrect pin.&quot;);\n                counter += 1;\n            if (counter &gt;= 3){\n                System.out.println(&quot;Incorrect pin your account has been blocked.&quot;);\n                return false;\n            }\n        }\n        if(userPin.contains(pin)){\n            System.out.println(&quot;Your pin is correct!&quot;);\n        }\n        return true;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","pom.xml","lombok"],"comments":[{"owner":{"account_id":16600101,"reputation":1,"user_id":11996025,"display_name":"Andrew Madrazo"},"score":0,"creation_date":1635057512,"post_id":69694190,"comment_id":123190014,"body_markdown":"@user7294900 Thank you for your response. I tried your suggestion, but it would still give the same error :(","body":"@user7294900 Thank you for your response. I tried your suggestion, but it would still give the same error :("},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1635059124,"post_id":69694190,"comment_id":123190230,"body_markdown":"Your spring configuration XML doesn&#39;t belong in your pom.xml","body":"Your spring configuration XML doesn&#39;t belong in your pom.xml"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1635071044,"post_id":69694190,"comment_id":123192342,"body_markdown":"You don&#39;t need to use XML configuration if you are using annotations. Can you add your main class to the question? Thanks.","body":"You don&#39;t need to use XML configuration if you are using annotations. Can you add your main class to the question? Thanks."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1635111880,"post_id":69694190,"comment_id":123202123,"body_markdown":"1. If you&#39;re putting your Spring bean config in the pom.xml, you have a long way to go.\n2. It&#39;s almost 2022, no one uses Spring XML config anymore. A result of combining disparate internet searches, I presume?","body":"1. If you&#39;re putting your Spring bean config in the pom.xml, you have a long way to go. 2. It&#39;s almost 2022, no one uses Spring XML config anymore. A result of combining disparate internet searches, I presume?"},{"owner":{"account_id":16600101,"reputation":1,"user_id":11996025,"display_name":"Andrew Madrazo"},"score":0,"creation_date":1635112093,"post_id":69694190,"comment_id":123202158,"body_markdown":"@tgdavies Sorry bud, I mislabeled my applicationContext.xml as pom.xml.","body":"@tgdavies Sorry bud, I mislabeled my applicationContext.xml as pom.xml."},{"owner":{"account_id":16600101,"reputation":1,"user_id":11996025,"display_name":"Andrew Madrazo"},"score":0,"creation_date":1635112182,"post_id":69694190,"comment_id":123202170,"body_markdown":"@AbhijitSarkar Oh thank you for letting me know. I mislabeled, and have input the real pom.xml. :) If anything, since we&#39;re not using Spring XML anymore, I presume I should migrate to annotations only?","body":"@AbhijitSarkar Oh thank you for letting me know. I mislabeled, and have input the real pom.xml. :) If anything, since we&#39;re not using Spring XML anymore, I presume I should migrate to annotations only?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1635112255,"post_id":69694190,"comment_id":123202182,"body_markdown":"There are hundreds of &quot;Getting Started&quot; tutorials on Spring Boot, just follow a recent one and change the code according to your need.","body":"There are hundreds of &quot;Getting Started&quot; tutorials on Spring Boot, just follow a recent one and change the code according to your need."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1635112490,"post_id":69694190,"comment_id":123202222,"body_markdown":"This is a good place to start --&gt; https://www.baeldung.com/spring-boot-start","body":"This is a good place to start --&gt; <a href=\"https://www.baeldung.com/spring-boot-start\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-start</a>"},{"owner":{"account_id":16600101,"reputation":1,"user_id":11996025,"display_name":"Andrew Madrazo"},"score":0,"creation_date":1635113335,"post_id":69694190,"comment_id":123202362,"body_markdown":"Thank you very much @Jo&#227;oDias!","body":"Thank you very much @Jo&#227;oDias!"}],"answers":[{"tags":[],"owner":{"account_id":16600101,"reputation":1,"user_id":11996025,"display_name":"Andrew Madrazo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635138002,"creation_date":1635138002,"answer_id":69703048,"question_id":69694190,"body_markdown":"A little background: I started my project years ago, but got side tracked and now picking it up again.\r\n\r\nWhat worked for me was starting with a base spring-boot project and adding my classes and fixing as I went.\r\n\r\nAs what [@Jo&#227;oDias][1] linked in the comments: https://www.baeldung.com/spring-boot-start is where I got my base spring boot. (Check Spring Initializr in the article).\r\n\r\nAlso advised by [@AbhijitSarkar][2] was that &quot;no one uses Spring XML config anymore&quot; which actually is a reflection on when I started this project. Very perceptive too that he was able to get the hint that my problem was due to combined internet searches.\r\n\r\n  [1]: https://stackoverflow.com/users/16572295/jo%C3%A3o-dias\r\n  [2]: http://%20https://stackoverflow.com/users/839733/abhijit-sarkar","title":"Parameter 0 of constructor in &quot;&quot; required a bean of type &quot;&quot; that could not be found","body":"<p>A little background: I started my project years ago, but got side tracked and now picking it up again.</p>\n<p>What worked for me was starting with a base spring-boot project and adding my classes and fixing as I went.</p>\n<p>As what <a href=\"https://stackoverflow.com/users/16572295/jo%C3%A3o-dias\">@JooDias</a> linked in the comments: <a href=\"https://www.baeldung.com/spring-boot-start\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-start</a> is where I got my base spring boot. (Check Spring Initializr in the article).</p>\n<p>Also advised by <a href=\"http://%20https://stackoverflow.com/users/839733/abhijit-sarkar\" rel=\"nofollow noreferrer\">@AbhijitSarkar</a> was that &quot;no one uses Spring XML config anymore&quot; which actually is a reflection on when I started this project. Very perceptive too that he was able to get the hint that my problem was due to combined internet searches.</p>\n"}],"owner":{"account_id":16600101,"reputation":1,"user_id":11996025,"display_name":"Andrew Madrazo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635138002,"creation_date":1635054544,"question_id":69694190,"body_markdown":"The `@RestController` and its setup works well. I hit a snag when I was trying to add the service to the controller and auto-wiring them.\r\n\r\nAs far as I know everything looks like they&#39;ve been wired well: it builds fine, and the IDE can&#39;t detect any problems. But I seem to be lacking something because it won&#39;t run.\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in org.church.id.controller.ChapterController required a bean of type &#39;org.church.id.service.ChapterService&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.church.id.service.ChapterService&#39; in your configuration.\r\n```\r\n\r\nChapterController.java\r\n```\r\n@RestController\r\n@Log4j\r\npublic class ChapterController {\r\n\r\n    @Getter\r\n    private Map&lt;Integer, Chapter&gt; chapters;\r\n\r\n    private ChapterService chapterService;\r\n\r\n    @Autowired\r\n    public ChapterController(ChapterService chapterService) {\r\n\r\n        this.chapterService = chapterService;\r\n    }\r\n\r\n    public void loadChapters() throws SQLException {\r\n\r\n        log.debug(&quot;Loading chapters...&quot;);\r\n\r\n        if (chapters != null) {\r\n            chapters.clear();\r\n        }\r\n        chapters = chapterService.findAll().stream().collect(Collectors.toMap(Chapter::getId, Function.identity()));\r\n    }\r\n\r\n    @GetMapping(&quot;/chapter/list&quot;)\r\n    public String list() throws SQLException {\r\n\r\n        if (chapters == null) {\r\n            loadChapters();\r\n        }\r\n        return chapters.values().stream().map(Chapter::getName).collect(Collectors.joining(&quot;, &quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\nInside my applicationContext.xml (My bad. I originally typed pom.xml)\r\n```\r\n    ...\r\n    &lt;bean id=&quot;chapterController&quot; class=&quot;org.church.id.controller.ChapterController&quot;&gt;\r\n        &lt;constructor-arg name=&quot;chapterService&quot; ref=&quot;chapterService&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;chapterService&quot; class=&quot;org.church.id.service.impl.ChapterServiceImpl&quot;&gt;\r\n        &lt;constructor-arg name=&quot;config&quot; ref=&quot;dbConfig&quot;/&gt;\r\n        &lt;constructor-arg name=&quot;addressUtil&quot; ref=&quot;addressUtil&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    ...\r\n```\r\n\r\nThe real pom.xml\r\n```\r\n        ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n```\r\nChapterServiceImpl.java\r\n```\r\n@Log4j\r\n@AllArgsConstructor\r\n@Setter\r\n@Service\r\npublic class ChapterServiceImpl implements ChapterService {\r\n\r\n    private DBConfig config;\r\n\r\n    private AddressUtil addressUtil;\r\n    ...\r\n}\r\n```\r\n\r\nChapterService.java (Interface)\r\n```\r\npublic interface ChapterService extends Service&lt;Chapter&gt; {\r\n\r\n    Collection&lt;Chapter&gt; findByCountry(Country country) throws SQLException;\r\n}\r\n```\r\n\r\nI&#39;ve looked around here but the following have /not/ worked for me\r\n- [x] Adding `(exclude = {DataSourceAutoConfiguration.class})` to `@SpringBootApplication`\r\n- [x] Prepending `@Qualifier(&quot;chapterService&quot;)` to the constructor&#39;s param: `ChapterService chapterService`\r\n\r\nAlso to note:\r\nI&#39;ve modified it to have only a default constructor, but the same type of error happens when I try to inject through a setter. I don&#39;t know what&#39;s wrong. :(\r\n\r\nEDIT:\r\nMainClassController.java\r\n\r\n```\r\n@SpringBootApplication\r\npublic class MainClassController {\r\n\r\n    private ClassInfo model;\r\n\r\n    private HashMap&lt;Integer, String&gt; classMap;\r\n\r\n    public MainClassController() {\r\n        loadData();\r\n    }\r\n\r\n    public void loadData() {\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        SpringApplication.run(MainClassController.class, args);\r\n    }\r\n}\r\n```","title":"Parameter 0 of constructor in &quot;&quot; required a bean of type &quot;&quot; that could not be found","body":"<p>The <code>@RestController</code> and its setup works well. I hit a snag when I was trying to add the service to the controller and auto-wiring them.</p>\n<p>As far as I know everything looks like they've been wired well: it builds fine, and the IDE can't detect any problems. But I seem to be lacking something because it won't run.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in org.church.id.controller.ChapterController required a bean of type 'org.church.id.service.ChapterService' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.church.id.service.ChapterService' in your configuration.\n</code></pre>\n<p>ChapterController.java</p>\n<pre><code>@RestController\n@Log4j\npublic class ChapterController {\n\n    @Getter\n    private Map&lt;Integer, Chapter&gt; chapters;\n\n    private ChapterService chapterService;\n\n    @Autowired\n    public ChapterController(ChapterService chapterService) {\n\n        this.chapterService = chapterService;\n    }\n\n    public void loadChapters() throws SQLException {\n\n        log.debug(&quot;Loading chapters...&quot;);\n\n        if (chapters != null) {\n            chapters.clear();\n        }\n        chapters = chapterService.findAll().stream().collect(Collectors.toMap(Chapter::getId, Function.identity()));\n    }\n\n    @GetMapping(&quot;/chapter/list&quot;)\n    public String list() throws SQLException {\n\n        if (chapters == null) {\n            loadChapters();\n        }\n        return chapters.values().stream().map(Chapter::getName).collect(Collectors.joining(&quot;, &quot;));\n    }\n}\n\n</code></pre>\n<p>Inside my applicationContext.xml (My bad. I originally typed pom.xml)</p>\n<pre><code>    ...\n    &lt;bean id=&quot;chapterController&quot; class=&quot;org.church.id.controller.ChapterController&quot;&gt;\n        &lt;constructor-arg name=&quot;chapterService&quot; ref=&quot;chapterService&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;chapterService&quot; class=&quot;org.church.id.service.impl.ChapterServiceImpl&quot;&gt;\n        &lt;constructor-arg name=&quot;config&quot; ref=&quot;dbConfig&quot;/&gt;\n        &lt;constructor-arg name=&quot;addressUtil&quot; ref=&quot;addressUtil&quot;/&gt;\n    &lt;/bean&gt;\n    ...\n</code></pre>\n<p>The real pom.xml</p>\n<pre><code>        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        ...\n</code></pre>\n<p>ChapterServiceImpl.java</p>\n<pre><code>@Log4j\n@AllArgsConstructor\n@Setter\n@Service\npublic class ChapterServiceImpl implements ChapterService {\n\n    private DBConfig config;\n\n    private AddressUtil addressUtil;\n    ...\n}\n</code></pre>\n<p>ChapterService.java (Interface)</p>\n<pre><code>public interface ChapterService extends Service&lt;Chapter&gt; {\n\n    Collection&lt;Chapter&gt; findByCountry(Country country) throws SQLException;\n}\n</code></pre>\n<p>I've looked around here but the following have /not/ worked for me</p>\n<ul>\n<li>[x] Adding <code>(exclude = {DataSourceAutoConfiguration.class})</code> to <code>@SpringBootApplication</code></li>\n<li>[x] Prepending <code>@Qualifier(&quot;chapterService&quot;)</code> to the constructor's param: <code>ChapterService chapterService</code></li>\n</ul>\n<p>Also to note:\nI've modified it to have only a default constructor, but the same type of error happens when I try to inject through a setter. I don't know what's wrong. :(</p>\n<p>EDIT:\nMainClassController.java</p>\n<pre><code>@SpringBootApplication\npublic class MainClassController {\n\n    private ClassInfo model;\n\n    private HashMap&lt;Integer, String&gt; classMap;\n\n    public MainClassController() {\n        loadData();\n    }\n\n    public void loadData() {\n\n    }\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(MainClassController.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm","netbeans"],"comments":[{"owner":{"account_id":40721,"reputation":357288,"user_id":118068,"display_name":"Marc B"},"score":1,"creation_date":1443126666,"post_id":32770321,"comment_id":53379738,"body_markdown":"so which line is the index bounds errors occuring on?","body":"so which line is the index bounds errors occuring on?"},{"owner":{"account_id":6940174,"reputation":157,"user_id":5326830,"accept_rate":75,"display_name":"madeluccar"},"score":0,"creation_date":1443126755,"post_id":32770321,"comment_id":53379776,"body_markdown":"@MarcB this algorithm does NOT return any bound error, the issue is more of a logical mistake because sometimes doesn&#39;t return a win when 4 elements are in a row and sometimes it returns a win when less than 3 elements are in a row.","body":"@MarcB this algorithm does NOT return any bound error, the issue is more of a logical mistake because sometimes doesn&#39;t return a win when 4 elements are in a row and sometimes it returns a win when less than 3 elements are in a row."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1443127314,"post_id":32770321,"comment_id":53380059,"body_markdown":"Basically you have a 2D matrix, within which, you need to be able to start at a given point, and moving in a given direction, check to see if their are four matching elements. I did something like this for [tic tac toe](http://stackoverflow.com/questions/29788054/need-better-logic-for-tictactoe/29788374#29788374), but conceptually, it&#39;s the same thing","body":"Basically you have a 2D matrix, within which, you need to be able to start at a given point, and moving in a given direction, check to see if their are four matching elements. I did something like this for <a href=\"http://stackoverflow.com/questions/29788054/need-better-logic-for-tictactoe/29788374#29788374\">tic tac toe</a>, but conceptually, it&#39;s the same thing"},{"owner":{"account_id":6940174,"reputation":157,"user_id":5326830,"accept_rate":75,"display_name":"madeluccar"},"score":0,"creation_date":1443127416,"post_id":32770321,"comment_id":53380125,"body_markdown":"@MadProgrammer I tried to do it like that, but then something happened when I had 3 tokens, a blank token and another token, and when I dropped the token that made 5 straight tokens it didn&#39;t return a win","body":"@MadProgrammer I tried to do it like that, but then something happened when I had 3 tokens, a blank token and another token, and when I dropped the token that made 5 straight tokens it didn&#39;t return a win"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1443127473,"post_id":32770321,"comment_id":53380152,"body_markdown":"One problem I can see is, when you&#39;re checking a cell, you either increment the count or reset it to 0 and continue checking. You should probably break out of the loop instead and check the next direction instead (if you didn&#39;t find four matches). But then you start doing something different, in some case you don&#39;t even reset the count if the check fails ...","body":"One problem I can see is, when you&#39;re checking a cell, you either increment the count or reset it to 0 and continue checking. You should probably break out of the loop instead and check the next direction instead (if you didn&#39;t find four matches). But then you start doing something different, in some case you don&#39;t even reset the count if the check fails ..."},{"owner":{"account_id":6940174,"reputation":157,"user_id":5326830,"accept_rate":75,"display_name":"madeluccar"},"score":0,"creation_date":1443127513,"post_id":32770321,"comment_id":53380171,"body_markdown":"@MadProgrammer because I check (in the vertical and horizontal check) if there is 4 consecutive tokens in all the row and in all the column.","body":"@MadProgrammer because I check (in the vertical and horizontal check) if there is 4 consecutive tokens in all the row and in all the column."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1443127915,"post_id":32770321,"comment_id":53380364,"body_markdown":"Yep, but basically,you have (at least) two different approaches. Reading through your code, it&#39;s possible that even though the user may only have a single token, the count could actually be 2, which could cause issues","body":"Yep, but basically,you have (at least) two different approaches. Reading through your code, it&#39;s possible that even though the user may only have a single token, the count could actually be 2, which could cause issues"},{"owner":{"account_id":6940174,"reputation":157,"user_id":5326830,"accept_rate":75,"display_name":"madeluccar"},"score":0,"creation_date":1443128545,"post_id":32770321,"comment_id":53380655,"body_markdown":"@MadProgrammer how could you edit the code so it works? i have been fighting this algortihm the past 2 days. It has to ALWAYS work.","body":"@MadProgrammer how could you edit the code so it works? i have been fighting this algortihm the past 2 days. It has to ALWAYS work."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1443129319,"post_id":32770321,"comment_id":53381042,"body_markdown":"So, from the looks of it, your diagonal will only win if it&#39;s running in a single direction","body":"So, from the looks of it, your diagonal will only win if it&#39;s running in a single direction"},{"owner":{"account_id":6940174,"reputation":157,"user_id":5326830,"accept_rate":75,"display_name":"madeluccar"},"score":0,"creation_date":1443130228,"post_id":32770321,"comment_id":53381504,"body_markdown":"how can I solve that? @MadProgrammer","body":"how can I solve that? @MadProgrammer"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1443131137,"post_id":32770321,"comment_id":53381918,"body_markdown":"You have to check in two directions, forwards AND backwards from each start position, check out the answer","body":"You have to check in two directions, forwards AND backwards from each start position, check out the answer"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1635134346,"creation_date":1443130968,"answer_id":32771401,"question_id":32770321,"body_markdown":"So, having dug through your code, it would seem that the diagonal check can only win in a single direction (what happens if I add a token to the lowest row and lowest column?)\r\n\r\nInstead, the basic check algorithm is always the same process, regardless of which direction you&#39;re checking in.\r\n\r\nYou need a start point (x/y) and x/y delta (direction of movement).  You can summarise this down into a single method...\r\n\r\n\tpublic boolean didWin(int[][] grid, int check, int row, int col, int rowDelta, int colDelta) {\r\n\r\n\t\tboolean win = true;\r\n\t\tfor (int count = 0; count &lt; 4; count++) {\r\n\t\t\tif (row &lt; ROWS &amp;&amp; row &gt;= 0 &amp;&amp; col &lt; COLUMNS &amp;&amp; col &gt;= 0) {\r\n\t\t\t\tint test = grid[row][col];\r\n\t\t\t\tif (test != check) {\r\n\t\t\t\t\twin = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\trow += rowDelta;\r\n\t\t\tcol += colDelta;\r\n\t\t}\r\n\t\treturn win;\r\n\r\n\t}\r\n\r\nThis will basically allow you to check in four directions, but also do them backwards\r\n\r\nSo, if we were to use something like...\r\n\r\n\tint[][] gridTable = new int[ROWS][COLUMNS];\r\n\r\n\tgridTable[ROWS - 1][3] = 1;\r\n\tgridTable[ROWS - 2][3] = 1;\r\n\tgridTable[ROWS - 3][3] = 1;\r\n\tgridTable[ROWS - 4][3] = 1;\r\n\r\n\tSystem.out.println(&quot;Vertical&quot;);\r\n\r\n\tSystem.out.println(didWin(gridTable, 1, ROWS - 4, 3, 1, 0) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, ROWS - 1, 3, -1, 0) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 0, 3, 1, 0) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\r\n\tgridTable = new int[ROWS][COLUMNS];\r\n\tgridTable[3][1] = 1;\r\n\tgridTable[3][2] = 1;\r\n\tgridTable[3][3] = 1;\r\n\tgridTable[3][4] = 1;\r\n\r\n\tSystem.out.println(&quot;&quot;);\r\n\tSystem.out.println(&quot;Horizontal&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 3, 1, 0, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 3, 4, 0, -1) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 3, 0, 0, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\r\n\tgridTable = new int[ROWS][COLUMNS];\r\n\tgridTable[0][1] = 1;\r\n\tgridTable[1][2] = 1;\r\n\tgridTable[2][3] = 1;\r\n\tgridTable[3][4] = 1;\r\n\r\n\tSystem.out.println(&quot;&quot;);\r\n\tSystem.out.println(&quot;Diag&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 0, 1, 1, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 3, 4, -1, -1) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 1, 2, 1, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\r\nWhich outputs...\r\n\r\n    Vertical\r\n    Win\r\n    Win\r\n    Lose\r\n    \r\n    Horizontal\r\n    Win\r\n    Win\r\n    Lose\r\n    \r\n    Diag\r\n    Win\r\n    Win\r\n    Lose\r\n\r\nNow, you could just summarise it down to...\r\n\r\n\tpublic boolean didWin(int[][] grid, int check, int row, int col) {\r\n\t\treturn didWin(grid, check, row, col, 1, 0) ||\r\n\t\t\t\t\t\tdidWin(grid, check, row, col, -1, 0) ||\r\n\t\t\t\t\t\tdidWin(grid, check, row, col, 0, 1) ||\r\n\t\t\t\t\t\tdidWin(grid, check, row, col, 0, -1) ||\r\n\t\t\t\t\t\tdidWin(grid, check, row, col, 1, 1) ||\r\n\t\t\t\t\t\tdidWin(grid, check, row, col, -1, -1) ||\r\n\t\t\t\t\t\tdidWin(grid, check, row, col, -1, 1) ||\r\n\t\t\t\t\t\tdidWin(grid, check, row, col, 1, -1);\r\n\t}\r\n\r\nSo, using something like...\r\n\r\n\tint[][] gridTable = new int[ROWS][COLUMNS];\r\n\r\n\tgridTable[ROWS - 1][3] = 1;\r\n\tgridTable[ROWS - 2][3] = 1;\r\n\tgridTable[ROWS - 3][3] = 1;\r\n\tgridTable[ROWS - 4][3] = 1;\r\n\r\n\tSystem.out.println(&quot;Vertical&quot;);\r\n\r\n\tSystem.out.println(didWin(gridTable, 1, ROWS - 1, 3) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, ROWS - 4, 3) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\r\n\tgridTable = new int[ROWS][COLUMNS];\r\n\tgridTable[3][1] = 1;\r\n\tgridTable[3][2] = 1;\r\n\tgridTable[3][3] = 1;\r\n\tgridTable[3][4] = 1;\r\n\r\n\tSystem.out.println(&quot;&quot;);\r\n\tSystem.out.println(&quot;Horizontal&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 3, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 3, 4) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\r\n\tgridTable = new int[ROWS][COLUMNS];\r\n\tgridTable[0][1] = 1;\r\n\tgridTable[1][2] = 1;\r\n\tgridTable[2][3] = 1;\r\n\tgridTable[3][4] = 1;\r\n\r\n\tSystem.out.println(&quot;&quot;);\r\n\tSystem.out.println(&quot;Diag&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 0, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\tSystem.out.println(didWin(gridTable, 1, 3, 4) ? &quot;Win&quot; : &quot;Lose&quot;);\r\n\r\nWhich prints out something like...\r\n\r\n    Vertical\r\n    Win\r\n    Win\r\n    \r\n    Horizontal\r\n    Win\r\n    Win\r\n    \r\n    Diag\r\n    Win\r\n    Win\r\n\r\n&gt; I would add that this approach does only work if you provide the correct start of the 4 chips on a row. For example didWin(gridTable, 1, 3, 3) will provide false instead of true for your horizontal check, because the loop can only check one direction.\r\n\r\nThe intention wasn&#39;t to provide a &quot;full fledged, out of the box&quot; solution, but a concept from which a broader solution could be developed (I mean, I&#39;d hate for people to actually have to think ;)). I also designed the solution based on the idea that the OP would know where the last piece was placed, ie, the starting point ;)\r\n\r\nBy modifying the `didWin` method ever so slightly, it&#39;s possible to check a `n` by `n` grid from any point...\r\n\r\n    public boolean didWin(int[][] grid, int check, int row, int col, int rowDelta, int colDelta) {\r\n        boolean match = false;\r\n        int matches = 0;\r\n        while (row &lt; ROWS &amp;&amp; row &gt;= 0 &amp;&amp; col &lt; COLUMNS &amp;&amp; col &gt;= 0) {\r\n            int test = grid[row][col];\r\n            if (test != check &amp;&amp; match) {\r\n                break;\r\n            } else if (test == check) {\r\n                match = true;\r\n                matches++;\r\n            }\r\n            row += rowDelta;\r\n            col += colDelta;\r\n        }\r\n        return matches == 4;\r\n    }\r\n\r\nSo, I used...\r\n\r\n    public static final int ROWS = 8;\r\n    public static final int COLUMNS = 8;\r\n    //...\r\n    int[][] gridTable = new int[ROWS][COLUMNS];\r\n\r\n    gridTable[ROWS - 1][3] = 1;\r\n    gridTable[ROWS - 2][3] = 1;\r\n    gridTable[ROWS - 3][3] = 1;\r\n    gridTable[ROWS - 4][3] = 1;\r\n    for (int[] row : gridTable) {\r\n        StringJoiner sj = new StringJoiner(&quot;|&quot;, &quot;|&quot;, &quot;|&quot;);\r\n        for (int col : row) {\r\n            sj.add(Integer.toString(col));\r\n        }\r\n        System.out.println(sj);\r\n    }\r\n    System.out.println(didWin(gridTable, 1, 3, 3));\r\n\r\nand was able to get it to work.  Sometimes an answer isn&#39;t a complete solution, but a seed for an idea which takes someone to a new place ;)\r\n\r\nA further enhancement would include providing the number of expected conjoined pieces, but I&#39;m pretty sure that&#39;s an enhancement I really don&#39;t need to demonstrate ;)","title":"Connect 4 check for a win algorithm","body":"<p>So, having dug through your code, it would seem that the diagonal check can only win in a single direction (what happens if I add a token to the lowest row and lowest column?)</p>\n<p>Instead, the basic check algorithm is always the same process, regardless of which direction you're checking in.</p>\n<p>You need a start point (x/y) and x/y delta (direction of movement).  You can summarise this down into a single method...</p>\n<pre><code>public boolean didWin(int[][] grid, int check, int row, int col, int rowDelta, int colDelta) {\n\n    boolean win = true;\n    for (int count = 0; count &lt; 4; count++) {\n        if (row &lt; ROWS &amp;&amp; row &gt;= 0 &amp;&amp; col &lt; COLUMNS &amp;&amp; col &gt;= 0) {\n            int test = grid[row][col];\n            if (test != check) {\n                win = false;\n                break;\n            }\n        }\n        row += rowDelta;\n        col += colDelta;\n    }\n    return win;\n\n}\n</code></pre>\n<p>This will basically allow you to check in four directions, but also do them backwards</p>\n<p>So, if we were to use something like...</p>\n<pre><code>int[][] gridTable = new int[ROWS][COLUMNS];\n\ngridTable[ROWS - 1][3] = 1;\ngridTable[ROWS - 2][3] = 1;\ngridTable[ROWS - 3][3] = 1;\ngridTable[ROWS - 4][3] = 1;\n\nSystem.out.println(&quot;Vertical&quot;);\n\nSystem.out.println(didWin(gridTable, 1, ROWS - 4, 3, 1, 0) ? &quot;Win&quot; : &quot;Lose&quot;);\nSystem.out.println(didWin(gridTable, 1, ROWS - 1, 3, -1, 0) ? &quot;Win&quot; : &quot;Lose&quot;);\nSystem.out.println(didWin(gridTable, 1, 0, 3, 1, 0) ? &quot;Win&quot; : &quot;Lose&quot;);\n\ngridTable = new int[ROWS][COLUMNS];\ngridTable[3][1] = 1;\ngridTable[3][2] = 1;\ngridTable[3][3] = 1;\ngridTable[3][4] = 1;\n\nSystem.out.println(&quot;&quot;);\nSystem.out.println(&quot;Horizontal&quot;);\nSystem.out.println(didWin(gridTable, 1, 3, 1, 0, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\nSystem.out.println(didWin(gridTable, 1, 3, 4, 0, -1) ? &quot;Win&quot; : &quot;Lose&quot;);\nSystem.out.println(didWin(gridTable, 1, 3, 0, 0, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\n\ngridTable = new int[ROWS][COLUMNS];\ngridTable[0][1] = 1;\ngridTable[1][2] = 1;\ngridTable[2][3] = 1;\ngridTable[3][4] = 1;\n\nSystem.out.println(&quot;&quot;);\nSystem.out.println(&quot;Diag&quot;);\nSystem.out.println(didWin(gridTable, 1, 0, 1, 1, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\nSystem.out.println(didWin(gridTable, 1, 3, 4, -1, -1) ? &quot;Win&quot; : &quot;Lose&quot;);\nSystem.out.println(didWin(gridTable, 1, 1, 2, 1, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\n</code></pre>\n<p>Which outputs...</p>\n<pre><code>Vertical\nWin\nWin\nLose\n\nHorizontal\nWin\nWin\nLose\n\nDiag\nWin\nWin\nLose\n</code></pre>\n<p>Now, you could just summarise it down to...</p>\n<pre><code>public boolean didWin(int[][] grid, int check, int row, int col) {\n    return didWin(grid, check, row, col, 1, 0) ||\n                    didWin(grid, check, row, col, -1, 0) ||\n                    didWin(grid, check, row, col, 0, 1) ||\n                    didWin(grid, check, row, col, 0, -1) ||\n                    didWin(grid, check, row, col, 1, 1) ||\n                    didWin(grid, check, row, col, -1, -1) ||\n                    didWin(grid, check, row, col, -1, 1) ||\n                    didWin(grid, check, row, col, 1, -1);\n}\n</code></pre>\n<p>So, using something like...</p>\n<pre><code>int[][] gridTable = new int[ROWS][COLUMNS];\n\ngridTable[ROWS - 1][3] = 1;\ngridTable[ROWS - 2][3] = 1;\ngridTable[ROWS - 3][3] = 1;\ngridTable[ROWS - 4][3] = 1;\n\nSystem.out.println(&quot;Vertical&quot;);\n\nSystem.out.println(didWin(gridTable, 1, ROWS - 1, 3) ? &quot;Win&quot; : &quot;Lose&quot;);\nSystem.out.println(didWin(gridTable, 1, ROWS - 4, 3) ? &quot;Win&quot; : &quot;Lose&quot;);\n\ngridTable = new int[ROWS][COLUMNS];\ngridTable[3][1] = 1;\ngridTable[3][2] = 1;\ngridTable[3][3] = 1;\ngridTable[3][4] = 1;\n\nSystem.out.println(&quot;&quot;);\nSystem.out.println(&quot;Horizontal&quot;);\nSystem.out.println(didWin(gridTable, 1, 3, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\nSystem.out.println(didWin(gridTable, 1, 3, 4) ? &quot;Win&quot; : &quot;Lose&quot;);\n\ngridTable = new int[ROWS][COLUMNS];\ngridTable[0][1] = 1;\ngridTable[1][2] = 1;\ngridTable[2][3] = 1;\ngridTable[3][4] = 1;\n\nSystem.out.println(&quot;&quot;);\nSystem.out.println(&quot;Diag&quot;);\nSystem.out.println(didWin(gridTable, 1, 0, 1) ? &quot;Win&quot; : &quot;Lose&quot;);\nSystem.out.println(didWin(gridTable, 1, 3, 4) ? &quot;Win&quot; : &quot;Lose&quot;);\n</code></pre>\n<p>Which prints out something like...</p>\n<pre><code>Vertical\nWin\nWin\n\nHorizontal\nWin\nWin\n\nDiag\nWin\nWin\n</code></pre>\n<blockquote>\n<p>I would add that this approach does only work if you provide the correct start of the 4 chips on a row. For example didWin(gridTable, 1, 3, 3) will provide false instead of true for your horizontal check, because the loop can only check one direction.</p>\n</blockquote>\n<p>The intention wasn't to provide a &quot;full fledged, out of the box&quot; solution, but a concept from which a broader solution could be developed (I mean, I'd hate for people to actually have to think ;)). I also designed the solution based on the idea that the OP would know where the last piece was placed, ie, the starting point ;)</p>\n<p>By modifying the <code>didWin</code> method ever so slightly, it's possible to check a <code>n</code> by <code>n</code> grid from any point...</p>\n<pre><code>public boolean didWin(int[][] grid, int check, int row, int col, int rowDelta, int colDelta) {\n    boolean match = false;\n    int matches = 0;\n    while (row &lt; ROWS &amp;&amp; row &gt;= 0 &amp;&amp; col &lt; COLUMNS &amp;&amp; col &gt;= 0) {\n        int test = grid[row][col];\n        if (test != check &amp;&amp; match) {\n            break;\n        } else if (test == check) {\n            match = true;\n            matches++;\n        }\n        row += rowDelta;\n        col += colDelta;\n    }\n    return matches == 4;\n}\n</code></pre>\n<p>So, I used...</p>\n<pre><code>public static final int ROWS = 8;\npublic static final int COLUMNS = 8;\n//...\nint[][] gridTable = new int[ROWS][COLUMNS];\n\ngridTable[ROWS - 1][3] = 1;\ngridTable[ROWS - 2][3] = 1;\ngridTable[ROWS - 3][3] = 1;\ngridTable[ROWS - 4][3] = 1;\nfor (int[] row : gridTable) {\n    StringJoiner sj = new StringJoiner(&quot;|&quot;, &quot;|&quot;, &quot;|&quot;);\n    for (int col : row) {\n        sj.add(Integer.toString(col));\n    }\n    System.out.println(sj);\n}\nSystem.out.println(didWin(gridTable, 1, 3, 3));\n</code></pre>\n<p>and was able to get it to work.  Sometimes an answer isn't a complete solution, but a seed for an idea which takes someone to a new place ;)</p>\n<p>A further enhancement would include providing the number of expected conjoined pieces, but I'm pretty sure that's an enhancement I really don't need to demonstrate ;)</p>\n"},{"tags":[],"owner":{"account_id":257549,"reputation":4988,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1611397122,"creation_date":1443132231,"answer_id":32771681,"question_id":32770321,"body_markdown":"Looks like your code is correct for the horizontal and vertical cases. The tricky part is the diagonal case.\r\n\r\nLet&#39;s try a picture:\r\n\r\n[![red and green diagonal lines from left to right across the board][1]][1]\r\n\r\nFor the green lines, your starting row position is 0 ... maxRow - 4. The column would be 0 ... startingRow - \r\n\r\nPseudocode:\r\n\r\n    // top-left to bottom-right - green diagonals\r\n    for( rowStart = 0; rowStart &lt; rowMax - 4; rowStart++){\r\n        count = 0;\r\n        int row, col;\r\n        for( row = rowStart, col = 0; row &lt; rowMax &amp;&amp; col &lt; colMax; row++, col++ ){\r\n            if(gridTable[row][col] == player){\r\n                count++;\r\n                if(count &gt;= 4) return 1;\r\n            }\r\n            else {\r\n                count = 0;\r\n            }\r\n        }\r\n    }\r\n    \r\n    // top-left to bottom-right - red diagonals\r\n    for( colStart = 1; colStart &lt; colMax - 4; colStart++){\r\n        count = 0;\r\n        int row, col;\r\n        for( row = 0, col = colStart; row &lt; rowMax &amp;&amp; col &lt; colMax; row++, col++ ){\r\n            if(gridTable[row][col] == player){\r\n                count++;\r\n                if(count &gt;= 4) return 1;\r\n            }\r\n            else {\r\n                count = 0;\r\n            }\r\n        }\r\n    }\r\n\r\nYou could do something similar for diagonals going the other way (from bottom-left to top-right).\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/R4gut.png","title":"Connect 4 check for a win algorithm","body":"<p>Looks like your code is correct for the horizontal and vertical cases. The tricky part is the diagonal case.</p>\n<p>Let's try a picture:</p>\n<p><a href=\"https://i.stack.imgur.com/R4gut.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R4gut.png\" alt=\"red and green diagonal lines from left to right across the board\" /></a></p>\n<p>For the green lines, your starting row position is 0 ... maxRow - 4. The column would be 0 ... startingRow -</p>\n<p>Pseudocode:</p>\n<pre><code>// top-left to bottom-right - green diagonals\nfor( rowStart = 0; rowStart &lt; rowMax - 4; rowStart++){\n    count = 0;\n    int row, col;\n    for( row = rowStart, col = 0; row &lt; rowMax &amp;&amp; col &lt; colMax; row++, col++ ){\n        if(gridTable[row][col] == player){\n            count++;\n            if(count &gt;= 4) return 1;\n        }\n        else {\n            count = 0;\n        }\n    }\n}\n\n// top-left to bottom-right - red diagonals\nfor( colStart = 1; colStart &lt; colMax - 4; colStart++){\n    count = 0;\n    int row, col;\n    for( row = 0, col = colStart; row &lt; rowMax &amp;&amp; col &lt; colMax; row++, col++ ){\n        if(gridTable[row][col] == player){\n            count++;\n            if(count &gt;= 4) return 1;\n        }\n        else {\n            count = 0;\n        }\n    }\n}\n</code></pre>\n<p>You could do something similar for diagonals going the other way (from bottom-left to top-right).</p>\n"},{"tags":[],"owner":{"account_id":8512293,"reputation":261,"user_id":6381975,"display_name":"ferdelOlmo"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1480437056,"creation_date":1467747611,"answer_id":38211417,"question_id":32770321,"body_markdown":"For some reason I am not so fond of counters, so I did it this way (It works for boards with different sizes).\r\n\r\n\tpublic boolean areFourConnected(int player){\r\n\t\t\r\n\t\t// horizontalCheck \r\n\t\tfor (int j = 0; j&lt;getHeight()-3 ; j++ ){\r\n\t\t\tfor (int i = 0; i&lt;getWidth(); i++){\r\n\t\t\t\tif (this.board[i][j] == player &amp;&amp; this.board[i][j+1] == player &amp;&amp; this.board[i][j+2] == player &amp;&amp; this.board[i][j+3] == player){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t// verticalCheck\r\n\t\tfor (int i = 0; i&lt;getWidth()-3 ; i++ ){\r\n\t\t\tfor (int j = 0; j&lt;this.getHeight(); j++){\r\n\t\t\t\tif (this.board[i][j] == player &amp;&amp; this.board[i+1][j] == player &amp;&amp; this.board[i+2][j] == player &amp;&amp; this.board[i+3][j] == player){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t// ascendingDiagonalCheck \r\n\t\tfor (int i=3; i&lt;getWidth(); i++){\r\n\t\t\tfor (int j=0; j&lt;getHeight()-3; j++){\r\n\t\t\t\tif (this.board[i][j] == player &amp;&amp; this.board[i-1][j+1] == player &amp;&amp; this.board[i-2][j+2] == player &amp;&amp; this.board[i-3][j+3] == player)\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// descendingDiagonalCheck\r\n\t\tfor (int i=3; i&lt;getWidth(); i++){\r\n\t\t\tfor (int j=3; j&lt;getHeight(); j++){\r\n\t\t\t\tif (this.board[i][j] == player &amp;&amp; this.board[i-1][j-1] == player &amp;&amp; this.board[i-2][j-2] == player &amp;&amp; this.board[i-3][j-3] == player)\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}","title":"Connect 4 check for a win algorithm","body":"<p>For some reason I am not so fond of counters, so I did it this way (It works for boards with different sizes).</p>\n\n<pre><code>public boolean areFourConnected(int player){\n\n    // horizontalCheck \n    for (int j = 0; j&lt;getHeight()-3 ; j++ ){\n        for (int i = 0; i&lt;getWidth(); i++){\n            if (this.board[i][j] == player &amp;&amp; this.board[i][j+1] == player &amp;&amp; this.board[i][j+2] == player &amp;&amp; this.board[i][j+3] == player){\n                return true;\n            }           \n        }\n    }\n    // verticalCheck\n    for (int i = 0; i&lt;getWidth()-3 ; i++ ){\n        for (int j = 0; j&lt;this.getHeight(); j++){\n            if (this.board[i][j] == player &amp;&amp; this.board[i+1][j] == player &amp;&amp; this.board[i+2][j] == player &amp;&amp; this.board[i+3][j] == player){\n                return true;\n            }           \n        }\n    }\n    // ascendingDiagonalCheck \n    for (int i=3; i&lt;getWidth(); i++){\n        for (int j=0; j&lt;getHeight()-3; j++){\n            if (this.board[i][j] == player &amp;&amp; this.board[i-1][j+1] == player &amp;&amp; this.board[i-2][j+2] == player &amp;&amp; this.board[i-3][j+3] == player)\n                return true;\n        }\n    }\n    // descendingDiagonalCheck\n    for (int i=3; i&lt;getWidth(); i++){\n        for (int j=3; j&lt;getHeight(); j++){\n            if (this.board[i][j] == player &amp;&amp; this.board[i-1][j-1] == player &amp;&amp; this.board[i-2][j-2] == player &amp;&amp; this.board[i-3][j-3] == player)\n                return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10277421,"reputation":1,"user_id":7583837,"display_name":"Daniil German"},"down_vote_count":15,"up_vote_count":1,"is_accepted":false,"score":-14,"last_activity_date":1489350912,"creation_date":1489350912,"answer_id":42752788,"question_id":32770321,"body_markdown":"this is what worked for me, it also did not take as long as it seems:       \r\nthese are methods with row, column, diagonal, and anti-diagonal for x and o\r\n            ;\r\n     \r\n    public static void checkVertO(){\r\n        if (board[0][0] == &#39;O&#39; &amp;&amp; board[1][0] == &#39;O&#39; &amp;&amp; board[2][0] == &#39;O&#39; &amp;&amp; board[3][0] == &#39;O&#39; || board[1][0] == &#39;O&#39; &amp;&amp; board[2][0] == &#39;O&#39; &amp;&amp; board[3][0] == &#39;O&#39; &amp;&amp; board[4][0] == &#39;O&#39; ||\r\n        board[2][0] == &#39;O&#39; &amp;&amp; board[3][0] == &#39;O&#39; &amp;&amp; board[4][0] == &#39;O&#39; &amp;&amp; board[5][0] == &#39;O&#39; || board[0][1] == &#39;O&#39; &amp;&amp; board[1][1] == &#39;O&#39; &amp;&amp; board[2][1] == &#39;O&#39; &amp;&amp; board[3][1] == &#39;O&#39; || \r\n        board[1][1] == &#39;O&#39; &amp;&amp; board[2][1] == &#39;O&#39; &amp;&amp; board[3][1] == &#39;O&#39; &amp;&amp; board[4][1] == &#39;O&#39; || board[2][1] == &#39;O&#39; &amp;&amp; board[3][1] == &#39;O&#39; &amp;&amp; board[4][1] == &#39;O&#39; &amp;&amp; board[5][1] == &#39;O&#39; || \r\n        board[0][2] == &#39;O&#39; &amp;&amp; board[1][2] == &#39;O&#39; &amp;&amp; board[2][2] == &#39;O&#39; &amp;&amp; board[3][2] == &#39;O&#39; || board[1][2] == &#39;O&#39; &amp;&amp; board[2][2] == &#39;O&#39; &amp;&amp; board[3][2] == &#39;O&#39; &amp;&amp; board[4][2] == &#39;O&#39; ||\r\n        board[2][2] == &#39;O&#39; &amp;&amp; board[3][2] == &#39;O&#39; &amp;&amp; board[4][2] == &#39;O&#39; &amp;&amp; board[5][2] == &#39;O&#39; || board[0][3] == &#39;O&#39; &amp;&amp; board[1][3] == &#39;O&#39; &amp;&amp; board[2][3] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39; || \r\n        board[1][3] == &#39;O&#39; &amp;&amp; board[2][3] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39; &amp;&amp; board[4][3] == &#39;O&#39; || board[2][3] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39; &amp;&amp; board[4][3] == &#39;O&#39; &amp;&amp; board[5][3] == &#39;O&#39; ||\r\n        board[0][4] == &#39;O&#39; &amp;&amp; board[1][4] == &#39;O&#39; &amp;&amp; board[2][4] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39; || board[1][4] == &#39;O&#39; &amp;&amp; board[2][4] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39; &amp;&amp; board[4][4] == &#39;O&#39; ||\r\n        board[2][4] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39; &amp;&amp; board[4][4] == &#39;O&#39; &amp;&amp; board[5][4] == &#39;O&#39; || board[0][5] == &#39;O&#39; &amp;&amp; board[1][5] == &#39;O&#39; &amp;&amp; board[2][5] == &#39;O&#39; &amp;&amp; board[3][5] == &#39;O&#39; || \r\n        board[1][5] == &#39;O&#39; &amp;&amp; board[2][5] == &#39;O&#39; &amp;&amp; board[3][5] == &#39;O&#39; &amp;&amp; board[4][5] == &#39;O&#39; || board[2][5] == &#39;O&#39; &amp;&amp; board[3][5] == &#39;O&#39; &amp;&amp; board[4][5] == &#39;O&#39; &amp;&amp; board[5][5] == &#39;O&#39; ||\r\n        board[0][6] == &#39;O&#39; &amp;&amp; board[1][6] == &#39;O&#39; &amp;&amp; board[2][6] == &#39;O&#39; &amp;&amp; board[3][6] == &#39;O&#39; || board[1][6] == &#39;O&#39; &amp;&amp; board[2][6] == &#39;O&#39; &amp;&amp; board[3][6] == &#39;O&#39; &amp;&amp; board[4][6] == &#39;O&#39;||\r\n        board[2][6] == &#39;O&#39; &amp;&amp; board[3][6] == &#39;O&#39; &amp;&amp; board[4][6] == &#39;O&#39; &amp;&amp; board[5][6] == &#39;O&#39;){\r\n            System.out.println(&quot;Game over, O won.&quot;);\r\n            printBoard();\r\n            doIt();\r\n        }else {\r\n            return;\r\n        }\r\n    }\r\n\r\n    public static void checkHorzO(){\r\n        if (board[0][0] == &#39;O&#39; &amp;&amp; board[0][1] == &#39;O&#39; &amp;&amp; board[0][2] == &#39;O&#39; &amp;&amp; board[0][3] == &#39;O&#39; || board[0][1] == &#39;O&#39; &amp;&amp; board[0][2] == &#39;O&#39; &amp;&amp; board[0][3] == &#39;O&#39; &amp;&amp; board[0][4] == &#39;O&#39; ||\r\n        board[0][2] == &#39;O&#39; &amp;&amp; board[0][3] == &#39;O&#39; &amp;&amp; board[0][4] == &#39;O&#39; &amp;&amp; board[0][5] == &#39;O&#39; || board[0][3] == &#39;O&#39; &amp;&amp; board[0][4] == &#39;O&#39; &amp;&amp; board[0][5] == &#39;O&#39; &amp;&amp; board[0][6] == &#39;O&#39; ||\r\n        board[1][0] == &#39;O&#39; &amp;&amp; board[1][1] == &#39;O&#39; &amp;&amp; board[1][2] == &#39;O&#39; &amp;&amp; board[1][3] == &#39;O&#39; || board[1][1] == &#39;O&#39; &amp;&amp; board[1][2] == &#39;O&#39; &amp;&amp; board[1][3] == &#39;O&#39; &amp;&amp; board[1][4] == &#39;O&#39; ||\r\n        board[1][2] == &#39;O&#39; &amp;&amp; board[1][3] == &#39;O&#39; &amp;&amp; board[1][4] == &#39;O&#39; &amp;&amp; board[1][5] == &#39;O&#39; || board[1][3] == &#39;O&#39; &amp;&amp; board[1][4] == &#39;O&#39; &amp;&amp; board[1][5] == &#39;O&#39; &amp;&amp; board[1][6] == &#39;O&#39; ||\r\n        board[2][0] == &#39;O&#39; &amp;&amp; board[2][1] == &#39;O&#39; &amp;&amp; board[2][2] == &#39;O&#39; &amp;&amp; board[2][3] == &#39;O&#39; || board[2][1] == &#39;O&#39; &amp;&amp; board[2][2] == &#39;O&#39; &amp;&amp; board[2][3] == &#39;O&#39; &amp;&amp; board[2][4] == &#39;O&#39; ||\r\n        board[2][2] == &#39;O&#39; &amp;&amp; board[2][3] == &#39;O&#39; &amp;&amp; board[2][4] == &#39;O&#39; &amp;&amp; board[2][5] == &#39;O&#39; || board[2][3] == &#39;O&#39; &amp;&amp; board[2][4] == &#39;O&#39; &amp;&amp; board[2][5] == &#39;O&#39; &amp;&amp; board[2][6] == &#39;O&#39; ||\r\n        board[3][0] == &#39;O&#39; &amp;&amp; board[3][1] == &#39;O&#39; &amp;&amp; board[3][2] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39; || board[3][1] == &#39;O&#39; &amp;&amp; board[3][2] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39; ||\r\n        board[3][2] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39; &amp;&amp; board[3][5] == &#39;O&#39; || board[3][3] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39; &amp;&amp; board[3][5] == &#39;O&#39; &amp;&amp; board[3][6] == &#39;O&#39; ||\r\n        board[4][0] == &#39;O&#39; &amp;&amp; board[4][1] == &#39;O&#39; &amp;&amp; board[4][2] == &#39;O&#39; &amp;&amp; board[4][3] == &#39;O&#39; || board[4][1] == &#39;O&#39; &amp;&amp; board[4][2] == &#39;O&#39; &amp;&amp; board[4][3] == &#39;O&#39; &amp;&amp; board[4][4] == &#39;O&#39; ||\r\n        board[4][2] == &#39;O&#39; &amp;&amp; board[4][3] == &#39;O&#39; &amp;&amp; board[4][4] == &#39;O&#39; &amp;&amp; board[4][5] == &#39;O&#39; || board[4][3] == &#39;O&#39; &amp;&amp; board[4][4] == &#39;O&#39; &amp;&amp; board[4][5] == &#39;O&#39; &amp;&amp; board[4][6] == &#39;O&#39; ||\r\n        board[5][0] == &#39;O&#39; &amp;&amp; board[5][1] == &#39;O&#39; &amp;&amp; board[5][2] == &#39;O&#39; &amp;&amp; board[5][3] == &#39;O&#39; || board[5][1] == &#39;O&#39; &amp;&amp; board[5][2] == &#39;O&#39; &amp;&amp; board[5][3] == &#39;O&#39; &amp;&amp; board[5][4] == &#39;O&#39; ||\r\n        board[5][2] == &#39;O&#39; &amp;&amp; board[5][3] == &#39;O&#39; &amp;&amp; board[5][4] == &#39;O&#39; &amp;&amp; board[5][5] == &#39;O&#39; || board[5][3] == &#39;O&#39; &amp;&amp; board[5][4] == &#39;O&#39; &amp;&amp; board[5][5] == &#39;O&#39; &amp;&amp; board[5][6] == &#39;O&#39; ){\r\n            System.out.println(&quot;Game over, O won.&quot;);\r\n            printBoard();\r\n            doIt();\r\n        }else {\r\n            return;\r\n        }\r\n    }\r\n\r\n    public static void checkHorzX(){\r\n        if (board[0][0] == &#39;X&#39; &amp;&amp; board[0][1] == &#39;X&#39; &amp;&amp; board[0][2] == &#39;X&#39; &amp;&amp; board[0][3] == &#39;X&#39; || board[0][1] == &#39;X&#39; &amp;&amp; board[0][2] == &#39;X&#39; &amp;&amp; board[0][3] == &#39;X&#39; &amp;&amp; board[0][4] == &#39;X&#39; ||\r\n        board[0][2] == &#39;X&#39; &amp;&amp; board[0][3] == &#39;X&#39; &amp;&amp; board[0][4] == &#39;X&#39; &amp;&amp; board[0][5] == &#39;X&#39; || board[0][3] == &#39;X&#39; &amp;&amp; board[0][4] == &#39;X&#39; &amp;&amp; board[0][5] == &#39;X&#39; &amp;&amp; board[0][6] == &#39;X&#39; ||\r\n        board[1][0] == &#39;X&#39; &amp;&amp; board[1][1] == &#39;X&#39; &amp;&amp; board[1][2] == &#39;X&#39; &amp;&amp; board[1][3] == &#39;X&#39; || board[1][1] == &#39;X&#39; &amp;&amp; board[1][2] == &#39;X&#39; &amp;&amp; board[1][3] == &#39;X&#39; &amp;&amp; board[1][4] == &#39;X&#39; ||\r\n        board[1][2] == &#39;X&#39; &amp;&amp; board[1][3] == &#39;X&#39; &amp;&amp; board[1][4] == &#39;X&#39; &amp;&amp; board[1][5] == &#39;X&#39; || board[1][3] == &#39;X&#39; &amp;&amp; board[1][4] == &#39;X&#39; &amp;&amp; board[1][5] == &#39;X&#39; &amp;&amp; board[1][6] == &#39;X&#39; ||\r\n        board[2][0] == &#39;X&#39; &amp;&amp; board[2][3] == &#39;X&#39; &amp;&amp; board[2][4] == &#39;X&#39; &amp;&amp; board[2][5] == &#39;X&#39; || board[2][3] == &#39;X&#39; &amp;&amp; board[2][4] == &#39;X&#39; &amp;&amp; board[2][5] == &#39;X&#39; &amp;&amp; board[2][6] == &#39;X&#39; ||\r\n        board[3][0] == &#39;X&#39; &amp;&amp; board[3][1] == &#39;X&#39; &amp;&amp; board[3][2] == &#39;X&#39; &amp;&amp; board[3][3] == &#39;X&#39; || board[3][1] == &#39;X&#39; &amp;&amp; board[3][2] == &#39;X&#39; &amp;&amp; board[3][3] == &#39;X&#39; &amp;&amp; board[3][4] == &#39;X&#39; ||\r\n        board[3][2] == &#39;X&#39; &amp;&amp; board[3][3] == &#39;X&#39; &amp;&amp; board[3][4] == &#39;X&#39; &amp;&amp; board[3][5] == &#39;X&#39; || board[3][3] == &#39;X&#39; &amp;&amp; board[3][4] == &#39;X&#39; &amp;&amp; board[3][5] == &#39;X&#39; &amp;&amp; board[3][6] == &#39;X&#39; ||\r\n        board[4][0] == &#39;X&#39; &amp;&amp; board[4][3] == &#39;X&#39; &amp;&amp; board[4][4] == &#39;X&#39; &amp;&amp; board[4][5] == &#39;X&#39; || board[4][3] == &#39;X&#39; &amp;&amp; board[4][4] == &#39;X&#39; &amp;&amp; board[4][5] == &#39;X&#39; &amp;&amp; board[4][6] == &#39;X&#39; ||\r\n        board[5][0] == &#39;X&#39; &amp;&amp; board[5][1] == &#39;X&#39; &amp;&amp; board[5][2] == &#39;X&#39; &amp;&amp; board[5][3] == &#39;X&#39; || board[5][1] == &#39;X&#39; &amp;&amp; board[5][2] == &#39;X&#39; &amp;&amp; board[5][3] == &#39;X&#39; &amp;&amp; board[5][4] == &#39;X&#39; ||\r\n        board[5][2] == &#39;X&#39; &amp;&amp; board[5][3] == &#39;X&#39; &amp;&amp; board[5][4] == &#39;X&#39; &amp;&amp; board[5][5] == &#39;X&#39; || board[5][3] == &#39;X&#39; &amp;&amp; board[5][4] == &#39;X&#39; &amp;&amp; board[5][5] == &#39;X&#39; &amp;&amp; board[5][6] == &#39;X&#39; ){\r\n            System.out.println(&quot;Game over, X won.&quot;);\r\n            printBoard();\r\n            doIt();\r\n        }else {\r\n            return;\r\n        }\r\n    }\r\n\r\n    public static void checkDiagX(){\r\n        if (board[2][0] == &#39;X&#39; &amp;&amp; board[3][1] == &#39;X&#39; &amp;&amp; board[4][2] == &#39;X&#39; &amp;&amp; board[5][3] == &#39;X&#39;|| board[1][0] == &#39;X&#39; &amp;&amp; board[2][1] == &#39;X&#39; &amp;&amp; board[3][2] == &#39;X&#39; &amp;&amp; board[4][3] == &#39;X&#39;||\r\n        board[0][0] == &#39;X&#39; &amp;&amp; board[1][1] == &#39;X&#39; &amp;&amp; board[2][2] == &#39;X&#39; &amp;&amp; board[3][3] == &#39;X&#39;|| board[0][1] == &#39;X&#39; &amp;&amp; board[1][2] == &#39;X&#39; &amp;&amp; board[2][3] == &#39;X&#39; &amp;&amp; board[3][4] == &#39;X&#39;||\r\n        board[1][1] == &#39;X&#39; &amp;&amp; board[2][2] == &#39;X&#39; &amp;&amp; board[3][3] == &#39;X&#39; &amp;&amp; board[4][4] == &#39;X&#39;|| board[2][1] == &#39;X&#39; &amp;&amp; board[3][2] == &#39;X&#39; &amp;&amp; board[4][3] == &#39;X&#39; &amp;&amp; board[5][4] == &#39;X&#39;||\r\n        board[0][2] == &#39;X&#39; &amp;&amp; board[1][3] == &#39;X&#39; &amp;&amp; board[2][4] == &#39;X&#39; &amp;&amp; board[3][5] == &#39;X&#39;|| board[1][2] == &#39;X&#39; &amp;&amp; board[2][3] == &#39;X&#39; &amp;&amp; board[3][4] == &#39;X&#39; &amp;&amp; board[4][5] == &#39;X&#39;||\r\n        board[2][2] == &#39;X&#39; &amp;&amp; board[3][3] == &#39;X&#39; &amp;&amp; board[4][4] == &#39;X&#39; &amp;&amp; board[5][5] == &#39;X&#39;|| board[0][3] == &#39;X&#39; &amp;&amp; board[1][4] == &#39;X&#39; &amp;&amp; board[2][5] == &#39;X&#39; &amp;&amp; board[3][6] == &#39;X&#39;||\r\n        board[1][3] == &#39;X&#39; &amp;&amp; board[2][4] == &#39;X&#39; &amp;&amp; board[3][5] == &#39;X&#39; &amp;&amp; board[4][6] == &#39;X&#39;|| board[2][3] == &#39;X&#39; &amp;&amp; board[3][4] == &#39;X&#39; &amp;&amp; board[4][5] == &#39;X&#39; &amp;&amp; board[5][6] == &#39;X&#39;){\r\n            System.out.println(&quot;Game over, X won.&quot;);\r\n            printBoard();\r\n            doIt();\r\n        }else {\r\n            return;\r\n        }\r\n    }\r\n\r\n    public static void checkDiagO(){\r\n        if (board[2][0] == &#39;O&#39; &amp;&amp; board[3][1] == &#39;O&#39; &amp;&amp; board[4][2] == &#39;O&#39; &amp;&amp; board[5][3] == &#39;O&#39;|| board[1][0] == &#39;O&#39; &amp;&amp; board[2][1] == &#39;O&#39; &amp;&amp; board[3][2] == &#39;O&#39; &amp;&amp; board[4][3] == &#39;O&#39;||\r\n        board[0][0] == &#39;O&#39; &amp;&amp; board[1][1] == &#39;O&#39; &amp;&amp; board[2][2] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39;|| board[0][1] == &#39;O&#39; &amp;&amp; board[1][2] == &#39;O&#39; &amp;&amp; board[2][3] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39;||\r\n        board[1][1] == &#39;O&#39; &amp;&amp; board[2][2] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39; &amp;&amp; board[4][4] == &#39;O&#39;|| board[2][1] == &#39;O&#39; &amp;&amp; board[3][2] == &#39;O&#39; &amp;&amp; board[4][3] == &#39;O&#39; &amp;&amp; board[5][4] == &#39;O&#39;||\r\n        board[0][2] == &#39;O&#39; &amp;&amp; board[1][3] == &#39;O&#39; &amp;&amp; board[2][4] == &#39;O&#39; &amp;&amp; board[3][5] == &#39;O&#39;|| board[1][2] == &#39;O&#39; &amp;&amp; board[2][3] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39; &amp;&amp; board[4][5] == &#39;O&#39;||\r\n        board[2][2] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39; &amp;&amp; board[4][4] == &#39;O&#39; &amp;&amp; board[5][5] == &#39;O&#39;|| board[0][3] == &#39;O&#39; &amp;&amp; board[1][4] == &#39;O&#39; &amp;&amp; board[2][5] == &#39;O&#39; &amp;&amp; board[3][6] == &#39;O&#39;||\r\n        board[1][3] == &#39;O&#39; &amp;&amp; board[2][4] == &#39;O&#39; &amp;&amp; board[3][5] == &#39;O&#39; &amp;&amp; board[4][6] == &#39;O&#39;|| board[2][3] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39; &amp;&amp; board[4][5] == &#39;O&#39; &amp;&amp; board[5][6] == &#39;O&#39;){\r\n            System.out.println(&quot;Game over, O won.&quot;);\r\n            printBoard();\r\n            doIt();\r\n        }else {\r\n            return;\r\n        }\r\n    }\r\n    \r\n    public static void checkAntiDiagX(){\r\n        if (board[3][0] == &#39;X&#39; &amp;&amp; board[2][1] == &#39;X&#39; &amp;&amp; board[1][2] == &#39;X&#39; &amp;&amp; board[0][3] == &#39;X&#39;|| board[4][0] == &#39;X&#39; &amp;&amp; board[3][1] == &#39;X&#39; &amp;&amp; board[2][2] == &#39;X&#39; &amp;&amp; board[1][3] == &#39;X&#39;||\r\n        board[3][1] == &#39;X&#39; &amp;&amp; board[2][2] == &#39;X&#39; &amp;&amp; board[1][3] == &#39;X&#39; &amp;&amp; board[0][4] == &#39;X&#39;|| board[5][0] == &#39;X&#39; &amp;&amp; board[4][1] == &#39;X&#39; &amp;&amp; board[3][2] == &#39;X&#39; &amp;&amp; board[2][3] == &#39;X&#39;||        \r\n        board[4][1] == &#39;X&#39; &amp;&amp; board[3][2] == &#39;X&#39; &amp;&amp; board[2][3] == &#39;X&#39; &amp;&amp; board[1][4] == &#39;X&#39;|| board[3][2] == &#39;X&#39; &amp;&amp; board[2][2] == &#39;X&#39; &amp;&amp; board[1][4] == &#39;X&#39; &amp;&amp; board[0][5] == &#39;X&#39;||\r\n        board[5][1] == &#39;X&#39; &amp;&amp; board[4][2] == &#39;X&#39; &amp;&amp; board[3][3] == &#39;X&#39; &amp;&amp; board[2][4] == &#39;X&#39;|| board[4][2] == &#39;X&#39; &amp;&amp; board[3][3] == &#39;X&#39; &amp;&amp; board[2][4] == &#39;X&#39; &amp;&amp; board[1][5] == &#39;X&#39;||\r\n        board[3][3] == &#39;X&#39; &amp;&amp; board[2][4] == &#39;X&#39; &amp;&amp; board[1][5] == &#39;X&#39; &amp;&amp; board[0][6] == &#39;X&#39;|| board[5][2] == &#39;X&#39; &amp;&amp; board[4][3] == &#39;X&#39; &amp;&amp; board[3][4] == &#39;X&#39; &amp;&amp; board[2][5] == &#39;X&#39;||\r\n        board[4][3] == &#39;X&#39; &amp;&amp; board[3][4] == &#39;X&#39; &amp;&amp; board[2][5] == &#39;X&#39; &amp;&amp; board[1][6] == &#39;X&#39;|| board[5][3] == &#39;X&#39; &amp;&amp; board[4][4] == &#39;X&#39; &amp;&amp; board[3][5] == &#39;X&#39; &amp;&amp; board[2][6] == &#39;X&#39;){\r\n            System.out.println(&quot;Game over, X won.&quot;);\r\n            printBoard();\r\n            doIt();\r\n        }else {\r\n            return;\r\n        }\r\n    }\r\n    \r\n     public static void checkAntiDiagO(){\r\n        if (board[3][0] == &#39;O&#39; &amp;&amp; board[2][1] == &#39;O&#39; &amp;&amp; board[1][2] == &#39;O&#39; &amp;&amp; board[0][3] == &#39;O&#39;|| board[4][0] == &#39;O&#39; &amp;&amp; board[3][1] == &#39;O&#39; &amp;&amp; board[2][2] == &#39;O&#39; &amp;&amp; board[1][3] == &#39;O&#39;||\r\n        board[3][1] == &#39;O&#39; &amp;&amp; board[2][2] == &#39;O&#39; &amp;&amp; board[1][3] == &#39;O&#39; &amp;&amp; board[0][4] == &#39;O&#39;|| board[5][0] == &#39;O&#39; &amp;&amp; board[4][1] == &#39;O&#39; &amp;&amp; board[3][2] == &#39;O&#39; &amp;&amp; board[2][3] == &#39;O&#39;||        \r\n        board[4][1] == &#39;O&#39; &amp;&amp; board[3][2] == &#39;O&#39; &amp;&amp; board[2][3] == &#39;O&#39; &amp;&amp; board[1][4] == &#39;O&#39;|| board[3][2] == &#39;O&#39; &amp;&amp; board[2][2] == &#39;O&#39; &amp;&amp; board[1][4] == &#39;O&#39; &amp;&amp; board[0][5] == &#39;O&#39;||\r\n        board[5][1] == &#39;O&#39; &amp;&amp; board[4][2] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39; &amp;&amp; board[2][4] == &#39;O&#39;|| board[4][2] == &#39;O&#39; &amp;&amp; board[3][3] == &#39;O&#39; &amp;&amp; board[2][4] == &#39;O&#39; &amp;&amp; board[1][5] == &#39;O&#39;||\r\n        board[3][3] == &#39;O&#39; &amp;&amp; board[2][4] == &#39;O&#39; &amp;&amp; board[1][5] == &#39;O&#39; &amp;&amp; board[0][6] == &#39;O&#39;|| board[5][2] == &#39;O&#39; &amp;&amp; board[4][3] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39; &amp;&amp; board[2][5] == &#39;O&#39;||\r\n        board[4][3] == &#39;O&#39; &amp;&amp; board[3][4] == &#39;O&#39; &amp;&amp; board[2][5] == &#39;O&#39; &amp;&amp; board[1][6] == &#39;O&#39;|| board[5][3] == &#39;O&#39; &amp;&amp; board[4][4] == &#39;O&#39; &amp;&amp; board[3][5] == &#39;O&#39; &amp;&amp; board[2][6] == &#39;O&#39;){\r\n            System.out.println(&quot;Game over, O won.&quot;);\r\n            printBoard();\r\n            doIt();\r\n        }else {\r\n            return;\r\n        }\r\n    }","title":"Connect 4 check for a win algorithm","body":"<p>this is what worked for me, it also did not take as long as it seems:<br>\nthese are methods with row, column, diagonal, and anti-diagonal for x and o\n            ;</p>\n\n<pre><code>public static void checkVertO(){\n    if (board[0][0] == 'O' &amp;&amp; board[1][0] == 'O' &amp;&amp; board[2][0] == 'O' &amp;&amp; board[3][0] == 'O' || board[1][0] == 'O' &amp;&amp; board[2][0] == 'O' &amp;&amp; board[3][0] == 'O' &amp;&amp; board[4][0] == 'O' ||\n    board[2][0] == 'O' &amp;&amp; board[3][0] == 'O' &amp;&amp; board[4][0] == 'O' &amp;&amp; board[5][0] == 'O' || board[0][1] == 'O' &amp;&amp; board[1][1] == 'O' &amp;&amp; board[2][1] == 'O' &amp;&amp; board[3][1] == 'O' || \n    board[1][1] == 'O' &amp;&amp; board[2][1] == 'O' &amp;&amp; board[3][1] == 'O' &amp;&amp; board[4][1] == 'O' || board[2][1] == 'O' &amp;&amp; board[3][1] == 'O' &amp;&amp; board[4][1] == 'O' &amp;&amp; board[5][1] == 'O' || \n    board[0][2] == 'O' &amp;&amp; board[1][2] == 'O' &amp;&amp; board[2][2] == 'O' &amp;&amp; board[3][2] == 'O' || board[1][2] == 'O' &amp;&amp; board[2][2] == 'O' &amp;&amp; board[3][2] == 'O' &amp;&amp; board[4][2] == 'O' ||\n    board[2][2] == 'O' &amp;&amp; board[3][2] == 'O' &amp;&amp; board[4][2] == 'O' &amp;&amp; board[5][2] == 'O' || board[0][3] == 'O' &amp;&amp; board[1][3] == 'O' &amp;&amp; board[2][3] == 'O' &amp;&amp; board[3][3] == 'O' || \n    board[1][3] == 'O' &amp;&amp; board[2][3] == 'O' &amp;&amp; board[3][3] == 'O' &amp;&amp; board[4][3] == 'O' || board[2][3] == 'O' &amp;&amp; board[3][3] == 'O' &amp;&amp; board[4][3] == 'O' &amp;&amp; board[5][3] == 'O' ||\n    board[0][4] == 'O' &amp;&amp; board[1][4] == 'O' &amp;&amp; board[2][4] == 'O' &amp;&amp; board[3][4] == 'O' || board[1][4] == 'O' &amp;&amp; board[2][4] == 'O' &amp;&amp; board[3][4] == 'O' &amp;&amp; board[4][4] == 'O' ||\n    board[2][4] == 'O' &amp;&amp; board[3][4] == 'O' &amp;&amp; board[4][4] == 'O' &amp;&amp; board[5][4] == 'O' || board[0][5] == 'O' &amp;&amp; board[1][5] == 'O' &amp;&amp; board[2][5] == 'O' &amp;&amp; board[3][5] == 'O' || \n    board[1][5] == 'O' &amp;&amp; board[2][5] == 'O' &amp;&amp; board[3][5] == 'O' &amp;&amp; board[4][5] == 'O' || board[2][5] == 'O' &amp;&amp; board[3][5] == 'O' &amp;&amp; board[4][5] == 'O' &amp;&amp; board[5][5] == 'O' ||\n    board[0][6] == 'O' &amp;&amp; board[1][6] == 'O' &amp;&amp; board[2][6] == 'O' &amp;&amp; board[3][6] == 'O' || board[1][6] == 'O' &amp;&amp; board[2][6] == 'O' &amp;&amp; board[3][6] == 'O' &amp;&amp; board[4][6] == 'O'||\n    board[2][6] == 'O' &amp;&amp; board[3][6] == 'O' &amp;&amp; board[4][6] == 'O' &amp;&amp; board[5][6] == 'O'){\n        System.out.println(\"Game over, O won.\");\n        printBoard();\n        doIt();\n    }else {\n        return;\n    }\n}\n\npublic static void checkHorzO(){\n    if (board[0][0] == 'O' &amp;&amp; board[0][1] == 'O' &amp;&amp; board[0][2] == 'O' &amp;&amp; board[0][3] == 'O' || board[0][1] == 'O' &amp;&amp; board[0][2] == 'O' &amp;&amp; board[0][3] == 'O' &amp;&amp; board[0][4] == 'O' ||\n    board[0][2] == 'O' &amp;&amp; board[0][3] == 'O' &amp;&amp; board[0][4] == 'O' &amp;&amp; board[0][5] == 'O' || board[0][3] == 'O' &amp;&amp; board[0][4] == 'O' &amp;&amp; board[0][5] == 'O' &amp;&amp; board[0][6] == 'O' ||\n    board[1][0] == 'O' &amp;&amp; board[1][1] == 'O' &amp;&amp; board[1][2] == 'O' &amp;&amp; board[1][3] == 'O' || board[1][1] == 'O' &amp;&amp; board[1][2] == 'O' &amp;&amp; board[1][3] == 'O' &amp;&amp; board[1][4] == 'O' ||\n    board[1][2] == 'O' &amp;&amp; board[1][3] == 'O' &amp;&amp; board[1][4] == 'O' &amp;&amp; board[1][5] == 'O' || board[1][3] == 'O' &amp;&amp; board[1][4] == 'O' &amp;&amp; board[1][5] == 'O' &amp;&amp; board[1][6] == 'O' ||\n    board[2][0] == 'O' &amp;&amp; board[2][1] == 'O' &amp;&amp; board[2][2] == 'O' &amp;&amp; board[2][3] == 'O' || board[2][1] == 'O' &amp;&amp; board[2][2] == 'O' &amp;&amp; board[2][3] == 'O' &amp;&amp; board[2][4] == 'O' ||\n    board[2][2] == 'O' &amp;&amp; board[2][3] == 'O' &amp;&amp; board[2][4] == 'O' &amp;&amp; board[2][5] == 'O' || board[2][3] == 'O' &amp;&amp; board[2][4] == 'O' &amp;&amp; board[2][5] == 'O' &amp;&amp; board[2][6] == 'O' ||\n    board[3][0] == 'O' &amp;&amp; board[3][1] == 'O' &amp;&amp; board[3][2] == 'O' &amp;&amp; board[3][3] == 'O' || board[3][1] == 'O' &amp;&amp; board[3][2] == 'O' &amp;&amp; board[3][3] == 'O' &amp;&amp; board[3][4] == 'O' ||\n    board[3][2] == 'O' &amp;&amp; board[3][3] == 'O' &amp;&amp; board[3][4] == 'O' &amp;&amp; board[3][5] == 'O' || board[3][3] == 'O' &amp;&amp; board[3][4] == 'O' &amp;&amp; board[3][5] == 'O' &amp;&amp; board[3][6] == 'O' ||\n    board[4][0] == 'O' &amp;&amp; board[4][1] == 'O' &amp;&amp; board[4][2] == 'O' &amp;&amp; board[4][3] == 'O' || board[4][1] == 'O' &amp;&amp; board[4][2] == 'O' &amp;&amp; board[4][3] == 'O' &amp;&amp; board[4][4] == 'O' ||\n    board[4][2] == 'O' &amp;&amp; board[4][3] == 'O' &amp;&amp; board[4][4] == 'O' &amp;&amp; board[4][5] == 'O' || board[4][3] == 'O' &amp;&amp; board[4][4] == 'O' &amp;&amp; board[4][5] == 'O' &amp;&amp; board[4][6] == 'O' ||\n    board[5][0] == 'O' &amp;&amp; board[5][1] == 'O' &amp;&amp; board[5][2] == 'O' &amp;&amp; board[5][3] == 'O' || board[5][1] == 'O' &amp;&amp; board[5][2] == 'O' &amp;&amp; board[5][3] == 'O' &amp;&amp; board[5][4] == 'O' ||\n    board[5][2] == 'O' &amp;&amp; board[5][3] == 'O' &amp;&amp; board[5][4] == 'O' &amp;&amp; board[5][5] == 'O' || board[5][3] == 'O' &amp;&amp; board[5][4] == 'O' &amp;&amp; board[5][5] == 'O' &amp;&amp; board[5][6] == 'O' ){\n        System.out.println(\"Game over, O won.\");\n        printBoard();\n        doIt();\n    }else {\n        return;\n    }\n}\n\npublic static void checkHorzX(){\n    if (board[0][0] == 'X' &amp;&amp; board[0][1] == 'X' &amp;&amp; board[0][2] == 'X' &amp;&amp; board[0][3] == 'X' || board[0][1] == 'X' &amp;&amp; board[0][2] == 'X' &amp;&amp; board[0][3] == 'X' &amp;&amp; board[0][4] == 'X' ||\n    board[0][2] == 'X' &amp;&amp; board[0][3] == 'X' &amp;&amp; board[0][4] == 'X' &amp;&amp; board[0][5] == 'X' || board[0][3] == 'X' &amp;&amp; board[0][4] == 'X' &amp;&amp; board[0][5] == 'X' &amp;&amp; board[0][6] == 'X' ||\n    board[1][0] == 'X' &amp;&amp; board[1][1] == 'X' &amp;&amp; board[1][2] == 'X' &amp;&amp; board[1][3] == 'X' || board[1][1] == 'X' &amp;&amp; board[1][2] == 'X' &amp;&amp; board[1][3] == 'X' &amp;&amp; board[1][4] == 'X' ||\n    board[1][2] == 'X' &amp;&amp; board[1][3] == 'X' &amp;&amp; board[1][4] == 'X' &amp;&amp; board[1][5] == 'X' || board[1][3] == 'X' &amp;&amp; board[1][4] == 'X' &amp;&amp; board[1][5] == 'X' &amp;&amp; board[1][6] == 'X' ||\n    board[2][0] == 'X' &amp;&amp; board[2][3] == 'X' &amp;&amp; board[2][4] == 'X' &amp;&amp; board[2][5] == 'X' || board[2][3] == 'X' &amp;&amp; board[2][4] == 'X' &amp;&amp; board[2][5] == 'X' &amp;&amp; board[2][6] == 'X' ||\n    board[3][0] == 'X' &amp;&amp; board[3][1] == 'X' &amp;&amp; board[3][2] == 'X' &amp;&amp; board[3][3] == 'X' || board[3][1] == 'X' &amp;&amp; board[3][2] == 'X' &amp;&amp; board[3][3] == 'X' &amp;&amp; board[3][4] == 'X' ||\n    board[3][2] == 'X' &amp;&amp; board[3][3] == 'X' &amp;&amp; board[3][4] == 'X' &amp;&amp; board[3][5] == 'X' || board[3][3] == 'X' &amp;&amp; board[3][4] == 'X' &amp;&amp; board[3][5] == 'X' &amp;&amp; board[3][6] == 'X' ||\n    board[4][0] == 'X' &amp;&amp; board[4][3] == 'X' &amp;&amp; board[4][4] == 'X' &amp;&amp; board[4][5] == 'X' || board[4][3] == 'X' &amp;&amp; board[4][4] == 'X' &amp;&amp; board[4][5] == 'X' &amp;&amp; board[4][6] == 'X' ||\n    board[5][0] == 'X' &amp;&amp; board[5][1] == 'X' &amp;&amp; board[5][2] == 'X' &amp;&amp; board[5][3] == 'X' || board[5][1] == 'X' &amp;&amp; board[5][2] == 'X' &amp;&amp; board[5][3] == 'X' &amp;&amp; board[5][4] == 'X' ||\n    board[5][2] == 'X' &amp;&amp; board[5][3] == 'X' &amp;&amp; board[5][4] == 'X' &amp;&amp; board[5][5] == 'X' || board[5][3] == 'X' &amp;&amp; board[5][4] == 'X' &amp;&amp; board[5][5] == 'X' &amp;&amp; board[5][6] == 'X' ){\n        System.out.println(\"Game over, X won.\");\n        printBoard();\n        doIt();\n    }else {\n        return;\n    }\n}\n\npublic static void checkDiagX(){\n    if (board[2][0] == 'X' &amp;&amp; board[3][1] == 'X' &amp;&amp; board[4][2] == 'X' &amp;&amp; board[5][3] == 'X'|| board[1][0] == 'X' &amp;&amp; board[2][1] == 'X' &amp;&amp; board[3][2] == 'X' &amp;&amp; board[4][3] == 'X'||\n    board[0][0] == 'X' &amp;&amp; board[1][1] == 'X' &amp;&amp; board[2][2] == 'X' &amp;&amp; board[3][3] == 'X'|| board[0][1] == 'X' &amp;&amp; board[1][2] == 'X' &amp;&amp; board[2][3] == 'X' &amp;&amp; board[3][4] == 'X'||\n    board[1][1] == 'X' &amp;&amp; board[2][2] == 'X' &amp;&amp; board[3][3] == 'X' &amp;&amp; board[4][4] == 'X'|| board[2][1] == 'X' &amp;&amp; board[3][2] == 'X' &amp;&amp; board[4][3] == 'X' &amp;&amp; board[5][4] == 'X'||\n    board[0][2] == 'X' &amp;&amp; board[1][3] == 'X' &amp;&amp; board[2][4] == 'X' &amp;&amp; board[3][5] == 'X'|| board[1][2] == 'X' &amp;&amp; board[2][3] == 'X' &amp;&amp; board[3][4] == 'X' &amp;&amp; board[4][5] == 'X'||\n    board[2][2] == 'X' &amp;&amp; board[3][3] == 'X' &amp;&amp; board[4][4] == 'X' &amp;&amp; board[5][5] == 'X'|| board[0][3] == 'X' &amp;&amp; board[1][4] == 'X' &amp;&amp; board[2][5] == 'X' &amp;&amp; board[3][6] == 'X'||\n    board[1][3] == 'X' &amp;&amp; board[2][4] == 'X' &amp;&amp; board[3][5] == 'X' &amp;&amp; board[4][6] == 'X'|| board[2][3] == 'X' &amp;&amp; board[3][4] == 'X' &amp;&amp; board[4][5] == 'X' &amp;&amp; board[5][6] == 'X'){\n        System.out.println(\"Game over, X won.\");\n        printBoard();\n        doIt();\n    }else {\n        return;\n    }\n}\n\npublic static void checkDiagO(){\n    if (board[2][0] == 'O' &amp;&amp; board[3][1] == 'O' &amp;&amp; board[4][2] == 'O' &amp;&amp; board[5][3] == 'O'|| board[1][0] == 'O' &amp;&amp; board[2][1] == 'O' &amp;&amp; board[3][2] == 'O' &amp;&amp; board[4][3] == 'O'||\n    board[0][0] == 'O' &amp;&amp; board[1][1] == 'O' &amp;&amp; board[2][2] == 'O' &amp;&amp; board[3][3] == 'O'|| board[0][1] == 'O' &amp;&amp; board[1][2] == 'O' &amp;&amp; board[2][3] == 'O' &amp;&amp; board[3][4] == 'O'||\n    board[1][1] == 'O' &amp;&amp; board[2][2] == 'O' &amp;&amp; board[3][3] == 'O' &amp;&amp; board[4][4] == 'O'|| board[2][1] == 'O' &amp;&amp; board[3][2] == 'O' &amp;&amp; board[4][3] == 'O' &amp;&amp; board[5][4] == 'O'||\n    board[0][2] == 'O' &amp;&amp; board[1][3] == 'O' &amp;&amp; board[2][4] == 'O' &amp;&amp; board[3][5] == 'O'|| board[1][2] == 'O' &amp;&amp; board[2][3] == 'O' &amp;&amp; board[3][4] == 'O' &amp;&amp; board[4][5] == 'O'||\n    board[2][2] == 'O' &amp;&amp; board[3][3] == 'O' &amp;&amp; board[4][4] == 'O' &amp;&amp; board[5][5] == 'O'|| board[0][3] == 'O' &amp;&amp; board[1][4] == 'O' &amp;&amp; board[2][5] == 'O' &amp;&amp; board[3][6] == 'O'||\n    board[1][3] == 'O' &amp;&amp; board[2][4] == 'O' &amp;&amp; board[3][5] == 'O' &amp;&amp; board[4][6] == 'O'|| board[2][3] == 'O' &amp;&amp; board[3][4] == 'O' &amp;&amp; board[4][5] == 'O' &amp;&amp; board[5][6] == 'O'){\n        System.out.println(\"Game over, O won.\");\n        printBoard();\n        doIt();\n    }else {\n        return;\n    }\n}\n\npublic static void checkAntiDiagX(){\n    if (board[3][0] == 'X' &amp;&amp; board[2][1] == 'X' &amp;&amp; board[1][2] == 'X' &amp;&amp; board[0][3] == 'X'|| board[4][0] == 'X' &amp;&amp; board[3][1] == 'X' &amp;&amp; board[2][2] == 'X' &amp;&amp; board[1][3] == 'X'||\n    board[3][1] == 'X' &amp;&amp; board[2][2] == 'X' &amp;&amp; board[1][3] == 'X' &amp;&amp; board[0][4] == 'X'|| board[5][0] == 'X' &amp;&amp; board[4][1] == 'X' &amp;&amp; board[3][2] == 'X' &amp;&amp; board[2][3] == 'X'||        \n    board[4][1] == 'X' &amp;&amp; board[3][2] == 'X' &amp;&amp; board[2][3] == 'X' &amp;&amp; board[1][4] == 'X'|| board[3][2] == 'X' &amp;&amp; board[2][2] == 'X' &amp;&amp; board[1][4] == 'X' &amp;&amp; board[0][5] == 'X'||\n    board[5][1] == 'X' &amp;&amp; board[4][2] == 'X' &amp;&amp; board[3][3] == 'X' &amp;&amp; board[2][4] == 'X'|| board[4][2] == 'X' &amp;&amp; board[3][3] == 'X' &amp;&amp; board[2][4] == 'X' &amp;&amp; board[1][5] == 'X'||\n    board[3][3] == 'X' &amp;&amp; board[2][4] == 'X' &amp;&amp; board[1][5] == 'X' &amp;&amp; board[0][6] == 'X'|| board[5][2] == 'X' &amp;&amp; board[4][3] == 'X' &amp;&amp; board[3][4] == 'X' &amp;&amp; board[2][5] == 'X'||\n    board[4][3] == 'X' &amp;&amp; board[3][4] == 'X' &amp;&amp; board[2][5] == 'X' &amp;&amp; board[1][6] == 'X'|| board[5][3] == 'X' &amp;&amp; board[4][4] == 'X' &amp;&amp; board[3][5] == 'X' &amp;&amp; board[2][6] == 'X'){\n        System.out.println(\"Game over, X won.\");\n        printBoard();\n        doIt();\n    }else {\n        return;\n    }\n}\n\n public static void checkAntiDiagO(){\n    if (board[3][0] == 'O' &amp;&amp; board[2][1] == 'O' &amp;&amp; board[1][2] == 'O' &amp;&amp; board[0][3] == 'O'|| board[4][0] == 'O' &amp;&amp; board[3][1] == 'O' &amp;&amp; board[2][2] == 'O' &amp;&amp; board[1][3] == 'O'||\n    board[3][1] == 'O' &amp;&amp; board[2][2] == 'O' &amp;&amp; board[1][3] == 'O' &amp;&amp; board[0][4] == 'O'|| board[5][0] == 'O' &amp;&amp; board[4][1] == 'O' &amp;&amp; board[3][2] == 'O' &amp;&amp; board[2][3] == 'O'||        \n    board[4][1] == 'O' &amp;&amp; board[3][2] == 'O' &amp;&amp; board[2][3] == 'O' &amp;&amp; board[1][4] == 'O'|| board[3][2] == 'O' &amp;&amp; board[2][2] == 'O' &amp;&amp; board[1][4] == 'O' &amp;&amp; board[0][5] == 'O'||\n    board[5][1] == 'O' &amp;&amp; board[4][2] == 'O' &amp;&amp; board[3][3] == 'O' &amp;&amp; board[2][4] == 'O'|| board[4][2] == 'O' &amp;&amp; board[3][3] == 'O' &amp;&amp; board[2][4] == 'O' &amp;&amp; board[1][5] == 'O'||\n    board[3][3] == 'O' &amp;&amp; board[2][4] == 'O' &amp;&amp; board[1][5] == 'O' &amp;&amp; board[0][6] == 'O'|| board[5][2] == 'O' &amp;&amp; board[4][3] == 'O' &amp;&amp; board[3][4] == 'O' &amp;&amp; board[2][5] == 'O'||\n    board[4][3] == 'O' &amp;&amp; board[3][4] == 'O' &amp;&amp; board[2][5] == 'O' &amp;&amp; board[1][6] == 'O'|| board[5][3] == 'O' &amp;&amp; board[4][4] == 'O' &amp;&amp; board[3][5] == 'O' &amp;&amp; board[2][6] == 'O'){\n        System.out.println(\"Game over, O won.\");\n        printBoard();\n        doIt();\n    }else {\n        return;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8517959,"reputation":670,"user_id":7066622,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554632061,"creation_date":1554632061,"answer_id":55557826,"question_id":32770321,"body_markdown":"If someone still needs the solution, I write a function in c# and put in GitHub repo.\r\n\r\n    /// &lt;summary&gt;\r\n        /// WinnerCalc check if blue or red win the game.\r\n        /// &lt;/summary&gt;\r\n        /// &lt;returns&gt;Return 1 if 1 win and 2 if 2 win and -1 if no one win.&lt;/returns&gt;\r\n        /// &lt;param name=&quot;matrix&quot;&gt;2d array&lt;/param&gt;\r\n        /// &lt;param name=&quot;lastRow&quot;&gt;The row number.&lt;/param&gt;\r\n        /// &lt;param name=&quot;lastColumn&quot;&gt;The column number.&lt;/param&gt;\r\n        public static int WinnerCalc(int[,] matrix, int lastRow, int lastColumn)\r\n        {\r\n            int lastValue = matrix[lastRow, lastColumn];\r\n            Console.WriteLine(&quot;drop in row: &quot; + (lastRow) + &quot; and column: &quot; + (lastColumn) + &quot; , the value is: &quot; + lastValue);\r\n            int rows = matrix.GetLength(0); //6\r\n            int columns = matrix.GetLength(1); //7\r\n            Console.WriteLine(&quot;number of rows is &quot; + rows + &quot;, and number of colums is &quot; + columns);\r\n\r\n            int numToWin = 4;\r\n            int winner = -1;//is now one win tha game\r\n            int match;\r\n\r\n            match = 0;\r\n            //check Horizontal\r\n            for (int c = 0; c &lt; columns; c++)\r\n            {\r\n                int currentValue = matrix[lastRow, c];\r\n                if (currentValue == lastValue)\r\n                    match++;\r\n                else match = 0;\r\n                if(match == numToWin)\r\n                {\r\n                    winner = lastValue;\r\n                    break;\r\n                }\r\n            }\r\n            if (winner != -1)\r\n            {\r\n                Console.WriteLine(&quot;win Horizontal !&quot;);\r\n                return winner;\r\n            }\r\n\r\n            match = 0;\r\n            //check Vertical\r\n            for (int r = 0; r &lt; rows; r++)\r\n            {\r\n                int currentValue = matrix[r, lastColumn];\r\n                if (currentValue == lastValue)\r\n                    match++;\r\n                else match = 0;\r\n                if (match == numToWin)\r\n                {\r\n                    winner = lastValue;\r\n                    break;\r\n                }\r\n            }\r\n            if (winner != -1)\r\n            {\r\n                Console.WriteLine(&quot;win Vertical !&quot;);\r\n                return winner;\r\n            }\r\n\r\n            //check diagonal top-left to bottom-right - include middle\r\n            match = 0;\r\n            for (int r = 0; r &lt;= rows - 4; r++)\r\n            {\r\n                int rowPosition = r;\r\n                for (int column = 0; column &lt; columns &amp;&amp; rowPosition &lt; rows; column++)\r\n                {\r\n                    int currentValue = matrix[rowPosition, column];\r\n                    if (currentValue == lastValue)\r\n                        match++;\r\n                    else match = 0;\r\n                    if (match == numToWin)\r\n                    {\r\n                        winner = lastValue;\r\n                        break;\r\n                    }\r\n                    rowPosition++;\r\n                }\r\n                if (winner != -1) break;\r\n            }\r\n            if (winner != -1)\r\n            {\r\n                Console.WriteLine(&quot;win Diagonal Top left! - include middle&quot;);\r\n                return winner;\r\n            }\r\n\r\n            //check diagonal top-left to bottom-right - after middle\r\n            match = 0;\r\n            for (int c = 1; c &lt;= columns - 4; c++)\r\n            {\r\n                int columnPosition = c;\r\n                for (int row = 0; row &lt; rows &amp;&amp; columnPosition &lt; columns; row++)\r\n                {\r\n                    int currentValue = matrix[row, columnPosition];\r\n                    if (currentValue == lastValue)\r\n                        match++;\r\n                    else match = 0;\r\n                    if (match == numToWin)\r\n                    {\r\n                        winner = lastValue;\r\n                        break;\r\n                    }\r\n                    columnPosition++;\r\n                }\r\n                if (winner != -1) break;\r\n            }\r\n            if (winner != -1)\r\n            {\r\n                Console.WriteLine(&quot;win Diagonal Top left! - after middle&quot;);\r\n                return winner;\r\n            }\r\n\r\n\r\n            //check diagonal bottom-left to top-right - include middle\r\n            match = 0;\r\n            for (int r = rows - 1; r &gt;= rows - 4; r--)\r\n            {\r\n                int rowPosition = r;\r\n                for (int column = 0; column &lt; columns &amp;&amp; rowPosition &lt; rows &amp;&amp; rowPosition &gt;= 0; column++)\r\n                {\r\n                    int currentValue = matrix[rowPosition, column];\r\n                    if (currentValue == lastValue)\r\n                        match++;\r\n                    else match = 0;\r\n                    if (match == numToWin)\r\n                    {\r\n                        winner = lastValue;\r\n                        break;\r\n                    }\r\n                    rowPosition--;\r\n                }\r\n                if (winner != -1) break;\r\n            }\r\n            if (winner != -1)\r\n            {\r\n                Console.WriteLine(&quot;win Diagonal Bottom left! - include middle&quot;);\r\n                return winner;\r\n            }\r\n\r\n\r\n            //check diagonal bottom-left to top-right - after middle\r\n            match = 0;\r\n            for (int c = 1; c &lt; columns; c++)\r\n            {\r\n                int columnPosition = c;\r\n                for (int row = rows - 1; row &lt; rows &amp;&amp; columnPosition &lt; columns &amp;&amp; columnPosition &gt;= 1; row--)\r\n                {\r\n                    int currentValue = matrix[row, columnPosition];\r\n                    if (currentValue == lastValue)\r\n                        match++;\r\n                    else match = 0;\r\n                    if (match == numToWin)\r\n                    {\r\n                        winner = lastValue;\r\n                        break;\r\n                    }\r\n                    columnPosition++;\r\n                }\r\n                if (winner != -1) break;\r\n            }\r\n            if (winner != -1)\r\n            {\r\n                Console.WriteLine(&quot;win Diagonal Bottom left! - after middle&quot;);\r\n                return winner;\r\n            }\r\n\r\n\r\n\r\n            return winner; // no winner return -1\r\n        }\r\n\r\n    }\r\n\r\nand this is the repo: https://github.com/JoshK2/connect-four-winner","title":"Connect 4 check for a win algorithm","body":"<p>If someone still needs the solution, I write a function in c# and put in GitHub repo.</p>\n\n<pre><code>/// &lt;summary&gt;\n    /// WinnerCalc check if blue or red win the game.\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;Return 1 if 1 win and 2 if 2 win and -1 if no one win.&lt;/returns&gt;\n    /// &lt;param name=\"matrix\"&gt;2d array&lt;/param&gt;\n    /// &lt;param name=\"lastRow\"&gt;The row number.&lt;/param&gt;\n    /// &lt;param name=\"lastColumn\"&gt;The column number.&lt;/param&gt;\n    public static int WinnerCalc(int[,] matrix, int lastRow, int lastColumn)\n    {\n        int lastValue = matrix[lastRow, lastColumn];\n        Console.WriteLine(\"drop in row: \" + (lastRow) + \" and column: \" + (lastColumn) + \" , the value is: \" + lastValue);\n        int rows = matrix.GetLength(0); //6\n        int columns = matrix.GetLength(1); //7\n        Console.WriteLine(\"number of rows is \" + rows + \", and number of colums is \" + columns);\n\n        int numToWin = 4;\n        int winner = -1;//is now one win tha game\n        int match;\n\n        match = 0;\n        //check Horizontal\n        for (int c = 0; c &lt; columns; c++)\n        {\n            int currentValue = matrix[lastRow, c];\n            if (currentValue == lastValue)\n                match++;\n            else match = 0;\n            if(match == numToWin)\n            {\n                winner = lastValue;\n                break;\n            }\n        }\n        if (winner != -1)\n        {\n            Console.WriteLine(\"win Horizontal !\");\n            return winner;\n        }\n\n        match = 0;\n        //check Vertical\n        for (int r = 0; r &lt; rows; r++)\n        {\n            int currentValue = matrix[r, lastColumn];\n            if (currentValue == lastValue)\n                match++;\n            else match = 0;\n            if (match == numToWin)\n            {\n                winner = lastValue;\n                break;\n            }\n        }\n        if (winner != -1)\n        {\n            Console.WriteLine(\"win Vertical !\");\n            return winner;\n        }\n\n        //check diagonal top-left to bottom-right - include middle\n        match = 0;\n        for (int r = 0; r &lt;= rows - 4; r++)\n        {\n            int rowPosition = r;\n            for (int column = 0; column &lt; columns &amp;&amp; rowPosition &lt; rows; column++)\n            {\n                int currentValue = matrix[rowPosition, column];\n                if (currentValue == lastValue)\n                    match++;\n                else match = 0;\n                if (match == numToWin)\n                {\n                    winner = lastValue;\n                    break;\n                }\n                rowPosition++;\n            }\n            if (winner != -1) break;\n        }\n        if (winner != -1)\n        {\n            Console.WriteLine(\"win Diagonal Top left! - include middle\");\n            return winner;\n        }\n\n        //check diagonal top-left to bottom-right - after middle\n        match = 0;\n        for (int c = 1; c &lt;= columns - 4; c++)\n        {\n            int columnPosition = c;\n            for (int row = 0; row &lt; rows &amp;&amp; columnPosition &lt; columns; row++)\n            {\n                int currentValue = matrix[row, columnPosition];\n                if (currentValue == lastValue)\n                    match++;\n                else match = 0;\n                if (match == numToWin)\n                {\n                    winner = lastValue;\n                    break;\n                }\n                columnPosition++;\n            }\n            if (winner != -1) break;\n        }\n        if (winner != -1)\n        {\n            Console.WriteLine(\"win Diagonal Top left! - after middle\");\n            return winner;\n        }\n\n\n        //check diagonal bottom-left to top-right - include middle\n        match = 0;\n        for (int r = rows - 1; r &gt;= rows - 4; r--)\n        {\n            int rowPosition = r;\n            for (int column = 0; column &lt; columns &amp;&amp; rowPosition &lt; rows &amp;&amp; rowPosition &gt;= 0; column++)\n            {\n                int currentValue = matrix[rowPosition, column];\n                if (currentValue == lastValue)\n                    match++;\n                else match = 0;\n                if (match == numToWin)\n                {\n                    winner = lastValue;\n                    break;\n                }\n                rowPosition--;\n            }\n            if (winner != -1) break;\n        }\n        if (winner != -1)\n        {\n            Console.WriteLine(\"win Diagonal Bottom left! - include middle\");\n            return winner;\n        }\n\n\n        //check diagonal bottom-left to top-right - after middle\n        match = 0;\n        for (int c = 1; c &lt; columns; c++)\n        {\n            int columnPosition = c;\n            for (int row = rows - 1; row &lt; rows &amp;&amp; columnPosition &lt; columns &amp;&amp; columnPosition &gt;= 1; row--)\n            {\n                int currentValue = matrix[row, columnPosition];\n                if (currentValue == lastValue)\n                    match++;\n                else match = 0;\n                if (match == numToWin)\n                {\n                    winner = lastValue;\n                    break;\n                }\n                columnPosition++;\n            }\n            if (winner != -1) break;\n        }\n        if (winner != -1)\n        {\n            Console.WriteLine(\"win Diagonal Bottom left! - after middle\");\n            return winner;\n        }\n\n\n\n        return winner; // no winner return -1\n    }\n\n}\n</code></pre>\n\n<p>and this is the repo: <a href=\"https://github.com/JoshK2/connect-four-winner\" rel=\"nofollow noreferrer\">https://github.com/JoshK2/connect-four-winner</a></p>\n"},{"tags":[],"owner":{"account_id":7460946,"reputation":37,"user_id":5672432,"display_name":"jack chouchani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602768477,"creation_date":1602768477,"answer_id":64372633,"question_id":32770321,"body_markdown":"I did my own version in the C language and I think that it&#39;s quite easy to reinterpret in another language.\r\n\r\n    //Return values: 1 for Player 1, 2 for Player 2 and 0 for a tie.\r\n    // &#39;-&#39; represents an empty tile, &#39;X&#39; Player 1, &#39;O&#39; Player 2\r\n    #include &lt;stddef.h&gt;\r\n\r\n    int connect4(char *game[], size_t columns, size_t lines)\r\n    {\r\n        int winner = -1;\r\n        for (size_t l = 0; l &lt; lines; l++)\r\n        {\r\n            for (size_t c = 0; c &lt; columns; c++)\r\n            {\r\n                char player = game[l][c];\r\n                if (player == &#39;-&#39;)\r\n                    continue;\r\n                if (c + 3 &lt; columns &amp;&amp; player == game[l][c + 1]\r\n                    &amp;&amp; player == game[l][c + 2] &amp;&amp; player == game[l][c + 3])\r\n                    winner = winner &lt; 0 ? player : 0;\r\n                if (l + 3 &lt; lines &amp;&amp; player == game[l + 1][c]\r\n                    &amp;&amp; player == game[l + 2][c] &amp;&amp; player == game[l + 3][c])\r\n                    winner = winner &lt; 0 ? player : 0;\r\n                if (c + 3 &lt; columns &amp;&amp; l + 3 &lt; lines &amp;&amp; player == game[l + 1][c + 1]\r\n                    &amp;&amp; player == game[l + 2][c + 2] &amp;&amp; player == game[l + 3][c + 3])\r\n                    winner = winner &lt; 0 ? player : 0;\r\n                if (c &gt;= 3 &amp;&amp; l + 3 &lt; lines &amp;&amp; player == game[l + 1][c - 1]\r\n                    &amp;&amp; player == game[l + 2][c - 2] &amp;&amp; player == game[l + 3][c - 3])\r\n                    winner = winner &lt; 0 ? player : 0;\r\n            }\r\n        }\r\n        if (winner &lt; 1)\r\n            return 0;\r\n        else\r\n            return winner == 88 ? 1 : 2;\r\n    }","title":"Connect 4 check for a win algorithm","body":"<p>I did my own version in the C language and I think that it's quite easy to reinterpret in another language.</p>\n<pre><code>//Return values: 1 for Player 1, 2 for Player 2 and 0 for a tie.\n// '-' represents an empty tile, 'X' Player 1, 'O' Player 2\n#include &lt;stddef.h&gt;\n\nint connect4(char *game[], size_t columns, size_t lines)\n{\n    int winner = -1;\n    for (size_t l = 0; l &lt; lines; l++)\n    {\n        for (size_t c = 0; c &lt; columns; c++)\n        {\n            char player = game[l][c];\n            if (player == '-')\n                continue;\n            if (c + 3 &lt; columns &amp;&amp; player == game[l][c + 1]\n                &amp;&amp; player == game[l][c + 2] &amp;&amp; player == game[l][c + 3])\n                winner = winner &lt; 0 ? player : 0;\n            if (l + 3 &lt; lines &amp;&amp; player == game[l + 1][c]\n                &amp;&amp; player == game[l + 2][c] &amp;&amp; player == game[l + 3][c])\n                winner = winner &lt; 0 ? player : 0;\n            if (c + 3 &lt; columns &amp;&amp; l + 3 &lt; lines &amp;&amp; player == game[l + 1][c + 1]\n                &amp;&amp; player == game[l + 2][c + 2] &amp;&amp; player == game[l + 3][c + 3])\n                winner = winner &lt; 0 ? player : 0;\n            if (c &gt;= 3 &amp;&amp; l + 3 &lt; lines &amp;&amp; player == game[l + 1][c - 1]\n                &amp;&amp; player == game[l + 2][c - 2] &amp;&amp; player == game[l + 3][c - 3])\n                winner = winner &lt; 0 ? player : 0;\n        }\n    }\n    if (winner &lt; 1)\n        return 0;\n    else\n        return winner == 88 ? 1 : 2;\n}\n</code></pre>\n"}],"owner":{"account_id":6940174,"reputation":157,"user_id":5326830,"accept_rate":75,"display_name":"madeluccar"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106956,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":32771681,"answer_count":6,"score":14,"last_activity_date":1635134346,"creation_date":1443126492,"question_id":32770321,"body_markdown":"I know there is a lot of of questions regarding connect 4 check for a win. The issue is that most of other algorithms make my program have runtime errors, because they try to access an index outside of my array.\r\nMy algorithm is like this:\r\n\r\n    private int checkWin(int[][] gridTable,int rowNum,int colNum, int maxRow, int maxCol) \r\n    {\r\n    //  For checking whether any win or lose condition is reached. Returns 1 if win or lose is reached. else returns 0\r\n    //  gridTable[][] is the game matrix(can be any number of rows and columns between 4 and 40)\r\n    //  colNum is the column number where the last token was placed\r\n    //  rowNum is the row number where the last token was placed\r\n    //  maxRow is the number of rows in my grid\r\n    //  maxCol is the number of columns in my grid\r\n        \r\n    int player = gridTable[rowNum][colNum]; //player ID\r\n    int count=0;\r\n\r\n    // Horizontal check\r\n    for (int i=0;i&lt;maxCol;i++)\r\n    {\r\n        if (gridTable[rowNum][i]==player)\r\n            count++;\r\n        else\r\n            count=0;\r\n\r\n        if (count&gt;=4)\r\n            return 1;\r\n    }\r\n    //Vertical check\r\n    for (int i=0;i&lt;maxRow;i++)\r\n    {\r\n        if (gridTable[i][colNum]==player)\r\n            count++;\r\n        else\r\n            count=0;\r\n\r\n        if (count&gt;=4)\r\n            return 1;\r\n    } \r\n    count=0;\r\n    // 4 in a row diagonally\r\n    for(int i=colNum+1,j=rowNum+1;i&lt;maxRow &amp;&amp; j&lt;maxCol;i++,j++) \r\n    { \r\n        if(gridTable[j][i]!=player)\r\n        {\r\n            count=1;\r\n            break;        \r\n        }\r\n        count++;\r\n    }\r\n    // 4 in a row diagonally\r\n    for(int i=colNum-1,j=rowNum-1;i&gt;=0 &amp;&amp; j&gt;=0;i--,j--) \r\n    { \r\n        if(gridTable[j][i]!=player)\r\n        {\r\n            count=1;\r\n            break;        \r\n        }\r\n        count++;\r\n    }\r\n    // 4 in a row diagonally\r\n    for(int i=colNum+1,j=rowNum-1;i&lt;maxRow &amp;&amp; j&gt;=0;i++,j--) \r\n    { \r\n        if(gridTable[j][i]!=player)\r\n        {\r\n            count=1;\r\n            break;        \r\n        }\r\n        count++;\r\n    }\r\n\r\n    for(int i=colNum-1,j=rowNum+1;i&gt;=0 &amp;&amp; j&lt;maxCol;i--,j++) \r\n    { // 4 in a row diagonally\r\n        if(gridTable[j][i]!=player)\r\n        {\r\n            count=1;\r\n            break;        \r\n        }\r\n        count++;\r\n    }\r\n\r\n    if(count&gt;=4)\r\n        return 1;\r\n\r\n    return 0;\r\n    }\r\n\r\ncount is the variable that checks for a win if count is equal or more than 4 means they should be 4 or more consecutive tokens of the same player.\r\n\r\nTHE PROBLEM: sometimes the method checks for a win without being 4 tokens in order and other times does not check for a win when 4 tokens are in order.","title":"Connect 4 check for a win algorithm","body":"<p>I know there is a lot of of questions regarding connect 4 check for a win. The issue is that most of other algorithms make my program have runtime errors, because they try to access an index outside of my array.\nMy algorithm is like this:</p>\n\n<pre><code>private int checkWin(int[][] gridTable,int rowNum,int colNum, int maxRow, int maxCol) \n{\n//  For checking whether any win or lose condition is reached. Returns 1 if win or lose is reached. else returns 0\n//  gridTable[][] is the game matrix(can be any number of rows and columns between 4 and 40)\n//  colNum is the column number where the last token was placed\n//  rowNum is the row number where the last token was placed\n//  maxRow is the number of rows in my grid\n//  maxCol is the number of columns in my grid\n\nint player = gridTable[rowNum][colNum]; //player ID\nint count=0;\n\n// Horizontal check\nfor (int i=0;i&lt;maxCol;i++)\n{\n    if (gridTable[rowNum][i]==player)\n        count++;\n    else\n        count=0;\n\n    if (count&gt;=4)\n        return 1;\n}\n//Vertical check\nfor (int i=0;i&lt;maxRow;i++)\n{\n    if (gridTable[i][colNum]==player)\n        count++;\n    else\n        count=0;\n\n    if (count&gt;=4)\n        return 1;\n} \ncount=0;\n// 4 in a row diagonally\nfor(int i=colNum+1,j=rowNum+1;i&lt;maxRow &amp;&amp; j&lt;maxCol;i++,j++) \n{ \n    if(gridTable[j][i]!=player)\n    {\n        count=1;\n        break;        \n    }\n    count++;\n}\n// 4 in a row diagonally\nfor(int i=colNum-1,j=rowNum-1;i&gt;=0 &amp;&amp; j&gt;=0;i--,j--) \n{ \n    if(gridTable[j][i]!=player)\n    {\n        count=1;\n        break;        \n    }\n    count++;\n}\n// 4 in a row diagonally\nfor(int i=colNum+1,j=rowNum-1;i&lt;maxRow &amp;&amp; j&gt;=0;i++,j--) \n{ \n    if(gridTable[j][i]!=player)\n    {\n        count=1;\n        break;        \n    }\n    count++;\n}\n\nfor(int i=colNum-1,j=rowNum+1;i&gt;=0 &amp;&amp; j&lt;maxCol;i--,j++) \n{ // 4 in a row diagonally\n    if(gridTable[j][i]!=player)\n    {\n        count=1;\n        break;        \n    }\n    count++;\n}\n\nif(count&gt;=4)\n    return 1;\n\nreturn 0;\n}\n</code></pre>\n\n<p>count is the variable that checks for a win if count is equal or more than 4 means they should be 4 or more consecutive tokens of the same player.</p>\n\n<p>THE PROBLEM: sometimes the method checks for a win without being 4 tokens in order and other times does not check for a win when 4 tokens are in order.</p>\n"},{"tags":["java","pdf","css-float","apache-fop","arabic-support"],"owner":{"account_id":1524906,"reputation":11,"user_id":1423596,"display_name":"user1423596"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635134222,"creation_date":1635134222,"question_id":69702728,"body_markdown":"I am not able to achieve floating fo:leader inside an fo:table. I need this because I want to show leader dots before the text, for ARABIC (right to left) language.\r\n\r\n\r\n&#39;&#39;&#39;\r\n\r\n     &lt;fo:table&gt;\r\n         &lt;fo:table-body&gt;\r\n             &lt;fo:table-row&gt;\r\n                  &lt;fo:table-cell&gt;\r\n                       &lt;fo:block font-family=&quot;Liberation Serif&quot; font-size=&quot;8pt&quot; font-style=&quot;normal&quot; font-weight=&quot;normal&quot; color=&quot;#000000&quot; text-align-last=&quot;justify&quot;&gt;\r\n                              &lt;fo:float float=&quot;left&quot;&gt;\r\n                                    &lt;fo:leader leader-pattern=&quot;dots&quot; leader-length=&quot;100%&quot; font-size=&quot;8pt&quot;/&gt;\r\n                              &lt;/fo:float&gt;\r\n                              &lt;fo:float float=&quot;right&quot;&gt;\r\n                                        0000: Net Income\r\n                              &lt;/fo:float&gt;\r\n                       &lt;/fo:block&gt;   \r\n                 &lt;fo:table-cell&gt;\r\n            &lt;/fo:table-row&gt;\r\n        &lt;/fo:table-body&gt;\r\n    &lt;/fo:table&gt;\r\n\r\n&#39;&#39;&#39;\r\n\r\nI need to align the dots with the bottom of the text when the text wraps.\r\n\r\nI want the output as following:\r\n\r\n       Net\r\n....   Income\r\n\r\nBut I am not able to get the above output. Instead I get the following:\r\n\r\n..... Net \r\n      Income\r\n\r\nApparently Apache FOP does not support fo:float inside fo:table.  So i tried with the following but to no avail:\r\n\r\n fo:inline-container inside another fo:inline-container\r\n fo:list-block with fo:list-item \r\n\r\nFinally I tried with another fo:table and it worked to a certain extent. But I need a better way than using fo:table.\r\n\r\n&#39;&#39;&#39;\r\n  \r\n\r\n       &lt;fo:table&gt;\r\n        ....\r\n    \r\n           &lt;fo:block font-family=&quot;Liberation Serif&quot; font-size=&quot;8pt&quot; font-style=&quot;normal&quot; font-weight=&quot;normal&quot; color=&quot;#000000&quot; text-align-last=&quot;justify&quot;&gt;\r\n                 &lt;fo:table wrap-option=&quot;no-wrap&quot; overflow=&quot;hidden&quot; border-collapse=&quot;separate&quot;&gt;\r\n    \t\t\t       &lt;fo:table-body&gt;\r\n    \t\t\t\t\t     &lt;fo:table-row&gt;\r\n    \t\t\t\t\t\t     &lt;fo:table-cell&gt;\r\n    \t\t\t\t\t\t\t    &lt;fo:block&gt;&lt;fo:leader leader-pattern=&quot;dots&quot; leader-length.optimum=&quot;100%&quot; font-size=&quot;14pt&quot;/&gt;&lt;/fo:block&gt;\r\n    \t\t\t\t\t\t   \t &lt;/fo:table-cell&gt;\r\n    \t\t\t\t\t\t\t &lt;fo:table-cell&gt;\r\n    \t\t\t\t\t\t\t      &lt;fo:block linefeed-treatment=&quot;preserve&quot;&gt;Net Income&lt;/fo:block&gt;\r\n    \t\t\t\t\t\t\t&lt;/fo:table-cell&gt;\r\n    \t\t\t\t\t&lt;/fo:table-row&gt;\r\n    \t\t\t\t&lt;/fo:table-body&gt;\r\n    \t\t\t&lt;/fo:table&gt;\r\n           &lt;/fo:block&gt;\r\n          ...\r\n    &lt;/fo:table&gt;\r\n\r\n&#39;&#39;&#39;\r\n   ","title":"Floating Fo:leader in Right to left (Arabic) language","body":"<p>I am not able to achieve floating fo:leader inside an fo:table. I need this because I want to show leader dots before the text, for ARABIC (right to left) language.</p>\n<p>'''</p>\n<pre><code> &lt;fo:table&gt;\n     &lt;fo:table-body&gt;\n         &lt;fo:table-row&gt;\n              &lt;fo:table-cell&gt;\n                   &lt;fo:block font-family=&quot;Liberation Serif&quot; font-size=&quot;8pt&quot; font-style=&quot;normal&quot; font-weight=&quot;normal&quot; color=&quot;#000000&quot; text-align-last=&quot;justify&quot;&gt;\n                          &lt;fo:float float=&quot;left&quot;&gt;\n                                &lt;fo:leader leader-pattern=&quot;dots&quot; leader-length=&quot;100%&quot; font-size=&quot;8pt&quot;/&gt;\n                          &lt;/fo:float&gt;\n                          &lt;fo:float float=&quot;right&quot;&gt;\n                                    0000: Net Income\n                          &lt;/fo:float&gt;\n                   &lt;/fo:block&gt;   \n             &lt;fo:table-cell&gt;\n        &lt;/fo:table-row&gt;\n    &lt;/fo:table-body&gt;\n&lt;/fo:table&gt;\n</code></pre>\n<p>'''</p>\n<p>I need to align the dots with the bottom of the text when the text wraps.</p>\n<p>I want the output as following:</p>\n<pre><code>   Net\n</code></pre>\n<p>....   Income</p>\n<p>But I am not able to get the above output. Instead I get the following:</p>\n<p>..... Net\nIncome</p>\n<p>Apparently Apache FOP does not support fo:float inside fo:table.  So i tried with the following but to no avail:</p>\n<p>fo:inline-container inside another fo:inline-container\nfo:list-block with fo:list-item</p>\n<p>Finally I tried with another fo:table and it worked to a certain extent. But I need a better way than using fo:table.</p>\n<p>'''</p>\n<pre><code>   &lt;fo:table&gt;\n    ....\n\n       &lt;fo:block font-family=&quot;Liberation Serif&quot; font-size=&quot;8pt&quot; font-style=&quot;normal&quot; font-weight=&quot;normal&quot; color=&quot;#000000&quot; text-align-last=&quot;justify&quot;&gt;\n             &lt;fo:table wrap-option=&quot;no-wrap&quot; overflow=&quot;hidden&quot; border-collapse=&quot;separate&quot;&gt;\n                   &lt;fo:table-body&gt;\n                         &lt;fo:table-row&gt;\n                             &lt;fo:table-cell&gt;\n                                &lt;fo:block&gt;&lt;fo:leader leader-pattern=&quot;dots&quot; leader-length.optimum=&quot;100%&quot; font-size=&quot;14pt&quot;/&gt;&lt;/fo:block&gt;\n                             &lt;/fo:table-cell&gt;\n                             &lt;fo:table-cell&gt;\n                                  &lt;fo:block linefeed-treatment=&quot;preserve&quot;&gt;Net Income&lt;/fo:block&gt;\n                            &lt;/fo:table-cell&gt;\n                    &lt;/fo:table-row&gt;\n                &lt;/fo:table-body&gt;\n            &lt;/fo:table&gt;\n       &lt;/fo:block&gt;\n      ...\n&lt;/fo:table&gt;\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","spring-mvc","resttemplate","spring-resttemplate"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1592797591,"post_id":62507062,"comment_id":110542616,"body_markdown":"You create a new response object to return.","body":"You create a new response object to return."},{"owner":{"account_id":8306240,"reputation":462,"user_id":6243160,"accept_rate":29,"display_name":"Columb1a"},"score":0,"creation_date":1592799179,"post_id":62507062,"comment_id":110542940,"body_markdown":"How would you create  the response object exactly? I checked, and that is not straightforward in this specific case.","body":"How would you create  the response object exactly? I checked, and that is not straightforward in this specific case."}],"answers":[{"tags":[],"owner":{"account_id":4443327,"reputation":162,"user_id":3617321,"display_name":"Eugene"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1602840845,"creation_date":1602763111,"answer_id":64371115,"question_id":62507062,"body_markdown":"It seems you can modify the response also in the interceptor\r\n\r\n    public class RestTemplateResponseInterceptor implements ClientHttpRequestInterceptor {\r\n      public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n        ClientHttpResponse response = execution.execute(request, body);\r\n        return modifyResponse(response);\r\n      }\r\n    }","title":"Modify Response Body when implementing ClientHttpRequestInterceptor","body":"<p>It seems you can modify the response also in the interceptor</p>\n<pre><code>public class RestTemplateResponseInterceptor implements ClientHttpRequestInterceptor {\n  public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n    ClientHttpResponse response = execution.execute(request, body);\n    return modifyResponse(response);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15581404,"reputation":67,"user_id":11241057,"display_name":"PumpkinX"},"down_vote_count":10,"up_vote_count":1,"is_accepted":false,"score":-9,"last_activity_date":1623002692,"creation_date":1623002692,"answer_id":67862203,"question_id":62507062,"body_markdown":"Yes, this is tricky because the response body is an InputStream. An InputStream once read can not be read again depending upon type.\r\n\r\nAfter reading the InputStream object for the first time, it may have reached the end of the Stream (EOFException) or the Stream has been closed when the InputStream object is read the second time. All the obtained data is null or no data is obtained.\r\n\r\nYou may try to look at MockClientHttpResponse\r\nhttps://www.gitmemory.com/issue/spring-projects/spring-framework/12671/771105006\r\n","title":"Modify Response Body when implementing ClientHttpRequestInterceptor","body":"<p>Yes, this is tricky because the response body is an InputStream. An InputStream once read can not be read again depending upon type.</p>\n<p>After reading the InputStream object for the first time, it may have reached the end of the Stream (EOFException) or the Stream has been closed when the InputStream object is read the second time. All the obtained data is null or no data is obtained.</p>\n<p>You may try to look at MockClientHttpResponse\n<a href=\"https://www.gitmemory.com/issue/spring-projects/spring-framework/12671/771105006\" rel=\"nofollow noreferrer\">https://www.gitmemory.com/issue/spring-projects/spring-framework/12671/771105006</a></p>\n"},{"tags":[],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1626938235,"creation_date":1626937627,"answer_id":68480553,"question_id":62507062,"body_markdown":"It will be required to return a new object of ```ClientHttpResponse``` bearing modified changes\r\n\r\nWe can copy the relevant data of originalResponse to the new modifiedResponse object created of ClientHttpResponse\r\n\r\n```\r\n    @Override\r\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n        \r\n        ClientHttpResponse response = execution.execute(request, body);\r\n        String responseBody = new String(response.getBody().readAllBytes());\r\n        String modifiedBody = &quot;Just Modified&quot;;\r\n\r\n        ClientHttpResponse modifiedResponse = new ClientHttpResponse() {\r\n            @Override\r\n            public HttpHeaders getHeaders() {\r\n                return response.getHeaders();\r\n            }\r\n\r\n            @Override\r\n            public InputStream getBody() throws IOException {\r\n                return new ByteArrayInputStream(modifiedBody.getBytes());\r\n            }\r\n\r\n            @Override\r\n            public HttpStatus getStatusCode() throws IOException {\r\n                return response.getStatusCode();\r\n            }\r\n\r\n            @Override\r\n            public int getRawStatusCode() throws IOException {\r\n                return response.getRawStatusCode();\r\n            }\r\n\r\n            @Override\r\n            public String getStatusText() throws IOException {\r\n                return response.getStatusText();\r\n            }\r\n\r\n            @Override\r\n            public void close() {\r\n\r\n            }\r\n        };\r\n    return modifiedResponse;\r\n}\r\n```","title":"Modify Response Body when implementing ClientHttpRequestInterceptor","body":"<p>It will be required to return a new object of <code>ClientHttpResponse</code> bearing modified changes</p>\n<p>We can copy the relevant data of originalResponse to the new modifiedResponse object created of ClientHttpResponse</p>\n<pre><code>    @Override\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n        \n        ClientHttpResponse response = execution.execute(request, body);\n        String responseBody = new String(response.getBody().readAllBytes());\n        String modifiedBody = &quot;Just Modified&quot;;\n\n        ClientHttpResponse modifiedResponse = new ClientHttpResponse() {\n            @Override\n            public HttpHeaders getHeaders() {\n                return response.getHeaders();\n            }\n\n            @Override\n            public InputStream getBody() throws IOException {\n                return new ByteArrayInputStream(modifiedBody.getBytes());\n            }\n\n            @Override\n            public HttpStatus getStatusCode() throws IOException {\n                return response.getStatusCode();\n            }\n\n            @Override\n            public int getRawStatusCode() throws IOException {\n                return response.getRawStatusCode();\n            }\n\n            @Override\n            public String getStatusText() throws IOException {\n                return response.getStatusText();\n            }\n\n            @Override\n            public void close() {\n\n            }\n        };\n    return modifiedResponse;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1817632,"reputation":1470,"user_id":1652429,"accept_rate":50,"display_name":"NeilA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635133884,"creation_date":1635133884,"answer_id":69702689,"question_id":62507062,"body_markdown":"I know this is a little old, I was lazy and looking for an example of how to do as OP asked (with little luck) so ended up doing it myself.\r\n\r\nThe blow snippet wraps the ClientHttpResponse, it will lazily read the response body into a BAIS, this allows for reading the body multiple times (but does load the entire response body into memory).  You may also replace the body using the setBody(...) method, replacing the response body will also modify the ContentLength header.\r\n\r\nNB:  This below code is untested.\r\n\r\n    public class ClientHttpResponseWrapper implements ClientHttpResponse{\r\n    \tprivate final ClientHttpResponse response;\r\n    \tprivate ByteArrayInputStream body;\r\n    \tpublic ClientHttpResponseWrapper(ClientHttpResponse response) throws IOException {\r\n    \t\tthis.response=response;\r\n    \t\tthis.body=null;\r\n    \t}\r\n    \r\n    \tpublic void setBody(ByteArrayInputStream body) {\r\n    \t\tthis.body = body;\r\n    \t}\r\n    \t@Override\r\n    \tpublic ByteArrayInputStream getBody() throws IOException {\r\n    \t\tif(this.body != null) {\r\n    \t\t\treturn this.body;\r\n    \t\t}\r\n    \t\tthis.body=new ByteArrayInputStream(this.response.getBody().readAllBytes());\r\n    \t\treturn this.body;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic HttpHeaders getHeaders() {\r\n    \t\tif(this.body == null) {\r\n    \t\t\treturn this.response.getHeaders();\r\n    \t\t}\r\n    \t\t\r\n    \t\tHttpHeaders out = new HttpHeaders(this.response.getHeaders());\r\n    \t\tout.setContentLength(this.body.available());\r\n    \t\treturn out;\r\n    \t}\r\n    \t@Override\r\n    \tpublic HttpStatus getStatusCode() throws IOException {\r\n    \t\treturn this.response.getStatusCode();\r\n    \t}\r\n    \t@Override\r\n    \tpublic int getRawStatusCode() throws IOException {\r\n    \t\treturn this.response.getRawStatusCode();\r\n    \t}\r\n    \t@Override\r\n    \tpublic String getStatusText() throws IOException {\r\n    \t\treturn this.response.getStatusText();\r\n    \t}\r\n    \t@Override\r\n    \tpublic void close() {\r\n    \t\tthis.response.close();\r\n    \t}\r\n    }\r\n\r\n","title":"Modify Response Body when implementing ClientHttpRequestInterceptor","body":"<p>I know this is a little old, I was lazy and looking for an example of how to do as OP asked (with little luck) so ended up doing it myself.</p>\n<p>The blow snippet wraps the ClientHttpResponse, it will lazily read the response body into a BAIS, this allows for reading the body multiple times (but does load the entire response body into memory).  You may also replace the body using the setBody(...) method, replacing the response body will also modify the ContentLength header.</p>\n<p>NB:  This below code is untested.</p>\n<pre><code>public class ClientHttpResponseWrapper implements ClientHttpResponse{\n    private final ClientHttpResponse response;\n    private ByteArrayInputStream body;\n    public ClientHttpResponseWrapper(ClientHttpResponse response) throws IOException {\n        this.response=response;\n        this.body=null;\n    }\n\n    public void setBody(ByteArrayInputStream body) {\n        this.body = body;\n    }\n    @Override\n    public ByteArrayInputStream getBody() throws IOException {\n        if(this.body != null) {\n            return this.body;\n        }\n        this.body=new ByteArrayInputStream(this.response.getBody().readAllBytes());\n        return this.body;\n    }\n    \n    @Override\n    public HttpHeaders getHeaders() {\n        if(this.body == null) {\n            return this.response.getHeaders();\n        }\n        \n        HttpHeaders out = new HttpHeaders(this.response.getHeaders());\n        out.setContentLength(this.body.available());\n        return out;\n    }\n    @Override\n    public HttpStatus getStatusCode() throws IOException {\n        return this.response.getStatusCode();\n    }\n    @Override\n    public int getRawStatusCode() throws IOException {\n        return this.response.getRawStatusCode();\n    }\n    @Override\n    public String getStatusText() throws IOException {\n        return this.response.getStatusText();\n    }\n    @Override\n    public void close() {\n        this.response.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8306240,"reputation":462,"user_id":6243160,"accept_rate":29,"display_name":"Columb1a"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4031,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":4,"score":1,"last_activity_date":1635133884,"creation_date":1592797004,"question_id":62507062,"body_markdown":"I&#39;m facing the following issue:\r\n\r\nI&#39;m making a call to another service using a simple `org.springframework.web.client.RestTemplate`\r\n\r\nWhen calling it I need to intercept the request, modify the request body, and let it continue the flow. So far I don&#39;t have problems as using `org.springframework.http.client.ClientHttpRequestInterceptor` I can do whatever I want with my request (transforming RequestObjectA to requestObjectB before sending it to the service I&#39;m calling).\r\n\r\n\r\nProblem: How to modify the response body?\r\n\r\nI see when calling `ClientHttpResponse execute = clientHttpRequestExecution.execute(httpRequest, body)` I can get the body doing `execute.getBody()`, so I can modify it, but I don&#39;t see a way to set it back somehow.\r\n\r\nWhat could be a work around to set my modified body in a `ClientHttpResponse`?\r\n","title":"Modify Response Body when implementing ClientHttpRequestInterceptor","body":"<p>I'm facing the following issue:</p>\n<p>I'm making a call to another service using a simple <code>org.springframework.web.client.RestTemplate</code></p>\n<p>When calling it I need to intercept the request, modify the request body, and let it continue the flow. So far I don't have problems as using <code>org.springframework.http.client.ClientHttpRequestInterceptor</code> I can do whatever I want with my request (transforming RequestObjectA to requestObjectB before sending it to the service I'm calling).</p>\n<p>Problem: How to modify the response body?</p>\n<p>I see when calling <code>ClientHttpResponse execute = clientHttpRequestExecution.execute(httpRequest, body)</code> I can get the body doing <code>execute.getBody()</code>, so I can modify it, but I don't see a way to set it back somehow.</p>\n<p>What could be a work around to set my modified body in a <code>ClientHttpResponse</code>?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1635132842,"post_id":69702557,"comment_id":123204944,"body_markdown":"You don&#39;t need `stream()` in kotlin. The [collections](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/) class in kotlin provides all methods you need. (e.g. [map](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html), [distinct](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct.html), [toMap](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html)).","body":"You don&#39;t need <code>stream()</code> in kotlin. The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/\" rel=\"nofollow noreferrer\">collections</a> class in kotlin provides all methods you need. (e.g. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\">map</a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct.html\" rel=\"nofollow noreferrer\">distinct</a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html\" rel=\"nofollow noreferrer\">toMap</a>)."},{"owner":{"account_id":9504733,"reputation":381,"user_id":7064670,"display_name":"Nicole Foster"},"score":0,"creation_date":1635133230,"post_id":69702557,"comment_id":123205006,"body_markdown":"This suggests the top part of the function is also wrong.","body":"This suggests the top part of the function is also wrong."}],"answers":[{"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635133831,"creation_date":1635133831,"answer_id":69702686,"question_id":69702557,"body_markdown":"You don&#39;t need `stream()` in kotlin. The [collections](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/) classes in kotlin provides all methods you need. (e.g. [map](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html), [distinct](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct.html), [toMap](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html)). Here is the kotlin way to write your function:\r\n\r\n    fun getPollCreatorMap(polls: List&lt;Poll&gt;): Map&lt;Long?, User?&gt;? = polls.map{it.createdBy}.distinct().let{ creatorIds -&gt;\r\n        userRepository?.findByIdIn(creatorIds)?.map{\r\n            Pair(it.id,it)\r\n        }.toMap()\r\n    }\r\n\r\nI don&#39;t know the nullability of your data so I just leaves them all nullable. If you know the nullability, you should try to make the code as exact as possible.","title":"Getting a map and collectors error in kotlin function","body":"<p>You don't need <code>stream()</code> in kotlin. The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/\" rel=\"nofollow noreferrer\">collections</a> classes in kotlin provides all methods you need. (e.g. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\">map</a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct.html\" rel=\"nofollow noreferrer\">distinct</a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html\" rel=\"nofollow noreferrer\">toMap</a>). Here is the kotlin way to write your function:</p>\n<pre><code>fun getPollCreatorMap(polls: List&lt;Poll&gt;): Map&lt;Long?, User?&gt;? = polls.map{it.createdBy}.distinct().let{ creatorIds -&gt;\n    userRepository?.findByIdIn(creatorIds)?.map{\n        Pair(it.id,it)\n    }.toMap()\n}\n</code></pre>\n<p>I don't know the nullability of your data so I just leaves them all nullable. If you know the nullability, you should try to make the code as exact as possible.</p>\n"}],"owner":{"account_id":9504733,"reputation":381,"user_id":7064670,"display_name":"Nicole Foster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69702686,"answer_count":1,"score":0,"last_activity_date":1635133831,"creation_date":1635132450,"question_id":69702557,"body_markdown":"I am trying to convert this java function to kotlin. \r\n\r\n```  Map&lt;Long, User&gt; getPollCreatorMap(List&lt;Poll&gt; polls) {\r\n        List&lt;Long&gt; creatorIds = polls.stream()\r\n                .map(Poll::getCreatedBy)\r\n                .distinct()\r\n                .collect(Collectors.toList());\r\n\r\n        List&lt;User&gt; creators = userRepository.findByIdIn(creatorIds);\r\n        Map&lt;Long, User&gt; creatorMap = creators.stream()\r\n                .collect(Collectors.toMap(User::getId, Function.identity()));\r\n\r\n        return creatorMap;\r\n    }\r\n```\r\n\r\nI end up with the following:\r\n\r\n```\r\nfun getPollCreatorMap(polls: List&lt;Poll&gt;): Map&lt;Long?, User?&gt;? {\r\n        // Get Poll Creator details of the given list of polls\r\n        val creatorIds: List&lt;Long?&gt; = polls.stream().collect(Collectors.toList())\r\n            .map(Poll::getCreatedBy).distinct()\r\n        val creators: List&lt;User?&gt;? = userRepository!!.findByIdIn(creatorIds)\r\n        val creatorMap: Map&lt;Long?, User?&gt; = creators!!.stream()\r\n            .collect(Collectors.toMap(User::getId, Function.identity()))\r\n        return creatorMap\r\n    }\r\n```\r\n\r\nHowever on the line \r\n\r\n``` \r\n.collect(Collectors.toMap(User::getId, Function.identity()))\r\n```\r\nI get the following error:\r\n\r\n```\r\nType mismatch.\r\nRequired:\r\n((User?)  Long?)!\r\nFound:\r\nKFunction1&lt;User, Long?&gt;\r\n```","title":"Getting a map and collectors error in kotlin function","body":"<p>I am trying to convert this java function to kotlin.</p>\n<pre><code>        List&lt;Long&gt; creatorIds = polls.stream()\n                .map(Poll::getCreatedBy)\n                .distinct()\n                .collect(Collectors.toList());\n\n        List&lt;User&gt; creators = userRepository.findByIdIn(creatorIds);\n        Map&lt;Long, User&gt; creatorMap = creators.stream()\n                .collect(Collectors.toMap(User::getId, Function.identity()));\n\n        return creatorMap;\n    }\n</code></pre>\n<p>I end up with the following:</p>\n<pre><code>fun getPollCreatorMap(polls: List&lt;Poll&gt;): Map&lt;Long?, User?&gt;? {\n        // Get Poll Creator details of the given list of polls\n        val creatorIds: List&lt;Long?&gt; = polls.stream().collect(Collectors.toList())\n            .map(Poll::getCreatedBy).distinct()\n        val creators: List&lt;User?&gt;? = userRepository!!.findByIdIn(creatorIds)\n        val creatorMap: Map&lt;Long?, User?&gt; = creators!!.stream()\n            .collect(Collectors.toMap(User::getId, Function.identity()))\n        return creatorMap\n    }\n</code></pre>\n<p>However on the line</p>\n<pre><code>.collect(Collectors.toMap(User::getId, Function.identity()))\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>Type mismatch.\nRequired:\n((User?)  Long?)!\nFound:\nKFunction1&lt;User, Long?&gt;\n</code></pre>\n"},{"tags":["java","web","adobe","aem"],"answers":[{"tags":[],"owner":{"account_id":1238064,"reputation":9263,"user_id":1201244,"display_name":"rakhi4110"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635133600,"creation_date":1635133600,"answer_id":69702671,"question_id":69681411,"body_markdown":"If the paths are query-able via AEM, you may try using the [Query Packager tool from ACS AEM Commons](https://adobe-consulting-services.github.io/acs-aem-commons/features/packagers/query-packager/index.html). \r\n\r\nAlternatively, you can write code to read through the CSV file and create the package programmatically.\r\n\r\nSimilar tools have already been created by a few people which you can leverage (see below) or build your own\r\n\r\n1. [Create Package in AEM from Excel File](https://aem.redquark.org/2019/05/create-package-in-aem-from-excel-file.html)\r\n2. [Selective content packaging](https://www.argildx.com/innovation/adxtools-selective-content-packaging/)","title":"How to create a package with excel sheet data in AEM?","body":"<p>If the paths are query-able via AEM, you may try using the <a href=\"https://adobe-consulting-services.github.io/acs-aem-commons/features/packagers/query-packager/index.html\" rel=\"nofollow noreferrer\">Query Packager tool from ACS AEM Commons</a>.</p>\n<p>Alternatively, you can write code to read through the CSV file and create the package programmatically.</p>\n<p>Similar tools have already been created by a few people which you can leverage (see below) or build your own</p>\n<ol>\n<li><a href=\"https://aem.redquark.org/2019/05/create-package-in-aem-from-excel-file.html\" rel=\"nofollow noreferrer\">Create Package in AEM from Excel File</a></li>\n<li><a href=\"https://www.argildx.com/innovation/adxtools-selective-content-packaging/\" rel=\"nofollow noreferrer\">Selective content packaging</a></li>\n</ol>\n"}],"owner":{"account_id":23114794,"reputation":1,"user_id":17222224,"display_name":"Kelvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1635133600,"creation_date":1634926327,"question_id":69681411,"body_markdown":"So, I have to make a package using the package manager of CRXDE. I need to add hundreds of paths to the filter by copying each of them one by one and it takes a lot of time by doing so. Is there any way I can upload a data file such as excel or CSV where the file contains all the paths and I can just build a package with it?","title":"How to create a package with excel sheet data in AEM?","body":"<p>So, I have to make a package using the package manager of CRXDE. I need to add hundreds of paths to the filter by copying each of them one by one and it takes a lot of time by doing so. Is there any way I can upload a data file such as excel or CSV where the file contains all the paths and I can just build a package with it?</p>\n"},{"tags":["java","sockets","networking","tcp"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635111074,"post_id":69700903,"comment_id":123201968,"body_markdown":"Can you show full error and some code ?","body":"Can you show full error and some code ?"},{"owner":{"account_id":20912629,"reputation":141,"user_id":15363153,"display_name":"Ineversurrender93"},"score":0,"creation_date":1635111446,"post_id":69700903,"comment_id":123202034,"body_markdown":"Code and errror added. SocketException occurs at line &quot;while((receivedData = in.readLine()) != null){ &quot; whenever client disconnects. Would it just be safe to just &quot;ignore&quot; this error? And just closing resources with the try-with-resource statement?","body":"Code and errror added. SocketException occurs at line &quot;while((receivedData = in.readLine()) != null){ &quot; whenever client disconnects. Would it just be safe to just &quot;ignore&quot; this error? And just closing resources with the try-with-resource statement?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1635111502,"post_id":69700903,"comment_id":123202045,"body_markdown":"It&#39;s the exact same question as your [previous one](https://stackoverflow.com/questions/69697178/socketexception-when-client-closes-connection-server) ?","body":"It&#39;s the exact same question as your <a href=\"https://stackoverflow.com/questions/69697178/socketexception-when-client-closes-connection-server\">previous one</a> ?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635111560,"post_id":69700903,"comment_id":123202055,"body_markdown":"Also, I think [this question](https://stackoverflow.com/q/62929) can help you","body":"Also, I think <a href=\"https://stackoverflow.com/q/62929\">this question</a> can help you"},{"owner":{"account_id":20912629,"reputation":141,"user_id":15363153,"display_name":"Ineversurrender93"},"score":0,"creation_date":1635111571,"post_id":69700903,"comment_id":123202060,"body_markdown":"No it isn&#39;t. Here i&#39;m asking something completely different.","body":"No it isn&#39;t. Here i&#39;m asking something completely different."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635111884,"creation_date":1635111884,"answer_id":69700999,"question_id":69700903,"body_markdown":"It&#39;s not a good idea to ignore this type of error. But if you really want to do it, you can do something like :\r\n\r\n```java\r\ntry (\r\n   Socket socket = this.socket;\r\n   socket.doSomething(); // here do what you want\r\n} catch (SocketException e) { // your error\r\n   System.out.println(&quot;Connection failed.&quot;); // jus tlog it but without throwing error\r\n} catch (IOException e) { // all others errors\r\n   e.printStackTrace();\r\n   System.out.println(&quot;Client disconnected: &quot; + socket);\r\n} \r\n```\r\nThe best way is to do something specific for specific error. Such as SocketException is an important error when socket is a very important way in your app, you should try to get them back. If you failed (user disconnect to internet ...) you should tell it to current user with alert/popup or log.","title":"If a peer client disconnects from a server could we just ignore the socketexception at the server side?","body":"<p>It's not a good idea to ignore this type of error. But if you really want to do it, you can do something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (\n   Socket socket = this.socket;\n   socket.doSomething(); // here do what you want\n} catch (SocketException e) { // your error\n   System.out.println(&quot;Connection failed.&quot;); // jus tlog it but without throwing error\n} catch (IOException e) { // all others errors\n   e.printStackTrace();\n   System.out.println(&quot;Client disconnected: &quot; + socket);\n} \n</code></pre>\n<p>The best way is to do something specific for specific error. Such as SocketException is an important error when socket is a very important way in your app, you should try to get them back. If you failed (user disconnect to internet ...) you should tell it to current user with alert/popup or log.</p>\n"},{"tags":[],"owner":{"account_id":10312155,"reputation":968,"user_id":7607594,"display_name":"Jorge Omar Medra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635133092,"creation_date":1635133092,"answer_id":69702623,"question_id":69700903,"body_markdown":"I read your other question, about the exception on close connection, and in both of your questions you are asking if it&#39;s a good idea to ignore them: **The answer is NOT**. The second question is How I deal with them.\r\n\r\nWell, you need to understand why these exceptions are triggered, and for that, you need to understand the TCP connection, I shared to you some links:\r\n\r\nhttps://support.huawei.com/enterprise/mx/doc/EDOC1100058931/a1faac62/tcp\r\n\r\n`java.net.SocketException: Socket closed` means that some of the pears closing the connection but your program is in a process of reading or writing...\r\n\r\n```java\r\n        while((receivedData = in.readLine()) != null){ \r\n                \r\n                out.println(receivedData);\r\n                out.flush();\r\n        }\r\n```\r\n...these operations are interrupted at the moment of closing the socket. For that reason, these functions, `readline` or `printline`, trigger an exception that should be handled to close the socket that triggered the exception to avoid leaving connections on CLOSE_WAIT, as you can see in this link, **which could be considered as a performance issue into your program**: \r\n\r\nhttps://www.ibm.com/docs/en/zos/2.1.0?topic=SSLTBW_2.1.0/com.ibm.zos.v2r1.halu101/constatus.htm\r\n\r\n\r\nOk, the same thing happens when the connection has lost unexpectedly (`java.net.SocketException: Connection reset.`). In that case, the exception means that **The connection was unexpectedly closed by the peer without starting a close process**. In that case, the remote point has gone and your socket should close to release all the resources that this socket uses.\r\n\r\nWhat happened if you don&#39;t handle those exceptions: The socket will be unavailable to be reused until the SO release them, which could take several minutes and run out the available sockets in cases of high stress.\r\n\r\nFor those reasons and many more, it&#39;s important to take care of socket exceptions. \r\n","title":"If a peer client disconnects from a server could we just ignore the socketexception at the server side?","body":"<p>I read your other question, about the exception on close connection, and in both of your questions you are asking if it's a good idea to ignore them: <strong>The answer is NOT</strong>. The second question is How I deal with them.</p>\n<p>Well, you need to understand why these exceptions are triggered, and for that, you need to understand the TCP connection, I shared to you some links:</p>\n<p><a href=\"https://support.huawei.com/enterprise/mx/doc/EDOC1100058931/a1faac62/tcp\" rel=\"nofollow noreferrer\">https://support.huawei.com/enterprise/mx/doc/EDOC1100058931/a1faac62/tcp</a></p>\n<p><code>java.net.SocketException: Socket closed</code> means that some of the pears closing the connection but your program is in a process of reading or writing...</p>\n<pre class=\"lang-java prettyprint-override\"><code>        while((receivedData = in.readLine()) != null){ \n                \n                out.println(receivedData);\n                out.flush();\n        }\n</code></pre>\n<p>...these operations are interrupted at the moment of closing the socket. For that reason, these functions, <code>readline</code> or <code>printline</code>, trigger an exception that should be handled to close the socket that triggered the exception to avoid leaving connections on CLOSE_WAIT, as you can see in this link, <strong>which could be considered as a performance issue into your program</strong>:</p>\n<p><a href=\"https://www.ibm.com/docs/en/zos/2.1.0?topic=SSLTBW_2.1.0/com.ibm.zos.v2r1.halu101/constatus.htm\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/zos/2.1.0?topic=SSLTBW_2.1.0/com.ibm.zos.v2r1.halu101/constatus.htm</a></p>\n<p>Ok, the same thing happens when the connection has lost unexpectedly (<code>java.net.SocketException: Connection reset.</code>). In that case, the exception means that <strong>The connection was unexpectedly closed by the peer without starting a close process</strong>. In that case, the remote point has gone and your socket should close to release all the resources that this socket uses.</p>\n<p>What happened if you don't handle those exceptions: The socket will be unavailable to be reused until the SO release them, which could take several minutes and run out the available sockets in cases of high stress.</p>\n<p>For those reasons and many more, it's important to take care of socket exceptions.</p>\n"}],"owner":{"account_id":20912629,"reputation":141,"user_id":15363153,"display_name":"Ineversurrender93"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69702623,"answer_count":2,"score":0,"last_activity_date":1635133092,"creation_date":1635110977,"question_id":69700903,"body_markdown":"I have a server which accepts input from client; it reads text input from client and processes it in some way(each new connection is assigned a thread also). However, whenever a client suddenly disconnects from the server I receive a socketException(connection reset) from the server where `BufferedReader.readLine()` is invoked. So basically this exception is an indicator that a client was suddenly terminated.\r\n\r\nSo in this case could I just ignore the exception occurring at the server and simply just close that socket? I&#39;m just wondering because it&#39;s not very usual in java to just &quot;ignore&quot; exceptions, however I haven&#39;t found any other solutions other than just to take no notice of the exception.\r\n\r\nerror:\r\n\r\n&gt;java.net.SocketException: Connection reset\r\n\r\nError occurs whenever we read data from inputstream:\r\n\r\n    \t@Override\r\n\tpublic void run() {\r\n\r\n\t\t\r\n\r\n\t\ttry (\r\n\t\t\t\tSocket sock = socket; \r\n\t\t\t\tPrintWriter out = new PrintWriter(sock.getOutputStream());\r\n\t\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(sock.getInputStream()));\r\n\t\t\t\t){\r\n\r\n\t\t\tString receivedData;\r\n\t\t\t\r\n\t\t\twhile((receivedData = in.readLine()) != null){ \r\n\t\t\t\t\t\r\n\t\t\t\t\tout.println(receivedData);\r\n\t\t\t\t\tout.flush();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;Client disconnected: &quot; + socket);\r\n\t\t\t\r\n\t\t} \r\n\t} ","title":"If a peer client disconnects from a server could we just ignore the socketexception at the server side?","body":"<p>I have a server which accepts input from client; it reads text input from client and processes it in some way(each new connection is assigned a thread also). However, whenever a client suddenly disconnects from the server I receive a socketException(connection reset) from the server where <code>BufferedReader.readLine()</code> is invoked. So basically this exception is an indicator that a client was suddenly terminated.</p>\n<p>So in this case could I just ignore the exception occurring at the server and simply just close that socket? I'm just wondering because it's not very usual in java to just &quot;ignore&quot; exceptions, however I haven't found any other solutions other than just to take no notice of the exception.</p>\n<p>error:</p>\n<blockquote>\n<p>java.net.SocketException: Connection reset</p>\n</blockquote>\n<p>Error occurs whenever we read data from inputstream:</p>\n<pre><code>    @Override\npublic void run() {\n\n    \n\n    try (\n            Socket sock = socket; \n            PrintWriter out = new PrintWriter(sock.getOutputStream());\n            BufferedReader in = new BufferedReader(new InputStreamReader(sock.getInputStream()));\n            ){\n\n        String receivedData;\n        \n        while((receivedData = in.readLine()) != null){ \n                \n                out.println(receivedData);\n                out.flush();\n        }\n        \n    } catch (IOException e) {\n        e.printStackTrace();\n        System.out.println(&quot;Client disconnected: &quot; + socket);\n        \n    } \n} \n</code></pre>\n"},{"tags":["java","graph","depth-first-search","tarjans-algorithm"],"answers":[{"tags":[],"owner":{"account_id":11396057,"reputation":664,"user_id":8354437,"display_name":"Ankit Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635133039,"creation_date":1635133039,"answer_id":69702616,"question_id":69698626,"body_markdown":"It was a coding mistake, for an edge to be a bridge, we have to check for low of neighbour to discovery of current node (because we have to check no neighbour &#39;v&#39; of current node &#39;u&#39; have a backward edge to any ancestor of &#39;u&#39;, as if that backward is present then the graph will still be connected if the edge between &#39;u&#39;-&#39;v&#39; is removed):\r\n\r\n    if(low[v] &gt; disc[u]){ // no back edge present\r\n       result.add(new Pair&lt;&gt;(u,v));\r\n    }","title":"Correct Implementation to find Bridges in graph","body":"<p>It was a coding mistake, for an edge to be a bridge, we have to check for low of neighbour to discovery of current node (because we have to check no neighbour 'v' of current node 'u' have a backward edge to any ancestor of 'u', as if that backward is present then the graph will still be connected if the edge between 'u'-'v' is removed):</p>\n<pre><code>if(low[v] &gt; disc[u]){ // no back edge present\n   result.add(new Pair&lt;&gt;(u,v));\n}\n</code></pre>\n"}],"owner":{"account_id":11396057,"reputation":664,"user_id":8354437,"display_name":"Ankit Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635133039,"creation_date":1635092239,"question_id":69698626,"body_markdown":"I have following implementation to find Cut Edge/ Bridges in a graph : \r\n```\r\nimport java.util.Arrays;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\n\r\npublic class TarjanCutEdge {\r\n\r\n    public static void main(String[] args) {\r\n        Graph g = new Graph(8);\r\n        g.addEdge(0,1);\r\n        g.addEdge(1,2);\r\n        g.addEdge(2,0);\r\n        g.addEdge(2,3);\r\n        g.addEdge(3,4);\r\n        g.addEdge(4,5);\r\n        g.addEdge(5,6);\r\n        g.addEdge(6,4);\r\n        g.addEdge(6,7);\r\n        g.addEdge(4,7);\r\n        List&lt;Pair&lt;Integer,Integer&gt;&gt; result = new LinkedList&lt;&gt;();\r\n        getCutEdges(g,result);\r\n        System.out.println(result);\r\n    }\r\n\r\n    private static void getCutEdges(Graph g, List&lt;Pair&lt;Integer, Integer&gt;&gt; result) {\r\n\r\n        int[] disc = new int[g.getNumVertices()];\r\n        int[] low = new int[g.getNumVertices()];\r\n        int[] parent = new int[g.getNumVertices()];\r\n        Arrays.fill(disc,-1);\r\n        Arrays.fill(low,-1);\r\n        Arrays.fill(parent,-1);\r\n\r\n        for(int i=0;i&lt;g.getNumVertices();i++){\r\n            if(disc[i] == -1) // unvisited\r\n                dfs(i,g,disc,low,parent,result,0);\r\n        }\r\n    }\r\n\r\n    private static void dfs(int u, Graph g, int[] disc, int[] low, int[] parent,\r\n                            List&lt;Pair&lt;Integer, Integer&gt;&gt; result,int time) {\r\n        disc[u] = low[u] = time;\r\n        time++;\r\n        for(int v : g.getVertices(u)){\r\n            if(disc[v] == -1){\r\n                parent[v] = u;\r\n                dfs(v,g,disc,low,parent,result,time);\r\n                low[u] = Math.min(low[u],low[v]);\r\n                if(low[v] &gt; low[u]){ // no back edge present\r\n                    result.add(new Pair&lt;&gt;(u,v));\r\n                }\r\n            }else if(v != parent[u]){ // ignore child to parent edge\r\n                low[u] = Math.min(low[u],disc[v]);\r\n            }\r\n        }\r\n    } \r\n}\r\n```\r\n\r\nThe implementation is working for most test cases except one. That one test case has 1000 nodes and ~56k edges.\r\nI am trying to solve this problem - https://leetcode.com/problems/critical-connections-in-a-network/\r\n\r\nHow can I validate whether it&#39;s the code which is wrong or the test case?\r\n\r\nPlease do have a look at code, if you already know the Tarjan&#39;s Algorithm.","title":"Correct Implementation to find Bridges in graph","body":"<p>I have following implementation to find Cut Edge/ Bridges in a graph :</p>\n<pre><code>import java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class TarjanCutEdge {\n\n    public static void main(String[] args) {\n        Graph g = new Graph(8);\n        g.addEdge(0,1);\n        g.addEdge(1,2);\n        g.addEdge(2,0);\n        g.addEdge(2,3);\n        g.addEdge(3,4);\n        g.addEdge(4,5);\n        g.addEdge(5,6);\n        g.addEdge(6,4);\n        g.addEdge(6,7);\n        g.addEdge(4,7);\n        List&lt;Pair&lt;Integer,Integer&gt;&gt; result = new LinkedList&lt;&gt;();\n        getCutEdges(g,result);\n        System.out.println(result);\n    }\n\n    private static void getCutEdges(Graph g, List&lt;Pair&lt;Integer, Integer&gt;&gt; result) {\n\n        int[] disc = new int[g.getNumVertices()];\n        int[] low = new int[g.getNumVertices()];\n        int[] parent = new int[g.getNumVertices()];\n        Arrays.fill(disc,-1);\n        Arrays.fill(low,-1);\n        Arrays.fill(parent,-1);\n\n        for(int i=0;i&lt;g.getNumVertices();i++){\n            if(disc[i] == -1) // unvisited\n                dfs(i,g,disc,low,parent,result,0);\n        }\n    }\n\n    private static void dfs(int u, Graph g, int[] disc, int[] low, int[] parent,\n                            List&lt;Pair&lt;Integer, Integer&gt;&gt; result,int time) {\n        disc[u] = low[u] = time;\n        time++;\n        for(int v : g.getVertices(u)){\n            if(disc[v] == -1){\n                parent[v] = u;\n                dfs(v,g,disc,low,parent,result,time);\n                low[u] = Math.min(low[u],low[v]);\n                if(low[v] &gt; low[u]){ // no back edge present\n                    result.add(new Pair&lt;&gt;(u,v));\n                }\n            }else if(v != parent[u]){ // ignore child to parent edge\n                low[u] = Math.min(low[u],disc[v]);\n            }\n        }\n    } \n}\n</code></pre>\n<p>The implementation is working for most test cases except one. That one test case has 1000 nodes and ~56k edges.\nI am trying to solve this problem - <a href=\"https://leetcode.com/problems/critical-connections-in-a-network/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/critical-connections-in-a-network/</a></p>\n<p>How can I validate whether it's the code which is wrong or the test case?</p>\n<p>Please do have a look at code, if you already know the Tarjan's Algorithm.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635133005,"creation_date":1635133005,"answer_id":69702611,"question_id":69702459,"body_markdown":"Your `back end` will expose a `rest api` that your `front end` will access via Rest Api call.\r\nYour `dropdown list` will be filled by a list of country coming from your back end or a predefined list in your `front end`.\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\n\r\nGoogle about [Rest Client][2], [Rest API][3] your will have a good understanding of the subject.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OfJyK.png\r\n  [2]: https://mkyong.com/java/apache-httpclient-examples/\r\n  [3]: https://spring.io/guides/tutorials/rest/","title":"how java backend get value in a dropdown from frontend","body":"<p>Your <code>back end</code> will expose a <code>rest api</code> that your <code>front end</code> will access via Rest Api call.\nYour <code>dropdown list</code> will be filled by a list of country coming from your back end or a predefined list in your <code>front end</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/OfJyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OfJyK.png\" alt=\"enter image description here\" /></a></p>\n<p>Google about <a href=\"https://mkyong.com/java/apache-httpclient-examples/\" rel=\"nofollow noreferrer\">Rest Client</a>, <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">Rest API</a> your will have a good understanding of the subject.</p>\n"}],"owner":{"account_id":22694124,"reputation":81,"user_id":16862586,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69702611,"answer_count":1,"score":-2,"last_activity_date":1635133005,"creation_date":1635131208,"question_id":69702459,"body_markdown":"In java backend which method can be used to get value in the frontend dropdown?\r\neg: enter a country name in frontend dropdown, how can I pass this value to backend to search in database?","title":"how java backend get value in a dropdown from frontend","body":"<p>In java backend which method can be used to get value in the frontend dropdown?\neg: enter a country name in frontend dropdown, how can I pass this value to backend to search in database?</p>\n"},{"tags":["java","image","metadata"],"comments":[{"owner":{"account_id":1045743,"reputation":4323,"user_id":1050766,"accept_rate":64,"display_name":"Muel"},"score":0,"creation_date":1366425312,"post_id":16115851,"comment_id":23016613,"body_markdown":"How are you trying to run this programme? In Eclipse? How are you supplying the arguments to the programme? I&#39;ll edit my answer below based on this information.","body":"How are you trying to run this programme? In Eclipse? How are you supplying the arguments to the programme? I&#39;ll edit my answer below based on this information."},{"owner":{"account_id":2661597,"reputation":81,"user_id":2301134,"display_name":"Luckheart"},"score":0,"creation_date":1366426077,"post_id":16115851,"comment_id":23016719,"body_markdown":"i run on java netbeans\ni didn&#39;t find filepath from that code :(","body":"i run on java netbeans i didn&#39;t find filepath from that code :("},{"owner":{"account_id":1045743,"reputation":4323,"user_id":1050766,"accept_rate":64,"display_name":"Muel"},"score":0,"creation_date":1366426339,"post_id":16115851,"comment_id":23016745,"body_markdown":"You need to supply an absolute path to an image file for that code to work. Eg: `C:\\\\Users\\\\luckheart\\\\Desktop\\\\image.png` What is the file name (and location) of the image that you&#39;re trying to load?","body":"You need to supply an absolute path to an image file for that code to work. Eg: <code>C:\\\\Users\\\\luckheart\\\\Desktop\\\\image.png</code> What is the file name (and location) of the image that you&#39;re trying to load?"},{"owner":{"account_id":2661597,"reputation":81,"user_id":2301134,"display_name":"Luckheart"},"score":0,"creation_date":1366429800,"post_id":16115851,"comment_id":23017336,"body_markdown":"where i&#39;ve to put ?\nC:\\Users\\luckheart\\Pictures\\Sample Pictures\\Koala.jpg","body":"where i&#39;ve to put ? C:\\Users\\luckheart\\Pictures\\Sample Pictures\\Koala.jpg"}],"answers":[{"tags":[],"owner":{"account_id":1045743,"reputation":4323,"user_id":1050766,"accept_rate":64,"display_name":"Muel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1366430176,"creation_date":1366424962,"answer_id":16115912,"question_id":16115851,"body_markdown":"You haven&#39;t specified the path to the file correctly. The change below should indicate this!\r\n\r\n    public static void main(String[] args) {\r\n        Metadata meta = new Metadata();\r\n        int length = args.length;\r\n        for ( int i = 0; i &lt; length; i++ ) {\r\n            if (new File(args[i]).exists()) {\r\n                meta.readAndDisplayMetadata( args[i] );\r\n            } else {\r\n                System.out.println(&quot;cannot find file: &quot; + args[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n**EDIT - Simpler code example**\r\n\r\nWe are now statically defining which file to use.\r\n\r\n    public static void main(String[] args) {\r\n        Metadata meta = new Metadata();\r\n        String filename = &quot;C:\\\\Users\\\\luckheart\\\\Pictures\\\\Sample Pictures\\\\Koala.jpg&quot;;\r\n        if (new File(filename).exists()) {\r\n            meta.readAndDisplayMetadata(filename);\r\n        } else {\r\n            System.out.println(&quot;cannot find file: &quot; + filename);\r\n        }\r\n    }","title":"Read Image Metadata from single file with Java","body":"<p>You haven't specified the path to the file correctly. The change below should indicate this!</p>\n\n<pre><code>public static void main(String[] args) {\n    Metadata meta = new Metadata();\n    int length = args.length;\n    for ( int i = 0; i &lt; length; i++ ) {\n        if (new File(args[i]).exists()) {\n            meta.readAndDisplayMetadata( args[i] );\n        } else {\n            System.out.println(\"cannot find file: \" + args[i]);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>EDIT - Simpler code example</strong></p>\n\n<p>We are now statically defining which file to use.</p>\n\n<pre><code>public static void main(String[] args) {\n    Metadata meta = new Metadata();\n    String filename = \"C:\\\\Users\\\\luckheart\\\\Pictures\\\\Sample Pictures\\\\Koala.jpg\";\n    if (new File(filename).exists()) {\n        meta.readAndDisplayMetadata(filename);\n    } else {\n        System.out.println(\"cannot find file: \" + filename);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1727809,"reputation":3553,"user_id":1664788,"accept_rate":21,"display_name":"Vivek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635132957,"creation_date":1635132957,"answer_id":69702605,"question_id":16115851,"body_markdown":"Reading Image Meta is now much simplified and streamlined with [apache commons-imaging library][1] \r\n\r\n    /**\r\n     * Reference : https://github.com/apache/commons-imaging/blob/master/src/test/java/org/apache/commons/imaging/examples/MetadataExample.java\r\n     */\r\n    public static void readImageMeta(final File imgFile) throws ImageReadException, IOException {\r\n    \t/** get all metadata stored in EXIF format (ie. from JPEG or TIFF). **/\r\n        final ImageMetadata metadata = Imaging.getMetadata(imgFile);\r\n        System.out.println(metadata);\r\n        System.out.println(&quot;--------------------------------------------------------------------------------&quot;);\r\n        \r\n        /** Get specific meta data information by drilling down the meta **/\r\n        if (metadata instanceof JpegImageMetadata) {\r\n        \tJpegImageMetadata jpegMetadata = (JpegImageMetadata) metadata;\r\n\t\t\tprintTagValue(jpegMetadata, GpsTagConstants.GPS_TAG_GPS_LATITUDE_REF);\r\n\t\t\tprintTagValue(jpegMetadata, GpsTagConstants.GPS_TAG_GPS_LATITUDE);\r\n\t\t\tprintTagValue(jpegMetadata, GpsTagConstants.GPS_TAG_GPS_LONGITUDE_REF);\r\n\t\t\tprintTagValue(jpegMetadata, GpsTagConstants.GPS_TAG_GPS_LONGITUDE);\r\n\t\t\t\r\n\t\t\t// simple interface to GPS data\r\n\t\t\tfinal TiffImageMetadata exifMetadata = jpegMetadata.getExif();\r\n\t\t\tif (null != exifMetadata) {\r\n\t\t\t\tfinal TiffImageMetadata.GPSInfo gpsInfo = exifMetadata.getGPS();\r\n\t\t\t\tif (null != gpsInfo) {\r\n\t\t\t\t\tfinal String gpsDescription = gpsInfo.toString();\r\n\t\t\t\t\tfinal double longitude = gpsInfo.getLongitudeAsDegreesEast();\r\n\t\t\t\t\tfinal double latitude = gpsInfo.getLatitudeAsDegreesNorth();\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;    &quot; + &quot;GPS Description: &quot; + gpsDescription);\r\n\t\t\t\t\tSystem.out.println(&quot;    &quot; + &quot;GPS Longitude (Degrees East): &quot; + longitude);\r\n\t\t\t\t\tSystem.out.println(&quot;    &quot; + &quot;GPS Latitude (Degrees North): &quot; + latitude);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// more specific example of how to manually access GPS values\r\n\t\t\tfinal TiffField gpsLatitudeRefField = jpegMetadata.findEXIFValueWithExactMatch(GpsTagConstants.GPS_TAG_GPS_LATITUDE_REF);\r\n\t\t\tfinal TiffField gpsLatitudeField = jpegMetadata.findEXIFValueWithExactMatch(GpsTagConstants.GPS_TAG_GPS_LATITUDE);\r\n\t\t\tfinal TiffField gpsLongitudeRefField = jpegMetadata.findEXIFValueWithExactMatch(GpsTagConstants.GPS_TAG_GPS_LONGITUDE_REF);\r\n\t\t\tfinal TiffField gpsLongitudeField = jpegMetadata.findEXIFValueWithExactMatch(GpsTagConstants.GPS_TAG_GPS_LONGITUDE);\r\n\t\t\tif (gpsLatitudeRefField != null &amp;&amp; gpsLatitudeField != null &amp;&amp; gpsLongitudeRefField != null &amp;&amp; gpsLongitudeField != null) {\r\n\t\t\t\t// all of these values are strings.\r\n\t\t\t\tfinal String gpsLatitudeRef = (String) gpsLatitudeRefField.getValue();\r\n\t\t\t\tfinal RationalNumber[] gpsLatitude = (RationalNumber[]) (gpsLatitudeField.getValue());\r\n\t\t\t\tfinal String gpsLongitudeRef = (String) gpsLongitudeRefField.getValue();\r\n\t\t\t\tfinal RationalNumber[] gpsLongitude = (RationalNumber[]) gpsLongitudeField.getValue();\r\n\r\n\t\t\t\tfinal RationalNumber gpsLatitudeDegrees = gpsLatitude[0];\r\n\t\t\t\tfinal RationalNumber gpsLatitudeMinutes = gpsLatitude[1];\r\n\t\t\t\tfinal RationalNumber gpsLatitudeSeconds = gpsLatitude[2];\r\n\r\n\t\t\t\tfinal RationalNumber gpsLongitudeDegrees = gpsLongitude[0];\r\n\t\t\t\tfinal RationalNumber gpsLongitudeMinutes = gpsLongitude[1];\r\n\t\t\t\tfinal RationalNumber gpsLongitudeSeconds = gpsLongitude[2];\r\n\r\n\t\t\t\t// This will format the gps info like so:\r\n\t\t\t\t//\r\n\t\t\t\t// gpsLatitude: 8 degrees, 40 minutes, 42.2 seconds S\r\n\t\t\t\t// gpsLongitude: 115 degrees, 26 minutes, 21.8 seconds E\r\n\r\n\t\t\t\tSystem.out.println(&quot;    &quot; + &quot;GPS Latitude: &quot; + gpsLatitudeDegrees.toDisplayString() + &quot; degrees, &quot; + gpsLatitudeMinutes.toDisplayString() + &quot; minutes, &quot; + gpsLatitudeSeconds.toDisplayString() + &quot; seconds &quot; + gpsLatitudeRef);\r\n\t\t\t\tSystem.out.println(&quot;    &quot; + &quot;GPS Longitude: &quot; + gpsLongitudeDegrees.toDisplayString() + &quot; degrees, &quot; + gpsLongitudeMinutes.toDisplayString() + &quot; minutes, &quot; + gpsLongitudeSeconds.toDisplayString() + &quot; seconds &quot; + gpsLongitudeRef);\r\n\t\t\t}\r\n        }\r\n    }\r\n    \r\n\tprivate static void printTagValue(final JpegImageMetadata jpegMetadata, TagInfo tagInfo) {\r\n\t\tfinal TiffField field = jpegMetadata.findEXIFValueWithExactMatch(tagInfo);\r\n\t\tif (field == null) {\r\n\t\t\tSystem.out.println(tagInfo.name + &quot;: &quot; + &quot;Not Found.&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(tagInfo.name + &quot;: &quot; + field.getValueDescription());\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic static void main(String[] args) throws IOException, ImageReadException {\r\n\t\tFile sourceFile = new File(&quot;/Users/vivek/myimage.jpg&quot;);\r\n\t\treadImageMeta(sourceFile);\r\n\t}\r\n\r\nThe above code will give this output\r\n\r\n    Exif metadata:\r\n\t\tRoot: \r\n\t\t\tImageWidth: 3024\r\n\t\t\tImageLength: 4032\r\n\t\t\tBitsPerSample: 8, 8, 8\r\n\t\t\tPhotometricInterpretation: 2\r\n\t\t\tMake: &#39;Apple&#39;\r\n\t\t\tModel: &#39;iPhone 6s&#39;\r\n\t\t\tOrientation: 1\r\n\t\t\tSamplesPerPixel: 3\r\n\t\t\tXResolution: 72\r\n\t\t\tYResolution: 72\r\n\t\t\tResolutionUnit: 2\r\n\t\t\tSoftware: &#39;Adobe Photoshop CC 2015 (Macintosh)&#39;\r\n\t\t\tDateTime: &#39;2016:05:17 16:55:55&#39;\r\n\t\t\tYCbCrPositioning: 1\r\n\t\t\tExifOffset: 300\r\n\t\t\tGPSInfo: 868\r\n\r\n\t\tExif: \r\n\t\t\tExposureTime: 1/100 (0.01)\r\n\t\t\tFNumber: 11/5 (2.2)\r\n\t\t\tExposureProgram: 2\r\n\t\t\tPhotographicSensitivity: 40\r\n\t\t\tExifVersion: 48, 50, 50, 49\r\n\t\t\tDateTimeOriginal: &#39;2016:05:08 18:03:57&#39;\r\n\t\t\tDateTimeDigitized: &#39;2016:05:08 18:03:57&#39;\r\n\t\t\tComponentsConfiguration: 1, 2, 3, 0\r\n\t\t\tShutterSpeedValue: 35113/5284 (6.645)\r\n\t\t\tApertureValue: 7983/3509 (2.275)\r\n\t\t\tBrightnessValue: 13026/2395 (5.439)\r\n\t\t\tExposureCompensation: 0\r\n\t\t\tMeteringMode: 5\r\n\t\t\tFlash: 16\r\n\t\t\tFocalLength: 83/20 (4.15)\r\n\t\t\tSubjectArea: 618, 1555, 310, 311\r\n\t\t\tSubSecTimeOriginal: &#39;523&#39;\r\n\t\t\tSubSecTimeDigitized: &#39;523&#39;\r\n\t\t\tFlashpixVersion: 48, 49, 48, 48\r\n\t\t\tColorSpace: 1\r\n\t\t\tExifImageWidth: 3024\r\n\t\t\tExifImageLength: 4032\r\n\t\t\tSensingMethod: 2\r\n\t\t\tSceneType: 1\r\n\t\t\tCustomRendered: 4\r\n\t\t\tExposureMode: 0\r\n\t\t\tWhiteBalance: 0\r\n\t\t\tFocalLengthIn35mmFormat: 29\r\n\t\t\tSceneCaptureType: 0\r\n\t\t\tLensSpecification: 83/20 (4.15), 83/20 (4.15), 11/5 (2.2), 11/5 (2.2)\r\n\t\t\tLensMake: &#39;Apple&#39;\r\n\t\t\tLensModel: &#39;iPhone 6s back camera 4.15mm f/2.2&#39;\r\n\r\n\t\tGps: \r\n\t\t\tGPSLatitudeRef: &#39;N&#39;\r\n\t\t\tGPSLatitude: 13, 21, 3305/100 (33.05)\r\n\t\t\tGPSLongitudeRef: &#39;E&#39;\r\n\t\t\tGPSLongitude: 75, 33, 2034/100 (20.34)\r\n\t\t\tGPSAltitudeRef: 0\r\n\t\t\tGPSAltitude: 83651/95 (880.537)\r\n\t\t\tGPSTimeStamp: 12, 33, 57\r\n\t\t\tGPSSpeedRef: &#39;K&#39;\r\n\t\t\tGPSSpeed: 21/100 (0.21)\r\n\t\t\tGPSImgDirectionRef: &#39;T&#39;\r\n\t\t\tGPSImgDirection: 1654/31 (53.355)\r\n\t\t\tGPSDestBearingRef: &#39;T&#39;\r\n\t\t\tGPSDestBearing: 1654/31 (53.355)\r\n\t\t\tGPSDateStamp: &#39;2016:05:08&#39;\r\n\t\t\tUnknown Tag (0x1f): 5\r\n\r\n\t\tSub:  (jpegImageData)\r\n\t\t\tCompression: 6\r\n\t\t\tXResolution: 72\r\n\t\t\tYResolution: 72\r\n\t\t\tResolutionUnit: 2\r\n\t\t\tJpgFromRawStart: 1274\r\n\t\t\tJpgFromRawLength: 8211\r\n\r\n    Photoshop (IPTC) metadata:\r\n    \t\tDate Created: 20160508\r\n    \t\tTime Created: 180357+0000\r\n    --------------------------------------------------------------------------------\r\n    GPSLatitudeRef: &#39;N&#39;\r\n    GPSLatitude: 13, 21, 3305/100 (33.05)\r\n    GPSLongitudeRef: &#39;E&#39;\r\n    GPSLongitude: 75, 33, 2034/100 (20.34)\r\n        GPS Description: [GPS. Latitude: 13 degrees, 21 minutes, 33.05 seconds N, Longitude: 75 degrees, 33 minutes, 20.34 seconds E]\r\n        GPS Longitude (Degrees East): 75.55565\r\n        GPS Latitude (Degrees North): 13.359180555555556\r\n        GPS Latitude: 13 degrees, 21 minutes, 33.05 seconds N\r\n        GPS Longitude: 75 degrees, 33 minutes, 20.34 seconds E\r\n\r\nFore More Refer the library documentation [here][2]     \r\nMaven Repo Link [here][3].  \r\nNote : It&#39;s an alpha release at this time but you can trust apache :D. \r\n\r\nCheers!\r\n\r\n\r\n  [1]: https://github.com/apache/commons-imaging\r\n  [2]: https://commons.apache.org/proper/commons-imaging/index.html\r\n  [3]: https://mvnrepository.com/artifact/org.apache.commons/commons-imaging","title":"Read Image Metadata from single file with Java","body":"<p>Reading Image Meta is now much simplified and streamlined with <a href=\"https://github.com/apache/commons-imaging\" rel=\"nofollow noreferrer\">apache commons-imaging library</a></p>\n<pre><code>/**\n * Reference : https://github.com/apache/commons-imaging/blob/master/src/test/java/org/apache/commons/imaging/examples/MetadataExample.java\n */\npublic static void readImageMeta(final File imgFile) throws ImageReadException, IOException {\n    /** get all metadata stored in EXIF format (ie. from JPEG or TIFF). **/\n    final ImageMetadata metadata = Imaging.getMetadata(imgFile);\n    System.out.println(metadata);\n    System.out.println(&quot;--------------------------------------------------------------------------------&quot;);\n    \n    /** Get specific meta data information by drilling down the meta **/\n    if (metadata instanceof JpegImageMetadata) {\n        JpegImageMetadata jpegMetadata = (JpegImageMetadata) metadata;\n        printTagValue(jpegMetadata, GpsTagConstants.GPS_TAG_GPS_LATITUDE_REF);\n        printTagValue(jpegMetadata, GpsTagConstants.GPS_TAG_GPS_LATITUDE);\n        printTagValue(jpegMetadata, GpsTagConstants.GPS_TAG_GPS_LONGITUDE_REF);\n        printTagValue(jpegMetadata, GpsTagConstants.GPS_TAG_GPS_LONGITUDE);\n        \n        // simple interface to GPS data\n        final TiffImageMetadata exifMetadata = jpegMetadata.getExif();\n        if (null != exifMetadata) {\n            final TiffImageMetadata.GPSInfo gpsInfo = exifMetadata.getGPS();\n            if (null != gpsInfo) {\n                final String gpsDescription = gpsInfo.toString();\n                final double longitude = gpsInfo.getLongitudeAsDegreesEast();\n                final double latitude = gpsInfo.getLatitudeAsDegreesNorth();\n\n                System.out.println(&quot;    &quot; + &quot;GPS Description: &quot; + gpsDescription);\n                System.out.println(&quot;    &quot; + &quot;GPS Longitude (Degrees East): &quot; + longitude);\n                System.out.println(&quot;    &quot; + &quot;GPS Latitude (Degrees North): &quot; + latitude);\n            }\n        }\n\n        // more specific example of how to manually access GPS values\n        final TiffField gpsLatitudeRefField = jpegMetadata.findEXIFValueWithExactMatch(GpsTagConstants.GPS_TAG_GPS_LATITUDE_REF);\n        final TiffField gpsLatitudeField = jpegMetadata.findEXIFValueWithExactMatch(GpsTagConstants.GPS_TAG_GPS_LATITUDE);\n        final TiffField gpsLongitudeRefField = jpegMetadata.findEXIFValueWithExactMatch(GpsTagConstants.GPS_TAG_GPS_LONGITUDE_REF);\n        final TiffField gpsLongitudeField = jpegMetadata.findEXIFValueWithExactMatch(GpsTagConstants.GPS_TAG_GPS_LONGITUDE);\n        if (gpsLatitudeRefField != null &amp;&amp; gpsLatitudeField != null &amp;&amp; gpsLongitudeRefField != null &amp;&amp; gpsLongitudeField != null) {\n            // all of these values are strings.\n            final String gpsLatitudeRef = (String) gpsLatitudeRefField.getValue();\n            final RationalNumber[] gpsLatitude = (RationalNumber[]) (gpsLatitudeField.getValue());\n            final String gpsLongitudeRef = (String) gpsLongitudeRefField.getValue();\n            final RationalNumber[] gpsLongitude = (RationalNumber[]) gpsLongitudeField.getValue();\n\n            final RationalNumber gpsLatitudeDegrees = gpsLatitude[0];\n            final RationalNumber gpsLatitudeMinutes = gpsLatitude[1];\n            final RationalNumber gpsLatitudeSeconds = gpsLatitude[2];\n\n            final RationalNumber gpsLongitudeDegrees = gpsLongitude[0];\n            final RationalNumber gpsLongitudeMinutes = gpsLongitude[1];\n            final RationalNumber gpsLongitudeSeconds = gpsLongitude[2];\n\n            // This will format the gps info like so:\n            //\n            // gpsLatitude: 8 degrees, 40 minutes, 42.2 seconds S\n            // gpsLongitude: 115 degrees, 26 minutes, 21.8 seconds E\n\n            System.out.println(&quot;    &quot; + &quot;GPS Latitude: &quot; + gpsLatitudeDegrees.toDisplayString() + &quot; degrees, &quot; + gpsLatitudeMinutes.toDisplayString() + &quot; minutes, &quot; + gpsLatitudeSeconds.toDisplayString() + &quot; seconds &quot; + gpsLatitudeRef);\n            System.out.println(&quot;    &quot; + &quot;GPS Longitude: &quot; + gpsLongitudeDegrees.toDisplayString() + &quot; degrees, &quot; + gpsLongitudeMinutes.toDisplayString() + &quot; minutes, &quot; + gpsLongitudeSeconds.toDisplayString() + &quot; seconds &quot; + gpsLongitudeRef);\n        }\n    }\n}\n\nprivate static void printTagValue(final JpegImageMetadata jpegMetadata, TagInfo tagInfo) {\n    final TiffField field = jpegMetadata.findEXIFValueWithExactMatch(tagInfo);\n    if (field == null) {\n        System.out.println(tagInfo.name + &quot;: &quot; + &quot;Not Found.&quot;);\n    } else {\n        System.out.println(tagInfo.name + &quot;: &quot; + field.getValueDescription());\n    }\n}\n\n\npublic static void main(String[] args) throws IOException, ImageReadException {\n    File sourceFile = new File(&quot;/Users/vivek/myimage.jpg&quot;);\n    readImageMeta(sourceFile);\n}\n</code></pre>\n<p>The above code will give this output</p>\n<pre><code>Exif metadata:\n    Root: \n        ImageWidth: 3024\n        ImageLength: 4032\n        BitsPerSample: 8, 8, 8\n        PhotometricInterpretation: 2\n        Make: 'Apple'\n        Model: 'iPhone 6s'\n        Orientation: 1\n        SamplesPerPixel: 3\n        XResolution: 72\n        YResolution: 72\n        ResolutionUnit: 2\n        Software: 'Adobe Photoshop CC 2015 (Macintosh)'\n        DateTime: '2016:05:17 16:55:55'\n        YCbCrPositioning: 1\n        ExifOffset: 300\n        GPSInfo: 868\n\n    Exif: \n        ExposureTime: 1/100 (0.01)\n        FNumber: 11/5 (2.2)\n        ExposureProgram: 2\n        PhotographicSensitivity: 40\n        ExifVersion: 48, 50, 50, 49\n        DateTimeOriginal: '2016:05:08 18:03:57'\n        DateTimeDigitized: '2016:05:08 18:03:57'\n        ComponentsConfiguration: 1, 2, 3, 0\n        ShutterSpeedValue: 35113/5284 (6.645)\n        ApertureValue: 7983/3509 (2.275)\n        BrightnessValue: 13026/2395 (5.439)\n        ExposureCompensation: 0\n        MeteringMode: 5\n        Flash: 16\n        FocalLength: 83/20 (4.15)\n        SubjectArea: 618, 1555, 310, 311\n        SubSecTimeOriginal: '523'\n        SubSecTimeDigitized: '523'\n        FlashpixVersion: 48, 49, 48, 48\n        ColorSpace: 1\n        ExifImageWidth: 3024\n        ExifImageLength: 4032\n        SensingMethod: 2\n        SceneType: 1\n        CustomRendered: 4\n        ExposureMode: 0\n        WhiteBalance: 0\n        FocalLengthIn35mmFormat: 29\n        SceneCaptureType: 0\n        LensSpecification: 83/20 (4.15), 83/20 (4.15), 11/5 (2.2), 11/5 (2.2)\n        LensMake: 'Apple'\n        LensModel: 'iPhone 6s back camera 4.15mm f/2.2'\n\n    Gps: \n        GPSLatitudeRef: 'N'\n        GPSLatitude: 13, 21, 3305/100 (33.05)\n        GPSLongitudeRef: 'E'\n        GPSLongitude: 75, 33, 2034/100 (20.34)\n        GPSAltitudeRef: 0\n        GPSAltitude: 83651/95 (880.537)\n        GPSTimeStamp: 12, 33, 57\n        GPSSpeedRef: 'K'\n        GPSSpeed: 21/100 (0.21)\n        GPSImgDirectionRef: 'T'\n        GPSImgDirection: 1654/31 (53.355)\n        GPSDestBearingRef: 'T'\n        GPSDestBearing: 1654/31 (53.355)\n        GPSDateStamp: '2016:05:08'\n        Unknown Tag (0x1f): 5\n\n    Sub:  (jpegImageData)\n        Compression: 6\n        XResolution: 72\n        YResolution: 72\n        ResolutionUnit: 2\n        JpgFromRawStart: 1274\n        JpgFromRawLength: 8211\n\nPhotoshop (IPTC) metadata:\n        Date Created: 20160508\n        Time Created: 180357+0000\n--------------------------------------------------------------------------------\nGPSLatitudeRef: 'N'\nGPSLatitude: 13, 21, 3305/100 (33.05)\nGPSLongitudeRef: 'E'\nGPSLongitude: 75, 33, 2034/100 (20.34)\n    GPS Description: [GPS. Latitude: 13 degrees, 21 minutes, 33.05 seconds N, Longitude: 75 degrees, 33 minutes, 20.34 seconds E]\n    GPS Longitude (Degrees East): 75.55565\n    GPS Latitude (Degrees North): 13.359180555555556\n    GPS Latitude: 13 degrees, 21 minutes, 33.05 seconds N\n    GPS Longitude: 75 degrees, 33 minutes, 20.34 seconds E\n</code></pre>\n<p>Fore More Refer the library documentation <a href=\"https://commons.apache.org/proper/commons-imaging/index.html\" rel=\"nofollow noreferrer\">here</a><br />\nMaven Repo Link <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-imaging\" rel=\"nofollow noreferrer\">here</a>.<br />\nNote : It's an alpha release at this time but you can trust apache :D.</p>\n<p>Cheers!</p>\n"}],"owner":{"account_id":2661597,"reputation":81,"user_id":2301134,"display_name":"Luckheart"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32193,"favorite_count":0,"down_vote_count":4,"up_vote_count":8,"accepted_answer_id":16115912,"answer_count":2,"score":4,"last_activity_date":1635132957,"creation_date":1366424346,"question_id":16115851,"body_markdown":"I want to read image metadata from a single file.\r\nI tried the following code:\r\n\r\n[http://johnbokma.com/java/obtaining-image-metadata.html][1]  \r\n\r\nWhen I run it, I get `build successful` but nothing happens.\r\n\r\n    public class Metadata {\r\n\r\n        public static void main(String[] args) {\r\n            Metadata meta = new Metadata();\r\n            int length = args.length;\r\n            for ( int i = 0; i &lt; length; i++ )\r\n            meta.readAndDisplayMetadata( args[i] );\r\n        }\r\n\r\n        void readAndDisplayMetadata( String fileName ) {\r\n            try {\r\n\r\n                File file = new File( fileName );\r\n                ImageInputStream iis = ImageIO.createImageInputStream(file);\r\n                Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(iis);\r\n\r\n                if (readers.hasNext()) {\r\n\r\n                    // pick the first available ImageReader\r\n                    ImageReader reader = readers.next();\r\n\r\n                    // attach source to the reader\r\n                    reader.setInput(iis, true);\r\n\r\n                    // read metadata of first image\r\n                    IIOMetadata metadata = reader.getImageMetadata(0);\r\n\r\n                    String[] names = metadata.getMetadataFormatNames();\r\n                    int length = names.length;\r\n                    for (int i = 0; i &lt; length; i++) {\r\n                        System.out.println( &quot;Format name: &quot; + names[ i ] );\r\n                        displayMetadata(metadata.getAsTree(names[i]));\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nPlease help :)\r\n\r\n\r\n  [1]: http://johnbokma.com/java/obtaining-image-metadata.html","title":"Read Image Metadata from single file with Java","body":"<p>I want to read image metadata from a single file.\nI tried the following code:</p>\n\n<p><a href=\"http://johnbokma.com/java/obtaining-image-metadata.html\" rel=\"noreferrer\">http://johnbokma.com/java/obtaining-image-metadata.html</a>  </p>\n\n<p>When I run it, I get <code>build successful</code> but nothing happens.</p>\n\n<pre><code>public class Metadata {\n\n    public static void main(String[] args) {\n        Metadata meta = new Metadata();\n        int length = args.length;\n        for ( int i = 0; i &lt; length; i++ )\n        meta.readAndDisplayMetadata( args[i] );\n    }\n\n    void readAndDisplayMetadata( String fileName ) {\n        try {\n\n            File file = new File( fileName );\n            ImageInputStream iis = ImageIO.createImageInputStream(file);\n            Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(iis);\n\n            if (readers.hasNext()) {\n\n                // pick the first available ImageReader\n                ImageReader reader = readers.next();\n\n                // attach source to the reader\n                reader.setInput(iis, true);\n\n                // read metadata of first image\n                IIOMetadata metadata = reader.getImageMetadata(0);\n\n                String[] names = metadata.getMetadataFormatNames();\n                int length = names.length;\n                for (int i = 0; i &lt; length; i++) {\n                    System.out.println( \"Format name: \" + names[ i ] );\n                    displayMetadata(metadata.getAsTree(names[i]));\n                }\n            }\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p>Please help :)</p>\n"},{"tags":["java","spring-mvc","bean-validation"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1650661052,"post_id":53722901,"comment_id":127180868,"body_markdown":"Does this answer your question? [JSR-303 validation groups define a default group](https://stackoverflow.com/questions/35358447/jsr-303-validation-groups-define-a-default-group)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35358447/jsr-303-validation-groups-define-a-default-group\">JSR-303 validation groups define a default group</a>"}],"answers":[{"tags":[],"owner":{"account_id":4295560,"reputation":2627,"user_id":3510725,"display_name":"Minar Mahmud"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1544843292,"creation_date":1544843292,"answer_id":53789197,"question_id":53722901,"body_markdown":"From [**JSR-303** specification][1]:\r\n\r\n&gt; **3.4. Group and group sequence**\r\n&gt; \r\n&gt; A group defines a subset of constraints. Instead of validating all\r\n&gt; constraints for a given object graph, only a subset is validated. This\r\n&gt; subset is defined by the the group or groups targeted. Each constraint\r\n&gt; declaration defines the list of groups it belongs to. ***If no group is\r\n&gt; explicitly declared, a constraint belongs to the Default group.***\r\n\r\nSo doing following in controller should suffice:\r\n\r\n    @Validated({UserGroup.ShouldHaveSurName.class, Default.class})\r\n\r\n\r\n  [1]: https://download.oracle.com/otndocs/jcp/bean_validation-1.0-fr-oth-JSpec/","title":"jsr-303 in spring validation validate without default group","body":"<p>From <a href=\"https://download.oracle.com/otndocs/jcp/bean_validation-1.0-fr-oth-JSpec/\" rel=\"noreferrer\"><strong>JSR-303</strong> specification</a>:</p>\n\n<blockquote>\n  <p><strong>3.4. Group and group sequence</strong></p>\n  \n  <p>A group defines a subset of constraints. Instead of validating all\n  constraints for a given object graph, only a subset is validated. This\n  subset is defined by the the group or groups targeted. Each constraint\n  declaration defines the list of groups it belongs to. <strong><em>If no group is\n  explicitly declared, a constraint belongs to the Default group.</em></strong></p>\n</blockquote>\n\n<p>So doing following in controller should suffice:</p>\n\n<pre><code>@Validated({UserGroup.ShouldHaveSurName.class, Default.class})\n</code></pre>\n"}],"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635132792,"creation_date":1544526731,"question_id":53722901,"body_markdown":"Is it possible to enable default validation of fields without specifying group?\r\nFor example, I have the bean:\r\n\r\n    class User {    \r\n      @NotEmpty\r\n      private String name;\r\n\r\n      @NotEmpty(groups = UserGroup.ShouldHaveSurName.class)\r\n      private String surname;\r\n    }\r\n\r\nI want the field &quot;name&quot; to be validated in any case - if the group not specified for @Validated annotation in the controller, or if &quot;ShouldHaveSurName&quot; group specified. I believe there was the configuration for this but can&#39;t find it.","title":"jsr-303 in spring validation validate without default group","body":"<p>Is it possible to enable default validation of fields without specifying group?\nFor example, I have the bean:</p>\n\n<pre><code>class User {    \n  @NotEmpty\n  private String name;\n\n  @NotEmpty(groups = UserGroup.ShouldHaveSurName.class)\n  private String surname;\n}\n</code></pre>\n\n<p>I want the field \"name\" to be validated in any case - if the group not specified for @Validated annotation in the controller, or if \"ShouldHaveSurName\" group specified. I believe there was the configuration for this but can't find it.</p>\n"},{"tags":["java","api","testing","consumer","pact"],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635130840,"creation_date":1635130840,"answer_id":69702428,"question_id":69673193,"body_markdown":"Pact doesn&#39;t intercept your requests, so this call doesn&#39;t actually talk to the Pact mock server, hence why it was not received - it&#39;s going to the real API:\r\n\r\n\r\n```java\r\n        HttpUriRequest request = new HttpGet(&quot;https://api.ipify.org&quot;);\r\n```\r\n\r\nYou don&#39;t test against real API in Pact in the consumer test, you mock out the provider and test using the Pact Mock. It will then generate a contract that the provider can then use to verify your expectations:\r\n\r\n\r\nIt should be:\r\n\r\n```java\r\n    @Test\r\n    @PactTestFor(pactMethod = &quot;apiIsReachablePact&quot;)\r\n    public void apiIsReachable(MockServer mockServer) throws IOException {\r\n\r\n        //Given\r\n        HttpUriRequest request = new HttpGet(mockServer.getUrl());\r\n\r\n        //When\r\n        HttpResponse httpResponse = HttpClientBuilder.create().build().execute(request);\r\n\r\n        //Then\r\n        assertEquals(httpResponse.getStatusLine().getStatusCode(), HttpStatus.SC_OK);\r\n    }\r\n```\r\n\r\nSee this [example](https://docs.pactflow.io/docs/examples/java/consumer/junit/readme) and this [workshop](https://github.com/pact-foundation/pact-workshop-jvm-spring) for more.","title":"Pact: Solving PactMismatchesException","body":"<p>Pact doesn't intercept your requests, so this call doesn't actually talk to the Pact mock server, hence why it was not received - it's going to the real API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        HttpUriRequest request = new HttpGet(&quot;https://api.ipify.org&quot;);\n</code></pre>\n<p>You don't test against real API in Pact in the consumer test, you mock out the provider and test using the Pact Mock. It will then generate a contract that the provider can then use to verify your expectations:</p>\n<p>It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @PactTestFor(pactMethod = &quot;apiIsReachablePact&quot;)\n    public void apiIsReachable(MockServer mockServer) throws IOException {\n\n        //Given\n        HttpUriRequest request = new HttpGet(mockServer.getUrl());\n\n        //When\n        HttpResponse httpResponse = HttpClientBuilder.create().build().execute(request);\n\n        //Then\n        assertEquals(httpResponse.getStatusLine().getStatusCode(), HttpStatus.SC_OK);\n    }\n</code></pre>\n<p>See this <a href=\"https://docs.pactflow.io/docs/examples/java/consumer/junit/readme\" rel=\"nofollow noreferrer\">example</a> and this <a href=\"https://github.com/pact-foundation/pact-workshop-jvm-spring\" rel=\"nofollow noreferrer\">workshop</a> for more.</p>\n"}],"owner":{"account_id":16873752,"reputation":68,"user_id":13331952,"display_name":"nomeal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69702428,"answer_count":1,"score":0,"last_activity_date":1635130840,"creation_date":1634889019,"question_id":69673193,"body_markdown":"I&#39;m trying to setup a contract test with Pact (so far only Consumer-side).\r\nThis is what my code looks like:\r\n\r\n        @Pact(consumer = &quot;Consumer&quot;)\r\n        RequestResponsePact apiIsReachablePact(PactDslWithProvider builder) {\r\n            return builder.given(&quot;api is reachable&quot;)\r\n                    .uponReceiving(&quot;load api&quot;)\r\n                    .method(&quot;GET&quot;)\r\n                    .path(&quot;/?format=json&quot;)\r\n                    .willRespondWith()\r\n                    .status(200)\r\n                    .headers(headers())\r\n                    .body(newJsonBody(object -&gt; {\r\n                        object.stringType(&quot;ip&quot;, &quot;XYZ&quot;);\r\n                    }).build())\r\n                    .toPact();\r\n        }\r\n    \r\n        @Test\r\n        @PactTestFor(pactMethod = &quot;apiIsReachablePact&quot;)\r\n        public void apiIsReachable() throws IOException {\r\n    \r\n            //Given\r\n            HttpUriRequest request = new HttpGet(&quot;https://api.ipify.org&quot;);\r\n    \r\n            //When\r\n            HttpResponse httpResponse = HttpClientBuilder.create().build().execute(request);\r\n    \r\n            //Then\r\n            assertEquals(httpResponse.getStatusLine().getStatusCode(), HttpStatus.SC_OK);\r\n        }\r\n\r\nI tried to make it as simple as possible, but I receive the following error:\r\n\r\n    au.com.dius.pact.consumer.PactMismatchesException: The following requests were not received:\r\n    \tmethod: GET\r\n    \tpath: /?format=json\r\n    \tquery: {}\r\n    \theaders: {}\r\n    \tmatchers: MatchingRules(rules={})\r\n    \tgenerators: Generators(categories={})\r\n    \tbody: MISSING\r\n        ...\r\n\r\nCould anyone please help me along here?","title":"Pact: Solving PactMismatchesException","body":"<p>I'm trying to setup a contract test with Pact (so far only Consumer-side).\nThis is what my code looks like:</p>\n<pre><code>    @Pact(consumer = &quot;Consumer&quot;)\n    RequestResponsePact apiIsReachablePact(PactDslWithProvider builder) {\n        return builder.given(&quot;api is reachable&quot;)\n                .uponReceiving(&quot;load api&quot;)\n                .method(&quot;GET&quot;)\n                .path(&quot;/?format=json&quot;)\n                .willRespondWith()\n                .status(200)\n                .headers(headers())\n                .body(newJsonBody(object -&gt; {\n                    object.stringType(&quot;ip&quot;, &quot;XYZ&quot;);\n                }).build())\n                .toPact();\n    }\n\n    @Test\n    @PactTestFor(pactMethod = &quot;apiIsReachablePact&quot;)\n    public void apiIsReachable() throws IOException {\n\n        //Given\n        HttpUriRequest request = new HttpGet(&quot;https://api.ipify.org&quot;);\n\n        //When\n        HttpResponse httpResponse = HttpClientBuilder.create().build().execute(request);\n\n        //Then\n        assertEquals(httpResponse.getStatusLine().getStatusCode(), HttpStatus.SC_OK);\n    }\n</code></pre>\n<p>I tried to make it as simple as possible, but I receive the following error:</p>\n<pre><code>au.com.dius.pact.consumer.PactMismatchesException: The following requests were not received:\n    method: GET\n    path: /?format=json\n    query: {}\n    headers: {}\n    matchers: MatchingRules(rules={})\n    generators: Generators(categories={})\n    body: MISSING\n    ...\n</code></pre>\n<p>Could anyone please help me along here?</p>\n"},{"tags":["java","security","uml","rbac"],"comments":[{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":0,"creation_date":1542572861,"post_id":53365020,"comment_id":93606759,"body_markdown":"There are sooo many ways you can model this. And you did not mention even one constraint. How should we know what rules access to the system?","body":"There are sooo many ways you can model this. And you did not mention even one constraint. How should we know what rules access to the system?"},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1633398247,"post_id":53365020,"comment_id":122743249,"body_markdown":"@qwerty_so I  hate to tell you this but RBAC standardized model. Meaning that without adding any extensions to set model there is really more or less only one way to represent it, in it&#39;s totality. A small variance may exist from where your framework session integrates with the RBAC model. I have seen several systems claim to be our back but none of them implemented it fully.","body":"@qwerty_so I  hate to tell you this but RBAC standardized model. Meaning that without adding any extensions to set model there is really more or less only one way to represent it, in it&#39;s totality. A small variance may exist from where your framework session integrates with the RBAC model. I have seen several systems claim to be our back but none of them implemented it fully."}],"answers":[{"tags":[],"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1542624719,"creation_date":1542624719,"answer_id":53373036,"question_id":53365020,"body_markdown":"Well, still there are many, many ways to model this. And basically it&#39;s not an UML but a design issue. Anyway, here&#39;s a possibility:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nA user has a single `Role` which is permanently assigned during a login. Of course a user with admin privilege could alter this role to something else. The `Role` holds a list of assigned `Applications` where the association class `RoleApplication` can hold attributes about what the role can do with the application.\r\n\r\nNow how you control that an admin can change rights and all these pretty things that come along with a security system are definitely too broad to go here.\r\n\r\n  [1]: https://i.stack.imgur.com/33gcO.png","title":"Role-based access control in UML","body":"<p>Well, still there are many, many ways to model this. And basically it's not an UML but a design issue. Anyway, here's a possibility:</p>\n\n<p><a href=\"https://i.stack.imgur.com/33gcO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/33gcO.png\" alt=\"enter image description here\"></a></p>\n\n<p>A user has a single <code>Role</code> which is permanently assigned during a login. Of course a user with admin privilege could alter this role to something else. The <code>Role</code> holds a list of assigned <code>Applications</code> where the association class <code>RoleApplication</code> can hold attributes about what the role can do with the application.</p>\n\n<p>Now how you control that an admin can change rights and all these pretty things that come along with a security system are definitely too broad to go here.</p>\n"},{"tags":[],"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635045198,"creation_date":1633397610,"answer_id":69443985,"question_id":53365020,"body_markdown":"I was looking for some diagram I found via google a long time ago, long before this question.\r\n\r\nRBAC is a standardized model, it doesn&#39;t really contain multiple representations. You can extend it with additional security models, and it&#39;s multilevel, so higher levels are optional.\r\n\r\nFlat RBAC, the first level, requires the following\r\n* users acquire permissions through roles\r\n* many to many user role assignment\r\n* many to many permission role assignment\r\n* user-role assignment review (user - role mapping can be changed, not hardcoded)\r\n* users can use permissions of multiple roles simultaneously\r\n\r\nI have never seen a full implementation of RBAC in the wild. In a previous job we ultimately had to add point 2 to the application to enable administrators to go into a &quot;support&quot; mode, to view an accounts profile as they would.\r\n\r\nThis diagram gives a largely complete level 4 representation.\r\n\r\n[![RBAC UML][1]][1]\r\n\r\n[Here is the source of this diagram](https://www.cs.colostate.edu/pubserv/pubs/Ray-iray-research-sacmat04.pdf), it has a lot more information than what I&#39;m saying.\r\n\r\nI think the biggest variance you&#39;ll have (besides naming) is what object has &quot;check access&quot; and the general naming of these objects and methods.\r\n\r\nFor further reading on the subject, I would suggest these\r\n\r\n* [Role-Based Access Control, Second Edition](https://smile.amazon.com/dp/B001H32NYU/ref=cm_sw_r_apan_glt_JRVN1G29P63APD99W9FK)\r\n* [ANSI blog](https://blog.ansi.org/2018/05/role-based-access-control-rbac-incits-359/)\r\n* [ANSI specification](https://webstore.ansi.org/Standards/INCITS/INCITS3592012R2017?source=blog)\r\n* [NIST 4 levels of RBAC implementation](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/2000/07/26/the-nist-model-for-role-based-access-control-towards-a-unified-/documents/sandhu-ferraiolo-kuhn-00.pdf)\r\n* [NIST adding attributes to role-based access control](https://csrc.nist.gov/CSRC/media/Publications/journal-article/2010/adding-attributes-to-role-based-access-control/documents/kuhn-coyne-weil-10.pdf)\r\n* [Wikipedia RBAC, also contains UML](https://en.wikipedia.org/wiki/Role-based_access_control)\r\n\r\nThere are other documents including some criticisms, I usually find that simply using RBAC is not sufficient, as there are often more complex requirements than just &quot;manager can do X&quot;, for example.\r\n\r\n[1]:https://i.stack.imgur.com/Bbv3w.png &quot;RBAC UML Diagram&quot;","title":"Role-based access control in UML","body":"<p>I was looking for some diagram I found via google a long time ago, long before this question.</p>\n<p>RBAC is a standardized model, it doesn't really contain multiple representations. You can extend it with additional security models, and it's multilevel, so higher levels are optional.</p>\n<p>Flat RBAC, the first level, requires the following</p>\n<ul>\n<li>users acquire permissions through roles</li>\n<li>many to many user role assignment</li>\n<li>many to many permission role assignment</li>\n<li>user-role assignment review (user - role mapping can be changed, not hardcoded)</li>\n<li>users can use permissions of multiple roles simultaneously</li>\n</ul>\n<p>I have never seen a full implementation of RBAC in the wild. In a previous job we ultimately had to add point 2 to the application to enable administrators to go into a &quot;support&quot; mode, to view an accounts profile as they would.</p>\n<p>This diagram gives a largely complete level 4 representation.</p>\n<p><a href=\"https://i.stack.imgur.com/Bbv3w.png\" rel=\"nofollow noreferrer\" title=\"RBAC UML Diagram\"><img src=\"https://i.stack.imgur.com/Bbv3w.png\" alt=\"RBAC UML\" title=\"RBAC UML Diagram\" /></a></p>\n<p><a href=\"https://www.cs.colostate.edu/pubserv/pubs/Ray-iray-research-sacmat04.pdf\" rel=\"nofollow noreferrer\">Here is the source of this diagram</a>, it has a lot more information than what I'm saying.</p>\n<p>I think the biggest variance you'll have (besides naming) is what object has &quot;check access&quot; and the general naming of these objects and methods.</p>\n<p>For further reading on the subject, I would suggest these</p>\n<ul>\n<li><a href=\"https://smile.amazon.com/dp/B001H32NYU/ref=cm_sw_r_apan_glt_JRVN1G29P63APD99W9FK\" rel=\"nofollow noreferrer\">Role-Based Access Control, Second Edition</a></li>\n<li><a href=\"https://blog.ansi.org/2018/05/role-based-access-control-rbac-incits-359/\" rel=\"nofollow noreferrer\">ANSI blog</a></li>\n<li><a href=\"https://webstore.ansi.org/Standards/INCITS/INCITS3592012R2017?source=blog\" rel=\"nofollow noreferrer\">ANSI specification</a></li>\n<li><a href=\"https://csrc.nist.gov/CSRC/media/Publications/conference-paper/2000/07/26/the-nist-model-for-role-based-access-control-towards-a-unified-/documents/sandhu-ferraiolo-kuhn-00.pdf\" rel=\"nofollow noreferrer\">NIST 4 levels of RBAC implementation</a></li>\n<li><a href=\"https://csrc.nist.gov/CSRC/media/Publications/journal-article/2010/adding-attributes-to-role-based-access-control/documents/kuhn-coyne-weil-10.pdf\" rel=\"nofollow noreferrer\">NIST adding attributes to role-based access control</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Role-based_access_control\" rel=\"nofollow noreferrer\">Wikipedia RBAC, also contains UML</a></li>\n</ul>\n<p>There are other documents including some criticisms, I usually find that simply using RBAC is not sufficient, as there are often more complex requirements than just &quot;manager can do X&quot;, for example.</p>\n"}],"owner":{"account_id":14777140,"reputation":31,"user_id":10671706,"display_name":"Yannick Ziener"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1834,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":2,"score":0,"last_activity_date":1635129530,"creation_date":1542572139,"question_id":53365020,"body_markdown":"I&#39;m trying to figure out what I need to specify in UML for a role-based access control system.\r\nBasically I have a Database and only specific people are supposed to access specific functions or informations from that database. My academic helper told me to use a role-based access control system and scribbled some stuff onto a paper.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn the left you can see the 3 roles, and connected to it the database, both in the model part of the Model-View-Control.\r\nMy question basically: Which functions/variables do I need in the class Role and the role classes so the access control system works and why?\r\nGenerally this is supposed to be written in Java.\r\n\r\n  [1]: https://i.stack.imgur.com/luP0t.png\r\n\r\nEDIT: Each Role has its own login credentials, so they will be identified upon login. With this login they are supposed to get one of those roles, but I dont know how to give them that role.","title":"Role-based access control in UML","body":"<p>I'm trying to figure out what I need to specify in UML for a role-based access control system.\nBasically I have a Database and only specific people are supposed to access specific functions or informations from that database. My academic helper told me to use a role-based access control system and scribbled some stuff onto a paper.</p>\n\n<p><a href=\"https://i.stack.imgur.com/luP0t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/luP0t.png\" alt=\"enter image description here\"></a></p>\n\n<p>On the left you can see the 3 roles, and connected to it the database, both in the model part of the Model-View-Control.\nMy question basically: Which functions/variables do I need in the class Role and the role classes so the access control system works and why?\nGenerally this is supposed to be written in Java.</p>\n\n<p>EDIT: Each Role has its own login credentials, so they will be identified upon login. With this login they are supposed to get one of those roles, but I dont know how to give them that role.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1635125857,"post_id":69702021,"comment_id":123204009,"body_markdown":"https://www.cuemath.com/geometry/distance-between-two-points/","body":"<a href=\"https://www.cuemath.com/geometry/distance-between-two-points/\" rel=\"nofollow noreferrer\">cuemath.com/geometry/distance-between-two-points</a>"}],"answers":[{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635128418,"creation_date":1635125911,"answer_id":69702041,"question_id":69702021,"body_markdown":"Your [formula](https://en.wikipedia.org/wiki/Euclidean_distance) is incorrect. It should be:\r\n\r\n    pointsDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\r\n\r\nThis is just an application of the Pythagorean theorem, and Java has a [`Math.hypot()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#hypot-double-double-) convenience method that also protects against arithmetic overflow/underflow:\r\n\r\n    pointsDistance = Math.hypot(x2-x1, y2-y1);\r\n\r\nThanks to [@LouisWasserman](https://stackoverflow.com/users/869736/louis-wasserman) for the helpful comment.","title":"Distance between coordinates in Java","body":"<p>Your <a href=\"https://en.wikipedia.org/wiki/Euclidean_distance\" rel=\"nofollow noreferrer\">formula</a> is incorrect. It should be:</p>\n<pre><code>pointsDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n</code></pre>\n<p>This is just an application of the Pythagorean theorem, and Java has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#hypot-double-double-\" rel=\"nofollow noreferrer\"><code>Math.hypot()</code></a> convenience method that also protects against arithmetic overflow/underflow:</p>\n<pre><code>pointsDistance = Math.hypot(x2-x1, y2-y1);\n</code></pre>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/869736/louis-wasserman\">@LouisWasserman</a> for the helpful comment.</p>\n"}],"owner":{"account_id":23132581,"reputation":37,"user_id":17237281,"display_name":"Elder Son"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1635128418,"creation_date":1635125436,"question_id":69702021,"body_markdown":"I&#39;m trying to solve this problem. \r\nDetermine the distance between point (x1, y1) and point (x2, y2), and assign the result to pointsDistance.\r\n\r\nI&#39;ll now present the original code along with my answer to the problem:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class CoordinateGeometry {\r\n    \r\n       public static void main(String[] args) {\r\n    \r\n          Scanner scnr = new Scanner(System.in);\r\n          double x1;\r\n          double y1;\r\n          double x2;\r\n          double y2;\r\n          double pointsDistance;\r\n          double xDist;\r\n          double yDist;\r\n          pointsDistance = 0.0;\r\n          xDist = 0.0;\r\n          yDist = 0.0;\r\n          x1 = scnr.nextDouble();\r\n          y1 = scnr.nextDouble();\r\n          x2 = scnr.nextDouble();\r\n          y2 = scnr.nextDouble();\r\n      \r\n          pointsDistance = Math.sqrt(x2 - Math.pow(x1, 2) + y2 - Math.pow(y1, 2)); //*Learning Square Rooots and powers*//\r\n    \r\n          System.out.println(pointsDistance);\r\n       }\r\n    }\r\n\r\nThe desired outcomes from the inputs are not printing. For an example:\r\n\r\nMy value: &lt;br/&gt;\r\n1 &lt;br/&gt;\r\nExpected value: &lt;br/&gt;\r\n3\r\n\r\nWhere have I gone wrong?","title":"Distance between coordinates in Java","body":"<p>I'm trying to solve this problem.\nDetermine the distance between point (x1, y1) and point (x2, y2), and assign the result to pointsDistance.</p>\n<p>I'll now present the original code along with my answer to the problem:</p>\n<pre><code>import java.util.Scanner;\n\npublic class CoordinateGeometry {\n\n   public static void main(String[] args) {\n\n      Scanner scnr = new Scanner(System.in);\n      double x1;\n      double y1;\n      double x2;\n      double y2;\n      double pointsDistance;\n      double xDist;\n      double yDist;\n      pointsDistance = 0.0;\n      xDist = 0.0;\n      yDist = 0.0;\n      x1 = scnr.nextDouble();\n      y1 = scnr.nextDouble();\n      x2 = scnr.nextDouble();\n      y2 = scnr.nextDouble();\n  \n      pointsDistance = Math.sqrt(x2 - Math.pow(x1, 2) + y2 - Math.pow(y1, 2)); //*Learning Square Rooots and powers*//\n\n      System.out.println(pointsDistance);\n   }\n}\n</code></pre>\n<p>The desired outcomes from the inputs are not printing. For an example:</p>\n<p>My value: <br/>\n1 <br/>\nExpected value: <br/>\n3</p>\n<p>Where have I gone wrong?</p>\n"},{"tags":["java","android","ussd"],"answers":[{"tags":[],"owner":{"account_id":1602534,"reputation":1260,"user_id":1483318,"accept_rate":75,"display_name":"mszmurlo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577553406,"creation_date":1577553406,"answer_id":59513145,"question_id":58312422,"body_markdown":"You can&#39;t. \r\n\r\nUSSD is not IP, web, or whatever technology around internet. USSD works on mobile networks and messages are transported on the signaling network. In other words, whenever you type `#xyz#` on your mobile phone, as a call or in an app you&#39;ve developped, the message is sent to your mobile telco operator on a USSD Gateway, a platform hosted by the telco. That gateway ***may*** use HTTP(S) to have the request processed and retrieve the menus to be sent back to the user, that HTTP server ***may*** be located on the internet, but this is absolutely not mandatory and most of the time it&#39;s not the case.\r\n\r\nIf you want to write a messaging app using USSD, you have to have an agreement with a mobile telco and your app as likely to only work on his network","title":"How to send a USSD message to a specific user without using any server?","body":"<p>You can't. </p>\n\n<p>USSD is not IP, web, or whatever technology around internet. USSD works on mobile networks and messages are transported on the signaling network. In other words, whenever you type <code>#xyz#</code> on your mobile phone, as a call or in an app you've developped, the message is sent to your mobile telco operator on a USSD Gateway, a platform hosted by the telco. That gateway <strong><em>may</em></strong> use HTTP(S) to have the request processed and retrieve the menus to be sent back to the user, that HTTP server <strong><em>may</em></strong> be located on the internet, but this is absolutely not mandatory and most of the time it's not the case.</p>\n\n<p>If you want to write a messaging app using USSD, you have to have an agreement with a mobile telco and your app as likely to only work on his network</p>\n"}],"owner":{"account_id":16190737,"reputation":1,"user_id":11689587,"display_name":"Logic Lover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635128386,"creation_date":1570655791,"question_id":58312422,"body_markdown":"I&#39;m trying to build an android app that would have the basic functionality of sending a short text Message via USSD to a specific mobile number.\r\nis that possible in any way without establishing a web server and only by creating a peer to peer session between two mobile devices?","title":"How to send a USSD message to a specific user without using any server?","body":"<p>I'm trying to build an android app that would have the basic functionality of sending a short text Message via USSD to a specific mobile number.\nis that possible in any way without establishing a web server and only by creating a peer to peer session between two mobile devices?</p>\n"},{"tags":["java","class","constructor","double","euclidean-distance"],"answers":[{"tags":[],"owner":{"account_id":20582528,"reputation":71,"user_id":15108250,"display_name":"Nemo9703"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635127263,"creation_date":1634854295,"answer_id":69669317,"question_id":69669144,"body_markdown":"A couple of things:\r\n\r\nFirst, you should only need one set of variables for your Point class. Just make one set and construct two point objects. \r\n\r\nIn the distanceTo() method, access the other point&#39;s coordinates by doing q.x1, q.y1, and so on. \r\n\r\nIn the main method, distance should be double that&#39;s pointOne&#39;s distance to pointTwo. \r\nHere&#39;s the code that worked for me\r\n\r\n    class Point {\r\n        double x1;\r\n        double y1;\r\n        double z1;\r\n        public Point(double x, double y, double z){\r\n        //each point object only needs one x, y and z\r\n            x1 = x;\r\n            y1 = y;\r\n            z1 = z;\r\n        }\r\n    \r\n        public double distanceTo(Point pointTwo){\r\n            return Math.sqrt(Math.pow(pointTwo.x1-x1, 2.0) + Math.pow(pointTwo.y1-y1, 2.0) + Math.pow(pointTwo.z1-z1, 2.0));\r\n            //formula is sqrt((p2.x-p1)^2 + (p2.y-p1.y)^2 + (p2.z - p1.z)^2\r\n        }\r\n    \r\n    \r\n        public String toString() {\r\n            return &quot;(&quot; + x1 + &quot;, &quot; + y1 + &quot;, &quot; + z1 + &quot;)&quot;;\r\n            //we don&#39;t need a diff set of variables here\r\n        }\r\n    \r\n        public static void main (String[]args){\r\n            //make two diff points with coords\r\n            Point pointOne = new Point(2.1, 3.0, 3.5);\r\n            Point pointTwo = new Point(4.0,5.2, 3.5);\r\n            double distance = pointOne.distanceTo(pointTwo);\r\n            //uses point two as the parameter (x2, y2, z2 in formula)\r\n            System.out.println(&quot;The first point is &quot; + &quot;(&quot; + pointOne + &quot;)&quot;);\r\n            System.out.println(&quot;The second point is &quot; + &quot;(&quot; + pointTwo + &quot;)&quot;);\r\n            System.out.println(&quot;Their Euclidean distance is &quot; + distance);\r\n        }\r\n    }","title":"Calculate Euclidean Distance Between Two Points Using Constructor","body":"<p>A couple of things:</p>\n<p>First, you should only need one set of variables for your Point class. Just make one set and construct two point objects.</p>\n<p>In the distanceTo() method, access the other point's coordinates by doing q.x1, q.y1, and so on.</p>\n<p>In the main method, distance should be double that's pointOne's distance to pointTwo.\nHere's the code that worked for me</p>\n<pre><code>class Point {\n    double x1;\n    double y1;\n    double z1;\n    public Point(double x, double y, double z){\n    //each point object only needs one x, y and z\n        x1 = x;\n        y1 = y;\n        z1 = z;\n    }\n\n    public double distanceTo(Point pointTwo){\n        return Math.sqrt(Math.pow(pointTwo.x1-x1, 2.0) + Math.pow(pointTwo.y1-y1, 2.0) + Math.pow(pointTwo.z1-z1, 2.0));\n        //formula is sqrt((p2.x-p1)^2 + (p2.y-p1.y)^2 + (p2.z - p1.z)^2\n    }\n\n\n    public String toString() {\n        return &quot;(&quot; + x1 + &quot;, &quot; + y1 + &quot;, &quot; + z1 + &quot;)&quot;;\n        //we don't need a diff set of variables here\n    }\n\n    public static void main (String[]args){\n        //make two diff points with coords\n        Point pointOne = new Point(2.1, 3.0, 3.5);\n        Point pointTwo = new Point(4.0,5.2, 3.5);\n        double distance = pointOne.distanceTo(pointTwo);\n        //uses point two as the parameter (x2, y2, z2 in formula)\n        System.out.println(&quot;The first point is &quot; + &quot;(&quot; + pointOne + &quot;)&quot;);\n        System.out.println(&quot;The second point is &quot; + &quot;(&quot; + pointTwo + &quot;)&quot;);\n        System.out.println(&quot;Their Euclidean distance is &quot; + distance);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22792415,"reputation":1,"user_id":16946537,"display_name":"gizmo.java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635127263,"creation_date":1634852945,"question_id":69669144,"body_markdown":"I&#39;m working on an assignment to write a java program which implements a Point data type with the following constructor:\r\n\r\nPoint(double x, double y, double z)\r\n\r\nand, the following API:\r\n\r\n* double distanceto(Point q)\r\nit returns the Euclidean distance between this and q.\r\nThe Euclidean distance between (x1, y1, z1) and (x2, y2, z2) is defined as sqrt( (x1-x2)^2 + (y1-y2)^2) + (z1-z2)^2).\r\n* String toString()  it returns the string representation of the point. An example would be (2.3,4.5,3.0).\r\n\r\n* Write a main method in the class that is used to test it.\r\nIt should create two Point objects using input provided by the user on the command-line.\r\nThen it should print out the two points followed by their Euclidean distance\r\nA sample run would be as follows.\r\n\r\njava Point 2.1 3.0 3.5 4 5.2 3.5\r\n\r\nThe first point is (2.1,3.0,3.5)\r\n\r\nThe second point is (4.0,5.2,3.5)\r\n\r\nTheir Euclidean distance is 2.90\r\n\r\nThe program won&#39;t compile, but I&#39;m not sure why. I&#39;m new to programming, so I followed some steps from online and Codecademy to try and access objects in the constructor, but I think I&#39;m doing it wrong. Any suggestions would be greatly appreciated.\r\n\r\n```\r\npublic class Point {\r\n\tdouble x1;\r\n\tdouble y1;\r\n\tdouble z1;\r\n\tdouble x2;\r\n\tdouble y2;\r\n\tdouble z2;\r\n\t\r\n\tpublic Point(double x, double y, double z){\r\n\r\n\t\tx1 = x;\r\n\t\ty1 = y;\r\n\t\tz1 = z;\r\n\t\tx2 = x;\r\n\t\ty2 = y;\r\n\t\tz2 = z;\r\n\t}\r\n\t\r\n\tpublic double distanceTo(Point q){\r\n\treturn Math.sqrt(Math.pow((x1-x2), 2.0) + Math.pow((y1-y2), 2.0) + Math.pow((z1-z2), 2.0));\r\n\t\r\n\t}\r\n\tdouble x3 = x1-x2;\r\n\tdouble y3 = y1-y2;\r\n\tdouble z3 = z1-z2;\r\n\r\n    public String toString() {\r\n\t\treturn &quot;(&quot; + x3 + &quot;, &quot; + y3 + &quot;, &quot; + z3 + &quot;)&quot;;\r\n\t}\r\n\t\r\n\tpublic static void main (String[]args){\r\n\t\t\r\n\t\tPoint pointOne = new Point(args[0]);\r\n\t\tPoint pointTwo = new Point(args[1]);\r\n\t\tPoint distance = new distanceTo();\r\n\t\t\r\n\t\tSystem.out.println(&quot;The first point is &quot; + &quot;(&quot; + pointOne + &quot;)&quot;);\r\n\t\tSystem.out.println(&quot;The second point is &quot; + &quot;(&quot; + pointTwo + &quot;)&quot;);\r\n\t\tSystem.out.println(&quot;Their Euclidean distance is &quot; + distance);\r\n\t}\r\n}\r\n```","title":"Calculate Euclidean Distance Between Two Points Using Constructor","body":"<p>I'm working on an assignment to write a java program which implements a Point data type with the following constructor:</p>\n<p>Point(double x, double y, double z)</p>\n<p>and, the following API:</p>\n<ul>\n<li><p>double distanceto(Point q)\nit returns the Euclidean distance between this and q.\nThe Euclidean distance between (x1, y1, z1) and (x2, y2, z2) is defined as sqrt( (x1-x2)^2 + (y1-y2)^2) + (z1-z2)^2).</p>\n</li>\n<li><p>String toString()  it returns the string representation of the point. An example would be (2.3,4.5,3.0).</p>\n</li>\n<li><p>Write a main method in the class that is used to test it.\nIt should create two Point objects using input provided by the user on the command-line.\nThen it should print out the two points followed by their Euclidean distance\nA sample run would be as follows.</p>\n</li>\n</ul>\n<p>java Point 2.1 3.0 3.5 4 5.2 3.5</p>\n<p>The first point is (2.1,3.0,3.5)</p>\n<p>The second point is (4.0,5.2,3.5)</p>\n<p>Their Euclidean distance is 2.90</p>\n<p>The program won't compile, but I'm not sure why. I'm new to programming, so I followed some steps from online and Codecademy to try and access objects in the constructor, but I think I'm doing it wrong. Any suggestions would be greatly appreciated.</p>\n<pre><code>public class Point {\n    double x1;\n    double y1;\n    double z1;\n    double x2;\n    double y2;\n    double z2;\n    \n    public Point(double x, double y, double z){\n\n        x1 = x;\n        y1 = y;\n        z1 = z;\n        x2 = x;\n        y2 = y;\n        z2 = z;\n    }\n    \n    public double distanceTo(Point q){\n    return Math.sqrt(Math.pow((x1-x2), 2.0) + Math.pow((y1-y2), 2.0) + Math.pow((z1-z2), 2.0));\n    \n    }\n    double x3 = x1-x2;\n    double y3 = y1-y2;\n    double z3 = z1-z2;\n\n    public String toString() {\n        return &quot;(&quot; + x3 + &quot;, &quot; + y3 + &quot;, &quot; + z3 + &quot;)&quot;;\n    }\n    \n    public static void main (String[]args){\n        \n        Point pointOne = new Point(args[0]);\n        Point pointTwo = new Point(args[1]);\n        Point distance = new distanceTo();\n        \n        System.out.println(&quot;The first point is &quot; + &quot;(&quot; + pointOne + &quot;)&quot;);\n        System.out.println(&quot;The second point is &quot; + &quot;(&quot; + pointTwo + &quot;)&quot;);\n        System.out.println(&quot;Their Euclidean distance is &quot; + distance);\n    }\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1634867372,"post_id":69670471,"comment_id":123148037,"body_markdown":"Your code crashes because missing `()` in `name.length &gt;= 20`,  should be `name.length() &gt;= 20`","body":"Your code crashes because missing <code>()</code> in <code>name.length &gt;= 20</code>,  should be <code>name.length() &gt;= 20</code>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634867962,"post_id":69670471,"comment_id":123148096,"body_markdown":"This code (correct for `()`) works fine for me.  With what input does it not work?","body":"This code (correct for <code>()</code>) works fine for me.  With what input does it not work?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1634868707,"post_id":69670471,"comment_id":123148169,"body_markdown":"FYI: You can replace `name.equals(&quot;&quot;)` with a call to `String#isEmpty`.","body":"FYI: You can replace <code>name.equals(&quot;&quot;)</code> with a call to <code>String#isEmpty</code>."}],"answers":[{"tags":[],"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634875051,"creation_date":1634868310,"answer_id":69670636,"question_id":69670471,"body_markdown":"I would say your logic is flawed. Instead of looping through like this, consider to break down your method into multiple function.\r\n\r\nLet me write an algorithm\r\n\r\n    static boolean isValidName(String input) {\r\n        /*\r\n         * enter code here\r\n        */\r\n        return true for valid\r\n    }\r\n        public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        String name = &quot;&quot;;\r\n        do {\r\n            System.out.print(&quot;Name: &quot;);\r\n            name = scanner.nextLine();\r\n            if (isValidName(name)) {\r\n                break;\r\n            }\r\n        } while (true);\r\n        System.out.println(name);\r\n    }\r\n\r\nhasNextInt is not the best way to check if user has inputted number or not. You have to consider validation more thoroughly.","title":"How to check for empty inputs in java scanner","body":"<p>I would say your logic is flawed. Instead of looping through like this, consider to break down your method into multiple function.</p>\n<p>Let me write an algorithm</p>\n<pre><code>static boolean isValidName(String input) {\n    /*\n     * enter code here\n    */\n    return true for valid\n}\n    public static void main(String[] args) {\n\n    Scanner scanner = new Scanner(System.in);\n    String name = &quot;&quot;;\n    do {\n        System.out.print(&quot;Name: &quot;);\n        name = scanner.nextLine();\n        if (isValidName(name)) {\n            break;\n        }\n    } while (true);\n    System.out.println(name);\n}\n</code></pre>\n<p>hasNextInt is not the best way to check if user has inputted number or not. You have to consider validation more thoroughly.</p>\n"},{"tags":[],"owner":{"account_id":10921724,"reputation":159,"user_id":8227653,"display_name":"Alejandro Martinez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1635125385,"creation_date":1634995407,"answer_id":69688567,"question_id":69670471,"body_markdown":"Finally came up with the following solution:\r\n\r\n```java\r\n// Regex validation of number\r\npublic static boolean isNumeric(String str){\r\n    return str.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n}\r\n\r\n// Validation of the string input with custom error messages.\r\npublic static boolean isValidName(String name){\r\n    if(Utils.isNumeric(name)){\r\n        System.out.printf(&quot;\\&quot;%s\\&quot; Is not a valid name.\\n\\n&quot;, name);\r\n    }else{\r\n        if(name.length() &lt; 3){\r\n            System.out.printf(&quot;\\&quot;%s\\&quot; Too short... (min 3)\\n\\n&quot;, name);\r\n        }else if(name.length() &gt; 20){\r\n            System.out.printf(&quot;\\&quot;%s\\&quot; Too long... (max 20)\\n\\n&quot;, name);\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n// Ask for input code block\r\nString name;\r\ndo{\r\n    System.out.print(&quot;Name: &quot;);\r\n    name = scanner.nextLine();\r\n    if(!name.isEmpty()){\r\n        if(Utils.isValidName(name)){\r\n            break;\r\n        }\r\n    }\r\n}while(true);\r\n```\r\n0. Saved my input in a variable and validate from there.\r\n1. Implemented a regex mehod for checking not only integers but any kind of number.\r\n2. Separated the validation of the actual input with custom error messages on another method.\r\n3. .isEmpty() method for discarding empty inputs (original question).","title":"How to check for empty inputs in java scanner","body":"<p>Finally came up with the following solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Regex validation of number\npublic static boolean isNumeric(String str){\n    return str.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n}\n\n// Validation of the string input with custom error messages.\npublic static boolean isValidName(String name){\n    if(Utils.isNumeric(name)){\n        System.out.printf(&quot;\\&quot;%s\\&quot; Is not a valid name.\\n\\n&quot;, name);\n    }else{\n        if(name.length() &lt; 3){\n            System.out.printf(&quot;\\&quot;%s\\&quot; Too short... (min 3)\\n\\n&quot;, name);\n        }else if(name.length() &gt; 20){\n            System.out.printf(&quot;\\&quot;%s\\&quot; Too long... (max 20)\\n\\n&quot;, name);\n        }else{\n            return true;\n        }\n    }\n    return false;\n}\n\n// Ask for input code block\nString name;\ndo{\n    System.out.print(&quot;Name: &quot;);\n    name = scanner.nextLine();\n    if(!name.isEmpty()){\n        if(Utils.isValidName(name)){\n            break;\n        }\n    }\n}while(true);\n</code></pre>\n<ol start=\"0\">\n<li>Saved my input in a variable and validate from there.</li>\n<li>Implemented a regex mehod for checking not only integers but any kind of number.</li>\n<li>Separated the validation of the actual input with custom error messages on another method.</li>\n<li>.isEmpty() method for discarding empty inputs (original question).</li>\n</ol>\n"}],"owner":{"account_id":10921724,"reputation":159,"user_id":8227653,"display_name":"Alejandro Martinez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":925,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69688567,"answer_count":2,"score":-1,"last_activity_date":1635125385,"creation_date":1634866402,"question_id":69670471,"body_markdown":"After some digging, I have not been able to find a satisfactory way to achieve a condition in a do-while loop, so that the scanner will ignore empty inputs.\r\n\r\nAttempted code:\r\n\r\n```java\r\nString name = &quot;&quot;;\r\nboolean flag_name= false;\r\ndo{\r\n    System.out.print(&quot;Name: &quot;);\r\n    if(scanner.hasNextInt()){\r\n        int number = scanner.nextInt();\r\n        scanner.nextLine();\r\n        System.out.printf(&quot;\\&quot;%s\\&quot; is not a valid name...\\n&quot;, number);\r\n    }else{\r\n        name = scanner.nextLine();\r\n        if(!name.equals(&quot;&quot;)){\r\n            if(name.length() &lt;= 2){\r\n                System.out.println(&quot;The name is too short (min: 3)...&quot;);\r\n            }else if(name.length &gt;= 20){\r\n                System.out.println(&quot;The name is too long (max: 20)...&quot;);\r\n            }else{\r\n                flag_name = true;\r\n            }\r\n        }\r\n    }\r\n}while(!flag_name);\r\n````\r\n\r\nexpected output:\r\n```bash\r\nName: \r\nName:\r\nName:\r\nName:\r\nName:\r\nName: willy\r\nAge: \r\n```\r\n\r\nactual output:\r\n```bash\r\nName: \r\n\r\n\r\n\r\n\r\nwilly\r\nName: Name: Name: Name: Name: Age: \r\n```","title":"How to check for empty inputs in java scanner","body":"<p>After some digging, I have not been able to find a satisfactory way to achieve a condition in a do-while loop, so that the scanner will ignore empty inputs.</p>\n<p>Attempted code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;&quot;;\nboolean flag_name= false;\ndo{\n    System.out.print(&quot;Name: &quot;);\n    if(scanner.hasNextInt()){\n        int number = scanner.nextInt();\n        scanner.nextLine();\n        System.out.printf(&quot;\\&quot;%s\\&quot; is not a valid name...\\n&quot;, number);\n    }else{\n        name = scanner.nextLine();\n        if(!name.equals(&quot;&quot;)){\n            if(name.length() &lt;= 2){\n                System.out.println(&quot;The name is too short (min: 3)...&quot;);\n            }else if(name.length &gt;= 20){\n                System.out.println(&quot;The name is too long (max: 20)...&quot;);\n            }else{\n                flag_name = true;\n            }\n        }\n    }\n}while(!flag_name);\n</code></pre>\n<p>expected output:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>Name: \nName:\nName:\nName:\nName:\nName: willy\nAge: \n</code></pre>\n<p>actual output:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>Name: \n\n\n\n\nwilly\nName: Name: Name: Name: Name: Age: \n</code></pre>\n"},{"tags":["java","algorithm","time-complexity","complexity-theory"],"answers":[{"tags":[],"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635065146,"creation_date":1635019382,"answer_id":69691632,"question_id":69691197,"body_markdown":"What&#39;s the area of this shape?\r\n\r\n```lang-none\r\n         n*n  \r\n  1\r\n   \r\n  \r\n  \r\nn \r\n  \r\n  \r\n  \r\n \r\n  1\r\n```\r\n\r\nThe area is clearly (n&lt;sup&gt;2&lt;/sup&gt;), not (n&lt;sup&gt;3&lt;/sup&gt;). Alternatively, what&#39;s the exact output of `foo`?\r\n\r\n```\r\nint foo(int n) {\r\n  int ans = 0;\r\n  for (int i = 0; i &lt; 2 * n; i++) {\r\n    if (i == n) {\r\n      for (int j = 0; j &lt; i; j++) {\r\n        for (int k = 0; k &lt; i; k++) {\r\n          ans += 1;\r\n        }\r\n      }\r\n    } else {\r\n      for (int j = 0; j &lt; i; j++) {\r\n        ans += 1;\r\n      }\r\n    }\r\n  }\r\n  return ans;\r\n}\r\n```\r\n\r\nIt&#39;s 3n&lt;sup&gt;2&lt;/sup&gt;-2n. To put it another way,\r\n\r\n&gt; for (...) --&gt; if (...) --&gt; for (...) --&gt; for (...) --&gt; O(1). Thus n(1 + n ( n ( 1 ) ) )\r\n\r\nisn&#39;t tight.\r\n","title":"There is only one case in this algorithm, yet I found a best and worst case. Can someone explain what I did wrong?","body":"<p>What's the area of this shape?</p>\n<pre class=\"lang-none prettyprint-override\"><code>         n*n  \n  1\n   \n  \n  \nn \n  \n  \n  \n \n  1\n</code></pre>\n<p>The area is clearly (n<sup>2</sup>), not (n<sup>3</sup>). Alternatively, what's the exact output of <code>foo</code>?</p>\n<pre><code>int foo(int n) {\n  int ans = 0;\n  for (int i = 0; i &lt; 2 * n; i++) {\n    if (i == n) {\n      for (int j = 0; j &lt; i; j++) {\n        for (int k = 0; k &lt; i; k++) {\n          ans += 1;\n        }\n      }\n    } else {\n      for (int j = 0; j &lt; i; j++) {\n        ans += 1;\n      }\n    }\n  }\n  return ans;\n}\n</code></pre>\n<p>It's 3n<sup>2</sup>-2n. To put it another way,</p>\n<blockquote>\n<p>for (...) --&gt; if (...) --&gt; for (...) --&gt; for (...) --&gt; O(1). Thus n(1 + n ( n ( 1 ) ) )</p>\n</blockquote>\n<p>isn't tight.</p>\n"},{"tags":[],"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635066269,"creation_date":1635066269,"answer_id":69695284,"question_id":69691197,"body_markdown":"The statement `if (i == n)` will make the following code execute twice. The code below the if statement is On^2. 2 x On^2 is On^2","title":"There is only one case in this algorithm, yet I found a best and worst case. Can someone explain what I did wrong?","body":"<p>The statement <code>if (i == n)</code> will make the following code execute twice. The code below the if statement is On^2. 2 x On^2 is On^2</p>\n"},{"tags":[],"owner":{"account_id":1609379,"reputation":8624,"user_id":1488799,"display_name":"Gassa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635068046,"creation_date":1635067717,"answer_id":69695448,"question_id":69691197,"body_markdown":"Let us put the algorithm into some practically worded example.\r\nFor example, imagine we process haystacks, and search for needles in them.\r\n\r\n1. `for (int i = 0; i &lt; 2*n; i++) {` &lt;br/&gt;\r\nProcess `2*n` haystacks, numbered `0`, `1`, ..., `2n-1`.\r\n\r\n2. `if (i == n) {` &lt;br/&gt;\r\nWhen you process the haystack number `n`,..\r\n\r\n3. _(the O(i&lt;sup&gt;2&lt;/sup&gt;) case)_ &lt;br/&gt;\r\n...be very thorough in your search.\r\n\r\n4. `} else {` &lt;br/&gt;\r\nFor all other haystacks,..\r\n\r\n5. _(the O(i) case)_ &lt;br/&gt;\r\n...proceed normally.\r\n\r\nIn the above process, there are indeed two cases: a thorough search of haystack number `n`, and cursory search of every other haystack.\r\n\r\nWhat is missing from your analysis that **the algorithm has to do both**: the one thorough case and all the cursory cases. Thus, for the person performing the algorithm, there is no choice whether to do one thorough search or many cursory searches. They have to do `n` cursory searches, then one thorough search, then `n-1` more cursory searches, in that order.\r\n\r\nWhen we talk about different cases in algorithm complexity, they are cases that depend on the input.\r\n\r\nImagine `i` was an input to our algorithm instead of a loop variable, and there was no outer `for` loop: as if we were told to search only one haystack, not all of them.\r\nThen your analysis would be close to the point, though no multiplying by `2n` would be necessary.\r\n\r\nBut in this code, `n` is the only input, and `i` is an internal variable.\r\nSo there can be no cases depending on `i` in the final analysis.","title":"There is only one case in this algorithm, yet I found a best and worst case. Can someone explain what I did wrong?","body":"<p>Let us put the algorithm into some practically worded example.\nFor example, imagine we process haystacks, and search for needles in them.</p>\n<ol>\n<li><p><code>for (int i = 0; i &lt; 2*n; i++) {</code> <br/>\nProcess <code>2*n</code> haystacks, numbered <code>0</code>, <code>1</code>, ..., <code>2n-1</code>.</p>\n</li>\n<li><p><code>if (i == n) {</code> <br/>\nWhen you process the haystack number <code>n</code>,..</p>\n</li>\n<li><p><em>(the O(i<sup>2</sup>) case)</em> <br/>\n...be very thorough in your search.</p>\n</li>\n<li><p><code>} else {</code> <br/>\nFor all other haystacks,..</p>\n</li>\n<li><p><em>(the O(i) case)</em> <br/>\n...proceed normally.</p>\n</li>\n</ol>\n<p>In the above process, there are indeed two cases: a thorough search of haystack number <code>n</code>, and cursory search of every other haystack.</p>\n<p>What is missing from your analysis that <strong>the algorithm has to do both</strong>: the one thorough case and all the cursory cases. Thus, for the person performing the algorithm, there is no choice whether to do one thorough search or many cursory searches. They have to do <code>n</code> cursory searches, then one thorough search, then <code>n-1</code> more cursory searches, in that order.</p>\n<p>When we talk about different cases in algorithm complexity, they are cases that depend on the input.</p>\n<p>Imagine <code>i</code> was an input to our algorithm instead of a loop variable, and there was no outer <code>for</code> loop: as if we were told to search only one haystack, not all of them.\nThen your analysis would be close to the point, though no multiplying by <code>2n</code> would be necessary.</p>\n<p>But in this code, <code>n</code> is the only input, and <code>i</code> is an internal variable.\nSo there can be no cases depending on <code>i</code> in the final analysis.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635122290,"creation_date":1635069296,"answer_id":69695604,"question_id":69691197,"body_markdown":"Your analysis is incorrect for the following reason.\r\n\r\nWhile you have correctly identified two branches with different complexity, they actually both occur ... for all values of `N` greater than one.\r\n\r\n  - The first branch occurs once.\r\n  - The second branch occurs `2N - 1` times.\r\n\r\nSo since these are not different cases, there is no &quot;best case&quot; or &quot;worst case&quot;. \r\n\r\nIn fact:\r\n\r\n  - The contribution to complexity of the first branch across the entire computation is `1 x O(N^2)`.\r\n\r\n  - The contribution second branch is `(2N - 1) x O(N)`.  \r\n\r\nIn other words, both branches are contributing `O(N^2)` and the overall complexity is the sum of the two contributions; i.e. `O(N^2)`.\r\n\r\n(Please note that my analysis is rather rough and ready ... but if someone did a rigorous analysis, I *think* they would get the same result.)\r\n\r\n------------------\r\n\r\nAnother quick and dirty approach is to replace `O(1)` with something that just increments a counter; see the modified code in \r\n@johnchen902&#39;s [answer](https://stackoverflow.com/a/69691632/139985).  Run the program and for different `N` and graph `N` against the computed counts.  \r\n\r\nOr for a completely rigorous answer, do some algebra and work out the formula for the count as a function of `N`.","title":"There is only one case in this algorithm, yet I found a best and worst case. Can someone explain what I did wrong?","body":"<p>Your analysis is incorrect for the following reason.</p>\n<p>While you have correctly identified two branches with different complexity, they actually both occur ... for all values of <code>N</code> greater than one.</p>\n<ul>\n<li>The first branch occurs once.</li>\n<li>The second branch occurs <code>2N - 1</code> times.</li>\n</ul>\n<p>So since these are not different cases, there is no &quot;best case&quot; or &quot;worst case&quot;.</p>\n<p>In fact:</p>\n<ul>\n<li><p>The contribution to complexity of the first branch across the entire computation is <code>1 x O(N^2)</code>.</p>\n</li>\n<li><p>The contribution second branch is <code>(2N - 1) x O(N)</code>.</p>\n</li>\n</ul>\n<p>In other words, both branches are contributing <code>O(N^2)</code> and the overall complexity is the sum of the two contributions; i.e. <code>O(N^2)</code>.</p>\n<p>(Please note that my analysis is rather rough and ready ... but if someone did a rigorous analysis, I <em>think</em> they would get the same result.)</p>\n<hr />\n<p>Another quick and dirty approach is to replace <code>O(1)</code> with something that just increments a counter; see the modified code in\n@johnchen902's <a href=\"https://stackoverflow.com/a/69691632/139985\">answer</a>.  Run the program and for different <code>N</code> and graph <code>N</code> against the computed counts.</p>\n<p>Or for a completely rigorous answer, do some algebra and work out the formula for the count as a function of <code>N</code>.</p>\n"}],"owner":{"account_id":23112006,"reputation":11,"user_id":17219844,"display_name":"question_haver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1635122290,"creation_date":1635015856,"question_id":69691197,"body_markdown":"    for (int i = 0; i &lt; 2*n; i++) {\r\n       if (i == n){\r\n         for (int j = 0; j &lt; i; j++) {\r\n           for (int k = 0; k &lt; i; k++) {\r\n              O(1);\r\n           }\r\n         }\r\n       }\r\n       else {\r\n         for (int j = 0; j &lt; i; j++) {\r\n           O(1);\r\n         }\r\n       }\r\n\r\nThe question just asks what the time complexity of the above code is. According the solutions, there is only one case and the time complexity is *O(n^2)*. \r\n\r\nThis is how I went about solving it:\r\n\r\nThere is a for loop which nests all the other code. Within the contents of the for loop is an if statement. The if statement branches the code out into two directions. If (i==n), then it branches out into branch #1 and if (i!=n) then it branches out into branch #2.\r\n\r\nBranch #1: for (...) --&gt; if (...) --&gt; for (...) --&gt; for (...) --&gt; O(1). Thus n(1 + n ( n ( 1 ) ) ) = n+ n^2( n (1) ) = n + n^3(1) = n + n^3. This is simplified to n^3. Thus the time complexity for Branch #1 is *O(n^3)*.\r\n\r\nBranch #2: for (...) --&gt; if (... ) else --&gt; for(...) --&gt; O(1). Thus n( 1 + n(1)) = n + n^2(1) = n + n^2. This is simplified to n^2. Thus the time complexity for Branch #2 is *O(n^2)*.\r\n\r\nTherefore the worst case is branch #1, which has a time complexity of *O(n^3)*. The best case is branch #2, which has a time complexity of *O(n^2)*. According to the question, there is only one case and the time complexity is *O(n^2)*. I need help knowing what I did wrong in my analysis.  ","title":"There is only one case in this algorithm, yet I found a best and worst case. Can someone explain what I did wrong?","body":"<pre><code>for (int i = 0; i &lt; 2*n; i++) {\n   if (i == n){\n     for (int j = 0; j &lt; i; j++) {\n       for (int k = 0; k &lt; i; k++) {\n          O(1);\n       }\n     }\n   }\n   else {\n     for (int j = 0; j &lt; i; j++) {\n       O(1);\n     }\n   }\n</code></pre>\n<p>The question just asks what the time complexity of the above code is. According the solutions, there is only one case and the time complexity is <em>O(n^2)</em>.</p>\n<p>This is how I went about solving it:</p>\n<p>There is a for loop which nests all the other code. Within the contents of the for loop is an if statement. The if statement branches the code out into two directions. If (i==n), then it branches out into branch #1 and if (i!=n) then it branches out into branch #2.</p>\n<p>Branch #1: for (...) --&gt; if (...) --&gt; for (...) --&gt; for (...) --&gt; O(1). Thus n(1 + n ( n ( 1 ) ) ) = n+ n^2( n (1) ) = n + n^3(1) = n + n^3. This is simplified to n^3. Thus the time complexity for Branch #1 is <em>O(n^3)</em>.</p>\n<p>Branch #2: for (...) --&gt; if (... ) else --&gt; for(...) --&gt; O(1). Thus n( 1 + n(1)) = n + n^2(1) = n + n^2. This is simplified to n^2. Thus the time complexity for Branch #2 is <em>O(n^2)</em>.</p>\n<p>Therefore the worst case is branch #1, which has a time complexity of <em>O(n^3)</em>. The best case is branch #2, which has a time complexity of <em>O(n^2)</em>. According to the question, there is only one case and the time complexity is <em>O(n^2)</em>. I need help knowing what I did wrong in my analysis.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1635048474,"post_id":69693809,"comment_id":123188965,"body_markdown":"You need to read up on the scope of local variables.","body":"You need to read up on the scope of local variables."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1635048476,"post_id":69693809,"comment_id":123188966,"body_markdown":"It&#39;s not declared in the scope you want to use it in.","body":"It&#39;s not declared in the scope you want to use it in."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1635048478,"post_id":69693809,"comment_id":123188967,"body_markdown":"This line seems wrong: ` else;`","body":"This line seems wrong: ` else;`"}],"answers":[{"tags":[],"owner":{"account_id":10840066,"reputation":483,"user_id":7971629,"display_name":"csoler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635121916,"creation_date":1635048943,"answer_id":69693839,"question_id":69693809,"body_markdown":"You are outside of the scope. If you wan&#39;t to access ign outside of the loop, you need to declare it outside of the loop.\r\n\r\n[Java Scope][1]\r\n\r\n    public static void main (String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            String ign;\r\n    \r\n            System.out.println(&quot;Welcome to CalcuLegends!&quot;);\r\n            \r\n            while (true){\r\n                ...\r\n    \r\n                ign = (&quot; &quot; + color + &quot;_&quot;  + word + &quot;_&quot; + animal);\r\n            }\r\n            \r\n            System.out.println(&quot;hi &quot;+ ign + &quot;!&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_scope.asp","title":"Can&#39;t get a string that is already declared","body":"<p>You are outside of the scope. If you wan't to access ign outside of the loop, you need to declare it outside of the loop.</p>\n<p><a href=\"https://www.w3schools.com/java/java_scope.asp\" rel=\"nofollow noreferrer\">Java Scope</a></p>\n<pre><code>public static void main (String[] args) {\n        Scanner input = new Scanner(System.in);\n        String ign;\n\n        System.out.println(&quot;Welcome to CalcuLegends!&quot;);\n        \n        while (true){\n            ...\n\n            ign = (&quot; &quot; + color + &quot;_&quot;  + word + &quot;_&quot; + animal);\n        }\n        \n        System.out.println(&quot;hi &quot;+ ign + &quot;!&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":23100776,"reputation":1,"user_id":17210209,"display_name":"Sean Emmanuel Tolentino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635049109,"answer_count":1,"score":-2,"last_activity_date":1635121916,"creation_date":1635048333,"question_id":69693809,"body_markdown":"I can&#39;t print a string that is already declared. Here&#39;s the code:\r\n\r\n    public class ignCalcu {\r\n\r\n        public static void main (String[] args){\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            System.out.println(&quot;Welcome to CalcuLegends!&quot;);\r\n            while (true) {\r\n                System.out.println(&quot;Before you use the Calcore, would you like to set an IGN first?&quot;);\r\n                System.out.println(&quot;Yes or No?&quot;);\r\n                String start = input.nextLine();\r\n                if (start.equals(&quot;Yes&quot;) || start.equals(&quot;yes&quot;)){\r\n                    System.out.println(&quot;What is your favorite color?&quot;);\r\n                    String color = input.nextLine();\r\n                    System.out.println(&quot;What word describes you the best?&quot;);\r\n                    String word = input.nextLine();\r\n                    System.out.println(&quot;Think of an animal other than dog or cat.&quot;);\r\n                    String animal = input.nextLine();\r\n                    input.close();\r\n             \r\n                    String ign = (&quot; &quot;+color+&quot;_&quot;+word+&quot;_&quot;+animal);\r\n                    System.out.println(&quot;Your IGN is&quot; + ign );\r\n                    break;\r\n                }\r\n                else if (start.equals(&quot;No&quot;) || start.equals(&quot;no&quot;)){\r\n                    break;\r\n                }\r\n                else;\r\n                System.out.println(&quot;Invalid response. Please try again.&quot;);\r\n            }\r\n            System.out.println(&quot;hi &quot;+ ign + &quot;!&quot;);\r\n        }\r\n    }\r\n\r\nAnd here is the error:\r\n\r\n```none\r\nsource_file.java:33: error: cannot find symbol\r\n         System.out.println(&quot;hi &quot;+ ign + &quot;!&quot;);\r\n                                   ^\r\n  symbol:   variable ign\r\n  location: class ignCalcu\r\n1 error\r\n```","title":"Can&#39;t get a string that is already declared","body":"<p>I can't print a string that is already declared. Here's the code:</p>\n<pre><code>public class ignCalcu {\n\n    public static void main (String[] args){\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(&quot;Welcome to CalcuLegends!&quot;);\n        while (true) {\n            System.out.println(&quot;Before you use the Calcore, would you like to set an IGN first?&quot;);\n            System.out.println(&quot;Yes or No?&quot;);\n            String start = input.nextLine();\n            if (start.equals(&quot;Yes&quot;) || start.equals(&quot;yes&quot;)){\n                System.out.println(&quot;What is your favorite color?&quot;);\n                String color = input.nextLine();\n                System.out.println(&quot;What word describes you the best?&quot;);\n                String word = input.nextLine();\n                System.out.println(&quot;Think of an animal other than dog or cat.&quot;);\n                String animal = input.nextLine();\n                input.close();\n         \n                String ign = (&quot; &quot;+color+&quot;_&quot;+word+&quot;_&quot;+animal);\n                System.out.println(&quot;Your IGN is&quot; + ign );\n                break;\n            }\n            else if (start.equals(&quot;No&quot;) || start.equals(&quot;no&quot;)){\n                break;\n            }\n            else;\n            System.out.println(&quot;Invalid response. Please try again.&quot;);\n        }\n        System.out.println(&quot;hi &quot;+ ign + &quot;!&quot;);\n    }\n}\n</code></pre>\n<p>And here is the error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>source_file.java:33: error: cannot find symbol\n         System.out.println(&quot;hi &quot;+ ign + &quot;!&quot;);\n                                   ^\n  symbol:   variable ign\n  location: class ignCalcu\n1 error\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1635121860,"post_id":69701768,"comment_id":123203474,"body_markdown":"`.dylib` files are only supported under MacOS (more or less), you need the windows `.dll` instead","body":"<code>.dylib</code> files are only supported under MacOS (more or less), you need the windows <code>.dll</code> instead"},{"owner":{"account_id":3595528,"reputation":3527,"user_id":3000387,"accept_rate":92,"display_name":"Marv"},"score":0,"creation_date":1635122452,"post_id":69701768,"comment_id":123203539,"body_markdown":"Maybe this can help you: https://stackoverflow.com/questions/55615864/how-to-make-maven-request-the-correct-javafx-dependancies-on-linux","body":"Maybe this can help you: <a href=\"https://stackoverflow.com/questions/55615864/how-to-make-maven-request-the-correct-javafx-dependancies-on-linux\" title=\"how to make maven request the correct javafx dependancies on linux\">stackoverflow.com/questions/55615864/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1635127656,"post_id":69701768,"comment_id":123204235,"body_markdown":"You need to create the appropriate runtime image. Do [some research](https://stackoverflow.com/a/68823040/1155209).","body":"You need to create the appropriate runtime image. Do <a href=\"https://stackoverflow.com/a/68823040/1155209\">some research</a>."}],"owner":{"account_id":15957668,"reputation":21,"user_id":11515509,"display_name":"Alex Niadore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635127770,"answer_count":0,"score":1,"last_activity_date":1635121705,"creation_date":1635121705,"question_id":69701768,"body_markdown":"I built a JavaFX chat project on my Mac M1 Pro, and when I build the project it won&#39;t run on my friends&#39; windows 10 PC&#39;s. They try to run the .jar through cmd, but this is the error:\r\n\r\n```\r\nC:\\Users\\Ms\\nokkeenkelt&gt;java -jar GroupChat.jar\r\nOct 25, 2021 2:19:21 AM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @44f2c786&#39;\r\nGraphics Device initialization failed for :  d3d, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:280)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:245)\r\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:262)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:286)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:160)\r\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:661)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:681)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:198)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:94)\r\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:124)\r\n        ... 1 more\r\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\r\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:274)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:286)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:160)\r\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:661)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:681)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:198)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nI have included the JavaFX .dylib files in the build. Is there any fix to this?","title":"Build JavaFX project on MacOS (m1 chip), run .jar file on windows 10","body":"<p>I built a JavaFX chat project on my Mac M1 Pro, and when I build the project it won't run on my friends' windows 10 PC's. They try to run the .jar through cmd, but this is the error:</p>\n<pre><code>C:\\Users\\Ms\\nokkeenkelt&gt;java -jar GroupChat.jar\nOct 25, 2021 2:19:21 AM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @44f2c786'\nGraphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:280)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:245)\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:262)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:286)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:160)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:661)\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:681)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:198)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:94)\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:124)\n        ... 1 more\nException in thread &quot;main&quot; java.lang.RuntimeException: No toolkit found\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:274)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:286)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:160)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:661)\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:681)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:198)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I have included the JavaFX .dylib files in the build. Is there any fix to this?</p>\n"},{"tags":["java","android","list","firebase-realtime-database","generic-type-parameters"],"comments":[{"owner":{"account_id":10575827,"reputation":413,"user_id":7791183,"accept_rate":0,"display_name":"Rajat Mittal"},"score":0,"creation_date":1635019845,"post_id":69691567,"comment_id":123185297,"body_markdown":"Can you please paste your crash logcat?","body":"Can you please paste your crash logcat?"},{"owner":{"account_id":9823737,"reputation":37,"user_id":7277528,"display_name":"V1V3"},"score":0,"creation_date":1635019978,"post_id":69691567,"comment_id":123185331,"body_markdown":"sorry about that, I just pasted the error. Thanks!","body":"sorry about that, I just pasted the error. Thanks!"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1635020111,"post_id":69691567,"comment_id":123185361,"body_markdown":"https://stackoverflow.com/questions/30744224/how-to-retrieve-a-list-object-from-the-firebase-in-android/35979715#35979715? Or one of the other top answers from https://stackoverflow.com/search?tab=votes&amp;q=%5bfirebase-realtime-database%5d%5bandroid%5d%20GenericTypeIndicator.","body":"<a href=\"https://stackoverflow.com/questions/30744224/how-to-retrieve-a-list-object-from-the-firebase-in-android/35979715#35979715\" title=\"how to retrieve a list object from the firebase in android\">stackoverflow.com/questions/30744224/&hellip;</a>? Or one of the other top answers from <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bfirebase-realtime-database%5d%5bandroid%5d%20GenericTypeIndicator\">stackoverflow.com/&hellip;</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1635071610,"post_id":69691567,"comment_id":123192443,"body_markdown":"Have you tried the solution in Frank van Puffelen&#39;s comment? Does it work?","body":"Have you tried the solution in Frank van Puffelen&#39;s comment? Does it work?"},{"owner":{"account_id":9823737,"reputation":37,"user_id":7277528,"display_name":"V1V3"},"score":0,"creation_date":1635102874,"post_id":69691567,"comment_id":123200116,"body_markdown":"Thanks for your help, and thanks to Frank Van Puffelen. While I&#39;m not getting a desired output (my listview is empty even though it shouldn&#39;t be), I&#39;m no longer getting an error, so I think the issue has been fixed. I appreciate your support!","body":"Thanks for your help, and thanks to Frank Van Puffelen. While I&#39;m not getting a desired output (my listview is empty even though it shouldn&#39;t be), I&#39;m no longer getting an error, so I think the issue has been fixed. I appreciate your support!"}],"answers":[{"tags":[],"owner":{"account_id":21217953,"reputation":146,"user_id":15605198,"display_name":"sozsoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635121220,"creation_date":1635121220,"answer_id":69701735,"question_id":69691567,"body_markdown":"I&#39;ve adapted the answer Frank and Alex mentioned in their comments. And it seems to be working in your situation. Instead of directly using \r\n`snapshot.getValue(HostPlayer.class);` use a GenericTypeIndicator like this;\r\n\r\n        pChildEventListener = new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                GenericTypeIndicator&lt;HostPlayer&gt; t = new GenericTypeIndicator&lt;HostPlayer&gt;() {};\r\n                HostPlayer hostPlayer = snapshot.getValue(t);//I was able to get the list without an error\r\n                ...\r\n            }\r\n            ...\r\n        };","title":"How can I retrieve an object from the Firebase RealTime Database if it contains a List?","body":"<p>I've adapted the answer Frank and Alex mentioned in their comments. And it seems to be working in your situation. Instead of directly using\n<code>snapshot.getValue(HostPlayer.class);</code> use a GenericTypeIndicator like this;</p>\n<pre><code>    pChildEventListener = new ChildEventListener() {\n        @Override\n        public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n            GenericTypeIndicator&lt;HostPlayer&gt; t = new GenericTypeIndicator&lt;HostPlayer&gt;() {};\n            HostPlayer hostPlayer = snapshot.getValue(t);//I was able to get the list without an error\n            ...\n        }\n        ...\n    };\n</code></pre>\n"}],"owner":{"account_id":9823737,"reputation":37,"user_id":7277528,"display_name":"V1V3"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69701735,"answer_count":1,"score":2,"last_activity_date":1635121220,"creation_date":1635018928,"question_id":69691567,"body_markdown":"I&#39;m trying to learn how to use Firebase, and decided to make a simple android application that uses the Firebase RealTime Database. The game requires a host who hosts a lobby, and players who can join that lobby. I made a host class that has a bunch of data types, among which is a list (the game involves using hints given to players by the host). I&#39;m running into problems when I try to read from the database.\r\n\r\nMy lobby is a listview that I want to populate with a list of hosts in the database, but when I try to read from it I get this nasty error:\r\n\r\n&gt; com.google.firebase.database.DatabaseException: Class java.util.List has generic type parameters, please use GenericTypeIndicator instead\r\n\r\nI know that there are other questions about the same error, but I couldn&#39;t apply those answers with much success. I&#39;m quite new to android development and would greatly appreciate any help.\r\n\r\nHere is my user-defined class:\r\n\r\n    public class HostPlayer {\r\n    \r\n        private String hostName;\r\n        private String photoUrl;\r\n        private String primaryHint;\r\n        List&lt;String&gt; hints = new ArrayList&lt;String&gt;();\r\n        private int numHints;\r\n        private int numTime;\r\n        private boolean inProgress = false;\r\n    \r\n        public HostPlayer() {\r\n    \r\n        }\r\n    \r\n        public HostPlayer(String hostName, int numHints, int numTime, List&lt;String&gt; hints, String primaryHint, String photoUrl) {\r\n            this.hostName = hostName;\r\n            this.numHints = numHints;\r\n            this.numTime = numTime;\r\n            this.hints = hints;\r\n            this.primaryHint = primaryHint;\r\n            this.photoUrl = photoUrl;\r\n            this.inProgress = false;\r\n        }\r\n    \r\n        public void setPhotoUrl(String photoUrl) {this.photoUrl = photoUrl;}\r\n    \r\n        public void setPrimaryHint(String primaryHint) {this.primaryHint = primaryHint;}\r\n    \r\n        public void setHints(List hints) {this.hints = hints;}\r\n    \r\n        public String getHostName() {return this.hostName;}\r\n    \r\n        public int getNumHints() {return this.numHints;}\r\n    \r\n        public  int getNumTime() {return this.numTime;}\r\n    \r\n        public String getPrimaryHint() {return this.primaryHint;}\r\n    \r\n        public List getHints() {return this.hints;}\r\n    \r\n        public void setInProgress() {this.inProgress = true;}\r\n    \r\n        public boolean getInProgress() {return this.inProgress;}\r\n    }\r\n\r\nHere is my code where I read from the database:\r\n\r\n    public class JoinGame extends AppCompatActivity {\r\n    \r\n        ListView lv;\r\n    \r\n        private FirebaseDatabase pFireBaseDatabase;\r\n        private DatabaseReference pDatabaseReference;\r\n        private ChildEventListener pChildEventListener;\r\n    \r\n        List&lt;HostPlayer&gt; hostPlayerList = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_join_game);\r\n    \r\n            pFireBaseDatabase = FirebaseDatabase.getInstance();\r\n            pDatabaseReference = pFireBaseDatabase.getReference().child(&quot;hosts&quot;);\r\n    \r\n            pChildEventListener = new ChildEventListener() {\r\n                @Override\r\n                public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                    HostPlayer hostPlayer = snapshot.getValue(HostPlayer.class); //this is where the error happens\r\n                    hostPlayerList.add(hostPlayer);\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            };\r\n            pDatabaseReference.addChildEventListener(pChildEventListener);\r\n    \r\n            lv = findViewById(R.id.listView_hosts);\r\n    \r\n            ArrayAdapter&lt;HostPlayer&gt; hostPlayerArrayAdapter = new ArrayAdapter&lt;HostPlayer&gt;(\r\n                    this, android.R.layout.simple_list_item_1, hostPlayerList\r\n            );//making an arrayAdapter out of the list of HostPlayer objects\r\n    \r\n            lv.setAdapter(hostPlayerArrayAdapter);\r\n        }\r\n    }\r\n\r\nThis is what the database JSON is structured like:\r\n\r\n    {\r\n      &quot;hosts&quot; : {\r\n        &quot;some-data-key&quot; : {\r\n          &quot;hints&quot; : [ &quot;first hint&quot;, &quot;second hint&quot; ],\r\n          &quot;hostName&quot; : &quot;mom&quot;,\r\n          &quot;inProgress&quot; : false,\r\n          &quot;numHints&quot; : 3,\r\n          &quot;numTime&quot; : 30,\r\n          &quot;primaryHint&quot; : &quot;Living Room&quot;\r\n        }\r\n      },\r\n      &quot;players&quot; : {\r\n        &quot;another-data-key&quot; : {\r\n          &quot;hostName&quot; : &quot;firstName&quot;,\r\n          &quot;inProgress&quot; : false,\r\n          &quot;numHints&quot; : 0,\r\n          &quot;numTime&quot; : 0\r\n        }\r\n      }\r\n    }\r\n\r\nI understand that the list &quot;hints&quot; is causing this error, but still don&#39;t understand why and how I can fix it. I would greatly appreciate any explanations and/or solutions. Thanks for your time and help.\r\n\r\nEdit: I forgot to paste the logcat, here it is:\r\n\r\n    2021-10-23 16:11:20.732 21137-21137/com.example.treasurehunt E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.treasurehunt, PID: 21137\r\n        com.google.firebase.database.DatabaseException: Class java.util.List has generic type parameters, please use GenericTypeIndicator instead\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:224)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n            at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n            at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n            at com.example.treasurehunt.JoinGame$1.onChildAdded(JoinGame.java:41)\r\n            at com.google.firebase.database.core.ChildEventRegistration.fireEvent(ChildEventRegistration.java:79)\r\n            at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n            at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n            at android.os.Handler.handleCallback(Handler.java:938)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\n","title":"How can I retrieve an object from the Firebase RealTime Database if it contains a List?","body":"<p>I'm trying to learn how to use Firebase, and decided to make a simple android application that uses the Firebase RealTime Database. The game requires a host who hosts a lobby, and players who can join that lobby. I made a host class that has a bunch of data types, among which is a list (the game involves using hints given to players by the host). I'm running into problems when I try to read from the database.</p>\n<p>My lobby is a listview that I want to populate with a list of hosts in the database, but when I try to read from it I get this nasty error:</p>\n<blockquote>\n<p>com.google.firebase.database.DatabaseException: Class java.util.List has generic type parameters, please use GenericTypeIndicator instead</p>\n</blockquote>\n<p>I know that there are other questions about the same error, but I couldn't apply those answers with much success. I'm quite new to android development and would greatly appreciate any help.</p>\n<p>Here is my user-defined class:</p>\n<pre><code>public class HostPlayer {\n\n    private String hostName;\n    private String photoUrl;\n    private String primaryHint;\n    List&lt;String&gt; hints = new ArrayList&lt;String&gt;();\n    private int numHints;\n    private int numTime;\n    private boolean inProgress = false;\n\n    public HostPlayer() {\n\n    }\n\n    public HostPlayer(String hostName, int numHints, int numTime, List&lt;String&gt; hints, String primaryHint, String photoUrl) {\n        this.hostName = hostName;\n        this.numHints = numHints;\n        this.numTime = numTime;\n        this.hints = hints;\n        this.primaryHint = primaryHint;\n        this.photoUrl = photoUrl;\n        this.inProgress = false;\n    }\n\n    public void setPhotoUrl(String photoUrl) {this.photoUrl = photoUrl;}\n\n    public void setPrimaryHint(String primaryHint) {this.primaryHint = primaryHint;}\n\n    public void setHints(List hints) {this.hints = hints;}\n\n    public String getHostName() {return this.hostName;}\n\n    public int getNumHints() {return this.numHints;}\n\n    public  int getNumTime() {return this.numTime;}\n\n    public String getPrimaryHint() {return this.primaryHint;}\n\n    public List getHints() {return this.hints;}\n\n    public void setInProgress() {this.inProgress = true;}\n\n    public boolean getInProgress() {return this.inProgress;}\n}\n</code></pre>\n<p>Here is my code where I read from the database:</p>\n<pre><code>public class JoinGame extends AppCompatActivity {\n\n    ListView lv;\n\n    private FirebaseDatabase pFireBaseDatabase;\n    private DatabaseReference pDatabaseReference;\n    private ChildEventListener pChildEventListener;\n\n    List&lt;HostPlayer&gt; hostPlayerList = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_join_game);\n\n        pFireBaseDatabase = FirebaseDatabase.getInstance();\n        pDatabaseReference = pFireBaseDatabase.getReference().child(&quot;hosts&quot;);\n\n        pChildEventListener = new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                HostPlayer hostPlayer = snapshot.getValue(HostPlayer.class); //this is where the error happens\n                hostPlayerList.add(hostPlayer);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        };\n        pDatabaseReference.addChildEventListener(pChildEventListener);\n\n        lv = findViewById(R.id.listView_hosts);\n\n        ArrayAdapter&lt;HostPlayer&gt; hostPlayerArrayAdapter = new ArrayAdapter&lt;HostPlayer&gt;(\n                this, android.R.layout.simple_list_item_1, hostPlayerList\n        );//making an arrayAdapter out of the list of HostPlayer objects\n\n        lv.setAdapter(hostPlayerArrayAdapter);\n    }\n}\n</code></pre>\n<p>This is what the database JSON is structured like:</p>\n<pre><code>{\n  &quot;hosts&quot; : {\n    &quot;some-data-key&quot; : {\n      &quot;hints&quot; : [ &quot;first hint&quot;, &quot;second hint&quot; ],\n      &quot;hostName&quot; : &quot;mom&quot;,\n      &quot;inProgress&quot; : false,\n      &quot;numHints&quot; : 3,\n      &quot;numTime&quot; : 30,\n      &quot;primaryHint&quot; : &quot;Living Room&quot;\n    }\n  },\n  &quot;players&quot; : {\n    &quot;another-data-key&quot; : {\n      &quot;hostName&quot; : &quot;firstName&quot;,\n      &quot;inProgress&quot; : false,\n      &quot;numHints&quot; : 0,\n      &quot;numTime&quot; : 0\n    }\n  }\n}\n</code></pre>\n<p>I understand that the list &quot;hints&quot; is causing this error, but still don't understand why and how I can fix it. I would greatly appreciate any explanations and/or solutions. Thanks for your time and help.</p>\n<p>Edit: I forgot to paste the logcat, here it is:</p>\n<pre><code>2021-10-23 16:11:20.732 21137-21137/com.example.treasurehunt E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.treasurehunt, PID: 21137\n    com.google.firebase.database.DatabaseException: Class java.util.List has generic type parameters, please use GenericTypeIndicator instead\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:224)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n        at com.example.treasurehunt.JoinGame$1.onChildAdded(JoinGame.java:41)\n        at com.google.firebase.database.core.ChildEventRegistration.fireEvent(ChildEventRegistration.java:79)\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":3,"creation_date":1551804473,"post_id":55007669,"comment_id":96770504,"body_markdown":"definetly prefer the second way, the first one is not understandable and a functional mess","body":"definetly prefer the second way, the first one is not understandable and a functional mess"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1551804775,"post_id":55007669,"comment_id":96770659,"body_markdown":"The fact that you are using `get()` in the first means that you&#39;ll get an Exception if either `Optional` is empty, so definitely not the first method.","body":"The fact that you are using <code>get()</code> in the first means that you&#39;ll get an Exception if either <code>Optional</code> is empty, so definitely not the first method."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1551807832,"post_id":55007669,"comment_id":96772287,"body_markdown":"Curious to know, what is the else part of (2) which is what could have been an `orElse..` candidate for (1). This is an unclear problem and is driving opinions... and another question that puzzles me at least is, what does the method `f` do such that you need to ensure that both(/all) the values are present before calling it? Just wondering could f accept a varargs such as `Object f(String... args)`?","body":"Curious to know, what is the else part of (2) which is what could have been an <code>orElse..</code> candidate for (1). This is an unclear problem and is driving opinions... and another question that puzzles me at least is, what does the method <code>f</code> do such that you need to ensure that both(/all) the values are present before calling it? Just wondering could f accept a varargs such as <code>Object f(String... args)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1551804542,"creation_date":1551804542,"answer_id":55007773,"question_id":55007669,"body_markdown":"You could stream the arguments and apply the condition only once, but whether or not this is more elegant than your solutions is in the eye of the beholder:\r\n\r\n    if (Stream.of(a, b).allMatch(Optional::isPresent)) {\r\n        return f(a.get(), b.get());\r\n    }","title":"Java 8 Mapping multiple optional parameters into a function","body":"<p>You could stream the arguments and apply the condition only once, but whether or not this is more elegant than your solutions is in the eye of the beholder:</p>\n\n<pre><code>if (Stream.of(a, b).allMatch(Optional::isPresent)) {\n    return f(a.get(), b.get());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635120042,"creation_date":1551807427,"answer_id":55008566,"question_id":55007669,"body_markdown":"You&#39;ve just stumbled upon a concept called _lifting_ in functional programming, that enables you to _lift_ regular functions (e.g. `A -&gt; B`) into new domains (e.g. `Optional&lt;A&gt; -&gt; Optional&lt;B&gt;`).\r\n\r\nThere&#39;s also a syntactic sugar for flatMapping and mapping more comfortably called the _do notation_ in Haskell and similar languages, and _for comprehension_ in Scala. It gives you a way to keep the flow linear and avoid nesting (that you were forced to go through in your example 1).\r\n\r\nJava, unfortunately has nothing of the sort, as its functional programming capabilities are meager, and even `Optional` isn&#39;t really a first-class citizen (no standard API actually uses it).\r\nSo you&#39;re stuck with the approaches you&#39;ve already discovered.\r\n\r\nIn case you&#39;re curious about the concepts mentioned above, read on.\r\n\r\n**Lifting**\r\n\r\nAssuming you have:\r\n\r\n    public String f(A a, B b) {\r\n        return b + &quot;-&quot; + a;\r\n    }\r\n\r\nWith its Scala equivalent:\r\n\r\n    def f(a: A, b: B) = b + &quot;-&quot; + a\r\n\r\nLifting `f` into `Option` (same as `Optional` in Java) would look like this (using Scalaz library, see [here](https://stackoverflow.com/a/48019867/294657) for Cats)\r\n\r\n    val lifted = Monad[Option].lift2(f)\r\n\r\n`lifted` is now a function equivalent to:\r\n\r\n    public Optional&lt;String&gt; f(Optional&lt;A&gt; a, Optional&lt;B&gt; b) {\r\n        if(a.isPresent() &amp;&amp; b.isPresent()) {\r\n            return Optional.of(b + &quot;-&quot; + a);\r\n        }\r\n        return  Optional.empty;\r\n    }\r\n\r\nExactly what you&#39;re looking for, in 1 line, and works for any context (e.g. `List`, not just `Option`) and any function.\r\n\r\n**For comprehension / Do notation**\r\n\r\nUsing _for comprehension_, your example would look like this (I _think_, my Scala is weak):\r\n\r\n    for { \r\n        a &lt;- getA();\r\n        b &lt;- getB();\r\n    } yield f(a, b)\r\n\r\nAnd again, this is applicable to anything that can be flatMapped over, like `List`, `Future` etc.","title":"Java 8 Mapping multiple optional parameters into a function","body":"<p>You've just stumbled upon a concept called <em>lifting</em> in functional programming, that enables you to <em>lift</em> regular functions (e.g. <code>A -&gt; B</code>) into new domains (e.g. <code>Optional&lt;A&gt; -&gt; Optional&lt;B&gt;</code>).</p>\n<p>There's also a syntactic sugar for flatMapping and mapping more comfortably called the <em>do notation</em> in Haskell and similar languages, and <em>for comprehension</em> in Scala. It gives you a way to keep the flow linear and avoid nesting (that you were forced to go through in your example 1).</p>\n<p>Java, unfortunately has nothing of the sort, as its functional programming capabilities are meager, and even <code>Optional</code> isn't really a first-class citizen (no standard API actually uses it).\nSo you're stuck with the approaches you've already discovered.</p>\n<p>In case you're curious about the concepts mentioned above, read on.</p>\n<p><strong>Lifting</strong></p>\n<p>Assuming you have:</p>\n<pre><code>public String f(A a, B b) {\n    return b + &quot;-&quot; + a;\n}\n</code></pre>\n<p>With its Scala equivalent:</p>\n<pre><code>def f(a: A, b: B) = b + &quot;-&quot; + a\n</code></pre>\n<p>Lifting <code>f</code> into <code>Option</code> (same as <code>Optional</code> in Java) would look like this (using Scalaz library, see <a href=\"https://stackoverflow.com/a/48019867/294657\">here</a> for Cats)</p>\n<pre><code>val lifted = Monad[Option].lift2(f)\n</code></pre>\n<p><code>lifted</code> is now a function equivalent to:</p>\n<pre><code>public Optional&lt;String&gt; f(Optional&lt;A&gt; a, Optional&lt;B&gt; b) {\n    if(a.isPresent() &amp;&amp; b.isPresent()) {\n        return Optional.of(b + &quot;-&quot; + a);\n    }\n    return  Optional.empty;\n}\n</code></pre>\n<p>Exactly what you're looking for, in 1 line, and works for any context (e.g. <code>List</code>, not just <code>Option</code>) and any function.</p>\n<p><strong>For comprehension / Do notation</strong></p>\n<p>Using <em>for comprehension</em>, your example would look like this (I <em>think</em>, my Scala is weak):</p>\n<pre><code>for { \n    a &lt;- getA();\n    b &lt;- getB();\n} yield f(a, b)\n</code></pre>\n<p>And again, this is applicable to anything that can be flatMapped over, like <code>List</code>, <code>Future</code> etc.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551809398,"creation_date":1551808602,"answer_id":55008875,"question_id":55007669,"body_markdown":"If you are sure that a and b are both present (as your final call to `get` in solution 1 seems to suggest), I think it is pretty straightforward:\r\n\r\n\t\treturn f(getA().orElseThrow(() -&gt; new NoSuchElementException(&quot;a not present&quot;)),\r\n\t\t\t\t getB().orElseThrow(() -&gt; new NoSuchElementException(&quot;b not present&quot;)));\r\n\r\nIf you arent sure that both are present, I would prefer your solution 1. It exploits `Optional` the best. Only I would not call `get` at the end, but rather `orElse` or what makes sense in your situation, for example:\r\n\r\n\t\treturn getA()\r\n\t\t\t\t.flatMap(a -&gt; getB().map(b -&gt; f(a,b)))\r\n\t\t\t\t.orElse(&quot;Not both present&quot;);\r\n\r\n","title":"Java 8 Mapping multiple optional parameters into a function","body":"<p>If you are sure that a and b are both present (as your final call to <code>get</code> in solution 1 seems to suggest), I think it is pretty straightforward:</p>\n\n<pre><code>    return f(getA().orElseThrow(() -&gt; new NoSuchElementException(\"a not present\")),\n             getB().orElseThrow(() -&gt; new NoSuchElementException(\"b not present\")));\n</code></pre>\n\n<p>If you arent sure that both are present, I would prefer your solution 1. It exploits <code>Optional</code> the best. Only I would not call <code>get</code> at the end, but rather <code>orElse</code> or what makes sense in your situation, for example:</p>\n\n<pre><code>    return getA()\n            .flatMap(a -&gt; getB().map(b -&gt; f(a,b)))\n            .orElse(\"Not both present\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551810016,"creation_date":1551810016,"answer_id":55009195,"question_id":55007669,"body_markdown":"I&#39;m of the opinion that if there is no good way to use `Optional`, then there is no reason to try to use it anyway.\r\n\r\nI find this to be cleaner and simpler than your option 2:\r\n\r\n    String a = getA().orElse(null);\r\n    String b = getB().orElse(null);\r\n    if(a != null &amp;&amp; b != null) {\r\n        return f(a, b);\r\n    }","title":"Java 8 Mapping multiple optional parameters into a function","body":"<p>I'm of the opinion that if there is no good way to use <code>Optional</code>, then there is no reason to try to use it anyway.</p>\n\n<p>I find this to be cleaner and simpler than your option 2:</p>\n\n<pre><code>String a = getA().orElse(null);\nString b = getB().orElse(null);\nif(a != null &amp;&amp; b != null) {\n    return f(a, b);\n}\n</code></pre>\n"}],"owner":{"account_id":4296996,"reputation":473,"user_id":3511787,"display_name":"Lezorte"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2583,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":55008566,"answer_count":4,"score":6,"last_activity_date":1635120042,"creation_date":1551804209,"question_id":55007669,"body_markdown":"Let&#39;s say that I have function **`Object f(String a, String b)`** and I want to call two different functions that return Optional Strings to get the parameters for f **`Optional&lt;String&gt; getA()`** and **`Optional&lt;String&gt; getB()`**. I can think of two solutions but neither look all that clean, especially when you have even more parameters:\r\n\r\n1:\r\n\r\n    return getA().flatMap(\r\n        a -&gt; getB().map(\r\n            b -&gt; f(a,b)).get()\r\n\r\n2:\r\n\r\n    Optional&lt;String&gt; a = getA();\r\n    Optional&lt;String&gt; b = getB();\r\n    if(a.isPresent() &amp;&amp; b.isPresent()) {\r\n        return f(a.get(), b.get());\r\n    }\r\n\r\nIs there a cleaner way to do this?","title":"Java 8 Mapping multiple optional parameters into a function","body":"<p>Let's say that I have function <strong><code>Object f(String a, String b)</code></strong> and I want to call two different functions that return Optional Strings to get the parameters for f <strong><code>Optional&lt;String&gt; getA()</code></strong> and <strong><code>Optional&lt;String&gt; getB()</code></strong>. I can think of two solutions but neither look all that clean, especially when you have even more parameters:</p>\n\n<p>1:</p>\n\n<pre><code>return getA().flatMap(\n    a -&gt; getB().map(\n        b -&gt; f(a,b)).get()\n</code></pre>\n\n<p>2:</p>\n\n<pre><code>Optional&lt;String&gt; a = getA();\nOptional&lt;String&gt; b = getB();\nif(a.isPresent() &amp;&amp; b.isPresent()) {\n    return f(a.get(), b.get());\n}\n</code></pre>\n\n<p>Is there a cleaner way to do this?</p>\n"},{"tags":["java","spring-boot","spring-security-oauth2","spring-session"],"answers":[{"tags":[],"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635119968,"creation_date":1635119968,"answer_id":69701631,"question_id":69701577,"body_markdown":"So, it turns out that the culprit is the `HttpSessionEventPublisher`. The sessionRepository (which we can see at the top of the stack trace complaining about the circular dependency) for Redis (`RedisHttpSessionConfiguration`) extends `SpringHttpSessionConfiguration` which injects a list of all `HttpSessionListener` beans registered, which includes the `HttpSessionEventPublisher` \r\n\r\nPut that in its own `Config` class:\r\n\r\n```java\r\n@Configuration\r\npublic class HttpSessionEventPublisherConfig {\r\n\r\n    /**\r\n     * enables session expiry notification\r\n     *\r\n     * Needs to be declared separately from the `SpringSessionBackedSessionRegistry` to avoid a cir\r\n     * @return\r\n     */\r\n    @Bean\r\n    public HttpSessionEventPublisher httpSessionEventPublisher() {\r\n        return new HttpSessionEventPublisher();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd it all magically works.\r\n","title":"Spring Boot with Spring Session and Redis - RedisConnectionFactory is required","body":"<p>So, it turns out that the culprit is the <code>HttpSessionEventPublisher</code>. The sessionRepository (which we can see at the top of the stack trace complaining about the circular dependency) for Redis (<code>RedisHttpSessionConfiguration</code>) extends <code>SpringHttpSessionConfiguration</code> which injects a list of all <code>HttpSessionListener</code> beans registered, which includes the <code>HttpSessionEventPublisher</code></p>\n<p>Put that in its own <code>Config</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class HttpSessionEventPublisherConfig {\n\n    /**\n     * enables session expiry notification\n     *\n     * Needs to be declared separately from the `SpringSessionBackedSessionRegistry` to avoid a cir\n     * @return\n     */\n    @Bean\n    public HttpSessionEventPublisher httpSessionEventPublisher() {\n        return new HttpSessionEventPublisher();\n    }\n\n}\n\n</code></pre>\n<p>And it all magically works.</p>\n"}],"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3981,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69701631,"answer_count":1,"score":4,"last_activity_date":1635119968,"creation_date":1635119202,"question_id":69701577,"body_markdown":"I am setting up a Spring Boot app that uses:\r\n- OAuth2 Login\r\n- Spring Session for authentication\r\n- Redis for the session storage\r\n\r\nUsing this spring boot application.yaml to enable redis:\r\n\r\n```yaml\r\nspring:\r\n  session:\r\n    store-type: redis\r\n    redis:\r\n      namespace: sample:api\r\n  redis:\r\n    host: localhost\r\n    port: 6379\r\n\r\n```\r\n\r\nAnd the following SecurityConfig:\r\n\r\n```java\r\n\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig&lt;S extends Session&gt; extends WebSecurityConfigurerAdapter {\r\n\r\n    private final ClientRegistrationRepository clientRegistrationRepository;\r\n\r\n    @Autowired\r\n    private RedisIndexedSessionRepository redisIndexedSessionRepository;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors(Customizer.withDefaults())\r\n                .sessionManagement()\r\n                    .maximumSessions(1)\r\n                    .sessionRegistry(sessionRegistry())\r\n                .and()\r\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\r\n            .and()\r\n                .authorizeRequests(a -&gt; a\r\n                        .anyRequest()\r\n                        .authenticated())\r\n                .oauth2Login()\r\n                    .authorizationEndpoint()\r\n                    .and()\r\n                    .defaultSuccessUrl(&quot;http://localhost:3000/users&quot;)\r\n                    .authorizedClientRepository(authorizedClientRepository())\r\n                ;\r\n\r\n    }\r\n\r\n    /**\r\n     * enables session expiry notification\r\n     * @return\r\n     */\r\n    @Bean\r\n    public HttpSessionEventPublisher httpSessionEventPublisher() {\r\n        return new HttpSessionEventPublisher();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public SpringSessionBackedSessionRegistry sessionRegistry() {\r\n        return new SpringSessionBackedSessionRegistry&lt;&gt;(this.redisIndexedSessionRepository);\r\n    }\r\n\r\n    /**\r\n     * Use the servlet container session store for authorized OAuth2 Clients\r\n     * @return\r\n     */\r\n    @Bean\r\n    public OAuth2AuthorizedClientRepository authorizedClientRepository() {\r\n        return new HttpSessionOAuth2AuthorizedClientRepository();\r\n    }\r\n\r\n```\r\n\r\nWhen I start the application, it fails with the following:\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;securityConfig&#39;: Unsatisfied dependency expressed through field &#39;redisIndexedSessionRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionRepository&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/RedisSessionConfiguration$SpringBootRedisHttpSessionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.session.data.redis.RedisIndexedSessionRepository]: Circular reference involving containing bean &#39;org.springframework.boot.autoconfigure.session.RedisSessionConfiguration$SpringBootRedisHttpSessionConfiguration&#39; - consider declaring the factory method as static for independence from its containing instance. Factory method &#39;sessionRepository&#39; threw exception; nested exception is java.lang.IllegalStateException: RedisConnectionFactory is required\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1598) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1562) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1451) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1338) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:760) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\t... 82 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionRepository&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/RedisSessionConfiguration$SpringBootRedisHttpSessionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.session.data.redis.RedisIndexedSessionRepository]: Circular reference involving containing bean &#39;org.springframework.boot.autoconfigure.session.RedisSessionConfiguration$SpringBootRedisHttpSessionConfiguration&#39; - consider declaring the factory method as static for independence from its containing instance. Factory method &#39;sessionRepository&#39; threw exception; nested exception is java.lang.IllegalStateException: RedisConnectionFactory is required\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\t... 108 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.session.data.redis.RedisIndexedSessionRepository]: Circular reference involving containing bean &#39;org.springframework.boot.autoconfigure.session.RedisSessionConfiguration$SpringBootRedisHttpSessionConfiguration&#39; - consider declaring the factory method as static for independence from its containing instance. Factory method &#39;sessionRepository&#39; threw exception; nested exception is java.lang.IllegalStateException: RedisConnectionFactory is required\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\t... 121 common frames omitted\r\nCaused by: java.lang.IllegalStateException: RedisConnectionFactory is required\r\n\tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.10.jar:5.3.10]\r\n\tat org.springframework.data.redis.core.RedisAccessor.afterPropertiesSet(RedisAccessor.java:38) ~[spring-data-redis-2.5.5.jar:2.5.5]\r\n\tat org.springframework.data.redis.core.RedisTemplate.afterPropertiesSet(RedisTemplate.java:128) ~[spring-data-redis-2.5.5.jar:2.5.5]\r\n\tat org.springframework.session.data.redis.config.annotation.web.http.RedisHttpSessionConfiguration.createRedisTemplate(RedisHttpSessionConfiguration.java:291) ~[spring-session-data-redis-2.5.2.jar:2.5.2]\r\n\tat org.springframework.session.data.redis.config.annotation.web.http.RedisHttpSessionConfiguration.sessionRepository(RedisHttpSessionConfiguration.java:120) ~[spring-session-data-redis-2.5.2.jar:2.5.2]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\t... 122 common frames omitted\r\n```\r\n\r\nThis exception goes away when I remove the `SpringSessionBackedSessionRegistry` session registry, however so does the ability to control the max number of sessions. ","title":"Spring Boot with Spring Session and Redis - RedisConnectionFactory is required","body":"<p>I am setting up a Spring Boot app that uses:</p>\n<ul>\n<li>OAuth2 Login</li>\n<li>Spring Session for authentication</li>\n<li>Redis for the session storage</li>\n</ul>\n<p>Using this spring boot application.yaml to enable redis:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  session:\n    store-type: redis\n    redis:\n      namespace: sample:api\n  redis:\n    host: localhost\n    port: 6379\n\n</code></pre>\n<p>And the following SecurityConfig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\n@RequiredArgsConstructor\npublic class SecurityConfig&lt;S extends Session&gt; extends WebSecurityConfigurerAdapter {\n\n    private final ClientRegistrationRepository clientRegistrationRepository;\n\n    @Autowired\n    private RedisIndexedSessionRepository redisIndexedSessionRepository;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .cors(Customizer.withDefaults())\n                .sessionManagement()\n                    .maximumSessions(1)\n                    .sessionRegistry(sessionRegistry())\n                .and()\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\n            .and()\n                .authorizeRequests(a -&gt; a\n                        .anyRequest()\n                        .authenticated())\n                .oauth2Login()\n                    .authorizationEndpoint()\n                    .and()\n                    .defaultSuccessUrl(&quot;http://localhost:3000/users&quot;)\n                    .authorizedClientRepository(authorizedClientRepository())\n                ;\n\n    }\n\n    /**\n     * enables session expiry notification\n     * @return\n     */\n    @Bean\n    public HttpSessionEventPublisher httpSessionEventPublisher() {\n        return new HttpSessionEventPublisher();\n    }\n\n\n    @Bean\n    public SpringSessionBackedSessionRegistry sessionRegistry() {\n        return new SpringSessionBackedSessionRegistry&lt;&gt;(this.redisIndexedSessionRepository);\n    }\n\n    /**\n     * Use the servlet container session store for authorized OAuth2 Clients\n     * @return\n     */\n    @Bean\n    public OAuth2AuthorizedClientRepository authorizedClientRepository() {\n        return new HttpSessionOAuth2AuthorizedClientRepository();\n    }\n\n</code></pre>\n<p>When I start the application, it fails with the following:</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'redisIndexedSessionRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionRepository' defined in class path resource [org/springframework/boot/autoconfigure/session/RedisSessionConfiguration$SpringBootRedisHttpSessionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.session.data.redis.RedisIndexedSessionRepository]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.session.RedisSessionConfiguration$SpringBootRedisHttpSessionConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'sessionRepository' threw exception; nested exception is java.lang.IllegalStateException: RedisConnectionFactory is required\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1598) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1562) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1451) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1338) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:760) ~[spring-beans-5.3.10.jar:5.3.10]\n    ... 82 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionRepository' defined in class path resource [org/springframework/boot/autoconfigure/session/RedisSessionConfiguration$SpringBootRedisHttpSessionConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.session.data.redis.RedisIndexedSessionRepository]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.session.RedisSessionConfiguration$SpringBootRedisHttpSessionConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'sessionRepository' threw exception; nested exception is java.lang.IllegalStateException: RedisConnectionFactory is required\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.10.jar:5.3.10]\n    ... 108 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.session.data.redis.RedisIndexedSessionRepository]: Circular reference involving containing bean 'org.springframework.boot.autoconfigure.session.RedisSessionConfiguration$SpringBootRedisHttpSessionConfiguration' - consider declaring the factory method as static for independence from its containing instance. Factory method 'sessionRepository' threw exception; nested exception is java.lang.IllegalStateException: RedisConnectionFactory is required\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.10.jar:5.3.10]\n    ... 121 common frames omitted\nCaused by: java.lang.IllegalStateException: RedisConnectionFactory is required\n    at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.10.jar:5.3.10]\n    at org.springframework.data.redis.core.RedisAccessor.afterPropertiesSet(RedisAccessor.java:38) ~[spring-data-redis-2.5.5.jar:2.5.5]\n    at org.springframework.data.redis.core.RedisTemplate.afterPropertiesSet(RedisTemplate.java:128) ~[spring-data-redis-2.5.5.jar:2.5.5]\n    at org.springframework.session.data.redis.config.annotation.web.http.RedisHttpSessionConfiguration.createRedisTemplate(RedisHttpSessionConfiguration.java:291) ~[spring-session-data-redis-2.5.2.jar:2.5.2]\n    at org.springframework.session.data.redis.config.annotation.web.http.RedisHttpSessionConfiguration.sessionRepository(RedisHttpSessionConfiguration.java:120) ~[spring-session-data-redis-2.5.2.jar:2.5.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.10.jar:5.3.10]\n    ... 122 common frames omitted\n</code></pre>\n<p>This exception goes away when I remove the <code>SpringSessionBackedSessionRegistry</code> session registry, however so does the ability to control the max number of sessions.</p>\n"},{"tags":["java","arrays","string","list","arraylist"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":4,"creation_date":1632324141,"post_id":69287070,"comment_id":122462732,"body_markdown":"You want: `String[] str = row.split(&quot;\\\\|&quot;);`","body":"You want: <code>String[] str = row.split(&quot;\\\\|&quot;);</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1632324987,"post_id":69287070,"comment_id":122463159,"body_markdown":"Do some basic debugging. The &quot;|&quot; is a special character for a regex. I wrote a simple single line test code to demonstrate this: `System.out.println( &quot;1|2|3&quot;.split(&quot;|&quot;).length );` and it displayed &quot;5&quot;. Using the above suggestion to escape the &quot;|&quot; I got &quot;3&quot; which is correct. So given that your code thinks you only have a single value in the array you have some other issue as well. Why would you add the &quot;\\n&quot; back into your ArrayList? Why do you even have an ArrayList? Just process each line of text as you read it from the file.","body":"Do some basic debugging. The &quot;|&quot; is a special character for a regex. I wrote a simple single line test code to demonstrate this: <code>System.out.println( &quot;1|2|3&quot;.split(&quot;|&quot;).length );</code> and it displayed &quot;5&quot;. Using the above suggestion to escape the &quot;|&quot; I got &quot;3&quot; which is correct. So given that your code thinks you only have a single value in the array you have some other issue as well. Why would you add the &quot;\\n&quot; back into your ArrayList? Why do you even have an ArrayList? Just process each line of text as you read it from the file."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1632325803,"post_id":69287070,"comment_id":122463519,"body_markdown":"As people have said above, the vast majority of that code is redundant. Create your *List&lt;EquivalenceGroupsTO&gt; equivalenceGroupsTOs = new ArrayList&lt;&gt;();* and split on `&quot;\\\\|&quot;` and add to that `List` in the loop then return it","body":"As people have said above, the vast majority of that code is redundant. Create your <i>List&lt;EquivalenceGroupsTO&gt; equivalenceGroupsTOs = new ArrayList&lt;&gt;();</i> and split on <code>&quot;\\\\|&quot;</code> and add to that <code>List</code> in the loop then return it"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635118756,"creation_date":1635118756,"answer_id":69701541,"question_id":69287070,"body_markdown":"Main issue is mentioned in the comments: when splitting by `|` character, it has to be escaped as `\\\\|` because the pipe character is user as OR operator in the regular espressions.\r\n\r\nNext issue is adding a line containing only `\\n` to `file`.  When this line is split, `str[5]` will fail with `ArrayIndexOutOfBoundsException`.\r\n\r\nOther minor issues are unused variables `count` and `hset`.\r\n\r\nHowever, it may be better to refactor existing code to use NIO and Stream API to get a stream of lines and convert each line into corresponding list of `EquivalenceGroupsTO`:\r\n```java\r\npublic List&lt;EquivalenceGroupsTO&gt; read(String filename) throws IOException {\r\n    return Files.lines(Paths.get(filename)) // Stream&lt;String&gt;\r\n            .map(s -&gt; s.split(&quot;\\\\|&quot;))       // Stream&lt;String[]&gt;\r\n             // make sure all data are available\r\n            .filter(arr -&gt; arr.length &gt; 7)  // Stream&lt;String[]&gt;\r\n            .map(arr -&gt; {\r\n                EquivalenceGroupsTO egTo = new EquivalenceGroupsTO();\r\n                egTo.setEquivalenceGroupsCode(str[5]);\r\n                egTo.setDescription(str[7]);\r\n                egTo.setLastUpdateDate(new Date());\r\n                return egTo;\r\n            }) // Stream&lt;EquivalenceGroupsTO&gt;\r\n            .collect(Collectors.toList())\r\n}\r\n```\r\n","title":"Split a string in Java and insert it into an empty string","body":"<p>Main issue is mentioned in the comments: when splitting by <code>|</code> character, it has to be escaped as <code>\\\\|</code> because the pipe character is user as OR operator in the regular espressions.</p>\n<p>Next issue is adding a line containing only <code>\\n</code> to <code>file</code>.  When this line is split, <code>str[5]</code> will fail with <code>ArrayIndexOutOfBoundsException</code>.</p>\n<p>Other minor issues are unused variables <code>count</code> and <code>hset</code>.</p>\n<p>However, it may be better to refactor existing code to use NIO and Stream API to get a stream of lines and convert each line into corresponding list of <code>EquivalenceGroupsTO</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;EquivalenceGroupsTO&gt; read(String filename) throws IOException {\n    return Files.lines(Paths.get(filename)) // Stream&lt;String&gt;\n            .map(s -&gt; s.split(&quot;\\\\|&quot;))       // Stream&lt;String[]&gt;\n             // make sure all data are available\n            .filter(arr -&gt; arr.length &gt; 7)  // Stream&lt;String[]&gt;\n            .map(arr -&gt; {\n                EquivalenceGroupsTO egTo = new EquivalenceGroupsTO();\n                egTo.setEquivalenceGroupsCode(str[5]);\n                egTo.setDescription(str[7]);\n                egTo.setLastUpdateDate(new Date());\n                return egTo;\n            }) // Stream&lt;EquivalenceGroupsTO&gt;\n            .collect(Collectors.toList())\n}\n</code></pre>\n"}],"owner":{"account_id":22682348,"reputation":1,"user_id":16852552,"display_name":"mcA95"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635118756,"creation_date":1632323933,"question_id":69287070,"body_markdown":"I have a CSV file with the following data:\r\n\r\n    20210903|0000000001|0081|A|T60|BSN|002|STATE UNITED\r\n\r\nI have imported this file in my java application with this code: \r\n\r\n    public List&lt;EquivalenceGroupsTO&gt; read() throws FileNotFoundException, IOException {\r\n\r\n\t\ttry (BufferedReader br = new BufferedReader(new FileReader(&quot;/home/myself/Desk/blaBla/T60.csv&quot;))) {\r\n\r\n\t\t\tList&lt;String&gt; file = new ArrayList&lt;String&gt;();\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tString line = br.readLine();\r\n\t\t\tInteger count = 0;\r\n\t\t\tHashSet&lt;String&gt; hset = new HashSet&lt;String&gt;();\r\n\r\n\t\t\twhile (line != null) {\r\n\t\t\t\t//System.out.println(&quot;data &lt;&quot; + count + &quot;&gt; :&quot; + line);\r\n\t\t\t\tcount++;\r\n\t\t\t\tfile.add(line);\r\n\t\t\t\tfile.add(&quot;\\n&quot;);\r\n\t\t\t\tline = br.readLine();\r\n\t\t\t}\r\n\r\n\t\t\tEquivalenceGroupsTO equivalenceGroupsTO = new EquivalenceGroupsTO();\r\n\r\n\t\t\tList&lt;EquivalenceGroupsTO&gt; equivalenceGroupsTOs = new ArrayList&lt;&gt;();\r\n\r\n\t\t\tfor (String row : file) {\r\n\t\t\t\tequivalenceGroupsTO = new EquivalenceGroupsTO();\r\n\t\t\t\tString[] str = row.split(&quot;|&quot;);\r\n\t\t\t\tequivalenceGroupsTO.setEquivalenceGroupsCode(str[5]);\r\n\t\t\t\tequivalenceGroupsTO.setDescription(str[7]);\r\n\t\t\t\tequivalenceGroupsTO.setLastUpdateDate(new Date());\r\n\t\t\t\tequivalenceGroupsTOs.add(equivalenceGroupsTO);\r\n\t\t\t\tSystem.out.println(&quot;Tutto ok!&quot;);\r\n\t\t\t}\r\n\t\t\treturn equivalenceGroupsTOs;\r\n\t\t}\r\n\t}\r\nI need to set in the **equivalenceGroupsTO.setEquivalenceGroupsCode** and in the **equivalenceGroupsTO.setDecription** (which are strings) respectively the strings after the fifth and the seventh &quot;|&quot; , then &quot;**BSN**&quot; and &quot;**STATE UNITED**&quot;.\r\n\r\nBut if I start this script it gives me this error:\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 1\r\n\tat it.utils.my2.read(OpenTXTCodifa.java:46)\r\n\t\r\n\r\nWhat am I doing wrong?","title":"Split a string in Java and insert it into an empty string","body":"<p>I have a CSV file with the following data:</p>\n<pre><code>20210903|0000000001|0081|A|T60|BSN|002|STATE UNITED\n</code></pre>\n<p>I have imported this file in my java application with this code:</p>\n<pre><code>public List&lt;EquivalenceGroupsTO&gt; read() throws FileNotFoundException, IOException {\n\n    try (BufferedReader br = new BufferedReader(new FileReader(&quot;/home/myself/Desk/blaBla/T60.csv&quot;))) {\n\n        List&lt;String&gt; file = new ArrayList&lt;String&gt;();\n        StringBuilder sb = new StringBuilder();\n        String line = br.readLine();\n        Integer count = 0;\n        HashSet&lt;String&gt; hset = new HashSet&lt;String&gt;();\n\n        while (line != null) {\n            //System.out.println(&quot;data &lt;&quot; + count + &quot;&gt; :&quot; + line);\n            count++;\n            file.add(line);\n            file.add(&quot;\\n&quot;);\n            line = br.readLine();\n        }\n\n        EquivalenceGroupsTO equivalenceGroupsTO = new EquivalenceGroupsTO();\n\n        List&lt;EquivalenceGroupsTO&gt; equivalenceGroupsTOs = new ArrayList&lt;&gt;();\n\n        for (String row : file) {\n            equivalenceGroupsTO = new EquivalenceGroupsTO();\n            String[] str = row.split(&quot;|&quot;);\n            equivalenceGroupsTO.setEquivalenceGroupsCode(str[5]);\n            equivalenceGroupsTO.setDescription(str[7]);\n            equivalenceGroupsTO.setLastUpdateDate(new Date());\n            equivalenceGroupsTOs.add(equivalenceGroupsTO);\n            System.out.println(&quot;Tutto ok!&quot;);\n        }\n        return equivalenceGroupsTOs;\n    }\n}\n</code></pre>\n<p>I need to set in the <strong>equivalenceGroupsTO.setEquivalenceGroupsCode</strong> and in the <strong>equivalenceGroupsTO.setDecription</strong> (which are strings) respectively the strings after the fifth and the seventh &quot;|&quot; , then &quot;<strong>BSN</strong>&quot; and &quot;<strong>STATE UNITED</strong>&quot;.</p>\n<p>But if I start this script it gives me this error:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 1\nat it.utils.my2.read(OpenTXTCodifa.java:46)\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1635053950,"post_id":69694028,"comment_id":123189593,"body_markdown":"`System.out.printf(&quot;%d is greater than %d%n&quot;, Math.max(a, b), Math.min(a, b));`","body":"<code>System.out.printf(&quot;%d is greater than %d%n&quot;, Math.max(a, b), Math.min(a, b));</code>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635118702,"creation_date":1635052161,"answer_id":69694042,"question_id":69694028,"body_markdown":"Use the ternary:\r\n\r\n    System.out.println((a &gt; b ? &quot;a&quot; : &quot;b&quot;) + &quot; is greater&quot;);\r\n\r\nNote: Both this code and your code assumes that `a` is not equal to `b`.\r\n\r\n---\r\n\r\nA more contrived solution would be:\r\n\r\n    switch ((int) Math.signum(Integer.compare(a, b))) {\r\n        case 1:\r\n            System.out.println(&quot;a is greater&quot;);\r\n            break;\r\n        default:\r\n            System.out.println(&quot;b is greater&quot;);\r\n    }","title":"Conditional Operator without if...else in java","body":"<p>Use the ternary:</p>\n<pre><code>System.out.println((a &gt; b ? &quot;a&quot; : &quot;b&quot;) + &quot; is greater&quot;);\n</code></pre>\n<p>Note: Both this code and your code assumes that <code>a</code> is not equal to <code>b</code>.</p>\n<hr />\n<p>A more contrived solution would be:</p>\n<pre><code>switch ((int) Math.signum(Integer.compare(a, b))) {\n    case 1:\n        System.out.println(&quot;a is greater&quot;);\n        break;\n    default:\n        System.out.println(&quot;b is greater&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7557651,"reputation":51,"user_id":5736615,"display_name":"Piyush Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635052270,"creation_date":1635052270,"answer_id":69694049,"question_id":69694028,"body_markdown":"we can use the Java Ternary Operator.\r\n\r\n    System.out.println((a &gt; b ? &quot;a&quot; : &quot;b&quot;) + &quot; is greater);\r\n\r\nfor more follow this: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html","title":"Conditional Operator without if...else in java","body":"<p>we can use the Java Ternary Operator.</p>\n<pre><code>System.out.println((a &gt; b ? &quot;a&quot; : &quot;b&quot;) + &quot; is greater);\n</code></pre>\n<p>for more follow this: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html</a></p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635060472,"creation_date":1635060472,"answer_id":69694676,"question_id":69694028,"body_markdown":"This is pretty easy using `Math`:\r\n```java\r\nint max = Math.max(a, b);\r\n```","title":"Conditional Operator without if...else in java","body":"<p>This is pretty easy using <code>Math</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int max = Math.max(a, b);\n</code></pre>\n"}],"owner":{"account_id":21923568,"reputation":37,"user_id":16206506,"display_name":"Captain  Tiger "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1635118702,"creation_date":1635051982,"question_id":69694028,"body_markdown":"So recently I got a question that how to perform the function of if...else without if...else.\r\nLike if a program is to find the greater between integer `a` and `b`, one would easily write that \r\n\r\n    if (a&gt;b) {\r\n       System.out.println(&quot;a is greater&quot;);\r\n    } else {\r\n       System.out.println(&quot;b is greater&quot;);\r\n    }\r\n\r\n\r\n\r\nIs there any other way to do this without `if...else` method?","title":"Conditional Operator without if...else in java","body":"<p>So recently I got a question that how to perform the function of if...else without if...else.\nLike if a program is to find the greater between integer <code>a</code> and <code>b</code>, one would easily write that</p>\n<pre><code>if (a&gt;b) {\n   System.out.println(&quot;a is greater&quot;);\n} else {\n   System.out.println(&quot;b is greater&quot;);\n}\n</code></pre>\n<p>Is there any other way to do this without <code>if...else</code> method?</p>\n"},{"tags":["java","swing","layout-manager","springlayout"],"comments":[{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":1,"creation_date":1362406902,"post_id":15203653,"comment_id":21424682,"body_markdown":"Beside first adding label C and afterwards add label B ?","body":"Beside first adding label C and afterwards add label B ?"},{"owner":{"account_id":1964936,"reputation":119,"user_id":1765457,"accept_rate":56,"display_name":"Keshava Murthy"},"score":0,"creation_date":1362407049,"post_id":15203653,"comment_id":21424769,"body_markdown":"Yep. Each row is being read in from an array, which means that if I can transpose it, I&#39;ll only need one for loop. Otherwise, I&#39;ll need 84 for loops (that&#39;s the number of rows I actually have). It&#39;s not an urgent question of anything. Just the kind of question that feels like it should have an easy solution.","body":"Yep. Each row is being read in from an array, which means that if I can transpose it, I&#39;ll only need one for loop. Otherwise, I&#39;ll need 84 for loops (that&#39;s the number of rows I actually have). It&#39;s not an urgent question of anything. Just the kind of question that feels like it should have an easy solution."}],"answers":[{"tags":[],"owner":{"account_id":22925911,"reputation":1,"user_id":17060977,"display_name":"Venye Zhao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635118404,"creation_date":1635118404,"answer_id":69701517,"question_id":15203653,"body_markdown":"Just switch the order of the &quot;b&quot; and &quot;c&quot;","title":"Java: Transposing a SpringLayout","body":"<p>Just switch the order of the &quot;b&quot; and &quot;c&quot;</p>\n"}],"owner":{"account_id":1964936,"reputation":119,"user_id":1765457,"accept_rate":56,"display_name":"Keshava Murthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635118404,"creation_date":1362406734,"question_id":15203653,"body_markdown":"I&#39;ve got a SpringLayout that I need to transpose.\r\n\r\nBasically, when you create a SpringLayout it fills out the panel by columns, so that if you have\r\n\r\n    JPanel temp = new JPanel()\r\n    retCase2.add(label = new JLabel(&quot;A&quot;));\r\n    retCase2.add(label = new JLabel(&quot;B&quot;));\r\n    retCase2.add(label = new JLabel(&quot;C&quot;));\r\n    retCase2.add(label = new JLabel(&quot;D&quot;));\r\n\r\n    Utils.makeCompactGrid(retCase2,\r\n\t2, 2, //rows, cols\r\n\t1, 1,        //initX, initY\r\n\t10, 10);  \r\n\r\nThe result is a table that looks like this:\r\n\r\n    A B\r\n    C D\r\n\r\nHowever, I want\r\n\r\n    A C\r\n    B D\r\n\r\nDoes anyone know how to do this?","title":"Java: Transposing a SpringLayout","body":"<p>I've got a SpringLayout that I need to transpose.</p>\n\n<p>Basically, when you create a SpringLayout it fills out the panel by columns, so that if you have</p>\n\n<pre><code>JPanel temp = new JPanel()\nretCase2.add(label = new JLabel(\"A\"));\nretCase2.add(label = new JLabel(\"B\"));\nretCase2.add(label = new JLabel(\"C\"));\nretCase2.add(label = new JLabel(\"D\"));\n\nUtils.makeCompactGrid(retCase2,\n2, 2, //rows, cols\n1, 1,        //initX, initY\n10, 10);  \n</code></pre>\n\n<p>The result is a table that looks like this:</p>\n\n<pre><code>A B\nC D\n</code></pre>\n\n<p>However, I want</p>\n\n<pre><code>A C\nB D\n</code></pre>\n\n<p>Does anyone know how to do this?</p>\n"},{"tags":["java","intellij-idea","corretto"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635117479,"creation_date":1635117479,"answer_id":69701447,"question_id":69701113,"body_markdown":"The `toolkit.createImage(String)` method takes in a string, and interprets it as a path, looking for __a file__ at that path. An entry in a jar file is not itself a file. It is therefore __impossible__ to use this method to read image files that are in a jar.\r\n\r\nHowever, that&#39;s not the only createImage method. There&#39;s also `toolkit.createImage(URL)` and that is the one you want.\r\n\r\n```\r\nSomeClass.class.getResource(&quot;something.png&quot;)\r\n```\r\n\r\nThis expression works on any class (`Foo.class` gets you the class instance for Foo, and all class instances have the `getResource` method), and will look for the named entry in the exact same place `SomeClass.class` (the file) lives. If `SomeClass.class` currently lives in a jar file, then that&#39;s where it&#39;ll look.\r\n\r\nThus, ensure that `img.png` is in the same place your class file is (ensure it is jarred along with the rest), and that will work. You can also ask for e.g. `SomeClass.class.getResource(&quot;/foo/bar/img.png&quot;)`; this will then look from the &#39;root&#39; of where SomeClass is. So if you have a jar such that if you run `jar tvf thatjar.jar` and you get:\r\n\r\n```\r\n....\r\n/com/foo/yourpackage/SomeClass.class\r\n....\r\n/foo/bar/img.png\r\n```\r\n\r\nthen `/foo/bar/img.png` works.\r\n\r\nthus: Once you know where you put that stuff in your jar file:\r\n\r\n```\r\ntoolkit.createImage(YourClass.class.getResource(&quot;image1.png&quot;))\r\n```\r\n\r\nis what you&#39;re looking for.\r\n","title":"Images not loading after creating Jar","body":"<p>The <code>toolkit.createImage(String)</code> method takes in a string, and interprets it as a path, looking for <strong>a file</strong> at that path. An entry in a jar file is not itself a file. It is therefore <strong>impossible</strong> to use this method to read image files that are in a jar.</p>\n<p>However, that's not the only createImage method. There's also <code>toolkit.createImage(URL)</code> and that is the one you want.</p>\n<pre><code>SomeClass.class.getResource(&quot;something.png&quot;)\n</code></pre>\n<p>This expression works on any class (<code>Foo.class</code> gets you the class instance for Foo, and all class instances have the <code>getResource</code> method), and will look for the named entry in the exact same place <code>SomeClass.class</code> (the file) lives. If <code>SomeClass.class</code> currently lives in a jar file, then that's where it'll look.</p>\n<p>Thus, ensure that <code>img.png</code> is in the same place your class file is (ensure it is jarred along with the rest), and that will work. You can also ask for e.g. <code>SomeClass.class.getResource(&quot;/foo/bar/img.png&quot;)</code>; this will then look from the 'root' of where SomeClass is. So if you have a jar such that if you run <code>jar tvf thatjar.jar</code> and you get:</p>\n<pre><code>....\n/com/foo/yourpackage/SomeClass.class\n....\n/foo/bar/img.png\n</code></pre>\n<p>then <code>/foo/bar/img.png</code> works.</p>\n<p>thus: Once you know where you put that stuff in your jar file:</p>\n<pre><code>toolkit.createImage(YourClass.class.getResource(&quot;image1.png&quot;))\n</code></pre>\n<p>is what you're looking for.</p>\n"}],"owner":{"display_name":"user17236595"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69701447,"answer_count":1,"score":0,"last_activity_date":1635117479,"creation_date":1635113087,"question_id":69701113,"body_markdown":"im wring a simple program and my images load in fine in the project but as soon as i export it into a jar file none of them load. i have little to no experiance creating artifacts or jar files.\r\n\r\nproject structure:\r\n\r\nproject:\r\n\r\n        src: \r\n           myclass1, myclass2...\r\n\r\n        res:\r\n            image1.png image2.png...\r\n\r\nim using Toolkit.getdefaultToolkit to load in images\r\n\r\nin my class i am loading the images in the constructor by writing \r\nmyImage = toolkit.getImage(&quot;res/image1.png&quot;);\r\nthis works perfectly fine in the project. does not work in the jar\r\n\r\ni have also tried\r\nmyImage = toolKit.getImage(&quot;image1.png&quot;);\r\nwhich does not work in the project or while opening the jar\r\n\r\ni know toolkit is not the best way to go about loading images but i would like to know how i can fix this issue while using toolkit.\r\n\r\nive even tried using the absolute path to a folder on my desktop and once again they load in fine in my project but they do not get loaded when opening the jar. please help ive tried everything. thanks\r\n\r\n(btw) if i open the jar file in intellij the images load but if i open the jar file in finder or from my desktop they do not. i want to be able to send the finished project to someone\r\n\r\n","title":"Images not loading after creating Jar","body":"<p>im wring a simple program and my images load in fine in the project but as soon as i export it into a jar file none of them load. i have little to no experiance creating artifacts or jar files.</p>\n<p>project structure:</p>\n<p>project:</p>\n<pre><code>    src: \n       myclass1, myclass2...\n\n    res:\n        image1.png image2.png...\n</code></pre>\n<p>im using Toolkit.getdefaultToolkit to load in images</p>\n<p>in my class i am loading the images in the constructor by writing\nmyImage = toolkit.getImage(&quot;res/image1.png&quot;);\nthis works perfectly fine in the project. does not work in the jar</p>\n<p>i have also tried\nmyImage = toolKit.getImage(&quot;image1.png&quot;);\nwhich does not work in the project or while opening the jar</p>\n<p>i know toolkit is not the best way to go about loading images but i would like to know how i can fix this issue while using toolkit.</p>\n<p>ive even tried using the absolute path to a folder on my desktop and once again they load in fine in my project but they do not get loaded when opening the jar. please help ive tried everything. thanks</p>\n<p>(btw) if i open the jar file in intellij the images load but if i open the jar file in finder or from my desktop they do not. i want to be able to send the finished project to someone</p>\n"},{"tags":["java","clojure","persistence","bytecode","java-bytecode-asm"],"comments":[{"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"score":0,"creation_date":1289334452,"post_id":4130903,"comment_id":4462166,"body_markdown":"I&#39;m by no means an expert on the topic, but it might be worth trying to persist the function *definitions* rather than the underlying bytecode. you can then just recompile the functions to bytecode when you load them back in.","body":"I&#39;m by no means an expert on the topic, but it might be worth trying to persist the function <i>definitions</i> rather than the underlying bytecode. you can then just recompile the functions to bytecode when you load them back in."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635115770,"creation_date":1289284257,"answer_id":4131061,"question_id":4130903,"body_markdown":"Unless you are running code via a tricky classloader, you should be able to do something like this:\r\n\r\n    Class&lt;?&gt; clazz = ....\r\n    String className = clazz.getCanonicalName();  // e.g. &quot;foo.Bar&quot;\r\n    String resourceName = ... // map className to a resource name; e.g. &quot;/foo/Bar.class&quot; \r\n    InputStream is = clazz.getClassLoader().getResourceAsStream(resourceName);\r\n\r\nThis gives you a handle on the contents of the &quot;.class&quot; file ... if it can be found.\r\n\r\nCaveats.  Some classloaders might:\r\n\r\n  - not let to open the &quot;.class&quot; resources at all, \r\n  - give you an encrypted bytecode stream, or\r\n  - give you bytecodes that are nor exactly what is being run, due to some on-the-fly transformation performed by the classloader.\r\n\r\nIf this approach doesn&#39;t work, you are pretty much out of options because the JVM does not provide a way to access the actual bytecodes that were loaded.","title":"Java: Getting Bytecode of Class at Runtime from within the Same JVM","body":"<p>Unless you are running code via a tricky classloader, you should be able to do something like this:</p>\n<pre><code>Class&lt;?&gt; clazz = ....\nString className = clazz.getCanonicalName();  // e.g. &quot;foo.Bar&quot;\nString resourceName = ... // map className to a resource name; e.g. &quot;/foo/Bar.class&quot; \nInputStream is = clazz.getClassLoader().getResourceAsStream(resourceName);\n</code></pre>\n<p>This gives you a handle on the contents of the &quot;.class&quot; file ... if it can be found.</p>\n<p>Caveats.  Some classloaders might:</p>\n<ul>\n<li>not let to open the &quot;.class&quot; resources at all,</li>\n<li>give you an encrypted bytecode stream, or</li>\n<li>give you bytecodes that are nor exactly what is being run, due to some on-the-fly transformation performed by the classloader.</li>\n</ul>\n<p>If this approach doesn't work, you are pretty much out of options because the JVM does not provide a way to access the actual bytecodes that were loaded.</p>\n"},{"tags":[],"owner":{"account_id":60264,"reputation":23015,"user_id":180090,"accept_rate":75,"display_name":"Keith Randall"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1289284775,"creation_date":1289284775,"answer_id":4131100,"question_id":4130903,"body_markdown":"You could write your own `ClassLoader` and hack up a scheme which records the bytecode as classes are loaded.\r\n\r\nYou would need to override `findClass` to find the class file yourself, load it into memory, save the data somewhere (for later serialization), then call `defineClass` to define that class in the JVM.\r\n","title":"Java: Getting Bytecode of Class at Runtime from within the Same JVM","body":"<p>You could write your own <code>ClassLoader</code> and hack up a scheme which records the bytecode as classes are loaded.</p>\n\n<p>You would need to override <code>findClass</code> to find the class file yourself, load it into memory, save the data somewhere (for later serialization), then call <code>defineClass</code> to define that class in the JVM.</p>\n"},{"tags":[],"owner":{"account_id":1676084,"reputation":11,"user_id":1541632,"display_name":"Jeff Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342812209,"creation_date":1342812209,"answer_id":11585722,"question_id":4130903,"body_markdown":"You can also use the Java Instrumentation API for this.  You get access to the bytes of the classfile before defineClass is invoked.  You can change them too!","title":"Java: Getting Bytecode of Class at Runtime from within the Same JVM","body":"<p>You can also use the Java Instrumentation API for this.  You get access to the bytes of the classfile before defineClass is invoked.  You can change them too!</p>\n"}],"owner":{"account_id":19277,"reputation":2651,"user_id":45051,"accept_rate":53,"display_name":"jennykwan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7600,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":4131100,"answer_count":3,"score":12,"last_activity_date":1635115770,"creation_date":1289282262,"question_id":4130903,"body_markdown":"Related to:  https://stackoverflow.com/questions/2737285/java-is-there-a-way-to-obtain-the-bytecode-for-a-class-at-runtime\r\n\r\nI&#39;m adding durability to Clojure, and I&#39;m finally at the point where I&#39;m ready to add functions.  In Clojure, functions are byte compiled into classes with invoke methods (among others).  In this way, functions are first class.  To make these durable, I need to serialize and deserialize these classes.  How do I get the bytecode for the class without having access to the .class file?\r\n\r\nPlease correct me if I&#39;m mistaken, but using an agent requires spawning a separate VM with the agent connecting to the first VM.  I need to do it from the same VM.\r\n\r\nIt&#39;s not enough to use Serializable to set and get the Class object.  Upon deserializing, I need to load the class, and upon subsequent VM instances, there may be a class name collision.  I need to modify the bytecode to rename the class to something unique at deserialization/class-load time.","title":"Java: Getting Bytecode of Class at Runtime from within the Same JVM","body":"<p>Related to:  <a href=\"https://stackoverflow.com/questions/2737285/java-is-there-a-way-to-obtain-the-bytecode-for-a-class-at-runtime\">Is there a way to obtain the bytecode for a class at runtime?</a></p>\n\n<p>I'm adding durability to Clojure, and I'm finally at the point where I'm ready to add functions.  In Clojure, functions are byte compiled into classes with invoke methods (among others).  In this way, functions are first class.  To make these durable, I need to serialize and deserialize these classes.  How do I get the bytecode for the class without having access to the .class file?</p>\n\n<p>Please correct me if I'm mistaken, but using an agent requires spawning a separate VM with the agent connecting to the first VM.  I need to do it from the same VM.</p>\n\n<p>It's not enough to use Serializable to set and get the Class object.  Upon deserializing, I need to load the class, and upon subsequent VM instances, there may be a class name collision.  I need to modify the bytecode to rename the class to something unique at deserialization/class-load time.</p>\n"},{"tags":["java","eclipselink","jpql","jpa-2.0"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1634740088,"post_id":69644728,"comment_id":123107172,"body_markdown":"can you define working and not working - is there an error, or is it just not returning results? Can you show the SQL if it is the later case and compare what is generated using EL 2.6.9 and EL 2.7.9?","body":"can you define working and not working - is there an error, or is it just not returning results? Can you show the SQL if it is the later case and compare what is generated using EL 2.6.9 and EL 2.7.9?"},{"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"score":0,"creation_date":1634747220,"post_id":69644728,"comment_id":123110395,"body_markdown":"I pasted the error trace.","body":"I pasted the error trace."},{"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"score":0,"creation_date":1634747323,"post_id":69644728,"comment_id":123110433,"body_markdown":"There is 100% no unbalanced parenthesis in the query. Cause the same query is working fine in older eclipselink version.","body":"There is 100% no unbalanced parenthesis in the query. Cause the same query is working fine in older eclipselink version."},{"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"score":0,"creation_date":1634751511,"post_id":69644728,"comment_id":123112004,"body_markdown":"I just pasted the generated SQL.","body":"I just pasted the generated SQL."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1634757570,"post_id":69644728,"comment_id":123114399,"body_markdown":"...fascinating! ..but with a [simple test like this](https://github.com/eclipse-ee4j/eclipselink/pull/575/files#diff-8dfd90225b502708f4e9a97ea5716e76960332ec3781f47c651a3766756a715a) (v.2.7.9 and your query), I could reproduce &quot;2 grammar problems&quot;! ..unfortunately i also reproduced it with 2.6.9 (and same query)!","body":"...fascinating! ..but with a <a href=\"https://github.com/eclipse-ee4j/eclipselink/pull/575/files#diff-8dfd90225b502708f4e9a97ea5716e76960332ec3781f47c651a3766756a715a\" rel=\"nofollow noreferrer\">simple test like this</a> (v.2.7.9 and your query), I could reproduce &quot;2 grammar problems&quot;! ..unfortunately i also reproduced it with 2.6.9 (and same query)!"},{"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"score":0,"creation_date":1634759475,"post_id":69644728,"comment_id":123115097,"body_markdown":"Unfortunately I have no idea what you mean. How is this related to Turkish locale? I&#39;m not using turkish locale.","body":"Unfortunately I have no idea what you mean. How is this related to Turkish locale? I&#39;m not using turkish locale."}],"answers":[{"tags":[],"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635115664,"creation_date":1635115664,"answer_id":69701309,"question_id":69644728,"body_markdown":"My solution was to switch to nativeQuery. \r\nThe query looks like following:\r\n\r\n    getEntityManager().createNativeQuery(&quot;SELECT * FROM entity p WHERE (p.type = ?) AND SQRT( (( 71.5*(p.longitude - ?))*( 71.5*(p.longitude - ?))) + (( 111.3 * (p.latitude - ?))*( 111.3*(p.latitude - ?)))) &lt;= 15.0 ORDER BY SQRT( (( 71.5*(p.longitude - ?))*( 71.5*(p.longitude - ?))) + (( 111.3 * (p.latitude - ?))*( 111.3*(p.latitude - ?)))) ASC&quot;, Entity.class);\r\n\r\n","title":"JPA query, SQRT function not working in ORDER BY clause","body":"<p>My solution was to switch to nativeQuery.\nThe query looks like following:</p>\n<pre><code>getEntityManager().createNativeQuery(&quot;SELECT * FROM entity p WHERE (p.type = ?) AND SQRT( (( 71.5*(p.longitude - ?))*( 71.5*(p.longitude - ?))) + (( 111.3 * (p.latitude - ?))*( 111.3*(p.latitude - ?)))) &lt;= 15.0 ORDER BY SQRT( (( 71.5*(p.longitude - ?))*( 71.5*(p.longitude - ?))) + (( 111.3 * (p.latitude - ?))*( 111.3*(p.latitude - ?)))) ASC&quot;, Entity.class);\n</code></pre>\n"}],"owner":{"account_id":794853,"reputation":519,"user_id":920485,"accept_rate":63,"display_name":"codyLine"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635115664,"creation_date":1634727368,"question_id":69644728,"body_markdown":"I have following JPA query \r\n\r\n    SELECT p FROM Entity p WHERE p.type = (:type1) AND SQRT((( (:constlong)*(p.longitude - (:long)))*((:constlong)*(p.longitude - (:long)))) + (((:constlat) * (p.latitude - (:lat)))*((:constlat)*(p.latitude - (:lat))))) &lt;= :rad ORDER BY SQRT((( (:constlong)*(p.longitude - (:long)))*((:constlong)*(p.longitude - (:long)))) + (((:constlat) * (p.latitude - (:lat)))*((:constlat)*(p.latitude - (:lat))))) ASC\r\n\r\n\r\nThis query was working fine with eclipselink 2.6.9 . After Updating to version 2.7.9, it stops working. When I remove the ```ORDER BY``` clause it works again.\r\nI need to sort my entities by distance which is calculated in the ```SQRT``` expression.\r\n\r\nCan somebody help with this?\r\n\r\n**EDIT**\r\n\r\nHere is the error:\r\n\r\n    18:08:58,197 INFO  [stdout] (default task-1) Query error java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager: \r\n    18:08:58,197 INFO  [stdout] (default task-1) Exception Description: Syntax error parsing [SELECT p FROM Entity p WHERE p.type = (:type1) AND SQRT((( (:constlong)*(p.longitude - (:long)))*((:constlong)*(p.longitude - (:long)))) + (((:constlat) * (p.latitude - (:lat)))*((:constlat)*(p.latitude - (:lat))))) &lt;= :rad ORDER BY SQRT((( (:constlong)*(p.longitude - (:long)))*((:constlong)*(p.longitude - (:long)))) + (((:constlat) * (p.latitude - (:lat)))*((:constlat)*(p.latitude - (:lat))))) ASC]. \r\n    18:08:58,197 INFO  [stdout] (default task-1) [553, 553] The right parenthesis is missing from the SQRT expression.\r\n    18:08:58,197 INFO  [stdout] (default task-1) [635, 640] The query contains a malformed ending.\r\n\r\n\r\nHere is the generated sql in eclipselink version 2.6.4\r\n\r\n    SELECT entityid, latitude, longitude FROM public.entity WHERE (((type = ?) OR (type = ?)) AND (SQRT((((? * (longitude - ?)) * (? * (longitude - ?))) + ((? * (latitude - ?)) * (? * (latitude - ?))))) &lt;= ?)) ORDER BY SQRT((((? * (longitude - ?)) * (? * (longitude - ?))) + ((? * (latitude - ?)) * (? * (latitude - ?))))) ASC\r\n\r\nAnd in version 2.7.7. without ```order by```\r\n\r\n    SELECT entityid, latitude, longitude FROM public.entity WHERE (((type = ?) OR (type = ?)) AND (SQRT((((? * (longitude - ?)) * (? * (longitude - ?))) + ((? * (latitude - ?)) * (? * (latitude - ?))))) &lt;= ?))\r\n\r\n\r\n**2. EDIT**\r\n\r\nI did some further digging. The query above is also not working with eclipselink version 2.6.9. But it&#39;s definitely working with version 2.6.4.\r\nSomething has changed between this 2 versions. ","title":"JPA query, SQRT function not working in ORDER BY clause","body":"<p>I have following JPA query</p>\n<pre><code>SELECT p FROM Entity p WHERE p.type = (:type1) AND SQRT((( (:constlong)*(p.longitude - (:long)))*((:constlong)*(p.longitude - (:long)))) + (((:constlat) * (p.latitude - (:lat)))*((:constlat)*(p.latitude - (:lat))))) &lt;= :rad ORDER BY SQRT((( (:constlong)*(p.longitude - (:long)))*((:constlong)*(p.longitude - (:long)))) + (((:constlat) * (p.latitude - (:lat)))*((:constlat)*(p.latitude - (:lat))))) ASC\n</code></pre>\n<p>This query was working fine with eclipselink 2.6.9 . After Updating to version 2.7.9, it stops working. When I remove the <code>ORDER BY</code> clause it works again.\nI need to sort my entities by distance which is calculated in the <code>SQRT</code> expression.</p>\n<p>Can somebody help with this?</p>\n<p><strong>EDIT</strong></p>\n<p>Here is the error:</p>\n<pre><code>18:08:58,197 INFO  [stdout] (default task-1) Query error java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager: \n18:08:58,197 INFO  [stdout] (default task-1) Exception Description: Syntax error parsing [SELECT p FROM Entity p WHERE p.type = (:type1) AND SQRT((( (:constlong)*(p.longitude - (:long)))*((:constlong)*(p.longitude - (:long)))) + (((:constlat) * (p.latitude - (:lat)))*((:constlat)*(p.latitude - (:lat))))) &lt;= :rad ORDER BY SQRT((( (:constlong)*(p.longitude - (:long)))*((:constlong)*(p.longitude - (:long)))) + (((:constlat) * (p.latitude - (:lat)))*((:constlat)*(p.latitude - (:lat))))) ASC]. \n18:08:58,197 INFO  [stdout] (default task-1) [553, 553] The right parenthesis is missing from the SQRT expression.\n18:08:58,197 INFO  [stdout] (default task-1) [635, 640] The query contains a malformed ending.\n</code></pre>\n<p>Here is the generated sql in eclipselink version 2.6.4</p>\n<pre><code>SELECT entityid, latitude, longitude FROM public.entity WHERE (((type = ?) OR (type = ?)) AND (SQRT((((? * (longitude - ?)) * (? * (longitude - ?))) + ((? * (latitude - ?)) * (? * (latitude - ?))))) &lt;= ?)) ORDER BY SQRT((((? * (longitude - ?)) * (? * (longitude - ?))) + ((? * (latitude - ?)) * (? * (latitude - ?))))) ASC\n</code></pre>\n<p>And in version 2.7.7. without <code>order by</code></p>\n<pre><code>SELECT entityid, latitude, longitude FROM public.entity WHERE (((type = ?) OR (type = ?)) AND (SQRT((((? * (longitude - ?)) * (? * (longitude - ?))) + ((? * (latitude - ?)) * (? * (latitude - ?))))) &lt;= ?))\n</code></pre>\n<p><strong>2. EDIT</strong></p>\n<p>I did some further digging. The query above is also not working with eclipselink version 2.6.9. But it's definitely working with version 2.6.4.\nSomething has changed between this 2 versions.</p>\n"},{"tags":["java","maven","intellij-idea","spring-boot","multi-module"],"answers":[{"tags":[],"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1607094914,"creation_date":1462869575,"answer_id":37133285,"question_id":37133210,"body_markdown":"The Spring Boot main application is in the `core` module, which does not have a dependency on the `webgateway` module. Therefore the class with the controller will not be present at runtime and can not be discovered by spring.\r\n\r\n**Fix**: Add dependency to the `webgateway` to the core or move the launcher/main class to the `webgateway` module.\r\n\r\nYou can also use a third module that does the launching and has the dependencies to `core` and `webgateway`.\r\n","title":"SpringBoot doesn&#39;t recognize RestController from another module in multi module Java application","body":"<p>The Spring Boot main application is in the <code>core</code> module, which does not have a dependency on the <code>webgateway</code> module. Therefore the class with the controller will not be present at runtime and can not be discovered by spring.</p>\n<p><strong>Fix</strong>: Add dependency to the <code>webgateway</code> to the core or move the launcher/main class to the <code>webgateway</code> module.</p>\n<p>You can also use a third module that does the launching and has the dependencies to <code>core</code> and <code>webgateway</code>.</p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1623133170,"creation_date":1589655957,"answer_id":61842164,"question_id":37133210,"body_markdown":"I was stuck in this problems since last one day... The solution below will save you a lot of time for sure!\r\n\r\nHere is how I solved it:\r\n\r\n1. Create a separate module for main `Application` class.\r\n\r\n    x-service\r\n      - pom.xml (parent)\r\n      - child1-module\r\n         - pom.xml\r\n      - child2-module\r\n         - pom.xml\r\n      - app-module\r\n         - pom.xml (contains dependency for both child1 and child2)\r\n         - src/main/java/Application.java\r\n\r\n\r\n2. Add all the modules as dependencies in the pom of the module having application class.\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n                          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;x-service&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.a.b.c&lt;/groupId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;app-module&lt;/artifactId&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.a.b.cs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;child1-module&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.a.b.cs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;child1-module&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;executable&gt;true&lt;/executable&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n3. Keep the main pom as parent pom.\r\n\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n         &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;child1-module&lt;/module&gt;\r\n            &lt;module&gt;child2-module&lt;/module&gt;\r\n            &lt;module&gt;app-module&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;com.a.b.c&lt;/groupId&gt;\r\n        &lt;artifactId&gt;x-service&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n4. Add the parent pom artifect as parent in all child poms.\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;dxg-service&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.a.b.c&lt;/groupId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.a.b.c&lt;/groupId&gt;\r\n        &lt;artifactId&gt;child1-module&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.a.b.c&lt;/groupId&gt;\r\n                &lt;artifactId&gt;child2-modulde&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nMore details here:\r\nhttps://medium.com/macoclock/how-create-multi-module-project-in-intellij-on-macos-50f07e52b7f9\r\n","title":"SpringBoot doesn&#39;t recognize RestController from another module in multi module Java application","body":"<p>I was stuck in this problems since last one day... The solution below will save you a lot of time for sure!</p>\n<p>Here is how I solved it:</p>\n<ol>\n<li><p>Create a separate module for main <code>Application</code> class.</p>\n<p>x-service</p>\n<ul>\n<li>pom.xml (parent)</li>\n<li>child1-module\n<ul>\n<li>pom.xml</li>\n</ul>\n</li>\n<li>child2-module\n<ul>\n<li>pom.xml</li>\n</ul>\n</li>\n<li>app-module\n<ul>\n<li>pom.xml (contains dependency for both child1 and child2)</li>\n<li>src/main/java/Application.java</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Add all the modules as dependencies in the pom of the module having application class.</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n                   http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;parent&gt;\n     &lt;artifactId&gt;x-service&lt;/artifactId&gt;\n     &lt;groupId&gt;com.a.b.c&lt;/groupId&gt;\n     &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n &lt;/parent&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n &lt;artifactId&gt;app-module&lt;/artifactId&gt;\n\n &lt;dependencies&gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;com.a.b.cs&lt;/groupId&gt;\n         &lt;artifactId&gt;child1-module&lt;/artifactId&gt;\n         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;com.a.b.cs&lt;/groupId&gt;\n         &lt;artifactId&gt;child1-module&lt;/artifactId&gt;\n         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n         &lt;scope&gt;compile&lt;/scope&gt;\n     &lt;/dependency&gt;\n &lt;/dependencies&gt;\n\n &lt;build&gt;\n     &lt;resources&gt;\n         &lt;resource&gt;\n             &lt;directory&gt;src/main/resources&lt;/directory&gt;\n             &lt;filtering&gt;true&lt;/filtering&gt;\n         &lt;/resource&gt;\n     &lt;/resources&gt;\n     &lt;plugins&gt;\n         &lt;plugin&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n             &lt;configuration&gt;\n                 &lt;executable&gt;true&lt;/executable&gt;\n             &lt;/configuration&gt;\n         &lt;/plugin&gt;\n     &lt;/plugins&gt;\n &lt;/build&gt;\n</code></pre>\n \n</li>\n<li><p>Keep the main pom as parent pom.</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n  &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n   http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n &lt;packaging&gt;pom&lt;/packaging&gt;\n &lt;modules&gt;\n     &lt;module&gt;child1-module&lt;/module&gt;\n     &lt;module&gt;child2-module&lt;/module&gt;\n     &lt;module&gt;app-module&lt;/module&gt;\n &lt;/modules&gt;\n &lt;parent&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n     &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n     &lt;relativePath/&gt;\n &lt;/parent&gt;\n\n &lt;groupId&gt;com.a.b.c&lt;/groupId&gt;\n &lt;artifactId&gt;x-service&lt;/artifactId&gt;\n &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n &lt;properties&gt;\n     &lt;java.version&gt;1.8&lt;/java.version&gt;\n &lt;/properties&gt;\n\n &lt;dependencies&gt;\n\n     &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n\n\n &lt;/dependencies&gt;\n\n &lt;build&gt;\n     &lt;plugins&gt;\n         &lt;plugin&gt;\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n             &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n         &lt;/plugin&gt;\n     &lt;/plugins&gt;\n &lt;/build&gt;\n</code></pre>\n \n</li>\n<li><p>Add the parent pom artifect as parent in all child poms.</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n      http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;parent&gt;\n     &lt;artifactId&gt;dxg-service&lt;/artifactId&gt;\n     &lt;groupId&gt;com.a.b.c&lt;/groupId&gt;\n     &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n &lt;/parent&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n &lt;groupId&gt;com.a.b.c&lt;/groupId&gt;\n &lt;artifactId&gt;child1-module&lt;/artifactId&gt;\n &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n &lt;dependencies&gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;com.a.b.c&lt;/groupId&gt;\n         &lt;artifactId&gt;child2-modulde&lt;/artifactId&gt;\n         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n     &lt;/dependency&gt;\n &lt;/dependencies&gt;\n</code></pre>\n \n</li>\n</ol>\n<p>More details here:\n<a href=\"https://medium.com/macoclock/how-create-multi-module-project-in-intellij-on-macos-50f07e52b7f9\" rel=\"nofollow noreferrer\">https://medium.com/macoclock/how-create-multi-module-project-in-intellij-on-macos-50f07e52b7f9</a></p>\n"},{"tags":[],"owner":{"account_id":8356750,"reputation":3326,"user_id":6276704,"accept_rate":44,"display_name":"Tigerware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613430609,"creation_date":1613430609,"answer_id":66216625,"question_id":37133210,"body_markdown":"I had added the correct dependency and Spring Boot still did not find my new Controller. Seems like IntelliJ IDEA (2020.3.2) or Maven (3.3.6) don&#39;t update properly when a module gets added. This solved it for me:\r\n\r\n1. Maven:\r\nclean + install on the parent project\r\n\r\n2. In IntelliJ from the file menu `Invalidate Caches / Restart..`","title":"SpringBoot doesn&#39;t recognize RestController from another module in multi module Java application","body":"<p>I had added the correct dependency and Spring Boot still did not find my new Controller. Seems like IntelliJ IDEA (2020.3.2) or Maven (3.3.6) don't update properly when a module gets added. This solved it for me:</p>\n<ol>\n<li><p>Maven:\nclean + install on the parent project</p>\n</li>\n<li><p>In IntelliJ from the file menu <code>Invalidate Caches / Restart..</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11381272,"reputation":73,"user_id":8344121,"display_name":"Master mj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635115534,"creation_date":1635115534,"answer_id":69701297,"question_id":37133210,"body_markdown":"as mentioned you should have parent pom with setup spring web starter in that and other modules must get that parent pom as their parent. be carful to add your root pom project to maven. to do this open maven in IDE and add pom.","title":"SpringBoot doesn&#39;t recognize RestController from another module in multi module Java application","body":"<p>as mentioned you should have parent pom with setup spring web starter in that and other modules must get that parent pom as their parent. be carful to add your root pom project to maven. to do this open maven in IDE and add pom.</p>\n"}],"owner":{"account_id":6061773,"reputation":542,"user_id":4733319,"accept_rate":43,"display_name":"Sorin J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18430,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":37133285,"answer_count":4,"score":21,"last_activity_date":1635115534,"creation_date":1462869343,"question_id":37133210,"body_markdown":"I&#39;ve spent quite some time but I can&#39;t get past this (configuration) issue. \r\n\r\n**Technology stack :** Java (1.8), Springboot (starter-parent, starter-web), Maven, IntelliJ IDEA\r\n\r\n**Description:** Trying to create a multi module Java application composed (at first) of 2 modules : \r\n\r\n 1. **core** module : main module (main business logic, every other module should see and interact through this one). This module contains the main application class.\r\n 2. **webgateway** module : Simple Rest Controller that will map a request and make calls to the **core** module \r\n\r\n**Issue:** Springboot doesn&#39;t load/scan the RestController from the webgateway module =&gt; 404 error when sending the http request\r\n\r\n**Github repo** : https://github.com/Sorin-J/Greeter\r\n\r\n**Project configuration :** \r\n\r\n    Greeter \r\n       |\r\n       + pom.xml (parent pom)\r\n       |\r\n       + -- core                                            \r\n       |     |\r\n       |     + ...\r\n       |     |\r\n       |     + pom.xml\r\n       |\r\n       + -- webgateway \r\n             |\r\n             + ...\r\n             |\r\n             + pom.xml (depends on core pom.xml)\r\n\r\n**Parent pom.xml :** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;groupId&gt;com.bet.jbs&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;Greeter&lt;/artifactId&gt;\r\n\t\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t\t&lt;modules&gt;\r\n\t\t\t&lt;module&gt;core&lt;/module&gt;\r\n\t\t\t&lt;module&gt;webgateway&lt;/module&gt;\r\n\t\t&lt;/modules&gt;\r\n\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/parent&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/project&gt;\r\n\r\n**core** module pom.xml :           \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0   http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;artifactId&gt;Greeter&lt;/artifactId&gt;\r\n\t\t\t&lt;groupId&gt;com.bet.jbs&lt;/groupId&gt;\r\n\t\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/parent&gt;\r\n\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\r\n\t&lt;/project&gt;\r\n\r\n**webgateway** module pom.xml : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0  http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;artifactId&gt;Greeter&lt;/artifactId&gt;\r\n\t\t\t&lt;groupId&gt;com.bet.jbs&lt;/groupId&gt;\r\n\t\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/parent&gt;\r\n\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;artifactId&gt;webgateway&lt;/artifactId&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.bet.jbs&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n**MainApplication** class from **core** module : \r\n\r\n    package com.bet.jbs.core;\r\n\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n\timport org.springframework.context.annotation.ComponentScan;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\r\n\t@Configuration\r\n\t@ComponentScan(basePackages = {&quot;com.bet.jbs.core&quot;, &quot;com.bet.jbs.webgateway&quot;})\r\n\t@EnableAutoConfiguration\r\n\tpublic class MainApplication {\r\n\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tSpringApplication.run(MainApplication.class, args);\r\n\t\t}\r\n\t}\r\n\r\n**GreetingController** class from **webgateway** module :\r\n\r\n    package com.bet.jbs.webgateway.controller;\r\n\r\n\timport com.bet.jbs.core.util.GreetingGenerator;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMethod;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\r\n\t@RestController\r\n\tpublic class GreetingController {\r\n\r\n\t\t@RequestMapping(value = &quot;/webgreeting&quot;, method = RequestMethod.GET)\r\n\t\tpublic String getGreeting() {\r\n\t\t\treturn &quot;WEBGATEWAY module says &quot; + GreetingGenerator.getRandomGreeting();\r\n\t\t}\r\n\t}\r\n\r\nJust to test that an identical REST controller would work fine if it is located in the **core** module, I&#39;ve created a similar **GreetingController** class also in **core** module (and this one works fine) :\r\n\r\n    package com.bet.jbs.core.controller;\r\n\r\n\timport com.bet.jbs.core.util.GreetingGenerator;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMethod;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\t/*\r\n\t * This REST controller should not be in the CORE component.\r\n\t * It is just for proving that this controller is recognized and the other one from WEBGATEWAY component is not.\r\n\t *\r\n\t */\r\n\t@RestController\r\n\tpublic class GreetingController {\r\n\r\n\t\t@RequestMapping(value = &quot;/coregreeting&quot;, method = RequestMethod.GET)\r\n\t\tpublic String getGreeting() {\r\n\t\t\treturn &quot;CORE module says &quot; + GreetingGenerator.getRandomGreeting();\r\n\t\t}\r\n\t}","title":"SpringBoot doesn&#39;t recognize RestController from another module in multi module Java application","body":"<p>I've spent quite some time but I can't get past this (configuration) issue. </p>\n\n<p><strong>Technology stack :</strong> Java (1.8), Springboot (starter-parent, starter-web), Maven, IntelliJ IDEA</p>\n\n<p><strong>Description:</strong> Trying to create a multi module Java application composed (at first) of 2 modules : </p>\n\n<ol>\n<li><strong>core</strong> module : main module (main business logic, every other module should see and interact through this one). This module contains the main application class.</li>\n<li><strong>webgateway</strong> module : Simple Rest Controller that will map a request and make calls to the <strong>core</strong> module </li>\n</ol>\n\n<p><strong>Issue:</strong> Springboot doesn't load/scan the RestController from the webgateway module => 404 error when sending the http request</p>\n\n<p><strong>Github repo</strong> : <a href=\"https://github.com/Sorin-J/Greeter\" rel=\"noreferrer\">https://github.com/Sorin-J/Greeter</a></p>\n\n<p><strong>Project configuration :</strong> </p>\n\n<pre><code>Greeter \n   |\n   + pom.xml (parent pom)\n   |\n   + -- core                                            \n   |     |\n   |     + ...\n   |     |\n   |     + pom.xml\n   |\n   + -- webgateway \n         |\n         + ...\n         |\n         + pom.xml (depends on core pom.xml)\n</code></pre>\n\n<p><strong>Parent pom.xml :</strong> </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.bet.jbs&lt;/groupId&gt;\n    &lt;artifactId&gt;Greeter&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;core&lt;/module&gt;\n        &lt;module&gt;webgateway&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>core</strong> module pom.xml :           </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0   http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;Greeter&lt;/artifactId&gt;\n        &lt;groupId&gt;com.bet.jbs&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>webgateway</strong> module pom.xml : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0  http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;Greeter&lt;/artifactId&gt;\n        &lt;groupId&gt;com.bet.jbs&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;webgateway&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.bet.jbs&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>MainApplication</strong> class from <strong>core</strong> module : </p>\n\n<pre><code>package com.bet.jbs.core;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan(basePackages = {\"com.bet.jbs.core\", \"com.bet.jbs.webgateway\"})\n@EnableAutoConfiguration\npublic class MainApplication {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(MainApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>GreetingController</strong> class from <strong>webgateway</strong> module :</p>\n\n<pre><code>package com.bet.jbs.webgateway.controller;\n\nimport com.bet.jbs.core.util.GreetingGenerator;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class GreetingController {\n\n    @RequestMapping(value = \"/webgreeting\", method = RequestMethod.GET)\n    public String getGreeting() {\n        return \"WEBGATEWAY module says \" + GreetingGenerator.getRandomGreeting();\n    }\n}\n</code></pre>\n\n<p>Just to test that an identical REST controller would work fine if it is located in the <strong>core</strong> module, I've created a similar <strong>GreetingController</strong> class also in <strong>core</strong> module (and this one works fine) :</p>\n\n<pre><code>package com.bet.jbs.core.controller;\n\nimport com.bet.jbs.core.util.GreetingGenerator;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n/*\n * This REST controller should not be in the CORE component.\n * It is just for proving that this controller is recognized and the other one from WEBGATEWAY component is not.\n *\n */\n@RestController\npublic class GreetingController {\n\n    @RequestMapping(value = \"/coregreeting\", method = RequestMethod.GET)\n    public String getGreeting() {\n        return \"CORE module says \" + GreetingGenerator.getRandomGreeting();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","regex"],"answers":[{"tags":[],"owner":{"account_id":18561614,"reputation":12195,"user_id":13525512,"display_name":"Tranbi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635095293,"creation_date":1635095293,"answer_id":69699020,"question_id":69698648,"body_markdown":"I am not quite sure of the use of `[^\\&quot;]@` in your expression... What is its purpose? could you provide an example?\r\n\r\nAnyway you have to remove @ from the list of excluded characters. and change the way you look a the end of your section. Try:\r\n```\r\n^@[^(]+?\\}\\n(?=\\@|$)\r\n```\r\n\r\n - `^@` matches @ at the beginning of a line\r\n - `[^(]+?` matches any character expect `(` one or more times until (`?` makes it lazy) the next occurrence of the next element...\r\n - `\\}\\n` your segments always end with a curly bracket followed by a new line\r\n - `(?=\\@|$)` the critical part: a lookahead that ensures the following element is either a `@` (new segment) or the end of the file, without capturing it. That way you don&#39;t cut a segment before its end and you can still capture the beginning of the next segment.\r\n\r\nTry a [Demo](https://regex101.com/r/SbIVdt/1)\r\n\r\n","title":"regex to get all between @ and @ in multilines text","body":"<p>I am not quite sure of the use of <code>[^\\&quot;]@</code> in your expression... What is its purpose? could you provide an example?</p>\n<p>Anyway you have to remove @ from the list of excluded characters. and change the way you look a the end of your section. Try:</p>\n<pre><code>^@[^(]+?\\}\\n(?=\\@|$)\n</code></pre>\n<ul>\n<li><code>^@</code> matches @ at the beginning of a line</li>\n<li><code>[^(]+?</code> matches any character expect <code>(</code> one or more times until (<code>?</code> makes it lazy) the next occurrence of the next element...</li>\n<li><code>\\}\\n</code> your segments always end with a curly bracket followed by a new line</li>\n<li><code>(?=\\@|$)</code> the critical part: a lookahead that ensures the following element is either a <code>@</code> (new segment) or the end of the file, without capturing it. That way you don't cut a segment before its end and you can still capture the beginning of the next segment.</li>\n</ul>\n<p>Try a <a href=\"https://regex101.com/r/SbIVdt/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n"},{"tags":[],"owner":{"account_id":15702039,"reputation":18231,"user_id":11329890,"display_name":"Ryszard Czech"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635113016,"creation_date":1635113016,"answer_id":69701110,"question_id":69698648,"body_markdown":"Use\r\n```java\r\n(?m)^@.+(?:\\n.+)*\r\n```\r\nSee [regex proof][1].\r\n\r\n**EXPLANATION**\r\n```java\r\n--------------------------------------------------------------------------------\r\n  ^                        the beginning of the line due to (?m)\r\n--------------------------------------------------------------------------------\r\n  @                        &#39;@&#39;\r\n--------------------------------------------------------------------------------\r\n  .+                       any character except \\n (1 or more times\r\n                           (matching the most amount possible))\r\n--------------------------------------------------------------------------------\r\n  (?:                      group, but do not capture (0 or more times\r\n                           (matching the most amount possible)):\r\n--------------------------------------------------------------------------------\r\n    \\n                       &#39;\\n&#39; (newline)\r\n--------------------------------------------------------------------------------\r\n    .+                       any character except \\n (1 or more times\r\n                             (matching the most amount possible))\r\n--------------------------------------------------------------------------------\r\n  )*                       end of grouping\r\n```\r\n\r\n\r\n  [1]: https://regex101.com/r/EoElMN/1","title":"regex to get all between @ and @ in multilines text","body":"<p>Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>(?m)^@.+(?:\\n.+)*\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/EoElMN/1\" rel=\"nofollow noreferrer\">regex proof</a>.</p>\n<p><strong>EXPLANATION</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>--------------------------------------------------------------------------------\n  ^                        the beginning of the line due to (?m)\n--------------------------------------------------------------------------------\n  @                        '@'\n--------------------------------------------------------------------------------\n  .+                       any character except \\n (1 or more times\n                           (matching the most amount possible))\n--------------------------------------------------------------------------------\n  (?:                      group, but do not capture (0 or more times\n                           (matching the most amount possible)):\n--------------------------------------------------------------------------------\n    \\n                       '\\n' (newline)\n--------------------------------------------------------------------------------\n    .+                       any character except \\n (1 or more times\n                             (matching the most amount possible))\n--------------------------------------------------------------------------------\n  )*                       end of grouping\n</code></pre>\n"}],"owner":{"account_id":20172137,"reputation":305,"user_id":14794715,"display_name":"Hasni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69699020,"answer_count":2,"score":1,"last_activity_date":1635113016,"creation_date":1635092400,"question_id":69698648,"body_markdown":"i hope you&#39;re fine.\r\n\r\nexample i have a text with tags \r\n@tag\r\ni want to get all text between the tags as parts (not as one, look at the picture at the end, at the top, the result is 4 matches and not one). the problem is inside the text of every tag maybe contains the symbol @, and this will cut my result matches.\r\n\r\n i tried several times with different regex but alwas without success\r\n\r\nthe final regex i use is :\r\n\r\n \r\n\r\n    ((^(@))|[^\\&quot;]@)[^(@)]+\\}\\n\r\n\r\n\r\nthe example centent text (that i use for trying) :\r\n\r\n    @main.xml\r\n    {&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\r\n    {&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\r\n\r\n\r\n    @main.xml_fab\r\n    {&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\r\n    {&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\r\n    {&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;@firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\r\n    \r\n    \r\n    @main.xml\r\n    {&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\r\n    {&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\r\n    \r\n    j\r\n    @main.xml_fab\r\n    {&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\r\n    {&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;center&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\r\n    {&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\r\n\r\n and this is picture show my problem\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8TAYG.jpg\r\n\r\n\r\ni want to get the whole parts between @tag1 and @tag2,3,4...ect,\r\nhow can i deal with the symbol @ if it is inside the content of tag ?","title":"regex to get all between @ and @ in multilines text","body":"<p>i hope you're fine.</p>\n<p>example i have a text with tags\n@tag\ni want to get all text between the tags as parts (not as one, look at the picture at the end, at the top, the result is 4 matches and not one). the problem is inside the text of every tag maybe contains the symbol @, and this will cut my result matches.</p>\n<p>i tried several times with different regex but alwas without success</p>\n<p>the final regex i use is :</p>\n<pre><code>((^(@))|[^\\&quot;]@)[^(@)]+\\}\\n\n</code></pre>\n<p>the example centent text (that i use for trying) :</p>\n<pre><code>@main.xml\n{&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\n{&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\n\n\n@main.xml_fab\n{&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\n{&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\n{&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;@firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\n\n\n@main.xml\n{&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\n{&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\n\nj\n@main.xml_fab\n{&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\n{&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;center&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\n{&quot;adSize&quot;:&quot;&quot;,&quot;adUnitId&quot;:&quot;&quot;,&quot;alpha&quot;:1.0,&quot;checked&quot;:0,&quot;choiceMode&quot;:0,&quot;clickable&quot;:1,&quot;convert&quot;:&quot;&quot;,&quot;customView&quot;:&quot;&quot;,&quot;dividerHeight&quot;:1,&quot;enabled&quot;:1,&quot;firstDayOfWeek&quot;:1,&quot;id&quot;:&quot;_fab&quot;,&quot;image&quot;:{&quot;rotate&quot;:0,&quot;scaleType&quot;:&quot;CENTER&quot;},&quot;indeterminate&quot;:&quot;false&quot;,&quot;index&quot;:0,&quot;inject&quot;:&quot;&quot;,&quot;layout&quot;:{&quot;backgroundColor&quot;:16777215,&quot;borderColor&quot;:-16740915,&quot;gravity&quot;}\n</code></pre>\n<p>and this is picture show my problem</p>\n<p><a href=\"https://i.stack.imgur.com/8TAYG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8TAYG.jpg\" alt=\"enter image description here\" /></a></p>\n<p>i want to get the whole parts between @tag1 and @tag2,3,4...ect,\nhow can i deal with the symbol @ if it is inside the content of tag ?</p>\n"},{"tags":["java","image","processing","collision"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1635111960,"post_id":69700938,"comment_id":123202134,"body_markdown":"Do you have other predrawn icons?","body":"Do you have other predrawn icons?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1635111973,"post_id":69700938,"comment_id":123202136,"body_markdown":"I would consider using something more like `if (x + 80 &gt;= width || x == 0) {` instead","body":"I would consider using something more like <code>if (x + 80 &gt;= width || x == 0) {</code> instead"}],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635112519,"creation_date":1635112519,"answer_id":69701067,"question_id":69700938,"body_markdown":"You can achieve what you want by scaling the geometry with [`scale()`](https://processing.org/reference/scale_.html). The idea is to scale with (1, 1), (-1, 1), (1, -1) or (-1, -1) depending on the direction of movement.   First [`translate()`](https://processing.org/reference/translate_.html) the image by (-40, -40). Now the (0, 0) is in the center of the image. After that flip (`scale`) the image. Finally `translate` the image to its traget position: \r\n\r\n```java\r\nint x;\r\nint y;\r\nint xspeed;\r\nint yspeed;\r\nint scale_x = 1;\r\nint scale_y = 1;\r\nPImage dvd;\r\n\r\nvoid setup() {\r\n  size(800, 600);\r\n  x = 400;\r\n  y = 100;\r\n  dvd = loadImage(&quot;topright.png&quot;);\r\n  xspeed = 10;\r\n  yspeed = 10;\r\n}\r\n\r\nvoid draw() {\r\n  background(50);\r\n  \r\n  pushMatrix();\r\n  translate(x+40, y+40);\r\n  scale(scale_x, scale_y);\r\n  translate(-40, -40);\r\n  image(dvd, 0, 0, 80, 60);\r\n  popMatrix();\r\n  \r\n  x = x + xspeed;\r\n  y = y + yspeed;\r\n  if (x + 80 &gt;= width) {\r\n    xspeed *= -1;\r\n    scale_x = -1;\r\n  }\r\n  else if (x &lt;= 0) {\r\n    xspeed *= -1;\r\n    scale_x = 1;\r\n  }\r\n  if (y + 60 &gt;= height) {\r\n    yspeed *= -1;\r\n    scale_y = -1;\r\n  } else if (y + 60 == height || y == 0) {\r\n    yspeed *= -1;\r\n    scale_y = 1;\r\n  }\r\n}\r\n```","title":"How to change the direction of a moving picture once it hits the corner of the screen","body":"<p>You can achieve what you want by scaling the geometry with <a href=\"https://processing.org/reference/scale_.html\" rel=\"nofollow noreferrer\"><code>scale()</code></a>. The idea is to scale with (1, 1), (-1, 1), (1, -1) or (-1, -1) depending on the direction of movement.   First <a href=\"https://processing.org/reference/translate_.html\" rel=\"nofollow noreferrer\"><code>translate()</code></a> the image by (-40, -40). Now the (0, 0) is in the center of the image. After that flip (<code>scale</code>) the image. Finally <code>translate</code> the image to its traget position:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x;\nint y;\nint xspeed;\nint yspeed;\nint scale_x = 1;\nint scale_y = 1;\nPImage dvd;\n\nvoid setup() {\n  size(800, 600);\n  x = 400;\n  y = 100;\n  dvd = loadImage(&quot;topright.png&quot;);\n  xspeed = 10;\n  yspeed = 10;\n}\n\nvoid draw() {\n  background(50);\n  \n  pushMatrix();\n  translate(x+40, y+40);\n  scale(scale_x, scale_y);\n  translate(-40, -40);\n  image(dvd, 0, 0, 80, 60);\n  popMatrix();\n  \n  x = x + xspeed;\n  y = y + yspeed;\n  if (x + 80 &gt;= width) {\n    xspeed *= -1;\n    scale_x = -1;\n  }\n  else if (x &lt;= 0) {\n    xspeed *= -1;\n    scale_x = 1;\n  }\n  if (y + 60 &gt;= height) {\n    yspeed *= -1;\n    scale_y = -1;\n  } else if (y + 60 == height || y == 0) {\n    yspeed *= -1;\n    scale_y = 1;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":20544106,"reputation":51,"user_id":15078400,"display_name":"Sejeel Tauseef"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635112519,"creation_date":1635111293,"question_id":69700938,"body_markdown":"The image that I have is a top right arrow and I want it to change direction once it collides with the corner or the edges of the screen this way my arrow picture can face the direction it is going.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\nint x;\r\nint y;\r\nint xspeed;\r\nint yspeed;\r\nPImage dvd;\r\n\r\nvoid setup() {\r\n  size(800, 600);\r\n  x = 400;\r\n  y = 100;\r\n  dvd = loadImage(&quot;topright.png&quot;);\r\n  xspeed = 10;\r\n  yspeed = 10;\r\n}\r\n\r\nvoid draw() {\r\n  background(50);\r\n  image(dvd, x, y, 80, 60);\r\n  x = x + xspeed;\r\n  y = y + yspeed;\r\n  if (x + 80 == width || x == 0) {\r\n    xspeed = xspeed * -1;\r\n  }\r\n  if (y + 60 == height || y == 0) {\r\n    yspeed = -yspeed;\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HIzLB.jpg","title":"How to change the direction of a moving picture once it hits the corner of the screen","body":"<p>The image that I have is a top right arrow and I want it to change direction once it collides with the corner or the edges of the screen this way my arrow picture can face the direction it is going.</p>\n<p><a href=\"https://i.stack.imgur.com/HIzLB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HIzLB.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>int x;\nint y;\nint xspeed;\nint yspeed;\nPImage dvd;\n\nvoid setup() {\n  size(800, 600);\n  x = 400;\n  y = 100;\n  dvd = loadImage(&quot;topright.png&quot;);\n  xspeed = 10;\n  yspeed = 10;\n}\n\nvoid draw() {\n  background(50);\n  image(dvd, x, y, 80, 60);\n  x = x + xspeed;\n  y = y + yspeed;\n  if (x + 80 == width || x == 0) {\n    xspeed = xspeed * -1;\n  }\n  if (y + 60 == height || y == 0) {\n    yspeed = -yspeed;\n  }\n}\n</code></pre>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1635083964,"post_id":69697415,"comment_id":123195178,"body_markdown":"Reading [this oracle documentation](https://docs.oracle.com/cd/B19306_01/server.102/b14225/ch4datetime.htm#i1007248) it seems that `TIMESTAMP` stores the time information without further timezone information, i.e. it just stores whatever it is given. To store in the local timezone, we would use `TIMESTAMP WITH LOCAL TIME ZONE`.","body":"Reading <a href=\"https://docs.oracle.com/cd/B19306_01/server.102/b14225/ch4datetime.htm#i1007248\" rel=\"nofollow noreferrer\">this oracle documentation</a> it seems that <code>TIMESTAMP</code> stores the time information without further timezone information, i.e. it just stores whatever it is given. To store in the local timezone, we would use <code>TIMESTAMP WITH LOCAL TIME ZONE</code>."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1635084191,"post_id":69697415,"comment_id":123195230,"body_markdown":"Possible duplicate of [Is java.sql.Timestamp timezone specific?](https://stackoverflow.com/questions/14070572/is-java-sql-timestamp-timezone-specific)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/14070572/is-java-sql-timestamp-timezone-specific\">Is java.sql.Timestamp timezone specific?</a>"},{"owner":{"account_id":1894369,"reputation":681,"user_id":1711670,"display_name":"humbleCoder"},"score":0,"creation_date":1635085585,"post_id":69697415,"comment_id":123195617,"body_markdown":"@MarkRotteveel it does partially answer my question. However, the difference is the java code perhaps that is the way I am storing the data into Oracle. I am using spring JDBC to store the and the intermediate steps that convert the date to the TIMESTAMP datatype are not clear to me atleast.","body":"@MarkRotteveel it does partially answer my question. However, the difference is the java code perhaps that is the way I am storing the data into Oracle. I am using spring JDBC to store the and the intermediate steps that convert the date to the TIMESTAMP datatype are not clear to me atleast."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1635085642,"post_id":69697415,"comment_id":123195632,"body_markdown":"The best way probably is to switch to using `java.time.LocalDateTime` instead of `java.util.Date`/`java.sql.Timestamp`.","body":"The best way probably is to switch to using <code>java.time.LocalDateTime</code> instead of <code>java.util.Date</code>/<code>java.sql.Timestamp</code>."},{"owner":{"account_id":1894369,"reputation":681,"user_id":1711670,"display_name":"humbleCoder"},"score":0,"creation_date":1635085659,"post_id":69697415,"comment_id":123195636,"body_markdown":"@Turing85 Seems like thats not the case. I have updated the documentation of Date and System.currentTimeMillis. They generate date in UTC format. So somewhere it seems that the date is converted/adjusted as per the local timezone.","body":"@Turing85 Seems like thats not the case. I have updated the documentation of Date and System.currentTimeMillis. They generate date in UTC format. So somewhere it seems that the date is converted/adjusted as per the local timezone."},{"owner":{"account_id":1894369,"reputation":681,"user_id":1711670,"display_name":"humbleCoder"},"score":0,"creation_date":1635085769,"post_id":69697415,"comment_id":123195666,"body_markdown":"@MarkRotteveel Actually I am working with Spring Batch (which I haven&#39;t mentioned in the question as I didn&#39;t think it was relevant). The JobExecution class comes from that library and the data types cannot be changed. It uses the Date data type.","body":"@MarkRotteveel Actually I am working with Spring Batch (which I haven&#39;t mentioned in the question as I didn&#39;t think it was relevant). The JobExecution class comes from that library and the data types cannot be changed. It uses the Date data type."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1635087429,"post_id":69697415,"comment_id":123196129,"body_markdown":"Is - by any chance - the timezone of spring-boot or the server set to `GMT` or `UTC`?","body":"Is - by any chance - the timezone of spring-boot or the server set to <code>GMT</code> or <code>UTC</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635111702,"creation_date":1635085974,"answer_id":69697725,"question_id":69697415,"body_markdown":"No, the `TIMESTAMP` data type does not store any time zone information. \r\n\r\nSee [*Datetime Data Types*](https://docs.oracle.com/en/database/oracle/oracle-database/21/cncpt/tables-and-table-clusters.html#GUID-F5FBE34D-911C-4818-9D25-64B2F1613A9B) documentation.\r\n\r\nOracle provides two timestamp data type supporting time zones:\r\n\r\n- `TIMESTAMP WITH TIME ZONE`\r\n\r\nAs the name implies it stores the timestamp with time zone information. Time zone can be give as region name (e.g. `Europe/Zurich`) or as UTC offset. Note, you cannot create an index on such column directly. Instead Oracle creates a virtual column of `SYS_EXTRACT_UTC(&lt;your column&gt;)` and index is created on this virtual column. You may need to adapt your queries accordingly.\r\n\r\nOften when you work with time zones, then a common approach is to store all times as UTC times and the client converts it to local times. This is exactly provided by second data type: \r\n\r\n- `TIMESTAMP WITH LOCAL TIME ZONE`\r\n\r\nIn a `TIMESTAMP WITH LOCAL TIME ZONE` all values are stored at `DBTIMEZONE` (which defaults to UTC) but values are **always** displayed in current user session time zone.\r\n\r\nAnother note, all comparison (e.g. `&lt;, &gt;, =, &gt;=, &lt;=`) of `TIMESTAMP WITH [LOCAL] TIME ZONE` values are performed on according UTC value.\r\n\r\n\r\n","title":"Does the TIMESTAMP datatype of Oracle store dates adjusted as per the local timezone?","body":"<p>No, the <code>TIMESTAMP</code> data type does not store any time zone information.</p>\n<p>See <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/cncpt/tables-and-table-clusters.html#GUID-F5FBE34D-911C-4818-9D25-64B2F1613A9B\" rel=\"nofollow noreferrer\"><em>Datetime Data Types</em></a> documentation.</p>\n<p>Oracle provides two timestamp data type supporting time zones:</p>\n<ul>\n<li><code>TIMESTAMP WITH TIME ZONE</code></li>\n</ul>\n<p>As the name implies it stores the timestamp with time zone information. Time zone can be give as region name (e.g. <code>Europe/Zurich</code>) or as UTC offset. Note, you cannot create an index on such column directly. Instead Oracle creates a virtual column of <code>SYS_EXTRACT_UTC(&lt;your column&gt;)</code> and index is created on this virtual column. You may need to adapt your queries accordingly.</p>\n<p>Often when you work with time zones, then a common approach is to store all times as UTC times and the client converts it to local times. This is exactly provided by second data type:</p>\n<ul>\n<li><code>TIMESTAMP WITH LOCAL TIME ZONE</code></li>\n</ul>\n<p>In a <code>TIMESTAMP WITH LOCAL TIME ZONE</code> all values are stored at <code>DBTIMEZONE</code> (which defaults to UTC) but values are <strong>always</strong> displayed in current user session time zone.</p>\n<p>Another note, all comparison (e.g. <code>&lt;, &gt;, =, &gt;=, &lt;=</code>) of <code>TIMESTAMP WITH [LOCAL] TIME ZONE</code> values are performed on according UTC value.</p>\n"}],"owner":{"account_id":1894369,"reputation":681,"user_id":1711670,"display_name":"humbleCoder"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635111702,"creation_date":1635083595,"question_id":69697415,"body_markdown":"I have a java application that uses Spring JDBC to store data into Oracle. The data includes timestamps/dates which we use to query certain data in the future.\r\n\r\nThe date fields are defined like so in the DDL SQL file :\r\n\r\n    JobExecution {\r\n        START_TIME TIMESTAMP DEFAULT NULL ,\r\n        END_TIME TIMESTAMP DEFAULT NULL \r\n    ...\r\n    }\r\n\r\nJava code to update these fields looks like so :\r\n\r\n    lastJobExecution.setEndTime(new Date(System.currentTimeMillis()));\r\n\r\n`new Date(System.currentTimeMillis())` stores current time in UTC format as per documentation below. The documentation of `System.currentTimeMillis()` says that it returns the following :\r\n\r\n&gt; the difference, measured in milliseconds, between the current time and\r\n&gt; midnight, January 1, 1970 UTC.\r\n\r\nThe documentation of `Date` says the following :\r\n\r\n&gt; Allocates a Date object and initializes it to represent the specified\r\n&gt; number of milliseconds since the standard base time known as &quot;the\r\n&gt; epoch&quot;, namely January 1, 1970, 00:00:00 GMT.\r\n&gt; \r\n&gt; Params: date  the milliseconds since January 1, 1970, 00:00:00 GMT.\r\n&gt; See Also: System.currentTimeMillis()\r\n\r\nHowever, when I connect to the oracle database using SQL developer, the date seems to be stored as per the local time and not UTC.\r\n\r\nQuestions :\r\n\r\n 1. Does Oracle `TIMESTAMP` adjust the date as per the local time? I can&#39;t find this explicitly written anywhere in the Oracle documentation.\r\n 2. If yes what would be the best way to handle this. One way could be to convert this to UTC every time I read the data from this table. Another way could be to store it in the UTC format itself.\r\n\r\n","title":"Does the TIMESTAMP datatype of Oracle store dates adjusted as per the local timezone?","body":"<p>I have a java application that uses Spring JDBC to store data into Oracle. The data includes timestamps/dates which we use to query certain data in the future.</p>\n<p>The date fields are defined like so in the DDL SQL file :</p>\n<pre><code>JobExecution {\n    START_TIME TIMESTAMP DEFAULT NULL ,\n    END_TIME TIMESTAMP DEFAULT NULL \n...\n}\n</code></pre>\n<p>Java code to update these fields looks like so :</p>\n<pre><code>lastJobExecution.setEndTime(new Date(System.currentTimeMillis()));\n</code></pre>\n<p><code>new Date(System.currentTimeMillis())</code> stores current time in UTC format as per documentation below. The documentation of <code>System.currentTimeMillis()</code> says that it returns the following :</p>\n<blockquote>\n<p>the difference, measured in milliseconds, between the current time and\nmidnight, January 1, 1970 UTC.</p>\n</blockquote>\n<p>The documentation of <code>Date</code> says the following :</p>\n<blockquote>\n<p>Allocates a Date object and initializes it to represent the specified\nnumber of milliseconds since the standard base time known as &quot;the\nepoch&quot;, namely January 1, 1970, 00:00:00 GMT.</p>\n<p>Params: date  the milliseconds since January 1, 1970, 00:00:00 GMT.\nSee Also: System.currentTimeMillis()</p>\n</blockquote>\n<p>However, when I connect to the oracle database using SQL developer, the date seems to be stored as per the local time and not UTC.</p>\n<p>Questions :</p>\n<ol>\n<li>Does Oracle <code>TIMESTAMP</code> adjust the date as per the local time? I can't find this explicitly written anywhere in the Oracle documentation.</li>\n<li>If yes what would be the best way to handle this. One way could be to convert this to UTC every time I read the data from this table. Another way could be to store it in the UTC format itself.</li>\n</ol>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635169019,"post_id":69700941,"comment_id":123216469,"body_markdown":"Is your onComplete even triggered?","body":"Is your onComplete even triggered?"},{"owner":{"account_id":22295510,"reputation":11,"user_id":16521602,"display_name":"ZaPolarBear"},"score":0,"creation_date":1635186034,"post_id":69700941,"comment_id":123223666,"body_markdown":"no, i added the deletion from lost there but itdon&#39;t go to onComplete","body":"no, i added the deletion from lost there but itdon&#39;t go to onComplete"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635228377,"post_id":69700941,"comment_id":123232824,"body_markdown":"Are you sure you have an internet connection on the user device?","body":"Are you sure you have an internet connection on the user device?"},{"owner":{"account_id":22295510,"reputation":11,"user_id":16521602,"display_name":"ZaPolarBear"},"score":0,"creation_date":1635318845,"post_id":69700941,"comment_id":123262076,"body_markdown":"Yes, i can write messages and it&#39;s sends to firebase, also it  works with image&#39;s, but u can&#39;t delete them","body":"Yes, i can write messages and it&#39;s sends to firebase, also it  works with image&#39;s, but u can&#39;t delete them"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635318901,"post_id":69700941,"comment_id":123262091,"body_markdown":"Have you tried to log the message when the task is not successful?","body":"Have you tried to log the message when the task is not successful?"},{"owner":{"account_id":22295510,"reputation":11,"user_id":16521602,"display_name":"ZaPolarBear"},"score":0,"creation_date":1635343280,"post_id":69700941,"comment_id":123272686,"body_markdown":"Yes, the same problem","body":"Yes, the same problem"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635343707,"post_id":69700941,"comment_id":123272895,"body_markdown":"Did you get any message?","body":"Did you get any message?"},{"owner":{"account_id":22295510,"reputation":11,"user_id":16521602,"display_name":"ZaPolarBear"},"score":0,"creation_date":1635347742,"post_id":69700941,"comment_id":123274925,"body_markdown":"i get this D/OpenGLRenderer: endAllActiveAnimators on 0xb400007432683e00 (AlertController$RecycleListView) with handle 0xb400007432681d40","body":"i get this D/OpenGLRenderer: endAllActiveAnimators on 0xb400007432683e00 (AlertController$RecycleListView) with handle 0xb400007432681d40"}],"owner":{"account_id":22295510,"reputation":11,"user_id":16521602,"display_name":"ZaPolarBear"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635111345,"creation_date":1635111345,"question_id":69700941,"body_markdown":"I&#39;m making a messanger with firebase/realtime database. When i want to delete message they deletes from list by:\r\n\r\n \r\n\r\n     public void delete(int position){\r\n            userMessagesList.remove(position);\r\n            notifyItemRemoved(position);\r\n        }\r\nBut when time goes to delete this message from realtime database i get this problem and nothing else:\r\n\r\nD/OpenGLRenderer: endAllActiveAnimators on 0xb400007432683e00 (AlertController$RecycleListView) with handle 0xb400007432681d40\r\n\r\n\r\n     private void deleteReceiverMessage(final int position, final MessageViewHolder holder) {\r\n            usersRef.child(messageReceiverId).child(messageSenderId).child(&quot;Messages&quot;).child(messageID)\r\n                    .child(userMessagesList.get(position).getTo())\r\n                    .child(userMessagesList.get(position).getFrom())\r\n                    .child(userMessagesList.get(position).getMessageID())\r\n                    .removeValue().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n    \r\n                    } else {\r\n    \r\n                    }\r\n                }\r\n            });\r\n    \r\n        }\r\n\r\n\r\n\r\nThis is my layout:\r\n\r\n  \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background = &#39;@android:color/white&#39;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/backtomainfromchat&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;24dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:src=&quot;@drawable/left_arrow&quot; /&gt;\r\n    \r\n        &lt;include\r\n            android:id=&quot;@+id/chat_toolbar&quot;\r\n            layout=&quot;@layout/custom_chat_bar&quot; /&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/private_messages_list_of_users&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_above=&quot;@+id/chat_linear_layout&quot;\r\n            android:layout_below=&quot;@+id/chat_toolbar&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:layout_marginBottom=&quot;6dp&quot; /&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/chat_linear_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:background=&quot;@drawable/corners14appcolor&quot;\r\n            android:layout_marginBottom=&quot;16dp&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            &gt;\r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/send_files_btn&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:background=&quot;@color/app_color&quot;\r\n                android:src=&quot;@drawable/ic_image&quot; /&gt;\r\n    \r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/input_message&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:layout_toStartOf=&quot;@+id/send_message_btn&quot;\r\n                android:layout_toLeftOf=&quot;@id/voiceinput&quot;\r\n                android:layout_toEndOf=&quot;@+id/send_files_btn&quot;\r\n                android:background=&quot;@color/app_color&quot;\r\n                android:fontFamily=&quot;@font/montserrat_bold&quot;\r\n                android:hint=&quot;...&quot;\r\n                android:maxLines=&quot;5&quot;\r\n                android:padding=&quot;15dp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textColorHint=&quot;@color/white&quot;\r\n                android:textSize=&quot;16sp&quot; /&gt;\r\n    \r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/send_message_btn&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:background=&quot;@color/app_color&quot;\r\n                android:src=&quot;@drawable/ic_sendmessage&quot; /&gt;\r\n    \r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/voiceinput&quot;\r\n                android:layout_width=&quot;36dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginEnd=&quot;4dp&quot;\r\n                android:layout_toLeftOf=&quot;@id/send_message_btn&quot;\r\n                android:src=&quot;@drawable/ic_voicemessage&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;","title":"endAllActiveAnimators on 0xb400007432683e00 (AlertController$RecycleListView)","body":"<p>I'm making a messanger with firebase/realtime database. When i want to delete message they deletes from list by:</p>\n<pre><code> public void delete(int position){\n        userMessagesList.remove(position);\n        notifyItemRemoved(position);\n    }\n</code></pre>\n<p>But when time goes to delete this message from realtime database i get this problem and nothing else:</p>\n<p>D/OpenGLRenderer: endAllActiveAnimators on 0xb400007432683e00 (AlertController$RecycleListView) with handle 0xb400007432681d40</p>\n<pre><code> private void deleteReceiverMessage(final int position, final MessageViewHolder holder) {\n        usersRef.child(messageReceiverId).child(messageSenderId).child(&quot;Messages&quot;).child(messageID)\n                .child(userMessagesList.get(position).getTo())\n                .child(userMessagesList.get(position).getFrom())\n                .child(userMessagesList.get(position).getMessageID())\n                .removeValue().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if (task.isSuccessful()) {\n\n                } else {\n\n                }\n            }\n        });\n\n    }\n</code></pre>\n<p>This is my layout:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background = '@android:color/white'&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/backtomainfromchat&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;24dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:src=&quot;@drawable/left_arrow&quot; /&gt;\n\n    &lt;include\n        android:id=&quot;@+id/chat_toolbar&quot;\n        layout=&quot;@layout/custom_chat_bar&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/private_messages_list_of_users&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_above=&quot;@+id/chat_linear_layout&quot;\n        android:layout_below=&quot;@+id/chat_toolbar&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;6dp&quot; /&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/chat_linear_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:background=&quot;@drawable/corners14appcolor&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        &gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/send_files_btn&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginStart=&quot;8dp&quot;\n            android:background=&quot;@color/app_color&quot;\n            android:src=&quot;@drawable/ic_image&quot; /&gt;\n\n\n        &lt;EditText\n            android:id=&quot;@+id/input_message&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:layout_toStartOf=&quot;@+id/send_message_btn&quot;\n            android:layout_toLeftOf=&quot;@id/voiceinput&quot;\n            android:layout_toEndOf=&quot;@+id/send_files_btn&quot;\n            android:background=&quot;@color/app_color&quot;\n            android:fontFamily=&quot;@font/montserrat_bold&quot;\n            android:hint=&quot;...&quot;\n            android:maxLines=&quot;5&quot;\n            android:padding=&quot;15dp&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textColorHint=&quot;@color/white&quot;\n            android:textSize=&quot;16sp&quot; /&gt;\n\n\n        &lt;ImageButton\n            android:id=&quot;@+id/send_message_btn&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:background=&quot;@color/app_color&quot;\n            android:src=&quot;@drawable/ic_sendmessage&quot; /&gt;\n\n\n        &lt;ImageView\n            android:id=&quot;@+id/voiceinput&quot;\n            android:layout_width=&quot;36dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginEnd=&quot;4dp&quot;\n            android:layout_toLeftOf=&quot;@id/send_message_btn&quot;\n            android:src=&quot;@drawable/ic_voicemessage&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","cassandra","spark-cassandra-connector"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1635060301,"post_id":69694236,"comment_id":123190411,"body_markdown":"what is the table schema? I don&#39;t think that you have a table consisting only of the list of entries. Also, what is the reason for not using DataFrame API instead of RDD?","body":"what is the table schema? I don&#39;t think that you have a table consisting only of the list of entries. Also, what is the reason for not using DataFrame API instead of RDD?"},{"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"score":0,"creation_date":1635061465,"post_id":69694236,"comment_id":123190591,"body_markdown":"Thanks @Alex Ott , It is binary tar files I want to load it from s3 on folder level with &quot;/&quot;, didn&#39;t find any example how use DataFrame , the tar are huge also i need to merge some content file after extracting the tar and convert them to Pojo list for cassandra (the tar schema is folders/files hierarchy when it untared)  . Regarding the schema and KEYSPACE I create it manually before but will share here in question (Btw, the bulk insert works with simple cassandra java api pretty well) , i wonder how can i do it with spark.","body":"Thanks @Alex Ott , It is binary tar files I want to load it from s3 on folder level with &quot;/&quot;, didn&#39;t find any example how use DataFrame , the tar are huge also i need to merge some content file after extracting the tar and convert them to Pojo list for cassandra (the tar schema is folders/files hierarchy when it untared)  . Regarding the schema and KEYSPACE I create it manually before but will share here in question (Btw, the bulk insert works with simple cassandra java api pretty well) , i wonder how can i do it with spark."},{"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"score":0,"creation_date":1635061477,"post_id":69694236,"comment_id":123190594,"body_markdown":"If you can convert it to DataFrame for best practices will be great :)","body":"If you can convert it to DataFrame for best practices will be great :)"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1635064607,"post_id":69694236,"comment_id":123191117,"body_markdown":"and `SearchEntity` is matching to the table by structure? Because the first thing that you&#39;ll need to do is `flatMap` - convert `RDD&lt;List&lt;SearchEntry&gt;&gt;` into the `RDD&lt;SearchEntry&gt;`. Also, what version of Spark Cassandra Connector?","body":"and <code>SearchEntity</code> is matching to the table by structure? Because the first thing that you&#39;ll need to do is <code>flatMap</code> - convert <code>RDD&lt;List&lt;SearchEntry&gt;&gt;</code> into the <code>RDD&lt;SearchEntry&gt;</code>. Also, what version of Spark Cassandra Connector?"},{"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"score":0,"creation_date":1635067707,"post_id":69694236,"comment_id":123191707,"body_markdown":"Yes SearchEntity exactly fit to structure (it works with basic java cassandra connector).  &lt;version&gt;3.1.0&lt;/version&gt;          &lt;artifactId&gt;spark-cassandra-connector_2.12&lt;/artifactId&gt;. Can you share how to flat it ?. Also it won&#39;t hits the performance to open for each JavaRDD - SearchEntry , as now I have millions of SearchEntry items ...","body":"Yes SearchEntity exactly fit to structure (it works with basic java cassandra connector).  &lt;version&gt;3.1.0&lt;/version&gt;          &lt;artifactId&gt;spark-cassandra-connector_2.12&lt;/artifactId&gt;. Can you share how to flat it ?. Also it won&#39;t hits the performance to open for each JavaRDD - SearchEntry , as now I have millions of SearchEntry items ..."},{"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"score":0,"creation_date":1635068517,"post_id":69694236,"comment_id":123191859,"body_markdown":"Success to convert like - JavaRDD&lt;SearchEntity&gt; newRdd =  listJavaRDD.flatMap(List::iterator);\n\n\t\tCassandraJavaUtil.javaFunctions(newRdd)\n\t\t\t\t.writerBuilder(&quot;demoV2&quot;, &quot;simple_search&quot;, CassandraJavaUtil.mapToRow(SearchEntity.class))\n\t\t\t\t.saveToCassandra();   // is it correct approach of flating it, what about paralleling ? again I have millions of entities","body":"Success to convert like - JavaRDD&lt;SearchEntity&gt; newRdd =  listJavaRDD.flatMap(List::iterator);  \t\tCassandraJavaUtil.javaFunctions(newRdd) \t\t\t\t.writerBuilder(&quot;demoV2&quot;, &quot;simple_search&quot;, CassandraJavaUtil.mapToRow(SearchEntity.class)) \t\t\t\t.saveToCassandra();   // is it correct approach of flating it, what about paralleling ? again I have millions of entities"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1635069688,"post_id":69694236,"comment_id":123192067,"body_markdown":"yes, that&#39;s correct, but you can simplify it. `flatMap` on RDD will be executed on the workers... Let me write this as an answer","body":"yes, that&#39;s correct, but you can simplify it. <code>flatMap</code> on RDD will be executed on the workers... Let me write this as an answer"},{"owner":{"account_id":15422225,"reputation":419,"user_id":11125970,"display_name":"floating_hammer"},"score":0,"creation_date":1635254466,"post_id":69694236,"comment_id":123243396,"body_markdown":"Found this link to be useful. - https://www.cloudwalker.io/2019/01/29/spark-cassandra/","body":"Found this link to be useful. - <a href=\"https://www.cloudwalker.io/2019/01/29/spark-cassandra/\" rel=\"nofollow noreferrer\">cloudwalker.io/2019/01/29/spark-cassandra</a>"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635069931,"creation_date":1635069931,"answer_id":69695687,"question_id":69694236,"body_markdown":"To write the data, you need to work on the `SearchEntity`, not on the list of the `SearchEntity`.  To do that, you need to use `flatMap` instead of ordinary `map`:\r\n\r\n```java\r\nJavaRDD&lt;SearchEntity&gt; entriesRDD = javaPairRDD.flatMap(rdd -&gt; {\r\n        System.out.println(&quot;Working on TAR: &quot; + rdd._1);\r\n        DataInputStream stream = rdd._2.open();\r\n        // some preprocess\r\n        List&lt;SearchEntity&gt; toCassandraList = new WorkerTest(ROOT, stream).run();\r\n        return toCassandraList;\r\n    });\r\n```\r\n\r\nand then you can just write the as per [documentation][1]:\r\n\r\n```java\r\njavaFunctions(rdd).writerBuilder(&quot;demoV2&quot;, &quot;simple_search&quot;,\r\n   mapToRow(SearchEntity.class)).saveToCassandra();\r\n```\r\n\r\nP.S. But be beware, that if your tar is too big, it may cause memory errors on the workers, when you&#39;re creating the `List&lt;SearchEntity&gt;`.  Depending on the file format inside tar file, it could be more optimal to unpack data first, and then read them using Spark.\r\n\r\n\r\n  [1]: https://github.com/datastax/spark-cassandra-connector/blob/master/doc/7_java_api.md#example-of-saving-an-rdd-of-person-objects-to-a-cassandra-table","title":"Cassandra With Spark connector - How Insert list Of Items to Cassandra","body":"<p>To write the data, you need to work on the <code>SearchEntity</code>, not on the list of the <code>SearchEntity</code>.  To do that, you need to use <code>flatMap</code> instead of ordinary <code>map</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavaRDD&lt;SearchEntity&gt; entriesRDD = javaPairRDD.flatMap(rdd -&gt; {\n        System.out.println(&quot;Working on TAR: &quot; + rdd._1);\n        DataInputStream stream = rdd._2.open();\n        // some preprocess\n        List&lt;SearchEntity&gt; toCassandraList = new WorkerTest(ROOT, stream).run();\n        return toCassandraList;\n    });\n</code></pre>\n<p>and then you can just write the as per <a href=\"https://github.com/datastax/spark-cassandra-connector/blob/master/doc/7_java_api.md#example-of-saving-an-rdd-of-person-objects-to-a-cassandra-table\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>javaFunctions(rdd).writerBuilder(&quot;demoV2&quot;, &quot;simple_search&quot;,\n   mapToRow(SearchEntity.class)).saveToCassandra();\n</code></pre>\n<p>P.S. But be beware, that if your tar is too big, it may cause memory errors on the workers, when you're creating the <code>List&lt;SearchEntity&gt;</code>.  Depending on the file format inside tar file, it could be more optimal to unpack data first, and then read them using Spark.</p>\n"}],"owner":{"account_id":7564567,"reputation":1681,"user_id":5740712,"accept_rate":69,"display_name":"VitalyT"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635111026,"creation_date":1635055313,"question_id":69694236,"body_markdown":"Working with Cassandra and Spark 2.12 (3.2.0) with java.\r\nCassandra connector 3.1.0\r\n\r\nMy purpose fetch from s3 do preprocess and insert parallel into Cassandra.\r\n\r\nI encounter with problem that I did preprocess on each s3 file that include list of items to insert to Cassandra which look like:  `JavaRDD&lt;List&lt;SearchEntity&gt;&gt;` \r\n\r\nHow should I pass it to cassandra (as in code example) ? I see it supports single object `mapToRow`.\r\n maybe I miss something ?\r\n\r\nUsing the following code\r\n\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n    SparkConf conf = new SparkConf()\r\n        .setAppName(&quot;Example Spark App&quot;)\r\n        .setMaster(&quot;local[1]&quot;)\r\n        .set(&quot;spark.cassandra.connection.host&quot;, &quot;127.0.0.1&quot;);\r\n        \r\n    JavaSparkContext sparkContext = new JavaSparkContext(conf);\r\n    sparkContext.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, &quot;XXXX&quot;);\r\n    sparkContext.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, &quot;YYYY&quot;);\r\n    sparkContext.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;XXXXX&quot;);\r\n    sparkContext.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;);\r\n    sparkContext.hadoopConfiguration().set(&quot;mapreduce.input.fileinputformat.input.dir.recursive&quot;, &quot;true&quot;);\r\n        \t\t\r\n    JavaPairRDD&lt;String, PortableDataStream&gt; javaPairRDD = sparkContext.binaryFiles(&quot;s3a://root/folder/&quot;);\r\n        \r\n    File ROOT = createTempFolder().getAbsoluteFile();\r\n        \r\n    JavaRDD&lt;List&lt;SearchEntity&gt;&gt; listJavaRDD = javaPairRDD.map(rdd -&gt; {\r\n            System.out.println(&quot;Working on TAR: &quot; + rdd._1);\r\n        \r\n            DataInputStream stream = rdd._2.open();\r\n        \r\n            // some preprocess\r\n            List&lt;SearchEntity&gt; toCassandraList = new WorkerTest(ROOT, stream).run();\r\n        \r\n            return toCassandraList;\r\n        });\r\n        \r\n    // here I want to take List&lt;SearchEntity&gt; toCassandraList and save them\r\n    // but I don&#39;t see how as it support only single object ..\r\n    CassandraJavaUtil.javaFunctions(listJavaRDD)\r\n        .writerBuilder(&quot;demoV2&quot;, &quot;simple_search&quot;, \r\n                       CassandraJavaUtil.mapToRow(List&lt;SearchEntity&gt; list objects ...)) // here is problem\r\n        .saveToCassandra();\r\n        \r\n    System.out.println(&quot;Finish run s3ToCassandra:&quot;);\r\n    sparkContext.stop();\r\n}\r\n```\r\n\r\nThe schema was configured before manually only for tests purposes.\r\n\r\n \r\n\r\n    CREATE TABLE simple_search (\r\n        engine text,\r\n        term text,\r\n        time bigint,\r\n        rank bigint,\r\n        url text,\r\n        domain text,\r\n        pagenum bigint,\r\n        descr text,\r\n        display_url text,\r\n        title text,\r\n        type text,\r\n        PRIMARY KEY ((engine, term), time , url, domain, pagenum)\r\n    ) WITH CLUSTERING ORDER BY \r\n      (time DESC, url DESC,  domain DESC , pagenum DESC);\r\n\r\nBoth Java and Scala solutions are welcomed","title":"Cassandra With Spark connector - How Insert list Of Items to Cassandra","body":"<p>Working with Cassandra and Spark 2.12 (3.2.0) with java.\nCassandra connector 3.1.0</p>\n<p>My purpose fetch from s3 do preprocess and insert parallel into Cassandra.</p>\n<p>I encounter with problem that I did preprocess on each s3 file that include list of items to insert to Cassandra which look like:  <code>JavaRDD&lt;List&lt;SearchEntity&gt;&gt;</code></p>\n<p>How should I pass it to cassandra (as in code example) ? I see it supports single object <code>mapToRow</code>.\nmaybe I miss something ?</p>\n<p>Using the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    SparkConf conf = new SparkConf()\n        .setAppName(&quot;Example Spark App&quot;)\n        .setMaster(&quot;local[1]&quot;)\n        .set(&quot;spark.cassandra.connection.host&quot;, &quot;127.0.0.1&quot;);\n        \n    JavaSparkContext sparkContext = new JavaSparkContext(conf);\n    sparkContext.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, &quot;XXXX&quot;);\n    sparkContext.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, &quot;YYYY&quot;);\n    sparkContext.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;XXXXX&quot;);\n    sparkContext.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;);\n    sparkContext.hadoopConfiguration().set(&quot;mapreduce.input.fileinputformat.input.dir.recursive&quot;, &quot;true&quot;);\n                \n    JavaPairRDD&lt;String, PortableDataStream&gt; javaPairRDD = sparkContext.binaryFiles(&quot;s3a://root/folder/&quot;);\n        \n    File ROOT = createTempFolder().getAbsoluteFile();\n        \n    JavaRDD&lt;List&lt;SearchEntity&gt;&gt; listJavaRDD = javaPairRDD.map(rdd -&gt; {\n            System.out.println(&quot;Working on TAR: &quot; + rdd._1);\n        \n            DataInputStream stream = rdd._2.open();\n        \n            // some preprocess\n            List&lt;SearchEntity&gt; toCassandraList = new WorkerTest(ROOT, stream).run();\n        \n            return toCassandraList;\n        });\n        \n    // here I want to take List&lt;SearchEntity&gt; toCassandraList and save them\n    // but I don't see how as it support only single object ..\n    CassandraJavaUtil.javaFunctions(listJavaRDD)\n        .writerBuilder(&quot;demoV2&quot;, &quot;simple_search&quot;, \n                       CassandraJavaUtil.mapToRow(List&lt;SearchEntity&gt; list objects ...)) // here is problem\n        .saveToCassandra();\n        \n    System.out.println(&quot;Finish run s3ToCassandra:&quot;);\n    sparkContext.stop();\n}\n</code></pre>\n<p>The schema was configured before manually only for tests purposes.</p>\n<pre><code>CREATE TABLE simple_search (\n    engine text,\n    term text,\n    time bigint,\n    rank bigint,\n    url text,\n    domain text,\n    pagenum bigint,\n    descr text,\n    display_url text,\n    title text,\n    type text,\n    PRIMARY KEY ((engine, term), time , url, domain, pagenum)\n) WITH CLUSTERING ORDER BY \n  (time DESC, url DESC,  domain DESC , pagenum DESC);\n</code></pre>\n<p>Both Java and Scala solutions are welcomed</p>\n"},{"tags":["java","websocket","jetty","embedded-jetty","atmosphere"],"answers":[{"tags":[],"owner":{"account_id":46046,"reputation":1705,"user_id":2044473,"display_name":"jfarcand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635110927,"creation_date":1360177987,"answer_id":14736897,"question_id":14736658,"body_markdown":"I&#39;m the Atmosphere lead.\r\n\r\nCan you paste your server&#39;s log? Also, the URL should be `localhost:8080/websocket/&lt;something&gt;` for connecting.\r\n\r\nSecond, why are you defining Jersey Servlet? You don&#39;t need that with Atmosphere, so just define AtmosphereServlet. \r\n\r\nIf you can, jump on the [mailing list][1] for more information.\r\n\r\n  [1]: https://groups.google.com/group/atmosphere-framework?pli=1","title":"Running a Websocket connexion with an embedded atmosphere and jersey servlet","body":"<p>I'm the Atmosphere lead.</p>\n<p>Can you paste your server's log? Also, the URL should be <code>localhost:8080/websocket/&lt;something&gt;</code> for connecting.</p>\n<p>Second, why are you defining Jersey Servlet? You don't need that with Atmosphere, so just define AtmosphereServlet.</p>\n<p>If you can, jump on the <a href=\"https://groups.google.com/group/atmosphere-framework?pli=1\" rel=\"nofollow noreferrer\">mailing list</a> for more information.</p>\n"}],"owner":{"account_id":1061093,"reputation":747,"user_id":1062710,"display_name":"Bruno Gagnon-Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2087,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14736897,"answer_count":1,"score":1,"last_activity_date":1635110976,"creation_date":1360177088,"question_id":14736658,"body_markdown":"I am trying to get an instance of Atmosphere to run as a servlet without using a Web.xml and using the WebSocket functionnality.\r\n\r\nIt seems that the mapping is not working, because I am able to connect to the server (localhost:8080) and the JavaScript tells me that the WS connection is working, but the handler is not being recognized (methods are never called). The WebSocketHandlerAdapter seems to be never used by AtmosphereServlet.\r\n\r\nAll the examples I found were using a Web.xml to setup the servlets, but I need to be able to instantiate my servlets (Atmosphere and Jersey in a Jetty container) programmatically.\r\n\r\nI have been using this example [Atmosphere Websocket Chat][1] for the WebSocketHandlerAdapter setup and [Jersey Atmosphere Servlet][2] to instantiate my servlets in Jetty.\r\n\r\nHere is my code to instantiate my server / servlets : \r\n\r\n\tpublic Server create() throws Exception {\r\n\t\tlogger.info(&quot;creating http server&quot;);\r\n\t\tServer server = new Server();\r\n\t\tserver.setStopAtShutdown(true);\r\n\r\n\t\t// configure http\r\n\t\tSelectChannelConnector httpConnector = new SelectChannelConnector();\r\n\t\thttpConnector.setPort(config.getHttpPort());\r\n\t\tserver.setConnectors(new Connector[] { httpConnector });\r\n\r\n\t\thandlers = new HandlerCollection();\r\n\t\thandlers.setServer(server);\r\n\t\thandlers.addHandler(createLoggingHandler());\r\n\t\thandlers.addHandler(createFileHandler());\r\n\t\thandlers.addHandler(createJerseyRestServletHandler());\r\n\t\tserver.setHandler(handlers);\r\n\t\treturn server;\r\n\t}\r\n\r\n    private ServletContextHandler createJerseyRestServletHandler() {\r\n\t\tServletHolder atmosphereHolder = initAtmosphereServletHolder();\r\n\t\tServletHolder jerseyHolder = initJerseyServletHolder();\r\n\r\n\t\t// atmosphere\r\n\t\tatmosphereHolder.setInitParameter(&quot;org.atmosphere.useWebSocket&quot;, &quot;true&quot;);\r\n\t\tatmosphereHolder.setInitParameter(&quot;WebSocketProtocol&quot;, &quot;ChatAtmosphereHandler&quot;);\r\n\t\tatmosphereHolder.setAsyncSupported(true);\r\n\r\n\t\tFilterHolder filterHolder = new FilterHolder(CrossOriginFilter.class);\r\n\t\tfilterHolder.setInitParameter(&quot;allowedOrigins&quot;, &quot;*&quot;);\r\n\t\tfilterHolder.setInitParameter(&quot;allowedMethods&quot;, &quot;GET, POST&quot;);\r\n\r\n\t\tServletContextHandler servletHandler = new ServletContextHandler(handlers, &quot;/&quot;);\r\n\t\tservletHandler.addServlet(atmosphereHolder, &quot;/websocket/*&quot;);\r\n\t\tservletHandler.addServlet(jerseyHolder, &quot;/jersey/*&quot;);\r\n\t\tservletHandler.addFilter(filterHolder, &quot;/*&quot;, null);\r\n\r\n\t\treturn servletHandler;\r\n\t}\r\n\r\n\tprivate ServletHolder initJerseyServletHolder() {\r\n            ...\r\n\t}\r\n\r\n\tprivate ServletHolder initAtmosphereServletHolder() {\r\n\t\tAtmosphereServlet atmosServlet = new AtmosphereServlet();\r\n\t\tServletHolder atmosphere = new ServletHolder(atmosServlet);\r\n\r\n\t\treturn atmosphere;\r\n\t}\r\n\r\n\r\n----------------------------------------\r\n\r\n\r\nhandler websocket : \r\n\r\n    @WebSocketHandlerService(path = &quot;/websocket&quot;, broadcaster = SimpleBroadcaster.class)\r\n    public class ChatAtmosphereHandler extends WebSocketHandlerAdapter {\r\n\r\n\tprivate final ObjectMapper mapper = new ObjectMapper();\r\n\r\n\t@Override\r\n\tpublic void onOpen(WebSocket webSocket) throws IOException {\r\n\t\tSystem.out.println(&quot;on Open&quot;);\r\n\t\twebSocket.resource().setBroadcaster(BroadcasterFactory.getDefault().lookup(&quot;/websocket&quot;, true));\r\n\t}\r\n\r\n\tpublic void onTextMessage(WebSocket webSocket, String message) throws IOException {\r\n\t\tSystem.out.println(&quot;on Message&quot;);\r\n\t\tAtmosphereResource r = webSocket.resource();\r\n\t\tBroadcaster b = r.getBroadcaster();\r\n\t\tb.broadcast(mapper.writeValueAsString(mapper.readValue(message, Data.class)));\r\n\t}\r\n\r\n\tpublic final static class Data {\r\n\r\n\t\tprivate String message;\r\n\t\tprivate String author;\r\n\t\tprivate long time;\r\n\r\n\t\tpublic Data() {\r\n\t\t\tthis(&quot;&quot;, &quot;&quot;);\r\n\t\t}\r\n\r\n\t\tpublic Data(String author, String message) {\r\n\t\t\tthis.author = author;\r\n\t\t\tthis.message = message;\r\n\t\t\tthis.time = new Date().getTime();\r\n\t\t}\r\n\r\n\t\tpublic String getMessage() {\r\n\t\t\treturn message;\r\n\t\t}\r\n\r\n\t\tpublic String getAuthor() {\r\n\t\t\treturn author;\r\n\t\t}\r\n\r\n\t\tpublic void setAuthor(String author) {\r\n\t\t\tthis.author = author;\r\n\t\t}\r\n\r\n\t\tpublic void setMessage(String message) {\r\n\t\t\tthis.message = message;\r\n\t\t}\r\n\r\n\t\tpublic long getTime() {\r\n\t\t\treturn time;\r\n\t\t}\r\n\r\n\t\tpublic void setTime(long time) {\r\n\t\t\tthis.time = time;\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nAnd finally the pom.xml\r\n\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jetty-servlets&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.6.4.v20120524&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jetty-websocket&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.6.4.v20120524&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;eu.infomas&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;annotation-detector&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.atmosphere&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;atmosphere-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0.beta3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.atmosphere&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;atmosphere-jersey&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0.beta3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.atmosphere&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;atmosphere-commons&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.6.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/Atmosphere/atmosphere/tree/master/samples/websocket-chat &quot;Atmosphere websocket chat&quot;\r\n  [2]: https://github.com/charlesbrown/Jersey-Atmosphere-with-Embedded-Jetty/tree/master/src/main/java/com/enteks/atmosphere/samples","title":"Running a Websocket connexion with an embedded atmosphere and jersey servlet","body":"<p>I am trying to get an instance of Atmosphere to run as a servlet without using a Web.xml and using the WebSocket functionnality.</p>\n<p>It seems that the mapping is not working, because I am able to connect to the server (localhost:8080) and the JavaScript tells me that the WS connection is working, but the handler is not being recognized (methods are never called). The WebSocketHandlerAdapter seems to be never used by AtmosphereServlet.</p>\n<p>All the examples I found were using a Web.xml to setup the servlets, but I need to be able to instantiate my servlets (Atmosphere and Jersey in a Jetty container) programmatically.</p>\n<p>I have been using this example <a href=\"https://github.com/Atmosphere/atmosphere/tree/master/samples/websocket-chat\" rel=\"nofollow noreferrer\" title=\"Atmosphere websocket chat\">Atmosphere Websocket Chat</a> for the WebSocketHandlerAdapter setup and <a href=\"https://github.com/charlesbrown/Jersey-Atmosphere-with-Embedded-Jetty/tree/master/src/main/java/com/enteks/atmosphere/samples\" rel=\"nofollow noreferrer\">Jersey Atmosphere Servlet</a> to instantiate my servlets in Jetty.</p>\n<p>Here is my code to instantiate my server / servlets :</p>\n<pre><code>public Server create() throws Exception {\n    logger.info(&quot;creating http server&quot;);\n    Server server = new Server();\n    server.setStopAtShutdown(true);\n\n    // configure http\n    SelectChannelConnector httpConnector = new SelectChannelConnector();\n    httpConnector.setPort(config.getHttpPort());\n    server.setConnectors(new Connector[] { httpConnector });\n\n    handlers = new HandlerCollection();\n    handlers.setServer(server);\n    handlers.addHandler(createLoggingHandler());\n    handlers.addHandler(createFileHandler());\n    handlers.addHandler(createJerseyRestServletHandler());\n    server.setHandler(handlers);\n    return server;\n}\n\nprivate ServletContextHandler createJerseyRestServletHandler() {\n    ServletHolder atmosphereHolder = initAtmosphereServletHolder();\n    ServletHolder jerseyHolder = initJerseyServletHolder();\n\n    // atmosphere\n    atmosphereHolder.setInitParameter(&quot;org.atmosphere.useWebSocket&quot;, &quot;true&quot;);\n    atmosphereHolder.setInitParameter(&quot;WebSocketProtocol&quot;, &quot;ChatAtmosphereHandler&quot;);\n    atmosphereHolder.setAsyncSupported(true);\n\n    FilterHolder filterHolder = new FilterHolder(CrossOriginFilter.class);\n    filterHolder.setInitParameter(&quot;allowedOrigins&quot;, &quot;*&quot;);\n    filterHolder.setInitParameter(&quot;allowedMethods&quot;, &quot;GET, POST&quot;);\n\n    ServletContextHandler servletHandler = new ServletContextHandler(handlers, &quot;/&quot;);\n    servletHandler.addServlet(atmosphereHolder, &quot;/websocket/*&quot;);\n    servletHandler.addServlet(jerseyHolder, &quot;/jersey/*&quot;);\n    servletHandler.addFilter(filterHolder, &quot;/*&quot;, null);\n\n    return servletHandler;\n}\n\nprivate ServletHolder initJerseyServletHolder() {\n        ...\n}\n\nprivate ServletHolder initAtmosphereServletHolder() {\n    AtmosphereServlet atmosServlet = new AtmosphereServlet();\n    ServletHolder atmosphere = new ServletHolder(atmosServlet);\n\n    return atmosphere;\n}\n</code></pre>\n<hr />\n<p>handler websocket :</p>\n<pre><code>@WebSocketHandlerService(path = &quot;/websocket&quot;, broadcaster = SimpleBroadcaster.class)\npublic class ChatAtmosphereHandler extends WebSocketHandlerAdapter {\n\nprivate final ObjectMapper mapper = new ObjectMapper();\n\n@Override\npublic void onOpen(WebSocket webSocket) throws IOException {\n    System.out.println(&quot;on Open&quot;);\n    webSocket.resource().setBroadcaster(BroadcasterFactory.getDefault().lookup(&quot;/websocket&quot;, true));\n}\n\npublic void onTextMessage(WebSocket webSocket, String message) throws IOException {\n    System.out.println(&quot;on Message&quot;);\n    AtmosphereResource r = webSocket.resource();\n    Broadcaster b = r.getBroadcaster();\n    b.broadcast(mapper.writeValueAsString(mapper.readValue(message, Data.class)));\n}\n\npublic final static class Data {\n\n    private String message;\n    private String author;\n    private long time;\n\n    public Data() {\n        this(&quot;&quot;, &quot;&quot;);\n    }\n\n    public Data(String author, String message) {\n        this.author = author;\n        this.message = message;\n        this.time = new Date().getTime();\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public long getTime() {\n        return time;\n    }\n\n    public void setTime(long time) {\n        this.time = time;\n    }\n}\n}\n</code></pre>\n<p>And finally the pom.xml</p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-servlets&lt;/artifactId&gt;\n        &lt;version&gt;7.6.4.v20120524&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-websocket&lt;/artifactId&gt;\n        &lt;version&gt;7.6.4.v20120524&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;eu.infomas&lt;/groupId&gt;\n        &lt;artifactId&gt;annotation-detector&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.atmosphere&lt;/groupId&gt;\n        &lt;artifactId&gt;atmosphere-annotations&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0.beta3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.atmosphere&lt;/groupId&gt;\n        &lt;artifactId&gt;atmosphere-jersey&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0.beta3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.atmosphere&lt;/groupId&gt;\n        &lt;artifactId&gt;atmosphere-commons&lt;/artifactId&gt;\n        &lt;version&gt;0.6.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1635096417,"post_id":69699158,"comment_id":123198390,"body_markdown":"Did you try? What happened?","body":"Did you try? What happened?"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1635099111,"post_id":69699158,"comment_id":123199143,"body_markdown":"I didn&#39;t downvote. But you are asking if you can do it with `flatMap` so I would expect you to try using `flatMap` in your code to see if it works.","body":"I didn&#39;t downvote. But you are asking if you can do it with <code>flatMap</code> so I would expect you to try using <code>flatMap</code> in your code to see if it works."}],"answers":[{"tags":[],"owner":{"account_id":6615217,"reputation":6120,"user_id":5108737,"display_name":"Ruslan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1635098583,"creation_date":1635096901,"answer_id":69699244,"question_id":69699158,"body_markdown":"Java code will be almost the same.. if you want to use `flatMap` just use [flatMapToInt](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMapToInt-java.util.function.Function-). As a result you have to return [`IntStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html), so just wrap `item.orElse` in `IntStream.of` \r\n\r\n```\r\nint sum = c.stream()\r\n       .flatMapToInt(item -&gt; IntStream.of(item.orElse(0)))\r\n       .sum();\r\n```\r\nBut this could be done using just `mapToInt` operation. Looks simpler\r\n\r\n```\r\nint sum = c.stream()\r\n       .mapToInt(item -&gt; item.orElse(0))\r\n       .sum();\r\n```","title":"sum a List of Optional Integers","body":"<p>Java code will be almost the same.. if you want to use <code>flatMap</code> just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMapToInt-java.util.function.Function-\" rel=\"nofollow noreferrer\">flatMapToInt</a>. As a result you have to return <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a>, so just wrap <code>item.orElse</code> in <code>IntStream.of</code></p>\n<pre><code>int sum = c.stream()\n       .flatMapToInt(item -&gt; IntStream.of(item.orElse(0)))\n       .sum();\n</code></pre>\n<p>But this could be done using just <code>mapToInt</code> operation. Looks simpler</p>\n<pre><code>int sum = c.stream()\n       .mapToInt(item -&gt; item.orElse(0))\n       .sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635098540,"creation_date":1635097621,"answer_id":69699344,"question_id":69699158,"body_markdown":"You can try the following (not the most efficient):\r\n\r\n    int sum = c.stream()\r\n            .flatMap(Optional::stream)\r\n            .mapToInt(i -&gt; i)\r\n            .sum();\r\n\r\nOr this alternative:\r\n\r\n    int sum = c.stream()\r\n            .filter(Optional::isPresent)\r\n            .mapToInt(Optional::get)\r\n            .sum();\r\n\r\nOr this:\r\n\r\n    int sum = c.stream()\r\n            .mapToInt(i -&gt; i.orElse(0))\r\n            .sum();\r\n\r\nOr introduce a new utility method to use in your project:\r\n\r\n    public final class Optionals {\r\n      public static int toInt(Optional&lt;Integer&gt; opt) {\r\n        return opt.orElse(0);\r\n      }\r\n    }\r\n\r\nand then:\r\n\r\n    int sum = c.stream()\r\n            .mapToInt(Optionals::toInt)\r\n            .sum();","title":"sum a List of Optional Integers","body":"<p>You can try the following (not the most efficient):</p>\n<pre><code>int sum = c.stream()\n        .flatMap(Optional::stream)\n        .mapToInt(i -&gt; i)\n        .sum();\n</code></pre>\n<p>Or this alternative:</p>\n<pre><code>int sum = c.stream()\n        .filter(Optional::isPresent)\n        .mapToInt(Optional::get)\n        .sum();\n</code></pre>\n<p>Or this:</p>\n<pre><code>int sum = c.stream()\n        .mapToInt(i -&gt; i.orElse(0))\n        .sum();\n</code></pre>\n<p>Or introduce a new utility method to use in your project:</p>\n<pre><code>public final class Optionals {\n  public static int toInt(Optional&lt;Integer&gt; opt) {\n    return opt.orElse(0);\n  }\n}\n</code></pre>\n<p>and then:</p>\n<pre><code>int sum = c.stream()\n        .mapToInt(Optionals::toInt)\n        .sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635097632,"creation_date":1635097632,"answer_id":69699346,"question_id":69699158,"body_markdown":"You may want to return `OptionalInt` instead of a `Optional` when converting to `int` and also use `flatMapToInt`.\r\n\r\n```\r\npublic class Main {\r\n    static String a[] = new String[]{&quot;1&quot;, &quot;2&quot;, &quot;three&quot;, &quot;4&quot;, &quot;one hundred seventy five&quot;};\r\n    static List&lt;String&gt; myList = Arrays.asList(a);\r\n\r\n    public static OptionalInt toInt(String in) {\r\n        try {\r\n            return OptionalInt.of(Integer.parseInt(in.trim()));\r\n        } catch (Exception NumberFormatException) {\r\n            return OptionalInt.empty();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int sum = myList.stream().flatMapToInt(item -&gt; toInt(item).stream()).sum();\r\n        System.out.println(sum);\r\n    }\r\n\r\n}\r\n```","title":"sum a List of Optional Integers","body":"<p>You may want to return <code>OptionalInt</code> instead of a <code>Optional</code> when converting to <code>int</code> and also use <code>flatMapToInt</code>.</p>\n<pre><code>public class Main {\n    static String a[] = new String[]{&quot;1&quot;, &quot;2&quot;, &quot;three&quot;, &quot;4&quot;, &quot;one hundred seventy five&quot;};\n    static List&lt;String&gt; myList = Arrays.asList(a);\n\n    public static OptionalInt toInt(String in) {\n        try {\n            return OptionalInt.of(Integer.parseInt(in.trim()));\n        } catch (Exception NumberFormatException) {\n            return OptionalInt.empty();\n        }\n    }\n\n    public static void main(String[] args) {\n        int sum = myList.stream().flatMapToInt(item -&gt; toInt(item).stream()).sum();\n        System.out.println(sum);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635110644,"creation_date":1635097983,"answer_id":69699393,"question_id":69699158,"body_markdown":"I would [filter][1] out the empty optionals by [testing for the presence][2] of a payload. Then [sum][3] as `int` primitives using an [`IntStream`][4]. \r\n\r\n```java\r\nint result = \r\n    list\r\n        .stream()                         // Make a stream of the `Optional&lt; Integer &gt;` objects in our list.\r\n        .filter( Optional :: isPresent )  // Skip those items where the `Optional` is empty (no payload on-board). \r\n        .map( Optional :: get )           // Retrieve the payload from its `Optional` wrapper. Safe to call `Optional#get` as we know the payload is present after having filtered out the empty ones in line above.\r\n        .mapToInt( Integer :: intValue )  // Returns an `IntStream`. \r\n        .sum()                            // `IntStream#sum` returns `int`. \r\n;\r\n```\r\n\r\nMake some sample data to run this.\r\n\r\n```java\r\nList&lt; Optional&lt; Integer &gt; &gt; list = new ArrayList&lt;&gt;() ;\r\nlist.add( Optional.empty() ) ;\r\nlist.add( Optional.of( 7 ) ) ;\r\nlist.add( Optional.of( 42 ) ) ;\r\n```\r\n\r\nSee this [code run live at IdeOne.com](https://ideone.com/wsX4t3).\r\n\r\nTo me, elegant means easy to read, in a simple logical flow. Shorter is not always better. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#isPresent()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#sum()\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html","title":"sum a List of Optional Integers","body":"<p>I would <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">filter</a> out the empty optionals by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#isPresent()\" rel=\"nofollow noreferrer\">testing for the presence</a> of a payload. Then <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#sum()\" rel=\"nofollow noreferrer\">sum</a> as <code>int</code> primitives using an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int result = \n    list\n        .stream()                         // Make a stream of the `Optional&lt; Integer &gt;` objects in our list.\n        .filter( Optional :: isPresent )  // Skip those items where the `Optional` is empty (no payload on-board). \n        .map( Optional :: get )           // Retrieve the payload from its `Optional` wrapper. Safe to call `Optional#get` as we know the payload is present after having filtered out the empty ones in line above.\n        .mapToInt( Integer :: intValue )  // Returns an `IntStream`. \n        .sum()                            // `IntStream#sum` returns `int`. \n;\n</code></pre>\n<p>Make some sample data to run this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt; Optional&lt; Integer &gt; &gt; list = new ArrayList&lt;&gt;() ;\nlist.add( Optional.empty() ) ;\nlist.add( Optional.of( 7 ) ) ;\nlist.add( Optional.of( 42 ) ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/wsX4t3\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<p>To me, elegant means easy to read, in a simple logical flow. Shorter is not always better.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635109731,"creation_date":1635098089,"answer_id":69699406,"question_id":69699158,"body_markdown":"I think this might be what you had in mind.\r\n```\r\nList&lt;OptionalInt&gt; s = List.of(\r\n\t\tOptionalInt.of(1),\r\n        OptionalInt.empty(),\r\n\t\tOptionalInt.of(2),\r\n\t\tOptionalInt.of(3),\r\n        OptionalInt.empty(),\r\n\t\tOptionalInt.of(4),\r\n\t\tOptionalInt.of(5),\r\n\t\tOptionalInt.of(6));\r\n```\r\nThe `empty` optionals are automatically filtered out\r\n```\r\nint sum = s.stream().flatMapToInt(OptionalInt::stream).sum();\r\nSystem.out.println(sum);\r\n```\r\nPrints\r\n```\r\n21\r\n```\r\nIf you have `Optional&lt;Integer&gt;` you can just do\r\n```\r\nint sum = s.stream().flatMap(Optional::stream).mapToInt(a-&gt;a).sum();\r\n// or\r\nint sum = s.stream().flatMap(Optional::stream)\r\n\t\t.collect(Collectors.summingInt(a-&gt;a));\r\n```","title":"sum a List of Optional Integers","body":"<p>I think this might be what you had in mind.</p>\n<pre><code>List&lt;OptionalInt&gt; s = List.of(\n        OptionalInt.of(1),\n        OptionalInt.empty(),\n        OptionalInt.of(2),\n        OptionalInt.of(3),\n        OptionalInt.empty(),\n        OptionalInt.of(4),\n        OptionalInt.of(5),\n        OptionalInt.of(6));\n</code></pre>\n<p>The <code>empty</code> optionals are automatically filtered out</p>\n<pre><code>int sum = s.stream().flatMapToInt(OptionalInt::stream).sum();\nSystem.out.println(sum);\n</code></pre>\n<p>Prints</p>\n<pre><code>21\n</code></pre>\n<p>If you have <code>Optional&lt;Integer&gt;</code> you can just do</p>\n<pre><code>int sum = s.stream().flatMap(Optional::stream).mapToInt(a-&gt;a).sum();\n// or\nint sum = s.stream().flatMap(Optional::stream)\n        .collect(Collectors.summingInt(a-&gt;a));\n</code></pre>\n"}],"owner":{"account_id":1268139,"reputation":1993,"user_id":1224977,"accept_rate":85,"display_name":"jhon.smith"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1635101678,"accepted_answer_id":69699244,"answer_count":5,"score":0,"last_activity_date":1635110644,"creation_date":1635096301,"question_id":69699158,"body_markdown":"I am trying to achieve the Java equivalent of the below Scala code\r\n\r\nhttps://alvinalexander.com/scala/how-to-combine-map-flatten-flatmap-scala-cookbook/\r\n\r\n    class FirstClass {\r\n    \r\n        static String a[] = new String[] { &quot;1&quot;, &quot;2&quot;, &quot;three&quot;, &quot;4&quot;, &quot;one hundred seventy five&quot; };\r\n        static List&lt;String&gt; myList = Arrays.asList(a);\r\n    \r\n        public static Optional&lt;Integer&gt; toInt(String in) {\r\n            try {\r\n                return Optional.of(Integer.parseInt(in.trim()));\r\n            } catch (Exception NumberFormatException) {\r\n                return Optional.empty();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Optional&lt;Integer&gt;&gt; c = FirstClass.myList.stream().map(item -&gt; toInt(item)).toList();\r\n            int sum = c.stream().mapToInt(item -&gt; item.orElse(0)).sum();\r\n            System.out.println(sum);\r\n    \r\n        }\r\n\r\nMy question is can I do it like in Java 17 using flatMap ? \r\n","title":"sum a List of Optional Integers","body":"<p>I am trying to achieve the Java equivalent of the below Scala code</p>\n<p><a href=\"https://alvinalexander.com/scala/how-to-combine-map-flatten-flatmap-scala-cookbook/\" rel=\"nofollow noreferrer\">https://alvinalexander.com/scala/how-to-combine-map-flatten-flatmap-scala-cookbook/</a></p>\n<pre><code>class FirstClass {\n\n    static String a[] = new String[] { &quot;1&quot;, &quot;2&quot;, &quot;three&quot;, &quot;4&quot;, &quot;one hundred seventy five&quot; };\n    static List&lt;String&gt; myList = Arrays.asList(a);\n\n    public static Optional&lt;Integer&gt; toInt(String in) {\n        try {\n            return Optional.of(Integer.parseInt(in.trim()));\n        } catch (Exception NumberFormatException) {\n            return Optional.empty();\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;Optional&lt;Integer&gt;&gt; c = FirstClass.myList.stream().map(item -&gt; toInt(item)).toList();\n        int sum = c.stream().mapToInt(item -&gt; item.orElse(0)).sum();\n        System.out.println(sum);\n\n    }\n</code></pre>\n<p>My question is can I do it like in Java 17 using flatMap ?</p>\n"},{"tags":["java","database","sockets","javafx"],"answers":[{"tags":[],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635110608,"creation_date":1635099626,"answer_id":69699590,"question_id":69698467,"body_markdown":"You can manually try to connect to possible ip addresses in your network, this answer is a combination of answers from SO and i will add links to them in the end of the post.\r\n\r\nYou first need to get your Lan Ip Address and its prefix length, then use them to make a list of all possible ip addresses (used [commons-net](https://mvnrepository.com/artifact/commons-net/commons-net)), then divide those ip addresses on multiple threads, each thread will loop through a portion of the IP&#39;s and try to connect to each one of them, if connection succeeds =&gt; add the ip to results.\r\n\r\nI have written this code (well most of it) and tested it on my machine by creating a socketServer and it returned my ip so i guess it works :\r\n\r\n    public class SocketScan {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSystem.out.println(scan(50000));\r\n    \t}\r\n    \r\n    \tpublic static List&lt;String&gt; scan(int port) throws Exception {\r\n    \t\tSystem.out.println(&quot;scanning for servers...&quot;);\r\n    \t\tArrayList&lt;String&gt; res = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\t// get your lan ip\r\n    \t\tInterfaceAddress addr = getLanIp();\r\n    \t\tString myIp = addr.getAddress().getHostAddress() + &quot;/&quot; + addr.getNetworkPrefixLength();\r\n    \r\n    \t\t// list all possible ip addresses using your ip and mask\r\n    \t\tSubnetUtils utils = new SubnetUtils(myIp);\r\n    \t\tString[] allIps = utils.getInfo().getAllAddresses();\r\n    \r\n    \t\t// split all ips on a number of threads\r\n    \t\t// and try to connect to each one of them\r\n    \t\tint threadCount = 24;\r\n    \t\tThread[] threads = new Thread[threadCount];\r\n    \r\n    \t\tint threadSize = allIps.length / threadCount;\r\n    \r\n    \t\tfor (int i = 0; i &lt; threadCount; i++) {\r\n    \t\t\tfinal int index = i;\r\n    \t\t\tthreads[i] = new Thread() {\r\n    \t\t\t\tpublic void run() {\r\n    \t\t\t\t\tint start = threadSize * index;\r\n    \t\t\t\t\tint end = threadSize * (index + 1);\r\n    \t\t\t\t\tfor (int j = start; j &lt; (index == threadCount - 1 ? allIps.length : end); j++) {\r\n    \t\t\t\t\t\tString ip = allIps[j];\r\n    \t\t\t\t\t\tif(checkIp(ip, port)) {\r\n    \t\t\t\t\t\t\tres.add(ip);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \t\t}\r\n    \r\n    \t\t//start all threads\r\n    \t\tfor (Thread thread : threads) {\r\n    \t\t\tthread.start();\r\n    \t\t}\r\n    \r\n    \t\t//wait for all threads to finish\r\n    \t\tfor (Thread thread : threads) {\r\n    \t\t\tthread.join();\r\n    \t\t}\r\n    \r\n    \t\treturn res;\r\n    \t}\r\n    \r\n    \t//check if a connection to this ip is possible\r\n    \tpublic static boolean checkIp(String ip, int port) {\r\n    \t\ttry {\r\n    \t\t\tSocket socket = new Socket();\r\n    \t\t\tsocket.connect(new InetSocketAddress(ip, port), 150);\r\n    \t\t\tsocket.close();\r\n    \t\t\treturn true;\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t//This method loops through your network interfaces and returns\r\n    \t//the first address that is ipv4 and not loopback\r\n    \tpublic static InterfaceAddress getLanIp() throws Exception {\r\n    \t\tfor (final Enumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces(); interfaces\r\n    \t\t\t\t.hasMoreElements();) {\r\n    \t\t\tfinal NetworkInterface cur = interfaces.nextElement();\r\n    \r\n    \t\t\tif (cur.isLoopback()) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\tfor (final InterfaceAddress addr : cur.getInterfaceAddresses()) {\r\n    \t\t\t\tfinal InetAddress inet_addr = addr.getAddress();\r\n    \t\t\t\tif (!(inet_addr instanceof Inet4Address)) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn addr;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n\r\nNote that this is gonna take some time to finish (about 3 seconds on my machine with my /24 subnet), if you don&#39;t want to wait for all ips to be checked you can pass a consumer to handle an ip after the check is successful\r\n\r\n**Used answers**\r\n\r\n[Ip address scanner](https://stackoverflow.com/a/28781603/8556269) this doesn&#39;t take network subnet into consideration\r\n\r\n[Getting LAN ip](https://stackoverflow.com/a/2845292/8556269) just replaced printing with return\r\n\r\n[Getting possible Ip addresses](https://stackoverflow.com/a/26751723/8556269)\r\n\r\n[checking ip address](https://stackoverflow.com/a/11547117/8556269)","title":"List game rooms for socket application","body":"<p>You can manually try to connect to possible ip addresses in your network, this answer is a combination of answers from SO and i will add links to them in the end of the post.</p>\n<p>You first need to get your Lan Ip Address and its prefix length, then use them to make a list of all possible ip addresses (used <a href=\"https://mvnrepository.com/artifact/commons-net/commons-net\" rel=\"nofollow noreferrer\">commons-net</a>), then divide those ip addresses on multiple threads, each thread will loop through a portion of the IP's and try to connect to each one of them, if connection succeeds =&gt; add the ip to results.</p>\n<p>I have written this code (well most of it) and tested it on my machine by creating a socketServer and it returned my ip so i guess it works :</p>\n<pre><code>public class SocketScan {\n    public static void main(String[] args) throws Exception {\n        System.out.println(scan(50000));\n    }\n\n    public static List&lt;String&gt; scan(int port) throws Exception {\n        System.out.println(&quot;scanning for servers...&quot;);\n        ArrayList&lt;String&gt; res = new ArrayList&lt;String&gt;();\n\n        // get your lan ip\n        InterfaceAddress addr = getLanIp();\n        String myIp = addr.getAddress().getHostAddress() + &quot;/&quot; + addr.getNetworkPrefixLength();\n\n        // list all possible ip addresses using your ip and mask\n        SubnetUtils utils = new SubnetUtils(myIp);\n        String[] allIps = utils.getInfo().getAllAddresses();\n\n        // split all ips on a number of threads\n        // and try to connect to each one of them\n        int threadCount = 24;\n        Thread[] threads = new Thread[threadCount];\n\n        int threadSize = allIps.length / threadCount;\n\n        for (int i = 0; i &lt; threadCount; i++) {\n            final int index = i;\n            threads[i] = new Thread() {\n                public void run() {\n                    int start = threadSize * index;\n                    int end = threadSize * (index + 1);\n                    for (int j = start; j &lt; (index == threadCount - 1 ? allIps.length : end); j++) {\n                        String ip = allIps[j];\n                        if(checkIp(ip, port)) {\n                            res.add(ip);\n                        }\n                    }\n                }\n            };\n        }\n\n        //start all threads\n        for (Thread thread : threads) {\n            thread.start();\n        }\n\n        //wait for all threads to finish\n        for (Thread thread : threads) {\n            thread.join();\n        }\n\n        return res;\n    }\n\n    //check if a connection to this ip is possible\n    public static boolean checkIp(String ip, int port) {\n        try {\n            Socket socket = new Socket();\n            socket.connect(new InetSocketAddress(ip, port), 150);\n            socket.close();\n            return true;\n        } catch (Exception ex) {\n            return false;\n        }\n    }\n\n    //This method loops through your network interfaces and returns\n    //the first address that is ipv4 and not loopback\n    public static InterfaceAddress getLanIp() throws Exception {\n        for (final Enumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces(); interfaces\n                .hasMoreElements();) {\n            final NetworkInterface cur = interfaces.nextElement();\n\n            if (cur.isLoopback()) {\n                continue;\n            }\n\n            for (final InterfaceAddress addr : cur.getInterfaceAddresses()) {\n                final InetAddress inet_addr = addr.getAddress();\n                if (!(inet_addr instanceof Inet4Address)) {\n                    continue;\n                }\n                return addr;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Note that this is gonna take some time to finish (about 3 seconds on my machine with my /24 subnet), if you don't want to wait for all ips to be checked you can pass a consumer to handle an ip after the check is successful</p>\n<p><strong>Used answers</strong></p>\n<p><a href=\"https://stackoverflow.com/a/28781603/8556269\">Ip address scanner</a> this doesn't take network subnet into consideration</p>\n<p><a href=\"https://stackoverflow.com/a/2845292/8556269\">Getting LAN ip</a> just replaced printing with return</p>\n<p><a href=\"https://stackoverflow.com/a/26751723/8556269\">Getting possible Ip addresses</a></p>\n<p><a href=\"https://stackoverflow.com/a/11547117/8556269\">checking ip address</a></p>\n"}],"owner":{"account_id":19866702,"reputation":1,"user_id":14553801,"display_name":"Mizsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635110608,"creation_date":1635091279,"question_id":69698467,"body_markdown":"I have a javafx desktop chess application which can be played online via sockets. One player create the GameRoom(Serversocket) and the other can join directly by entering IP address in a dialog. Instead of this method i would like to list all the available rooms and connect that way.\r\n\r\nWhat would be the easiest way to implement this?\r\nI thought about putting the Server adresses in an online database like Firestore but that doesn&#39;t seem optimal for a desktop application.\r\n\r\nThe ServerSocket:\r\n\r\n    public class GameServer implements Runnable{\r\n    \r\n        private PrintWriter pw;\r\n        private BufferedReader in;\r\n        private ServerSocket listener;\r\n    \r\n    \r\n        public GameServer(){\r\n    \r\n        }\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                listener=new ServerSocket(50000);\r\n                System.out.println(&quot;Server is listening on port 50000&quot;);\r\n                if(in==null || pw==null){\r\n                    Socket socket=listener.accept();\r\n                    System.out.println(&quot;A player has connected&quot;);\r\n                    pw=new PrintWriter(socket.getOutputStream(),true);\r\n                    in=new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                  \r\n                }\r\n                Executors.newFixedThreadPool(1).execute(() -&gt; {\r\n                    try {\r\n                        OnlineGameFunctions.receiveMoveAndResign(in);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                });\r\n    \r\n    \r\n            }catch (IOException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nThe client:\r\n\r\n\r\n\r\n    public class ClientSocket {\r\n    \r\n        private Socket socket;\r\n        private PrintWriter pw;\r\n        private BufferedReader in;\r\n    \r\n    \r\n        public ClientSocket() {\r\n    \r\n        }\r\n    \r\n        public void Connect(String ip, int port) throws IOException {\r\n            if(in==null || pw==null){\r\n                socket=new Socket(ip,port);\r\n                in=new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                pw=new PrintWriter(socket.getOutputStream(),true);\r\n            }\r\n    \r\n            \r\n            Executors.newFixedThreadPool(1).execute(() -&gt; {\r\n                try {\r\n                    OnlineGameFunctions.receiveMoveAndResign(in);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n    ","title":"List game rooms for socket application","body":"<p>I have a javafx desktop chess application which can be played online via sockets. One player create the GameRoom(Serversocket) and the other can join directly by entering IP address in a dialog. Instead of this method i would like to list all the available rooms and connect that way.</p>\n<p>What would be the easiest way to implement this?\nI thought about putting the Server adresses in an online database like Firestore but that doesn't seem optimal for a desktop application.</p>\n<p>The ServerSocket:</p>\n<pre><code>public class GameServer implements Runnable{\n\n    private PrintWriter pw;\n    private BufferedReader in;\n    private ServerSocket listener;\n\n\n    public GameServer(){\n\n    }\n    @Override\n    public void run() {\n        try {\n            listener=new ServerSocket(50000);\n            System.out.println(&quot;Server is listening on port 50000&quot;);\n            if(in==null || pw==null){\n                Socket socket=listener.accept();\n                System.out.println(&quot;A player has connected&quot;);\n                pw=new PrintWriter(socket.getOutputStream(),true);\n                in=new BufferedReader(new InputStreamReader(socket.getInputStream()));\n              \n            }\n            Executors.newFixedThreadPool(1).execute(() -&gt; {\n                try {\n                    OnlineGameFunctions.receiveMoveAndResign(in);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n\n\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The client:</p>\n<pre><code>public class ClientSocket {\n\n    private Socket socket;\n    private PrintWriter pw;\n    private BufferedReader in;\n\n\n    public ClientSocket() {\n\n    }\n\n    public void Connect(String ip, int port) throws IOException {\n        if(in==null || pw==null){\n            socket=new Socket(ip,port);\n            in=new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            pw=new PrintWriter(socket.getOutputStream(),true);\n        }\n\n        \n        Executors.newFixedThreadPool(1).execute(() -&gt; {\n            try {\n                OnlineGameFunctions.receiveMoveAndResign(in);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","api","email","google-developers-console"],"answers":[{"tags":[],"owner":{"account_id":987259,"reputation":800,"user_id":1400490,"display_name":"BoZenKhaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635109623,"creation_date":1635109623,"answer_id":69700778,"question_id":67818408,"body_markdown":"The problem might be that you are trying to send email using an email address that is different than the one specified in the email header. That might be the *delegation* the error is referring to.\r\n\r\nBut without the actual code, it is hard to tell.","title":"How to solve ERROR Delegation denied for &lt;user email&gt; when i call Gmail API it returns 403 error code in JAVA","body":"<p>The problem might be that you are trying to send email using an email address that is different than the one specified in the email header. That might be the <em>delegation</em> the error is referring to.</p>\n<p>But without the actual code, it is hard to tell.</p>\n"}],"owner":{"account_id":20497910,"reputation":11,"user_id":15042403,"display_name":"Kartikey Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635109623,"creation_date":1622710621,"question_id":67818408,"body_markdown":"com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden \r\n\r\n    `{ &quot;code&quot; : 403, &quot;errors&quot; : [ \r\n           { &quot;domain&quot; : &quot;global&quot;, \r\n             &quot;message&quot; : &quot;Delegation denied for something@gmail.com&quot;, \r\n             &quot;reason&quot; : &quot;forbidden&quot; } ], \r\n       &quot;message&quot; : &quot;Delegation denied for something@gmail.com&quot;, \r\n        &quot;status&quot; : &quot;PERMISSION_DENIED&quot; \r\n        }`","title":"How to solve ERROR Delegation denied for &lt;user email&gt; when i call Gmail API it returns 403 error code in JAVA","body":"<p>com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden</p>\n<pre><code>`{ &quot;code&quot; : 403, &quot;errors&quot; : [ \n       { &quot;domain&quot; : &quot;global&quot;, \n         &quot;message&quot; : &quot;Delegation denied for something@gmail.com&quot;, \n         &quot;reason&quot; : &quot;forbidden&quot; } ], \n   &quot;message&quot; : &quot;Delegation denied for something@gmail.com&quot;, \n    &quot;status&quot; : &quot;PERMISSION_DENIED&quot; \n    }`\n</code></pre>\n"},{"tags":["java","android","java-native-interface","overriding","native"],"answers":[{"tags":[],"owner":{"display_name":"user11988193"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635109232,"creation_date":1635109232,"answer_id":69700731,"question_id":69682525,"body_markdown":"It does seem quite silly to think I can simply remove the native linkage between the activity and lib. Instead, I will be utilizing BaseDexClassLoader to sideload my dex file during runtime. I will not be giving up my code, but further information about this can be founded at: https://developer.android.com/reference/dalvik/system/BaseDexClassLoader","title":"Full Native Implementation","body":"<p>It does seem quite silly to think I can simply remove the native linkage between the activity and lib. Instead, I will be utilizing BaseDexClassLoader to sideload my dex file during runtime. I will not be giving up my code, but further information about this can be founded at: <a href=\"https://developer.android.com/reference/dalvik/system/BaseDexClassLoader\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/dalvik/system/BaseDexClassLoader</a></p>\n"}],"owner":{"display_name":"user11988193"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69700731,"answer_count":1,"score":0,"last_activity_date":1635109232,"creation_date":1634933047,"question_id":69682525,"body_markdown":"I am designing an application through JNI in order to prevent third party edits. I have moved forth towards registering native methods in order to remove jni bridge linkages, but as you can see, methods with override attribute still need to exist within the java code as native linked. Is there a way to fully port the remaining java code for this specific file?\r\n\r\n**Java:**\r\n```\r\n@Override\r\nprotected native void onCreate(Bundle savedInstanceState);\r\n```\r\n\r\n**CPP:**\r\n```\r\nvoid onCreate(JNIEnv *env, jobject classObject, jobject bundle) {\r\n    /**super.onCreate**/\r\n    gObjects[0] = env-&gt;NewGlobalRef(classObject);\r\n    gClasses[0] = env-&gt;GetObjectClass(gObjects[0]);\r\n    jclass s_Class = env-&gt;GetSuperclass(gClasses[0]);\r\n    jmethodID oc_ID = env-&gt;GetMethodID(s_Class, &quot;onCreate&quot;, &quot;(Landroid/os/Bundle;)V&quot;);\r\n    env-&gt;CallNonvirtualVoidMethod(gObjects[0], gClasses[0], oc_ID, bundle);\r\n}\r\n\r\nextern &quot;C&quot; JNIEXPORT jint JNICALL\r\nJNI_OnLoad(JavaVM *curVM_, void *reserved) {\r\n    curVM = curVM_;\r\n    curVM-&gt;GetEnv((void **) &amp;environments[0], JNI_VERSION_1_6);\r\n\r\n    /**Start of Native Method Registers**/\r\n    JNINativeMethod natives[1];\r\n    uint64_t pCount = sizeof(natives) / sizeof(natives[0]);\r\n    jclass klass = environments[0]-&gt;FindClass(&quot;com/company/app/Activity&quot;);\r\n    natives[0] = {&quot;onCreate&quot;, &quot;(Landroid/os/Bundle;)V&quot;, (void *)onCreate};\r\n    environments[0]-&gt;RegisterNatives(klass , natives, pCount);\\\r\n    for (uint64_t i = 0; i &lt; pCount; i++) natives[i] = {&quot;&quot;, &quot;&quot;};\\\r\n\r\n    return JNI_VERSION_1_6;\r\n}\r\n```","title":"Full Native Implementation","body":"<p>I am designing an application through JNI in order to prevent third party edits. I have moved forth towards registering native methods in order to remove jni bridge linkages, but as you can see, methods with override attribute still need to exist within the java code as native linked. Is there a way to fully port the remaining java code for this specific file?</p>\n<p><strong>Java:</strong></p>\n<pre><code>@Override\nprotected native void onCreate(Bundle savedInstanceState);\n</code></pre>\n<p><strong>CPP:</strong></p>\n<pre><code>void onCreate(JNIEnv *env, jobject classObject, jobject bundle) {\n    /**super.onCreate**/\n    gObjects[0] = env-&gt;NewGlobalRef(classObject);\n    gClasses[0] = env-&gt;GetObjectClass(gObjects[0]);\n    jclass s_Class = env-&gt;GetSuperclass(gClasses[0]);\n    jmethodID oc_ID = env-&gt;GetMethodID(s_Class, &quot;onCreate&quot;, &quot;(Landroid/os/Bundle;)V&quot;);\n    env-&gt;CallNonvirtualVoidMethod(gObjects[0], gClasses[0], oc_ID, bundle);\n}\n\nextern &quot;C&quot; JNIEXPORT jint JNICALL\nJNI_OnLoad(JavaVM *curVM_, void *reserved) {\n    curVM = curVM_;\n    curVM-&gt;GetEnv((void **) &amp;environments[0], JNI_VERSION_1_6);\n\n    /**Start of Native Method Registers**/\n    JNINativeMethod natives[1];\n    uint64_t pCount = sizeof(natives) / sizeof(natives[0]);\n    jclass klass = environments[0]-&gt;FindClass(&quot;com/company/app/Activity&quot;);\n    natives[0] = {&quot;onCreate&quot;, &quot;(Landroid/os/Bundle;)V&quot;, (void *)onCreate};\n    environments[0]-&gt;RegisterNatives(klass , natives, pCount);\\\n    for (uint64_t i = 0; i &lt; pCount; i++) natives[i] = {&quot;&quot;, &quot;&quot;};\\\n\n    return JNI_VERSION_1_6;\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":2,"creation_date":1635111374,"post_id":69700724,"comment_id":123202017,"body_markdown":"Why don&#39;t you just use the variant of Process.waitfor that has a timeout, rather than building one with chewing gum and baling wire?   To the real problem - difficult to say since you don&#39;t show the reading code.","body":"Why don&#39;t you just use the variant of Process.waitfor that has a timeout, rather than building one with chewing gum and baling wire?   To the real problem - difficult to say since you don&#39;t show the reading code."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1635113106,"post_id":69700724,"comment_id":123202329,"body_markdown":"To clarify, user16632363 is referring to [this waitFor method](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#waitFor(long,java.util.concurrent.TimeUnit)).  Much simpler than creating a separate thread.","body":"To clarify, user16632363 is referring to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#waitFor(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">this waitFor method</a>.  Much simpler than creating a separate thread."},{"owner":{"account_id":13837044,"reputation":21,"user_id":9988331,"display_name":"Sandeep Kumar"},"score":0,"creation_date":1635136899,"post_id":69700724,"comment_id":123205484,"body_markdown":"But what difference does it make if i use overloaded waitFor ....command execution like chmod 644 &lt;file name&gt; takes more than 5 sec to execute ?.","body":"But what difference does it make if i use overloaded waitFor ....command execution like chmod 644 &lt;file name&gt; takes more than 5 sec to execute ?."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1635172838,"post_id":69700724,"comment_id":123218373,"body_markdown":"If you only need to execute a chmod, [use Java to do it](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#setPosixFilePermissions(java.nio.file.Path,java.util.Set)).  Instead of chmod filename 644, use `Files.setPosixFilePermissions(Path.of(filename), PosixFilePermissions.fromString(&quot;rw-r--r--&quot;))`.","body":"If you only need to execute a chmod, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#setPosixFilePermissions(java.nio.file.Path,java.util.Set)\" rel=\"nofollow noreferrer\">use Java to do it</a>.  Instead of chmod filename 644, use <code>Files.setPosixFilePermissions(Path.of(filename), PosixFilePermissions.fromString(&quot;rw-r--r--&quot;))</code>."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1635271767,"post_id":69700724,"comment_id":123251092,"body_markdown":"It is more likely that your issue is simply that your process writes large volumes to STDOUT or STDERR and that you are not reading from `process.getInputStream()` effectively.","body":"It is more likely that your issue is simply that your process writes large volumes to STDOUT or STDERR and that you are not reading from <code>process.getInputStream()</code> effectively."}],"owner":{"account_id":13837044,"reputation":21,"user_id":9988331,"display_name":"Sandeep Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1635109172,"creation_date":1635109172,"question_id":69700724,"body_markdown":"\r\nWe are executing script and Linux command using process builder. Below is a rough example of the way we are using process builder.\r\n\r\n```\r\nclass Example {\r\n\r\nclass Stopper extends TimerTask {\r\n  Thread t ;\r\n   Stopper( Thread t ){\r\n    this.t = t;\r\n  }\r\n   public void run (){\r\n    t.interrupt();  \r\n  }\r\n}\r\n\r\nString command= &lt;some command or script&gt;;\r\nString workingDirectory = &lt;working directory&gt;;\r\nProcessBuilder processbuilder = new ProcessBuilder(command);\r\nprocessbuilder.setWorkingDirectory(workingDirectory);\r\nprocessBuilder.redirectErrorStream(true);\r\n\r\n\r\nTimer timer = new Timer(true);\r\nStopper stop = new Stopper(Thread.currentThread());\r\ntimer.schedule(stop , 5); // 5 millisec\r\n\r\nProcess process = processBuilder.start();\r\n// code to call the thread to read the output stream.\r\nprocess.waitFor();\r\n\r\n}\r\n\r\n```\r\n\r\nIn spite of reading from the output stream, the process.waitFor() get interrupted by timer thread. When thread get interrupted below is snippet of error we see ( pasting only the relevant part )\r\n```\r\njava.lang.InterruptedException\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat java.lang.Object.wait(Object.java:502)\r\n\tat java.lang.UNIXProcess.waitFor(UNIXProcess.java:395)\r\n\r\n```\r\n\r\nThe thread is interrupted intermittently and not always which means out by 1000 times same command run, it will timeout 10 times only. We tried increasing the timeout period but still it&#39;s not able to complete the command execution. \r\n\r\nAfter searching for the issue, I see a bug in java which I feel is the issue but not sure. Any help on this is appreciated.\r\n\r\nhttps://bugs.openjdk.java.net/browse/JDK-8169565\r\n\r\n\r\n\r\n","title":"Process builder hangs while running Linux command occasionally","body":"<p>We are executing script and Linux command using process builder. Below is a rough example of the way we are using process builder.</p>\n<pre><code>class Example {\n\nclass Stopper extends TimerTask {\n  Thread t ;\n   Stopper( Thread t ){\n    this.t = t;\n  }\n   public void run (){\n    t.interrupt();  \n  }\n}\n\nString command= &lt;some command or script&gt;;\nString workingDirectory = &lt;working directory&gt;;\nProcessBuilder processbuilder = new ProcessBuilder(command);\nprocessbuilder.setWorkingDirectory(workingDirectory);\nprocessBuilder.redirectErrorStream(true);\n\n\nTimer timer = new Timer(true);\nStopper stop = new Stopper(Thread.currentThread());\ntimer.schedule(stop , 5); // 5 millisec\n\nProcess process = processBuilder.start();\n// code to call the thread to read the output stream.\nprocess.waitFor();\n\n}\n\n</code></pre>\n<p>In spite of reading from the output stream, the process.waitFor() get interrupted by timer thread. When thread get interrupted below is snippet of error we see ( pasting only the relevant part )</p>\n<pre><code>java.lang.InterruptedException\n    at java.lang.Object.wait(Native Method)\n    at java.lang.Object.wait(Object.java:502)\n    at java.lang.UNIXProcess.waitFor(UNIXProcess.java:395)\n\n</code></pre>\n<p>The thread is interrupted intermittently and not always which means out by 1000 times same command run, it will timeout 10 times only. We tried increasing the timeout period but still it's not able to complete the command execution.</p>\n<p>After searching for the issue, I see a bug in java which I feel is the issue but not sure. Any help on this is appreciated.</p>\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8169565\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8169565</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1635107296,"post_id":69700332,"comment_id":123201170,"body_markdown":"You can create a field so that the scope of the variable is larger than just the method. Eg. `static int choice;`  Then in your whatToDo method set the value of choice. Then in your whatNext you can reference choice. When you start having variables like this, it is good to not use static, but that would take a bit of editing.","body":"You can create a field so that the scope of the variable is larger than just the method. Eg. <code>static int choice;</code>  Then in your whatToDo method set the value of choice. Then in your whatNext you can reference choice. When you start having variables like this, it is good to not use static, but that would take a bit of editing."}],"answers":[{"tags":[],"owner":{"account_id":19430343,"reputation":111,"user_id":14210942,"display_name":"Preet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635108881,"creation_date":1635107352,"answer_id":69700516,"question_id":69700332,"body_markdown":"I could think of two easy ways you can achieve this: \r\n\r\n1. The variable `whatToConvert` is declared inside a variable. &lt;br&gt;Hence its scope (or simply say its access) is only inside that method - unless you specifically pass it as argument to some other method.&lt;br&gt;You can also have variables with global scope - meaning variables declared at class level and not inside a method. Such variables are accessible to all the methods of that class.&lt;br&gt;You can read more on &quot;scope of variables in java&quot;.&lt;br&gt;&lt;br&gt;\r\nWhat you can do here is - declare `whatToConvert` variable as static at class level instead of inside `whatToDo()` method.\r\n\r\n       public class App {\r\n            static int whatToConvert = 0;\r\n            //all other code\r\n       }\r\n\r\n    Method `whatNext()` can then have access to this variable.&lt;br&gt;&lt;br&gt;\r\n\r\n2. You know that `whatNext()` always runs after `whatToDo()`. In such case, you can return the value of &#39;whatToConvert&#39; from `whatToDo()` and pass\r\n    that value as method argument to `whatNext()`\r\n\r\nIn either case you should extract the if-else code to a new method to add re-usability for method `whatNext()`\r\n\r\nNew method can have method signature something like:\r\n\r\n            public static void decideOperation(int choice) {\r\n                //If-else blocks or switch case\r\n            }\r\n    \r\n","title":"how to run the same result of a if statement in a method in a new method","body":"<p>I could think of two easy ways you can achieve this:</p>\n<ol>\n<li><p>The variable <code>whatToConvert</code> is declared inside a variable. <br>Hence its scope (or simply say its access) is only inside that method - unless you specifically pass it as argument to some other method.<br>You can also have variables with global scope - meaning variables declared at class level and not inside a method. Such variables are accessible to all the methods of that class.<br>You can read more on &quot;scope of variables in java&quot;.<br><br>\nWhat you can do here is - declare <code>whatToConvert</code> variable as static at class level instead of inside <code>whatToDo()</code> method.</p>\n<pre><code>public class App {\n     static int whatToConvert = 0;\n     //all other code\n}\n</code></pre>\n<p>Method <code>whatNext()</code> can then have access to this variable.<br><br></p>\n</li>\n<li><p>You know that <code>whatNext()</code> always runs after <code>whatToDo()</code>. In such case, you can return the value of 'whatToConvert' from <code>whatToDo()</code> and pass\nthat value as method argument to <code>whatNext()</code></p>\n</li>\n</ol>\n<p>In either case you should extract the if-else code to a new method to add re-usability for method <code>whatNext()</code></p>\n<p>New method can have method signature something like:</p>\n<pre><code>        public static void decideOperation(int choice) {\n            //If-else blocks or switch case\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18838598,"reputation":1,"user_id":13740674,"display_name":"Bryan Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635107894,"creation_date":1635107894,"answer_id":69700589,"question_id":69700332,"body_markdown":"When you declare a variable in a method, it will be local, so it will be instantiated and in the method and removed once the method is finished. In order for a variable to be read by all methods you should declare it as a global variable, in this way:\r\n\r\n    public class App {\r\n      private static int whatToConvert;\r\n      ...\r\n      public static void whatToDo() {\r\n        Scanner in = new Scanner(System.in);\r\n        conversions();  \r\n        whatToConvert = in.nextInt();\r\n        ...\r\n      }\r\n\r\nNow you can use whatToConvert in other methods\r\n      ","title":"how to run the same result of a if statement in a method in a new method","body":"<p>When you declare a variable in a method, it will be local, so it will be instantiated and in the method and removed once the method is finished. In order for a variable to be read by all methods you should declare it as a global variable, in this way:</p>\n<pre><code>public class App {\n  private static int whatToConvert;\n  ...\n  public static void whatToDo() {\n    Scanner in = new Scanner(System.in);\n    conversions();  \n    whatToConvert = in.nextInt();\n    ...\n  }\n</code></pre>\n<p>Now you can use whatToConvert in other methods</p>\n"}],"owner":{"display_name":"user17236093"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69700516,"answer_count":2,"score":-1,"last_activity_date":1635108881,"creation_date":1635105828,"question_id":69700332,"body_markdown":"I am new to java and I&#39;m working on a temp conversion tool \r\n\r\nthe whatToDo method takes a users input and runs it though if and else if statements and will convert one unit to another depending on what the user imputed \r\n\r\nthen the whatsNext method runs once the conversion method was executed it will ask the user if they want to convert something else convert the same thing or exit the program\r\n\r\nI want it so when the whatsNext method is ran the and the user inputs &quot;1&quot; it will run the same conversion method that was just run from the whatToDo method\r\n\r\nI have tried to take the WhatToConvert int from the whatToDo method to make a new if statement in the whatsNext method but I can not because its in a method and java cannot find it \r\n\r\n\r\nThank you in advanced if you do help :)\r\n\r\n        import java.util.Scanner;\r\n    public class App {\r\n        public static void conversions() {\r\n            System.out.println(&quot;What two temperatures would you like to convert?&quot;);\r\n            System.out.println(&quot;[1]:celsius to fahrenheit&quot;);\r\n            System.out.println(&quot;[2]:fahrenheit to celsius&quot;);\r\n            System.out.println(&quot;[3]:celsius to kelvin&quot;);\r\n            System.out.println(&quot;[4]:fahrenheit to kelvin&quot;);\r\n            System.out.println(&quot;[5]:kelvin to celsius&quot;);\r\n            System.out.println(&quot;[6]:kelvin to fahrenheit&quot;);\r\n          }\r\n          public static void options() {\r\n            System.out.println(&quot;what would you like to do now?&quot;);\r\n            System.out.println(&quot;[1]:convert the same thing&quot;);\r\n            System.out.println(&quot;[2]:convert something else&quot;);\r\n            System.out.println(&quot;[3]:exit&quot;);\r\n          }\r\n          public static void whatToDo() {\r\n            Scanner in = new Scanner(System.in);\r\n            conversions();  \r\n            int whatToConvert = in.nextInt();\r\n            if (whatToConvert == 1) {\r\n              cF();\r\n            } else if (whatToConvert == 2) {\r\n            \tfC();\r\n            } else if (whatToConvert == 3) {\r\n            \tcK();\r\n            } else if (whatToConvert == 4) {\r\n            \tfK();\r\n            } else if (whatToConvert == 5) {\r\n            \tkC();\r\n            } else if (whatToConvert == 6) {\r\n            \tkF();\r\n            }\r\n             else {\r\n              System.out.flush();\r\n              System.out.println(whatToConvert + &quot;: is a unknown command pls try again:&quot;);\r\n              whatToDo();\r\n            }\r\n          }\r\n    //      runs once conversion method was run\r\n          public static void whatNext() {\r\n            var in = new Scanner(System.in);\r\n            options();\r\n            int choice = in.nextInt();\r\n            if (choice == 1) {\r\n            \tSystem.out.println(&quot;needs to be added&quot;);\r\n            \tcF();\r\n            } else if (choice == 2) {\r\n            \twhatToDo();\r\n            } else if (choice == 3) {\r\n            \tSystem.exit(1);\r\n            }\r\n          }\r\n    //      conversion methods \r\n           public static void cF() {\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;please enter the temperature in celsius:&quot;);\r\n            double cToF = in.nextDouble();\r\n            System.out.println(cToF + &quot;&#176;C is about &quot; + (cToF * 1.8 + 32) + &quot;&#176;F&quot;);\r\n          }\r\n           public static void fC() {\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;please enter the temperature in fahrenheit:&quot;);\r\n            double fToC = in.nextDouble();\r\n            System.out.println(fToC + &quot;&#176;F is about &quot; + (fToC - 32) / 1.8 + &quot;&#176;C&quot;);\r\n          }\r\n           public static void cK() {\r\n               Scanner in = new Scanner(System.in);\r\n        \t   System.out.println(&quot;enter the temperature in celsius:&quot;);\r\n        \t   double cToK = in.nextDouble();\r\n        \t   System.out.println(cToK + &quot;&#176;C is about &quot; + (cToK + 273.15) + &quot;&#176;K&quot;);\r\n           }\r\n           public static void fK() {\r\n               Scanner in = new Scanner(System.in);\r\n        \t   System.out.println(&quot;enter the temperature in fahrenheit:&quot;);\r\n        \t   double fToK = in.nextDouble();\r\n        \t   System.out.println(fToK + &quot;&#176;F is about &quot; + ((fToK - 32)*5/9 + 273.15) + &quot;&#176;K&quot;);\r\n           }\r\n           public static void kC() {\r\n        \t   Scanner in = new Scanner(System.in);\r\n        \t   System.out.println(&quot;enter the temperature in kelvin:&quot;);\r\n        \t   double kToC = in.nextDouble();\r\n        \t   System.out.println(kToC + &quot;&#176;K is about &quot; + (kToC - 273.15) + &quot;&#176;C&quot;);\r\n           }\r\n           public static void kF() {\r\n        \t   Scanner in = new Scanner(System.in);\r\n        \t   System.out.println(&quot;enter the temperature in kelvin:&quot;);\r\n        \t   double kToF = in.nextDouble();\r\n        \t   System.out.println(kToF + &quot;&#176;K is about &quot; + ((kToF - 273.15)* 9/5 + 32) + &quot;&#176;C&quot;);\r\n           }\r\n           \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n        \twhile (true) {\r\n        \t\twhatToDo();\r\n        \t\twhatNext();    \t\r\n        \t\t}\r\n        }\r\n    }\r\n\r\n","title":"how to run the same result of a if statement in a method in a new method","body":"<p>I am new to java and I'm working on a temp conversion tool</p>\n<p>the whatToDo method takes a users input and runs it though if and else if statements and will convert one unit to another depending on what the user imputed</p>\n<p>then the whatsNext method runs once the conversion method was executed it will ask the user if they want to convert something else convert the same thing or exit the program</p>\n<p>I want it so when the whatsNext method is ran the and the user inputs &quot;1&quot; it will run the same conversion method that was just run from the whatToDo method</p>\n<p>I have tried to take the WhatToConvert int from the whatToDo method to make a new if statement in the whatsNext method but I can not because its in a method and java cannot find it</p>\n<p>Thank you in advanced if you do help :)</p>\n<pre><code>    import java.util.Scanner;\npublic class App {\n    public static void conversions() {\n        System.out.println(&quot;What two temperatures would you like to convert?&quot;);\n        System.out.println(&quot;[1]:celsius to fahrenheit&quot;);\n        System.out.println(&quot;[2]:fahrenheit to celsius&quot;);\n        System.out.println(&quot;[3]:celsius to kelvin&quot;);\n        System.out.println(&quot;[4]:fahrenheit to kelvin&quot;);\n        System.out.println(&quot;[5]:kelvin to celsius&quot;);\n        System.out.println(&quot;[6]:kelvin to fahrenheit&quot;);\n      }\n      public static void options() {\n        System.out.println(&quot;what would you like to do now?&quot;);\n        System.out.println(&quot;[1]:convert the same thing&quot;);\n        System.out.println(&quot;[2]:convert something else&quot;);\n        System.out.println(&quot;[3]:exit&quot;);\n      }\n      public static void whatToDo() {\n        Scanner in = new Scanner(System.in);\n        conversions();  \n        int whatToConvert = in.nextInt();\n        if (whatToConvert == 1) {\n          cF();\n        } else if (whatToConvert == 2) {\n            fC();\n        } else if (whatToConvert == 3) {\n            cK();\n        } else if (whatToConvert == 4) {\n            fK();\n        } else if (whatToConvert == 5) {\n            kC();\n        } else if (whatToConvert == 6) {\n            kF();\n        }\n         else {\n          System.out.flush();\n          System.out.println(whatToConvert + &quot;: is a unknown command pls try again:&quot;);\n          whatToDo();\n        }\n      }\n//      runs once conversion method was run\n      public static void whatNext() {\n        var in = new Scanner(System.in);\n        options();\n        int choice = in.nextInt();\n        if (choice == 1) {\n            System.out.println(&quot;needs to be added&quot;);\n            cF();\n        } else if (choice == 2) {\n            whatToDo();\n        } else if (choice == 3) {\n            System.exit(1);\n        }\n      }\n//      conversion methods \n       public static void cF() {\n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;please enter the temperature in celsius:&quot;);\n        double cToF = in.nextDouble();\n        System.out.println(cToF + &quot;C is about &quot; + (cToF * 1.8 + 32) + &quot;F&quot;);\n      }\n       public static void fC() {\n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;please enter the temperature in fahrenheit:&quot;);\n        double fToC = in.nextDouble();\n        System.out.println(fToC + &quot;F is about &quot; + (fToC - 32) / 1.8 + &quot;C&quot;);\n      }\n       public static void cK() {\n           Scanner in = new Scanner(System.in);\n           System.out.println(&quot;enter the temperature in celsius:&quot;);\n           double cToK = in.nextDouble();\n           System.out.println(cToK + &quot;C is about &quot; + (cToK + 273.15) + &quot;K&quot;);\n       }\n       public static void fK() {\n           Scanner in = new Scanner(System.in);\n           System.out.println(&quot;enter the temperature in fahrenheit:&quot;);\n           double fToK = in.nextDouble();\n           System.out.println(fToK + &quot;F is about &quot; + ((fToK - 32)*5/9 + 273.15) + &quot;K&quot;);\n       }\n       public static void kC() {\n           Scanner in = new Scanner(System.in);\n           System.out.println(&quot;enter the temperature in kelvin:&quot;);\n           double kToC = in.nextDouble();\n           System.out.println(kToC + &quot;K is about &quot; + (kToC - 273.15) + &quot;C&quot;);\n       }\n       public static void kF() {\n           Scanner in = new Scanner(System.in);\n           System.out.println(&quot;enter the temperature in kelvin:&quot;);\n           double kToF = in.nextDouble();\n           System.out.println(kToF + &quot;K is about &quot; + ((kToF - 273.15)* 9/5 + 32) + &quot;C&quot;);\n       }\n       \n    public static void main(String[] args) throws Exception {\n\n        while (true) {\n            whatToDo();\n            whatNext();     \n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","mysql"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1635108592,"post_id":69700608,"comment_id":123201487,"body_markdown":"use live data. while it has no data, show loading. you can use different states to show errors, loading or success","body":"use live data. while it has no data, show loading. you can use different states to show errors, loading or success"},{"owner":{"account_id":19487977,"reputation":55,"user_id":14256863,"display_name":"man_idk"},"score":0,"creation_date":1635108922,"post_id":69700608,"comment_id":123201561,"body_markdown":"Thanks, I&#39;m already using MutableLiveData so this would essentially just comprise adding an observer in the fragment in question and setting a load prompt while the data is empty?","body":"Thanks, I&#39;m already using MutableLiveData so this would essentially just comprise adding an observer in the fragment in question and setting a load prompt while the data is empty?"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1635109161,"post_id":69700608,"comment_id":123201616,"body_markdown":"should work, you can create an additional live data to show the state of your view as another option, something which has a state of `success/loading/error`, then based on this you can show different things on your view. once you start the load, set the state to loading, show loading on your view, if success/error, show or hide relevant info","body":"should work, you can create an additional live data to show the state of your view as another option, something which has a state of <code>success&#47;loading&#47;error</code>, then based on this you can show different things on your view. once you start the load, set the state to loading, show loading on your view, if success/error, show or hide relevant info"},{"owner":{"account_id":19487977,"reputation":55,"user_id":14256863,"display_name":"man_idk"},"score":0,"creation_date":1635109441,"post_id":69700608,"comment_id":123201665,"body_markdown":"@a_local_nobody Great idea, thanks so much! really helped me here","body":"@a_local_nobody Great idea, thanks so much! really helped me here"}],"owner":{"account_id":19487977,"reputation":55,"user_id":14256863,"display_name":"man_idk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635108715,"creation_date":1635108100,"question_id":69700608,"body_markdown":"I have a dropdown list in a fragment that I access by referencing a ViewModel I initialize in the main activity, said ViewModel retrieving data from a mySQL database using Volley. This normally works as almost always the data has been successfully retrieved by the time the user opens the fragment requiring it, however, if I update the database and refresh my ViewModel&#39;s contents this is almost never the case (upon update I immediately return to the fragment where I need the data)  \n  \n what I&#39;d like is to be able to show a loading prompt until confirmation of successful retrieval of the data, but all resources I can find on this use the now deprecated AsyncTask, so I&#39;m not sure how best to approach this.","title":"Waiting for database information before displaying list","body":"<p>I have a dropdown list in a fragment that I access by referencing a ViewModel I initialize in the main activity, said ViewModel retrieving data from a mySQL database using Volley. This normally works as almost always the data has been successfully retrieved by the time the user opens the fragment requiring it, however, if I update the database and refresh my ViewModel's contents this is almost never the case (upon update I immediately return to the fragment where I need the data)</p>\n<p>what I'd like is to be able to show a loading prompt until confirmation of successful retrieval of the data, but all resources I can find on this use the now deprecated AsyncTask, so I'm not sure how best to approach this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1635090680,"post_id":69698141,"comment_id":123196984,"body_markdown":"Please don&#39;t post images of code (or links.  Put the code in the question, properly formatted between three consecutive backticks `\\`\\`\\``  And I would suggest including only a [mre] that demonstrates the specific problem.","body":"Please don&#39;t post images of code (or links.  Put the code in the question, properly formatted between three consecutive backticks <code>```</code>  And I would suggest including only a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the specific problem."},{"owner":{"display_name":"user17201277"},"score":1,"creation_date":1635091853,"post_id":69698141,"comment_id":123197260,"body_markdown":"Your `createMoves()` is incorrect. See [my answer](https://stackoverflow.com/a/69698516/17201277) to the previous question.","body":"Your <code>createMoves()</code> is incorrect. See <a href=\"https://stackoverflow.com/a/69698516/17201277\">my answer</a> to the previous question."},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1635093882,"post_id":69698141,"comment_id":123197728,"body_markdown":"WJS, I edited the post. @mokyade thank you. I now edited my code, but the result is the same - the code runs, but it finishes in 1 millisecond without solving. I believe my logic in the `search()` method is also wrong (the way I try to convert the original bitwise operations to `BitSet` code)","body":"WJS, I edited the post. @mokyade thank you. I now edited my code, but the result is the same - the code runs, but it finishes in 1 millisecond without solving. I believe my logic in the <code>search()</code> method is also wrong (the way I try to convert the original bitwise operations to <code>BitSet</code> code)"},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1635094789,"post_id":69698141,"comment_id":123197960,"body_markdown":"@mokyade, WJS, sorry now I edited","body":"@mokyade, WJS, sorry now I edited"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1635099284,"post_id":69698141,"comment_id":123199194,"body_markdown":"Can I ask you something -- Why don&#39;t you just use existing libraries? I found several when searching for **&quot;java peg solitaire github&quot;**. Some allow you to change the cells too. I&#39;ve tested the given demo, sometimes it takes a few millis, 1~2 secs or worst 30+ secs. This is a game about choices -- what if there are multiple paths you can take on? What to do? What about dead ends? What to do? Where to begin from? I&#39;d avoid `BitSet` altogether if I were you, using `byte[]` is a lot efficient and cleaner. This way, it is easier to support other boards too or even your own custom boards.","body":"Can I ask you something -- Why don&#39;t you just use existing libraries? I found several when searching for <b>&quot;java peg solitaire github&quot;</b>. Some allow you to change the cells too. I&#39;ve tested the given demo, sometimes it takes a few millis, 1~2 secs or worst 30+ secs. This is a game about choices -- what if there are multiple paths you can take on? What to do? What about dead ends? What to do? Where to begin from? I&#39;d avoid <code>BitSet</code> altogether if I were you, using <code>byte[]</code> is a lot efficient and cleaner. This way, it is easier to support other boards too or even your own custom boards."},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1635100895,"post_id":69698141,"comment_id":123199601,"body_markdown":"I couldn&#39;t find a solution where you can choose the end board as in this code. I need to be able to edit both start board config and end board config and then get the steps","body":"I couldn&#39;t find a solution where you can choose the end board as in this code. I need to be able to edit both start board config and end board config and then get the steps"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635108475,"creation_date":1635108475,"answer_id":69700648,"question_id":69698141,"body_markdown":"You are destroying your data.\r\n\r\nLets assume that your code is running the first iteration of `for (BitSet[] move : moves)` so that `BitSet[] move = moves[0];`.\r\n\r\nNow when you write\r\n\r\n            BitSet move0 = move[0];\r\n            move0.and(board);\r\n\r\nyou are actually modifying the `BitSet` at `moves[0][0]` and if during the recursive call to `boolean search(BitSet board)`  you can no longer access the original `moves[0][0]` - but the original `moves[0][0]` is required for the recursion to work.\r\n\r\nThe workaround for this part is not to use `move0.and(board);` and `move1.and(board);` but to replace the conditions in the following `if` with the non-destructive\r\n\r\n            if (!move1.intersects(board) &amp;&amp; move0.intersects(board)) {\r\n\r\n----\r\nThe second problem is that the line\r\n\r\n            BitSet newBoard = board;\r\n\r\ndoesn&#39;t create a copy of the `board` - it just creates another reference to the BitSet referenced by `board` and therefore the line\r\n\r\n                newBoard.xor(move2);\r\n\r\nchanges the `BitSet` referenced by `newBoard` which is also the BitSet referenced by `board` which further messes up the data.\r\n\r\nInstead of that line you need to create a copy of the `board` by writing\r\n\r\n            BitSet newBoard = (BitSet) board.clone();\r\n----\r\nThe third problem is the comparison in the line \r\n\r\n                    if (newBoard == INITIAL_BOARD || search(newBoard)) {\r\n\r\n`newBoard == INITIAL_BOARD` compares the references to the BitSet&#39;s `newBoard` and `INITIAL_BOARD` but because the started as different objects this condition will never be true.\r\n\r\nInstead of that you need to write\r\n\r\n                    if (newBoard.equals(INITIAL_BOARD) || search(newBoard)) {\r\n","title":"Converting code to BitSet from long - it runs but doesn&#39;t solve properly","body":"<p>You are destroying your data.</p>\n<p>Lets assume that your code is running the first iteration of <code>for (BitSet[] move : moves)</code> so that <code>BitSet[] move = moves[0];</code>.</p>\n<p>Now when you write</p>\n<pre><code>        BitSet move0 = move[0];\n        move0.and(board);\n</code></pre>\n<p>you are actually modifying the <code>BitSet</code> at <code>moves[0][0]</code> and if during the recursive call to <code>boolean search(BitSet board)</code>  you can no longer access the original <code>moves[0][0]</code> - but the original <code>moves[0][0]</code> is required for the recursion to work.</p>\n<p>The workaround for this part is not to use <code>move0.and(board);</code> and <code>move1.and(board);</code> but to replace the conditions in the following <code>if</code> with the non-destructive</p>\n<pre><code>        if (!move1.intersects(board) &amp;&amp; move0.intersects(board)) {\n</code></pre>\n<hr />\n<p>The second problem is that the line</p>\n<pre><code>        BitSet newBoard = board;\n</code></pre>\n<p>doesn't create a copy of the <code>board</code> - it just creates another reference to the BitSet referenced by <code>board</code> and therefore the line</p>\n<pre><code>            newBoard.xor(move2);\n</code></pre>\n<p>changes the <code>BitSet</code> referenced by <code>newBoard</code> which is also the BitSet referenced by <code>board</code> which further messes up the data.</p>\n<p>Instead of that line you need to create a copy of the <code>board</code> by writing</p>\n<pre><code>        BitSet newBoard = (BitSet) board.clone();\n</code></pre>\n<hr />\n<p>The third problem is the comparison in the line</p>\n<pre><code>                if (newBoard == INITIAL_BOARD || search(newBoard)) {\n</code></pre>\n<p><code>newBoard == INITIAL_BOARD</code> compares the references to the BitSet's <code>newBoard</code> and <code>INITIAL_BOARD</code> but because the started as different objects this condition will never be true.</p>\n<p>Instead of that you need to write</p>\n<pre><code>                if (newBoard.equals(INITIAL_BOARD) || search(newBoard)) {\n</code></pre>\n"}],"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69700648,"answer_count":1,"score":0,"last_activity_date":1635108475,"creation_date":1635088770,"question_id":69698141,"body_markdown":"I am trying to convert the following code to use `BitSet` instead of `long` for boards longer than 64 cells:\r\n\r\n    import java.util.*;\r\n     \r\n    public class Solver {\r\n     \r\n        // list of seen boards - this is used to prevent rechecking of paths\r\n        private static final HashSet&lt;Long&gt; seenBoards = new HashSet&lt;Long&gt;();\r\n     \r\n        // list of solution boards in ascending order - filled in once the solution is found\r\n        private static final ArrayList&lt;Long&gt; solution = new ArrayList&lt;Long&gt;();\r\n     \r\n        // -------\r\n     \r\n        // goal board (one marble in center)\r\n        private static final long GOAL_BOARD = 16777216L;\r\n     \r\n        // initial board (one marble free in center)\r\n        private static final long INITIAL_BOARD = 124141717933596L;\r\n     \r\n        // board that contains a ball in every available slot, i.e. GOAL_BOARD | INITIAL_BOARD\r\n        private static final long VALID_BOARD_CELLS = 124141734710812L;\r\n     \r\n        // holds all 76 moves that are possible\r\n        // the inner array is structures as following:\r\n        // - first entry holds the peg that is added by the move\r\n        // - second entry holds the two pegs that are removed by the move\r\n        // - third entry holds all three involved pegs\r\n        private static final long[][] moves = new long[76][];\r\n     \r\n        // -------\r\n     \r\n        // print the board\r\n        private static void printBoard(long board) {\r\n            // loop over all cells (the board is 7 x 7)\r\n            for (int i = 0; i &lt; 49; i++) {\r\n                boolean validCell = ((1L &lt;&lt; i) &amp; VALID_BOARD_CELLS) != 0L;\r\n                System.out.print(validCell ? (((1L &lt;&lt; i) &amp; board) != 0L ? &quot;X &quot; : &quot;O &quot;) : &quot;  &quot;);\r\n                if (i % 7 == 6) System.out.println();\r\n            }\r\n            System.out.println(&quot;-------------&quot;);\r\n        }\r\n     \r\n        // create the two possible moves for the three added pegs\r\n        // (this function assumes that the pegs are in one continuous line)\r\n        private static void createMoves(int bit1, int bit2, int bit3, ArrayList&lt;long[]&gt; moves) {\r\n            moves.add(new long[]{(1L &lt;&lt; bit1), (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3),\r\n                    (1L &lt;&lt; bit1) | (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3)});\r\n            moves.add(new long[]{(1L &lt;&lt; bit3), (1L &lt;&lt; bit2) | (1L &lt;&lt; bit1),\r\n                    (1L &lt;&lt; bit1) | (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3)});\r\n        }\r\n     \r\n        // do the calculation recursively by starting from\r\n        // the &quot;GOAL_BOARD&quot; and doing moves in reverse\r\n        private static boolean search(long board) {\r\n            // for all possible moves\r\n            for (long[] move : moves) {\r\n                // check if the move is valid\r\n                // Note: we place &quot;two ball&quot; check first since it is more\r\n                // likely to fail. This saves about 20% in run time (!)\r\n                if ((move[1] &amp; board) == 0L &amp;&amp; (move[0] &amp; board) != 0L) {\r\n                    // calculate the board after this move was applied\r\n                    long newBoard = board ^ move[2];\r\n                    // only continue processing if we have not seen this board before\r\n                    if (!seenBoards.contains(newBoard)) {\r\n                        seenBoards.add(newBoard);\r\n                        // check if the initial board is reached\r\n                        if (newBoard == INITIAL_BOARD || search(newBoard)) {\r\n                            solution.add(board);\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n     \r\n        // the main method\r\n        public static void main(String[] args) {\r\n            // to measure the overall runtime of the program\r\n            long time = System.currentTimeMillis();\r\n     \r\n            // add starting board (as this board is not added by the recursive function)\r\n            solution.add(INITIAL_BOARD);\r\n     \r\n            // generate all possible moves\r\n            ArrayList&lt;long[]&gt; moves = new ArrayList&lt;long[]&gt;();\r\n            // holds all starting positions in west-east direction\r\n            int[] startsX = new int[] {2,9,14,15,16,17,18,21,22,23,24,25,28,29,30,31,32,37,44};\r\n            for (int x : startsX) {\r\n                createMoves(x, x + 1, x + 2, moves);\r\n            }\r\n            // holds all starting positions in north-south direction\r\n            int[] startsY = new int[] {2,3,4,9,10,11,14,15,16,17,18,19,20,23,24,25,30,31,32};\r\n            for (int y : startsY) {\r\n                createMoves(y, y + 7, y + 14, moves);\r\n            }\r\n            // randomize the order of the moves (this highly influences the resulting runtime)\r\n            Collections.shuffle(moves);\r\n            // fill in the global moves variable that is used by the solver\r\n            moves.toArray(Solver.moves);\r\n     \r\n            // start recursively search for the initial board from the goal (reverse direction!)\r\n            search(GOAL_BOARD);\r\n     \r\n            // print required time\r\n            System.out.println(&quot;Completed in &quot; + (System.currentTimeMillis() - time) + &quot; ms.&quot;);\r\n     \r\n            // print the found solution\r\n            for (long step : solution) {\r\n                printBoard(step);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is my code right now, it runs but not solving:\r\n\r\n    import java.util.*;\r\n    \r\n    public class BitSetEnglishPegSolitaire {\r\n     \r\n        // list of seen boards - this is used to prevent rechecking of paths\r\n        private static final HashSet&lt;BitSet&gt; seenBoards = new HashSet&lt;BitSet&gt;();\r\n     \r\n        // list of solution boards in ascending order - filled in once the solution is found\r\n        private static final ArrayList&lt;BitSet&gt; solution = new ArrayList&lt;BitSet&gt;();\r\n     \r\n        // -------\r\n     \r\n        //private static final long GOAL_BOARD = 16777216L;\r\n        private static String GOAL_BOARD_STRING = &quot;0000000000000000000000001000000000000000000000000&quot;;\r\n        private static BitSet GOAL_BOARD = bitsetFromString(GOAL_BOARD_STRING);\r\n        \r\n        //private static final long INITIAL_BOARD = 124141717933596L;\r\n        private static String INITIAL_BOARD_STRING = &quot;0011100001110011111111110111111111100111000011100&quot;;\r\n        private static BitSet INITIAL_BOARD = bitsetFromString(INITIAL_BOARD_STRING);\r\n        \r\n        //private static final long VALID_BOARD_CELLS = 124141734710812L;\r\n        private static String VALID_BOARD_CELLS_STRING = &quot;0011100001110011111111111111111111100111000011100&quot;;\r\n        private static BitSet VALID_BOARD_CELLS = bitsetFromString(VALID_BOARD_CELLS_STRING);\r\n     \r\n        // holds all 76 moves that are possible\r\n        // the inner array is structures as following:\r\n        // - first entry holds the peg that is added by the move\r\n        // - second entry holds the two pegs that are removed by the move\r\n        // - third entry holds all three involved pegs\r\n        private static final BitSet[][] moves = new BitSet[76][];\r\n     \r\n        // -------\r\n     \r\n        // print the board\r\n        private static void printBoard(BitSet board) {\r\n            // loop over all cells (the board is 7 x 7)\r\n            for (int i = 0; i &lt; 49; i++) {\r\n                boolean validCell = VALID_BOARD_CELLS.get(i);\r\n                System.out.print(validCell ? (board.get(i) ? &quot;X &quot; : &quot;O &quot;) : &quot;  &quot;);\r\n                if (i % 7 == 6) System.out.println();\r\n            }\r\n            System.out.println(&quot;-------------&quot;);\r\n        }\r\n     \r\n        // create the two possible moves for the three added pegs\r\n        // (this function assumes that the pegs are in one continuous line)\r\n        private static BitSet bitset(int... bits) {\r\n            BitSet result = new BitSet();\r\n            for (int i : bits)\r\n                result.set(i);\r\n            return result;\r\n        }\r\n    \r\n        private static void createMoves(int bit1, int bit2, int bit3, ArrayList&lt;BitSet[]&gt; moves) {\r\n            moves.add(new BitSet[] {bitset(bit1), bitset(bit2, bit3), bitset(bit1, bit2, bit3)});\r\n            moves.add(new BitSet[] {bitset(bit3), bitset(bit2, bit1), bitset(bit1, bit2, bit3)});\r\n        }\r\n     \r\n        // do the calculation recursively by starting from\r\n        // the &quot;GOAL_BOARD&quot; and doing moves in reverse\r\n        private static boolean search(BitSet board) {\r\n            // for all possible moves\r\n            for (BitSet[] move : moves) {\r\n            \t\r\n            \tBitSet move0 = move[0];\r\n            \tBitSet move1 = move[1];\r\n            \tBitSet move2 = move[2];\r\n            \tBitSet newBoard = board;\r\n            \t\r\n            \tmove0.and(board);\r\n            \tmove1.and(board);           \t\r\n                \r\n            \t// check if the move is valid\r\n                // Note: we place &quot;two ball&quot; check first since it is more\r\n                // likely to fail. This saves about 20% in run time (!)       \t        \t\r\n                if (move1.isEmpty() &amp;&amp; !move0.isEmpty()) {\r\n                    // calculate the board after this move was applied\r\n                    //BitSet newBoard = board ^ move[2];\r\n                \tnewBoard.xor(move2);\r\n                    // only continue processing if we have not seen this board before\r\n                    if (!seenBoards.contains(newBoard)) {\r\n                        seenBoards.add(newBoard);\r\n                        // check if the initial board is reached\r\n                        if (newBoard == INITIAL_BOARD || search(newBoard)) {\r\n                            solution.add(board);\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        \r\n        private static BitSet bitsetFromString(String binary) {\r\n            BitSet bitset = new BitSet(binary.length());\r\n            int len = binary.length();\r\n            for (int i = len-1; i &gt;= 0; i--) {\r\n                if (binary.charAt(i) == &#39;1&#39;) {\r\n                    bitset.set(len-i-1);\r\n                }\r\n            }\r\n            return bitset;\r\n        }\r\n     \r\n        // the main method\r\n        public static void main(String[] args) {\r\n            // to measure the overall runtime of the program\r\n            long time = System.currentTimeMillis();\r\n     \r\n            // add starting board (as this board is not added by the recursive function)\r\n            solution.add(INITIAL_BOARD);\r\n     \r\n            // generate all possible moves\r\n            ArrayList&lt;BitSet[]&gt; moves = new ArrayList&lt;BitSet[]&gt;();\r\n            // holds all starting positions in west-east direction\r\n            int[] startsX = new int[] {2,9,14,15,16,17,18,21,22,23,24,25,28,29,30,31,32,37,44};\r\n            for (int x : startsX) {\r\n                createMoves(x, x + 1, x + 2, moves);\r\n            }\r\n            // holds all starting positions in north-south direction\r\n            int[] startsY = new int[] {2,3,4,9,10,11,14,15,16,17,18,19,20,23,24,25,30,31,32};\r\n            for (int y : startsY) {\r\n                createMoves(y, y + 7, y + 14, moves);\r\n            }\r\n            // randomize the order of the moves (this highly influences the resulting runtime)\r\n            Collections.shuffle(moves);\r\n            // fill in the global moves variable that is used by the solver\r\n            moves.toArray(BitSetEnglishPegSolitaire.moves);\r\n     \r\n            // start recursively search for the initial board from the goal (reverse direction!)\r\n            search(GOAL_BOARD);\r\n     \r\n            // print required time\r\n            System.out.println(&quot;Completed in &quot; + (System.currentTimeMillis() - time) + &quot; ms.&quot;);\r\n     \r\n            // print the found solution\r\n            for (BitSet step : solution) {\r\n                printBoard(step);\r\n            }\r\n        }\r\n    }\r\n\r\nI think my problem is in the `search()` method (Converting the bitwise logic to `BitSet`), and also in the way I defined `GOAL_BOARD_STRING `, `INITIAL_BOARD_STRING `, `VALID_BOARD_CELLS_STRING ` and their coressponding BitSetter method `bitsetFromString()`\r\n\r\nI can&#39;t find out where exactly is the issue. ","title":"Converting code to BitSet from long - it runs but doesn&#39;t solve properly","body":"<p>I am trying to convert the following code to use <code>BitSet</code> instead of <code>long</code> for boards longer than 64 cells:</p>\n<pre><code>import java.util.*;\n \npublic class Solver {\n \n    // list of seen boards - this is used to prevent rechecking of paths\n    private static final HashSet&lt;Long&gt; seenBoards = new HashSet&lt;Long&gt;();\n \n    // list of solution boards in ascending order - filled in once the solution is found\n    private static final ArrayList&lt;Long&gt; solution = new ArrayList&lt;Long&gt;();\n \n    // -------\n \n    // goal board (one marble in center)\n    private static final long GOAL_BOARD = 16777216L;\n \n    // initial board (one marble free in center)\n    private static final long INITIAL_BOARD = 124141717933596L;\n \n    // board that contains a ball in every available slot, i.e. GOAL_BOARD | INITIAL_BOARD\n    private static final long VALID_BOARD_CELLS = 124141734710812L;\n \n    // holds all 76 moves that are possible\n    // the inner array is structures as following:\n    // - first entry holds the peg that is added by the move\n    // - second entry holds the two pegs that are removed by the move\n    // - third entry holds all three involved pegs\n    private static final long[][] moves = new long[76][];\n \n    // -------\n \n    // print the board\n    private static void printBoard(long board) {\n        // loop over all cells (the board is 7 x 7)\n        for (int i = 0; i &lt; 49; i++) {\n            boolean validCell = ((1L &lt;&lt; i) &amp; VALID_BOARD_CELLS) != 0L;\n            System.out.print(validCell ? (((1L &lt;&lt; i) &amp; board) != 0L ? &quot;X &quot; : &quot;O &quot;) : &quot;  &quot;);\n            if (i % 7 == 6) System.out.println();\n        }\n        System.out.println(&quot;-------------&quot;);\n    }\n \n    // create the two possible moves for the three added pegs\n    // (this function assumes that the pegs are in one continuous line)\n    private static void createMoves(int bit1, int bit2, int bit3, ArrayList&lt;long[]&gt; moves) {\n        moves.add(new long[]{(1L &lt;&lt; bit1), (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3),\n                (1L &lt;&lt; bit1) | (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3)});\n        moves.add(new long[]{(1L &lt;&lt; bit3), (1L &lt;&lt; bit2) | (1L &lt;&lt; bit1),\n                (1L &lt;&lt; bit1) | (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3)});\n    }\n \n    // do the calculation recursively by starting from\n    // the &quot;GOAL_BOARD&quot; and doing moves in reverse\n    private static boolean search(long board) {\n        // for all possible moves\n        for (long[] move : moves) {\n            // check if the move is valid\n            // Note: we place &quot;two ball&quot; check first since it is more\n            // likely to fail. This saves about 20% in run time (!)\n            if ((move[1] &amp; board) == 0L &amp;&amp; (move[0] &amp; board) != 0L) {\n                // calculate the board after this move was applied\n                long newBoard = board ^ move[2];\n                // only continue processing if we have not seen this board before\n                if (!seenBoards.contains(newBoard)) {\n                    seenBoards.add(newBoard);\n                    // check if the initial board is reached\n                    if (newBoard == INITIAL_BOARD || search(newBoard)) {\n                        solution.add(board);\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n \n    // the main method\n    public static void main(String[] args) {\n        // to measure the overall runtime of the program\n        long time = System.currentTimeMillis();\n \n        // add starting board (as this board is not added by the recursive function)\n        solution.add(INITIAL_BOARD);\n \n        // generate all possible moves\n        ArrayList&lt;long[]&gt; moves = new ArrayList&lt;long[]&gt;();\n        // holds all starting positions in west-east direction\n        int[] startsX = new int[] {2,9,14,15,16,17,18,21,22,23,24,25,28,29,30,31,32,37,44};\n        for (int x : startsX) {\n            createMoves(x, x + 1, x + 2, moves);\n        }\n        // holds all starting positions in north-south direction\n        int[] startsY = new int[] {2,3,4,9,10,11,14,15,16,17,18,19,20,23,24,25,30,31,32};\n        for (int y : startsY) {\n            createMoves(y, y + 7, y + 14, moves);\n        }\n        // randomize the order of the moves (this highly influences the resulting runtime)\n        Collections.shuffle(moves);\n        // fill in the global moves variable that is used by the solver\n        moves.toArray(Solver.moves);\n \n        // start recursively search for the initial board from the goal (reverse direction!)\n        search(GOAL_BOARD);\n \n        // print required time\n        System.out.println(&quot;Completed in &quot; + (System.currentTimeMillis() - time) + &quot; ms.&quot;);\n \n        // print the found solution\n        for (long step : solution) {\n            printBoard(step);\n        }\n    }\n}\n</code></pre>\n<p>This is my code right now, it runs but not solving:</p>\n<pre><code>import java.util.*;\n\npublic class BitSetEnglishPegSolitaire {\n \n    // list of seen boards - this is used to prevent rechecking of paths\n    private static final HashSet&lt;BitSet&gt; seenBoards = new HashSet&lt;BitSet&gt;();\n \n    // list of solution boards in ascending order - filled in once the solution is found\n    private static final ArrayList&lt;BitSet&gt; solution = new ArrayList&lt;BitSet&gt;();\n \n    // -------\n \n    //private static final long GOAL_BOARD = 16777216L;\n    private static String GOAL_BOARD_STRING = &quot;0000000000000000000000001000000000000000000000000&quot;;\n    private static BitSet GOAL_BOARD = bitsetFromString(GOAL_BOARD_STRING);\n    \n    //private static final long INITIAL_BOARD = 124141717933596L;\n    private static String INITIAL_BOARD_STRING = &quot;0011100001110011111111110111111111100111000011100&quot;;\n    private static BitSet INITIAL_BOARD = bitsetFromString(INITIAL_BOARD_STRING);\n    \n    //private static final long VALID_BOARD_CELLS = 124141734710812L;\n    private static String VALID_BOARD_CELLS_STRING = &quot;0011100001110011111111111111111111100111000011100&quot;;\n    private static BitSet VALID_BOARD_CELLS = bitsetFromString(VALID_BOARD_CELLS_STRING);\n \n    // holds all 76 moves that are possible\n    // the inner array is structures as following:\n    // - first entry holds the peg that is added by the move\n    // - second entry holds the two pegs that are removed by the move\n    // - third entry holds all three involved pegs\n    private static final BitSet[][] moves = new BitSet[76][];\n \n    // -------\n \n    // print the board\n    private static void printBoard(BitSet board) {\n        // loop over all cells (the board is 7 x 7)\n        for (int i = 0; i &lt; 49; i++) {\n            boolean validCell = VALID_BOARD_CELLS.get(i);\n            System.out.print(validCell ? (board.get(i) ? &quot;X &quot; : &quot;O &quot;) : &quot;  &quot;);\n            if (i % 7 == 6) System.out.println();\n        }\n        System.out.println(&quot;-------------&quot;);\n    }\n \n    // create the two possible moves for the three added pegs\n    // (this function assumes that the pegs are in one continuous line)\n    private static BitSet bitset(int... bits) {\n        BitSet result = new BitSet();\n        for (int i : bits)\n            result.set(i);\n        return result;\n    }\n\n    private static void createMoves(int bit1, int bit2, int bit3, ArrayList&lt;BitSet[]&gt; moves) {\n        moves.add(new BitSet[] {bitset(bit1), bitset(bit2, bit3), bitset(bit1, bit2, bit3)});\n        moves.add(new BitSet[] {bitset(bit3), bitset(bit2, bit1), bitset(bit1, bit2, bit3)});\n    }\n \n    // do the calculation recursively by starting from\n    // the &quot;GOAL_BOARD&quot; and doing moves in reverse\n    private static boolean search(BitSet board) {\n        // for all possible moves\n        for (BitSet[] move : moves) {\n            \n            BitSet move0 = move[0];\n            BitSet move1 = move[1];\n            BitSet move2 = move[2];\n            BitSet newBoard = board;\n            \n            move0.and(board);\n            move1.and(board);               \n            \n            // check if the move is valid\n            // Note: we place &quot;two ball&quot; check first since it is more\n            // likely to fail. This saves about 20% in run time (!)                     \n            if (move1.isEmpty() &amp;&amp; !move0.isEmpty()) {\n                // calculate the board after this move was applied\n                //BitSet newBoard = board ^ move[2];\n                newBoard.xor(move2);\n                // only continue processing if we have not seen this board before\n                if (!seenBoards.contains(newBoard)) {\n                    seenBoards.add(newBoard);\n                    // check if the initial board is reached\n                    if (newBoard == INITIAL_BOARD || search(newBoard)) {\n                        solution.add(board);\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n    \n    private static BitSet bitsetFromString(String binary) {\n        BitSet bitset = new BitSet(binary.length());\n        int len = binary.length();\n        for (int i = len-1; i &gt;= 0; i--) {\n            if (binary.charAt(i) == '1') {\n                bitset.set(len-i-1);\n            }\n        }\n        return bitset;\n    }\n \n    // the main method\n    public static void main(String[] args) {\n        // to measure the overall runtime of the program\n        long time = System.currentTimeMillis();\n \n        // add starting board (as this board is not added by the recursive function)\n        solution.add(INITIAL_BOARD);\n \n        // generate all possible moves\n        ArrayList&lt;BitSet[]&gt; moves = new ArrayList&lt;BitSet[]&gt;();\n        // holds all starting positions in west-east direction\n        int[] startsX = new int[] {2,9,14,15,16,17,18,21,22,23,24,25,28,29,30,31,32,37,44};\n        for (int x : startsX) {\n            createMoves(x, x + 1, x + 2, moves);\n        }\n        // holds all starting positions in north-south direction\n        int[] startsY = new int[] {2,3,4,9,10,11,14,15,16,17,18,19,20,23,24,25,30,31,32};\n        for (int y : startsY) {\n            createMoves(y, y + 7, y + 14, moves);\n        }\n        // randomize the order of the moves (this highly influences the resulting runtime)\n        Collections.shuffle(moves);\n        // fill in the global moves variable that is used by the solver\n        moves.toArray(BitSetEnglishPegSolitaire.moves);\n \n        // start recursively search for the initial board from the goal (reverse direction!)\n        search(GOAL_BOARD);\n \n        // print required time\n        System.out.println(&quot;Completed in &quot; + (System.currentTimeMillis() - time) + &quot; ms.&quot;);\n \n        // print the found solution\n        for (BitSet step : solution) {\n            printBoard(step);\n        }\n    }\n}\n</code></pre>\n<p>I think my problem is in the <code>search()</code> method (Converting the bitwise logic to <code>BitSet</code>), and also in the way I defined <code>GOAL_BOARD_STRING </code>, <code>INITIAL_BOARD_STRING </code>, <code>VALID_BOARD_CELLS_STRING </code> and their coressponding BitSetter method <code>bitsetFromString()</code></p>\n<p>I can't find out where exactly is the issue.</p>\n"},{"tags":["java","enums","stream"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1635095790,"post_id":69698976,"comment_id":123198234,"body_markdown":"Why use streams for this? It would seem to be so much simpler to not do this.","body":"Why use streams for this? It would seem to be so much simpler to not do this."},{"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"score":0,"creation_date":1635096015,"post_id":69698976,"comment_id":123198295,"body_markdown":"Okay, what do you have in mind?","body":"Okay, what do you have in mind?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1635096289,"post_id":69698976,"comment_id":123198362,"body_markdown":"That all depends on your program. And also, it seems a bit odd to have user input validation in the enum itself as that seems to go against the &quot;single responsibility rule&quot;","body":"That all depends on your program. And also, it seems a bit odd to have user input validation in the enum itself as that seems to go against the &quot;single responsibility rule&quot;"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635099946,"creation_date":1635099946,"answer_id":69699630,"question_id":69698976,"body_markdown":"It seems that the method `of` should accept a vararg `String ... userSkills` (or the input String should be split somehow to identify multiple enum values):\r\n```java\r\npublic static List&lt;UserSkills&gt; of (String ... userSkills) {\r\n    List&lt;UserSkills&gt; result = Arrays.stream(userSkills)\r\n        .filter(Objects::nonNull)\r\n        .map(UserSkills::valueOf) // throws IllegalArgumentException no enum constant\r\n        .distinct()\r\n        .collect(Collectors.toList());\r\n        \r\n    if (result.size() &gt; 2) {\r\n        throw new IllegalArgumentException(&quot;Only 2 skills can be selected&quot;);\r\n    }\r\n    return result;\r\n}\r\n```\r\nTest:\r\n```java\r\nList&lt;UserSkills&gt; skills = UserSkills.of(null, &quot;HARD_WORKNG&quot;, &quot;HONEST&quot;, &quot;HARD_WORKNG&quot;, &quot;ON_TIME&quot;);\r\n\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Only 2 skills can be selected\r\n```\r\n```java\r\nList&lt;UserSkills&gt; skills = UserSkills.of(null, &quot;HARD_WORKNG&quot;, &quot;HONEST&quot;, &quot;HARD_WORKNG&quot;);\r\nSystem.out.println(skills);\r\n```\r\nOutput:\r\n```\r\n[HARD_WORKNG[HARD_WORKNG], HONEST[HONEST]]\r\n```","title":"How to limit user to choose just two enums from list using Java Streams?","body":"<p>It seems that the method <code>of</code> should accept a vararg <code>String ... userSkills</code> (or the input String should be split somehow to identify multiple enum values):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;UserSkills&gt; of (String ... userSkills) {\n    List&lt;UserSkills&gt; result = Arrays.stream(userSkills)\n        .filter(Objects::nonNull)\n        .map(UserSkills::valueOf) // throws IllegalArgumentException no enum constant\n        .distinct()\n        .collect(Collectors.toList());\n        \n    if (result.size() &gt; 2) {\n        throw new IllegalArgumentException(&quot;Only 2 skills can be selected&quot;);\n    }\n    return result;\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;UserSkills&gt; skills = UserSkills.of(null, &quot;HARD_WORKNG&quot;, &quot;HONEST&quot;, &quot;HARD_WORKNG&quot;, &quot;ON_TIME&quot;);\n\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Only 2 skills can be selected\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;UserSkills&gt; skills = UserSkills.of(null, &quot;HARD_WORKNG&quot;, &quot;HONEST&quot;, &quot;HARD_WORKNG&quot;);\nSystem.out.println(skills);\n</code></pre>\n<p>Output:</p>\n<pre><code>[HARD_WORKNG[HARD_WORKNG], HONEST[HONEST]]\n</code></pre>\n"}],"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69699630,"answer_count":1,"score":1,"last_activity_date":1635108057,"creation_date":1635095015,"question_id":69698976,"body_markdown":"I have an enum class from which user can choose up to 2 options.\r\nIf he chooses more than 2 an error message should be displayed.\r\n\r\nI would like to do this using Java streams. I am still trying to figure out how they work.\r\n\r\nSo far I came up with this piece of code under:\r\n\r\n\tpublic enum UserSkills {\r\n\r\n\t\tHARD_WORKNG(&quot;HARD_WORKNG&quot;),\r\n\t\tON_TIME(&quot;ON_TIME&quot;),\r\n\t\tHONEST(&quot;HONEST&quot;);\r\n\r\n\t\tpublic final String value;\r\n\r\n\t\tUserSkills(String value) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn name() + &quot;[&quot; + value + &quot;]&quot;;\r\n\t\t}\r\n\r\n\t\tpublic static List &lt; UserSkills &gt; of (String userSkills) {\r\n\t\t\tnotNull(userSkills, &quot;userSkills cannot be null&quot;);\r\n\t\t\treturn Arrays.stream(values())\r\n\t\t\t\t.flatMap(s - &gt; {\r\n\t\t\t\t\tif (values().length &gt; 3) {\r\n\t\t\t\t\t\tthrow new IllegalArgumentException(String.format(&quot;you can only choose up to 3 user skills&quot;, userSkills));\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}).collect(Collectors.toList());\r\n\t\t}\r\n\t}\r\n\r\nI am not sure how to finish it any advice appreciated. \r\n","title":"How to limit user to choose just two enums from list using Java Streams?","body":"<p>I have an enum class from which user can choose up to 2 options.\nIf he chooses more than 2 an error message should be displayed.</p>\n<p>I would like to do this using Java streams. I am still trying to figure out how they work.</p>\n<p>So far I came up with this piece of code under:</p>\n<pre><code>public enum UserSkills {\n\n    HARD_WORKNG(&quot;HARD_WORKNG&quot;),\n    ON_TIME(&quot;ON_TIME&quot;),\n    HONEST(&quot;HONEST&quot;);\n\n    public final String value;\n\n    UserSkills(String value) {\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return name() + &quot;[&quot; + value + &quot;]&quot;;\n    }\n\n    public static List &lt; UserSkills &gt; of (String userSkills) {\n        notNull(userSkills, &quot;userSkills cannot be null&quot;);\n        return Arrays.stream(values())\n            .flatMap(s - &gt; {\n                if (values().length &gt; 3) {\n                    throw new IllegalArgumentException(String.format(&quot;you can only choose up to 3 user skills&quot;, userSkills));\n                } else {\n\n                }\n            }).collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>I am not sure how to finish it any advice appreciated.</p>\n"},{"tags":["java","morse-code"],"comments":[{"owner":{"account_id":6160682,"reputation":13,"user_id":4802395,"display_name":"Derek Boeka"},"score":0,"creation_date":1429295526,"post_id":29706653,"comment_id":47549334,"body_markdown":"First time posting on here. My apologies.","body":"First time posting on here. My apologies."},{"owner":{"account_id":13322044,"reputation":53,"user_id":9616327,"display_name":"lukazohi"},"score":1,"creation_date":1591033626,"post_id":29706653,"comment_id":109897747,"body_markdown":"I know this is old but can you please correct &quot;p&quot; from &quot;.---.&quot; to &quot;.--.&quot; so no one else has to debbug what the hell is wrong for 3 hours :D","body":"I know this is old but can you please correct &quot;p&quot; from &quot;.---.&quot; to &quot;.--.&quot; so no one else has to debbug what the hell is wrong for 3 hours :D"}],"answers":[{"tags":[],"owner":{"account_id":1517219,"reputation":772,"user_id":1417953,"accept_rate":93,"display_name":"Gelunox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429295338,"creation_date":1429295338,"answer_id":29706831,"question_id":29706653,"body_markdown":"if you look in the java documentation at [`Scanner.Next()`][1] you&#39;ll notice that `next` only returns the next token. use `Scanner.nextLine()` to get a line of text instead of just a single token.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next()","title":"Morse code translator(simple)","body":"<p>if you look in the java documentation at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next()\" rel=\"nofollow\"><code>Scanner.Next()</code></a> you'll notice that <code>next</code> only returns the next token. use <code>Scanner.nextLine()</code> to get a line of text instead of just a single token.</p>\n"},{"tags":[],"owner":{"account_id":5123208,"reputation":1041,"user_id":4106173,"accept_rate":100,"display_name":"Code Whisperer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429295698,"creation_date":1429295698,"answer_id":29706950,"question_id":29706653,"body_markdown":"You need to loop through every char of the user input and then loop through the English chars to find where the user input char is located in `english`. Once found use the same index from `english` in `morse`. I am assuming `english` and `morse` have same length and `morse[0]` is the translation of `english[0]` in morse code.\r\n\r\n    userInput = userInput.toCharArray();\r\n    for (index = 0; index &lt; userInput.length; index++) { \r\n         for (int i = 0; i &lt; english.length; i++) {\r\n             if (userInput[index] == english[i]) {\r\n                 System.out.println(&quot; Translated : &quot; + morse[i]);\r\n             {\r\n         }\r\n    }  \r\n\r\nYou also need to use `Scanner.nextLine()` for user input as @WhiteNightFury suggested.","title":"Morse code translator(simple)","body":"<p>You need to loop through every char of the user input and then loop through the English chars to find where the user input char is located in <code>english</code>. Once found use the same index from <code>english</code> in <code>morse</code>. I am assuming <code>english</code> and <code>morse</code> have same length and <code>morse[0]</code> is the translation of <code>english[0]</code> in morse code.</p>\n\n<pre><code>userInput = userInput.toCharArray();\nfor (index = 0; index &lt; userInput.length; index++) { \n     for (int i = 0; i &lt; english.length; i++) {\n         if (userInput[index] == english[i]) {\n             System.out.println(\" Translated : \" + morse[i]);\n         {\n     }\n}  \n</code></pre>\n\n<p>You also need to use <code>Scanner.nextLine()</code> for user input as @WhiteNightFury suggested.</p>\n"},{"tags":[],"owner":{"account_id":248639,"reputation":823,"user_id":524142,"accept_rate":75,"display_name":"Diptopol Dam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429295953,"creation_date":1429295953,"answer_id":29707024,"question_id":29706653,"body_markdown":"I think this can be your solution.  \r\n  \r\n \r\n\r\n    Scanner keyboard = new Scanner(System.in);\r\n        String  userInput = keyboard.nextLine();\r\n        \r\n        String output;\r\n        for (index = 0; index &lt; userInput.length(); index++)           \r\n          {\r\n             if (Arrays.asList(english).contains(userInput[index]))\r\n             {        \r\n                 output+=morse[index];\r\n             }\r\n          } \r\n        System.out.println(&quot; Translated : &quot; +  output); \r\n\r\n\r\n","title":"Morse code translator(simple)","body":"<p>I think this can be your solution.  </p>\n\n<pre><code>Scanner keyboard = new Scanner(System.in);\n    String  userInput = keyboard.nextLine();\n\n    String output;\n    for (index = 0; index &lt; userInput.length(); index++)           \n      {\n         if (Arrays.asList(english).contains(userInput[index]))\n         {        \n             output+=morse[index];\n         }\n      } \n    System.out.println(\" Translated : \" +  output); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1014342,"reputation":2352,"user_id":3300205,"display_name":"avojak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429296604,"creation_date":1429296604,"answer_id":29707217,"question_id":29706653,"body_markdown":"You&#39;ve got a couple things here that need to be addressed, so lets take a look:\r\n\r\nInput\r\n=====\r\n`Scanner.next()` is only going to give only the next token. In your case, you want the entire string. Try using `Scanner.nextLine()` instead.\r\n\r\nTranslator Logic\r\n=====\r\nThe way your code exists currently, you are stepping through the input (correct), but for each character in the input, you&#39;re not fetching the equivalent in Morse Code! You&#39;re instead comparing the *entire* input to the single English character at `english[index]`. See below for a suggestion to fix your logic.\r\n\r\nOutput\r\n======\r\nAlso notice that you are printing out a translated String after *each* character, which I don&#39;t think you want to do.\r\n\r\nSuggestions\r\n======\r\nCouple of suggestions for you:\r\n\r\n 1. If you want to handle a space character in the input, add that to your arrays!\r\n 2. I would highly suggest storing your English and Morse characters in a [Map](https://docs.oracle.com/javase/7/docs/api/java/util/Map.html). This way, you can very easily look up the Morse equivalent to an English character. Your arrays are ok still if you would like, but perhaps add the following after they&#39;re initialized:\r\n    \r\n        final Map&lt;String, String&gt; mapping = new HashMap&lt;String, String&gt;();\r\n        for (int i = 0; i &lt; english.length; ++i) {\r\n            mapping.put(english[i], morse[i]);\r\n        }\r\n\r\n Now with this, you can look up the Morse character in your loop using `mapping.get(String.valueOf(userInput.charAt(index)))`.\r\n\r\n 3. To build up your output, I would recommend using [StringBuilder](http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html). So for each iteration in your loop, `builder.append(...)`, and when you&#39;re ready to print it out, you can use `builder.toString()`\r\n\r\nThis was definitely an answer better-suited for a code review, but hey, it answered your logic issue. Hope this helps!","title":"Morse code translator(simple)","body":"<p>You've got a couple things here that need to be addressed, so lets take a look:</p>\n\n<h1>Input</h1>\n\n<p><code>Scanner.next()</code> is only going to give only the next token. In your case, you want the entire string. Try using <code>Scanner.nextLine()</code> instead.</p>\n\n<h1>Translator Logic</h1>\n\n<p>The way your code exists currently, you are stepping through the input (correct), but for each character in the input, you're not fetching the equivalent in Morse Code! You're instead comparing the <em>entire</em> input to the single English character at <code>english[index]</code>. See below for a suggestion to fix your logic.</p>\n\n<h1>Output</h1>\n\n<p>Also notice that you are printing out a translated String after <em>each</em> character, which I don't think you want to do.</p>\n\n<h1>Suggestions</h1>\n\n<p>Couple of suggestions for you:</p>\n\n<ol>\n<li>If you want to handle a space character in the input, add that to your arrays!</li>\n<li><p>I would highly suggest storing your English and Morse characters in a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.html\" rel=\"nofollow\">Map</a>. This way, you can very easily look up the Morse equivalent to an English character. Your arrays are ok still if you would like, but perhaps add the following after they're initialized:</p>\n\n<pre><code>final Map&lt;String, String&gt; mapping = new HashMap&lt;String, String&gt;();\nfor (int i = 0; i &lt; english.length; ++i) {\n    mapping.put(english[i], morse[i]);\n}\n</code></pre>\n\n<p>Now with this, you can look up the Morse character in your loop using <code>mapping.get(String.valueOf(userInput.charAt(index)))</code>.</p></li>\n<li><p>To build up your output, I would recommend using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow\">StringBuilder</a>. So for each iteration in your loop, <code>builder.append(...)</code>, and when you're ready to print it out, you can use <code>builder.toString()</code></p></li>\n</ol>\n\n<p>This was definitely an answer better-suited for a code review, but hey, it answered your logic issue. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":3621131,"reputation":200,"user_id":3019843,"display_name":"qcGold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1429296868,"creation_date":1429296868,"answer_id":29707295,"question_id":29706653,"body_markdown":"I believe you are trying to achieve something like this. You were on a good path, although you need to take a look at a few pointers I have for your code.\r\n\r\n 1. first of all you created an array of String for the alphanumeric in english. Since you take an input from user and split it in char, you should have created an array of char instead. Since you were trying to compare user input with your array, you were using something.equals(something else) --&gt; this is a method for String.. Now that you have two character to compare use the `==` comparision sign.\r\n 2. It is good practice to initiate a variable and declare it&#39;s starting value on the same line (less line of code). Same thing goes for the for loop, initiate the index variable directly in the loop declaration. (Usually starting with letter `i` instead of the variable `index`).\r\n 3. The double `for loop` at the end is necessary to compare every character from the input to every character of your english letters and numbers.\r\n 4. For the answer suggested below, I used a `String str` to concatenate the morse value. Then you simply have to print out it&#39;s value.\r\n\r\nAlthough I modified a bit your code, play around with with and see the different outputs it creates, this is the best way to learn from the code given. \r\n\r\nGood luck with the learning \r\n\r\n    public static void main(String[] args){\r\n\r\n        char[] english = { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;,\r\n                      &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, \r\n                      &#39;y&#39;, &#39;z&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;0&#39;,\r\n                      &#39;,&#39;, &#39;.&#39;, &#39;?&#39; };\r\n    \r\n        String[] morse = { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, \r\n                    &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.---.&quot;, &quot;--.-&quot;, &quot;.-.&quot;,\r\n                    &quot;...&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;.----&quot;,\r\n                    &quot;..---&quot;, &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot;,\r\n                    &quot;-----&quot;, &quot;--..--&quot;, &quot;.-.-.-&quot;, &quot;..--..&quot; };\r\n    \r\n        //Scanner keyboard = new Scanner(System.in);\r\n    \r\n        System.out.println(&quot; This is an English to Morse Code Translator.  &quot;);\r\n        System.out.println(&quot; Please enter what you would like translate &quot;);\r\n        System.out.println(&quot;             into Morse Code. &quot;);\r\n        System.out.println(&quot; ============================================ &quot;);\r\n    \r\n        //String userInput = keyboard.nextLine().toLowerCase();\r\n        String userInput = &quot;TEST&quot;.toLowerCase();\r\n    \r\n        char[] chars = userInput.toCharArray();\r\n       \r\n        String str = &quot;&quot;;\r\n        for (int i = 0; i &lt; chars.length; i++){\r\n            for (int j = 0; j &lt; english.length; j++){\r\n                \r\n                if (english[j] == chars[i]){\r\n                    str = str + morse[j] + &quot; &quot;;  \r\n                }\r\n            }\r\n        }\r\n        System.out.println(str);\r\n    } ","title":"Morse code translator(simple)","body":"<p>I believe you are trying to achieve something like this. You were on a good path, although you need to take a look at a few pointers I have for your code.</p>\n\n<ol>\n<li>first of all you created an array of String for the alphanumeric in english. Since you take an input from user and split it in char, you should have created an array of char instead. Since you were trying to compare user input with your array, you were using something.equals(something else) --> this is a method for String.. Now that you have two character to compare use the <code>==</code> comparision sign.</li>\n<li>It is good practice to initiate a variable and declare it's starting value on the same line (less line of code). Same thing goes for the for loop, initiate the index variable directly in the loop declaration. (Usually starting with letter <code>i</code> instead of the variable <code>index</code>).</li>\n<li>The double <code>for loop</code> at the end is necessary to compare every character from the input to every character of your english letters and numbers.</li>\n<li>For the answer suggested below, I used a <code>String str</code> to concatenate the morse value. Then you simply have to print out it's value.</li>\n</ol>\n\n<p>Although I modified a bit your code, play around with with and see the different outputs it creates, this is the best way to learn from the code given. </p>\n\n<p>Good luck with the learning </p>\n\n<pre><code>public static void main(String[] args){\n\n    char[] english = { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l',\n                  'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', \n                  'y', 'z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0',\n                  ',', '.', '?' };\n\n    String[] morse = { \".-\", \"-...\", \"-.-.\", \"-..\", \".\", \"..-.\", \"--.\", \"....\", \"..\", \n                \".---\", \"-.-\", \".-..\", \"--\", \"-.\", \"---\", \".---.\", \"--.-\", \".-.\",\n                \"...\", \"-\", \"..-\", \"...-\", \".--\", \"-..-\", \"-.--\", \"--..\", \".----\",\n                \"..---\", \"...--\", \"....-\", \".....\", \"-....\", \"--...\", \"---..\", \"----.\",\n                \"-----\", \"--..--\", \".-.-.-\", \"..--..\" };\n\n    //Scanner keyboard = new Scanner(System.in);\n\n    System.out.println(\" This is an English to Morse Code Translator.  \");\n    System.out.println(\" Please enter what you would like translate \");\n    System.out.println(\"             into Morse Code. \");\n    System.out.println(\" ============================================ \");\n\n    //String userInput = keyboard.nextLine().toLowerCase();\n    String userInput = \"TEST\".toLowerCase();\n\n    char[] chars = userInput.toCharArray();\n\n    String str = \"\";\n    for (int i = 0; i &lt; chars.length; i++){\n        for (int j = 0; j &lt; english.length; j++){\n\n            if (english[j] == chars[i]){\n                str = str + morse[j] + \" \";  \n            }\n        }\n    }\n    System.out.println(str);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11214877,"reputation":141,"user_id":8227834,"display_name":"Radhesh Khanna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563280865,"creation_date":1498817563,"answer_id":44844007,"question_id":29706653,"body_markdown":"Here is the Optimized Code of your Given Solution \r\n\r\n    public class MorseCode {\r\n    \tpublic static Scanner sc;\r\n    \tpublic static void main(String args[]) throws IOException  //Input Output Exception is added to cover the BufferedReader \r\n    \t{\r\n    \t\tint option = 0;\r\n    \t\tString sentence = &quot;&quot;,answer = &quot;&quot;,answer1 = &quot;&quot;;\r\n    \t\t char[] english = { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;,\r\n                     &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, \r\n                     &#39;y&#39;, &#39;z&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;0&#39;,\r\n                     &#39;,&#39;, &#39;.&#39;, &#39;?&#39; };   //Defining a Character Array of the English Letters numbers and Symbols so that we can compare and convert later \r\n    \t\t\r\n    \t\t String[] morse = { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, \r\n    \t                &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.---.&quot;, &quot;--.-&quot;, &quot;.-.&quot;,\r\n    \t                &quot;...&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;.----&quot;,\r\n    \t                &quot;..---&quot;, &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot;,\r\n    \t                &quot;-----&quot;, &quot;--..--&quot;, &quot;.-.-.-&quot;, &quot;..--..&quot; };  //Defining an Array of String to hold the Morse Code value of Every English Letter,Number and Symbol in the same order as that of the character Array  \r\n    \t\tsc = new Scanner(System.in);\r\n    \t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tSystem.out.println(&quot;&gt;&gt;&gt;&gt;Welcome to MorseCode Software&lt;&lt;&lt;&lt;&quot;);\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tdo\r\n    \t\t{\r\n    \t\tSystem.out.println(&quot;--&gt;Enter the Option Corresponding to the Task you want to Perform &quot;);\r\n    \t\tSystem.out.println(&quot;-&gt;1.Generate Morse Code&lt;- OR -&gt;2.Generate English Language&lt;- OR -&gt;3.Exit &quot;);\r\n    \t\tSystem.out.print(&quot;-&gt;&quot;);\r\n    \t\twhile(!sc.hasNextInt())  //Repeat Until the next Item is an Integer i.e Until the Next Item is an Integer Keep on Repeating it \r\n    \t\t{//NOTE- The hasnext() function is also used when we are using the Iterator where the next input is always checked and then if it is valid it is allowed to be entered \r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t\tSystem.err.println(&quot;--&gt;ERROR&lt;--&gt;Enter Digits Only&lt;--&quot;);\r\n    \t\t\tSystem.out.print(&quot;-&gt;&quot;);\r\n    \t\t\tsc.next();\t //Repeat and Discard the previous Inputs which are not valid \r\n    \t\t}\r\n    \t\toption = sc.nextInt();\r\n    \t\tswitch(option)\r\n    \t\t{\r\n    \t\tcase 1:\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t\tSystem.out.println(&quot;--&gt;Enter the Sentence that you want to Transmit Using the Morse Code &quot;);\r\n    \t\t\tSystem.out.print(&quot;-&gt;&quot;);\r\n    \t\t\tsentence = br.readLine();\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t\tsentence = sentence.toLowerCase(); //Because morse code is defined only for the lower case letters and the numbers and the Symbols will remain the Same\r\n    \t\t\tchar[] morsec = sentence.toCharArray();\r\n    \t\t\tfor(int i = 0; i &lt; morsec.length;i++)  //The loop will run till i is less than the number of characters in the Sentence because Every Character needs to Be Converted into the Respective Morse Code \r\n    \t\t\t{//For Every Letter in the User Input Sentence\r\n    \t\t\t\tfor(int j = 0;j&lt;english.length;j++)   //For Every Character in the morsec array we will have to traverse the entire English Array and find the match so that it can be represented \r\n     \t\t\t\t{\r\n    \t\t\t\t\tif(english[j] == morsec[i])  //If the Character Present in English array is equal to the character present in the Morsec array then Only Execute \r\n    \t\t\t\t\t{//Always remember that the condition in the Inner loop will be the first to be Equated in the If Statement because that will change until the characters match \r\n    \t\t\t\t\t\tanswer = answer + morse[j] + &quot; &quot;;  //After Every Letter is generated in the Morse Code we will give a Space \r\n    \t\t\t\t\t}  //Since the Letters in the English char and the symbols present in the morse array are at the Same Index \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;--&gt;The Morse Code Translation is:- &quot;);\r\n    \t\t\tSystem.out.print(&quot;&gt;&gt; &quot;);\r\n    \t\t\tSystem.out.println(answer);\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\tcase 2:\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t\tSystem.out.println(&quot;--&gt;Enter the Morse Code and After Every Letter add Space in Between &quot;);\r\n    \t\t\tSystem.out.print(&quot;-&gt; &quot;);\r\n    \t\t\tsentence = br.readLine();\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t\tString[] morsec = sentence.split(&quot; &quot;);   //To use the split function to Convert Every Morse Code String as a Separate Entry in the STring array \r\n    \t\t\tfor(int i = 0;i &lt; morsec.length;i++)\r\n    \t\t\t{//For Every morse code Letter Entered \r\n    \t\t\t//Remember - We are Splitting on the Basis of the space \t\r\n    \t\t\t\tfor(int j = 0;j &lt; morse.length;j++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(morse[j].equals(morsec[i]))  //When you are comparing the String you have to Do this and not == \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tanswer1 = answer1 + english[j];  //Since the characters in the Morse array and the English Array are in the Same Index\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;--&gt;The English Language Translation is:- &quot;);\r\n    \t\t\tSystem.out.print(&quot;&gt;&gt; &quot;);\r\n    \t\t\tSystem.out.println(answer1);\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\tcase 3:\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t\tSystem.out.println(&quot;&gt;&gt;Thank you For Using this Service&lt;&lt;&quot;);\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\tdefault:\r\n    \t\t{\r\n    \t\t\tSystem.err.println(&quot;--&gt;ERROR&lt;--&gt;Invalid Option Entered&lt;--&quot;);\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\t}\r\n    \t\t}\r\n    \t\twhile(option!=3);\r\n    \t\t}\r\n    \r\n    }","title":"Morse code translator(simple)","body":"<p>Here is the Optimized Code of your Given Solution </p>\n\n<pre><code>public class MorseCode {\n    public static Scanner sc;\n    public static void main(String args[]) throws IOException  //Input Output Exception is added to cover the BufferedReader \n    {\n        int option = 0;\n        String sentence = \"\",answer = \"\",answer1 = \"\";\n         char[] english = { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l',\n                 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', \n                 'y', 'z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0',\n                 ',', '.', '?' };   //Defining a Character Array of the English Letters numbers and Symbols so that we can compare and convert later \n\n         String[] morse = { \".-\", \"-...\", \"-.-.\", \"-..\", \".\", \"..-.\", \"--.\", \"....\", \"..\", \n                    \".---\", \"-.-\", \".-..\", \"--\", \"-.\", \"---\", \".---.\", \"--.-\", \".-.\",\n                    \"...\", \"-\", \"..-\", \"...-\", \".--\", \"-..-\", \"-.--\", \"--..\", \".----\",\n                    \"..---\", \"...--\", \"....-\", \".....\", \"-....\", \"--...\", \"---..\", \"----.\",\n                    \"-----\", \"--..--\", \".-.-.-\", \"..--..\" };  //Defining an Array of String to hold the Morse Code value of Every English Letter,Number and Symbol in the same order as that of the character Array  \n        sc = new Scanner(System.in);\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        System.out.println(\"&gt;&gt;&gt;&gt;Welcome to MorseCode Software&lt;&lt;&lt;&lt;\");\n        System.out.println(\"\");\n        do\n        {\n        System.out.println(\"--&gt;Enter the Option Corresponding to the Task you want to Perform \");\n        System.out.println(\"-&gt;1.Generate Morse Code&lt;- OR -&gt;2.Generate English Language&lt;- OR -&gt;3.Exit \");\n        System.out.print(\"-&gt;\");\n        while(!sc.hasNextInt())  //Repeat Until the next Item is an Integer i.e Until the Next Item is an Integer Keep on Repeating it \n        {//NOTE- The hasnext() function is also used when we are using the Iterator where the next input is always checked and then if it is valid it is allowed to be entered \n            System.out.println(\"\");\n            System.err.println(\"--&gt;ERROR&lt;--&gt;Enter Digits Only&lt;--\");\n            System.out.print(\"-&gt;\");\n            sc.next();   //Repeat and Discard the previous Inputs which are not valid \n        }\n        option = sc.nextInt();\n        switch(option)\n        {\n        case 1:\n        {\n            System.out.println(\"\");\n            System.out.println(\"--&gt;Enter the Sentence that you want to Transmit Using the Morse Code \");\n            System.out.print(\"-&gt;\");\n            sentence = br.readLine();\n            System.out.println(\"\");\n            sentence = sentence.toLowerCase(); //Because morse code is defined only for the lower case letters and the numbers and the Symbols will remain the Same\n            char[] morsec = sentence.toCharArray();\n            for(int i = 0; i &lt; morsec.length;i++)  //The loop will run till i is less than the number of characters in the Sentence because Every Character needs to Be Converted into the Respective Morse Code \n            {//For Every Letter in the User Input Sentence\n                for(int j = 0;j&lt;english.length;j++)   //For Every Character in the morsec array we will have to traverse the entire English Array and find the match so that it can be represented \n                {\n                    if(english[j] == morsec[i])  //If the Character Present in English array is equal to the character present in the Morsec array then Only Execute \n                    {//Always remember that the condition in the Inner loop will be the first to be Equated in the If Statement because that will change until the characters match \n                        answer = answer + morse[j] + \" \";  //After Every Letter is generated in the Morse Code we will give a Space \n                    }  //Since the Letters in the English char and the symbols present in the morse array are at the Same Index \n                }\n            }\n            System.out.println(\"--&gt;The Morse Code Translation is:- \");\n            System.out.print(\"&gt;&gt; \");\n            System.out.println(answer);\n            System.out.println(\"\");\n            break;\n        }\n        case 2:\n        {\n            System.out.println(\"\");\n            System.out.println(\"--&gt;Enter the Morse Code and After Every Letter add Space in Between \");\n            System.out.print(\"-&gt; \");\n            sentence = br.readLine();\n            System.out.println(\"\");\n            String[] morsec = sentence.split(\" \");   //To use the split function to Convert Every Morse Code String as a Separate Entry in the STring array \n            for(int i = 0;i &lt; morsec.length;i++)\n            {//For Every morse code Letter Entered \n            //Remember - We are Splitting on the Basis of the space     \n                for(int j = 0;j &lt; morse.length;j++)\n                {\n                    if(morse[j].equals(morsec[i]))  //When you are comparing the String you have to Do this and not == \n                    {\n                        answer1 = answer1 + english[j];  //Since the characters in the Morse array and the English Array are in the Same Index\n                    }\n                }\n            }\n            System.out.println(\"--&gt;The English Language Translation is:- \");\n            System.out.print(\"&gt;&gt; \");\n            System.out.println(answer1);\n            System.out.println(\"\");\n            break;\n        }\n        case 3:\n        {\n            System.out.println(\"\");\n            System.out.println(\"&gt;&gt;Thank you For Using this Service&lt;&lt;\");\n            System.out.println(\"\");\n            break;\n        }\n        default:\n        {\n            System.err.println(\"--&gt;ERROR&lt;--&gt;Invalid Option Entered&lt;--\");\n            System.out.println(\"\");\n            break;\n        }\n        }\n        }\n        while(option!=3);\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":397018,"reputation":1510,"user_id":760923,"accept_rate":80,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611494568,"creation_date":1611494568,"answer_id":65871051,"question_id":29706653,"body_markdown":"If you&#39;re after **two-way** translator (Morse &lt;=&gt; English) and you prefer Java Stream approach then I think it&#39;s better to keep the English characters array as `String` rather than `char` - this is due to slightly difficult mapping of `char`s in a Stream ([this][1] question for reference) which would make the Stream approach a bit more cluttered. \r\n\r\n    public class MorseCode {\r\n    \r\n        private static final String[] english = {\r\n            &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;,\r\n            &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;,\r\n            &quot;y&quot;, &quot;z&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;0&quot;,\r\n            &quot;,&quot;, &quot;.&quot;, &quot;?&quot;, &quot;!&quot;, &quot;:&quot;, &quot;@&quot;, &quot;=&quot;, &quot;-&quot;, &quot;+&quot;, &quot;\\&quot;&quot;, &quot;/&quot;, &quot;&amp;&quot;,\r\n            &quot;&#39;&quot;, &quot;(&quot;, &quot;)&quot;\r\n        };\r\n    \r\n        private static final String[] morse = {\r\n            &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;,\r\n            &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;, &quot;--.-&quot;, &quot;.-.&quot;,\r\n            &quot;...&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;.----&quot;,\r\n            &quot;..---&quot;, &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot;,\r\n            &quot;-----&quot;, &quot;--..--&quot;, &quot;.-.-.-&quot;, &quot;..--..&quot;, &quot;-.-.--&quot;, &quot;---...&quot;, &quot;.--.-.&quot;,\r\n            &quot;-...-&quot;, &quot;-....-&quot;, &quot;.-.-.&quot;, &quot;.-..-.&quot;, &quot;-..-.&quot;, &quot;.-...&quot;, &quot;.----.&quot;,\r\n            &quot;-.--.&quot;, &quot;-.--.-&quot;\r\n        };\r\n    \r\n        private static final Map&lt;String, String&gt; EN_TO_MORSE = new HashMap&lt;&gt;();\r\n        private static final Map&lt;String, String&gt; MORSE_TO_EN = new HashMap&lt;&gt;();\r\n    \r\n        static {\r\n            for (int i = 0; i &lt; english.length; i++) {\r\n                EN_TO_MORSE.put(english[i], morse[i]);\r\n                MORSE_TO_EN.put(morse[i], english[i]);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String output;\r\n    \r\n            output = MorseCode.run(false, &quot;Hello, World!&quot;);\r\n            System.out.println(output); // .... . .-.. .-.. --- --..-- / .-- --- .-. .-.. -.. -.-.--\r\n    \r\n            output = MorseCode.run(true, &quot;.... . .-.. .-.. --- --..-- / .-- --- .-. .-.. -.. -.-.--&quot;);\r\n            System.out.println(output); // hello, world!\r\n        }\r\n    \r\n        private static String run(boolean codeToEnglish, String input) {\r\n    \r\n            if (input == null || input.length() == 0)\r\n                throw new IllegalArgumentException(&quot;Invalid input&quot;);\r\n    \r\n            String wordSplitter, wordJoiner, charSplitter, charJoiner;\r\n            Map&lt;String, String&gt; mapper;\r\n            \r\n            if (codeToEnglish) {\r\n                wordSplitter = &quot; / &quot;;\r\n                wordJoiner = &quot; &quot;;\r\n                charJoiner = &quot;&quot;;\r\n                charSplitter = &quot; &quot;;\r\n                mapper = MORSE_TO_EN;\r\n            } else {\r\n                wordSplitter = &quot; &quot;;\r\n                wordJoiner = &quot; / &quot;;\r\n                charJoiner = &quot; &quot;;\r\n                charSplitter = &quot;&quot;;\r\n                mapper = EN_TO_MORSE;\r\n            }\r\n    \r\n            return Arrays\r\n                .stream(input.trim().toLowerCase().split(wordSplitter))\r\n                .map(word -&gt; createWord(word, charJoiner, charSplitter, mapper))\r\n                .collect(Collectors.joining(wordJoiner));\r\n        }\r\n    \r\n        private static String createWord(String word, String joiner, String splitter, Map&lt;String, String&gt; mapper) {\r\n            return Arrays.stream(word.split(splitter)).map(mapper::get).collect(Collectors.joining(joiner));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31554025/want-to-create-a-stream-of-characters-from-char-array-in-java","title":"Morse code translator(simple)","body":"<p>If you're after <strong>two-way</strong> translator (Morse &lt;=&gt; English) and you prefer Java Stream approach then I think it's better to keep the English characters array as <code>String</code> rather than <code>char</code> - this is due to slightly difficult mapping of <code>char</code>s in a Stream (<a href=\"https://stackoverflow.com/questions/31554025/want-to-create-a-stream-of-characters-from-char-array-in-java\">this</a> question for reference) which would make the Stream approach a bit more cluttered.</p>\n<pre><code>public class MorseCode {\n\n    private static final String[] english = {\n        &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;,\n        &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;,\n        &quot;y&quot;, &quot;z&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;0&quot;,\n        &quot;,&quot;, &quot;.&quot;, &quot;?&quot;, &quot;!&quot;, &quot;:&quot;, &quot;@&quot;, &quot;=&quot;, &quot;-&quot;, &quot;+&quot;, &quot;\\&quot;&quot;, &quot;/&quot;, &quot;&amp;&quot;,\n        &quot;'&quot;, &quot;(&quot;, &quot;)&quot;\n    };\n\n    private static final String[] morse = {\n        &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;,\n        &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;, &quot;--.-&quot;, &quot;.-.&quot;,\n        &quot;...&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;.----&quot;,\n        &quot;..---&quot;, &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot;,\n        &quot;-----&quot;, &quot;--..--&quot;, &quot;.-.-.-&quot;, &quot;..--..&quot;, &quot;-.-.--&quot;, &quot;---...&quot;, &quot;.--.-.&quot;,\n        &quot;-...-&quot;, &quot;-....-&quot;, &quot;.-.-.&quot;, &quot;.-..-.&quot;, &quot;-..-.&quot;, &quot;.-...&quot;, &quot;.----.&quot;,\n        &quot;-.--.&quot;, &quot;-.--.-&quot;\n    };\n\n    private static final Map&lt;String, String&gt; EN_TO_MORSE = new HashMap&lt;&gt;();\n    private static final Map&lt;String, String&gt; MORSE_TO_EN = new HashMap&lt;&gt;();\n\n    static {\n        for (int i = 0; i &lt; english.length; i++) {\n            EN_TO_MORSE.put(english[i], morse[i]);\n            MORSE_TO_EN.put(morse[i], english[i]);\n        }\n    }\n\n    public static void main(String[] args) {\n\n        String output;\n\n        output = MorseCode.run(false, &quot;Hello, World!&quot;);\n        System.out.println(output); // .... . .-.. .-.. --- --..-- / .-- --- .-. .-.. -.. -.-.--\n\n        output = MorseCode.run(true, &quot;.... . .-.. .-.. --- --..-- / .-- --- .-. .-.. -.. -.-.--&quot;);\n        System.out.println(output); // hello, world!\n    }\n\n    private static String run(boolean codeToEnglish, String input) {\n\n        if (input == null || input.length() == 0)\n            throw new IllegalArgumentException(&quot;Invalid input&quot;);\n\n        String wordSplitter, wordJoiner, charSplitter, charJoiner;\n        Map&lt;String, String&gt; mapper;\n        \n        if (codeToEnglish) {\n            wordSplitter = &quot; / &quot;;\n            wordJoiner = &quot; &quot;;\n            charJoiner = &quot;&quot;;\n            charSplitter = &quot; &quot;;\n            mapper = MORSE_TO_EN;\n        } else {\n            wordSplitter = &quot; &quot;;\n            wordJoiner = &quot; / &quot;;\n            charJoiner = &quot; &quot;;\n            charSplitter = &quot;&quot;;\n            mapper = EN_TO_MORSE;\n        }\n\n        return Arrays\n            .stream(input.trim().toLowerCase().split(wordSplitter))\n            .map(word -&gt; createWord(word, charJoiner, charSplitter, mapper))\n            .collect(Collectors.joining(wordJoiner));\n    }\n\n    private static String createWord(String word, String joiner, String splitter, Map&lt;String, String&gt; mapper) {\n        return Arrays.stream(word.split(splitter)).map(mapper::get).collect(Collectors.joining(joiner));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6160682,"reputation":13,"user_id":4802395,"display_name":"Derek Boeka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29707295,"answer_count":7,"score":1,"last_activity_date":1635107271,"creation_date":1429294707,"question_id":29706653,"body_markdown":"I am working on a simple Morse Code translator for my Intro to Programming class. This is a very simple design based on the techniques I have been taught.\r\n\r\nThis program works for a single character conversion, but cannot do words or sentences. I believe the problem has to do with the `morse[index]` statement at the end, but I can&#39;t figure out how to print the translated text as a whole. \r\n\r\n    public class Exercise12_9\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            String[] english = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;,\r\n                      &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, \r\n                      &quot;y&quot;, &quot;z&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;0&quot;,\r\n                      &quot;,&quot;, &quot;.&quot;, &quot;?&quot; };\r\n                      \r\n            String[] morse = { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, \r\n                    &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.---.&quot;, &quot;--.-&quot;, &quot;.-.&quot;,\r\n                    &quot;...&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;.----&quot;,\r\n                    &quot;..---&quot;, &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot;,\r\n                    &quot;-----&quot;, &quot;--..--&quot;, &quot;.-.-.-&quot;, &quot;..--..&quot; };\r\n                    \r\n                    \r\n            Scanner keyboard = new Scanner(System.in);\r\n   \r\n            String userInput;\r\n    \r\n            int index;\r\n \r\n            index = 0;\r\n      \r\n            System.out.println(&quot; This is an English to Morse Code Translator.  &quot;);\r\n            System.out.println(&quot; Please enter what you would like translate &quot;);\r\n            System.out.println(&quot;             into Morse Code. &quot;);\r\n            System.out.println(&quot; ============================================ &quot;);\r\n           \r\n            userInput = keyboard.next();\r\n      \r\n            userInput = userInput.toLowerCase();\r\n      \r\n            for (index = 0; index &lt; userInput.length(); index++)           \r\n            {\r\n                char [] chars = userInput.toCharArray();\r\n         \r\n                if (userInput.equals(english[index]))\r\n                {    \r\n                    System.out.println(&quot; Translated : &quot; + morse[index]);       \r\n                }\r\n            }  \r\n        }\r\n    }","title":"Morse code translator(simple)","body":"<p>I am working on a simple Morse Code translator for my Intro to Programming class. This is a very simple design based on the techniques I have been taught.</p>\n\n<p>This program works for a single character conversion, but cannot do words or sentences. I believe the problem has to do with the <code>morse[index]</code> statement at the end, but I can't figure out how to print the translated text as a whole. </p>\n\n<pre><code>public class Exercise12_9\n{\n    public static void main(String[] args)\n    {\n        String[] english = { \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\",\n                  \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \n                  \"y\", \"z\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\",\n                  \",\", \".\", \"?\" };\n\n        String[] morse = { \".-\", \"-...\", \"-.-.\", \"-..\", \".\", \"..-.\", \"--.\", \"....\", \"..\", \n                \".---\", \"-.-\", \".-..\", \"--\", \"-.\", \"---\", \".---.\", \"--.-\", \".-.\",\n                \"...\", \"-\", \"..-\", \"...-\", \".--\", \"-..-\", \"-.--\", \"--..\", \".----\",\n                \"..---\", \"...--\", \"....-\", \".....\", \"-....\", \"--...\", \"---..\", \"----.\",\n                \"-----\", \"--..--\", \".-.-.-\", \"..--..\" };\n\n\n        Scanner keyboard = new Scanner(System.in);\n\n        String userInput;\n\n        int index;\n\n        index = 0;\n\n        System.out.println(\" This is an English to Morse Code Translator.  \");\n        System.out.println(\" Please enter what you would like translate \");\n        System.out.println(\"             into Morse Code. \");\n        System.out.println(\" ============================================ \");\n\n        userInput = keyboard.next();\n\n        userInput = userInput.toLowerCase();\n\n        for (index = 0; index &lt; userInput.length(); index++)           \n        {\n            char [] chars = userInput.toCharArray();\n\n            if (userInput.equals(english[index]))\n            {    \n                System.out.println(\" Translated : \" + morse[index]);       \n            }\n        }  \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","google-cloud-firestore","spring-repositories"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1635103847,"post_id":69699696,"comment_id":123200353,"body_markdown":"Can you post the full subclass that extends your `GenericService&lt;User&gt;`? Also any error stacktrace?","body":"Can you post the full subclass that extends your <code>GenericService&lt;User&gt;</code>? Also any error stacktrace?"}],"answers":[{"tags":[],"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635106926,"creation_date":1635105152,"answer_id":69700255,"question_id":69699696,"body_markdown":"Of what types are:\r\n```java\r\nvar cpf = userRepository.findByCPF(entity.getCPF());\r\nvar email = userRepository.findByEmail(entity.getEmail());\r\n```\r\n?\r\n\r\nYou can write them also like:\r\n```java\r\nFlux&lt;User&gt; cpf = userRepository.findByCPF(entity.getCPF());\r\nFlux&lt;User&gt; email = userRepository.findByEmail(entity.getEmail());\r\n```\r\nI see three problems:\r\n 1. You don&#39;t subscribe to the `cpf` and `email` fluxes\r\n 2. The condition inside if is always false because both fluxes are not null\r\n```java\r\n if(cpf == null || email == null)\r\n```\r\n 3. ... assuming that `cpf` and `email` would not be `Flux&lt;User&gt;` but `User` I think the condition should be `cpf != null || email != null`\r\n\r\nThe code could look more like this:\r\n```java\r\n    @Override\r\n    public Mono&lt;User&gt; create(User entity) {\r\n        var cpf = userRepository.findByCPF(entity.getCPF()); // Flux&lt;User&gt; cpf = ...\r\n        var email = userRepository.findByEmail(entity.getEmail()); // Flux&lt;User&gt; email = ...\r\n\r\n        return cpf.mergeWith(email)\r\n                .&lt;User&gt;handle((user, sink) -&gt; sink.error(new EntityExistException()))\r\n                .switchIfEmpty(super.create(entity))\r\n                .next();\r\n    }\r\n```","title":"Spring FirestoreReactiveRepository custom query is not working - Java","body":"<p>Of what types are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var cpf = userRepository.findByCPF(entity.getCPF());\nvar email = userRepository.findByEmail(entity.getEmail());\n</code></pre>\n<p>?</p>\n<p>You can write them also like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;User&gt; cpf = userRepository.findByCPF(entity.getCPF());\nFlux&lt;User&gt; email = userRepository.findByEmail(entity.getEmail());\n</code></pre>\n<p>I see three problems:</p>\n<ol>\n<li>You don't subscribe to the <code>cpf</code> and <code>email</code> fluxes</li>\n<li>The condition inside if is always false because both fluxes are not null</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code> if(cpf == null || email == null)\n</code></pre>\n<ol start=\"3\">\n<li>... assuming that <code>cpf</code> and <code>email</code> would not be <code>Flux&lt;User&gt;</code> but <code>User</code> I think the condition should be <code>cpf != null || email != null</code></li>\n</ol>\n<p>The code could look more like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Mono&lt;User&gt; create(User entity) {\n        var cpf = userRepository.findByCPF(entity.getCPF()); // Flux&lt;User&gt; cpf = ...\n        var email = userRepository.findByEmail(entity.getEmail()); // Flux&lt;User&gt; email = ...\n\n        return cpf.mergeWith(email)\n                .&lt;User&gt;handle((user, sink) -&gt; sink.error(new EntityExistException()))\n                .switchIfEmpty(super.create(entity))\n                .next();\n    }\n</code></pre>\n"}],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635106926,"creation_date":1635100510,"question_id":69699696,"body_markdown":"I am trying to build some custom queries like the [documentation][1] is saying, but it is not working.\r\n\r\nI got stuck in what i think is the block method and not any data is retrieved.\r\n\r\nHere is my repo class:\r\n\r\n```java\r\n@Repository\r\npublic interface UserRepository extends FirestoreReactiveRepository&lt;User&gt; {\r\n\r\n    Flux&lt;User&gt; findByCPF(String CPF);\r\n    Flux&lt;User&gt; findByEmail(String email);\r\n}\r\n\r\n```\r\n\r\nand here is the model:\r\n\r\n```java\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(collectionName = &quot;userCollection&quot;)\r\npublic class User extends BaseEntity {\r\n\r\n\r\n    @NotNull(message = &quot;{validation.notnull.user.name}&quot;)\r\n    private String name;\r\n\r\n    @Email\r\n    @NotNull(message = &quot;{validation.notnull.user.email}&quot;)\r\n    private String email;\r\n\r\n    @NotNull(message = &quot;{validation.notnull.user.password}&quot;)\r\n    private String password;\r\n\r\n    @NotNull(message = &quot;{validation.notnull.user.address}&quot;)\r\n    private String address;\r\n\r\n    @CPF\r\n    @NotNull(message = &quot;{validation.notnull.user.cpf}&quot;)\r\n    private String CPF;\r\n\r\n    @NotNull(message = &quot;{validation.notnull.user.birthDate}&quot;)\r\n    private Date birthDate;\r\n\r\n    @NotNull(message = &quot;{validation.notnull.user.role}&quot;)\r\n    private UserRoleEnum role;\r\n}\r\n\r\n```\r\n\r\nthis is the method that i&#39;m building that i get stuck:\r\n\r\n```java\r\n    @Override\r\n    public Mono&lt;User&gt; create(User entity) {\r\n        var cpf = userRepository.findByCPF(entity.getCPF());\r\n        var email =  userRepository.findByEmail(entity.getEmail());\r\n        \r\n        if(cpf == null || email == null)\r\n           throw new EntityExistException();\r\n       else\r\n        return super.create(entity);\r\n    }\r\n```\r\n\r\nYeah, it&#39;s an override because i have a generic service class:\r\n\r\n```java\r\npublic class GenericService&lt;T&gt;{\r\n\r\n    private FirestoreReactiveRepository&lt;T&gt; firestoreReactiveRepository;\r\n\r\n    public GenericService(FirestoreReactiveRepository&lt;T&gt; firestoreReactiveRepository){\r\n        this.firestoreReactiveRepository = firestoreReactiveRepository;\r\n    }\r\n\r\n    @Transactional\r\n    public Mono&lt;T&gt; create(T entity){\r\n        return firestoreReactiveRepository.save(entity);\r\n    }\r\n\r\n**** HIDED CONTENT *****\r\n```\r\n\r\nDo you know how custom queries can be built with this FirestoreReactiveRepository ?\r\n\r\n\r\n  [1]: https://googlecloudplatform.github.io/spring-cloud-gcp/2.0.4/reference/html/index.html#reactive-repositories","title":"Spring FirestoreReactiveRepository custom query is not working - Java","body":"<p>I am trying to build some custom queries like the <a href=\"https://googlecloudplatform.github.io/spring-cloud-gcp/2.0.4/reference/html/index.html#reactive-repositories\" rel=\"nofollow noreferrer\">documentation</a> is saying, but it is not working.</p>\n<p>I got stuck in what i think is the block method and not any data is retrieved.</p>\n<p>Here is my repo class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends FirestoreReactiveRepository&lt;User&gt; {\n\n    Flux&lt;User&gt; findByCPF(String CPF);\n    Flux&lt;User&gt; findByEmail(String email);\n}\n\n</code></pre>\n<p>and here is the model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(collectionName = &quot;userCollection&quot;)\npublic class User extends BaseEntity {\n\n\n    @NotNull(message = &quot;{validation.notnull.user.name}&quot;)\n    private String name;\n\n    @Email\n    @NotNull(message = &quot;{validation.notnull.user.email}&quot;)\n    private String email;\n\n    @NotNull(message = &quot;{validation.notnull.user.password}&quot;)\n    private String password;\n\n    @NotNull(message = &quot;{validation.notnull.user.address}&quot;)\n    private String address;\n\n    @CPF\n    @NotNull(message = &quot;{validation.notnull.user.cpf}&quot;)\n    private String CPF;\n\n    @NotNull(message = &quot;{validation.notnull.user.birthDate}&quot;)\n    private Date birthDate;\n\n    @NotNull(message = &quot;{validation.notnull.user.role}&quot;)\n    private UserRoleEnum role;\n}\n\n</code></pre>\n<p>this is the method that i'm building that i get stuck:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Mono&lt;User&gt; create(User entity) {\n        var cpf = userRepository.findByCPF(entity.getCPF());\n        var email =  userRepository.findByEmail(entity.getEmail());\n        \n        if(cpf == null || email == null)\n           throw new EntityExistException();\n       else\n        return super.create(entity);\n    }\n</code></pre>\n<p>Yeah, it's an override because i have a generic service class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericService&lt;T&gt;{\n\n    private FirestoreReactiveRepository&lt;T&gt; firestoreReactiveRepository;\n\n    public GenericService(FirestoreReactiveRepository&lt;T&gt; firestoreReactiveRepository){\n        this.firestoreReactiveRepository = firestoreReactiveRepository;\n    }\n\n    @Transactional\n    public Mono&lt;T&gt; create(T entity){\n        return firestoreReactiveRepository.save(entity);\n    }\n\n**** HIDED CONTENT *****\n</code></pre>\n<p>Do you know how custom queries can be built with this FirestoreReactiveRepository ?</p>\n"},{"tags":["java","android","android-recyclerview","android-volley"],"answers":[{"tags":[],"owner":{"account_id":7440404,"reputation":21,"user_id":5658344,"display_name":"Puneet Grover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635105987,"creation_date":1635105987,"answer_id":69700348,"question_id":69699878,"body_markdown":"This problem is not in your adapter/java code. I doubt this is in your layout file &quot;admin_card_view&quot;\r\nPlease double check this layout file, most probably there will have some dependency which is not satisfied yet\r\n\r\nAs per mentioned in error - It could be at line no. 19 and in MaterialCardView.\r\nMake sure you have dependency added in your build.gradle file for the same\r\n\r\nPlease add this in app level build.gradle, clean and rebuild project once and then run your app\r\n\r\nimplementation &quot;androidx.cardview:cardview:1.0.0&quot;\r\n\r\nHope it will resolve your problem\r\n","title":"How to wait for the Api&#39;s response to load data dynamically onto recycler Views in Android","body":"<p>This problem is not in your adapter/java code. I doubt this is in your layout file &quot;admin_card_view&quot;\nPlease double check this layout file, most probably there will have some dependency which is not satisfied yet</p>\n<p>As per mentioned in error - It could be at line no. 19 and in MaterialCardView.\nMake sure you have dependency added in your build.gradle file for the same</p>\n<p>Please add this in app level build.gradle, clean and rebuild project once and then run your app</p>\n<p>implementation &quot;androidx.cardview:cardview:1.0.0&quot;</p>\n<p>Hope it will resolve your problem</p>\n"}],"owner":{"account_id":21203904,"reputation":31,"user_id":15593958,"display_name":"Venkata Sridhar Sai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635105987,"creation_date":1635101846,"question_id":69699878,"body_markdown":"I was trying to load the data dynamically from the api&#39;s response onto the recycler views and I keep getting this error. I got the response and I don&#39;t think it&#39;s the problem with async code because when I debugged I got the response and the array is not empty before text in the array is inflated onto a view. Any help would be Appreciated.\r\n\r\n[![screenshot of the error][1]][1] \r\n\r\nCard_List_View_Admins.java\r\n\r\n```\r\npackage com.craftofcode.amrita_event;\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.android.volley.AuthFailureError;\r\nimport com.android.volley.Cache;\r\nimport com.android.volley.Network;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.BasicNetwork;\r\nimport com.android.volley.toolbox.DiskBasedCache;\r\nimport com.android.volley.toolbox.HurlStack;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.craftofcode.amrita_event.adapter.EventListAdapter;\r\nimport com.craftofcode.amrita_event.apiModel.MySingleton;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.LinkedList;\r\nimport java.util.Map;\r\n\r\npublic class Card_list_View_Admins extends AppCompatActivity {\r\n\r\n    Cache cache;\r\n    Network network;\r\n    RequestQueue requestQueue;\r\n\r\n    public EventListAdapter adapter;\r\n//    public String[] Title = {&quot;Peppy paneer Pizza&quot;, &quot;Paneer Makhni Pizza&quot;, &quot;Cheese Burst Pizza&quot;, &quot;Corn Pizza&quot;,&quot;papperoni pizza&quot;,&quot;farm house pizza&quot;, &quot;vegie deilight pizza&quot;,&quot;chicken pizza&quot;, &quot;tandoori pizza&quot;,&quot;custom pizza&quot;};\r\n//    public String[] Club = {&quot;Peppy paneer Pizza&quot;, &quot;Paneer Makhni Pizza&quot;, &quot;Cheese Burst Pizza&quot;, &quot;Corn Pizza&quot;,&quot;papperoni pizza&quot;,&quot;farm house pizza&quot;, &quot;vegie deilight pizza&quot;,&quot;chicken pizza&quot;, &quot;tandoori pizza&quot;,&quot;custom pizza&quot;};\r\n//    public String[] Date = {&quot;250&quot;,&quot;260&quot;,&quot;240.5&quot;,&quot;350&quot;,&quot;312&quot;,&quot;250&quot;,&quot;260&quot;,&quot;240.5&quot;,&quot;350&quot;,&quot;312&quot;};\r\n    int[] EventImages = {\r\n            R.drawable.p1,\r\n            R.drawable.p2,\r\n    };\r\n    private LinkedList&lt;String&gt; _id;\r\n    private LinkedList&lt;Integer&gt; EventImage;\r\n    //Image URL variable for now\r\n    private LinkedList&lt;String&gt; Url;\r\n    private LinkedList&lt;String&gt; EventTitle;\r\n    private LinkedList&lt;String&gt; Clubname;\r\n    private LinkedList&lt;String&gt; DateEvent;\r\n\r\n\r\n    RecyclerView recyclerView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_card_list_view_admins);\r\n        // Image Url String for now\r\n\r\n        // setting up the Request Queue\r\n        SettingUpRequestQueue();\r\n\r\n        SharedPreferences TOKEN = getSharedPreferences(&quot;TOKEN&quot;, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor edit = TOKEN.edit();\r\n\r\n        //pushing token to shared preference\r\n        edit.putString(&quot;user-auth-token&quot;, &quot;replaced-with-Token&quot;);\r\n        edit.commit();\r\n\r\n        // Api call is being made Here\r\n        String AdminUsersEventsEndpoint = &quot;https://amrita-events.herokuapp.com/api/admin-users-portal&quot;;\r\n\r\n        JsonArrayRequest EventCardRequest = new JsonArrayRequest\r\n                (Request.Method.GET, AdminUsersEventsEndpoint, null, new Response.Listener&lt;JSONArray&gt;() {\r\n\r\n                    @Override\r\n                    public void onResponse(JSONArray response) {\r\n                        _id = new LinkedList&lt;&gt;();\r\n                        EventImage = new LinkedList&lt;&gt;();\r\n                        Url = new LinkedList&lt;&gt;();\r\n                        EventTitle = new LinkedList&lt;&gt;();\r\n                        Clubname = new LinkedList&lt;&gt;();\r\n                        DateEvent = new LinkedList&lt;&gt;();\r\n\r\n                        System.out.println(response);\r\n                        for(int i = 0; i &lt; response.length(); i++){\r\n                            try {\r\n                                EventImage.addLast(EventImages[i]);\r\n                                System.out.println(response.getJSONObject(i));\r\n                                JSONObject event = response.getJSONObject(i);\r\n                                _id.addLast(event.get(&quot;_id&quot;).toString());\r\n                                Url.addLast(event.get(&quot;ImageUrl&quot;).toString());\r\n                                EventTitle.addLast(event.get(&quot;Title&quot;).toString());\r\n                                Clubname.addLast(event.get(&quot;OrganizingClub&quot;).toString());\r\n                                DateEvent.addLast(event.get(&quot;Date&quot;).toString());\r\n\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n\r\n                        System.out.println(EventTitle);\r\n                        recyclerView = findViewById(R.id.recyclerView);\r\n\r\n                        adapter = new EventListAdapter(getApplicationContext(), EventTitle, EventImage, Clubname, DateEvent);\r\n                        recyclerView.setAdapter(adapter);\r\n                        recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n\r\n\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        // TODO: Handle error\r\n\r\n                    }\r\n                }) {\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n                SharedPreferences TOKEN = getSharedPreferences(&quot;TOKEN&quot;, Context.MODE_PRIVATE);\r\n                params.put(&quot;user-auth-token&quot;, TOKEN.getString(&quot;user-auth-token&quot;,&quot;Theif..!&quot;));\r\n                return params;\r\n            }\r\n        };\r\n\r\n        //adding the request to Queue\r\n        MySingleton.getInstance(this).addToRequestQueue(EventCardRequest);\r\n\r\n    }\r\n\r\n    private void SettingUpRequestQueue() {\r\n        cache = new DiskBasedCache(getCacheDir(), 1024 * 1024); //1Mb cap\r\n        network = new BasicNetwork(new HurlStack());\r\n        requestQueue = new RequestQueue(cache, network);\r\n        requestQueue.start();\r\n    }\r\n\r\n}\r\n```\r\n\r\nEventListAdapter.java\r\n\r\n```\r\npackage com.craftofcode.amrita_event.adapter;\r\n\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.craftofcode.amrita_event.R;\r\n\r\nimport java.util.LinkedList;\r\n\r\npublic class EventListAdapter extends RecyclerView.Adapter&lt;EventListAdapter.ItemViewHolder&gt; {\r\n    private final LinkedList&lt;String&gt; EventTitle;\r\n    private final LinkedList&lt;Integer&gt; EventImage;\r\n    private final LinkedList&lt;String&gt; OrgClub;\r\n    private final LinkedList&lt;String&gt; EventDate;\r\n    private LayoutInflater ItemLayoutInflater;\r\n    public Context context;\r\n\r\n\r\n     class ItemViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n        public ImageView ImageEvent;\r\n        public TextView EventTitle;\r\n        public TextView OrgClub;\r\n        public TextView Date;\r\n\r\n        //support for buttons\r\n         public Button DeleteButton;\r\n         public Button UpdateButton;\r\n        final EventListAdapter EventsAdapter;\r\n\r\n        public ItemViewHolder(View EventView, EventListAdapter EventsAdapter){\r\n            super(EventView);\r\n            ImageEvent = EventView.findViewById(R.id.image);\r\n            EventTitle = EventView.findViewById(R.id.title);\r\n            OrgClub = EventView.findViewById(R.id.club);\r\n            Date = EventView.findViewById(R.id.date);\r\n            DeleteButton = EventView.findViewById(R.id.delbutton);\r\n            UpdateButton = EventView.findViewById(R.id.updbutton);\r\n            this.EventsAdapter = EventsAdapter;\r\n            EventView.setOnClickListener(this);\r\n\r\n            DeleteButton.setOnClickListener(this);\r\n            UpdateButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Log.d(&quot;mess&quot; , &quot;Herllo click&quot;);\r\n                    Log.d(&quot;mess&quot;, String.valueOf(getAdapterPosition()));\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n//            Intent intent = new Intent(context, Expanded_Card_Admins.class);\r\n//            //ActivityOptionsCompat options = ActivityOptionsCompat.makeSceneTransitionAnimation((Activity) context, v, &quot;ContainerTransform&quot;);\r\n//            context.startActivity(intent);\r\n        }\r\n    }\r\n\r\n    public EventListAdapter(Context context, LinkedList&lt;String&gt; EventTitle, LinkedList&lt;Integer&gt; EventImage, LinkedList&lt;String&gt; OrgClub,LinkedList&lt;String&gt; EventDate){\r\n        ItemLayoutInflater = LayoutInflater.from(context);\r\n        this.EventTitle = EventTitle;\r\n        this.EventImage = EventImage;\r\n        this.OrgClub = OrgClub;\r\n        this.EventDate = EventDate;\r\n        this.context = context;\r\n    }\r\n    public EventListAdapter.ItemViewHolder onCreateViewHolder( ViewGroup parent, int viewType) {\r\n        View ItemView = ItemLayoutInflater.inflate(R.layout.admin_card_view,parent,false);\r\n        return new ItemViewHolder(ItemView, this);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(EventListAdapter.ItemViewHolder holder, int position) {\r\n        String CurrentEventName = EventTitle.get(position);\r\n        int CurrentEventImage = EventImage.get(position);\r\n        String CurrentOrgClub = OrgClub.get(position);\r\n        String CurrentEventDate = EventDate.get(position);\r\n        holder.EventTitle.setText(CurrentEventName);\r\n        holder.ImageEvent.setImageResource(CurrentEventImage);\r\n        holder.OrgClub.setText(CurrentOrgClub);\r\n        holder.Date.setText(CurrentEventDate);\r\n\r\n        //onclick listener here\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return EventTitle.size();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MwUCZ.png","title":"How to wait for the Api&#39;s response to load data dynamically onto recycler Views in Android","body":"<p>I was trying to load the data dynamically from the api's response onto the recycler views and I keep getting this error. I got the response and I don't think it's the problem with async code because when I debugged I got the response and the array is not empty before text in the array is inflated onto a view. Any help would be Appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/MwUCZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MwUCZ.png\" alt=\"screenshot of the error\" /></a></p>\n<p>Card_List_View_Admins.java</p>\n<pre><code>package com.craftofcode.amrita_event;\n\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.android.volley.AuthFailureError;\nimport com.android.volley.Cache;\nimport com.android.volley.Network;\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.BasicNetwork;\nimport com.android.volley.toolbox.DiskBasedCache;\nimport com.android.volley.toolbox.HurlStack;\nimport com.android.volley.toolbox.JsonArrayRequest;\nimport com.craftofcode.amrita_event.adapter.EventListAdapter;\nimport com.craftofcode.amrita_event.apiModel.MySingleton;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.HashMap;\nimport java.util.LinkedList;\nimport java.util.Map;\n\npublic class Card_list_View_Admins extends AppCompatActivity {\n\n    Cache cache;\n    Network network;\n    RequestQueue requestQueue;\n\n    public EventListAdapter adapter;\n//    public String[] Title = {&quot;Peppy paneer Pizza&quot;, &quot;Paneer Makhni Pizza&quot;, &quot;Cheese Burst Pizza&quot;, &quot;Corn Pizza&quot;,&quot;papperoni pizza&quot;,&quot;farm house pizza&quot;, &quot;vegie deilight pizza&quot;,&quot;chicken pizza&quot;, &quot;tandoori pizza&quot;,&quot;custom pizza&quot;};\n//    public String[] Club = {&quot;Peppy paneer Pizza&quot;, &quot;Paneer Makhni Pizza&quot;, &quot;Cheese Burst Pizza&quot;, &quot;Corn Pizza&quot;,&quot;papperoni pizza&quot;,&quot;farm house pizza&quot;, &quot;vegie deilight pizza&quot;,&quot;chicken pizza&quot;, &quot;tandoori pizza&quot;,&quot;custom pizza&quot;};\n//    public String[] Date = {&quot;250&quot;,&quot;260&quot;,&quot;240.5&quot;,&quot;350&quot;,&quot;312&quot;,&quot;250&quot;,&quot;260&quot;,&quot;240.5&quot;,&quot;350&quot;,&quot;312&quot;};\n    int[] EventImages = {\n            R.drawable.p1,\n            R.drawable.p2,\n    };\n    private LinkedList&lt;String&gt; _id;\n    private LinkedList&lt;Integer&gt; EventImage;\n    //Image URL variable for now\n    private LinkedList&lt;String&gt; Url;\n    private LinkedList&lt;String&gt; EventTitle;\n    private LinkedList&lt;String&gt; Clubname;\n    private LinkedList&lt;String&gt; DateEvent;\n\n\n    RecyclerView recyclerView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_card_list_view_admins);\n        // Image Url String for now\n\n        // setting up the Request Queue\n        SettingUpRequestQueue();\n\n        SharedPreferences TOKEN = getSharedPreferences(&quot;TOKEN&quot;, Context.MODE_PRIVATE);\n        SharedPreferences.Editor edit = TOKEN.edit();\n\n        //pushing token to shared preference\n        edit.putString(&quot;user-auth-token&quot;, &quot;replaced-with-Token&quot;);\n        edit.commit();\n\n        // Api call is being made Here\n        String AdminUsersEventsEndpoint = &quot;https://amrita-events.herokuapp.com/api/admin-users-portal&quot;;\n\n        JsonArrayRequest EventCardRequest = new JsonArrayRequest\n                (Request.Method.GET, AdminUsersEventsEndpoint, null, new Response.Listener&lt;JSONArray&gt;() {\n\n                    @Override\n                    public void onResponse(JSONArray response) {\n                        _id = new LinkedList&lt;&gt;();\n                        EventImage = new LinkedList&lt;&gt;();\n                        Url = new LinkedList&lt;&gt;();\n                        EventTitle = new LinkedList&lt;&gt;();\n                        Clubname = new LinkedList&lt;&gt;();\n                        DateEvent = new LinkedList&lt;&gt;();\n\n                        System.out.println(response);\n                        for(int i = 0; i &lt; response.length(); i++){\n                            try {\n                                EventImage.addLast(EventImages[i]);\n                                System.out.println(response.getJSONObject(i));\n                                JSONObject event = response.getJSONObject(i);\n                                _id.addLast(event.get(&quot;_id&quot;).toString());\n                                Url.addLast(event.get(&quot;ImageUrl&quot;).toString());\n                                EventTitle.addLast(event.get(&quot;Title&quot;).toString());\n                                Clubname.addLast(event.get(&quot;OrganizingClub&quot;).toString());\n                                DateEvent.addLast(event.get(&quot;Date&quot;).toString());\n\n                            } catch (JSONException e) {\n                                e.printStackTrace();\n                            }\n                        }\n\n                        System.out.println(EventTitle);\n                        recyclerView = findViewById(R.id.recyclerView);\n\n                        adapter = new EventListAdapter(getApplicationContext(), EventTitle, EventImage, Clubname, DateEvent);\n                        recyclerView.setAdapter(adapter);\n                        recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n\n\n                    }\n                }, new Response.ErrorListener() {\n\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        // TODO: Handle error\n\n                    }\n                }) {\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n                SharedPreferences TOKEN = getSharedPreferences(&quot;TOKEN&quot;, Context.MODE_PRIVATE);\n                params.put(&quot;user-auth-token&quot;, TOKEN.getString(&quot;user-auth-token&quot;,&quot;Theif..!&quot;));\n                return params;\n            }\n        };\n\n        //adding the request to Queue\n        MySingleton.getInstance(this).addToRequestQueue(EventCardRequest);\n\n    }\n\n    private void SettingUpRequestQueue() {\n        cache = new DiskBasedCache(getCacheDir(), 1024 * 1024); //1Mb cap\n        network = new BasicNetwork(new HurlStack());\n        requestQueue = new RequestQueue(cache, network);\n        requestQueue.start();\n    }\n\n}\n</code></pre>\n<p>EventListAdapter.java</p>\n<pre><code>package com.craftofcode.amrita_event.adapter;\n\n\nimport android.content.Context;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.craftofcode.amrita_event.R;\n\nimport java.util.LinkedList;\n\npublic class EventListAdapter extends RecyclerView.Adapter&lt;EventListAdapter.ItemViewHolder&gt; {\n    private final LinkedList&lt;String&gt; EventTitle;\n    private final LinkedList&lt;Integer&gt; EventImage;\n    private final LinkedList&lt;String&gt; OrgClub;\n    private final LinkedList&lt;String&gt; EventDate;\n    private LayoutInflater ItemLayoutInflater;\n    public Context context;\n\n\n     class ItemViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n        public ImageView ImageEvent;\n        public TextView EventTitle;\n        public TextView OrgClub;\n        public TextView Date;\n\n        //support for buttons\n         public Button DeleteButton;\n         public Button UpdateButton;\n        final EventListAdapter EventsAdapter;\n\n        public ItemViewHolder(View EventView, EventListAdapter EventsAdapter){\n            super(EventView);\n            ImageEvent = EventView.findViewById(R.id.image);\n            EventTitle = EventView.findViewById(R.id.title);\n            OrgClub = EventView.findViewById(R.id.club);\n            Date = EventView.findViewById(R.id.date);\n            DeleteButton = EventView.findViewById(R.id.delbutton);\n            UpdateButton = EventView.findViewById(R.id.updbutton);\n            this.EventsAdapter = EventsAdapter;\n            EventView.setOnClickListener(this);\n\n            DeleteButton.setOnClickListener(this);\n            UpdateButton.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Log.d(&quot;mess&quot; , &quot;Herllo click&quot;);\n                    Log.d(&quot;mess&quot;, String.valueOf(getAdapterPosition()));\n                }\n            });\n        }\n\n        @Override\n        public void onClick(View v) {\n//            Intent intent = new Intent(context, Expanded_Card_Admins.class);\n//            //ActivityOptionsCompat options = ActivityOptionsCompat.makeSceneTransitionAnimation((Activity) context, v, &quot;ContainerTransform&quot;);\n//            context.startActivity(intent);\n        }\n    }\n\n    public EventListAdapter(Context context, LinkedList&lt;String&gt; EventTitle, LinkedList&lt;Integer&gt; EventImage, LinkedList&lt;String&gt; OrgClub,LinkedList&lt;String&gt; EventDate){\n        ItemLayoutInflater = LayoutInflater.from(context);\n        this.EventTitle = EventTitle;\n        this.EventImage = EventImage;\n        this.OrgClub = OrgClub;\n        this.EventDate = EventDate;\n        this.context = context;\n    }\n    public EventListAdapter.ItemViewHolder onCreateViewHolder( ViewGroup parent, int viewType) {\n        View ItemView = ItemLayoutInflater.inflate(R.layout.admin_card_view,parent,false);\n        return new ItemViewHolder(ItemView, this);\n    }\n\n    @Override\n    public void onBindViewHolder(EventListAdapter.ItemViewHolder holder, int position) {\n        String CurrentEventName = EventTitle.get(position);\n        int CurrentEventImage = EventImage.get(position);\n        String CurrentOrgClub = OrgClub.get(position);\n        String CurrentEventDate = EventDate.get(position);\n        holder.EventTitle.setText(CurrentEventName);\n        holder.ImageEvent.setImageResource(CurrentEventImage);\n        holder.OrgClub.setText(CurrentOrgClub);\n        holder.Date.setText(CurrentEventDate);\n\n        //onclick listener here\n    }\n\n    @Override\n    public int getItemCount() {\n        return EventTitle.size();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1635106225,"post_id":69700307,"comment_id":123200905,"body_markdown":"&quot;Is there a way to make this work without having to block the main thread?&quot; -- use reactive APIs (`LiveData`, RxJava, Kotlin coroutines, `Future`, etc.). See [the documentation](https://developer.android.com/guide/background/threading) or any decent modern book or course on Android app development.","body":"&quot;Is there a way to make this work without having to block the main thread?&quot; -- use reactive APIs (<code>LiveData</code>, RxJava, Kotlin coroutines, <code>Future</code>, etc.). See <a href=\"https://developer.android.com/guide/background/threading\" rel=\"nofollow noreferrer\">the documentation</a> or any decent modern book or course on Android app development."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1635176675,"post_id":69700307,"comment_id":123220175,"body_markdown":"You can use an `interface` to communicate between threads. Very similar to on how `setOnClickListener()` works. Use a handler for passing data to main thread -- recommended. At the end of the day, it all depends on how you code your program.","body":"You can use an <code>interface</code> to communicate between threads. Very similar to on how <code>setOnClickListener()</code> works. Use a handler for passing data to main thread -- recommended. At the end of the day, it all depends on how you code your program."}],"owner":{"account_id":16543339,"reputation":1,"user_id":11953533,"display_name":"snazzy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635105672,"creation_date":1635105672,"question_id":69700307,"body_markdown":"I&#39;m making an android app that scrapes a website and puts the scraped information into a list. The issue that I have is that I have to block the main thread for some time until the scraping is done.\r\n\r\n    int opt = 0;\r\n\tString phone = &quot;&quot;;\r\n\r\n\t...\r\n\r\n\tadAdapter = new AdAdapter(new AdDiffer(), ad -&gt;\r\n\t{\r\n\r\n\t\tnew Thread(new Runnable()\r\n\t\t\t{\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run()\r\n\t\t\t\t{\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tDocument doc = Jsoup.connect(ad.getUrl()).get();\r\n\r\n\t\t\t\t\t\tElement elem = doc.getElementsByClass(&quot;hGYViW&quot;).get(0).....\r\n\r\n\t\t\t\t\t\tElements e = null;\r\n\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\te = elem.getElementsByTag(&quot;div&quot;).get(0).getElementsByClass(&quot;hMvGEj&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch (Exception ex) {}\r\n\r\n\t\t\t\t\t\tif(e.size() != 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tphone = elem.getElementsByTag(&quot;div&quot;).get(0).getElementsByClass(&quot;hMvGEj&quot;).get(0).getElementsByTag(&quot;a&quot;).get(0).html();\r\n\t\t\t\t\t\t\topt = 2;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\topt = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (IOException e)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}).start();\r\n\r\n\t\t\twhile(opt == 0) {}\r\n\r\n\t\t\tif(opt == 2)\r\n\t\t\t{\r\n\t\t\t\topt = 0;\r\n\t\t\t\tphone = &quot;&quot;;\r\n\t\t\t\tIntent intent = new Intent(Intent.ACTION_CALL);\r\n\t\t\t\tintent.setData(Uri.parse(&quot;tel:&quot; + phone));\r\n\t\t\t\tstartActivity(intent);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\topt = 0;\r\n\t\t\t\tphone = &quot;&quot;;\r\n\t\t\t\tstartActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(ad.getUrl())));\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t});\r\n\r\nIs there a way to make this work without having to block the main thread?","title":"What is the most optimal way to obtain a value from a thread and use it in the main thread right after the thread resolves?","body":"<p>I'm making an android app that scrapes a website and puts the scraped information into a list. The issue that I have is that I have to block the main thread for some time until the scraping is done.</p>\n<pre><code>int opt = 0;\nString phone = &quot;&quot;;\n\n...\n\nadAdapter = new AdAdapter(new AdDiffer(), ad -&gt;\n{\n\n    new Thread(new Runnable()\n        {\n            @Override\n            public void run()\n            {\n                try\n                {\n                    Document doc = Jsoup.connect(ad.getUrl()).get();\n\n                    Element elem = doc.getElementsByClass(&quot;hGYViW&quot;).get(0).....\n\n                    Elements e = null;\n\n                    try\n                    {\n                        e = elem.getElementsByTag(&quot;div&quot;).get(0).getElementsByClass(&quot;hMvGEj&quot;);\n                    }\n                    catch (Exception ex) {}\n\n                    if(e.size() != 0)\n                    {\n                        phone = elem.getElementsByTag(&quot;div&quot;).get(0).getElementsByClass(&quot;hMvGEj&quot;).get(0).getElementsByTag(&quot;a&quot;).get(0).html();\n                        opt = 2;\n                    }\n                    else\n                    {\n                        opt = 1;\n                    }\n                }\n                catch (IOException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n\n        }).start();\n\n        while(opt == 0) {}\n\n        if(opt == 2)\n        {\n            opt = 0;\n            phone = &quot;&quot;;\n            Intent intent = new Intent(Intent.ACTION_CALL);\n            intent.setData(Uri.parse(&quot;tel:&quot; + phone));\n            startActivity(intent);\n        }\n        else\n        {\n            opt = 0;\n            phone = &quot;&quot;;\n            startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(ad.getUrl())));\n        }\n        return null;\n});\n</code></pre>\n<p>Is there a way to make this work without having to block the main thread?</p>\n"},{"tags":["java","file","weka"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1635105151,"post_id":69700232,"comment_id":123200628,"body_markdown":"Your resource path is not correct","body":"Your resource path is not correct"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1635105415,"post_id":69700232,"comment_id":123200693,"body_markdown":"I would also move the data file into a path off of where the java/class files are located. Please check out the answers in the duplicate questions.","body":"I would also move the data file into a path off of where the java/class files are located. Please check out the answers in the duplicate questions."},{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1635105541,"post_id":69700232,"comment_id":123200725,"body_markdown":"Use an absolute path to your CSV file.","body":"Use an absolute path to your CSV file."},{"owner":{"account_id":13767414,"reputation":53,"user_id":9935702,"display_name":"Purohit Iyer"},"score":0,"creation_date":1635105544,"post_id":69700232,"comment_id":123200726,"body_markdown":"Do you mean I create a new directory and then get my file from there instead?","body":"Do you mean I create a new directory and then get my file from there instead?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1635111489,"post_id":69700232,"comment_id":123202043,"body_markdown":"While @fracpete means well with his suggestion, I strongly urge you not to follow it as your program will fail completely if/when you decide to create a jar or if you try to run it on another computer.","body":"While @fracpete means well with his suggestion, I strongly urge you not to follow it as your program will fail completely if/when you decide to create a jar or if you try to run it on another computer."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1635116167,"post_id":69700232,"comment_id":123202721,"body_markdown":"The argument to `getResourceAsStream` is not a file path.  If you want to open a file, use `Files.newInputStream` or `new FileInputStream`.  If you want to open a resource, that resource must be a path inside your application.","body":"The argument to <code>getResourceAsStream</code> is not a file path.  If you want to open a file, use <code>Files.newInputStream</code> or <code>new FileInputStream</code>.  If you want to open a resource, that resource must be a path inside your application."},{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1635126157,"post_id":69700232,"comment_id":123204060,"body_markdown":"Personally, I wouldn&#39;t package datasets inside jars, but provide them via command line arguments to the class that you&#39;re executing.","body":"Personally, I wouldn&#39;t package datasets inside jars, but provide them via command line arguments to the class that you&#39;re executing."}],"owner":{"account_id":13767414,"reputation":53,"user_id":9935702,"display_name":"Purohit Iyer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635105142,"answer_count":0,"score":0,"last_activity_date":1635105376,"creation_date":1635104934,"question_id":69700232,"body_markdown":"I am relatively new to Java, and as a learning experience, tried to build a classifier in java by reading a dataset from a file called &quot;dataset.csv&quot;\r\n\r\nThis is the code I wrote for the whole class:\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport weka.classifiers.trees.J48;\r\nimport weka.classifiers.Classifier;\r\nimport weka.classifiers.Evaluation;\r\nimport weka.core.converters.CSVLoader;\r\nimport weka.core.Instances;\r\n\r\npublic class classifier {\r\n\tpublic static final String DATASET = &quot;dataset.csv&quot;;\r\n\t\r\n\tpublic static Instances getData(String filename) throws IOException\r\n\t{\r\n\t\tCSVLoader loader = new CSVLoader();\r\n\t\tloader.setSource(classifier.class.getResourceAsStream(&quot;/&quot;+filename));\r\n\t\tSystem.out.println(&quot;getData function running&quot;);\r\n\t\tInstances dataset = loader.getDataSet();\r\n\t\t\r\n\t\treturn dataset;\r\n\t}\r\n\t\r\n\tpublic static void J48Classifier() throws Exception\r\n\t{\r\n\t\t\r\n\t\tInstances dataset = getData(DATASET);\r\n\t\tClassifier j48 = new J48();\r\n\t\t\r\n\t\tj48.buildClassifier(dataset);\r\n\t\t\r\n\t\tEvaluation eval = new Evaluation(dataset);\r\n\t\teval.evaluateModel(j48,dataset);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Evaluation with dataset: &quot;);\r\n\t\tSystem.out.println(eval.toSummaryString());\r\n\t\t\r\n\t\tSystem.out.println(&quot;Expression as per the algorithm: &quot;);\r\n\t\tSystem.out.println(j48);\r\n\t\t\r\n\t\tSystem.out.println(eval.toMatrixString());\r\n\t\tSystem.out.println(eval.toClassDetailsString());\t\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]) throws Exception\r\n\t{\r\n\t\tJ48Classifier();\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nBut once I run the code, I am getting this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is my file Structure for reference (the dataset.csv file is located in the src directory of the below cited image):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GBeA3.png\r\n  [2]: https://i.stack.imgur.com/2qLc6.png\r\n\r\nCan anyone help me figure out if I have missed out on something?","title":"Null pointer exception when trying to use getResourceAsStream() function","body":"<p>I am relatively new to Java, and as a learning experience, tried to build a classifier in java by reading a dataset from a file called &quot;dataset.csv&quot;</p>\n<p>This is the code I wrote for the whole class:</p>\n<pre><code>import java.io.IOException;\nimport weka.classifiers.trees.J48;\nimport weka.classifiers.Classifier;\nimport weka.classifiers.Evaluation;\nimport weka.core.converters.CSVLoader;\nimport weka.core.Instances;\n\npublic class classifier {\n    public static final String DATASET = &quot;dataset.csv&quot;;\n    \n    public static Instances getData(String filename) throws IOException\n    {\n        CSVLoader loader = new CSVLoader();\n        loader.setSource(classifier.class.getResourceAsStream(&quot;/&quot;+filename));\n        System.out.println(&quot;getData function running&quot;);\n        Instances dataset = loader.getDataSet();\n        \n        return dataset;\n    }\n    \n    public static void J48Classifier() throws Exception\n    {\n        \n        Instances dataset = getData(DATASET);\n        Classifier j48 = new J48();\n        \n        j48.buildClassifier(dataset);\n        \n        Evaluation eval = new Evaluation(dataset);\n        eval.evaluateModel(j48,dataset);\n        \n        System.out.println(&quot;Evaluation with dataset: &quot;);\n        System.out.println(eval.toSummaryString());\n        \n        System.out.println(&quot;Expression as per the algorithm: &quot;);\n        System.out.println(j48);\n        \n        System.out.println(eval.toMatrixString());\n        System.out.println(eval.toClassDetailsString());    \n    }\n    \n    public static void main(String args[]) throws Exception\n    {\n        J48Classifier();\n    }\n}\n\n\n</code></pre>\n<p>But once I run the code, I am getting this error:</p>\n<p><a href=\"https://i.stack.imgur.com/GBeA3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GBeA3.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my file Structure for reference (the dataset.csv file is located in the src directory of the below cited image):</p>\n<p><a href=\"https://i.stack.imgur.com/2qLc6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2qLc6.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone help me figure out if I have missed out on something?</p>\n"},{"tags":["java","jaxb","xjc"],"answers":[{"tags":[],"owner":{"account_id":23131180,"reputation":1,"user_id":17236133,"display_name":"Stefaan Huysentruyt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635105194,"creation_date":1635105194,"answer_id":69700260,"question_id":66460424,"body_markdown":"Most likely, from the moment that one of the values is not convertible to a Java Enum constant name, JAXB generates fallback names like VALUE_1, VALUE_2, etc.\r\n\r\nThis is the case when the values are numbers, like &quot;1.2&quot;, 1.3&quot;, etc.\r\n\r\nIn your example the enumeration starts with value &quot; &quot;, no match for a Java constant name.\r\n\r\nIn those cases you will need to tell JAXB which Java Enum Constant name you want, for **every** enumeration value in that particular XSD enumeration restriction.\r\n\r\nLike we did for the MODS 3.6 xsd:\r\n\r\n``` xml\r\n&lt;xs:element name=&quot;mods&quot; type=&quot;modsDefinition&quot;/&gt;\r\n&lt;!--  --&gt;\r\n&lt;xs:complexType name=&quot;modsDefinition&quot;&gt;\r\n\t&lt;xs:group ref=&quot;modsGroup&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n\t&lt;xs:attribute name=&quot;ID&quot; type=&quot;xs:ID&quot;/&gt;\r\n\t&lt;xs:attribute name=&quot;version&quot;&gt;\r\n\t\t&lt;xs:simpleType&gt;\r\n\t\t\t&lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n\t\t\t\t&lt;xs:enumeration value=&quot;3.6&quot;/&gt;\r\n\t\t\t\t&lt;xs:enumeration value=&quot;3.5&quot;/&gt;\r\n\t\t\t\t&lt;xs:enumeration value=&quot;3.4&quot;/&gt;\r\n\t\t\t\t&lt;xs:enumeration value=&quot;3.3&quot;/&gt;\r\n\t\t\t\t&lt;xs:enumeration value=&quot;3.2&quot;/&gt;\r\n\t\t\t\t&lt;xs:enumeration value=&quot;3.1&quot;/&gt;\r\n\t\t\t\t&lt;xs:enumeration value=&quot;3.0&quot;/&gt;\r\n\t\t\t&lt;/xs:restriction&gt;\r\n\t\t&lt;/xs:simpleType&gt;\r\n\t&lt;/xs:attribute&gt;\r\n&lt;/xs:complexType&gt;\r\n```\r\nwe configured the binding like this:\r\n```xml\r\n&lt;bindings\r\n    node=&quot;xs:complexType[@name=&#39;modsDefinition&#39;]/xs:attribute[@name=&#39;version&#39;]&quot;&gt;\r\n    &lt;property name=&quot;version&quot; /&gt;\r\n    &lt;bindings node=&quot;xs:simpleType&quot;&gt;\r\n        &lt;typesafeEnumClass name=&quot;EnumModsVersion&quot;&gt;\r\n            &lt;typesafeEnumMember name=&quot;V3_6&quot; value=&quot;3.6&quot;/&gt;\r\n            &lt;typesafeEnumMember name=&quot;V3_5&quot; value=&quot;3.5&quot;/&gt;\r\n            &lt;typesafeEnumMember name=&quot;V3_4&quot; value=&quot;3.4&quot;/&gt;\r\n            &lt;typesafeEnumMember name=&quot;V3_3&quot; value=&quot;3.3&quot;/&gt;\r\n            &lt;typesafeEnumMember name=&quot;V3_2&quot; value=&quot;3.2&quot;/&gt;\r\n            &lt;typesafeEnumMember name=&quot;V3_1&quot; value=&quot;3.1&quot;/&gt;\r\n            &lt;typesafeEnumMember name=&quot;V3_0&quot; value=&quot;3.0&quot;/&gt;\r\n        &lt;/typesafeEnumClass&gt;\r\n    &lt;/bindings&gt;\r\n&lt;/bindings&gt;\r\n```\r\nto get this Java code:\r\n```java\r\n@XmlType(name = &quot;&quot;)\r\n@XmlEnum\r\npublic enum EnumModsVersion {\r\n\r\n    @XmlEnumValue(&quot;3.6&quot;)\r\n    V3_6(&quot;3.6&quot;),\r\n    @XmlEnumValue(&quot;3.5&quot;)\r\n    V3_5(&quot;3.5&quot;),\r\n    @XmlEnumValue(&quot;3.4&quot;)\r\n    V3_4(&quot;3.4&quot;),\r\n    @XmlEnumValue(&quot;3.3&quot;)\r\n    V3_3(&quot;3.3&quot;),\r\n    @XmlEnumValue(&quot;3.2&quot;)\r\n    V3_2(&quot;3.2&quot;),\r\n    @XmlEnumValue(&quot;3.1&quot;)\r\n    V3_1(&quot;3.1&quot;),\r\n    @XmlEnumValue(&quot;3.0&quot;)\r\n    V3_0(&quot;3.0&quot;);\r\n    private final String value;\r\n\r\n    EnumModsVersion(String v) {\r\n        value = v;\r\n    }\r\n\r\n    public String value() {\r\n        return value;\r\n    }\r\n\r\n    public static ModsDefinition.EnumModsVersion fromValue(String v) {\r\n        for (ModsDefinition.EnumModsVersion c: ModsDefinition.EnumModsVersion.values()) {\r\n            if (c.value.equals(v)) {\r\n                return c;\r\n            }\r\n        }\r\n        throw new IllegalArgumentException(v);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"JAXB Enum Generating as VALUE_1 Instead of XSD String Names","body":"<p>Most likely, from the moment that one of the values is not convertible to a Java Enum constant name, JAXB generates fallback names like VALUE_1, VALUE_2, etc.</p>\n<p>This is the case when the values are numbers, like &quot;1.2&quot;, 1.3&quot;, etc.</p>\n<p>In your example the enumeration starts with value &quot; &quot;, no match for a Java constant name.</p>\n<p>In those cases you will need to tell JAXB which Java Enum Constant name you want, for <strong>every</strong> enumeration value in that particular XSD enumeration restriction.</p>\n<p>Like we did for the MODS 3.6 xsd:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:element name=&quot;mods&quot; type=&quot;modsDefinition&quot;/&gt;\n&lt;!--  --&gt;\n&lt;xs:complexType name=&quot;modsDefinition&quot;&gt;\n    &lt;xs:group ref=&quot;modsGroup&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n    &lt;xs:attribute name=&quot;ID&quot; type=&quot;xs:ID&quot;/&gt;\n    &lt;xs:attribute name=&quot;version&quot;&gt;\n        &lt;xs:simpleType&gt;\n            &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n                &lt;xs:enumeration value=&quot;3.6&quot;/&gt;\n                &lt;xs:enumeration value=&quot;3.5&quot;/&gt;\n                &lt;xs:enumeration value=&quot;3.4&quot;/&gt;\n                &lt;xs:enumeration value=&quot;3.3&quot;/&gt;\n                &lt;xs:enumeration value=&quot;3.2&quot;/&gt;\n                &lt;xs:enumeration value=&quot;3.1&quot;/&gt;\n                &lt;xs:enumeration value=&quot;3.0&quot;/&gt;\n            &lt;/xs:restriction&gt;\n        &lt;/xs:simpleType&gt;\n    &lt;/xs:attribute&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p>we configured the binding like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bindings\n    node=&quot;xs:complexType[@name='modsDefinition']/xs:attribute[@name='version']&quot;&gt;\n    &lt;property name=&quot;version&quot; /&gt;\n    &lt;bindings node=&quot;xs:simpleType&quot;&gt;\n        &lt;typesafeEnumClass name=&quot;EnumModsVersion&quot;&gt;\n            &lt;typesafeEnumMember name=&quot;V3_6&quot; value=&quot;3.6&quot;/&gt;\n            &lt;typesafeEnumMember name=&quot;V3_5&quot; value=&quot;3.5&quot;/&gt;\n            &lt;typesafeEnumMember name=&quot;V3_4&quot; value=&quot;3.4&quot;/&gt;\n            &lt;typesafeEnumMember name=&quot;V3_3&quot; value=&quot;3.3&quot;/&gt;\n            &lt;typesafeEnumMember name=&quot;V3_2&quot; value=&quot;3.2&quot;/&gt;\n            &lt;typesafeEnumMember name=&quot;V3_1&quot; value=&quot;3.1&quot;/&gt;\n            &lt;typesafeEnumMember name=&quot;V3_0&quot; value=&quot;3.0&quot;/&gt;\n        &lt;/typesafeEnumClass&gt;\n    &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n<p>to get this Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlType(name = &quot;&quot;)\n@XmlEnum\npublic enum EnumModsVersion {\n\n    @XmlEnumValue(&quot;3.6&quot;)\n    V3_6(&quot;3.6&quot;),\n    @XmlEnumValue(&quot;3.5&quot;)\n    V3_5(&quot;3.5&quot;),\n    @XmlEnumValue(&quot;3.4&quot;)\n    V3_4(&quot;3.4&quot;),\n    @XmlEnumValue(&quot;3.3&quot;)\n    V3_3(&quot;3.3&quot;),\n    @XmlEnumValue(&quot;3.2&quot;)\n    V3_2(&quot;3.2&quot;),\n    @XmlEnumValue(&quot;3.1&quot;)\n    V3_1(&quot;3.1&quot;),\n    @XmlEnumValue(&quot;3.0&quot;)\n    V3_0(&quot;3.0&quot;);\n    private final String value;\n\n    EnumModsVersion(String v) {\n        value = v;\n    }\n\n    public String value() {\n        return value;\n    }\n\n    public static ModsDefinition.EnumModsVersion fromValue(String v) {\n        for (ModsDefinition.EnumModsVersion c: ModsDefinition.EnumModsVersion.values()) {\n            if (c.value.equals(v)) {\n                return c;\n            }\n        }\n        throw new IllegalArgumentException(v);\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635105194,"creation_date":1614786573,"question_id":66460424,"body_markdown":"I have an XSD file with \r\n\r\n    &lt;xsd:simpleType name=&quot;FieldName&quot;&gt;\r\n            &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\r\n                &lt;xsd:enumeration value=&quot; &quot; /&gt;\r\n                &lt;xsd:enumeration value=&quot;COMMON_NAME&quot; /&gt;\r\n                &lt;xsd:enumeration value=&quot;IP_ADDRESS&quot; /&gt;\r\n                &lt;xsd:enumeration value=&quot;ORIGINAL_ID&quot; /&gt;\r\n                &lt;xsd:enumeration value=&quot;SITE_NAME&quot; /&gt;\r\n            &lt;/xsd:restriction&gt;\r\n        &lt;/xsd:simpleType&gt;\r\n\r\n\r\nThe JAXB class that this generated is a little weird as it generates the field value as \r\n\r\n    @XmlEnumValue(&quot;COMMON_NAME&quot;)\r\n    VALUE_1(&quot;COMMON_NAME&quot;),\r\n    @XmlEnumValue(&quot;IP_ADDRESS&quot;)\r\n    VALUE_2(&quot;IP_ADDRESS&quot;),\r\n    .\r\n    .\r\n    and so on.\r\n\r\nIs there a way in the binding xjb file (some property or something), that would make it generate with string names rather than generic &quot;VALUE_1&quot;. This is smaller example, there is another enum with more than 300 values in it! And this is an external XSD (owned by some other team in our organization), so I cant just go in and modify the XSD.\r\n\r\nAny pointers would be appreciated.\r\n","title":"JAXB Enum Generating as VALUE_1 Instead of XSD String Names","body":"<p>I have an XSD file with</p>\n<pre><code>&lt;xsd:simpleType name=&quot;FieldName&quot;&gt;\n        &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\n            &lt;xsd:enumeration value=&quot; &quot; /&gt;\n            &lt;xsd:enumeration value=&quot;COMMON_NAME&quot; /&gt;\n            &lt;xsd:enumeration value=&quot;IP_ADDRESS&quot; /&gt;\n            &lt;xsd:enumeration value=&quot;ORIGINAL_ID&quot; /&gt;\n            &lt;xsd:enumeration value=&quot;SITE_NAME&quot; /&gt;\n        &lt;/xsd:restriction&gt;\n    &lt;/xsd:simpleType&gt;\n</code></pre>\n<p>The JAXB class that this generated is a little weird as it generates the field value as</p>\n<pre><code>@XmlEnumValue(&quot;COMMON_NAME&quot;)\nVALUE_1(&quot;COMMON_NAME&quot;),\n@XmlEnumValue(&quot;IP_ADDRESS&quot;)\nVALUE_2(&quot;IP_ADDRESS&quot;),\n.\n.\nand so on.\n</code></pre>\n<p>Is there a way in the binding xjb file (some property or something), that would make it generate with string names rather than generic &quot;VALUE_1&quot;. This is smaller example, there is another enum with more than 300 values in it! And this is an external XSD (owned by some other team in our organization), so I cant just go in and modify the XSD.</p>\n<p>Any pointers would be appreciated.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1616020439,"post_id":66681675,"comment_id":117876336,"body_markdown":"That would require the use of a [query](https://firebase.google.com/docs/database/android/lists-of-data#sorting_and_filtering_data). If you&#39;re having a hard time making that work, can you edit your question to show a fragment of the actual JSON (as text, no screenshots please)? You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu () on your [Firebase Database console](https://console.firebase.google.com/project/_/database/data).","body":"That would require the use of a <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#sorting_and_filtering_data\" rel=\"nofollow noreferrer\">query</a>. If you&#39;re having a hard time making that work, can you edit your question to show a fragment of the actual JSON (as text, no screenshots please)? You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu () on your <a href=\"https://console.firebase.google.com/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Database console</a>."},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1616020546,"post_id":66681675,"comment_id":117876367,"body_markdown":"An SQL query for this task should be a 1 liner ```SELECT TITLE FROM STATION WHERE STATION_NAME = &quot;StationName&quot;````. No?","body":"An SQL query for this task should be a 1 liner ```SELECT TITLE FROM STATION WHERE STATION_NAME = &quot;StationName&quot;````. No?"},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1616020588,"post_id":66681675,"comment_id":117876384,"body_markdown":"Either way, I think what OP has gotten is the table name.","body":"Either way, I think what OP has gotten is the table name."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1616020563,"creation_date":1616020563,"answer_id":66682227,"question_id":66681675,"body_markdown":"Selecting some nodes based on their value requires the use of a query, which is how you [order and filter data](https://firebase.google.com/docs/database/android/lists-of-data#sorting_and_filtering_data) in Firebase.\r\n\r\nIn this case it sounds like you want to order on the child property `PROMOTED` and then filter for `true` values, which would look like this:\r\n\r\n    Query query = ref.orderByChild(&quot;PROMOTED&quot;).equalTo(true);\r\n\r\n    query.addValueEventListener(new ValueEventListener() {\r\n        ...\r\n\r\nThe rest of your code can stay unmodified.","title":"Showing only certain items from a Firebase database node","body":"<p>Selecting some nodes based on their value requires the use of a query, which is how you <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#sorting_and_filtering_data\" rel=\"nofollow noreferrer\">order and filter data</a> in Firebase.</p>\n<p>In this case it sounds like you want to order on the child property <code>PROMOTED</code> and then filter for <code>true</code> values, which would look like this:</p>\n<pre><code>Query query = ref.orderByChild(&quot;PROMOTED&quot;).equalTo(true);\n\nquery.addValueEventListener(new ValueEventListener() {\n    ...\n</code></pre>\n<p>The rest of your code can stay unmodified.</p>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66682227,"answer_count":1,"score":1,"last_activity_date":1635104856,"creation_date":1616017358,"question_id":66681675,"body_markdown":"I have a database node called Stations and inside there will be various items associated with that station. eg the name/title description. Some of these children will contain a Boolean called PROMOTED if this Boolean equals true.\r\n\r\nI want it to appear in my promoted tab with in my app. How can I make sure only these children appear in there? At the moment my fragment is just listing all stations. An example appears below.\r\n\r\nWould it be something to do with the query?\r\n\r\n    ref = db.getReference().child(DATABASE_CHILD);\r\n\r\n        ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot snap : snapshot.getChildren()) {\r\n                    String Title = snap.child(&quot;TITLE&quot;).getValue(String.class);\r\n                    String Desc = snap.child(&quot;DESCRIPTION&quot;).getValue(String.class);\r\n                    String  Thumbup = snap.child(&quot;THUMBUP&quot;).getValue(String.class);\r\n                    String Thumbdown = snap.child(&quot;THUMBDOWN&quot;).getValue(String.class);\r\n                    String Image = snap.child(&quot;IMAGE&quot;).getValue(String.class);\r\n                    setTextViews(Title,Desc,Thumbup,Thumbdown,Image);\r\n                }\r\n            }","title":"Showing only certain items from a Firebase database node","body":"<p>I have a database node called Stations and inside there will be various items associated with that station. eg the name/title description. Some of these children will contain a Boolean called PROMOTED if this Boolean equals true.</p>\n<p>I want it to appear in my promoted tab with in my app. How can I make sure only these children appear in there? At the moment my fragment is just listing all stations. An example appears below.</p>\n<p>Would it be something to do with the query?</p>\n<pre><code>ref = db.getReference().child(DATABASE_CHILD);\n\n    ref.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot snap : snapshot.getChildren()) {\n                String Title = snap.child(&quot;TITLE&quot;).getValue(String.class);\n                String Desc = snap.child(&quot;DESCRIPTION&quot;).getValue(String.class);\n                String  Thumbup = snap.child(&quot;THUMBUP&quot;).getValue(String.class);\n                String Thumbdown = snap.child(&quot;THUMBDOWN&quot;).getValue(String.class);\n                String Image = snap.child(&quot;IMAGE&quot;).getValue(String.class);\n                setTextViews(Title,Desc,Thumbup,Thumbdown,Image);\n            }\n        }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":8027790,"reputation":314,"user_id":6864881,"display_name":"That&#39;s Enam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523439348,"creation_date":1523437081,"answer_id":49770777,"question_id":49770699,"body_markdown":"its an improvement by Android Studio 3.0.\r\n\r\n&gt; If you run the app to other device admob will start serving real ads\r\n\r\n**Edit**\r\n*Note: Your code is ok but you copied test ad code from google website that is why you are getting test ad. To show real ad you need to generate ad code from your google admob account.* ","title":"Admob shows Test ads but not real ads in android?","body":"<p>its an improvement by Android Studio 3.0.</p>\n\n<blockquote>\n  <p>If you run the app to other device admob will start serving real ads</p>\n</blockquote>\n\n<p><strong>Edit</strong>\n<em>Note: Your code is ok but you copied test ad code from google website that is why you are getting test ad. To show real ad you need to generate ad code from your google admob account.</em> </p>\n"},{"tags":[],"owner":{"account_id":11865830,"reputation":205,"user_id":8683396,"display_name":"Siddharth Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523437559,"creation_date":1523437559,"answer_id":49770931,"question_id":49770699,"body_markdown":"    \r\nTry this for InterstitialAd because you dont written`mInterstitial.show();` in your code\r\n\r\nLike this\r\n\t\r\n\tpublic void inrequestadd() {\r\n        mInterstitial = new InterstitialAd(MainActivity.this);\r\n        mInterstitial.setAdUnitId(getString(\r\n                R.string.INTRESTITIAL_ID));\r\n        mInterstitial.loadAd(new AdRequest.Builder().build());\r\n        mInterstitial.setAdListener(new AdListener() {\r\n\r\n            @Override\r\n            public void onAdClosed() {\r\n                super.onAdClosed();\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onAdFailedToLoad(int errorCode) {\r\n                super.onAdFailedToLoad(errorCode);\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onAdLoaded() {\r\n                super.onAdLoaded();\r\n                if (mInterstitial.isLoaded()) {\r\n                    mInterstitial.show();\r\n                }\r\n            }\r\n        });\r\n    }","title":"Admob shows Test ads but not real ads in android?","body":"<p>Try this for InterstitialAd because you dont written<code>mInterstitial.show();</code> in your code</p>\n\n<p>Like this</p>\n\n<pre><code>public void inrequestadd() {\n    mInterstitial = new InterstitialAd(MainActivity.this);\n    mInterstitial.setAdUnitId(getString(\n            R.string.INTRESTITIAL_ID));\n    mInterstitial.loadAd(new AdRequest.Builder().build());\n    mInterstitial.setAdListener(new AdListener() {\n\n        @Override\n        public void onAdClosed() {\n            super.onAdClosed();\n\n        }\n\n        @Override\n        public void onAdFailedToLoad(int errorCode) {\n            super.onAdFailedToLoad(errorCode);\n\n        }\n\n        @Override\n        public void onAdLoaded() {\n            super.onAdLoaded();\n            if (mInterstitial.isLoaded()) {\n                mInterstitial.show();\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4608136,"reputation":1720,"user_id":3737035,"accept_rate":0,"display_name":"Arda Kaplan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523437946,"creation_date":1523437946,"answer_id":49771065,"question_id":49770699,"body_markdown":"Last week, i have faced the same situation. Please review the steps.\r\n\r\n1_ be sure to use correct publisher and banner id. I dont see publisher id in your code, please visit [admob get started page][1]\r\n\r\n2_ what is the error? you can find it out in logcat. Or you can implement adlistener to your code and print it like this;\r\n\r\n    mAdView.setAdListener(new AdListener() {\r\n      \r\n        @Override\r\n        public void onAdFailedToLoad(int errorCode) {\r\n            // log the error code\r\n        }\r\n    });\r\n\r\n3_if you get error code =0 \r\n\r\n3.a_some blogs say that; this happens when you create new ad in admob, sometimes it takes 1-2 hours to be worked. So please wait and try again later.\r\n\r\n3.b_(this is my situation) i dont know the reason but google banned my package name, so in this situation, your application never be allowed to show any advertisement. Just change your packege name and everything work fine. To check this situation, create new sample project and than copy your admob codes. \r\n\r\n\r\n  [1]: https://developers.google.com/admob/android/quick-start","title":"Admob shows Test ads but not real ads in android?","body":"<p>Last week, i have faced the same situation. Please review the steps.</p>\n\n<p>1_ be sure to use correct publisher and banner id. I dont see publisher id in your code, please visit <a href=\"https://developers.google.com/admob/android/quick-start\" rel=\"nofollow noreferrer\">admob get started page</a></p>\n\n<p>2_ what is the error? you can find it out in logcat. Or you can implement adlistener to your code and print it like this;</p>\n\n<pre><code>mAdView.setAdListener(new AdListener() {\n\n    @Override\n    public void onAdFailedToLoad(int errorCode) {\n        // log the error code\n    }\n});\n</code></pre>\n\n<p>3_if you get error code =0 </p>\n\n<p>3.a_some blogs say that; this happens when you create new ad in admob, sometimes it takes 1-2 hours to be worked. So please wait and try again later.</p>\n\n<p>3.b_(this is my situation) i dont know the reason but google banned my package name, so in this situation, your application never be allowed to show any advertisement. Just change your packege name and everything work fine. To check this situation, create new sample project and than copy your admob codes. </p>\n"},{"tags":[],"owner":{"account_id":5568190,"reputation":13,"user_id":4414581,"display_name":"Zain Ul Abdin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549265529,"creation_date":1549265529,"answer_id":54511772,"question_id":49770699,"body_markdown":"You are setting adUnit in both XML and java file avoid that set it in file either java or xml not both.","title":"Admob shows Test ads but not real ads in android?","body":"<p>You are setting adUnit in both XML and java file avoid that set it in file either java or xml not both.</p>\n"}],"owner":{"account_id":13032694,"reputation":69,"user_id":9418611,"display_name":"Mahak Singhvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2535,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1635104586,"creation_date":1523436841,"question_id":49770699,"body_markdown":"I&#39;m using **AdMob** for showing android ads. The test ads are working fine but real ads are not shown. Also, I&#39;ve got an issue with real ***interstitial ads*** and ***banner ads*** both are not working.Here is my code :\r\n\r\n*banner_ads.xml*\r\n\r\n      &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;&gt;\r\n\r\n            &lt;com.google.android.gms.ads.AdView \r\n                xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                android:id=&quot;@+id/adView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentBottom=&quot;true&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                ads:adSize=&quot;BANNER&quot;\r\n                ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\r\n\r\n                &lt;!-- i have used a test ads over here --&gt;\r\n\r\n            &lt;/com.google.android.gms.ads.AdView&gt;\r\n\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n*MainActivity.java*\r\n\r\n    private AdView mAdView;\r\n    AdView = fragView.findViewById(R.id.adView);\r\n    AdRequest adRequest = new AdRequest.Builder().build();\r\n    mAdView.loadAd(adRequest);\r\n\r\n    &lt;!--for interstitial --&gt;\r\n    InterstitialAd mInterstitialAd;\r\n    mInterstitialAd = new InterstitialAd(getApplicationContext());\r\n    // i have used a test id\r\n    mInterstitialAd.setAdUnitId(&quot;ca-app-pub-3940256099942544/1033173712&quot;);\r\n    mInterstitialAd.loadAd(new AdRequest.Builder().build());\r\n\r\n\r\nHow to change my code so that real-time ads also appear?\r\n\r\n","title":"Admob shows Test ads but not real ads in android?","body":"<p>I'm using <strong>AdMob</strong> for showing android ads. The test ads are working fine but real ads are not shown. Also, I've got an issue with real <strong><em>interstitial ads</em></strong> and <strong><em>banner ads</em></strong> both are not working.Here is my code :</p>\n\n<p><em>banner_ads.xml</em></p>\n\n<pre><code>  &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"10dp\"&gt;\n\n        &lt;com.google.android.gms.ads.AdView \n            xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n            android:id=\"@+id/adView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_centerHorizontal=\"true\"\n            ads:adSize=\"BANNER\"\n            ads:adUnitId=\"ca-app-pub-3940256099942544/6300978111\"&gt;\n\n            &lt;!-- i have used a test ads over here --&gt;\n\n        &lt;/com.google.android.gms.ads.AdView&gt;\n\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><em>MainActivity.java</em></p>\n\n<pre><code>private AdView mAdView;\nAdView = fragView.findViewById(R.id.adView);\nAdRequest adRequest = new AdRequest.Builder().build();\nmAdView.loadAd(adRequest);\n\n&lt;!--for interstitial --&gt;\nInterstitialAd mInterstitialAd;\nmInterstitialAd = new InterstitialAd(getApplicationContext());\n// i have used a test id\nmInterstitialAd.setAdUnitId(\"ca-app-pub-3940256099942544/1033173712\");\nmInterstitialAd.loadAd(new AdRequest.Builder().build());\n</code></pre>\n\n<p>How to change my code so that real-time ads also appear?</p>\n"},{"tags":["java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"score":0,"creation_date":1635014969,"post_id":69690898,"comment_id":123184284,"body_markdown":"public boolean onQueryTextChange(String newText) {\n                \n                adapter.filter(newList);\n                return false;\n}","body":"public boolean onQueryTextChange(String newText) {                                  adapter.filter(newList);                 return false; }"},{"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"score":0,"creation_date":1635014985,"post_id":69690898,"comment_id":123184289,"body_markdown":"How have you implemented your search filter?share your listadapter code.","body":"How have you implemented your search filter?share your listadapter code."},{"owner":{"display_name":"user17093321"},"score":0,"creation_date":1635016337,"post_id":69690898,"comment_id":123184554,"body_markdown":"@Danish I have added the codes above","body":"@Danish I have added the codes above"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1635016442,"post_id":69690898,"comment_id":123184571,"body_markdown":"@MohamedHossam After you do ` adapter.filter(newList);` you need to do `adapter.notifyDataSetChanged()`","body":"@MohamedHossam After you do ` adapter.filter(newList);` you need to do <code>adapter.notifyDataSetChanged()</code>"},{"owner":{"display_name":"user17093321"},"score":0,"creation_date":1635016749,"post_id":69690898,"comment_id":123184630,"body_markdown":"@akhilnair I typed this code but nothing happened","body":"@akhilnair I typed this code but nothing happened"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1635016965,"post_id":69690898,"comment_id":123184671,"body_markdown":"@MohamedHossam Can you please add the code where you are creating your adapter?","body":"@MohamedHossam Can you please add the code where you are creating your adapter?"},{"owner":{"display_name":"user17093321"},"score":0,"creation_date":1635017217,"post_id":69690898,"comment_id":123184735,"body_markdown":"@akhilnair I already wrote the code in onLoadFinished","body":"@akhilnair I already wrote the code in onLoadFinished"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1635017817,"post_id":69690898,"comment_id":123184860,"body_markdown":"@MohamedHossam Is you contructor `listAdapter` just doing what it is shown here? Can you please add the `listAdapter` whole code?","body":"@MohamedHossam Is you contructor <code>listAdapter</code> just doing what it is shown here? Can you please add the <code>listAdapter</code> whole code?"},{"owner":{"display_name":"user17093321"},"score":0,"creation_date":1635018463,"post_id":69690898,"comment_id":123184993,"body_markdown":"@akhilnair This is the complete code for the listAdapter https://stackoverflow.com/questions/69690898/why-is-search-in-top-bar-not-working-in-android-studio#:~:text=This%20is%20listAdapter,arrayList.addAll(newList)%3B%0A%20%20%20%20%7D%0A%0A%7D","body":"@akhilnair This is the complete code for the listAdapter <a href=\"https://stackoverflow.com/questions/69690898/why-is-search-in-top-bar-not-working-in-android-studio#:~:text=This%20is%20listAdapter,arrayList.addAll(newList)%3B%0A%20%20%20%20%7D%0A%0A%7D\" title=\"why is search in top bar not working in android studio%23%3a%7e%3atext%3dThis%2520is%2520listAdapter%2carrayList.addAll(newList)%253B%250A%2520%2520%2520%2520%257D%250A%250A%257D\">stackoverflow.com/questions/69690898/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635104482,"creation_date":1635019054,"answer_id":69691580,"question_id":69690898,"body_markdown":"   Add this to your listadapter code:\r\n         \r\n        Context context;\r\n         public listAdapter(Context context, List&lt;Informatin&gt; informatins) {\r\n        super();\r\n        this.context=context;\r\n        arraylist=informatins;\r\n\r\n    }\r\n        ArrayList&lt;Informatin&gt; informatins;\r\n        public Filter getFilter() {\r\n        return new Filter() {\r\n\r\n            @Override\r\n            protected FilterResults performFiltering(CharSequence constraint) {\r\n                final FilterResults oReturn = new FilterResults();\r\n                final ArrayList&lt;Informatin&gt; results = new ArrayList&lt;Informatin&gt;();\r\n                if (informatins == null)\r\n                    informatins = arraylist;\r\n                if (constraint != null) {\r\n                    if (informatins != null &amp;&amp; informatins.size() &gt; 0) {\r\n                        for (final Information g : informatins) {\r\n                            if (g.getName().toLowerCase()\r\n                                    .contains(constraint.toString()))\r\n                                results.add(g);\r\n                        }\r\n                    }\r\n                    oReturn.values = results;\r\n                }\r\n                return oReturn;\r\n            }\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            @Override\r\n            protected void publishResults(CharSequence constraint,\r\n                                          FilterResults results) {\r\n                arraylist = (ArrayList&lt;Informatin&gt;) results.values;\r\n                notifyDataSetChanged();\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n\r\nAdd this in your onquerytextchaged:\r\n       \r\n           searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n               adapter.getFilter().filter(newText);//replace adapter with listview name which in your case is listview as informed by you in comment\r\n                return true;\r\n            }\r\n        });\r\n        return true;\r\n\r\nModified MainActivity onCreate() code:\r\n  \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        listItem = new ArrayList&lt;&gt;();\r\n        listView = findViewById(R.id.list);\r\n\r\n        LoaderManager.getInstance(this).initLoader(LIST_APP_LOADER, null, this);\r\n\r\n        mInformation = new ArrayList&lt;&gt;();\r\n\r\n        adapter = new listAdapter(this, mInformation);\r\n\r\n        listView.setAdapter(adapter);\r\n        listView.setTextFilterEnabled(true)//add this line\r\n    }\r\n","title":"Why is search in top bar not working in android studio?","body":"<p>Add this to your listadapter code:</p>\n<pre><code>    Context context;\n     public listAdapter(Context context, List&lt;Informatin&gt; informatins) {\n    super();\n    this.context=context;\n    arraylist=informatins;\n\n}\n    ArrayList&lt;Informatin&gt; informatins;\n    public Filter getFilter() {\n    return new Filter() {\n\n        @Override\n        protected FilterResults performFiltering(CharSequence constraint) {\n            final FilterResults oReturn = new FilterResults();\n            final ArrayList&lt;Informatin&gt; results = new ArrayList&lt;Informatin&gt;();\n            if (informatins == null)\n                informatins = arraylist;\n            if (constraint != null) {\n                if (informatins != null &amp;&amp; informatins.size() &gt; 0) {\n                    for (final Information g : informatins) {\n                        if (g.getName().toLowerCase()\n                                .contains(constraint.toString()))\n                            results.add(g);\n                    }\n                }\n                oReturn.values = results;\n            }\n            return oReturn;\n        }\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        @Override\n        protected void publishResults(CharSequence constraint,\n                                      FilterResults results) {\n            arraylist = (ArrayList&lt;Informatin&gt;) results.values;\n            notifyDataSetChanged();\n        }\n    };\n}\n</code></pre>\n<p>Add this in your onquerytextchaged:</p>\n<pre><code>       searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n           adapter.getFilter().filter(newText);//replace adapter with listview name which in your case is listview as informed by you in comment\n            return true;\n        }\n    });\n    return true;\n</code></pre>\n<p>Modified MainActivity onCreate() code:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    listItem = new ArrayList&lt;&gt;();\n    listView = findViewById(R.id.list);\n\n    LoaderManager.getInstance(this).initLoader(LIST_APP_LOADER, null, this);\n\n    mInformation = new ArrayList&lt;&gt;();\n\n    adapter = new listAdapter(this, mInformation);\n\n    listView.setAdapter(adapter);\n    listView.setTextFilterEnabled(true)//add this line\n}\n</code></pre>\n"}],"owner":{"display_name":"user17093321"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69691580,"answer_count":1,"score":0,"last_activity_date":1635104506,"creation_date":1635013318,"question_id":69690898,"body_markdown":"I made an app with `listView` and I want to use search in top bar but it doesn&#39;t work.\r\nIn this program, I get the data from the firebase.\r\n\r\nThese are the codes below:\r\n\r\nThis is `MainActivity` code:\r\n```\r\npublic class MainActivity extends AppCompatActivity implements LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\r\n\r\n    private static final int List_APP_LOADER = 0;\r\n\r\n    ArrayList&lt;Informatin&gt; listItem;\r\n    ListView listView;\r\n    listAdapter adapter;\r\n\r\n    DatabaseReference reference;\r\n\r\n    ArrayList&lt;Informatin&gt; mInformation;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        listItem = new ArrayList&lt;&gt;();\r\n        listView = findViewById(R.id.list);\r\n\r\n        LoaderManager.getInstance(this).initLoader(LIST_APP_LOADER, null, this);\r\n\r\n        mInformation = new ArrayList&lt;&gt;();\r\n\r\n        adapter = new listAdapter(this, mInformation);\r\n        listView.setAdapter(adapter);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        super.onCreateOptionsMenu(menu);\r\n        getMenuInflater().inflate(R.menu.menu_main_screen, menu);\r\n\r\n        MenuItem searchItem = menu.findItem(R.id.search_item);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                listView.getFilter().filter(newText);\r\n                return true;\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\nThis is `listAdapter` code\r\n\r\n```\r\npublic class listAdapter extends ArrayAdapter&lt;Informatin&gt; implements Filterable {\r\n\r\n    List&lt;Informatin&gt; arrayList;\r\n\r\n    Context context;\r\n    public listAdapter(Context context, ArrayList&lt;Informatin&gt; informatins) {\r\n        super(context, 0, informatins);\r\n        this.context=context;\r\n        arrayList = informatins;\r\n\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n\r\n        View listItemView = convertView;\r\n        if (listItemView == null) {\r\n            listItemView = LayoutInflater.from(getContext()).inflate(\r\n                    R.layout.list_item, parent, false);\r\n        }\r\n\r\n        Informatin currentList = getItem(position);\r\n\r\n        TextView nameTextView = listItemView.findViewById(R.id.name);\r\n        TextView descriptionTextView = listItemView.findViewById(R.id.description);\r\n        TextView ageTextView = listItemView.findViewById(R.id.age);\r\n        ImageView imageView = listItemView.findViewById(R.id.image);\r\n\r\n        String firstName = currentList.getFirstName();\r\n        String lastName = currentList.getLastName();\r\n\r\n        String name = firstName + &quot; &quot; + lastName;\r\n\r\n        nameTextView.setText(name);\r\n        descriptionTextView.setText(currentList.getDescription());\r\n\r\n        ageTextView.setText(currentList.getAge());\r\n\r\n        return listItemView;\r\n    }\r\n\r\n    List&lt;Informatin&gt; informatins;\r\n    public Filter getFilter() {\r\n        return new Filter() {\r\n\r\n            @Override\r\n            protected FilterResults performFiltering(CharSequence constraint) {\r\n                final FilterResults oReturn = new FilterResults();\r\n                final ArrayList&lt;Informatin&gt; results = new ArrayList&lt;&gt;();\r\n                if (informatins == null)\r\n                    informatins = arrayList;\r\n                if (constraint != null) {\r\n                    if (informatins != null &amp;&amp; informatins.size() &gt; 0) {\r\n                        for (final Informatin g : informatins) {\r\n                            if (g.getFirstName().toLowerCase()\r\n                                    .contains(constraint.toString()))\r\n                                results.add(g);\r\n                        }\r\n                    }\r\n                    oReturn.values = results;\r\n                }\r\n                return oReturn;\r\n            }\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            @Override\r\n            protected void publishResults(CharSequence constraint,\r\n                                          FilterResults results) {\r\n                arrayList = (ArrayList&lt;Informatin&gt;) results.values;\r\n                notifyDataSetChanged();\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n[this is the picture of the problem\r\n][1]\r\n\r\n\r\n[this is a screenshot for the problem from the device][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fx91O.png\r\n  [2]: https://i.stack.imgur.com/YaaxT.jpg","title":"Why is search in top bar not working in android studio?","body":"<p>I made an app with <code>listView</code> and I want to use search in top bar but it doesn't work.\nIn this program, I get the data from the firebase.</p>\n<p>These are the codes below:</p>\n<p>This is <code>MainActivity</code> code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\n\n    private static final int List_APP_LOADER = 0;\n\n    ArrayList&lt;Informatin&gt; listItem;\n    ListView listView;\n    listAdapter adapter;\n\n    DatabaseReference reference;\n\n    ArrayList&lt;Informatin&gt; mInformation;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        listItem = new ArrayList&lt;&gt;();\n        listView = findViewById(R.id.list);\n\n        LoaderManager.getInstance(this).initLoader(LIST_APP_LOADER, null, this);\n\n        mInformation = new ArrayList&lt;&gt;();\n\n        adapter = new listAdapter(this, mInformation);\n        listView.setAdapter(adapter);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n        getMenuInflater().inflate(R.menu.menu_main_screen, menu);\n\n        MenuItem searchItem = menu.findItem(R.id.search_item);\n        SearchView searchView = (SearchView) searchItem.getActionView();\n\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                listView.getFilter().filter(newText);\n                return true;\n            }\n        });\n        return true;\n    }\n\n}\n</code></pre>\n<p>This is <code>listAdapter</code> code</p>\n<pre><code>public class listAdapter extends ArrayAdapter&lt;Informatin&gt; implements Filterable {\n\n    List&lt;Informatin&gt; arrayList;\n\n    Context context;\n    public listAdapter(Context context, ArrayList&lt;Informatin&gt; informatins) {\n        super(context, 0, informatins);\n        this.context=context;\n        arrayList = informatins;\n\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n        View listItemView = convertView;\n        if (listItemView == null) {\n            listItemView = LayoutInflater.from(getContext()).inflate(\n                    R.layout.list_item, parent, false);\n        }\n\n        Informatin currentList = getItem(position);\n\n        TextView nameTextView = listItemView.findViewById(R.id.name);\n        TextView descriptionTextView = listItemView.findViewById(R.id.description);\n        TextView ageTextView = listItemView.findViewById(R.id.age);\n        ImageView imageView = listItemView.findViewById(R.id.image);\n\n        String firstName = currentList.getFirstName();\n        String lastName = currentList.getLastName();\n\n        String name = firstName + &quot; &quot; + lastName;\n\n        nameTextView.setText(name);\n        descriptionTextView.setText(currentList.getDescription());\n\n        ageTextView.setText(currentList.getAge());\n\n        return listItemView;\n    }\n\n    List&lt;Informatin&gt; informatins;\n    public Filter getFilter() {\n        return new Filter() {\n\n            @Override\n            protected FilterResults performFiltering(CharSequence constraint) {\n                final FilterResults oReturn = new FilterResults();\n                final ArrayList&lt;Informatin&gt; results = new ArrayList&lt;&gt;();\n                if (informatins == null)\n                    informatins = arrayList;\n                if (constraint != null) {\n                    if (informatins != null &amp;&amp; informatins.size() &gt; 0) {\n                        for (final Informatin g : informatins) {\n                            if (g.getFirstName().toLowerCase()\n                                    .contains(constraint.toString()))\n                                results.add(g);\n                        }\n                    }\n                    oReturn.values = results;\n                }\n                return oReturn;\n            }\n\n            @SuppressWarnings(&quot;unchecked&quot;)\n            @Override\n            protected void publishResults(CharSequence constraint,\n                                          FilterResults results) {\n                arrayList = (ArrayList&lt;Informatin&gt;) results.values;\n                notifyDataSetChanged();\n            }\n        };\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fx91O.png\" rel=\"nofollow noreferrer\">this is the picture of the problem\n</a></p>\n<p><a href=\"https://i.stack.imgur.com/YaaxT.jpg\" rel=\"nofollow noreferrer\">this is a screenshot for the problem from the device</a></p>\n"},{"tags":["web-applications","java","encoding","automated-tests"],"comments":[{"owner":{"account_id":2983499,"reputation":11580,"user_id":2532946,"display_name":"mti2935"},"score":0,"creation_date":1634907788,"post_id":69700037,"comment_id":123200176,"body_markdown":"It looks like this code allows the user to upload content, then this content is reflected back to the client.  If that&#39;s the case, then the output must be sanitized before being sent back to the client, otherwise this is vulnerable to various types of XSS attacks.  See https://cwe.mitre.org/data/definitions/116.html and https://owasp.org/www-community/attacks/xss/ for more info.","body":"It looks like this code allows the user to upload content, then this content is reflected back to the client.  If that&#39;s the case, then the output must be sanitized before being sent back to the client, otherwise this is vulnerable to various types of XSS attacks.  See <a href=\"https://cwe.mitre.org/data/definitions/116.html\" rel=\"nofollow noreferrer\">cwe.mitre.org/data/definitions/116.html</a> and <a href=\"https://owasp.org/www-community/attacks/xss/\" rel=\"nofollow noreferrer\">owasp.org/www-community/attacks/xss</a> for more info."},{"owner":{"account_id":21966688,"reputation":1,"user_id":16243817,"display_name":"Second One"},"score":0,"creation_date":1634908724,"post_id":69700037,"comment_id":123200177,"body_markdown":"If possible can you please suggest replacement for the same","body":"If possible can you please suggest replacement for the same"},{"owner":{"account_id":21966688,"reputation":1,"user_id":16243817,"display_name":"Second One"},"score":0,"creation_date":1634909625,"post_id":69700037,"comment_id":123200178,"body_markdown":"Is escaping Only HTML solves the issue?","body":"Is escaping Only HTML solves the issue?"},{"owner":{"account_id":2983499,"reputation":11580,"user_id":2532946,"display_name":"mti2935"},"score":0,"creation_date":1634910892,"post_id":69700037,"comment_id":123200179,"body_markdown":"It&#39;s an iterative process.  Make sure the output is sanitized (by escaping HTML symbols in the output, as per the SO post above).  Then, run your vulnerability scanner again, to see if it finds anything else.  You need to repeat this process, until the scanner finds no issues.","body":"It&#39;s an iterative process.  Make sure the output is sanitized (by escaping HTML symbols in the output, as per the SO post above).  Then, run your vulnerability scanner again, to see if it finds anything else.  You need to repeat this process, until the scanner finds no issues."},{"owner":{"account_id":21966688,"reputation":1,"user_id":16243817,"display_name":"Second One"},"score":0,"creation_date":1634910984,"post_id":69700037,"comment_id":123200180,"body_markdown":"Ok will try to do that , do i face any issues in the xl file formatting?","body":"Ok will try to do that , do i face any issues in the xl file formatting?"},{"owner":{"account_id":2983499,"reputation":11580,"user_id":2532946,"display_name":"mti2935"},"score":0,"creation_date":1634919767,"post_id":69700037,"comment_id":123200181,"body_markdown":"I&#39;m voting to migrate this question to StackOverflow, where it likely can be better answered.","body":"I&#39;m voting to migrate this question to StackOverflow, where it likely can be better answered."},{"owner":{"account_id":21966688,"reputation":1,"user_id":16243817,"display_name":"Second One"},"score":0,"creation_date":1634924492,"post_id":69700037,"comment_id":123200182,"body_markdown":"Ok i appreciate for this","body":"Ok i appreciate for this"}],"owner":{"account_id":21966688,"reputation":1,"user_id":16243817,"display_name":"Second One"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635103152,"creation_date":1634898482,"question_id":69700037,"body_markdown":"\r\nI am getting Validation.EncodingRequired for this code\r\n\r\n\r\n\r\n    public ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {\r\n      FileUploadForm uploadForm = (FileUploadForm) form;\r\n      FileOutputStream outputStream = null;\r\n      FormFile formFile = null;\r\n      try {\r\n      formFile = uploadForm.getFile();\r\n      String path = getServlet().getServletContext().getRealPath(&quot;&quot;)+&quot;/&quot;+\r\n      formFile.getFileName();\r\n      outputStream = new \r\n    FileOutputStream(new File(path));\r\n      \r\n    outputStream.write(formFile.getFileData());\r\n      } \r\n      finally {\r\n      if (outputStream != null) {\r\n          outputStream.close();\r\n      }\r\n      }\r\n    uploadForm.setMessage(&quot;The file \r\n    &quot;+formFile.getFileName()+&quot; is uploaded \r\n    successfully.&quot;);\r\n    return mapping.findForward(SUCCESS);\r\n    }\r\n\r\n\r\n\r\nCan someone suggest to solve issue\r\n    \r\n    outputStream.write(formFile.getFileData())","title":"Validation.EncodingRequired CWE 116 by appscan","body":"<p>I am getting Validation.EncodingRequired for this code</p>\n<pre><code>public ActionForward execute(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception {\n  FileUploadForm uploadForm = (FileUploadForm) form;\n  FileOutputStream outputStream = null;\n  FormFile formFile = null;\n  try {\n  formFile = uploadForm.getFile();\n  String path = getServlet().getServletContext().getRealPath(&quot;&quot;)+&quot;/&quot;+\n  formFile.getFileName();\n  outputStream = new \nFileOutputStream(new File(path));\n  \noutputStream.write(formFile.getFileData());\n  } \n  finally {\n  if (outputStream != null) {\n      outputStream.close();\n  }\n  }\nuploadForm.setMessage(&quot;The file \n&quot;+formFile.getFileName()+&quot; is uploaded \nsuccessfully.&quot;);\nreturn mapping.findForward(SUCCESS);\n}\n</code></pre>\n<p>Can someone suggest to solve issue</p>\n<pre><code>outputStream.write(formFile.getFileData())\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5306534,"reputation":1353,"user_id":5076051,"display_name":"Trevor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635094131,"creation_date":1635093411,"answer_id":69698773,"question_id":69698463,"body_markdown":"Don&#39;t call observe() inside of setOnClickListener { ... }\r\n\r\nPut your call to observe and logic within outside of setOnClickListener, but keep it within onCreateView or in a separate function that&#39;s called just once within onCreateView. \r\n\r\nLiveData preserves the last value and updates observers when they begin observing. This is a nice feature so that if your view gets destroyed and recreated the data is still there and the view gets reloaded with that data, so it&#39;s not meant to be observed on every action. Only need to start observing once in onCreateView.\r\n\r\nThe observer doesn&#39;t die after one update, it lives until the lifecycle you give it dies, in this case the Fragment&#39;s viewLifecycle, and can handle repeat updates. So again, you shouldn&#39;t set up observers in setOnClickListener because that will create extra observers every time a click happens which will cause bugs like this. ","title":"observe() method gets called twice, how to prevent it?","body":"<p>Don't call observe() inside of setOnClickListener { ... }</p>\n<p>Put your call to observe and logic within outside of setOnClickListener, but keep it within onCreateView or in a separate function that's called just once within onCreateView.</p>\n<p>LiveData preserves the last value and updates observers when they begin observing. This is a nice feature so that if your view gets destroyed and recreated the data is still there and the view gets reloaded with that data, so it's not meant to be observed on every action. Only need to start observing once in onCreateView.</p>\n<p>The observer doesn't die after one update, it lives until the lifecycle you give it dies, in this case the Fragment's viewLifecycle, and can handle repeat updates. So again, you shouldn't set up observers in setOnClickListener because that will create extra observers every time a click happens which will cause bugs like this.</p>\n"}],"owner":{"account_id":23129778,"reputation":61,"user_id":17235009,"display_name":"Castro99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635103040,"creation_date":1635091235,"question_id":69698463,"body_markdown":"The observe method gets called twice, first with the last value of the variable, and then with the updated value. For me it&#39;s a big problem, because I need to show a Toast on different situations and I don&#39;t know how to fix this. For example, if I call the function with the right credentials, it shows the Toast (&quot;Login effettuato&quot;), but then if I try to login with wrong credentials, first it shows the Toast (&quot;Login effettuato&quot;), then the Toast (&quot;Errore&quot;). Please help me.    \r\n\r\n```java\r\npublic class LoginFragment extends Fragment {\r\n\r\n    private LoginViewModel loginViewModel;\r\n    private FragmentLoginBinding binding;\r\n    public static final String SHARED_PREFS = &quot;CREDENTIAL&quot;;\r\n    public static final String key = &quot;accessToken&quot;;\r\n    private ExecutorService threadPool;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        threadPool = Executors.newFixedThreadPool(5);\r\n\r\n        loginViewModel = new ViewModelProvider(this).get(LoginViewModel.class);\r\n        binding = FragmentLoginBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        ImageView backgroundLoginImg = binding.backgroundLoginImg;\r\n        Glide.with(getContext()).load(R.drawable.wood).into(backgroundLoginImg);\r\n\r\n        EditText email = binding.emailText;\r\n        EditText password = binding.editTextPassword;\r\n        Button login = binding.loginButton;\r\n\r\n        login.setOnClickListener(view -&gt; {\r\n\r\n            if (!email.getText().toString().equals(&quot;&quot;) &amp;&amp; !password.getText().toString().equals(&quot;&quot;)) {\r\n\r\n                loginViewModel.login(email.getText().toString(), password.getText().toString())\r\n                        .observe(getViewLifecycleOwner(), accessToken -&gt; {\r\n\r\n                            if (accessToken != null) {\r\n\r\n                                threadPool.execute(() -&gt; {\r\n                                    SharedPreferences sharedPreferences = LoginFragment.this.getActivity()\r\n                                            .getSharedPreferences(SHARED_PREFS, Context.MODE_PRIVATE);\r\n                                    SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                                    editor.putString(key, accessToken.getAccessToken());\r\n                                    editor.apply();\r\n                                });\r\n                                Toast.makeText(LoginFragment.this.getContext(), &quot;Login effettuato&quot;,\r\n                                        Toast.LENGTH_SHORT).show();\r\n\r\n                            } else {\r\n                                Toast.makeText(LoginFragment.this.getContext(), &quot;Errore&quot;, Toast.LENGTH_SHORT)\r\n                                        .show();\r\n                            }\r\n\r\n                        });\r\n                email.getText().clear();\r\n                password.getText().clear();\r\n\r\n            } else {\r\n                Toast.makeText(getContext(), &quot;Compilare tutti i campi&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n\r\npublic class LoginViewModel extends ViewModel {\r\n\r\n    private final Repository repository;\r\n\r\n    public LoginViewModel() {\r\n        repository = new Repository();\r\n    }\r\n\r\n    public MutableLiveData&lt;AccessToken&gt; login(String email, String password) {\r\n        return repository.onLoginClick(email, password);\r\n    }\r\n}\r\n\r\npublic class Repository {\r\n\r\n    public static MutableLiveData&lt;AccessToken&gt; accessToken;\r\n    private ExecutorService threadPool;\r\n\r\n    public Repository() {\r\n        accessToken = new MutableLiveData();\r\n        threadPool = Executors.newFixedThreadPool(8);\r\n    }\r\n\r\n    public MutableLiveData&lt;AccessToken&gt; onLoginClick(String email, String password) {\r\n\r\n        threadPool.execute(() -&gt; {\r\n            accessToken.postValue(null);\r\n            UtenteLogin utenteLogin = new UtenteLogin(email, password);\r\n            Call&lt;AccessToken&gt; call = RetrofitClient.getInstance().getMyApi().login(utenteLogin);\r\n\r\n            call.enqueue(new Callback&lt;AccessToken&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;AccessToken&gt; call, Response&lt;AccessToken&gt; response) {\r\n                    if (response.code() == 201) {\r\n                        if (response.body() != null) {\r\n                            accessToken.postValue(response.body());\r\n                        }\r\n                    } else {\r\n\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call&lt;AccessToken&gt; call, Throwable t) {\r\n                    Log.println(Log.INFO, &quot;Login&quot;, &quot;Login fallito&quot;);\r\n                }\r\n            });\r\n        });\r\n        return accessToken;\r\n    }\r\n}\r\n```\r\n","title":"observe() method gets called twice, how to prevent it?","body":"<p>The observe method gets called twice, first with the last value of the variable, and then with the updated value. For me it's a big problem, because I need to show a Toast on different situations and I don't know how to fix this. For example, if I call the function with the right credentials, it shows the Toast (&quot;Login effettuato&quot;), but then if I try to login with wrong credentials, first it shows the Toast (&quot;Login effettuato&quot;), then the Toast (&quot;Errore&quot;). Please help me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoginFragment extends Fragment {\n\n    private LoginViewModel loginViewModel;\n    private FragmentLoginBinding binding;\n    public static final String SHARED_PREFS = &quot;CREDENTIAL&quot;;\n    public static final String key = &quot;accessToken&quot;;\n    private ExecutorService threadPool;\n\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n        threadPool = Executors.newFixedThreadPool(5);\n\n        loginViewModel = new ViewModelProvider(this).get(LoginViewModel.class);\n        binding = FragmentLoginBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        ImageView backgroundLoginImg = binding.backgroundLoginImg;\n        Glide.with(getContext()).load(R.drawable.wood).into(backgroundLoginImg);\n\n        EditText email = binding.emailText;\n        EditText password = binding.editTextPassword;\n        Button login = binding.loginButton;\n\n        login.setOnClickListener(view -&gt; {\n\n            if (!email.getText().toString().equals(&quot;&quot;) &amp;&amp; !password.getText().toString().equals(&quot;&quot;)) {\n\n                loginViewModel.login(email.getText().toString(), password.getText().toString())\n                        .observe(getViewLifecycleOwner(), accessToken -&gt; {\n\n                            if (accessToken != null) {\n\n                                threadPool.execute(() -&gt; {\n                                    SharedPreferences sharedPreferences = LoginFragment.this.getActivity()\n                                            .getSharedPreferences(SHARED_PREFS, Context.MODE_PRIVATE);\n                                    SharedPreferences.Editor editor = sharedPreferences.edit();\n                                    editor.putString(key, accessToken.getAccessToken());\n                                    editor.apply();\n                                });\n                                Toast.makeText(LoginFragment.this.getContext(), &quot;Login effettuato&quot;,\n                                        Toast.LENGTH_SHORT).show();\n\n                            } else {\n                                Toast.makeText(LoginFragment.this.getContext(), &quot;Errore&quot;, Toast.LENGTH_SHORT)\n                                        .show();\n                            }\n\n                        });\n                email.getText().clear();\n                password.getText().clear();\n\n            } else {\n                Toast.makeText(getContext(), &quot;Compilare tutti i campi&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n\npublic class LoginViewModel extends ViewModel {\n\n    private final Repository repository;\n\n    public LoginViewModel() {\n        repository = new Repository();\n    }\n\n    public MutableLiveData&lt;AccessToken&gt; login(String email, String password) {\n        return repository.onLoginClick(email, password);\n    }\n}\n\npublic class Repository {\n\n    public static MutableLiveData&lt;AccessToken&gt; accessToken;\n    private ExecutorService threadPool;\n\n    public Repository() {\n        accessToken = new MutableLiveData();\n        threadPool = Executors.newFixedThreadPool(8);\n    }\n\n    public MutableLiveData&lt;AccessToken&gt; onLoginClick(String email, String password) {\n\n        threadPool.execute(() -&gt; {\n            accessToken.postValue(null);\n            UtenteLogin utenteLogin = new UtenteLogin(email, password);\n            Call&lt;AccessToken&gt; call = RetrofitClient.getInstance().getMyApi().login(utenteLogin);\n\n            call.enqueue(new Callback&lt;AccessToken&gt;() {\n                @Override\n                public void onResponse(Call&lt;AccessToken&gt; call, Response&lt;AccessToken&gt; response) {\n                    if (response.code() == 201) {\n                        if (response.body() != null) {\n                            accessToken.postValue(response.body());\n                        }\n                    } else {\n\n                    }\n                }\n\n                @Override\n                public void onFailure(Call&lt;AccessToken&gt; call, Throwable t) {\n                    Log.println(Log.INFO, &quot;Login&quot;, &quot;Login fallito&quot;);\n                }\n            });\n        });\n        return accessToken;\n    }\n}\n</code></pre>\n"},{"tags":["java","redis","jedis"],"comments":[{"owner":{"account_id":3206362,"reputation":7086,"user_id":2707363,"accept_rate":58,"display_name":"zenbeni"},"score":0,"creation_date":1431679893,"post_id":30253252,"comment_id":48610382,"body_markdown":"Serialize it using your favorite marshaller, kryo or json for instance.","body":"Serialize it using your favorite marshaller, kryo or json for instance."},{"owner":{"account_id":4837345,"reputation":201,"user_id":3903521,"display_name":"DP Dev"},"score":0,"creation_date":1431698214,"post_id":30253252,"comment_id":48622523,"body_markdown":"http://stackoverflow.com/questions/12279117/can-jedis-get-set-an-java-pojo\r\n\r\nI think my question has answered at this thread.","body":"<a href=\"http://stackoverflow.com/questions/12279117/can-jedis-get-set-an-java-pojo\" title=\"can jedis get set an java pojo\">stackoverflow.com/questions/12279117/&hellip;</a>    I think my question has answered at this thread."}],"answers":[{"tags":[],"owner":{"account_id":5667237,"reputation":5519,"user_id":4483094,"accept_rate":67,"display_name":"Karthikeyan Gopall"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1431697987,"creation_date":1431697987,"answer_id":30261255,"question_id":30253252,"body_markdown":"You can&#39;t store objects directly into redis. So convert the object into String and then put it in Redis. \r\nIn order to do that your object must be serialized. Convert the object to ByteArray and use some encoding algorithm (ex base64encoding) and convert it as String then store in Redis.\r\nWhile retrieving reverse the process, convert the String to byte array using decoding algorithm (ex: base64decoding) and the convert it to object.","title":"Using jedis How to cache Java object","body":"<p>You can't store objects directly into redis. So convert the object into String and then put it in Redis. \nIn order to do that your object must be serialized. Convert the object to ByteArray and use some encoding algorithm (ex base64encoding) and convert it as String then store in Redis.\nWhile retrieving reverse the process, convert the String to byte array using decoding algorithm (ex: base64decoding) and the convert it to object.</p>\n"},{"tags":[],"owner":{"account_id":4406705,"reputation":2296,"user_id":3590895,"accept_rate":29,"display_name":"jeorfevre"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1449453509,"creation_date":1449453509,"answer_id":34125296,"question_id":30253252,"body_markdown":"you should convert your object as a json string to store it, then read the json and transform it back to your object.\r\n\r\nyou can use Gson in order to do so.\r\n\r\n    //store\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(myObject);\r\n    jedis.set(key,json);\r\n    \r\n    //restore\r\n    String json = jedis.get(key);\r\n    MyObject object=gson.fromJson(json, MyObject.class);\r\n\r\n\r\n","title":"Using jedis How to cache Java object","body":"<p>you should convert your object as a json string to store it, then read the json and transform it back to your object.</p>\n\n<p>you can use Gson in order to do so.</p>\n\n<pre><code>//store\nGson gson = new Gson();\nString json = gson.toJson(myObject);\njedis.set(key,json);\n\n//restore\nString json = jedis.get(key);\nMyObject object=gson.fromJson(json, MyObject.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10373,"user_id":764206,"display_name":"Nikita Koksharov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1488566496,"creation_date":1472210558,"answer_id":39165165,"question_id":30253252,"body_markdown":"I would recommend to use more convenient lib to do it: [Redisson](https://redisson.org) - it&#39;s a Redis based framework for Java. \r\nIt has some advantages over Jedis\r\n\r\n1. You don&#39;t need to serialize/deserialize object by yourself each time\r\n2. You don&#39;t need to manage connection by yourself\r\n3. You can work with Redis asynchronously\r\n\r\nRedisson does it for you and even more. It supports many popular codecs like `Jackson JSON`, `Avro`, `Smile`, `CBOR`, `MsgPack`, `Kryo`, `FST`, `LZ4`, `Snappy` and `JDK Serialization`.\r\n\r\n    RBucket&lt;AnyObject&gt; bucket = redisson.getBucket(&quot;anyObject&quot;);\r\n    // set an object\r\n    bucket.set(new AnyObject());\r\n    // get an object\r\n    AnyObject myObject = bucket.get();\r\n","title":"Using jedis How to cache Java object","body":"<p>I would recommend to use more convenient lib to do it: <a href=\"https://redisson.org\" rel=\"nofollow noreferrer\">Redisson</a> - it's a Redis based framework for Java. \nIt has some advantages over Jedis</p>\n\n<ol>\n<li>You don't need to serialize/deserialize object by yourself each time</li>\n<li>You don't need to manage connection by yourself</li>\n<li>You can work with Redis asynchronously</li>\n</ol>\n\n<p>Redisson does it for you and even more. It supports many popular codecs like <code>Jackson JSON</code>, <code>Avro</code>, <code>Smile</code>, <code>CBOR</code>, <code>MsgPack</code>, <code>Kryo</code>, <code>FST</code>, <code>LZ4</code>, <code>Snappy</code> and <code>JDK Serialization</code>.</p>\n\n<pre><code>RBucket&lt;AnyObject&gt; bucket = redisson.getBucket(\"anyObject\");\n// set an object\nbucket.set(new AnyObject());\n// get an object\nAnyObject myObject = bucket.get();\n</code></pre>\n"}],"owner":{"account_id":4837345,"reputation":201,"user_id":3903521,"display_name":"DP Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28595,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1635102854,"creation_date":1431672668,"question_id":30253252,"body_markdown":"Using Redis Java client [Jedis](https://github.com/xetorthio/jedis) &lt;br/&gt; How can I cache Java Object?\r\n\r\n","title":"Using jedis How to cache Java object","body":"<p>Using Redis Java client <a href=\"https://github.com/xetorthio/jedis\" rel=\"noreferrer\">Jedis</a> <br/> How can I cache Java Object?</p>\n"},{"tags":["java","reflection","jackson"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635102211,"creation_date":1635095703,"answer_id":69699077,"question_id":69698520,"body_markdown":"You should not use `getParameterTypes` at all. You should use `getGenericParameterTypes`, to get a `Type` instead. You can then pass that `Type` to a [`TypeFactory`][1] to get a `JavaType`, which [`convertValue`][2] also accepts.\r\n\r\n    Type parameterType = method.getGenericParameterTypes()[0];\r\n    method.invoke(myBean, mapper.convertValue(\r\n            product, \r\n            mapper.getTypeFactory().constructType(parameterType)\r\n        )\r\n    );\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/type/TypeFactory.html#constructType(java.lang.reflect.Type)\r\n  [2]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue(java.lang.Object,%20com.fasterxml.jackson.databind.JavaType)","title":"Jackson TypeReference with dynamic method parameter type","body":"<p>You should not use <code>getParameterTypes</code> at all. You should use <code>getGenericParameterTypes</code>, to get a <code>Type</code> instead. You can then pass that <code>Type</code> to a <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/type/TypeFactory.html#constructType(java.lang.reflect.Type)\" rel=\"nofollow noreferrer\"><code>TypeFactory</code></a> to get a <code>JavaType</code>, which <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue(java.lang.Object,%20com.fasterxml.jackson.databind.JavaType)\" rel=\"nofollow noreferrer\"><code>convertValue</code></a> also accepts.</p>\n<pre><code>Type parameterType = method.getGenericParameterTypes()[0];\nmethod.invoke(myBean, mapper.convertValue(\n        product, \n        mapper.getTypeFactory().constructType(parameterType)\n    )\n);\n</code></pre>\n"}],"owner":{"account_id":3150070,"reputation":10126,"user_id":2663692,"accept_rate":32,"display_name":"Tal Avissar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69699077,"answer_count":1,"score":0,"last_activity_date":1635102211,"creation_date":1635091594,"question_id":69698520,"body_markdown":"I want to be able to create Jackson TypeReference with dynamic method parameter type with below example using reflection  method.getParameterTypes()[1].\r\n\r\nSince  TypeReference only takes compile type parameters but I read in SO you can do some trick to let it also to work with dynamic types.\r\n\r\n\r\n     Method method = methodsMap.getOrDefault(&quot;createXXX&quot;.toLowerCase(), null);\r\n    \r\n     \tif(method != null &amp;&amp; myBean!= null){           \r\n        \tObject retval = method.invoke(myBean, mapper.convertValue(product , new TypeReference&lt;method.getParameterTypes()[0]&gt;(){}));\r\n        }\r\n\r\nwhere method.getParameterTypes()[0] is of type of java [util generic list][1] (the type erasure issue)\r\n\r\n    \r\n\r\n&gt;  `List&lt;MyPojo&gt;`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list","title":"Jackson TypeReference with dynamic method parameter type","body":"<p>I want to be able to create Jackson TypeReference with dynamic method parameter type with below example using reflection  method.getParameterTypes()<a href=\"https://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list\">1</a>.</p>\n<p>Since  TypeReference only takes compile type parameters but I read in SO you can do some trick to let it also to work with dynamic types.</p>\n<pre><code> Method method = methodsMap.getOrDefault(&quot;createXXX&quot;.toLowerCase(), null);\n\n    if(method != null &amp;&amp; myBean!= null){           \n        Object retval = method.invoke(myBean, mapper.convertValue(product , new TypeReference&lt;method.getParameterTypes()[0]&gt;(){}));\n    }\n</code></pre>\n<p>where method.getParameterTypes()[0] is of type of java <a href=\"https://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list\">util generic list</a> (the type erasure issue)</p>\n<blockquote>\n<p><code>List&lt;MyPojo&gt;</code></p>\n</blockquote>\n"},{"tags":["python","java","performance","sockets"],"comments":[{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":1,"creation_date":1635095628,"post_id":69698945,"comment_id":123198172,"body_markdown":"Just a wild guess: Could you add an explicit &quot;close&quot; of the socket to both codes and compare again? Python&#39;s standard implementation uses mainly reference counting for garbage collection and is inefficient on multithreading. This may affect how and when the implicit close operation is executed.","body":"Just a wild guess: Could you add an explicit &quot;close&quot; of the socket to both codes and compare again? Python&#39;s standard implementation uses mainly reference counting for garbage collection and is inefficient on multithreading. This may affect how and when the implicit close operation is executed."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":5,"creation_date":1635095697,"post_id":69698945,"comment_id":123198192,"body_markdown":"Python uses reference counting and might be closing the sockets each iteration, whereas Java is pure GC and will defer the closes. That could account for the difference. What if you use a `with` statement in Python and a `try`-with-resources block in Java so both are forced to close the sockets immediately? Or, alternatively, store all the Python sockets in a list so they&#39;re not closed until the program exits.","body":"Python uses reference counting and might be closing the sockets each iteration, whereas Java is pure GC and will defer the closes. That could account for the difference. What if you use a <code>with</code> statement in Python and a <code>try</code>-with-resources block in Java so both are forced to close the sockets immediately? Or, alternatively, store all the Python sockets in a list so they&#39;re not closed until the program exits."},{"owner":{"account_id":4796966,"reputation":164,"user_id":3874627,"display_name":"zaxishere"},"score":0,"creation_date":1635096371,"post_id":69698945,"comment_id":123198380,"body_markdown":"Does connecting to a host in your local network make a difference? I tested against a local network webserver and times between python3.9 and Java are both reporting 3-4 seconds","body":"Does connecting to a host in your local network make a difference? I tested against a local network webserver and times between python3.9 and Java are both reporting 3-4 seconds"},{"owner":{"account_id":20556458,"reputation":29,"user_id":15087903,"display_name":"SayCode"},"score":1,"creation_date":1635096610,"post_id":69698945,"comment_id":123198453,"body_markdown":"I tryed as John suggested: in Python code, the sockets are created using `with` statement, and in Java code, sockets are created using `try-with-resources` block... The results are the same... **Python: 25 seconds, Java: 6 seconds**....... I tryed to store the sockets in a list and closing them before the program exits...  The results are the same: **Python: 28 seconds, Java: 6 seconds**","body":"I tryed as John suggested: in Python code, the sockets are created using <code>with</code> statement, and in Java code, sockets are created using <code>try-with-resources</code> block... The results are the same... <b>Python: 25 seconds, Java: 6 seconds</b>....... I tryed to store the sockets in a list and closing them before the program exits...  The results are the same: <b>Python: 28 seconds, Java: 6 seconds</b>"},{"owner":{"account_id":20556458,"reputation":29,"user_id":15087903,"display_name":"SayCode"},"score":2,"creation_date":1635096778,"post_id":69698945,"comment_id":123198494,"body_markdown":"@zaxishere Yes, if i connect both on localhost they have the same performance: **Python: 4 seconds | Java: 3 seconds**","body":"@zaxishere Yes, if i connect both on localhost they have the same performance: <b>Python: 4 seconds | Java: 3 seconds</b>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1635097414,"post_id":69698945,"comment_id":123198676,"body_markdown":"Your units seem to be inconsistent.  Is it _seconds_ or _ms_ (milliseconds)?","body":"Your units seem to be inconsistent.  Is it <i>seconds</i> or <i>ms</i> (milliseconds)?"},{"owner":{"account_id":20556458,"reputation":29,"user_id":15087903,"display_name":"SayCode"},"score":0,"creation_date":1635098028,"post_id":69698945,"comment_id":123198846,"body_markdown":"@JimGarrison The results are in seconds, when i mentioned &quot;(27.012101888656616 ms)&quot; i was just being more specific","body":"@JimGarrison The results are in seconds, when i mentioned &quot;(27.012101888656616 ms)&quot; i was just being more specific"},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":1,"creation_date":1635248688,"post_id":69698945,"comment_id":123240662,"body_markdown":"You could also test with Python 2 in order to see whether the additional `getpeername` call Python 3 makes makes a difference. I also noticed that Java used the IPv6 address &quot;::ffff:74.125.20.147&quot;.","body":"You could also test with Python 2 in order to see whether the additional <code>getpeername</code> call Python 3 makes makes a difference. I also noticed that Java used the IPv6 address &quot;::ffff:74.125.20.147&quot;."}],"owner":{"account_id":20556458,"reputation":29,"user_id":15087903,"display_name":"SayCode"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1635101914,"creation_date":1635094762,"question_id":69698945,"body_markdown":"I tested Python sockets vs Java sockets and I found out that Python takes 4.5x longer to connect to an server than Java.\r\n\r\nPython code:\r\n```py\r\nimport socket, time\r\n\r\nip = &quot;74.125.20.147&quot; #ip of www.google.com\r\nport = 80\r\n\r\ndef main():\r\n  st = time.time()\r\n  for i in range(10000):\r\n    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\n    s.connect((ip, port))\r\n  ed = time.time()\r\n  print(ed-st)\r\n\r\nmain()\r\n```\r\n\r\nJava code:\r\n\r\n```java\r\nimport java.net.*;\r\nimport java.io.IOException;\r\nimport java.lang.System.*;\r\n\r\nclass test{\r\n  public static void main(String[] args)throws IOException{\r\n    long st = System.currentTimeMillis();\r\n\r\n    for (int i = 0;i&lt;10000;i++){\r\n      Socket s = new Socket();\r\n      s.connect(new InetSocketAddress(&quot;74.125.20.147&quot;, 80));\r\n    }\r\n    \r\n    long ed = System.currentTimeMillis();\r\n\r\n    System.out.print(ed-st);\r\n  }\r\n}\r\n```\r\n\r\nResults:\r\n\r\n***Python: 27 seconds (27.012101888656616)***\r\n\r\n***Java: 6 seconds (6.569)***\r\n\r\nI don&#39;t know what is wrong. I ran both on same machine and both are connecting to the same IP.\r\n\r\nI tried to change my python code to use classes and tried to change DNS (even thought I was connecting to an ipv4 not domain) but nothing worked.\r\nI have tried using socket options but they didn&#39;t worked either.\r\n\r\nWhy does python takes 4.5x longer to connect since both scripts are doing the same work?","title":"Why is Python socket is 4.5x slower than Java socket to connect?","body":"<p>I tested Python sockets vs Java sockets and I found out that Python takes 4.5x longer to connect to an server than Java.</p>\n<p>Python code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import socket, time\n\nip = &quot;74.125.20.147&quot; #ip of www.google.com\nport = 80\n\ndef main():\n  st = time.time()\n  for i in range(10000):\n    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    s.connect((ip, port))\n  ed = time.time()\n  print(ed-st)\n\nmain()\n</code></pre>\n<p>Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.*;\nimport java.io.IOException;\nimport java.lang.System.*;\n\nclass test{\n  public static void main(String[] args)throws IOException{\n    long st = System.currentTimeMillis();\n\n    for (int i = 0;i&lt;10000;i++){\n      Socket s = new Socket();\n      s.connect(new InetSocketAddress(&quot;74.125.20.147&quot;, 80));\n    }\n    \n    long ed = System.currentTimeMillis();\n\n    System.out.print(ed-st);\n  }\n}\n</code></pre>\n<p>Results:</p>\n<p><em><strong>Python: 27 seconds (27.012101888656616)</strong></em></p>\n<p><em><strong>Java: 6 seconds (6.569)</strong></em></p>\n<p>I don't know what is wrong. I ran both on same machine and both are connecting to the same IP.</p>\n<p>I tried to change my python code to use classes and tried to change DNS (even thought I was connecting to an ipv4 not domain) but nothing worked.\nI have tried using socket options but they didn't worked either.</p>\n<p>Why does python takes 4.5x longer to connect since both scripts are doing the same work?</p>\n"},{"tags":["java","spring","spring-boot","exception","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":8154877,"reputation":271,"user_id":6140782,"display_name":"Stoica Raul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635100534,"creation_date":1635100534,"answer_id":69699698,"question_id":69698532,"body_markdown":"You can do whatever you want when the error is caught.\r\nBy default, the record will simply be skipped and the job will continue to process elements.\r\n\r\nYou can write the ID inside a database, you can retry, you can state how many times you want items to be skipped before stopping, etc.\r\nThe behavior is highly configurable and it depends on your outcome.\r\n\r\nAs for reading materials, I highly recommend:\r\n\r\nhttps://www.baeldung.com/spring-batch-skip-logic\r\n\r\nhttps://www.baeldung.com/spring-batch-retry-logic\r\n\r\nhttps://www.javadevjournal.com/spring-batch/spring-batch-listeners/","title":"How to correctly handle Spring Batch step writer exception in order to go ahead with other element if an exception occurs writing an element?","body":"<p>You can do whatever you want when the error is caught.\nBy default, the record will simply be skipped and the job will continue to process elements.</p>\n<p>You can write the ID inside a database, you can retry, you can state how many times you want items to be skipped before stopping, etc.\nThe behavior is highly configurable and it depends on your outcome.</p>\n<p>As for reading materials, I highly recommend:</p>\n<p><a href=\"https://www.baeldung.com/spring-batch-skip-logic\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-batch-skip-logic</a></p>\n<p><a href=\"https://www.baeldung.com/spring-batch-retry-logic\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-batch-retry-logic</a></p>\n<p><a href=\"https://www.javadevjournal.com/spring-batch/spring-batch-listeners/\" rel=\"nofollow noreferrer\">https://www.javadevjournal.com/spring-batch/spring-batch-listeners/</a></p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69699698,"answer_count":1,"score":1,"last_activity_date":1635100534,"creation_date":1635091638,"question_id":69698532,"body_markdown":"I am working on a Spring Batch application and I have the following doubt about what could be a smart way to handle exceptions. Following my situation: my job is composed by a single step. This single step contains a writer component that call an external API in order to write the current element on an external system. This is my writer class code:\r\n\r\n\t@Component\r\n\tpublic class NotaryWriter implements ItemWriter&lt;NotaryDetails&gt; {\r\n\t\t\r\n\t\t//int counter = 1;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate WpService wpService;\r\n\r\n\t\tpublic NotaryWriter(WpService wpService) {\r\n\t\t\tsuper();\r\n\t\t\tthis.wpService = wpService;\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void write(List&lt;? extends NotaryDetails&gt; items) throws Exception {\r\n\t\t\t\r\n\t\t\titems.stream().forEach(currentNotary -&gt; {\r\n\t\t\t\tSystem.out.println(&quot;NotaryWriter - WRITING OUTPUT: &quot; + currentNotary.toString());\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\t\r\n\t\t\t\t\t//System.out.println(&quot;############################################################################# NotaryWriter COUNTER: &quot; + this.counter);\r\n\r\n\t\t\t\t\tint newNotaryPostId = this.wpService.insertOrUpdateNotaryAsWpPost(currentNotary);\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t//System.out.println(&quot;INSERTED or UPDATED NOTARY: &quot; + currentNotary.toString());\r\n\t\t\t\t\t//counter++;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (JsonProcessingException | UnsupportedEncodingException | URISyntaxException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nBasically the **write()** method call the **insertOrUpdateNotaryAsWpPost()** service method in order to call an external REST API and &quot;write&quot; the current element on an external system. This service method  might return the exceptions listed in the catch.\r\n\r\nWhat happens if one of these exception happens and the code enter in this **catch**? The element is skipped (it will not be written in the external system or my Job will fail?)\r\n\r\nIn case of Job failure how can I handle this situation in order to simply skip this record and go ahead with the others?\r\n\r\n","title":"How to correctly handle Spring Batch step writer exception in order to go ahead with other element if an exception occurs writing an element?","body":"<p>I am working on a Spring Batch application and I have the following doubt about what could be a smart way to handle exceptions. Following my situation: my job is composed by a single step. This single step contains a writer component that call an external API in order to write the current element on an external system. This is my writer class code:</p>\n<pre><code>@Component\npublic class NotaryWriter implements ItemWriter&lt;NotaryDetails&gt; {\n    \n    //int counter = 1;\n    \n    @Autowired\n    private WpService wpService;\n\n    public NotaryWriter(WpService wpService) {\n        super();\n        this.wpService = wpService;\n    }\n\n\n    @Override\n    public void write(List&lt;? extends NotaryDetails&gt; items) throws Exception {\n        \n        items.stream().forEach(currentNotary -&gt; {\n            System.out.println(&quot;NotaryWriter - WRITING OUTPUT: &quot; + currentNotary.toString());\n            \n            try {\n                \n                //System.out.println(&quot;############################################################################# NotaryWriter COUNTER: &quot; + this.counter);\n\n                int newNotaryPostId = this.wpService.insertOrUpdateNotaryAsWpPost(currentNotary);   \n                \n                //System.out.println(&quot;INSERTED or UPDATED NOTARY: &quot; + currentNotary.toString());\n                //counter++;\n                        \n                \n            } catch (JsonProcessingException | UnsupportedEncodingException | URISyntaxException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        });\n                \n    }\n    \n}\n</code></pre>\n<p>Basically the <strong>write()</strong> method call the <strong>insertOrUpdateNotaryAsWpPost()</strong> service method in order to call an external REST API and &quot;write&quot; the current element on an external system. This service method  might return the exceptions listed in the catch.</p>\n<p>What happens if one of these exception happens and the code enter in this <strong>catch</strong>? The element is skipped (it will not be written in the external system or my Job will fail?)</p>\n<p>In case of Job failure how can I handle this situation in order to simply skip this record and go ahead with the others?</p>\n"},{"tags":["java","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":19837960,"reputation":13,"user_id":14531206,"display_name":"ontwikkelaar15"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635100349,"creation_date":1635100349,"answer_id":69699676,"question_id":69498247,"body_markdown":"I achieved my goal by working with MethodChannel: [platform channels][1]\r\n\r\n\r\n  [1]: https://flutter.dev/docs/development/platform-integration/platform-channels","title":"pushRoute from Java on new intent not working","body":"<p>I achieved my goal by working with MethodChannel: <a href=\"https://flutter.dev/docs/development/platform-integration/platform-channels\" rel=\"nofollow noreferrer\">platform channels</a></p>\n"}],"owner":{"account_id":19837960,"reputation":13,"user_id":14531206,"display_name":"ontwikkelaar15"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69699676,"answer_count":1,"score":0,"last_activity_date":1635100349,"creation_date":1633706666,"question_id":69498247,"body_markdown":"I am trying to open a page in flutter from the onNewIntent function in Java. However, it doesn&#39;t work. What am I doing wrong?\r\n\r\nJava\r\n\r\n        @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n\r\n        if (Intent.ACTION_VIEW.equals(intent.getAction())) {\r\n            Uri uri = intent.getData();\r\n            String paymentId = uri.getQueryParameter(&quot;id&quot;);\r\n            intent.putExtra(&quot;paymentId&quot;, paymentId);\r\n\r\n            FlutterEngine flutterEngine = new FlutterEngine(this);\r\n            flutterEngine.getDartExecutor().executeDartEntrypoint(\r\n                    DartEntrypoint.createDefault()\r\n            );\r\n\r\n            flutterEngine.getNavigationChannel().pushRoute(&quot;process&quot;);\r\n        }\r\n    }\r\n\r\nFlutter\r\n\r\n    Future&lt;void&gt; main(List&lt;String&gt; args) async {\r\n     WidgetsFlutterBinding.ensureInitialized();\r\n    \r\n      runApp(MaterialApp(\r\n        debugShowCheckedModeBanner: false,\r\n        initialRoute: &quot;/&quot;,\r\n        routes: {\r\n          &#39;/&#39;: (context) =&gt; Init(),\r\n          &#39;/process&#39;: (context) =&gt; StartProcess(),\r\n        },\r\n      ));\r\n    }\r\n\r\nWhat i am trying to do is open a browser to make a payment. When the browser closes, I return to the onNewIntent function. From there I want flutter to open the process page. Maybe there is another way to get this done?","title":"pushRoute from Java on new intent not working","body":"<p>I am trying to open a page in flutter from the onNewIntent function in Java. However, it doesn't work. What am I doing wrong?</p>\n<p>Java</p>\n<pre><code>    @Override\nprotected void onNewIntent(Intent intent) {\n    super.onNewIntent(intent);\n\n    if (Intent.ACTION_VIEW.equals(intent.getAction())) {\n        Uri uri = intent.getData();\n        String paymentId = uri.getQueryParameter(&quot;id&quot;);\n        intent.putExtra(&quot;paymentId&quot;, paymentId);\n\n        FlutterEngine flutterEngine = new FlutterEngine(this);\n        flutterEngine.getDartExecutor().executeDartEntrypoint(\n                DartEntrypoint.createDefault()\n        );\n\n        flutterEngine.getNavigationChannel().pushRoute(&quot;process&quot;);\n    }\n}\n</code></pre>\n<p>Flutter</p>\n<pre><code>Future&lt;void&gt; main(List&lt;String&gt; args) async {\n WidgetsFlutterBinding.ensureInitialized();\n\n  runApp(MaterialApp(\n    debugShowCheckedModeBanner: false,\n    initialRoute: &quot;/&quot;,\n    routes: {\n      '/': (context) =&gt; Init(),\n      '/process': (context) =&gt; StartProcess(),\n    },\n  ));\n}\n</code></pre>\n<p>What i am trying to do is open a browser to make a payment. When the browser closes, I return to the onNewIntent function. From there I want flutter to open the process page. Maybe there is another way to get this done?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1634815039,"post_id":69660702,"comment_id":123130319,"body_markdown":"Are you getting some error? Or do you need do this in specific lib?","body":"Are you getting some error? Or do you need do this in specific lib?"},{"owner":{"account_id":22648711,"reputation":1,"user_id":16823714,"display_name":"Programmer"},"score":0,"creation_date":1634882403,"post_id":69660702,"comment_id":123150424,"body_markdown":"yes i am changing a small project  to jpa repository which was previously done in hibernate using dao. and i am confused how to put native query for this","body":"yes i am changing a small project  to jpa repository which was previously done in hibernate using dao. and i am confused how to put native query for this"}],"owner":{"account_id":22648711,"reputation":1,"user_id":16823714,"display_name":"Programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635100055,"creation_date":1634813895,"question_id":69660702,"body_markdown":"```java\r\npublic List&lt;LoginDetails&gt; getLoginDetails(String userId) {\r\n\r\n    Session session = sessionFactory.getCurrentSession();\r\n\r\n    // LoginDetails loginDetails = null;\r\n\r\n    Criteria criteria = session.createCriteria(LoginDetails.class)\r\n                .addOrder(Order.desc(&quot;login_date&quot;))\r\n                .add(Restrictions.eq(&quot;user_id&quot;, userId))\r\n                .add(Restrictions.eq(&quot;live_ind&quot;, true));\r\n\r\n    criteria.setMaxResults(2);\r\n\r\n    List&lt;LoginDetails&gt; details = criteria.list();\r\n\r\n\r\n    return details;\r\n}\r\n```\r\nI am trying to use the above method in jpa repository. How do I write a query for the above code snippet?","title":"How to write Query in JPA Repository for the following hibernate code snipet?","body":"<pre class=\"lang-java prettyprint-override\"><code>public List&lt;LoginDetails&gt; getLoginDetails(String userId) {\n\n    Session session = sessionFactory.getCurrentSession();\n\n    // LoginDetails loginDetails = null;\n\n    Criteria criteria = session.createCriteria(LoginDetails.class)\n                .addOrder(Order.desc(&quot;login_date&quot;))\n                .add(Restrictions.eq(&quot;user_id&quot;, userId))\n                .add(Restrictions.eq(&quot;live_ind&quot;, true));\n\n    criteria.setMaxResults(2);\n\n    List&lt;LoginDetails&gt; details = criteria.list();\n\n\n    return details;\n}\n</code></pre>\n<p>I am trying to use the above method in jpa repository. How do I write a query for the above code snippet?</p>\n"},{"tags":["java","memory","jar"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279360114,"creation_date":1279360114,"answer_id":3270976,"question_id":3270871,"body_markdown":"Have you had a look at the URLClassloader class yet?\r\n\r\nThe JarClassloader here might be useful:  http://www.java.happycodings.com/Other/code27.html","title":"In memory jar / class file execution","body":"<p>Have you had a look at the URLClassloader class yet?</p>\n\n<p>The JarClassloader here might be useful:  <a href=\"http://www.java.happycodings.com/Other/code27.html\" rel=\"nofollow noreferrer\">http://www.java.happycodings.com/Other/code27.html</a></p>\n"},{"tags":[],"owner":{"account_id":169148,"reputation":3473,"user_id":395072,"display_name":"Manish Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279498318,"creation_date":1279498318,"answer_id":3277764,"question_id":3270871,"body_markdown":"I will suggest have a look at http://jcloader.sourceforge.net/\r\n\r\nThis has better flexibility and is quite feature rich.\r\n\r\n\r\n      JarClassLoader jcl = new JarClassLoader();\r\n    \r\n      //Loading classes from different sources\r\n      jcl.add(&quot;myjar.jar&quot;);\r\n      jcl.add(new URL(&quot;http://myserver.com/myjar.jar&quot;));\r\n      jcl.add(new FileInputStream(&quot;myotherjar.jar&quot;));\r\n      jcl.add(&quot;myclassfolder/&quot;);\r\n    \r\n      //Recursively load all jar files in the folder/sub-folder(s)\r\n      jcl.add(&quot;myjarlib/&quot;);\r\n    \r\n      JclObjectFactory factory = JclObjectFactory.getInstance();\r\n    \r\n      //Create object of loaded class\r\n      Object obj = factory.create(jcl, &quot;mypack.MyClass&quot;);\r\n        \r\n    \r\n         \r\n\r\n","title":"In memory jar / class file execution","body":"<p>I will suggest have a look at <a href=\"http://jcloader.sourceforge.net/\" rel=\"nofollow noreferrer\">http://jcloader.sourceforge.net/</a></p>\n\n<p>This has better flexibility and is quite feature rich.</p>\n\n<pre><code>  JarClassLoader jcl = new JarClassLoader();\n\n  //Loading classes from different sources\n  jcl.add(\"myjar.jar\");\n  jcl.add(new URL(\"http://myserver.com/myjar.jar\"));\n  jcl.add(new FileInputStream(\"myotherjar.jar\"));\n  jcl.add(\"myclassfolder/\");\n\n  //Recursively load all jar files in the folder/sub-folder(s)\n  jcl.add(\"myjarlib/\");\n\n  JclObjectFactory factory = JclObjectFactory.getInstance();\n\n  //Create object of loaded class\n  Object obj = factory.create(jcl, \"mypack.MyClass\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":168831,"reputation":886,"user_id":394525,"display_name":"simontuffs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279694416,"creation_date":1279582141,"answer_id":3285918,"question_id":3270871,"body_markdown":"Further Edit:\r\n\r\nI scanned the web and came across this excellent article which may also have a bearing on your question: http://www.szegedi.org/articles/remotejars.html\r\n\r\nIn which case most of what I wrote below is irrelevant, but I&#39;ll leave it anyway just in case.\r\n\r\nEdit:\r\n\r\nOk, I think I&#39;m getting a better picture of your requirements.  Requirements are tricky though, so let me tell you what I think you&#39;re trying to do, and then I&#39;ll see what solutions that suggests.  I probably will get this wrong, then we do it again.\r\n\r\nRequirements:\r\n\r\nA distributed caching mechanism for serving WebStart applications.  The applications (.jars) change on a regular basis.  They are self-contained.  You want to have a local-cache able to serve the Webstart jar files obtained from a central server, keeping them in memory.  I do not understand your requirements for Exit.\r\n\r\nSolutions?\r\n\r\nWhat you may be looking for is a web-server that can host a webapp that will read updated application jars into memory, then serve them to the webstart launcher.  You will need to use a web-server such as Jetty/Tomcat, and write a simple webapp to run under it.  The webapp will poll the central server for application updates, and will make the application jars available to webstart through URLs which it serves.  Polling the central server probably makes more sense than having the central server push new applications to the local servers for reasons of firewall and scalability. \r\n\r\nI don&#39;t know of any off-the-shelf webapps that do this, there may be one.\r\n\r\nBut like I said, I probably still don&#39;t get this.  Requirements: got to love them.\r\n\r\n---\r\nI&#39;m going to make some assumptions in this answer, based on your question.  It sounds like you want to cache the &quot;app.jar&quot; from the remote machine, for the lifetime of the &quot;load.jar&quot; on the local machine, in order to allow isolate &quot;load.jar&quot; from changes to &quot;app.jar&quot; during its lifetime.  This seems like a good idea: I would expect that if you use an URLClassLoader to bring &quot;app.jar&quot; into the &quot;load.jar&quot; space, then an update mid-way through execution could wreak havoc.\r\n\r\nIt also sounds like you don&#39;t want to have &quot;load.jar&quot; make a disk-based copy of the &quot;app.jar&quot; -- I think this is a reasonable goal: who wants to have old jar files scattered around on the machine?  who wants permission issues relating to trying to write temporary files?  \r\n\r\nGiven these goals, you need to find or implement a classloader that makes a snapshot of &quot;app.jar&quot; when &quot;load.jar&quot; first hits a class inside it.  This isn&#39;t hard: I had to do something similar in my One-JAR JarClassLoader, which loads Jar files from inside Jar files.  During startup it loads all found bytes into memory, then resolves classes on demand using that memory store.  While possibly less efficient than lazy-loading, it&#39;s fast, and stable, and would solve your problem.\r\n\r\nUnfortunately, One-JAR does not allow network (or file) resources to be cached in this manner.  It uses delegation through a normal URL classloader, which would make it not cache your remote resources.\r\n\r\nI suggest you take a look at the CVS repository: http://one-jar.cvs.sourceforge.net/viewvc/one-jar/one-jar/src/com/simontuffs/onejar/JarClassLoader.java?revision=1.58&amp;view=markup\r\n\r\naround line 678.  Don&#39;t be daunted by the size of this class, its a bunch of special cases to handle, well, special cases.  \r\n\r\nIf I had to create something from scratch, I would subclass URLClassLoader, override the loadClass, getResource, and findResource methods (see for example line 281 where One-JAR does this for its own class-loader inversion needs), put in bytecode caching by loading the entire &quot;app.jar&quot; into memory as a byte array hashmap indexed by class/resource name keys (this is One-JAR again), and then you&#39;d be cached in memory.\r\n\r\nI hope this helps.\r\n\r\n--simon.","title":"In memory jar / class file execution","body":"<p>Further Edit:</p>\n\n<p>I scanned the web and came across this excellent article which may also have a bearing on your question: <a href=\"http://www.szegedi.org/articles/remotejars.html\" rel=\"nofollow noreferrer\">http://www.szegedi.org/articles/remotejars.html</a></p>\n\n<p>In which case most of what I wrote below is irrelevant, but I'll leave it anyway just in case.</p>\n\n<p>Edit:</p>\n\n<p>Ok, I think I'm getting a better picture of your requirements.  Requirements are tricky though, so let me tell you what I think you're trying to do, and then I'll see what solutions that suggests.  I probably will get this wrong, then we do it again.</p>\n\n<p>Requirements:</p>\n\n<p>A distributed caching mechanism for serving WebStart applications.  The applications (.jars) change on a regular basis.  They are self-contained.  You want to have a local-cache able to serve the Webstart jar files obtained from a central server, keeping them in memory.  I do not understand your requirements for Exit.</p>\n\n<p>Solutions?</p>\n\n<p>What you may be looking for is a web-server that can host a webapp that will read updated application jars into memory, then serve them to the webstart launcher.  You will need to use a web-server such as Jetty/Tomcat, and write a simple webapp to run under it.  The webapp will poll the central server for application updates, and will make the application jars available to webstart through URLs which it serves.  Polling the central server probably makes more sense than having the central server push new applications to the local servers for reasons of firewall and scalability. </p>\n\n<p>I don't know of any off-the-shelf webapps that do this, there may be one.</p>\n\n<p>But like I said, I probably still don't get this.  Requirements: got to love them.</p>\n\n<hr>\n\n<p>I'm going to make some assumptions in this answer, based on your question.  It sounds like you want to cache the \"app.jar\" from the remote machine, for the lifetime of the \"load.jar\" on the local machine, in order to allow isolate \"load.jar\" from changes to \"app.jar\" during its lifetime.  This seems like a good idea: I would expect that if you use an URLClassLoader to bring \"app.jar\" into the \"load.jar\" space, then an update mid-way through execution could wreak havoc.</p>\n\n<p>It also sounds like you don't want to have \"load.jar\" make a disk-based copy of the \"app.jar\" -- I think this is a reasonable goal: who wants to have old jar files scattered around on the machine?  who wants permission issues relating to trying to write temporary files?  </p>\n\n<p>Given these goals, you need to find or implement a classloader that makes a snapshot of \"app.jar\" when \"load.jar\" first hits a class inside it.  This isn't hard: I had to do something similar in my One-JAR JarClassLoader, which loads Jar files from inside Jar files.  During startup it loads all found bytes into memory, then resolves classes on demand using that memory store.  While possibly less efficient than lazy-loading, it's fast, and stable, and would solve your problem.</p>\n\n<p>Unfortunately, One-JAR does not allow network (or file) resources to be cached in this manner.  It uses delegation through a normal URL classloader, which would make it not cache your remote resources.</p>\n\n<p>I suggest you take a look at the CVS repository: <a href=\"http://one-jar.cvs.sourceforge.net/viewvc/one-jar/one-jar/src/com/simontuffs/onejar/JarClassLoader.java?revision=1.58&amp;view=markup\" rel=\"nofollow noreferrer\">http://one-jar.cvs.sourceforge.net/viewvc/one-jar/one-jar/src/com/simontuffs/onejar/JarClassLoader.java?revision=1.58&amp;view=markup</a></p>\n\n<p>around line 678.  Don't be daunted by the size of this class, its a bunch of special cases to handle, well, special cases.  </p>\n\n<p>If I had to create something from scratch, I would subclass URLClassLoader, override the loadClass, getResource, and findResource methods (see for example line 281 where One-JAR does this for its own class-loader inversion needs), put in bytecode caching by loading the entire \"app.jar\" into memory as a byte array hashmap indexed by class/resource name keys (this is One-JAR again), and then you'd be cached in memory.</p>\n\n<p>I hope this helps.</p>\n\n<p>--simon.</p>\n"},{"tags":[],"owner":{"account_id":168831,"reputation":886,"user_id":394525,"display_name":"simontuffs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635100041,"creation_date":1279705362,"answer_id":3297957,"question_id":3270871,"body_markdown":"OK.  Before I put the link to the szegedi article into my previous answer (honest), I prototyped a jar-launcher that could handle URLs.   Like the author said, it wasn&#39;t hard, probably isn&#39;t complete.  Attached below.  I think this is 1/3 of what you need. Your user says (something like):\r\n\r\n```shell\r\njava -jar load.jar http://localhost:8080/app.jar\r\n```\r\n\r\nload.jar has two roles: (1) invoke JarLauncher (below) as its main class (2) serve app.jar on a localhost port (before invoking the JarLauncher).  load.jar therefore reads its arguments to figure out which app to run.\r\n\r\nFinally (the hard bit): you have to make URLClassLoader not hit the temporary disk.  As the szegedi article said, that isn&#39;t easy.  Alternatively, you can write your own network-aware classloader that doesn&#39;t disk-cache, like my first suggestion loading the URL into memory as a byte-stream from a URL connection,  decoding it as a JarInputStream, and satisfying calls to loadClass/findResource from that in-memory stream.  \r\n\r\nYou have quite a lot of work ahead of you.  Good luck.\r\n\r\nApologies for the size of the license text, but it lets you do what you like with the code as long as you don&#39;t blame me (BSD).\r\n\r\n--simon.\r\n\r\n---\r\n\r\n```java\r\n/*\r\n * One-JAR(TM) (http://www.simontuffs.com/one-jar).  Copyright (c) 2004-2010, \r\n * P. Simon Tuffs (simon@simontuffs.com).   All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * Redistributions of source code must retain the above copyright notice, this\r\n * list of conditions and the following disclaimer.\r\n *\r\n * Redistributions in binary form must reproduce the above copyright notice,\r\n * this list of conditions and the following disclaimer in the documentation\r\n * and/or other materials provided with the distribution.  \r\n *\r\n * Neither the name of P. Simon Tuffs, nor the names of any contributors, \r\n * nor the name One-JAR may be used to endorse or promote products derived \r\n * from this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * Including this file inside the built One-JAR file conforms with these terms.\r\n */\r\n\r\nimport java.lang.reflect.Method;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLClassLoader;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.jar.JarInputStream;\r\n\r\n/**\r\n * Programmatic equivalent of what happens when you say &quot;java -jar &amp;lt;jar-file.jar&gt;&quot;.\r\n * A better solution to debugging/running Jar files inside an IDE.\r\n * @author simon\r\n *\r\n */\r\npublic class JarLauncher {\r\n\r\n    public static URL getURL(String string) throws MalformedURLException {\r\n        try {\r\n            return new URL(string);\r\n        } catch (MalformedURLException x) {\r\n            return new URL(&quot;file:&quot; + string);\r\n        }\r\n    }\r\n    \r\n    public static void main(String args[]) throws Exception {\r\n        if (args.length &amp;lt; 1) {\r\n            System.out.println(&quot;Usage: java [-Dkey=value...] JarLauncher &amp;lt;jar-file.jar&gt;&quot;);\r\n            System.exit(1);\r\n        }\r\n        String jar = args[0];\r\n        args = Arrays.copyOfRange(args, 1, args.length);\r\n        List&lt;URL&gt; urls = new ArrayList&amp;lt;URL&gt;();\r\n        // Main jar on the URL path.\r\n        // Dig out the main class.\r\n        urls.add(getURL(jar));\r\n        URL jarurl = urls.get(0);\r\n        JarInputStream jis = new JarInputStream(jarurl.openStream());\r\n        String main = jis.getManifest().getMainAttributes().getValue(&quot;Main-Class&quot;);\r\n        // OK to split on space, because embedded space is %20\r\n        String classpaths[] = jis.getManifest().getMainAttributes().getValue(&quot;Class-Path&quot;).split(&quot; &quot;);\r\n        for (String classpath: classpaths) {\r\n            urls.add(getURL(classpath));\r\n        }\r\n        URLClassLoader loader = new URLClassLoader(urls.toArray(new URL[0]));\r\n        Class&lt;?&gt; cls = loader.loadClass(main);\r\n        Thread.currentThread().setContextClassLoader(loader);\r\n        Method m = cls.getMethod(&quot;main&quot;, new Class[]{new String[0].getClass()});\r\n        m.invoke(null, new Object[]{args});\r\n        \r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"In memory jar / class file execution","body":"<p>OK.  Before I put the link to the szegedi article into my previous answer (honest), I prototyped a jar-launcher that could handle URLs.   Like the author said, it wasn't hard, probably isn't complete.  Attached below.  I think this is 1/3 of what you need. Your user says (something like):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java -jar load.jar http://localhost:8080/app.jar\n</code></pre>\n<p>load.jar has two roles: (1) invoke JarLauncher (below) as its main class (2) serve app.jar on a localhost port (before invoking the JarLauncher).  load.jar therefore reads its arguments to figure out which app to run.</p>\n<p>Finally (the hard bit): you have to make URLClassLoader not hit the temporary disk.  As the szegedi article said, that isn't easy.  Alternatively, you can write your own network-aware classloader that doesn't disk-cache, like my first suggestion loading the URL into memory as a byte-stream from a URL connection,  decoding it as a JarInputStream, and satisfying calls to loadClass/findResource from that in-memory stream.</p>\n<p>You have quite a lot of work ahead of you.  Good luck.</p>\n<p>Apologies for the size of the license text, but it lets you do what you like with the code as long as you don't blame me (BSD).</p>\n<p>--simon.</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * One-JAR(TM) (http://www.simontuffs.com/one-jar).  Copyright (c) 2004-2010, \n * P. Simon Tuffs (simon@simontuffs.com).   All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.  \n *\n * Neither the name of P. Simon Tuffs, nor the names of any contributors, \n * nor the name One-JAR may be used to endorse or promote products derived \n * from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n *\n * Including this file inside the built One-JAR file conforms with these terms.\n */\n\nimport java.lang.reflect.Method;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.jar.JarInputStream;\n\n/**\n * Programmatic equivalent of what happens when you say &quot;java -jar &amp;lt;jar-file.jar&gt;&quot;.\n * A better solution to debugging/running Jar files inside an IDE.\n * @author simon\n *\n */\npublic class JarLauncher {\n\n    public static URL getURL(String string) throws MalformedURLException {\n        try {\n            return new URL(string);\n        } catch (MalformedURLException x) {\n            return new URL(&quot;file:&quot; + string);\n        }\n    }\n    \n    public static void main(String args[]) throws Exception {\n        if (args.length &amp;lt; 1) {\n            System.out.println(&quot;Usage: java [-Dkey=value...] JarLauncher &amp;lt;jar-file.jar&gt;&quot;);\n            System.exit(1);\n        }\n        String jar = args[0];\n        args = Arrays.copyOfRange(args, 1, args.length);\n        List&lt;URL&gt; urls = new ArrayList&amp;lt;URL&gt;();\n        // Main jar on the URL path.\n        // Dig out the main class.\n        urls.add(getURL(jar));\n        URL jarurl = urls.get(0);\n        JarInputStream jis = new JarInputStream(jarurl.openStream());\n        String main = jis.getManifest().getMainAttributes().getValue(&quot;Main-Class&quot;);\n        // OK to split on space, because embedded space is %20\n        String classpaths[] = jis.getManifest().getMainAttributes().getValue(&quot;Class-Path&quot;).split(&quot; &quot;);\n        for (String classpath: classpaths) {\n            urls.add(getURL(classpath));\n        }\n        URLClassLoader loader = new URLClassLoader(urls.toArray(new URL[0]));\n        Class&lt;?&gt; cls = loader.loadClass(main);\n        Thread.currentThread().setContextClassLoader(loader);\n        Method m = cls.getMethod(&quot;main&quot;, new Class[]{new String[0].getClass()});\n        m.invoke(null, new Object[]{args});\n        \n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":168855,"reputation":284,"user_id":394560,"accept_rate":40,"display_name":"Kapil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6858,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":3297957,"answer_count":4,"score":4,"last_activity_date":1635100041,"creation_date":1279356862,"question_id":3270871,"body_markdown":"I have a jar file (say app.jar) in a certain location available as a file/stream from an http server.  The problem is that app.jar is itself a frequently updated jar file being updated regularly at the server.\r\nI have another jar file (say load.jar) which is simply downloadable by any user.\r\nAt runtime, the user runs the load.jar, which is required to load the app.jar in a separate process keeping the app.jar in memory (no cacheing to disk), then execute the app.jar and terminate itself (load.jar).\r\nIs it possible to be done?  Any help is highly appreciated.\r\nThanks in advance.\r\nRegards,\r\nKT\r\n\r\n\r\n---------------------------Update.\r\n\r\n\r\nHi,\r\n\r\nThanks all for the reply.  However, I guess I have not given a complete picture.\r\nAn image ***[link text][1]*** is attached depicting the scenario.\r\n4 jars (the actual common executors) are hosted on a central server.  These are updated frequently (probably 3-4 times a day initially down to once a day eventually).\r\nA local server at one of the member is hosted which is initialised.\r\nThe launcher on the local server downloads all the 4 binaries and keeps it in memory - no cacheing to disk.  These jar files are self-sufficient and are not dependent on any library on the &quot;Local Server&quot; - they in fact invoke jars from the &quot;Local Server&quot;.\r\nThe &quot;client&quot; jar eventually is hosted with the &quot;Local Server&quot; and forwarded to its clients on demand via webapp by the &quot;Local Server&quot;.\r\nAlso, the Launcher needs to exit by invoking the downloaded Main jar from the server in a separate JVM.\r\n\r\nRegards,\r\nKT\r\n\r\n\r\n  [1]: http://www.freeimagehosting.net/image.php?1ec6fd4363.jpg","title":"In memory jar / class file execution","body":"<p>I have a jar file (say app.jar) in a certain location available as a file/stream from an http server.  The problem is that app.jar is itself a frequently updated jar file being updated regularly at the server.\nI have another jar file (say load.jar) which is simply downloadable by any user.\nAt runtime, the user runs the load.jar, which is required to load the app.jar in a separate process keeping the app.jar in memory (no cacheing to disk), then execute the app.jar and terminate itself (load.jar).\nIs it possible to be done?  Any help is highly appreciated.\nThanks in advance.\nRegards,\nKT</p>\n\n<p>---------------------------Update.</p>\n\n<p>Hi,</p>\n\n<p>Thanks all for the reply.  However, I guess I have not given a complete picture.\nAn image <strong><em><a href=\"http://www.freeimagehosting.net/image.php?1ec6fd4363.jpg\" rel=\"nofollow noreferrer\">link text</a></em></strong> is attached depicting the scenario.\n4 jars (the actual common executors) are hosted on a central server.  These are updated frequently (probably 3-4 times a day initially down to once a day eventually).\nA local server at one of the member is hosted which is initialised.\nThe launcher on the local server downloads all the 4 binaries and keeps it in memory - no cacheing to disk.  These jar files are self-sufficient and are not dependent on any library on the \"Local Server\" - they in fact invoke jars from the \"Local Server\".\nThe \"client\" jar eventually is hosted with the \"Local Server\" and forwarded to its clients on demand via webapp by the \"Local Server\".\nAlso, the Launcher needs to exit by invoking the downloaded Main jar from the server in a separate JVM.</p>\n\n<p>Regards,\nKT</p>\n"},{"tags":["java","dataframe","apache-spark","dataset"],"comments":[{"owner":{"account_id":9154396,"reputation":4513,"user_id":6807769,"display_name":"Vincent Doba"},"score":1,"creation_date":1635015621,"post_id":69689931,"comment_id":123184429,"body_markdown":"What is the implementation of your `MapReducer` class ? Can you add it to your question ? Thanks !","body":"What is the implementation of your <code>MapReducer</code> class ? Can you add it to your question ? Thanks !"}],"owner":{"account_id":12401345,"reputation":35,"user_id":11641277,"display_name":"Shariar Kabir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635099888,"creation_date":1635005940,"question_id":69689931,"body_markdown":"When I use this as my reduce function\r\n```\r\npublic Integer addCount(Integer integer1, Integer integer2) {\r\n        Integer ret =integer1+integer2;\r\n        return ret;\r\n    }\r\n```\r\nthe reduce function given below returns the correct value\r\n```\r\nInteger mapReduce1 = df1.reduce((ReduceFunction&lt;Integer&gt;) mapReduce::addCount);\r\n```\r\n\r\nBut when I try to use reduce using an object of My class like below:\r\n```\r\n public MapReducer addCount(MapReducer mapReduce1, MapReducer mapReduce2) {\r\n        MapReducer ret = new MapReducer(mapReduce1.count+ mapReduce2.count);\r\n        return ret;\r\n```\r\nThe reduce function returns `correct_value + 5`\r\n\r\n```\r\nMapReducer mapReduce1 = df.reduce((ReduceFunction&lt;MapReducer&gt;) mapReduce::addCount);\r\n```\r\n\r\nHere MapReducer is a simple class with only one `public` attribute `count` and it&#39;s getter and setter\r\n\r\nWhat is going on here? How can I apply rece on a class object properly\r\n\r\nMapReducer class:\r\n```\r\npackage algorithm;\r\n\r\nimport org.apache.spark.sql.Row;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class MapReducer implements Serializable {\r\n    public int count;\r\n\r\n    public int getCount() {\r\n        return count;\r\n    }\r\n\r\n    public void setCount(int count) {\r\n        this.count = count;\r\n    }\r\n\r\n    public MapReducer incrementCount(Row row){\r\n        this.count++;\r\n        return this;\r\n    }\r\n    public Integer addCount(Integer integer1, Integer integer2) {\r\n        return integer1+integer2;\r\n    }\r\n\r\n    public MapReducer addCount(MapReducer sample1, MapReducer sample2) {\r\n\r\n        MapReducer ret = new MapReducer();\r\n        ret.count = sample1.count+ sample2.count;\r\n\r\n        return ret;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAlso, I used the following to create the `Dataset`\r\n\r\n```\r\nMapReducer sampleMR = new MapReducer();\r\n        Dataset&lt;MapReducer&gt; df = InitialTable.quartetsTable\r\n                .toDF()\r\n                .map\r\n                        (\r\n                                (MapFunction&lt;Row, MapReducer&gt;) sampleMR::incrementCount,\r\n                                Encoders.bean(MapReducer.class)\r\n                        );\r\n```\r\n\r\nI was trying to find out the number of rows on each partition of `InitialTable.quartetsTable` which is another `Dataset`","title":"Why does Spark&#39;s dataset reduce gives different values when using a class?","body":"<p>When I use this as my reduce function</p>\n<pre><code>public Integer addCount(Integer integer1, Integer integer2) {\n        Integer ret =integer1+integer2;\n        return ret;\n    }\n</code></pre>\n<p>the reduce function given below returns the correct value</p>\n<pre><code>Integer mapReduce1 = df1.reduce((ReduceFunction&lt;Integer&gt;) mapReduce::addCount);\n</code></pre>\n<p>But when I try to use reduce using an object of My class like below:</p>\n<pre><code> public MapReducer addCount(MapReducer mapReduce1, MapReducer mapReduce2) {\n        MapReducer ret = new MapReducer(mapReduce1.count+ mapReduce2.count);\n        return ret;\n</code></pre>\n<p>The reduce function returns <code>correct_value + 5</code></p>\n<pre><code>MapReducer mapReduce1 = df.reduce((ReduceFunction&lt;MapReducer&gt;) mapReduce::addCount);\n</code></pre>\n<p>Here MapReducer is a simple class with only one <code>public</code> attribute <code>count</code> and it's getter and setter</p>\n<p>What is going on here? How can I apply rece on a class object properly</p>\n<p>MapReducer class:</p>\n<pre><code>package algorithm;\n\nimport org.apache.spark.sql.Row;\n\nimport java.io.Serializable;\n\npublic class MapReducer implements Serializable {\n    public int count;\n\n    public int getCount() {\n        return count;\n    }\n\n    public void setCount(int count) {\n        this.count = count;\n    }\n\n    public MapReducer incrementCount(Row row){\n        this.count++;\n        return this;\n    }\n    public Integer addCount(Integer integer1, Integer integer2) {\n        return integer1+integer2;\n    }\n\n    public MapReducer addCount(MapReducer sample1, MapReducer sample2) {\n\n        MapReducer ret = new MapReducer();\n        ret.count = sample1.count+ sample2.count;\n\n        return ret;\n    }\n\n}\n\n</code></pre>\n<p>Also, I used the following to create the <code>Dataset</code></p>\n<pre><code>MapReducer sampleMR = new MapReducer();\n        Dataset&lt;MapReducer&gt; df = InitialTable.quartetsTable\n                .toDF()\n                .map\n                        (\n                                (MapFunction&lt;Row, MapReducer&gt;) sampleMR::incrementCount,\n                                Encoders.bean(MapReducer.class)\n                        );\n</code></pre>\n<p>I was trying to find out the number of rows on each partition of <code>InitialTable.quartetsTable</code> which is another <code>Dataset</code></p>\n"},{"tags":["java","spring","spring-mvc","interceptor","handlerinterceptor"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635099875,"creation_date":1635086912,"answer_id":69697875,"question_id":69696928,"body_markdown":"From the good OOP codebase &#39;s point of view , it makes a lot of sense and even a good practise to do it as it promote [SRP][1] which has a service class just focus on doing the logging stuff but not how to get the things that need to be logged from the environment. \r\n\r\nThe logging service should be designed to be as generic as possible such that it knows nothing about its environment such as `HttpServletRequest` and `HttpServletResponse` in order to be reused easily it in other context (e.g. used to log the message consumed from a broker)\r\n\r\nThe `HandlerInterceptor` is the client to call the logging service . In there you can access the environment stuff which in your case is `HttpServletRequest` and  `HttpServletResponse`. It responsibility is to  determine if the current HTTP request is required to be logged , and prepare the things that need to be logged from the HTTP request , and just pass it to the logging service for doing the actual logging.\r\n\r\nFor the performance &#39;s point of view , you may look into the concept of asynchronous logging (e.g refer [here][2] for the log4j2 case). You still start from `HandlerInterceptor` but do not call the logging service directly in the same thread but tell other threads to do it asynchronously.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Single-responsibility_principle\r\n  [2]: https://logging.apache.org/log4j/2.x/manual/async.html","title":"Is it wise to make database calls from handler interceptors?","body":"<p>From the good OOP codebase 's point of view , it makes a lot of sense and even a good practise to do it as it promote <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\">SRP</a> which has a service class just focus on doing the logging stuff but not how to get the things that need to be logged from the environment.</p>\n<p>The logging service should be designed to be as generic as possible such that it knows nothing about its environment such as <code>HttpServletRequest</code> and <code>HttpServletResponse</code> in order to be reused easily it in other context (e.g. used to log the message consumed from a broker)</p>\n<p>The <code>HandlerInterceptor</code> is the client to call the logging service . In there you can access the environment stuff which in your case is <code>HttpServletRequest</code> and  <code>HttpServletResponse</code>. It responsibility is to  determine if the current HTTP request is required to be logged , and prepare the things that need to be logged from the HTTP request , and just pass it to the logging service for doing the actual logging.</p>\n<p>For the performance 's point of view , you may look into the concept of asynchronous logging (e.g refer <a href=\"https://logging.apache.org/log4j/2.x/manual/async.html\" rel=\"nofollow noreferrer\">here</a> for the log4j2 case). You still start from <code>HandlerInterceptor</code> but do not call the logging service directly in the same thread but tell other threads to do it asynchronously.</p>\n"}],"owner":{"account_id":14864869,"reputation":23,"user_id":10734336,"display_name":"JayaSuriya RS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635099875,"creation_date":1635080134,"question_id":69696928,"body_markdown":"I am looking to store the (post / put) request and responses of a few specific  endpoints on the database. \r\n\r\nIs it wise to do this with interceptors (handlerInceptor) ? Can I autowire the service that calls the database to the interceptor ? I mean there are other interceptors that take care of auth / logging. I&#39;m planning to add this as a last interceptor, if that makes sense. ","title":"Is it wise to make database calls from handler interceptors?","body":"<p>I am looking to store the (post / put) request and responses of a few specific  endpoints on the database.</p>\n<p>Is it wise to do this with interceptors (handlerInceptor) ? Can I autowire the service that calls the database to the interceptor ? I mean there are other interceptors that take care of auth / logging. I'm planning to add this as a last interceptor, if that makes sense.</p>\n"},{"tags":["java","android","google-maps","google-geocoder","geocoder"],"comments":[{"owner":{"account_id":15020237,"reputation":1381,"user_id":10841880,"display_name":"Shawn Domingo"},"score":1,"creation_date":1548058004,"post_id":54144432,"comment_id":95392354,"body_markdown":"1. Yes, you need to use an API key in order to use the Geocoder API.\n2. The quota of the Geocoding API is unlimited. However,  If you exhausted the $200 credit, you won&#39;t be able to use the Geocoding API until it replenishes the following month.","body":"1. Yes, you need to use an API key in order to use the Geocoder API. 2. The quota of the Geocoding API is unlimited. However,  If you exhausted the $200 credit, you won&#39;t be able to use the Geocoding API until it replenishes the following month."}],"owner":{"account_id":9111691,"reputation":160,"user_id":6780191,"display_name":"Saharsh Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1012,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":0,"score":3,"last_activity_date":1635099752,"creation_date":1547201751,"question_id":54144432,"body_markdown":"I want to launch my application, which is using Reverse Geocoding with the help of Geocoder Class but I want to ask whether this cause any problem further?\r\n\r\n \r\n\r\n&gt; - **Like do I have to add API KEY in my project?**\r\n&gt; - **Limitations in Geocoder Class (quota)?**\r\n\r\n    \r\nI have called reverse geocoding more than 4000 times (Using GPS Spoofing App) in an hour from the same device but its still giving me the result. Are there no limitations to use Geocoder class?\r\n\r\n**What&#39;s the difference between Google Geocoding API vs Geocoder Class in Android?**","title":"Is there any difference between Android Geocoder Class and Google Geocoder API?","body":"<p>I want to launch my application, which is using Reverse Geocoding with the help of Geocoder Class but I want to ask whether this cause any problem further?</p>\n<blockquote>\n<ul>\n<li><strong>Like do I have to add API KEY in my project?</strong></li>\n<li><strong>Limitations in Geocoder Class (quota)?</strong></li>\n</ul>\n</blockquote>\n<p>I have called reverse geocoding more than 4000 times (Using GPS Spoofing App) in an hour from the same device but its still giving me the result. Are there no limitations to use Geocoder class?</p>\n<p><strong>What's the difference between Google Geocoding API vs Geocoder Class in Android?</strong></p>\n"},{"tags":["java","scala","apache-spark","rdd","shuffle"],"comments":[{"owner":{"account_id":97791,"reputation":324367,"user_id":1560062,"accept_rate":100,"display_name":"zero323"},"score":0,"creation_date":1488503323,"post_id":42568569,"comment_id":72271735,"body_markdown":"I hope you know that random `@` have no use at all :)  It doesn&#39;t notify anyone who isn&#39;t already active in a given thread. `spark.deploy.spreadOut` typically worked for me, but as far as I know it is not portable and doesn&#39;t provide any guarantees. What is the end goal here? You cache the data, assume no worker faults, but what comes next?","body":"I hope you know that random <code>@</code> have no use at all :)  It doesn&#39;t notify anyone who isn&#39;t already active in a given thread. <code>spark.deploy.spreadOut</code> typically worked for me, but as far as I know it is not portable and doesn&#39;t provide any guarantees. What is the end goal here? You cache the data, assume no worker faults, but what comes next?"},{"owner":{"account_id":7411682,"reputation":8420,"user_id":5638835,"display_name":"puhlen"},"score":0,"creation_date":1488506885,"post_id":42568569,"comment_id":72272723,"body_markdown":"Have you actually observed spark putting all your data on a single node, or is this just theoretical?","body":"Have you actually observed spark putting all your data on a single node, or is this just theoretical?"},{"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"score":0,"creation_date":1488532874,"post_id":42568569,"comment_id":72282878,"body_markdown":"@zero323 sorry for that. But that `@` wasn&#39;t so random, I just choose top 5 Spark users on stack overflow :)  Please look at my P.S. section of the question. Do I really need `spark.deploy.spreadOut`?","body":"@zero323 sorry for that. But that <code>@</code> wasn&#39;t so random, I just choose top 5 Spark users on stack overflow :)  Please look at my P.S. section of the question. Do I really need <code>spark.deploy.spreadOut</code>?"},{"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"score":0,"creation_date":1488532943,"post_id":42568569,"comment_id":72282928,"body_markdown":"@puhlen That&#39;s just theoretical, and I haven&#39;t done any tests of this kind. Should I worry about this at all? Please look at `P.S. More Context` section of my question","body":"@puhlen That&#39;s just theoretical, and I haven&#39;t done any tests of this kind. Should I worry about this at all? Please look at <code>P.S. More Context</code> section of my question"},{"owner":{"account_id":97791,"reputation":324367,"user_id":1560062,"accept_rate":100,"display_name":"zero323"},"score":0,"creation_date":1488545895,"post_id":42568569,"comment_id":72291496,"body_markdown":"Don&#39;t worry :) My only point is that @ doesn&#39;t work. Reading &quot;more context&quot; - at this scale I wouldn&#39;t worry much about skews and not even try micromanaging. What troubles me more is 10,000 RDDs  (I haven&#39;t tried so it just a hunch but it may drive some components, including LRU tracking, crazy) and full text search At the first glance I would rather look at some in-memory data grid, and maybe Succinct.","body":"Don&#39;t worry :) My only point is that @ doesn&#39;t work. Reading &quot;more context&quot; - at this scale I wouldn&#39;t worry much about skews and not even try micromanaging. What troubles me more is 10,000 RDDs  (I haven&#39;t tried so it just a hunch but it may drive some components, including LRU tracking, crazy) and full text search At the first glance I would rather look at some in-memory data grid, and maybe Succinct."}],"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1072,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1635099643,"creation_date":1488501289,"question_id":42568569,"body_markdown":"I have 5-partitions-RDD and 5 workers/executors. \r\n\r\n*How can I ask Spark to save each RDD&#39;s partition on the different worker (IP)?*\r\n\r\n*Am I right if I say Spark can save few partitions on one worker, and 0 partitions on other workers?* \r\n\r\nMeans, I can specify the number of partitions, but Spark still can cache everything on a single node. \r\n\r\nReplication is not an option since RDD is huge.\r\n\r\n# Workarounds I have found\r\n\r\ngetPreferredLocations\r\n-\r\n\r\nRDD&#39;s `getPreferredLocations` method does not provide a 100% warranty that partition will be stored on a specified node. Spark will try during `spark.locality.wait`, but afterward, Spark will cache partition on a different node.\r\n\r\n[As a workarround][1], you can set very high value to `spark.locality.wait` and override `getPreferredLocations`. The bad news - you can not do that with Java, you need to write Scala code. At least Scala internals wrapped with Java code. I.e:\r\n\r\n    class NodeAffinityRDD[U: ClassTag](prev: RDD[U]) extends RDD[U](prev) {\r\n      \r\n      val nodeIPs = Array(&quot;192.168.2.140&quot;,&quot;192.168.2.157&quot;,&quot;192.168.2.77&quot;)\r\n    \r\n      override def getPreferredLocations(split: Partition): Seq[String] =\r\n        Seq(nodeIPs(split.index % nodeIPs.length))\r\n    }\r\n\r\nSparkContext&#39;s makeRDD\r\n-\r\n\r\n[SparkContext has makeRDD method][2]. This method lack documentation. As I understand, I can specify preferred locations, and then set a high value to `spark.locality.wait`. The bad news - preferred location [will be discarded on the first shuffle/join/cogroup operation][3].\r\n\r\n------\r\n\r\nBoth approaches have the drawback of too high `spark.locality.wait` can cause your cluster to starve if some of the nodes will be unavailable.\r\n\r\n# P.S. More context\r\n\r\nI have up to 10,000 of `sales-XXX.parquet` files, each represents sales of different goods in the different regions. Each `sales-XXX.parquet` could vary from a few KBs to a few GBs. All `sales-XXX.parquet`s together could take up to tens or hundreds of GBs at HDFS.\r\nI need a full-text search through all sales. I have to index each `sales-XXX.parquet` one-by-one with Lucene. And now I have two options:\r\n\r\n 1. Keep Lucene indexes in Spark. There is already [solution for this][4], but it looks pretty suspicious. ***Is there any better solutions?***\r\n 2. Keep Lucene indexes at the local file system. Then I can map-reduce on the results of each worker&#39;s index lookup. But this approach requires each worker node keeps an equal amount of data. ***How could I ensure Spark will keep equal amount of data on each worker node?***\r\n\r\n  [1]: http://apache-spark-user-list.1001560.n3.nabble.com/getPreferredLocations-td6554.html\r\n  [2]: https://spark.apache.org/docs/2.0.0/api/java/org/apache/spark/SparkContext.html#makeRDD(scala.collection.Seq,%20scala.reflect.ClassTag)\r\n  [3]: https://stackoverflow.com/questions/41250360/in-apache-spark-is-it-possible-to-specify-partitions-preferred-location-for-a\r\n  [4]: https://github.com/zouzias/spark-lucenerdd","title":"Enforce partition be stored on the specific executor","body":"<p>I have 5-partitions-RDD and 5 workers/executors.</p>\n<p><em>How can I ask Spark to save each RDD's partition on the different worker (IP)?</em></p>\n<p><em>Am I right if I say Spark can save few partitions on one worker, and 0 partitions on other workers?</em></p>\n<p>Means, I can specify the number of partitions, but Spark still can cache everything on a single node.</p>\n<p>Replication is not an option since RDD is huge.</p>\n<h1>Workarounds I have found</h1>\n<h2>getPreferredLocations</h2>\n<p>RDD's <code>getPreferredLocations</code> method does not provide a 100% warranty that partition will be stored on a specified node. Spark will try during <code>spark.locality.wait</code>, but afterward, Spark will cache partition on a different node.</p>\n<p><a href=\"http://apache-spark-user-list.1001560.n3.nabble.com/getPreferredLocations-td6554.html\" rel=\"nofollow noreferrer\">As a workarround</a>, you can set very high value to <code>spark.locality.wait</code> and override <code>getPreferredLocations</code>. The bad news - you can not do that with Java, you need to write Scala code. At least Scala internals wrapped with Java code. I.e:</p>\n<pre><code>class NodeAffinityRDD[U: ClassTag](prev: RDD[U]) extends RDD[U](prev) {\n  \n  val nodeIPs = Array(&quot;192.168.2.140&quot;,&quot;192.168.2.157&quot;,&quot;192.168.2.77&quot;)\n\n  override def getPreferredLocations(split: Partition): Seq[String] =\n    Seq(nodeIPs(split.index % nodeIPs.length))\n}\n</code></pre>\n<h2>SparkContext's makeRDD</h2>\n<p><a href=\"https://spark.apache.org/docs/2.0.0/api/java/org/apache/spark/SparkContext.html#makeRDD(scala.collection.Seq,%20scala.reflect.ClassTag)\" rel=\"nofollow noreferrer\">SparkContext has makeRDD method</a>. This method lack documentation. As I understand, I can specify preferred locations, and then set a high value to <code>spark.locality.wait</code>. The bad news - preferred location <a href=\"https://stackoverflow.com/questions/41250360/in-apache-spark-is-it-possible-to-specify-partitions-preferred-location-for-a\">will be discarded on the first shuffle/join/cogroup operation</a>.</p>\n<hr />\n<p>Both approaches have the drawback of too high <code>spark.locality.wait</code> can cause your cluster to starve if some of the nodes will be unavailable.</p>\n<h1>P.S. More context</h1>\n<p>I have up to 10,000 of <code>sales-XXX.parquet</code> files, each represents sales of different goods in the different regions. Each <code>sales-XXX.parquet</code> could vary from a few KBs to a few GBs. All <code>sales-XXX.parquet</code>s together could take up to tens or hundreds of GBs at HDFS.\nI need a full-text search through all sales. I have to index each <code>sales-XXX.parquet</code> one-by-one with Lucene. And now I have two options:</p>\n<ol>\n<li>Keep Lucene indexes in Spark. There is already <a href=\"https://github.com/zouzias/spark-lucenerdd\" rel=\"nofollow noreferrer\">solution for this</a>, but it looks pretty suspicious. <em><strong>Is there any better solutions?</strong></em></li>\n<li>Keep Lucene indexes at the local file system. Then I can map-reduce on the results of each worker's index lookup. But this approach requires each worker node keeps an equal amount of data. <em><strong>How could I ensure Spark will keep equal amount of data on each worker node?</strong></em></li>\n</ol>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":1445493,"reputation":5311,"user_id":1364149,"accept_rate":57,"display_name":"Shloim"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1478453731,"creation_date":1478453731,"answer_id":40452374,"question_id":40452330,"body_markdown":"This will do it in-place with a single iteration:\r\n\r\nHold 2 indexes: `src` and `dst` on the original array. both are initialized to 0.\r\n\r\nwhen a number is positive, copy it from `num[src]` to `num[dst]` and advance both indexes\r\n\r\nwhen a number is negative, just advance `src`.\r\n\r\nreturn the original array with `dst` as its new size.\r\n\r\n    public static int removeNegativeNumbers(int[] num) {\r\n      int dst=0;\r\n      for (int src=0 ; src&lt;num.length ; ++src)\r\n        if (num[src]&gt;=0)\r\n          num[dst++] = num[src];\r\n      return dst;\r\n    }\r\n    ","title":"Removal of negative numbers from an array in Java","body":"<p>This will do it in-place with a single iteration:</p>\n\n<p>Hold 2 indexes: <code>src</code> and <code>dst</code> on the original array. both are initialized to 0.</p>\n\n<p>when a number is positive, copy it from <code>num[src]</code> to <code>num[dst]</code> and advance both indexes</p>\n\n<p>when a number is negative, just advance <code>src</code>.</p>\n\n<p>return the original array with <code>dst</code> as its new size.</p>\n\n<pre><code>public static int removeNegativeNumbers(int[] num) {\n  int dst=0;\n  for (int src=0 ; src&lt;num.length ; ++src)\n    if (num[src]&gt;=0)\n      num[dst++] = num[src];\n  return dst;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2780651,"reputation":10914,"user_id":2393267,"accept_rate":66,"display_name":"Mangu Singh Rajpurohit"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1478453889,"creation_date":1478453889,"answer_id":40452395,"question_id":40452330,"body_markdown":"    public static int[] removeNegativeNumbers(int[] num) {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        for (int n : num) {\r\n            if (n &gt;= 0) {\r\n                list.add(n);\r\n            }\r\n        }\r\n        return list.toArray(new int[list.size()]);\r\n    }","title":"Removal of negative numbers from an array in Java","body":"<pre><code>public static int[] removeNegativeNumbers(int[] num) {\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    for (int n : num) {\n        if (n &gt;= 0) {\n            list.add(n);\n        }\n    }\n    return list.toArray(new int[list.size()]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1479120873,"creation_date":1478453903,"answer_id":40452397,"question_id":40452330,"body_markdown":"&gt; How do I improve the complexity of code or is there a good algorithm?\r\n\r\nHere is a linear `O(n)` algorithm with constant space (neglecting the space we need for output array). When an element is non-negative, copy the element and advance both output array and input array seeker. And when the element is negative, advance only the input array seeker(indx) and avoid copying to output array.\r\n\r\n    public static int[] removeNegativeNumbers(int[] num) {\r\n        int[] output = new int[num.length];\r\n        int k = 0;\r\n        for(int i = 0; i &lt; num.length; i++) {\r\n           if(num[i] &gt;= 0) {\r\n               output[k++] = num[i];\r\n           }\r\n        }\r\n        return Arrays.copyOfRange(output, 0, k);\r\n    }\r\n\r\n### Space Efficient Solution\r\n\r\nYou can make the algorithm *in-place* by transforming the input array to hold output like *insertion sort* way to avoid the space overhead of output array.\r\n\r\n    public static int removeNegativeNumbers(int[] num) {\r\n        int k = 0;\r\n        for(int i = 0; i &lt; num.length; i++) {\r\n           if(num[i] &gt;= 0) {\r\n               num[k++] = num[i];\r\n           }\r\n        }\r\n        // Now input array is holding the output data\r\n        // Return the length of output array\r\n        return k;\r\n    }\r\n    \r\n    // Usage: int newLen = removeNegativeNumbers(array);\r\n\r\n\r\nThis is called **two pointers technique**, very simple yet useful to solve many classical puzzles like Array de-duplication, merging two sorted arrays, intersection of two sorted arrays etc.\r\n\r\n  ","title":"Removal of negative numbers from an array in Java","body":"<blockquote>\n  <p>How do I improve the complexity of code or is there a good algorithm?</p>\n</blockquote>\n\n<p>Here is a linear <code>O(n)</code> algorithm with constant space (neglecting the space we need for output array). When an element is non-negative, copy the element and advance both output array and input array seeker. And when the element is negative, advance only the input array seeker(indx) and avoid copying to output array.</p>\n\n<pre><code>public static int[] removeNegativeNumbers(int[] num) {\n    int[] output = new int[num.length];\n    int k = 0;\n    for(int i = 0; i &lt; num.length; i++) {\n       if(num[i] &gt;= 0) {\n           output[k++] = num[i];\n       }\n    }\n    return Arrays.copyOfRange(output, 0, k);\n}\n</code></pre>\n\n<h3>Space Efficient Solution</h3>\n\n<p>You can make the algorithm <em>in-place</em> by transforming the input array to hold output like <em>insertion sort</em> way to avoid the space overhead of output array.</p>\n\n<pre><code>public static int removeNegativeNumbers(int[] num) {\n    int k = 0;\n    for(int i = 0; i &lt; num.length; i++) {\n       if(num[i] &gt;= 0) {\n           num[k++] = num[i];\n       }\n    }\n    // Now input array is holding the output data\n    // Return the length of output array\n    return k;\n}\n\n// Usage: int newLen = removeNegativeNumbers(array);\n</code></pre>\n\n<p>This is called <strong>two pointers technique</strong>, very simple yet useful to solve many classical puzzles like Array de-duplication, merging two sorted arrays, intersection of two sorted arrays etc.</p>\n"},{"tags":[],"owner":{"account_id":9297839,"reputation":1938,"user_id":6904265,"display_name":"user6904265"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1478468528,"creation_date":1478461778,"answer_id":40453785,"question_id":40452330,"body_markdown":"What about Java 8 streams?\r\n\r\n    Arrays.stream(num).filter(s -&gt; s &gt;= 0).toArray();","title":"Removal of negative numbers from an array in Java","body":"<p>What about Java 8 streams?</p>\n\n<pre><code>Arrays.stream(num).filter(s -&gt; s &gt;= 0).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6568308,"reputation":800,"user_id":5077154,"display_name":"Insac"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1478679311,"creation_date":1478473813,"answer_id":40455618,"question_id":40452330,"body_markdown":"I don&#39;t think we can get better in terms of efficiency than @kaidul-islam answer (and @user6904265 in terms of conciseness).\r\n\r\nI&#39;m just adding a solution that should have some value in a very specific scenario, where negatives rarely appear and array is very large.\r\n\r\nBasic idea is to defer the actual copy until a negative value is found and then copy with System.arraycopy. In case no negative is found, the source array would be returned. \r\n\r\n\r\n    import java.util.*;\r\n    \r\n    public class NotNegativeTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t int[] array = { 1, -3, 4, -9, 3, 4, 70, -10, 0, 7 }; \r\n    \t\t System.out.println(Arrays.toString(removeNegativeNumbers(array))); \r\n    \t} \r\n    \r\n    \tpublic static int[] removeNegativeNumbers(int[] num) {\r\n    \t\t int[] output = new int[num.length];\r\n    \t\t int k = 0;\r\n    \t\t int i = 0; \r\n    \t\t int last=-1;\r\n    \t\t int howmany=0;\r\n    \t\t \r\n    \t\t while(i &lt; num.length) {\r\n    \t\t \t if(num[i] &lt; 0) {\r\n    \t \t \t\thowmany=i-last-1;\r\n    \t \t \t\tswitch(howmany) {\r\n    \t \t \t\t\tcase 0: break;\r\n    \t \t \t\t\tcase 1: \r\n    \t \t \t\t\t\t\toutput[k]=num[last+1];\r\n    \t \t \t\t\t\t\tk++;\r\n    \t \t \t\t\t\t\tbreak;\r\n    \t \t \t\t\tdefault:\t\t\r\n    \t \t \t\t\t\t\tSystem.arraycopy(num, last+1,  output, k, howmany);\r\n    \t \t \t\t\t\t\tk+=howmany;\r\n    \t \t \t\t}\r\n    \t\t\t\tlast=i;\r\n    \t\t \t } \r\n    \t\t     i++;\r\n    \t\t } \r\n    \t\t if (last&gt;=0) {\r\n    \t\t      if(last!=i-1) {\r\n    \t\t    \thowmany=i-last-1;  \r\n    \t \t\t\tSystem.arraycopy(num, last+1,  output, k, howmany);\r\n    \t \t\t\tk+=howmany;\r\n    \t \t\t}\r\n    \t \t} else {\r\n    \t \t\treturn num;\r\n    \t \t}\r\n    \t\t \r\n    \t\t return Arrays.copyOfRange(output, 0, k);\r\n    \t }\r\n    \t\r\n    }\r\n\r\n\r\nI&#39;ve found the time to write a JMH microbenchmark.\r\n\r\nI&#39;ve used used these configurations:\r\n\r\n    Options opts = new OptionsBuilder()\r\n      .include(MyBenchmark.class.getSimpleName())\r\n      .mode(Mode.AverageTime)\r\n      .warmupIterations(1)\r\n      .warmupTime(TimeValue.seconds(5))\r\n      .measurementIterations(10)\r\n      .measurementTime(TimeValue.seconds(5))\r\n      .jvmArgs(&quot;-server&quot;)\r\n      .forks(1)\r\n      .build();\r\n    new Runner(opts).run();\r\n\r\n(disclaimer: my first JMH test, so if someone has some suggestions, I&#39;ll be glad to change it and update the results)\r\n\r\nAnd here are the results:\r\n\r\n    # Run complete. Total time: 00:02:54\r\n     \r\n    Benchmark                             Mode  Cnt  Score   Error  Units\r\n    MyBenchmark.testMethodUser6904265     avgt   10  0,201 &#177; 0,040   s/op\r\n    MyBenchmark.testMethodInsac           avgt   10  0,093 &#177; 0,022   s/op\r\n    MyBenchmark.testMethodKaidul          avgt   10  0,124 &#177; 0,029   s/op\r\n\r\nNow, before cheering me, please take a look to how biased the test was:\r\n\r\n\t int[] array = new int[10000000];\r\n\t array[0]=-5;\r\n\t array[10000]=-3;\r\n\t array[40000]=-3;\r\n\t array[8000000]=-3;\r\n\t \r\n\t int[] answer=NotNegativeTest.removeNegativeNumbers(array);\r\n\r\nSo here the thing to notice it is not that my method won (the test was written for my method to win :-) but how close the generic kaidul-islam method was to mine even in this extreme scenario.\r\n\r\nUPDATED: here is the link to the [jmh benchmark I wrote][1] so you can verify more realistic scenario (if someone finds issues with how I setup the test, please let me know). There is a depenendency on Trove for a test I&#39;ve done on another answer.\r\n\r\n\r\n  [1]: http://pastebin.com/LhVq4Q1a","title":"Removal of negative numbers from an array in Java","body":"<p>I don't think we can get better in terms of efficiency than @kaidul-islam answer (and @user6904265 in terms of conciseness).</p>\n\n<p>I'm just adding a solution that should have some value in a very specific scenario, where negatives rarely appear and array is very large.</p>\n\n<p>Basic idea is to defer the actual copy until a negative value is found and then copy with System.arraycopy. In case no negative is found, the source array would be returned. </p>\n\n<pre><code>import java.util.*;\n\npublic class NotNegativeTest {\n\n    public static void main(String[] args) {\n         int[] array = { 1, -3, 4, -9, 3, 4, 70, -10, 0, 7 }; \n         System.out.println(Arrays.toString(removeNegativeNumbers(array))); \n    } \n\n    public static int[] removeNegativeNumbers(int[] num) {\n         int[] output = new int[num.length];\n         int k = 0;\n         int i = 0; \n         int last=-1;\n         int howmany=0;\n\n         while(i &lt; num.length) {\n             if(num[i] &lt; 0) {\n                howmany=i-last-1;\n                switch(howmany) {\n                    case 0: break;\n                    case 1: \n                            output[k]=num[last+1];\n                            k++;\n                            break;\n                    default:        \n                            System.arraycopy(num, last+1,  output, k, howmany);\n                            k+=howmany;\n                }\n                last=i;\n             } \n             i++;\n         } \n         if (last&gt;=0) {\n              if(last!=i-1) {\n                howmany=i-last-1;  \n                System.arraycopy(num, last+1,  output, k, howmany);\n                k+=howmany;\n            }\n        } else {\n            return num;\n        }\n\n         return Arrays.copyOfRange(output, 0, k);\n     }\n\n}\n</code></pre>\n\n<p>I've found the time to write a JMH microbenchmark.</p>\n\n<p>I've used used these configurations:</p>\n\n<pre><code>Options opts = new OptionsBuilder()\n  .include(MyBenchmark.class.getSimpleName())\n  .mode(Mode.AverageTime)\n  .warmupIterations(1)\n  .warmupTime(TimeValue.seconds(5))\n  .measurementIterations(10)\n  .measurementTime(TimeValue.seconds(5))\n  .jvmArgs(\"-server\")\n  .forks(1)\n  .build();\nnew Runner(opts).run();\n</code></pre>\n\n<p>(disclaimer: my first JMH test, so if someone has some suggestions, I'll be glad to change it and update the results)</p>\n\n<p>And here are the results:</p>\n\n<pre><code># Run complete. Total time: 00:02:54\n\nBenchmark                             Mode  Cnt  Score   Error  Units\nMyBenchmark.testMethodUser6904265     avgt   10  0,201  0,040   s/op\nMyBenchmark.testMethodInsac           avgt   10  0,093  0,022   s/op\nMyBenchmark.testMethodKaidul          avgt   10  0,124  0,029   s/op\n</code></pre>\n\n<p>Now, before cheering me, please take a look to how biased the test was:</p>\n\n<pre><code> int[] array = new int[10000000];\n array[0]=-5;\n array[10000]=-3;\n array[40000]=-3;\n array[8000000]=-3;\n\n int[] answer=NotNegativeTest.removeNegativeNumbers(array);\n</code></pre>\n\n<p>So here the thing to notice it is not that my method won (the test was written for my method to win :-) but how close the generic kaidul-islam method was to mine even in this extreme scenario.</p>\n\n<p>UPDATED: here is the link to the <a href=\"http://pastebin.com/LhVq4Q1a\" rel=\"nofollow noreferrer\">jmh benchmark I wrote</a> so you can verify more realistic scenario (if someone finds issues with how I setup the test, please let me know). There is a depenendency on Trove for a test I've done on another answer.</p>\n"},{"tags":[],"owner":{"account_id":284195,"reputation":5422,"user_id":582136,"accept_rate":100,"display_name":"Ryan Amos"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1478487613,"creation_date":1478487613,"answer_id":40457185,"question_id":40452330,"body_markdown":"Since you will necessarily need to look at each individual element to determine if it is less than 0, the runtime must be at least O(n). Since the space needed to store the input is O(n), the space is at least O(n). Your solution runs in O(n) time with O(n) complexity, therefore **no solution can have better space or runtime complexity than your solution**\r\n\r\n\r\nWe can, however, get better results if we assume the array is sorted. Then, we do a binary search for 0. If we have a way to return the sub-array with constant time (e.g. pointer magic in C, or by simply returning the start index to be read), then the algorithm would have O(log n) time.","title":"Removal of negative numbers from an array in Java","body":"<p>Since you will necessarily need to look at each individual element to determine if it is less than 0, the runtime must be at least O(n). Since the space needed to store the input is O(n), the space is at least O(n). Your solution runs in O(n) time with O(n) complexity, therefore <strong>no solution can have better space or runtime complexity than your solution</strong></p>\n\n<p>We can, however, get better results if we assume the array is sorted. Then, we do a binary search for 0. If we have a way to return the sub-array with constant time (e.g. pointer magic in C, or by simply returning the start index to be read), then the algorithm would have O(log n) time.</p>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489037195,"creation_date":1489037195,"answer_id":42687418,"question_id":40452330,"body_markdown":"Follow the below code (Java 8)\r\n\r\n    int test[] = new int[] { 15, -40, -35, 45, -15 };\r\n\t\t// here we can take the test array in to stream and filter with condition (&gt;=0).\r\n\t\tint[] positives = Arrays.stream(test).filter(x -&gt; x &gt;= 0).toArray();\r\n\r\n\t\tSystem.out.println(&quot;Here is the positive array elements&quot;);\r\n\r\n\t\tfor (int i : positives) {\r\n\t\t\tSystem.out.print(i + &quot;\\t&quot;);\r\n\t\t}\r\n\r\n\r\n","title":"Removal of negative numbers from an array in Java","body":"<p>Follow the below code (Java 8)</p>\n\n<pre><code>int test[] = new int[] { 15, -40, -35, 45, -15 };\n    // here we can take the test array in to stream and filter with condition (&gt;=0).\n    int[] positives = Arrays.stream(test).filter(x -&gt; x &gt;= 0).toArray();\n\n    System.out.println(\"Here is the positive array elements\");\n\n    for (int i : positives) {\n        System.out.print(i + \"\\t\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20141028,"reputation":11,"user_id":14770797,"display_name":"MounyaSri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635099136,"creation_date":1635099136,"answer_id":69699526,"question_id":40452330,"body_markdown":"  Use iterator\r\n  \r\n      Iterator&lt;Integer&gt; itr = objArray.iterator();\r\n         while(itr.hasNext()) {\r\n         Integer next = itr.next();\r\n         if(next &lt; 0) {\r\n            itr.remove();\r\n         }\r\n      }","title":"Removal of negative numbers from an array in Java","body":"<p>Use iterator</p>\n<pre><code>  Iterator&lt;Integer&gt; itr = objArray.iterator();\n     while(itr.hasNext()) {\n     Integer next = itr.next();\n     if(next &lt; 0) {\n        itr.remove();\n     }\n  }\n</code></pre>\n"}],"owner":{"display_name":"user7117165"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33865,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":40452397,"answer_count":8,"score":21,"last_activity_date":1635099136,"creation_date":1478453472,"question_id":40452330,"body_markdown":"My objective is to remove all negative numbers from an array in Java.\r\n\r\nI have written the below code. How do I improve the complexity of code or is there a good algorithm?\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] array = { 1, -3, 4, -9, 3, 4, 70, -10, 0, 7 };\r\n\t\tSystem.out.println(Arrays.toString(removeNegativeNumbers(array)));\r\n\t}\r\n\r\n\tpublic static int[] removeNegativeNumbers(int[] num) {\r\n\t\tList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\t\tfor (int n : num) {\r\n\t\t\tif (n &gt;= 0) {\r\n\t\t\t\tlist.add(n);\r\n\t\t\t}\r\n\t\t}\r\n\t\tint[] result = new int[list.size()];\r\n\t\tfor (int i = 0; i &lt; result.length; i++) {\r\n\t\t\tresult[i] = list.get(i).intValue();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n","title":"Removal of negative numbers from an array in Java","body":"<p>My objective is to remove all negative numbers from an array in Java.</p>\n\n<p>I have written the below code. How do I improve the complexity of code or is there a good algorithm?</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] array = { 1, -3, 4, -9, 3, 4, 70, -10, 0, 7 };\n    System.out.println(Arrays.toString(removeNegativeNumbers(array)));\n}\n\npublic static int[] removeNegativeNumbers(int[] num) {\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    for (int n : num) {\n        if (n &gt;= 0) {\n            list.add(n);\n        }\n    }\n    int[] result = new int[list.size()];\n    for (int i = 0; i &lt; result.length; i++) {\n        result[i] = list.get(i).intValue();\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","postgresql","ibatis"],"comments":[{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1634998879,"post_id":69688544,"comment_id":123180324,"body_markdown":"What error are you getting from the above?","body":"What error are you getting from the above?"},{"owner":{"account_id":17237734,"reputation":11,"user_id":12480819,"display_name":"Razvan"},"score":0,"creation_date":1635086791,"post_id":69688544,"comment_id":123195968,"body_markdown":"The error sayis that it espects a boolean, not a string. When I hardcode a value instead of passing it from the method it works with string","body":"The error sayis that it espects a boolean, not a string. When I hardcode a value instead of passing it from the method it works with string"}],"answers":[{"tags":[],"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635099094,"creation_date":1635099094,"answer_id":69699520,"question_id":69688544,"body_markdown":"The problem here is that the expression `column_name ~* &#39;\\\\y&#39; || #{valuePassedFromMethod} || &#39;\\\\y&#39; ` is being evaluated from left to right, since all operators have the same precedence. You can see [here][1] that all the operators involved fall in the &quot;all other native and user-defined operators&quot; category, and thus they have the same precedence.\r\n\r\n`column_name ~* &#39;\\\\y&#39;` returns true, and the subsequent concatenations return a text. So your query ends up looking like `SELECT * FROM unl_unit WHERE &#39;truecreate\\y&#39;`, assuming you are looking for the string `create`. You can see now how the WHERE clause in fact complains about receiving a text instead of a boolean. You can simply enclose the search pattern with parentheses to avoid this.\r\n\r\n    @Select({SELECT * from table where column_name ~* &#39;(\\\\y&#39; || #{valuePassedFromMethod} || &#39;\\\\y&#39;)&quot;})\r\n    List&lt;String&gt; methodName(@Param(&quot;valuePassedFromMethod&quot;) String valuePassedFromMethod);\r\n\r\nThat being said, I don&#39;t think the regex you are using actually reflects the search you are trying to achieve. The \\y means start/end of string, so you are actually searching for the exact string &#39;create&#39;. If you want to search for strings containing `create`, you should do something like:\r\n\r\n    SELECT * FROM unl_unit WHERE unlun_name like &#39;%&#39; || &#39;create&#39; || &#39;%&#39;;\r\n\r\nAnd the method would be:\r\n\r\n    @Select({SELECT * from table where column_name LIKE &#39;%&#39; || #{valuePassedFromMethod} || &#39;%&#39;&quot;})\r\n    List&lt;String&gt; methodName(@Param(&quot;valuePassedFromMethod&quot;) String valuePassedFromMethod);\r\n\r\nNotice how you don&#39;t even need the parentheses here, since the LIKE operator has a lower precedence than the concatenation operators.\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/7.2/sql-precedence.html","title":"IBATIS query where column contains exact String","body":"<p>The problem here is that the expression <code>column_name ~* '\\\\y' || #{valuePassedFromMethod} || '\\\\y' </code> is being evaluated from left to right, since all operators have the same precedence. You can see <a href=\"https://www.postgresql.org/docs/7.2/sql-precedence.html\" rel=\"nofollow noreferrer\">here</a> that all the operators involved fall in the &quot;all other native and user-defined operators&quot; category, and thus they have the same precedence.</p>\n<p><code>column_name ~* '\\\\y'</code> returns true, and the subsequent concatenations return a text. So your query ends up looking like <code>SELECT * FROM unl_unit WHERE 'truecreate\\y'</code>, assuming you are looking for the string <code>create</code>. You can see now how the WHERE clause in fact complains about receiving a text instead of a boolean. You can simply enclose the search pattern with parentheses to avoid this.</p>\n<pre><code>@Select({SELECT * from table where column_name ~* '(\\\\y' || #{valuePassedFromMethod} || '\\\\y')&quot;})\nList&lt;String&gt; methodName(@Param(&quot;valuePassedFromMethod&quot;) String valuePassedFromMethod);\n</code></pre>\n<p>That being said, I don't think the regex you are using actually reflects the search you are trying to achieve. The \\y means start/end of string, so you are actually searching for the exact string 'create'. If you want to search for strings containing <code>create</code>, you should do something like:</p>\n<pre><code>SELECT * FROM unl_unit WHERE unlun_name like '%' || 'create' || '%';\n</code></pre>\n<p>And the method would be:</p>\n<pre><code>@Select({SELECT * from table where column_name LIKE '%' || #{valuePassedFromMethod} || '%'&quot;})\nList&lt;String&gt; methodName(@Param(&quot;valuePassedFromMethod&quot;) String valuePassedFromMethod);\n</code></pre>\n<p>Notice how you don't even need the parentheses here, since the LIKE operator has a lower precedence than the concatenation operators.</p>\n"}],"owner":{"account_id":17237734,"reputation":11,"user_id":12480819,"display_name":"Razvan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635099094,"creation_date":1634995287,"question_id":69688544,"body_markdown":"I&#39;m trying to create a query that will return everything containing a exact string in a specific column. It should return `x = &quot;create query&quot;` when I search for `create` or `query`, but not return anything when I search for `reate` or `uer`. \r\n\r\nI need the equivalent of: \r\n\r\n    select * \r\n    from table \r\n    where column_name ~* \\ycreate\\y\r\n\r\nand where I will replace create with a passed parameter. I see this works if I hardcode the value, but I was not able to pass it from a method, this is the code I tried:\r\n\r\n```\r\n@Select({SELECT * from table where column_name ~* &#39;\\\\y&#39; || #{valuePassedFromMethod} || &#39;\\\\y&#39;&quot;})\r\nList&lt;String&gt; methodName(@Param(&quot;valuePassedFromMethod&quot;) String valuePassedFromMethod);\r\n```\r\n\r\nI don&#39;t have a lot of experience and I was not able to find the problem, I would appreciate if somebody will help me fix this.","title":"IBATIS query where column contains exact String","body":"<p>I'm trying to create a query that will return everything containing a exact string in a specific column. It should return <code>x = &quot;create query&quot;</code> when I search for <code>create</code> or <code>query</code>, but not return anything when I search for <code>reate</code> or <code>uer</code>.</p>\n<p>I need the equivalent of:</p>\n<pre><code>select * \nfrom table \nwhere column_name ~* \\ycreate\\y\n</code></pre>\n<p>and where I will replace create with a passed parameter. I see this works if I hardcode the value, but I was not able to pass it from a method, this is the code I tried:</p>\n<pre><code>@Select({SELECT * from table where column_name ~* '\\\\y' || #{valuePassedFromMethod} || '\\\\y'&quot;})\nList&lt;String&gt; methodName(@Param(&quot;valuePassedFromMethod&quot;) String valuePassedFromMethod);\n</code></pre>\n<p>I don't have a lot of experience and I was not able to find the problem, I would appreciate if somebody will help me fix this.</p>\n"},{"tags":["java","selenium","xpath"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635097860,"creation_date":1635097860,"answer_id":69699372,"question_id":69699028,"body_markdown":"Please check in the `dev tools` (Google chrome) if we have **unique** entry in `HTML DOM` or not.\r\n\r\n**Steps to check:**\r\n\r\n`Press F12 in Chrome` -&gt; go to `element` section -&gt; do a `CTRL  + F` -&gt; then paste the `xpath` and see, if your desired `element` is getting **highlighted** with `1/1` matching node.\r\n\r\n\r\nxpath you should checks is :\r\n\r\n\r\n    //input[@name=&#39;name&#39;]\r\n\r\n\r\nif it is unique,  then you can use Javascript executor : \r\n\r\n    WebElement password_input = driver.findElemenet(By.xpath(&quot;//input[@name=&#39;name&#39;]&quot;));\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].setAttribute(&#39;value&#39;, &#39;password_should_be_written_here&#39;)&quot;, password_input)\r\n\r\n","title":"Selenium not able to input element in the form inside fieldset tag","body":"<p>Please check in the <code>dev tools</code> (Google chrome) if we have <strong>unique</strong> entry in <code>HTML DOM</code> or not.</p>\n<p><strong>Steps to check:</strong></p>\n<p><code>Press F12 in Chrome</code> -&gt; go to <code>element</code> section -&gt; do a <code>CTRL  + F</code> -&gt; then paste the <code>xpath</code> and see, if your desired <code>element</code> is getting <strong>highlighted</strong> with <code>1/1</code> matching node.</p>\n<p>xpath you should checks is :</p>\n<pre><code>//input[@name='name']\n</code></pre>\n<p>if it is unique,  then you can use Javascript executor :</p>\n<pre><code>WebElement password_input = driver.findElemenet(By.xpath(&quot;//input[@name='name']&quot;));\n((JavascriptExecutor) driver).executeScript(&quot;arguments[0].setAttribute('value', 'password_should_be_written_here')&quot;, password_input)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635099015,"creation_date":1635099015,"answer_id":69699506,"question_id":69699028,"body_markdown":"personally I would use id&#39;s if the element has one.\r\n\r\n    &quot;//*[@id=&#39;__BVID__104&#39;]&quot;\r\n\r\nMake sure you are waiting for the element to be ready.\r\n\r\n    WebDriverWait wait = new WebDriverWait();\r\n    wait.until(ExpectedConditions.elementToBeClickable(element));\r\n\r\nIf it then times out on wait.until(... then I&#39;ve found that sometimes an element must first be clicked for it to be exposed.\r\n\r\nIf this is the case. You will have to inspect the element before it is clicked. Find it&#39;s xpath, and see if it changes when it is clicked. If so then create a webElement for that element and have Selenium first click it, before clicking the actual field/element.\r\n\r\n    ","title":"Selenium not able to input element in the form inside fieldset tag","body":"<p>personally I would use id's if the element has one.</p>\n<pre><code>&quot;//*[@id='__BVID__104']&quot;\n</code></pre>\n<p>Make sure you are waiting for the element to be ready.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait();\nwait.until(ExpectedConditions.elementToBeClickable(element));\n</code></pre>\n<p>If it then times out on wait.until(... then I've found that sometimes an element must first be clicked for it to be exposed.</p>\n<p>If this is the case. You will have to inspect the element before it is clicked. Find it's xpath, and see if it changes when it is clicked. If so then create a webElement for that element and have Selenium first click it, before clicking the actual field/element.</p>\n"}],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635099015,"creation_date":1635095335,"question_id":69699028,"body_markdown":"I have tried a different method to input elements like \r\n**Here is xpath I used**\r\n\r\n    By NameOfTheProperty=By.xpath(&quot;//fieldset/div/input[@name=&#39;name&#39;]&quot;);\r\n    By NameOfTheProperty=By.xpath(&quot;//div/input[@name=&#39;name&#39;]&quot;);\r\n    By NameOfTheProperty=By.xpath(&quot;//input[@name=&#39;name&#39;]&quot;);\r\n\r\n**Tried with Selenium Builder**\r\n\r\n     WebElement element=driver.findElement(by);\r\n            Actions builder = new Actions(driver);\r\n            Action mouseOverHome = builder\r\n                    .moveToElement(element)\r\n                    .click().sendKeys(text).build();\r\n            mouseOverHome.perform();\r\n\r\nTried with \r\n\r\n     WebElement element=driver.findElement(by);\r\n            element.sendKeys(text);\r\n\r\nNone of the methods is working..I can not able to input text inside the field and It shows \r\n\r\n&gt; Element not interactable\r\n\r\n**Here is the site**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6q4FZ.png\r\n\r\nI hope someone help me to find out the solution..","title":"Selenium not able to input element in the form inside fieldset tag","body":"<p>I have tried a different method to input elements like\n<strong>Here is xpath I used</strong></p>\n<pre><code>By NameOfTheProperty=By.xpath(&quot;//fieldset/div/input[@name='name']&quot;);\nBy NameOfTheProperty=By.xpath(&quot;//div/input[@name='name']&quot;);\nBy NameOfTheProperty=By.xpath(&quot;//input[@name='name']&quot;);\n</code></pre>\n<p><strong>Tried with Selenium Builder</strong></p>\n<pre><code> WebElement element=driver.findElement(by);\n        Actions builder = new Actions(driver);\n        Action mouseOverHome = builder\n                .moveToElement(element)\n                .click().sendKeys(text).build();\n        mouseOverHome.perform();\n</code></pre>\n<p>Tried with</p>\n<pre><code> WebElement element=driver.findElement(by);\n        element.sendKeys(text);\n</code></pre>\n<p>None of the methods is working..I can not able to input text inside the field and It shows</p>\n<blockquote>\n<p>Element not interactable</p>\n</blockquote>\n<p><strong>Here is the site</strong></p>\n<p><a href=\"https://i.stack.imgur.com/6q4FZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6q4FZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope someone help me to find out the solution..</p>\n"},{"tags":["java","jsp","struts2","struts-tags"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1507648392,"post_id":46670198,"comment_id":80288914,"body_markdown":"&quot;the form isn&#39;t submitting properly.&quot; - any more specific info?","body":"&quot;the form isn&#39;t submitting properly.&quot; - any more specific info?"},{"owner":{"account_id":8995488,"reputation":113,"user_id":6706066,"accept_rate":15,"display_name":"R&#233;mi Hirtz"},"score":0,"creation_date":1507648657,"post_id":46670198,"comment_id":80289066,"body_markdown":"Yes of course, the action is never reached and is returning `input`, even if the validation isn&#39;t done.","body":"Yes of course, the action is never reached and is returning <code>input</code>, even if the validation isn&#39;t done."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1507649018,"post_id":46670198,"comment_id":80289283,"body_markdown":"Did you check what the post body looks like? It would be best to post a [mcve].","body":"Did you check what the post body looks like? It would be best to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":8995488,"reputation":113,"user_id":6706066,"accept_rate":15,"display_name":"R&#233;mi Hirtz"},"score":0,"creation_date":1507649373,"post_id":46670198,"comment_id":80289507,"body_markdown":"Oh thanks you put me on the right direction, I was sure that the issue was coming from the jsp but the problem was the type of the property `heureDebut` and `heureFin` in my record.","body":"Oh thanks you put me on the right direction, I was sure that the issue was coming from the jsp but the problem was the type of the property <code>heureDebut</code> and <code>heureFin</code> in my record."},{"owner":{"account_id":8995488,"reputation":113,"user_id":6706066,"accept_rate":15,"display_name":"R&#233;mi Hirtz"},"score":0,"creation_date":1507649395,"post_id":46670198,"comment_id":80289525,"body_markdown":"Thanks it&#39;s solved :)","body":"Thanks it&#39;s solved :)"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507653580,"creation_date":1507653580,"answer_id":46671754,"question_id":46670198,"body_markdown":"You have wrong expression in the if tag: \r\n\r\n    &lt;s:if test=&quot;%{#plage.jour == #stat.index}&quot;&gt;\r\n\r\nit should be\r\n\r\n    &lt;s:if test=&quot;%{#plage.jour == #jour}&quot;&gt;\r\n\r\nif expression is not evaluated or evaluated to `false` then select tag will never be added to the form, and the formdata will never be submitted.","title":"Why s:select not working in s:iterator tag?","body":"<p>You have wrong expression in the if tag: </p>\n\n<pre><code>&lt;s:if test=\"%{#plage.jour == #stat.index}\"&gt;\n</code></pre>\n\n<p>it should be</p>\n\n<pre><code>&lt;s:if test=\"%{#plage.jour == #jour}\"&gt;\n</code></pre>\n\n<p>if expression is not evaluated or evaluated to <code>false</code> then select tag will never be added to the form, and the formdata will never be submitted.</p>\n"}],"owner":{"account_id":8995488,"reputation":113,"user_id":6706066,"accept_rate":15,"display_name":"R&#233;mi Hirtz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1635098043,"creation_date":1507648296,"question_id":46670198,"body_markdown":"I have an issue with a select in an iterator. Whenever I use the `index` value of my iterator `status` in the name property of the select, the form isn&#39;t submitting properly.\r\n\r\nIn my code I use a `first iterator` to iterate through a list of days and a `second iterator` to  iterate through my records to display and edit their data.\r\n\r\n**page.jsp:**\r\n\r\n    &lt;s:iterator value=&quot;daysOfWeek&quot; var=&quot;jour&quot; status=&quot;stat&quot;&gt;\r\n        &lt;div class=&quot;gu desk-s1 desk-w2&quot; id=&quot;plage${stat.index}&quot;&gt;\r\n            &lt;s:text name=&quot;%{#jour}&quot;/&gt;\r\n            &lt;s:submit type=&quot;button&quot; action=&quot;addPlage/%{#stat.index}&quot;&gt;+&lt;/s:submit&gt;\r\n            &lt;s:iterator value=&quot;plageRecords&quot; var=&quot;plage&quot; status=&quot;innserStat&quot;&gt;\r\n                &lt;s:if test=&quot;%{#plage.jour == #stat.index}&quot;&gt;\r\n                    &lt;s:include value=&quot;plage/plage_cell.jsp&quot;/&gt;\r\n                &lt;/s:if&gt;\r\n            &lt;/s:iterator&gt;\r\n        &lt;/div&gt;\r\n    &lt;/s:iterator&gt;\r\n&lt;/div&gt;\r\n\r\n**page_cell.jsp:**\r\n\r\n    &lt;div class=&quot;g rev-width rev-top-m1&quot;&gt;\r\n        &lt;div class=&quot;gu desk-w6&quot;&gt;\r\n            &lt;label&gt;&lt;s:text name=&quot;admin.plage.label.endHour&quot; /&gt;&lt;/label&gt;\r\n            &lt;s:fielderror class=&quot;fieldError&quot;\r\n                          fieldName=&quot;plageRecords[%{#innserStat.index}].heureFin&quot;/&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;gu desk-w10&quot;&gt;\r\n            &lt;s:select name=&quot;plageRecords[%{#innserStat.index}].heureFin&quot;\r\n                      cssClass=&quot;rev-side-m1 rev-width&quot; list=&quot;endHourList&quot;/&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;","title":"Why s:select not working in s:iterator tag?","body":"<p>I have an issue with a select in an iterator. Whenever I use the <code>index</code> value of my iterator <code>status</code> in the name property of the select, the form isn't submitting properly.</p>\n<p>In my code I use a <code>first iterator</code> to iterate through a list of days and a <code>second iterator</code> to  iterate through my records to display and edit their data.</p>\n<p><strong>page.jsp:</strong></p>\n<pre><code>&lt;s:iterator value=&quot;daysOfWeek&quot; var=&quot;jour&quot; status=&quot;stat&quot;&gt;\n    &lt;div class=&quot;gu desk-s1 desk-w2&quot; id=&quot;plage${stat.index}&quot;&gt;\n        &lt;s:text name=&quot;%{#jour}&quot;/&gt;\n        &lt;s:submit type=&quot;button&quot; action=&quot;addPlage/%{#stat.index}&quot;&gt;+&lt;/s:submit&gt;\n        &lt;s:iterator value=&quot;plageRecords&quot; var=&quot;plage&quot; status=&quot;innserStat&quot;&gt;\n            &lt;s:if test=&quot;%{#plage.jour == #stat.index}&quot;&gt;\n                &lt;s:include value=&quot;plage/plage_cell.jsp&quot;/&gt;\n            &lt;/s:if&gt;\n        &lt;/s:iterator&gt;\n    &lt;/div&gt;\n&lt;/s:iterator&gt;\n</code></pre>\n\n<p><strong>page_cell.jsp:</strong></p>\n<pre><code>&lt;div class=&quot;g rev-width rev-top-m1&quot;&gt;\n    &lt;div class=&quot;gu desk-w6&quot;&gt;\n        &lt;label&gt;&lt;s:text name=&quot;admin.plage.label.endHour&quot; /&gt;&lt;/label&gt;\n        &lt;s:fielderror class=&quot;fieldError&quot;\n                      fieldName=&quot;plageRecords[%{#innserStat.index}].heureFin&quot;/&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;gu desk-w10&quot;&gt;\n        &lt;s:select name=&quot;plageRecords[%{#innserStat.index}].heureFin&quot;\n                  cssClass=&quot;rev-side-m1 rev-width&quot; list=&quot;endHourList&quot;/&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1635097584,"post_id":69698928,"comment_id":123198724,"body_markdown":"Regex is the wrong tool for this unless two conditions hold: 1) You are guaranteed to always have matching brackets; and 2) You never have brackets nested, as in `a+[b*[c+d]]`.  See https://xkcd.com/1171/ and http://regex.info/blog/2006-09-15/247 - To avoid the issue, learn what regexes are for and especially when they&#39;re NOT the proper solution.","body":"Regex is the wrong tool for this unless two conditions hold: 1) You are guaranteed to always have matching brackets; and 2) You never have brackets nested, as in <code>a+[b*[c+d]]</code>.  See <a href=\"https://xkcd.com/1171/\" rel=\"nofollow noreferrer\">xkcd.com/1171</a> and <a href=\"http://regex.info/blog/2006-09-15/247\" rel=\"nofollow noreferrer\">regex.info/blog/2006-09-15/247</a> - To avoid the issue, learn what regexes are for and especially when they&#39;re NOT the proper solution."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635097900,"creation_date":1635097900,"answer_id":69699381,"question_id":69698928,"body_markdown":"Negative lookahead is needed to match a `+` except those put before the closing bracket `\\]`\r\n```java\r\nString str = &quot;a+[b*a+c]+c+[ab+c]&quot;;\r\nString[] arr = str.split(&quot;\\\\+(?![^\\\\[]*\\\\])&quot;);\r\n\r\nArrays.stream(arr)\r\n      .forEach(System.out::println);\r\n```\r\nOutput\r\n```\r\na\r\n[b*a+c]\r\nc\r\n[ab+c]\r\n```","title":"How to split string by &#39;+&#39; Except inside square brackets","body":"<p>Negative lookahead is needed to match a <code>+</code> except those put before the closing bracket <code>\\]</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;a+[b*a+c]+c+[ab+c]&quot;;\nString[] arr = str.split(&quot;\\\\+(?![^\\\\[]*\\\\])&quot;);\n\nArrays.stream(arr)\n      .forEach(System.out::println);\n</code></pre>\n<p>Output</p>\n<pre><code>a\n[b*a+c]\nc\n[ab+c]\n</code></pre>\n"}],"owner":{"account_id":23130128,"reputation":13,"user_id":17235281,"display_name":"THEseko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69699381,"answer_count":1,"score":1,"last_activity_date":1635097900,"creation_date":1635094594,"question_id":69698928,"body_markdown":"My example string: `a+[b*a+c]+c+[ab+c]` and split by &#39;+&#39;\r\n\r\nAfter split:\r\n\r\n    a\r\n    [b*a+c]\r\n    c\r\n    [ab+c]\r\n\r\nI can do it for parentheses by using `\\\\+(?![^()]*\\\\))` as regex into `input.split(regex)`. But cant figure out for square brackets. I appreciate for any kind of help","title":"How to split string by &#39;+&#39; Except inside square brackets","body":"<p>My example string: <code>a+[b*a+c]+c+[ab+c]</code> and split by '+'</p>\n<p>After split:</p>\n<pre><code>a\n[b*a+c]\nc\n[ab+c]\n</code></pre>\n<p>I can do it for parentheses by using <code>\\\\+(?![^()]*\\\\))</code> as regex into <code>input.split(regex)</code>. But cant figure out for square brackets. I appreciate for any kind of help</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":15943839,"reputation":314,"user_id":11505004,"display_name":"virusarthak"},"score":2,"creation_date":1565177902,"post_id":57393396,"comment_id":101268850,"body_markdown":"https://developer.android.com/guide/topics/display-cutout/  refer this link","body":"<a href=\"https://developer.android.com/guide/topics/display-cutout/\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/display-cutout</a>  refer this link"},{"owner":{"account_id":14288725,"reputation":172,"user_id":10321378,"display_name":"cristiano ronaldo"},"score":0,"creation_date":1565178675,"post_id":57393396,"comment_id":101269258,"body_markdown":"I&#39;ve already read it but i don&#39;t know exactly what to do. Could you tell me please?","body":"I&#39;ve already read it but i don&#39;t know exactly what to do. Could you tell me please?"}],"answers":[{"tags":[],"owner":{"account_id":15869694,"reputation":578,"user_id":11450756,"display_name":"Aashit Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565180900,"creation_date":1565180900,"answer_id":57394539,"question_id":57393396,"body_markdown":"There is a fix for this given by Android Pie Apis.\r\nFollow the following steps:-\r\n\r\n1) Create a new values-v28 folder in your res directory and copy the default styles.xml file into it.\r\nCreate new or edit existing theme \r\n\r\n        &lt;style name=&quot;ActivityTheme&quot;&gt;\r\n        &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;\r\n        shortEdges\r\n        &lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\nThere are 3 possible values for android:windowLayoutInDisplayCutoutMode ie - default,shortEdges and never . Try each to know the difference between them .\r\n ","title":"How to have full-screen despite the notch?","body":"<p>There is a fix for this given by Android Pie Apis.\nFollow the following steps:-</p>\n\n<p>1) Create a new values-v28 folder in your res directory and copy the default styles.xml file into it.\nCreate new or edit existing theme </p>\n\n<pre><code>    &lt;style name=\"ActivityTheme\"&gt;\n    &lt;item name=\"android:windowLayoutInDisplayCutoutMode\"&gt;\n    shortEdges\n    &lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>There are 3 possible values for android:windowLayoutInDisplayCutoutMode ie - default,shortEdges and never . Try each to know the difference between them .</p>\n"},{"tags":[],"owner":{"account_id":3107277,"reputation":1237,"user_id":2629813,"accept_rate":100,"display_name":"Akshatha S R"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565181760,"creation_date":1565181760,"answer_id":57394777,"question_id":57393396,"body_markdown":"Try adding this in your activity\r\n\r\n    \r\n\r\n    getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n\r\nThis makes the activity full screen by removing navigation and status bars ","title":"How to have full-screen despite the notch?","body":"<p>Try adding this in your activity</p>\n\n<pre><code>getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n</code></pre>\n\n<p>This makes the activity full screen by removing navigation and status bars </p>\n"},{"tags":[],"owner":{"account_id":19097165,"reputation":157,"user_id":13946183,"display_name":"Shubham Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635097289,"creation_date":1635097289,"answer_id":69699297,"question_id":57393396,"body_markdown":"Doing this programmaticaly inside a activity which is what worked for me instead of defining a style will be as follows:\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    \r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, \r\n           WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\r\n            getWindow().getAttributes().layoutInDisplayCutoutMode = WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES;\r\n        }\r\n\r\nThis code is what changes the whole scenario for devices with notch display\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\r\n            getWindow().getAttributes().layoutInDisplayCutoutMode = WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES;\r\n        }\r\n\r\nAlso, if by any chance you still see the system ui the use the following code along with the above code\r\n\r\n    getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LOW_PROFILE\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION); \r\n ","title":"How to have full-screen despite the notch?","body":"<p>Doing this programmaticaly inside a activity which is what worked for me instead of defining a style will be as follows:</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, \n       WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\n        getWindow().getAttributes().layoutInDisplayCutoutMode = WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES;\n    }\n</code></pre>\n<p>This code is what changes the whole scenario for devices with notch display</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\n        getWindow().getAttributes().layoutInDisplayCutoutMode = WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES;\n    }\n</code></pre>\n<p>Also, if by any chance you still see the system ui the use the following code along with the above code</p>\n<pre><code>getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LOW_PROFILE\n            | View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n            | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION); \n</code></pre>\n"}],"owner":{"account_id":14288725,"reputation":172,"user_id":10321378,"display_name":"cristiano ronaldo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3159,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1635097289,"creation_date":1565177337,"question_id":57393396,"body_markdown":"I want an activity to be fullscreen despite the notch so that at its sides the screen is useful. Please does anyone know how to do it?\r\n\r\nI guess it must be a different theme or something like that.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rvx26.png","title":"How to have full-screen despite the notch?","body":"<p>I want an activity to be fullscreen despite the notch so that at its sides the screen is useful. Please does anyone know how to do it?</p>\n\n<p>I guess it must be a different theme or something like that.\n<a href=\"https://i.stack.imgur.com/rvx26.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rvx26.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","http","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":7835224,"reputation":3604,"user_id":5923606,"accept_rate":100,"display_name":"ugur"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1460248196,"creation_date":1460246806,"answer_id":36524233,"question_id":36523972,"body_markdown":"I take a look at Retrofit library and noticed that it parses response according to the type class inside `Call&lt;T&gt;`. So you have two option:\r\n1st: create a class according to the response from the server.\r\n\r\n2nd: get the response and handle it yourself (Not recommended Retrofit already handles it. So why do you use Retrofit as it is tailored for this job). Anyway instead of `Call&lt;String&gt;` use `Call&lt;ResponseBody&gt;` and `Call&lt;ResponseBody&gt; signin = service.jquery();` after this put the following \r\n\r\n\r\n    call.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n      @Override\r\n      public void onResponse(Response&lt;ResponseBody&gt; response, Retrofit retrofit) {\r\n        // handle success\r\n       String result = response.body().string();\r\n    \r\n      }\r\n    \r\n      @Override\r\n      public void onFailure(Throwable t) {\r\n        // handle failure\r\n      }\r\n    });","title":"How to get string response from Retrofit2?","body":"<p>I take a look at Retrofit library and noticed that it parses response according to the type class inside <code>Call&lt;T&gt;</code>. So you have two option:\n1st: create a class according to the response from the server.</p>\n\n<p>2nd: get the response and handle it yourself (Not recommended Retrofit already handles it. So why do you use Retrofit as it is tailored for this job). Anyway instead of <code>Call&lt;String&gt;</code> use <code>Call&lt;ResponseBody&gt;</code> and <code>Call&lt;ResponseBody&gt; signin = service.jquery();</code> after this put the following </p>\n\n<pre><code>call.enqueue(new Callback&lt;ResponseBody&gt;() {\n  @Override\n  public void onResponse(Response&lt;ResponseBody&gt; response, Retrofit retrofit) {\n    // handle success\n   String result = response.body().string();\n\n  }\n\n  @Override\n  public void onFailure(Throwable t) {\n    // handle failure\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1460362942,"creation_date":1460362942,"answer_id":36543422,"question_id":36523972,"body_markdown":"You can try the following:\r\n\r\n**build.gradle** file:\r\n\r\n    dependencies {\r\n        ...\r\n        compile &#39;com.squareup.retrofit2:retrofit:2.0.1&#39;\r\n        ...\r\n    }\r\n\r\n**WebAPIService:**\r\n\r\n    @GET(&quot;/api/values&quot;)\r\n    Call&lt;String&gt; getValues();\r\n\r\n**Activity file:**\r\n\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(API_URL_BASE)                    \r\n                    .build();\r\n    \r\n            WebAPIService service = retrofit.create(WebAPIService.class);\r\n    \r\n            Call&lt;String&gt; stringCall = service.getValues();\r\n            stringCall.enqueue(new Callback&lt;String&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\r\n                    Log.i(LOG_TAG, response.body());\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;String&gt; call, Throwable t) {\r\n                    Log.e(LOG_TAG, t.getMessage());\r\n                }\r\n            });\r\n\r\nI have tested with my Web serivce (ASP.Net WebAPI):\r\n\r\n    public class ValuesController : ApiController\r\n    {\r\n            public string Get()\r\n            {\r\n                return &quot;value1&quot;;\r\n            }\r\n    }\r\n\r\nAndroid Logcat out: `04-11 15:17:05.316 23097-23097/com.example.multipartretrofit I/AsyncRetrofit2: value1`\r\n\r\nHope it helps!","title":"How to get string response from Retrofit2?","body":"<p>You can try the following:</p>\n\n<p><strong>build.gradle</strong> file:</p>\n\n<pre><code>dependencies {\n    ...\n    compile 'com.squareup.retrofit2:retrofit:2.0.1'\n    ...\n}\n</code></pre>\n\n<p><strong>WebAPIService:</strong></p>\n\n<pre><code>@GET(\"/api/values\")\nCall&lt;String&gt; getValues();\n</code></pre>\n\n<p><strong>Activity file:</strong></p>\n\n<pre><code>        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(API_URL_BASE)                    \n                .build();\n\n        WebAPIService service = retrofit.create(WebAPIService.class);\n\n        Call&lt;String&gt; stringCall = service.getValues();\n        stringCall.enqueue(new Callback&lt;String&gt;() {\n            @Override\n            public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\n                Log.i(LOG_TAG, response.body());\n            }\n\n            @Override\n            public void onFailure(Call&lt;String&gt; call, Throwable t) {\n                Log.e(LOG_TAG, t.getMessage());\n            }\n        });\n</code></pre>\n\n<p>I have tested with my Web serivce (ASP.Net WebAPI):</p>\n\n<pre><code>public class ValuesController : ApiController\n{\n        public string Get()\n        {\n            return \"value1\";\n        }\n}\n</code></pre>\n\n<p>Android Logcat out: <code>04-11 15:17:05.316 23097-23097/com.example.multipartretrofit I/AsyncRetrofit2: value1</code></p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":7536516,"reputation":2144,"user_id":5722608,"display_name":"Faraz"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1481705663,"creation_date":1481705663,"answer_id":41138352,"question_id":36523972,"body_markdown":"To get the response as a String, you have to write a **converter** and pass it when initializing `Retrofit`.\r\n\r\nHere are the steps.\r\n\r\nInitializing retrofit.\r\n\r\n    Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(API_URL_BASE)\r\n                    .addConverterFactory(new ToStringConverterFactory())\r\n                    .build();\r\n            return retrofit.create(serviceClass);\r\n\r\nConverter class for converting `Retrofit&#39;s ResponseBody` to `String`\r\n\r\n    public class ToStringConverterFactory extends Converter.Factory {\r\n        private static final MediaType MEDIA_TYPE = MediaType.parse(&quot;text/plain&quot;);\r\n    \r\n    \r\n        @Override\r\n        public Converter&lt;ResponseBody, ?&gt; responseBodyConverter(Type type, Annotation[] annotations,\r\n                                                                Retrofit retrofit) {\r\n            if (String.class.equals(type)) {\r\n                return new Converter&lt;ResponseBody, String&gt;() {\r\n                    @Override\r\n                    public String convert(ResponseBody value) throws IOException\r\n                    {\r\n                        return value.string();\r\n                    }\r\n                };\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Converter&lt;?, RequestBody&gt; requestBodyConverter(Type type, Annotation[] parameterAnnotations,\r\n                                                              Annotation[] methodAnnotations, Retrofit retrofit) {\r\n    \r\n            if (String.class.equals(type)) {\r\n                return new Converter&lt;String, RequestBody&gt;() {\r\n                    @Override\r\n                    public RequestBody convert(String value) throws IOException {\r\n                        return RequestBody.create(MEDIA_TYPE, value);\r\n                    }\r\n                };\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nAnd after executing `service.jquery();`,  `signin` will contain JSON response. \r\n\r\n","title":"How to get string response from Retrofit2?","body":"<p>To get the response as a String, you have to write a <strong>converter</strong> and pass it when initializing <code>Retrofit</code>.</p>\n\n<p>Here are the steps.</p>\n\n<p>Initializing retrofit.</p>\n\n<pre><code>Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(API_URL_BASE)\n                .addConverterFactory(new ToStringConverterFactory())\n                .build();\n        return retrofit.create(serviceClass);\n</code></pre>\n\n<p>Converter class for converting <code>Retrofit's ResponseBody</code> to <code>String</code></p>\n\n<pre><code>public class ToStringConverterFactory extends Converter.Factory {\n    private static final MediaType MEDIA_TYPE = MediaType.parse(\"text/plain\");\n\n\n    @Override\n    public Converter&lt;ResponseBody, ?&gt; responseBodyConverter(Type type, Annotation[] annotations,\n                                                            Retrofit retrofit) {\n        if (String.class.equals(type)) {\n            return new Converter&lt;ResponseBody, String&gt;() {\n                @Override\n                public String convert(ResponseBody value) throws IOException\n                {\n                    return value.string();\n                }\n            };\n        }\n        return null;\n    }\n\n    @Override\n    public Converter&lt;?, RequestBody&gt; requestBodyConverter(Type type, Annotation[] parameterAnnotations,\n                                                          Annotation[] methodAnnotations, Retrofit retrofit) {\n\n        if (String.class.equals(type)) {\n            return new Converter&lt;String, RequestBody&gt;() {\n                @Override\n                public RequestBody convert(String value) throws IOException {\n                    return RequestBody.create(MEDIA_TYPE, value);\n                }\n            };\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>And after executing <code>service.jquery();</code>,  <code>signin</code> will contain JSON response. </p>\n"},{"tags":[],"owner":{"account_id":3713682,"reputation":1629,"user_id":3090370,"display_name":"Neyomal"},"down_vote_count":1,"up_vote_count":118,"is_accepted":false,"score":117,"last_activity_date":1635097061,"creation_date":1488210077,"answer_id":42489802,"question_id":36523972,"body_markdown":"Add Retrofit2 and ScalarsConverterFactory to your Retrofit.Builder.\r\n    \r\n    adapterBuilder = new Retrofit.Builder()\r\n                   .addConverterFactory(ScalarsConverterFactory.create())\r\n                   .addConverterFactory(GsonConverterFactory.create());\r\n    \r\nTo use ScalarsCoverter add following dependency to your build graddle\r\n\r\n    implementation &#39;com.squareup.retrofit2:converter-scalars:2.9.0&#39; \r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39; //Adding Retrofit2\r\n    \r\n    For API Call use: \r\n        Call &lt;String&gt; *****\r\n    \r\nAndroid Code :\r\n\r\n    .enqueue(new Callback&lt;String&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\r\n            Log.i(&quot;Response&quot;, response.body().toString());\r\n            //Toast.makeText()\r\n            if (response.isSuccessful()){\r\n                if (response.body() != null){\r\n                    Log.i(&quot;onSuccess&quot;, response.body().toString());\r\n                }else{\r\n                    Log.i(&quot;onEmptyResponse&quot;, &quot;Returned empty response&quot;);//Toast.makeText(getContext(),&quot;Nothing returned&quot;,Toast.LENGTH_LONG).show();\r\n                }\r\n            }","title":"How to get string response from Retrofit2?","body":"<p>Add Retrofit2 and ScalarsConverterFactory to your Retrofit.Builder.</p>\n<pre><code>adapterBuilder = new Retrofit.Builder()\n               .addConverterFactory(ScalarsConverterFactory.create())\n               .addConverterFactory(GsonConverterFactory.create());\n</code></pre>\n<p>To use ScalarsCoverter add following dependency to your build graddle</p>\n<pre><code>implementation 'com.squareup.retrofit2:converter-scalars:2.9.0' \nimplementation 'com.squareup.retrofit2:retrofit:2.9.0' //Adding Retrofit2\n\nFor API Call use: \n    Call &lt;String&gt; *****\n</code></pre>\n<p>Android Code :</p>\n<pre><code>.enqueue(new Callback&lt;String&gt;() {\n    @Override\n    public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\n        Log.i(&quot;Response&quot;, response.body().toString());\n        //Toast.makeText()\n        if (response.isSuccessful()){\n            if (response.body() != null){\n                Log.i(&quot;onSuccess&quot;, response.body().toString());\n            }else{\n                Log.i(&quot;onEmptyResponse&quot;, &quot;Returned empty response&quot;);//Toast.makeText(getContext(),&quot;Nothing returned&quot;,Toast.LENGTH_LONG).show();\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5116959,"reputation":1506,"user_id":4101786,"accept_rate":14,"display_name":"Android Dev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1554707059,"creation_date":1490077130,"answer_id":42919737,"question_id":36523972,"body_markdown":"    String body = new String(((TypedByteArray) response.getBody()).getBytes());\r\n\r\nif you found\r\n\r\n    java.lang.ClassCastException: retrofit.client.UrlConnectionClient$TypedInputStream cannot be cast to retrofit.mime.TypedByteArray\r\n\r\nthen put this in your RestAdapter\r\n\r\n    .setLogLevel(RestAdapter.LogLevel.FULL)\r\n\r\nfor Example:\r\n\r\n    RestAdapter restAdapter = new RestAdapter.Builder()\r\n                .setLogLevel(RestAdapter.LogLevel.FULL)\r\n                .setEndpoint(Root_url)\r\n                .build();\r\n\r\n","title":"How to get string response from Retrofit2?","body":"<pre><code>String body = new String(((TypedByteArray) response.getBody()).getBytes());\n</code></pre>\n\n<p>if you found</p>\n\n<pre><code>java.lang.ClassCastException: retrofit.client.UrlConnectionClient$TypedInputStream cannot be cast to retrofit.mime.TypedByteArray\n</code></pre>\n\n<p>then put this in your RestAdapter</p>\n\n<pre><code>.setLogLevel(RestAdapter.LogLevel.FULL)\n</code></pre>\n\n<p>for Example:</p>\n\n<pre><code>RestAdapter restAdapter = new RestAdapter.Builder()\n            .setLogLevel(RestAdapter.LogLevel.FULL)\n            .setEndpoint(Root_url)\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3642523,"reputation":4487,"user_id":3036320,"display_name":"Ahamadullah Saikat"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1536217222,"creation_date":1536217222,"answer_id":52198217,"question_id":36523972,"body_markdown":"        call.enqueue(new Callback&lt;Object&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;Object&gt; call, @NonNull Response&lt;Object&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    Gson gson = new Gson();\r\n                    String successResponse = gson.toJson(response.body());\r\n                    Log.d(LOG_TAG, &quot;successResponse: &quot; + successResponse);\r\n                } else {\r\n                    try {\r\n                        if (null != response.errorBody()) {\r\n                            String errorResponse = response.errorBody().string();\r\n                            Log.d(LOG_TAG, &quot;errorResponse: &quot; + errorResponse);\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;Object&gt; call, @NonNull Throwable t) {\r\n            }\r\n        });\r\n","title":"How to get string response from Retrofit2?","body":"<pre><code>    call.enqueue(new Callback&lt;Object&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;Object&gt; call, @NonNull Response&lt;Object&gt; response) {\n            if (response.isSuccessful()) {\n                Gson gson = new Gson();\n                String successResponse = gson.toJson(response.body());\n                Log.d(LOG_TAG, \"successResponse: \" + successResponse);\n            } else {\n                try {\n                    if (null != response.errorBody()) {\n                        String errorResponse = response.errorBody().string();\n                        Log.d(LOG_TAG, \"errorResponse: \" + errorResponse);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;Object&gt; call, @NonNull Throwable t) {\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1835474,"reputation":4777,"user_id":1665964,"accept_rate":33,"display_name":"Tapa Save"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1554794787,"creation_date":1554794787,"answer_id":55587242,"question_id":36523972,"body_markdown":"Just use log level `BODY` in intercepror:\r\n\r\n            OkHttpClient.Builder clientBuilder = new OkHttpClient.Builder()....\r\n            HttpLoggingInterceptor httpLoggingInterceptor = new HttpLoggingInterceptor();\r\n            httpLoggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n            clientBuilder.addNetworkInterceptor(httpLoggingInterceptor);\r\n\r\nAnd you can see body in logcat like:\r\n\r\n            D/OkHttp: {&quot;blablabla&quot;:1,.... }\r\n            D/OkHttp: &lt;-- END HTTP (1756-byte body)\r\n\r\nThis solution for debug only, not for get String directly in code.","title":"How to get string response from Retrofit2?","body":"<p>Just use log level <code>BODY</code> in intercepror:</p>\n\n<pre><code>        OkHttpClient.Builder clientBuilder = new OkHttpClient.Builder()....\n        HttpLoggingInterceptor httpLoggingInterceptor = new HttpLoggingInterceptor();\n        httpLoggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n        clientBuilder.addNetworkInterceptor(httpLoggingInterceptor);\n</code></pre>\n\n<p>And you can see body in logcat like:</p>\n\n<pre><code>        D/OkHttp: {\"blablabla\":1,.... }\n        D/OkHttp: &lt;-- END HTTP (1756-byte body)\n</code></pre>\n\n<p>This solution for debug only, not for get String directly in code.</p>\n"},{"tags":[],"owner":{"account_id":6165588,"reputation":1567,"user_id":4805642,"accept_rate":67,"display_name":"Joseph Daudi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559548722,"creation_date":1559548722,"answer_id":56423235,"question_id":36523972,"body_markdown":"thought it might be late to answer just use `response.body()?.string()` and you&#39;ll have your response as a string.","title":"How to get string response from Retrofit2?","body":"<p>thought it might be late to answer just use <code>response.body()?.string()</code> and you'll have your response as a string.</p>\n"},{"tags":[],"owner":{"account_id":7113045,"reputation":851,"user_id":5440277,"display_name":"Ritesh Adulkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600067957,"creation_date":1600067957,"answer_id":63879723,"question_id":36523972,"body_markdown":"I change the Response type, instead of adding **ScalarsConverterFactory** like this\r\n\r\n    interface YourApiService {\r\n    @GET(&quot;/endpoint&quot;)\r\n        fun getResponse(): Call&lt;ResponseBody&gt;\r\n    }\r\nAnd then you can get the string object by  \r\n\r\n`val str = response.body().toString()`","title":"How to get string response from Retrofit2?","body":"<p>I change the Response type, instead of adding <strong>ScalarsConverterFactory</strong> like this</p>\n<pre><code>interface YourApiService {\n@GET(&quot;/endpoint&quot;)\n    fun getResponse(): Call&lt;ResponseBody&gt;\n}\n</code></pre>\n<p>And then you can get the string object by</p>\n<p><code>val str = response.body().toString()</code></p>\n"}],"owner":{"account_id":3166880,"reputation":1335,"user_id":2676680,"accept_rate":56,"display_name":"Matthew Darnell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82311,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"answer_count":9,"score":66,"last_activity_date":1635097061,"creation_date":1460244525,"question_id":36523972,"body_markdown":"I am doing android, looking for a way to do a super basic http GET/POST request. I keep getting an error:\r\n\r\n    java.lang.IllegalArgumentException: Unable to create converter for class java.lang.String\r\n\r\n\r\n\r\nWebservice:\r\n\r\n    public interface WebService {\r\n        @GET(&quot;/projects&quot;)\r\n        Call&lt;String&gt; jquery();\r\n    }\r\n\r\n\r\nthen in my java:\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n            .baseUrl(&quot;https://jquery.org&quot;)\r\n           // .addConverterFactory(GsonConverterFactory.create())\r\n            .build();\r\n\r\n        WebService service = retrofit.create(WebService.class);\r\n        Call&lt;String&gt; signin = service.jquery();\r\n\r\n        Toast.makeText(this, signin.toString(), Toast.LENGTH_LONG).show();\r\n\r\n\r\n\r\nI&#39;m literally just trying to query jquery.org/projects with a GET request and return the String that it responds with. What is wrong?\r\n\r\nIf I try to implement a custom Converter (I&#39;ve found a few examples online) it complains that I didn&#39;t implement the abstract method convert(F), which none of the examples do.\r\n\r\nThanks.","title":"How to get string response from Retrofit2?","body":"<p>I am doing android, looking for a way to do a super basic http GET/POST request. I keep getting an error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Unable to create converter for class java.lang.String\n</code></pre>\n\n<p>Webservice:</p>\n\n<pre><code>public interface WebService {\n    @GET(\"/projects\")\n    Call&lt;String&gt; jquery();\n}\n</code></pre>\n\n<p>then in my java:</p>\n\n<pre><code>    Retrofit retrofit = new Retrofit.Builder()\n        .baseUrl(\"https://jquery.org\")\n       // .addConverterFactory(GsonConverterFactory.create())\n        .build();\n\n    WebService service = retrofit.create(WebService.class);\n    Call&lt;String&gt; signin = service.jquery();\n\n    Toast.makeText(this, signin.toString(), Toast.LENGTH_LONG).show();\n</code></pre>\n\n<p>I'm literally just trying to query jquery.org/projects with a GET request and return the String that it responds with. What is wrong?</p>\n\n<p>If I try to implement a custom Converter (I've found a few examples online) it complains that I didn't implement the abstract method convert(F), which none of the examples do.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","syntax","constructor","linked-list","simplify"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1514421471,"post_id":48000201,"comment_id":82969040,"body_markdown":"Is this a logic question or a syntax question? What exactly don&#39;t you understand?","body":"Is this a logic question or a syntax question? What exactly don&#39;t you understand?"},{"owner":{"account_id":9268927,"reputation":3,"user_id":7468575,"display_name":"Branislav Petrovic"},"score":0,"creation_date":1514456387,"post_id":48000201,"comment_id":82979534,"body_markdown":"@shmosel I guess it is more of a syntax problem, thanks for the comment.","body":"@shmosel I guess it is more of a syntax problem, thanks for the comment."}],"answers":[{"tags":[],"owner":{"account_id":2761650,"reputation":2950,"user_id":2378429,"display_name":"O.O.Balance"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514421337,"creation_date":1514421337,"answer_id":48000227,"question_id":48000201,"body_markdown":"    head = head.next;\r\n    head.previous = null;","title":"Confusing syntax in Java","body":"<pre><code>head = head.next;\nhead.previous = null;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1165304,"reputation":11835,"user_id":1143850,"display_name":"Serge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1514421386,"creation_date":1514421386,"answer_id":48000232,"question_id":48000201,"body_markdown":"It goes like this:\r\n\r\n    if (numElements == 0) {\r\n         head = null;\r\n         tail = null;\r\n    }\r\n    else {\r\n        head = head.next;\r\n        head.previous = null; // the problematic bit\r\n    }\r\n\r\npeople should not write the original way, it makes the code confusing, as you just discovered.","title":"Confusing syntax in Java","body":"<p>It goes like this:</p>\n\n<pre><code>if (numElements == 0) {\n     head = null;\n     tail = null;\n}\nelse {\n    head = head.next;\n    head.previous = null; // the problematic bit\n}\n</code></pre>\n\n<p>people should not write the original way, it makes the code confusing, as you just discovered.</p>\n"},{"tags":[],"owner":{"account_id":5443702,"reputation":513,"user_id":4330992,"accept_rate":100,"display_name":"J. Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514422641,"creation_date":1514422641,"answer_id":48000372,"question_id":48000201,"body_markdown":"Let me try and break it down for you. I am assuming that the part of the code that you are having difficulty understanding is the following: \r\n\r\n    else (head = head.next).previous = null; // the problematic bit\r\n\r\nThe expression inside of the brackets is evaluated first, meaning that the piece of code above essentially becomes the following, as other people before me have already mentioned. \r\n\r\n    head = head.next; // move onto the next node\r\n    head.previous = null;\r\n\r\nIf you are having difficulty comprehending the logic above, try running the following code below. The 4 + 2 is evaluated first before the division operation.\r\n\r\n    System.out.println((4 + 2) / 2);","title":"Confusing syntax in Java","body":"<p>Let me try and break it down for you. I am assuming that the part of the code that you are having difficulty understanding is the following: </p>\n\n<pre><code>else (head = head.next).previous = null; // the problematic bit\n</code></pre>\n\n<p>The expression inside of the brackets is evaluated first, meaning that the piece of code above essentially becomes the following, as other people before me have already mentioned. </p>\n\n<pre><code>head = head.next; // move onto the next node\nhead.previous = null;\n</code></pre>\n\n<p>If you are having difficulty comprehending the logic above, try running the following code below. The 4 + 2 is evaluated first before the division operation.</p>\n\n<pre><code>System.out.println((4 + 2) / 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514426252,"creation_date":1514426252,"answer_id":48000731,"question_id":48000201,"body_markdown":"The temporary node is needed to use `.next` at first time. It&#39;s put on the head. Then when it&#39;s no longer needed it&#39;s removed from head.\r\n\r\nThe problem in the code that `.previous` doesn&#39;t work there because it&#39;s not set in the loop.","title":"Confusing syntax in Java","body":"<p>The temporary node is needed to use <code>.next</code> at first time. It's put on the head. Then when it's no longer needed it's removed from head.</p>\n\n<p>The problem in the code that <code>.previous</code> doesn't work there because it's not set in the loop.</p>\n"}],"owner":{"account_id":9268927,"reputation":3,"user_id":7468575,"display_name":"Branislav Petrovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48000232,"answer_count":4,"score":0,"last_activity_date":1635096996,"creation_date":1514421012,"question_id":48000201,"body_markdown":"I have a piece of code that I&#39;m struggling to comprehend. The code snippet itself is a constructor for a doubly linked list, which is fine; however, the last line says: \r\n\r\n`(head = head.next).previous = null;` \r\n\r\nThis supposedly removes the temporary node that is used to add the nodes from the array `a`. But how does it work? If someone could break it down into clear, separate lines, that would be very helpful.\r\n\r\nHere is the constructor:\r\n\r\n    // standard constructor\r\n    public DoublyLinkedList() {\r\n        head = tail = null;\r\n        numElements = 0;\r\n        changes = 0;\r\n    }\r\n\r\n    // constructor\r\n    public DoublyLinkedList(T[] a) {\r\n        this();  // call the standard constructor\r\n\r\n        Objects.requireNonNull(a, &quot;a is null!&quot;);\r\n\r\n        head = tail = new Node&lt;&gt;(null);  // a temporary node\r\n\r\n        for (T value : a) {\r\n            if (value != null) {\r\n                tail = tail.next = new Node&lt;&gt;(value, tail, null);  // new node at the back\r\n                numElements++;\r\n          }\r\n        }\r\n\r\n        // remove the temporary node\r\n        if (numElements == 0) head = tail = null;\r\n        else (head = head.next).previous = null; // the problematic bit\r\n    }","title":"Confusing syntax in Java","body":"<p>I have a piece of code that I'm struggling to comprehend. The code snippet itself is a constructor for a doubly linked list, which is fine; however, the last line says:</p>\n<p><code>(head = head.next).previous = null;</code></p>\n<p>This supposedly removes the temporary node that is used to add the nodes from the array <code>a</code>. But how does it work? If someone could break it down into clear, separate lines, that would be very helpful.</p>\n<p>Here is the constructor:</p>\n<pre><code>// standard constructor\npublic DoublyLinkedList() {\n    head = tail = null;\n    numElements = 0;\n    changes = 0;\n}\n\n// constructor\npublic DoublyLinkedList(T[] a) {\n    this();  // call the standard constructor\n\n    Objects.requireNonNull(a, &quot;a is null!&quot;);\n\n    head = tail = new Node&lt;&gt;(null);  // a temporary node\n\n    for (T value : a) {\n        if (value != null) {\n            tail = tail.next = new Node&lt;&gt;(value, tail, null);  // new node at the back\n            numElements++;\n      }\n    }\n\n    // remove the temporary node\n    if (numElements == 0) head = tail = null;\n    else (head = head.next).previous = null; // the problematic bit\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1514550133,"post_id":48022492,"comment_id":83014208,"body_markdown":"Provide a  full `StackTrace` and line-numbers","body":"Provide a  full <code>StackTrace</code> and line-numbers"},{"owner":{"account_id":12582921,"reputation":11,"user_id":9152957,"display_name":"Anfeng Liu"},"score":0,"creation_date":1514570619,"post_id":48022492,"comment_id":83022822,"body_markdown":"thanks for the comments, the full stack trace is too long and cannot post, I deleted part of codes and post the stack trace.","body":"thanks for the comments, the full stack trace is too long and cannot post, I deleted part of codes and post the stack trace."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514550274,"creation_date":1514550274,"answer_id":48022597,"question_id":48022492,"body_markdown":"You have invalid access to resources, read [Class InvalidDataAccessResourceUsageException][1]:\r\n\r\n&gt;Root for exceptions thrown when we use a data  access resource incorrectly. Thrown for example on specifying bad SQL when using a RDBMS. Resource-specific subclasses are supplied by concrete data access packages.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.2.18.RELEASE/javadoc-api/org/springframework/dao/InvalidDataAccessResourceUsageException.html","title":"org.springframework.dao.InvalidDataAccessResourceUsageException when running dao findAll()","body":"<p>You have invalid access to resources, read <a href=\"https://docs.spring.io/spring/docs/3.2.18.RELEASE/javadoc-api/org/springframework/dao/InvalidDataAccessResourceUsageException.html\" rel=\"nofollow noreferrer\">Class InvalidDataAccessResourceUsageException</a>:</p>\n\n<blockquote>\n  <p>Root for exceptions thrown when we use a data  access resource incorrectly. Thrown for example on specifying bad SQL when using a RDBMS. Resource-specific subclasses are supplied by concrete data access packages.</p>\n</blockquote>\n"}],"owner":{"account_id":12582921,"reputation":11,"user_id":9152957,"display_name":"Anfeng Liu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635096580,"creation_date":1514549768,"question_id":48022492,"body_markdown":"I am using Spring+Hibernate+Mysql for web application for development. But in past one week, I always got &quot;nested exception is \r\n\r\n&gt;org.springframework.dao.InvalidDataAccessResourceUsageException:&quot; \r\n\r\nexception when try to run `orgdao.findAll()` to fetch all organization. Even I comments all relation properties, but still no lucky. \r\n\r\n**Below are codes:**\r\n\r\n\r\n        @Entity\r\n    @Table(name = &quot;tb_org&quot;)\r\n        public class OrgEntity  extends CommonEntity {\r\n        private static final long serialVersionUID = 1L;\r\n        \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name=&quot;parent_id&quot;)\r\n        private OrgEntity parent;\t\r\n      \r\n        @Length(min=1, max=255)\r\n        private String parentIds; \r\n      \r\n        /*\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name=&quot;area_id&quot;)\r\n        private Area area;\t\t\r\n        */\r\n        @Length(min=0, max=100)\r\n        private String code; \t\r\n      \r\n        @Length(min=1, max=100)\r\n        private String name; \t\r\n    \r\n        private Integer type; \t\r\n        \r\n        private Integer grade; \t\r\n        \r\n        @Length(min=0, max=255)\r\n        private String address; \r\n        \r\n        @Length(min=0, max=100)\r\n        private String zipCode; \r\n        \r\n        @Length(min=0, max=100)\r\n        private String master; \t\r\n        \r\n        @Length(min=0, max=200)\r\n        private String phone; \t\r\n        \r\n        @Length(min=0, max=200)\r\n        private String fax; \t\r\n        \r\n        @Length(min=0, max=200)\r\n        private String email; \r\n           \r\n        /*\r\n        @OneToMany(mappedBy = &quot;orgEntity&quot;, fetch=FetchType.LAZY)\r\n        @JsonIgnore\r\n        private List&lt;UserEntity&gt; userList = Lists.newArrayList();   \r\n        */\r\n        @OneToMany(mappedBy = &quot;parent&quot;, fetch=FetchType.LAZY)\r\n        @JsonIgnore\r\n        private List&lt;OrgEntity&gt; childList = Lists.newArrayList();\r\n    \r\n    \tpublic OrgEntity getParent() {\r\n    \t\treturn parent;\r\n    \t}\r\n    \r\n    \tpublic void setParent(OrgEntity parent) {\r\n    \t\tthis.parent = parent;\r\n    \t}\r\n    \r\n    \tpublic String getParentIds() {\r\n    \t\treturn parentIds;\r\n    \t}\r\n    \r\n    \tpublic void setParentIds(String parentIds) {\r\n    \t\tthis.parentIds = parentIds;\r\n    \t}\r\n    \r\n    \tpublic String getCode() {\r\n    \t\treturn code;\r\n    \t}\r\n    \r\n    \tpublic void setCode(String code) {\r\n    \t\tthis.code = code;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic Integer getType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \r\n    \tpublic void setType(Integer type) {\r\n    \t\tthis.type = type;\r\n    \t}\r\n    \r\n    \tpublic Integer getGrade() {\r\n    \t\treturn grade;\r\n    \t}\r\n    \r\n    \tpublic void setGrade(Integer grade) {\r\n    \t\tthis.grade = grade;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String getZipCode() {\r\n    \t\treturn zipCode;\r\n    \t}\r\n    \r\n    \tpublic void setZipCode(String zipCode) {\r\n    \t\tthis.zipCode = zipCode;\r\n    \t}\r\n    \r\n    \tpublic String getMaster() {\r\n    \t\treturn master;\r\n    \t}\r\n    \r\n    \tpublic void setMaster(String master) {\r\n    \t\tthis.master = master;\r\n    \t}\r\n    \r\n    \tpublic String getPhone() {\r\n    \t\treturn phone;\r\n    \t}\r\n    \r\n    \tpublic void setPhone(String phone) {\r\n    \t\tthis.phone = phone;\r\n    \t}\r\n    \r\n    \tpublic String getFax() {\r\n    \t\treturn fax;\r\n    \t}\r\n    \r\n    \tpublic void setFax(String fax) {\r\n    \t\tthis.fax = fax;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \t/*\r\n    \tpublic List&lt;UserEntity&gt; getUserList() {\r\n    \t\treturn userList;\r\n    \t}\r\n    \r\n    \tpublic void setUserList(List&lt;UserEntity&gt; userList) {\r\n    \t\tthis.userList = userList;\r\n    \t}\r\n    */\r\n    \tpublic List&lt;OrgEntity&gt; getChildList() {\r\n    \t\treturn childList;\r\n    \t}\r\n    \r\n    \tpublic void setChildList(List&lt;OrgEntity&gt; childList) {\r\n    \t\tthis.childList = childList;\r\n    \t}\r\n    \r\n    \tpublic static long getSerialversionuid() {\r\n    \t\treturn serialVersionUID;\r\n    \t}  \r\n    }\r\n    \r\n    \r\n    @MappedSuperclass\r\n    public class CommonEntity extends GenericEntity {\t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t/**\r\n    \t * the createUser\r\n    \t */\r\n    \t/*\r\n    \t@ManyToOne(cascade={CascadeType.REFRESH}, fetch=FetchType.LAZY)\r\n    \t@JoinColumn(name=&quot;createUserId&quot;)\r\n    \t@JsonIgnoreProperties( value={&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\r\n    \tprivate UserEntity createUser;\r\n    \t*/\r\n    \t/**\r\n    \t * The createDate.\r\n    \t */\r\n    \t@Column(name=&quot;createDate&quot;)\r\n    \t@CreatedDate\r\n    \tprivate Date createDate;\r\n    \t\r\n    \t/**\r\n    \t * The lastModifyUser.\r\n    \t */\r\n    \t/*\r\n    \t@ManyToOne(cascade={CascadeType.REFRESH},fetch=FetchType.LAZY)\r\n    \t@JoinColumn(name=&quot;lastModifyUser_id&quot;)\r\n    \t@JsonIgnoreProperties( value={&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\r\n    \tprivate UserEntity lastModifyUser;\r\n    \t*/\r\n    \t/**\r\n    \t * The lastModifyDate.\r\n    \t */\r\n    \t@Column(name=&quot;lastModifyDate&quot;)\r\n    \t@LastModifiedDate\r\n    \tprivate Date lastModifyDate;\r\n    \t\r\n    \t/*\r\n    \t@PrePersist\r\n    \tpublic void preSave() {\r\n    \t\tif((this.getId() == null) &amp;&amp; (this.createUser == null)) {\r\n    \t\t\tthis.createDate = new Date();\r\n    \t\t\tthis.lastModifyDate = new Date();\r\n    \t\t\t//this.createUser = UserUtil.getCurrentUser();\r\n    \t\t\t//this.lastModifyUser = UserUtil.getCurrentUser();\r\n    \t\t} else {\r\n    \t\t\tthis.lastModifyDate = new Date();\r\n    \t\t\t//this.lastModifyUser = UserUtil.getCurrentUser();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic UserEntity getCreateUser() {\r\n    \t\treturn createUser;\r\n    \t}\r\n    \r\n    \tpublic void setCreateUser(UserEntity createUser) {\r\n    \t\tthis.createUser = createUser;\r\n    \t}\r\n    */\r\n    \tpublic Date getCreateDate() {\r\n    \t\treturn createDate;\r\n    \t}\r\n    \r\n    \tpublic void setCreateDate(Date createDate) {\r\n    \t\tthis.createDate = createDate;\r\n    \t}\r\n    \r\n    \t/*\r\n    \tpublic UserEntity getLastModifyUser() {\r\n    \t\treturn lastModifyUser;\r\n    \t}\r\n    \r\n    \tpublic void setLastModifyUser(UserEntity lastModifyUser) {\r\n    \t\tthis.lastModifyUser = lastModifyUser;\r\n    \t}\r\n    */\r\n    \tpublic Date getLastModifyDate() {\r\n    \t\treturn lastModifyDate;\r\n    \t}\r\n    \r\n    \tpublic void setLastModifyDate(Date lastModifyDate) {\r\n    \t\tthis.lastModifyDate = lastModifyDate;\r\n    \t}\r\n    \r\n    \tpublic static long getSerialversionuid() {\r\n    \t\treturn serialVersionUID;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n    \r\n    \r\n\r\n**The logs below for the reference:**\r\n\r\n    22:39:00.737 DEBUG org.hibernate.engine.jdbc.spi.SqlExceptionHelper 124 logExceptions - could not extract ResultSet [n/a] com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Query was empty\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_131]\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_131]\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_131]\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_131]\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:377) ~[mysql-connector-java-5.1.34.jar:5.1.34]\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:360) ~[mysql-connector-java-5.1.34.jar:5.1.34]\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:978) ~[mysql-connector-java-5.1.34.jar:5.1.34]\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3887) ~[mysql-connector-java-5.1.34.jar:5.1.34]\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3823) ~[mysql-connector-java-5.1.34.jar:5.1.34]\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2435) ~[mysql-connector-java-5.1.34.jar:5.1.34]\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2582) ~[mysql-connector-java-5.1.34.jar:5.1.34]\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2530) ~[mysql-connector-java-5.1.34.jar:5.1.34]\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1907) ~[mysql-connector-java-5.1.34.jar:5.1.34]\r\n\tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2030) ~[mysql-connector-java-5.1.34.jar:5.1.34]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_131]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_131]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_131]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_131]\r\n\tat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc.jar:?]\r\n\tat com.sun.proxy.$Proxy98.executeQuery(Unknown Source) ~[?:?]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:71) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2123) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1911) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1887) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:932) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2615) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2598) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2425) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:379) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1488) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1445) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1414) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:146) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:72) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:329) [spring-data-jpa-1.11.4.RELEASE.jar:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_131]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_131]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_131]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_131]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) [spring-data-commons-1.13.4.RELEASE.jar:?]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) [spring-data-commons-1.13.4.RELEASE.jar:?]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) [spring-data-commons-1.13.4.RELEASE.jar:?]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:56) [spring-data-commons-1.13.4.RELEASE.jar:?]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) [spring-data-jpa-1.11.4.RELEASE.jar:?]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) [spring-data-commons-1.13.4.RELEASE.jar:?]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat com.sun.proxy.$Proxy166.findAll(Unknown Source) [?:?]\r\n\tat com.ccgsbj.renewable.base.manager.OrgManager.getAllOrgs(OrgManager.java:82) [classes/:?]\r\n\tat com.ccgsbj.renewable.base.controller.OrgController.getAllOrgs(OrgController.java:31) [classes/:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_131]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_131]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_131]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_131]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622) [servlet-api.jar:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [servlet-api.jar:?]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.45]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-websocket.jar:8.0.45]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.45]\r\n\tat org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [shiro-web-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [shiro-web-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [shiro-web-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [shiro-core-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [shiro-core-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387) [shiro-core-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [shiro-web-1.4.0.jar:1.4.0]\r\n\tat org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.4.0.jar:1.4.0]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.45]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.45]\r\n\tat org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:178) [spring-orm-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:94) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:620) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [catalina.jar:8.0.45]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:502) [catalina.jar:8.0.45]\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1132) [tomcat-coyote.jar:8.0.45]\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:684) [tomcat-coyote.jar:8.0.45]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1533) [tomcat-coyote.jar:8.0.45]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1489) [tomcat-coyote.jar:8.0.45]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_131]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_131]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.0.45]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_131]\r\n\r\n","title":"org.springframework.dao.InvalidDataAccessResourceUsageException when running dao findAll()","body":"<p>I am using Spring+Hibernate+Mysql for web application for development. But in past one week, I always got &quot;nested exception is</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessResourceUsageException:&quot;</p>\n</blockquote>\n<p>exception when try to run <code>orgdao.findAll()</code> to fetch all organization. Even I comments all relation properties, but still no lucky.</p>\n<p><strong>Below are codes:</strong></p>\n<pre><code>    @Entity\n@Table(name = &quot;tb_org&quot;)\n    public class OrgEntity  extends CommonEntity {\n    private static final long serialVersionUID = 1L;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;parent_id&quot;)\n    private OrgEntity parent;   \n  \n    @Length(min=1, max=255)\n    private String parentIds; \n  \n    /*\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;area_id&quot;)\n    private Area area;      \n    */\n    @Length(min=0, max=100)\n    private String code;    \n  \n    @Length(min=1, max=100)\n    private String name;    \n\n    private Integer type;   \n    \n    private Integer grade;  \n    \n    @Length(min=0, max=255)\n    private String address; \n    \n    @Length(min=0, max=100)\n    private String zipCode; \n    \n    @Length(min=0, max=100)\n    private String master;  \n    \n    @Length(min=0, max=200)\n    private String phone;   \n    \n    @Length(min=0, max=200)\n    private String fax;     \n    \n    @Length(min=0, max=200)\n    private String email; \n       \n    /*\n    @OneToMany(mappedBy = &quot;orgEntity&quot;, fetch=FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;UserEntity&gt; userList = Lists.newArrayList();   \n    */\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch=FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;OrgEntity&gt; childList = Lists.newArrayList();\n\n    public OrgEntity getParent() {\n        return parent;\n    }\n\n    public void setParent(OrgEntity parent) {\n        this.parent = parent;\n    }\n\n    public String getParentIds() {\n        return parentIds;\n    }\n\n    public void setParentIds(String parentIds) {\n        this.parentIds = parentIds;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Integer getType() {\n        return type;\n    }\n\n    public void setType(Integer type) {\n        this.type = type;\n    }\n\n    public Integer getGrade() {\n        return grade;\n    }\n\n    public void setGrade(Integer grade) {\n        this.grade = grade;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getZipCode() {\n        return zipCode;\n    }\n\n    public void setZipCode(String zipCode) {\n        this.zipCode = zipCode;\n    }\n\n    public String getMaster() {\n        return master;\n    }\n\n    public void setMaster(String master) {\n        this.master = master;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n    public String getFax() {\n        return fax;\n    }\n\n    public void setFax(String fax) {\n        this.fax = fax;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    /*\n    public List&lt;UserEntity&gt; getUserList() {\n        return userList;\n    }\n\n    public void setUserList(List&lt;UserEntity&gt; userList) {\n        this.userList = userList;\n    }\n*/\n    public List&lt;OrgEntity&gt; getChildList() {\n        return childList;\n    }\n\n    public void setChildList(List&lt;OrgEntity&gt; childList) {\n        this.childList = childList;\n    }\n\n    public static long getSerialversionuid() {\n        return serialVersionUID;\n    }  \n}\n\n\n@MappedSuperclass\npublic class CommonEntity extends GenericEntity {   \n    private static final long serialVersionUID = 1L;\n    \n    /**\n     * the createUser\n     */\n    /*\n    @ManyToOne(cascade={CascadeType.REFRESH}, fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;createUserId&quot;)\n    @JsonIgnoreProperties( value={&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\n    private UserEntity createUser;\n    */\n    /**\n     * The createDate.\n     */\n    @Column(name=&quot;createDate&quot;)\n    @CreatedDate\n    private Date createDate;\n    \n    /**\n     * The lastModifyUser.\n     */\n    /*\n    @ManyToOne(cascade={CascadeType.REFRESH},fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;lastModifyUser_id&quot;)\n    @JsonIgnoreProperties( value={&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\n    private UserEntity lastModifyUser;\n    */\n    /**\n     * The lastModifyDate.\n     */\n    @Column(name=&quot;lastModifyDate&quot;)\n    @LastModifiedDate\n    private Date lastModifyDate;\n    \n    /*\n    @PrePersist\n    public void preSave() {\n        if((this.getId() == null) &amp;&amp; (this.createUser == null)) {\n            this.createDate = new Date();\n            this.lastModifyDate = new Date();\n            //this.createUser = UserUtil.getCurrentUser();\n            //this.lastModifyUser = UserUtil.getCurrentUser();\n        } else {\n            this.lastModifyDate = new Date();\n            //this.lastModifyUser = UserUtil.getCurrentUser();\n        }\n    }\n\n    public UserEntity getCreateUser() {\n        return createUser;\n    }\n\n    public void setCreateUser(UserEntity createUser) {\n        this.createUser = createUser;\n    }\n*/\n    public Date getCreateDate() {\n        return createDate;\n    }\n\n    public void setCreateDate(Date createDate) {\n        this.createDate = createDate;\n    }\n\n    /*\n    public UserEntity getLastModifyUser() {\n        return lastModifyUser;\n    }\n\n    public void setLastModifyUser(UserEntity lastModifyUser) {\n        this.lastModifyUser = lastModifyUser;\n    }\n*/\n    public Date getLastModifyDate() {\n        return lastModifyDate;\n    }\n\n    public void setLastModifyDate(Date lastModifyDate) {\n        this.lastModifyDate = lastModifyDate;\n    }\n\n    public static long getSerialversionuid() {\n        return serialVersionUID;\n    }\n    \n    \n}\n</code></pre>\n<p><strong>The logs below for the reference:</strong></p>\n<pre><code>22:39:00.737 DEBUG org.hibernate.engine.jdbc.spi.SqlExceptionHelper 124 logExceptions - could not extract ResultSet [n/a] com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Query was empty\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_131]\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_131]\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_131]\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_131]\nat com.mysql.jdbc.Util.handleNewInstance(Util.java:377) ~[mysql-connector-java-5.1.34.jar:5.1.34]\nat com.mysql.jdbc.Util.getInstance(Util.java:360) ~[mysql-connector-java-5.1.34.jar:5.1.34]\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:978) ~[mysql-connector-java-5.1.34.jar:5.1.34]\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3887) ~[mysql-connector-java-5.1.34.jar:5.1.34]\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3823) ~[mysql-connector-java-5.1.34.jar:5.1.34]\nat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2435) ~[mysql-connector-java-5.1.34.jar:5.1.34]\nat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2582) ~[mysql-connector-java-5.1.34.jar:5.1.34]\nat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2530) ~[mysql-connector-java-5.1.34.jar:5.1.34]\nat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1907) ~[mysql-connector-java-5.1.34.jar:5.1.34]\nat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2030) ~[mysql-connector-java-5.1.34.jar:5.1.34]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_131]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_131]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_131]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_131]\nat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc.jar:?]\nat com.sun.proxy.$Proxy98.executeQuery(Unknown Source) ~[?:?]\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:71) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.loader.Loader.getResultSet(Loader.java:2123) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1911) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1887) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.loader.Loader.doQuery(Loader.java:932) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.loader.Loader.doList(Loader.java:2615) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.loader.Loader.doList(Loader.java:2598) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2430) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.loader.Loader.list(Loader.java:2425) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:502) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:379) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1488) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1445) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1414) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.query.Query.getResultList(Query.java:146) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:72) [hibernate-core-5.2.10.Final.jar:5.2.10.Final]\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:329) [spring-data-jpa-1.11.4.RELEASE.jar:?]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_131]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_131]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_131]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_131]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) [spring-data-commons-1.13.4.RELEASE.jar:?]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) [spring-data-commons-1.13.4.RELEASE.jar:?]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) [spring-data-commons-1.13.4.RELEASE.jar:?]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:56) [spring-data-commons-1.13.4.RELEASE.jar:?]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) [spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) [spring-data-jpa-1.11.4.RELEASE.jar:?]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) [spring-data-commons-1.13.4.RELEASE.jar:?]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) [spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat com.sun.proxy.$Proxy166.findAll(Unknown Source) [?:?]\nat com.ccgsbj.renewable.base.manager.OrgManager.getAllOrgs(OrgManager.java:82) [classes/:?]\nat com.ccgsbj.renewable.base.controller.OrgController.getAllOrgs(OrgController.java:31) [classes/:?]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_131]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_131]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_131]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_131]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:622) [servlet-api.jar:?]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [servlet-api.jar:?]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292) [catalina.jar:8.0.45]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.45]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-websocket.jar:8.0.45]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.45]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.45]\nat org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [shiro-web-1.4.0.jar:1.4.0]\nat org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.4.0.jar:1.4.0]\nat org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.4.0.jar:1.4.0]\nat org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.4.0.jar:1.4.0]\nat org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.4.0.jar:1.4.0]\nat org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [shiro-web-1.4.0.jar:1.4.0]\nat org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [shiro-web-1.4.0.jar:1.4.0]\nat org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [shiro-core-1.4.0.jar:1.4.0]\nat org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [shiro-core-1.4.0.jar:1.4.0]\nat org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387) [shiro-core-1.4.0.jar:1.4.0]\nat org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [shiro-web-1.4.0.jar:1.4.0]\nat org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.4.0.jar:1.4.0]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.45]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.45]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.45]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.45]\nat org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:178) [spring-orm-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) [catalina.jar:8.0.45]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) [catalina.jar:8.0.45]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) [catalina.jar:8.0.45]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:94) [catalina.jar:8.0.45]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504) [catalina.jar:8.0.45]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [catalina.jar:8.0.45]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [catalina.jar:8.0.45]\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:620) [catalina.jar:8.0.45]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [catalina.jar:8.0.45]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:502) [catalina.jar:8.0.45]\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1132) [tomcat-coyote.jar:8.0.45]\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:684) [tomcat-coyote.jar:8.0.45]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1533) [tomcat-coyote.jar:8.0.45]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1489) [tomcat-coyote.jar:8.0.45]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_131]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_131]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.0.45]\nat java.lang.Thread.run(Thread.java:748) [?:1.8.0_131]\n</code></pre>\n"},{"tags":["java","gradle","build","build.gradle","workflow"],"answers":[{"tags":[],"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1635096495,"creation_date":1581075761,"answer_id":60112810,"question_id":60111982,"body_markdown":"There are lots of different tasks you can run individually. For instance:\r\n\r\n* `gradle classes`: Will compile your &quot;main&quot; code.\r\n* `gradle testClasses`: Will compile your &quot;main&quot; code as well as test code.\r\n* `gradle jar`: Will compile your &quot;main&quot; code and assemble it into a jar.\r\n\r\nNone of the above will run your unit tests. On the other hand, the `build` task depends on all of the above, as well as the `test` task and more.\r\n\r\nIn general, if you like to run a particular set of tasks, you do that by defining a new task and then make dependencies to those other tasks you like to run with it. You tried that already, but instead of `build` you should have used something like `compileJava` or `classes` whatever other tasks you need. But always check if there isn&#39;t one already that satisfies your needs, like there are in this case. You can read about what tasks are available in Java projects in the documentation for the [Gradle java plugin](https://docs.gradle.org/current/userguide/java_plugin.html).","title":"How do I make an alias for a Gradle task?","body":"<p>There are lots of different tasks you can run individually. For instance:</p>\n<ul>\n<li><code>gradle classes</code>: Will compile your &quot;main&quot; code.</li>\n<li><code>gradle testClasses</code>: Will compile your &quot;main&quot; code as well as test code.</li>\n<li><code>gradle jar</code>: Will compile your &quot;main&quot; code and assemble it into a jar.</li>\n</ul>\n<p>None of the above will run your unit tests. On the other hand, the <code>build</code> task depends on all of the above, as well as the <code>test</code> task and more.</p>\n<p>In general, if you like to run a particular set of tasks, you do that by defining a new task and then make dependencies to those other tasks you like to run with it. You tried that already, but instead of <code>build</code> you should have used something like <code>compileJava</code> or <code>classes</code> whatever other tasks you need. But always check if there isn't one already that satisfies your needs, like there are in this case. You can read about what tasks are available in Java projects in the documentation for the <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html\" rel=\"nofollow noreferrer\">Gradle java plugin</a>.</p>\n"}],"owner":{"account_id":443321,"reputation":1472,"user_id":834459,"accept_rate":78,"display_name":"Vidur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5525,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60112810,"answer_count":1,"score":5,"last_activity_date":1635096495,"creation_date":1581072712,"question_id":60111982,"body_markdown":"As a part of a TDD workflow, I want to be able to check if my Java codebase compiles, but not if the tests pass.\r\n\r\nCurrently, if I run `gradle build` it runs the compile tasks (for source and tests) and then also executes the test task (and returns a non-zero exit code since the tests fail).\r\n\r\nSo I find that I have to run `gradle build -x test` to exclude the test task, and get a successful zero exit code.\r\n\r\nWhat do I add to my `build.gradle` to define a new task, say `compile` that is an alias for `build x test`?\r\n\r\nSo far I have this, but it doesn&#39;t seem like `dependsOn` takes any arguments to customize the `build` task I want to execute:\r\n```\r\ntask compile {\r\n    dependsOn build\r\n}\r\n```\r\n\r\nI&#39;ve been reading [the docs here](https://docs.gradle.org/current/dsl/org.gradle.api.Task.html), I see different kinds of dependency chaining mechanisms, but not to disable/exclude a particular task. How does the `-x` flag even work then? I assumed there would be a way to control it programmatically too.\r\n\r\n---\r\n\r\nThanks to [Bj&#248;rn Vester&#39;s answer](https://stackoverflow.com/questions/60111982/how-do-i-make-an-alias-for-a-gradle-task#60112810) and reading the docs, I have implemented my task as follows:\r\n\r\n```\r\ntask compile {\r\n    dependsOn classes\r\n    dependsOn testClasses\r\n}\r\n```","title":"How do I make an alias for a Gradle task?","body":"<p>As a part of a TDD workflow, I want to be able to check if my Java codebase compiles, but not if the tests pass.</p>\n\n<p>Currently, if I run <code>gradle build</code> it runs the compile tasks (for source and tests) and then also executes the test task (and returns a non-zero exit code since the tests fail).</p>\n\n<p>So I find that I have to run <code>gradle build -x test</code> to exclude the test task, and get a successful zero exit code.</p>\n\n<p>What do I add to my <code>build.gradle</code> to define a new task, say <code>compile</code> that is an alias for <code>build x test</code>?</p>\n\n<p>So far I have this, but it doesn't seem like <code>dependsOn</code> takes any arguments to customize the <code>build</code> task I want to execute:</p>\n\n<pre><code>task compile {\n    dependsOn build\n}\n</code></pre>\n\n<p>I've been reading <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.Task.html\" rel=\"noreferrer\">the docs here</a>, I see different kinds of dependency chaining mechanisms, but not to disable/exclude a particular task. How does the <code>-x</code> flag even work then? I assumed there would be a way to control it programmatically too.</p>\n\n<hr>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/questions/60111982/how-do-i-make-an-alias-for-a-gradle-task#60112810\">Bjrn Vester's answer</a> and reading the docs, I have implemented my task as follows:</p>\n\n<pre><code>task compile {\n    dependsOn classes\n    dependsOn testClasses\n}\n</code></pre>\n"},{"tags":["java","eclipse","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635097350,"post_id":69699145,"comment_id":123198653,"body_markdown":"Also, maybe [this](https://stackoverflow.com/q/68554693), [this](https://stackoverflow.com/q/20067285) or maybe [this](https://stackoverflow.com/q/65658371) can help you","body":"Also, maybe <a href=\"https://stackoverflow.com/q/68554693\">this</a>, <a href=\"https://stackoverflow.com/q/20067285\">this</a> or maybe <a href=\"https://stackoverflow.com/q/65658371\">this</a> can help you"},{"owner":{"account_id":15394099,"reputation":1,"user_id":11105823,"display_name":"Marino"},"score":0,"creation_date":1635097665,"post_id":69699145,"comment_id":123198748,"body_markdown":"@Elikill58 Thank you so much for your help. So if I understand this correctly I simply dont need that argument and can just remove it, correct?","body":"@Elikill58 Thank you so much for your help. So if I understand this correctly I simply dont need that argument and can just remove it, correct?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635097702,"post_id":69699145,"comment_id":123198758,"body_markdown":"I think yes, you can just remove it and try without","body":"I think yes, you can just remove it and try without"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635097872,"post_id":69699145,"comment_id":123198803,"body_markdown":"Perfect ! I suggest you to allow for the duplicate :)","body":"Perfect ! I suggest you to allow for the duplicate :)"}],"owner":{"account_id":15394099,"reputation":1,"user_id":11105823,"display_name":"Marino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635098279,"answer_count":0,"score":0,"last_activity_date":1635096247,"creation_date":1635096247,"question_id":69699145,"body_markdown":"I&#39;m trying to code my own minecraft pvp client to learn more about how minecraft works and to familiarize myself more with java. I&#39;ve decompiled MCP 9.10 succesfully, opened it with Eclipse 2021-09 and fixed all the library errors. That should be enough to be able to run it now, but no matter what I try I get this error every single time:\r\n\r\n\\&lt;terminated&gt; Client[Java Application] C:\\\\*my user*\\\\.p2\\pool\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.0.v20211012-1059\\jre\\bin\\javaw.exe\r\n\r\nUnrecognized option: -Xincgc\r\n\r\nhttps://i.stack.imgur.com/50PSt.png\r\n\r\nI&#39;ve tried installing jdk-6, jdk-7, jdk-8 I have installed by default and Eclipse installed jdk-11 itself and nothing changed. I know for a fact that I&#39;m doing something wrong because I dont just have this problem on this pc. I&#39;ve had the same thing happen on my laptop. So yeah, I dont know what to do.","title":"Eclipse JVM error when compiling MCP 9.10","body":"<p>I'm trying to code my own minecraft pvp client to learn more about how minecraft works and to familiarize myself more with java. I've decompiled MCP 9.10 succesfully, opened it with Eclipse 2021-09 and fixed all the library errors. That should be enough to be able to run it now, but no matter what I try I get this error every single time:</p>\n<p>&lt;terminated&gt; Client[Java Application] C:\\<em>my user</em>\\.p2\\pool\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.0.v20211012-1059\\jre\\bin\\javaw.exe</p>\n<p>Unrecognized option: -Xincgc</p>\n<p><a href=\"https://i.stack.imgur.com/50PSt.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/50PSt.png</a></p>\n<p>I've tried installing jdk-6, jdk-7, jdk-8 I have installed by default and Eclipse installed jdk-11 itself and nothing changed. I know for a fact that I'm doing something wrong because I dont just have this problem on this pc. I've had the same thing happen on my laptop. So yeah, I dont know what to do.</p>\n"},{"tags":["java","sockets","networking","tcp"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1635080336,"post_id":69695291,"comment_id":123194174,"body_markdown":"You need to provide more context for that exception. What line in your code is that exception coming from?","body":"You need to provide more context for that exception. What line in your code is that exception coming from?"}],"answers":[{"tags":[],"owner":{"account_id":7138022,"reputation":329,"user_id":5621167,"accept_rate":88,"display_name":"oturan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635068173,"creation_date":1635068173,"answer_id":69695500,"question_id":69695291,"body_markdown":"I think you&#39;re trying to read from the socket in a separate thread even after your main thread closes the socket the other thread is still trying to read from it.\r\n\r\nI guess a simple check-in your other thread might resolve this issue:\r\n\r\n    if(socket.isClosed())\r\n       System.out.println(in.readLine());\r\n\r\nI&#39;m skeptical about the use of `isClosed` but I think it is worth trying out.\r\n\r\n","title":"SocketException when closing socket","body":"<p>I think you're trying to read from the socket in a separate thread even after your main thread closes the socket the other thread is still trying to read from it.</p>\n<p>I guess a simple check-in your other thread might resolve this issue:</p>\n<pre><code>if(socket.isClosed())\n   System.out.println(in.readLine());\n</code></pre>\n<p>I'm skeptical about the use of <code>isClosed</code> but I think it is worth trying out.</p>\n"}],"owner":{"account_id":20912629,"reputation":141,"user_id":15363153,"display_name":"Ineversurrender93"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635094268,"creation_date":1635066355,"question_id":69695291,"body_markdown":"I have a client which continuously both sends and receives data messages which works fine, however when I close/stop the client then I get the following single line error:\r\n\r\n&gt;java.net.SocketException: Socket closed\r\n\r\nDespite me closing the socket in a try-finally enclosing. Now my question is as to why I receive this error and whether or not this behavior is normal or not and how to properly handle this error. Below is my code:\r\n\r\n    public static void main(String[] args) throws UnknownHostException, IOException {\r\n\t\t\r\n\t\tSocket socket = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tsocket = new Socket(&quot;localhost&quot;, 9101);\r\n\t\t\t \r\n\t\t\tPrintWriter out = new PrintWriter(socket.getOutputStream());\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\r\n\t\t\t\r\n\t\t\tThread thread = new Thread(new Runnable() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\r\n\t\t\t\t\twhile(true) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tSystem.out.println(in.readLine());\r\n\t\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;error&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthread.start();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Write to server:&quot;);\r\n\t\t\t\r\n\t\t\tScanner scanner = new Scanner(System.in);\r\n\r\n\t\t\twhile (scanner.hasNextLine()) {\r\n\t\t\t\tString message = scanner.nextLine(); \r\n\r\n\t\t\t\tout.println(message);\r\n\t\t\t\tout.flush();\r\n\r\n\t\t\t};\r\n\t\t} finally {\r\n\t\t\tsocket.close();\r\n\t\t}\r\n\t}","title":"SocketException when closing socket","body":"<p>I have a client which continuously both sends and receives data messages which works fine, however when I close/stop the client then I get the following single line error:</p>\n<blockquote>\n<p>java.net.SocketException: Socket closed</p>\n</blockquote>\n<p>Despite me closing the socket in a try-finally enclosing. Now my question is as to why I receive this error and whether or not this behavior is normal or not and how to properly handle this error. Below is my code:</p>\n<pre><code>public static void main(String[] args) throws UnknownHostException, IOException {\n    \n    Socket socket = null;\n    \n    try {\n        socket = new Socket(&quot;localhost&quot;, 9101);\n         \n        PrintWriter out = new PrintWriter(socket.getOutputStream());\n        BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n\n        \n        Thread thread = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n\n                while(true) {\n                    try {\n                        System.out.println(in.readLine());\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                        System.out.println(&quot;error&quot;);\n                    }\n                }\n            }\n        });\n        thread.start();\n        \n        System.out.println(&quot;Write to server:&quot;);\n        \n        Scanner scanner = new Scanner(System.in);\n\n        while (scanner.hasNextLine()) {\n            String message = scanner.nextLine(); \n\n            out.println(message);\n            out.flush();\n\n        };\n    } finally {\n        socket.close();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4595432,"reputation":475,"user_id":3727648,"accept_rate":89,"display_name":"MatthewS"},"score":0,"creation_date":1635093666,"post_id":69698765,"comment_id":123197670,"body_markdown":"Can you try to clarify your question a little? Provide a sample input, what you expect the output to be, etc.","body":"Can you try to clarify your question a little? Provide a sample input, what you expect the output to be, etc."},{"owner":{"account_id":8104896,"reputation":110,"user_id":6106795,"display_name":"Tacolibre"},"score":0,"creation_date":1635093869,"post_id":69698765,"comment_id":123197727,"body_markdown":"Do you mean that you want the digit sum of each element in the array?","body":"Do you mean that you want the digit sum of each element in the array?"},{"owner":{"account_id":23129279,"reputation":15,"user_id":17234604,"display_name":"Dustin McDonnell"},"score":0,"creation_date":1635093919,"post_id":69698765,"comment_id":123197744,"body_markdown":"I edited my post to show expected output, sorry for the confusion.","body":"I edited my post to show expected output, sorry for the confusion."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635094029,"creation_date":1635094029,"answer_id":69698863,"question_id":69698765,"body_markdown":"You want the total. Declare a variable to compute the total with before your loop. Add the values to the total. Print it after your loop. Like,\r\n\r\n    int total = 0;\r\n    while ((input = br.readLine()) != null) {\r\n        String[] inputSplit = input.split(&quot;\\\\s+&quot;);\r\n        // int maleBb = Integer.parseInt(inputSplit[2]); // what is a maleBb?\r\n        total += Integer.parseInt(inputSplit[2]);\r\n    }\r\n    System.out.println(total);\r\n\r\n","title":"How would you add all the numbers inside a single element of an array?","body":"<p>You want the total. Declare a variable to compute the total with before your loop. Add the values to the total. Print it after your loop. Like,</p>\n<pre><code>int total = 0;\nwhile ((input = br.readLine()) != null) {\n    String[] inputSplit = input.split(&quot;\\\\s+&quot;);\n    // int maleBb = Integer.parseInt(inputSplit[2]); // what is a maleBb?\n    total += Integer.parseInt(inputSplit[2]);\n}\nSystem.out.println(total);\n</code></pre>\n"}],"owner":{"account_id":23129279,"reputation":15,"user_id":17234604,"display_name":"Dustin McDonnell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1635094824,"accepted_answer_id":69698863,"answer_count":1,"score":0,"last_activity_date":1635094029,"creation_date":1635093322,"question_id":69698765,"body_markdown":"How would you go about adding the total number to all the integers inside an array element?\r\nMy code below is what I have and the issue is the multiple numbers are all displayed in different rows but I can&#39;t get them to add together because its all considered one integer.\r\n\r\nThis is what my output looks like.\r\n```\r\n462085\r\n361250\r\n351477\r\n328955\r\n```\r\n\r\nBut when I attempt to alter the numbers in any way I get something like this,\r\n+2\r\n\r\n```\r\n462087\r\n361252\r\n351479\r\n328957\r\n``` \r\nWhen I really want to get just get the total sum of the numbers.\r\nDesrired Output:\r\n```\r\n1503767\r\n```\r\nI attempted to use .parseInt() but that did not seem to make a difference.\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\n\r\n\r\npublic class babySort {\r\n    public static void main(String[] args) {\r\n        File inputFile = new File(&quot;src/babynames.txt&quot;);\r\n\r\n\r\n\r\n        try (BufferedReader br = new BufferedReader(new FileReader(inputFile, StandardCharsets.UTF_8))) {\r\n            String input;\r\n            String maleNames;\r\n            while ((input = br.readLine()) != null) {\r\n                // process the line\r\n                String[] inputSplit = input.split(&quot;\\\\s+&quot;);\r\n               // System.out.println(inputSplit[2]);\r\n                int maleBb = Integer.parseInt(inputSplit[2]);\r\n                System.out.println(maleBb);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n            \r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How would you add all the numbers inside a single element of an array?","body":"<p>How would you go about adding the total number to all the integers inside an array element?\nMy code below is what I have and the issue is the multiple numbers are all displayed in different rows but I can't get them to add together because its all considered one integer.</p>\n<p>This is what my output looks like.</p>\n<pre><code>462085\n361250\n351477\n328955\n</code></pre>\n<p>But when I attempt to alter the numbers in any way I get something like this,\n+2</p>\n<pre><code>462087\n361252\n351479\n328957\n</code></pre>\n<p>When I really want to get just get the total sum of the numbers.\nDesrired Output:</p>\n<pre><code>1503767\n</code></pre>\n<p>I attempted to use .parseInt() but that did not seem to make a difference.</p>\n<pre><code>import java.io.*;\nimport java.nio.charset.StandardCharsets;\n\n\n\npublic class babySort {\n    public static void main(String[] args) {\n        File inputFile = new File(&quot;src/babynames.txt&quot;);\n\n\n\n        try (BufferedReader br = new BufferedReader(new FileReader(inputFile, StandardCharsets.UTF_8))) {\n            String input;\n            String maleNames;\n            while ((input = br.readLine()) != null) {\n                // process the line\n                String[] inputSplit = input.split(&quot;\\\\s+&quot;);\n               // System.out.println(inputSplit[2]);\n                int maleBb = Integer.parseInt(inputSplit[2]);\n                System.out.println(maleBb);\n\n\n\n\n\n\n\n            }\n\n            \n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n        }\n\n}\n</code></pre>\n"},{"tags":["java","motherboard"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1327463305,"post_id":8997565,"comment_id":11276735,"body_markdown":"Java is not the best language for this.  In fact, since most of it would require OS specific native code, it might be more accurate to say that &quot;Java can&#39;t do it&quot;.","body":"Java is not the best language for this.  In fact, since most of it would require OS specific native code, it might be more accurate to say that &quot;Java can&#39;t do it&quot;."},{"owner":{"account_id":275393,"reputation":4657,"user_id":568254,"accept_rate":60,"display_name":"Daniel B. Chapman"},"score":1,"creation_date":1327463601,"post_id":8997565,"comment_id":11276772,"body_markdown":"you will probably need to make a JNI call. It wouldn&#39;t be that difficult if you know the platform and deployment. http://stackoverflow.com/questions/123575/how-to-get-the-temperature-of-motherboard-of-a-pc-and-other-hardware-statistics","body":"you will probably need to make a JNI call. It wouldn&#39;t be that difficult if you know the platform and deployment. <a href=\"http://stackoverflow.com/questions/123575/how-to-get-the-temperature-of-motherboard-of-a-pc-and-other-hardware-statistics\" title=\"how to get the temperature of motherboard of a pc and other hardware statistics\">stackoverflow.com/questions/123575/&hellip;</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1327464011,"post_id":8997565,"comment_id":11276809,"body_markdown":"I edited your post to better reflect the information required.  You might glean the information revealed by source on [this post](http://stackoverflow.com/a/7616206/418556) to get part of the information.","body":"I edited your post to better reflect the information required.  You might glean the information revealed by source on <a href=\"http://stackoverflow.com/a/7616206/418556\">this post</a> to get part of the information."},{"owner":{"account_id":1188517,"reputation":353,"user_id":1161943,"accept_rate":68,"display_name":"dsta"},"score":0,"creation_date":1327464056,"post_id":8997565,"comment_id":11276816,"body_markdown":"@Daniel Well, I just actually started learning Java about a week ago lol, but I&#39;ll give it a shot.","body":"@Daniel Well, I just actually started learning Java about a week ago lol, but I&#39;ll give it a shot."},{"owner":{"account_id":1188517,"reputation":353,"user_id":1161943,"accept_rate":68,"display_name":"dsta"},"score":0,"creation_date":1327466171,"post_id":8997565,"comment_id":11277083,"body_markdown":"@DarthVader Yea I was just looking into that. I would like to write it in Java though, since it is more portable. I would also like to start learning the JNI, but I&#39;m starting to wonder if this program is possible for me to write in Java.","body":"@DarthVader Yea I was just looking into that. I would like to write it in Java though, since it is more portable. I would also like to start learning the JNI, but I&#39;m starting to wonder if this program is possible for me to write in Java."},{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1327466644,"post_id":8997565,"comment_id":11277175,"body_markdown":"u dont need portability when you  have windows.","body":"u dont need portability when you  have windows."},{"owner":{"account_id":1188517,"reputation":353,"user_id":1161943,"accept_rate":68,"display_name":"dsta"},"score":0,"creation_date":1327467092,"post_id":8997565,"comment_id":11277241,"body_markdown":"true lol but I also have a mac that I want to try it out on.","body":"true lol but I also have a mac that I want to try it out on."},{"owner":{"account_id":275393,"reputation":4657,"user_id":568254,"accept_rate":60,"display_name":"Daniel B. Chapman"},"score":0,"creation_date":1327530557,"post_id":8997565,"comment_id":11297114,"body_markdown":"@dsta you need a fair amount of C knowledge to really utilize the JNI in a productive manner. If you&#39;re just playing around with it Java definitely isn&#39;t the best language (by a long shot) for this problem. Is it possible? Absolutely. Is it smart? Definitely up for debate.","body":"@dsta you need a fair amount of C knowledge to really utilize the JNI in a productive manner. If you&#39;re just playing around with it Java definitely isn&#39;t the best language (by a long shot) for this problem. Is it possible? Absolutely. Is it smart? Definitely up for debate."}],"answers":[{"tags":[],"owner":{"account_id":180661,"reputation":4734,"user_id":414121,"accept_rate":90,"display_name":"polemon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327463572,"creation_date":1327463572,"answer_id":8997606,"question_id":8997565,"body_markdown":"To be honest, since that is a low-level functionality, I doubt that Java is suited for things like that.\r\n\r\nAnyhow, you could run other programs on Linux to check for that, things like [`dmidecode`][1], etc. or reading the `/proc` pseudo filesystem.\r\n\r\nI don&#39;t know if it is really helping, but [here&#39;s a web page][2], that describes that kind of functionality under Windows.\r\n\r\n  [1]: http://linux.die.net/man/8/dmidecode\r\n  [2]: http://www.rgagnon.com/javadetails/java-0580.html","title":"Get motherboard information","body":"<p>To be honest, since that is a low-level functionality, I doubt that Java is suited for things like that.</p>\n\n<p>Anyhow, you could run other programs on Linux to check for that, things like <a href=\"http://linux.die.net/man/8/dmidecode\" rel=\"nofollow\"><code>dmidecode</code></a>, etc. or reading the <code>/proc</code> pseudo filesystem.</p>\n\n<p>I don't know if it is really helping, but <a href=\"http://www.rgagnon.com/javadetails/java-0580.html\" rel=\"nofollow\">here's a web page</a>, that describes that kind of functionality under Windows.</p>\n"},{"tags":[],"owner":{"account_id":174783,"reputation":2830,"user_id":404357,"display_name":"mantrid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327465603,"creation_date":1327465603,"answer_id":8997805,"question_id":8997565,"body_markdown":"if your application is targeted for Windows, you could try using Java Native Access. [Here is a tutorial][1]. it is a kind of a bridge to system native libraries that omits JNI dirty stuff. if you can indetify Windows libraries and their callbacks for information you need, I think you should be able to call them via JNA. similar should be also possible on Linux.\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-02-2008/jw-02-opensourcejava-jna.html","title":"Get motherboard information","body":"<p>if your application is targeted for Windows, you could try using Java Native Access. <a href=\"http://www.javaworld.com/javaworld/jw-02-2008/jw-02-opensourcejava-jna.html\" rel=\"nofollow\">Here is a tutorial</a>. it is a kind of a bridge to system native libraries that omits JNI dirty stuff. if you can indetify Windows libraries and their callbacks for information you need, I think you should be able to call them via JNA. similar should be also possible on Linux.</p>\n"}],"owner":{"account_id":1188517,"reputation":353,"user_id":1161943,"accept_rate":68,"display_name":"dsta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2472,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635093480,"creation_date":1327463164,"question_id":8997565,"body_markdown":"I&#39;m starting to write an application in Java that gets all the hard drive info, memory info, processor info, and prints it out. I was wondering if it was possible to also get all motherboard information. Like if there are any video cards, network cards, or sound cards connected and get their identifying information (brand, model etc.). \r\n\r\nBasically, I want this program to tell you every component of your computer and give you the option to print it out.\r\n\r\nHow to get motherboard information?","title":"Get motherboard information","body":"<p>I'm starting to write an application in Java that gets all the hard drive info, memory info, processor info, and prints it out. I was wondering if it was possible to also get all motherboard information. Like if there are any video cards, network cards, or sound cards connected and get their identifying information (brand, model etc.). </p>\n\n<p>Basically, I want this program to tell you every component of your computer and give you the option to print it out.</p>\n\n<p>How to get motherboard information?</p>\n"},{"tags":["java","multithreading","sockets"],"answers":[{"tags":[],"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635093187,"creation_date":1635093187,"answer_id":69698744,"question_id":69698504,"body_markdown":"Adding `bw.flus()` seems to solve all my problems.","title":"Thread sleep is freezing my code. Java client-Server communication","body":"<p>Adding <code>bw.flus()</code> seems to solve all my problems.</p>\n"}],"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635093187,"creation_date":1635091486,"question_id":69698504,"body_markdown":"I wrote a program that creates a communication with sockets between two computers. Currently the program makes the server send numbers from 1 to 50 to the client. \r\n\r\nWhen I run this program the outputs via the console appear way too fast so I would like to make the message sender thread to sleep for a second. However when I write the try catch to make the thread sleep the whole program stops. What am I doing wrong?\r\n\r\nServer side:\r\n\r\n```\r\npublic class ControladorClientes extends Thread{\r\n\tpublic Socket s;\r\n\tprivate OutputStreamWriter osw;\r\n\tpublic InputStreamReader isr;\r\n\t\t\t\r\n\tpublic ControladorClientes(Socket s) {\r\n\t\ttry {\r\n\t\t\tthis.s = s;\r\n\t\t\tthis.osw = new OutputStreamWriter(s.getOutputStream());\r\n\t\t\tthis.isr = new InputStreamReader(s.getInputStream());\r\n\t\t\t\r\n\t\t}catch(IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tThread tWriter = new ServerWriter(osw);\r\n\t\ttWriter.start();\r\n\r\n\t}\r\n}\r\n```\r\nServerWriter:\r\n```\r\npublic class ServerWriter extends Thread{\r\n\tOutputStreamWriter osw;\r\n\t\r\n\tpublic ServerWriter(OutputStreamWriter osw) {\r\n\t\tthis.osw = osw;\r\n\t}\r\n\t\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tint n = 1;\r\n\t\tboolean active = true;\r\n\t\tBufferedWriter bw = new BufferedWriter(osw);\r\n\t\twhile(active) {\r\n\t\t\ttry {\r\n\t\t\t\tbw.write(&quot;Server: &quot; + Integer.toString(n));\r\n\t\t\t\tbw.newLine();\r\n\t\t\t\tn++;\r\n\t\t\t\tif(n==50) n = 1;\r\n\t\t\t\ttry{Thread.sleep(100);}catch(InterruptedException ex){ex.printStackTrace();;}\r\n\t\t\t}catch(IOException e) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tactive = false;\r\n\t\t\t\t\tif(bw != null) bw.close();\r\n\t\t\t\t}catch(IOException f) {e.printStackTrace();f.printStackTrace();}\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nClient:\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class SimpleClient {\r\n\tpublic static void main(String[] args){\r\n\t\ttry {\r\n\t\t\tSocket s = new Socket(&quot;localhost&quot;, 5555);\r\n\t\t\t\r\n\t\t\tInputStreamReader isr = new InputStreamReader(s.getInputStream());\r\n\t\t\tThread tReader = new ClientReader(isr);\r\n\t\t\ttReader.start();\r\n\t\t}catch(IOException e) {e.printStackTrace();}\r\n\t}\r\n}\r\n```\r\nAnd the ClientReader:\r\n```\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class ClientReader extends Thread {\r\n\tInputStreamReader isr;\r\n\tpublic ClientReader(InputStreamReader isr) {\r\n\t\tthis.isr = isr;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tBufferedReader br = new BufferedReader(isr);\r\n\t\twhile(true) {\r\n\t\t\ttry {\r\n\t\t\t\tString msg = br.readLine();\r\n\t\t\t\tSystem.out.println(msg);\r\n\t\t\t} catch (IOException e) {e.printStackTrace();break;}\r\n\t\t}\r\n\t}\r\n}\r\n````","title":"Thread sleep is freezing my code. Java client-Server communication","body":"<p>I wrote a program that creates a communication with sockets between two computers. Currently the program makes the server send numbers from 1 to 50 to the client.</p>\n<p>When I run this program the outputs via the console appear way too fast so I would like to make the message sender thread to sleep for a second. However when I write the try catch to make the thread sleep the whole program stops. What am I doing wrong?</p>\n<p>Server side:</p>\n<pre><code>public class ControladorClientes extends Thread{\n    public Socket s;\n    private OutputStreamWriter osw;\n    public InputStreamReader isr;\n            \n    public ControladorClientes(Socket s) {\n        try {\n            this.s = s;\n            this.osw = new OutputStreamWriter(s.getOutputStream());\n            this.isr = new InputStreamReader(s.getInputStream());\n            \n        }catch(IOException e) {\n                e.printStackTrace();\n        }\n    }\n    \n    @Override\n    public void run() {\n        Thread tWriter = new ServerWriter(osw);\n        tWriter.start();\n\n    }\n}\n</code></pre>\n<p>ServerWriter:</p>\n<pre><code>public class ServerWriter extends Thread{\n    OutputStreamWriter osw;\n    \n    public ServerWriter(OutputStreamWriter osw) {\n        this.osw = osw;\n    }\n        \n    @Override\n    public void run() {\n        int n = 1;\n        boolean active = true;\n        BufferedWriter bw = new BufferedWriter(osw);\n        while(active) {\n            try {\n                bw.write(&quot;Server: &quot; + Integer.toString(n));\n                bw.newLine();\n                n++;\n                if(n==50) n = 1;\n                try{Thread.sleep(100);}catch(InterruptedException ex){ex.printStackTrace();;}\n            }catch(IOException e) {\n                try {\n                    active = false;\n                    if(bw != null) bw.close();\n                }catch(IOException f) {e.printStackTrace();f.printStackTrace();}\n            }           \n        }\n    }\n}\n</code></pre>\n<p>Client:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class SimpleClient {\n    public static void main(String[] args){\n        try {\n            Socket s = new Socket(&quot;localhost&quot;, 5555);\n            \n            InputStreamReader isr = new InputStreamReader(s.getInputStream());\n            Thread tReader = new ClientReader(isr);\n            tReader.start();\n        }catch(IOException e) {e.printStackTrace();}\n    }\n}\n</code></pre>\n<p>And the ClientReader:</p>\n<pre><code>\nimport java.io.*;\nimport java.net.*;\n\npublic class ClientReader extends Thread {\n    InputStreamReader isr;\n    public ClientReader(InputStreamReader isr) {\n        this.isr = isr;\n    }\n    \n    @Override\n    public void run() {\n        BufferedReader br = new BufferedReader(isr);\n        while(true) {\n            try {\n                String msg = br.readLine();\n                System.out.println(msg);\n            } catch (IOException e) {e.printStackTrace();break;}\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":6362915,"reputation":998,"user_id":4937841,"accept_rate":65,"display_name":"DamienMiheev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1612451024,"creation_date":1612435328,"answer_id":66043985,"question_id":66005908,"body_markdown":"You should take a look on this article https://www.baeldung.com/spring-async\r\n\r\nFirst of all async method with return type should be wrapped in Future.\r\nEach time you call get() on feature object you subscribe on the result and your current thread will wait until the result will be calculated.\r\n\r\nUPD:\r\nFirst of all try to read javadoc for AsyncExecutionInterceptor and Async.\r\n```\r\n&lt;p&gt;In terms of target method signatures, any parameter types are supported.\r\nHowever, the return type is constrained to either {@code void} or\r\n{@link java.util.concurrent.Future}. In the latter case, you may declare the\r\nmore specific {@link org.springframework.util.concurrent.ListenableFuture} or\r\n{@link java.util.concurrent.CompletableFuture} types which allow for richer\r\ninteraction with the asynchronous task and for immediate composition with\r\nfurther processing steps.\r\n```\r\nAnd it&#39;s an API, you should follow it.\r\nIn case 1 you were using AsyncResult. It&#39;s not allowed type, but it inheritances from ListenableFuture.\r\n\r\nNow inside this method of AsyncExecutionAspectSupport\r\n```\r\n@Nullable\r\nprotected Object doSubmit(Callable&lt;Object&gt; task, AsyncTaskExecutor executor, Class&lt;?&gt; returnType) {\r\n\tif (CompletableFuture.class.isAssignableFrom(returnType)) {\r\n\t\treturn CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\treturn task.call();\r\n\t\t\t}\r\n\t\t\tcatch (Throwable ex) {\r\n\t\t\t\tthrow new CompletionException(ex);\r\n\t\t\t}\r\n\t\t}, executor);\r\n\t}\r\n\telse if (ListenableFuture.class.isAssignableFrom(returnType)) {\r\n\t\treturn ((AsyncListenableTaskExecutor) executor).submitListenable(task);\r\n\t}\r\n\telse if (Future.class.isAssignableFrom(returnType)) {\r\n\t\treturn executor.submit(task);\r\n\t}\r\n\telse {\r\n\t\texecutor.submit(task);\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\nyou got into second else statement and later it provided ClassCastException (you can debug it deeper).\r\n\r\nAbout version 2:\r\n```\r\nFuture&lt;List&lt;Teacher&gt;&gt; a = p.printPage(PageRequest.of(0, 2));\r\n```\r\nActually You didn&#39;t call printPage, you just created a future which will call it inside as soon as you started to execute it.\r\nAnd it will start on a.get() and execution will be started in separate thread (in case you configured thread executor with more than 1 thread).\r\n","title":"why I can&#39;t get result back in @Async method ? (&quot;IllegalStateException: EntityManagerFactory is closed&quot; is thrown)","body":"<p>You should take a look on this article <a href=\"https://www.baeldung.com/spring-async\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-async</a></p>\n<p>First of all async method with return type should be wrapped in Future.\nEach time you call get() on feature object you subscribe on the result and your current thread will wait until the result will be calculated.</p>\n<p>UPD:\nFirst of all try to read javadoc for AsyncExecutionInterceptor and Async.</p>\n<pre><code>&lt;p&gt;In terms of target method signatures, any parameter types are supported.\nHowever, the return type is constrained to either {@code void} or\n{@link java.util.concurrent.Future}. In the latter case, you may declare the\nmore specific {@link org.springframework.util.concurrent.ListenableFuture} or\n{@link java.util.concurrent.CompletableFuture} types which allow for richer\ninteraction with the asynchronous task and for immediate composition with\nfurther processing steps.\n</code></pre>\n<p>And it's an API, you should follow it.\nIn case 1 you were using AsyncResult. It's not allowed type, but it inheritances from ListenableFuture.</p>\n<p>Now inside this method of AsyncExecutionAspectSupport</p>\n<pre><code>@Nullable\nprotected Object doSubmit(Callable&lt;Object&gt; task, AsyncTaskExecutor executor, Class&lt;?&gt; returnType) {\n    if (CompletableFuture.class.isAssignableFrom(returnType)) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                return task.call();\n            }\n            catch (Throwable ex) {\n                throw new CompletionException(ex);\n            }\n        }, executor);\n    }\n    else if (ListenableFuture.class.isAssignableFrom(returnType)) {\n        return ((AsyncListenableTaskExecutor) executor).submitListenable(task);\n    }\n    else if (Future.class.isAssignableFrom(returnType)) {\n        return executor.submit(task);\n    }\n    else {\n        executor.submit(task);\n        return null;\n    }\n}\n</code></pre>\n<p>you got into second else statement and later it provided ClassCastException (you can debug it deeper).</p>\n<p>About version 2:</p>\n<pre><code>Future&lt;List&lt;Teacher&gt;&gt; a = p.printPage(PageRequest.of(0, 2));\n</code></pre>\n<p>Actually You didn't call printPage, you just created a future which will call it inside as soon as you started to execute it.\nAnd it will start on a.get() and execution will be started in separate thread (in case you configured thread executor with more than 1 thread).</p>\n"}],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2587,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":66043985,"answer_count":1,"score":8,"last_activity_date":1635093029,"creation_date":1612253856,"question_id":66005908,"body_markdown":"I am trying to write a simple Spring Boot Program and practice @Async. I want to fetch all records of `teacher` entity asynchronously.\r\n\r\nmy database access objects:\r\n\r\n    public interface TeacherService {\r\n        List&lt;Teacher&gt; findAll(Pageable pageable);\r\n    }\r\n\r\nhow it is implemented:\r\n\r\n   \r\n\r\n     public class TeacherServiceImpl implements TeacherService{\r\n        \r\n            @Autowired\r\n            private TeacherRepository repository;\r\n        \r\n            @Override\r\n            public List&lt;Teacher&gt; findAll(Pageable pageable) {\r\n                Page&lt;Teacher&gt; page =  repository.findAll(pageable);\r\n                return page.get().collect(Collectors.toList());\r\n            }\r\n    }\r\n\r\n\r\nmy Async method:\r\n\r\n    @Component\r\n    public class PrintAllTeacherDataBaseResult {\r\n        @Autowired\r\n        TeacherService teacher;\r\n    \r\n        @Async\r\n        public AsyncResult&lt;List&lt;Teacher&gt;&gt; printPage(Pageable page){\r\n            return new AsyncResult&lt;&gt;(teacher.findAll(page));\r\n        }\r\n    }\r\n\r\n\r\nwhen I call `printPage` method without `@Async` annotation it works fine. but when I use it throws the following exception:\r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:807) [spring-boot-2.4.2.jar:2.4.2]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:788) [spring-boot-2.4.2.jar:2.4.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.4.2.jar:2.4.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) [spring-boot-2.4.2.jar:2.4.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) [spring-boot-2.4.2.jar:2.4.2]\r\n    \tat com.hatef.demo.DemoApplication.main(DemoApplication.java:97) [classes/:na]\r\n    Caused by: java.lang.ClassCastException: org.springframework.util.concurrent.ListenableFutureTask cannot be cast to org.springframework.scheduling.annotation.AsyncResult\r\n    \tat async.PrintAllTeacherDataBaseResult$$EnhancerBySpringCGLIB$$ccbb6656.printPage(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.hatef.demo.DemoApplication.run(DemoApplication.java:103) [classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:804) [spring-boot-2.4.2.jar:2.4.2]\r\n    \t... 5 common frames omitted\r\n    \r\n    \r\n        java.lang.IllegalStateException: EntityManagerFactory is closed\r\n    \tat org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:513) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.getMetamodel(SessionFactoryImpl.java:660) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.findEntityPersisterByName(SessionFactoryHelper.java:141) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:167) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:91) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:77) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:333) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3758) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3647) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:732) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:588) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:325) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:273) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:779) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:165) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:742) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.3.jar:5.3.3]\r\n    \tat com.sun.proxy.$Proxy101.createQuery(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:703) ~[spring-data-jpa-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:654) ~[spring-data-jpa-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:444) ~[spring-data-jpa-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:411) ~[spring-data-jpa-2.4.3.jar:2.4.3]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524) ~[spring-data-commons-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531) ~[spring-data-commons-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156) ~[spring-data-commons-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131) ~[spring-data-commons-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) [spring-tx-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) [spring-tx-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) [spring-data-jpa-2.4.3.jar:2.4.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat com.sun.proxy.$Proxy105.findAll(Unknown Source) [na:na]\r\n    \tat services.TeacherServiceImpl.findAll(TeacherServiceImpl.java:33) [classes/:na]\r\n    \tat async.PrintAllTeacherDataBaseResult.printPage(PrintAllTeacherDataBaseResult.java:23) [classes/:na]\r\n    \tat async.PrintAllTeacherDataBaseResult$$FastClassBySpringCGLIB$$ccfcfab4.invoke(&lt;generated&gt;) [classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) [spring-core-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) [spring-aop-5.3.3.jar:5.3.3]\r\n    \tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266) ~[na:1.8.0_151]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:1.8.0_151]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_151]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_151]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_151]\r\n\r\n\r\nand how I call it:\r\n\r\n    @Autowired\r\n    ApplicationContextProvider applicationContextProvider;\r\n    \r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n    \r\n    @Override\r\n    public void run(String...args) throws Exception {\r\n        PrintAllTeacherDataBaseResult p = applicationContextProvider.getApplicationContext().getBean(PrintAllTeacherDataBaseResult.class);\r\n        AsyncResult&lt;List&lt;Teacher&gt;&gt; a = p.printPage(PageRequest.of(0, 2));\r\n        a.get().stream().forEach(System.out::println);\r\n    }\r\n\r\n\r\nbut my question is  why it throws exception.\r\n&lt;hr&gt;\r\n\r\n**update**\r\n\r\n\r\nI don&#39;t know why but I changed `@EnableAsync` to `@EnableAsync(mode = AdviceMode.ASPECTJ)` and everything worked! **but it is not created new thread**\r\n\r\nnow my question is why it throws exception when using `@EnableAsync` and why it works when `@EnableAsync(mode = AdviceMode.ASPECTJ)`\r\n\r\n&lt;hr&gt;\r\n\r\n**update**\r\n\r\nI could solve my problem by applying these changes to my code:\r\nfirst revert  `@EnableAsync(mode = AdviceMode.ASPECTJ)` to `@EnableAsync` and then:\r\n\r\n\r\n    public interface TeacherService {\r\n        @Async\r\n        Future&lt;List&lt;Teacher&gt;&gt; findAll(Pageable pageable);\r\n    }\r\n\r\n\r\n\r\n\r\nand how it is implemented:\r\n\r\n \r\n\r\n    public class TeacherServiceImpl implements TeacherService{\r\n    \r\n            @Autowired\r\n            private TeacherRepository repository;\r\n    \r\n            @Override\r\n            public Future&lt;List&lt;Teacher&gt;&gt; findAll(Pageable pageable) {\r\n                 Page&lt;Teacher&gt; page =  repository.findAll(pageable);\r\n                 return new AsyncResult&lt;&gt;(page.get().collect(Collectors.toList()));\r\n        }\r\n    }\r\n\r\n\r\n\r\nand how I ran above methods:\r\n\r\n    @Autowired\r\n    ApplicationContextProvider applicationContextProvider;\r\n    \r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n    \r\n    @Override\r\n    public void run(String...args) throws Exception {\r\n        PrintAllTeacherDataBaseResult p = applicationContextProvider.getApplicationContext().getBean(PrintAllTeacherDataBaseResult.class);\r\n        Future&lt;List&lt;Teacher&gt;&gt; a = p.printPage(PageRequest.of(0, 2));\r\n        a.get().forEach(System.out::println);\r\n    }\r\n\r\n\r\nI appreciate any help that clarifies exactly what is going on.","title":"why I can&#39;t get result back in @Async method ? (&quot;IllegalStateException: EntityManagerFactory is closed&quot; is thrown)","body":"<p>I am trying to write a simple Spring Boot Program and practice @Async. I want to fetch all records of <code>teacher</code> entity asynchronously.</p>\n<p>my database access objects:</p>\n<pre><code>public interface TeacherService {\n    List&lt;Teacher&gt; findAll(Pageable pageable);\n}\n</code></pre>\n<p>how it is implemented:</p>\n<pre><code> public class TeacherServiceImpl implements TeacherService{\n    \n        @Autowired\n        private TeacherRepository repository;\n    \n        @Override\n        public List&lt;Teacher&gt; findAll(Pageable pageable) {\n            Page&lt;Teacher&gt; page =  repository.findAll(pageable);\n            return page.get().collect(Collectors.toList());\n        }\n}\n</code></pre>\n<p>my Async method:</p>\n<pre><code>@Component\npublic class PrintAllTeacherDataBaseResult {\n    @Autowired\n    TeacherService teacher;\n\n    @Async\n    public AsyncResult&lt;List&lt;Teacher&gt;&gt; printPage(Pageable page){\n        return new AsyncResult&lt;&gt;(teacher.findAll(page));\n    }\n}\n</code></pre>\n<p>when I call <code>printPage</code> method without <code>@Async</code> annotation it works fine. but when I use it throws the following exception:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:807) [spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:788) [spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311) [spring-boot-2.4.2.jar:2.4.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) [spring-boot-2.4.2.jar:2.4.2]\n    at com.hatef.demo.DemoApplication.main(DemoApplication.java:97) [classes/:na]\nCaused by: java.lang.ClassCastException: org.springframework.util.concurrent.ListenableFutureTask cannot be cast to org.springframework.scheduling.annotation.AsyncResult\n    at async.PrintAllTeacherDataBaseResult$$EnhancerBySpringCGLIB$$ccbb6656.printPage(&lt;generated&gt;) ~[classes/:na]\n    at com.hatef.demo.DemoApplication.run(DemoApplication.java:103) [classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:804) [spring-boot-2.4.2.jar:2.4.2]\n    ... 5 common frames omitted\n\n\n    java.lang.IllegalStateException: EntityManagerFactory is closed\n    at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:513) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.internal.SessionFactoryImpl.getMetamodel(SessionFactoryImpl.java:660) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.ast.util.SessionFactoryHelper.findEntityPersisterByName(SessionFactoryHelper.java:141) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:167) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:91) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:77) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:333) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3758) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3647) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:732) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:588) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:325) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:273) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:779) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:165) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:742) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113) ~[hibernate-core-5.4.27.Final.jar:5.4.27.Final]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.3.jar:5.3.3]\n    at com.sun.proxy.$Proxy101.createQuery(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:703) ~[spring-data-jpa-2.4.3.jar:2.4.3]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:654) ~[spring-data-jpa-2.4.3.jar:2.4.3]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:444) ~[spring-data-jpa-2.4.3.jar:2.4.3]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:411) ~[spring-data-jpa-2.4.3.jar:2.4.3]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_151]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_151]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_151]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_151]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.4.3.jar:2.4.3]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.4.3.jar:2.4.3]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.4.3.jar:2.4.3]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524) ~[spring-data-commons-2.4.3.jar:2.4.3]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.4.3.jar:2.4.3]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531) ~[spring-data-commons-2.4.3.jar:2.4.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156) ~[spring-data-commons-2.4.3.jar:2.4.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131) ~[spring-data-commons-2.4.3.jar:2.4.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.4.3.jar:2.4.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.3.jar:5.3.3]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.3.jar:5.3.3]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) [spring-tx-5.3.3.jar:5.3.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) [spring-tx-5.3.3.jar:5.3.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) [spring-data-jpa-2.4.3.jar:2.4.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) [spring-aop-5.3.3.jar:5.3.3]\n    at com.sun.proxy.$Proxy105.findAll(Unknown Source) [na:na]\n    at services.TeacherServiceImpl.findAll(TeacherServiceImpl.java:33) [classes/:na]\n    at async.PrintAllTeacherDataBaseResult.printPage(PrintAllTeacherDataBaseResult.java:23) [classes/:na]\n    at async.PrintAllTeacherDataBaseResult$$FastClassBySpringCGLIB$$ccfcfab4.invoke(&lt;generated&gt;) [classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) [spring-core-5.3.3.jar:5.3.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) [spring-aop-5.3.3.jar:5.3.3]\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) [spring-aop-5.3.3.jar:5.3.3]\n    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266) ~[na:1.8.0_151]\n    at java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:1.8.0_151]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_151]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_151]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_151]\n</code></pre>\n<p>and how I call it:</p>\n<pre><code>@Autowired\nApplicationContextProvider applicationContextProvider;\n\npublic static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n}\n\n@Override\npublic void run(String...args) throws Exception {\n    PrintAllTeacherDataBaseResult p = applicationContextProvider.getApplicationContext().getBean(PrintAllTeacherDataBaseResult.class);\n    AsyncResult&lt;List&lt;Teacher&gt;&gt; a = p.printPage(PageRequest.of(0, 2));\n    a.get().stream().forEach(System.out::println);\n}\n</code></pre>\n<p>but my question is  why it throws exception.</p>\n<hr>\n<p><strong>update</strong></p>\n<p>I don't know why but I changed <code>@EnableAsync</code> to <code>@EnableAsync(mode = AdviceMode.ASPECTJ)</code> and everything worked! <strong>but it is not created new thread</strong></p>\n<p>now my question is why it throws exception when using <code>@EnableAsync</code> and why it works when <code>@EnableAsync(mode = AdviceMode.ASPECTJ)</code></p>\n<hr>\n<p><strong>update</strong></p>\n<p>I could solve my problem by applying these changes to my code:\nfirst revert  <code>@EnableAsync(mode = AdviceMode.ASPECTJ)</code> to <code>@EnableAsync</code> and then:</p>\n<pre><code>public interface TeacherService {\n    @Async\n    Future&lt;List&lt;Teacher&gt;&gt; findAll(Pageable pageable);\n}\n</code></pre>\n<p>and how it is implemented:</p>\n<pre><code>public class TeacherServiceImpl implements TeacherService{\n\n        @Autowired\n        private TeacherRepository repository;\n\n        @Override\n        public Future&lt;List&lt;Teacher&gt;&gt; findAll(Pageable pageable) {\n             Page&lt;Teacher&gt; page =  repository.findAll(pageable);\n             return new AsyncResult&lt;&gt;(page.get().collect(Collectors.toList()));\n    }\n}\n</code></pre>\n<p>and how I ran above methods:</p>\n<pre><code>@Autowired\nApplicationContextProvider applicationContextProvider;\n\npublic static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n}\n\n@Override\npublic void run(String...args) throws Exception {\n    PrintAllTeacherDataBaseResult p = applicationContextProvider.getApplicationContext().getBean(PrintAllTeacherDataBaseResult.class);\n    Future&lt;List&lt;Teacher&gt;&gt; a = p.printPage(PageRequest.of(0, 2));\n    a.get().forEach(System.out::println);\n}\n</code></pre>\n<p>I appreciate any help that clarifies exactly what is going on.</p>\n"},{"tags":["java","performance","algorithm","complexity-theory","primes"],"comments":[{"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":1,"creation_date":1360204019,"post_id":14742509,"comment_id":20629958,"body_markdown":"Please give us an intuitive description of what your program does, or at least provide comments.  Giving us a block of code and asking us to analyze it makes it extremely difficult for anyone to figure out what it means.","body":"Please give us an intuitive description of what your program does, or at least provide comments.  Giving us a block of code and asking us to analyze it makes it extremely difficult for anyone to figure out what it means."},{"owner":{"account_id":60200,"reputation":479675,"user_id":179910,"display_name":"Jerry Coffin"},"score":0,"creation_date":1360204639,"post_id":14742509,"comment_id":20630103,"body_markdown":"It may be open to question whether it improves the computational complexity, but a sieve of Eratosthenes is quite a bit *faster* anyway.","body":"It may be open to question whether it improves the computational complexity, but a sieve of Eratosthenes is quite a bit <i>faster</i> anyway."},{"owner":{"account_id":1244041,"reputation":1004,"user_id":1205883,"accept_rate":89,"display_name":"codewarrior"},"score":0,"creation_date":1360205768,"post_id":14742509,"comment_id":20630339,"body_markdown":"@templatetypedef: added comments to code.","body":"@templatetypedef: added comments to code."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1360230846,"post_id":14742509,"comment_id":20638944,"body_markdown":"The full answer is http://stackoverflow.com/a/9704912/849891 .","body":"The full answer is <a href=\"http://stackoverflow.com/a/9704912/849891\">stackoverflow.com/a/9704912/849891</a> ."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1360231631,"post_id":14742509,"comment_id":20639375,"body_markdown":"Also, it is good to search the SO first: http://stackoverflow.com/tags/primes/hot?filter=year .","body":"Also, it is good to search the SO first: <a href=\"http://stackoverflow.com/tags/primes/hot?filter=year\">stackoverflow.com/tags/primes/hot?filter=year</a> ."}],"answers":[{"tags":[],"owner":{"account_id":8015,"reputation":15645,"user_id":14149,"accept_rate":97,"display_name":"xpda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360205223,"creation_date":1360205223,"answer_id":14742680,"question_id":14742509,"body_markdown":"A few things you can do to speed it up:\r\n\r\n1. Start counter at 5 and increment it by 2 instead of 1, then don&#39;t check mod 2 in the loop.\r\n2. Instead of starting temp at counter / 2, start it at the first odd &lt;= int(sqrt(counter))\r\n3. decrement temp by 2.\r\n\r\nI&#39;m not sure whether it counts as improving complexity, but (2) above will go from O(n^2) to O(n*sqrt(n))\r\n","title":"find nth prime number","body":"<p>A few things you can do to speed it up:</p>\n\n<ol>\n<li>Start counter at 5 and increment it by 2 instead of 1, then don't check mod 2 in the loop.</li>\n<li>Instead of starting temp at counter / 2, start it at the first odd &lt;= int(sqrt(counter))</li>\n<li>decrement temp by 2.</li>\n</ol>\n\n<p>I'm not sure whether it counts as improving complexity, but (2) above will go from O(n^2) to O(n*sqrt(n))</p>\n"},{"tags":[],"owner":{"account_id":1433941,"reputation":2342,"user_id":1355726,"accept_rate":25,"display_name":"xvorsx"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1360205305,"creation_date":1360205305,"answer_id":14742691,"question_id":14742509,"body_markdown":"**Yes.**\r\n\r\nYour algorithm make **O(n^2)** operations (maybe I&#39;m not accurate, but seems so),\r\nwhere **n** is result. \r\n\r\nThere are http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes algorithm that takes **O(ipn* log(log(n)))**. You can make only **inp** steps in it, and assume that **n = 2ipn*ln(ipn)**.\r\n**n** just should be greater then **ipn**-prime.\r\n(we know distributions of prime numbers http://en.wikipedia.org/wiki/Prime_number_theorem)\r\n\r\nAnyway, you can improve existing solution:\r\n\r\n    \r\n    public void calcPrime(int inp) {\r\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt;();\r\n        arr.add(2);\r\n        arr.add(3);\r\n    \r\n        int counter = 4;\r\n    \r\n        while(arr.size() &lt; inp) {\r\n            if(counter % 2 != 0 &amp;&amp; counter%3 != 0) {\r\n                int temp = 4;\r\n                while(temp*temp &lt;= counter) {\r\n                    if(counter % temp == 0)\r\n                        break;\r\n                    temp ++;\r\n                }\r\n                if(temp*temp &gt; counter) {\r\n                    arr.add(counter);\r\n                }\r\n            }\r\n            counter++;\r\n        }\r\n    \r\n        System.out.println(&quot;finish&quot; +arr.get(inp-1));\r\n        }\r\n    }","title":"find nth prime number","body":"<p><strong>Yes.</strong></p>\n\n<p>Your algorithm make <strong>O(n^2)</strong> operations (maybe I'm not accurate, but seems so),\nwhere <strong>n</strong> is result. </p>\n\n<p>There are <a href=\"http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes</a> algorithm that takes <strong>O(ipn* log(log(n)))</strong>. You can make only <strong>inp</strong> steps in it, and assume that <strong>n = 2ipn*ln(ipn)</strong>.\n<strong>n</strong> just should be greater then <strong>ipn</strong>-prime.\n(we know distributions of prime numbers <a href=\"http://en.wikipedia.org/wiki/Prime_number_theorem\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Prime_number_theorem</a>)</p>\n\n<p>Anyway, you can improve existing solution:</p>\n\n<pre><code>public void calcPrime(int inp) {\n    ArrayList&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt;();\n    arr.add(2);\n    arr.add(3);\n\n    int counter = 4;\n\n    while(arr.size() &lt; inp) {\n        if(counter % 2 != 0 &amp;&amp; counter%3 != 0) {\n            int temp = 4;\n            while(temp*temp &lt;= counter) {\n                if(counter % temp == 0)\n                    break;\n                temp ++;\n            }\n            if(temp*temp &gt; counter) {\n                arr.add(counter);\n            }\n        }\n        counter++;\n    }\n\n    System.out.println(\"finish\" +arr.get(inp-1));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4926273,"reputation":1,"user_id":3967449,"display_name":"Deepanshu Rathore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547560616,"creation_date":1547560616,"answer_id":54200335,"question_id":14742509,"body_markdown":"    public static void Main()\r\n        {\r\n            Console.Write(&quot;Enter a Number : &quot;);\r\n            int num;\r\n            int[] arr = new int[10000];\r\n            num = Convert.ToInt32(Console.ReadLine());\r\n            int k;\r\n            k = 0;\r\n            int t = 1;\r\n            for (int j = 1; j &lt; 10000; j++)\r\n            {\r\n                for (int i = 1; i &lt;= j; i++)\r\n                {\r\n                    if (j % i == 0)\r\n                    {\r\n                        k++;\r\n                    }\r\n                }\r\n                if (k == 2)\r\n                {\r\n                    arr[t] = j;\r\n                    t++;\r\n                    k = 0; \r\n                }\r\n                else\r\n                { \r\n                    k = 0;\r\n                } \r\n            }\r\n            Console.WriteLine(&quot;Nth Prime number. {0}&quot;, arr[num]);\r\n            Console.ReadLine();\r\n        }","title":"find nth prime number","body":"<pre><code>public static void Main()\n    {\n        Console.Write(\"Enter a Number : \");\n        int num;\n        int[] arr = new int[10000];\n        num = Convert.ToInt32(Console.ReadLine());\n        int k;\n        k = 0;\n        int t = 1;\n        for (int j = 1; j &lt; 10000; j++)\n        {\n            for (int i = 1; i &lt;= j; i++)\n            {\n                if (j % i == 0)\n                {\n                    k++;\n                }\n            }\n            if (k == 2)\n            {\n                arr[t] = j;\n                t++;\n                k = 0; \n            }\n            else\n            { \n                k = 0;\n            } \n        }\n        Console.WriteLine(\"Nth Prime number. {0}\", arr[num]);\n        Console.ReadLine();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15992534,"reputation":11,"user_id":11541325,"display_name":"Youssef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635092748,"creation_date":1635092748,"answer_id":69698686,"question_id":14742509,"body_markdown":"        System.out.println(&quot;Enter The number n: &quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int n = scanner.nextInt();\r\n\r\n        int x = 0;\r\n        String prime = &quot;&quot;;\r\n\r\n        for (int i = 1; i &lt;= n; i++) {\r\n\r\n            int counter = 0;\r\n\r\n            for (x = i; x &gt;= 1; x--) {\r\n\r\n                if (i % x == 0) {\r\n                    counter++;\r\n                }\r\n            }\r\n\r\n            if (counter == 2){\r\n                prime =  prime + i + &quot; &quot;;\r\n            }\r\n\r\n        }\r\n\r\n        System.out.println(prime);\r\n    }\r\n\r\n}","title":"find nth prime number","body":"<pre><code>    System.out.println(&quot;Enter The number n: &quot;);\n    Scanner scanner = new Scanner(System.in);\n\n    int n = scanner.nextInt();\n\n    int x = 0;\n    String prime = &quot;&quot;;\n\n    for (int i = 1; i &lt;= n; i++) {\n\n        int counter = 0;\n\n        for (x = i; x &gt;= 1; x--) {\n\n            if (i % x == 0) {\n                counter++;\n            }\n        }\n\n        if (counter == 2){\n            prime =  prime + i + &quot; &quot;;\n        }\n\n    }\n\n    System.out.println(prime);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1244041,"reputation":1004,"user_id":1205883,"accept_rate":89,"display_name":"codewarrior"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17822,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14742691,"answer_count":4,"score":3,"last_activity_date":1635092748,"creation_date":1360203888,"question_id":14742509,"body_markdown":"I&#39;ve written the following code below to find the nth prime number. Can this be improved in time complexity?\r\n\r\nDescription:\r\n\r\nThe ArrayList arr stores the computed prime numbers. Once arr reaches a size &#39;n&#39;, the loop exits and we retrieve the nth element in the ArrayList. Numbers 2 and 3 are added before the prime numbers are calculated, and each number starting from 4 is checked to be prime or not.\r\n\r\n\r\n    public void calcPrime(int inp) {\r\n\t\tArrayList&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt;(); // stores prime numbers \r\n                                                          // calculated so far\r\n        // add prime numbers 2 and 3 to prime array &#39;arr&#39;\r\n\t\tarr.add(2); \r\n\t\tarr.add(3);\r\n\t\t\r\n\t    // check if number is prime starting from 4\r\n        int counter = 4;\r\n         // check if arr&#39;s size has reached inp which is &#39;n&#39;, if so terminate while loop\r\n\t\twhile(arr.size() &lt;= inp) {\r\n            // dont check for prime if number is divisible by 2\r\n\t\t\tif(counter % 2 != 0) {\r\n                // check if current number &#39;counter&#39; is perfectly divisible from \r\n               // counter/2 to 3\r\n\t\t\t\tint temp = counter/2;\r\n\t\t\t\twhile(temp &gt;=3) {\r\n\t\t\t\t\tif(counter % temp == 0)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\ttemp --;\r\n\t\t\t\t}\r\n\t\t\t\tif(temp &lt;= 3) {\r\n\t\t\t\t\tarr.add(counter);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcounter++;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;finish&quot; +arr.get(inp));\r\n\t    }\r\n    }","title":"find nth prime number","body":"<p>I've written the following code below to find the nth prime number. Can this be improved in time complexity?</p>\n\n<p>Description:</p>\n\n<p>The ArrayList arr stores the computed prime numbers. Once arr reaches a size 'n', the loop exits and we retrieve the nth element in the ArrayList. Numbers 2 and 3 are added before the prime numbers are calculated, and each number starting from 4 is checked to be prime or not.</p>\n\n<pre><code>public void calcPrime(int inp) {\n    ArrayList&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt;(); // stores prime numbers \n                                                      // calculated so far\n    // add prime numbers 2 and 3 to prime array 'arr'\n    arr.add(2); \n    arr.add(3);\n\n    // check if number is prime starting from 4\n    int counter = 4;\n     // check if arr's size has reached inp which is 'n', if so terminate while loop\n    while(arr.size() &lt;= inp) {\n        // dont check for prime if number is divisible by 2\n        if(counter % 2 != 0) {\n            // check if current number 'counter' is perfectly divisible from \n           // counter/2 to 3\n            int temp = counter/2;\n            while(temp &gt;=3) {\n                if(counter % temp == 0)\n                    break;\n                temp --;\n            }\n            if(temp &lt;= 3) {\n                arr.add(counter);\n            }\n        }\n        counter++;\n    }\n\n    System.out.println(\"finish\" +arr.get(inp));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","arraylist","android-recyclerview"],"comments":[{"owner":{"account_id":22540713,"reputation":23,"user_id":16731303,"display_name":"partizal"},"score":0,"creation_date":1635093432,"post_id":69697432,"comment_id":123197625,"body_markdown":"Thank Sweta Jain for your edit","body":"Thank Sweta Jain for your edit"}],"answers":[{"tags":[],"owner":{"account_id":6684285,"reputation":1647,"user_id":5156187,"display_name":"Yasiru Nayanajith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635087340,"creation_date":1635087340,"answer_id":69697939,"question_id":69697432,"body_markdown":"The problem here is, that you have created the adapter with an empty array list and assigned it to the Recyclerview before the Volley request is processed and the array list is filled. \r\nThere are 2 ways you can fix this. First is to create the adapter and set the adapter inside the OnResponse method of the Volley request. \r\nOr else you can create a method in the adapter that updates the array list and notify the adapter that the dataset is changed. I hoped you&#39;d understand this.\r\n\r\nFirst is the easiest ","title":"Recyclerview adapter error: Arraylist size zero in Android studio","body":"<p>The problem here is, that you have created the adapter with an empty array list and assigned it to the Recyclerview before the Volley request is processed and the array list is filled.\nThere are 2 ways you can fix this. First is to create the adapter and set the adapter inside the OnResponse method of the Volley request.\nOr else you can create a method in the adapter that updates the array list and notify the adapter that the dataset is changed. I hoped you'd understand this.</p>\n<p>First is the easiest</p>\n"}],"owner":{"account_id":22540713,"reputation":23,"user_id":16731303,"display_name":"partizal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69697939,"answer_count":1,"score":0,"last_activity_date":1635092669,"creation_date":1635083714,"question_id":69697432,"body_markdown":"Firstly sorry for my bad english. My issue is, I am trying to make a Weather app using Weather API. I want to show 5 day forecast using recyclerview adapter. I add the data to arraylist, that I get from API and it should go to my adapter class. It needs to show the data added to the arraylist there but it doesn&#39;t and arraylist size is always zero.\r\n\r\nMy recyclerview class is forecast\r\n\r\noncreate\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_forecast);\r\n\r\n        Intent intent = getIntent();\r\n        Latitude = intent.getDoubleExtra(&quot;lat&quot;,0);\r\n        Longitude = intent.getDoubleExtra(&quot;long&quot;,0);\r\n        System.out.println(&quot;LATTUDE &quot;+Latitude+&quot; Longitude &quot;+Longitude);//i just experimented to \r\n                                                                             check if latitude and \r\n                                                                             longitude come\r\n        init();\r\n\r\n    }\r\n\r\ninit()\r\n\r\n    public void init(){\r\n        arrayList = new ArrayList&lt;&gt;();\r\n\r\n        forecast_back_icon = findViewById(R.id.forecast_back_icon);\r\n        recyclerviewforecast = findViewById(R.id.RecyclerviewForecast);\r\n\r\n\r\n        get_forecast_data(Latitude,Longitude);\r\n\r\n\r\n        forecastAdapter = new ForecastAdapter(arrayList);\r\n        recyclerviewforecast.setAdapter(forecastAdapter);\r\n        recyclerviewforecast.setLayoutManager(new LinearLayoutManager(forecast.this));\r\n\r\n        forecast_back_icon();\r\n\r\n    }\r\n\r\n\r\n get_forecast_data() funct\r\n\r\n    public void get_forecast_data(Double Lat, Double Long){\r\n\r\n        //EXAMPLE URL\r\n        //https://api.openweathermap.org/data/2.5/weather?lat={lat}&amp;lon={lon}&amp;appid={API%20key}\r\n       \r\n        API_KEY_FORECAST = &quot;c29ecfafd4a70caad8fee38d6054bfc7&quot;;\r\n        URL_FORECAST = &quot;https://api.openweathermap.org/data/2.5/onecall?lat=&quot;+Lat+&quot;&amp;lon=&quot;+Long+&quot;&amp;exclude=current,minutely,hourly,alerts&amp;appid=&quot;+API_KEY_FORECAST;\r\n        RequestQueue queue = Volley.newRequestQueue(getApplicationContext());\r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, URL_FORECAST, null, new Response.Listener&lt;JSONObject&gt;() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n                try {\r\n\r\n                    JSONArray daily = response.getJSONArray(&quot;daily&quot;);\r\n                    for(int i=0;i&lt;daily.length();i++){\r\n\r\n                        String  temp = daily.getJSONObject(i).getJSONObject(&quot;temp&quot;).getString(&quot;day&quot;);\r\n                        String feels_like = daily.getJSONObject(i).getJSONObject(&quot;feels_like&quot;).getString(&quot;day&quot;);\r\n                        String pressure = daily.getJSONObject(i).getString(&quot;pressure&quot;);\r\n                        String humidity = daily.getJSONObject(i).getString(&quot;humidity&quot;);\r\n                        String wind_speed = daily.getJSONObject(i).getString(&quot;wind_speed&quot;);\r\n                        String icon = daily.getJSONObject(i).getJSONArray(&quot;weather&quot;).getJSONObject(0).getString(&quot;icon&quot;);\r\n                        String description = daily.getJSONObject(i).getJSONArray(&quot;weather&quot;).getJSONObject(0).getString(&quot;description&quot;);\r\n                        arrayList.add(new RecyclerviewModel(temp,humidity,feels_like,pressure,description,wind_speed,icon));\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                catch (JSONException e) {\r\n                    e.printStackTrace();\r\n\r\n                }\r\n            }\r\n\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n\r\n                error.printStackTrace();\r\n            }\r\n        });\r\n        queue.add(request);\r\n        System.out.println(&quot;forecast class arraylist size : --&gt; &quot;+arrayList.size());\r\n    }\r\n\r\nWhen I check at the bottom, the size of the arraylist is zero\r\n\r\n\r\nmy forecast adapter class\r\n\r\n     public class ForecastAdapter extends RecyclerView.Adapter&lt;ForecastAdapter.MyForecastViewHolder&gt; {\r\n\r\n    ArrayList&lt;RecyclerviewModel&gt; ForecastArraylist;\r\n\r\n\r\n    public ForecastAdapter(ArrayList&lt;RecyclerviewModel&gt; ForecastArraylist){\r\n        this.ForecastArraylist = ForecastArraylist;\r\n        System.out.println(&quot;ForecastAdapter arraylist size : --- &gt; &quot;+ForecastArraylist.size());\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyForecastViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        RecyclerviewForecastRowBinding recyclerviewForecastRowBinding = RecyclerviewForecastRowBinding.inflate(LayoutInflater.from(parent.getContext()),parent,false);\r\n        return new MyForecastViewHolder(recyclerviewForecastRowBinding);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyForecastViewHolder holder, int position) {\r\n\r\n\r\n        System.out.println(&quot;we are in onbindviewholder.... &quot;);\r\n        Double temperature = Double.parseDouble(ForecastArraylist.get(position).getTemperature()) - 273.15;\r\n        System.out.println(temperature);\r\n        Double feels_like = Double.parseDouble(ForecastArraylist.get(position).getFeels_like()) - 273.15;\r\n\r\n\r\n        holder.binding.txtRecyclerviewTemp.setText(temperature.toString().substring(0,4)+&quot;&#176;&quot;);\r\n        holder.binding.txtRecyclerviewFeelslike.setText(feels_like.toString().substring(0,4)+&quot;&#176;&quot;);\r\n        holder.binding.txtRecyclerviewHumidity.setText(&quot;%&quot;+ForecastArraylist.get(position).getHumadity());\r\n        holder.binding.txtRecyclerviewPressure.setText(ForecastArraylist.get(position).getPressure()+&quot;hPa&quot;);\r\n        holder.binding.txtRecyclerviewWindSpeed.setText(ForecastArraylist.get(position).getWind_speed()+&quot;km/h&quot;);\r\n        holder.binding.txtRecyclerviewCloud.setText(ForecastArraylist.get(position).getDescription());\r\n        String icon_id = ForecastArraylist.get(position).getId();\r\n        load_weather_icon(icon_id,holder);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return ForecastArraylist.size();\r\n    }\r\n\r\n    public class MyForecastViewHolder extends RecyclerView.ViewHolder{\r\n        private RecyclerviewForecastRowBinding binding;\r\n\r\n        public MyForecastViewHolder(@NonNull RecyclerviewForecastRowBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n    }\r\n    public void load_weather_icon(String id,MyForecastViewHolder holder ){\r\n\r\n        int id1 = Integer.valueOf(id);\r\n\r\n        if(id1&gt;=200 &amp;&amp; id1 &lt;= 232){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.thunderstorm);\r\n        }\r\n        else if(id1&gt;=300 &amp;&amp; id1&lt;= 321){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.showerrain);\r\n        }\r\n        else if(id1&gt;=500 &amp;&amp; id1&lt;= 504){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.rain);\r\n        }\r\n        else if(id1 == 511){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.snow);\r\n        }\r\n        else if(id1&gt;=520 &amp;&amp; id1&lt;= 531){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.showerrain);\r\n        }\r\n        else if(id1&gt;=600 &amp;&amp; id1&lt;= 622){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.snow);\r\n        }\r\n        else if(id1&gt;=701 &amp;&amp; id1&lt;= 781){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.mist);\r\n        }\r\n        else if(id1 == 800 ){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.clearsky);\r\n        }\r\n        else if(id1 == 801){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.fewclouds);\r\n        }\r\n        else if(id1 == 802){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.scatteredclouds);\r\n        }\r\n        else if(id1 == 803){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.brokenclouds);\r\n        }\r\n        else if(id1 == 804){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.brokenclouds);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nI can&#39;t see &#39;we are in onbindviewholder&#39; in my forecast adapter\r\n\r\n\r\nforecast xml\r\n\r\n    &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:context=&quot;.forecast&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:id=&quot;@+id/forecastLayout&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:id=&quot;@+id/Toolbarcities&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/toolbarconstraintforecast&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?actionBarSize&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/MyToolbarforecast&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                android:minHeight=&quot;?attr/actionBarSize&quot;\r\n                android:theme=&quot;?attr/actionBarTheme&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:titleTextColor=&quot;@color/white&quot;\r\n                &gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/forecast_back_icon&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:src=&quot;@drawable/cities_back_icon&quot;\r\n                    &gt;&lt;/ImageView&gt;\r\n\r\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/RecyclerviewForecast&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n   ","title":"Recyclerview adapter error: Arraylist size zero in Android studio","body":"<p>Firstly sorry for my bad english. My issue is, I am trying to make a Weather app using Weather API. I want to show 5 day forecast using recyclerview adapter. I add the data to arraylist, that I get from API and it should go to my adapter class. It needs to show the data added to the arraylist there but it doesn't and arraylist size is always zero.</p>\n<p>My recyclerview class is forecast</p>\n<p>oncreate</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_forecast);\n\n    Intent intent = getIntent();\n    Latitude = intent.getDoubleExtra(&quot;lat&quot;,0);\n    Longitude = intent.getDoubleExtra(&quot;long&quot;,0);\n    System.out.println(&quot;LATTUDE &quot;+Latitude+&quot; Longitude &quot;+Longitude);//i just experimented to \n                                                                         check if latitude and \n                                                                         longitude come\n    init();\n\n}\n</code></pre>\n<p>init()</p>\n<pre><code>public void init(){\n    arrayList = new ArrayList&lt;&gt;();\n\n    forecast_back_icon = findViewById(R.id.forecast_back_icon);\n    recyclerviewforecast = findViewById(R.id.RecyclerviewForecast);\n\n\n    get_forecast_data(Latitude,Longitude);\n\n\n    forecastAdapter = new ForecastAdapter(arrayList);\n    recyclerviewforecast.setAdapter(forecastAdapter);\n    recyclerviewforecast.setLayoutManager(new LinearLayoutManager(forecast.this));\n\n    forecast_back_icon();\n\n}\n</code></pre>\n<p>get_forecast_data() funct</p>\n<pre><code>public void get_forecast_data(Double Lat, Double Long){\n\n    //EXAMPLE URL\n    //https://api.openweathermap.org/data/2.5/weather?lat={lat}&amp;lon={lon}&amp;appid={API%20key}\n   \n    API_KEY_FORECAST = &quot;c29ecfafd4a70caad8fee38d6054bfc7&quot;;\n    URL_FORECAST = &quot;https://api.openweathermap.org/data/2.5/onecall?lat=&quot;+Lat+&quot;&amp;lon=&quot;+Long+&quot;&amp;exclude=current,minutely,hourly,alerts&amp;appid=&quot;+API_KEY_FORECAST;\n    RequestQueue queue = Volley.newRequestQueue(getApplicationContext());\n    JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, URL_FORECAST, null, new Response.Listener&lt;JSONObject&gt;() {\n        @Override\n        public void onResponse(JSONObject response) {\n            try {\n\n                JSONArray daily = response.getJSONArray(&quot;daily&quot;);\n                for(int i=0;i&lt;daily.length();i++){\n\n                    String  temp = daily.getJSONObject(i).getJSONObject(&quot;temp&quot;).getString(&quot;day&quot;);\n                    String feels_like = daily.getJSONObject(i).getJSONObject(&quot;feels_like&quot;).getString(&quot;day&quot;);\n                    String pressure = daily.getJSONObject(i).getString(&quot;pressure&quot;);\n                    String humidity = daily.getJSONObject(i).getString(&quot;humidity&quot;);\n                    String wind_speed = daily.getJSONObject(i).getString(&quot;wind_speed&quot;);\n                    String icon = daily.getJSONObject(i).getJSONArray(&quot;weather&quot;).getJSONObject(0).getString(&quot;icon&quot;);\n                    String description = daily.getJSONObject(i).getJSONArray(&quot;weather&quot;).getJSONObject(0).getString(&quot;description&quot;);\n                    arrayList.add(new RecyclerviewModel(temp,humidity,feels_like,pressure,description,wind_speed,icon));\n\n                }\n\n            }\n\n            catch (JSONException e) {\n                e.printStackTrace();\n\n            }\n        }\n\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n\n            error.printStackTrace();\n        }\n    });\n    queue.add(request);\n    System.out.println(&quot;forecast class arraylist size : --&gt; &quot;+arrayList.size());\n}\n</code></pre>\n<p>When I check at the bottom, the size of the arraylist is zero</p>\n<p>my forecast adapter class</p>\n<pre><code> public class ForecastAdapter extends RecyclerView.Adapter&lt;ForecastAdapter.MyForecastViewHolder&gt; {\n\nArrayList&lt;RecyclerviewModel&gt; ForecastArraylist;\n\n\npublic ForecastAdapter(ArrayList&lt;RecyclerviewModel&gt; ForecastArraylist){\n    this.ForecastArraylist = ForecastArraylist;\n    System.out.println(&quot;ForecastAdapter arraylist size : --- &gt; &quot;+ForecastArraylist.size());\n}\n\n@NonNull\n@Override\npublic MyForecastViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    RecyclerviewForecastRowBinding recyclerviewForecastRowBinding = RecyclerviewForecastRowBinding.inflate(LayoutInflater.from(parent.getContext()),parent,false);\n    return new MyForecastViewHolder(recyclerviewForecastRowBinding);\n\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyForecastViewHolder holder, int position) {\n\n\n    System.out.println(&quot;we are in onbindviewholder.... &quot;);\n    Double temperature = Double.parseDouble(ForecastArraylist.get(position).getTemperature()) - 273.15;\n    System.out.println(temperature);\n    Double feels_like = Double.parseDouble(ForecastArraylist.get(position).getFeels_like()) - 273.15;\n\n\n    holder.binding.txtRecyclerviewTemp.setText(temperature.toString().substring(0,4)+&quot;&quot;);\n    holder.binding.txtRecyclerviewFeelslike.setText(feels_like.toString().substring(0,4)+&quot;&quot;);\n    holder.binding.txtRecyclerviewHumidity.setText(&quot;%&quot;+ForecastArraylist.get(position).getHumadity());\n    holder.binding.txtRecyclerviewPressure.setText(ForecastArraylist.get(position).getPressure()+&quot;hPa&quot;);\n    holder.binding.txtRecyclerviewWindSpeed.setText(ForecastArraylist.get(position).getWind_speed()+&quot;km/h&quot;);\n    holder.binding.txtRecyclerviewCloud.setText(ForecastArraylist.get(position).getDescription());\n    String icon_id = ForecastArraylist.get(position).getId();\n    load_weather_icon(icon_id,holder);\n\n\n}\n\n@Override\npublic int getItemCount() {\n    return ForecastArraylist.size();\n}\n\npublic class MyForecastViewHolder extends RecyclerView.ViewHolder{\n    private RecyclerviewForecastRowBinding binding;\n\n    public MyForecastViewHolder(@NonNull RecyclerviewForecastRowBinding binding) {\n        super(binding.getRoot());\n        this.binding = binding;\n    }\n}\npublic void load_weather_icon(String id,MyForecastViewHolder holder ){\n\n    int id1 = Integer.valueOf(id);\n\n    if(id1&gt;=200 &amp;&amp; id1 &lt;= 232){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.thunderstorm);\n    }\n    else if(id1&gt;=300 &amp;&amp; id1&lt;= 321){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.showerrain);\n    }\n    else if(id1&gt;=500 &amp;&amp; id1&lt;= 504){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.rain);\n    }\n    else if(id1 == 511){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.snow);\n    }\n    else if(id1&gt;=520 &amp;&amp; id1&lt;= 531){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.showerrain);\n    }\n    else if(id1&gt;=600 &amp;&amp; id1&lt;= 622){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.snow);\n    }\n    else if(id1&gt;=701 &amp;&amp; id1&lt;= 781){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.mist);\n    }\n    else if(id1 == 800 ){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.clearsky);\n    }\n    else if(id1 == 801){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.fewclouds);\n    }\n    else if(id1 == 802){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.scatteredclouds);\n    }\n    else if(id1 == 803){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.brokenclouds);\n    }\n    else if(id1 == 804){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.brokenclouds);\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>I can't see 'we are in onbindviewholder' in my forecast adapter</p>\n<p>forecast xml</p>\n<pre><code>&lt;LinearLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\ntools:context=&quot;.forecast&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:id=&quot;@+id/forecastLayout&quot;&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:id=&quot;@+id/Toolbarcities&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/toolbarconstraintforecast&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?actionBarSize&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/MyToolbarforecast&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?actionBarSize&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            android:minHeight=&quot;?attr/actionBarSize&quot;\n            android:theme=&quot;?attr/actionBarTheme&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:titleTextColor=&quot;@color/white&quot;\n            &gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/forecast_back_icon&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:src=&quot;@drawable/cities_back_icon&quot;\n                &gt;&lt;/ImageView&gt;\n\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/RecyclerviewForecast&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"display_name":"user17201277"},"score":1,"creation_date":1635092168,"post_id":69698466,"comment_id":123197325,"body_markdown":"`1` is not a prime number.","body":"<code>1</code> is not a prime number."}],"answers":[{"tags":[],"owner":{"display_name":"user17201277"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635092431,"creation_date":1635092431,"answer_id":69698650,"question_id":69698466,"body_markdown":"Try this.\r\n\r\n    public static List&lt;Integer&gt; primes(int max) {\r\n        return IntStream.rangeClosed(2, (int)Math.sqrt(max))\r\n            .mapToObj(i -&gt; (IntPredicate) k -&gt; k == i || k % i != 0)\r\n            .reduce(IntStream.rangeClosed(2, max),\r\n                (s, p) -&gt; s.filter(p), (a, b) -&gt; IntStream.concat(a, b))\r\n            .boxed()\r\n            .toList();\r\n    }\r\n\r\n    public static void main(String[] args) throws ClassNotFoundException {\r\n        System.out.println(primes(100));\r\n    }\r\n\r\noutput:\r\n\r\n    [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]\r\n","title":"Find the ArrayList of prime numbers till the given number","body":"<p>Try this.</p>\n<pre><code>public static List&lt;Integer&gt; primes(int max) {\n    return IntStream.rangeClosed(2, (int)Math.sqrt(max))\n        .mapToObj(i -&gt; (IntPredicate) k -&gt; k == i || k % i != 0)\n        .reduce(IntStream.rangeClosed(2, max),\n            (s, p) -&gt; s.filter(p), (a, b) -&gt; IntStream.concat(a, b))\n        .boxed()\n        .toList();\n}\n\npublic static void main(String[] args) throws ClassNotFoundException {\n    System.out.println(primes(100));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635092573,"creation_date":1635092573,"answer_id":69698666,"question_id":69698466,"body_markdown":"### Tried and tested\r\n\r\n    import java.util.*;\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            int n=7; // you can change value of n\r\n            ArrayList&lt;Integer&gt; list=new ArrayList&lt;&gt;();\r\n            list.add(2);\r\n           for(int i=3;i&lt;=n;i++)\r\n           {\r\n               boolean flag=false;\r\n               for(int j=2;j&lt;=Math.sqrt(i);j++)\r\n               {\r\n                   if(i%j==0)\r\n                   {\r\n                      \r\n                       flag=true;\r\n                       break; \r\n                   }\r\n               } \r\n        \r\n               if(!flag) list.add(i);\r\n               \r\n           }\r\n           System.out.println(list);\r\n        }\r\n    }\r\n\r\n### Output: \r\n\r\n    [2, 3, 5, 7]\r\n\r\n**Note:**\r\n`1` is neither `prime` nor `composite`","title":"Find the ArrayList of prime numbers till the given number","body":"<h3>Tried and tested</h3>\n<pre><code>import java.util.*;\npublic class HelloWorld {\n    public static void main(String[] args) {\n        int n=7; // you can change value of n\n        ArrayList&lt;Integer&gt; list=new ArrayList&lt;&gt;();\n        list.add(2);\n       for(int i=3;i&lt;=n;i++)\n       {\n           boolean flag=false;\n           for(int j=2;j&lt;=Math.sqrt(i);j++)\n           {\n               if(i%j==0)\n               {\n                  \n                   flag=true;\n                   break; \n               }\n           } \n    \n           if(!flag) list.add(i);\n           \n       }\n       System.out.println(list);\n    }\n}\n</code></pre>\n<h3>Output:</h3>\n<pre><code>[2, 3, 5, 7]\n</code></pre>\n<p><strong>Note:</strong>\n<code>1</code> is neither <code>prime</code> nor <code>composite</code></p>\n"}],"owner":{"account_id":23129777,"reputation":3,"user_id":17235008,"display_name":"Farid Aghazada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69698666,"answer_count":2,"score":-2,"last_activity_date":1635092573,"creation_date":1635091265,"question_id":69698466,"body_markdown":"&gt; So I need to write a program that takes a number and prints the Array list of integers till the inputted number(Including).\r\nFor example if we write 7 the program need to print: 1,2,3,5,7.\r\nI have tried some methods that I&#39;ve seen on internet but couldn&#39;t achieve success.\r\n\r\n        package com.company;\r\n        import java.util.Arrays;\r\n        import java.util.ArrayList;\r\n        import java.util.Scanner;\r\n\r\n        public class Main {\r\n\r\n\r\n            public static void main(String[] args) {\r\n\r\n\r\n                Scanner scanner = new Scanner(System.in);\r\n                int input = scanner.nextInt();\r\n                ArrayList&lt;Integer&gt; AYE = new ArrayList&lt;Integer&gt;();\r\n                int flag = 0;\r\n                for(int i = 1; i&lt;=input; i++){\r\n                    if(i==1 || i==2 || i==3){\r\n                        AYE.add(i);\r\n                    }else{\r\n                        for(int a = 2; a&lt;=(int)Math.sqrt(input+1); a++){\r\n                            if(input%a==0){\r\n                                flag = 1;\r\n                                break;\r\n                            }else{\r\n                                flag=0;\r\n                            }\r\n                        }\r\n                        if(flag==0){\r\n                            AYE.add(i);\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n\r\n\r\n\r\n                Qaytarmaq(AYE)\r\n                ;\r\n\r\n\r\n             }\r\n            public static void Qaytarmaq(ArrayList&lt;Integer&gt; AYE){\r\n                for (int j = 0; j &lt; AYE.size(); j++) {\r\n                    System.out.println(AYE.get(j));\r\n\r\n\r\n                }\r\n            }\r\n       }","title":"Find the ArrayList of prime numbers till the given number","body":"<blockquote>\n<p>So I need to write a program that takes a number and prints the Array list of integers till the inputted number(Including).\nFor example if we write 7 the program need to print: 1,2,3,5,7.\nI have tried some methods that I've seen on internet but couldn't achieve success.</p>\n</blockquote>\n<pre><code>    package com.company;\n    import java.util.Arrays;\n    import java.util.ArrayList;\n    import java.util.Scanner;\n\n    public class Main {\n\n\n        public static void main(String[] args) {\n\n\n            Scanner scanner = new Scanner(System.in);\n            int input = scanner.nextInt();\n            ArrayList&lt;Integer&gt; AYE = new ArrayList&lt;Integer&gt;();\n            int flag = 0;\n            for(int i = 1; i&lt;=input; i++){\n                if(i==1 || i==2 || i==3){\n                    AYE.add(i);\n                }else{\n                    for(int a = 2; a&lt;=(int)Math.sqrt(input+1); a++){\n                        if(input%a==0){\n                            flag = 1;\n                            break;\n                        }else{\n                            flag=0;\n                        }\n                    }\n                    if(flag==0){\n                        AYE.add(i);\n                    }\n                }\n\n            }\n\n\n\n\n            Qaytarmaq(AYE)\n            ;\n\n\n         }\n        public static void Qaytarmaq(ArrayList&lt;Integer&gt; AYE){\n            for (int j = 0; j &lt; AYE.size(); j++) {\n                System.out.println(AYE.get(j));\n\n\n            }\n        }\n   }\n</code></pre>\n"},{"tags":["java","methods","program-entry-point"],"answers":[{"tags":[],"owner":{"account_id":24285,"reputation":32181,"user_id":61663,"accept_rate":92,"display_name":"Jack Edmonds"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1317255756,"creation_date":1317254950,"answer_id":7591085,"question_id":7591064,"body_markdown":"The `main` method is only used when the Java Virtual Machine is executing your code.  Code cannot be executed without a `main` method but it can still be compiled.\r\n\r\nWhen compiling code, you usually specify a set of files on the command line e.g.\r\n\r\n    javac MyClass1.java MyClass2.java\r\n\r\nThe Java compiler (`javac`) examines each class you passed to it and compiles it into a .class file.\r\n\r\nOne reason Java source code may be missing a `main` method is because it is designed to be used as a library, instead of being executed.\r\n\r\nSomething you may find interesting: although the source code compiled by the Java compiler does not need a `main` method, the [source code for the Java compiler itself][1] does have a `main` method.\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk7/jdk7/langtools/file/ce654f4ecfd8/src/share/classes/com/sun/tools/javac/Main.java","title":"How do Java programs run without defining the main method?","body":"<p>The <code>main</code> method is only used when the Java Virtual Machine is executing your code.  Code cannot be executed without a <code>main</code> method but it can still be compiled.</p>\n\n<p>When compiling code, you usually specify a set of files on the command line e.g.</p>\n\n<pre><code>javac MyClass1.java MyClass2.java\n</code></pre>\n\n<p>The Java compiler (<code>javac</code>) examines each class you passed to it and compiles it into a .class file.</p>\n\n<p>One reason Java source code may be missing a <code>main</code> method is because it is designed to be used as a library, instead of being executed.</p>\n\n<p>Something you may find interesting: although the source code compiled by the Java compiler does not need a <code>main</code> method, the <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/langtools/file/ce654f4ecfd8/src/share/classes/com/sun/tools/javac/Main.java\">source code for the Java compiler itself</a> does have a <code>main</code> method.</p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1317254997,"creation_date":1317254997,"answer_id":7591090,"question_id":7591064,"body_markdown":"There is a difference between running and compiling.  Java code can be compiled incrementally.  You only need a `main` somewhere to *run* the code.  Java &quot;knows where to start&quot; because the compiler is smart enough to arrange all the dependencies when you compile.\r\n\r\nIndeed, if you are building a web application in some sort of standard container, your code probably won&#39;t have a `main` method.  The container does, but you just write components that plug in.","title":"How do Java programs run without defining the main method?","body":"<p>There is a difference between running and compiling.  Java code can be compiled incrementally.  You only need a <code>main</code> somewhere to <em>run</em> the code.  Java \"knows where to start\" because the compiler is smart enough to arrange all the dependencies when you compile.</p>\n\n<p>Indeed, if you are building a web application in some sort of standard container, your code probably won't have a <code>main</code> method.  The container does, but you just write components that plug in.</p>\n"},{"tags":[],"owner":{"account_id":450337,"reputation":3828,"user_id":845607,"accept_rate":80,"display_name":"n0rmzzz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317255071,"creation_date":1317255071,"answer_id":7591094,"question_id":7591064,"body_markdown":"&gt; how does Java &lt;s&gt;compile&lt;/s&gt; run your source without knowing where to\r\n&gt; start?\r\n\r\nI assume you meant run (instead of compile), since you don&#39;t need a main() to compile. In which case, an explicitly declared main() method is only one of the ways to run a program.\r\nYou can use some frameworks to execute your code. They have got the main() (talking about console applications only) and require you to declare an entry point only. This is how you run unit tests, for example.","title":"How do Java programs run without defining the main method?","body":"<blockquote>\n  <p>how does Java <s>compile</s> run your source without knowing where to\n  start?</p>\n</blockquote>\n\n<p>I assume you meant run (instead of compile), since you don't need a main() to compile. In which case, an explicitly declared main() method is only one of the ways to run a program.\nYou can use some frameworks to execute your code. They have got the main() (talking about console applications only) and require you to declare an entry point only. This is how you run unit tests, for example.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317258835,"creation_date":1317258835,"answer_id":7591397,"question_id":7591064,"body_markdown":"Every single Java class you write isn&#39;t intended to be an entry point for running, that&#39;s why.  I&#39;d say that&#39;s the rule rather than the exception.\r\n","title":"How do Java programs run without defining the main method?","body":"<p>Every single Java class you write isn't intended to be an entry point for running, that's why.  I'd say that's the rule rather than the exception.</p>\n"},{"tags":[],"owner":{"account_id":2524897,"reputation":2922,"user_id":2194456,"accept_rate":47,"display_name":"LMK"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1415777331,"creation_date":1364875512,"answer_id":15755869,"question_id":7591064,"body_markdown":"// works only on **java 1.6** or less versions\r\n\r\n    public class Test{   \r\n        // this is static block\r\n     \r\n        static{\r\n            System.out.println(&quot;This is static block&quot;);  \r\n        }\r\n    }\r\n  \r\nIn Java (while running):\r\n\r\n 1. all static members are identified.\r\n 2. all variables and methods    are initialized\r\n 3. static block is executed","title":"How do Java programs run without defining the main method?","body":"<p>// works only on <strong>java 1.6</strong> or less versions</p>\n\n<pre><code>public class Test{   \n    // this is static block\n\n    static{\n        System.out.println(\"This is static block\");  \n    }\n}\n</code></pre>\n\n<p>In Java (while running):</p>\n\n<ol>\n<li>all static members are identified.</li>\n<li>all variables and methods    are initialized</li>\n<li>static block is executed</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3087344,"reputation":1,"user_id":2614245,"display_name":"Vishal sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377178077,"creation_date":1375101339,"answer_id":17924217,"question_id":7591064,"body_markdown":"Yes, we can run a java program without main method, for this we will use static function \r\n\r\nFollowing is the code:\r\n\r\n    class Vishal\r\n    {\r\n        static\r\n        {\r\n            System.out.println(&quot;Hi look program is running without main() method&quot;);\r\n        }\r\n    }\r\n\r\nThis will output *&quot;Hi look program is running without main() method&quot;*\r\n\r\n\r\n","title":"How do Java programs run without defining the main method?","body":"<p>Yes, we can run a java program without main method, for this we will use static function </p>\n\n<p>Following is the code:</p>\n\n<pre><code>class Vishal\n{\n    static\n    {\n        System.out.println(\"Hi look program is running without main() method\");\n    }\n}\n</code></pre>\n\n<p>This will output <em>\"Hi look program is running without main() method\"</em></p>\n"},{"tags":[],"owner":{"account_id":3301585,"reputation":1,"user_id":2777628,"display_name":"nahush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379100403,"creation_date":1379099129,"answer_id":18793467,"question_id":7591064,"body_markdown":"    public class Test{   \r\n        // this is static block\r\n    \r\n        static{\r\n            System.out.println(&quot;This is static block&quot;);  \r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\nThis will run fine in JDK version 1.6 or earlier. In version 1.7 and later it is necessary to include a `main()` function.","title":"How do Java programs run without defining the main method?","body":"<pre><code>public class Test{   \n    // this is static block\n\n    static{\n        System.out.println(\"This is static block\");  \n        System.exit(0);\n    }\n}\n</code></pre>\n\n<p>This will run fine in JDK version 1.6 or earlier. In version 1.7 and later it is necessary to include a <code>main()</code> function.</p>\n"},{"tags":[],"owner":{"account_id":4591657,"reputation":11,"user_id":3724775,"display_name":"Ananthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404715685,"creation_date":1404211255,"answer_id":24508230,"question_id":7591064,"body_markdown":"We can compile a program without main method. Actually running a program differs from compiling it.Most of the libraries do not contain a main method. so for compiling there is no problem whether the program contains main method or not.","title":"How do Java programs run without defining the main method?","body":"<p>We can compile a program without main method. Actually running a program differs from compiling it.Most of the libraries do not contain a main method. so for compiling there is no problem whether the program contains main method or not.</p>\n"},{"tags":[],"owner":{"account_id":5539586,"reputation":1,"user_id":4396684,"display_name":"coco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419626440,"creation_date":1419626440,"answer_id":27661752,"question_id":7591064,"body_markdown":"    package com.test;\r\n\r\n    public class Test {\r\n    \tstatic {\r\n            System.out.println(&quot;HOLAAAA&quot;);\r\n\t\t    System.exit(1);\r\n\t    }\r\n    }\r\n\r\n    //by coco\r\n    //Command line:\r\n    //java -Djava.security.manager=com.test.Test","title":"How do Java programs run without defining the main method?","body":"<pre><code>package com.test;\n\npublic class Test {\n    static {\n        System.out.println(\"HOLAAAA\");\n        System.exit(1);\n    }\n}\n\n//by coco\n//Command line:\n//java -Djava.security.manager=com.test.Test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2936144,"reputation":1478,"user_id":2514978,"accept_rate":58,"display_name":"Bharthan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431524428,"creation_date":1431524428,"answer_id":30216648,"question_id":7591064,"body_markdown":"One of the way is static block but in previous version of JDK not in JDK 1.7.\r\n\r\n    class A3{  \r\n      static{  \r\n      System.out.println(&quot;static block is invoked&quot;);  \r\n      System.exit(0);  \r\n      }  \r\n    }  ","title":"How do Java programs run without defining the main method?","body":"<p>One of the way is static block but in previous version of JDK not in JDK 1.7.</p>\n\n<pre><code>class A3{  \n  static{  \n  System.out.println(\"static block is invoked\");  \n  System.exit(0);  \n  }  \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3673238,"reputation":5567,"user_id":3059893,"accept_rate":45,"display_name":"JavaHopper"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1580917956,"creation_date":1461518936,"answer_id":36826548,"question_id":7591064,"body_markdown":"If you don&#39;t want to use static block too, it can be done following way\r\n\r\n    public class NoMain {\r\n    \r\n        private static final int STATUS = getStatus();\r\n    \r\n        private static int getStatus() {\r\n            System.out.println(&quot;Hello World!!&quot;);\r\n            System.exit(0);\r\n            return 0;\r\n        }\r\n    \r\n    }\r\n\r\nHowever, please note that this is for Java 6 version. This doesn&#39;t seem to work in Java 7 and above","title":"How do Java programs run without defining the main method?","body":"<p>If you don't want to use static block too, it can be done following way</p>\n\n<pre><code>public class NoMain {\n\n    private static final int STATUS = getStatus();\n\n    private static int getStatus() {\n        System.out.println(\"Hello World!!\");\n        System.exit(0);\n        return 0;\n    }\n\n}\n</code></pre>\n\n<p>However, please note that this is for Java 6 version. This doesn't seem to work in Java 7 and above</p>\n"},{"tags":[],"owner":{"account_id":11954150,"reputation":11,"user_id":8746995,"display_name":"Vikash kumawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515166152,"creation_date":1515166152,"answer_id":48116623,"question_id":7591064,"body_markdown":"This will execute without any error and without main() method\r\n\r\n\r\n\r\n    abstract class hello extends javafx.application.Application\r\n    {\r\n        static \r\n        {\r\n        System.out.println(&quot;without main method&quot;);\r\n        System.exit(0);\r\n        }\r\n    }\r\n\r\n","title":"How do Java programs run without defining the main method?","body":"<p>This will execute without any error and without main() method</p>\n\n<pre><code>abstract class hello extends javafx.application.Application\n{\n    static \n    {\n    System.out.println(\"without main method\");\n    System.exit(0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23125776,"reputation":11,"user_id":17231597,"display_name":"PAVAN SAI POTNURU"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635092534,"creation_date":1635090928,"answer_id":69698418,"question_id":7591064,"body_markdown":"Yes, We can Compile and Execute a java program without Main function. Instead of that we can use static block to compile and Execute the program. It is supported only for previous versions of java. But now it is not supported...","title":"How do Java programs run without defining the main method?","body":"<p>Yes, We can Compile and Execute a java program without Main function. Instead of that we can use static block to compile and Execute the program. It is supported only for previous versions of java. But now it is not supported...</p>\n"}],"owner":{"account_id":918395,"reputation":4513,"user_id":950669,"accept_rate":100,"display_name":"Korvin Szanto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49228,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7591085,"answer_count":13,"score":10,"last_activity_date":1635092534,"creation_date":1317254712,"question_id":7591064,"body_markdown":"I was looking through some Java source and noticed that the `main` method wasn&#39;t defined.\r\n\r\nHow does Java compile source code without knowing where to start?","title":"How do Java programs run without defining the main method?","body":"<p>I was looking through some Java source and noticed that the <code>main</code> method wasn't defined.</p>\n\n<p>How does Java compile source code without knowing where to start?</p>\n"},{"tags":["java","bit-manipulation"],"comments":[{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1635054827,"post_id":69691685,"comment_id":123189696,"body_markdown":"From what I understood, it&#39;s not about how many bits you can put, it&#39;s about the length of each element in this `long[]` array. In this case each element in the `long[]` represents a move which is in being represented by 3 bits, each bit being a location on the board (in binary), thus if the board is more than 64 cells (bits) you cannot use `long[]` anymore and you have to use something else, `BitSet` in my case. Or I misunderstood it?","body":"From what I understood, it&#39;s not about how many bits you can put, it&#39;s about the length of each element in this <code>long[]</code> array. In this case each element in the <code>long[]</code> represents a move which is in being represented by 3 bits, each bit being a location on the board (in binary), thus if the board is more than 64 cells (bits) you cannot use <code>long[]</code> anymore and you have to use something else, <code>BitSet</code> in my case. Or I misunderstood it?"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":1,"creation_date":1635056447,"post_id":69691685,"comment_id":123189884,"body_markdown":"Use `Long.toBinaryString(long)` e.g. `Long.toBinaryString((1L &lt;&lt; bit2) | (1L &lt;&lt; bit3))`. This will show you the bit positions. Unlike **BitSet**, the ordering starts from right to left -- `1L &lt;&lt; 1` == `bitset1.get(1)`.","body":"Use <code>Long.toBinaryString(long)</code> e.g. <code>Long.toBinaryString((1L &lt;&lt; bit2) | (1L &lt;&lt; bit3))</code>. This will show you the bit positions. Unlike <b>BitSet</b>, the ordering starts from right to left -- <code>1L &lt;&lt; 1</code> == <code>bitset1.get(1)</code>."},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1635062102,"post_id":69691685,"comment_id":123190710,"body_markdown":"But if the board is more than 64 cells? How will I be able to use `Long.toBinaryString`? I need to convert this code to use boards of more than 64 cells","body":"But if the board is more than 64 cells? How will I be able to use <code>Long.toBinaryString</code>? I need to convert this code to use boards of more than 64 cells"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":1,"creation_date":1635063309,"post_id":69691685,"comment_id":123190887,"body_markdown":"I expect you to use that method for learning purposes, not really in your code. That **|** is a BITWISE-OR, use it to merge multiple bits e.g. `0001 | 1000` would produce `1001`. Here is an example: `bitset1.set(1), bitset2.set(2,3), bitset3.set(1,2,3)` would give the first `moves.add(bitset1, bitset2, bitset3)` assumes bit1,bit2,bit3 are 1,2,3 respectively. Remember this, the index starts from 0 and not 1 -- BitSet(100) -- [0-99].","body":"I expect you to use that method for learning purposes, not really in your code. That <b>|</b> is a BITWISE-OR, use it to merge multiple bits e.g. <code>0001 | 1000</code> would produce <code>1001</code>. Here is an example: <code>bitset1.set(1), bitset2.set(2,3), bitset3.set(1,2,3)</code> would give the first <code>moves.add(bitset1, bitset2, bitset3)</code> assumes bit1,bit2,bit3 are 1,2,3 respectively. Remember this, the index starts from 0 and not 1 -- BitSet(100) -- [0-99]."},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1635065568,"post_id":69691685,"comment_id":123191293,"body_markdown":"Ok I got confused because the `|` is a bitwise-or and I was trying to use the `or()` method of the `BitSet`, which is logical-or. What confused me is that the result of the bitwise-or is a single number i.e `moves.add(new long[]{(bit, bit, bit)})`, but if I want to convert it to `BitSet` it would result in more than 1 number in each `BitSet` i.e `moves.add(bitset1.set(1), bitset2.set(2,3), bitset3.set(1,2,3))`. I&#39;m still trying to think if the result of the logical-or is equivalent to the bitwise in this case, for example `bitset2.or(bitset3)` as the second parameter in the first `moves.add`","body":"Ok I got confused because the <code>|</code> is a bitwise-or and I was trying to use the <code>or()</code> method of the <code>BitSet</code>, which is logical-or. What confused me is that the result of the bitwise-or is a single number i.e <code>moves.add(new long[]{(bit, bit, bit)})</code>, but if I want to convert it to <code>BitSet</code> it would result in more than 1 number in each <code>BitSet</code> i.e <code>moves.add(bitset1.set(1), bitset2.set(2,3), bitset3.set(1,2,3))</code>. I&#39;m still trying to think if the result of the logical-or is equivalent to the bitwise in this case, for example <code>bitset2.or(bitset3)</code> as the second parameter in the first <code>moves.add</code>"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":1,"creation_date":1635069135,"post_id":69691685,"comment_id":123191954,"body_markdown":"Yes, it is equivalent. No, this: `bitset2.or(bitset3)` is incorrect. That is equivalent to `((1L &lt;&lt; bit2) | (1L &lt;&lt; bit3))   |   ((1L &lt;&lt; bit1) | (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3))`.","body":"Yes, it is equivalent. No, this: <code>bitset2.or(bitset3)</code> is incorrect. That is equivalent to <code>((1L &lt;&lt; bit2) | (1L &lt;&lt; bit3))   |   ((1L &lt;&lt; bit1) | (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3))</code>."},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1635071009,"post_id":69691685,"comment_id":123192336,"body_markdown":"Thank you! Now it&#39;s much clearer. I edited my code and you can see the change (at the bottom),  I think I got the logic right, but now I am not sure how to use `moves.add` because I can&#39;t just use `moves.add(bitset1, bitset2, bitset3)`, I get error: `The method add(BitSet[], Object[], int) in the type ArrayList&lt;BitSet[]&gt; is not applicable for the arguments (BitSet, BitSet, BitSet)`, and of course, because it&#39;s completely different","body":"Thank you! Now it&#39;s much clearer. I edited my code and you can see the change (at the bottom),  I think I got the logic right, but now I am not sure how to use <code>moves.add</code> because I can&#39;t just use <code>moves.add(bitset1, bitset2, bitset3)</code>, I get error: <code>The method add(BitSet[], Object[], int) in the type ArrayList&lt;BitSet[]&gt; is not applicable for the arguments (BitSet, BitSet, BitSet)</code>, and of course, because it&#39;s completely different"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":1,"creation_date":1635072567,"post_id":69691685,"comment_id":123192638,"body_markdown":"`moves.add(new BitSet[] { bitset2, bitset2, bitset3 })`","body":"<code>moves.add(new BitSet[] { bitset2, bitset2, bitset3 })</code>"},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":1,"creation_date":1635077807,"post_id":69691685,"comment_id":123193665,"body_markdown":"Thank you! (*You had a type, first one is `bitset1`). Now I continue and see if I can finish that","body":"Thank you! (*You had a type, first one is <code>bitset1</code>). Now I continue and see if I can finish that"},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":1,"creation_date":1635078590,"post_id":69691685,"comment_id":123193832,"body_markdown":"*Also, I had a typo, lol","body":"*Also, I had a typo, lol"},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1635088910,"post_id":69691685,"comment_id":123196507,"body_markdown":"@Darkman thank you! It now runs, but I think I have issues again with converting the bitwise logic to BitSet: https://stackoverflow.com/questions/69698141/converting-code-to-bitset-from-long-it-runs-but-doesnt-solve-properly","body":"@Darkman thank you! It now runs, but I think I have issues again with converting the bitwise logic to BitSet: <a href=\"https://stackoverflow.com/questions/69698141/converting-code-to-bitset-from-long-it-runs-but-doesnt-solve-properly\" title=\"converting code to bitset from long it runs but doesnt solve properly\">stackoverflow.com/questions/69698141/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user17201277"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635091954,"creation_date":1635091576,"answer_id":69698516,"question_id":69691685,"body_markdown":"Try this.\r\n\r\n    private static BitSet bitset(int... bits) {\r\n        BitSet result = new BitSet();\r\n        for (int i : bits)\r\n            result.set(i);\r\n        return result;\r\n    }\r\n\r\n    private static void createMoves(int bit1, int bit2, int bit3, ArrayList&lt;BitSet[]&gt; moves) {\r\n        moves.add(new BitSet[] {bitset(bit1), bitset(bit2, bit3), bitset(bit1, bit2, bit3)});\r\n        moves.add(new BitSet[] {bitset(bit3), bitset(bit2, bit1), bitset(bit1, bit2, bit3)});\r\n    }\r\n","title":"Converting from long to BitSet - what is the meaning of these bitwise operations?","body":"<p>Try this.</p>\n<pre><code>private static BitSet bitset(int... bits) {\n    BitSet result = new BitSet();\n    for (int i : bits)\n        result.set(i);\n    return result;\n}\n\nprivate static void createMoves(int bit1, int bit2, int bit3, ArrayList&lt;BitSet[]&gt; moves) {\n    moves.add(new BitSet[] {bitset(bit1), bitset(bit2, bit3), bitset(bit1, bit2, bit3)});\n    moves.add(new BitSet[] {bitset(bit3), bitset(bit2, bit1), bitset(bit1, bit2, bit3)});\n}\n</code></pre>\n"}],"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635091954,"creation_date":1635019756,"question_id":69691685,"body_markdown":"I am trying to convert the following code from `long` to `BitSet` (because I want to make boards longer than 64 cells):\r\n\r\nhttps://blackflux.wordpress.com/2014/04/30/peg-solitaire-brute-force/\r\n\r\nAnd I&#39;m currently trying to convert the following part:\r\n\r\n    // create the two possible moves for the three added pegs\r\n    // (this function assumes that the pegs are in one continuous line)\r\n    private static void createMoves(int bit1, int bit2, int bit3, ArrayList&lt;long[]&gt; moves) {\r\n        moves.add(new long[]{(1L &lt;&lt; bit1), (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3),\r\n                (1L &lt;&lt; bit1) | (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3)});\r\n        moves.add(new long[]{(1L &lt;&lt; bit3), (1L &lt;&lt; bit2) | (1L &lt;&lt; bit1),\r\n                (1L &lt;&lt; bit1) | (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3)});\r\n    }\r\n\r\nSo I understand that the purpose of left shifting is setting a bit thus a number. So in this case `moves.add{new long[]{(1L &lt;&lt; bit1),..` can be converted to\r\n\r\n    BitSet bitset1 = new BitSet(100);\r\n    bitset1.set(bit1);\r\n    BitSet bitset2 = new BitSet(100);\r\n    bitset2.set(//what to set here?);\r\n    BitSet bitset3 = new BitSet(100);\r\n    bitset3.set(//what to set here?);\r\n    moves.add(bitset1, bitset2, bitset3);\r\n\r\nBut I can&#39;t figure out what&#39;s the purpose of the last two bitwise `or`&#39;s (in both of the `moves.add` lines)\r\n\r\nAn example - if `createMoves()` gets 1,2,3 as `bit1,bit2.bit3` respectively, it would result in `moves.add(new long[]{1,3,3}` and `moves.add(new long[]{3,3,3}`, because of the bitwise `or` operation on `0001`, `0010` and `0011`\r\n\r\nBut can&#39;t find out what&#39;s the meaning of it.\r\n\r\nEdit: I think I figured out the meaning and this is my code now:\r\n\r\n    private static void createMoves(int bit1, int bit2, int bit3, ArrayList&lt;BitSet[]&gt; moves) {\r\n    \t\r\n    \tBitSet bitset1 = new BitSet(100);\r\n    \tBitSet bitset2 = new BitSet(100);\r\n    \tBitSet bitset3 = new BitSet(100);\r\n    \t\r\n    \tbitset1.set(bit1);\r\n    \t\r\n    \tbitset2.set(bit2);\r\n    \tbitset2.set(bit3);\r\n    \t\r\n    \tbitset3.set(bit1);\r\n    \tbitset3.set(bit2);\r\n    \tbitset3.set(bit3);    \t\r\n    \r\n    \tmoves.add(bitset2, bitset2, bitset3);\r\n    \t\r\n    \tbitset1.set(bit3);\r\n    \t\r\n    \tbitset2.set(bit2);\r\n    \tbitset2.set(bit1);\r\n    \t\r\n    \tbitset3.set(bit1);\r\n    \tbitset3.set(bit2);\r\n    \tbitset3.set(bit3);   \r\n    \t\r\n        moves.add(bitset1, bitset2, bitset3);\r\n\r\n\r\nBut I&#39;m having problem with the `add()` method because I&#39;m trying to add 3 bitsets to array of bitsets as defined by the `createMoves`. Should I change that to an `ArrayList` inside the `ArrayList`?","title":"Converting from long to BitSet - what is the meaning of these bitwise operations?","body":"<p>I am trying to convert the following code from <code>long</code> to <code>BitSet</code> (because I want to make boards longer than 64 cells):</p>\n<p><a href=\"https://blackflux.wordpress.com/2014/04/30/peg-solitaire-brute-force/\" rel=\"nofollow noreferrer\">https://blackflux.wordpress.com/2014/04/30/peg-solitaire-brute-force/</a></p>\n<p>And I'm currently trying to convert the following part:</p>\n<pre><code>// create the two possible moves for the three added pegs\n// (this function assumes that the pegs are in one continuous line)\nprivate static void createMoves(int bit1, int bit2, int bit3, ArrayList&lt;long[]&gt; moves) {\n    moves.add(new long[]{(1L &lt;&lt; bit1), (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3),\n            (1L &lt;&lt; bit1) | (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3)});\n    moves.add(new long[]{(1L &lt;&lt; bit3), (1L &lt;&lt; bit2) | (1L &lt;&lt; bit1),\n            (1L &lt;&lt; bit1) | (1L &lt;&lt; bit2) | (1L &lt;&lt; bit3)});\n}\n</code></pre>\n<p>So I understand that the purpose of left shifting is setting a bit thus a number. So in this case <code>moves.add{new long[]{(1L &lt;&lt; bit1),..</code> can be converted to</p>\n<pre><code>BitSet bitset1 = new BitSet(100);\nbitset1.set(bit1);\nBitSet bitset2 = new BitSet(100);\nbitset2.set(//what to set here?);\nBitSet bitset3 = new BitSet(100);\nbitset3.set(//what to set here?);\nmoves.add(bitset1, bitset2, bitset3);\n</code></pre>\n<p>But I can't figure out what's the purpose of the last two bitwise <code>or</code>'s (in both of the <code>moves.add</code> lines)</p>\n<p>An example - if <code>createMoves()</code> gets 1,2,3 as <code>bit1,bit2.bit3</code> respectively, it would result in <code>moves.add(new long[]{1,3,3}</code> and <code>moves.add(new long[]{3,3,3}</code>, because of the bitwise <code>or</code> operation on <code>0001</code>, <code>0010</code> and <code>0011</code></p>\n<p>But can't find out what's the meaning of it.</p>\n<p>Edit: I think I figured out the meaning and this is my code now:</p>\n<pre><code>private static void createMoves(int bit1, int bit2, int bit3, ArrayList&lt;BitSet[]&gt; moves) {\n    \n    BitSet bitset1 = new BitSet(100);\n    BitSet bitset2 = new BitSet(100);\n    BitSet bitset3 = new BitSet(100);\n    \n    bitset1.set(bit1);\n    \n    bitset2.set(bit2);\n    bitset2.set(bit3);\n    \n    bitset3.set(bit1);\n    bitset3.set(bit2);\n    bitset3.set(bit3);      \n\n    moves.add(bitset2, bitset2, bitset3);\n    \n    bitset1.set(bit3);\n    \n    bitset2.set(bit2);\n    bitset2.set(bit1);\n    \n    bitset3.set(bit1);\n    bitset3.set(bit2);\n    bitset3.set(bit3);   \n    \n    moves.add(bitset1, bitset2, bitset3);\n</code></pre>\n<p>But I'm having problem with the <code>add()</code> method because I'm trying to add 3 bitsets to array of bitsets as defined by the <code>createMoves</code>. Should I change that to an <code>ArrayList</code> inside the <code>ArrayList</code>?</p>\n"},{"tags":["java","command-line"],"answers":[{"tags":[],"owner":{"account_id":1654043,"reputation":2659,"user_id":1524027,"display_name":"mnesarco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635091723,"creation_date":1635091541,"answer_id":69698511,"question_id":69698482,"body_markdown":"Windows:\r\n\r\n    $ java -cp &quot;.lift/algs4.jar;.&quot; RandomWord &lt; coin.txt\r\n\r\n\r\nLinux/Mac\r\n\r\n    $ java -cp &quot;.lift/algs4.jar:.&quot; RandomWord &lt; coin.txt\r\n\r\n\r\nCurrent dir must be added to classpath to allow java to find classes there.","title":"Java Cannot Load Main Class Without Adding .java","body":"<p>Windows:</p>\n<pre><code>$ java -cp &quot;.lift/algs4.jar;.&quot; RandomWord &lt; coin.txt\n</code></pre>\n<p>Linux/Mac</p>\n<pre><code>$ java -cp &quot;.lift/algs4.jar:.&quot; RandomWord &lt; coin.txt\n</code></pre>\n<p>Current dir must be added to classpath to allow java to find classes there.</p>\n"}],"owner":{"account_id":22276612,"reputation":93,"user_id":16505674,"display_name":"amai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69698511,"answer_count":1,"score":-1,"last_activity_date":1635091723,"creation_date":1635091357,"question_id":69698482,"body_markdown":"I&#39;m trying to run a Java class file which I&#39;ve compiled, but it keeps telling me that it cannot find or load the main class.\r\n\r\nI have a directory which looks like this:\r\n[![Directory][1]][1]\r\n\r\nMy goal is to run the RandomWord.java file, which takes in a file input and relies on the algs4.jar file found in the .lift sub-directory.\r\nFrom what I&#39;ve seen, to compile, I need to run the following (assuming I&#39;m cd&#39;ed into the hello directory):  \r\n$ javac -cp .lift/algs4.jar RandomWord.java    \r\nThis should create my RandomWord.class file.\r\nNow, to run it with a txt file, for example with coin.txt, I believe I should be running the following:  \r\n$ java -cp .lift/algs4.jar RandomWord &lt; coin.txt  \r\nHowever, this results in an error stating: Error: Could not find or load main class RandomWord.\r\n\r\nI&#39;ve done a ton of experimenting with this but I have no idea what&#39;s going on, but I&#39;ve found that running the following works:  \r\n$ java -cp .lift/algs4.jar RandomWord.java &lt; coin.txt    \r\nHowever, I believe when a .class file is created, I shouldn&#39;t be writing .java in my command line, so I&#39;m really confused.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qwd6B.png","title":"Java Cannot Load Main Class Without Adding .java","body":"<p>I'm trying to run a Java class file which I've compiled, but it keeps telling me that it cannot find or load the main class.</p>\n<p>I have a directory which looks like this:\n<a href=\"https://i.stack.imgur.com/Qwd6B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qwd6B.png\" alt=\"Directory\" /></a></p>\n<p>My goal is to run the RandomWord.java file, which takes in a file input and relies on the algs4.jar file found in the .lift sub-directory.\nFrom what I've seen, to compile, I need to run the following (assuming I'm cd'ed into the hello directory):<br />\n$ javac -cp .lift/algs4.jar RandomWord.java<br />\nThis should create my RandomWord.class file.\nNow, to run it with a txt file, for example with coin.txt, I believe I should be running the following:<br />\n$ java -cp .lift/algs4.jar RandomWord &lt; coin.txt<br />\nHowever, this results in an error stating: Error: Could not find or load main class RandomWord.</p>\n<p>I've done a ton of experimenting with this but I have no idea what's going on, but I've found that running the following works:<br />\n$ java -cp .lift/algs4.jar RandomWord.java &lt; coin.txt<br />\nHowever, I believe when a .class file is created, I shouldn't be writing .java in my command line, so I'm really confused.</p>\n"},{"tags":["java","android","object-detection","crop","tensorflow-lite"],"comments":[{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1635094282,"post_id":69698528,"comment_id":123197837,"body_markdown":"Take a look at this answer https://stackoverflow.com/questions/28852127/how-to-crop-bitmap . The first one Bitmap.createBitmap(Bitmap source, int x, int y, int width, int height) . If you have the points and you can calculate the distance between points then you can crop it.","body":"Take a look at this answer <a href=\"https://stackoverflow.com/questions/28852127/how-to-crop-bitmap\">stackoverflow.com/questions/28852127/how-to-crop-bitmap</a> . The first one Bitmap.createBitmap(Bitmap source, int x, int y, int width, int height) . If you have the points and you can calculate the distance between points then you can crop it."},{"owner":{"account_id":16189702,"reputation":11,"user_id":11688852,"display_name":"AlisonJ"},"score":0,"creation_date":1635096831,"post_id":69698528,"comment_id":123198515,"body_markdown":"Thanks for answering my question! As you said, I wrote a method and tried to crop it, but it failed. Could you please find the wrong thing in the method I wrote? Are the values of x and y wrong?                                                                                         public Bitmap cropBitmap(Bitmap original, RectF rect){\n        int x = (int)rect.left;\n        int y = (int)rect.top;\n        int width = (int)rect.width();\n        int height = (int)rect.height();\n        Bitmap croppedBmp = Bitmap.createBitmap(original,x,y,width,height);\n        return croppedBmp;\n    }","body":"Thanks for answering my question! As you said, I wrote a method and tried to crop it, but it failed. Could you please find the wrong thing in the method I wrote? Are the values of x and y wrong?                                                                                         public Bitmap cropBitmap(Bitmap original, RectF rect){         int x = (int)rect.left;         int y = (int)rect.top;         int width = (int)rect.width();         int height = (int)rect.height();         Bitmap croppedBmp = Bitmap.createBitmap(original,x,y,width,height);         return croppedBmp;     }"}],"owner":{"account_id":16189702,"reputation":11,"user_id":11688852,"display_name":"AlisonJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635091622,"creation_date":1635091622,"question_id":69698528,"body_markdown":"I am a beginner Android developer. Object detection was performed through the tensorflow lite object detection model and the detected object rectangle was drawn.\r\n\r\nBut I&#39;m having trouble trying to crop only the detected area (square). I made a method that generates a Bitmap by specifying the coordinates of the rect, but it doesn&#39;t crop properly.\r\nIs there a way to crop only the detected area using a rectf or otherwise? Any help would be appreciated\r\n\r\nThere are values such as left, top, bottom, right that need to be cropped to location. I tried to crop with Bitmap.createBitmap() with these values, but a blank screen keeps appearing and cropping does not work. If there is another way to crop without using RectF, or if you can help me, please help....\r\n   \r\n cropToFrameTransform = new Matrix();\r\n        frameToCropTransform.invert(cropToFrameTransform);\r\n\r\n        trackingOverlay = (OverlayView) findViewById(R.id.tracking_overlay);\r\n        trackingOverlay.addCallback(\r\n                new DrawCallback() {\r\n                    @Override\r\n                    public void drawCallback(final Canvas canvas) {\r\n                        tracker.draw(canvas);\r\n                        if (isDebug()) {\r\n                            tracker.drawDebug(canvas);\r\n                        }\r\n                    }\r\n                });\r\n\r\n        tracker.setFrameConfiguration(previewWidth, previewHeight, sensorOrientation);\r\n    }\r\n\r\n    @Override\r\n    protected void processImage() {\r\n        ++timestamp;\r\n        final long currTimestamp = timestamp;\r\n        trackingOverlay.postInvalidate();\r\n\r\n        // No mutex needed as this method is not reentrant.\r\n        if (computingDetection) {\r\n            readyForNextImage();\r\n            return;\r\n        }\r\n        computingDetection = true;\r\n        LOGGER.i(&quot;Preparing image &quot; + currTimestamp + &quot; for detection in bg thread.&quot;);\r\n\r\n        rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, 0, previewWidth, previewHeight);\r\n\r\n        readyForNextImage();\r\n\r\n        final Canvas canvas = new Canvas(croppedBitmap);\r\n        canvas.drawBitmap(rgbFrameBitmap, frameToCropTransform, null);\r\n        // For examining the actual TF input.\r\n        if (SAVE_PREVIEW_BITMAP) {\r\n            ImageUtils.saveBitmap(croppedBitmap);\r\n        }\r\n        runInBackground(\r\n                new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        LOGGER.i(&quot;Running detection on image &quot; + currTimestamp);\r\n                        final long startTime = SystemClock.uptimeMillis();\r\n                        final List&lt;Detector.Recognition&gt; results = detector.recognizeImage(croppedBitmap);\r\n                        lastProcessingTimeMs = SystemClock.uptimeMillis() - startTime;\r\n\r\n                        cropCopyBitmap = Bitmap.createBitmap(croppedBitmap); \r\n                        final Canvas canvas = new Canvas(cropCopyBitmap);\r\n                        final Paint paint = new Paint(); \r\n                        paint.setColor(Color.RED); \r\n                        paint.setStyle(Style.STROKE);\r\n                        paint.setStrokeWidth(2.0f);\r\n\r\n                        float minimumConfidence = MINIMUM_CONFIDENCE_TF_OD_API;\r\n                        switch (MODE) {\r\n                            case TF_OD_API:\r\n                                minimumConfidence = MINIMUM_CONFIDENCE_TF_OD_API;\r\n                                break;\r\n                        }\r\n\r\n                        final List&lt;Detector.Recognition&gt; mappedRecognitions =\r\n                                new ArrayList&lt;Detector.Recognition&gt;(); \r\n\r\n                        for (final Detector.Recognition result : results) {\r\n                            final RectF location = result.getLocation();\r\n                            if (location != null &amp;&amp; result.getConfidence() &gt;= minimumConfidence) { \r\n                                canvas.drawRect(location, paint);\r\n\r\n                                cropToFrameTransform.mapRect(location);\r\n                                result.setLocation(location);\r\n                                mappedRecognitions.add(result);\r\n\r\n\r\n                                float location_top = location.top;\r\n                                float location_left = location.left;\r\n                                float location_right = location.right;\r\n                                float location_bottom = location.bottom;\r\n                                float location_width = location.width();\r\n                                float location_height = location.height();\r\n//It seems to be cropped from the original with the coordinates of this location.\r\n                              \r\n                                //mappedRecognitions : [[0] BusinessCard (70.3%) RectF(373.3333, 46.25, 536.6666, 425.0)]\r\n                                try {\r\n                                 \r\n\r\n                                    float confidence = result.getConfidence();\r\n\r\n\r\n                                    crop_result_list = new Detector.Recognition(\r\n                                            &quot;0&quot;, &quot;BusinessCard&quot;,confidence,location); //location is \r\n\r\n\r\n                                    Bitmap crop_image = cropBitmap_testing(cropCopyBitmap);//failed crop\r\n                                   //Bitmap crop_image = pleaseCrop(cropCopyBitmap, location);\r\n                                \r\n\r\n                                    crop_result_list.setCrop(crop_image);\r\n\r\n                                }catch (Exception err){\r\n                                    System.out.println(&quot;Fail image crop&quot;);\r\n                                }\r\n\r\n                            }\r\n                        }\r\n\r\n                        tracker.trackResults(mappedRecognitions, currTimestamp);\r\n                        trackingOverlay.postInvalidate();\r\n\r\n                        computingDetection = false;\r\n\r\n                        runOnUiThread(\r\n                                new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        showFrameInfo(previewWidth + &quot;x&quot; + previewHeight);\r\n                                        showCropInfo(cropCopyBitmap.getWidth() + &quot;x&quot; + cropCopyBitmap.getHeight());\r\n                                        showInference(lastProcessingTimeMs + &quot;ms&quot;);\r\n                                    }\r\n                                });\r\n                    }\r\n                });\r\n    }\r\n ","title":"How can I crop the detected rectangular area after performing object detection through tflite model?","body":"<p>I am a beginner Android developer. Object detection was performed through the tensorflow lite object detection model and the detected object rectangle was drawn.</p>\n<p>But I'm having trouble trying to crop only the detected area (square). I made a method that generates a Bitmap by specifying the coordinates of the rect, but it doesn't crop properly.\nIs there a way to crop only the detected area using a rectf or otherwise? Any help would be appreciated</p>\n<p>There are values such as left, top, bottom, right that need to be cropped to location. I tried to crop with Bitmap.createBitmap() with these values, but a blank screen keeps appearing and cropping does not work. If there is another way to crop without using RectF, or if you can help me, please help....</p>\n<p>cropToFrameTransform = new Matrix();\nframeToCropTransform.invert(cropToFrameTransform);</p>\n<pre><code>    trackingOverlay = (OverlayView) findViewById(R.id.tracking_overlay);\n    trackingOverlay.addCallback(\n            new DrawCallback() {\n                @Override\n                public void drawCallback(final Canvas canvas) {\n                    tracker.draw(canvas);\n                    if (isDebug()) {\n                        tracker.drawDebug(canvas);\n                    }\n                }\n            });\n\n    tracker.setFrameConfiguration(previewWidth, previewHeight, sensorOrientation);\n}\n\n@Override\nprotected void processImage() {\n    ++timestamp;\n    final long currTimestamp = timestamp;\n    trackingOverlay.postInvalidate();\n\n    // No mutex needed as this method is not reentrant.\n    if (computingDetection) {\n        readyForNextImage();\n        return;\n    }\n    computingDetection = true;\n    LOGGER.i(&quot;Preparing image &quot; + currTimestamp + &quot; for detection in bg thread.&quot;);\n\n    rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, 0, previewWidth, previewHeight);\n\n    readyForNextImage();\n\n    final Canvas canvas = new Canvas(croppedBitmap);\n    canvas.drawBitmap(rgbFrameBitmap, frameToCropTransform, null);\n    // For examining the actual TF input.\n    if (SAVE_PREVIEW_BITMAP) {\n        ImageUtils.saveBitmap(croppedBitmap);\n    }\n    runInBackground(\n            new Runnable() {\n                @Override\n                public void run() {\n                    LOGGER.i(&quot;Running detection on image &quot; + currTimestamp);\n                    final long startTime = SystemClock.uptimeMillis();\n                    final List&lt;Detector.Recognition&gt; results = detector.recognizeImage(croppedBitmap);\n                    lastProcessingTimeMs = SystemClock.uptimeMillis() - startTime;\n\n                    cropCopyBitmap = Bitmap.createBitmap(croppedBitmap); \n                    final Canvas canvas = new Canvas(cropCopyBitmap);\n                    final Paint paint = new Paint(); \n                    paint.setColor(Color.RED); \n                    paint.setStyle(Style.STROKE);\n                    paint.setStrokeWidth(2.0f);\n\n                    float minimumConfidence = MINIMUM_CONFIDENCE_TF_OD_API;\n                    switch (MODE) {\n                        case TF_OD_API:\n                            minimumConfidence = MINIMUM_CONFIDENCE_TF_OD_API;\n                            break;\n                    }\n\n                    final List&lt;Detector.Recognition&gt; mappedRecognitions =\n                            new ArrayList&lt;Detector.Recognition&gt;(); \n\n                    for (final Detector.Recognition result : results) {\n                        final RectF location = result.getLocation();\n                        if (location != null &amp;&amp; result.getConfidence() &gt;= minimumConfidence) { \n                            canvas.drawRect(location, paint);\n\n                            cropToFrameTransform.mapRect(location);\n                            result.setLocation(location);\n                            mappedRecognitions.add(result);\n\n\n                            float location_top = location.top;\n                            float location_left = location.left;\n                            float location_right = location.right;\n                            float location_bottom = location.bottom;\n                            float location_width = location.width();\n                            float location_height = location.height();\n</code></pre>\n<p>//It seems to be cropped from the original with the coordinates of this location.</p>\n<pre><code>                            //mappedRecognitions : [[0] BusinessCard (70.3%) RectF(373.3333, 46.25, 536.6666, 425.0)]\n                            try {\n                             \n\n                                float confidence = result.getConfidence();\n\n\n                                crop_result_list = new Detector.Recognition(\n                                        &quot;0&quot;, &quot;BusinessCard&quot;,confidence,location); //location is \n\n\n                                Bitmap crop_image = cropBitmap_testing(cropCopyBitmap);//failed crop\n                               //Bitmap crop_image = pleaseCrop(cropCopyBitmap, location);\n                            \n\n                                crop_result_list.setCrop(crop_image);\n\n                            }catch (Exception err){\n                                System.out.println(&quot;Fail image crop&quot;);\n                            }\n\n                        }\n                    }\n\n                    tracker.trackResults(mappedRecognitions, currTimestamp);\n                    trackingOverlay.postInvalidate();\n\n                    computingDetection = false;\n\n                    runOnUiThread(\n                            new Runnable() {\n                                @Override\n                                public void run() {\n                                    showFrameInfo(previewWidth + &quot;x&quot; + previewHeight);\n                                    showCropInfo(cropCopyBitmap.getWidth() + &quot;x&quot; + cropCopyBitmap.getHeight());\n                                    showInference(lastProcessingTimeMs + &quot;ms&quot;);\n                                }\n                            });\n                }\n            });\n}\n</code></pre>\n"},{"tags":["java","android","database"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1635088467,"post_id":69696131,"comment_id":123196392,"body_markdown":"Android apps usually use SQlite for this task. Why wont you? But... storing images i a database is a bad idea i heard. Why would you?","body":"Android apps usually use SQlite for this task. Why wont you? But... storing images i a database is a bad idea i heard. Why would you?"},{"owner":{"account_id":17070757,"reputation":96,"user_id":12351609,"display_name":"virouz98"},"score":1,"creation_date":1635089505,"post_id":69696131,"comment_id":123196657,"body_markdown":"Maybe instead of storing the files inside database, save the files on the device and store a path to the file?","body":"Maybe instead of storing the files inside database, save the files on the device and store a path to the file?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1635095385,"post_id":69696131,"comment_id":123198108,"body_markdown":"Yes, that is ok. @virouz98","body":"Yes, that is ok. @virouz98"}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635082985,"creation_date":1635082985,"answer_id":69697336,"question_id":69696131,"body_markdown":"I think you may be confusing some terms.\r\nWhile you can put all sorts of media in a database. Sometimes it not the most practical solution. It sounds like you might be thinking of file storage, not a database.\r\nFurther more, the files have to live somewhere, if not on a external server/database, than they will have to reside locally on the device. Your app will not have a local database service running just so that it can store media files. This would be a lot of overhead and take up a lot of resources.\r\n","title":"Way to store images, text notes and audio files in offline database. Android, Java","body":"<p>I think you may be confusing some terms.\nWhile you can put all sorts of media in a database. Sometimes it not the most practical solution. It sounds like you might be thinking of file storage, not a database.\nFurther more, the files have to live somewhere, if not on a external server/database, than they will have to reside locally on the device. Your app will not have a local database service running just so that it can store media files. This would be a lot of overhead and take up a lot of resources.</p>\n"},{"tags":[],"owner":{"account_id":22675841,"reputation":97,"user_id":16846869,"display_name":"MoonX App"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635091416,"creation_date":1635091416,"answer_id":69698488,"question_id":69696131,"body_markdown":"**the first thing to know:** the database in android is ***SQLite***, So any other offline database it&#39;s just a ***layer*** for managing the SQLite database, and It only saves numeric and text data, but you can save any other type like image, audio, array...Ect by creating ***convertors*** to save it in the database.\r\n\r\nE.g: You can save ```BitMap```*-Image type-* by converting it to `ByteArray`*-List of 0s and 1s-*, then converting the `ByteArray` to `String`*-Default text type-*, then you can save it to the database, and when you want to select the value, just convert by the opposite (`String` -&gt; `ByteArray` -&gt; `BitMap`), So the trick here is to know how to convert between the types.\r\n\r\n**Now the answer:**\r\nthe best offline-database is RoomDatabase, the fastest way to create and manage SQLite database, with Room you don&#39;t need to build an SQLite database from the scratch, it&#39;s going to build it for you, and has a great way to create converters.\r\nbut for you as a beginner, standard SQLite is more than enough, if you will see RoomDB more difficult.","title":"Way to store images, text notes and audio files in offline database. Android, Java","body":"<p><strong>the first thing to know:</strong> the database in android is <em><strong>SQLite</strong></em>, So any other offline database it's just a <em><strong>layer</strong></em> for managing the SQLite database, and It only saves numeric and text data, but you can save any other type like image, audio, array...Ect by creating <em><strong>convertors</strong></em> to save it in the database.</p>\n<p>E.g: You can save <code>BitMap</code><em>-Image type-</em> by converting it to <code>ByteArray</code><em>-List of 0s and 1s-</em>, then converting the <code>ByteArray</code> to <code>String</code><em>-Default text type-</em>, then you can save it to the database, and when you want to select the value, just convert by the opposite (<code>String</code> -&gt; <code>ByteArray</code> -&gt; <code>BitMap</code>), So the trick here is to know how to convert between the types.</p>\n<p><strong>Now the answer:</strong>\nthe best offline-database is RoomDatabase, the fastest way to create and manage SQLite database, with Room you don't need to build an SQLite database from the scratch, it's going to build it for you, and has a great way to create converters.\nbut for you as a beginner, standard SQLite is more than enough, if you will see RoomDB more difficult.</p>\n"}],"owner":{"account_id":17162731,"reputation":61,"user_id":12421913,"display_name":"zaoras"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635091416,"creation_date":1635073849,"question_id":69696131,"body_markdown":"I would like to create an app where I could save text, image and audio notes to an **offline** database(without internet connection) and then show them in a list-like layout. Wouldnt like to save the files to internal storage directly. \r\n\r\nIts my first time creating mobile app so I need help in choosing the right database for such use case. Any suggestions?","title":"Way to store images, text notes and audio files in offline database. Android, Java","body":"<p>I would like to create an app where I could save text, image and audio notes to an <strong>offline</strong> database(without internet connection) and then show them in a list-like layout. Wouldnt like to save the files to internal storage directly.</p>\n<p>Its my first time creating mobile app so I need help in choosing the right database for such use case. Any suggestions?</p>\n"},{"tags":["java","android","sql","sqlite","android-studio"],"answers":[{"tags":[],"owner":{"account_id":23122947,"reputation":61,"user_id":17229206,"display_name":"RafalA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635090865,"creation_date":1635089647,"answer_id":69698252,"question_id":69698048,"body_markdown":"You should start from 0 and count up. I can see that you start from 1 and that&#39;s where it is wrong.\r\n\r\nTry replacing `getString(1) ` with `getString(0)`.","title":"Reading and displaying values from SQLite and storing them inside a List","body":"<p>You should start from 0 and count up. I can see that you start from 1 and that's where it is wrong.</p>\n<p>Try replacing <code>getString(1) </code> with <code>getString(0)</code>.</p>\n"}],"owner":{"account_id":21730523,"reputation":97,"user_id":16039337,"display_name":"noobieCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69698252,"answer_count":1,"score":0,"last_activity_date":1635090865,"creation_date":1635088119,"question_id":69698048,"body_markdown":"I am trying to read and display all the data from my db but I get the following error. Also the recyclerview is not displaying any data.\r\n\r\nHow I read from the DB.\r\n\r\n     public ArrayList&lt;SatelliteForm&gt; getAllData(SQLiteDatabase sqLiteDatabase){\r\n            ArrayList&lt;SatelliteForm&gt; arraySatelite = new ArrayList&lt;&gt;();\r\n            sqLiteDatabase = this.getWritableDatabase();\r\n            String SELECT_QUERY = &quot;select name, country, category from &quot; + SatFormContracts.ContactsEntry.TABLE_NAME + &quot;;&quot;;\r\n            Cursor c = sqLiteDatabase.rawQuery(SELECT_QUERY, null);\r\n            if(c.moveToFirst()){\r\n                while(c.moveToNext()){\r\n                    SatelliteForm form = new SatelliteForm();\r\n                    form.setName(c.getString(1));\r\n                    form.setCountry(c.getString(2));\r\n                    form.setCategory(c.getString(3));\r\n                    arraySatelite.add(form);\r\n                    Log.i(&quot;nameSQL&quot;, c.getString(1) + &quot;&quot; + c.getString(2) + &quot;&quot; + c.getString(3));\r\n                }\r\n            }\r\n            c.close();\r\n            return arraySatelite;\r\n        }\r\n\r\n\r\nHow I add the elements into the db.\r\n\r\n     public void onClick(View view) {\r\n                    if(!(satName.getText().toString().isEmpty() || countryName.getText().toString().isEmpty() || categoryName.getText().toString().isEmpty())){\r\n                        //adds the current names into the constructor\r\n                        SatelliteForm addForm = new SatelliteForm(satName.getText().toString(),\r\n                                                                  categoryName.getText().toString(),\r\n                                                                  countryName.getText().toString());\r\n                        //inserts the values\r\n                        dbHelper.insertContact(db, addForm);\r\n                        saveState.setText(&quot;Saved!&quot;);\r\n                    }else{\r\n                        saveState.setText(&quot;One or all the fields are empty&quot;);\r\n                        Log.i(&quot;Campos&quot;, &quot;Unos de los campos esta vacio&quot;);\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n\r\nHow I try to display the data saved in a list.\r\n\r\n\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {\r\n        View listView = inflater.inflate(R.layout.fragment_list, container, false);\r\n    \r\n        ArrayList&lt;SatelliteForm&gt; arraySatelite = dbHelper.getAllData(db);\r\n    \r\n        RecyclerView recyclerView = listView.findViewById(R.id.recyclerView);\r\n        RecyclerViewAdapter adapter = new RecyclerViewAdapter(arraySatelite);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager((getContext())));\r\n        recyclerView.addItemDecoration(new DividerItemDecoration(getContext(), DividerItemDecoration.VERTICAL));\r\n    \r\n        return listView;\r\n    }\r\n\r\n\r\n\r\n\r\nClass where I save all my data.\r\n\r\n\r\n    public class SatelliteForm {\r\n        private String name;\r\n        private String country;\r\n        private String category;\r\n        private ArrayList&lt;String&gt; names;\r\n        private List&lt;String&gt; list;\r\n    \r\n        //Empty constructor\r\n        public SatelliteForm(){}\r\n        //Construtcor\r\n        public SatelliteForm(String name, String country, String category){\r\n            this.name = name;\r\n            this.country = country;\r\n            this.category = category;\r\n            this.names = names;\r\n            addNames(name, country, category);\r\n        }\r\n        //Method which adds the variables to an array\r\n        public void addNames(String name, String country, String category) {\r\n            list = Arrays.asList(name, country, category);\r\n            names = new ArrayList&lt;&gt;(list);\r\n        }\r\n        //Getters &amp; Setters\r\n        public ArrayList&lt;String&gt; getArray(){\r\n            return names;\r\n        }\r\n        public String getName() { return name; }\r\n        public String getCountry() { return country; }\r\n        public String getCategory() { return category; }\r\n        public void setName(String name) { this.name = name; }\r\n        public void setCountry(String country) { this.country = country; }\r\n        public void setCategory(String category) { this.category = category; }\r\n    }\r\n\r\nERROR:\r\n[![error][1]][1]\r\n[1]: https://i.stack.imgur.com/eyHoY.png\r\n\r\n\r\n    E/CursorWindow: Failed to read row 0, column 3 from a CursorWindow which has 4 rows, 3 columns.\r\n    D/AndroidRuntime: Shutting down VM\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.uspherejda, PID: 7434\r\n        java.lang.IllegalStateException: Couldn&#39;t read row 0, col 3 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.\r\n\r\n","title":"Reading and displaying values from SQLite and storing them inside a List","body":"<p>I am trying to read and display all the data from my db but I get the following error. Also the recyclerview is not displaying any data.</p>\n<p>How I read from the DB.</p>\n<pre><code> public ArrayList&lt;SatelliteForm&gt; getAllData(SQLiteDatabase sqLiteDatabase){\n        ArrayList&lt;SatelliteForm&gt; arraySatelite = new ArrayList&lt;&gt;();\n        sqLiteDatabase = this.getWritableDatabase();\n        String SELECT_QUERY = &quot;select name, country, category from &quot; + SatFormContracts.ContactsEntry.TABLE_NAME + &quot;;&quot;;\n        Cursor c = sqLiteDatabase.rawQuery(SELECT_QUERY, null);\n        if(c.moveToFirst()){\n            while(c.moveToNext()){\n                SatelliteForm form = new SatelliteForm();\n                form.setName(c.getString(1));\n                form.setCountry(c.getString(2));\n                form.setCategory(c.getString(3));\n                arraySatelite.add(form);\n                Log.i(&quot;nameSQL&quot;, c.getString(1) + &quot;&quot; + c.getString(2) + &quot;&quot; + c.getString(3));\n            }\n        }\n        c.close();\n        return arraySatelite;\n    }\n</code></pre>\n<p>How I add the elements into the db.</p>\n<pre><code> public void onClick(View view) {\n                if(!(satName.getText().toString().isEmpty() || countryName.getText().toString().isEmpty() || categoryName.getText().toString().isEmpty())){\n                    //adds the current names into the constructor\n                    SatelliteForm addForm = new SatelliteForm(satName.getText().toString(),\n                                                              categoryName.getText().toString(),\n                                                              countryName.getText().toString());\n                    //inserts the values\n                    dbHelper.insertContact(db, addForm);\n                    saveState.setText(&quot;Saved!&quot;);\n                }else{\n                    saveState.setText(&quot;One or all the fields are empty&quot;);\n                    Log.i(&quot;Campos&quot;, &quot;Unos de los campos esta vacio&quot;);\n                }\n            }\n        });\n</code></pre>\n<p>How I try to display the data saved in a list.</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {\n    View listView = inflater.inflate(R.layout.fragment_list, container, false);\n\n    ArrayList&lt;SatelliteForm&gt; arraySatelite = dbHelper.getAllData(db);\n\n    RecyclerView recyclerView = listView.findViewById(R.id.recyclerView);\n    RecyclerViewAdapter adapter = new RecyclerViewAdapter(arraySatelite);\n    recyclerView.setAdapter(adapter);\n    recyclerView.setLayoutManager(new LinearLayoutManager((getContext())));\n    recyclerView.addItemDecoration(new DividerItemDecoration(getContext(), DividerItemDecoration.VERTICAL));\n\n    return listView;\n}\n</code></pre>\n<p>Class where I save all my data.</p>\n<pre><code>public class SatelliteForm {\n    private String name;\n    private String country;\n    private String category;\n    private ArrayList&lt;String&gt; names;\n    private List&lt;String&gt; list;\n\n    //Empty constructor\n    public SatelliteForm(){}\n    //Construtcor\n    public SatelliteForm(String name, String country, String category){\n        this.name = name;\n        this.country = country;\n        this.category = category;\n        this.names = names;\n        addNames(name, country, category);\n    }\n    //Method which adds the variables to an array\n    public void addNames(String name, String country, String category) {\n        list = Arrays.asList(name, country, category);\n        names = new ArrayList&lt;&gt;(list);\n    }\n    //Getters &amp; Setters\n    public ArrayList&lt;String&gt; getArray(){\n        return names;\n    }\n    public String getName() { return name; }\n    public String getCountry() { return country; }\n    public String getCategory() { return category; }\n    public void setName(String name) { this.name = name; }\n    public void setCountry(String country) { this.country = country; }\n    public void setCategory(String category) { this.category = category; }\n}\n</code></pre>\n<p>ERROR:\n[![error][1]][1]\n[1]: https://i.stack.imgur.com/eyHoY.png</p>\n<pre><code>E/CursorWindow: Failed to read row 0, column 3 from a CursorWindow which has 4 rows, 3 columns.\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.uspherejda, PID: 7434\n    java.lang.IllegalStateException: Couldn't read row 0, col 3 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":54212,"reputation":671,"user_id":162182,"accept_rate":92,"display_name":"irishguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1403797153,"creation_date":1403797153,"answer_id":24434782,"question_id":24434666,"body_markdown":"You can ftp your job using Java. Which you can add into your Selenium test\r\n\r\nhttp://www.ibm.com/developerworks/systems/library/es-batch-zos.html\r\n\r\nIf FTP isnt open on your firewall try telnet","title":"Automation of Mainframe jobs using Selenium WebDriver/JAVA","body":"<p>You can ftp your job using Java. Which you can add into your Selenium test</p>\n\n<p><a href=\"http://www.ibm.com/developerworks/systems/library/es-batch-zos.html\" rel=\"nofollow\">http://www.ibm.com/developerworks/systems/library/es-batch-zos.html</a></p>\n\n<p>If FTP isnt open on your firewall try telnet</p>\n"},{"tags":[],"owner":{"account_id":8024321,"reputation":1,"user_id":6051961,"display_name":"Vishal Sareen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457729775,"creation_date":1457729775,"answer_id":35949759,"question_id":24434666,"body_markdown":"Please try submitting the mainframe job through batch file and then trigger this batch file through Java.","title":"Automation of Mainframe jobs using Selenium WebDriver/JAVA","body":"<p>Please try submitting the mainframe job through batch file and then trigger this batch file through Java.</p>\n"},{"tags":[],"owner":{"account_id":2192013,"reputation":667,"user_id":1938767,"display_name":"rafaelnaskar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635090731,"creation_date":1635090731,"answer_id":69698399,"question_id":24434666,"body_markdown":"For future searchs:\r\n\r\nYou can submits your job and waits spool to finish.\r\n\r\n[https://github.com/naskarlab/java-mainframe-tools][1]\r\n\r\n    JESClient ftp = new JESClient();\r\n    ftp.connect(&quot;192.168.15.101&quot;);\r\n    if(!ftp.login(&quot;IBMUSER&quot;,&quot;SYS1&quot;)) {\r\n    \tthrow new IllegalArgumentException(&quot;Error on connect.&quot;);\r\n    }\r\n    \r\n    JESJob job1 = ftp.submit(this.getClass().getResourceAsStream(&quot;/jcl/NKCOMP.jcl&quot;));\r\n    \r\n    logger.info(job1.toString());\r\n    job1.waitComplete(120);\r\n    \r\n    logger.info(job1.waitSpool(3));\r\n    logger.info(job1.getSpool());\r\n\r\n\r\n  [1]: https://github.com/naskarlab/java-mainframe-tools","title":"Automation of Mainframe jobs using Selenium WebDriver/JAVA","body":"<p>For future searchs:</p>\n<p>You can submits your job and waits spool to finish.</p>\n<p><a href=\"https://github.com/naskarlab/java-mainframe-tools\" rel=\"nofollow noreferrer\">https://github.com/naskarlab/java-mainframe-tools</a></p>\n<pre><code>JESClient ftp = new JESClient();\nftp.connect(&quot;192.168.15.101&quot;);\nif(!ftp.login(&quot;IBMUSER&quot;,&quot;SYS1&quot;)) {\n    throw new IllegalArgumentException(&quot;Error on connect.&quot;);\n}\n\nJESJob job1 = ftp.submit(this.getClass().getResourceAsStream(&quot;/jcl/NKCOMP.jcl&quot;));\n\nlogger.info(job1.toString());\njob1.waitComplete(120);\n\nlogger.info(job1.waitSpool(3));\nlogger.info(job1.getSpool());\n</code></pre>\n"}],"owner":{"account_id":4044526,"reputation":37,"user_id":3326175,"accept_rate":62,"display_name":"user3326175"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24434782,"answer_count":3,"score":0,"last_activity_date":1635090731,"creation_date":1403796850,"question_id":24434666,"body_markdown":"In our project, we are using Selenium Web driver to automate web application.For one of the application, we need to submit a mainframe jobs and then only a data will be available for next application.\r\n\r\nAs we were not able to automate mainframe jobs, there is always gap between two application and we were not able to achieve end to end scenarios.\r\n\r\nDoes anyone have any idea on automating mainframe session using JAVA/Web Driver.\r\n\r\nI came to know about Jameleon/Jagacy Driver. But not much information is available.\r\n\r\nIts really helpful to me if someone share thoughts on achieving this.","title":"Automation of Mainframe jobs using Selenium WebDriver/JAVA","body":"<p>In our project, we are using Selenium Web driver to automate web application.For one of the application, we need to submit a mainframe jobs and then only a data will be available for next application.</p>\n\n<p>As we were not able to automate mainframe jobs, there is always gap between two application and we were not able to achieve end to end scenarios.</p>\n\n<p>Does anyone have any idea on automating mainframe session using JAVA/Web Driver.</p>\n\n<p>I came to know about Jameleon/Jagacy Driver. But not much information is available.</p>\n\n<p>Its really helpful to me if someone share thoughts on achieving this.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":317159,"reputation":8327,"user_id":633684,"display_name":"xiaofeng.li"},"score":0,"creation_date":1514856908,"post_id":48054576,"comment_id":83081657,"body_markdown":"Turns out [you don&#39;t need to quote `}`s](http://www.regexplanet.com/share/index.html?share=yyyyyf01nnr). I guess it&#39;s the context lookup that&#39;s not working. Of course using `Pattern.quote` like in method one is still wrong.","body":"Turns out <a href=\"http://www.regexplanet.com/share/index.html?share=yyyyyf01nnr\" rel=\"nofollow noreferrer\">you don&#39;t need to quote <code>}</code>s</a>. I guess it&#39;s the context lookup that&#39;s not working. Of course using <code>Pattern.quote</code> like in method one is still wrong."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514856266,"creation_date":1514856266,"answer_id":48054595,"question_id":48054576,"body_markdown":"Dont&#39; use `Pattern.quote`, use a literal regex pattern, and escape the brackets:\r\n\r\n    Stringbuffer = obj.toJSONString() + &quot;,&quot;;\r\n    String result = buffer.replaceAll(&quot;(?&lt;![\\\\w\\\\d])\\\\}\\\\}(?![\\\\w\\\\d])&quot;, &quot;&quot;);\r\n\r\nUsing `Pattern.quote` tells the regex engine to treat the string as literal.  This does mean the brackets would not have to be escaped, but it would also render your lookarounds as literal text, probably not what you have in mind.\r\n","title":"How to replace special character }} in a string with &quot;&quot; using regexp in java","body":"<p>Dont' use <code>Pattern.quote</code>, use a literal regex pattern, and escape the brackets:</p>\n\n<pre><code>Stringbuffer = obj.toJSONString() + \",\";\nString result = buffer.replaceAll(\"(?&lt;![\\\\w\\\\d])\\\\}\\\\}(?![\\\\w\\\\d])\", \"\");\n</code></pre>\n\n<p>Using <code>Pattern.quote</code> tells the regex engine to treat the string as literal.  This does mean the brackets would not have to be escaped, but it would also render your lookarounds as literal text, probably not what you have in mind.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1514857553,"creation_date":1514856400,"answer_id":48054609,"question_id":48054576,"body_markdown":"The `quote` in the following:\r\n\r\n      String result = buffer.replaceAll(Pattern.quote(&quot;(?&lt;![\\\\w\\\\d])}}(?![\\\\w\\\\d])&quot;), &quot;&quot;);\r\n\r\nsays to treat the regex as a literal string.  That&#39;s wrong.\r\n\r\nIf you simply want to remove all `}}` irrespective of context:\r\n\r\n      String result = buffer.replaceAll(Pattern.quote(&quot;}}&quot;), &quot;&quot;);\r\n\r\nIf you *do* need to respect the context, don&#39;t `Pattern.quote(...)` the regex!\r\n\r\nThe other problem is in the way that you attempt to specify the character classes.  Since `\\d` is a subset of `\\w`, it is unnecessary to combine them.  Just do this instead:\r\n\r\n      String result = buffer.replaceAll(&quot;(?&lt;!\\\\w)\\\\}\\\\}(?!\\\\w)&quot;), &quot;&quot;);\r\n\r\nI&#39;m not sure if it is strictly necessary to quote the `}` characters, but it is harmless if it is not necessary.\r\n\r\n\r\n","title":"How to replace special character }} in a string with &quot;&quot; using regexp in java","body":"<p>The <code>quote</code> in the following:</p>\n\n<pre><code>  String result = buffer.replaceAll(Pattern.quote(\"(?&lt;![\\\\w\\\\d])}}(?![\\\\w\\\\d])\"), \"\");\n</code></pre>\n\n<p>says to treat the regex as a literal string.  That's wrong.</p>\n\n<p>If you simply want to remove all <code>}}</code> irrespective of context:</p>\n\n<pre><code>  String result = buffer.replaceAll(Pattern.quote(\"}}\"), \"\");\n</code></pre>\n\n<p>If you <em>do</em> need to respect the context, don't <code>Pattern.quote(...)</code> the regex!</p>\n\n<p>The other problem is in the way that you attempt to specify the character classes.  Since <code>\\d</code> is a subset of <code>\\w</code>, it is unnecessary to combine them.  Just do this instead:</p>\n\n<pre><code>  String result = buffer.replaceAll(\"(?&lt;!\\\\w)\\\\}\\\\}(?!\\\\w)\"), \"\");\n</code></pre>\n\n<p>I'm not sure if it is strictly necessary to quote the <code>}</code> characters, but it is harmless if it is not necessary.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514856942,"creation_date":1514856942,"answer_id":48054649,"question_id":48054576,"body_markdown":"The method 2 still needs to escape special characters `}`\r\n\r\n    Pattern.compile(&quot;(?&lt;![\\\\w\\\\d])\\\\}\\\\}(?![\\\\w\\\\d])&quot;).matcher(buffer).replaceAll(&quot;&quot;);","title":"How to replace special character }} in a string with &quot;&quot; using regexp in java","body":"<p>The method 2 still needs to escape special characters <code>}</code></p>\n\n<pre><code>Pattern.compile(\"(?&lt;![\\\\w\\\\d])\\\\}\\\\}(?![\\\\w\\\\d])\").matcher(buffer).replaceAll(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11870104,"reputation":426,"user_id":8686562,"display_name":"Mahendra Kapadne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514857495,"creation_date":1514857495,"answer_id":48054690,"question_id":48054576,"body_markdown":"Can you please try same with Apache StringUtils. Its faster and should work in your case. Kindly find following links for reference.\n\n 1. [apache-stringutils-vs-java-implementation-of-replace][1]\n\n 2. [Apache StringUtils 3.6][2]\n\n\n  [1]: https://stackoverflow.com/questions/7012000/apache-stringutils-vs-java-implementation-of-replace\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.6/org/apache/commons/lang3/StringUtils.html","title":"How to replace special character }} in a string with &quot;&quot; using regexp in java","body":"<p>Can you please try same with Apache StringUtils. Its faster and should work in your case. Kindly find following links for reference.</p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/7012000/apache-stringutils-vs-java-implementation-of-replace\">apache-stringutils-vs-java-implementation-of-replace</a></p></li>\n<li><p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.6/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">Apache StringUtils 3.6</a></p></li>\n</ol>\n"}],"owner":{"account_id":2882588,"reputation":1903,"user_id":2473110,"accept_rate":62,"display_name":"Sudheej"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48054609,"answer_count":4,"score":0,"last_activity_date":1635090386,"creation_date":1514856038,"question_id":48054576,"body_markdown":"I am trying to replace special character `}}` in a string with &quot;&quot; using regexp in Java, I tired the below two methods and it doesn&#39;t work. Please let me know what is wrong with these statements.\r\n\r\nNote the string would also contain `}` which I would like to retain. Goal is to replace only `}}`.\r\n\r\n**Method 1:**\r\n\r\n        String buffer = obj.toJSONString() + &quot;,&quot;;\r\n        String result = buffer.replaceAll(Pattern.quote(&quot;(?&lt;![\\\\w\\\\d])}}(?![\\\\w\\\\d])&quot;), &quot;&quot;);\r\n\r\n**Method 2:**\r\n\r\n    Pattern.compile(&quot;(?&lt;![\\\\w\\\\d])}}(?![\\\\w\\\\d])&quot;).matcher(buffer).replaceAll(&quot;&quot;);\r\n\r\n","title":"How to replace special character }} in a string with &quot;&quot; using regexp in java","body":"<p>I am trying to replace special character <code>}}</code> in a string with &quot;&quot; using regexp in Java, I tired the below two methods and it doesn't work. Please let me know what is wrong with these statements.</p>\n<p>Note the string would also contain <code>}</code> which I would like to retain. Goal is to replace only <code>}}</code>.</p>\n<p><strong>Method 1:</strong></p>\n<pre><code>    String buffer = obj.toJSONString() + &quot;,&quot;;\n    String result = buffer.replaceAll(Pattern.quote(&quot;(?&lt;![\\\\w\\\\d])}}(?![\\\\w\\\\d])&quot;), &quot;&quot;);\n</code></pre>\n<p><strong>Method 2:</strong></p>\n<pre><code>Pattern.compile(&quot;(?&lt;![\\\\w\\\\d])}}(?![\\\\w\\\\d])&quot;).matcher(buffer).replaceAll(&quot;&quot;);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8078,"page":1914,"page_size":100}
