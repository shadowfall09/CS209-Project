{"items":[{"tags":["java","static-analysis","soot"],"answers":[{"tags":[],"owner":{"account_id":294509,"reputation":1353,"user_id":598445,"accept_rate":56,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680773313,"creation_date":1680773313,"answer_id":75947916,"question_id":75856360,"body_markdown":"You are using Soot incorrectly. Where did you get your code from?\r\nYou are supposed to call soot.Main.main(..) after you have registered your transformer with Soot.","title":"Why SOOT Cannot find the method calls from a dynamic loaded class?","body":"<p>You are using Soot incorrectly. Where did you get your code from?\nYou are supposed to call soot.Main.main(..) after you have registered your transformer with Soot.</p>\n"}],"owner":{"account_id":25933279,"reputation":1,"user_id":19654007,"display_name":"Chenyang Zhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680773313,"creation_date":1679923769,"question_id":75856360,"body_markdown":"I am a beginner in learning soot and I was tormented by this strange problem: I create a instance of a class and I cannot find its methodcalls.\r\n\r\nHere is the source code that I want to analyze:\r\n\r\n```\r\npackage com.example.hello;\r\n\r\npublic class TestInputMain {\r\n    public static void main(String[] args) {\r\n\r\n        Calculator calc = new Calculator();  // another class in same package, written by me. \r\n\r\n        int result = calc.add(10, 20); // I CANNOT FIND IT!!!\r\n\r\n        System.out.println(&quot;The result of adding 10 and 20 is &quot; + result);\r\n    }\r\n}\r\n```\r\n\r\nHere is part of soot codes that I use:\r\n\r\n```\r\n……\r\n//SET UP CALL GRAPH\r\n        String[] sootArgs = {\r\n            &quot;-pp&quot;,\r\n            &quot;-process-dir&quot;, jarFilePath, //I put them in a jar. The result is same without a jar\r\n            &quot;-allow-phantom-refs&quot;,\r\n            &quot;-no-bodies-for-excluded&quot;, \r\n            &quot;-whole-program&quot;,\r\n            &quot;-verbose&quot;,\r\n            &quot;-p&quot;, &quot;cg.cha&quot;, &quot;enabled:true&quot;,\r\n            &quot;-dynamic-dir&quot;, jarFilePath,\r\n        };\r\n        Options.v().parse(sootArgs);\r\n\r\n        String sootClassPath = jarFilePath;\r\n        Options.v().set_soot_classpath(sootClassPath);\r\n\r\n        Scene.v().loadNecessaryClasses();\r\n\r\n        PackManager.v().getPack(&quot;wjtp&quot;).add(new Transform(&quot;wjtp.myTransform&quot;, new SceneTransformer() {\r\n            @Override\r\n            protected void internalTransform(String phaseName, Map&lt;String, String&gt; options) {\r\n                CallGraph cg = Scene.v().getCallGraph();\r\n……\r\n//PRINT EVERY EDGE IN CALLGRAPH\r\n                CallGraph callgraph = Scene.v().getCallGraph();\r\n                Iterator&lt;Edge&gt; edgesdebug = callgraph.iterator();\r\n                while (edgesdebug.hasNext()) {\r\n                    Edge it = edgesdebug.next();\r\n                    System.out.println(&quot;??????&quot; + it.src() + &quot; =&gt;&gt; &quot; + it.tgt());\r\n                }\r\n```\r\n\r\n\r\nThe situation is, even if I print every edge in callgraph， including all kinds of lib functions, I still cannot find &quot;add&quot;. I am crazy. I am dying.","title":"Why SOOT Cannot find the method calls from a dynamic loaded class?","body":"<p>I am a beginner in learning soot and I was tormented by this strange problem: I create a instance of a class and I cannot find its methodcalls.</p>\n<p>Here is the source code that I want to analyze:</p>\n<pre><code>package com.example.hello;\n\npublic class TestInputMain {\n    public static void main(String[] args) {\n\n        Calculator calc = new Calculator();  // another class in same package, written by me. \n\n        int result = calc.add(10, 20); // I CANNOT FIND IT!!!\n\n        System.out.println(&quot;The result of adding 10 and 20 is &quot; + result);\n    }\n}\n</code></pre>\n<p>Here is part of soot codes that I use:</p>\n<pre><code>……\n//SET UP CALL GRAPH\n        String[] sootArgs = {\n            &quot;-pp&quot;,\n            &quot;-process-dir&quot;, jarFilePath, //I put them in a jar. The result is same without a jar\n            &quot;-allow-phantom-refs&quot;,\n            &quot;-no-bodies-for-excluded&quot;, \n            &quot;-whole-program&quot;,\n            &quot;-verbose&quot;,\n            &quot;-p&quot;, &quot;cg.cha&quot;, &quot;enabled:true&quot;,\n            &quot;-dynamic-dir&quot;, jarFilePath,\n        };\n        Options.v().parse(sootArgs);\n\n        String sootClassPath = jarFilePath;\n        Options.v().set_soot_classpath(sootClassPath);\n\n        Scene.v().loadNecessaryClasses();\n\n        PackManager.v().getPack(&quot;wjtp&quot;).add(new Transform(&quot;wjtp.myTransform&quot;, new SceneTransformer() {\n            @Override\n            protected void internalTransform(String phaseName, Map&lt;String, String&gt; options) {\n                CallGraph cg = Scene.v().getCallGraph();\n……\n//PRINT EVERY EDGE IN CALLGRAPH\n                CallGraph callgraph = Scene.v().getCallGraph();\n                Iterator&lt;Edge&gt; edgesdebug = callgraph.iterator();\n                while (edgesdebug.hasNext()) {\n                    Edge it = edgesdebug.next();\n                    System.out.println(&quot;??????&quot; + it.src() + &quot; =&gt;&gt; &quot; + it.tgt());\n                }\n</code></pre>\n<p>The situation is, even if I print every edge in callgraph， including all kinds of lib functions, I still cannot find &quot;add&quot;. I am crazy. I am dying.</p>\n"},{"tags":["java","android","android-layout","layout","height"],"comments":[{"owner":{"account_id":23340559,"reputation":366,"user_id":17415517,"display_name":"Khush Parmar"},"score":0,"creation_date":1680850398,"post_id":75947898,"comment_id":133969460,"body_markdown":"As per my understanding from your question you can do count it by :-  resources.displayMetrics.heightPixels * 0.6","body":"As per my understanding from your question you can do count it by :-  resources.displayMetrics.heightPixels * 0.6"},{"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"score":0,"creation_date":1680868387,"post_id":75947898,"comment_id":133972522,"body_markdown":"@KhushParmar it should be something like that, I have used configuration to get the height as configuration gives usable screen. The problem I have is that when the height of the screen in px has decimals the calculated height is 1 pixel different thatn the orginial height...","body":"@KhushParmar it should be something like that, I have used configuration to get the height as configuration gives usable screen. The problem I have is that when the height of the screen in px has decimals the calculated height is 1 pixel different thatn the orginial height..."}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680773185,"creation_date":1680773185,"question_id":75947898,"body_markdown":"I have a ConstraintLayout with one element that is constrained only to a horizontal guideline:\r\n```\r\n    android:id=&quot;@+id/element&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@id/guideline&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n```\r\n\r\nThese are the horizontal guideline attributes:\r\n```\r\n&lt;androidx.constraintlayout.widget.Guideline\r\n    android:id=&quot;@+id/guideline&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    app:layout_constraintGuide_percent=&quot;0.4&quot; /&gt;\r\n```\r\n\r\n\r\nThen, I can conclude that the height of the element would be the height of the usable screen * 0.6 as the element will occupy 60% of the screen.\r\n\r\nMy question is, could I calculate the exact height of that element with something like:\r\n```\r\n        double elementsheight = usablescreenheight * 0.6 ;\r\n\r\n```\r\n\r\nI have tried what I have said before but the calculated height was one pixel lower that the original height, but I think that there should be a way to calculate the exact height of the element before the drawing phase.","title":"Is it possible to calculate the height of an element that is constrained to a guideline?","body":"<p>I have a ConstraintLayout with one element that is constrained only to a horizontal guideline:</p>\n<pre><code>    android:id=&quot;@+id/element&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/guideline&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n</code></pre>\n<p>These are the horizontal guideline attributes:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.Guideline\n    android:id=&quot;@+id/guideline&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintGuide_percent=&quot;0.4&quot; /&gt;\n</code></pre>\n<p>Then, I can conclude that the height of the element would be the height of the usable screen * 0.6 as the element will occupy 60% of the screen.</p>\n<p>My question is, could I calculate the exact height of that element with something like:</p>\n<pre><code>        double elementsheight = usablescreenheight * 0.6 ;\n\n</code></pre>\n<p>I have tried what I have said before but the calculated height was one pixel lower that the original height, but I think that there should be a way to calculate the exact height of the element before the drawing phase.</p>\n"},{"tags":["java","pdf","apache-poi","docx","xdocreport"],"answers":[{"tags":[],"owner":{"account_id":21385372,"reputation":51,"user_id":15750534,"display_name":"Яков Клюев"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680773124,"creation_date":1680773124,"answer_id":75947889,"question_id":75947587,"body_markdown":"Answer:\r\nuse external cyrillic fonts\r\n\r\n    InputStream fontStream = Application.class.getResourceAsStream(&quot;Arial.ttf&quot;);\r\n    BaseFont baseFont = BaseFont.createFont(&quot;Arial.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\r\n        \r\n    PdfOptions pdfOptions = PdfOptions.create()\r\n      .fontEncoding(&quot;windows-1251&quot;)\r\n      .fontProvider((s, s1, v, i, color) -&gt; FontFactory.getFont(&quot;Arial.ttf&quot;, &quot;windows-1251&quot;, v, i, color));","title":"Incorrect character spacing and breaks in xdocreport reports with cyrillic symbols","body":"<p>Answer:\nuse external cyrillic fonts</p>\n<pre><code>InputStream fontStream = Application.class.getResourceAsStream(&quot;Arial.ttf&quot;);\nBaseFont baseFont = BaseFont.createFont(&quot;Arial.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\n    \nPdfOptions pdfOptions = PdfOptions.create()\n  .fontEncoding(&quot;windows-1251&quot;)\n  .fontProvider((s, s1, v, i, color) -&gt; FontFactory.getFont(&quot;Arial.ttf&quot;, &quot;windows-1251&quot;, v, i, color));\n</code></pre>\n"}],"owner":{"account_id":21385372,"reputation":51,"user_id":15750534,"display_name":"Яков Клюев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680773124,"creation_date":1680771222,"question_id":75947587,"body_markdown":"I would like to convert a docx template to pdf with the insertion of variable values, everything works correctly with English characters, despite this, Cyrillic characters are stuck together in one line, as an incorrect value for the character spacing will be set in them, I tried to change it through pdfWriter.setSpaceCharRatio, expected gave no result.\r\n\r\nIn docx formatting is correct:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMethod in service:\r\n\r\n        public static void generateReport(InputStream docxInputStream, OutputStream pdfOutputStream) throws Exception {\r\n            IXDocReport report = XDocReportRegistry.getRegistry().loadReport(docxInputStream, TemplateEngineKind.Freemarker);\r\n            IContext context = report.createContext();\r\n    \r\n            Options options = Options.getFrom(DocumentKind.DOCX).via(ConverterTypeVia.XWPF).to(ConverterTypeTo.PDF);\r\n    \r\n            PdfOptions pdfOptions = PdfOptions.create()\r\n                    .fontEncoding(&quot;windows-1251&quot;)\r\n                    .fontProvider((s, s1, v, i, color) -&gt; FontFactory.getFont(FontFactory.TIMES_ROMAN, &quot;windows-1251&quot;, v, i, color));\r\n    \r\n            options.subOptions(pdfOptions);\r\n            report.convert(context, options, pdfOutputStream);\r\n        }\r\n\r\nInvoke: \r\n\r\n     FileInputStream docxInputStream = new FileInputStream(&quot;/abspath/resources/template.docx&quot;);\r\n     FileOutputStream pdfOutputStream = new FileOutputStream(&quot;/abspath/resources/output.pdf&quot;);\r\n     ReportGenerator.generateReport(docxInputStream, pdfOutputStream);\r\n     docxInputStream.close();\r\n     pdfOutputStream.close();\r\n\r\nPom deps: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xdocreport&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n        &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n        &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nGot incorrect formatting result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I fix it?\r\n\r\n  [1]: https://i.stack.imgur.com/Up7V0.png\r\n  [2]: https://i.stack.imgur.com/wgOdN.png","title":"Incorrect character spacing and breaks in xdocreport reports with cyrillic symbols","body":"<p>I would like to convert a docx template to pdf with the insertion of variable values, everything works correctly with English characters, despite this, Cyrillic characters are stuck together in one line, as an incorrect value for the character spacing will be set in them, I tried to change it through pdfWriter.setSpaceCharRatio, expected gave no result.</p>\n<p>In docx formatting is correct:</p>\n<p><a href=\"https://i.stack.imgur.com/wgOdN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wgOdN.png\" alt=\"enter image description here\" /></a></p>\n<p>Method in service:</p>\n<pre><code>    public static void generateReport(InputStream docxInputStream, OutputStream pdfOutputStream) throws Exception {\n        IXDocReport report = XDocReportRegistry.getRegistry().loadReport(docxInputStream, TemplateEngineKind.Freemarker);\n        IContext context = report.createContext();\n\n        Options options = Options.getFrom(DocumentKind.DOCX).via(ConverterTypeVia.XWPF).to(ConverterTypeTo.PDF);\n\n        PdfOptions pdfOptions = PdfOptions.create()\n                .fontEncoding(&quot;windows-1251&quot;)\n                .fontProvider((s, s1, v, i, color) -&gt; FontFactory.getFont(FontFactory.TIMES_ROMAN, &quot;windows-1251&quot;, v, i, color));\n\n        options.subOptions(pdfOptions);\n        report.convert(context, options, pdfOutputStream);\n    }\n</code></pre>\n<p>Invoke:</p>\n<pre><code> FileInputStream docxInputStream = new FileInputStream(&quot;/abspath/resources/template.docx&quot;);\n FileOutputStream pdfOutputStream = new FileOutputStream(&quot;/abspath/resources/output.pdf&quot;);\n ReportGenerator.generateReport(docxInputStream, pdfOutputStream);\n docxInputStream.close();\n pdfOutputStream.close();\n</code></pre>\n<p>Pom deps:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n    &lt;artifactId&gt;xdocreport&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n    &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n    &lt;version&gt;2.3.32&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n    &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n    &lt;version&gt;1.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n    &lt;artifactId&gt;itext&lt;/artifactId&gt;\n    &lt;version&gt;2.1.7&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n    &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Got incorrect formatting result:</p>\n<p><a href=\"https://i.stack.imgur.com/Up7V0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Up7V0.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring-boot","hashicorp-vault","spring-vault"],"answers":[{"tags":[],"owner":{"account_id":25850685,"reputation":51,"user_id":19584720,"display_name":"xX_Xeno_Blade_Xx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675628292,"creation_date":1675628292,"answer_id":75355245,"question_id":75355038,"body_markdown":"\r\nAfter digging through the code, I figured out. So what I have to do is to call the method **::opsForKeyValue**, it returns the operations for managing key-value including **patch** command. So with patch command I&#39;m be able to update key-vaule without overriding the previous one.\r\n\r\n    @Autowired\r\n    VaultTemplate template;\r\n    \r\n    public void updateSecrets() {\r\n    \tvar ops = template.opsForKeyValue(&quot;test&quot;, VaultKeyValueOperationsSupport.KeyValueBackend.KV_2);\r\n    \tops.patch(&quot;application&quot;, Map.of(&quot;k3&quot;, &quot;v3&quot;));\r\n    }\r\n\r\n** Note that it only supports KV version 2.","title":"Vault server, how to programmatically put key/value to vault server using Java or Spring framework","body":"<p>After digging through the code, I figured out. So what I have to do is to call the method <strong>::opsForKeyValue</strong>, it returns the operations for managing key-value including <strong>patch</strong> command. So with patch command I'm be able to update key-vaule without overriding the previous one.</p>\n<pre><code>@Autowired\nVaultTemplate template;\n\npublic void updateSecrets() {\n    var ops = template.opsForKeyValue(&quot;test&quot;, VaultKeyValueOperationsSupport.KeyValueBackend.KV_2);\n    ops.patch(&quot;application&quot;, Map.of(&quot;k3&quot;, &quot;v3&quot;));\n}\n</code></pre>\n<p>** Note that it only supports KV version 2.</p>\n"},{"tags":[],"owner":{"account_id":18966797,"reputation":25,"user_id":13841135,"display_name":"Lahaye Lucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680772934,"creation_date":1680772934,"answer_id":75947857,"question_id":75355038,"body_markdown":"For my part, I use the &quot;Vault Java Driver&quot; library from Bettercloud, available here: [https://bettercloud.github.io/vault-java-driver/][1].\r\n\r\nIt uses the API to communicate with the vault server, so you don&#39;t need to write your own requests.  It is very easy to use.\r\n\r\nHopefully I could help you.\r\n\r\n\r\n  [1]: https://bettercloud.github.io/vault-java-driver/","title":"Vault server, how to programmatically put key/value to vault server using Java or Spring framework","body":"<p>For my part, I use the &quot;Vault Java Driver&quot; library from Bettercloud, available here: <a href=\"https://bettercloud.github.io/vault-java-driver/\" rel=\"nofollow noreferrer\">https://bettercloud.github.io/vault-java-driver/</a>.</p>\n<p>It uses the API to communicate with the vault server, so you don't need to write your own requests.  It is very easy to use.</p>\n<p>Hopefully I could help you.</p>\n"}],"owner":{"account_id":25850685,"reputation":51,"user_id":19584720,"display_name":"xX_Xeno_Blade_Xx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680772934,"creation_date":1675626298,"question_id":75355038,"body_markdown":"I want to store some secrets/credentials during runtime in my application, similar to the following command.\r\n\r\n    vault kv put -path=secret/application key1=val1\r\n\r\nI have reviewed the HashiCorp SDK, but it only provides a write command that overrides previous keys/values in my secrets. I want to **update** key-value instead of **override**, how can I do that **programmatically**.\r\n\r\n\r\n\r\n","title":"Vault server, how to programmatically put key/value to vault server using Java or Spring framework","body":"<p>I want to store some secrets/credentials during runtime in my application, similar to the following command.</p>\n<pre><code>vault kv put -path=secret/application key1=val1\n</code></pre>\n<p>I have reviewed the HashiCorp SDK, but it only provides a write command that overrides previous keys/values in my secrets. I want to <strong>update</strong> key-value instead of <strong>override</strong>, how can I do that <strong>programmatically</strong>.</p>\n"},{"tags":["java","if-statement","ternary-operator"],"comments":[{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":21,"creation_date":1384793703,"post_id":20053257,"comment_id":29868058,"body_markdown":"The ternary operator is not equivalent to if/else. It&#39;s actually an expression that has to have a value.","body":"The ternary operator is not equivalent to if/else. It&#39;s actually an expression that has to have a value."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1538385263,"post_id":20053257,"comment_id":92110748,"body_markdown":"You cannot use ternary without else, but you can use Java 8 `Optional` class: `Optional.ofNullable(pstmt).ifPresent(pstmt::close)`. See my answer below.","body":"You cannot use ternary without else, but you can use Java 8 <code>Optional</code> class: <code>Optional.ofNullable(pstmt).ifPresent(pstmt::close)</code>. See my answer below."},{"owner":{"account_id":2295225,"reputation":1,"user_id":2016831,"accept_rate":17,"display_name":"B&#39;&#39;H Bi&#39;ezras -- Boruch Hashem"},"score":0,"creation_date":1551948393,"post_id":20053257,"comment_id":96829957,"body_markdown":"in place of your &lt;do nothing&gt; just put a variable with a value, like the number 0 or a string, it shouldn&#39;t do anything, although it does return a type, or even undefined or a null or void type MIGHT workm but also might cause an error in java","body":"in place of your &lt;do nothing&gt; just put a variable with a value, like the number 0 or a string, it shouldn&#39;t do anything, although it does return a type, or even undefined or a null or void type MIGHT workm but also might cause an error in java"}],"answers":[{"tags":[],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"comment_count":0,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1384793669,"creation_date":1384793669,"answer_id":20053295,"question_id":20053257,"body_markdown":"Just write it out?\r\n\r\n    if(pstmt != null) pstmt.close();\r\n\r\nIt&#39;s the exact same length.","title":"If without else ternary operator","body":"<p>Just write it out?</p>\n\n<pre><code>if(pstmt != null) pstmt.close();\n</code></pre>\n\n<p>It's the exact same length.</p>\n"},{"tags":[],"owner":{"account_id":3034739,"reputation":1690,"user_id":2573093,"display_name":"frankie liuzzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1510669082,"creation_date":1384793688,"answer_id":20053299,"question_id":20053257,"body_markdown":"[No, you cannot do that.][1]\r\nInstead try this:\r\n\r\n    if(bool1 &amp;&amp; bool2) voidFunc1();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25","title":"If without else ternary operator","body":"<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25\" rel=\"noreferrer\">No, you cannot do that.</a>\nInstead try this:</p>\n\n<pre><code>if(bool1 &amp;&amp; bool2) voidFunc1();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3007337,"reputation":703,"user_id":2551580,"display_name":"cigno5.5"},"comment_count":0,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1384793805,"creation_date":1384793805,"answer_id":20053351,"question_id":20053257,"body_markdown":"Why using ternary operator when you have only one choice?\r\n\r\n    if (pstmt != null) pstmt.close(); \r\nis enough!","title":"If without else ternary operator","body":"<p>Why using ternary operator when you have only one choice?</p>\n\n<pre><code>if (pstmt != null) pstmt.close(); \n</code></pre>\n\n<p>is enough!</p>\n"},{"tags":[],"owner":{"account_id":1054452,"reputation":882,"user_id":1057474,"accept_rate":90,"display_name":"Yegoshin Maxim"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1384794596,"creation_date":1384794596,"answer_id":20053619,"question_id":20053257,"body_markdown":"Ternary `if` operator is the particular *ternary operator*. One of a kind.\r\n\r\n\r\n\r\nFrom [Wiki:][1]\r\n&gt; In mathematics, a ternary operation is an n-ary operation with n = 3.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Ternary_operation\r\n\r\nIt means all 3 operands are required for you.","title":"If without else ternary operator","body":"<p>Ternary <code>if</code> operator is the particular <em>ternary operator</em>. One of a kind.</p>\n\n<p>From <a href=\"http://en.wikipedia.org/wiki/Ternary_operation\">Wiki:</a></p>\n\n<blockquote>\n  <p>In mathematics, a ternary operation is an n-ary operation with n = 3.</p>\n</blockquote>\n\n<p>It means all 3 operands are required for you.</p>\n"},{"tags":[],"owner":{"account_id":221263,"reputation":7560,"user_id":479137,"accept_rate":100,"display_name":"David M&#229;rtensson"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1392294504,"creation_date":1392294504,"answer_id":21754264,"question_id":20053257,"body_markdown":"A ternary operation is called ternary beacause it takes 3 arguments, if it takes 2 it is a binary operation.\r\n\r\nAnd as noted above, it is an **expression** returning a value.\r\n\r\nIf you omit the else you would have an undefined situation where the expression would not return a value.\r\n\r\nSo as also noted in other answer, you should use an if **statement**.","title":"If without else ternary operator","body":"<p>A ternary operation is called ternary beacause it takes 3 arguments, if it takes 2 it is a binary operation.</p>\n\n<p>And as noted above, it is an <strong>expression</strong> returning a value.</p>\n\n<p>If you omit the else you would have an undefined situation where the expression would not return a value.</p>\n\n<p>So as also noted in other answer, you should use an if <strong>statement</strong>.</p>\n"},{"tags":[],"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1467664386,"creation_date":1467664386,"answer_id":38191879,"question_id":20053257,"body_markdown":"As mentioned in the other answers, you can&#39;t use a ternary operator to do this. \r\n\r\nHowever, if the need strikes you, you can use Java 8 [Optional](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) and lambdas to put this kind of logic into a single statement:\r\n\r\n    Optional.of(pstmt).ifPresent((p) -&gt; p.close())\r\n\r\n","title":"If without else ternary operator","body":"<p>As mentioned in the other answers, you can't use a ternary operator to do this. </p>\n\n<p>However, if the need strikes you, you can use Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional</a> and lambdas to put this kind of logic into a single statement:</p>\n\n<pre><code>Optional.of(pstmt).ifPresent((p) -&gt; p.close())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539011864,"creation_date":1538385394,"answer_id":52587913,"question_id":20053257,"body_markdown":"You cannot use ternary without else, but to do a &quot;if-without-else&quot; in one line, you can use Java 8 `Optional` class.\r\n\r\n    PreparedStatement pstmt;\r\n\r\n    //.... \r\n\r\n    Optional.ofNullable(pstmt).ifPresent(pstmt::close); // &lt;- but IOException will still happen here. Handle it.","title":"If without else ternary operator","body":"<p>You cannot use ternary without else, but to do a \"if-without-else\" in one line, you can use Java 8 <code>Optional</code> class.</p>\n\n<pre><code>PreparedStatement pstmt;\n\n//.... \n\nOptional.ofNullable(pstmt).ifPresent(pstmt::close); // &lt;- but IOException will still happen here. Handle it.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6422313,"reputation":921,"user_id":4978689,"accept_rate":71,"display_name":"mindOf_L"},"score":0,"creation_date":1690216458,"post_id":55039189,"comment_id":135319345,"body_markdown":"The question was about Java, not JS.","body":"The question was about Java, not JS."}],"tags":[],"owner":{"account_id":2295225,"reputation":1,"user_id":2016831,"accept_rate":17,"display_name":"B&#39;&#39;H Bi&#39;ezras -- Boruch Hashem"},"comment_count":1,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1611775865,"creation_date":1551947289,"answer_id":55039189,"question_id":20053257,"body_markdown":"Well in JavaScript you can simply do:\r\n\r\n    expression ? doAction() : undefined\r\n\r\nsince that&#39;s what&#39;s literally actually happening in a real if statement, the else clause is simply undefined. I image you can do pretty much the same thing in (almost?) any programming language, for the else clause just put a null-type variable that doesn&#39;t return a value, it shouldn&#39;t cause any compile errors.\r\n\r\nor just make a function to return if all else fails\r\n\r\n```\r\nfunction oy(x1,x2){if(x1) return x2();}\r\n\r\noy(etzem==6, ()=&gt;yichoyliss=8);\r\n\r\n","title":"If without else ternary operator","body":"<p>Well in JavaScript you can simply do:</p>\n<pre><code>expression ? doAction() : undefined\n</code></pre>\n<p>since that's what's literally actually happening in a real if statement, the else clause is simply undefined. I image you can do pretty much the same thing in (almost?) any programming language, for the else clause just put a null-type variable that doesn't return a value, it shouldn't cause any compile errors.</p>\n<p>or just make a function to return if all else fails</p>\n<pre><code>function oy(x1,x2){if(x1) return x2();}\n\noy(etzem==6, ()=&gt;yichoyliss=8);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19737186,"reputation":1,"user_id":14451400,"display_name":"imbenrabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602702957,"creation_date":1602702957,"answer_id":64360115,"question_id":20053257,"body_markdown":"`pstmt != null &amp;&amp; pstmt.close;`\r\n\r\nThe line of code above translates to When the left side of the expression &quot;translates&quot; to true -&gt; execute the right side.","title":"If without else ternary operator","body":"<p><code>pstmt != null &amp;&amp; pstmt.close;</code></p>\n<p>The line of code above translates to When the left side of the expression &quot;translates&quot; to true -&gt; execute the right side.</p>\n"},{"tags":[],"owner":{"account_id":22906492,"reputation":21,"user_id":17044484,"display_name":"Skuld Sl&#235;r"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1633013063,"creation_date":1633013063,"answer_id":69394279,"question_id":20053257,"body_markdown":"use:\r\n\r\n    &lt;logic Expression&gt; ? &lt;method&gt; : null;\r\nExample:\r\n\r\n    (pstmt!=null) ? pstmt.close : null;\r\n\r\nis dirty solution but works...","title":"If without else ternary operator","body":"<p>use:</p>\n<pre><code>&lt;logic Expression&gt; ? &lt;method&gt; : null;\n</code></pre>\n<p>Example:</p>\n<pre><code>(pstmt!=null) ? pstmt.close : null;\n</code></pre>\n<p>is dirty solution but works...</p>\n"}],"owner":{"account_id":1602494,"reputation":1451,"user_id":1483282,"accept_rate":80,"display_name":"Z.V"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119763,"favorite_count":0,"down_vote_count":1,"up_vote_count":93,"accepted_answer_id":20053299,"answer_count":10,"score":92,"last_activity_date":1680772732,"creation_date":1384793577,"question_id":20053257,"body_markdown":"So far from I have been searching through the net, the statement always have if and else condition such as `a ? b : c`. I would like to know whether the `if` ternary statement can be used without `else`. \r\nAssuming i have the following code, i wish to close the `PreparedStatement` if it is not null\r\n\r\n(I am using Java programming language.)\r\n\r\n    PreparedStatement pstmt;\r\n \r\n    //.... \r\n\r\n    (pstmt!=null) ? pstmt.close : &lt;do nothing&gt;;","title":"If without else ternary operator","body":"<p>So far from I have been searching through the net, the statement always have if and else condition such as <code>a ? b : c</code>. I would like to know whether the <code>if</code> ternary statement can be used without <code>else</code>. \nAssuming i have the following code, i wish to close the <code>PreparedStatement</code> if it is not null</p>\n\n<p>(I am using Java programming language.)</p>\n\n<pre><code>PreparedStatement pstmt;\n\n//.... \n\n(pstmt!=null) ? pstmt.close : &lt;do nothing&gt;;\n</code></pre>\n"},{"tags":["java","multithreading","synchronized"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680754645,"post_id":75945707,"comment_id":133952684,"body_markdown":"Must it be a `List`?","body":"Must it be a <code>List</code>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680756854,"post_id":75945707,"comment_id":133952939,"body_markdown":"Does tho `process` method delete the element from the list? Or is it that you *only* call `process` from within `removeAllAndProcess`, and never call `process` outside that method?","body":"Does tho <code>process</code> method delete the element from the list? Or is it that you <i>only</i> call <code>process</code> from within <code>removeAllAndProcess</code>, and never call <code>process</code> outside that method?"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1680757703,"post_id":75945707,"comment_id":133953032,"body_markdown":"```process``` is being called by another thread as well. (in conclusion its maybe called by 2 threads at the same time but since the List is synchronized the add operation should be thread safe). ```process``` does not remove anything from the list but if the processing for an element is unsuccessful then it will add to ```myList```. My main concern is with ```toArray()```, and if a call to this function needs to be synchronized.","body":"<code>process</code> is being called by another thread as well. (in conclusion its maybe called by 2 threads at the same time but since the List is synchronized the add operation should be thread safe). <code>process</code> does not remove anything from the list but if the processing for an element is unsuccessful then it will add to <code>myList</code>. My main concern is with <code>toArray()</code>, and if a call to this function needs to be synchronized."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680758596,"post_id":75945707,"comment_id":133953147,"body_markdown":"Well that lacking detail ruins my Answer. You should make such points clear *before* posting.","body":"Well that lacking detail ruins my Answer. You should make such points clear <i>before</i> posting."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680758817,"post_id":75945707,"comment_id":133953174,"body_markdown":"Perhaps your Question would have been better asked without any example code. The simple question &quot;Is `List#toArray` on a `Collections.synchronizedList(new ArrayList&lt;&gt;())` object thread-safe?&quot; is indeed an interesting one. I could not decipher the Javadoc nor the source code to directly answer that.","body":"Perhaps your Question would have been better asked without any example code. The simple question &quot;Is <code>List#toArray</code> on a <code>Collections.synchronizedList(new ArrayList&lt;&gt;())</code> object thread-safe?&quot; is indeed an interesting one. I could not decipher the Javadoc nor the source code to directly answer that."},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1680758942,"post_id":75945707,"comment_id":133953187,"body_markdown":"Hi, apologies for the inconvenience. I did try to mention that multiple threads will access/modify the list. The main objective of my question was to see if ```toArray``` is thread safe. I did look into the code myself and when I saw ```System.arrayCopy``` I stopped. I was hoping to run into an ```iterator``` or ```spliterator``` cause then I would know that I definitely have to manually synchronize it.","body":"Hi, apologies for the inconvenience. I did try to mention that multiple threads will access/modify the list. The main objective of my question was to see if <code>toArray</code> is thread safe. I did look into the code myself and when I saw <code>System.arrayCopy</code> I stopped. I was hoping to run into an <code>iterator</code> or <code>spliterator</code> cause then I would know that I definitely have to manually synchronize it."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680759312,"post_id":75945707,"comment_id":133953241,"body_markdown":"Rather than a `List`, why not use a concurrent [`BlockingQueue`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/BlockingQueue.html) with its `drainTo` method?","body":"Rather than a <code>List</code>, why not use a concurrent <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\"><code>BlockingQueue</code></a> with its <code>drainTo</code> method?"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1680759408,"post_id":75945707,"comment_id":133953254,"body_markdown":"I dont want the thread to be blocked if the queue is empty when ```removeAllAndProcess``` is called. I am considering ```ConcurrentLinkedQueue``` as well","body":"I dont want the thread to be blocked if the queue is empty when <code>removeAllAndProcess</code> is called. I am considering <code>ConcurrentLinkedQueue</code> as well"},{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1680759975,"post_id":75945707,"comment_id":133953336,"body_markdown":"I see that ```drainTo``` is not a blocking call. I think I can use that then","body":"I see that <code>drainTo</code> is not a blocking call. I think I can use that then"}],"answers":[{"comments":[{"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"score":0,"creation_date":1680760370,"post_id":75946005,"comment_id":133953386,"body_markdown":"Thanks for the suggestion of using a ```Queue```.","body":"Thanks for the suggestion of using a <code>Queue</code>."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1680772801,"post_id":75946005,"comment_id":133955922,"body_markdown":"The `Collections.synchronizedList` call doesn&#39;t return `java.util.ArrayList`, it gives a List with a different implementation of `toArray()`","body":"The <code>Collections.synchronizedList</code> call doesn&#39;t return <code>java.util.ArrayList</code>, it gives a List with a different implementation of <code>toArray()</code>"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680758448,"creation_date":1680757757,"answer_id":75946005,"question_id":75945707,"body_markdown":"The Javadoc for `Collections.synchronizedList` says:\r\n\r\n&gt;It is imperative that the user manually synchronize on the returned list when traversing it via Iterator, Spliterator or Stream\r\n\r\nI do not know if we should consider that prescription to apply to `List#toArray`. I would have assumed so, but apparently not.\r\n\r\nI went to look at the source code at OpenJDK for `ArrayList` [here][1]. Apparently `ArrayList#toArray` implementation is:\r\n\r\n    public Object[] toArray() {\r\n        return Arrays.copyOf(elementData, size);\r\n    }\r\n\r\nThe source code of `Arrays.copyOf` ends up calling `System.arrayCopy`. \r\n\r\nSo we have a pile of code. And none of it explicitly promises thread-safety. So while I cannot directly answer your Question, I can offer a simple alternative solution.\r\n\r\n# `AtomicReference` \r\n\r\nI would suggest this simple solution as an alternative: Rather than drain the list of elements, replace the entire list, while providing thread-safety with an [`AtomicReference`][2]. \r\n\r\nHowever, we need to synchronize on the `addElement` method with this approach. It would be possible for one thread to get a reference to the list, a second thread to replace the list with a new one and begin iteration on the old list, while the first thread modifies the old list to which it still has a reference. \r\n\r\nWhile we must add synchronization to the `addElement` method, we can remove synchronization from the list itself. Under this approach we are no longer deleting from the list. The only modification we make to the list is adding through the now synchronized `addElement` method. So no need to call `Collections.synchronizedList`. \r\n\r\nBy the way, I changed the plural `addElements` to the singular `addElement`. \r\n\r\n```java\r\nAtomicReference &lt; List &lt; String &gt; &gt; myListRef = new AtomicReference( new ArrayList&lt;&gt;() ) ;\r\n\r\n// adding to array\r\npublic synchronized void addElement( String s ) {\r\n    myListRef.get().add( s ) ;\r\n}\r\n\r\npublic void removeAllAndProcess() {\r\n    List &lt; String &gt; newList = new ArrayList&lt;&gt;() ;\r\n    List &lt; String &gt; oldList = myListRef.getAndSet( newList ) ;\r\n    oldList.forEach( ( String s ) -&gt; {\r\n            myList.remove( s ) ;\r\n            process( s );\r\n        }\r\n    );\r\n}\r\n\r\n// Some processing\r\npublic void process(String s) {\r\n  boolean processedSuccessfully = … ;\r\n  if( ! processedSuccessfully ) { \r\n    myListRef.get().add( s ) ;\r\n  }\r\n}\r\n```\r\n\r\nNote: My presumption here is that your `process` method is *only* ever called from within your `removeAllAndProcess` method.\r\n\r\n----------\r\n\r\nI am not happy about the arrangement of your code. But I am ignoring such issues, to focus on your Question as asked.\r\n\r\nI suspect another data structure such as a `Queue` would better suit your purposes. But, again, I am ignoring that to focus on your Question as asked.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html","title":"Calling toArray() on a synchronized array list a thread safe operation?","body":"<p>The Javadoc for <code>Collections.synchronizedList</code> says:</p>\n<blockquote>\n<p>It is imperative that the user manually synchronize on the returned list when traversing it via Iterator, Spliterator or Stream</p>\n</blockquote>\n<p>I do not know if we should consider that prescription to apply to <code>List#toArray</code>. I would have assumed so, but apparently not.</p>\n<p>I went to look at the source code at OpenJDK for <code>ArrayList</code> <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">here</a>. Apparently <code>ArrayList#toArray</code> implementation is:</p>\n<pre><code>public Object[] toArray() {\n    return Arrays.copyOf(elementData, size);\n}\n</code></pre>\n<p>The source code of <code>Arrays.copyOf</code> ends up calling <code>System.arrayCopy</code>.</p>\n<p>So we have a pile of code. And none of it explicitly promises thread-safety. So while I cannot directly answer your Question, I can offer a simple alternative solution.</p>\n<h1><code>AtomicReference</code></h1>\n<p>I would suggest this simple solution as an alternative: Rather than drain the list of elements, replace the entire list, while providing thread-safety with an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a>.</p>\n<p>However, we need to synchronize on the <code>addElement</code> method with this approach. It would be possible for one thread to get a reference to the list, a second thread to replace the list with a new one and begin iteration on the old list, while the first thread modifies the old list to which it still has a reference.</p>\n<p>While we must add synchronization to the <code>addElement</code> method, we can remove synchronization from the list itself. Under this approach we are no longer deleting from the list. The only modification we make to the list is adding through the now synchronized <code>addElement</code> method. So no need to call <code>Collections.synchronizedList</code>.</p>\n<p>By the way, I changed the plural <code>addElements</code> to the singular <code>addElement</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicReference &lt; List &lt; String &gt; &gt; myListRef = new AtomicReference( new ArrayList&lt;&gt;() ) ;\n\n// adding to array\npublic synchronized void addElement( String s ) {\n    myListRef.get().add( s ) ;\n}\n\npublic void removeAllAndProcess() {\n    List &lt; String &gt; newList = new ArrayList&lt;&gt;() ;\n    List &lt; String &gt; oldList = myListRef.getAndSet( newList ) ;\n    oldList.forEach( ( String s ) -&gt; {\n            myList.remove( s ) ;\n            process( s );\n        }\n    );\n}\n\n// Some processing\npublic void process(String s) {\n  boolean processedSuccessfully = … ;\n  if( ! processedSuccessfully ) { \n    myListRef.get().add( s ) ;\n  }\n}\n</code></pre>\n<p>Note: My presumption here is that your <code>process</code> method is <em>only</em> ever called from within your <code>removeAllAndProcess</code> method.</p>\n<hr />\n<p>I am not happy about the arrangement of your code. But I am ignoring such issues, to focus on your Question as asked.</p>\n<p>I suspect another data structure such as a <code>Queue</code> would better suit your purposes. But, again, I am ignoring that to focus on your Question as asked.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680772474,"creation_date":1680771973,"answer_id":75947727,"question_id":75945707,"body_markdown":"No additional synchronisation is needed as `Collections.synchronizedList(xyz)` wraps all access to underlying `xyz` safely.\r\n\r\nYou could double check your JDK implementation by following the source code in a good IDE. In OpenJDK20 you will see that `Collections.synchronizedList` returns a `SynchronizedList`\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; synchronizedList(List&lt;T&gt; list) {\r\n        return (list instanceof RandomAccess ?\r\n                new SynchronizedRandomAccessList&lt;&gt;(list) :\r\n                new SynchronizedList&lt;&gt;(list));\r\n    }\r\n\r\n`SynchronizedList` extends `SynchronizedCollection` which implements `toArray()` with object synchronisation to ensure that you have thread-safe operation:\r\n\r\n    public Object[] toArray() {\r\n        synchronized (mutex) {return c.toArray();}\r\n    }\r\n","title":"Calling toArray() on a synchronized array list a thread safe operation?","body":"<p>No additional synchronisation is needed as <code>Collections.synchronizedList(xyz)</code> wraps all access to underlying <code>xyz</code> safely.</p>\n<p>You could double check your JDK implementation by following the source code in a good IDE. In OpenJDK20 you will see that <code>Collections.synchronizedList</code> returns a <code>SynchronizedList</code></p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; synchronizedList(List&lt;T&gt; list) {\n    return (list instanceof RandomAccess ?\n            new SynchronizedRandomAccessList&lt;&gt;(list) :\n            new SynchronizedList&lt;&gt;(list));\n}\n</code></pre>\n<p><code>SynchronizedList</code> extends <code>SynchronizedCollection</code> which implements <code>toArray()</code> with object synchronisation to ensure that you have thread-safe operation:</p>\n<pre><code>public Object[] toArray() {\n    synchronized (mutex) {return c.toArray();}\n}\n</code></pre>\n"}],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75947727,"answer_count":2,"score":0,"last_activity_date":1680772474,"creation_date":1680753741,"question_id":75945707,"body_markdown":"I am creating and using a synchronized array list which is being accessed/modified by multiple threads. In a certain operation I want to remove all elements of this synchronized list and process them. \r\n```\r\nList&lt;String&gt; myList = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n\r\n// adding to array\r\npublic void addElements(String s) {\r\n   myList.add(s)\r\n}\r\n\r\npublic void removeAllAndProcess() {\r\n  Arrays.stream(myList.toArray()).forEach(s -&gt; {\r\n            myList.remove(s);\r\n            process(s.toString());\r\n        });\r\n}\r\n\r\n// Some processing\r\npublic void process(String s) {\r\n  // if processing unsuccessful then again add to list : myList.add(s)\r\n}\r\n```\r\n\r\nI am wondering if ```toArray()``` needs to be within a synchronized block ? Will a concurrent addition to the list while ```toArray``` is being called will affect the returned array ?","title":"Calling toArray() on a synchronized array list a thread safe operation?","body":"<p>I am creating and using a synchronized array list which is being accessed/modified by multiple threads. In a certain operation I want to remove all elements of this synchronized list and process them.</p>\n<pre><code>List&lt;String&gt; myList = Collections.synchronizedList(new ArrayList&lt;&gt;());\n\n// adding to array\npublic void addElements(String s) {\n   myList.add(s)\n}\n\npublic void removeAllAndProcess() {\n  Arrays.stream(myList.toArray()).forEach(s -&gt; {\n            myList.remove(s);\n            process(s.toString());\n        });\n}\n\n// Some processing\npublic void process(String s) {\n  // if processing unsuccessful then again add to list : myList.add(s)\n}\n</code></pre>\n<p>I am wondering if <code>toArray()</code> needs to be within a synchronized block ? Will a concurrent addition to the list while <code>toArray</code> is being called will affect the returned array ?</p>\n"},{"tags":["java","eclipse","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680772302,"creation_date":1680772302,"answer_id":75947773,"question_id":75942098,"body_markdown":"In your test case add &quot;**newCommandTimeout**&quot; in your desired capability\r\n\r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.SetCapability(&quot;newCommandTimeout&quot;, 300);\r\n\r\n&gt; newCommandTimeout : How long (in seconds) Appium will wait for a new\r\n&gt; command from the client before assuming the client quit and ending the\r\n&gt; session","title":"Android Appium: org.openqa.selenium.NoSuchSessionException: A session is either terminated or not started","body":"<p>In your test case add &quot;<strong>newCommandTimeout</strong>&quot; in your desired capability</p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.SetCapability(&quot;newCommandTimeout&quot;, 300);\n</code></pre>\n<blockquote>\n<p>newCommandTimeout : How long (in seconds) Appium will wait for a new\ncommand from the client before assuming the client quit and ending the\nsession</p>\n</blockquote>\n"}],"owner":{"account_id":28224827,"reputation":11,"user_id":21575019,"display_name":"Filipe Alves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680772302,"creation_date":1680713446,"question_id":75942098,"body_markdown":"I am testing an app using Eclipse + Appium + UiAutomator2 + AndroidDriver + Testng.\r\n\r\nWhen I run this specific test I get this error: \r\n\r\norg.openqa.selenium.NoSuchSessionException: A session is either terminated or not started\r\n\r\nThis only happens when I give a Thread.Sleep about 120 seconds.\r\n\r\nI have to do that, I have to stay in that screen for about 120 whithout any interaction.\r\n\r\nIf I comment the step before the thread.sleep (including the thread.sleep), the test runs normally.\r\n\r\nI want to run this test case successfully.","title":"Android Appium: org.openqa.selenium.NoSuchSessionException: A session is either terminated or not started","body":"<p>I am testing an app using Eclipse + Appium + UiAutomator2 + AndroidDriver + Testng.</p>\n<p>When I run this specific test I get this error:</p>\n<p>org.openqa.selenium.NoSuchSessionException: A session is either terminated or not started</p>\n<p>This only happens when I give a Thread.Sleep about 120 seconds.</p>\n<p>I have to do that, I have to stay in that screen for about 120 whithout any interaction.</p>\n<p>If I comment the step before the thread.sleep (including the thread.sleep), the test runs normally.</p>\n<p>I want to run this test case successfully.</p>\n"},{"tags":["java","spring","aop","aspectj","spring-aop"],"answers":[{"comments":[{"owner":{"account_id":21224028,"reputation":157,"user_id":15610035,"display_name":"Voronin"},"score":0,"creation_date":1628523512,"post_id":67005346,"comment_id":121437856,"body_markdown":"@kriegaex : How would I go about getting the actual annotation as a parameter into the `annotated*`-methods (`annotatedClasses`, `annotatedMethods`)?","body":"@kriegaex : How would I go about getting the actual annotation as a parameter into the <code>annotated*</code>-methods (<code>annotatedClasses</code>, <code>annotatedMethods</code>)?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1628565401,"post_id":67005346,"comment_id":121448509,"body_markdown":"Please ask a new question, linking to this answer and providing a complete, minimal, executables example. Please also explain more precisely what you want to extract, such as the actual annotation or the meta annotation. Also explain why you need that information and what you intend to do with it.","body":"Please ask a new question, linking to this answer and providing a complete, minimal, executables example. Please also explain more precisely what you want to extract, such as the actual annotation or the meta annotation. Also explain why you need that information and what you intend to do with it."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1618019647,"creation_date":1617889590,"answer_id":67005346,"question_id":66996130,"body_markdown":"You are currently doing something similar to what I explained in [this answer](https://stackoverflow.com/a/48543096/1082681), i.e. matching (meta) annotations on classes.\r\n\r\nNow you are wondering why it does not match methods. I explained that [here](https://stackoverflow.com/a/57385491/1082681). Basically, `@within()` matches anything in annotated classes while `@annotation()` matches annotated methods. The problem is, `@annotation()` needs an exact type name.\r\n\r\nBut there is another way to express an annotated method directly inside an `execution()` signature. Here you also have the option to specify meta annotations in a similar way as you are using it for annotated classes. Let us compare the two:\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\n\r\n@Aspect\r\npublic class MetaAnnotationInterceptor {\r\n  @Before(\r\n    &quot;execution(* *(..)) &amp;&amp; (&quot; +\r\n      &quot;within(@de.scrum_master.app.MetaAnnotation *) || &quot; +\r\n      &quot;within(@(@de.scrum_master.app.MetaAnnotation *) *) || &quot; +\r\n      &quot;within(@(@(@de.scrum_master.app.MetaAnnotation *) *) *)&quot; +\r\n    &quot;)&quot;\r\n  )\r\n  public void annotatedClasses(JoinPoint thisJoinPoint){\r\n    System.out.println(thisJoinPoint);\r\n  }\r\n\r\n  @Before(\r\n    &quot;execution(@de.scrum_master.app.MetaAnnotation * *(..)) || &quot; +\r\n    &quot;execution(@(@de.scrum_master.app.MetaAnnotation *) * *(..)) || &quot; +\r\n    &quot;execution(@(@(@de.scrum_master.app.MetaAnnotation *) *) * *(..)) &quot;\r\n  )\r\n  public void annotatedMethods(JoinPoint thisJoinPoint){\r\n    System.out.println(thisJoinPoint);\r\n  }\r\n}\r\n```\r\n\r\nThe latter is what you are looking for. Just replace `de.scrum_master.app.MetaAnnotation` by `org.springframework.transaction.annotation.Transactional`, and it should work for your use case. Make sure not to mess up the number and nesting order of `()`, `@` and `*`, otherwise you quickly end up with pointcut syntax errors.\r\n\r\nIf you prefer to have one advice method instead or two, you can either create a big messy string containing both pointcuts or you define two separate `@Pointcut`s and combine them in the advice, chaining them with `||`.","title":"How to intercept meta annotations on types or methods","body":"<p>You are currently doing something similar to what I explained in <a href=\"https://stackoverflow.com/a/48543096/1082681\">this answer</a>, i.e. matching (meta) annotations on classes.</p>\n<p>Now you are wondering why it does not match methods. I explained that <a href=\"https://stackoverflow.com/a/57385491/1082681\">here</a>. Basically, <code>@within()</code> matches anything in annotated classes while <code>@annotation()</code> matches annotated methods. The problem is, <code>@annotation()</code> needs an exact type name.</p>\n<p>But there is another way to express an annotated method directly inside an <code>execution()</code> signature. Here you also have the option to specify meta annotations in a similar way as you are using it for annotated classes. Let us compare the two:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\n@Aspect\npublic class MetaAnnotationInterceptor {\n  @Before(\n    &quot;execution(* *(..)) &amp;&amp; (&quot; +\n      &quot;within(@de.scrum_master.app.MetaAnnotation *) || &quot; +\n      &quot;within(@(@de.scrum_master.app.MetaAnnotation *) *) || &quot; +\n      &quot;within(@(@(@de.scrum_master.app.MetaAnnotation *) *) *)&quot; +\n    &quot;)&quot;\n  )\n  public void annotatedClasses(JoinPoint thisJoinPoint){\n    System.out.println(thisJoinPoint);\n  }\n\n  @Before(\n    &quot;execution(@de.scrum_master.app.MetaAnnotation * *(..)) || &quot; +\n    &quot;execution(@(@de.scrum_master.app.MetaAnnotation *) * *(..)) || &quot; +\n    &quot;execution(@(@(@de.scrum_master.app.MetaAnnotation *) *) * *(..)) &quot;\n  )\n  public void annotatedMethods(JoinPoint thisJoinPoint){\n    System.out.println(thisJoinPoint);\n  }\n}\n</code></pre>\n<p>The latter is what you are looking for. Just replace <code>de.scrum_master.app.MetaAnnotation</code> by <code>org.springframework.transaction.annotation.Transactional</code>, and it should work for your use case. Make sure not to mess up the number and nesting order of <code>()</code>, <code>@</code> and <code>*</code>, otherwise you quickly end up with pointcut syntax errors.</p>\n<p>If you prefer to have one advice method instead or two, you can either create a big messy string containing both pointcuts or you define two separate <code>@Pointcut</code>s and combine them in the advice, chaining them with <code>||</code>.</p>\n"}],"owner":{"account_id":4171617,"reputation":33,"user_id":3419244,"display_name":"user3419244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":67005346,"answer_count":1,"score":2,"last_activity_date":1680772294,"creation_date":1617844923,"question_id":66996130,"body_markdown":"Below is my custom annotation.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Target({ ElementType.METHOD, ElementType.TYPE })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Transactional(value = TransactionalCode.MANAGER, readOnly = true)\r\n    public @interface FinanceReadTx {}\r\n\r\nI want to do something with the &quot;MyAnnotation&quot; so I declared `@Around` and method like below.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Aspect\r\n    @Component\r\n    public class TransactionalInterceptor implements Ordered {\r\n    \t@Around(&quot;within(@org.springframework.transaction.annotation.Transactional *) || &quot; +\r\n    \t\t\t&quot;within(@(@org.springframework.transaction.annotation.Transactional *) *)&quot;)\r\n    \tpublic Object proceed(ProceedingJoinPoint pjp) throws Throwable {\r\n    \t\ttry {\r\n    \t\t\tsetDbType(pjp);\r\n    \t\t\tObject result = pjp.proceed();\r\n    \t\t\tDataSourceContextHolder.clearDataSourceType();\r\n    \t\t\treturn result;\r\n    \t\t} finally {\r\n    \t\t\t// restore state\r\n    \t\t\tDataSourceContextHolder.clearDataSourceType();\r\n    \t\t}\r\n    \t}\r\n        // ...\r\n    }\r\n\r\nThe below service is &quot;Autowired&quot; by other classes. so I think it is not the problem related to AOP proxy. \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Service\r\n    public class UnconfirmedReportService {\r\n    \tprivate static final int PREVIEW_SIZE = 8;\r\n    \t@Autowired\r\n    \tprivate UnconfirmedReportRepository unconfirmedReportRepository;\r\n        // ...\r\n    \t@FinanceHikariReadTx\r\n    \tpublic List&lt;UnconfirmedExcelDownloadView&gt; getExcelData(UnconfirmedSearchCondition condition) {\r\n    \t\tList&lt;UnconfirmedExcelDownloadView&gt; excelData = newArrayList();\r\n    \t\texcelData.addAll(newArrayList(getPurchaseReportDetailExcel(condition)));\r\n    \t\treturn excelData;\r\n    \t}\r\n        // ...\r\n    }\r\n\r\nThe below code calls the above service\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class UnconfirmedDashboardDetailExcelReader extends SellerExcelReaderTemplate&lt;UnconfirmedExcelDownloadView, UnconfirmedSearchCondition&gt; {\r\n    \t@Autowired\r\n    \tprivate UnconfirmedReportService unconfirmedReportservice;\r\n    \r\n    \t@Override public List&lt;UnconfirmedExcelDownloadView&gt; read(String conditionJson) {\r\n    \t\tUnconfirmedSearchCondition condition = transformCondition(conditionJson);\r\n    \t\tList&lt;UnconfirmedExcelDownloadView&gt; viewList = unconfirmedReportservice.getExcelData(condition);\r\n    \t\treturn viewList;\r\n    \t}\r\n        // ...\r\n    }\r\n\r\nIf the `@MyAnnotation` is annotated to a class, the proceed() is called but If a method is with the annotation like above code, it doesn&#39;t work. I want it to work with only methods.\r\n\r\nWhat I try to solve this?\r\n","title":"How to intercept meta annotations on types or methods","body":"<p>Below is my custom annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ ElementType.METHOD, ElementType.TYPE })\n@Retention(RetentionPolicy.RUNTIME)\n@Transactional(value = TransactionalCode.MANAGER, readOnly = true)\npublic @interface FinanceReadTx {}\n</code></pre>\n<p>I want to do something with the &quot;MyAnnotation&quot; so I declared <code>@Around</code> and method like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class TransactionalInterceptor implements Ordered {\n    @Around(&quot;within(@org.springframework.transaction.annotation.Transactional *) || &quot; +\n            &quot;within(@(@org.springframework.transaction.annotation.Transactional *) *)&quot;)\n    public Object proceed(ProceedingJoinPoint pjp) throws Throwable {\n        try {\n            setDbType(pjp);\n            Object result = pjp.proceed();\n            DataSourceContextHolder.clearDataSourceType();\n            return result;\n        } finally {\n            // restore state\n            DataSourceContextHolder.clearDataSourceType();\n        }\n    }\n    // ...\n}\n</code></pre>\n<p>The below service is &quot;Autowired&quot; by other classes. so I think it is not the problem related to AOP proxy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UnconfirmedReportService {\n    private static final int PREVIEW_SIZE = 8;\n    @Autowired\n    private UnconfirmedReportRepository unconfirmedReportRepository;\n    // ...\n    @FinanceHikariReadTx\n    public List&lt;UnconfirmedExcelDownloadView&gt; getExcelData(UnconfirmedSearchCondition condition) {\n        List&lt;UnconfirmedExcelDownloadView&gt; excelData = newArrayList();\n        excelData.addAll(newArrayList(getPurchaseReportDetailExcel(condition)));\n        return excelData;\n    }\n    // ...\n}\n</code></pre>\n<p>The below code calls the above service</p>\n<pre><code>@Slf4j\n@Component\npublic class UnconfirmedDashboardDetailExcelReader extends SellerExcelReaderTemplate&lt;UnconfirmedExcelDownloadView, UnconfirmedSearchCondition&gt; {\n    @Autowired\n    private UnconfirmedReportService unconfirmedReportservice;\n\n    @Override public List&lt;UnconfirmedExcelDownloadView&gt; read(String conditionJson) {\n        UnconfirmedSearchCondition condition = transformCondition(conditionJson);\n        List&lt;UnconfirmedExcelDownloadView&gt; viewList = unconfirmedReportservice.getExcelData(condition);\n        return viewList;\n    }\n    // ...\n}\n</code></pre>\n<p>If the <code>@MyAnnotation</code> is annotated to a class, the proceed() is called but If a method is with the annotation like above code, it doesn't work. I want it to work with only methods.</p>\n<p>What I try to solve this?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680766915,"post_id":75946981,"comment_id":133954611,"body_markdown":"I m assuming the orderList can have any amount of orders, and can also have orders that are not corresponding to indexes? ie order1 is idx 0 and apple in productList is also idx0","body":"I m assuming the orderList can have any amount of orders, and can also have orders that are not corresponding to indexes? ie order1 is idx 0 and apple in productList is also idx0"},{"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"score":0,"creation_date":1680767410,"post_id":75946981,"comment_id":133954716,"body_markdown":"The List&lt;Order&gt; contains all the products. Indexes may not match List&lt;Product&gt;","body":"The List&lt;Order&gt; contains all the products. Indexes may not match List&lt;Product&gt;"}],"answers":[{"comments":[{"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"score":0,"creation_date":1680769496,"post_id":75947067,"comment_id":133955231,"body_markdown":"thanks. I will study your answer, but I haven&#39;t gone through this yet, right now I can only use filter/anyMatch/all match/flatMap.Collectors is the next topic =)","body":"thanks. I will study your answer, but I haven&#39;t gone through this yet, right now I can only use filter/anyMatch/all match/flatMap.Collectors is the next topic =)"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680767475,"creation_date":1680767475,"answer_id":75947067,"question_id":75946981,"body_markdown":"You can first create a `Map` that contains the amount of each product with `Collectors.groupingBy`. Then, iterate over all the orders and compare the amounts.\r\n\r\n```java\r\nMap&lt;String, Integer&gt; freq = productList.stream().collect(\r\n    Collectors.groupingBy(Product::getName, Collectors.summingInt(Product::getAmount)));\r\norderList.stream().forEach(order -&gt; {\r\n\tboolean works = freq.getOrDefault(order.getName(), 0) &gt;= order.getAmount();\r\n\tSystem.out.println(works); // or do anything else\r\n});\r\n```\r\n\r\nAlternatively, if each `Product` in the `productList` has a unique name, then it is simpler to use `Collectors.toMap`.\r\n\r\n```java\r\nMap&lt;String, Integer&gt; freq = productList.stream().collect(\r\n          Collectors.toMap(Product::getName, Product::getAmount));\r\n```","title":"Сompare List&lt;Order&gt; with List&lt;Product&gt; using StreamAPI","body":"<p>You can first create a <code>Map</code> that contains the amount of each product with <code>Collectors.groupingBy</code>. Then, iterate over all the orders and compare the amounts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; freq = productList.stream().collect(\n    Collectors.groupingBy(Product::getName, Collectors.summingInt(Product::getAmount)));\norderList.stream().forEach(order -&gt; {\n    boolean works = freq.getOrDefault(order.getName(), 0) &gt;= order.getAmount();\n    System.out.println(works); // or do anything else\n});\n</code></pre>\n<p>Alternatively, if each <code>Product</code> in the <code>productList</code> has a unique name, then it is simpler to use <code>Collectors.toMap</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; freq = productList.stream().collect(\n          Collectors.toMap(Product::getName, Product::getAmount));\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680772035,"creation_date":1680766761,"question_id":75946981,"body_markdown":"it is necessary to determine whether this order can be fulfilled: is there enough of each product in stock.I can&#39;t figure out how to compare lists using stream \r\n\r\n\r\n\r\n\r\n```\r\nclass Product {\r\n    private String name;\r\n    private int amount;\r\n\r\n    public Product(String name, int amount) {\r\n        this.name = name;\r\n        this.amount = amount;\r\n    }\r\n}\r\nclass Order {\r\n    private String name;\r\n    private int amount;\r\n\r\n    public Order(String name, int amount) {\r\n        this.name = name;\r\n        this.amount = amount;\r\n    }\r\n}\r\nclass TestWarehouse {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Product apple = new Product(&quot;apple&quot;, 3);\r\n        Product juice = new Product(&quot;juice&quot;, 2);\r\n        Product milk = new Product(&quot;milk&quot;, 4);\r\n\r\n        Order order1 = new Order(&quot;apple&quot;, 3);\r\n        Order order2 = new Order(&quot;juice&quot;, 3);\r\n        Order order3 = new Order(&quot;milk&quot;, 5);\r\n\r\n        List&lt;Order&gt; orderList = new ArrayList&lt;&gt;(List.of(order1, order2, order3));\r\n        List&lt;Product&gt; productList = new ArrayList&lt;&gt;(List.of(apple, juice, milk));\r\n//        orderList.stream()\r\n//                .filter()\r\n//                .anyMatch()\r\n    }\r\n}\r\n```\r\n","title":"Сompare List&lt;Order&gt; with List&lt;Product&gt; using StreamAPI","body":"<p>it is necessary to determine whether this order can be fulfilled: is there enough of each product in stock.I can't figure out how to compare lists using stream</p>\n<pre><code>class Product {\n    private String name;\n    private int amount;\n\n    public Product(String name, int amount) {\n        this.name = name;\n        this.amount = amount;\n    }\n}\nclass Order {\n    private String name;\n    private int amount;\n\n    public Order(String name, int amount) {\n        this.name = name;\n        this.amount = amount;\n    }\n}\nclass TestWarehouse {\n\n    public static void main(String[] args) {\n\n        Product apple = new Product(&quot;apple&quot;, 3);\n        Product juice = new Product(&quot;juice&quot;, 2);\n        Product milk = new Product(&quot;milk&quot;, 4);\n\n        Order order1 = new Order(&quot;apple&quot;, 3);\n        Order order2 = new Order(&quot;juice&quot;, 3);\n        Order order3 = new Order(&quot;milk&quot;, 5);\n\n        List&lt;Order&gt; orderList = new ArrayList&lt;&gt;(List.of(order1, order2, order3));\n        List&lt;Product&gt; productList = new ArrayList&lt;&gt;(List.of(apple, juice, milk));\n//        orderList.stream()\n//                .filter()\n//                .anyMatch()\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":0,"creation_date":1639002980,"post_id":59092672,"comment_id":124240598,"body_markdown":"We use Spring Cloud Common (bootstrap context) for this use-case, if you do not care that your starter brings an additional dependency: https://spring.io/projects/spring-cloud-commons\nActually we enable a few profiles by default enabling our configs, so the teams do not have to care about e.g. oauth settings.","body":"We use Spring Cloud Common (bootstrap context) for this use-case, if you do not care that your starter brings an additional dependency: <a href=\"https://spring.io/projects/spring-cloud-commons\" rel=\"nofollow noreferrer\">spring.io/projects/spring-cloud-commons</a> Actually we enable a few profiles by default enabling our configs, so the teams do not have to care about e.g. oauth settings."}],"answers":[{"comments":[{"owner":{"account_id":2314917,"reputation":1269,"user_id":2032199,"accept_rate":43,"display_name":"mannuk"},"score":0,"creation_date":1574977643,"post_id":59093394,"comment_id":104426294,"body_markdown":"thanks for commenting Dmitry. The issue with this is that I need to do the reverse. Load the application.yml when the consumer has one. My idea was to do the reverse as you. set as resource somethink like application-starter.yml and let the consumer to have the application.yml but it seems not to work :/","body":"thanks for commenting Dmitry. The issue with this is that I need to do the reverse. Load the application.yml when the consumer has one. My idea was to do the reverse as you. set as resource somethink like application-starter.yml and let the consumer to have the application.yml but it seems not to work :/"}],"tags":[],"owner":{"account_id":966321,"reputation":803,"user_id":4573580,"display_name":"Dmitry Ionash"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574959861,"creation_date":1574959861,"answer_id":59093394,"question_id":59092672,"body_markdown":"If I understood properly your issue, I have faced such problem just last week ...\r\nI was inspecting this issue and I have some findings (they are not supported by official documentation): if you add dependency and want to use its resources, you have a situation when both application.yml files have the same location - `classpath:application.yml`, and or they cannot be loaded together, or one of them is overridden by other. In any case, in my application, it did not work.\r\n\r\nThe straight and simple solution if you just need to load configuration from dependent config file - rename it and load in a possible way (manual loading from YAML, property source&#39;s initializer, etc.)\r\n\r\nBut if this config file should be used anywhere, we can load properties manually in the context. In a dependency (consumer in your case) create another configuration file, e.g. consumer-application.yml and next bean in @configuration class:\r\n\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer properties() {\r\n        var propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\r\n        var yamlPropertiesFactoryBean = new YamlPropertiesFactoryBean();\r\n        yamlPropertiesFactoryBean.setResources(new ClassPathResource(&quot;consumer-application.yaml&quot;));\r\n        propertySourcesPlaceholderConfigurer.setProperties(yamlPropertiesFactoryBean.getObject());\r\n        return propertySourcesPlaceholderConfigurer;\r\n    }\r\n\r\nAnd you can use properties from YAML-file in both applications with @Value.\r\n\r\nBut the simplest way - to use properties configs. In that case, you can just set `@PropertySource(&quot;classpath:consumer-application.properties&quot;)` in consumer and `@PropertySource(value = {&quot;classpath:application.properties&quot;, &quot;classpath:consumer-application.properties&quot;})`\r\nIn my case both variants work correctly.","title":"Is it possible to have a default application.yml in a custom Spring boot starter?","body":"<p>If I understood properly your issue, I have faced such problem just last week ...\nI was inspecting this issue and I have some findings (they are not supported by official documentation): if you add dependency and want to use its resources, you have a situation when both application.yml files have the same location - <code>classpath:application.yml</code>, and or they cannot be loaded together, or one of them is overridden by other. In any case, in my application, it did not work.</p>\n\n<p>The straight and simple solution if you just need to load configuration from dependent config file - rename it and load in a possible way (manual loading from YAML, property source's initializer, etc.)</p>\n\n<p>But if this config file should be used anywhere, we can load properties manually in the context. In a dependency (consumer in your case) create another configuration file, e.g. consumer-application.yml and next bean in @configuration class:</p>\n\n<pre><code>@Bean\npublic static PropertySourcesPlaceholderConfigurer properties() {\n    var propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\n    var yamlPropertiesFactoryBean = new YamlPropertiesFactoryBean();\n    yamlPropertiesFactoryBean.setResources(new ClassPathResource(\"consumer-application.yaml\"));\n    propertySourcesPlaceholderConfigurer.setProperties(yamlPropertiesFactoryBean.getObject());\n    return propertySourcesPlaceholderConfigurer;\n}\n</code></pre>\n\n<p>And you can use properties from YAML-file in both applications with @Value.</p>\n\n<p>But the simplest way - to use properties configs. In that case, you can just set <code>@PropertySource(\"classpath:consumer-application.properties\")</code> in consumer and <code>@PropertySource(value = {\"classpath:application.properties\", \"classpath:consumer-application.properties\"})</code>\nIn my case both variants work correctly.</p>\n"},{"comments":[{"owner":{"account_id":2314917,"reputation":1269,"user_id":2032199,"accept_rate":43,"display_name":"mannuk"},"score":0,"creation_date":1574977470,"post_id":59094976,"comment_id":104426239,"body_markdown":"Hi Sam, I have the conditionalOnProperty in the SecurityAutoConfiguration already and works ok. My issue is related to the default application.yml of the starter. If there is another application.yml for the consumer, the starter take into account the consumer one there is no overriding. And I need some spring defaults in the starter like spring:\n  jpa:\n    hibernate:\n      ddl-auto: validate. I&#39;ve tried to do also the approach of Dmitry but it is not valid to me in the way that I don&#39;t want to specify the yaml&#39;s of the consumers in the starter","body":"Hi Sam, I have the conditionalOnProperty in the SecurityAutoConfiguration already and works ok. My issue is related to the default application.yml of the starter. If there is another application.yml for the consumer, the starter take into account the consumer one there is no overriding. And I need some spring defaults in the starter like spring:   jpa:     hibernate:       ddl-auto: validate. I&#39;ve tried to do also the approach of Dmitry but it is not valid to me in the way that I don&#39;t want to specify the yaml&#39;s of the consumers in the starter"},{"owner":{"account_id":15535135,"reputation":143,"user_id":11207493,"display_name":"Sam"},"score":0,"creation_date":1574996387,"post_id":59094976,"comment_id":104429569,"body_markdown":"So if I understand correctly, you dont want the consumer to override the values?","body":"So if I understand correctly, you dont want the consumer to override the values?"},{"owner":{"account_id":2314917,"reputation":1269,"user_id":2032199,"accept_rate":43,"display_name":"mannuk"},"score":0,"creation_date":1575027578,"post_id":59094976,"comment_id":104440157,"body_markdown":"yes but the consumer is not only overriding the values. if there is an application.yml in both you remove all the keys present in the starter. It is not only overriding it is like the starter it is not taken into account","body":"yes but the consumer is not only overriding the values. if there is an application.yml in both you remove all the keys present in the starter. It is not only overriding it is like the starter it is not taken into account"}],"tags":[],"owner":{"account_id":15535135,"reputation":143,"user_id":11207493,"display_name":"Sam"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574970416,"creation_date":1574967987,"answer_id":59094976,"question_id":59092672,"body_markdown":"You can try initializing the member variables on the starter itself. If consumer wants to override the values they can do it with they&#39;re application configuration.\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;security&quot;)\r\npublic class StarterSecurityConfig {\r\n    private boolean jwtEnabled = true;\r\n    private String[] unsecuredPaths = { &quot;/user/**&quot; };\r\n    private String[] securedPaths = { &quot;/**&quot; };\r\n}\r\n```\r\n\r\nFews more ideas:\r\n\r\nI would make jwtEnabled  as false and would remove the @Configuration and @ConfigurationProperties from the above Class and create an SecurityAutoConfiguration Class with other beans. \r\n\r\n```\r\n@Configuration\r\npublic class SecurityAutoConfiguration{\r\n\r\n   @Bean\r\n   @ConfigurationProperties(prefix = &quot;security&quot;)\r\n   public StarterSecurityConfig starterSecurityConfig(){\r\n     return new StarterSecurityConfig();\r\n   }\r\n\r\n   @Bean\r\n   @ConditionalOnProperty(value=&quot;security.jwtEnabled&quot;, havingValue = &quot;true&quot;)\r\n   public JwtService jwtService(StarterSecurityConfig starterSecurityConfig) {\r\n     return new JwtService(starterSecurityConfig);\r\n   }   \r\n\r\n}\r\n```\r\nthe consumers will be able to enable or disable the security-starter with their application configuration using security.jwtEnabled flag.\r\n\r\n","title":"Is it possible to have a default application.yml in a custom Spring boot starter?","body":"<p>You can try initializing the member variables on the starter itself. If consumer wants to override the values they can do it with they're application configuration.</p>\n\n<pre><code>@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(prefix = \"security\")\npublic class StarterSecurityConfig {\n    private boolean jwtEnabled = true;\n    private String[] unsecuredPaths = { \"/user/**\" };\n    private String[] securedPaths = { \"/**\" };\n}\n</code></pre>\n\n<p>Fews more ideas:</p>\n\n<p>I would make jwtEnabled  as false and would remove the @Configuration and @ConfigurationProperties from the above Class and create an SecurityAutoConfiguration Class with other beans. </p>\n\n<pre><code>@Configuration\npublic class SecurityAutoConfiguration{\n\n   @Bean\n   @ConfigurationProperties(prefix = \"security\")\n   public StarterSecurityConfig starterSecurityConfig(){\n     return new StarterSecurityConfig();\n   }\n\n   @Bean\n   @ConditionalOnProperty(value=\"security.jwtEnabled\", havingValue = \"true\")\n   public JwtService jwtService(StarterSecurityConfig starterSecurityConfig) {\n     return new JwtService(starterSecurityConfig);\n   }   \n\n}\n</code></pre>\n\n<p>the consumers will be able to enable or disable the security-starter with their application configuration using security.jwtEnabled flag.</p>\n"},{"tags":[],"owner":{"account_id":9606953,"reputation":64,"user_id":7132691,"accept_rate":0,"display_name":"Akshay Tyagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680771985,"creation_date":1680771985,"answer_id":75947730,"question_id":59092672,"body_markdown":"We have 2 options to set properties defined inside the custom starter to make them available in the application(that uses the starter).\r\n                                                                                \r\n\r\n 1. Put all the properties in any custom property file(ex.- custom.properties) and put it in `src/main/resources` folder. Now use `@PropertySource` as a convenient mechanism for adding property sources to the environment.\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tThis `@PropertySource(&quot;classpath:custom.properties&quot;)` has to put on your auto configuration.\r\n&lt;br&gt;**How it works:-** When you add your custom starter in the spring boot application then at the time of startup, your auto configuration will get configured in the spring application context and since we are using `@PropertySource(&quot;classpath:custom.properties&quot;)` on auto configuration so properties defined inside the `custom.properties` will also be available in application context. *If you want to override some of the properties, define those properties in `application.properties|yml` in the application itself.*\r\n**Example:-** \r\n&lt;br&gt;custom.properties\r\n&gt; welcome.message=Hello Akshay\r\n\r\n        @AutoConfiguration\r\n        @PropertySource(&quot;classpath:custom.properties&quot;)\r\n        public class MyAutoConfiguration{\r\n          // spring beans \r\n        }\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \r\n 2. We know, If both .properties|yml in your custom starter and application that included custom starter are named as `application.properties|yml` will cause your properties set in custom starter not working since both properties have same name and in same path. Though we cannot have the same properties with same name and same path But we can have both `application.yml` and `application.properties` at same time in same project. **Read here-** https://stackoverflow.com/questions/25231918/does-spring-boot-support-using-both-properties-and-yml-files-at-the-same-time\r\n&lt;br&gt;**Solution:-** Put all the properties in `application.properties|yml` file inside `src/main/resources` folder. This way you do not have to use `@PropertySource`. But there is only one thing you keep in your mind while using this option **(a)** If your application has resource file name as `application.yml` then In starter, you should have `application.properties` --&gt; In this case you cannot override the properties via `application.yml` of application because first `application.yml` will be loaded, later `application.properties` will be loaded. **(b)** If your application has resource file name as `application.properties` then In starter, you should have `application.yml` --&gt; In this case you can override the properties via `application.properties` of application because as per the above statement, `application.properties` will be loaded after `application.yml`.","title":"Is it possible to have a default application.yml in a custom Spring boot starter?","body":"<p>We have 2 options to set properties defined inside the custom starter to make them available in the application(that uses the starter).</p>\n<ol>\n<li>Put all the properties in any custom property file(ex.- custom.properties) and put it in <code>src/main/resources</code> folder. Now use <code>@PropertySource</code> as a convenient mechanism for adding property sources to the environment.                                                                       This <code>@PropertySource(&quot;classpath:custom.properties&quot;)</code> has to put on your auto configuration.\n<br><strong>How it works:-</strong> When you add your custom starter in the spring boot application then at the time of startup, your auto configuration will get configured in the spring application context and since we are using <code>@PropertySource(&quot;classpath:custom.properties&quot;)</code> on auto configuration so properties defined inside the <code>custom.properties</code> will also be available in application context. <em>If you want to override some of the properties, define those properties in <code>application.properties|yml</code> in the application itself.</em>\n<strong>Example:-</strong>\n<br>custom.properties</li>\n</ol>\n<blockquote>\n<p>welcome.message=Hello Akshay</p>\n</blockquote>\n<pre><code>    @AutoConfiguration\n    @PropertySource(&quot;classpath:custom.properties&quot;)\n    public class MyAutoConfiguration{\n      // spring beans \n    }\n\n                                                                               \n</code></pre>\n<ol start=\"2\">\n<li>We know, If both .properties|yml in your custom starter and application that included custom starter are named as <code>application.properties|yml</code> will cause your properties set in custom starter not working since both properties have same name and in same path. Though we cannot have the same properties with same name and same path But we can have both <code>application.yml</code> and <code>application.properties</code> at same time in same project. <strong>Read here-</strong> <a href=\"https://stackoverflow.com/questions/25231918/does-spring-boot-support-using-both-properties-and-yml-files-at-the-same-time\">Does spring boot support using both properties and yml files at the same time?</a>\n<br><strong>Solution:-</strong> Put all the properties in <code>application.properties|yml</code> file inside <code>src/main/resources</code> folder. This way you do not have to use <code>@PropertySource</code>. But there is only one thing you keep in your mind while using this option <strong>(a)</strong> If your application has resource file name as <code>application.yml</code> then In starter, you should have <code>application.properties</code> --&gt; In this case you cannot override the properties via <code>application.yml</code> of application because first <code>application.yml</code> will be loaded, later <code>application.properties</code> will be loaded. <strong>(b)</strong> If your application has resource file name as <code>application.properties</code> then In starter, you should have <code>application.yml</code> --&gt; In this case you can override the properties via <code>application.properties</code> of application because as per the above statement, <code>application.properties</code> will be loaded after <code>application.yml</code>.</li>\n</ol>\n"}],"owner":{"account_id":2314917,"reputation":1269,"user_id":2032199,"accept_rate":43,"display_name":"mannuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3991,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1680771985,"creation_date":1574957005,"question_id":59092672,"body_markdown":"I am facing an issue with my custom spring boot starter and a spring boot app consumer that uses as a dependency. I have in both an application.yml but it seems that the configuration I am looking for it is only pressent if it is defined in the consumer.\r\n\r\nMy config in the starter is like this:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;security&quot;)\r\n    public class StarterSecurityConfig {\r\n        private boolean jwtEnabled;\r\n        private String[] unsecuredPaths;\r\n        private String[] securedPaths;\r\n    }\r\n\r\nAnd I have this bean defined in the AutoConfiguration class:\r\n\r\n    @Bean\r\n    public StarterSecurityConfig starterSecurityConfig() {\r\n        return new StarterSecurityConfig();\r\n    }\r\n\r\nIt is perfectly retrieved by the consumer which has this application.yml and another variables:\r\n\r\n        security:\r\n      jwt-enabled: true\r\n      secured-paths:\r\n        - /user/**\r\n      unsecured-paths:\r\n        - /**\r\n\r\nBut if I remove that from the consumer and I put it in the application.yml of the starter, the starter beans does not have these properties when creating them.\r\n\r\nMaybe am I missing something?","title":"Is it possible to have a default application.yml in a custom Spring boot starter?","body":"<p>I am facing an issue with my custom spring boot starter and a spring boot app consumer that uses as a dependency. I have in both an application.yml but it seems that the configuration I am looking for it is only pressent if it is defined in the consumer.</p>\n\n<p>My config in the starter is like this:</p>\n\n<pre><code>@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(prefix = \"security\")\npublic class StarterSecurityConfig {\n    private boolean jwtEnabled;\n    private String[] unsecuredPaths;\n    private String[] securedPaths;\n}\n</code></pre>\n\n<p>And I have this bean defined in the AutoConfiguration class:</p>\n\n<pre><code>@Bean\npublic StarterSecurityConfig starterSecurityConfig() {\n    return new StarterSecurityConfig();\n}\n</code></pre>\n\n<p>It is perfectly retrieved by the consumer which has this application.yml and another variables:</p>\n\n<pre><code>    security:\n  jwt-enabled: true\n  secured-paths:\n    - /user/**\n  unsecured-paths:\n    - /**\n</code></pre>\n\n<p>But if I remove that from the consumer and I put it in the application.yml of the starter, the starter beans does not have these properties when creating them.</p>\n\n<p>Maybe am I missing something?</p>\n"},{"tags":["java","android","android-studio","gradle","dependencies"],"comments":[{"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"score":3,"creation_date":1680356826,"post_id":75873120,"comment_id":133886560,"body_markdown":"I’m afraid, I don’t understand what the issue is. Do you get any errors or so? Can you maybe elaborate on the differences between your “in testing” scenario and your “implement snapshot version” scenario?","body":"I’m afraid, I don’t understand what the issue is. Do you get any errors or so? Can you maybe elaborate on the differences between your “in testing” scenario and your “implement snapshot version” scenario?"},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1680492082,"post_id":75873120,"comment_id":133902162,"body_markdown":"Okay, We have snapshot version of our SDK and in this SDK there is feature for video compression and for we use `mp4parser` library as i mention `implementation (&#39;com.googlecode.mp4parser:isoparser:1.0.6&#39;)` this library we use . **Problem statement:**  when we implement our `SNAPSHOT` version to other projects then it `mp4parser`  library not works properly like it drops audio while compression and i know the reason of it because our snapshot version library can&#39;t fetch all classes and methods to other projects because of decoding of code and when i use above syntax as exclude it works fine.","body":"Okay, We have snapshot version of our SDK and in this SDK there is feature for video compression and for we use <code>mp4parser</code> library as i mention <code>implementation (&#39;com.googlecode.mp4parser:isoparser:1.0.6&#39;)</code> this library we use . <b>Problem statement:</b>  when we implement our <code>SNAPSHOT</code> version to other projects then it <code>mp4parser</code>  library not works properly like it drops audio while compression and i know the reason of it because our snapshot version library can&#39;t fetch all classes and methods to other projects because of decoding of code and when i use above syntax as exclude it works fine."},{"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1680734368,"post_id":75873120,"comment_id":133950500,"body_markdown":"Can you provide build `--scan`s of both versions, working and non-working?","body":"Can you provide build <code>--scan</code>s of both versions, working and non-working?"}],"answers":[{"comments":[{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1680333764,"post_id":75903432,"comment_id":133883874,"body_markdown":"I already keep all classes that i&#39;m importing in proguard","body":"I already keep all classes that i&#39;m importing in proguard"},{"owner":{"account_id":4364692,"reputation":1015,"user_id":3560841,"display_name":"Shift Delete"},"score":0,"creation_date":1680435230,"post_id":75903432,"comment_id":133894832,"body_markdown":"I edit my answer plz check it out and let me know what happened.","body":"I edit my answer plz check it out and let me know what happened."},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1680763171,"post_id":75903432,"comment_id":133953866,"body_markdown":"It can solved issue because gradle minify project some method will not accessible for SDK . Thanks for that but i already know about `minifyenabled false` and `keep` in progured","body":"It can solved issue because gradle minify project some method will not accessible for SDK . Thanks for that but i already know about <code>minifyenabled false</code> and <code>keep</code> in progured"},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1680771566,"post_id":75903432,"comment_id":133955674,"body_markdown":"If i use `dontwarn` it will be not a safe way to implement isoparser","body":"If i use <code>dontwarn</code> it will be not a safe way to implement isoparser"}],"tags":[],"owner":{"account_id":4364692,"reputation":1015,"user_id":3560841,"display_name":"Shift Delete"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680435459,"creation_date":1680304866,"answer_id":75903432,"question_id":75873120,"body_markdown":"Maybe you should keep All your classes related to the `com.googlecode.mp4parser:isoparser:1.0.6` library in your proGuard.\r\n\r\nI think it&#39;s a proGaurd issue and you probably must write a proGaurd or Consumer rule.\r\n\r\nadd this to your library progaurd rule and your app progaurd rule and check again:\r\n\r\n    -keep class com.coremedia.iso.** {*;}\r\n    -keep class com.googlecode.mp4parser.** {*;}\r\n    -keep class com.mp4parser.** {*;}\r\n\r\n    -keep class * implements com.coremedia.iso.boxes.Box { *; }\r\n    -dontwarn com.coremedia.iso.boxes.**\r\n    -dontwarn com.googlecode.mp4parser.authoring.tracks.mjpeg.**\r\n    -dontwarn com.googlecode.mp4parser.authoring.tracks.ttml.**\r\n    \r\n    -dontwarn com.coremedia.**\r\n    -dontwarn com.googlecode.mp4parser.**","title":"Android SDK issue while implementation to other project because of dependency","body":"<p>Maybe you should keep All your classes related to the <code>com.googlecode.mp4parser:isoparser:1.0.6</code> library in your proGuard.</p>\n<p>I think it's a proGaurd issue and you probably must write a proGaurd or Consumer rule.</p>\n<p>add this to your library progaurd rule and your app progaurd rule and check again:</p>\n<pre><code>-keep class com.coremedia.iso.** {*;}\n-keep class com.googlecode.mp4parser.** {*;}\n-keep class com.mp4parser.** {*;}\n\n-keep class * implements com.coremedia.iso.boxes.Box { *; }\n-dontwarn com.coremedia.iso.boxes.**\n-dontwarn com.googlecode.mp4parser.authoring.tracks.mjpeg.**\n-dontwarn com.googlecode.mp4parser.authoring.tracks.ttml.**\n\n-dontwarn com.coremedia.**\n-dontwarn com.googlecode.mp4parser.**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1680762467,"creation_date":1680762467,"answer_id":75946489,"question_id":75873120,"body_markdown":"I solved this issue with not using `isoparser` library in our SDK.\r\n\r\nFor most cases it can solve using keep method in `proguard` but in my case it didn&#39;t help me so i just removed isoparser from my SDK because of that now i don&#39;t have any `Duplication` error in other projects and now it not throw error like `noclassfound`\r\n\r\nWhile using dependecny in SDK it headache for SDK user because of this two errors \r\n\r\n - `Duplication` dependency found duplicate method while compiling that&#39;s conflict sdk\r\n - `no class found` in some case project it&#39;s fails to find some class of dependency that used in my SDK because Android studio not decomile whole SDK\r\n\r\n&gt;Conclusion : Try to not use any famous third party library in SDK ","title":"Android SDK issue while implementation to other project because of dependency","body":"<p>I solved this issue with not using <code>isoparser</code> library in our SDK.</p>\n<p>For most cases it can solve using keep method in <code>proguard</code> but in my case it didn't help me so i just removed isoparser from my SDK because of that now i don't have any <code>Duplication</code> error in other projects and now it not throw error like <code>noclassfound</code></p>\n<p>While using dependecny in SDK it headache for SDK user because of this two errors</p>\n<ul>\n<li><code>Duplication</code> dependency found duplicate method while compiling that's conflict sdk</li>\n<li><code>no class found</code> in some case project it's fails to find some class of dependency that used in my SDK because Android studio not decomile whole SDK</li>\n</ul>\n<blockquote>\n<p>Conclusion : Try to not use any famous third party library in SDK</p>\n</blockquote>\n"}],"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75946489,"answer_count":2,"score":0,"last_activity_date":1680771722,"creation_date":1680063815,"question_id":75873120,"body_markdown":"In SDK we use iso parser library for video compression and few other things. It works fine in a test project, but when I try to use the snapshot version in another project iso parser does not work as it should. That is, while video compression it drops the audio. I don&#39;t know why, but when I configure it like this all works fine:\r\n\r\n```groovy\r\nimplementation(&#39;com.name.lib:Library:1.2.19-SNAPSHOT&#39;) {\r\n    exclude group: &#39;com.googlecode.mp4parser&#39;, module: &#39;isoparser&#39;\r\n}\r\n\r\nimplementation(&#39;com.googlecode.mp4parser:isoparser:1.0.6&#39;) {\r\n    force = true\r\n}\r\n```\r\n\r\nI know it&#39;s not good practice to use this type of snippet for lib dependenies. Is there any solution to this? If you need more details, please let me know.\r\n\r\nSomeone below told me to add this in proguard so.\r\n\r\n```\r\n-keep class com.googlecode.mp4parser.isoparser.** { *; }\r\n```","title":"Android SDK issue while implementation to other project because of dependency","body":"<p>In SDK we use iso parser library for video compression and few other things. It works fine in a test project, but when I try to use the snapshot version in another project iso parser does not work as it should. That is, while video compression it drops the audio. I don't know why, but when I configure it like this all works fine:</p>\n<pre><code>implementation('com.name.lib:Library:1.2.19-SNAPSHOT') {\n    exclude group: 'com.googlecode.mp4parser', module: 'isoparser'\n}\n\nimplementation('com.googlecode.mp4parser:isoparser:1.0.6') {\n    force = true\n}\n</code></pre>\n<p>I know it's not good practice to use this type of snippet for lib dependenies. Is there any solution to this? If you need more details, please let me know.</p>\n<p>Someone below told me to add this in proguard so.</p>\n<pre><code>-keep class com.googlecode.mp4parser.isoparser.** { *; }\n</code></pre>\n"},{"tags":["java","spring","grails","jobs","schedule"],"answers":[{"comments":[{"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"score":0,"creation_date":1681307504,"post_id":75947653,"comment_id":134035401,"body_markdown":"The `reports.total` configuration needs to be in the `application.yml` so that the technician can change it according to the server hardware during system deployment.\nI tried to move only the `spring.task.scheduling.pool.size` configuration to the runtime.groovy file, but the values contained in `application.yml` are inaccessible.\n\nP.S.: there are other settings required for `application.yml` to work, which is the default used by the company.","body":"The <code>reports.total</code> configuration needs to be in the <code>application.yml</code> so that the technician can change it according to the server hardware during system deployment. I tried to move only the <code>spring.task.scheduling.pool.size</code> configuration to the runtime.groovy file, but the values contained in <code>application.yml</code> are inaccessible.  P.S.: there are other settings required for <code>application.yml</code> to work, which is the default used by the company."}],"tags":[],"owner":{"account_id":132529,"reputation":3031,"user_id":333276,"accept_rate":75,"display_name":"David Brown"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680771589,"creation_date":1680771589,"answer_id":75947653,"question_id":75942643,"body_markdown":"Generally, you don&#39;t create calculated fields directly in a YAML file. However, if you need to include configuration data that is calculated or references classes in your application, you can add it to a runtime.groovy file.\r\n\r\nThe runtime.groovy file should be placed in the same location as your other configuration files. It is processed after your application classes are loaded, which means that you can include more complex configuration data in this file,  including &#39;groovy&#39; code.\r\n\r\n","title":"Use arithmetic operations in a yaml","body":"<p>Generally, you don't create calculated fields directly in a YAML file. However, if you need to include configuration data that is calculated or references classes in your application, you can add it to a runtime.groovy file.</p>\n<p>The runtime.groovy file should be placed in the same location as your other configuration files. It is processed after your application classes are loaded, which means that you can include more complex configuration data in this file,  including 'groovy' code.</p>\n"}],"owner":{"account_id":14426950,"reputation":3,"user_id":10426962,"display_name":"Jo&#227;o G. Hartmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680771589,"creation_date":1680717302,"question_id":75942643,"body_markdown":"I&#39;m using spring jobs in a Grails 5.2.5 application. This application serves to run X (defined by the `reports.total` configuration) reports at the same time.\r\n\r\nFor correct operation, the `spring.task.scheduling.pool.size` configuration must be equal to or greater than the total number of jobs, to comply with reports.total it would need to be `3+reports.total` (the value is 3 because currently there are 3 jobs that need to run concurrently)\r\n\r\n```yaml\r\nreports:\r\n    total: 1\r\n\r\nspring:\r\n    task:\r\n        scheduling:\r\n            pool:\r\n                size: 3+reports.total\r\n```\r\n\r\nI tried the following values, but without success:\r\n- `${reports.total} + 3`\r\n- `{${reports.total} + 3}`\r\n- `3 + reports.total`\r\n- `${reports.total + 3}`\r\n- `${4+1}`\r\n- `4+1`\r\n- `#{${reports.total} + 3}`\r\n- `$(( ${reports.total} + 3 ))`\r\n\r\nAlways return something like this:\r\n\r\n    Failed to bind properties under &#39;spring.task.scheduling.pool.size&#39; to int:\r\n    \r\n        Property: spring.task.scheduling.pool.size\r\n        Value: ${4+1}\r\n        Origin: &quot;spring.task.scheduling.pool.size&quot; from property source &quot;Config resource &#39;class path resource [application.yml]&#39; via location &#39;optional:classpath:/&#39;&quot;\r\n        Reason: failed to convert java.lang.String to int (caused by java.lang.NumberFormatException: For input string: &quot;${4+1}&quot;)\r\n\r\n\r\nGrails 5.2.5 - JDK 11.0.16","title":"Use arithmetic operations in a yaml","body":"<p>I'm using spring jobs in a Grails 5.2.5 application. This application serves to run X (defined by the <code>reports.total</code> configuration) reports at the same time.</p>\n<p>For correct operation, the <code>spring.task.scheduling.pool.size</code> configuration must be equal to or greater than the total number of jobs, to comply with reports.total it would need to be <code>3+reports.total</code> (the value is 3 because currently there are 3 jobs that need to run concurrently)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>reports:\n    total: 1\n\nspring:\n    task:\n        scheduling:\n            pool:\n                size: 3+reports.total\n</code></pre>\n<p>I tried the following values, but without success:</p>\n<ul>\n<li><code>${reports.total} + 3</code></li>\n<li><code>{${reports.total} + 3}</code></li>\n<li><code>3 + reports.total</code></li>\n<li><code>${reports.total + 3}</code></li>\n<li><code>${4+1}</code></li>\n<li><code>4+1</code></li>\n<li><code>#{${reports.total} + 3}</code></li>\n<li><code>$(( ${reports.total} + 3 ))</code></li>\n</ul>\n<p>Always return something like this:</p>\n<pre><code>Failed to bind properties under 'spring.task.scheduling.pool.size' to int:\n\n    Property: spring.task.scheduling.pool.size\n    Value: ${4+1}\n    Origin: &quot;spring.task.scheduling.pool.size&quot; from property source &quot;Config resource 'class path resource [application.yml]' via location 'optional:classpath:/'&quot;\n    Reason: failed to convert java.lang.String to int (caused by java.lang.NumberFormatException: For input string: &quot;${4+1}&quot;)\n</code></pre>\n<p>Grails 5.2.5 - JDK 11.0.16</p>\n"},{"tags":["java","compilation","dependencies","aspectj","java-17"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680721534,"post_id":75942486,"comment_id":133948104,"body_markdown":"Post text rather than images, wherever practical.","body":"Post text rather than images, wherever practical."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1680730297,"post_id":75942486,"comment_id":133949896,"body_markdown":"Update the AspectJ compiler version to one capable of processing Java 17 code. The latest version is 1.9.19.","body":"Update the AspectJ compiler version to one capable of processing Java 17 code. The latest version is 1.9.19."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680771041,"post_id":75942486,"comment_id":133955555,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."}],"answers":[{"comments":[{"owner":{"account_id":12943230,"reputation":65,"user_id":13063555,"display_name":"captain D"},"score":0,"creation_date":1681225773,"post_id":75947599,"comment_id":134020428,"body_markdown":"thanks, it helped, also rebuilding project","body":"thanks, it helped, also rebuilding project"}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680771310,"creation_date":1680771310,"answer_id":75947599,"question_id":75942486,"body_markdown":"&gt; ```none\r\n&gt; [error] target level should be in &#39;1.1&#39;...&#39;1.8&#39;,&#39;9&#39;...&#39;14&#39;\r\n&gt; ```\r\n\r\nThis compiler error tells me that, according to the [AspectJ Java version compatibility matrix](https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/JavaVersionCompatibility.md), your AspectJ compiler is limited to max. Java 14, i.e. probably somewhere in your Gradle build, you have a dependency on `org.aspectj:aspectjtools:1.9.6`, where you would need at least 1.9.8. But like I said in my comment, simply go to the latest version 1.9.19. If I have some sparetime around Easter, maybe I can release 1.9.20 one of these days, but you will be fine with the current release.","title":"After updating to java 17 started to receive [error] target level should be in &#39;1.1&#39;...&#39;1.8&#39;,&#39;9&#39;...&#39;14&#39;: 17","body":"<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>[error] target level should be in '1.1'...'1.8','9'...'14'\n</code></pre>\n</blockquote>\n<p>This compiler error tells me that, according to the <a href=\"https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/JavaVersionCompatibility.md\" rel=\"nofollow noreferrer\">AspectJ Java version compatibility matrix</a>, your AspectJ compiler is limited to max. Java 14, i.e. probably somewhere in your Gradle build, you have a dependency on <code>org.aspectj:aspectjtools:1.9.6</code>, where you would need at least 1.9.8. But like I said in my comment, simply go to the latest version 1.9.19. If I have some sparetime around Easter, maybe I can release 1.9.20 one of these days, but you will be fine with the current release.</p>\n"}],"owner":{"account_id":12943230,"reputation":65,"user_id":13063555,"display_name":"captain D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1044,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75947599,"answer_count":1,"score":3,"last_activity_date":1680771310,"creation_date":1680716190,"question_id":75942486,"body_markdown":"I updating my test framework to use Java 17, using Gradle.\r\n\r\n    java {\r\n        toolchain {\r\n            languageVersion.set(JavaLanguageVersion.of(17))\r\n        }\r\n    }\r\n\r\nAlso upgraded Gradle to &#39;8.0.2&#39; version. Trying to build project received\r\n\r\n&gt; [error] target level should be in &#39;1.1&#39;...&#39;1.8&#39;,&#39;9&#39;...&#39;14&#39;: 17\r\n\r\nWith some tips regarding AspectJ lib, that i dont understand (can be seen on the screenshot 1 attached).\r\n[![Screen 1][1]][1]\r\n\r\nSo i tried also update AspectJ plugin to the latest version\r\n`id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;8.0.1&quot;` in my build.gradle file. As a result AspectJ lib stopped to be seen by IDE(screenshot 2),\r\n[![enter image description here][2]][2] with \r\n\r\n&gt; error: package org.aspectj.lang.annotation does not exist\r\n\r\nCant understand where to start digging and what this problem can be connected to? As a result i need to make my project work with Java 17, currently using 14 and AspectJ.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BQavd.png\r\n  [2]: https://i.stack.imgur.com/QCTz1.png","title":"After updating to java 17 started to receive [error] target level should be in &#39;1.1&#39;...&#39;1.8&#39;,&#39;9&#39;...&#39;14&#39;: 17","body":"<p>I updating my test framework to use Java 17, using Gradle.</p>\n<pre><code>java {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(17))\n    }\n}\n</code></pre>\n<p>Also upgraded Gradle to '8.0.2' version. Trying to build project received</p>\n<blockquote>\n<p>[error] target level should be in '1.1'...'1.8','9'...'14': 17</p>\n</blockquote>\n<p>With some tips regarding AspectJ lib, that i dont understand (can be seen on the screenshot 1 attached).\n<a href=\"https://i.stack.imgur.com/BQavd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BQavd.png\" alt=\"Screen 1\" /></a></p>\n<p>So i tried also update AspectJ plugin to the latest version\n<code>id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;8.0.1&quot;</code> in my build.gradle file. As a result AspectJ lib stopped to be seen by IDE(screenshot 2),\n<a href=\"https://i.stack.imgur.com/QCTz1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QCTz1.png\" alt=\"enter image description here\" /></a> with</p>\n<blockquote>\n<p>error: package org.aspectj.lang.annotation does not exist</p>\n</blockquote>\n<p>Cant understand where to start digging and what this problem can be connected to? As a result i need to make my project work with Java 17, currently using 14 and AspectJ.</p>\n"},{"tags":["java","avro"],"owner":{"account_id":19384321,"reputation":11,"user_id":14174868,"display_name":"MarianS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680771198,"creation_date":1680771198,"question_id":75947584,"body_markdown":"I need to write several attributes from a java object as fields into Avro schema record including decimal values with different precision and scale.\r\n(Question regarding Avro 1.11.1)\r\n\r\nNow according to the Avro documentation I should be able annotate a primitive `bytes` type as `decimal` logical data type with defined precision and scale. This is the result what I would like to achieve:\r\n\r\n\r\n```\r\n{\r\n  &quot;type&quot; : &quot;record&quot;,\r\n  &quot;name&quot; : &quot;Object_1&quot;,\r\n  &quot;namespace&quot; : &quot;test_namespace&quot;,\r\n  &quot;fields&quot; : [ {\r\n    &quot;name&quot; : &quot;first_name&quot;,\r\n    &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],\r\n    &quot;default&quot; : null\r\n  }, {\r\n    &quot;name&quot; : &quot;last_name&quot;,\r\n    &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],\r\n    &quot;default&quot; : null\r\n  }, {\r\n    &quot;name&quot; : &quot;salary1&quot;,\r\n    &quot;type&quot; : [ &quot;null&quot;, {\r\n      &quot;type&quot; : &quot;bytes&quot;,\r\n      &quot;logicalType&quot; : &quot;decimal&quot;,\r\n      &quot;precision&quot; : 30,\r\n      &quot;scale&quot; : 10\r\n    } ],\r\n    &quot;default&quot; : null\r\n  }, {\r\n    &quot;name&quot; : &quot;salary2&quot;,\r\n    &quot;type&quot; : [ &quot;null&quot;, {\r\n      &quot;type&quot; : &quot;bytes&quot;,\r\n      &quot;logicalType&quot; : &quot;decimal&quot;,\r\n      &quot;precision&quot; : 20,\r\n      &quot;scale&quot; : 8\r\n    } ],\r\n    &quot;default&quot; : null\r\n  }]\r\n}\r\n```\r\n\r\nNotice the salary1 and salary2, both are decimal but have different precision and scale property.\r\n\r\nHere is the java code for adding of the bytes/decimal field to the schema (its simplified):\r\n\r\n```\r\n    private FieldAssembler&lt;Schema&gt; addAttributeTypeDecimal(final TypeBuilder&lt;Schema&gt; sb, final FieldAssembler&lt;Schema&gt; fa,\r\n                    final boolean isAttributeNullable, final int precision, final int scale) {\r\n        final var schema = LogicalTypes.decimal(precision, scale)).addToSchema(sb.bytesType());\r\n        if (isAttributeNullable)\r\n            return fa.name(drioa.getName()).type().optional().type(schema);\r\n        else\r\n            return fa.name(drioa.getName()).type(schema).noDefault();\r\n    }\r\n```\r\n\r\nThe above code is failing if I try to add `salary2` using the `addToSchema` function with exception:\r\n\r\n```\r\norg.apache.avro.AvroRuntimeException: Can&#39;t overwrite property: scale\r\n\tat org.apache.avro.JsonProperties.addProp(JsonProperties.java:288)\r\n\tat org.apache.avro.JsonProperties.addProp(JsonProperties.java:261)\r\n\tat org.apache.avro.Schema.addProp(Schema.java:189)\r\n\tat org.apache.avro.LogicalTypes$Decimal.addToSchema(LogicalTypes.java:285)\r\n```\r\n\r\nCan you please suggest what is wrong in my logic? From debugging I understood that it is trying to overwrite the bytes decimal data logic type in the list of primitive types, which is not allowed. But how can I prevent it from overwriting it and instead to store a another decimal type specification with different scale and precision?\r\n\r\nI saw that there was a similar [question](https://stackoverflow.com/questions/54751567/avro-schemabuilder-cant-overwrite-property-scale-for-decimal-logical-type) asked by Eoin O&#39;Hehir but without any response.","title":"Create Avro schema with multiple decimal logical data types which have different precision and scale","body":"<p>I need to write several attributes from a java object as fields into Avro schema record including decimal values with different precision and scale.\n(Question regarding Avro 1.11.1)</p>\n<p>Now according to the Avro documentation I should be able annotate a primitive <code>bytes</code> type as <code>decimal</code> logical data type with defined precision and scale. This is the result what I would like to achieve:</p>\n<pre><code>{\n  &quot;type&quot; : &quot;record&quot;,\n  &quot;name&quot; : &quot;Object_1&quot;,\n  &quot;namespace&quot; : &quot;test_namespace&quot;,\n  &quot;fields&quot; : [ {\n    &quot;name&quot; : &quot;first_name&quot;,\n    &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],\n    &quot;default&quot; : null\n  }, {\n    &quot;name&quot; : &quot;last_name&quot;,\n    &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],\n    &quot;default&quot; : null\n  }, {\n    &quot;name&quot; : &quot;salary1&quot;,\n    &quot;type&quot; : [ &quot;null&quot;, {\n      &quot;type&quot; : &quot;bytes&quot;,\n      &quot;logicalType&quot; : &quot;decimal&quot;,\n      &quot;precision&quot; : 30,\n      &quot;scale&quot; : 10\n    } ],\n    &quot;default&quot; : null\n  }, {\n    &quot;name&quot; : &quot;salary2&quot;,\n    &quot;type&quot; : [ &quot;null&quot;, {\n      &quot;type&quot; : &quot;bytes&quot;,\n      &quot;logicalType&quot; : &quot;decimal&quot;,\n      &quot;precision&quot; : 20,\n      &quot;scale&quot; : 8\n    } ],\n    &quot;default&quot; : null\n  }]\n}\n</code></pre>\n<p>Notice the salary1 and salary2, both are decimal but have different precision and scale property.</p>\n<p>Here is the java code for adding of the bytes/decimal field to the schema (its simplified):</p>\n<pre><code>    private FieldAssembler&lt;Schema&gt; addAttributeTypeDecimal(final TypeBuilder&lt;Schema&gt; sb, final FieldAssembler&lt;Schema&gt; fa,\n                    final boolean isAttributeNullable, final int precision, final int scale) {\n        final var schema = LogicalTypes.decimal(precision, scale)).addToSchema(sb.bytesType());\n        if (isAttributeNullable)\n            return fa.name(drioa.getName()).type().optional().type(schema);\n        else\n            return fa.name(drioa.getName()).type(schema).noDefault();\n    }\n</code></pre>\n<p>The above code is failing if I try to add <code>salary2</code> using the <code>addToSchema</code> function with exception:</p>\n<pre><code>org.apache.avro.AvroRuntimeException: Can't overwrite property: scale\n    at org.apache.avro.JsonProperties.addProp(JsonProperties.java:288)\n    at org.apache.avro.JsonProperties.addProp(JsonProperties.java:261)\n    at org.apache.avro.Schema.addProp(Schema.java:189)\n    at org.apache.avro.LogicalTypes$Decimal.addToSchema(LogicalTypes.java:285)\n</code></pre>\n<p>Can you please suggest what is wrong in my logic? From debugging I understood that it is trying to overwrite the bytes decimal data logic type in the list of primitive types, which is not allowed. But how can I prevent it from overwriting it and instead to store a another decimal type specification with different scale and precision?</p>\n<p>I saw that there was a similar <a href=\"https://stackoverflow.com/questions/54751567/avro-schemabuilder-cant-overwrite-property-scale-for-decimal-logical-type\">question</a> asked by Eoin O'Hehir but without any response.</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680771109,"creation_date":1680771109,"question_id":75947568,"body_markdown":"When adding a dependency:\r\nimplementation(&quot;com.android.billingclient:billing:4.0.0&quot;)\r\nThe following failure occurs:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.vogame.musicplayer, PID: 21236\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/android/vending/billing/IInAppBillingService$Stub;\r\n        at com.anjlab.android.iab.v3.BillingProcessor$1.onServiceConnected(BillingProcessor.java:137)\r\n        at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:2348)\r\n        at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:2381)\r\n        at android.os.Handler.handleCallback(Handler.java:942)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:226)\r\n        at android.os.Looper.loop(Looper.java:313)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8757)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.android.vending.billing.IInAppBillingService$Stub&quot; on path: DexPathList[[zip file &quot;/data/app/~~c2b7mDyi4uaK4SYn_JbF7g==/com.vogame.musicplayer-PERbYeXGUw9H6UsRI_gUOA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~c2b7mDyi4uaK4SYn_JbF7g==/com.vogame.musicplayer-PERbYeXGUw9H6UsRI_gUOA==/lib/arm64, /system/lib64, /system/system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:259)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at com.anjlab.android.iab.v3.BillingProcessor$1.onServiceConnected(BillingProcessor.java:137)&#160;\r\n        at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:2348)&#160;\r\n        at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:2381)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:942)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:226)&#160;\r\n        at android.os.Looper.loop(Looper.java:313)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:8757)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)&#160;\r\n\r\nPlease help to deal with this error!","title":"An error occurs Didn&#39;t find class &quot;com.android.vending.billing.IInAppBillingService$Stub&quot;","body":"<p>When adding a dependency:\nimplementation(&quot;com.android.billingclient:billing:4.0.0&quot;)\nThe following failure occurs:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.vogame.musicplayer, PID: 21236\njava.lang.NoClassDefFoundError: Failed resolution of: Lcom/android/vending/billing/IInAppBillingService$Stub;\n    at com.anjlab.android.iab.v3.BillingProcessor$1.onServiceConnected(BillingProcessor.java:137)\n    at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:2348)\n    at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:2381)\n    at android.os.Handler.handleCallback(Handler.java:942)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.app.ActivityThread.main(ActivityThread.java:8757)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\n Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.android.vending.billing.IInAppBillingService$Stub&quot; on path: DexPathList[[zip file &quot;/data/app/~~c2b7mDyi4uaK4SYn_JbF7g==/com.vogame.musicplayer-PERbYeXGUw9H6UsRI_gUOA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~c2b7mDyi4uaK4SYn_JbF7g==/com.vogame.musicplayer-PERbYeXGUw9H6UsRI_gUOA==/lib/arm64, /system/lib64, /system/system_ext/lib64]]\n    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:259)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n    at com.anjlab.android.iab.v3.BillingProcessor$1.onServiceConnected(BillingProcessor.java:137) \n    at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:2348) \n    at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:2381) \n    at android.os.Handler.handleCallback(Handler.java:942) \n    at android.os.Handler.dispatchMessage(Handler.java:99) \n    at android.os.Looper.loopOnce(Looper.java:226) \n    at android.os.Looper.loop(Looper.java:313) \n    at android.app.ActivityThread.main(ActivityThread.java:8757) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067) \n</code></pre>\n<p>Please help to deal with this error!</p>\n"},{"tags":["java","selenium-webdriver","gradle","ui-automation"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1490613961,"post_id":43044978,"comment_id":73174336,"body_markdown":"Assuming that you are trying to compile some sort of working open source, my guess is: your Java version is wrong. Either you should be using 1.8 but use 1.7 ; or vice versa.","body":"Assuming that you are trying to compile some sort of working open source, my guess is: your Java version is wrong. Either you should be using 1.8 but use 1.7 ; or vice versa."},{"owner":{"account_id":1792310,"reputation":1560,"user_id":1632425,"accept_rate":33,"display_name":"Inaccessible"},"score":0,"creation_date":1490617401,"post_id":43044978,"comment_id":73176735,"body_markdown":"No Luck. Before I used java 1.8. Now switched to 1.7 and ran into numerous issues.","body":"No Luck. Before I used java 1.8. Now switched to 1.7 and ran into numerous issues."},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1490618337,"post_id":43044978,"comment_id":73177428,"body_markdown":"what is your locator for  GOTO_ICON ?","body":"what is your locator for  GOTO_ICON ?"},{"owner":{"account_id":2669469,"reputation":665,"user_id":2307169,"display_name":"Mikhail"},"score":0,"creation_date":1490621525,"post_id":43044978,"comment_id":73179776,"body_markdown":"I&#39;m not sure that I follow, at some point this code was working and now it&#39;s not? Based on the code that you&#39;ve provided I guess that you&#39;re trying to invoke .until() directly from webdriver, however you should pass webdriver as an argument to fluentwait constructor.","body":"I&#39;m not sure that I follow, at some point this code was working and now it&#39;s not? Based on the code that you&#39;ve provided I guess that you&#39;re trying to invoke .until() directly from webdriver, however you should pass webdriver as an argument to fluentwait constructor."},{"owner":{"account_id":1792310,"reputation":1560,"user_id":1632425,"accept_rate":33,"display_name":"Inaccessible"},"score":0,"creation_date":1490677414,"post_id":43044978,"comment_id":73206125,"body_markdown":"@kushalツ GOTO_ICON = By.id(&quot;GoTo&quot;);","body":"@kushalツ GOTO_ICON = By.id(&quot;GoTo&quot;);"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1490677473,"post_id":43044978,"comment_id":73206147,"body_markdown":"Sorry I meant which &lt;&gt; tag it belongs to, is it an &lt;a&gt; or &lt;img&gt; tag?","body":"Sorry I meant which &lt;&gt; tag it belongs to, is it an &lt;a&gt; or &lt;img&gt; tag?"},{"owner":{"account_id":1792310,"reputation":1560,"user_id":1632425,"accept_rate":33,"display_name":"Inaccessible"},"score":0,"creation_date":1490677488,"post_id":43044978,"comment_id":73206154,"body_markdown":"@Mikhail Yes the code was working before and it&#39;s not working.","body":"@Mikhail Yes the code was working before and it&#39;s not working."},{"owner":{"account_id":1792310,"reputation":1560,"user_id":1632425,"accept_rate":33,"display_name":"Inaccessible"},"score":0,"creation_date":1490678435,"post_id":43044978,"comment_id":73206492,"body_markdown":"@kushalツ It&#39;s &lt;button&gt; tag under &lt;div&gt;","body":"@kushalツ It&#39;s &lt;button&gt; tag under &lt;div&gt;"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1490679261,"post_id":43044978,"comment_id":73206821,"body_markdown":"@Inaccessible you are trying to return outcome of the wait from a method, what is the return type of method in which you&#39;re trying to return?","body":"@Inaccessible you are trying to return outcome of the wait from a method, what is the return type of method in which you&#39;re trying to return?"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1490681244,"post_id":43044978,"comment_id":73207651,"body_markdown":"as per this documentation: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html#until-java.util.function.Function-  Your method has return type set to WebElement but if element is not found within the time then it doesn&#39;t return web element, hence the error.","body":"as per this documentation: <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html#until-java.util.function.Function-\" rel=\"nofollow noreferrer\">seleniumhq.github.io/selenium/docs/api/java/org/openqa/selen&zwnj;&#8203;ium/&hellip;</a>  Your method has return type set to WebElement but if element is not found within the time then it doesn&#39;t return web element, hence the error."},{"owner":{"account_id":1792310,"reputation":1560,"user_id":1632425,"accept_rate":33,"display_name":"Inaccessible"},"score":0,"creation_date":1490681834,"post_id":43044978,"comment_id":73207902,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/139207/discussion-between-inaccessible-and-kushal).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/139207/discussion-between-inaccessible-and-kushal\">continue this discussion in chat</a>."},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1490681899,"post_id":43044978,"comment_id":73207937,"body_markdown":"Chat is Not accessible to me at this time.","body":"Chat is Not accessible to me at this time."},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1490681940,"post_id":43044978,"comment_id":73207958,"body_markdown":"If you don&#39;t try to return this particular statement; then you won&#39;t see the error, probably.","body":"If you don&#39;t try to return this particular statement; then you won&#39;t see the error, probably."},{"owner":{"account_id":1792310,"reputation":1560,"user_id":1632425,"accept_rate":33,"display_name":"Inaccessible"},"score":0,"creation_date":1490682241,"post_id":43044978,"comment_id":73208114,"body_markdown":"The error mentioned in documentation should be raised during runtime. But I am getting compilation error. Also the error that I get doesn&#39;t relate to timeout.","body":"The error mentioned in documentation should be raised during runtime. But I am getting compilation error. Also the error that I get doesn&#39;t relate to timeout."},{"owner":{"account_id":1792310,"reputation":1560,"user_id":1632425,"accept_rate":33,"display_name":"Inaccessible"},"score":0,"creation_date":1490682320,"post_id":43044978,"comment_id":73208158,"body_markdown":"The error says &quot;method until in class FluentWait&lt;T&gt; cannot be applied to given types&quot; and it doesn&#39;t relate to timeout.","body":"The error says &quot;method until in class FluentWait&lt;T&gt; cannot be applied to given types&quot; and it doesn&#39;t relate to timeout."},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1490684893,"post_id":43044978,"comment_id":73209595,"body_markdown":"in documentation you can see that if timeout happens then .until returns false or null","body":"in documentation you can see that if timeout happens then .until returns false or null"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1490684922,"post_id":43044978,"comment_id":73209611,"body_markdown":"@Inaccessible did you try removing it from return statement?","body":"@Inaccessible did you try removing it from return statement?"}],"answers":[{"comments":[{"owner":{"account_id":2758406,"reputation":882,"user_id":2375834,"accept_rate":100,"display_name":"useSticks"},"score":0,"creation_date":1594325697,"post_id":59784370,"comment_id":111095260,"body_markdown":"This was incredibly helpful. I wish I could upvote more than once.","body":"This was incredibly helpful. I wish I could upvote more than once."}],"tags":[],"owner":{"account_id":1971745,"reputation":159,"user_id":1908576,"display_name":"Kostadin Mehomiyski"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1579252847,"creation_date":1579252847,"answer_id":59784370,"question_id":43044978,"body_markdown":"Not sure what would be the reason for the error in **Selenium 2.46.0**, however I&#39;ve exactly the same error when switching from version **3.x** to version **4.x**.\r\n\r\nIt might not help the OP solve the problem, however I&#39;m posting a solution for people coming here when searching for the same exception.\r\n\r\nIn the recent version of Selenium framework the `getWebDriverWait().until()` interface had changed a bit:\r\n\r\n - Old versions\r\n\r\n[![enter image description here][1]][1]\r\n\r\n - New version\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNow it accepts functional interface, with one argument (`WebDriver`) and return value depending on the `WebDriverWait` implementation, which in most cases is `ExpectedConditions`.\r\n\r\n\r\nTry changing your code to:\r\n\r\n    public WebElement getGoToHeader() {\r\n        waitForPageToBeLoaded();\r\n        return getWebDriverWait().until(\r\n            webDriver -&gt; ExpectedConditions.elementToBeClickable(GOTO_ICON).apply(webDriver)\r\n        );\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iq2kL.png\r\n  [2]: https://i.stack.imgur.com/LWYup.png","title":"Method until in class FluentWait&lt;T&gt; cannot be applied to given types","body":"<p>Not sure what would be the reason for the error in <strong>Selenium 2.46.0</strong>, however I've exactly the same error when switching from version <strong>3.x</strong> to version <strong>4.x</strong>.</p>\n\n<p>It might not help the OP solve the problem, however I'm posting a solution for people coming here when searching for the same exception.</p>\n\n<p>In the recent version of Selenium framework the <code>getWebDriverWait().until()</code> interface had changed a bit:</p>\n\n<ul>\n<li>Old versions</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/Iq2kL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Iq2kL.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>New version</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/LWYup.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LWYup.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now it accepts functional interface, with one argument (<code>WebDriver</code>) and return value depending on the <code>WebDriverWait</code> implementation, which in most cases is <code>ExpectedConditions</code>.</p>\n\n<p>Try changing your code to:</p>\n\n<pre><code>public WebElement getGoToHeader() {\n    waitForPageToBeLoaded();\n    return getWebDriverWait().until(\n        webDriver -&gt; ExpectedConditions.elementToBeClickable(GOTO_ICON).apply(webDriver)\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":1792310,"reputation":1560,"user_id":1632425,"accept_rate":33,"display_name":"Inaccessible"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6356,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1680770778,"creation_date":1490613581,"question_id":43044978,"body_markdown":"I am getting the following error while compiling selenium automation application using java and gradle version 3.4.\r\n\r\n\r\nError:\r\n\r\n      method until in class FluentWait&lt;T&gt; cannot be applied to given types;\r\n            return getWebDriverWait().until(ExpectedConditions.elementToBeClickable(GOTO_ICON));\r\n                                     ^\r\n      required: Function&lt;? super WebDriver,V&gt;\r\n      found: ExpectedCondition&lt;WebElement&gt;\r\n      reason: cannot infer type-variable(s) V\r\n        (argument mismatch; ExpectedCondition&lt;WebElement&gt; cannot be converted to Function&lt;? super WebDriver,V&gt;)\r\n      where V,T are type-variables:\r\n        V extends Object declared in method &lt;V&gt;until(Function&lt;? super T,V&gt;)\r\n        T extends Object declared in class FluentWait\r\n\r\n\r\nBuild.gradle\r\n\r\n       compile &#39;io.appium:java-client:3.1.0&#39;\r\n       compile &#39;com.applitools:eyes-selenium-java-jersey1x:2.29&#39;\r\n    \r\n       compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;2.46.0&#39;\r\n       compile &#39;org.seleniumhq.selenium:selenium-firefox-driver:2.52.0&#39;\r\n       compile &#39;org.seleniumhq.selenium:selenium-ie-driver:2.52.0&#39;\r\n\r\nSource code:\r\n\r\n    By GOTO_ICON = By.id(&quot;GoTo&quot;);\r\n    String windowContentLoaded = &quot;//*[@id=\\&quot;windowContentLoaded\\&quot;]&quot;;\r\n\r\n    public WebElement getGoToHeader() {\r\n        waitForPageToBeLoaded();\r\n        return getWebDriverWait().until(ExpectedConditions.elementToBeClickable(GOTO_ICON));\r\n    }\r\n    \r\n    public void waitForPageToBeLoaded() {\r\n        sleepSeconds(3);\r\n        getWebDriverEx().waitForInvisibleElement(By.xpath(windowContentLoaded));\r\n        return;\r\n    }\r\n","title":"Method until in class FluentWait&lt;T&gt; cannot be applied to given types","body":"<p>I am getting the following error while compiling selenium automation application using java and gradle version 3.4.</p>\n\n<p>Error:</p>\n\n<pre><code>  method until in class FluentWait&lt;T&gt; cannot be applied to given types;\n        return getWebDriverWait().until(ExpectedConditions.elementToBeClickable(GOTO_ICON));\n                                 ^\n  required: Function&lt;? super WebDriver,V&gt;\n  found: ExpectedCondition&lt;WebElement&gt;\n  reason: cannot infer type-variable(s) V\n    (argument mismatch; ExpectedCondition&lt;WebElement&gt; cannot be converted to Function&lt;? super WebDriver,V&gt;)\n  where V,T are type-variables:\n    V extends Object declared in method &lt;V&gt;until(Function&lt;? super T,V&gt;)\n    T extends Object declared in class FluentWait\n</code></pre>\n\n<p>Build.gradle</p>\n\n<pre><code>   compile 'io.appium:java-client:3.1.0'\n   compile 'com.applitools:eyes-selenium-java-jersey1x:2.29'\n\n   compile group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '2.46.0'\n   compile 'org.seleniumhq.selenium:selenium-firefox-driver:2.52.0'\n   compile 'org.seleniumhq.selenium:selenium-ie-driver:2.52.0'\n</code></pre>\n\n<p>Source code:</p>\n\n<pre><code>By GOTO_ICON = By.id(\"GoTo\");\nString windowContentLoaded = \"//*[@id=\\\"windowContentLoaded\\\"]\";\n\npublic WebElement getGoToHeader() {\n    waitForPageToBeLoaded();\n    return getWebDriverWait().until(ExpectedConditions.elementToBeClickable(GOTO_ICON));\n}\n\npublic void waitForPageToBeLoaded() {\n    sleepSeconds(3);\n    getWebDriverEx().waitForInvisibleElement(By.xpath(windowContentLoaded));\n    return;\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680770777,"creation_date":1680724120,"answer_id":75943461,"question_id":75939149,"body_markdown":"The problem in your code is that you just create a new instance of the entity instead of reading it from the database. That&#39;s why JPA can&#39;t properly delete it. Try similar to this:\r\n\r\n    Answer answer = service.findById(1L);\r\n    service.delete(answer);\r\n\r\n**After you last edit:** it looks like you have more entities then you are showing code for. The error comes from yet another entity SrmQsQuestionVOImpl. I would suggest to carefully analyze your data structure and the current data in the database. For example for every FK in one table of a relation a corresponding entry with this PK in another table must exist. Otherwise remove the FK directly in the database.","title":"Cannot delete parent table row due to foreign-key constraint in children table","body":"<p>The problem in your code is that you just create a new instance of the entity instead of reading it from the database. That's why JPA can't properly delete it. Try similar to this:</p>\n<pre><code>Answer answer = service.findById(1L);\nservice.delete(answer);\n</code></pre>\n<p><strong>After you last edit:</strong> it looks like you have more entities then you are showing code for. The error comes from yet another entity SrmQsQuestionVOImpl. I would suggest to carefully analyze your data structure and the current data in the database. For example for every FK in one table of a relation a corresponding entry with this PK in another table must exist. Otherwise remove the FK directly in the database.</p>\n"}],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680770777,"creation_date":1680695840,"question_id":75939149,"body_markdown":"Am Using Hibernate 5.6 and have a problem with cascading:\r\n\r\nI have two tables:\r\n\r\n    CREATE TABLE public.srm_t_questionnaire_answer (\r\n    \trowguid bigserial NOT NULL,\r\n    \tqa_fk_rfq_id int4 NULL,\r\n    \tqa_fk_quote_id int4 NULL,\r\n    \tqa_fk_supplier_id int4 NULL,\r\n    \tqa_fk_questionnaire_id int4 NULL,\r\n    \tqa_fk_question_id int4 NULL,\r\n    \tqa_creation_date timestamp NOT NULL,\r\n    \tqa_creation_user varchar(100) NOT NULL,\r\n    \tqa_modification_date timestamp NOT NULL,\r\n    \tqa_modification_user varchar(100) NOT NULL,\r\n    \tCONSTRAINT srm_t_questionnaire_answer_pk PRIMARY KEY (rowguid)\r\n    );\r\n\r\n    CREATE TABLE public.srm_t_questionnaire_answer_value (\r\n    \tfk_answer_id int4 NOT NULL,\r\n    \tfk_option_id int4 NOT NULL,\r\n    \ta_text_value text NULL,\r\n    \ta_numeric_value numeric NULL,\r\n    \ta_date_value timestamptz NULL,\r\n    \ta_doc_valid_from timestamptz NULL,\r\n    \ta_doc_valid_to timestamptz NULL,\r\n    \ta_fk_doc_id int4 NULL,\r\n    \tCONSTRAINT srm_t_questionnaire_answer_value_pk PRIMARY KEY (fk_answer_id, fk_option_id)\r\n    );\r\n    \r\n    ALTER TABLE public.srm_t_questionnaire_answer_value ADD CONSTRAINT srm_t_questionnaire_answer_value_fk FOREIGN KEY (fk_answer_id) REFERENCES public.srm_t_questionnaire_answer(rowguid);\r\n    ALTER TABLE public.srm_t_questionnaire_answer_value ADD CONSTRAINT srm_t_questionnaire_answer_value_fk_1 FOREIGN KEY (fk_option_id) REFERENCES public.srm_t_question_option(rowguid);\r\n\r\nMapping looks like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;srm_t_questionnaire_answer&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class SrmQsQuestionnaireAnswerVOImpl extends AbstractBasePropertiesImpl implements SrmQsQuestionnaireAnswerVO {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;srm_t_questionnaire_answer_rowguid_seq&quot;)\r\n        @SequenceGenerator(name = &quot;srm_t_questionnaire_answer_rowguid_seq&quot;, sequenceName = &quot;srm_t_questionnaire_answer_rowguid_seq&quot;, allocationSize = 1)\r\n        @Column(name=&quot;rowguid&quot;)\r\n        private Long rowguid;\r\n    \r\n        @OneToMany(mappedBy = &quot;answer&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Set&lt;SrmQsQuestionnaireAnswerValueVOImpl&gt; answerValue;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;srm_t_questionnaire_answer_value&quot;)\r\n    @IdClass(SrmQsQuestionnaireAnswerValueVOImplId.class)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class SrmQsQuestionnaireAnswerValueVOImpl extends AbstractBasePropertiesImpl implements SrmQsQuestionnaireAnswerValueVO {\r\n    \r\n        @Id\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name=&quot;fk_answer_id&quot;)\r\n        private SrmQsQuestionnaireAnswerVOImpl answer;\r\n    \r\n        @Id\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name=&quot;fk_option_id&quot;)\r\n        private SrmQsQuestionOptionVOImpl option;\r\n    }\r\n\r\nWhen I try to delete an row from answer table which is referenced as foreign key in answer_value table, I get the error: \r\n\r\n    var answer = new SrmQsQuestionnaireAnswerVOImpl();\r\n    answer.setRowguid(1L);\r\n    answerService.getObjectDAO().delete(answer);\r\n\r\n&gt; ERROR: update or delete on table &quot;srm_t_questionnaire_answer&quot; violates\r\n&gt; foreign key constraint &quot;srm_t_questionnaire_answer_value_fk&quot; on table\r\n&gt; &quot;srm_t_questionnaire_answer_value&quot;\r\n\r\nOf course, before deleting the answer, Hibernate should check if there are answer_values with that particular ID and delete them first. But obviously that does not happen. Any idea what&#39;s wrong here?\r\n\r\n**Edit:** When I try to load the entity before deleting via findById, I get this error which I&#39;m not entirely sure where that comes from:\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: Can not set\r\n&gt; com.cl.myapp.srm.qs.business.impl.SrmQsQuestionVOImpl field\r\n&gt; com.cl.myapp.srm.qs.business.impl.SrmQsQuestionnaireAnswerVOImpl.question\r\n&gt; to\r\n&gt; com.cl.myapp.srm.qs.business.impl.SrmQsQuestionVOImpl$HibernateProxy$lkSYs8mN\r\n\r\n","title":"Cannot delete parent table row due to foreign-key constraint in children table","body":"<p>Am Using Hibernate 5.6 and have a problem with cascading:</p>\n<p>I have two tables:</p>\n<pre><code>CREATE TABLE public.srm_t_questionnaire_answer (\n    rowguid bigserial NOT NULL,\n    qa_fk_rfq_id int4 NULL,\n    qa_fk_quote_id int4 NULL,\n    qa_fk_supplier_id int4 NULL,\n    qa_fk_questionnaire_id int4 NULL,\n    qa_fk_question_id int4 NULL,\n    qa_creation_date timestamp NOT NULL,\n    qa_creation_user varchar(100) NOT NULL,\n    qa_modification_date timestamp NOT NULL,\n    qa_modification_user varchar(100) NOT NULL,\n    CONSTRAINT srm_t_questionnaire_answer_pk PRIMARY KEY (rowguid)\n);\n\nCREATE TABLE public.srm_t_questionnaire_answer_value (\n    fk_answer_id int4 NOT NULL,\n    fk_option_id int4 NOT NULL,\n    a_text_value text NULL,\n    a_numeric_value numeric NULL,\n    a_date_value timestamptz NULL,\n    a_doc_valid_from timestamptz NULL,\n    a_doc_valid_to timestamptz NULL,\n    a_fk_doc_id int4 NULL,\n    CONSTRAINT srm_t_questionnaire_answer_value_pk PRIMARY KEY (fk_answer_id, fk_option_id)\n);\n\nALTER TABLE public.srm_t_questionnaire_answer_value ADD CONSTRAINT srm_t_questionnaire_answer_value_fk FOREIGN KEY (fk_answer_id) REFERENCES public.srm_t_questionnaire_answer(rowguid);\nALTER TABLE public.srm_t_questionnaire_answer_value ADD CONSTRAINT srm_t_questionnaire_answer_value_fk_1 FOREIGN KEY (fk_option_id) REFERENCES public.srm_t_question_option(rowguid);\n</code></pre>\n<p>Mapping looks like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;srm_t_questionnaire_answer&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SrmQsQuestionnaireAnswerVOImpl extends AbstractBasePropertiesImpl implements SrmQsQuestionnaireAnswerVO {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;srm_t_questionnaire_answer_rowguid_seq&quot;)\n    @SequenceGenerator(name = &quot;srm_t_questionnaire_answer_rowguid_seq&quot;, sequenceName = &quot;srm_t_questionnaire_answer_rowguid_seq&quot;, allocationSize = 1)\n    @Column(name=&quot;rowguid&quot;)\n    private Long rowguid;\n\n    @OneToMany(mappedBy = &quot;answer&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;SrmQsQuestionnaireAnswerValueVOImpl&gt; answerValue;\n}\n\n@Entity\n@Table(name = &quot;srm_t_questionnaire_answer_value&quot;)\n@IdClass(SrmQsQuestionnaireAnswerValueVOImplId.class)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SrmQsQuestionnaireAnswerValueVOImpl extends AbstractBasePropertiesImpl implements SrmQsQuestionnaireAnswerValueVO {\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;fk_answer_id&quot;)\n    private SrmQsQuestionnaireAnswerVOImpl answer;\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;fk_option_id&quot;)\n    private SrmQsQuestionOptionVOImpl option;\n}\n</code></pre>\n<p>When I try to delete an row from answer table which is referenced as foreign key in answer_value table, I get the error:</p>\n<pre><code>var answer = new SrmQsQuestionnaireAnswerVOImpl();\nanswer.setRowguid(1L);\nanswerService.getObjectDAO().delete(answer);\n</code></pre>\n<blockquote>\n<p>ERROR: update or delete on table &quot;srm_t_questionnaire_answer&quot; violates\nforeign key constraint &quot;srm_t_questionnaire_answer_value_fk&quot; on table\n&quot;srm_t_questionnaire_answer_value&quot;</p>\n</blockquote>\n<p>Of course, before deleting the answer, Hibernate should check if there are answer_values with that particular ID and delete them first. But obviously that does not happen. Any idea what's wrong here?</p>\n<p><strong>Edit:</strong> When I try to load the entity before deleting via findById, I get this error which I'm not entirely sure where that comes from:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: Can not set\ncom.cl.myapp.srm.qs.business.impl.SrmQsQuestionVOImpl field\ncom.cl.myapp.srm.qs.business.impl.SrmQsQuestionnaireAnswerVOImpl.question\nto\ncom.cl.myapp.srm.qs.business.impl.SrmQsQuestionVOImpl$HibernateProxy$lkSYs8mN</p>\n</blockquote>\n"},{"tags":["java","spring-boot","liquibase"],"answers":[{"tags":[],"owner":{"account_id":9951088,"reputation":413,"user_id":7363699,"display_name":"Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680770457,"creation_date":1680770457,"answer_id":75947464,"question_id":75946297,"body_markdown":"Found the problem after debugging Liquibase code. \r\n\r\nI have configured **application.property** for change log file as **spring.liquibase.change-log=classpath:db/changelog/changelog-master.xml**.\r\n\r\nLiquibase form the resource path as below.\r\n\r\nBasepath derived from &#39;spring.liquibase.change-log&#39;(for spring boot). As per my configuration, &#39;**db/changelog**&#39; is basepath and then concatenate it with configured value for valueBlobFile. So process looking for resource as &#39;**db/changelog/../../../db/changelog/dc_form_definition_202304051700.csv-1.data.txt**&#39; which does not exist. \r\n\r\nI have corrected the data file path and working fine.\r\n\r\nThis I am using to load file data to bytea column.","title":"How to configure filepath to valueBlobFile for liquibase insert","body":"<p>Found the problem after debugging Liquibase code.</p>\n<p>I have configured <strong>application.property</strong> for change log file as <strong>spring.liquibase.change-log=classpath:db/changelog/changelog-master.xml</strong>.</p>\n<p>Liquibase form the resource path as below.</p>\n<p>Basepath derived from 'spring.liquibase.change-log'(for spring boot). As per my configuration, '<strong>db/changelog</strong>' is basepath and then concatenate it with configured value for valueBlobFile. So process looking for resource as '<strong>db/changelog/../../../db/changelog/dc_form_definition_202304051700.csv-1.data.txt</strong>' which does not exist.</p>\n<p>I have corrected the data file path and working fine.</p>\n<p>This I am using to load file data to bytea column.</p>\n"}],"owner":{"account_id":9951088,"reputation":413,"user_id":7363699,"display_name":"Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680770457,"creation_date":1680760668,"question_id":75946297,"body_markdown":"Below is change set. And data file present at /src/main/resources/db/changelog\r\n\r\n\t&lt;changeSet author=&quot;Krishna&quot; id=&quot;insert-3&quot;&gt;\r\n\t\t&lt;insert tableName=&quot;blob_test&quot;&gt;\r\n\t\t\t&lt;column name=&quot;name&quot; value=&quot;Name3&quot; /&gt;\r\n\t\t\t&lt;column name=&quot;formData&quot; type=&quot;longblob&quot; valueBlobFile=&quot;../../../db/changelog/dc_form_definition_202304051700.csv-1.data.txt&quot;/&gt;\r\n\t\t&lt;/insert&gt;\r\n\t&lt;/changeSet&gt;\r\n\r\nGetting exception as below thought the file is present inside resource directory.\r\n\r\nCaused by: liquibase.exception.DatabaseException: BLOB resource not found: ../../../db/changelog/dc_form_definition_202304051700.csv-1.data.txt","title":"How to configure filepath to valueBlobFile for liquibase insert","body":"<p>Below is change set. And data file present at /src/main/resources/db/changelog</p>\n<pre><code>&lt;changeSet author=&quot;Krishna&quot; id=&quot;insert-3&quot;&gt;\n    &lt;insert tableName=&quot;blob_test&quot;&gt;\n        &lt;column name=&quot;name&quot; value=&quot;Name3&quot; /&gt;\n        &lt;column name=&quot;formData&quot; type=&quot;longblob&quot; valueBlobFile=&quot;../../../db/changelog/dc_form_definition_202304051700.csv-1.data.txt&quot;/&gt;\n    &lt;/insert&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>Getting exception as below thought the file is present inside resource directory.</p>\n<p>Caused by: liquibase.exception.DatabaseException: BLOB resource not found: ../../../db/changelog/dc_form_definition_202304051700.csv-1.data.txt</p>\n"},{"tags":["java","android","android-fragmentactivity"],"answers":[{"tags":[],"owner":{"account_id":19088824,"reputation":50,"user_id":13939499,"display_name":"Parneet Raghuvanshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680770271,"creation_date":1680770271,"answer_id":75947432,"question_id":75923576,"body_markdown":"You may try this one...\r\n\r\n    Intent intent = new Intent(getActivity(), LoginActivity.class);\r\n    startActivity(intent);\r\n    getActivity().finish();\r\n\r\n**getActivity()** returns the parent activity of the current fragment.","title":"How to exit a fragment to an activity?","body":"<p>You may try this one...</p>\n<pre><code>Intent intent = new Intent(getActivity(), LoginActivity.class);\nstartActivity(intent);\ngetActivity().finish();\n</code></pre>\n<p><strong>getActivity()</strong> returns the parent activity of the current fragment.</p>\n"}],"owner":{"account_id":27935962,"reputation":11,"user_id":21332978,"display_name":"MandinhaTV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680770271,"creation_date":1680554140,"question_id":75923576,"body_markdown":"My app starts with 2 activity, login and registration, after login I use:\r\n\r\n```\r\nprivate void abrirHome() {\r\n    Intent i = new Intent(LoginActivity.this, MainActivity.class);\r\n    startActivity(i);\r\n}\r\n```\r\n\r\nAfter that, inside the MainAcitivity, it pulls the screens that it has to pull, in this case, the first screen that comes is HomeFragment.java, which has the xml fragment_home , and inside it has a logout button, which should return to the login screen, which is an activity.\r\n\r\nfragment_home.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.fragments.HomeFragment&quot;&gt;\r\n\r\n    &lt;!-- TODO: Update blank fragment layout --&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/background&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;&gt;\r\n\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/img_login&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            android:src=&quot;@drawable/baseline_home_24&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txt_login&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Usuario Logado&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:textSize=&quot;25sp&quot;\r\n            android:fontFamily=&quot;casual&quot;\r\n            /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/botao_deslogar&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:background=&quot;@drawable/botao_cadastre_se&quot;\r\n            android:onClick=&quot;deslogaraaaa&quot;\r\n            android:text=&quot;Deslogar&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;12sp&quot; /&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nHomeFragment.java\r\n\r\n```\r\npackage com.example.appteste3.fragments;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.example.appteste3.MainActivity;\r\nimport com.example.appteste3.R;\r\nimport com.example.appteste3.activity.HomeActivity;\r\nimport com.example.appteste3.activity.LoginActivity;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link HomeFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class HomeFragment extends Fragment {\r\n\r\n    private FirebaseAuth authetication;\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment HomeFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static HomeFragment newInstance(String param1, String param2) {\r\n        HomeFragment fragment = new HomeFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_home, container, false);\r\n    }\r\n\r\n    public void deslogar(View view){\r\n        try {\r\n            authetication.signOut();\r\n            abrirLogin();\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n    private void abrirLogin() {\r\n        Intent i = new Intent(HomeFragment.this, LoginActivity.class);\r\n        startActivity(i);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn my last test I tried to put it inside the MainActivity, but the screen flickers and goes back to the same place.\r\n\r\n```\r\npublic void deslogar(View view){\r\n    try {\r\n        authetication.signOut();\r\n        abrirLogin();\r\n    }catch (Exception e){\r\n        e.printStackTrace();\r\n    }\r\n\r\n}\r\nprivate void abrirLogin() {\r\n    Intent i = new Intent(MainActivity.this, LoginActivity.class);\r\n    startActivity(i);\r\n}\r\n```\r\n\r\nHow do I now get out of the fragment to the activity?\r\n\r\n```\r\nprivate void abrirHome() {\r\n    Intent i = new Intent(LoginActivity.this, MainActivity.class);\r\n    startActivity(i);\r\n}\r\n```","title":"How to exit a fragment to an activity?","body":"<p>My app starts with 2 activity, login and registration, after login I use:</p>\n<pre><code>private void abrirHome() {\n    Intent i = new Intent(LoginActivity.this, MainActivity.class);\n    startActivity(i);\n}\n</code></pre>\n<p>After that, inside the MainAcitivity, it pulls the screens that it has to pull, in this case, the first screen that comes is HomeFragment.java, which has the xml fragment_home , and inside it has a logout button, which should return to the login screen, which is an activity.</p>\n<p>fragment_home.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.fragments.HomeFragment&quot;&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@drawable/background&quot;\n        android:orientation=&quot;vertical&quot;\n        android:gravity=&quot;center&quot;\n        android:id=&quot;@+id/drawer_layout&quot;&gt;\n\n\n        &lt;ImageView\n            android:id=&quot;@+id/img_login&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            android:src=&quot;@drawable/baseline_home_24&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt_login&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Usuario Logado&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_marginTop=&quot;15dp&quot;\n            android:textSize=&quot;25sp&quot;\n            android:fontFamily=&quot;casual&quot;\n            /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/botao_deslogar&quot;\n            android:layout_width=&quot;300dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginTop=&quot;15dp&quot;\n            android:background=&quot;@drawable/botao_cadastre_se&quot;\n            android:onClick=&quot;deslogaraaaa&quot;\n            android:text=&quot;Deslogar&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;12sp&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>HomeFragment.java</p>\n<pre><code>package com.example.appteste3.fragments;\n\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.example.appteste3.MainActivity;\nimport com.example.appteste3.R;\nimport com.example.appteste3.activity.HomeActivity;\nimport com.example.appteste3.activity.LoginActivity;\nimport com.google.firebase.auth.FirebaseAuth;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link HomeFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class HomeFragment extends Fragment {\n\n    private FirebaseAuth authetication;\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public HomeFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment HomeFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static HomeFragment newInstance(String param1, String param2) {\n        HomeFragment fragment = new HomeFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_home, container, false);\n    }\n\n    public void deslogar(View view){\n        try {\n            authetication.signOut();\n            abrirLogin();\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n\n    }\n    private void abrirLogin() {\n        Intent i = new Intent(HomeFragment.this, LoginActivity.class);\n        startActivity(i);\n    }\n\n}\n</code></pre>\n<p>In my last test I tried to put it inside the MainActivity, but the screen flickers and goes back to the same place.</p>\n<pre><code>public void deslogar(View view){\n    try {\n        authetication.signOut();\n        abrirLogin();\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n\n}\nprivate void abrirLogin() {\n    Intent i = new Intent(MainActivity.this, LoginActivity.class);\n    startActivity(i);\n}\n</code></pre>\n<p>How do I now get out of the fragment to the activity?</p>\n<pre><code>private void abrirHome() {\n    Intent i = new Intent(LoginActivity.this, MainActivity.class);\n    startActivity(i);\n}\n</code></pre>\n"},{"tags":["java","security","token","keycloak"],"owner":{"account_id":26036245,"reputation":31,"user_id":19741650,"display_name":"LordArnur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680770199,"creation_date":1680770199,"question_id":75947425,"body_markdown":"I&#39;m trying to set up a token from keyloak and using custom totp. I&#39;ve been looking at options like: https://medium.com/@mesutpiskin/two-factor-authentication-via-email-in-keycloak-custom-auth-spi-935bbb3952a8 and https://github.com/dasniko/keycloak-2fa-sms-authenticator. Unfortunately these solutions are not quite what I was looking for. They all offer totp for authentication in the keycloak itself without getting a token. I need to implement TOTP so I can put it in the &quot;totp&quot; field on the url with the token (http://localhost:8082/auth/realms/gilgamesh/protocol/openid-connect/token). I&#39;ve been surfing the internet for 2 days but haven&#39;t found anything. Could you please tell me how to do it?\r\n","title":"How to configure Keycloak to make custom totp field in token url?","body":"<p>I'm trying to set up a token from keyloak and using custom totp. I've been looking at options like: <a href=\"https://medium.com/@mesutpiskin/two-factor-authentication-via-email-in-keycloak-custom-auth-spi-935bbb3952a8\" rel=\"nofollow noreferrer\">https://medium.com/@mesutpiskin/two-factor-authentication-via-email-in-keycloak-custom-auth-spi-935bbb3952a8</a> and <a href=\"https://github.com/dasniko/keycloak-2fa-sms-authenticator\" rel=\"nofollow noreferrer\">https://github.com/dasniko/keycloak-2fa-sms-authenticator</a>. Unfortunately these solutions are not quite what I was looking for. They all offer totp for authentication in the keycloak itself without getting a token. I need to implement TOTP so I can put it in the &quot;totp&quot; field on the url with the token (http://localhost:8082/auth/realms/gilgamesh/protocol/openid-connect/token). I've been surfing the internet for 2 days but haven't found anything. Could you please tell me how to do it?</p>\n"},{"tags":["java","javafx","module"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680798203,"post_id":75947424,"comment_id":133962156,"body_markdown":"I think you need to [understand modules](https://www.oracle.com/corporate/features/understanding-java-9-modules.html).  You are referencing a module that is not defined in your runtime environment.  There are possible causes: you could be requiring the wrong module name in a module info file or in a VM option, you might not have all your modules on your module path, you might have misnamed the module, you might not have defined a module info for the backend, etc.  There is not enough information in your question to be able to accurately determine what you are doing to cause this error.","body":"I think you need to <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">understand modules</a>.  You are referencing a module that is not defined in your runtime environment.  There are possible causes: you could be requiring the wrong module name in a module info file or in a VM option, you might not have all your modules on your module path, you might have misnamed the module, you might not have defined a module info for the backend, etc.  There is not enough information in your question to be able to accurately determine what you are doing to cause this error."}],"owner":{"account_id":28229942,"reputation":1,"user_id":21579311,"display_name":"DYLAN PORRAS MARIN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680770192,"creation_date":1680770192,"question_id":75947424,"body_markdown":"I am making some javaFX code for a calculator and I made my own java jar library called CalculatorFX. Backend to have the operation methods &quot;divide&quot;, &quot;multiply&quot; and others, when I want to import it to the frontEnd project called CalculatorFX_frontend, it gives me this error, as data the library that I made is in the &quot;out&quot; of the CalculatorFX_Backend project and it is supposed to I have already added it to external libraries but it still doesn&#39;t compile, if you could tell me the solution it would be a success.\r\n\r\n    package porras.dylan.controllers;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextField;\r\n    import porras.dylan.bl.Operaciones; //import my libray\r\n    \r\n    public class SumaController {\r\n    \r\n        @FXML\r\n        private TextField txtOp1;\r\n        @FXML\r\n        private TextField txtOp2;\r\n        @FXML\r\n        private Button btnsumar;\r\n        @FXML\r\n        private TextField result;\r\n    \r\n    \r\n    \r\n        public void sumar(ActionEvent event) {\r\n    \r\n            try {\r\n                int op1 = Integer.parseInt(this.txtOp1.getText());\r\n                int op2 = Integer.parseInt(this.txtOp1.getText());\r\n    \r\n    \r\n    \r\n                Operaciones o = new Operaciones(op1,op2);\r\n    \r\n                int resultado = o.suma();\r\n    \r\n                this.result.setText(result+&quot;&quot;);\r\n    \r\n            }catch (NumberFormatException e) {\r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nthis is the result:\r\n\r\nC:\\\\Users\\\\Dylan\\\\Documents\\\\PracticasPOO\\\\CalculadoraFX_Frontend\\\\src\\\\main\\\\java\\\\module-info.java:4:27\r\njava: module not found: CalculadoraFX.Backend","title":"java: module not found: CalculadoraFX.Backend Intellij IDE","body":"<p>I am making some javaFX code for a calculator and I made my own java jar library called CalculatorFX. Backend to have the operation methods &quot;divide&quot;, &quot;multiply&quot; and others, when I want to import it to the frontEnd project called CalculatorFX_frontend, it gives me this error, as data the library that I made is in the &quot;out&quot; of the CalculatorFX_Backend project and it is supposed to I have already added it to external libraries but it still doesn't compile, if you could tell me the solution it would be a success.</p>\n<pre><code>package porras.dylan.controllers;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport porras.dylan.bl.Operaciones; //import my libray\n\npublic class SumaController {\n\n    @FXML\n    private TextField txtOp1;\n    @FXML\n    private TextField txtOp2;\n    @FXML\n    private Button btnsumar;\n    @FXML\n    private TextField result;\n\n\n\n    public void sumar(ActionEvent event) {\n\n        try {\n            int op1 = Integer.parseInt(this.txtOp1.getText());\n            int op2 = Integer.parseInt(this.txtOp1.getText());\n\n\n\n            Operaciones o = new Operaciones(op1,op2);\n\n            int resultado = o.suma();\n\n            this.result.setText(result+&quot;&quot;);\n\n        }catch (NumberFormatException e) {\n\n        }\n\n\n    }\n}\n</code></pre>\n<p>this is the result:</p>\n<p>C:\\Users\\Dylan\\Documents\\PracticasPOO\\CalculadoraFX_Frontend\\src\\main\\java\\module-info.java:4:27\njava: module not found: CalculadoraFX.Backend</p>\n"},{"tags":["java","bouncycastle","elliptic-curve","ecdsa","ssh2"],"answers":[{"tags":[],"owner":{"account_id":1730223,"reputation":391,"user_id":1583981,"display_name":"veebee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680769981,"creation_date":1680769981,"answer_id":75947396,"question_id":73901279,"body_markdown":"FYI, Java encodes the public key using a X.509 ASN.1 structure by default. This will include a bunch of OIDs and data along with the actual public key. Below an example of such public keys, parsed as ASN.1:\r\n\r\n    Certificate SEQUENCE (2 elem)\r\n      tbsCertificate TBSCertificate SEQUENCE (2 elem)\r\n        serialNumber CertificateSerialNumber OBJECT IDENTIFIER 1.2.840.10045.2.1 ecPublicKey (ANSI X9.62 public key type)\r\n        signature AlgorithmIdentifier OBJECT IDENTIFIER 1.3.132.0.34 secp384r1 (SECG (Certicom) named elliptic curve)\r\n      signatureAlgorithm AlgorithmIdentifier BIT STRING (776 bit) 0000010000111101111101100100011011000101001001010110101101001100000010…\r\n\r\nA public key generated with the same curve using ssh-keygen will be much shorter as it follows a lighter structure:\r\n\r\n    Certificate OCTET STRING (75 byte) D66E8AADFAAB2D0E01BDF125B1C5869B723D10C054F553E6C874E901C2A81F1B3E5DDF…\r\n\r\n\r\nFortunately, BouncyCastle includes OpenSSH util classes: OpenSSHPrivateKeyUtil and OpenSSHPublicKeyUtil, which allow such conversions.\r\nIn your case, it would boil down to this:\r\n\r\n    /** Imports:\r\n     * import org.bouncycastle.crypto.params.AsymmetricKeyParameter;\r\n     * import org.bouncycastle.crypto.util.OpenSSHPublicKeyUtil;\r\n     * import java.util.Base64;\r\n    **/\r\n\r\n    private String writeJavaECPublicKeyToSSH2(final ECPublicKey publicKey) {\r\n      AsymmetricKeyParameter key = PublicKeyFactory.createKey(publicKey.getEncoded());\r\n      final String sshKey = OpenSSHPublicKeyUtil.encodePublicKey(key);\r\n      return = &quot;ecdsa-sha2-nistp384 &quot; + Base64.getEncoder().encodeToString(sshKey);\r\n    }\r\n\r\nOne comment: your call to *KeyPairGenerator.getInstance(&quot;ECDSA&quot;)* is incorrect.\r\nIt should be *KeyPairGenerator.getInstance(&quot;EC&quot;)*.","title":"Given a Java ECPublicKey ECDSA PublicKey, how can I build an SSH2 public key?","body":"<p>FYI, Java encodes the public key using a X.509 ASN.1 structure by default. This will include a bunch of OIDs and data along with the actual public key. Below an example of such public keys, parsed as ASN.1:</p>\n<pre><code>Certificate SEQUENCE (2 elem)\n  tbsCertificate TBSCertificate SEQUENCE (2 elem)\n    serialNumber CertificateSerialNumber OBJECT IDENTIFIER 1.2.840.10045.2.1 ecPublicKey (ANSI X9.62 public key type)\n    signature AlgorithmIdentifier OBJECT IDENTIFIER 1.3.132.0.34 secp384r1 (SECG (Certicom) named elliptic curve)\n  signatureAlgorithm AlgorithmIdentifier BIT STRING (776 bit) 0000010000111101111101100100011011000101001001010110101101001100000010…\n</code></pre>\n<p>A public key generated with the same curve using ssh-keygen will be much shorter as it follows a lighter structure:</p>\n<pre><code>Certificate OCTET STRING (75 byte) D66E8AADFAAB2D0E01BDF125B1C5869B723D10C054F553E6C874E901C2A81F1B3E5DDF…\n</code></pre>\n<p>Fortunately, BouncyCastle includes OpenSSH util classes: OpenSSHPrivateKeyUtil and OpenSSHPublicKeyUtil, which allow such conversions.\nIn your case, it would boil down to this:</p>\n<pre><code>/** Imports:\n * import org.bouncycastle.crypto.params.AsymmetricKeyParameter;\n * import org.bouncycastle.crypto.util.OpenSSHPublicKeyUtil;\n * import java.util.Base64;\n**/\n\nprivate String writeJavaECPublicKeyToSSH2(final ECPublicKey publicKey) {\n  AsymmetricKeyParameter key = PublicKeyFactory.createKey(publicKey.getEncoded());\n  final String sshKey = OpenSSHPublicKeyUtil.encodePublicKey(key);\n  return = &quot;ecdsa-sha2-nistp384 &quot; + Base64.getEncoder().encodeToString(sshKey);\n}\n</code></pre>\n<p>One comment: your call to <em>KeyPairGenerator.getInstance(&quot;ECDSA&quot;)</em> is incorrect.\nIt should be <em>KeyPairGenerator.getInstance(&quot;EC&quot;)</em>.</p>\n"}],"owner":{"account_id":19675634,"reputation":1,"user_id":14403861,"display_name":"Vicky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680769981,"creation_date":1664483303,"question_id":73901279,"body_markdown":"I have created a ECDSA key and now need to convert this to SSH2 key.\r\n\r\n\r\n        \r\n\r\n       final KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;ECDSA&quot;);\r\n        ECGenParameterSpec params = new ECGenParameterSpec(&quot;secp384r1&quot;);\r\n        keyGen.initialize(params);\r\n        final KeyPair keyPair = keyGen.generateKeyPair();\r\n\r\n        //format publicKey in ssh2\r\n        final ECPublicKey ecPublicKey = (ECPublicKey) keyPair.getPublic();\r\n         \r\n        writeJavaECPublicKeyToSSH2(ecPublicKey)  ??\r\n\r\nHow do we implement this ?\r\n","title":"Given a Java ECPublicKey ECDSA PublicKey, how can I build an SSH2 public key?","body":"<p>I have created a ECDSA key and now need to convert this to SSH2 key.</p>\n<pre><code>   final KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;ECDSA&quot;);\n    ECGenParameterSpec params = new ECGenParameterSpec(&quot;secp384r1&quot;);\n    keyGen.initialize(params);\n    final KeyPair keyPair = keyGen.generateKeyPair();\n\n    //format publicKey in ssh2\n    final ECPublicKey ecPublicKey = (ECPublicKey) keyPair.getPublic();\n     \n    writeJavaECPublicKeyToSSH2(ecPublicKey)  ??\n</code></pre>\n<p>How do we implement this ?</p>\n"},{"tags":["java","apache-flink","flink-streaming","pyflink"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680637852,"post_id":75929300,"comment_id":133931374,"body_markdown":"I cannot for the life of me understand why Flink feels it necessary to hack the String class.","body":"I cannot for the life of me understand why Flink feels it necessary to hack the String class."},{"owner":{"account_id":17614910,"reputation":758,"user_id":12782236,"display_name":"padavan"},"score":0,"creation_date":1680678867,"post_id":75929300,"comment_id":133936918,"body_markdown":"I do not fully understand why on a clean system, in the first article for beginners, I get problems. I have very good first impressions...","body":"I do not fully understand why on a clean system, in the first article for beginners, I get problems. I have very good first impressions..."}],"answers":[{"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680769914,"creation_date":1680769914,"answer_id":75947387,"question_id":75929300,"body_markdown":"Flink doesn&#39;t support JDK 19, only 8 and 11.","title":"PyFlink module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>Flink doesn't support JDK 19, only 8 and 11.</p>\n"}],"owner":{"account_id":17614910,"reputation":758,"user_id":12782236,"display_name":"padavan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75947387,"answer_count":1,"score":0,"last_activity_date":1680769914,"creation_date":1680610536,"question_id":75929300,"body_markdown":"I want to run simple example from Flink documentation.\r\nAnd after start i got exception:\r\n\r\n     Unable to make field private final byte[] java.lang.String.value accessible:\r\n     module java.base does not &quot;opens java.lang&quot; to unnamed module @228575c0\r\n\r\nInstalled: \r\n\r\n    Python 3.10.6\r\n    \r\n    openjdk version &quot;19.0.2&quot; 2023-01-17\r\n    OpenJDK Runtime Environment (build 19.0.2+7-Ubuntu-0ubuntu322.04)\r\n    OpenJDK 64-Bit Server VM (build 19.0.2+7-Ubuntu-0ubuntu322.04, mixed mode, sharing)\r\n\r\n\r\n\r\nSimple code from flink site:\r\n\r\nhttps://nightlies.apache.org/flink/flink-docs-master/api/python/examples/datastream/word_count.html\r\n","title":"PyFlink module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>I want to run simple example from Flink documentation.\nAnd after start i got exception:</p>\n<pre><code> Unable to make field private final byte[] java.lang.String.value accessible:\n module java.base does not &quot;opens java.lang&quot; to unnamed module @228575c0\n</code></pre>\n<p>Installed:</p>\n<pre><code>Python 3.10.6\n\nopenjdk version &quot;19.0.2&quot; 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7-Ubuntu-0ubuntu322.04)\nOpenJDK 64-Bit Server VM (build 19.0.2+7-Ubuntu-0ubuntu322.04, mixed mode, sharing)\n</code></pre>\n<p>Simple code from flink site:</p>\n<p><a href=\"https://nightlies.apache.org/flink/flink-docs-master/api/python/examples/datastream/word_count.html\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-master/api/python/examples/datastream/word_count.html</a></p>\n"},{"tags":["java","apache-kafka","apache-camel","avro","confluent-schema-registry"],"comments":[{"owner":{"account_id":2053218,"reputation":495,"user_id":1831706,"display_name":"driven_spider"},"score":0,"creation_date":1552682757,"post_id":55190052,"comment_id":97119224,"body_markdown":"Why is this down voted? could they please explain? even with thsi config -&gt; it doesnt work\tvalue.deserializer = class io.confluent.kafka.serializers.KafkaAvroDeserializer.","body":"Why is this down voted? could they please explain? even with thsi config -&gt; it doesnt work\tvalue.deserializer = class io.confluent.kafka.serializers.KafkaAvroDeserializer."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1552767483,"post_id":55190052,"comment_id":97139348,"body_markdown":"Can you clarify what **does** happen?","body":"Can you clarify what <b>does</b> happen?"},{"owner":{"account_id":2053218,"reputation":495,"user_id":1831706,"display_name":"driven_spider"},"score":2,"creation_date":1552876197,"post_id":55190052,"comment_id":97163681,"body_markdown":"@cricket_007 : The application starts and sets the kafka-consumer  look at this value that AvroDeserializer is my own class I couldnt get kafka connection established from confluent&#39;s avro consumer. -&gt;\t***value.deserializer = class org.apache.camel.example.kafka.AvroDeserializer***\n2019-03-18 07:56:40,663 [nsumer[avro-t1]] WARN  KafkaConsumer                  - ***KafkaException consuming avro-t1-Thread 0 from topic avro-t1. Will attempt to re-connect on next run***\n----- this is the exception and the application keep re-connecting to kafka broker &amp; hence fails.","body":"@cricket_007 : The application starts and sets the kafka-consumer  look at this value that AvroDeserializer is my own class I couldnt get kafka connection established from confluent&#39;s avro consumer. -&gt;\t<b><i>value.deserializer = class org.apache.camel.example.kafka.AvroDeserializer</i></b> 2019-03-18 07:56:40,663 [nsumer[avro-t1]] WARN  KafkaConsumer                  - <b><i>KafkaException consuming avro-t1-Thread 0 from topic avro-t1. Will attempt to re-connect on next run</i></b> ----- this is the exception and the application keep re-connecting to kafka broker &amp; hence fails."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1552939240,"post_id":55190052,"comment_id":97192867,"body_markdown":"Hmm. I don&#39;t recongize this `org.apache.camel.example.kafka.AvroDeserializer`. In theory, any deserializer on the classpath should work. Could you enable debug logging maybe?","body":"Hmm. I don&#39;t recongize this <code>org.apache.camel.example.kafka.AvroDeserializer</code>. In theory, any deserializer on the classpath should work. Could you enable debug logging maybe?"},{"owner":{"account_id":2053218,"reputation":495,"user_id":1831706,"display_name":"driven_spider"},"score":0,"creation_date":1552974214,"post_id":55190052,"comment_id":97202207,"body_markdown":"@cricket_007: thanks for helping me in thinking process.","body":"@cricket_007: thanks for helping me in thinking process."}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1554763869,"post_id":55234351,"comment_id":97863737,"body_markdown":"btw, it was recently added - https://stackoverflow.com/a/55437784/2308683","body":"btw, it was recently added - <a href=\"https://stackoverflow.com/a/55437784/2308683\">stackoverflow.com/a/55437784/2308683</a>"},{"owner":{"account_id":2053218,"reputation":495,"user_id":1831706,"display_name":"driven_spider"},"score":0,"creation_date":1555928862,"post_id":55234351,"comment_id":98254882,"body_markdown":"@cricket_007: I couldn&#39;t see at that time when i was searching and wanted a solution. Thanks for your profound search.","body":"@cricket_007: I couldn&#39;t see at that time when i was searching and wanted a solution. Thanks for your profound search."},{"owner":{"account_id":6105499,"reputation":1169,"user_id":4763333,"accept_rate":55,"display_name":"AnonymousAlias"},"score":0,"creation_date":1560779358,"post_id":55234351,"comment_id":99837218,"body_markdown":"Hey, just wondering was this a work project or something you could share? I would love to see the full example on github or somewhere like that? thanks","body":"Hey, just wondering was this a work project or something you could share? I would love to see the full example on github or somewhere like that? thanks"},{"owner":{"account_id":2053218,"reputation":495,"user_id":1831706,"display_name":"driven_spider"},"score":1,"creation_date":1561570927,"post_id":55234351,"comment_id":100111943,"body_markdown":"@MickO&#39;Gorman: sorry that i didn&#39;t look at this before. Look at my route: https://github.com/hykavitha/camel-kafka-microservice/blob/master/src/main/java/com/marriott/poc/crm/route/MsgRouter_CamelRouteConfig.java Look at the CustomKafkaAvroDeserializer \n https://github.com/hykavitha/camel-kafka-microservice/blob/master/src/main/java/com/marriott/poc/crm/kafka/avro/serializer/CustomKafkaAvroDeserializer.java","body":"@MickO&#39;Gorman: sorry that i didn&#39;t look at this before. Look at my route: <a href=\"https://github.com/hykavitha/camel-kafka-microservice/blob/master/src/main/java/com/marriott/poc/crm/route/MsgRouter_CamelRouteConfig.java\" rel=\"nofollow noreferrer\">github.com/hykavitha/camel-kafka-microservice/blob/master/sr&zwnj;&#8203;c/&hellip;</a> Look at the CustomKafkaAvroDeserializer   <a href=\"https://github.com/hykavitha/camel-kafka-microservice/blob/master/src/main/java/com/marriott/poc/crm/kafka/avro/serializer/CustomKafkaAvroDeserializer.java\" rel=\"nofollow noreferrer\">github.com/hykavitha/camel-kafka-microservice/blob/master/sr&zwnj;&#8203;c/&hellip;</a>"}],"tags":[],"owner":{"account_id":2053218,"reputation":495,"user_id":1831706,"display_name":"driven_spider"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553877496,"creation_date":1552974170,"answer_id":55234351,"question_id":55190052,"body_markdown":"I&#39;m answering my own question because I sat on this problem for couple days. I hope this answer will be helpful for others. \r\n\r\nI tried to use io.confluent.kafka.serializers.KafkaAvroDeserializer deserializer and got kafka exception. so i had to write my own deserializer to do following things:\r\n\r\n 1. set schema registry\r\n 2. use specific avro reader (which means not the default stringDeserializer) \r\n\r\nthen we must access &quot;schemaRegistry&quot;, &quot;useSpecificAvroReader&quot; and set those fields of the AbstractKafkaAvroDeserializer(io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer)\r\n\r\nHere is the solution...\r\n\r\n###CAMEL-KAFKA-AVRO-ROUTE-BUILDER\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        LOG.info(&quot;About to run Kafka-camel integration...&quot;);\r\n        CamelContext camelContext = new DefaultCamelContext();\r\n        // Add route to send messages to Kafka\r\n        camelContext.addRoutes(new RouteBuilder() {\r\n            public void configure() throws Exception {                \r\n                PropertiesComponent pc = getContext().getComponent(&quot;properties&quot;, \r\n                                          PropertiesComponent.class);\r\n                pc.setLocation(&quot;classpath:application.properties&quot;);\r\n\r\n                log.info(&quot;About to start route: Kafka Server -&gt; Log &quot;);\r\n                \r\n                from(&quot;kafka:{{consumer.topic}}?brokers={{kafka.host}}:{{kafka.port}}&quot;\r\n                        + &quot;&amp;maxPollRecords={{consumer.maxPollRecords}}&quot;\r\n                        + &quot;&amp;consumersCount={{consumer.consumersCount}}&quot;\r\n                        + &quot;&amp;seekTo={{consumer.seekTo}}&quot;\r\n                        + &quot;&amp;groupId={{consumer.group}}&quot;\r\n                        + &quot;&amp;keyDeserializer=&quot;+ StringDeserializer.class.getName() \r\n                        + &quot;&amp;valueDeserializer=&quot;+CustomKafkaAvroDeserializer.class.getName()\r\n                        )\r\n                        .routeId(&quot;FromKafka&quot;)\r\n                    .log(&quot;${body}&quot;);\r\n              \r\n            }\r\n        });\r\n        camelContext.start();\r\n        // let it run for 5 minutes before shutting down\r\n        Thread.sleep(5 * 60 * 1000);\r\n        camelContext.stop();\r\n    }\r\n\r\n###DESERIALIZER CLASSS - this sets the schema.registry.url &amp; use.specific.avro.reader at the abstract AbstractKafkaAvroDeserializer level. If I don&#39;t set this, I would get kafka-config-exception.\r\n\r\n    package com.example.camel.kafka.avro;\r\n\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n\r\n    import io.confluent.common.config.ConfigException;\r\n    import io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient;\r\n    import io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer;\r\n    import io.confluent.kafka.serializers.KafkaAvroDeserializerConfig;\r\n    import org.apache.kafka.common.serialization.Deserializer;\r\n\r\n\r\n\r\n    public class CustomKafkaAvroDeserializer extends AbstractKafkaAvroDeserializer\r\n        implements Deserializer&lt;Object&gt; {\r\n\r\n        private static final String SCHEMA_REGISTRY_URL = &quot;http://localhost:8081&quot;;\r\n\r\n        @Override\r\n        public void configure(KafkaAvroDeserializerConfig config) {\r\n\t  \r\n         try {\r\n              final List&lt;String&gt; schemas = \r\n                                  Collections.singletonList(SCHEMA_REGISTRY_URL);\r\n              this.schemaRegistry = new CachedSchemaRegistryClient(schemas, \r\n                                      Integer.MAX_VALUE);\r\n              this.useSpecificAvroReader = true;\r\n\r\n           } catch (ConfigException e) {\r\n                  throw new org.apache.kafka.common.config.ConfigException(e.getMessage());\r\n         }\r\n       }\r\n\r\n      @Override\r\n      public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n        configure(null);\r\n      }\r\n\r\n      @Override\r\n      public Object deserialize(String s, byte[] bytes) {\r\n        return deserialize(bytes);\r\n      }\r\n  \r\n      @Override\r\n      public void close() {\r\n      }\r\n    }\r\n","title":"How to use camel-avro-consumer &amp; producer?","body":"<p>I'm answering my own question because I sat on this problem for couple days. I hope this answer will be helpful for others. </p>\n\n<p>I tried to use io.confluent.kafka.serializers.KafkaAvroDeserializer deserializer and got kafka exception. so i had to write my own deserializer to do following things:</p>\n\n<ol>\n<li>set schema registry</li>\n<li>use specific avro reader (which means not the default stringDeserializer) </li>\n</ol>\n\n<p>then we must access \"schemaRegistry\", \"useSpecificAvroReader\" and set those fields of the AbstractKafkaAvroDeserializer(io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer)</p>\n\n<p>Here is the solution...</p>\n\n<h3>CAMEL-KAFKA-AVRO-ROUTE-BUILDER</h3>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    LOG.info(\"About to run Kafka-camel integration...\");\n    CamelContext camelContext = new DefaultCamelContext();\n    // Add route to send messages to Kafka\n    camelContext.addRoutes(new RouteBuilder() {\n        public void configure() throws Exception {                \n            PropertiesComponent pc = getContext().getComponent(\"properties\", \n                                      PropertiesComponent.class);\n            pc.setLocation(\"classpath:application.properties\");\n\n            log.info(\"About to start route: Kafka Server -&gt; Log \");\n\n            from(\"kafka:{{consumer.topic}}?brokers={{kafka.host}}:{{kafka.port}}\"\n                    + \"&amp;maxPollRecords={{consumer.maxPollRecords}}\"\n                    + \"&amp;consumersCount={{consumer.consumersCount}}\"\n                    + \"&amp;seekTo={{consumer.seekTo}}\"\n                    + \"&amp;groupId={{consumer.group}}\"\n                    + \"&amp;keyDeserializer=\"+ StringDeserializer.class.getName() \n                    + \"&amp;valueDeserializer=\"+CustomKafkaAvroDeserializer.class.getName()\n                    )\n                    .routeId(\"FromKafka\")\n                .log(\"${body}\");\n\n        }\n    });\n    camelContext.start();\n    // let it run for 5 minutes before shutting down\n    Thread.sleep(5 * 60 * 1000);\n    camelContext.stop();\n}\n</code></pre>\n\n<h3>DESERIALIZER CLASSS - this sets the schema.registry.url &amp; use.specific.avro.reader at the abstract AbstractKafkaAvroDeserializer level. If I don't set this, I would get kafka-config-exception.</h3>\n\n<pre><code>package com.example.camel.kafka.avro;\n\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Map;\n\n\nimport io.confluent.common.config.ConfigException;\nimport io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient;\nimport io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer;\nimport io.confluent.kafka.serializers.KafkaAvroDeserializerConfig;\nimport org.apache.kafka.common.serialization.Deserializer;\n\n\n\npublic class CustomKafkaAvroDeserializer extends AbstractKafkaAvroDeserializer\n    implements Deserializer&lt;Object&gt; {\n\n    private static final String SCHEMA_REGISTRY_URL = \"http://localhost:8081\";\n\n    @Override\n    public void configure(KafkaAvroDeserializerConfig config) {\n\n     try {\n          final List&lt;String&gt; schemas = \n                              Collections.singletonList(SCHEMA_REGISTRY_URL);\n          this.schemaRegistry = new CachedSchemaRegistryClient(schemas, \n                                  Integer.MAX_VALUE);\n          this.useSpecificAvroReader = true;\n\n       } catch (ConfigException e) {\n              throw new org.apache.kafka.common.config.ConfigException(e.getMessage());\n     }\n   }\n\n  @Override\n  public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n    configure(null);\n  }\n\n  @Override\n  public Object deserialize(String s, byte[] bytes) {\n    return deserialize(bytes);\n  }\n\n  @Override\n  public void close() {\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3779710,"reputation":352,"user_id":3139543,"accept_rate":60,"display_name":"tstuber"},"score":0,"creation_date":1603914312,"post_id":64576778,"comment_id":114190282,"body_markdown":"Would it possible for you to share a corresponding example route?","body":"Would it possible for you to share a corresponding example route?"}],"tags":[],"owner":{"account_id":8589695,"reputation":531,"user_id":6434650,"display_name":"Muhammad Arslan Akhtar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603901168,"creation_date":1603901168,"answer_id":64576778,"question_id":55190052,"body_markdown":"Using `camel-kafka-starter` (for spring boot) `version: 3.6.0`, you don&#39;t need to define a `CustomKafkaAvroDeserializer`. Instead, add the following configurations details to your `application.yaml` or `application.properties` file and the camel-kafka component (both producer and consumer) will apply the appropriate SerDe to the objects/bytes being processed.\r\n\r\n    camel:\r\n      springboot:\r\n        main-run-controller: true # to keep the JVM running\r\n      component:\r\n        kafka:\r\n          brokers: http://localhost:9092\r\n          schema-registry-u-r-l: http://localhost:8081\r\n    \r\n          #Consumer\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          value-deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    \r\n          #Producer\r\n          key-serializer-class: org.apache.kafka.common.serialization.StringSerializer\r\n          serializer-class: io.confluent.kafka.serializers.KafkaAvroSerializer\r\n    \r\n          specific-avro-reader: true\r\n\r\nYou also need to make sure to upload the respective `avro-schema-json` files to your schema-registry server e.g confluent-schema-registry before running producer/consumer.","title":"How to use camel-avro-consumer &amp; producer?","body":"<p>Using <code>camel-kafka-starter</code> (for spring boot) <code>version: 3.6.0</code>, you don't need to define a <code>CustomKafkaAvroDeserializer</code>. Instead, add the following configurations details to your <code>application.yaml</code> or <code>application.properties</code> file and the camel-kafka component (both producer and consumer) will apply the appropriate SerDe to the objects/bytes being processed.</p>\n<pre><code>camel:\n  springboot:\n    main-run-controller: true # to keep the JVM running\n  component:\n    kafka:\n      brokers: http://localhost:9092\n      schema-registry-u-r-l: http://localhost:8081\n\n      #Consumer\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer\n\n      #Producer\n      key-serializer-class: org.apache.kafka.common.serialization.StringSerializer\n      serializer-class: io.confluent.kafka.serializers.KafkaAvroSerializer\n\n      specific-avro-reader: true\n</code></pre>\n<p>You also need to make sure to upload the respective <code>avro-schema-json</code> files to your schema-registry server e.g confluent-schema-registry before running producer/consumer.</p>\n"},{"tags":[],"owner":{"account_id":3779710,"reputation":352,"user_id":3139543,"accept_rate":60,"display_name":"tstuber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609777143,"creation_date":1609776802,"answer_id":65565943,"question_id":55190052,"body_markdown":"I struggled with the same question for a while. I made full example with camel-quarkus and schema-registry from confluent: \r\nhttps://github.com/tstuber/camel-quarkus-kafka-schema-registry","title":"How to use camel-avro-consumer &amp; producer?","body":"<p>I struggled with the same question for a while. I made full example with camel-quarkus and schema-registry from confluent:\n<a href=\"https://github.com/tstuber/camel-quarkus-kafka-schema-registry\" rel=\"nofollow noreferrer\">https://github.com/tstuber/camel-quarkus-kafka-schema-registry</a></p>\n"}],"owner":{"account_id":2053218,"reputation":495,"user_id":1831706,"display_name":"driven_spider"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5232,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1680769270,"creation_date":1552680821,"question_id":55190052,"body_markdown":"I dont see an example of how to use camel-avro component to produce and consume kafka avro messages?  Currently my camel route is this. what should it be changed in order to work with schema-registry and other props like this using camel-kafka-avro consumer &amp; producer.\r\n\r\n    props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;http://localhost:8081&quot;);\r\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class);              \r\n    props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true); \r\n        \r\n    public void configure() {\r\n            PropertiesComponent pc = getContext().getComponent(&quot;properties&quot;, PropertiesComponent.class); \r\n            pc.setLocation(&quot;classpath:application.properties&quot;);\r\n\r\n            log.info(&quot;About to start route: Kafka Server -&gt; Log &quot;);\r\n\r\n            from(&quot;kafka:{{consumer.topic}}?brokers={{kafka.host}}:{{kafka.port}}&quot;\r\n                    + &quot;&amp;maxPollRecords={{consumer.maxPollRecords}}&quot;\r\n                    + &quot;&amp;consumersCount={{consumer.consumersCount}}&quot;\r\n                    + &quot;&amp;seekTo={{consumer.seekTo}}&quot;\r\n                    + &quot;&amp;groupId={{consumer.group}}&quot;\r\n                    +&quot;&amp;valueDeserializer=&quot;+KafkaAvroDeserializer.class\r\n      \t            +&quot;&amp;keyDeserializer=&quot;+StringDeserializer.class\r\n                    )\r\n                    .routeId(&quot;FromKafka&quot;)\r\n                .log(&quot;${body}&quot;);\r\n                \r\n                \r\n","title":"How to use camel-avro-consumer &amp; producer?","body":"<p>I dont see an example of how to use camel-avro component to produce and consume kafka avro messages?  Currently my camel route is this. what should it be changed in order to work with schema-registry and other props like this using camel-kafka-avro consumer &amp; producer.</p>\n\n<pre><code>props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, \"http://localhost:8081\");\nprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class);              \nprops.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true); \n\npublic void configure() {\n        PropertiesComponent pc = getContext().getComponent(\"properties\", PropertiesComponent.class); \n        pc.setLocation(\"classpath:application.properties\");\n\n        log.info(\"About to start route: Kafka Server -&gt; Log \");\n\n        from(\"kafka:{{consumer.topic}}?brokers={{kafka.host}}:{{kafka.port}}\"\n                + \"&amp;maxPollRecords={{consumer.maxPollRecords}}\"\n                + \"&amp;consumersCount={{consumer.consumersCount}}\"\n                + \"&amp;seekTo={{consumer.seekTo}}\"\n                + \"&amp;groupId={{consumer.group}}\"\n                +\"&amp;valueDeserializer=\"+KafkaAvroDeserializer.class\n                +\"&amp;keyDeserializer=\"+StringDeserializer.class\n                )\n                .routeId(\"FromKafka\")\n            .log(\"${body}\");\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-4"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1406701812,"post_id":25030008,"comment_id":38927001,"body_markdown":"I presume that instead of `@CRequestParam` you mean `@RequestParam`","body":"I presume that instead of <code>@CRequestParam</code> you mean <code>@RequestParam</code>"},{"owner":{"account_id":404325,"reputation":3300,"user_id":772590,"accept_rate":69,"display_name":"Santosh Joshi"},"score":0,"creation_date":1406702229,"post_id":25030008,"comment_id":38927162,"body_markdown":"@geoand its custom request parameter `CRequestParam` for which we have `CRequestparamResolver` resolver.","body":"@geoand its custom request parameter <code>CRequestParam</code> for which we have <code>CRequestparamResolver</code> resolver."},{"owner":{"account_id":404325,"reputation":3300,"user_id":772590,"accept_rate":69,"display_name":"Santosh Joshi"},"score":0,"creation_date":1406703459,"post_id":25030008,"comment_id":38927703,"body_markdown":"@geoand the whole source code has now been checked in at `https://github.com/santoshjoshi/SpringMVC4`","body":"@geoand the whole source code has now been checked in at <code>https:&#47;&#47;github.com&#47;santoshjoshi&#47;SpringMVC4</code>"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1406703838,"post_id":25030008,"comment_id":38927885,"body_markdown":"Can you please post a more complete stacktrace?","body":"Can you please post a more complete stacktrace?"},{"owner":{"account_id":2466460,"reputation":17100,"user_id":2149440,"accept_rate":82,"display_name":"Bart"},"score":0,"creation_date":1406703945,"post_id":25030008,"comment_id":38927944,"body_markdown":"AFAIK `RequestMappingHandlerAdapter` does not handle the exception so it&#39;s argument resolvers cannot be used. Have a look at `ExceptionHandlerExceptionResolver.setArgumentResolvers()`. I never used it myself but it looks promising.","body":"AFAIK <code>RequestMappingHandlerAdapter</code> does not handle the exception so it&#39;s argument resolvers cannot be used. Have a look at <code>ExceptionHandlerExceptionResolver.setArgumentResolvers()</code>. I never used it myself but it looks promising."},{"owner":{"account_id":404325,"reputation":3300,"user_id":772590,"accept_rate":69,"display_name":"Santosh Joshi"},"score":0,"creation_date":1406704397,"post_id":25030008,"comment_id":38928167,"body_markdown":"@geoand the whole exception code is available at `https://gist.github.com/santoshjoshi/31701ec034839ead3c7d`","body":"@geoand the whole exception code is available at <code>https:&#47;&#47;gist.github.com&#47;santoshjoshi&#47;31701ec034839ead3c7d</code>"}],"answers":[{"tags":[],"owner":{"account_id":404325,"reputation":3300,"user_id":772590,"accept_rate":69,"display_name":"Santosh Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1407146813,"creation_date":1407146813,"answer_id":25116257,"question_id":25030008,"body_markdown":"Solved the problem by passing the custom arguments in request itself.\r\n\r\ncode is as  below :\r\n\r\n**Controller**\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/exception2&quot;)\r\n    public String getException1(ModelMap model, @CRequestParam(&quot;p&quot;) String p, HttpServletRequest request) {\r\n\r\n      System.out.println(&quot;Exception 2 &quot; + p);\r\n      request.setAttribute(&quot;p&quot;, p);\r\n      throw new CustomGenericException(&quot;1&quot;, &quot;2&quot;);\r\n    }\r\n\r\n**Exception Handler**  \r\n\r\n    @ExceptionHandler(CustomGenericException.class)\r\n    public ModelAndView handleCustomException(CustomGenericException ex, HttpServletRequest request) {\r\n\r\n      ModelAndView model2 = new ModelAndView(&quot;error/generic_error&quot;);\r\n      model2.addObject(&quot;exception&quot;, ex);\r\n      System.out.println(request.getAttribute(&quot;p&quot;));\r\n      System.out.println(&quot;CustomGenericException  &quot;);\r\n      return model2;\r\n\r\n    }\r\n\r\n\r\n**Complete source code** is available at [git][1] \r\n\r\n\r\n  [1]: https://github.com/santoshjoshi/SpringMVC4","title":"Spring 4 Exception Handling : No suitable resolver for argument","body":"<p>Solved the problem by passing the custom arguments in request itself.</p>\n\n<p>code is as  below :</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = \"/exception2\")\npublic String getException1(ModelMap model, @CRequestParam(\"p\") String p, HttpServletRequest request) {\n\n  System.out.println(\"Exception 2 \" + p);\n  request.setAttribute(\"p\", p);\n  throw new CustomGenericException(\"1\", \"2\");\n}\n</code></pre>\n\n<p><strong>Exception Handler</strong>  </p>\n\n<pre><code>@ExceptionHandler(CustomGenericException.class)\npublic ModelAndView handleCustomException(CustomGenericException ex, HttpServletRequest request) {\n\n  ModelAndView model2 = new ModelAndView(\"error/generic_error\");\n  model2.addObject(\"exception\", ex);\n  System.out.println(request.getAttribute(\"p\"));\n  System.out.println(\"CustomGenericException  \");\n  return model2;\n\n}\n</code></pre>\n\n<p><strong>Complete source code</strong> is available at <a href=\"https://github.com/santoshjoshi/SpringMVC4\" rel=\"noreferrer\">git</a> </p>\n"},{"tags":[],"owner":{"account_id":11880635,"reputation":13,"user_id":8694428,"display_name":"Fakhri Satii Boto"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1517317251,"creation_date":1517317251,"answer_id":48522091,"question_id":25030008,"body_markdown":"Solved the problem  by providing the implementation of WebApplicationInitializer\r\n\r\n    public class SpringDispatcherConfig implements WebApplicationInitializer {\r\n\r\n\t@Override\r\n\tpublic void onStartup(ServletContext servletContext) throws ServletException {\r\n\t\tAnnotationConfigWebApplicationContext Contianer =\tnew AnnotationConfigWebApplicationContext();\r\n\t\tContianer.register(SpringConfig.class);\r\n\t\tContianer.setServletContext(servletContext);\r\n\t\tDispatcherServlet dispatcherServlet = new DispatcherServlet(Contianer);\r\n\t\tdispatcherServlet.setThrowExceptionIfNoHandlerFound(true);\r\n\t\tDynamic servlet = servletContext.addServlet(&quot;spring&quot;,dispatcherServlet);\r\n\t\tservlet.addMapping(&quot;/&quot;);\r\n\t\tservlet.setLoadOnStartup(1);\r\n\t\t\r\n\t}\r\n\r\n ","title":"Spring 4 Exception Handling : No suitable resolver for argument","body":"<p>Solved the problem  by providing the implementation of WebApplicationInitializer</p>\n\n<pre><code>public class SpringDispatcherConfig implements WebApplicationInitializer {\n\n@Override\npublic void onStartup(ServletContext servletContext) throws ServletException {\n    AnnotationConfigWebApplicationContext Contianer =   new AnnotationConfigWebApplicationContext();\n    Contianer.register(SpringConfig.class);\n    Contianer.setServletContext(servletContext);\n    DispatcherServlet dispatcherServlet = new DispatcherServlet(Contianer);\n    dispatcherServlet.setThrowExceptionIfNoHandlerFound(true);\n    Dynamic servlet = servletContext.addServlet(\"spring\",dispatcherServlet);\n    servlet.addMapping(\"/\");\n    servlet.setLoadOnStartup(1);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18216555,"reputation":21,"user_id":13258133,"display_name":"ILORI Abdrasheed Ayomide A."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680769242,"creation_date":1680764519,"answer_id":75946691,"question_id":25030008,"body_markdown":"In my case, I didn&#39;t add `@RequestBody` to my client-interface so it didn&#39;t know how to resolve the parameters.","title":"Spring 4 Exception Handling : No suitable resolver for argument","body":"<p>In my case, I didn't add <code>@RequestBody</code> to my client-interface so it didn't know how to resolve the parameters.</p>\n"}],"owner":{"account_id":404325,"reputation":3300,"user_id":772590,"accept_rate":69,"display_name":"Santosh Joshi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27581,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":25116257,"answer_count":3,"score":8,"last_activity_date":1680769242,"creation_date":1406701439,"question_id":25030008,"body_markdown":"**Problem Statement**\r\n\r\n  Migration to `Spring 4` from `Spring 3` induces some exceptions in exception handling flow.\r\n  The Exception says `No suitable resolver for argument` in the `org.springframework.web.method.support.InvocableHandlerMethod` class.\r\n\r\n So whenever and exception occurs `Spring` tries to find the Exception Handler which it gets\r\n but when it tries to populate the method arguments or exception Handler it throws the below exception\r\n\r\nFailed to invoke @ExceptionHandler method:\r\n\r\n      public org.springframework.web.servlet.ModelAndView  \r\n           HelloController.handleCustomException(CustomGenericException, javax.servlet.http.HttpServletRequest, org.springframework.web.servlet.ModelAndView)\r\n\r\n      java.lang.IllegalStateException: \r\n         No suitable resolver for argument [2] \r\n                 [type=org.springframework.web.servlet.ModelAndView]\r\n\r\nHandlerMethod details:\r\n\r\n \r\n    Controller [HelloController]\r\n    Method [public org.springframework.web.servlet.ModelAndView  \r\n            HelloController.handleCustomException(CustomGenericException,\r\n                javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.ModelAndView)]\r\n           \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(\r\n                         InvocableHandlerMethod.java:169)\r\n\r\n It basically comes for `@CRequestParam(&quot;p&quot;) String p`  variable\r\n\r\n**Code**\r\n\r\n \r\n\r\nController\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value=&quot;/exception2&quot;)\r\n    \tpublic String getException1(ModelMap model, @CRequestParam(&quot;p&quot;) String p) {\r\n    \r\n    \t    System.out.println(&quot;Exception 2 &quot;+ p);\r\n    \t\tthrow new CustomGenericException(&quot;1&quot;,&quot;2&quot;);\r\n    \t}\r\n\r\nException Handler\r\n\r\n    @ExceptionHandler(CustomGenericException.class)\r\n    \tpublic ModelAndView handleCustomException(CustomGenericException ex, \r\n                HttpServletRequest request, @CRequestParam(&quot;p&quot;) String p) {\r\n    \r\n            \tModelAndView model = new ModelAndView(&quot;error/generic_error&quot;);\r\n            \tmodel.addObject(&quot;exception&quot;, ex);\r\n            \tSystem.out.println(&quot;CustomGenericException  &quot;);\r\n            \treturn model;\r\n    \t}\r\n\r\n \r\n\r\nAnnotations\r\n\r\n    @Target( { ElementType.PARAMETER })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface CRequestParam {\r\n    \tString value() default &quot;&quot;;\r\n    }\r\n     \r\n\r\nParam Resolver\r\n   \r\n\r\n    public class CRequestparamResolver implements HandlerMethodArgumentResolver {\r\n\r\n    \r\n    \t@Override\r\n            public boolean supportsParameter(MethodParameter methodParameter) {\r\n      \t      CRequestParam requestParamAnnotation = \r\n              methodParameter.getParameterAnnotation(CRequestParam.class);\r\n    \t    if(requestParamAnnotation==null){\r\n    \t\treturn false;\r\n    \t    }\r\n    \t    return true;\r\n            }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter methodParameter,\r\n    \t    ModelAndViewContainer mavContainer, NativeWebRequest webRequest,\r\n    \t    WebDataBinderFactory binderFactory) throws Exception {\r\n    \r\n    \tCRequestParam requestParamAnnotation = methodParameter .getParameterAnnotation(CRequestParam.class);\r\n    \r\n    \tif (requestParamAnnotation != null) {\r\n    \t    String requestParamName = requestParamAnnotation.value();\r\n    \t    if (StringUtils.hasText(requestParamName)) {\r\n    \t\treturn webRequest.getParameter(requestParamName);\r\n    \t    }\r\n    \t}\r\n    \treturn null;\r\n      }\r\n\r\n  XML Configuration\r\n\r\n \r\n\r\n    &lt;bean\r\n    \t\tclass=&quot;com.mkyong.common.resolver.AnnotationMethodHandlerAdapterConfigurer&quot;\r\n    \t\tinit-method=&quot;init&quot;&gt;\r\n    \t\t&lt;property name=&quot;customArgumentResolvers&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;bean class=&quot;com.mkyong.common.resolver.CRequestparamResolver&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean \r\n     class=&quot;org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;customArgumentResolvers&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;bean class=&quot;com.mkyong.common.resolver.CRequestparamResolver&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n**Source Code** \r\n\r\n[https://github.com/santoshjoshi/SpringMVC4][1]\r\n\r\n\r\n  [1]: https://github.com/santoshjoshi/SpringMVC4\r\n\r\n\r\n","title":"Spring 4 Exception Handling : No suitable resolver for argument","body":"<p><strong>Problem Statement</strong></p>\n\n<p>Migration to <code>Spring 4</code> from <code>Spring 3</code> induces some exceptions in exception handling flow.\n  The Exception says <code>No suitable resolver for argument</code> in the <code>org.springframework.web.method.support.InvocableHandlerMethod</code> class.</p>\n\n<p>So whenever and exception occurs <code>Spring</code> tries to find the Exception Handler which it gets\n but when it tries to populate the method arguments or exception Handler it throws the below exception</p>\n\n<p>Failed to invoke @ExceptionHandler method:</p>\n\n<pre><code>  public org.springframework.web.servlet.ModelAndView  \n       HelloController.handleCustomException(CustomGenericException, javax.servlet.http.HttpServletRequest, org.springframework.web.servlet.ModelAndView)\n\n  java.lang.IllegalStateException: \n     No suitable resolver for argument [2] \n             [type=org.springframework.web.servlet.ModelAndView]\n</code></pre>\n\n<p>HandlerMethod details:</p>\n\n<pre><code>Controller [HelloController]\nMethod [public org.springframework.web.servlet.ModelAndView  \n        HelloController.handleCustomException(CustomGenericException,\n            javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.ModelAndView)]\n        at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(\n                     InvocableHandlerMethod.java:169)\n</code></pre>\n\n<p>It basically comes for <code>@CRequestParam(\"p\") String p</code>  variable</p>\n\n<p><strong>Code</strong></p>\n\n<p>Controller</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET, value=\"/exception2\")\n    public String getException1(ModelMap model, @CRequestParam(\"p\") String p) {\n\n        System.out.println(\"Exception 2 \"+ p);\n        throw new CustomGenericException(\"1\",\"2\");\n    }\n</code></pre>\n\n<p>Exception Handler</p>\n\n<pre><code>@ExceptionHandler(CustomGenericException.class)\n    public ModelAndView handleCustomException(CustomGenericException ex, \n            HttpServletRequest request, @CRequestParam(\"p\") String p) {\n\n            ModelAndView model = new ModelAndView(\"error/generic_error\");\n            model.addObject(\"exception\", ex);\n            System.out.println(\"CustomGenericException  \");\n            return model;\n    }\n</code></pre>\n\n<p>Annotations</p>\n\n<pre><code>@Target( { ElementType.PARAMETER })\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface CRequestParam {\n    String value() default \"\";\n}\n</code></pre>\n\n<p>Param Resolver</p>\n\n<pre><code>public class CRequestparamResolver implements HandlerMethodArgumentResolver {\n\n\n    @Override\n        public boolean supportsParameter(MethodParameter methodParameter) {\n          CRequestParam requestParamAnnotation = \n          methodParameter.getParameterAnnotation(CRequestParam.class);\n        if(requestParamAnnotation==null){\n        return false;\n        }\n        return true;\n        }\n\n    @Override\n    public Object resolveArgument(MethodParameter methodParameter,\n        ModelAndViewContainer mavContainer, NativeWebRequest webRequest,\n        WebDataBinderFactory binderFactory) throws Exception {\n\n    CRequestParam requestParamAnnotation = methodParameter .getParameterAnnotation(CRequestParam.class);\n\n    if (requestParamAnnotation != null) {\n        String requestParamName = requestParamAnnotation.value();\n        if (StringUtils.hasText(requestParamName)) {\n        return webRequest.getParameter(requestParamName);\n        }\n    }\n    return null;\n  }\n</code></pre>\n\n<p>XML Configuration</p>\n\n<pre><code>&lt;bean\n        class=\"com.mkyong.common.resolver.AnnotationMethodHandlerAdapterConfigurer\"\n        init-method=\"init\"&gt;\n        &lt;property name=\"customArgumentResolvers\"&gt;\n            &lt;list&gt;\n                &lt;bean class=\"com.mkyong.common.resolver.CRequestparamResolver\" /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean \n class=\"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver\"&gt;\n        &lt;property name=\"customArgumentResolvers\"&gt;\n            &lt;list&gt;\n                &lt;bean class=\"com.mkyong.common.resolver.CRequestparamResolver\" /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p><strong>Source Code</strong> </p>\n\n<p><a href=\"https://github.com/santoshjoshi/SpringMVC4\" rel=\"noreferrer\">https://github.com/santoshjoshi/SpringMVC4</a></p>\n"},{"tags":["java","spring","annotations","aspectj","spring-aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680762451,"post_id":75945989,"comment_id":133953746,"body_markdown":"It only works for type as that is what you defined. You can take a look at the [`AnnotationTransactionAspect`](https://github.com/spring-projects/spring-framework/blob/main/spring-aspects/src/main/java/org/springframework/transaction/aspectj/AnnotationTransactionAspect.aj). Which does the same for `@Transactional` (although not a meta-annotation). It defines 2 pointcuts, 1 for the type (what you have now) and one for methods (the `execution` one), then it adds a third pointcut which combines the 2 for easier reference.","body":"It only works for type as that is what you defined. You can take a look at the <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-aspects/src/main/java/org/springframework/transaction/aspectj/AnnotationTransactionAspect.aj\" rel=\"nofollow noreferrer\"><code>AnnotationTransactionAspect</code></a>. Which does the same for <code>@Transactional</code> (although not a meta-annotation). It defines 2 pointcuts, 1 for the type (what you have now) and one for methods (the <code>execution</code> one), then it adds a third pointcut which combines the 2 for easier reference."},{"owner":{"account_id":28228741,"reputation":1,"user_id":21578298,"display_name":"White"},"score":0,"creation_date":1680764166,"post_id":75945989,"comment_id":133954059,"body_markdown":"Maybe my problem description is not clear enough, I know how to intercept annotation on method and type.\n\nAnd I also know how to intercept meta annotation on type, but I don&#39;t know how to intercept meta annotation on method.\n\nThe aspect in this example only intercept the @Transcational annotation. \n\nIf I want to intercept its sub-annotation in the method, can it be realized and how should the expression be written?\n\nfor example\n```","body":"Maybe my problem description is not clear enough, I know how to intercept annotation on method and type.  And I also know how to intercept meta annotation on type, but I don&#39;t know how to intercept meta annotation on method.  The aspect in this example only intercept the @Transcational annotation.   If I want to intercept its sub-annotation in the method, can it be realized and how should the expression be written?  for example ```"},{"owner":{"account_id":28228741,"reputation":1,"user_id":21578298,"display_name":"White"},"score":0,"creation_date":1680764683,"post_id":75945989,"comment_id":133954162,"body_markdown":"```\n@Retention(RUNTIME)\n@Target({ TYPE })\n@Transcational \npublic @interface SubAnnotation {}\n```","body":"``` @Retention(RUNTIME) @Target({ TYPE }) @Transcational  public @interface SubAnnotation {} ```"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680766858,"post_id":75945989,"comment_id":133954598,"body_markdown":"You already intercepted the meta on the type for the execution on the method it is the same but using `@annotation`. ANd please don&#39;t add code as comments as that is totally unreadable. You already now how to match a subtype/metatytpe for the type expression it is no different for an execution pointcut. As I stated you already have the type one, apply the same principle to the method one.","body":"You already intercepted the meta on the type for the execution on the method it is the same but using <code>@annotation</code>. ANd please don&#39;t add code as comments as that is totally unreadable. You already now how to match a subtype/metatytpe for the type expression it is no different for an execution pointcut. As I stated you already have the type one, apply the same principle to the method one."},{"owner":{"account_id":28228741,"reputation":1,"user_id":21578298,"display_name":"White"},"score":0,"creation_date":1680769299,"post_id":75945989,"comment_id":133955173,"body_markdown":"Thanks for the tip, I just tried a few times myself and finally figured it out","body":"Thanks for the tip, I just tried a few times myself and finally figured it out"}],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680772116,"post_id":75947304,"comment_id":133955787,"body_markdown":"Thanks for quoting from [my answer](https://stackoverflow.com/a/67005346/1082681) without giving me credit. Please behave better next time. Thank you.","body":"Thanks for quoting from <a href=\"https://stackoverflow.com/a/67005346/1082681\">my answer</a> without giving me credit. Please behave better next time. Thank you."}],"tags":[],"owner":{"account_id":28228741,"reputation":1,"user_id":21578298,"display_name":"White"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680769237,"creation_date":1680769237,"answer_id":75947304,"question_id":75945989,"body_markdown":"execution(@(@de.scrum_master.app.MetaAnnotation *) * *(..))\r\n\r\nAfter many tries, the above function can be accomplished using this expression","title":"How to intercept meta annotations (annotated annotations) in Spring AOP.In other words, how to use aspectj syntax to match meta-annotation on method","body":"<p>execution(@(@de.scrum_master.app.MetaAnnotation *) * *(..))</p>\n<p>After many tries, the above function can be accomplished using this expression</p>\n"}],"owner":{"account_id":28228741,"reputation":1,"user_id":21578298,"display_name":"White"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680772131,"answer_count":1,"score":0,"last_activity_date":1680769237,"creation_date":1680757565,"question_id":75945989,"body_markdown":"This problem has been solved partly before,The question I asked builds on the answer to this question\r\nreference: https://stackoverflow.com/questions/48541144/how-to-intercept-meta-annotations-annotated-annotations-in-spring-aop\r\n\r\nrelated codes above\r\n```\r\npackage de.scrum_master.app;\r\n\r\nimport static java.lang.annotation.ElementType.*;\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RUNTIME)\r\n@Target({ TYPE })\r\npublic @interface MetaAnnotation {}\r\n```\r\n```\r\npackage de.scrum_master.app;\r\n\r\nimport static java.lang.annotation.ElementType.*;\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RUNTIME)\r\n@Target({ TYPE })\r\n@MetaAnnotation\r\npublic @interface MyAnnotation {}\r\n```\r\n\r\nbut only when the meta-annotation is added to the type,it works. Now I hope that when the annotation is used on the method, it can also be intercepted by asepct.\r\n\r\nThe following expression can intercept all MetaAnnotation used on type, but it cannot be applied to method\r\n\r\n```\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\n\r\n@Aspect\r\npublic class MetaAnnotationInterceptor {\r\n  @Before(\r\n    &quot;execution(* *(..)) &amp;&amp; (&quot; +\r\n      &quot;within(@de.scrum_master.app.MetaAnnotation *) || &quot; +\r\n      &quot;within(@(@de.scrum_master.app.MetaAnnotation *) *)&quot; +\r\n    &quot;)&quot;\r\n  )\r\n  public void myAdvice(JoinPoint thisJoinPoint){\r\n    System.out.println(thisJoinPoint);\r\n  }\r\n}\r\n```\r\n\r\nI tried\r\n\r\n&quot;annotation(@de.scrum_master.app.MetaAnnotation *) || &quot; +\r\n&quot;annotation(@(@de.scrum_master.app.MetaAnnotation *) *)&quot; +\r\n\r\nand\r\n\r\n&quot;@annotation(de.scrum_master.app.MetaAnnotation) || &quot; +\r\n&quot;@annotation(@annotation(de.scrum_master.app.MetaAnnotation))&quot; +\r\n\r\nAnd some similar combinations, but they will all report an error: the aspect expression cannot be parsed \r\n\r\n\r\nI want to know what kind of expression can intercept meta annotations annotated on method\r\n","title":"How to intercept meta annotations (annotated annotations) in Spring AOP.In other words, how to use aspectj syntax to match meta-annotation on method","body":"<p>This problem has been solved partly before,The question I asked builds on the answer to this question\nreference: <a href=\"https://stackoverflow.com/questions/48541144/how-to-intercept-meta-annotations-annotated-annotations-in-spring-aop\">How to intercept meta annotations (annotated annotations) in Spring AOP</a></p>\n<p>related codes above</p>\n<pre><code>package de.scrum_master.app;\n\nimport static java.lang.annotation.ElementType.*;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\n@Retention(RUNTIME)\n@Target({ TYPE })\npublic @interface MetaAnnotation {}\n</code></pre>\n<pre><code>package de.scrum_master.app;\n\nimport static java.lang.annotation.ElementType.*;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\n@Retention(RUNTIME)\n@Target({ TYPE })\n@MetaAnnotation\npublic @interface MyAnnotation {}\n</code></pre>\n<p>but only when the meta-annotation is added to the type,it works. Now I hope that when the annotation is used on the method, it can also be intercepted by asepct.</p>\n<p>The following expression can intercept all MetaAnnotation used on type, but it cannot be applied to method</p>\n<pre><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\n@Aspect\npublic class MetaAnnotationInterceptor {\n  @Before(\n    &quot;execution(* *(..)) &amp;&amp; (&quot; +\n      &quot;within(@de.scrum_master.app.MetaAnnotation *) || &quot; +\n      &quot;within(@(@de.scrum_master.app.MetaAnnotation *) *)&quot; +\n    &quot;)&quot;\n  )\n  public void myAdvice(JoinPoint thisJoinPoint){\n    System.out.println(thisJoinPoint);\n  }\n}\n</code></pre>\n<p>I tried</p>\n<p>&quot;annotation(@de.scrum_master.app.MetaAnnotation *) || &quot; +\n&quot;annotation(@(@de.scrum_master.app.MetaAnnotation *) *)&quot; +</p>\n<p>and</p>\n<p>&quot;@annotation(de.scrum_master.app.MetaAnnotation) || &quot; +\n&quot;@annotation(@annotation(de.scrum_master.app.MetaAnnotation))&quot; +</p>\n<p>And some similar combinations, but they will all report an error: the aspect expression cannot be parsed</p>\n<p>I want to know what kind of expression can intercept meta annotations annotated on method</p>\n"},{"tags":["java","spring","spring-mvc","session"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1436863485,"post_id":31401412,"comment_id":50777905,"body_markdown":"Don&#39;t store the ting in the session,. make it stateless. When updating pass the id and the data needed for changing, reload and update. Works with 1 or 100 tabs that way.","body":"Don&#39;t store the ting in the session,. make it stateless. When updating pass the id and the data needed for changing, reload and update. Works with 1 or 100 tabs that way."},{"owner":{"account_id":5338767,"reputation":2851,"user_id":4256727,"accept_rate":44,"display_name":"jgr"},"score":0,"creation_date":1436867455,"post_id":31401412,"comment_id":50780508,"body_markdown":"@ M. Deinum Yea now i think you are right even though it requires more code. But i saw my approach in multiple tutorials, its even in Spring pet clinic project which i thought contains best practices so i used it but now i see it has huge problems.","body":"@ M. Deinum Yea now i think you are right even though it requires more code. But i saw my approach in multiple tutorials, its even in Spring pet clinic project which i thought contains best practices so i used it but now i see it has huge problems."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1436867583,"post_id":31401412,"comment_id":50780573,"body_markdown":"It isn&#39;t about best practices it is a showcase on how to work with certain technologies... Please don&#39;t confuse the 2.","body":"It isn&#39;t about best practices it is a showcase on how to work with certain technologies... Please don&#39;t confuse the 2."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1436867773,"post_id":31401412,"comment_id":50780691,"body_markdown":"Also it doesn&#39;t require much additional code. Just add a method annotated with `@ModelAttribute` which loads the selected `Packet` from the database. The method will automatically be called before each request handling method. You could then cleanup your GET method and your POST method would still work as intended.","body":"Also it doesn&#39;t require much additional code. Just add a method annotated with <code>@ModelAttribute</code> which loads the selected <code>Packet</code> from the database. The method will automatically be called before each request handling method. You could then cleanup your GET method and your POST method would still work as intended."},{"owner":{"account_id":5338767,"reputation":2851,"user_id":4256727,"accept_rate":44,"display_name":"jgr"},"score":0,"creation_date":1436871108,"post_id":31401412,"comment_id":50782728,"body_markdown":"How can i pass id to @ModelAttribute so it loads right object from database? I&#39;ve never seen example like that.","body":"How can i pass id to @ModelAttribute so it loads right object from database? I&#39;ve never seen example like that."}],"answers":[{"comments":[{"owner":{"account_id":5338767,"reputation":2851,"user_id":4256727,"accept_rate":44,"display_name":"jgr"},"score":0,"creation_date":1436876129,"post_id":31405551,"comment_id":50786158,"body_markdown":"It will not work if i have any other method in that controller without packet_id in url. In that controller i have also addPacket, and displayPackets methods. I think it can work as expected with converters like this: @PathVariable(value = &quot;packet_id&quot;) Packet packet, and if packet is null then create new one but i am not sure if its the right way to handle this.","body":"It will not work if i have any other method in that controller without packet_id in url. In that controller i have also addPacket, and displayPackets methods. I think it can work as expected with converters like this: @PathVariable(value = &quot;packet_id&quot;) Packet packet, and if packet is null then create new one but i am not sure if its the right way to handle this."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1436876600,"post_id":31405551,"comment_id":50786509,"body_markdown":"If you are using Spring Data JPA that behavior is added for you out-of-the-box :). Also when posting/putting with an ID the entity should already exists. You could also create 2 controllers separating the known (with path variable) and unknown (without path variable) controllers.","body":"If you are using Spring Data JPA that behavior is added for you out-of-the-box :). Also when posting/putting with an ID the entity should already exists. You could also create 2 controllers separating the known (with path variable) and unknown (without path variable) controllers."},{"owner":{"account_id":5338767,"reputation":2851,"user_id":4256727,"accept_rate":44,"display_name":"jgr"},"score":0,"creation_date":1436877729,"post_id":31405551,"comment_id":50787359,"body_markdown":"I dont use Spring Data JPA, but i have some custom converters. Anyway it seems that it throws exception that packet_id is missing before converter is invoked. I could try use PathVariable in POST method params and dont use ModelAtribute but i am not sure if it&#39;s good approach. 2 separate controllers is an option but it means i have to double every controller which is painfull.. I think i will have to use approach with custom ConversationalSessionAttributeStore or update every POST method so it take data from db and update specific fields","body":"I dont use Spring Data JPA, but i have some custom converters. Anyway it seems that it throws exception that packet_id is missing before converter is invoked. I could try use PathVariable in POST method params and dont use ModelAtribute but i am not sure if it&#39;s good approach. 2 separate controllers is an option but it means i have to double every controller which is painfull.. I think i will have to use approach with custom ConversationalSessionAttributeStore or update every POST method so it take data from db and update specific fields"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1436877783,"post_id":31405551,"comment_id":50787409,"body_markdown":"A `@PathVariable` is always required, else it shouldn&#39;t be part of that method. So you would have 2 methods 1 with and one without a `@PathVariable`. You don&#39;t need to do things with a `ConversationalSessionAttributeStore`, you just have to make sure your mappings are correct. A note on Spring Data JPA I would suggest using it, it makes your live a lot easier.","body":"A <code>@PathVariable</code> is always required, else it shouldn&#39;t be part of that method. So you would have 2 methods 1 with and one without a <code>@PathVariable</code>. You don&#39;t need to do things with a <code>ConversationalSessionAttributeStore</code>, you just have to make sure your mappings are correct. A note on Spring Data JPA I would suggest using it, it makes your live a lot easier."},{"owner":{"account_id":5338767,"reputation":2851,"user_id":4256727,"accept_rate":44,"display_name":"jgr"},"score":0,"creation_date":1436880009,"post_id":31405551,"comment_id":50789182,"body_markdown":"I dont get it... Can you show working example of controller where add, edit, and display page should work for packet object assuming i use Spring Data JPA so converters should works. How to mix PathVariable and ModelAttribute in POST method? Anyway thx for your time","body":"I dont get it... Can you show working example of controller where add, edit, and display page should work for packet object assuming i use Spring Data JPA so converters should works. How to mix PathVariable and ModelAttribute in POST method? Anyway thx for your time"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436873981,"creation_date":1436873981,"answer_id":31405551,"question_id":31401412,"body_markdown":"Don&#39;t use session attributes, make your controller stateless and simply use the path variable to retrieve the correct model attribute. \r\n\r\n\t@Controller\r\n\tpublic class PacketController {\r\n\r\n\t\t@ModelAttribute\r\n\t\tpublic Packet packet(@PathVariable(value = &quot;packet_id&quot;) Long packet_id) {\r\n\t\t\treturn packetService.findById(packet_id);\r\n\t\t}\r\n\r\n\t\t@RequestMapping(value = &quot;/edit-packet/{packet_id}&quot;, method = RequestMethod.GET)\r\n\t\tpublic String editPacketForm() {\r\n\t\t\treturn &quot;packets/packetEdit&quot;;\r\n\t\t}\r\n\r\n\t\t@RequestMapping(value = &quot;/edit-packet/{packet_id}&quot;, method = RequestMethod.POST)\r\n\t\tpublic String packetEditAction(Model model, @Valid @ModelAttribute(value = &quot;packet&quot;) \r\n\t\t\t\t\t\t\t\t\t   Packet packet, BindingResult result) {\r\n\t\t\tif (result.hasErrors()) {\r\n\t\t\t\treturn &quot;packets/packetEdit&quot;;\r\n\t\t\t}\r\n\r\n\t\t\tpacketService.update(packet);\r\n\t\t\treturn &quot;redirect:/&quot;;\r\n\t\t}\r\n\t}\r\n\r\nSomething like that should do the trick. ","title":"SessionAttributes cause problems with multiple tabs","body":"<p>Don't use session attributes, make your controller stateless and simply use the path variable to retrieve the correct model attribute. </p>\n\n<pre><code>@Controller\npublic class PacketController {\n\n    @ModelAttribute\n    public Packet packet(@PathVariable(value = \"packet_id\") Long packet_id) {\n        return packetService.findById(packet_id);\n    }\n\n    @RequestMapping(value = \"/edit-packet/{packet_id}\", method = RequestMethod.GET)\n    public String editPacketForm() {\n        return \"packets/packetEdit\";\n    }\n\n    @RequestMapping(value = \"/edit-packet/{packet_id}\", method = RequestMethod.POST)\n    public String packetEditAction(Model model, @Valid @ModelAttribute(value = \"packet\") \n                                   Packet packet, BindingResult result) {\n        if (result.hasErrors()) {\n            return \"packets/packetEdit\";\n        }\n\n        packetService.update(packet);\n        return \"redirect:/\";\n    }\n}\n</code></pre>\n\n<p>Something like that should do the trick. </p>\n"},{"tags":[],"owner":{"account_id":393656,"reputation":8442,"user_id":755637,"accept_rate":35,"display_name":"V H"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680769161,"creation_date":1680616236,"answer_id":75930187,"question_id":31401412,"body_markdown":"Thanks @M. Deinium\r\n\r\nThis does work and whilst fresh I wanted to add additional enhancement required to make it work as required or as per last comment by jgr on edit display page and hope it makes sense\r\n\r\n\r\n    @Controller\r\n    public class PacketController {\r\n        public static String BINDING_RESULT=&quot;org.springframework.validation.BindingResult.&quot;;\r\n        private final PacketValidator PacketValidator;\r\n        \r\n        public PacketController(PacketValidator PacketValidator) {\r\n            this.PacketValidator = PacketValidator;\r\n        }\r\n        @ModelAttribute\r\n        public PacketDTO packet(@PathVariable(value = &quot;id&quot;, required=false) Long id) {\r\n             PacketDTO packetDTO = new PacketDTO();\r\n             //if there is an id then connect and fill in DTO\r\n             if (id != null) { \r\n               Packet packet = packetService.findById(id);\r\n               //implement method to assign all objects to DTO\r\n               packetDTP.assign(packet);\r\n             }\r\n             //either return  a new instance or one filled depending on if there was an id\r\n            return  packetDTO;\r\n        }\r\n    \r\n        //This would Hit above ModelAttribute but because there is no id it will assign a blank DTO\r\n        @GetMapping(&quot;/search&quot;)\r\n        public String changePacketForm() {\r\n            return &quot;packets/packetSearch&quot;;\r\n        }\r\n    \r\n    \r\n        //This would be posting to change-step2\r\n        @GetMapping(&quot;/change-step1/{id}&quot;)\r\n        public String changePacketForm() {\r\n            return &quot;packets/packetStep1&quot;;\r\n        }\r\n    \r\n    \r\n        //If whilst in step 2 the user wants to change mind and go back it needs to post\r\n        // to retain object\r\n        @PostMapping(&quot;/change-step1/{id}&quot;)\r\n        public String changePacketForm(@Valid @ModelAttribute(value = &quot;packet&quot;) {\r\n            return &quot;packets/packetStep1&quot;;\r\n        }\r\n    \r\n        //This would be getting form from packetStep1\r\n        @PostMapping(&quot;/change-step2/{id}&quot;)\r\n        public String editPacketForm() {\r\n            //If in step 2 we wanted to get back to step 1 in the form there would be a button\r\n            // within step2 to post back to step 1\r\n            return &quot;packets/packetStep2&quot;;\r\n    \r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/edit-packet/{id}&quot;, method = RequestMethod.GET)\r\n        public String editPacketForm() {\r\n            return &quot;packets/packetEdit&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/edit-packet/{packet_id}&quot;)\r\n        public String packetEditAction(Model model, @Valid @ModelAttribute(value = &quot;packet&quot;) \r\n                                       Packet packet, BindingResult result, RedirectAttributes redirectAttributes) {\r\n    \r\n            PacketValidator.validate(packet,bindingResult);\r\n            if (bindingResult.hasErrors()) {\r\n                // There are issues if you are going to redirect back to get action:\r\n                // you will need like sessionAttribute this \r\n                redirectAttributes.addFlashAttribute(BINDING_RESULT+&quot;packet&quot;, bindingResult);\r\n                //Being stateless you must also pass back object\r\n                redirectAttributes.addFlashAttribute(&quot;packet&quot;, packet);\r\n                //Redirect back to where get was\r\n                return  REDIRECT_URL+&quot;/add&quot;;\r\n        \r\n                //Or if you are going to load page up here then you won&#39;t need any redirect attributes\r\n                if (result.hasErrors()) {\r\n                    return &quot;packets/packetEdit&quot;;\r\n                }\r\n            }\r\n                                       \r\n         \r\n    \r\n            packetService.update(packet);\r\n            return &quot;redirect:/&quot;;\r\n            \r\n            \r\n        }\r\n    }\r\n\r\nPlease also be aware with sessionAttribute a DTO or object is in session and therefore there is no need to have or collect existing form fields within the html pages used within any amount of given forms, if you do go down the route of stateless (above) then were ever there are secondary forms perhaps a confirmation page etc all existing fields submitted has to be made hidden input type fields within those forms. Otherwise if you go back it will reset data back to what ever top part does when it loads in DTO\r\n\r\n\r\nPlease also note if you are saving existing entries you will need typically two save actions\r\n\r\n    //For new entries\r\n    @GetMapping(&quot;/save&quot;)\r\n    \r\n    \r\n    //For existing entries\r\n    @GetMapping(&quot;/save/{id}&quot;)\r\n\r\n","title":"SessionAttributes cause problems with multiple tabs","body":"<p>Thanks @M. Deinium</p>\n<p>This does work and whilst fresh I wanted to add additional enhancement required to make it work as required or as per last comment by jgr on edit display page and hope it makes sense</p>\n<pre><code>@Controller\npublic class PacketController {\n    public static String BINDING_RESULT=&quot;org.springframework.validation.BindingResult.&quot;;\n    private final PacketValidator PacketValidator;\n    \n    public PacketController(PacketValidator PacketValidator) {\n        this.PacketValidator = PacketValidator;\n    }\n    @ModelAttribute\n    public PacketDTO packet(@PathVariable(value = &quot;id&quot;, required=false) Long id) {\n         PacketDTO packetDTO = new PacketDTO();\n         //if there is an id then connect and fill in DTO\n         if (id != null) { \n           Packet packet = packetService.findById(id);\n           //implement method to assign all objects to DTO\n           packetDTP.assign(packet);\n         }\n         //either return  a new instance or one filled depending on if there was an id\n        return  packetDTO;\n    }\n\n    //This would Hit above ModelAttribute but because there is no id it will assign a blank DTO\n    @GetMapping(&quot;/search&quot;)\n    public String changePacketForm() {\n        return &quot;packets/packetSearch&quot;;\n    }\n\n\n    //This would be posting to change-step2\n    @GetMapping(&quot;/change-step1/{id}&quot;)\n    public String changePacketForm() {\n        return &quot;packets/packetStep1&quot;;\n    }\n\n\n    //If whilst in step 2 the user wants to change mind and go back it needs to post\n    // to retain object\n    @PostMapping(&quot;/change-step1/{id}&quot;)\n    public String changePacketForm(@Valid @ModelAttribute(value = &quot;packet&quot;) {\n        return &quot;packets/packetStep1&quot;;\n    }\n\n    //This would be getting form from packetStep1\n    @PostMapping(&quot;/change-step2/{id}&quot;)\n    public String editPacketForm() {\n        //If in step 2 we wanted to get back to step 1 in the form there would be a button\n        // within step2 to post back to step 1\n        return &quot;packets/packetStep2&quot;;\n\n    }\n\n    @RequestMapping(value = &quot;/edit-packet/{id}&quot;, method = RequestMethod.GET)\n    public String editPacketForm() {\n        return &quot;packets/packetEdit&quot;;\n    }\n\n    @PostMapping(&quot;/edit-packet/{packet_id}&quot;)\n    public String packetEditAction(Model model, @Valid @ModelAttribute(value = &quot;packet&quot;) \n                                   Packet packet, BindingResult result, RedirectAttributes redirectAttributes) {\n\n        PacketValidator.validate(packet,bindingResult);\n        if (bindingResult.hasErrors()) {\n            // There are issues if you are going to redirect back to get action:\n            // you will need like sessionAttribute this \n            redirectAttributes.addFlashAttribute(BINDING_RESULT+&quot;packet&quot;, bindingResult);\n            //Being stateless you must also pass back object\n            redirectAttributes.addFlashAttribute(&quot;packet&quot;, packet);\n            //Redirect back to where get was\n            return  REDIRECT_URL+&quot;/add&quot;;\n    \n            //Or if you are going to load page up here then you won't need any redirect attributes\n            if (result.hasErrors()) {\n                return &quot;packets/packetEdit&quot;;\n            }\n        }\n                                   \n     \n\n        packetService.update(packet);\n        return &quot;redirect:/&quot;;\n        \n        \n    }\n}\n</code></pre>\n<p>Please also be aware with sessionAttribute a DTO or object is in session and therefore there is no need to have or collect existing form fields within the html pages used within any amount of given forms, if you do go down the route of stateless (above) then were ever there are secondary forms perhaps a confirmation page etc all existing fields submitted has to be made hidden input type fields within those forms. Otherwise if you go back it will reset data back to what ever top part does when it loads in DTO</p>\n<p>Please also note if you are saving existing entries you will need typically two save actions</p>\n<pre><code>//For new entries\n@GetMapping(&quot;/save&quot;)\n\n\n//For existing entries\n@GetMapping(&quot;/save/{id}&quot;)\n</code></pre>\n"}],"owner":{"account_id":5338767,"reputation":2851,"user_id":4256727,"accept_rate":44,"display_name":"jgr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680769161,"creation_date":1436862062,"question_id":31401412,"body_markdown":"I have a Spring web app (Spring 3.2) and I have used following scenario to handle edit pages:\r\n\r\n    @Controller\r\n    @SessionAttributes(value = { &quot;packet&quot; })\r\n    public class PacketController {\r\n    \r\n\t@RequestMapping(value = &quot;/edit-packet/{packet_id}&quot;, method = RequestMethod.GET)\r\n\tpublic String editPacketForm(@PathVariable(value = &quot;packet_id&quot;) Long packet_id, Model model)\r\n\t{\r\n\t\tmodel.addAttribute(&quot;packet&quot;, packetService.findById(packet_id));\r\n\t\treturn &quot;packets/packetEdit&quot;;\r\n\t}\r\n\r\n\r\nPOST method:\r\n\r\n    @RequestMapping(value = &quot;/edit-packet/{packet_id}&quot;, method = RequestMethod.POST)\r\n    \tpublic String packetEditAction(Model model, @Valid @ModelAttribute(value = &quot;packet&quot;) \r\n                                       Packet packet, BindingResult result, SessionStatus status)\r\n    \t{\r\n\t\tif (result.hasErrors())\r\n\t\t{\r\n\t\t\treturn &quot;packets/packetEdit&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tpacketService.update(packet);\r\n\t\tstatus.setComplete();\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n\r\nNow the problem is what if someone tries to open multiple tabs for /edit-packet/{id} with different ids. With every new open tab the session &#39;packet&#39; object will be overwritten. Then after trying to submit forms on multiple tabs, first tab will be submitted but it actually change the second packet because in session is second object and second tab will cause error because setComplete has been invoked so there is no &#39;packet&#39; object in session.\r\n\r\n(This is known issue https://jira.spring.io/browse/SPR-4160).\r\n\r\nI am trying to implement this solution http://duckranger.com/2012/11/add-conversation-support-to-spring-mvc/ to solve this problem. I copied ConversationalSessionAttributeStore.java\r\nConversationIdRequestProcessor.java classes and in my servlet-config.xml I made this:\r\n\r\n    &lt;mvc:annotation-driven /&gt;\r\n    \r\n    &lt;bean id=&quot;conversationalSessionAttributeStore&quot;\r\n    \tclass=&quot;com.xx.session.ConversationalSessionAttributeStore&quot;&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean name=&quot;requestDataValueProcessor&quot; class=&quot;com.xx.session.ConversationIdRequestProcessor&quot; /&gt;\r\n\r\nBut it doesn&#39;t work, in my POST methods I don&#39;t see any new parameters, did I miss something?\r\n\r\n**UPDATE**: Actually, it started working, but maybe someone has a better idea to solve this issue? \r\n\r\nMy other idea is to force a new session on every new tab, but it&#39;s not a nice solution.\r\n","title":"SessionAttributes cause problems with multiple tabs","body":"<p>I have a Spring web app (Spring 3.2) and I have used following scenario to handle edit pages:</p>\n\n<pre><code>@Controller\n@SessionAttributes(value = { \"packet\" })\npublic class PacketController {\n\n@RequestMapping(value = \"/edit-packet/{packet_id}\", method = RequestMethod.GET)\npublic String editPacketForm(@PathVariable(value = \"packet_id\") Long packet_id, Model model)\n{\n    model.addAttribute(\"packet\", packetService.findById(packet_id));\n    return \"packets/packetEdit\";\n}\n</code></pre>\n\n<p>POST method:</p>\n\n<pre><code>@RequestMapping(value = \"/edit-packet/{packet_id}\", method = RequestMethod.POST)\n    public String packetEditAction(Model model, @Valid @ModelAttribute(value = \"packet\") \n                                   Packet packet, BindingResult result, SessionStatus status)\n    {\n    if (result.hasErrors())\n    {\n        return \"packets/packetEdit\";\n    }\n\n    packetService.update(packet);\n    status.setComplete();\n    return \"redirect:/\";\n}\n</code></pre>\n\n<p>Now the problem is what if someone tries to open multiple tabs for /edit-packet/{id} with different ids. With every new open tab the session 'packet' object will be overwritten. Then after trying to submit forms on multiple tabs, first tab will be submitted but it actually change the second packet because in session is second object and second tab will cause error because setComplete has been invoked so there is no 'packet' object in session.</p>\n\n<p>(This is known issue <a href=\"https://jira.spring.io/browse/SPR-4160\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/SPR-4160</a>).</p>\n\n<p>I am trying to implement this solution <a href=\"http://duckranger.com/2012/11/add-conversation-support-to-spring-mvc/\" rel=\"nofollow noreferrer\">http://duckranger.com/2012/11/add-conversation-support-to-spring-mvc/</a> to solve this problem. I copied ConversationalSessionAttributeStore.java\nConversationIdRequestProcessor.java classes and in my servlet-config.xml I made this:</p>\n\n<pre><code>&lt;mvc:annotation-driven /&gt;\n\n&lt;bean id=\"conversationalSessionAttributeStore\"\n    class=\"com.xx.session.ConversationalSessionAttributeStore\"&gt;\n&lt;/bean&gt;\n\n&lt;bean name=\"requestDataValueProcessor\" class=\"com.xx.session.ConversationIdRequestProcessor\" /&gt;\n</code></pre>\n\n<p>But it doesn't work, in my POST methods I don't see any new parameters, did I miss something?</p>\n\n<p><strong>UPDATE</strong>: Actually, it started working, but maybe someone has a better idea to solve this issue? </p>\n\n<p>My other idea is to force a new session on every new tab, but it's not a nice solution.</p>\n"},{"tags":["java","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680676261,"post_id":75936246,"comment_id":133936408,"body_markdown":"How do you get that service? Did you set the property value in the test properties or test setup?","body":"How do you get that service? Did you set the property value in the test properties or test setup?"}],"answers":[{"comments":[{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":0,"creation_date":1680677627,"post_id":75936305,"comment_id":133936664,"body_markdown":"The OP is using unit tests, not integration tests, judging by the way he instantiates the service using constructor. `application.properties` won&#39;t work, for that he needs Spring Integration Tests.","body":"The OP is using unit tests, not integration tests, judging by the way he instantiates the service using constructor. <code>application.properties</code> won&#39;t work, for that he needs Spring Integration Tests."}],"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680676391,"creation_date":1680676391,"answer_id":75936305,"question_id":75936246,"body_markdown":"We can override properties by putting the property file in the test resources. This file must be on the same classpath as the default one.\r\n\r\nIt should contain all the property keys specified in the default file. Therefore, we&#39;ll add the `application.properties` file into the `src/test/resources`.\r\n\r\nIt will override value.\r\n\r\nYou can refer [here][1].\r\n\r\n\r\n  [1]: https://Now%20we&#39;ll%20override%20properties%20by%20putting%20the%20property%20file%20in%20the%20test%20resources.%20This%20file%20must%20be%20on%20the%20same%20classpath%20as%20the%20default%20one.%20%20Additionally,%20it%20should%20contain%20all%20the%20property%20keys%20specified%20in%20the%20default%20file.%20Therefore,%20we&#39;ll%20add%20the%20application.properties%20file%20into%20the%20src/test/resources:","title":"For a private variable, how do you write a Junit test case","body":"<p>We can override properties by putting the property file in the test resources. This file must be on the same classpath as the default one.</p>\n<p>It should contain all the property keys specified in the default file. Therefore, we'll add the <code>application.properties</code> file into the <code>src/test/resources</code>.</p>\n<p>It will override value.</p>\n<p>You can refer <a href=\"https://Now%20we%27ll%20override%20properties%20by%20putting%20the%20property%20file%20in%20the%20test%20resources.%20This%20file%20must%20be%20on%20the%20same%20classpath%20as%20the%20default%20one.%20%20Additionally,%20it%20should%20contain%20all%20the%20property%20keys%20specified%20in%20the%20default%20file.%20Therefore,%20we%27ll%20add%20the%20application.properties%20file%20into%20the%20src/test/resources:\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680768696,"creation_date":1680677428,"answer_id":75936437,"question_id":75936246,"body_markdown":"You shouldn&#39;t be using property injection by putting the `@Value` annotation to the property, use rather constructor injection like this:\r\n\r\n```\r\n@Component\r\npublic class CustomerCommodityMarkupMapService {\r\n\r\n     private final String effectiveEndDate;\r\n\r\n     public CustomerCommodityMarkupMapService(@Value(&quot;${default.effective.endDate}&quot;) String effectiveEndDate) {\r\n          this.effectiveEndDate = effectiveEndDate;\r\n     }\r\n}\r\n```\r\n\r\nYou will be able to set the value in your unit test.\r\n\r\nIf you need to access a private property in your test, you can always use reflection, but it&#39;s kind of a code smell.","title":"For a private variable, how do you write a Junit test case","body":"<p>You shouldn't be using property injection by putting the <code>@Value</code> annotation to the property, use rather constructor injection like this:</p>\n<pre><code>@Component\npublic class CustomerCommodityMarkupMapService {\n\n     private final String effectiveEndDate;\n\n     public CustomerCommodityMarkupMapService(@Value(&quot;${default.effective.endDate}&quot;) String effectiveEndDate) {\n          this.effectiveEndDate = effectiveEndDate;\n     }\n}\n</code></pre>\n<p>You will be able to set the value in your unit test.</p>\n<p>If you need to access a private property in your test, you can always use reflection, but it's kind of a code smell.</p>\n"},{"tags":[],"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680678259,"creation_date":1680678259,"answer_id":75936535,"question_id":75936246,"body_markdown":"You can use Reflection to inject value here. For example like this:\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        ReflectionTestUtils.setField(mappedMarkup, &quot;effectiveEndDate&quot;, &quot;12/31/9999&quot;);\r\n    }\r\n\r\nOr you can use it directly inside test just call like this after object is constructed:\r\n\r\n    ReflectionTestUtils.setField(mappedMarkup, &quot;effectiveEndDate&quot;, &quot;12/31/9999&quot;);\r\n    \r\n\r\nIt should help you.\r\n","title":"For a private variable, how do you write a Junit test case","body":"<p>You can use Reflection to inject value here. For example like this:</p>\n<pre><code>@BeforeEach\nvoid setup() {\n    ReflectionTestUtils.setField(mappedMarkup, &quot;effectiveEndDate&quot;, &quot;12/31/9999&quot;);\n}\n</code></pre>\n<p>Or you can use it directly inside test just call like this after object is constructed:</p>\n<pre><code>ReflectionTestUtils.setField(mappedMarkup, &quot;effectiveEndDate&quot;, &quot;12/31/9999&quot;);\n</code></pre>\n<p>It should help you.</p>\n"}],"owner":{"account_id":28219603,"reputation":11,"user_id":21570551,"display_name":"HARIHARAN P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680768696,"creation_date":1680675891,"question_id":75936246,"body_markdown":"Whenever I try to execute this code, I get NullPointerException for this variable effectiveEndDate\r\n\r\n```\r\n@Component\r\npublic class CustomerCommodityMarkupMapService \r\n{\r\n     @Value(&quot;${default.effective.endDate}&quot;)\r\n     private String effectiveEndDate;\r\n\r\n     public CommodityMarkup mapMarkupModelToEntity(CommodityMarkupView commodityMarkupView) \r\n     {\r\n         CommodityMarkup commodityMarkup = new CommodityMarkup();\r\n\t commodityMarkup.setEffectiveEndDate(DateTimeUtil.convertStringToDate(effectiveEndDate));\r\n}\r\n```\r\n\r\n\r\n```\r\n@Test\r\nvoid testMapMarkupModelToEntity() \r\n{\r\n    CustomerCommodityMarkup mappedMarkup = new CustomerCommodityMarkup();\r\n    String effectiveEndDate = &quot;12/31/9999&quot;;\r\n    if (effectiveEndDate != null) \r\n    {\r\n        commodityMarkup.setEffectiveEndDate(DateTimeUtil.convertStringToDate(effectiveEndDate));\r\n    }\r\n    CustomerCommodityMarkup actualMarkup =      customerCommodityMarkupMapService.mapMarkupModelToEntity(commodityMarkupView);\r\n    assertEquals(mappedMarkup, actualMarkup);\r\n}\r\n```","title":"For a private variable, how do you write a Junit test case","body":"<p>Whenever I try to execute this code, I get NullPointerException for this variable effectiveEndDate</p>\n<pre><code>@Component\npublic class CustomerCommodityMarkupMapService \n{\n     @Value(&quot;${default.effective.endDate}&quot;)\n     private String effectiveEndDate;\n\n     public CommodityMarkup mapMarkupModelToEntity(CommodityMarkupView commodityMarkupView) \n     {\n         CommodityMarkup commodityMarkup = new CommodityMarkup();\n     commodityMarkup.setEffectiveEndDate(DateTimeUtil.convertStringToDate(effectiveEndDate));\n}\n</code></pre>\n<pre><code>@Test\nvoid testMapMarkupModelToEntity() \n{\n    CustomerCommodityMarkup mappedMarkup = new CustomerCommodityMarkup();\n    String effectiveEndDate = &quot;12/31/9999&quot;;\n    if (effectiveEndDate != null) \n    {\n        commodityMarkup.setEffectiveEndDate(DateTimeUtil.convertStringToDate(effectiveEndDate));\n    }\n    CustomerCommodityMarkup actualMarkup =      customerCommodityMarkupMapService.mapMarkupModelToEntity(commodityMarkupView);\n    assertEquals(mappedMarkup, actualMarkup);\n}\n</code></pre>\n"},{"tags":["java","jboss","apache-commons-vfs"],"answers":[{"comments":[{"owner":{"account_id":183857,"reputation":15364,"user_id":419516,"accept_rate":87,"display_name":"user219882"},"score":1,"creation_date":1320656462,"post_id":8017529,"comment_id":9836327,"body_markdown":"Scheme didn&#39;t help. But the problem was one instance of FileSystemManager. It should be created new for every operation.","body":"Scheme didn&#39;t help. But the problem was one instance of FileSystemManager. It should be created new for every operation."}],"tags":[],"owner":{"account_id":1000333,"reputation":69,"user_id":1015341,"display_name":"Bernd"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1320456789,"creation_date":1320456789,"answer_id":8017529,"question_id":7998574,"body_markdown":"I think it needs the file: scheme because the error says it&#39;s asumed to be relative.","title":"Apache Commons VFS - cannot resolveFile","body":"<p>I think it needs the file: scheme because the error says it's asumed to be relative.</p>\n"},{"comments":[{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":1,"creation_date":1418032970,"post_id":18152984,"comment_id":43163742,"body_markdown":"if you check the code behind `VFS.getManager()` you&#39;ll see that it creates a static instance of `StandardFileSystemManager` and initiate it for you or return the current instance.","body":"if you check the code behind <code>VFS.getManager()</code> you&#39;ll see that it creates a static instance of <code>StandardFileSystemManager</code> and initiate it for you or return the current instance."},{"owner":{"account_id":2229279,"reputation":271,"user_id":1967311,"display_name":"MJavaDev"},"score":0,"creation_date":1580983141,"post_id":18152984,"comment_id":106280110,"body_markdown":"This fixed the problem for me, as I was connecting to the same SFTP using different users","body":"This fixed the problem for me, as I was connecting to the same SFTP using different users"}],"tags":[],"owner":{"account_id":1565322,"reputation":17189,"user_id":1454261,"accept_rate":100,"display_name":"Voicu"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1376071714,"creation_date":1376071714,"answer_id":18152984,"question_id":7998574,"body_markdown":"For other people facing with this issue: I got rid of this error by replacing\r\n\r\n    FileSystemManager fsManager = VFS.getManager();\r\n\r\nwith\r\n\r\n    StandardFileSystemManager fsManager = new StandardFileSystemManager();\r\n    fsManager.init();\r\n\r\nThis allowed me to use the file system manager multiple times without getting the error anymore described in the question. Don&#39;t forget to close you `fsManager` when you&#39;re done with it:\r\n\r\n    fsManager.close();","title":"Apache Commons VFS - cannot resolveFile","body":"<p>For other people facing with this issue: I got rid of this error by replacing</p>\n\n<pre><code>FileSystemManager fsManager = VFS.getManager();\n</code></pre>\n\n<p>with</p>\n\n<pre><code>StandardFileSystemManager fsManager = new StandardFileSystemManager();\nfsManager.init();\n</code></pre>\n\n<p>This allowed me to use the file system manager multiple times without getting the error anymore described in the question. Don't forget to close you <code>fsManager</code> when you're done with it:</p>\n\n<pre><code>fsManager.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2704546,"reputation":2297,"user_id":2334422,"display_name":"Ishan Liyanage"},"score":1,"creation_date":1612882737,"post_id":62359038,"comment_id":116901145,"body_markdown":"This was indeed my case. Spent few hours and got your answer.","body":"This was indeed my case. Spent few hours and got your answer."},{"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"score":1,"creation_date":1616143717,"post_id":62359038,"comment_id":117915544,"body_markdown":"This was my case as well. If you are using apache commons VFS2 and the scheme is SFTP make sure to include jsch library in the classpath.","body":"This was my case as well. If you are using apache commons VFS2 and the scheme is SFTP make sure to include jsch library in the classpath."}],"tags":[],"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1592047423,"creation_date":1592047423,"answer_id":62359038,"question_id":7998574,"body_markdown":"Quite old question but popular. This exception is quite generic. For my case, this exception was thrown while uploading files to remote ftp server. And the root cause was missing sftp library in classpath. Just before this exception, `vfs` tries to resolve the file using one of the provider corresponding to the scheme mentioned in `URI`.\r\n\r\nFor my case, scheme was `sftp` and and it tried to find `jsch` library on classpath. Since, it was not present on my classpath, this exception was thrown.Therefore, one must keep the provider jar on classpath.","title":"Apache Commons VFS - cannot resolveFile","body":"<p>Quite old question but popular. This exception is quite generic. For my case, this exception was thrown while uploading files to remote ftp server. And the root cause was missing sftp library in classpath. Just before this exception, <code>vfs</code> tries to resolve the file using one of the provider corresponding to the scheme mentioned in <code>URI</code>.</p>\n\n<p>For my case, scheme was <code>sftp</code> and and it tried to find <code>jsch</code> library on classpath. Since, it was not present on my classpath, this exception was thrown.Therefore, one must keep the provider jar on classpath.</p>\n"},{"comments":[{"owner":{"account_id":6312912,"reputation":134,"user_id":4903894,"display_name":"phil76"},"score":0,"creation_date":1627553473,"post_id":63384230,"comment_id":121189225,"body_markdown":"Thanks very much for this - I was struggling with the error reported by the OP, and adding a maven dependency for jsch has fixed it.","body":"Thanks very much for this - I was struggling with the error reported by the OP, and adding a maven dependency for jsch has fixed it."}],"tags":[],"owner":{"account_id":17600537,"reputation":81,"user_id":12770615,"display_name":"AN5"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1680768124,"creation_date":1597263822,"answer_id":63384230,"question_id":7998574,"body_markdown":"@Manish Bansal - thank you for your reply on this issue.\r\nI tried everything but was still getting the same error: exception in thread &quot;main&quot; org.apache.commons.vfs2.filesystemexception: could not find file with uri &quot;sftp://.....&quot; because it is a relative path, and no base uri was provided.\r\n\r\nIn my MAVEN project i had to add the dependency for &#39;jsch&#39; &amp; it worked.\r\n\r\nSo, in a nutshell i added the following POM dependencies:\r\n```\r\n&lt;!-- SFTP --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jsch&lt;/artifactId&gt;\t\r\n    &lt;version&gt;0.1.55&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;commons-vfs2&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```\r\npublic void downloadFile() throws IOException {\t\t\r\n    FileSystemManager manager = VFS.getManager();\r\n    \t    \r\n    FileObject remote = manager.resolveFile(createConnectionString(&quot;XYZ.com&quot;,&quot;ABC&quot;,&quot;LMNOP&quot;,&quot;/&lt;FOLDER_NAME&gt;/&lt;FILE_NAME&gt;&quot;));\r\n    FileObject local = manager.resolveFile(System.getProperty(&quot;user.dir&quot;) + &quot;/&quot; + &quot;src//main//resources//&quot;);\r\n    \r\n    local.copyFrom(remote, Selectors.SELECT_SELF);\r\n \r\n    local.close();\r\n    remote.close();\r\n}\r\n\r\npublic static URI createConnectionString(String hostName, String username, String password, String remoteFilePath) {\t\t\r\n\tURI sftpURI = null;\r\n    try {\r\n    \tString userInfo = username + &quot;:&quot; + password;\r\n    \t\r\n    \tsftpURI = new URI(&quot;sftp&quot;,userInfo,hostName,-1,remoteFilePath,null,null);\r\n\t} catch (URISyntaxException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n    \r\n    return sftpURI;\r\n}\r\n```\r\n","title":"Apache Commons VFS - cannot resolveFile","body":"<p>@Manish Bansal - thank you for your reply on this issue.\nI tried everything but was still getting the same error: exception in thread &quot;main&quot; org.apache.commons.vfs2.filesystemexception: could not find file with uri &quot;sftp://.....&quot; because it is a relative path, and no base uri was provided.</p>\n<p>In my MAVEN project i had to add the dependency for 'jsch' &amp; it worked.</p>\n<p>So, in a nutshell i added the following POM dependencies:</p>\n<pre><code>&lt;!-- SFTP --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;   \n    &lt;version&gt;0.1.55&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-vfs2&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>public void downloadFile() throws IOException {     \n    FileSystemManager manager = VFS.getManager();\n            \n    FileObject remote = manager.resolveFile(createConnectionString(&quot;XYZ.com&quot;,&quot;ABC&quot;,&quot;LMNOP&quot;,&quot;/&lt;FOLDER_NAME&gt;/&lt;FILE_NAME&gt;&quot;));\n    FileObject local = manager.resolveFile(System.getProperty(&quot;user.dir&quot;) + &quot;/&quot; + &quot;src//main//resources//&quot;);\n    \n    local.copyFrom(remote, Selectors.SELECT_SELF);\n \n    local.close();\n    remote.close();\n}\n\npublic static URI createConnectionString(String hostName, String username, String password, String remoteFilePath) {        \n    URI sftpURI = null;\n    try {\n        String userInfo = username + &quot;:&quot; + password;\n        \n        sftpURI = new URI(&quot;sftp&quot;,userInfo,hostName,-1,remoteFilePath,null,null);\n    } catch (URISyntaxException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    \n    return sftpURI;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17667530,"reputation":87,"user_id":12824563,"display_name":"Samantra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680734855,"creation_date":1641164311,"answer_id":70560377,"question_id":7998574,"body_markdown":"Just to try to complement correct answers already provided.  \r\n*In short*: check [VFS Dependencies Table][3] for VFS features you use.\r\n\r\n----------\r\n\r\nI ran into a similar problem when I first tried to connect over `FTP` (*not SFTP as in the original question*). I use Maven with IntelliJ IDEA.  \r\nI looked through the [VFS official docs][1] and found out the following:\r\n1) Some of [VFS Project Dependencies][2] are optional and **not installed by default**.\r\n2) What **one can need to install** is on the [table in VFS Download &amp; Build page][3].  \r\nIndeed, `JSch` is required for `SFTP`, `Apache Commons Net` is required for `FTP`, etc.\r\n\r\nMy FTP connection had begun work as soon as I installed `Commons Net` via Maven.\r\n\r\n**EDIT 2023**: Namely, add in your `pom.xml`:\r\n```html\r\n&lt;!-- FTP --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n    &lt;version&gt;3.9.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: http://commons.apache.org/proper/commons-vfs/\r\n  [2]: https://commons.apache.org/proper/commons-vfs/commons-vfs2/dependencies.html\r\n  [3]: https://commons.apache.org/proper/commons-vfs/build.html","title":"Apache Commons VFS - cannot resolveFile","body":"<p>Just to try to complement correct answers already provided.<br />\n<em>In short</em>: check <a href=\"https://commons.apache.org/proper/commons-vfs/build.html\" rel=\"nofollow noreferrer\">VFS Dependencies Table</a> for VFS features you use.</p>\n<hr />\n<p>I ran into a similar problem when I first tried to connect over <code>FTP</code> (<em>not SFTP as in the original question</em>). I use Maven with IntelliJ IDEA.<br />\nI looked through the <a href=\"http://commons.apache.org/proper/commons-vfs/\" rel=\"nofollow noreferrer\">VFS official docs</a> and found out the following:</p>\n<ol>\n<li>Some of <a href=\"https://commons.apache.org/proper/commons-vfs/commons-vfs2/dependencies.html\" rel=\"nofollow noreferrer\">VFS Project Dependencies</a> are optional and <strong>not installed by default</strong>.</li>\n<li>What <strong>one can need to install</strong> is on the <a href=\"https://commons.apache.org/proper/commons-vfs/build.html\" rel=\"nofollow noreferrer\">table in VFS Download &amp; Build page</a>.<br />\nIndeed, <code>JSch</code> is required for <code>SFTP</code>, <code>Apache Commons Net</code> is required for <code>FTP</code>, etc.</li>\n</ol>\n<p>My FTP connection had begun work as soon as I installed <code>Commons Net</code> via Maven.</p>\n<p><strong>EDIT 2023</strong>: Namely, add in your <code>pom.xml</code>:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- FTP --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-net&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n    &lt;version&gt;3.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":183857,"reputation":15364,"user_id":419516,"accept_rate":87,"display_name":"user219882"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21440,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":8017529,"answer_count":5,"score":7,"last_activity_date":1680768124,"creation_date":1320338410,"question_id":7998574,"body_markdown":"The VFS method cannot process this URI `${jboss.server.temp.dir}/local/outgoing` configured in `jboss-beans.xml` which is resolved to `&quot;C:\\\\Download\\\\jboss-eap-5.1.1\\\\server\\\\default\\\\tmp/local/outgoing&quot;` by JBoss. When I try to resolve the URI and get the file, it throws an exception. Any ideas what could be the problem?\r\n\r\n`Exception`\r\n\r\n    17:35:25,024 ERROR [VfsSynchronizerConfImpl] File FromOutgoing cannot be resolved, FileSystemException:\r\n    org.apache.commons.vfs2.FileSystemException: Could not find file with URI &quot;C:\\Download\\jboss-eap-5.1.1\\server\\default\\tmp/local/outgoing&quot; because it is a relative path, and no base URI was provided.\r\n        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:719)\r\n        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:649)\r\n        at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:605)\r\n\r\n`DefaultFileSystemManager.class methods`\r\n\r\n    public FileObject resolveFile(final String uri) throws FileSystemException\r\n      -- this method calls the method below\r\n\r\n    public FileObject resolveFile(final FileObject baseFile, final String uri,\r\n            final FileSystemOptions fileSystemOptions)\r\n            throws FileSystemException\r\n      -- this method cannot process the string and throws\r\n         throw new FileSystemException(&quot;vfs.impl/find-rel-file.error&quot;, uri);","title":"Apache Commons VFS - cannot resolveFile","body":"<p>The VFS method cannot process this URI <code>${jboss.server.temp.dir}/local/outgoing</code> configured in <code>jboss-beans.xml</code> which is resolved to <code>\"C:\\\\Download\\\\jboss-eap-5.1.1\\\\server\\\\default\\\\tmp/local/outgoing\"</code> by JBoss. When I try to resolve the URI and get the file, it throws an exception. Any ideas what could be the problem?</p>\n\n<p><code>Exception</code></p>\n\n<pre><code>17:35:25,024 ERROR [VfsSynchronizerConfImpl] File FromOutgoing cannot be resolved, FileSystemException:\norg.apache.commons.vfs2.FileSystemException: Could not find file with URI \"C:\\Download\\jboss-eap-5.1.1\\server\\default\\tmp/local/outgoing\" because it is a relative path, and no base URI was provided.\n    at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:719)\n    at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:649)\n    at org.apache.commons.vfs2.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:605)\n</code></pre>\n\n<p><code>DefaultFileSystemManager.class methods</code></p>\n\n<pre><code>public FileObject resolveFile(final String uri) throws FileSystemException\n  -- this method calls the method below\n\npublic FileObject resolveFile(final FileObject baseFile, final String uri,\n        final FileSystemOptions fileSystemOptions)\n        throws FileSystemException\n  -- this method cannot process the string and throws\n     throw new FileSystemException(\"vfs.impl/find-rel-file.error\", uri);\n</code></pre>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659537676,"creation_date":1659537676,"answer_id":73223450,"question_id":73219552,"body_markdown":"Use the [`DefaultPolarItemRenderer`][1] method [`setConnectFirstAndLastPoint()`][2] to alter the default behavior. Starting from the example examined [here][3], the following change produces the chart shown below:\r\n\r\n    renderer.setConnectFirstAndLastPoint(false);\r\n\r\n[![Polar plot][4]][4]\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/DefaultPolarItemRenderer.html\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/DefaultPolarItemRenderer.html#setConnectFirstAndLastPoint(boolean)\r\n  [3]: https://stackoverflow.com/q/3458824/230513\r\n  [4]: https://i.stack.imgur.com/2N1YM.png","title":"How to remove connection/line between end points in jfree polar chart?","body":"<p>Use the <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/DefaultPolarItemRenderer.html\" rel=\"nofollow noreferrer\"><code>DefaultPolarItemRenderer</code></a> method <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/renderer/DefaultPolarItemRenderer.html#setConnectFirstAndLastPoint(boolean)\" rel=\"nofollow noreferrer\"><code>setConnectFirstAndLastPoint()</code></a> to alter the default behavior. Starting from the example examined <a href=\"https://stackoverflow.com/q/3458824/230513\">here</a>, the following change produces the chart shown below:</p>\n<pre><code>renderer.setConnectFirstAndLastPoint(false);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2N1YM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2N1YM.png\" alt=\"Polar plot\" /></a></p>\n"}],"owner":{"account_id":19163923,"reputation":66,"user_id":13999098,"display_name":"Harshit Rathore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73223450,"answer_count":1,"score":2,"last_activity_date":1680768012,"creation_date":1659519885,"question_id":73219552,"body_markdown":"I want to remove the straight line which is connecting the end points of the polar graph. It is not the part of dataset. I have also tried by inserting Double.NaN but results were not satisfiable, it created some extra connection to Double.Nan instead of breaking it.\r\n[![The Polar Graph, I created][1]][1]\r\n\r\n\r\n    public class PolarPanel extends JPanel {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tXYSeriesCollection dataset;\r\n\r\n\tpublic PolarPanel() {\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tdataset = new XYSeriesCollection();\r\n\t\tadd(new JLabel(&quot;No Data Available&quot;, JLabel.CENTER), BorderLayout.CENTER);\r\n\t}\r\n\r\n\tpublic void setGraph(XYSeries polarseries) {\r\n\t\tdataset.removeAllSeries();\r\n\t\tdataset.addSeries(polarseries);\r\n\t\tJFreeChart chart = ChartFactory.createPolarChart(&quot;Polar&quot;, dataset, isBackgroundSet(),\r\n\t\t\t\tgetIgnoreRepaint(),getFocusTraversalKeysEnabled());\r\n\t\tPolarPlot plot = (PolarPlot) chart.getPlot();\r\n\r\n\t\tvar renderer = new DefaultPolarItemRenderer();\r\n\t\trenderer.setShapesVisible(false);\r\n\t\tNumberAxis xAxis = (NumberAxis) plot.getAxis();\r\n\t\txAxis.setTickUnit(new NumberTickUnit(10));\r\n\r\n\t\tplot.setRenderer(renderer);\r\n\t\tplot.setBackgroundPaint(Color.WHITE);\r\n\r\n\t\tplot.setAngleGridlinesVisible(true);\r\n\t\tplot.setAngleGridlinePaint(Color.BLACK);\r\n\r\n\t\tplot.setRadiusGridlinesVisible(true);\r\n\t\tplot.setRadiusGridlinePaint(Color.BLACK);\r\n\r\n\t\tchart.getLegend().setFrame(BlockBorder.NONE);\r\n\r\n\t\tchart.setTitle(new TextTitle(&quot;Polar&quot;, new Font(&quot;Serif&quot;, java.awt.Font.BOLD, 18)));\r\n\t\tchart.removeLegend();\r\n\t\tChartPanel chartPanel = new ChartPanel(chart);\r\n\t\tchartPanel.setBorder(BorderFactory.createEmptyBorder(15, 15, 15, 15));\r\n\t\tchartPanel.setBackground(Color.WHITE);\r\n\t\tBorderLayout layout = (BorderLayout) this.getLayout();\r\n\t\tif(layout.getLayoutComponent(BorderLayout.CENTER)!=null)\r\n\t\t\tthis.remove(layout.getLayoutComponent(BorderLayout.CENTER));\r\n\t\tthis.add(chartPanel, BorderLayout.CENTER);\r\n\t}\r\n}\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KLdTE.png","title":"How to remove connection/line between end points in jfree polar chart?","body":"<p>I want to remove the straight line which is connecting the end points of the polar graph. It is not the part of dataset. I have also tried by inserting Double.NaN but results were not satisfiable, it created some extra connection to Double.Nan instead of breaking it.\n<a href=\"https://i.stack.imgur.com/KLdTE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KLdTE.png\" alt=\"The Polar Graph, I created\" /></a></p>\n<pre><code>public class PolarPanel extends JPanel {\nprivate static final long serialVersionUID = 1L;\nXYSeriesCollection dataset;\n\npublic PolarPanel() {\n    setLayout(new BorderLayout());\n    dataset = new XYSeriesCollection();\n    add(new JLabel(&quot;No Data Available&quot;, JLabel.CENTER), BorderLayout.CENTER);\n}\n\npublic void setGraph(XYSeries polarseries) {\n    dataset.removeAllSeries();\n    dataset.addSeries(polarseries);\n    JFreeChart chart = ChartFactory.createPolarChart(&quot;Polar&quot;, dataset, isBackgroundSet(),\n            getIgnoreRepaint(),getFocusTraversalKeysEnabled());\n    PolarPlot plot = (PolarPlot) chart.getPlot();\n\n    var renderer = new DefaultPolarItemRenderer();\n    renderer.setShapesVisible(false);\n    NumberAxis xAxis = (NumberAxis) plot.getAxis();\n    xAxis.setTickUnit(new NumberTickUnit(10));\n\n    plot.setRenderer(renderer);\n    plot.setBackgroundPaint(Color.WHITE);\n\n    plot.setAngleGridlinesVisible(true);\n    plot.setAngleGridlinePaint(Color.BLACK);\n\n    plot.setRadiusGridlinesVisible(true);\n    plot.setRadiusGridlinePaint(Color.BLACK);\n\n    chart.getLegend().setFrame(BlockBorder.NONE);\n\n    chart.setTitle(new TextTitle(&quot;Polar&quot;, new Font(&quot;Serif&quot;, java.awt.Font.BOLD, 18)));\n    chart.removeLegend();\n    ChartPanel chartPanel = new ChartPanel(chart);\n    chartPanel.setBorder(BorderFactory.createEmptyBorder(15, 15, 15, 15));\n    chartPanel.setBackground(Color.WHITE);\n    BorderLayout layout = (BorderLayout) this.getLayout();\n    if(layout.getLayoutComponent(BorderLayout.CENTER)!=null)\n        this.remove(layout.getLayoutComponent(BorderLayout.CENTER));\n    this.add(chartPanel, BorderLayout.CENTER);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":3,"creation_date":1680764669,"post_id":75946597,"comment_id":133954160,"body_markdown":"It needs 3 tests to be covered. 1: not existing bookId. 2. existing book id with title is not something. 3 existing book id where title is something. Then assert all these test cases gives the expected result.","body":"It needs 3 tests to be covered. 1: not existing bookId. 2. existing book id with title is not something. 3 existing book id where title is something. Then assert all these test cases gives the expected result."},{"owner":{"account_id":5609143,"reputation":385,"user_id":4442612,"display_name":"vijaydeep"},"score":1,"creation_date":1680769492,"post_id":75946597,"comment_id":133955230,"body_markdown":"Generally the coverage is considered for line coverage only. here you need to work on condition coverage as a single if statement with only one condition will have two branches one for positive and other for negative. Hence by writing only a single test case either for positive or negative statement coverage will become 100% but the condition coverage will be 50% only. Hope this helps.","body":"Generally the coverage is considered for line coverage only. here you need to work on condition coverage as a single if statement with only one condition will have two branches one for positive and other for negative. Hence by writing only a single test case either for positive or negative statement coverage will become 100% but the condition coverage will be 50% only. Hope this helps."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680771734,"post_id":75946597,"comment_id":133955712,"body_markdown":"Also see https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","body":"Also see <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":4250898,"reputation":303,"user_id":3478012,"display_name":"Gjergji Sevo"},"score":0,"creation_date":1681195081,"post_id":75946597,"comment_id":134012845,"body_markdown":"@zforgo that is clear to me and I have unit and IT test written to cover that but does not work with SonarQube.","body":"@zforgo that is clear to me and I have unit and IT test written to cover that but does not work with SonarQube."}],"owner":{"account_id":4250898,"reputation":303,"user_id":3478012,"display_name":"Gjergji Sevo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680767726,"creation_date":1680763613,"question_id":75946597,"body_markdown":"I have written a piece of code and I have written both unit and integration tests to cover it. The PR is failing because SonarQube says that the line coverage is below the threshold because the if conditions are not covered. On the other hand, IntelliJ is suggesting that the coverage is 100% for this class.\r\n\r\n    Optional&lt;Book&gt; bookOptional = bookPersistence.findBookFor(book.id);\r\n    bookOptional.ifPresent(book -&gt; {\r\n        if (book.title != &quot;something&quot;) {\r\n            throw new SomeException(&quot;cause&quot;);\r\n        }\r\n    });","title":"How to cover Optional.ifPresent in sonarQube?","body":"<p>I have written a piece of code and I have written both unit and integration tests to cover it. The PR is failing because SonarQube says that the line coverage is below the threshold because the if conditions are not covered. On the other hand, IntelliJ is suggesting that the coverage is 100% for this class.</p>\n<pre><code>Optional&lt;Book&gt; bookOptional = bookPersistence.findBookFor(book.id);\nbookOptional.ifPresent(book -&gt; {\n    if (book.title != &quot;something&quot;) {\n        throw new SomeException(&quot;cause&quot;);\n    }\n});\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1680767539,"post_id":75947031,"comment_id":133954744,"body_markdown":"The error message tells you that the class expects a newer JDK than you&#39;re using. In other words: Java 8 is not new enough. Recent MC versions require at least Java 17 (or Java 16 for a short while). Class file version 61.0 implies Java 17.","body":"The error message tells you that the class expects a newer JDK than you&#39;re using. In other words: Java 8 is not new enough. Recent MC versions require at least Java 17 (or Java 16 for a short while). Class file version 61.0 implies Java 17."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1680768167,"post_id":75947031,"comment_id":133954891,"body_markdown":"&quot;except i do not have a more recent version installed!&quot; Then isn&#39;t &quot;install a more recent version&quot; the natural thing to do?","body":"&quot;except i do not have a more recent version installed!&quot; Then isn&#39;t &quot;install a more recent version&quot; the natural thing to do?"},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":1,"creation_date":1680770128,"post_id":75947031,"comment_id":133955370,"body_markdown":"&quot;didn&#39;t work&quot; doesn&#39;t tell nearly enough. You probably didn&#39;t install it properly","body":"&quot;didn&#39;t work&quot; doesn&#39;t tell nearly enough. You probably didn&#39;t install it properly"},{"owner":{"account_id":9308221,"reputation":26,"user_id":6911064,"display_name":"Alex G"},"score":0,"creation_date":1680805628,"post_id":75947031,"comment_id":133963819,"body_markdown":"Joachim Sauer, that makes a lot of sense. Thank you for explaining. I was reading it backwards, as if it was telling me it was using 61 but it needed 52.","body":"Joachim Sauer, that makes a lot of sense. Thank you for explaining. I was reading it backwards, as if it was telling me it was using 61 but it needed 52."}],"owner":{"account_id":9308221,"reputation":26,"user_id":6911064,"display_name":"Alex G"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680775862,"answer_count":0,"score":0,"last_activity_date":1680767550,"creation_date":1680767203,"question_id":75947031,"body_markdown":"[![all information needed](https://i.stack.imgur.com/vdh7C.png)](https://i.stack.imgur.com/vdh7C.png)\r\nJNI Error and compilation error\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\njust trying to get my minecraft server running. sorry for inexperience with java\r\n\r\ni tried resetting my path to C:\\Program Files\\Java\\jdk1.8.0_351\\bin and i made sure it was at the top but to no avail. What is going on?? I also already reinstalled and uninstalled 17 in an attempt to clean up whatever is going on. Didn&#39;t work","title":"java compilation version error &quot;more recent version&quot; except i do not have a more recent version installed! Minecraft server","body":"<p><a href=\"https://i.stack.imgur.com/vdh7C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdh7C.png\" alt=\"all information needed\" /></a>\nJNI Error and compilation error\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n<p>just trying to get my minecraft server running. sorry for inexperience with java</p>\n<p>i tried resetting my path to C:\\Program Files\\Java\\jdk1.8.0_351\\bin and i made sure it was at the top but to no avail. What is going on?? I also already reinstalled and uninstalled 17 in an attempt to clean up whatever is going on. Didn't work</p>\n"},{"tags":["java","excel","apache-poi","hssfworkbook"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1680772068,"post_id":75946918,"comment_id":133955776,"body_markdown":"You use `SXSSFSheet`. Meaning only a portion of rows is accessible at a time. Seems you are no longer in the accessible window. Also `HSSFWorkbook` is for the old .xls files. `XSSFWorkbook` is for the new .xlsx files. `SXSSFWorkbook` is simply a streamed version where only a portion of rows is accessible. In addition to that, if you already have data in the workbook, `SXSSFWorkbook` does not really have an advantage, if you have to access that specific data, as its only streamed writing, but not reading","body":"You use <code>SXSSFSheet</code>. Meaning only a portion of rows is accessible at a time. Seems you are no longer in the accessible window. Also <code>HSSFWorkbook</code> is for the old .xls files. <code>XSSFWorkbook</code> is for the new .xlsx files. <code>SXSSFWorkbook</code> is simply a streamed version where only a portion of rows is accessible. In addition to that, if you already have data in the workbook, <code>SXSSFWorkbook</code> does not really have an advantage, if you have to access that specific data, as its only streamed writing, but not reading"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1680772445,"post_id":75946918,"comment_id":133955854,"body_markdown":"TL;DR use `XSSFWorkbook` to manipulate existing workbooks. Use `SXSSFWorkbook` for creating completely new files","body":"TL;DR use <code>XSSFWorkbook</code> to manipulate existing workbooks. Use <code>SXSSFWorkbook</code> for creating completely new files"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1680780897,"post_id":75946918,"comment_id":133957758,"body_markdown":"Don&#39;t call `createRow` or `createCell` - those will recreate existing cells and wipe stuff. If you already have styled cells, go `getRow` and `getCell`","body":"Don&#39;t call <code>createRow</code> or <code>createCell</code> - those will recreate existing cells and wipe stuff. If you already have styled cells, go <code>getRow</code> and <code>getCell</code>"}],"owner":{"account_id":25580246,"reputation":13,"user_id":19358943,"display_name":"yunju"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680766769,"creation_date":1680766274,"question_id":75946918,"body_markdown":"I&#39;m trying to insert a String in the cell using Poi.\r\nThe problem is that the excel file is not empty but some style already has been applied.\r\nThe border of the cell I want to put the value has styled like the pic below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nEventhough there is not any value in cells, console tell me that range of the border is already written.\r\nAlso I considered using HSSFWorkbook instead of SXSSFWorkbook.\r\nHowever it seems more efficient to use SXSSF because I have to handle millions of data in another sheet of the same file.\r\n\r\n\r\n [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j1ojc.png\r\n  [2]: https://i.stack.imgur.com/EEKdl.png\r\n\r\nIf I use the empty sheet, the code works well.\r\nHow can I solve this problem?\r\n\r\nHere is my code.\r\n\r\n    \tpublic SXSSFWorkbook selectCalculateResultExcelValue(SXSSFWorkbook wb, Map&lt;String, Object&gt; searchParam) {\r\n\r\n\t\t  SXSSFSheet xSheet=null;\r\n\t\t  xSheet = wb.getSheet(&quot;Sheet1&quot;);\r\n\t\t  String data = &quot;JEJU&quot;;\r\n\t\t  Row bodyRow=null;\r\n\t\t  bodyRow=xSheet.createRow(5);\r\n\t\t  Cell bodyCell = bodyRow.createCell(0);\r\n\t\t  bodyCell.setCellValue(data);\r\n\r\n\t\treturn wb;\r\n\t}","title":"How can I insert value in the cell with style using POI","body":"<p>I'm trying to insert a String in the cell using Poi.\nThe problem is that the excel file is not empty but some style already has been applied.\nThe border of the cell I want to put the value has styled like the pic below.</p>\n<p><a href=\"https://i.stack.imgur.com/j1ojc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j1ojc.png\" alt=\"enter image description here\" /></a></p>\n<p>Eventhough there is not any value in cells, console tell me that range of the border is already written.\nAlso I considered using HSSFWorkbook instead of SXSSFWorkbook.\nHowever it seems more efficient to use SXSSF because I have to handle millions of data in another sheet of the same file.</p>\n<p><a href=\"https://i.stack.imgur.com/EEKdl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EEKdl.png\" alt=\"enter image description here\" /></a></p>\n<p>If I use the empty sheet, the code works well.\nHow can I solve this problem?</p>\n<p>Here is my code.</p>\n<pre><code>    public SXSSFWorkbook selectCalculateResultExcelValue(SXSSFWorkbook wb, Map&lt;String, Object&gt; searchParam) {\n\n      SXSSFSheet xSheet=null;\n      xSheet = wb.getSheet(&quot;Sheet1&quot;);\n      String data = &quot;JEJU&quot;;\n      Row bodyRow=null;\n      bodyRow=xSheet.createRow(5);\n      Cell bodyCell = bodyRow.createCell(0);\n      bodyCell.setCellValue(data);\n\n    return wb;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"score":0,"creation_date":1519124964,"post_id":48880028,"comment_id":84772116,"body_markdown":"You should upgrade your Android Studio. It&#39;s too old.","body":"You should upgrade your Android Studio. It&#39;s too old."},{"owner":{"account_id":1621022,"reputation":1,"user_id":4563074,"display_name":"fvzaur"},"score":0,"creation_date":1519170230,"post_id":48880028,"comment_id":84797763,"body_markdown":"Well, the codebase is kind of old, so I cannot just move to latest Android Studio. More problems arise.","body":"Well, the codebase is kind of old, so I cannot just move to latest Android Studio. More problems arise."}],"owner":{"account_id":1621022,"reputation":1,"user_id":4563074,"display_name":"fvzaur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680766367,"creation_date":1519112356,"question_id":48880028,"body_markdown":"&quot;*Could not initialize class com.android.build.gradle.LibraryPlugin*&quot; error in Android Studio\r\n\r\nVersion information:  \r\nAndroid Studio 1.5, JDK 1.8, API 23, NDK 10e, \r\nGradle 2.9, gradle-experimental:0.6.0-alpha3","title":"Could not initialize class com.android.build.gradle.LibraryPlugin","body":"<p>&quot;<em>Could not initialize class com.android.build.gradle.LibraryPlugin</em>&quot; error in Android Studio</p>\n<p>Version information:<br />\nAndroid Studio 1.5, JDK 1.8, API 23, NDK 10e,\nGradle 2.9, gradle-experimental:0.6.0-alpha3</p>\n"},{"tags":["java","android","xml","android-8.0-oreo"],"answers":[{"comments":[{"owner":{"account_id":12990793,"reputation":11,"user_id":9390071,"display_name":"Crystalishia"},"score":0,"creation_date":1519207372,"post_id":48902827,"comment_id":84811321,"body_markdown":"its&#39;s just simple `EditText`, not with `TextInputLayout`. I need it to be numeric (not decimal) and password. Changing it temporarily to `textPassword` doesnt&#39;t change anything. I&#39;ve got four EditTexts for four pin digits.\nWhat do you mean by &quot;some components&quot;? I&#39;ve got support version &quot;27.0.2&quot;","body":"its&#39;s just simple <code>EditText</code>, not with <code>TextInputLayout</code>. I need it to be numeric (not decimal) and password. Changing it temporarily to <code>textPassword</code> doesnt&#39;t change anything. I&#39;ve got four EditTexts for four pin digits. What do you mean by &quot;some components&quot;? I&#39;ve got support version &quot;27.0.2&quot;"},{"owner":{"account_id":12989163,"reputation":161,"user_id":9388915,"display_name":"MrBhuyan"},"score":0,"creation_date":1519217078,"post_id":48902827,"comment_id":84818144,"body_markdown":"There is no difference between simple `edittext` and `TextInputLayout edittext`,\n`TextInputLayout` is for floating animation inside it there is a simple `edittext` only. i have tried with simple `edittext` both `numberPassword` &amp; `textPassword` works.","body":"There is no difference between simple <code>edittext</code> and <code>TextInputLayout edittext</code>, <code>TextInputLayout</code> is for floating animation inside it there is a simple <code>edittext</code> only. i have tried with simple <code>edittext</code> both <code>numberPassword</code> &amp; <code>textPassword</code> works."}],"tags":[],"owner":{"account_id":12989163,"reputation":161,"user_id":9388915,"display_name":"MrBhuyan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519215154,"creation_date":1519206803,"answer_id":48902827,"question_id":48902482,"body_markdown":"    android:inputType=&quot;numberPassword&quot;\r\n\r\nOR\r\n\r\n    android:inputType=&quot;textPassword&quot;\r\n\r\nBoth will working fine.\r\n\r\nMay be you have older version of some components, make sure you have newer ones.\r\n\r\n    &lt;android.support.design.widget.TextInputLayout\r\n            android:layout_width=&quot;273dp&quot;\r\n            android:layout_height=&quot;59dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.507&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.667&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot;&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/idGetPsw&quot;\r\n                android:layout_width=&quot;301dp&quot;\r\n                android:layout_height=&quot;43dp&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:hint=&quot;@string/password&quot;\r\n                android:inputType=&quot;textPassword&quot;\r\n                android:textColorLink=&quot;#FF3649AE&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.507&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/idGetEmail&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.052&quot;\r\n                tools:ignore=&quot;NotSibling&quot; /&gt;\r\n    \r\n    \r\n        &lt;/android.support.design.widget.TextInputLayout&gt;","title":"Android 8.0 Oreo InputType numberPassword not working - visible","body":"<pre><code>android:inputType=\"numberPassword\"\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>android:inputType=\"textPassword\"\n</code></pre>\n\n<p>Both will working fine.</p>\n\n<p>May be you have older version of some components, make sure you have newer ones.</p>\n\n<pre><code>&lt;android.support.design.widget.TextInputLayout\n        android:layout_width=\"273dp\"\n        android:layout_height=\"59dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.507\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.667\"\n        tools:ignore=\"MissingConstraints\"&gt;\n\n        &lt;EditText\n            android:id=\"@+id/idGetPsw\"\n            android:layout_width=\"301dp\"\n            android:layout_height=\"43dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:ems=\"10\"\n            android:hint=\"@string/password\"\n            android:inputType=\"textPassword\"\n            android:textColorLink=\"#FF3649AE\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.507\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/idGetEmail\"\n            app:layout_constraintVertical_bias=\"0.052\"\n            tools:ignore=\"NotSibling\" /&gt;\n\n\n    &lt;/android.support.design.widget.TextInputLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12990793,"reputation":11,"user_id":9390071,"display_name":"Crystalishia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519217412,"creation_date":1519217412,"answer_id":48906395,"question_id":48902482,"body_markdown":"Solution is changing device security setting &quot;show password&quot; to OFF and now it&#39;s okay.","title":"Android 8.0 Oreo InputType numberPassword not working - visible","body":"<p>Solution is changing device security setting \"show password\" to OFF and now it's okay.</p>\n"}],"owner":{"account_id":12990793,"reputation":11,"user_id":9390071,"display_name":"Crystalishia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680766198,"creation_date":1519205808,"question_id":48902482,"body_markdown":"I&#39;ve got some issue which is kind of weird.\r\n\r\nThere&#39;s an `EditText` with `android:inputType=&quot;numberPassword&quot;` but I can input also numbers and characters. Also whole text is visible and **not** marked by &quot;•••&quot;.\r\n\r\nDoes anyone have the same issue?\r\nIt was reported by user in Google Play Store and it also occurs in Android 8.0.0 emulator system. It **doesn&#39;t occur** on my OnePlus 5T also with Oreo 8.0.0 (OxygenOS 5.0.3).\r\n\r\nAny ideas?","title":"Android 8.0 Oreo InputType numberPassword not working - visible","body":"<p>I've got some issue which is kind of weird.</p>\n<p>There's an <code>EditText</code> with <code>android:inputType=&quot;numberPassword&quot;</code> but I can input also numbers and characters. Also whole text is visible and <strong>not</strong> marked by &quot;•••&quot;.</p>\n<p>Does anyone have the same issue?\nIt was reported by user in Google Play Store and it also occurs in Android 8.0.0 emulator system. It <strong>doesn't occur</strong> on my OnePlus 5T also with Oreo 8.0.0 (OxygenOS 5.0.3).</p>\n<p>Any ideas?</p>\n"},{"tags":["java","android","orm","android-room","sql-timestamp"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1519289470,"post_id":48922384,"comment_id":84852431,"body_markdown":"With triggers which can be added with inside `RoomDatabase.Callback.onCreate`","body":"With triggers which can be added with inside <code>RoomDatabase.Callback.onCreate</code>"},{"owner":{"account_id":6619390,"reputation":423,"user_id":5111626,"display_name":"Asif Mohammad Mollah"},"score":0,"creation_date":1519294045,"post_id":48922384,"comment_id":84855391,"body_markdown":"Can anybody show an example of a model entity that can use this two fields?","body":"Can anybody show an example of a model entity that can use this two fields?"}],"answers":[{"comments":[{"owner":{"account_id":6619390,"reputation":423,"user_id":5111626,"display_name":"Asif Mohammad Mollah"},"score":3,"creation_date":1526275787,"post_id":50142304,"comment_id":87662826,"body_markdown":"It will be better if you write in Java or logic flow. (It was tagged with Java)","body":"It will be better if you write in Java or logic flow. (It was tagged with Java)"},{"owner":{"account_id":5757344,"reputation":445,"user_id":4544797,"display_name":"Abu Noman"},"score":1,"creation_date":1573014921,"post_id":50142304,"comment_id":103738401,"body_markdown":"https://medium.com/@stephenja/timestamps-with-android-room-f3fd57b48250","body":"<a href=\"https://medium.com/@stephenja/timestamps-with-android-room-f3fd57b48250\" rel=\"nofollow noreferrer\">medium.com/@stephenja/timestamps-with-android-room-f3fd57b48&zwnj;&#8203;250</a>"},{"owner":{"account_id":2157195,"reputation":3026,"user_id":1912127,"display_name":"Dagmar"},"score":1,"creation_date":1581336500,"post_id":50142304,"comment_id":106385861,"body_markdown":"@AsifMohammadMollah I have added a Java example :)","body":"@AsifMohammadMollah I have added a Java example :)"}],"tags":[],"owner":{"account_id":4550824,"reputation":1563,"user_id":3696079,"display_name":"dphans"},"comment_count":3,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1525290859,"creation_date":1525289873,"answer_id":50142304,"question_id":48922384,"body_markdown":"I&#39;ve research many sites, but still not found any results can handle `middleware` or something like `callbacks` when we `Query`, `Insert`, `Update`, or `Delete`,... methods from `DAO`s.\r\n\r\nAs @selvin said, `RoomDatabase.Callback` interface only call when database created in first time. So, use that interface is incorrect way.\r\nSo, may be the way below is a trick for me, hope this will help you:\r\n\r\n\r\n### 1. We need to create a `BaseModel`\r\nThis model to sure that all models in database always available columns `creation_date` and `modification_date`.\r\n\r\n    abstract class BaseModel: Serializable {\r\n\r\n        @PrimaryKey(autoGenerate = true) \r\n        @Expose\r\n        var id: Long = 0\r\n\r\n        @ColumnInfo(name = &quot;description&quot;)\r\n        @SerializedName(value = &quot;description&quot;)\r\n        var description: String? = null\r\n\r\n        @ColumnInfo(name = &quot;creation_date&quot;)\r\n        @SerializedName(value = &quot;creation_date&quot;)\r\n        var creationDate: Date = Date(System.currentTimeMillis())\r\n\r\n        @ColumnInfo(name = &quot;modification_date&quot;)\r\n        @SerializedName(value = &quot;modification_date&quot;)\r\n        var modificationDate: Date = Date(System.currentTimeMillis())\r\n\r\n    }\r\n\r\n\r\n### 2. Create an `BaseDAO`\r\nInside `BaseDAO`, I also create a wrapper class named `DAOWrapper`, this class will store all helpful methods that we will use to process data like &quot;middleware&quot; before interact model&#39;s data to DAO.\r\n\r\n__So, why we don&#39;t create methods inside `BaseDAO`?__\r\n-&gt; We cannot do that! use that way will conflict android architecture and also we will have error from compiler (all methods declared in DAO object requires annotation `Update`, `Query`,...).\r\n\r\n    interface BaseDAO&lt;T&gt; where T: BaseModel {\r\n        \r\n        fun getAll(): List&lt;T&gt;\r\n\r\n        @Insert(onConflict = OnConflictStrategy.ABORT)\r\n        fun insert(modelData: T)\r\n\r\n        @Update(onConflict = OnConflictStrategy.ABORT)\r\n        fun update(modelData: T)\r\n\r\n        companion object {\r\n\r\n            open class DAOWrapper&lt;P, T&gt;(private val daoInstance: T) where T: BaseDAO&lt;P&gt;, P: BaseModel {\r\n\r\n                fun insertWithTimestapData(modelData: P) {\r\n                    modelData.modificationDate = Date(System.currentTimeMillis())\r\n                    this@DAOWrapper.daoInstance.insert(modelData)\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n### 3. To use the `DAOWrapper`\r\n\r\n    val appDatabase = // Do something to get RoomDatabase instance...\r\n    val exampleDao = appDatabase.exampleDAO()\r\n    val exampleDaoWrapper = BaseDAO.Companion.DAOWrapper(exampleDao)\r\n    \r\n    val exampleModel = ExampleModel(name = &quot;Example Name&quot;)\r\n    exampleDaoWrapper.insertWithTimestapData(exampleModel)\r\n    \r\n\r\n### References\r\nBelow is example instance of RoomDatabase and example model I used in code above:\r\n\r\n    /** ExampleModel.kt */\r\n    @Entity(\r\n        tableName = &quot;examples&quot;,\r\n        indices = [Index(value = arrayOf(&quot;name&quot;), unique = true)]\r\n    )\r\n    class ExampleModel(): BaseModel() {\r\n    \r\n        @ColumnInfo(name = &quot;name&quot;)\r\n        @SerializedName(value = &quot;name&quot;)\r\n        var name: String = String()\r\n\r\n        @Ignore\r\n        constructor(name: String): this() {\r\n            this@ExampleModel.name = name\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /** ExampleDAO.kt */\r\n    @Dao\r\n    interface ExampleDAO: BaseDAO&lt;ExampleModel&gt; {\r\n\r\n        @Query(&quot;SELECT * FROM `examples`&quot;)\r\n        override fun getAll(): List&lt;ExampleModel&gt;\r\n\r\n    }\r\n\r\n\r\n    /** AppDatabase.kt **/\r\n    @Database(entities = [ExampleModel::class], version = 1)\r\n    abstract class AppDatabase: RoomDatabase() {\r\n\r\n        abstract fun exampleDAO(): ExampleDAO\r\n\r\n        companion object {\r\n            private var databaseInstance: AppDatabase? = null\r\n            public const val DatabaseName: String = &quot;app_database&quot;\r\n\r\n            fun getDatabase(context: Context): AppDatabase {\r\n                this@Companion.destroyAndCreateNewInstanceIfNeeded(context)\r\n                return this@Companion.databaseInstance!!\r\n            }\r\n\r\n            fun destroyAndCreateNewInstanceIfNeeded(context: Context) {\r\n                synchronized(AppDatabase::class) {\r\n                    this@Companion.databaseInstance?.close()\r\n                    this@Companion.databaseInstance = Room.databaseBuilder(\r\n                        context.applicationContext,\r\n                        AppDatabase::class.java,\r\n                        this@Companion.DatabaseName\r\n                    ).build()\r\n                }\r\n            }\r\n        }\r\n\r\n    }","title":"How to implement created_at and updated_at column using Room Persistence ORM tools in android","body":"<p>I've research many sites, but still not found any results can handle <code>middleware</code> or something like <code>callbacks</code> when we <code>Query</code>, <code>Insert</code>, <code>Update</code>, or <code>Delete</code>,... methods from <code>DAO</code>s.</p>\n\n<p>As @selvin said, <code>RoomDatabase.Callback</code> interface only call when database created in first time. So, use that interface is incorrect way.\nSo, may be the way below is a trick for me, hope this will help you:</p>\n\n<h3>1. We need to create a <code>BaseModel</code></h3>\n\n<p>This model to sure that all models in database always available columns <code>creation_date</code> and <code>modification_date</code>.</p>\n\n<pre><code>abstract class BaseModel: Serializable {\n\n    @PrimaryKey(autoGenerate = true) \n    @Expose\n    var id: Long = 0\n\n    @ColumnInfo(name = \"description\")\n    @SerializedName(value = \"description\")\n    var description: String? = null\n\n    @ColumnInfo(name = \"creation_date\")\n    @SerializedName(value = \"creation_date\")\n    var creationDate: Date = Date(System.currentTimeMillis())\n\n    @ColumnInfo(name = \"modification_date\")\n    @SerializedName(value = \"modification_date\")\n    var modificationDate: Date = Date(System.currentTimeMillis())\n\n}\n</code></pre>\n\n<h3>2. Create an <code>BaseDAO</code></h3>\n\n<p>Inside <code>BaseDAO</code>, I also create a wrapper class named <code>DAOWrapper</code>, this class will store all helpful methods that we will use to process data like \"middleware\" before interact model's data to DAO.</p>\n\n<p><strong>So, why we don't create methods inside <code>BaseDAO</code>?</strong>\n-> We cannot do that! use that way will conflict android architecture and also we will have error from compiler (all methods declared in DAO object requires annotation <code>Update</code>, <code>Query</code>,...).</p>\n\n<pre><code>interface BaseDAO&lt;T&gt; where T: BaseModel {\n\n    fun getAll(): List&lt;T&gt;\n\n    @Insert(onConflict = OnConflictStrategy.ABORT)\n    fun insert(modelData: T)\n\n    @Update(onConflict = OnConflictStrategy.ABORT)\n    fun update(modelData: T)\n\n    companion object {\n\n        open class DAOWrapper&lt;P, T&gt;(private val daoInstance: T) where T: BaseDAO&lt;P&gt;, P: BaseModel {\n\n            fun insertWithTimestapData(modelData: P) {\n                modelData.modificationDate = Date(System.currentTimeMillis())\n                this@DAOWrapper.daoInstance.insert(modelData)\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<h3>3. To use the <code>DAOWrapper</code></h3>\n\n<pre><code>val appDatabase = // Do something to get RoomDatabase instance...\nval exampleDao = appDatabase.exampleDAO()\nval exampleDaoWrapper = BaseDAO.Companion.DAOWrapper(exampleDao)\n\nval exampleModel = ExampleModel(name = \"Example Name\")\nexampleDaoWrapper.insertWithTimestapData(exampleModel)\n</code></pre>\n\n<h3>References</h3>\n\n<p>Below is example instance of RoomDatabase and example model I used in code above:</p>\n\n<pre><code>/** ExampleModel.kt */\n@Entity(\n    tableName = \"examples\",\n    indices = [Index(value = arrayOf(\"name\"), unique = true)]\n)\nclass ExampleModel(): BaseModel() {\n\n    @ColumnInfo(name = \"name\")\n    @SerializedName(value = \"name\")\n    var name: String = String()\n\n    @Ignore\n    constructor(name: String): this() {\n        this@ExampleModel.name = name\n    }\n\n}\n\n\n/** ExampleDAO.kt */\n@Dao\ninterface ExampleDAO: BaseDAO&lt;ExampleModel&gt; {\n\n    @Query(\"SELECT * FROM `examples`\")\n    override fun getAll(): List&lt;ExampleModel&gt;\n\n}\n\n\n/** AppDatabase.kt **/\n@Database(entities = [ExampleModel::class], version = 1)\nabstract class AppDatabase: RoomDatabase() {\n\n    abstract fun exampleDAO(): ExampleDAO\n\n    companion object {\n        private var databaseInstance: AppDatabase? = null\n        public const val DatabaseName: String = \"app_database\"\n\n        fun getDatabase(context: Context): AppDatabase {\n            this@Companion.destroyAndCreateNewInstanceIfNeeded(context)\n            return this@Companion.databaseInstance!!\n        }\n\n        fun destroyAndCreateNewInstanceIfNeeded(context: Context) {\n            synchronized(AppDatabase::class) {\n                this@Companion.databaseInstance?.close()\n                this@Companion.databaseInstance = Room.databaseBuilder(\n                    context.applicationContext,\n                    AppDatabase::class.java,\n                    this@Companion.DatabaseName\n                ).build()\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2847865,"reputation":2502,"user_id":2445763,"accept_rate":36,"display_name":"lasec0203"},"score":1,"creation_date":1589949999,"post_id":60150087,"comment_id":109492313,"body_markdown":"all of that boilerplate code for something most would consider a routine database procedure","body":"all of that boilerplate code for something most would consider a routine database procedure"},{"owner":{"account_id":1159741,"reputation":735,"user_id":1139514,"accept_rate":22,"display_name":"Marco7757"},"score":0,"creation_date":1675849411,"post_id":60150087,"comment_id":133014658,"body_markdown":"Adding `@TypeConverters()` annotation to the field directly did not work in my case. I had to add it to either an `@Entity`, a `@Dao`, or a `@Database`.","body":"Adding <code>@TypeConverters()</code> annotation to the field directly did not work in my case. I had to add it to either an <code>@Entity</code>, a <code>@Dao</code>, or a <code>@Database</code>."}],"tags":[],"owner":{"account_id":2157195,"reputation":3026,"user_id":1912127,"display_name":"Dagmar"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581338299,"creation_date":1581336344,"answer_id":60150087,"question_id":48922384,"body_markdown":"To follow on the above with a Java example.\r\n\r\n**The Base entity for all the Room entities**\r\nThis maps to a table that contains an id, created_at and updated_at column.\r\n\r\n    public abstract class BaseEntity implements Serializable {\r\n    \r\n        @PrimaryKey(autoGenerate = true)\r\n        private long id;\r\n    \r\n        @ColumnInfo(name = &quot;created_at&quot;, defaultValue = &quot;CURRENT_TIMESTAMP&quot;)\r\n        @TypeConverters(DateConverter.class)\r\n        private Date createdAt;\r\n    \r\n        @ColumnInfo(name = &quot;updated_at&quot;, defaultValue = &quot;CURRENT_TIMESTAMP&quot;)\r\n        @TypeConverters(DateConverter.class)\r\n        private Date updatedAt;\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Date getCreatedAt() {\r\n            return createdAt;\r\n        }\r\n    \r\n        public void setCreatedAt(Date createdAt) {\r\n            this.createdAt = createdAt;\r\n        }\r\n    \r\n        public Date getUpdatedAt() {\r\n            return updatedAt;\r\n        }\r\n    \r\n        public void setUpdatedAt(Date updatedAt) {\r\n            this.updatedAt = updatedAt;\r\n        }\r\n    }\r\n\r\n**The Room Date TypeConverter**\r\nThis converts Java Dates into numbers which can be saved in the sqlite database.\r\n\r\n    public class DateConverter {\r\n    \r\n        @TypeConverter\r\n        public static Date toDate(Long timestamp) {\r\n            if (timestamp == null) {\r\n                return null;\r\n            }\r\n            return new Date(timestamp);\r\n        }\r\n    \r\n        @TypeConverter\r\n        public static Long toTimestamp(Date date) {\r\n            if (date == null) {\r\n                return null;\r\n            }\r\n    \r\n            return date.getTime();\r\n        }\r\n    }\r\n\r\n**The abstract BaseDao**\r\nThis Dao implements all the basic Insert, Update and Delete methods.\r\n\r\n    @Dao\r\n    public abstract class AbstractBaseEntityDao&lt;T extends BaseEntity&gt; {\r\n    \r\n        @Insert\r\n        public abstract long actualInsert(T t);\r\n    \r\n        public long insert(T t) {\r\n            t.setCreatedAt(new Date());\r\n            t.setUpdatedAt(new Date());\r\n            return actualInsert(t);\r\n        }\r\n    \r\n        @Insert\r\n        public abstract List&lt;Long&gt; actualInsertAll(List&lt;T&gt; ts);\r\n    \r\n        public List&lt;Long&gt; insertAll(List&lt;T&gt; ts) {\r\n            if (ts != null) {\r\n                for (T t : ts) {\r\n                    t.setCreatedAt(new Date());\r\n                    t.setUpdatedAt(new Date());\r\n                }\r\n            }\r\n            return actualInsertAll(ts);\r\n        }\r\n    \r\n        @Update\r\n        public abstract void actualUpdate(T t);\r\n    \r\n        public void update(T t) {\r\n            t.setUpdatedAt(new Date());\r\n            actualUpdate(t);\r\n        }\r\n    \r\n        @Update\r\n        public abstract void actualUpdateAll(List&lt;T&gt; ts);\r\n    \r\n        public void updateAll(List&lt;T&gt; ts) {\r\n            if (ts != null) {\r\n                for (T t : ts) {\r\n                    t.setUpdatedAt(new Date());\r\n                }\r\n            }\r\n            actualUpdateAll(ts);\r\n        }\r\n    \r\n        @Delete\r\n        public abstract void delete(T t);\r\n    \r\n        @Delete\r\n        public abstract void deleteAll(List&lt;T&gt; ts);\r\n    }\r\n\r\n**User and UserDao**\r\nHere is an example of a concrete Entity and Dao for a User (typical use-case).\r\n\r\n    @Entity(tableName = &quot;users&quot;)\r\n    public class User extends BaseEntity {\r\n    \r\n        @ColumnInfo(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        public User() {\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    @Dao\r\n    public abstract class UserDao extends AbstractBaseEntityDao&lt;User&gt; {\r\n    \r\n        @Query(&quot;select * from users&quot;)\r\n        public abstract List&lt;User&gt; getAllUsers();\r\n    }\r\n\r\n**How to insert a User**\r\nThis will use the AbstractBaseEntityDao which sets the created_at and updated_at timestamps.\r\n\r\nNote: do not do this on the UI thread!!\r\n\r\n    YourDatabase database = YourDatabase.getInstance(getApplicationContext());\r\n    UserDao userDao = database.userDao();\r\n    long userId = userDao.insert(userToAdd);\r\n    userToAdd.setId(userId);\r\n\r\n**How to update the User**\r\n\r\n    YourDatabase database = YourDatabase.getInstance(getApplicationContext());\r\n    UserDao userDao = database.userDao();\r\n    userDao.update(userToEdit);","title":"How to implement created_at and updated_at column using Room Persistence ORM tools in android","body":"<p>To follow on the above with a Java example.</p>\n\n<p><strong>The Base entity for all the Room entities</strong>\nThis maps to a table that contains an id, created_at and updated_at column.</p>\n\n<pre><code>public abstract class BaseEntity implements Serializable {\n\n    @PrimaryKey(autoGenerate = true)\n    private long id;\n\n    @ColumnInfo(name = \"created_at\", defaultValue = \"CURRENT_TIMESTAMP\")\n    @TypeConverters(DateConverter.class)\n    private Date createdAt;\n\n    @ColumnInfo(name = \"updated_at\", defaultValue = \"CURRENT_TIMESTAMP\")\n    @TypeConverters(DateConverter.class)\n    private Date updatedAt;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Date getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(Date updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n}\n</code></pre>\n\n<p><strong>The Room Date TypeConverter</strong>\nThis converts Java Dates into numbers which can be saved in the sqlite database.</p>\n\n<pre><code>public class DateConverter {\n\n    @TypeConverter\n    public static Date toDate(Long timestamp) {\n        if (timestamp == null) {\n            return null;\n        }\n        return new Date(timestamp);\n    }\n\n    @TypeConverter\n    public static Long toTimestamp(Date date) {\n        if (date == null) {\n            return null;\n        }\n\n        return date.getTime();\n    }\n}\n</code></pre>\n\n<p><strong>The abstract BaseDao</strong>\nThis Dao implements all the basic Insert, Update and Delete methods.</p>\n\n<pre><code>@Dao\npublic abstract class AbstractBaseEntityDao&lt;T extends BaseEntity&gt; {\n\n    @Insert\n    public abstract long actualInsert(T t);\n\n    public long insert(T t) {\n        t.setCreatedAt(new Date());\n        t.setUpdatedAt(new Date());\n        return actualInsert(t);\n    }\n\n    @Insert\n    public abstract List&lt;Long&gt; actualInsertAll(List&lt;T&gt; ts);\n\n    public List&lt;Long&gt; insertAll(List&lt;T&gt; ts) {\n        if (ts != null) {\n            for (T t : ts) {\n                t.setCreatedAt(new Date());\n                t.setUpdatedAt(new Date());\n            }\n        }\n        return actualInsertAll(ts);\n    }\n\n    @Update\n    public abstract void actualUpdate(T t);\n\n    public void update(T t) {\n        t.setUpdatedAt(new Date());\n        actualUpdate(t);\n    }\n\n    @Update\n    public abstract void actualUpdateAll(List&lt;T&gt; ts);\n\n    public void updateAll(List&lt;T&gt; ts) {\n        if (ts != null) {\n            for (T t : ts) {\n                t.setUpdatedAt(new Date());\n            }\n        }\n        actualUpdateAll(ts);\n    }\n\n    @Delete\n    public abstract void delete(T t);\n\n    @Delete\n    public abstract void deleteAll(List&lt;T&gt; ts);\n}\n</code></pre>\n\n<p><strong>User and UserDao</strong>\nHere is an example of a concrete Entity and Dao for a User (typical use-case).</p>\n\n<pre><code>@Entity(tableName = \"users\")\npublic class User extends BaseEntity {\n\n    @ColumnInfo(name = \"name\")\n    private String name;\n\n    public User() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n@Dao\npublic abstract class UserDao extends AbstractBaseEntityDao&lt;User&gt; {\n\n    @Query(\"select * from users\")\n    public abstract List&lt;User&gt; getAllUsers();\n}\n</code></pre>\n\n<p><strong>How to insert a User</strong>\nThis will use the AbstractBaseEntityDao which sets the created_at and updated_at timestamps.</p>\n\n<p>Note: do not do this on the UI thread!!</p>\n\n<pre><code>YourDatabase database = YourDatabase.getInstance(getApplicationContext());\nUserDao userDao = database.userDao();\nlong userId = userDao.insert(userToAdd);\nuserToAdd.setId(userId);\n</code></pre>\n\n<p><strong>How to update the User</strong></p>\n\n<pre><code>YourDatabase database = YourDatabase.getInstance(getApplicationContext());\nUserDao userDao = database.userDao();\nuserDao.update(userToEdit);\n</code></pre>\n"}],"owner":{"account_id":6619390,"reputation":423,"user_id":5111626,"display_name":"Asif Mohammad Mollah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13746,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":2,"score":14,"last_activity_date":1680766122,"creation_date":1519286883,"question_id":48922384,"body_markdown":"How can I implement `created_at` and `updated_at` columns using Room Persistence ORM tools in Android, that can update the timestamp automatically when creating or updating a row in a table?","title":"How to implement created_at and updated_at column using Room Persistence ORM tools in android","body":"<p>How can I implement <code>created_at</code> and <code>updated_at</code> columns using Room Persistence ORM tools in Android, that can update the timestamp automatically when creating or updating a row in a table?</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"comments":[{"owner":{"account_id":4335628,"reputation":429,"user_id":3540173,"display_name":"BMU"},"score":0,"creation_date":1519319566,"post_id":48928712,"comment_id":84873481,"body_markdown":"This works without the radio buttons as well , you can implement another behavior that shows the user that the item is selected (let&#39;s say colour in a different color the item ) . The idea is that you have a list in the adapter in which you will store all the selected items as per user selection","body":"This works without the radio buttons as well , you can implement another behavior that shows the user that the item is selected (let&#39;s say colour in a different color the item ) . The idea is that you have a list in the adapter in which you will store all the selected items as per user selection"}],"tags":[],"owner":{"account_id":4335628,"reputation":429,"user_id":3540173,"display_name":"BMU"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519306349,"creation_date":1519306349,"answer_id":48928712,"question_id":48928287,"body_markdown":"I think there is no multi choice listener because the RecylerView is designed that way , it recycles the layout items that are no longer visible and recreates them when needed. \r\n\r\nAs a workaround you could do the following :\r\n\r\n    1.include a radio button that shows the\r\n      selected state in the recyclerview item when clicked\r\n    2.In the adapter have an list of your choosing (eg. ArrayList) \r\n      that contains your selected objects (add/remove them when selected/deselected)\r\n    3.In the adapter you can make a method (eg. getSelectedItems()) that will \r\n      return that list.\r\n\r\nIf you provide what have you tried so far I will help you with the code","title":"Android: recyclerview How to implemente setMultiChoiceListener?","body":"<p>I think there is no multi choice listener because the RecylerView is designed that way , it recycles the layout items that are no longer visible and recreates them when needed. </p>\n\n<p>As a workaround you could do the following :</p>\n\n<pre><code>1.include a radio button that shows the\n  selected state in the recyclerview item when clicked\n2.In the adapter have an list of your choosing (eg. ArrayList) \n  that contains your selected objects (add/remove them when selected/deselected)\n3.In the adapter you can make a method (eg. getSelectedItems()) that will \n  return that list.\n</code></pre>\n\n<p>If you provide what have you tried so far I will help you with the code</p>\n"}],"owner":{"account_id":12944488,"reputation":53,"user_id":9359254,"accept_rate":40,"display_name":"מיכאל בלחסן"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680766093,"creation_date":1519305048,"question_id":48928287,"body_markdown":"I have a recyclerview and I want to implement a setMultiChoiceListener.\r\nWhy is there no such function in the recyclerview?\r\n\r\nI do not want a simple longclick because the longclick executes the method only when the finger is no longer on the screen, while the set multichoice it performs the function after 1 second even if the finger is still on the screen","title":"Android: recyclerview How to implemente setMultiChoiceListener?","body":"<p>I have a recyclerview and I want to implement a setMultiChoiceListener.\nWhy is there no such function in the recyclerview?</p>\n<p>I do not want a simple longclick because the longclick executes the method only when the finger is no longer on the screen, while the set multichoice it performs the function after 1 second even if the finger is still on the screen</p>\n"},{"tags":["java","android","android-sdcard"],"comments":[{"owner":{"account_id":9035851,"reputation":448,"user_id":6731871,"display_name":"Celestine"},"score":1,"creation_date":1519400660,"post_id":48951481,"comment_id":84909548,"body_markdown":"I thought you can&#39;t use `new` as variable name in Java...","body":"I thought you can&#39;t use <code>new</code> as variable name in Java..."},{"owner":{"account_id":7133782,"reputation":1136,"user_id":5454171,"display_name":"an_droid_dev"},"score":0,"creation_date":1519400822,"post_id":48951481,"comment_id":84909638,"body_markdown":"what do you mean with &quot;doesn not work&quot;? It crashes? Your files aren&#39;t renamed?","body":"what do you mean with &quot;doesn not work&quot;? It crashes? Your files aren&#39;t renamed?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1519401166,"post_id":48951481,"comment_id":84909853,"body_markdown":"Amaze is open source. Go look and see what they do. My guess is that they are using the Storage Access Framework and `DocumentFile`.","body":"Amaze is open source. Go look and see what they do. My guess is that they are using the Storage Access Framework and <code>DocumentFile</code>."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1519402609,"post_id":48951481,"comment_id":84910740,"body_markdown":"Which Androd version are you talking about? From Android 4.4 apps are not allowed to write on removable micro SD card anymore. Only in one app specific directory. Is `/storage/MicroSD` the path to your card?","body":"Which Androd version are you talking about? From Android 4.4 apps are not allowed to write on removable micro SD card anymore. Only in one app specific directory. Is <code>&#47;storage&#47;MicroSD</code> the path to your card?"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1519403148,"post_id":48951481,"comment_id":84911065,"body_markdown":"@CommonsWare... now that i see you here... What happened to Samba client app for Android? It&#39;s not in the store anymore. Looks like a nice feature but now its missing: https://commonsware.com/blog/2017/07/06/samba-uri.html Can you update that post?","body":"@CommonsWare... now that i see you here... What happened to Samba client app for Android? It&#39;s not in the store anymore. Looks like a nice feature but now its missing: <a href=\"https://commonsware.com/blog/2017/07/06/samba-uri.html\" rel=\"nofollow noreferrer\">commonsware.com/blog/2017/07/06/samba-uri.html</a> Can you update that post?"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1519403331,"post_id":48951481,"comment_id":84911191,"body_markdown":"@CommonsWare. I was wrong i think.  Now that i tried that link from a DeskTop browser i got &quot;Sorry! This content is not available in your country yet.\nWe&#39;re working to bring the content you love to more countries as quickly as possible.\nPlease check back again soon.&quot;. But then i hope it comes soon.","body":"@CommonsWare. I was wrong i think.  Now that i tried that link from a DeskTop browser i got &quot;Sorry! This content is not available in your country yet. We&#39;re working to bring the content you love to more countries as quickly as possible. Please check back again soon.&quot;. But then i hope it comes soon."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1519405136,"post_id":48951481,"comment_id":84912278,"body_markdown":"@greenapps: I get that same message. I am not completely clear what is going on there.","body":"@greenapps: I get that same message. I am not completely clear what is going on there."}],"owner":{"account_id":13008272,"reputation":1,"user_id":9402166,"display_name":"user9402166"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680766045,"creation_date":1519400553,"question_id":48951481,"body_markdown":"I have a number of folders on an external SD card (note: **Not** &quot;external storage&quot; as Enviroment.getExternalStorageDirectory()) and i wish to rename them from inside my app. In my mainfest xml file I have added both the &quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; and &quot;android.permission.READ_EXTERNAL_STORAGE&quot; permissions. I have tried to use file.renameTo(), but it doesn&#39;t appear to work on external SD cards. Code like:\r\n\r\n    File old = new File(&quot;/storage/MicroSD/folder_old&quot;)  \r\n    File new = new File(&quot;/storage/MicroSD/folder_new&quot;)  \r\n    old.renameTo(new);\r\n\r\n**does not work** on the external sd card (works fine if I use /storage/emulated/0/... instead). Reading through some similar questions, it looked like there was no way to write to the external SD card outside of your app&#39;s app-specific folder. However, an app like amaze can rename files/folders on  my external sd card no problem so there has to be some way to do it.","title":"Renaming files on external SD card","body":"<p>I have a number of folders on an external SD card (note: <strong>Not</strong> &quot;external storage&quot; as Enviroment.getExternalStorageDirectory()) and i wish to rename them from inside my app. In my mainfest xml file I have added both the &quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; and &quot;android.permission.READ_EXTERNAL_STORAGE&quot; permissions. I have tried to use file.renameTo(), but it doesn't appear to work on external SD cards. Code like:</p>\n<pre><code>File old = new File(&quot;/storage/MicroSD/folder_old&quot;)  \nFile new = new File(&quot;/storage/MicroSD/folder_new&quot;)  \nold.renameTo(new);\n</code></pre>\n<p><strong>does not work</strong> on the external sd card (works fine if I use /storage/emulated/0/... instead). Reading through some similar questions, it looked like there was no way to write to the external SD card outside of your app's app-specific folder. However, an app like amaze can rename files/folders on  my external sd card no problem so there has to be some way to do it.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10095682,"reputation":3461,"user_id":7461132,"accept_rate":83,"display_name":"Abhi"},"score":0,"creation_date":1522607037,"post_id":49600904,"comment_id":86209686,"body_markdown":"Your question is bit unclear. Do you want to **convert** the input in `Edittext` to **Speech** or **just get the text** and display it onClick?","body":"Your question is bit unclear. Do you want to <b>convert</b> the input in <code>Edittext</code> to <b>Speech</b> or <b>just get the text</b> and display it onClick?"},{"owner":{"account_id":9551999,"reputation":1,"user_id":7918163,"display_name":"Ram&#243;n G&#243;mez"},"score":0,"creation_date":1522609868,"post_id":49600904,"comment_id":86210622,"body_markdown":"Sorry, what I need is for you to recognize the text of the edittext just like the speech","body":"Sorry, what I need is for you to recognize the text of the edittext just like the speech"}],"answers":[{"comments":[{"owner":{"account_id":10095682,"reputation":3461,"user_id":7461132,"accept_rate":83,"display_name":"Abhi"},"score":0,"creation_date":1522940489,"post_id":49601840,"comment_id":86362146,"body_markdown":"Was your question answered?","body":"Was your question answered?"}],"tags":[],"owner":{"account_id":10095682,"reputation":3461,"user_id":7461132,"accept_rate":83,"display_name":"Abhi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522610859,"creation_date":1522610859,"answer_id":49601840,"question_id":49600904,"body_markdown":"To recognize the input in `EditText` and convert the input to speech, you can use the `TextToSpeech` class provided by Android. Example of this:\r\n\r\n\r\n    textToSpeech = new TextToSpeech(MainActivity.this, MainActivity.this);\r\n    editText = (EditText) findViewById(R.id.editText);\r\n    imageViewClick = (ImageView) findViewById(R.id.imageViewClick);\r\n    imageViewClick.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n             TextToSpeechFunction() ;\r\n        }});\r\n    }\r\n    public void TextToSpeechFunction()\r\n    {\r\n        String text = editText.getText().toString();\r\n        textToSpeech.speak(text, TextToSpeech.QUEUE_FLUSH, null);\r\n        Toast.makeText(MainActivity.this , text, Toast.LENGTH_LONG).show();\r\n    }\r\n    @Override\r\n    public void onDestroy() {\r\n        textToSpeech.shutdown();\r\n        super.onDestroy();\r\n    }\r\n    @Override\r\n    public void onInit(int TexttoSpeechCurrentStatus) {\r\n        if (TexttoSpeechCurrentStatus == TextToSpeech.SUCCESS) {\r\n            textToSpeech.setLanguage(Locale.US);\r\n                imageViewClick.setEnabled(true);\r\n                TextToSpeechFunction();\r\n            }\r\n    }\r\n    ","title":"i want know how Read text from editText and show the answer","body":"<p>To recognize the input in <code>EditText</code> and convert the input to speech, you can use the <code>TextToSpeech</code> class provided by Android. Example of this:</p>\n\n<pre><code>textToSpeech = new TextToSpeech(MainActivity.this, MainActivity.this);\neditText = (EditText) findViewById(R.id.editText);\nimageViewClick = (ImageView) findViewById(R.id.imageViewClick);\nimageViewClick.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n         TextToSpeechFunction() ;\n    }});\n}\npublic void TextToSpeechFunction()\n{\n    String text = editText.getText().toString();\n    textToSpeech.speak(text, TextToSpeech.QUEUE_FLUSH, null);\n    Toast.makeText(MainActivity.this , text, Toast.LENGTH_LONG).show();\n}\n@Override\npublic void onDestroy() {\n    textToSpeech.shutdown();\n    super.onDestroy();\n}\n@Override\npublic void onInit(int TexttoSpeechCurrentStatus) {\n    if (TexttoSpeechCurrentStatus == TextToSpeech.SUCCESS) {\n        textToSpeech.setLanguage(Locale.US);\n            imageViewClick.setEnabled(true);\n            TextToSpeechFunction();\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":9551999,"reputation":1,"user_id":7918163,"display_name":"Ram&#243;n G&#243;mez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680765973,"creation_date":1522604744,"question_id":49600904,"body_markdown":"I have a question, by pressing long on imageView &quot;imageViewClick.setOnLongClickListener&quot; recognizes the voice and answers the question. How do I make the normal press &quot;imageViewClick.setOnClickListener&quot; recognize the text of the editText and answer the question?\r\n\r\ni want know how Read text from editText and show the answer\r\n\r\nThanks\r\n\r\n        @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        initialize();\r\n\r\n        imageViewClick = (ImageView) findViewById(R.id.imageViewClick);\r\n\r\n        imageViewClick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n            }\r\n        });\r\n\r\n        imageViewClick.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n                Intent voice = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n                voice.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, &quot;es-ES&quot;);\r\n                voice.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, &quot;es-MX&quot;);\r\n                voice.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, &quot;pr-PR&quot;);\r\n                startActivityForResult(voice, VOICE_RECOGNIZER);\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(resultCode == RESULT_OK &amp;&amp; requestCode == VOICE_RECOGNIZER){\r\n            ArrayList&lt;String&gt; recognized = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\r\n            String listened = recognized.get(0);\r\n            editTextListening.setText(listened);\r\n            prepareAnswer(listened);\r\n        }\r\n    }\r\n\r\n    private void prepareAnswer(String listened) {\r\n        String normalize = Normalizer.normalize(listened, Normalizer.Form.NFD);\r\n        String withouttilde = normalize.replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;);\r\n\r\n        int result;\r\n        String answer = arrayListAnswer.get(0).getAnswer();\r\n        for (int i = 0; i &lt; arrayListAnswer.size(); i++) {\r\n            result = withouttilde.toLowerCase().indexOf(arrayListAnswer.get(i).getQuestion());\r\n            if(result != -1){\r\n                answer = arrayListAnswer.get(i).getAnswer();\r\n            }\r\n        }\r\n        answerTo(answer);\r\n    }\r\n\r\n    private void answerTo(String simpleAnswer) {\r\n        textViewAnswer.setText(simpleAnswer);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            textToSpeechRead.speak(simpleAnswer, TextToSpeech.QUEUE_FLUSH, null, null);\r\n        }else {\r\n            textToSpeechRead.speak(simpleAnswer, TextToSpeech.QUEUE_FLUSH, null);\r\n        }\r\n    }\r\n\r\n    public void initialize(){\r\n        editTextListening = (EditText) findViewById(R.id.editTextQuestion);\r\n        textViewAnswer = (TextView) findViewById(R.id.textViewAnswer);\r\n        arrayListAnswer = provideData();\r\n        textToSpeechRead = new TextToSpeech(this, this);\r\n    }\r\n\r\n    @Override\r\n    public void onInit(int status) {\r\n\r\n    }\r\n\r\n    public ArrayList&lt;AnswersActivity&gt; provideData(){\r\n        ArrayList&lt;AnswersActivity&gt; answers = new ArrayList&lt;&gt;();\r\n\r\n        answers.add(new AnswersActivity(&quot;defecto&quot;, &quot;No estoy programado para hablar de eso&quot;));\r\n        answers.add(new AnswersActivity(&quot;puff&quot;, &quot;Puff&quot;));\r\n        answers.add(new AnswersActivity(&quot;chiste&quot;, &quot;&#191;Sabes que mi hermano anda en bicicleta desde los 4 a&#241;os? Mmm, ya debe estar lejos&quot;));\r\n        answers.add(new AnswersActivity(&quot;adios&quot;, &quot;que descanses&quot;));\r\n        answers.add(new AnswersActivity(&quot;estas&quot;, &quot;esperando serte de ayuda&quot;));\r\n        answers.add(new AnswersActivity(&quot;dj&quot;, &quot;YEY BALBIN&quot;));\r\n\r\n        return answers;\r\n    }\r\n}","title":"i want know how Read text from editText and show the answer","body":"<p>I have a question, by pressing long on imageView &quot;imageViewClick.setOnLongClickListener&quot; recognizes the voice and answers the question. How do I make the normal press &quot;imageViewClick.setOnClickListener&quot; recognize the text of the editText and answer the question?</p>\n<p>i want know how Read text from editText and show the answer</p>\n<p>Thanks</p>\n<pre><code>    @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    initialize();\n\n    imageViewClick = (ImageView) findViewById(R.id.imageViewClick);\n\n    imageViewClick.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n        }\n    });\n\n    imageViewClick.setOnLongClickListener(new View.OnLongClickListener() {\n        @Override\n        public boolean onLongClick(View v) {\n            Intent voice = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n            voice.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, &quot;es-ES&quot;);\n            voice.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, &quot;es-MX&quot;);\n            voice.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, &quot;pr-PR&quot;);\n            startActivityForResult(voice, VOICE_RECOGNIZER);\n            return false;\n        }\n    });\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if(resultCode == RESULT_OK &amp;&amp; requestCode == VOICE_RECOGNIZER){\n        ArrayList&lt;String&gt; recognized = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\n        String listened = recognized.get(0);\n        editTextListening.setText(listened);\n        prepareAnswer(listened);\n    }\n}\n\nprivate void prepareAnswer(String listened) {\n    String normalize = Normalizer.normalize(listened, Normalizer.Form.NFD);\n    String withouttilde = normalize.replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;);\n\n    int result;\n    String answer = arrayListAnswer.get(0).getAnswer();\n    for (int i = 0; i &lt; arrayListAnswer.size(); i++) {\n        result = withouttilde.toLowerCase().indexOf(arrayListAnswer.get(i).getQuestion());\n        if(result != -1){\n            answer = arrayListAnswer.get(i).getAnswer();\n        }\n    }\n    answerTo(answer);\n}\n\nprivate void answerTo(String simpleAnswer) {\n    textViewAnswer.setText(simpleAnswer);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n        textToSpeechRead.speak(simpleAnswer, TextToSpeech.QUEUE_FLUSH, null, null);\n    }else {\n        textToSpeechRead.speak(simpleAnswer, TextToSpeech.QUEUE_FLUSH, null);\n    }\n}\n\npublic void initialize(){\n    editTextListening = (EditText) findViewById(R.id.editTextQuestion);\n    textViewAnswer = (TextView) findViewById(R.id.textViewAnswer);\n    arrayListAnswer = provideData();\n    textToSpeechRead = new TextToSpeech(this, this);\n}\n\n@Override\npublic void onInit(int status) {\n\n}\n\npublic ArrayList&lt;AnswersActivity&gt; provideData(){\n    ArrayList&lt;AnswersActivity&gt; answers = new ArrayList&lt;&gt;();\n\n    answers.add(new AnswersActivity(&quot;defecto&quot;, &quot;No estoy programado para hablar de eso&quot;));\n    answers.add(new AnswersActivity(&quot;puff&quot;, &quot;Puff&quot;));\n    answers.add(new AnswersActivity(&quot;chiste&quot;, &quot;¿Sabes que mi hermano anda en bicicleta desde los 4 años? Mmm, ya debe estar lejos&quot;));\n    answers.add(new AnswersActivity(&quot;adios&quot;, &quot;que descanses&quot;));\n    answers.add(new AnswersActivity(&quot;estas&quot;, &quot;esperando serte de ayuda&quot;));\n    answers.add(new AnswersActivity(&quot;dj&quot;, &quot;YEY BALBIN&quot;));\n\n    return answers;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","firebase","android-studio","android-studio-3.0"],"comments":[{"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"score":0,"creation_date":1524238086,"post_id":49945013,"comment_id":86906323,"body_markdown":"if you are using retrofit in onfialure method put the dailog inside it","body":"if you are using retrofit in onfialure method put the dailog inside it"}],"answers":[{"comments":[{"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"score":0,"creation_date":1524238707,"post_id":49945207,"comment_id":86906704,"body_markdown":"the answer in the url  work even the no internet services","body":"the answer in the url  work even the no internet services"}],"tags":[],"owner":{"account_id":8486438,"reputation":88,"user_id":6364392,"display_name":"Turbolay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524238531,"creation_date":1524238531,"answer_id":49945207,"question_id":49945013,"body_markdown":"You can use this answer : https://stackoverflow.com/questions/9521232/how-to-catch-an-exception-if-the-internet-or-signal-is-down\r\n\r\nOr check result / put try - catch around `GoogleSignIn.getClient(this, gso);`","title":"Pop-up for No Internet Connection in Android App","body":"<p>You can use this answer : <a href=\"https://stackoverflow.com/questions/9521232/how-to-catch-an-exception-if-the-internet-or-signal-is-down\">How to catch an Exception if the Internet or Signal is down</a></p>\n\n<p>Or check result / put try - catch around <code>GoogleSignIn.getClient(this, gso);</code></p>\n"},{"tags":[],"owner":{"account_id":5352298,"reputation":357,"user_id":4266105,"display_name":"BlizzedRu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524239075,"creation_date":1524239075,"answer_id":49945358,"question_id":49945013,"body_markdown":"You should look at [this][1] question to detect if internet is connected. \r\nIf no, use [AlertDialog][2] (or any other &quot;pop-ups&quot;) to show message to user. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1560788/how-to-check-internet-access-on-android-inetaddress-never-times-out\r\n  [2]: http://developer.android.com/guide/topics/ui/dialogs.html","title":"Pop-up for No Internet Connection in Android App","body":"<p>You should look at <a href=\"https://stackoverflow.com/questions/1560788/how-to-check-internet-access-on-android-inetaddress-never-times-out\">this</a> question to detect if internet is connected. \nIf no, use <a href=\"http://developer.android.com/guide/topics/ui/dialogs.html\" rel=\"nofollow noreferrer\">AlertDialog</a> (or any other \"pop-ups\") to show message to user. </p>\n"}],"owner":{"display_name":"user8637744"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680765607,"creation_date":1524237871,"question_id":49945013,"body_markdown":"I use Firebase in My Android App for Login &amp; Registering. My Login Page is My Launcher Activity. I want if user is not connected to Internet or WiFi it&#39;s Shows the pop-up of No Internet Connection. How to Achieve It ?","title":"Pop-up for No Internet Connection in Android App","body":"<p>I use Firebase in My Android App for Login &amp; Registering. My Login Page is My Launcher Activity. I want if user is not connected to Internet or WiFi it's Shows the pop-up of No Internet Connection. How to Achieve It ?</p>\n"},{"tags":["java","android","toast"],"answers":[{"comments":[{"owner":{"account_id":12338736,"reputation":29,"user_id":9002747,"display_name":"Kulesh Vandan"},"score":0,"creation_date":1524320609,"post_id":49955654,"comment_id":86929589,"body_markdown":"what is the relation between starting a new loader and showing up of toast twice?","body":"what is the relation between starting a new loader and showing up of toast twice?"},{"owner":{"account_id":6450102,"reputation":11945,"user_id":7765139,"display_name":"Levi Moreira"},"score":0,"creation_date":1524320836,"post_id":49955654,"comment_id":86929651,"body_markdown":"The fact that a toast is showing twice means onFinishedLoad is being called twice. The fact that onload finished is being called twice might be because your initializing an already initiated loader.","body":"The fact that a toast is showing twice means onFinishedLoad is being called twice. The fact that onload finished is being called twice might be because your initializing an already initiated loader."},{"owner":{"account_id":12338736,"reputation":29,"user_id":9002747,"display_name":"Kulesh Vandan"},"score":1,"creation_date":1524321254,"post_id":49955654,"comment_id":86929772,"body_markdown":"it should be getSupportLoaderManager instead of getLoaderManager because getLoaderManager is giving an error for the third argument","body":"it should be getSupportLoaderManager instead of getLoaderManager because getLoaderManager is giving an error for the third argument"},{"owner":{"account_id":6450102,"reputation":11945,"user_id":7765139,"display_name":"Levi Moreira"},"score":0,"creation_date":1524321325,"post_id":49955654,"comment_id":86929793,"body_markdown":"If you&#39;re using AppCompatActivity the it should be getSupportLoaderManager","body":"If you&#39;re using AppCompatActivity the it should be getSupportLoaderManager"}],"tags":[],"owner":{"account_id":6450102,"reputation":11945,"user_id":7765139,"display_name":"Levi Moreira"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524331262,"creation_date":1524312866,"answer_id":49955654,"question_id":49955583,"body_markdown":"You&#39;re initing a new loader on every refresh, try simply restarting the same loader when you click the refresh button:\r\n\r\n    findViewById(R.id.refresh).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(findViewById(R.id.list).getVisibility() == View.GONE||findViewById(R.id.list).getHeight() &lt;= 0){\r\n                    &lt;do something&gt;\r\n                }\r\n                if(getSupportLoaderManager().getLoader(0) == null) {\r\n                      getSupportLoaderManager().initLoader(0, null, EarthquakeActivity.this);\r\n                } else {\r\n                    getSupportLoaderManager().restartLoader(0, null, EarthquakeActivity.this);\r\n                }\r\n            }\r\n    });","title":"Toast is showing twice repeatedly","body":"<p>You're initing a new loader on every refresh, try simply restarting the same loader when you click the refresh button:</p>\n\n<pre><code>findViewById(R.id.refresh).setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(findViewById(R.id.list).getVisibility() == View.GONE||findViewById(R.id.list).getHeight() &lt;= 0){\n                &lt;do something&gt;\n            }\n            if(getSupportLoaderManager().getLoader(0) == null) {\n                  getSupportLoaderManager().initLoader(0, null, EarthquakeActivity.this);\n            } else {\n                getSupportLoaderManager().restartLoader(0, null, EarthquakeActivity.this);\n            }\n        }\n});\n</code></pre>\n"}],"owner":{"account_id":12338736,"reputation":29,"user_id":9002747,"display_name":"Kulesh Vandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":49955654,"answer_count":1,"score":1,"last_activity_date":1680765576,"creation_date":1524312332,"question_id":49955583,"body_markdown":"When I am pressing Refresh button then toast is showing up twice repeatedly.\r\n\r\nI am implementing toast only once.\r\nIs there anything to do with adapter?\r\n\r\nHere is the code - \r\n\r\n    \r\n    public class EarthquakeActivity extends AppCompatActivity implements LoaderManager.LoaderCallbacks&lt;ArrayList&lt;EarthquakeDetails&gt;&gt; {\r\n  \r\n        public static final String USGS_URL;\r\n        public static ArrayList&lt;EarthquakeDetails&gt; earthquakes;\r\n        private boolean refreshed = false;\r\n        ListView earthquakeListView;\r\n        EarthquakeAdapter adapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.earthquake_activity);\r\n            earthquakeListView = (ListView) findViewById(R.id.list);\r\n            getSupportLoaderManager().initLoader(0, null, EarthquakeActivity.this).forceLoad();\r\n        }\r\n    \r\n        @Override\r\n        public Loader&lt;ArrayList&lt;EarthquakeDetails&gt;&gt; onCreateLoader(int id, Bundle args) {\r\n            Builder uriBuilder;\r\n            &lt;building of url&gt;\r\n            for (int i= 0; i &lt; Integer.parseInt(limit); i++) {\r\n                maps.add(null);\r\n            }\r\n            return new EarthquakeAsyncTaskLoader(EarthquakeActivity.this, uriBuilder.toString());\r\n        }\r\n    \r\n        @Override\r\n        public void onLoadFinished(Loader&lt;ArrayList&lt;EarthquakeDetails&gt;&gt; loader, ArrayList&lt;EarthquakeDetails&gt; data) {\r\n            earthquakes = data;\r\n            adapter = new EarthquakeAdapter(EarthquakeActivity.this, earthquakes);\r\n            if (!isConnected || earthquakes == null) {\r\n               &lt;do something&gt;\r\n            } else if (earthquakes.size() &lt; 1 || earthquakes.get(0) == null) {\r\n                &lt;do something else&gt;\r\n            } else {\r\n                earthquakeListView.setAdapter(adapter);\r\n                if(refreshed){\r\n                    Toast.makeText(getApplicationContext(), &quot;Refreshed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                findViewById(R.id.progress).setVisibility(View.GONE);\r\n                findViewById(R.id.list).setVisibility(View.VISIBLE);\r\n                findViewById(R.id.went_wrong).setVisibility(View.GONE);\r\n            }\r\n            findViewById(R.id.refresh).setVisibility(View.VISIBLE);\r\n            refreshed = true;\r\n            findViewById(R.id.refresh).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(findViewById(R.id.list).getVisibility() == View.GONE||findViewById(R.id.list).getHeight() &lt;= 0){\r\n                    &lt;do something&gt;\r\n                    }\r\n                    getSupportLoaderManager().initLoader(0, null, EarthquakeActivity.this).forceLoad();\r\n                }\r\n            });\r\n        }\r\n    }","title":"Toast is showing twice repeatedly","body":"<p>When I am pressing Refresh button then toast is showing up twice repeatedly.</p>\n<p>I am implementing toast only once.\nIs there anything to do with adapter?</p>\n<p>Here is the code -</p>\n<pre><code>public class EarthquakeActivity extends AppCompatActivity implements LoaderManager.LoaderCallbacks&lt;ArrayList&lt;EarthquakeDetails&gt;&gt; {\n\n    public static final String USGS_URL;\n    public static ArrayList&lt;EarthquakeDetails&gt; earthquakes;\n    private boolean refreshed = false;\n    ListView earthquakeListView;\n    EarthquakeAdapter adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.earthquake_activity);\n        earthquakeListView = (ListView) findViewById(R.id.list);\n        getSupportLoaderManager().initLoader(0, null, EarthquakeActivity.this).forceLoad();\n    }\n\n    @Override\n    public Loader&lt;ArrayList&lt;EarthquakeDetails&gt;&gt; onCreateLoader(int id, Bundle args) {\n        Builder uriBuilder;\n        &lt;building of url&gt;\n        for (int i= 0; i &lt; Integer.parseInt(limit); i++) {\n            maps.add(null);\n        }\n        return new EarthquakeAsyncTaskLoader(EarthquakeActivity.this, uriBuilder.toString());\n    }\n\n    @Override\n    public void onLoadFinished(Loader&lt;ArrayList&lt;EarthquakeDetails&gt;&gt; loader, ArrayList&lt;EarthquakeDetails&gt; data) {\n        earthquakes = data;\n        adapter = new EarthquakeAdapter(EarthquakeActivity.this, earthquakes);\n        if (!isConnected || earthquakes == null) {\n           &lt;do something&gt;\n        } else if (earthquakes.size() &lt; 1 || earthquakes.get(0) == null) {\n            &lt;do something else&gt;\n        } else {\n            earthquakeListView.setAdapter(adapter);\n            if(refreshed){\n                Toast.makeText(getApplicationContext(), &quot;Refreshed&quot;, Toast.LENGTH_SHORT).show();\n            }\n            findViewById(R.id.progress).setVisibility(View.GONE);\n            findViewById(R.id.list).setVisibility(View.VISIBLE);\n            findViewById(R.id.went_wrong).setVisibility(View.GONE);\n        }\n        findViewById(R.id.refresh).setVisibility(View.VISIBLE);\n        refreshed = true;\n        findViewById(R.id.refresh).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(findViewById(R.id.list).getVisibility() == View.GONE||findViewById(R.id.list).getHeight() &lt;= 0){\n                &lt;do something&gt;\n                }\n                getSupportLoaderManager().initLoader(0, null, EarthquakeActivity.this).forceLoad();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-viewpager","android-pageradapter"],"answers":[{"tags":[],"owner":{"account_id":1488583,"reputation":18326,"user_id":1396264,"accept_rate":47,"display_name":"Vedant Agarwala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1526709804,"creation_date":1526709804,"answer_id":50422309,"question_id":50421932,"body_markdown":"Pass in a callback object to your `ViewPager`&#39;s constructor and let your activity handle the callback. In the callback you can update the other layout as needed.","title":"How can I change another layout&#39;s value in ViewPager","body":"<p>Pass in a callback object to your <code>ViewPager</code>'s constructor and let your activity handle the callback. In the callback you can update the other layout as needed.</p>\n"}],"owner":{"account_id":7932937,"reputation":553,"user_id":5990089,"accept_rate":0,"display_name":"Benfactor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50422309,"answer_count":1,"score":0,"last_activity_date":1680765215,"creation_date":1526706023,"question_id":50421932,"body_markdown":"I have a viewPager with two types of layouts. When I am in first layout I cannot change second layout value. How can I reach another layout&#39;s component.\r\n\r\nMain  Activity \r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sorag);\r\n\r\n        \r\n        slideViewPager = findViewById(R.id.slideViewPager);\r\n\r\n        sliderAdapter = new SliderAdapter(this, bilet , slideViewPager, );\r\n        slideViewPager.setAdapter(sliderAdapter);\r\n        slideViewPager.setCurrentItem(mCurrentSorag);\r\n        slideViewPager.setOffscreenPageLimit(11);\r\n     \r\n      \r\n        slideViewPager.addOnPageChangeListener(viewListener);\r\n\r\n    }\r\n    \r\n    ViewPager.OnPageChangeListener viewListener = new ViewPager.OnPageChangeListener() {\r\n        @Override\r\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onPageSelected(int position) {\r\n            mCurrentSorag = position;;\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onPageScrollStateChanged(int state) {\r\n\r\n        }\r\n    };\r\n\r\n\r\nMy adapter (PagerAdapter)\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return 11;\r\n    }\r\n\r\n    @Override\r\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\r\n        return view == object;\r\n    }\r\n\r\n    @Override\r\n    public Object instantiateItem(@NonNull ViewGroup container, final int position) {\r\n        LayoutInflater layoutInflater;\r\n        layoutInflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        assert layoutInflater != null;\r\n        final View view = layoutInflater.inflate(R.layout.slide_layout, container, false);\r\n        final View viewResult = layoutInflater.inflate(R.layout.slide_layout_Result, container, false);\r\n\t\t\r\n        if(position&lt;10) {\r\n\r\n            textViewStatusResult = viewResult.findViewById(R.id.textViewStatusLast);\r\n            textViewResult = viewResult.findViewById(R.id.textViewResultLast);\r\n\r\n            textViewStatusResult.setText(&quot;Not changed textView&quot;);\r\n\t\t\t\r\n                button.setOnClickListener(new View.OnClickListener() {\r\n                    @SuppressLint(&quot;RestrictedApi&quot;)\r\n                    @Override\r\n                    public void onClick(View v) {\r\n\r\n                       // onButtonClicked(button, position, currentButton, view);\r\n\r\n                    }\r\n                });\r\n\r\n            container.addView(view);\r\n            container.addView(viewResult);\r\n            return view;\r\n        }else{\r\n\r\n            textViewStatusResult = viewResult.findViewById(R.id.textViewStatusLast);\r\n            textViewResult = viewResult.findViewById(R.id.textViewResultLast);\r\n            textViewResult.setText(&quot;1 / 10&quot;);\r\n            }\r\n\r\n            container.addView(viewResult);\r\n            return viewResult;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\r\n        container.removeView((LinearLayout)object);\r\n    }\r\n\r\n\r\nI create a two View in instantiateItem function. When application start it works when position &lt; 10. But I want to change when I am in first position.\r\n\r\n","title":"How can I change another layout&#39;s value in ViewPager","body":"<p>I have a viewPager with two types of layouts. When I am in first layout I cannot change second layout value. How can I reach another layout's component.</p>\n<p>Main  Activity</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_sorag);\n\n    \n    slideViewPager = findViewById(R.id.slideViewPager);\n\n    sliderAdapter = new SliderAdapter(this, bilet , slideViewPager, );\n    slideViewPager.setAdapter(sliderAdapter);\n    slideViewPager.setCurrentItem(mCurrentSorag);\n    slideViewPager.setOffscreenPageLimit(11);\n \n  \n    slideViewPager.addOnPageChangeListener(viewListener);\n\n}\n\nViewPager.OnPageChangeListener viewListener = new ViewPager.OnPageChangeListener() {\n    @Override\n    public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n    }\n\n    @Override\n    public void onPageSelected(int position) {\n        mCurrentSorag = position;;\n\n    }\n\n    @Override\n    public void onPageScrollStateChanged(int state) {\n\n    }\n};\n</code></pre>\n<p>My adapter (PagerAdapter)</p>\n<pre><code>@Override\npublic int getCount() {\n    return 11;\n}\n\n@Override\npublic boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\n    return view == object;\n}\n\n@Override\npublic Object instantiateItem(@NonNull ViewGroup container, final int position) {\n    LayoutInflater layoutInflater;\n    layoutInflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    assert layoutInflater != null;\n    final View view = layoutInflater.inflate(R.layout.slide_layout, container, false);\n    final View viewResult = layoutInflater.inflate(R.layout.slide_layout_Result, container, false);\n    \n    if(position&lt;10) {\n\n        textViewStatusResult = viewResult.findViewById(R.id.textViewStatusLast);\n        textViewResult = viewResult.findViewById(R.id.textViewResultLast);\n\n        textViewStatusResult.setText(&quot;Not changed textView&quot;);\n        \n            button.setOnClickListener(new View.OnClickListener() {\n                @SuppressLint(&quot;RestrictedApi&quot;)\n                @Override\n                public void onClick(View v) {\n\n                   // onButtonClicked(button, position, currentButton, view);\n\n                }\n            });\n\n        container.addView(view);\n        container.addView(viewResult);\n        return view;\n    }else{\n\n        textViewStatusResult = viewResult.findViewById(R.id.textViewStatusLast);\n        textViewResult = viewResult.findViewById(R.id.textViewResultLast);\n        textViewResult.setText(&quot;1 / 10&quot;);\n        }\n\n        container.addView(viewResult);\n        return viewResult;\n\n}\n\n@Override\npublic void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\n    container.removeView((LinearLayout)object);\n}\n</code></pre>\n<p>I create a two View in instantiateItem function. When application start it works when position &lt; 10. But I want to change when I am in first position.</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","redisson"],"owner":{"account_id":21821087,"reputation":9,"user_id":16117276,"display_name":"Reason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680765142,"creation_date":1680761386,"question_id":75946370,"body_markdown":"I use Redisson client with Spring boot application.\r\nI also enable setEnableTransactionSupport(true) and transactionAware() for JPA transaction integration.\r\n\r\n```\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\r\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer());\r\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n        redisTemplate.setHashValueSerializer(new GenericJackson2JsonRedisSerializer());\r\n        redisTemplate.setConnectionFactory(redisConnectionFactory);\r\n        redisTemplate.setEnableTransactionSupport(true);\r\n        return redisTemplate;\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public CacheManager redisCacheManager() {\r\n        return RedisCacheManager.builder(redisConnectionFactory())\r\n                .cacheDefaults(redisCacheConfig())\r\n                .withInitialCacheConfigurations(cacheKeyMap())\r\n                .transactionAware()\r\n                .build();\r\n    }\r\n```\r\n\r\nIt usually looks working inside @Transactional method. \r\nOnce transaction be commited, then the cache put. This is common case.\r\n\r\nBut in some case, I desired to execute cache put without redis transaction.\r\n\r\nLike\r\n```\r\n@Transactional\r\npublic void temp() {\r\n    // It doesn&#39;t matter work after commit.\r\n    redisTemplate.opsForValue().set(&quot;key2&quot;, &quot;value2&quot;);\r\n    // It should return result before commit!! \r\n    // but it&#39;s null\r\n    long result = redisTemplate.opsForValue().increment(&quot;key1&quot;, &quot;value1&quot;);    \r\n}\r\n```\r\n\r\nGenerally, RedisTemplate does not work like this way.\r\nMaybe, the first set method open the redis transaction at connection and second increment method use the same connection.\r\n\r\nAlternatively, I have select this implementation.\r\n```\r\n@Transactional\r\npublic void temp() {\r\n    redisTemplate.opsForValue().set(&quot;key2&quot;, &quot;value2&quot;);\r\n    long result = redisTemplate.getConnectionFactory().getConnection().incrBy(combinedKey.getBytes(), delta);\r\n}\r\n```\r\nThe second incrBy method uses the individual connection. The method does not participate in the previous redis transaction. Now it works as I expected. The result is stored.\r\n\r\n**But, RedissonConnection often throw exception.**\r\njava.lang.ClassCastException: class java.lang.String cannot be cast to class java.lang.Long (java.lang.String and java.lang.Long are in module java.base of loader &#39;bootstrap&#39;)\r\nat org.redisson.spring.data.connection.RedissonConnection.incrBy(RedissonConnection.java:583)\r\n\r\nMaybe the problem is happening with this code.\r\n```\r\n    public Long incrBy(byte[] key, long value) {\r\n        return (Long)this.write(key, StringCodec.INSTANCE, RedisCommands.INCRBY, key, value);\r\n    }\r\n```\r\n\r\nExceptions are occurring intermittently(not always).\r\nI expect that sequence with delta value is set based on 0 in normal case, so it should be able to be cast normally.\r\nWhat is the problem?\r\n\r\nAlthough RedissonConnection made an exception, it was confirmed that the value was set normally in the cache.\r\nIt&#39;s just that an exception occurs in the process of type casting the result value.","title":"Redisson sometimes throw classCastException","body":"<p>I use Redisson client with Spring boot application.\nI also enable setEnableTransactionSupport(true) and transactionAware() for JPA transaction integration.</p>\n<pre><code>    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer());\n        redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n        redisTemplate.setHashValueSerializer(new GenericJackson2JsonRedisSerializer());\n        redisTemplate.setConnectionFactory(redisConnectionFactory);\n        redisTemplate.setEnableTransactionSupport(true);\n        return redisTemplate;\n    }\n\n    @Primary\n    @Bean\n    public CacheManager redisCacheManager() {\n        return RedisCacheManager.builder(redisConnectionFactory())\n                .cacheDefaults(redisCacheConfig())\n                .withInitialCacheConfigurations(cacheKeyMap())\n                .transactionAware()\n                .build();\n    }\n</code></pre>\n<p>It usually looks working inside @Transactional method.\nOnce transaction be commited, then the cache put. This is common case.</p>\n<p>But in some case, I desired to execute cache put without redis transaction.</p>\n<p>Like</p>\n<pre><code>@Transactional\npublic void temp() {\n    // It doesn't matter work after commit.\n    redisTemplate.opsForValue().set(&quot;key2&quot;, &quot;value2&quot;);\n    // It should return result before commit!! \n    // but it's null\n    long result = redisTemplate.opsForValue().increment(&quot;key1&quot;, &quot;value1&quot;);    \n}\n</code></pre>\n<p>Generally, RedisTemplate does not work like this way.\nMaybe, the first set method open the redis transaction at connection and second increment method use the same connection.</p>\n<p>Alternatively, I have select this implementation.</p>\n<pre><code>@Transactional\npublic void temp() {\n    redisTemplate.opsForValue().set(&quot;key2&quot;, &quot;value2&quot;);\n    long result = redisTemplate.getConnectionFactory().getConnection().incrBy(combinedKey.getBytes(), delta);\n}\n</code></pre>\n<p>The second incrBy method uses the individual connection. The method does not participate in the previous redis transaction. Now it works as I expected. The result is stored.</p>\n<p><strong>But, RedissonConnection often throw exception.</strong>\njava.lang.ClassCastException: class java.lang.String cannot be cast to class java.lang.Long (java.lang.String and java.lang.Long are in module java.base of loader 'bootstrap')\nat org.redisson.spring.data.connection.RedissonConnection.incrBy(RedissonConnection.java:583)</p>\n<p>Maybe the problem is happening with this code.</p>\n<pre><code>    public Long incrBy(byte[] key, long value) {\n        return (Long)this.write(key, StringCodec.INSTANCE, RedisCommands.INCRBY, key, value);\n    }\n</code></pre>\n<p>Exceptions are occurring intermittently(not always).\nI expect that sequence with delta value is set based on 0 in normal case, so it should be able to be cast normally.\nWhat is the problem?</p>\n<p>Although RedissonConnection made an exception, it was confirmed that the value was set normally in the cache.\nIt's just that an exception occurs in the process of type casting the result value.</p>\n"},{"tags":["java","jsp","jboss7.x"],"answers":[{"tags":[],"owner":{"account_id":9951088,"reputation":413,"user_id":7363699,"display_name":"Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680765044,"creation_date":1680765044,"answer_id":75946756,"question_id":73575577,"body_markdown":"After long analysis found that the issue is due to caching at HA Proxy (external layer at infra level). After clearing it, it worked. \r\n\r\nWe also understand that the caching can be at Web layer, Proxy and LB. So caching before application layer will cause similar problem.\r\n\r\nI have added our finding here which might be helpful to someone.","title":"JSP changes not reflecting in JBOSS7.2 after restart(after clearing server and browser cache)","body":"<p>After long analysis found that the issue is due to caching at HA Proxy (external layer at infra level). After clearing it, it worked.</p>\n<p>We also understand that the caching can be at Web layer, Proxy and LB. So caching before application layer will cause similar problem.</p>\n<p>I have added our finding here which might be helpful to someone.</p>\n"}],"owner":{"account_id":9951088,"reputation":413,"user_id":7363699,"display_name":"Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680765044,"creation_date":1662067517,"question_id":73575577,"body_markdown":"I am facing a problem that changes done in JSP file is not reflecting in generated java and class files in tmp path (/standalone/tmp/my.ear.myWeb.war/org/apache/jsp/App_UI/).\r\n\r\nI followed the steps as below\r\n\r\n- Changed in JSP file \r\n- Stopped JBOSS process\r\n- Deployed in my ear(I am exploded form. So directly replaced) \r\n- Cleared JBOSS cache file (data, tmp, log) under standalone directory \r\n- Restarted the jboss process\r\n\r\nEar directory structure $AppHome/my.ear/myWeb.war/App_UI/ and there are other webservices war present parallel to myWeb.war.\r\n\r\nAfter restart when access the application page which execute the jsp, still showing old page content. When I look at tmp directory in path &#39;$JbossHOME/standalone/tmp/my.ear.myWeb.war/org/apache/jsp/App_UI/&#39; java and class files are in older dates like below\r\n\r\n-rw-r--r-- 1 user user **170243 Feb 10  2022** BeneficieryMaster_005_jsp.java\r\n\r\n-rw-r--r-- 1 user user  **53925 Feb 10  2022** BeneficieryMaster_005_jsp.class\r\n\r\n-rw-r--r-- 1 user user   **8408 Aug 4 2022** BeneficieryMaster_005_005fTable_jsp.java\r\n\r\n-rw-r--r-- 1 user user   **6939 Aug 4  2022** BeneficieryMaster_005_005fTable_jsp.class\r\n\r\nAs process is restarted, all files to be recompiled by JBOSS and reflect in tmp directory. But it is not happening. Also no errors in server logs and applications logs. \r\n\r\nCould not find the cause for last 3 days. Any pointer will be really helpful. ","title":"JSP changes not reflecting in JBOSS7.2 after restart(after clearing server and browser cache)","body":"<p>I am facing a problem that changes done in JSP file is not reflecting in generated java and class files in tmp path (/standalone/tmp/my.ear.myWeb.war/org/apache/jsp/App_UI/).</p>\n<p>I followed the steps as below</p>\n<ul>\n<li>Changed in JSP file</li>\n<li>Stopped JBOSS process</li>\n<li>Deployed in my ear(I am exploded form. So directly replaced)</li>\n<li>Cleared JBOSS cache file (data, tmp, log) under standalone directory</li>\n<li>Restarted the jboss process</li>\n</ul>\n<p>Ear directory structure $AppHome/my.ear/myWeb.war/App_UI/ and there are other webservices war present parallel to myWeb.war.</p>\n<p>After restart when access the application page which execute the jsp, still showing old page content. When I look at tmp directory in path '$JbossHOME/standalone/tmp/my.ear.myWeb.war/org/apache/jsp/App_UI/' java and class files are in older dates like below</p>\n<p>-rw-r--r-- 1 user user <strong>170243 Feb 10  2022</strong> BeneficieryMaster_005_jsp.java</p>\n<p>-rw-r--r-- 1 user user  <strong>53925 Feb 10  2022</strong> BeneficieryMaster_005_jsp.class</p>\n<p>-rw-r--r-- 1 user user   <strong>8408 Aug 4 2022</strong> BeneficieryMaster_005_005fTable_jsp.java</p>\n<p>-rw-r--r-- 1 user user   <strong>6939 Aug 4  2022</strong> BeneficieryMaster_005_005fTable_jsp.class</p>\n<p>As process is restarted, all files to be recompiled by JBOSS and reflect in tmp directory. But it is not happening. Also no errors in server logs and applications logs.</p>\n<p>Could not find the cause for last 3 days. Any pointer will be really helpful.</p>\n"},{"tags":["java","android","xml","firebase"],"comments":[{"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"score":0,"creation_date":1526843151,"post_id":50438361,"comment_id":87890782,"body_markdown":"what do you mean with changed items from the server?","body":"what do you mean with changed items from the server?"},{"owner":{"account_id":1828231,"reputation":872,"user_id":4123078,"accept_rate":64,"display_name":"MohammedAlSafwan"},"score":0,"creation_date":1526843189,"post_id":50438361,"comment_id":87890794,"body_markdown":"Code, please so we can actually know what is going on :)","body":"Code, please so we can actually know what is going on :)"},{"owner":{"account_id":7532547,"reputation":1,"user_id":5720121,"display_name":"Sheraz khaliq"},"score":0,"creation_date":1526844259,"post_id":50438361,"comment_id":87891145,"body_markdown":"@kingston i mean updated items","body":"@kingston i mean updated items"}],"answers":[{"tags":[],"owner":{"account_id":5345001,"reputation":2521,"user_id":4260786,"display_name":"Suhaib Roomy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526844702,"creation_date":1526844702,"answer_id":50438660,"question_id":50438361,"body_markdown":"you are probably taking the screenshot of view before it is fully inflated. Try adding a 2 second delay or implement this on layout listener of the card view","title":"converting CardView from RecyclerView to a Bitmap","body":"<p>you are probably taking the screenshot of view before it is fully inflated. Try adding a 2 second delay or implement this on layout listener of the card view</p>\n"},{"tags":[],"owner":{"account_id":5587562,"reputation":1865,"user_id":4427731,"accept_rate":38,"display_name":"Nirel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526855366,"creation_date":1526855366,"answer_id":50439976,"question_id":50438361,"body_markdown":"CardView extend view, so you probably can convert it as any other view,\r\ntry to pass the CardView into that function:\r\n\r\n      public static Bitmap getBitmapFromView(View view) {\r\n        //Define a bitmap with the same size as the view\r\n        Bitmap returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(),Bitmap.Config.ARGB_8888);\r\n        //Bind a canvas to it\r\n        Canvas canvas = new Canvas(returnedBitmap);\r\n        //Get the view&#39;s background\r\n        Drawable bgDrawable =view.getBackground();\r\n        if (bgDrawable!=null) \r\n            //has background drawable, then draw it on the canvas\r\n            bgDrawable.draw(canvas);\r\n        else \r\n            //does not have background drawable, then draw white background on the canvas\r\n            canvas.drawColor(Color.WHITE);\r\n        // draw the view on the canvas\r\n        view.draw(canvas);\r\n        //return the bitmap\r\n        return returnedBitmap;\r\n    }","title":"converting CardView from RecyclerView to a Bitmap","body":"<p>CardView extend view, so you probably can convert it as any other view,\ntry to pass the CardView into that function:</p>\n\n<pre><code>  public static Bitmap getBitmapFromView(View view) {\n    //Define a bitmap with the same size as the view\n    Bitmap returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(),Bitmap.Config.ARGB_8888);\n    //Bind a canvas to it\n    Canvas canvas = new Canvas(returnedBitmap);\n    //Get the view's background\n    Drawable bgDrawable =view.getBackground();\n    if (bgDrawable!=null) \n        //has background drawable, then draw it on the canvas\n        bgDrawable.draw(canvas);\n    else \n        //does not have background drawable, then draw white background on the canvas\n        canvas.drawColor(Color.WHITE);\n    // draw the view on the canvas\n    view.draw(canvas);\n    //return the bitmap\n    return returnedBitmap;\n}\n</code></pre>\n"}],"owner":{"account_id":7532547,"reputation":1,"user_id":5720121,"display_name":"Sheraz khaliq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680764978,"creation_date":1526842564,"question_id":50438361,"body_markdown":"I have a CardView (with multiple items like imageView, textView, Buttons) in a RecyclerView. I want to get bitmap from this cardview. I tried a simple method of converting cardView into bitmap ([convert a cardview to bitmap][1]) but its not working properly. I only got the raw view of the card just like in xml without any updated items from a firebaseserver.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48935403/convert-a-cardview-to-bitmap/48935539#48935539","title":"converting CardView from RecyclerView to a Bitmap","body":"<p>I have a CardView (with multiple items like imageView, textView, Buttons) in a RecyclerView. I want to get bitmap from this cardview. I tried a simple method of converting cardView into bitmap (<a href=\"https://stackoverflow.com/questions/48935403/convert-a-cardview-to-bitmap/48935539#48935539\">convert a cardview to bitmap</a>) but its not working properly. I only got the raw view of the card just like in xml without any updated items from a firebaseserver.</p>\n"},{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"score":1,"creation_date":1526845091,"post_id":50438655,"comment_id":87891428,"body_markdown":"inside response method use if(response.body.getcode == 308)//created done else {//not dne}","body":"inside response method use if(response.body.getcode == 308)//created done else {//not dne}"},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1526845275,"post_id":50438655,"comment_id":87891478,"body_markdown":"The server creates a resource *and* directs the client to re-submit the request to a different URI?","body":"The server creates a resource <i>and</i> directs the client to re-submit the request to a different URI?"},{"owner":{"account_id":1792420,"reputation":1787,"user_id":1632519,"accept_rate":91,"display_name":"Philippe"},"score":0,"creation_date":1526845864,"post_id":50438655,"comment_id":87891655,"body_markdown":"Yes, in this example the client would share that url with another client for them to access. Would you suggest another way? In my opinion 308 seems to be almost made for that. I dont think a client is supposed to immediately access that new Location header value.","body":"Yes, in this example the client would share that url with another client for them to access. Would you suggest another way? In my opinion 308 seems to be almost made for that. I dont think a client is supposed to immediately access that new Location header value."},{"owner":{"account_id":1792420,"reputation":1787,"user_id":1632519,"accept_rate":91,"display_name":"Philippe"},"score":0,"creation_date":1526857519,"post_id":50438655,"comment_id":87894558,"body_markdown":"@ALTegani, Can you post your answer so I can accept it?","body":"@ALTegani, Can you post your answer so I can accept it?"},{"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"score":0,"creation_date":1526890197,"post_id":50438655,"comment_id":87902725,"body_markdown":"i post it ..glad it helped you @Philippe","body":"i post it ..glad it helped you @Philippe"}],"answers":[{"tags":[],"owner":{"account_id":417710,"reputation":10050,"user_id":793861,"accept_rate":50,"display_name":"John O&#39;Reilly"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526847026,"creation_date":1526847026,"answer_id":50438952,"question_id":50438655,"body_markdown":"Create `Interceptor` as shown below and then call `addInterceptor(getRedirectInterceptor())` (on `OkHttpClient.Builder` instance)\r\n\r\n    protected Interceptor getRedirectInterceptor() {\r\n        return new Interceptor() {\r\n            @Override\r\n            public okhttp3.Response intercept(Chain chain) throws IOException {\r\n                Request request = chain.request();\r\n                okhttp3.Response response = chain.proceed(request);\r\n                if (response.code() == 308) {\r\n                    request = request.newBuilder()\r\n                            .url(response.header(&quot;Location&quot;))\r\n                            .build();\r\n\r\n                    response = chain.proceed(request);\r\n                }\r\n\r\n                return response;\r\n            }\r\n        };\r\n    }\r\n","title":"How to properly handle a redirect as a response in retrofit2","body":"<p>Create <code>Interceptor</code> as shown below and then call <code>addInterceptor(getRedirectInterceptor())</code> (on <code>OkHttpClient.Builder</code> instance)</p>\n\n<pre><code>protected Interceptor getRedirectInterceptor() {\n    return new Interceptor() {\n        @Override\n        public okhttp3.Response intercept(Chain chain) throws IOException {\n            Request request = chain.request();\n            okhttp3.Response response = chain.proceed(request);\n            if (response.code() == 308) {\n                request = request.newBuilder()\n                        .url(response.header(\"Location\"))\n                        .build();\n\n                response = chain.proceed(request);\n            }\n\n            return response;\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1526988360,"creation_date":1526890147,"answer_id":50444515,"question_id":50438655,"body_markdown":"inside `onResponse`\r\n\r\n    if(response.code() == 308)\r\n    {\r\n        //created done\r\n    }\r\n     else \r\n    {\r\n        //not done\r\n    }\r\n\r\n ","title":"How to properly handle a redirect as a response in retrofit2","body":"<p>inside <code>onResponse</code></p>\n\n<pre><code>if(response.code() == 308)\n{\n    //created done\n}\n else \n{\n    //not done\n}\n</code></pre>\n"}],"owner":{"account_id":1792420,"reputation":1787,"user_id":1632519,"accept_rate":91,"display_name":"Philippe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50444515,"answer_count":2,"score":1,"last_activity_date":1680764963,"creation_date":1526844680,"question_id":50438655,"body_markdown":"I&#39;m working with an API which returns a 308 on successful creation of a resource with a POST request? How do I handle this best with retrofit2?\r\n\r\nOr should the API not return a 308?","title":"How to properly handle a redirect as a response in retrofit2","body":"<p>I'm working with an API which returns a 308 on successful creation of a resource with a POST request? How do I handle this best with retrofit2?</p>\n<p>Or should the API not return a 308?</p>\n"},{"tags":["java","spring","angular","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":4946278,"reputation":2015,"user_id":3981536,"display_name":"Jos"},"score":0,"creation_date":1494501614,"post_id":43913753,"comment_id":74861026,"body_markdown":"you can have a look into this, https://www.mkyong.com/spring-boot/spring-boot-how-to-change-context-path/","body":"you can have a look into this, <a href=\"https://www.mkyong.com/spring-boot/spring-boot-how-to-change-context-path/\" rel=\"nofollow noreferrer\">mkyong.com/spring-boot/spring-boot-how-to-change-context-pat&zwnj;&#8203;h</a>"},{"owner":{"account_id":6505000,"reputation":1823,"user_id":5034289,"display_name":"Ilya Novoseltsev"},"score":0,"creation_date":1494514698,"post_id":43913753,"comment_id":74871328,"body_markdown":"You can try creating a custom annotation which will include `@RequestMapping(&quot;/api&quot;)` and apply that to your api controllers. Then use `@RequestMapping` on methods for specific urls.","body":"You can try creating a custom annotation which will include <code>@RequestMapping(&quot;&#47;api&quot;)</code> and apply that to your api controllers. Then use <code>@RequestMapping</code> on methods for specific urls."},{"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"score":0,"creation_date":1640550618,"post_id":43913753,"comment_id":124603993,"body_markdown":"Probably there is an additional requirement in this question: index.html will probably have references to js and css files which, although not being &quot;index.html&quot;, should not be handled as /api/** requests","body":"Probably there is an additional requirement in this question: index.html will probably have references to js and css files which, although not being &quot;index.html&quot;, should not be handled as /api/** requests"}],"answers":[{"comments":[{"owner":{"account_id":1019340,"reputation":11599,"user_id":1030168,"accept_rate":87,"display_name":"Robbo_UK"},"score":0,"creation_date":1494505685,"post_id":43915291,"comment_id":74863906,"body_markdown":"thanks for the feedback.  it fixes half the issue...  \n\nI still want anything not api to redirect and load the index.html.","body":"thanks for the feedback.  it fixes half the issue...    I still want anything not api to redirect and load the index.html."},{"owner":{"account_id":7592596,"reputation":378,"user_id":5759778,"display_name":"Anksss"},"score":0,"creation_date":1494506224,"post_id":43915291,"comment_id":74864313,"body_markdown":"I edited my answer for redirection i hope it will work for you","body":"I edited my answer for redirection i hope it will work for you"},{"owner":{"account_id":1019340,"reputation":11599,"user_id":1030168,"accept_rate":87,"display_name":"Robbo_UK"},"score":0,"creation_date":1494518632,"post_id":43915291,"comment_id":74874237,"body_markdown":"not sure if that example excludes api and keep them going to controller?  I have updated question to explain further.","body":"not sure if that example excludes api and keep them going to controller?  I have updated question to explain further."}],"tags":[],"owner":{"account_id":7592596,"reputation":378,"user_id":5759778,"display_name":"Anksss"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494506187,"creation_date":1494505325,"answer_id":43915291,"question_id":43913753,"body_markdown":"For whole application, you can add context path in application.properties\r\n\r\nserver.contextPath=/api\r\n\r\nIt will append &quot;/api&quot; to every requested URL after http://localhost:8080/api/home\r\n\r\nFor Redirection,\r\n\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addRedirectViewController(&quot;/&quot;, &quot;/home&quot;);\r\n        registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n        super.addViewControllers(registry);\r\n    }\r\n\r\nPut this bunch of code in WebMVCConfig.java","title":"Spring Boot with redirecting with single page angular2","body":"<p>For whole application, you can add context path in application.properties</p>\n\n<p>server.contextPath=/api</p>\n\n<p>It will append \"/api\" to every requested URL after <a href=\"http://localhost:8080/api/home\" rel=\"nofollow noreferrer\">http://localhost:8080/api/home</a></p>\n\n<p>For Redirection,</p>\n\n<pre><code>@Override\npublic void addViewControllers(ViewControllerRegistry registry) {\n    registry.addRedirectViewController(\"/\", \"/home\");\n    registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    super.addViewControllers(registry);\n}\n</code></pre>\n\n<p>Put this bunch of code in WebMVCConfig.java</p>\n"},{"comments":[{"owner":{"account_id":1019340,"reputation":11599,"user_id":1030168,"accept_rate":87,"display_name":"Robbo_UK"},"score":1,"creation_date":1494672145,"post_id":43921334,"comment_id":74935734,"body_markdown":"what does the regex &quot;/{[path:[^\\\\.]*}&quot; match against?.. looks like it matches anything and forwards it to / ...   how would this not capture the /api requests?","body":"what does the regex &quot;/{[path:[^\\\\.]*}&quot; match against?.. looks like it matches anything and forwards it to / ...   how would this not capture the /api requests?"},{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1506441189,"post_id":43921334,"comment_id":79819064,"body_markdown":"Match everything without a suffix (so not a static resource)","body":"Match everything without a suffix (so not a static resource)"},{"owner":{"account_id":1133852,"reputation":1458,"user_id":1119327,"accept_rate":39,"display_name":"Gauthier Peel"},"score":3,"creation_date":1508784304,"post_id":43921334,"comment_id":80739840,"body_markdown":"answser to @Robbo_UK : convention: all paths that do not contain a period (and are not explicitly mapped already) are Angular routes, and should forward to the home page. Source https://spring.io/blog/2015/05/13/modularizing-the-client-angular-js-and-spring-security-part-vii","body":"answser to @Robbo_UK : convention: all paths that do not contain a period (and are not explicitly mapped already) are Angular routes, and should forward to the home page. Source <a href=\"https://spring.io/blog/2015/05/13/modularizing-the-client-angular-js-and-spring-security-part-vii\" rel=\"nofollow noreferrer\">spring.io/blog/2015/05/13/&hellip;</a>"},{"owner":{"account_id":4138006,"reputation":339,"user_id":3394190,"display_name":"Fabio Mazzo"},"score":0,"creation_date":1525229974,"post_id":43921334,"comment_id":87271050,"body_markdown":"This works like a charm. Don&#39;t need workaround in error handlers! Thanks!","body":"This works like a charm. Don&#39;t need workaround in error handlers! Thanks!"},{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":5,"creation_date":1545381667,"post_id":43921334,"comment_id":94609744,"body_markdown":"I guess I am doing something wrong. Now all I get is &quot;forward:/&quot; in my browser ^^","body":"I guess I am doing something wrong. Now all I get is &quot;forward:/&quot; in my browser ^^"},{"owner":{"account_id":4155996,"reputation":124,"user_id":3407281,"accept_rate":17,"display_name":"amportugal"},"score":1,"creation_date":1586353731,"post_id":43921334,"comment_id":108097443,"body_markdown":"@displayname That is because you are using `@RestController` annotation and therefore &quot;forward:/&quot; is considerered the response body. Try using `@Controller` instead.","body":"@displayname That is because you are using <code>@RestController</code> annotation and therefore &quot;forward:/&quot; is considerered the response body. Try using <code>@Controller</code> instead."},{"owner":{"account_id":1058712,"reputation":507,"user_id":1060819,"display_name":"DAN"},"score":0,"creation_date":1605715702,"post_id":43921334,"comment_id":114737682,"body_markdown":"Very nice solution!","body":"Very nice solution!"}],"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"comment_count":7,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1604921967,"creation_date":1494521121,"answer_id":43921334,"question_id":43913753,"body_markdown":"Try this instead\r\n\r\n    @SpringBootApplication\r\n    @Controller\r\n    class YourSpringBootApp { \r\n    \r\n        // Match everything without a suffix (so not a static resource)\r\n        @RequestMapping(value = &quot;/**/{path:[^.]*}&quot;)       \r\n        public String redirect() {\r\n            // Forward to home page so that route is preserved.(i.e forward:/intex.html)\r\n            return &quot;forward:/&quot;;\r\n        }\r\n    }","title":"Spring Boot with redirecting with single page angular2","body":"<p>Try this instead</p>\n<pre><code>@SpringBootApplication\n@Controller\nclass YourSpringBootApp { \n\n    // Match everything without a suffix (so not a static resource)\n    @RequestMapping(value = &quot;/**/{path:[^.]*}&quot;)       \n    public String redirect() {\n        // Forward to home page so that route is preserved.(i.e forward:/intex.html)\n        return &quot;forward:/&quot;;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1019340,"reputation":11599,"user_id":1030168,"accept_rate":87,"display_name":"Robbo_UK"},"score":2,"creation_date":1494843641,"post_id":43954350,"comment_id":74983254,"body_markdown":"This looks close to what I am looking for.  However it has stopped serving the static content inside webapp?  returns ERR_TOO_MANY_REDIRECTS","body":"This looks close to what I am looking for.  However it has stopped serving the static content inside webapp?  returns ERR_TOO_MANY_REDIRECTS"},{"owner":{"account_id":2471873,"reputation":696,"user_id":2153524,"display_name":"ansh"},"score":0,"creation_date":1494844981,"post_id":43954350,"comment_id":74984059,"body_markdown":"Too many redirects can be due to your `Spring Security` configuration. Can u share TRACE logs ?","body":"Too many redirects can be due to your <code>Spring Security</code> configuration. Can u share TRACE logs ?"},{"owner":{"account_id":1019340,"reputation":11599,"user_id":1030168,"accept_rate":87,"display_name":"Robbo_UK"},"score":0,"creation_date":1494846971,"post_id":43954350,"comment_id":74985297,"body_markdown":"I have spring security disabled..  I added logging on doFilter method and it keeps going back to itself..  Its seems to me that it has disabled some of the default spring boot behaviour that resolved to /webapp/index.html..  its stuck in a loop.","body":"I have spring security disabled..  I added logging on doFilter method and it keeps going back to itself..  Its seems to me that it has disabled some of the default spring boot behaviour that resolved to /webapp/index.html..  its stuck in a loop."},{"owner":{"account_id":1019340,"reputation":11599,"user_id":1030168,"accept_rate":87,"display_name":"Robbo_UK"},"score":0,"creation_date":1494847823,"post_id":43954350,"comment_id":74985838,"body_markdown":"I have added trace here.  You can see the passed one  (before adding redirect filter) and the failed one. https://plnkr.co/edit/McziX5tI179dHiynSw1t?p=preview","body":"I have added trace here.  You can see the passed one  (before adding redirect filter) and the failed one. <a href=\"https://plnkr.co/edit/McziX5tI179dHiynSw1t?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/McziX5tI179dHiynSw1t?p=preview</a>"},{"owner":{"account_id":2471873,"reputation":696,"user_id":2153524,"display_name":"ansh"},"score":1,"creation_date":1494851779,"post_id":43954350,"comment_id":74988400,"body_markdown":"Ohh !! my bad. For your work, you don&#39;t even need a filter. Basically, you want to redirect all 404 to `index.html`. Rest of the requests will be managed by Spring Resource Handling Mapper.  \n\nIf somebody hits `/api/1` - corresponding it will be matched with `/api/**` and the corresponding controller will be called. On the other hand, if someone hits `/xxx` and it is not available in your static resources, the servlet will throw 404.","body":"Ohh !! my bad. For your work, you don&#39;t even need a filter. Basically, you want to redirect all 404 to <code>index.html</code>. Rest of the requests will be managed by Spring Resource Handling Mapper.    If somebody hits <code>&#47;api&#47;1</code> - corresponding it will be matched with <code>&#47;api&#47;**</code> and the corresponding controller will be called. On the other hand, if someone hits <code>&#47;xxx</code> and it is not available in your static resources, the servlet will throw 404."},{"owner":{"account_id":2471873,"reputation":696,"user_id":2153524,"display_name":"ansh"},"score":0,"creation_date":1494856734,"post_id":43954350,"comment_id":74991879,"body_markdown":"I have updated my answer. Please check and revert back.","body":"I have updated my answer. Please check and revert back."},{"owner":{"account_id":255896,"reputation":306,"user_id":536235,"display_name":"Manuel Palacio"},"score":1,"creation_date":1513029268,"post_id":43954350,"comment_id":82485526,"body_markdown":"Almost but not quite. Spring complains about mapping to &quot;/index.html&quot; not found","body":"Almost but not quite. Spring complains about mapping to &quot;/index.html&quot; not found"},{"owner":{"account_id":2721165,"reputation":3554,"user_id":2347438,"accept_rate":91,"display_name":"Veshraj Joshi"},"score":0,"creation_date":1619814460,"post_id":43954350,"comment_id":119027595,"body_markdown":"Thank you for great info this helps alot but I am getting error of - page not redirecting properly","body":"Thank you for great info this helps alot but I am getting error of - page not redirecting properly"}],"tags":[],"owner":{"account_id":2471873,"reputation":696,"user_id":2153524,"display_name":"ansh"},"comment_count":8,"down_vote_count":3,"up_vote_count":28,"is_accepted":true,"score":25,"last_activity_date":1494857026,"creation_date":1494686112,"answer_id":43954350,"question_id":43913753,"body_markdown":"&gt;  For every local REST request not starting with /api overwrite and redirect to default webapp/index.html. I plan to serve anything /api to the spring controllers.\r\n\r\n**Update 15/05/2017**\r\n\r\nLet me re-phrase your query for other readers. (*Correct me, if misunderstood*)\r\n\r\n**Background**  \r\nUsing Spring Boot and Serving static resources from classpath\r\n\r\n**Requirement**  \r\nAll `404` **non api** requests should be redirected to `index.html`.\r\n\r\n*NON API* - means Requests in which URL doesn&#39;t start with `/api`.  \r\n*API* - 404 should throw `404` as usual.\r\n\r\n**Sample Response**  \r\n`/api/something` - will throw `404`  \r\n`/index.html` - will server index.html  \r\n`/something` - will redirect to `index.html`  \r\n\r\n**My Solution**\r\n\r\nLet the Spring MVC throw exceptions, if any handler is not available for the given resource.\r\n\r\nAdd following to `application.properties`\r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.resources.add-mappings=false\r\n\r\nAdd a `ControllerAdvice` as follows\r\n\r\n    @ControllerAdvice\r\n    public class RedirectOnResourceNotFoundException {\r\n    \r\n        @ExceptionHandler(value = NoHandlerFoundException.class)\r\n        public Object handleStaticResourceNotFound(final NoHandlerFoundException ex, HttpServletRequest req, RedirectAttributes redirectAttributes) {\r\n            if (req.getRequestURI().startsWith(&quot;/api&quot;))\r\n                return this.getApiResourceNotFoundBody(ex, req);\r\n            else {\r\n                redirectAttributes.addFlashAttribute(&quot;errorMessage&quot;, &quot;My Custom error message&quot;);\r\n                return &quot;redirect:/index.html&quot;;\r\n            }\r\n        }\r\n    \r\n        private ResponseEntity&lt;String&gt; getApiResourceNotFoundBody(NoHandlerFoundException ex, HttpServletRequest req) {\r\n            return new ResponseEntity&lt;&gt;(&quot;Not Found !!&quot;, HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\nYou can customize the error message as you like.\r\n\r\n&gt; Is there a way to prefix all controllers with api so that I do not have to write api every time.\r\n\r\nFor this, you can create a `BaseController` and set the RequestMapping path to `/api`\r\n\r\n**Example**\r\n\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RequestMapping(&quot;/api&quot;)\r\n    public abstract class BaseController {}\r\n\r\nAnd extend this `BaseController` and make sure you **do not** annotate child class with `@RequestMapping`\r\n\r\n\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class FirstTestController extends BaseController {\r\n        @RequestMapping(path = &quot;/something&quot;)\r\n        public String sayHello() {\r\n            return &quot;Hello World !!&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n**Previous Answer**\r\n\r\n&lt;del&gt;You can create a `Filter` which redirects to `/index.html` if request path doesn&#39;t startsWith `/api`.&lt;/del&gt;\r\n\r\n    // CODE REMOVED. Check Edit History If you want.","title":"Spring Boot with redirecting with single page angular2","body":"<blockquote>\n  <p>For every local REST request not starting with /api overwrite and redirect to default webapp/index.html. I plan to serve anything /api to the spring controllers.</p>\n</blockquote>\n\n<p><strong>Update 15/05/2017</strong></p>\n\n<p>Let me re-phrase your query for other readers. (<em>Correct me, if misunderstood</em>)</p>\n\n<p><strong>Background</strong><br>\nUsing Spring Boot and Serving static resources from classpath</p>\n\n<p><strong>Requirement</strong><br>\nAll <code>404</code> <strong>non api</strong> requests should be redirected to <code>index.html</code>.</p>\n\n<p><em>NON API</em> - means Requests in which URL doesn't start with <code>/api</code>.<br>\n<em>API</em> - 404 should throw <code>404</code> as usual.</p>\n\n<p><strong>Sample Response</strong><br>\n<code>/api/something</code> - will throw <code>404</code><br>\n<code>/index.html</code> - will server index.html<br>\n<code>/something</code> - will redirect to <code>index.html</code>  </p>\n\n<p><strong>My Solution</strong></p>\n\n<p>Let the Spring MVC throw exceptions, if any handler is not available for the given resource.</p>\n\n<p>Add following to <code>application.properties</code></p>\n\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n</code></pre>\n\n<p>Add a <code>ControllerAdvice</code> as follows</p>\n\n<pre><code>@ControllerAdvice\npublic class RedirectOnResourceNotFoundException {\n\n    @ExceptionHandler(value = NoHandlerFoundException.class)\n    public Object handleStaticResourceNotFound(final NoHandlerFoundException ex, HttpServletRequest req, RedirectAttributes redirectAttributes) {\n        if (req.getRequestURI().startsWith(\"/api\"))\n            return this.getApiResourceNotFoundBody(ex, req);\n        else {\n            redirectAttributes.addFlashAttribute(\"errorMessage\", \"My Custom error message\");\n            return \"redirect:/index.html\";\n        }\n    }\n\n    private ResponseEntity&lt;String&gt; getApiResourceNotFoundBody(NoHandlerFoundException ex, HttpServletRequest req) {\n        return new ResponseEntity&lt;&gt;(\"Not Found !!\", HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n\n<p>You can customize the error message as you like.</p>\n\n<blockquote>\n  <p>Is there a way to prefix all controllers with api so that I do not have to write api every time.</p>\n</blockquote>\n\n<p>For this, you can create a <code>BaseController</code> and set the RequestMapping path to <code>/api</code></p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>import org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RequestMapping(\"/api\")\npublic abstract class BaseController {}\n</code></pre>\n\n<p>And extend this <code>BaseController</code> and make sure you <strong>do not</strong> annotate child class with <code>@RequestMapping</code></p>\n\n<pre><code>import org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class FirstTestController extends BaseController {\n    @RequestMapping(path = \"/something\")\n    public String sayHello() {\n        return \"Hello World !!\";\n    }\n\n}\n</code></pre>\n\n<p><strong>Previous Answer</strong></p>\n\n<p><del>You can create a <code>Filter</code> which redirects to <code>/index.html</code> if request path doesn't startsWith <code>/api</code>.</del></p>\n\n<pre><code>// CODE REMOVED. Check Edit History If you want.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9132122,"reputation":3617,"user_id":6793312,"accept_rate":50,"display_name":"Moshe Arad"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1494726553,"creation_date":1494725769,"answer_id":43959575,"question_id":43913753,"body_markdown":"Ok, let&#39;s start with the simple part of your question:\r\n\r\n&gt; Is there a way to prefix all controllers with api so that I do not have to write api every time?\r\n\r\nThe answer is yes, just mark your controller with a &quot;global&quot; `@RequestMapping` annotation, for example:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ApiController{\r\n       \r\n       @RequestMapping(&quot;/hello&quot;) \r\n       public String hello(){\r\n          return &quot;hello simple controller&quot;;\r\n       }\r\n\r\n       @RequestMapping(&quot;/hello2&quot;) \r\n       public String hello2(){\r\n          return &quot;hello2 simple controller&quot;;\r\n       }\r\n    }\r\n\r\n*In the example above you can invoke hello method with this URL: `/api/hello`*\r\n\r\n*and the second method with this URL: `/api/hello2`*\r\n\r\n**This is how I didn&#39;t have to mark each method with `/api` prefix.**\r\n\r\nNow, to the more complex part of your question: \r\n\r\n**is how to achieve a redirect if the request doesn&#39;t start with `/api` prefix?**\r\n\r\nYou can do it by returning an HTTP status code (302) of Redirect, after all, angularJs &quot;speaks&quot; REST natively, thus you can&#39;t force a redirect from Java/Spring code like you use to. \r\n\r\nThen just return an HTTP message with the status code of 302, and on your angularJS do the actual redirection.\r\n\r\nFor example:\r\n\r\n**On AngularJS:**\r\n\r\n    var headers = {&#39;Content-Type&#39;:&#39;application/json&#39;, &#39;Accept&#39;:&#39;application/json&#39;}\r\n    \r\n    var config = {\r\n    \tmethod:&#39;GET&#39;\r\n    \turl:&#39;http://localhost:8080/hello&#39;,\r\n    \theaders:headers\r\n    };\r\n    \r\n    http(config).then(\r\n    \tfunction onSuccess(response){\r\n    \t\tif(response.status == 302){\r\n    \t\t\tconsole.log(&quot;Redirect&quot;);\r\n    \t\t\t$location(&quot;/&quot;)\r\n    \t\t}\r\n    }, function onError(response){\r\n    \tconsole.log(&quot;An error occured while trying to open a new game room...&quot;);\r\n    });\r\n\r\n **On Spring:**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ApiController{\r\n       \r\n       @RequestMapping(&quot;/hello&quot;) \r\n       public ResponseEntity&lt;String&gt; hello(){\r\n          HttpHeaders header = new HttpHeaders();\r\n\t      header.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t      return new ResponseEntity&lt;String&gt;(&quot;&quot;, header, HttpStatus.FOUND);\r\n       }\r\n    }\r\n\r\nof course, you&#39;ll need to custom it to your project.","title":"Spring Boot with redirecting with single page angular2","body":"<p>Ok, let's start with the simple part of your question:</p>\n\n<blockquote>\n  <p>Is there a way to prefix all controllers with api so that I do not have to write api every time?</p>\n</blockquote>\n\n<p>The answer is yes, just mark your controller with a \"global\" <code>@RequestMapping</code> annotation, for example:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\npublic class ApiController{\n\n   @RequestMapping(\"/hello\") \n   public String hello(){\n      return \"hello simple controller\";\n   }\n\n   @RequestMapping(\"/hello2\") \n   public String hello2(){\n      return \"hello2 simple controller\";\n   }\n}\n</code></pre>\n\n<p><em>In the example above you can invoke hello method with this URL: <code>/api/hello</code></em></p>\n\n<p><em>and the second method with this URL: <code>/api/hello2</code></em></p>\n\n<p><strong>This is how I didn't have to mark each method with <code>/api</code> prefix.</strong></p>\n\n<p>Now, to the more complex part of your question: </p>\n\n<p><strong>is how to achieve a redirect if the request doesn't start with <code>/api</code> prefix?</strong></p>\n\n<p>You can do it by returning an HTTP status code (302) of Redirect, after all, angularJs \"speaks\" REST natively, thus you can't force a redirect from Java/Spring code like you use to. </p>\n\n<p>Then just return an HTTP message with the status code of 302, and on your angularJS do the actual redirection.</p>\n\n<p>For example:</p>\n\n<p><strong>On AngularJS:</strong></p>\n\n<pre><code>var headers = {'Content-Type':'application/json', 'Accept':'application/json'}\n\nvar config = {\n    method:'GET'\n    url:'http://localhost:8080/hello',\n    headers:headers\n};\n\nhttp(config).then(\n    function onSuccess(response){\n        if(response.status == 302){\n            console.log(\"Redirect\");\n            $location(\"/\")\n        }\n}, function onError(response){\n    console.log(\"An error occured while trying to open a new game room...\");\n});\n</code></pre>\n\n<p><strong>On Spring:</strong></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\npublic class ApiController{\n\n   @RequestMapping(\"/hello\") \n   public ResponseEntity&lt;String&gt; hello(){\n      HttpHeaders header = new HttpHeaders();\n      header.add(\"Content-Type\", \"application/json\");\n      return new ResponseEntity&lt;String&gt;(\"\", header, HttpStatus.FOUND);\n   }\n}\n</code></pre>\n\n<p>of course, you'll need to custom it to your project.</p>\n"},{"tags":[],"owner":{"account_id":2531619,"reputation":846,"user_id":2199812,"display_name":"reflexdemon"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1494726938,"creation_date":1494726938,"answer_id":43959675,"question_id":43913753,"body_markdown":"All you need to try is put the `index.html` to `src/main/resources/static/`\r\n\r\n**See Example:** https://github.com/reflexdemon/shop/tree/master/src/main/resources/static\r\n\r\nIn my `package.josn` I try to copy it to this location.\r\n\r\n**See PackageJSON:** https://github.com/reflexdemon/shop/blob/master/package.json#L14","title":"Spring Boot with redirecting with single page angular2","body":"<p>All you need to try is put the <code>index.html</code> to <code>src/main/resources/static/</code></p>\n\n<p><strong>See Example:</strong> <a href=\"https://github.com/reflexdemon/shop/tree/master/src/main/resources/static\" rel=\"nofollow noreferrer\">https://github.com/reflexdemon/shop/tree/master/src/main/resources/static</a></p>\n\n<p>In my <code>package.josn</code> I try to copy it to this location.</p>\n\n<p><strong>See PackageJSON:</strong> <a href=\"https://github.com/reflexdemon/shop/blob/master/package.json#L14\" rel=\"nofollow noreferrer\">https://github.com/reflexdemon/shop/blob/master/package.json#L14</a></p>\n"},{"tags":[],"owner":{"account_id":2177186,"reputation":687,"user_id":1927573,"display_name":"Jane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494915394,"creation_date":1494915394,"answer_id":43993760,"question_id":43913753,"body_markdown":"In the @Configuration bean you can add a ServletRegistrationBean to make the spring server for the /api/* resquest only, then in the Controller you don&#39;t need to add it.\r\n\r\n\r\n    @Bean\r\n    public ServletRegistrationBean dispatcherRegistration() {\r\n        ServletRegistrationBean registration = new ServletRegistrationBean(\r\n                dispatcherServlet());\r\n        registration.addUrlMappings(&quot;/api/*&quot;);\r\n        registration.setLoadOnStartup(1);\r\n        registration.setName(&quot;mvc-dispatcher&quot;);\r\n        return registration;\r\n    }","title":"Spring Boot with redirecting with single page angular2","body":"<p>In the @Configuration bean you can add a ServletRegistrationBean to make the spring server for the /api/* resquest only, then in the Controller you don't need to add it.</p>\n\n<pre><code>@Bean\npublic ServletRegistrationBean dispatcherRegistration() {\n    ServletRegistrationBean registration = new ServletRegistrationBean(\n            dispatcherServlet());\n    registration.addUrlMappings(\"/api/*\");\n    registration.setLoadOnStartup(1);\n    registration.setName(\"mvc-dispatcher\");\n    return registration;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1110246,"reputation":1615,"user_id":1100847,"accept_rate":75,"display_name":"Tim"},"score":1,"creation_date":1547662726,"post_id":53104682,"comment_id":95271961,"body_markdown":"Note also that this needs to be annotated with `@Controller`.  `@RestController` will not work.","body":"Note also that this needs to be annotated with <code>@Controller</code>.  <code>@RestController</code> will not work."},{"owner":{"account_id":2753369,"reputation":347,"user_id":2372187,"display_name":"Lucas Moyano Angelini"},"score":2,"creation_date":1555366831,"post_id":53104682,"comment_id":98078189,"body_markdown":"Are you god? wow... I expend so much time!! thank you very much bro!","body":"Are you god? wow... I expend so much time!! thank you very much bro!"},{"owner":{"account_id":8323743,"reputation":1749,"user_id":6254435,"display_name":"Dan Ortega"},"score":0,"creation_date":1590895932,"post_id":53104682,"comment_id":109852306,"body_markdown":"Is there a way to do it with RestController ?","body":"Is there a way to do it with RestController ?"},{"owner":{"account_id":8323743,"reputation":1749,"user_id":6254435,"display_name":"Dan Ortega"},"score":0,"creation_date":1590896847,"post_id":53104682,"comment_id":109852474,"body_markdown":"Just did it exactly as explained and it works perfectly fine. Thank you very much.","body":"Just did it exactly as explained and it works perfectly fine. Thank you very much."},{"owner":{"account_id":1110378,"reputation":775,"user_id":2024228,"display_name":"Raid"},"score":1,"creation_date":1593495194,"post_id":53104682,"comment_id":110793336,"body_markdown":"@DanOrtega you could use use `@Controller` and include a `@ResponseBody` on the methods you want to have a response body? Because `@RestController` apparently just adds `@Controller` and `@ResponseBody` to the class from what I&#39;ve read online anyway. :)","body":"@DanOrtega you could use use <code>@Controller</code> and include a <code>@ResponseBody</code> on the methods you want to have a response body? Because <code>@RestController</code> apparently just adds <code>@Controller</code> and <code>@ResponseBody</code> to the class from what I&#39;ve read online anyway. :)"},{"owner":{"account_id":1110378,"reputation":775,"user_id":2024228,"display_name":"Raid"},"score":2,"creation_date":1593496186,"post_id":53104682,"comment_id":110793619,"body_markdown":"If you look in the console you&#39;ll notice an error response code with every page request, the solution is to add a `@ResponseStatus(HttpStatus.OK)` to the `error()` method.\n\nTake care, brother. :)","body":"If you look in the console you&#39;ll notice an error response code with every page request, the solution is to add a <code>@ResponseStatus(HttpStatus.OK)</code> to the <code>error()</code> method.  Take care, brother. :)"},{"owner":{"account_id":8323743,"reputation":1749,"user_id":6254435,"display_name":"Dan Ortega"},"score":0,"creation_date":1594050996,"post_id":53104682,"comment_id":110984251,"body_markdown":"Thank you buddy.","body":"Thank you buddy."},{"owner":{"account_id":39584,"reputation":3154,"user_id":114265,"accept_rate":58,"display_name":"Brian S"},"score":0,"creation_date":1601928462,"post_id":53104682,"comment_id":113553395,"body_markdown":"Another thing to keep in mind, you can configure the resources/static at runtime.  giving you the same result in the end\n\n\n      spring.resources.static-locations: file:/var/lib/myApp/webRoot","body":"Another thing to keep in mind, you can configure the resources/static at runtime.  giving you the same result in the end         spring.resources.static-locations: file:/var/lib/myApp/webRoot"},{"owner":{"account_id":6893953,"reputation":81,"user_id":5296523,"display_name":"indranil9286"},"score":0,"creation_date":1627057749,"post_id":53104682,"comment_id":121064218,"body_markdown":"Thanks for the suggestions. Worked like a charm. Just an addition, I did not add  my static files to `resources/static` directory. Instead I added my custom directory under `resources` ==&gt; `resources/customDir` and added a configuration in `application.properties` ==&gt; `spring.web.resources.static-locations=classpath:/customDir/`. Rest worked as same.","body":"Thanks for the suggestions. Worked like a charm. Just an addition, I did not add  my static files to <code>resources&#47;static</code> directory. Instead I added my custom directory under <code>resources</code> ==&gt; <code>resources&#47;customDir</code> and added a configuration in <code>application.properties</code> ==&gt; <code>spring.web.resources.static-locations=classpath:&#47;customDir&#47;</code>. Rest worked as same."},{"owner":{"account_id":9592981,"reputation":558,"user_id":7123166,"display_name":"Ankur S"},"score":3,"creation_date":1629636666,"post_id":53104682,"comment_id":121733831,"body_markdown":"ErrorController does not have any method called getErrorPath, not sure which Error controller you are referring to","body":"ErrorController does not have any method called getErrorPath, not sure which Error controller you are referring to"},{"owner":{"account_id":6841559,"reputation":59,"user_id":5261779,"accept_rate":67,"display_name":"S. Cannon"},"score":0,"creation_date":1660351767,"post_id":53104682,"comment_id":129519940,"body_markdown":"So I have an issue where my application throws an error on a POST method. When it calls my MyApp.error() function it fails when redirecting to &quot;forward:/index.html&quot; with a 405 Request method &#39;POST&#39; not supported. It works when an error is called during a GET method. I&#39;m not sure how to get this index.html to accept the POST call, as I don&#39;t really want it to do anything except allow the application to continue running as it was (just like what happens with a GET). How do I solve this?","body":"So I have an issue where my application throws an error on a POST method. When it calls my MyApp.error() function it fails when redirecting to &quot;forward:/index.html&quot; with a 405 Request method &#39;POST&#39; not supported. It works when an error is called during a GET method. I&#39;m not sure how to get this index.html to accept the POST call, as I don&#39;t really want it to do anything except allow the application to continue running as it was (just like what happens with a GET). How do I solve this?"}],"tags":[],"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"comment_count":11,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1541087528,"creation_date":1541087200,"answer_id":53104682,"question_id":43913753,"body_markdown":"## If you&#39;re tired of trying to solve this problem by following so many conflicting solutions - look here!!##\r\n\r\n\r\nAfter hours _upon hours_ trying to follow all the scattered advice from dozens of stack overflow and blog posts, I&#39;ve finally found the minimum PURE spring boot + angular 6 application to always redirect to index.html after a refresh on a non-root page WHILE maintaining all your `REST API` endpoint paths. No `@EnableWebMvc`, no `@ControllerAdvice`, no changes to `application.properties`, no custom `ResourceHandlerRegistry` modifications, just simplicity:\r\n\r\n## Very important pre-requisite ##\r\nYou _*must*_ include _the output_ of `ng build` into Spring&#39;s `resources/static` folder. You can accomplish this via the `maven-resources-plugin`. Learn here: https://stackoverflow.com/questions/19409220/copying-multiple-resource-directories-to-independent-target-directories-with-mav\r\n\r\n## Code ##\r\n\r\n    @Controller\r\n    @SpringBootApplication\r\n    public class MyApp implements ErrorController {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyApp.class, args);\r\n    \t}\r\n    \r\n        private static final String PATH = &quot;/error&quot;;\r\n    \r\n        @RequestMapping(value = PATH)\r\n        public String error() {\r\n            return &quot;forward:/index.html&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public String getErrorPath() {\r\n            return PATH;\r\n        }\r\n    }\r\n\r\n## Reasoning ##\r\n* Including the output of ng-build into `resources/static` at build time allows spring view redirects (`&quot;forward:/index.html&quot;`) to succeed. It seems spring cannot redirect to anything outside of the resources folder so if you&#39;re trying to access pages at the root of the site, it won&#39;t work.\r\n* With default functionality (i.e. no additions of `@EnableWebMvc` or changes to `application.properties`) navigating to `/` automatically serves the index.html (iff it was included in the `resources/static` folder) so no need to make changes there.\r\n* With default functionality (as stated above), any error encountered in a spring boot app routes to `/error` and implementing `ErrorController` overrides that behavior to - you guessed it - route to `index.html` which allows `Angular` to take over the routing.\r\n\r\n## Remarks ##\r\n* Don&#39;t settle for the `HashLocationStrategy` to get over this problem as it is not recommended by Angular: https://angular.io/guide/router#which-strategy-is-best","title":"Spring Boot with redirecting with single page angular2","body":"<h2>If you're tired of trying to solve this problem by following so many conflicting solutions - look here!!</h2>\n\n<p>After hours <em>upon hours</em> trying to follow all the scattered advice from dozens of stack overflow and blog posts, I've finally found the minimum PURE spring boot + angular 6 application to always redirect to index.html after a refresh on a non-root page WHILE maintaining all your <code>REST API</code> endpoint paths. No <code>@EnableWebMvc</code>, no <code>@ControllerAdvice</code>, no changes to <code>application.properties</code>, no custom <code>ResourceHandlerRegistry</code> modifications, just simplicity:</p>\n\n<h2>Very important pre-requisite</h2>\n\n<p>You <em>*must*</em> include <em>the output</em> of <code>ng build</code> into Spring's <code>resources/static</code> folder. You can accomplish this via the <code>maven-resources-plugin</code>. Learn here: <a href=\"https://stackoverflow.com/questions/19409220/copying-multiple-resource-directories-to-independent-target-directories-with-mav\">Copying multiple resource directories to independent target directories with maven</a></p>\n\n<h2>Code</h2>\n\n<pre><code>@Controller\n@SpringBootApplication\npublic class MyApp implements ErrorController {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApp.class, args);\n    }\n\n    private static final String PATH = \"/error\";\n\n    @RequestMapping(value = PATH)\n    public String error() {\n        return \"forward:/index.html\";\n    }\n\n    @Override\n    public String getErrorPath() {\n        return PATH;\n    }\n}\n</code></pre>\n\n<h2>Reasoning</h2>\n\n<ul>\n<li>Including the output of ng-build into <code>resources/static</code> at build time allows spring view redirects (<code>\"forward:/index.html\"</code>) to succeed. It seems spring cannot redirect to anything outside of the resources folder so if you're trying to access pages at the root of the site, it won't work.</li>\n<li>With default functionality (i.e. no additions of <code>@EnableWebMvc</code> or changes to <code>application.properties</code>) navigating to <code>/</code> automatically serves the index.html (iff it was included in the <code>resources/static</code> folder) so no need to make changes there.</li>\n<li>With default functionality (as stated above), any error encountered in a spring boot app routes to <code>/error</code> and implementing <code>ErrorController</code> overrides that behavior to - you guessed it - route to <code>index.html</code> which allows <code>Angular</code> to take over the routing.</li>\n</ul>\n\n<h2>Remarks</h2>\n\n<ul>\n<li>Don't settle for the <code>HashLocationStrategy</code> to get over this problem as it is not recommended by Angular: <a href=\"https://angular.io/guide/router#which-strategy-is-best\" rel=\"noreferrer\">https://angular.io/guide/router#which-strategy-is-best</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3456738,"reputation":121,"user_id":2895083,"display_name":"Anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1542636492,"creation_date":1542636492,"answer_id":53376411,"question_id":43913753,"body_markdown":"\r\n    @Controller\r\n    public class RedirectController {\r\n        /*\r\n         * Redirects all routes to FrontEnd except: &#39;/&#39;, &#39;/index.html&#39;, &#39;/api&#39;, &#39;/api/**&#39;\r\n         */\r\n        @RequestMapping(value = &quot;{_:^(?!index\\\\.html|api).*$}&quot;)\r\n        public String redirectApi() {\r\n            return &quot;forward:/&quot;;\r\n        }\r\n    }","title":"Spring Boot with redirecting with single page angular2","body":"<pre><code>@Controller\npublic class RedirectController {\n    /*\n     * Redirects all routes to FrontEnd except: '/', '/index.html', '/api', '/api/**'\n     */\n    @RequestMapping(value = \"{_:^(?!index\\\\.html|api).*$}\")\n    public String redirectApi() {\n        return \"forward:/\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4380189,"reputation":111,"user_id":3572026,"display_name":"jmformenti"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1574865762,"creation_date":1574865762,"answer_id":59072679,"question_id":43913753,"body_markdown":"The solution that works to me is to overwrite the *BasicErrorController* of Spring Boot:\r\n\r\n    @Component\r\n    public class CustomErrorController extends BasicErrorController {\r\n\r\n\t    public CustomErrorController(ErrorAttributes errorAttributes) {\r\n\t\t    super(errorAttributes, new ErrorProperties());\r\n   \t    }\r\n\r\n     \t@RequestMapping(produces = &quot;text/html&quot;)\r\n\t    @Override\r\n\t    public ModelAndView errorHtml(HttpServletRequest request, HttpServletResponse response) {\r\n\t\t    HttpStatus status = getStatus(request);\r\n\t\t    if (status == HttpStatus.NOT_FOUND) {\r\n\t\t\t    return new ModelAndView(&quot;forward:/&quot;);\r\n\t\t    } else {\r\n\t\t\t    return super.errorHtml(request, response);\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nThe method *errorHtml* only intercepts not found requests and is transparent for responses 404 (not found) from the api.\r\n","title":"Spring Boot with redirecting with single page angular2","body":"<p>The solution that works to me is to overwrite the <em>BasicErrorController</em> of Spring Boot:</p>\n\n<pre><code>@Component\npublic class CustomErrorController extends BasicErrorController {\n\n    public CustomErrorController(ErrorAttributes errorAttributes) {\n        super(errorAttributes, new ErrorProperties());\n    }\n\n    @RequestMapping(produces = \"text/html\")\n    @Override\n    public ModelAndView errorHtml(HttpServletRequest request, HttpServletResponse response) {\n        HttpStatus status = getStatus(request);\n        if (status == HttpStatus.NOT_FOUND) {\n            return new ModelAndView(\"forward:/\");\n        } else {\n            return super.errorHtml(request, response);\n        }\n    }\n}\n</code></pre>\n\n<p>The method <em>errorHtml</em> only intercepts not found requests and is transparent for responses 404 (not found) from the api.</p>\n"},{"tags":[],"owner":{"account_id":80110,"reputation":905,"user_id":226733,"accept_rate":100,"display_name":"Nick Hristov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587246890,"creation_date":1587246890,"answer_id":61296768,"question_id":43913753,"body_markdown":"Most reasonable solution, imho, for **Spring Boot 2+** (code is in Kotlin):\r\n\r\n    @Component\r\n    class ForwardErrorsToIndex : ErrorViewResolver {\r\n       override fun resolveErrorView(request: HttpServletRequest?, \r\n                                  status: HttpStatus?, \r\n                                  model: MutableMap&lt;String, Any&gt;?): ModelAndView {\r\n          return ModelAndView(&quot;forward:/index.html&quot;)\r\n       }\r\n    }","title":"Spring Boot with redirecting with single page angular2","body":"<p>Most reasonable solution, imho, for <strong>Spring Boot 2+</strong> (code is in Kotlin):</p>\n\n<pre><code>@Component\nclass ForwardErrorsToIndex : ErrorViewResolver {\n   override fun resolveErrorView(request: HttpServletRequest?, \n                              status: HttpStatus?, \n                              model: MutableMap&lt;String, Any&gt;?): ModelAndView {\n      return ModelAndView(\"forward:/index.html\")\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1004298,"reputation":648,"user_id":1018443,"accept_rate":40,"display_name":"nharrer"},"score":0,"creation_date":1700478606,"post_id":64469835,"comment_id":136655368,"body_markdown":"Thanks so much! This is the one that worked for me. Other solution would not go along with serving static content and handling non existing paths. Also this makes the most sense, because handling /error or Exceptions is already much later in the chain.","body":"Thanks so much! This is the one that worked for me. Other solution would not go along with serving static content and handling non existing paths. Also this makes the most sense, because handling /error or Exceptions is already much later in the chain."}],"tags":[],"owner":{"account_id":12375458,"reputation":640,"user_id":9023547,"display_name":"Chandan"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603305971,"creation_date":1603305971,"answer_id":64469835,"question_id":43913753,"body_markdown":"Too late on this thread, but thought it might help someone\r\n\r\nTried many solutions, but this looked pretty straight forward and great to me\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.springframework.web.servlet.resource.PathResourceResolver;\r\n     \r\n    import java.io.IOException;\r\n     \r\n    @Configuration\r\n    public class MvcConfiguration implements WebMvcConfigurer {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/static/&quot;)\r\n                    .resourceChain(true)\r\n                    .addResolver(new PathResourceResolver() {\r\n                        @Override\r\n                        protected Resource getResource(String resourcePath, Resource location) throws IOException {\r\n                            Resource requestedResource = location.createRelative(resourcePath);\r\n     \r\n                            return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\r\n                                    : new ClassPathResource(&quot;/static/index.html&quot;);\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\nCredits: https://keepgrowing.in/java/springboot/make-spring-boot-surrender-routing-control-to-angular/","title":"Spring Boot with redirecting with single page angular2","body":"<p>Too late on this thread, but thought it might help someone</p>\n<p>Tried many solutions, but this looked pretty straight forward and great to me</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.resource.PathResourceResolver;\n \nimport java.io.IOException;\n \n@Configuration\npublic class MvcConfiguration implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/**&quot;)\n                .addResourceLocations(&quot;classpath:/static/&quot;)\n                .resourceChain(true)\n                .addResolver(new PathResourceResolver() {\n                    @Override\n                    protected Resource getResource(String resourcePath, Resource location) throws IOException {\n                        Resource requestedResource = location.createRelative(resourcePath);\n \n                        return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\n                                : new ClassPathResource(&quot;/static/index.html&quot;);\n                    }\n                });\n    }\n}\n</code></pre>\n<p>Credits: <a href=\"https://keepgrowing.in/java/springboot/make-spring-boot-surrender-routing-control-to-angular/\" rel=\"nofollow noreferrer\">https://keepgrowing.in/java/springboot/make-spring-boot-surrender-routing-control-to-angular/</a></p>\n"},{"comments":[{"owner":{"account_id":1004298,"reputation":648,"user_id":1018443,"accept_rate":40,"display_name":"nharrer"},"score":0,"creation_date":1700477827,"post_id":73508431,"comment_id":136655240,"body_markdown":"This is because with `@EnableWebMvc`, the `WebMvcAutoConfiguration` is not used anymore, which handles the forward of / to /index.html. If you remove `@EnableWebMvc`, your resolver is called and / should still be working.","body":"This is because with <code>@EnableWebMvc</code>, the <code>WebMvcAutoConfiguration</code> is not used anymore, which handles the forward of / to /index.html. If you remove <code>@EnableWebMvc</code>, your resolver is called and / should still be working."}],"tags":[],"owner":{"account_id":1137281,"reputation":592,"user_id":1122077,"accept_rate":60,"display_name":"david"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661575549,"creation_date":1661575549,"answer_id":73508431,"question_id":43913753,"body_markdown":"I don&#39;t know why, but the root url &quot;/&quot; would not resolve without adding a little more code. This is what I ended up with.\r\n\r\n    \r\n    import java.io.IOException;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.http.CacheControl;\r\n    import org.springframework.web.context.request.RequestContextListener;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.springframework.web.servlet.resource.PathResourceResolver;\r\n    \r\n    @EnableWebMvc\r\n    @Configuration\r\n    public class MvcConfiguration implements WebMvcConfigurer {\r\n    \t@Override\r\n    \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \t\tregistry.addResourceHandler(&quot;/&quot;)\r\n    \t\t\t\t.addResourceLocations(&quot;classpath:/static/&quot;)\r\n    \t\t\t\t.resourceChain(true)\r\n    \t\t\t\t.addResolver(new PathResourceResolver() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tprotected Resource getResource(String resourcePath, Resource location) throws IOException {\r\n    \t\t\t\t\t\tResource requestedResource = location.createRelative(resourcePath);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\treturn requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\r\n    \t\t\t\t\t\t\t\t: new ClassPathResource(&quot;/static/index.html&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \t\tregistry.addResourceHandler(&quot;/**/*&quot;)\r\n    \t\t\t\t.addResourceLocations(&quot;classpath:/static/&quot;)\r\n    \t\t\t\t.resourceChain(true)\r\n    \t\t\t\t.addResolver(new PathResourceResolver() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tprotected Resource getResource(String resourcePath, Resource location) throws IOException {\r\n    \t\t\t\t\t\tResource requestedResource = location.createRelative(resourcePath);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\treturn requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\r\n    \t\t\t\t\t\t\t\t: new ClassPathResource(&quot;/static/index.html&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t}\r\n    }","title":"Spring Boot with redirecting with single page angular2","body":"<p>I don't know why, but the root url &quot;/&quot; would not resolve without adding a little more code. This is what I ended up with.</p>\n<pre><code>import java.io.IOException;\nimport java.util.concurrent.TimeUnit;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.http.CacheControl;\nimport org.springframework.web.context.request.RequestContextListener;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.resource.PathResourceResolver;\n\n@EnableWebMvc\n@Configuration\npublic class MvcConfiguration implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/&quot;)\n                .addResourceLocations(&quot;classpath:/static/&quot;)\n                .resourceChain(true)\n                .addResolver(new PathResourceResolver() {\n                    @Override\n                    protected Resource getResource(String resourcePath, Resource location) throws IOException {\n                        Resource requestedResource = location.createRelative(resourcePath);\n                        \n                        return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\n                                : new ClassPathResource(&quot;/static/index.html&quot;);\n                    }\n                });\n\n        registry.addResourceHandler(&quot;/**/*&quot;)\n                .addResourceLocations(&quot;classpath:/static/&quot;)\n                .resourceChain(true)\n                .addResolver(new PathResourceResolver() {\n                    @Override\n                    protected Resource getResource(String resourcePath, Resource location) throws IOException {\n                        Resource requestedResource = location.createRelative(resourcePath);\n                        \n                        return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource\n                                : new ClassPathResource(&quot;/static/index.html&quot;);\n                    }\n                });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19476520,"reputation":101,"user_id":14247812,"display_name":"wk."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680764244,"creation_date":1680721697,"answer_id":75943191,"question_id":43913753,"body_markdown":"If you don&#39;t want to describe resources manually (`WebMvcConfigurer#addResourceHandlers`). And you don&#39;t want users of your `REST API` to be shocked by getting `index.html`. Also you always try to follow the minimum customizations of `Spring Boot` to keep as much of `OOTB` features as possible.\r\n\r\n    import org.springframework.boot.autoconfigure.web.servlet.error.ErrorViewResolver;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.server.ResponseStatusException;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import java.util.Map;\r\n    \r\n    @Component\r\n    public class CustomErrorViewResolver implements ErrorViewResolver {\r\n    \r\n        @Override\r\n        public ModelAndView resolveErrorView(HttpServletRequest request,\r\n                                             HttpStatus status,\r\n                                             Map&lt;String, Object&gt; model) {\r\n            String path = String.valueOf(model.get(&quot;path&quot;));\r\n    \r\n            if (path.startsWith(&quot;/api&quot;)) {\r\n                String error = String.valueOf(model.get(&quot;error&quot;));\r\n    \r\n                throw new ResponseStatusException(status, error);\r\n            }\r\n    \r\n            return new ModelAndView(&quot;index.html&quot;, model, status);\r\n        }\r\n    }\r\n\r\nPlease note that default implementation\r\n\r\n    package org.springframework.boot.autoconfigure.web.servlet.error;\r\n\r\n\t@Bean\r\n\t@ConditionalOnBean(DispatcherServlet.class)\r\n\t@ConditionalOnMissingBean(ErrorViewResolver.class) // &lt;-- will be excluded.\r\n\tDefaultErrorViewResolver conventionErrorViewResolver() {\r\n\t\treturn new DefaultErrorViewResolver(this.applicationContext, this.resources);\r\n\t}","title":"Spring Boot with redirecting with single page angular2","body":"<p>If you don't want to describe resources manually (<code>WebMvcConfigurer#addResourceHandlers</code>). And you don't want users of your <code>REST API</code> to be shocked by getting <code>index.html</code>. Also you always try to follow the minimum customizations of <code>Spring Boot</code> to keep as much of <code>OOTB</code> features as possible.</p>\n<pre><code>import org.springframework.boot.autoconfigure.web.servlet.error.ErrorViewResolver;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.server.ResponseStatusException;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport jakarta.servlet.http.HttpServletRequest;\nimport java.util.Map;\n\n@Component\npublic class CustomErrorViewResolver implements ErrorViewResolver {\n\n    @Override\n    public ModelAndView resolveErrorView(HttpServletRequest request,\n                                         HttpStatus status,\n                                         Map&lt;String, Object&gt; model) {\n        String path = String.valueOf(model.get(&quot;path&quot;));\n\n        if (path.startsWith(&quot;/api&quot;)) {\n            String error = String.valueOf(model.get(&quot;error&quot;));\n\n            throw new ResponseStatusException(status, error);\n        }\n\n        return new ModelAndView(&quot;index.html&quot;, model, status);\n    }\n}\n</code></pre>\n<p>Please note that default implementation</p>\n<pre><code>package org.springframework.boot.autoconfigure.web.servlet.error;\n\n@Bean\n@ConditionalOnBean(DispatcherServlet.class)\n@ConditionalOnMissingBean(ErrorViewResolver.class) // &lt;-- will be excluded.\nDefaultErrorViewResolver conventionErrorViewResolver() {\n    return new DefaultErrorViewResolver(this.applicationContext, this.resources);\n}\n</code></pre>\n"}],"owner":{"account_id":1019340,"reputation":11599,"user_id":1030168,"accept_rate":87,"display_name":"Robbo_UK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59939,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":43954350,"answer_count":13,"score":31,"last_activity_date":1680764244,"creation_date":1494501126,"question_id":43913753,"body_markdown":"I have a single page Angular app with Spring Boot. It looks like the following:\r\n\r\n    src\r\n      main\r\n      java\r\n        controller\r\n           HomeController\r\n           CustomerController\r\n           OtherController\r\n      webapp\r\n        js/angular-files.js\r\n        index.html\r\n\r\nSpring boot correctly defaults to webapp folder and serves index.html file.  \r\n\r\nWhat I am looking to do is:\r\n\r\n1. For every local REST request *not* starting with `/api` overwrite and redirect to default webapp/index.html.  I plan to serve anything `/api` to the spring controllers.\r\n\r\n2. Is there a way to prefix all controllers with API so that I do not have to write API every time?\r\ne.g. \r\n\r\n    @RequestMapping(&quot;/api/home&quot;) can write shorthand in code  @RequestMapping(&quot;/home&quot;)\r\n\r\nor \r\n\r\n    @RequestMapping(&quot;/api/other-controller/:id&quot;) can write shorthand  @RequestMapping(&quot;/other-controller/:id&quot;)\r\n\r\nI&#39;m looking for every API request, e.g. 1) http://localhost:8080/api/home keep API with API and resolve to correct controller and return JSON, however if someone enters a URL like http:///localhost/some-url  or http:///localhost/some-other/123/url then it will serve the index.html page and keep the URL.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlternative ways to do it: try adding #ErrorViewResolver: \r\nhttps://stackoverflow.com/questions/38516667/springboot-angular2-how-to-handle-html5-urls\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wVMZ5.png","title":"Spring Boot with redirecting with single page angular2","body":"<p>I have a single page Angular app with Spring Boot. It looks like the following:</p>\n\n<pre><code>src\n  main\n  java\n    controller\n       HomeController\n       CustomerController\n       OtherController\n  webapp\n    js/angular-files.js\n    index.html\n</code></pre>\n\n<p>Spring boot correctly defaults to webapp folder and serves index.html file.  </p>\n\n<p>What I am looking to do is:</p>\n\n<ol>\n<li><p>For every local REST request <em>not</em> starting with <code>/api</code> overwrite and redirect to default webapp/index.html.  I plan to serve anything <code>/api</code> to the spring controllers.</p></li>\n<li><p>Is there a way to prefix all controllers with API so that I do not have to write API every time?\ne.g. </p>\n\n<p>@RequestMapping(\"/api/home\") can write shorthand in code  @RequestMapping(\"/home\")</p></li>\n</ol>\n\n<p>or </p>\n\n<pre><code>@RequestMapping(\"/api/other-controller/:id\") can write shorthand  @RequestMapping(\"/other-controller/:id\")\n</code></pre>\n\n<p>I'm looking for every API request, e.g. 1) <a href=\"http://localhost:8080/api/home\" rel=\"noreferrer\">http://localhost:8080/api/home</a> keep API with API and resolve to correct controller and return JSON, however if someone enters a URL like <a href=\"http:///localhost/some-url\" rel=\"noreferrer\">http:///localhost/some-url</a>  or <a href=\"http:///localhost/some-other/123/url\" rel=\"noreferrer\">http:///localhost/some-other/123/url</a> then it will serve the index.html page and keep the URL.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wVMZ5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wVMZ5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Alternative ways to do it: try adding #ErrorViewResolver: \n<a href=\"https://stackoverflow.com/questions/38516667/springboot-angular2-how-to-handle-html5-urls\">Springboot/Angular2 - How to handle HTML5 urls?</a></p>\n"},{"tags":["java","c","raspberry-pi","java-native-interface","pi4j"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1680767619,"post_id":75946629,"comment_id":133954761,"body_markdown":"What is wrong with the proposed solution using the SPI? Note that I&#39;ve written a response to https://stackoverflow.com/questions/75917421/addressable-led-strip-control-using-raspberry-pi-3b-and-pi4j-library where I show you why your current code (using the SPI) doesn&#39;t work: simple put you turn on all LEDs and then try to turn on some of them again.","body":"What is wrong with the proposed solution using the SPI? Note that I&#39;ve written a response to <a href=\"https://stackoverflow.com/questions/75917421/addressable-led-strip-control-using-raspberry-pi-3b-and-pi4j-library\" title=\"addressable led strip control using raspberry pi 3b and pi4j library\">stackoverflow.com/questions/75917421/&hellip;</a> where I show you why your current code (using the SPI) doesn&#39;t work: simple put you turn on all LEDs and then try to turn on some of them again."},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1680768540,"post_id":75946629,"comment_id":133954974,"body_markdown":"It doesn&#39;t work again. I think already that the customer has problems with electromagnetic compatibility - sometimes LED becomes red color on some LEDs, sometimes not every LED is switched off when the right command comes. https://youtu.be/qL6ph2J-_BM","body":"It doesn&#39;t work again. I think already that the customer has problems with electromagnetic compatibility - sometimes LED becomes red color on some LEDs, sometimes not every LED is switched off when the right command comes. <a href=\"https://youtu.be/qL6ph2J-_BM\" rel=\"nofollow noreferrer\">youtu.be/qL6ph2J-_BM</a>"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1680774571,"post_id":75946629,"comment_id":133956293,"body_markdown":"The Pi4j library you mention already has a JNI component (which allows calling C code). I think you should look into extending that with your &quot;dream api&quot;","body":"The Pi4j library you mention already has a JNI component (which allows calling C code). I think you should look into extending that with your &quot;dream api&quot;"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1680778855,"post_id":75946629,"comment_id":133957259,"body_markdown":"I think I can create better from 0 than I will try to use SPI for this purpose. I have no success with the ready example. That is why I want to start from the null point","body":"I think I can create better from 0 than I will try to use SPI for this purpose. I have no success with the ready example. That is why I want to start from the null point"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680763988,"creation_date":1680763988,"question_id":75946629,"body_markdown":"I must create a java videogame that runs on a Raspberry Pi 3b and controls external devices. The game is ready. It communicates successfully  with a joystick, coin acceptor and 7-segments LED-display. But I can not control a [LED-strip][1]. It is the last problem. It uses [ws2811 chips][2] that needs the input signal frequency 800 kH. The shortest single signal duration time on my Raspberry Pi 4B, that I can got from Java using functions like: \r\n\r\n    digitalWrite(pinNumber, HIGH);\r\n\r\nis 6500 nanoseconds. But for the LED strip control I need 250 nanoseconds. I have tried the example from [Pi4J library][3]. It uses SPI but it [doesn&#39;t work properly][4] with my LED strip : it switched on random LEDs and doesn&#39;t switch off all the LEDs every time I run the allOff() function. I call the allOff() function twice to switch off all the flashing LEDs. \r\n\r\nI have only one idea: I know that the same function called from a C program hat the duration time 100 nanoseconds. I want to write a simple program on C and either compile it and call the compiled code from my java code using for example JNI or run this program parallel direct from my Java game. I don&#39;t know C, I only know Java but have no experience with JNI. I have wrote the code that I would like to port in C. The program must be pretty simple: I have 10 LEDs in the strip. I need to switch on the LEDs with numbers 1-2, 3-5, 6-10 and have an ability to switch off all the LEDs. The color is only white. My dream abstract code:\r\n\r\n    public class AbstractLedStripController {   //super abstract LED strip controller. I want port this code on C and launch from java\r\n\r\n        private final static long BIT_0_SIGNAL_START_DURATION = 250;   // every bit starts with high level. A single bit transfer durations is 1250 nanoseconds\r\n        private final static long BIT_0_SIGNAL_END_DURATION = 1000;   // every bit ends with low level. A single bit transfer durations is 1250 nanoseconds\r\n        private final static long BIT_1_SIGNAL_START_DURATION = 600;   // every bit starts with high level. A single bit transfer durations is 1250 nanoseconds\r\n        private final static long BIT_1_SIGNAL_END_DURATION = 650;   // every bit ends with low level. A single bit transfer durations is 1250 nanoseconds\r\n        private final int LEDs = 10;    //Chain contains 10 LEDs. I think it is important that pin supports\r\n\r\n        private final int signalPin = 10;       // Pin number for control the LED. GPIO10 - MOSI pin for SPI. I think it is faster as the anothers\r\n        private static long start, end;         // Variables for saving time\r\n\r\n        public void flash1_2(){  //Switch on LEDs from 1 to 2;\r\n            changeStatement(0,1);\r\n        }\r\n\r\n        public void flash3_5(){  //Switch on LEDs from 3 to 5;\r\n            changeStatement(2,4);\r\n        }\r\n\r\n        public void flash6_10(){  //Switch on LEDs from 6 to 10;\r\n            changeStatement(5,9);\r\n        }\r\n\r\n        public void allOff(){   // Color for a single LED is encrypted in 24 bits. To switch off the LED I send 24 logical false\r\n            for (int i = 0; i &lt; LEDs; i++){\r\n                for (int j = 0; j &lt; 24; j++){\r\n                    write0();\r\n                }\r\n            }\r\n        }\r\n\r\n        private void changeStatement(int startPin, int lastPin){\r\n            for (int i = 0; i &lt; LEDs; i++){\r\n                if (i&gt;= startPin &amp;&amp; i &lt;= lastPin){\r\n                    for (int j = 0; j &lt; 24; j++){   // Color for a single LED is encrypted in 24 bits. For white color I send 24 logical TRUE\r\n                        write1();\r\n                    }\r\n                }\r\n                else {\r\n                    for (int j = 0; j &lt; 24; j++){   // Color for a single LED is encrypted in 24 bits. To switch off the LED I send 24 logical FALSE\r\n                        write0();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private void write0(){\r\n            start = System.nanoTime();\r\n            end = start+BIT_0_SIGNAL_START_DURATION;\r\n            digitalWrite(true);\r\n            while(System.nanoTime()&lt;end){\r\n                //wait\r\n            }\r\n            start = System.nanoTime();\r\n            end = start+BIT_0_SIGNAL_END_DURATION;\r\n            digitalWrite(false);\r\n            while(System.nanoTime()&lt;end){\r\n                //wait\r\n            }\r\n        }\r\n\r\n        private void write1(){\r\n            start = System.nanoTime();\r\n            end = start+BIT_1_SIGNAL_START_DURATION;\r\n            digitalWrite(true);\r\n            while(System.nanoTime()&lt;end){\r\n                //wait\r\n            }\r\n            start = System.nanoTime();\r\n            end = start+BIT_1_SIGNAL_END_DURATION;\r\n            digitalWrite(false);\r\n            while(System.nanoTime()&lt;end){\r\n                //wait\r\n            }\r\n        }\r\n\r\n        private void digitalWrite(boolean level){\r\n            //Something that changes the pin statement very fast\r\n        }\r\n    }\r\n\r\nGive me please an idea what I need to do port this code in C and make it launchable from Java. \r\n\r\n\r\n  [1]: https://www.alibaba.com/product-detail/2022-Best-selling-WS2811-12mm-IP68_62315179252.html\r\n  [2]: https://cdn-shop.adafruit.com/datasheets/WS2811.pdf\r\n  [3]: https://pi4j.com/examples/components/ledstrip/\r\n  [4]: https://www.youtube.com/watch?v=FeFuEqwTlGk","title":"Raspberry Pi controls a LED strip based on ws2811 chips from C","body":"<p>I must create a java videogame that runs on a Raspberry Pi 3b and controls external devices. The game is ready. It communicates successfully  with a joystick, coin acceptor and 7-segments LED-display. But I can not control a <a href=\"https://www.alibaba.com/product-detail/2022-Best-selling-WS2811-12mm-IP68_62315179252.html\" rel=\"nofollow noreferrer\">LED-strip</a>. It is the last problem. It uses <a href=\"https://cdn-shop.adafruit.com/datasheets/WS2811.pdf\" rel=\"nofollow noreferrer\">ws2811 chips</a> that needs the input signal frequency 800 kH. The shortest single signal duration time on my Raspberry Pi 4B, that I can got from Java using functions like:</p>\n<pre><code>digitalWrite(pinNumber, HIGH);\n</code></pre>\n<p>is 6500 nanoseconds. But for the LED strip control I need 250 nanoseconds. I have tried the example from <a href=\"https://pi4j.com/examples/components/ledstrip/\" rel=\"nofollow noreferrer\">Pi4J library</a>. It uses SPI but it <a href=\"https://www.youtube.com/watch?v=FeFuEqwTlGk\" rel=\"nofollow noreferrer\">doesn't work properly</a> with my LED strip : it switched on random LEDs and doesn't switch off all the LEDs every time I run the allOff() function. I call the allOff() function twice to switch off all the flashing LEDs.</p>\n<p>I have only one idea: I know that the same function called from a C program hat the duration time 100 nanoseconds. I want to write a simple program on C and either compile it and call the compiled code from my java code using for example JNI or run this program parallel direct from my Java game. I don't know C, I only know Java but have no experience with JNI. I have wrote the code that I would like to port in C. The program must be pretty simple: I have 10 LEDs in the strip. I need to switch on the LEDs with numbers 1-2, 3-5, 6-10 and have an ability to switch off all the LEDs. The color is only white. My dream abstract code:</p>\n<pre><code>public class AbstractLedStripController {   //super abstract LED strip controller. I want port this code on C and launch from java\n\n    private final static long BIT_0_SIGNAL_START_DURATION = 250;   // every bit starts with high level. A single bit transfer durations is 1250 nanoseconds\n    private final static long BIT_0_SIGNAL_END_DURATION = 1000;   // every bit ends with low level. A single bit transfer durations is 1250 nanoseconds\n    private final static long BIT_1_SIGNAL_START_DURATION = 600;   // every bit starts with high level. A single bit transfer durations is 1250 nanoseconds\n    private final static long BIT_1_SIGNAL_END_DURATION = 650;   // every bit ends with low level. A single bit transfer durations is 1250 nanoseconds\n    private final int LEDs = 10;    //Chain contains 10 LEDs. I think it is important that pin supports\n\n    private final int signalPin = 10;       // Pin number for control the LED. GPIO10 - MOSI pin for SPI. I think it is faster as the anothers\n    private static long start, end;         // Variables for saving time\n\n    public void flash1_2(){  //Switch on LEDs from 1 to 2;\n        changeStatement(0,1);\n    }\n\n    public void flash3_5(){  //Switch on LEDs from 3 to 5;\n        changeStatement(2,4);\n    }\n\n    public void flash6_10(){  //Switch on LEDs from 6 to 10;\n        changeStatement(5,9);\n    }\n\n    public void allOff(){   // Color for a single LED is encrypted in 24 bits. To switch off the LED I send 24 logical false\n        for (int i = 0; i &lt; LEDs; i++){\n            for (int j = 0; j &lt; 24; j++){\n                write0();\n            }\n        }\n    }\n\n    private void changeStatement(int startPin, int lastPin){\n        for (int i = 0; i &lt; LEDs; i++){\n            if (i&gt;= startPin &amp;&amp; i &lt;= lastPin){\n                for (int j = 0; j &lt; 24; j++){   // Color for a single LED is encrypted in 24 bits. For white color I send 24 logical TRUE\n                    write1();\n                }\n            }\n            else {\n                for (int j = 0; j &lt; 24; j++){   // Color for a single LED is encrypted in 24 bits. To switch off the LED I send 24 logical FALSE\n                    write0();\n                }\n            }\n        }\n    }\n\n    private void write0(){\n        start = System.nanoTime();\n        end = start+BIT_0_SIGNAL_START_DURATION;\n        digitalWrite(true);\n        while(System.nanoTime()&lt;end){\n            //wait\n        }\n        start = System.nanoTime();\n        end = start+BIT_0_SIGNAL_END_DURATION;\n        digitalWrite(false);\n        while(System.nanoTime()&lt;end){\n            //wait\n        }\n    }\n\n    private void write1(){\n        start = System.nanoTime();\n        end = start+BIT_1_SIGNAL_START_DURATION;\n        digitalWrite(true);\n        while(System.nanoTime()&lt;end){\n            //wait\n        }\n        start = System.nanoTime();\n        end = start+BIT_1_SIGNAL_END_DURATION;\n        digitalWrite(false);\n        while(System.nanoTime()&lt;end){\n            //wait\n        }\n    }\n\n    private void digitalWrite(boolean level){\n        //Something that changes the pin statement very fast\n    }\n}\n</code></pre>\n<p>Give me please an idea what I need to do port this code in C and make it launchable from Java.</p>\n"},{"tags":["java","android","audio"],"comments":[{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":0,"creation_date":1680766821,"post_id":75946608,"comment_id":133954592,"body_markdown":"Did you try BroadcastReceiver to listen for incoming and outgoing calls?","body":"Did you try BroadcastReceiver to listen for incoming and outgoing calls?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680788249,"post_id":75946608,"comment_id":133959524,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26303689,"reputation":1,"user_id":19968566,"display_name":"Darth Vader"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680763866,"creation_date":1680763730,"question_id":75946608,"body_markdown":"Hey how can I play/trigger an audio file when answering or ending a call, like whenever I click on the end call or receive call button, it should trigger a sound\r\n\r\nIt should be only played on the receiver&#39;s side, not on the caller&#39;s side.","title":"Play an audio file when call is answered","body":"<p>Hey how can I play/trigger an audio file when answering or ending a call, like whenever I click on the end call or receive call button, it should trigger a sound</p>\n<p>It should be only played on the receiver's side, not on the caller's side.</p>\n"},{"tags":["java","intellij-idea","testng","classpath"],"comments":[{"owner":{"account_id":378053,"reputation":4160,"user_id":730549,"accept_rate":68,"display_name":"Maulzey"},"score":1,"creation_date":1581375600,"post_id":6381213,"comment_id":106404816,"body_markdown":"Does this answer your question? [How to configure &quot;Shorten command line&quot; method for whole project in IntelliJ](https://stackoverflow.com/questions/47926382/how-to-configure-shorten-command-line-method-for-whole-project-in-intellij)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47926382/how-to-configure-shorten-command-line-method-for-whole-project-in-intellij\">How to configure &quot;Shorten command line&quot; method for whole project in IntelliJ</a>"}],"answers":[{"comments":[{"owner":{"account_id":360935,"reputation":5619,"user_id":703225,"accept_rate":57,"display_name":"qinmiao"},"score":0,"creation_date":1308284528,"post_id":6381236,"comment_id":7475814,"body_markdown":"i see it.when i set dynamic.classpath=true,the Command line is still too long","body":"i see it.when i set dynamic.classpath=true,the Command line is still too long"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1308284631,"post_id":6381236,"comment_id":7475835,"body_markdown":"In this case it&#39;s a bug which should be reported at http://youtrack.jetbrains.net/issues/IDEA.","body":"In this case it&#39;s a bug which should be reported at <a href=\"http://youtrack.jetbrains.net/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.net/issues/IDEA</a>."},{"owner":{"account_id":1487416,"reputation":573,"user_id":1395344,"display_name":"thijsraets"},"score":0,"creation_date":1513260705,"post_id":6381236,"comment_id":82592113,"body_markdown":"Now you can set &quot;Shorten command line&quot; to &quot;JAR manifest&quot; under your default JUnit configuration.","body":"Now you can set &quot;Shorten command line&quot; to &quot;JAR manifest&quot; under your default JUnit configuration."},{"owner":{"account_id":3468356,"reputation":4510,"user_id":2903371,"accept_rate":92,"display_name":"patrik"},"score":0,"creation_date":1521642591,"post_id":6381236,"comment_id":85819395,"body_markdown":"I have not seen this in Linux (or it might have to do with Java 9). However I do not start to do refactoring of the project. More precise I am not allowed to. Do you have any other advice?","body":"I have not seen this in Linux (or it might have to do with Java 9). However I do not start to do refactoring of the project. More precise I am not allowed to. Do you have any other advice?"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1308318432,"creation_date":1308283776,"answer_id":6381236,"question_id":6381213,"body_markdown":"See https://stackoverflow.com/questions/4853540/what-does-the-dynamic-classpath-flag-do-intellij-project-settings.\r\n\r\nNot sure what you want to fix. If you need to avoid dynamic classpath, revise your dependencies, move libraries, project files and JDK to a directory with short path.\r\n\r\n**Edit**: the bug you linked in comments makes sense, however what happens is that the command line when running your tests exceeds the OS limit even when using dynamic classpath. This can happen because of lots of command line arguments or options which cannot be shortened by IDEA, as IDEA can only workaround long classpath issue. There is nothing we can do about it, you should revise the way you pass parameters to your app so that the command line length is within limits.\r\n\r\nFrom the IDEA side, we&#39;ll improve the handling of such case. This dialog will no longer be displayed when dynamic classpath is already used and you will get another error message about the long command line. I&#39;ve [submitted a new issue][1] for this case.\r\n\r\n\r\n  [1]: http://youtrack.jetbrains.net/issue/IDEA-71124","title":"IDEA 10.5 Command line is too long","body":"<p>See <a href=\"https://stackoverflow.com/questions/4853540/what-does-the-dynamic-classpath-flag-do-intellij-project-settings\">What does the dynamic.classpath flag do? (IntelliJ project settings)</a>.</p>\n\n<p>Not sure what you want to fix. If you need to avoid dynamic classpath, revise your dependencies, move libraries, project files and JDK to a directory with short path.</p>\n\n<p><strong>Edit</strong>: the bug you linked in comments makes sense, however what happens is that the command line when running your tests exceeds the OS limit even when using dynamic classpath. This can happen because of lots of command line arguments or options which cannot be shortened by IDEA, as IDEA can only workaround long classpath issue. There is nothing we can do about it, you should revise the way you pass parameters to your app so that the command line length is within limits.</p>\n\n<p>From the IDEA side, we'll improve the handling of such case. This dialog will no longer be displayed when dynamic classpath is already used and you will get another error message about the long command line. I've <a href=\"http://youtrack.jetbrains.net/issue/IDEA-71124\" rel=\"noreferrer\">submitted a new issue</a> for this case.</p>\n"},{"comments":[{"owner":{"account_id":9443634,"reputation":3530,"user_id":7023213,"display_name":"user7023213"},"score":0,"creation_date":1543320392,"post_id":50857092,"comment_id":93867725,"body_markdown":"if one makes a global junit config with same settings then it wont be necessary to do this setting for all individual test config one is running!","body":"if one makes a global junit config with same settings then it wont be necessary to do this setting for all individual test config one is running!"},{"owner":{"account_id":3386878,"reputation":2389,"user_id":2842668,"accept_rate":78,"display_name":"Vijai"},"score":16,"creation_date":1573838032,"post_id":50857092,"comment_id":104030689,"body_markdown":"To reach it from  Intellij Top menu use &quot;Run =&gt; Edit Configurations&quot;","body":"To reach it from  Intellij Top menu use &quot;Run =&gt; Edit Configurations&quot;"},{"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"score":8,"creation_date":1610983140,"post_id":50857092,"comment_id":116298204,"body_markdown":"This doesnt look to be available anymore on the last Idea 2020.3","body":"This doesnt look to be available anymore on the last Idea 2020.3"},{"owner":{"account_id":5604335,"reputation":525,"user_id":4439475,"display_name":"Nathan"},"score":3,"creation_date":1614721033,"post_id":50857092,"comment_id":117470818,"body_markdown":"I&#39;m running IntelliJ IDEA Ultimate 2020.3. This option was available (and solved the problem for me).","body":"I&#39;m running IntelliJ IDEA Ultimate 2020.3. This option was available (and solved the problem for me)."},{"owner":{"account_id":17029695,"reputation":1699,"user_id":12320109,"display_name":"Boommeister"},"score":0,"creation_date":1614799318,"post_id":50857092,"comment_id":117498058,"body_markdown":"@elect the option is there in 2020.3: Edit Configurations -&gt;  &quot;Configurations&quot; tab -&gt; Environments","body":"@elect the option is there in 2020.3: Edit Configurations -&gt;  &quot;Configurations&quot; tab -&gt; Environments"},{"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"score":27,"creation_date":1618837300,"post_id":50857092,"comment_id":118715821,"body_markdown":"If you don&#39;t see option &quot;Shorten command line&quot;, click on &quot;Modify Options&quot; and check &quot;Shorten command line&quot;","body":"If you don&#39;t see option &quot;Shorten command line&quot;, click on &quot;Modify Options&quot; and check &quot;Shorten command line&quot;"},{"owner":{"account_id":11741179,"reputation":119,"user_id":8593467,"display_name":"Radek Konrad Furmański"},"score":0,"creation_date":1647355205,"post_id":50857092,"comment_id":126347010,"body_markdown":"The fix also worked for me, but on WINDOWS the intellij had problems with picking up any updates to the code. So I reduced the length of the path of the repository C:/user/repository/lots-of-other-characters-and-sub-paths to C:/user/repository/not-so-many-of-other-characters-and-sub-paths. By leveraging that solution the &quot;Shorten command&quot; option was no longer needed and now the changes are properly taken into consideration by the IDE","body":"The fix also worked for me, but on WINDOWS the intellij had problems with picking up any updates to the code. So I reduced the length of the path of the repository C:/user/repository/lots-of-other-characters-and-sub-paths to C:/user/repository/not-so-many-of-other-characters-and-sub-p&zwnj;&#8203;aths. By leveraging that solution the &quot;Shorten command&quot; option was no longer needed and now the changes are properly taken into consideration by the IDE"},{"owner":{"account_id":14882712,"reputation":795,"user_id":10746857,"display_name":"rios0rios0"},"score":2,"creation_date":1654268111,"post_id":50857092,"comment_id":128057605,"body_markdown":"It still works on the 2022.1.2. Just the path is a little bit different. You need to &quot;Modify options&quot; near the title &quot;Build and run&quot;.","body":"It still works on the 2022.1.2. Just the path is a little bit different. You need to &quot;Modify options&quot; near the title &quot;Build and run&quot;."},{"owner":{"account_id":14733039,"reputation":163,"user_id":10639803,"display_name":"datsb"},"score":0,"creation_date":1654582947,"post_id":50857092,"comment_id":128118307,"body_markdown":"The entire path Run &gt; Edit Configurations &gt; &quot;shorten command line&quot; works for me, except that instead of &quot;classpath file&quot; I needed &quot;JAR manifest&quot; (otherwise some XML resource files would not be found). IntelliJ IDEA 2022.1.1 CE","body":"The entire path Run &gt; Edit Configurations &gt; &quot;shorten command line&quot; works for me, except that instead of &quot;classpath file&quot; I needed &quot;JAR manifest&quot; (otherwise some XML resource files would not be found). IntelliJ IDEA 2022.1.1 CE"}],"tags":[],"owner":{"account_id":9443634,"reputation":3530,"user_id":7023213,"display_name":"user7023213"},"comment_count":9,"down_vote_count":0,"up_vote_count":334,"is_accepted":false,"score":334,"last_activity_date":1627937492,"creation_date":1528977711,"answer_id":50857092,"question_id":6381213,"body_markdown":"In Intellij, go to &quot;edit configurations&quot; (Run -&gt; Edit Configurations), in the configuration tab that comes up in the line &quot;shorten command line&quot; select option &quot;classpath file&quot;/&quot;@argFiles (Java 9+)&quot;, last option in the drop down menu. Fixed it for me.","title":"IDEA 10.5 Command line is too long","body":"<p>In Intellij, go to &quot;edit configurations&quot; (Run -&gt; Edit Configurations), in the configuration tab that comes up in the line &quot;shorten command line&quot; select option &quot;classpath file&quot;/&quot;@argFiles (Java 9+)&quot;, last option in the drop down menu. Fixed it for me.</p>\n"},{"comments":[{"owner":{"account_id":159628,"reputation":418,"user_id":379159,"display_name":"simno"},"score":7,"creation_date":1607617474,"post_id":62550970,"comment_id":115335004,"body_markdown":"If you don&#39;t see this option in the menu press &quot;Modify options v Alt+M&quot; dropdown menu and check &quot;Shorten command line&quot; option to show it (IDEA CE 2020.3).","body":"If you don&#39;t see this option in the menu press &quot;Modify options v Alt+M&quot; dropdown menu and check &quot;Shorten command line&quot; option to show it (IDEA CE 2020.3)."},{"owner":{"account_id":14733039,"reputation":163,"user_id":10639803,"display_name":"datsb"},"score":1,"creation_date":1654583105,"post_id":62550970,"comment_id":128118350,"body_markdown":"&quot;JAR manifest&quot; (instead of Classpath) is what worked for me. IntelliJ IDEA 2022.1.1 CE","body":"&quot;JAR manifest&quot; (instead of Classpath) is what worked for me. IntelliJ IDEA 2022.1.1 CE"}],"tags":[],"owner":{"account_id":16089529,"reputation":1208,"user_id":11613316,"display_name":"techmagister"},"comment_count":2,"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1592987799,"creation_date":1592987799,"answer_id":62550970,"question_id":6381213,"body_markdown":"Setting the `Shorten command line:JAR manifest` in Run/Debug Configurations resolves the issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HBsuq.png","title":"IDEA 10.5 Command line is too long","body":"<p>Setting the <code>Shorten command line:JAR manifest</code> in Run/Debug Configurations resolves the issue.</p>\n<p><a href=\"https://i.stack.imgur.com/HBsuq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HBsuq.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":4306298,"reputation":1246,"user_id":3518580,"accept_rate":25,"display_name":"Doogle"},"score":0,"creation_date":1604900682,"post_id":62719885,"comment_id":114477516,"body_markdown":"Thanks for the details this really works tried and tested some bug in intellij i guess not picking correctly this helps.","body":"Thanks for the details this really works tried and tested some bug in intellij i guess not picking correctly this helps."},{"owner":{"account_id":19346819,"reputation":276,"user_id":14145197,"display_name":"Juliano Suman Curti"},"score":0,"creation_date":1661171448,"post_id":62719885,"comment_id":129700897,"body_markdown":"Best answer! This helps because it is a one time configuration. The &quot;JAR manifest&quot; solution on &quot;Run &gt; Configurations&quot; is needed for every test you want to run and that is is not cool.","body":"Best answer! This helps because it is a one time configuration. The &quot;JAR manifest&quot; solution on &quot;Run &gt; Configurations&quot; is needed for every test you want to run and that is is not cool."},{"owner":{"account_id":8716723,"reputation":79,"user_id":9257416,"display_name":"burdk"},"score":1,"creation_date":1669780518,"post_id":62719885,"comment_id":131718700,"body_markdown":"for intellij 2022 : &quot;dynamic.classpath&quot;: &quot;true&quot; inside the propertiesComponent string","body":"for intellij 2022 : &quot;dynamic.classpath&quot;: &quot;true&quot; inside the propertiesComponent string"}],"tags":[],"owner":{"account_id":17968753,"reputation":561,"user_id":13058071,"display_name":"Mamad Dansoko"},"comment_count":3,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1593797495,"creation_date":1593796118,"answer_id":62719885,"question_id":6381213,"body_markdown":"Open the file _.idea/workspace.xml_ file from your project root folder, go to section \r\n\r\n```xml    \r\n&lt;component name=&quot;PropertiesComponent&quot;&gt;\r\n```\r\nand add the following:\r\n```xml\r\n&lt;property name=&quot;dynamic.classpath&quot; value=&quot;true&quot; /&gt;\r\n```","title":"IDEA 10.5 Command line is too long","body":"<p>Open the file <em>.idea/workspace.xml</em> file from your project root folder, go to section</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;component name=&quot;PropertiesComponent&quot;&gt;\n</code></pre>\n<p>and add the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;dynamic.classpath&quot; value=&quot;true&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13139673,"reputation":119,"user_id":9491628,"display_name":"Guilherme Gehling"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1604964129,"creation_date":1604958975,"answer_id":64759822,"question_id":6381213,"body_markdown":"I had this problem using the community version.\r\nI managed the problem by running the project with the Maven configuration.\r\n\r\n    spring-boot:run -Dspring.profiles.active=local\r\n\r\n![Intellij Maven Configuration][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rTZ1m.png","title":"IDEA 10.5 Command line is too long","body":"<p>I had this problem using the community version.\nI managed the problem by running the project with the Maven configuration.</p>\n<pre><code>spring-boot:run -Dspring.profiles.active=local\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/rTZ1m.png\" alt=\"Intellij Maven Configuration\" /></p>\n"},{"tags":[],"owner":{"account_id":500243,"reputation":6414,"user_id":2233706,"accept_rate":74,"display_name":"user2233706"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624908215,"creation_date":1624908215,"answer_id":68169003,"question_id":6381213,"body_markdown":"The options mentioned in the answers aren&#39;t available in the version I&#39;m using, 2020.2. I clicked on the &quot;Enable&quot; link shown in the message, and that fixed this issue for me.","title":"IDEA 10.5 Command line is too long","body":"<p>The options mentioned in the answers aren't available in the version I'm using, 2020.2. I clicked on the &quot;Enable&quot; link shown in the message, and that fixed this issue for me.</p>\n"},{"tags":[],"owner":{"account_id":2668294,"reputation":4488,"user_id":2306173,"accept_rate":100,"display_name":"Alex Kulinkovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628075966,"creation_date":1628075966,"answer_id":68650322,"question_id":6381213,"body_markdown":"In my case fix was to update `Run/Debug Configurations` and select in `Shorten command line` the next option `classpath file`.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tgCuu.png","title":"IDEA 10.5 Command line is too long","body":"<p>In my case fix was to update <code>Run/Debug Configurations</code> and select in <code>Shorten command line</code> the next option <code>classpath file</code>.\n<a href=\"https://i.stack.imgur.com/tgCuu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tgCuu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8871929,"reputation":629,"user_id":6625403,"display_name":"Selvadurai Handeeban"},"comment_count":0,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1632755446,"creation_date":1632755446,"answer_id":69349044,"question_id":6381213,"body_markdown":"Did this on Intelij community 2021.1 windows, Worked fine :) \r\n\r\n 1) On the edit configuration menu, click on modify options\r\n\r\n\r\n----------\r\n\r\n\r\n 2) And then select Shorten command line\r\n\r\n\r\n----------\r\n\r\n\r\n 3) Select JAR manifest option, apply &amp; run\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lvsif.png","title":"IDEA 10.5 Command line is too long","body":"<p>Did this on Intelij community 2021.1 windows, Worked fine :)</p>\n<ol>\n<li>On the edit configuration menu, click on modify options</li>\n</ol>\n<hr />\n<ol start=\"2\">\n<li>And then select Shorten command line</li>\n</ol>\n<hr />\n<ol start=\"3\">\n<li>Select JAR manifest option, apply &amp; run</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/lvsif.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lvsif.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637909687,"creation_date":1637909687,"answer_id":70120554,"question_id":6381213,"body_markdown":"This is with Intelli J. I followed the below steps and i am able to run my tests.\r\n\r\n 1. Go to Edit Configurations at the top menu of the editor. \r\n 2. Under JUnits =&gt; click on modify Options.\r\n 3. Under java =&gt; select &quot;Shorten Command&quot; =&gt; Select &quot;JAR Manifest\r\n    option.\r\n\r\nIt solved me.","title":"IDEA 10.5 Command line is too long","body":"<p>This is with Intelli J. I followed the below steps and i am able to run my tests.</p>\n<ol>\n<li>Go to Edit Configurations at the top menu of the editor.</li>\n<li>Under JUnits =&gt; click on modify Options.</li>\n<li>Under java =&gt; select &quot;Shorten Command&quot; =&gt; Select &quot;JAR Manifest\noption.</li>\n</ol>\n<p>It solved me.</p>\n"},{"tags":[],"owner":{"account_id":7141303,"reputation":6636,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642333350,"creation_date":1642333350,"answer_id":70729693,"question_id":6381213,"body_markdown":"I was struggling with this error for a long time and none of the other answered helped.\r\n\r\nThe thing that solved the issue was adding the following line to the `pitest` configuration in the Gradle:\r\n\r\n`  useClasspathFile = true`\r\n\r\nSo now the `build.gradle` file has such an entry:\r\n\r\n     pitest {\r\n        threads = 4\r\n\r\n        //adds dependency to org.pitest:pitest-junit5-plugin and sets &quot;testPlugin&quot; to &quot;junit5&quot;\r\n        junit5PluginVersion = &#39;0.12&#39;\r\n\r\n        useClasspathFile = true    &lt;------------------------------\r\n\r\n        targetClasses = [&quot;com.example.service.*&quot;]\r\n\r\n        if (project.name in [&#39;no-need-to-mutate-module&#39;]) {\r\n            failWhenNoMutations = false\r\n        }\r\n    }\r\n\r\nHere is the [link to the post][1] that helped me.\r\n\r\n\r\n  [1]: https://github.com/hcoles/pitest/issues/276#issuecomment-327450171","title":"IDEA 10.5 Command line is too long","body":"<p>I was struggling with this error for a long time and none of the other answered helped.</p>\n<p>The thing that solved the issue was adding the following line to the <code>pitest</code> configuration in the Gradle:</p>\n<p><code>  useClasspathFile = true</code></p>\n<p>So now the <code>build.gradle</code> file has such an entry:</p>\n<pre><code> pitest {\n    threads = 4\n\n    //adds dependency to org.pitest:pitest-junit5-plugin and sets &quot;testPlugin&quot; to &quot;junit5&quot;\n    junit5PluginVersion = '0.12'\n\n    useClasspathFile = true    &lt;------------------------------\n\n    targetClasses = [&quot;com.example.service.*&quot;]\n\n    if (project.name in ['no-need-to-mutate-module']) {\n        failWhenNoMutations = false\n    }\n}\n</code></pre>\n<p>Here is the <a href=\"https://github.com/hcoles/pitest/issues/276#issuecomment-327450171\" rel=\"nofollow noreferrer\">link to the post</a> that helped me.</p>\n"},{"tags":[],"owner":{"account_id":24385811,"reputation":1,"user_id":18316610,"display_name":"eazyorganizer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645883683,"creation_date":1645883683,"answer_id":71277215,"question_id":6381213,"body_markdown":"I was also having this problem and the fix was to add the skipTests flag after noticing a lot of the test dependencies were on the class path;\r\n\r\n```\r\nmvnw.cmd -DskipTests=true package\r\n```","title":"IDEA 10.5 Command line is too long","body":"<p>I was also having this problem and the fix was to add the skipTests flag after noticing a lot of the test dependencies were on the class path;</p>\n<pre><code>mvnw.cmd -DskipTests=true package\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2381141,"reputation":141,"user_id":2083153,"accept_rate":40,"display_name":"P.D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677197629,"creation_date":1677197629,"answer_id":75551549,"question_id":6381213,"body_markdown":"This solved the problem for me on - **IntelliJ Idea version - 2022.2.3 (ultimate edition)**\r\n\r\nRun &gt; Edit Configurations\r\n\r\nModify Options &gt; Shorten command line\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSelect JAR Manifest\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mrk6c.png\r\n  [2]: https://i.stack.imgur.com/ROZme.png","title":"IDEA 10.5 Command line is too long","body":"<p>This solved the problem for me on - <strong>IntelliJ Idea version - 2022.2.3 (ultimate edition)</strong></p>\n<p>Run &gt; Edit Configurations</p>\n<p>Modify Options &gt; Shorten command line</p>\n<p><a href=\"https://i.stack.imgur.com/mrk6c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mrk6c.png\" alt=\"enter image description here\" /></a></p>\n<p>Select JAR Manifest</p>\n<p><a href=\"https://i.stack.imgur.com/ROZme.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ROZme.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9908035,"reputation":50,"user_id":7335906,"display_name":"Mihiraj Madhusanka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680763473,"creation_date":1680763473,"answer_id":75946580,"question_id":6381213,"body_markdown":"Go to The Application Configuration and Modified setting as below \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WQM1v.png","title":"IDEA 10.5 Command line is too long","body":"<p>Go to The Application Configuration and Modified setting as below</p>\n<p><a href=\"https://i.stack.imgur.com/WQM1v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WQM1v.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":360935,"reputation":5619,"user_id":703225,"accept_rate":57,"display_name":"qinmiao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221787,"favorite_count":0,"down_vote_count":0,"up_vote_count":162,"answer_count":13,"score":162,"last_activity_date":1680763473,"creation_date":1308283494,"question_id":6381213,"body_markdown":"In Maven project when I run test case (on Windows):\r\n\r\n    \r\n\r\n&gt; Error running TestApp.readParameter: Command line is too long. In\r\n&gt; order to reduce its length classpath file can be used. Would you like\r\n&gt; to enable classpath file mode for all run configurations of your\r\n&gt; project? Enable\r\n\r\nset .iws\r\n\r\n    &lt;property name=&quot;dynamic.classpath&quot; value=&quot;true&quot; /&gt;\r\n\r\nHow this could be fixed?","title":"IDEA 10.5 Command line is too long","body":"<p>In Maven project when I run test case (on Windows):</p>\n<blockquote>\n<p>Error running TestApp.readParameter: Command line is too long. In\norder to reduce its length classpath file can be used. Would you like\nto enable classpath file mode for all run configurations of your\nproject? Enable</p>\n</blockquote>\n<p>set .iws</p>\n<pre><code>&lt;property name=&quot;dynamic.classpath&quot; value=&quot;true&quot; /&gt;\n</code></pre>\n<p>How this could be fixed?</p>\n"},{"tags":["java","quarkus","sentry","open-telemetry","opentracing"],"answers":[{"tags":[],"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680763304,"creation_date":1680763304,"answer_id":75946567,"question_id":75811698,"body_markdown":"Once you have OpenTelemetry traces and spans being generated following the Quarkus documentation you linked, you will then need to configure the Sentry SDK to export the OpenTelemetry traces to Sentry.\r\n\r\nThe documentation to do this is [OpenTelemetry Support][1].\r\n\r\nThe basic concept is that either a Java agent `sentry-opentelemetry-agent` is used to either automatically initialize both OpenTelemetry and Sentry, or the agent can be used to initialize OpenTelemetry and Sentry can be initialized manually with the `instrumenter` option set to `Instrumenter.OTEL`.\r\n\r\nAlternatively, the docs also describe a way to manually initialize both OpenTelemetry and Sentry. OpenTelemetry is configured with a Sentry span processor and context propagator, and Sentry is initialized as above with the `instrumenter` option.\r\n\r\n  [1]: https://docs.sentry.io/platforms/java/performance/instrumentation/opentelemetry/","title":"Quarkus and Sentry Performance Monitoring and OpenTelementry","body":"<p>Once you have OpenTelemetry traces and spans being generated following the Quarkus documentation you linked, you will then need to configure the Sentry SDK to export the OpenTelemetry traces to Sentry.</p>\n<p>The documentation to do this is <a href=\"https://docs.sentry.io/platforms/java/performance/instrumentation/opentelemetry/\" rel=\"nofollow noreferrer\">OpenTelemetry Support</a>.</p>\n<p>The basic concept is that either a Java agent <code>sentry-opentelemetry-agent</code> is used to either automatically initialize both OpenTelemetry and Sentry, or the agent can be used to initialize OpenTelemetry and Sentry can be initialized manually with the <code>instrumenter</code> option set to <code>Instrumenter.OTEL</code>.</p>\n<p>Alternatively, the docs also describe a way to manually initialize both OpenTelemetry and Sentry. OpenTelemetry is configured with a Sentry span processor and context propagator, and Sentry is initialized as above with the <code>instrumenter</code> option.</p>\n"}],"owner":{"account_id":1026324,"reputation":1064,"user_id":1035556,"accept_rate":60,"display_name":"sviklim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680763304,"creation_date":1679484660,"question_id":75811698,"body_markdown":"What is the best way to integrate Sentry Performance Monitoring with an app build with Quarkus framework?\r\n\r\nThere is an ability to monitor app performance via Sentry, but their official doc only references their own client (agent). Though it mentions OpenTelemetry, but it does not explain how to stream data from third-party exporters, or whether it is possible at all. https://docs.sentry.io/platforms/java/guides/logback/performance/instrumentation/opentelemetry/\r\n\r\nI see that there is an extension for Quarkus to support Sentry Logging. But it is only useful to catch errors and exceptions. https://quarkiverse.github.io/quarkiverse-docs/quarkus-logging-sentry/dev/index.html\r\n\r\nI also see that there is an ability to add OpenTelemetry support to the app, but it says nothing regarding Sentry integration. https://quarkus.io/guides/opentelemetry\r\n\r\nDoes anybody have a clue how to join all of them together? Maybe I should consider to use another tool rather then Sentry to do performance monitoring?\r\n","title":"Quarkus and Sentry Performance Monitoring and OpenTelementry","body":"<p>What is the best way to integrate Sentry Performance Monitoring with an app build with Quarkus framework?</p>\n<p>There is an ability to monitor app performance via Sentry, but their official doc only references their own client (agent). Though it mentions OpenTelemetry, but it does not explain how to stream data from third-party exporters, or whether it is possible at all. <a href=\"https://docs.sentry.io/platforms/java/guides/logback/performance/instrumentation/opentelemetry/\" rel=\"nofollow noreferrer\">https://docs.sentry.io/platforms/java/guides/logback/performance/instrumentation/opentelemetry/</a></p>\n<p>I see that there is an extension for Quarkus to support Sentry Logging. But it is only useful to catch errors and exceptions. <a href=\"https://quarkiverse.github.io/quarkiverse-docs/quarkus-logging-sentry/dev/index.html\" rel=\"nofollow noreferrer\">https://quarkiverse.github.io/quarkiverse-docs/quarkus-logging-sentry/dev/index.html</a></p>\n<p>I also see that there is an ability to add OpenTelemetry support to the app, but it says nothing regarding Sentry integration. <a href=\"https://quarkus.io/guides/opentelemetry\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/opentelemetry</a></p>\n<p>Does anybody have a clue how to join all of them together? Maybe I should consider to use another tool rather then Sentry to do performance monitoring?</p>\n"},{"tags":["java","android","events","accessibility","accessibilityservice"],"answers":[{"tags":[],"owner":{"account_id":21079824,"reputation":1349,"user_id":15494398,"display_name":"Just a Person"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680763231,"creation_date":1680763231,"answer_id":75946562,"question_id":73934075,"body_markdown":"You should use the `AccessibilityEvent.TYPE_ANNOUNCEMENT` to know about incoming notifications. Most music players when starting a song, send a notification. This event type could be used to detect a new notification and then use:\r\n```\r\nAudioManager audioManager = (AudioManager) context.getSystemService(AUDIO_SERVICE);\r\naudioManager.isMusicActive();\r\n```\r\n\r\nSee: [TYPE_ANNOUNCEMENT][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/accessibility/AccessibilityEvent#TYPE_ANNOUNCEMENT","title":"Accessibility Events","body":"<p>You should use the <code>AccessibilityEvent.TYPE_ANNOUNCEMENT</code> to know about incoming notifications. Most music players when starting a song, send a notification. This event type could be used to detect a new notification and then use:</p>\n<pre><code>AudioManager audioManager = (AudioManager) context.getSystemService(AUDIO_SERVICE);\naudioManager.isMusicActive();\n</code></pre>\n<p>See: <a href=\"https://developer.android.com/reference/android/view/accessibility/AccessibilityEvent#TYPE_ANNOUNCEMENT\" rel=\"nofollow noreferrer\">TYPE_ANNOUNCEMENT</a></p>\n"}],"owner":{"account_id":26514000,"reputation":41,"user_id":20148791,"display_name":"Vijay Jv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680763231,"creation_date":1664792603,"question_id":73934075,"body_markdown":"Which accessibility event should I use to get music player notification?  \r\nI am able to get all notification using `AccessibilityEvent.TYPE_NOTIFICATION_STATE_CHANGED`, but music player notification is not detected.","title":"Accessibility Events","body":"<p>Which accessibility event should I use to get music player notification?<br />\nI am able to get all notification using <code>AccessibilityEvent.TYPE_NOTIFICATION_STATE_CHANGED</code>, but music player notification is not detected.</p>\n"},{"tags":["java","android","accessibilityservice"],"answers":[{"tags":[],"owner":{"account_id":21079824,"reputation":1349,"user_id":15494398,"display_name":"Just a Person"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680762249,"creation_date":1680762249,"answer_id":75946464,"question_id":75099939,"body_markdown":"Accessibility Services are bound to the System service and have the lifecycle of the System service. Because these services are used by people with disability. These services run even when the app that defines them is closed. So, you could perhaps use a hack to do things like these for changing your static variables:\r\n\r\nWhen you open the app, the `onCreate` of the `MainActivity` is called. So, in your `onCreate` you could set the values of those static variables to the default value you want. But remember that these don&#39;t work with instance variables defined in AccessibilityServices.\r\n\r\n```\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n       super.onCreate(savedInstanceState)\r\n       //Your other activity code.\r\n       //Here you can reinitialize those different values\r\n       MyService.aValue = true\r\n    }\r\n```","title":"Accessibility Service issue - Android","body":"<p>Accessibility Services are bound to the System service and have the lifecycle of the System service. Because these services are used by people with disability. These services run even when the app that defines them is closed. So, you could perhaps use a hack to do things like these for changing your static variables:</p>\n<p>When you open the app, the <code>onCreate</code> of the <code>MainActivity</code> is called. So, in your <code>onCreate</code> you could set the values of those static variables to the default value you want. But remember that these don't work with instance variables defined in AccessibilityServices.</p>\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n       //Your other activity code.\n       //Here you can reinitialize those different values\n       MyService.aValue = true\n    }\n</code></pre>\n"}],"owner":{"account_id":11982283,"reputation":103,"user_id":8767842,"display_name":"Coding Freak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680762249,"creation_date":1673543362,"question_id":75099939,"body_markdown":"I am using accessibility service in my android application. When app is removed from recent and opened again the data in static variables is still there. When I remove accessibility service from the app it works fine and data in static variables is removed on reopening the app. \r\n\r\nI want the app to behave normally as it usually does without accessibility service. How can I achieve this?\r\n\r\n**Mainfest.xml**\r\n\r\n    &lt;service\r\n            android:name=&quot;.AccessibilityService.MyAccessibilityService&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.accessibilityservice.AccessibilityService&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data android:name=&quot;android.accessibilityservice&quot; android:resource=&quot;@xml/accessibility_service_config&quot; /&gt;\r\n        &lt;/service&gt;\r\n\r\n**MyAccessibilityService.java**\r\n\r\n        public class MyAccessibilityService extends AccessibilityService {\r\n    \r\n        @SuppressLint(&quot;RtlHardcoded&quot;)\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n    \r\n        @Override\r\n        public void onAccessibilityEvent(AccessibilityEvent event) {\r\n        }\r\n    \r\n        @Override\r\n        public void onInterrupt() {\r\n        }\r\n    \r\n        @Override\r\n        protected void onServiceConnected() {\r\n        }\r\n    }\r\n\r\n**accessibility_service_config.xml**\r\n\r\n    &lt;accessibility-service xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:description=&quot;@string/accessibility_service_description&quot;\r\n    android:accessibilityEventTypes=&quot;typeWindowContentChanged|typeWindowStateChanged&quot;\r\n    android:accessibilityFeedbackType=&quot;feedbackGeneric&quot;\r\n    android:notificationTimeout=&quot;100&quot;\r\n    android:accessibilityFlags=&quot;flagReportViewIds|flagRetrieveInteractiveWindows&quot;\r\n    android:canRetrieveWindowContent=&quot;true&quot;\r\n    /&gt;","title":"Accessibility Service issue - Android","body":"<p>I am using accessibility service in my android application. When app is removed from recent and opened again the data in static variables is still there. When I remove accessibility service from the app it works fine and data in static variables is removed on reopening the app.</p>\n<p>I want the app to behave normally as it usually does without accessibility service. How can I achieve this?</p>\n<p><strong>Mainfest.xml</strong></p>\n<pre><code>&lt;service\n        android:name=&quot;.AccessibilityService.MyAccessibilityService&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;false&quot;\n        android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.accessibilityservice.AccessibilityService&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;meta-data android:name=&quot;android.accessibilityservice&quot; android:resource=&quot;@xml/accessibility_service_config&quot; /&gt;\n    &lt;/service&gt;\n</code></pre>\n<p><strong>MyAccessibilityService.java</strong></p>\n<pre><code>    public class MyAccessibilityService extends AccessibilityService {\n\n    @SuppressLint(&quot;RtlHardcoded&quot;)\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public void onAccessibilityEvent(AccessibilityEvent event) {\n    }\n\n    @Override\n    public void onInterrupt() {\n    }\n\n    @Override\n    protected void onServiceConnected() {\n    }\n}\n</code></pre>\n<p><strong>accessibility_service_config.xml</strong></p>\n<pre><code>&lt;accessibility-service xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:description=&quot;@string/accessibility_service_description&quot;\nandroid:accessibilityEventTypes=&quot;typeWindowContentChanged|typeWindowStateChanged&quot;\nandroid:accessibilityFeedbackType=&quot;feedbackGeneric&quot;\nandroid:notificationTimeout=&quot;100&quot;\nandroid:accessibilityFlags=&quot;flagReportViewIds|flagRetrieveInteractiveWindows&quot;\nandroid:canRetrieveWindowContent=&quot;true&quot;\n/&gt;\n</code></pre>\n"},{"tags":["java","android","storage","virtual","android-sdcard"],"comments":[{"owner":{"account_id":11354522,"reputation":311,"user_id":8324502,"display_name":"nyulan"},"score":0,"creation_date":1533029389,"post_id":51609472,"comment_id":90184693,"body_markdown":"see this link https://stackoverflow.com/questions/11259117/does-android-support-virtual-memory","body":"see this link <a href=\"https://stackoverflow.com/questions/11259117/does-android-support-virtual-memory\" title=\"does android support virtual memory\">stackoverflow.com/questions/11259117/&hellip;</a>"},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533030523,"post_id":51609472,"comment_id":90185429,"body_markdown":"@nyulan Thanks. Will have a look and update.","body":"@nyulan Thanks. Will have a look and update."},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1534528432,"post_id":51609472,"comment_id":90752347,"body_markdown":"@nyulan Thanks for the answer and really sorry for the very much delayed reply. But your answer could not guide me with the steps to create a SD card using Internal Memory. Can you please elaborate your answer.","body":"@nyulan Thanks for the answer and really sorry for the very much delayed reply. But your answer could not guide me with the steps to create a SD card using Internal Memory. Can you please elaborate your answer."}],"answers":[{"comments":[{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533030505,"post_id":51610185,"comment_id":90185415,"body_markdown":"Thanks. Will have a look and update.","body":"Thanks. Will have a look and update."},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1534528423,"post_id":51610185,"comment_id":90752343,"body_markdown":"Thanks for the answer and really sorry for the very much delayed reply. But your answer could not guide me with the steps to create a SD card using Internal Memory. Can you please elaborate your answer.","body":"Thanks for the answer and really sorry for the very much delayed reply. But your answer could not guide me with the steps to create a SD card using Internal Memory. Can you please elaborate your answer."}],"tags":[],"owner":{"account_id":14034955,"reputation":128,"user_id":10137887,"display_name":"SmAster"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533029757,"creation_date":1533029757,"answer_id":51610185,"question_id":51609472,"body_markdown":"You can create partition of SD Card from app on pc... for more please refer the link: [How to partition Storage][1]\r\n\r\n\r\n  [1]: https://www.partitionwizard.com/partitionmanager/increase-internal-storage-space-of-android.html","title":"Create a virtual Memory using Internal Storage","body":"<p>You can create partition of SD Card from app on pc... for more please refer the link: <a href=\"https://www.partitionwizard.com/partitionmanager/increase-internal-storage-space-of-android.html\" rel=\"nofollow noreferrer\">How to partition Storage</a></p>\n"},{"comments":[{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1534674018,"post_id":51913643,"comment_id":90783140,"body_markdown":"Thanks for the answer. I meant to use some of my Internal Storage as SD Card, which means without having a SD Card actually inserted I project as if a SD Card is actually inserted. By SD Card I mean SD Card is a removable storage. And Internal Storage is the storage where all the images, videos etc are stored and can be edited by a common user.","body":"Thanks for the answer. I meant to use some of my Internal Storage as SD Card, which means without having a SD Card actually inserted I project as if a SD Card is actually inserted. By SD Card I mean SD Card is a removable storage. And Internal Storage is the storage where all the images, videos etc are stored and can be edited by a common user."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1534677172,"post_id":51913643,"comment_id":90783874,"body_markdown":"In that case, it sounds like you just need to add some symlinks ... so that the internal storage is accessible via a path the the application *thinks* is in the SD card area.","body":"In that case, it sounds like you just need to add some symlinks ... so that the internal storage is accessible via a path the the application <i>thinks</i> is in the SD card area."},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1534678434,"post_id":51913643,"comment_id":90784165,"body_markdown":"Thanks. Since I am really new can you please guide on how to do that.","body":"Thanks. Since I am really new can you please guide on how to do that."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1534678868,"post_id":51913643,"comment_id":90784280,"body_markdown":"What?  Creating a symlink?  Use the `ln -s` command.  It should be explained by `man ln`.  (Did you see my *&quot;sorry no copy-and-paste commands&quot;* aside?  If you feel that you need a step-by-step guide, I think you should not be messing with this stuff!)","body":"What?  Creating a symlink?  Use the <code>ln -s</code> command.  It should be explained by <code>man ln</code>.  (Did you see my <i>&quot;sorry no copy-and-paste commands&quot;</i> aside?  If you feel that you need a step-by-step guide, I think you should not be messing with this stuff!)"},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1534682885,"post_id":51913643,"comment_id":90785343,"body_markdown":"I think you are right, I would end up messing up with something. So will leave it for now till it is not very important. Thanks for all the help.","body":"I think you are right, I would end up messing up with something. So will leave it for now till it is not very important. Thanks for all the help."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1534640733,"creation_date":1534640340,"answer_id":51913643,"question_id":51609472,"body_markdown":"Your question is not clear, but it seems that you want to expose some of your device&#39;s virtual memory (RAM) as a virtual SD card.  \r\n\r\nLooking at how people attempted to address a different problem (see https://forum.xda-developers.com/showthread.php?t=948887), I infer that one way to do it would be:\r\n\r\n  - Create a &quot;tmpfs&quot; file system\r\n  - Mount it&lt;sup&gt;1&lt;/sup&gt; at the location where Android would mount an regular external SD card. \r\n\r\n&lt;sup&gt;(Sorry: no commands to copy and paste.  This kind of stuff could brick your device.  Anyone doing this should take responsibility for looking up and reading the manual ... so that they **understand** what they are doing themselves.)&lt;/sup&gt;\r\n\r\nThe problem is that there is no standard that tells Android device manufacturers where SD cards should be mounted.  And apparently, different manufacturers put the cards in different places.  (The Android developer docs say that you shouldn&#39;t use hard-wired pathnames ...) \r\n\r\nA couple of common patterns I have seen for SD card pathnames:\r\n\r\n  - There is often a &quot;/sdcard&quot; symlink that points to the place where the SD card or cards are actually mounted.\r\n  - The SD card file systems are often mounted within the &quot;/mnt&quot; tree.\r\n\r\nYou will need to investigate what happens on your device ...\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - I would be cautious about making this a permanent mount to start with.  If this approach fails, you may need to reboot to recover.  If you made the mount permanent, there is a risk that you would not be able to boot.  I don&#39;t know if it is possible to recover from that.&lt;/sup&gt;","title":"Create a virtual Memory using Internal Storage","body":"<p>Your question is not clear, but it seems that you want to expose some of your device's virtual memory (RAM) as a virtual SD card.  </p>\n\n<p>Looking at how people attempted to address a different problem (see <a href=\"https://forum.xda-developers.com/showthread.php?t=948887\" rel=\"nofollow noreferrer\">https://forum.xda-developers.com/showthread.php?t=948887</a>), I infer that one way to do it would be:</p>\n\n<ul>\n<li>Create a \"tmpfs\" file system</li>\n<li>Mount it<sup>1</sup> at the location where Android would mount an regular external SD card. </li>\n</ul>\n\n<p><sup>(Sorry: no commands to copy and paste.  This kind of stuff could brick your device.  Anyone doing this should take responsibility for looking up and reading the manual ... so that they <strong>understand</strong> what they are doing themselves.)</sup></p>\n\n<p>The problem is that there is no standard that tells Android device manufacturers where SD cards should be mounted.  And apparently, different manufacturers put the cards in different places.  (The Android developer docs say that you shouldn't use hard-wired pathnames ...) </p>\n\n<p>A couple of common patterns I have seen for SD card pathnames:</p>\n\n<ul>\n<li>There is often a \"/sdcard\" symlink that points to the place where the SD card or cards are actually mounted.</li>\n<li>The SD card file systems are often mounted within the \"/mnt\" tree.</li>\n</ul>\n\n<p>You will need to investigate what happens on your device ...</p>\n\n<hr>\n\n<p><sup>1 - I would be cautious about making this a permanent mount to start with.  If this approach fails, you may need to reboot to recover.  If you made the mount permanent, there is a risk that you would not be able to boot.  I don't know if it is possible to recover from that.</sup></p>\n"}],"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1979,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1537075589,"accepted_answer_id":51913643,"answer_count":2,"score":1,"last_activity_date":1680761705,"creation_date":1533027732,"question_id":51609472,"body_markdown":"I want to basically create a virtual Memory like SD Card in my Android device running 8.0 and is rooted.\r\n\r\nSo basically all the other apps(Like File Browsers) should recognize it as a SD card where as it is just going to be a virtual memory.\r\n\r\nAnd they should also recognize my Internal Memory.\r\n\r\nIs this possible to achieve?\r\n\r\nAny help would be grateful.","title":"Create a virtual Memory using Internal Storage","body":"<p>I want to basically create a virtual Memory like SD Card in my Android device running 8.0 and is rooted.</p>\n<p>So basically all the other apps(Like File Browsers) should recognize it as a SD card where as it is just going to be a virtual memory.</p>\n<p>And they should also recognize my Internal Memory.</p>\n<p>Is this possible to achieve?</p>\n<p>Any help would be grateful.</p>\n"},{"tags":["java","html","ajax","web-scraping","htmlunit"],"comments":[{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1680761610,"post_id":75943779,"comment_id":133953583,"body_markdown":"Had a first look at your problem and it looks like the source here is an error during the execution of the javascript that build up the page. Can you please open an issue athttps://github.com/HtmlUnit/htmlunit/issues. Will try to figure out if i can fix this in HtmlUnit.","body":"Had a first look at your problem and it looks like the source here is an error during the execution of the javascript that build up the page. Can you please open an issue athttps://github.com/HtmlUnit/htmlunit/issues. Will try to figure out if i can fix this in HtmlUnit."},{"owner":{"account_id":19284470,"reputation":21,"user_id":16325013,"display_name":"Abhay Johri"},"score":0,"creation_date":1680766650,"post_id":75943779,"comment_id":133954557,"body_markdown":"So, does it mean that the complete source code is loading up dynamically, by executing JavaScript scripts and there is no AJAX concept being used up here?","body":"So, does it mean that the complete source code is loading up dynamically, by executing JavaScript scripts and there is no AJAX concept being used up here?"},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1680791874,"post_id":75943779,"comment_id":133960469,"body_markdown":"Not sure - looks more like a failing cloudflare protection. But i only did a quick look.","body":"Not sure - looks more like a failing cloudflare protection. But i only did a quick look."}],"answers":[{"comments":[{"owner":{"account_id":10557912,"reputation":877,"user_id":7778486,"display_name":"Alex Spieslechner"},"score":0,"creation_date":1681211054,"post_id":75943825,"comment_id":134016332,"body_markdown":"Please answer questions yourself, instead of prompting it on Chat GPT","body":"Please answer questions yourself, instead of prompting it on Chat GPT"}],"tags":[],"owner":{"account_id":28226440,"reputation":1,"user_id":21576366,"display_name":"Tanukinewgameplus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680727530,"creation_date":1680727530,"answer_id":75943825,"question_id":75943779,"body_markdown":"So I hear you&#39;re trying to scrape data from Udemy&#39;s search results page for Selenium courses using HTMLUnit, but you&#39;re having a hard time finding the right info. It could be because the data is loaded dynamically through AJAX calls, so you need to find the URL that&#39;s responsible for making these calls.\r\n\r\nHere&#39;s what you can try: use the developer tools in your browser to inspect the network requests when you perform a search on Udemy. Look for requests that contain the data you need and check out the URL to see if you can tweak any parameters to extract more data.\r\n\r\nOnce you&#39;ve found the AJAX source URL, you can simulate the AJAX request using HTMLUnit and extract the desired information from the response.\r\n\r\nIf you&#39;re still stuck, it could be that the data is being loaded using a different mechanism. In that case, you might need to explore other scraping tools or techniques to get the data you need.","title":"How to extract the HTML elements inside &lt;div data-module-*&gt; from a website source code using HTMLUnit?","body":"<p>So I hear you're trying to scrape data from Udemy's search results page for Selenium courses using HTMLUnit, but you're having a hard time finding the right info. It could be because the data is loaded dynamically through AJAX calls, so you need to find the URL that's responsible for making these calls.</p>\n<p>Here's what you can try: use the developer tools in your browser to inspect the network requests when you perform a search on Udemy. Look for requests that contain the data you need and check out the URL to see if you can tweak any parameters to extract more data.</p>\n<p>Once you've found the AJAX source URL, you can simulate the AJAX request using HTMLUnit and extract the desired information from the response.</p>\n<p>If you're still stuck, it could be that the data is being loaded using a different mechanism. In that case, you might need to explore other scraping tools or techniques to get the data you need.</p>\n"}],"owner":{"account_id":19284470,"reputation":21,"user_id":16325013,"display_name":"Abhay Johri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680761570,"creation_date":1680727132,"question_id":75943779,"body_markdown":"I am trying to scrap the content (Example Thumbnail picture of a course, price etc.) from an educative website - Udemy, by searching in a general URL string (given below). The source code of the site has a division &lt;div&gt; with class name - &quot;ud-app-loader ud-component--search--search&quot;. Snippet of it is provided below.\r\n\r\nWebsite to scrap data from (search query is Selenium): [Udemy search for selenium courses available](https://www.udemy.com/courses/search/?lang=en&amp;price=price-paid&amp;q=selenium&amp;ratings=4.5&amp;sort=relevance&amp;sort=relevance&amp;src=ukw) \r\n```\r\n&lt;div class=&quot;ud-main-content&quot;&gt;\r\n&lt;div class=&quot;ud-app-loader ud-component--search--search&quot; data-module-id=&quot;search&quot; data-module-args=&quot;{&amp;quot;subsCollectionIds&amp;quot;:null,&amp;quot;showSRPRefundNotice&amp;quot;:false,&amp;quot;showUserEnrollmentProgress&amp;quot;:false,&amp;quot;showCodingExerciseCount&amp;quot;:false,&amp;quot;enableLabsInPersonalPlan&amp;quot;:false,&amp;quot;enableLectureBottomDrawerOnSRP&amp;quot;:false,&amp;quot;showCodingExercisesBadge&amp;quot;:false,&amp;quot;enableLectureDiscoveryUnitInUb&amp;quot;:false,&amp;quot;disableRelatedTopicsOnSRP&amp;quot;:false,&amp;quot;enableActiveLearningElementIcons&amp;quot;:false}&quot;&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\nBut the same &lt;div class=&quot;ud-app-loader ud-component--search--search&quot;*&gt; looks different in Inspect window. It has multiple sub-divisions beneath it (for each course there is\r\n `&lt;div-class=&quot;popper-module--popper--2BpLn&quot;&gt;` associated. \r\n\r\nNow, since I am not so familiar with Front-end technologies, as of now, but I am assuming (after reading a similar article on stackoverflow, scraping &quot;data-module-group&quot; with BeautifulSoup) that data is being fetched via AJAX calls. But I cannot even find AJAX URLs in the page.\r\n\r\nSimilar question: [Extract details from &lt;div data-module-group=&gt; using BeautifulSoup](https://stackoverflow.com/questions/72307455/can-i-extract-the-html-contents-of-div-that-is-in-a-data-module-group) \r\n\r\n\r\n\r\nInitially I was planning to use Jsoup for scraping the content, but later explored that Jsoup cannot get such asynchronous calls. It is just an HTML parser, so I am using HTMLUnit now. \r\n\r\nMy code implementation won&#39;t help much here, but still adding it too, for reference.\r\n\r\n```\r\npublic class Scraper {\r\n    public static void getData(String courseName,String sortType) throws Exception {\r\n        String URL=&quot;https://www.udemy.com/courses/search/?lang=en&amp;price=price-paid&amp;q=&quot;+courseName+\r\n                &quot;&amp;ratings=4.5&amp;sort=relevance&amp;sort=&quot;+sortType+&quot;&amp;src=ukw&quot;;\r\n        \r\n        WebClient client=new WebClient(BrowserVersion.FIREFOX);\r\n        client.getOptions().setJavaScriptEnabled(true);\r\n        client.getOptions().setCssEnabled(true);\r\n        client.getOptions().setThrowExceptionOnScriptError(false);\r\n        client.setAjaxController(new NicelyResynchronizingAjaxController());\r\n\r\n\r\n        HtmlPage page=client.getPage(URL);\r\n        client.waitForBackgroundJavaScript(50000);\r\n        System.out.println(page.asXml());\r\n    }\r\n}\r\n```\r\nI have printed the page and not filtered the element, with pre-defined methods, in above code, as I can do it later. My priority is to get the desired HTML page first.\r\n\r\nMy doubts are:\r\n1. If its an AJAX call to an AJAX source URL, then where/how can I find that URL in the page. What should be next steps to get sub-divisions of &lt;div-class=&quot;ud-app-loader&quot;\r\n2. If not an AJAX, then what is it actually and how can I proceed to extract the data from this data module? If not HTMLUnit, but some other tool then also its fine.\r\n\r\nWould be glad if anyone can help or even direct me to the way of getting solution.\r\n\r\n-Abhay.","title":"How to extract the HTML elements inside &lt;div data-module-*&gt; from a website source code using HTMLUnit?","body":"<p>I am trying to scrap the content (Example Thumbnail picture of a course, price etc.) from an educative website - Udemy, by searching in a general URL string (given below). The source code of the site has a division  with class name - &quot;ud-app-loader ud-component--search--search&quot;. Snippet of it is provided below.</p>\n<p>Website to scrap data from (search query is Selenium): <a href=\"https://www.udemy.com/courses/search/?lang=en&amp;price=price-paid&amp;q=selenium&amp;ratings=4.5&amp;sort=relevance&amp;sort=relevance&amp;src=ukw\" rel=\"nofollow noreferrer\">Udemy search for selenium courses available</a></p>\n<pre><code>&lt;div class=&quot;ud-main-content&quot;&gt;\n&lt;div class=&quot;ud-app-loader ud-component--search--search&quot; data-module-id=&quot;search&quot; data-module-args=&quot;{&amp;quot;subsCollectionIds&amp;quot;:null,&amp;quot;showSRPRefundNotice&amp;quot;:false,&amp;quot;showUserEnrollmentProgress&amp;quot;:false,&amp;quot;showCodingExerciseCount&amp;quot;:false,&amp;quot;enableLabsInPersonalPlan&amp;quot;:false,&amp;quot;enableLectureBottomDrawerOnSRP&amp;quot;:false,&amp;quot;showCodingExercisesBadge&amp;quot;:false,&amp;quot;enableLectureDiscoveryUnitInUb&amp;quot;:false,&amp;quot;disableRelatedTopicsOnSRP&amp;quot;:false,&amp;quot;enableActiveLearningElementIcons&amp;quot;:false}&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>But the same &lt;div class=&quot;ud-app-loader ud-component--search--search&quot;*&gt; looks different in Inspect window. It has multiple sub-divisions beneath it (for each course there is\n<code>&lt;div-class=&quot;popper-module--popper--2BpLn&quot;&gt;</code> associated.</p>\n<p>Now, since I am not so familiar with Front-end technologies, as of now, but I am assuming (after reading a similar article on stackoverflow, scraping &quot;data-module-group&quot; with BeautifulSoup) that data is being fetched via AJAX calls. But I cannot even find AJAX URLs in the page.</p>\n<p>Similar question: <a href=\"https://stackoverflow.com/questions/72307455/can-i-extract-the-html-contents-of-div-that-is-in-a-data-module-group\">Extract details from &lt;div data-module-group=&gt; using BeautifulSoup</a></p>\n<p>Initially I was planning to use Jsoup for scraping the content, but later explored that Jsoup cannot get such asynchronous calls. It is just an HTML parser, so I am using HTMLUnit now.</p>\n<p>My code implementation won't help much here, but still adding it too, for reference.</p>\n<pre><code>public class Scraper {\n    public static void getData(String courseName,String sortType) throws Exception {\n        String URL=&quot;https://www.udemy.com/courses/search/?lang=en&amp;price=price-paid&amp;q=&quot;+courseName+\n                &quot;&amp;ratings=4.5&amp;sort=relevance&amp;sort=&quot;+sortType+&quot;&amp;src=ukw&quot;;\n        \n        WebClient client=new WebClient(BrowserVersion.FIREFOX);\n        client.getOptions().setJavaScriptEnabled(true);\n        client.getOptions().setCssEnabled(true);\n        client.getOptions().setThrowExceptionOnScriptError(false);\n        client.setAjaxController(new NicelyResynchronizingAjaxController());\n\n\n        HtmlPage page=client.getPage(URL);\n        client.waitForBackgroundJavaScript(50000);\n        System.out.println(page.asXml());\n    }\n}\n</code></pre>\n<p>I have printed the page and not filtered the element, with pre-defined methods, in above code, as I can do it later. My priority is to get the desired HTML page first.</p>\n<p>My doubts are:</p>\n<ol>\n<li>If its an AJAX call to an AJAX source URL, then where/how can I find that URL in the page. What should be next steps to get sub-divisions of &lt;div-class=&quot;ud-app-loader&quot;</li>\n<li>If not an AJAX, then what is it actually and how can I proceed to extract the data from this data module? If not HTMLUnit, but some other tool then also its fine.</li>\n</ol>\n<p>Would be glad if anyone can help or even direct me to the way of getting solution.</p>\n<p>-Abhay.</p>\n"},{"tags":["java","android","json","retrofit2","slim"],"comments":[{"owner":{"account_id":4015385,"reputation":5418,"user_id":3307720,"accept_rate":51,"display_name":"nasch"},"score":0,"creation_date":1547826829,"post_id":54256940,"comment_id":95338853,"body_markdown":"I would add a log interceptor to make sure that&#39;s really the JSON you&#39;re getting back.  Also, you can simplify your catch block:  `Log.e(&quot;ROYs&quot;, &quot;onFailure Method&quot;, t);`","body":"I would add a log interceptor to make sure that&#39;s really the JSON you&#39;re getting back.  Also, you can simplify your catch block:  <code>Log.e(&quot;ROYs&quot;, &quot;onFailure Method&quot;, t);</code>"},{"owner":{"account_id":3524791,"reputation":331,"user_id":2946209,"display_name":"Javad Arjmandi"},"score":0,"creation_date":1548655698,"post_id":54256940,"comment_id":95603746,"body_markdown":"```new HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BODY)``` add this interceptor to your okhttp client and see what logcat gives you when the server responds. This is likely a malformed json response given by your web server. Share the response with us to better see what  goes wrong?","body":"<code>new HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Lev&zwnj;&#8203;el.BODY)</code> add this interceptor to your okhttp client and see what logcat gives you when the server responds. This is likely a malformed json response given by your web server. Share the response with us to better see what  goes wrong?"}],"answers":[{"comments":[{"owner":{"account_id":4015385,"reputation":5418,"user_id":3307720,"accept_rate":51,"display_name":"nasch"},"score":0,"creation_date":1547826665,"post_id":54257287,"comment_id":95338764,"body_markdown":"It seems unlikely this would solve anything - unless you have a reference from Square indicating this is necessary.","body":"It seems unlikely this would solve anything - unless you have a reference from Square indicating this is necessary."},{"owner":{"account_id":10802236,"reputation":93,"user_id":8975847,"display_name":"Tanmoy Roy"},"score":0,"creation_date":1547827700,"post_id":54257287,"comment_id":95339316,"body_markdown":"As you said, I&#39;ve checked it. Still getting com.google.gson.JsonIOException: JSON document was not fully consumed.","body":"As you said, I&#39;ve checked it. Still getting com.google.gson.JsonIOException: JSON document was not fully consumed."}],"tags":[],"owner":{"account_id":13354015,"reputation":55,"user_id":9638283,"display_name":"kosancicivan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547826514,"creation_date":1547826514,"answer_id":54257287,"question_id":54256940,"body_markdown":"You should put fields in model class in same order as in json\r\n\r\n    @SerializedName(&quot;isSend&quot;)\r\n    private boolean isSend;\r\n    @SerializedName(&quot;code&quot;)\r\n    private int code;\r\n    @SerializedName(&quot;email&quot;)\r\n    private boolean email;\r\n\r\n\r\n","title":"com.google.gson.JsonIOException: JSON document was not fully consumed in Android Retrofit","body":"<p>You should put fields in model class in same order as in json</p>\n\n<pre><code>@SerializedName(\"isSend\")\nprivate boolean isSend;\n@SerializedName(\"code\")\nprivate int code;\n@SerializedName(\"email\")\nprivate boolean email;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4886501,"reputation":43,"user_id":3938801,"display_name":"Paul Ackley"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601302164,"creation_date":1601302164,"answer_id":64103855,"question_id":54256940,"body_markdown":"The problem I had when I received this error message &quot;JSON document was not fully consumed&quot; was simply that there was extraneous text at the end of the JSON String.\r\n\r\nIn my case I manually added text to the end of the valid JSON String to &quot;test&quot; error handling and retry logic on a Friday and then Monday forgot that I added this temporary code! ","title":"com.google.gson.JsonIOException: JSON document was not fully consumed in Android Retrofit","body":"<p>The problem I had when I received this error message &quot;JSON document was not fully consumed&quot; was simply that there was extraneous text at the end of the JSON String.</p>\n<p>In my case I manually added text to the end of the valid JSON String to &quot;test&quot; error handling and retry logic on a Friday and then Monday forgot that I added this temporary code!</p>\n"},{"tags":[],"owner":{"account_id":15909264,"reputation":1,"user_id":11479604,"display_name":"nishita "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680761007,"creation_date":1680761007,"answer_id":75946331,"question_id":54256940,"body_markdown":"If there are any null values for the keys then it throws **com.google.gson.JsonIOException:** \r\n\r\nEg : \r\n{ **&quot;request&quot;: null,** &quot;body&quot;: &quot;{\\&quot;status\\&quot;: \\&quot;passed\\&quot;,\\&quot;message\\&quot;: \\&quot;[]\\&quot;}&quot; **&quot;exception&quot;: null** }\r\n\r\nAssign valid values for the keys\r\n","title":"com.google.gson.JsonIOException: JSON document was not fully consumed in Android Retrofit","body":"<p>If there are any null values for the keys then it throws <strong>com.google.gson.JsonIOException:</strong></p>\n<p>Eg :\n{ <strong>&quot;request&quot;: null,</strong> &quot;body&quot;: &quot;{&quot;status&quot;: &quot;passed&quot;,&quot;message&quot;: &quot;[]&quot;}&quot; <strong>&quot;exception&quot;: null</strong> }</p>\n<p>Assign valid values for the keys</p>\n"}],"owner":{"account_id":10802236,"reputation":93,"user_id":8975847,"display_name":"Tanmoy Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1680761007,"creation_date":1547825171,"question_id":54256940,"body_markdown":"There are couple of questions already available about &quot;JSON document was not fully consumed&quot; in Stackoverflow, but there is no accepted answer. Link is given below.\r\n\r\n[Android Retrofit 2.0 JSON document was not fully consumed][1]\r\n\r\n[Why is JSON document not fully consumed?][2]\r\n\r\nIn my app I&#39;m taking an email from user. And using my API, I&#39;m checking given email is exist or not in the database. If exist, I&#39;m sending a code to that email. I am using localhost as Server and have used Slim for API. I think my API is Ok. I checked it via Postman. The Json response that I shared in my post is from Postman. Actually I am learning Retrofit. Help please. Thanks in advance.\r\n\r\n**RetrofitClient.java**\r\n\r\n    package com.example.royta.retrofitdemo.APIs;\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import retrofit2.Retrofit;\r\n    import retrofit2.converter.gson.GsonConverterFactory;\r\n    \r\n    public class RetrofitClient {\r\n        private static final String BASE_URL = &quot;http://aa561878.ngrok.io/MyApi/public/&quot;;\r\n        private static RetrofitClient retrofitClient;\r\n        private Retrofit retrofit;\r\n    \r\n        private static Gson gson = new GsonBuilder()\r\n                .setLenient()\r\n                .create();\r\n    \r\n        private RetrofitClient() {\r\n    \r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create(gson))\r\n                    .build();\r\n        }\r\n    \r\n        public static synchronized RetrofitClient getInstance() {\r\n            if(retrofitClient == null) {\r\n                retrofitClient = new RetrofitClient();\r\n            }\r\n            return retrofitClient;\r\n        }\r\n    \r\n        public Api getApi() {\r\n            return retrofit.create(Api.class);\r\n        }\r\n    }\r\n\r\n**Json**\r\n\r\n    {\r\n        &quot;isSend&quot;: true,\r\n        &quot;code&quot;: 117482,\r\n        &quot;email&quot;: true\r\n    }\r\n\r\n**UserExist.java (Pojo)**\r\n\r\n    package com.example.royta.retrofitdemo.ModelClass;\r\n    \r\n    import com.google.gson.annotations.SerializedName;\r\n    public class UserExist {\r\n        @SerializedName(&quot;email&quot;)\r\n        private boolean email;\r\n        @SerializedName(&quot;isSend&quot;)\r\n        private boolean isSend;\r\n        @SerializedName(&quot;code&quot;)\r\n        private int code;\r\n        \r\n        public UserExist(boolean email, boolean isSend, int code) {\r\n            this.email = email;\r\n            this.isSend = isSend;\r\n            this.code = code;\r\n        }\r\n    \r\n        public boolean isSend() {\r\n            return isSend;\r\n        }\r\n    \r\n        public boolean isEmailExist() {\r\n            return email;\r\n        }\r\n    \r\n        public int getCode() {\r\n            return code;\r\n        }\r\n    }\r\n\r\n**Api.java**\r\n\r\n    package com.example.royta.retrofitdemo.APIs;\r\n    \r\n    import com.example.royta.retrofitdemo.ModelClass.UserExist;\r\n    import retrofit2.Call;\r\n    import retrofit2.http.GET;\r\n    \r\n    public interface Api {\r\n      \r\n        @GET(&quot;finduser&quot;)\r\n        Call&lt;UserExist&gt; isUserExist(\r\n                @Query(&quot;email&quot;) String email\r\n    \r\n        );\r\n    }\r\n\r\nHere is the call &#128071;\r\n\r\n            Call &lt;UserExist&gt; call = RetrofitClient.getInstance().getApi().isUserExist(email);    \r\n            call.enqueue(new Callback&lt;UserExist&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;UserExist&gt; call, Response&lt;UserExist&gt; response) {\r\n                    if(response.body().isEmailExist()) {\r\n                        \r\n                        String resetCode = String.valueOf(response.body().getCode());\r\n                        Log.d(&quot;ROYs&quot;, &quot;Reset Code: &quot;+resetCode);\r\n                        Intent i = new Intent(FindAccount.this, EnterSecurityCode.class);\r\n                        i.putExtra(&quot;email&quot;, email);\r\n                        i.putExtra(&quot;code&quot;, resetCode);\r\n                        startActivity(i);\r\n                    }\r\n                    else {\r\n    \r\n                        Toast.makeText(FindAccount.this, &quot;You are not registered&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;UserExist&gt; call, Throwable t) {\r\n                    String stacktrace = Log.getStackTraceString(t);\r\n                    Log.d(&quot;ROYs&quot;, &quot;onFailure Method: &quot;+stacktrace);\r\n                }\r\n            });\r\n\r\n**Logcat**\r\n\r\n    2019-01-18 19:44:23.129 29583-29583/com.example.royta.retrofitdemo D/ROYs: onFailure Method: com.google.gson.JsonIOException: JSON document was not fully consumed.\r\n            at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:41)\r\n            at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:27)\r\n            at retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:223)\r\n            at retrofit2.OkHttpCall$1.onResponse(OkHttpCall.java:121)\r\n            at okhttp3.RealCall$AsyncCall.execute(RealCall.java:206)\r\n            at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n            at java.lang.Thread.run(Thread.java:764)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42386250/android-retrofit-2-0-json-document-was-not-fully-consumed\r\n  [2]: https://stackoverflow.com/questions/48322357/why-is-json-document-not-fully-consumed\r\n\r\n**Sometime I&#39;m getting this following Exception in the same code**\r\n\r\n    2019-01-18 21:55:39.610 1424-1424/com.example.royta.retrofitdemo D/ROYs: onFailure Method: java.net.SocketTimeoutException: timeout\r\n            at okio.Okio$4.newTimeoutException(Okio.java:232)\r\n            at okio.AsyncTimeout.exit(AsyncTimeout.java:285)\r\n            at okio.AsyncTimeout$2.read(AsyncTimeout.java:241)\r\n            at okio.RealBufferedSource.indexOf(RealBufferedSource.java:354)\r\n            at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:226)\r\n            at okhttp3.internal.http1.Http1Codec.readHeaderLine(Http1Codec.java:215)\r\n            at okhttp3.internal.http1.Http1Codec.readResponseHeaders(Http1Codec.java:189)\r\n            at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:88)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n            at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n            at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n            at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n            at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n            at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)\r\n            at okhttp3.RealCall$AsyncCall.execute(RealCall.java:200)\r\n            at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n            at java.lang.Thread.run(Thread.java:764)\r\n         Caused by: java.net.SocketException: Socket closed\r\n            at java.net.SocketInputStream.read(SocketInputStream.java:203)\r\n            at java.net.SocketInputStream.read(SocketInputStream.java:139)\r\n            at okio.Okio$2.read(Okio.java:140)\r\n            at okio.AsyncTimeout$2.read(AsyncTimeout.java:237)\r\n            at okio.RealBufferedSource.indexOf(RealBufferedSource.java:354)&#160;\r\n            at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:226)&#160;\r\n            at okhttp3.internal.http1.Http1Codec.readHeaderLine(Http1Codec.java:215)&#160;\r\n            at okhttp3.internal.http1.Http1Codec.readResponseHeaders(Http1Codec.java:189)&#160;\r\n            at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:88)&#160;\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)&#160;\r\n            at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)&#160;\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)&#160;\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)&#160;\r\n            at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)&#160;\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)&#160;\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)&#160;\r\n            at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)&#160;\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)&#160;\r\n            at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)&#160;\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)&#160;\r\n            at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)&#160;\r\n            at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)&#160;\r\n            at okhttp3.RealCall$AsyncCall.execute(RealCall.java:200)&#160;\r\n            at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)&#160;\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)&#160;\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)&#160;\r\n            at java.lang.Thread.run(Thread.java:764)&#160;\r\n\r\n","title":"com.google.gson.JsonIOException: JSON document was not fully consumed in Android Retrofit","body":"<p>There are couple of questions already available about \"JSON document was not fully consumed\" in Stackoverflow, but there is no accepted answer. Link is given below.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/42386250/android-retrofit-2-0-json-document-was-not-fully-consumed\">Android Retrofit 2.0 JSON document was not fully consumed</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/48322357/why-is-json-document-not-fully-consumed\">Why is JSON document not fully consumed?</a></p>\n\n<p>In my app I'm taking an email from user. And using my API, I'm checking given email is exist or not in the database. If exist, I'm sending a code to that email. I am using localhost as Server and have used Slim for API. I think my API is Ok. I checked it via Postman. The Json response that I shared in my post is from Postman. Actually I am learning Retrofit. Help please. Thanks in advance.</p>\n\n<p><strong>RetrofitClient.java</strong></p>\n\n<pre><code>package com.example.royta.retrofitdemo.APIs;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class RetrofitClient {\n    private static final String BASE_URL = \"http://aa561878.ngrok.io/MyApi/public/\";\n    private static RetrofitClient retrofitClient;\n    private Retrofit retrofit;\n\n    private static Gson gson = new GsonBuilder()\n            .setLenient()\n            .create();\n\n    private RetrofitClient() {\n\n        retrofit = new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .build();\n    }\n\n    public static synchronized RetrofitClient getInstance() {\n        if(retrofitClient == null) {\n            retrofitClient = new RetrofitClient();\n        }\n        return retrofitClient;\n    }\n\n    public Api getApi() {\n        return retrofit.create(Api.class);\n    }\n}\n</code></pre>\n\n<p><strong>Json</strong></p>\n\n<pre><code>{\n    \"isSend\": true,\n    \"code\": 117482,\n    \"email\": true\n}\n</code></pre>\n\n<p><strong>UserExist.java (Pojo)</strong></p>\n\n<pre><code>package com.example.royta.retrofitdemo.ModelClass;\n\nimport com.google.gson.annotations.SerializedName;\npublic class UserExist {\n    @SerializedName(\"email\")\n    private boolean email;\n    @SerializedName(\"isSend\")\n    private boolean isSend;\n    @SerializedName(\"code\")\n    private int code;\n\n    public UserExist(boolean email, boolean isSend, int code) {\n        this.email = email;\n        this.isSend = isSend;\n        this.code = code;\n    }\n\n    public boolean isSend() {\n        return isSend;\n    }\n\n    public boolean isEmailExist() {\n        return email;\n    }\n\n    public int getCode() {\n        return code;\n    }\n}\n</code></pre>\n\n<p><strong>Api.java</strong></p>\n\n<pre><code>package com.example.royta.retrofitdemo.APIs;\n\nimport com.example.royta.retrofitdemo.ModelClass.UserExist;\nimport retrofit2.Call;\nimport retrofit2.http.GET;\n\npublic interface Api {\n\n    @GET(\"finduser\")\n    Call&lt;UserExist&gt; isUserExist(\n            @Query(\"email\") String email\n\n    );\n}\n</code></pre>\n\n<p>Here is the call 👇</p>\n\n<pre><code>        Call &lt;UserExist&gt; call = RetrofitClient.getInstance().getApi().isUserExist(email);    \n        call.enqueue(new Callback&lt;UserExist&gt;() {\n            @Override\n            public void onResponse(Call&lt;UserExist&gt; call, Response&lt;UserExist&gt; response) {\n                if(response.body().isEmailExist()) {\n\n                    String resetCode = String.valueOf(response.body().getCode());\n                    Log.d(\"ROYs\", \"Reset Code: \"+resetCode);\n                    Intent i = new Intent(FindAccount.this, EnterSecurityCode.class);\n                    i.putExtra(\"email\", email);\n                    i.putExtra(\"code\", resetCode);\n                    startActivity(i);\n                }\n                else {\n\n                    Toast.makeText(FindAccount.this, \"You are not registered\", Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;UserExist&gt; call, Throwable t) {\n                String stacktrace = Log.getStackTraceString(t);\n                Log.d(\"ROYs\", \"onFailure Method: \"+stacktrace);\n            }\n        });\n</code></pre>\n\n<p><strong>Logcat</strong></p>\n\n<pre><code>2019-01-18 19:44:23.129 29583-29583/com.example.royta.retrofitdemo D/ROYs: onFailure Method: com.google.gson.JsonIOException: JSON document was not fully consumed.\n        at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:41)\n        at retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:27)\n        at retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:223)\n        at retrofit2.OkHttpCall$1.onResponse(OkHttpCall.java:121)\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:206)\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n\n<p><strong>Sometime I'm getting this following Exception in the same code</strong></p>\n\n<pre><code>2019-01-18 21:55:39.610 1424-1424/com.example.royta.retrofitdemo D/ROYs: onFailure Method: java.net.SocketTimeoutException: timeout\n        at okio.Okio$4.newTimeoutException(Okio.java:232)\n        at okio.AsyncTimeout.exit(AsyncTimeout.java:285)\n        at okio.AsyncTimeout$2.read(AsyncTimeout.java:241)\n        at okio.RealBufferedSource.indexOf(RealBufferedSource.java:354)\n        at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:226)\n        at okhttp3.internal.http1.Http1Codec.readHeaderLine(Http1Codec.java:215)\n        at okhttp3.internal.http1.Http1Codec.readResponseHeaders(Http1Codec.java:189)\n        at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:88)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:200)\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n     Caused by: java.net.SocketException: Socket closed\n        at java.net.SocketInputStream.read(SocketInputStream.java:203)\n        at java.net.SocketInputStream.read(SocketInputStream.java:139)\n        at okio.Okio$2.read(Okio.java:140)\n        at okio.AsyncTimeout$2.read(AsyncTimeout.java:237)\n        at okio.RealBufferedSource.indexOf(RealBufferedSource.java:354) \n        at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:226) \n        at okhttp3.internal.http1.Http1Codec.readHeaderLine(Http1Codec.java:215) \n        at okhttp3.internal.http1.Http1Codec.readResponseHeaders(Http1Codec.java:189) \n        at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:88) \n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) \n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45) \n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) \n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) \n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93) \n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) \n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) \n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93) \n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) \n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126) \n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) \n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) \n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254) \n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:200) \n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636) \n        at java.lang.Thread.run(Thread.java:764) \n</code></pre>\n"},{"tags":["java","android","nullpointerexception","android-recyclerview"],"comments":[{"owner":{"account_id":13533431,"reputation":9815,"user_id":9763253,"display_name":"&#220;ma&#241;g &#223;&#252;rm&#229;n"},"score":0,"creation_date":1534957202,"post_id":51971735,"comment_id":90894085,"body_markdown":"Please post your activity code..","body":"Please post your activity code.."},{"owner":{"account_id":13450936,"reputation":429,"user_id":9705786,"display_name":"Bir Nepali"},"score":0,"creation_date":1534984616,"post_id":51971735,"comment_id":90903854,"body_markdown":"@UmangBurman please check..I have added the code.","body":"@UmangBurman please check..I have added the code."},{"owner":{"account_id":13533431,"reputation":9815,"user_id":9763253,"display_name":"&#220;ma&#241;g &#223;&#252;rm&#229;n"},"score":0,"creation_date":1534996495,"post_id":51971735,"comment_id":90905993,"body_markdown":"bro you have given the Adapter class code.. please give activity class code..","body":"bro you have given the Adapter class code.. please give activity class code.."},{"owner":{"account_id":13450936,"reputation":429,"user_id":9705786,"display_name":"Bir Nepali"},"score":0,"creation_date":1535002690,"post_id":51971735,"comment_id":90907593,"body_markdown":"Thanks for help...it has been solved Thanks to Pavneet singh...I would like to show totas as well..which he hasn&#39;t replied yet...I&#39;m waiting for that.","body":"Thanks for help...it has been solved Thanks to Pavneet singh...I would like to show totas as well..which he hasn&#39;t replied yet...I&#39;m waiting for that."}],"answers":[{"comments":[{"owner":{"account_id":13450936,"reputation":429,"user_id":9705786,"display_name":"Bir Nepali"},"score":0,"creation_date":1534988294,"post_id":51971825,"comment_id":90904554,"body_markdown":"It worked very welll. Thanks Pavneet...is their any way around to show Toast message when if object and list is null with message like your device is offline or no internet?","body":"It worked very welll. Thanks Pavneet...is their any way around to show Toast message when if object and list is null with message like your device is offline or no internet?"},{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1535056155,"post_id":51971825,"comment_id":90937297,"body_markdown":"I am glad that I could help, though next time add your requirements in post at once","body":"I am glad that I could help, though next time add your requirements in post at once"}],"tags":[],"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534957258,"creation_date":1534957258,"answer_id":51971825,"question_id":51971735,"body_markdown":"Seems like you are creating an object of `RSSObject` but the list inside it will be initialised to `null` so to avoid this use\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return (rssObject!=null &amp;&amp; rssObject.items!=null)? rssObject.items.size():0;\r\n    // if object and list is not null then return size otherwise return 0\r\n    }","title":"Getting rid of a Null Pointer Exception in a RecyclerView when my app loads for the first Time","body":"<p>Seems like you are creating an object of <code>RSSObject</code> but the list inside it will be initialised to <code>null</code> so to avoid this use</p>\n\n<pre><code>@Override\npublic int getItemCount() {\n    return (rssObject!=null &amp;&amp; rssObject.items!=null)? rssObject.items.size():0;\n// if object and list is not null then return size otherwise return 0\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13450936,"reputation":429,"user_id":9705786,"display_name":"Bir Nepali"},"score":0,"creation_date":1535003701,"post_id":51979002,"comment_id":90907950,"body_markdown":"perfect...Thanks.","body":"perfect...Thanks."},{"owner":{"account_id":13533431,"reputation":9815,"user_id":9763253,"display_name":"&#220;ma&#241;g &#223;&#252;rm&#229;n"},"score":0,"creation_date":1535003732,"post_id":51979002,"comment_id":90907963,"body_markdown":"I&#39;m happy you got what you wanted.","body":"I&#39;m happy you got what you wanted."}],"tags":[],"owner":{"account_id":13533431,"reputation":9815,"user_id":9763253,"display_name":"&#220;ma&#241;g &#223;&#252;rm&#229;n"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1535003017,"creation_date":1535003017,"answer_id":51979002,"question_id":51971735,"body_markdown":"To show if the rssObject is null:\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        if (rssObject == null) {\r\n             Toast.makeText(context, &quot;rssObject is NUll&quot;, Toast.LENGTH_SHORT).show();\r\n             return 0;\r\n        }\r\n        else {\r\n        return (rssObject!=null &amp;&amp; rssObject.items!=null)? rssObject.items.size():0;\r\n        }\r\n    }\r\n\r\nTry if it works.","title":"Getting rid of a Null Pointer Exception in a RecyclerView when my app loads for the first Time","body":"<p>To show if the rssObject is null:</p>\n\n<pre><code>@Override\npublic int getItemCount() {\n    if (rssObject == null) {\n         Toast.makeText(context, \"rssObject is NUll\", Toast.LENGTH_SHORT).show();\n         return 0;\n    }\n    else {\n    return (rssObject!=null &amp;&amp; rssObject.items!=null)? rssObject.items.size():0;\n    }\n}\n</code></pre>\n\n<p>Try if it works.</p>\n"}],"owner":{"account_id":13450936,"reputation":429,"user_id":9705786,"display_name":"Bir Nepali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":51979002,"answer_count":2,"score":-1,"last_activity_date":1680760605,"creation_date":1534956940,"question_id":51971735,"body_markdown":"I&#39;m using `RecyclerView` to show RSS Feeds from various RSS Sites. When The app loads and device is offline , app crashes with below error\r\n\r\n     at com.nepalpolice.sample.alarm.data.Adapter.FeedAdapter.getItemCount(FeedAdapter.java:104)  \r\n\r\n\r\nBut if app is online, then app loads smoothly and next time device goes offline then also app works.\r\nBut only when the first time app loads and device is offline, then only app crashes....when i click on log error....it directs me to below line\r\n\r\n       @Override\r\n    public int getItemCount() {\r\n        return rssObject.items.size();\r\n    }\r\n    }\r\n\r\nHere is whole code of class\r\n\r\n    class FeedViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener,View.OnLongClickListener\r\n    {\r\n\r\n        public TextView txtTitle,txtPubDate,txtContent;\r\n        private ItemClickListener itemClickListener;\r\n\r\n\r\n\r\n\r\n        public FeedViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            txtTitle = (TextView)itemView.findViewById(R.id.txtTitle);\r\n            txtPubDate = (TextView)itemView.findViewById(R.id.txtPubDate);\r\n            txtContent = (TextView)itemView.findViewById(R.id.txtContent);\r\n\r\n            //Set Event\r\n            itemView.setOnClickListener(this);\r\n            itemView.setOnLongClickListener(this);\r\n        }\r\n\r\n        public void setItemClickListener(ItemClickListener itemClickListener) {\r\n            this.itemClickListener = itemClickListener;\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            itemClickListener.onClick(v,getAdapterPosition(),false);\r\n\r\n        }\r\n\r\n        @Override\r\n        public boolean onLongClick(View v) {\r\n            itemClickListener.onClick(v,getAdapterPosition(),true);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public class FeedAdapter extends RecyclerView.Adapter&lt;FeedViewHolder&gt; {\r\n\r\n        private RSSObject rssObject;\r\n        private Context mContext;\r\n        private LayoutInflater inflater;\r\n\r\n        public FeedAdapter(RSSObject rssObject, Context mContext) {\r\n            this.rssObject = rssObject;\r\n            this.mContext = mContext;\r\n            inflater = LayoutInflater.from(mContext);\r\n        }\r\n\r\n        @Override\r\n        public FeedViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n           View itemView = inflater.inflate(R.layout.row,parent,false);\r\n            return new FeedViewHolder(itemView);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(FeedViewHolder holder, int position) {\r\n\r\n            holder.txtTitle.setText(rssObject.getItems().get(position).getTitle());\r\n            holder.txtPubDate.setText(rssObject.getItems().get(position).getPubDate());\r\n            holder.txtContent.setText(rssObject.getItems().get(position).getContent());\r\n\r\n            holder.setItemClickListener(new ItemClickListener() {\r\n                @Override\r\n                public void onClick(View view, int position, boolean isLongClick) {\r\n                    if(!isLongClick)\r\n                    {\r\n\r\n\r\n\r\n\r\n\r\n                        Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(rssObject.getItems().get(position).getLink()));\r\n                        browserIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\r\n                        mContext.startActivity(browserIntent);\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return rssObject.items.size();\r\n        }\r\n    }\r\n\r\n\r\nHere is the main fragment code \r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class Movie extends Fragment {\r\n\r\n        RecyclerView recyclerView;\r\n        RSSObject rssObject;\r\n\r\n\r\n        private final String RSS_link=&quot;http://www.bollywoodhungama.com/rss/movie-release-date.xml&quot;;\r\n        private final String RSS_to_Json_API = &quot;https://api.rss2json.com/v1/api.json?rss_url=&quot;;\r\n\r\n        public Movie() {\r\n            // Required empty public constructor\r\n        }\r\n\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, final ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n\r\n            View view = inflater.inflate(R.layout.activity_mainrss, container, false);\r\n\r\n            recyclerView = (RecyclerView)view.findViewById(R.id.recyclerView);\r\n            LinearLayoutManager linearLayoutManager  = new LinearLayoutManager(getActivity().getBaseContext(),LinearLayoutManager.VERTICAL,false);\r\n            recyclerView.setLayoutManager(linearLayoutManager);\r\n            loadRSS();\r\n\r\n\r\n\r\n            return view;\r\n        }\r\n\r\n        private void loadRSS() {\r\n            AsyncTask&lt;String,String,String&gt; loadRSSAsync = new AsyncTask&lt;String, String, String&gt;() {\r\n\r\n                ProgressDialog mDialog = new ProgressDialog(getActivity());\r\n\r\n                @Override\r\n                protected void onPreExecute() {\r\n                    mDialog.setMessage(&quot;Please wait...&quot;);\r\n                    mDialog.show();\r\n                }\r\n\r\n                @Override\r\n                protected String doInBackground(String... params) {\r\n                    String result;\r\n                    HTTPDataHandler http = new HTTPDataHandler();\r\n                    result = http.GetHTTPData(params[0]);\r\n                    return  result;\r\n                }\r\n\r\n                @Override\r\n                protected void onPostExecute(String s) {\r\n                    mDialog.dismiss();\r\n                    rssObject = new Gson().fromJson(s,RSSObject.class);\r\n                    FeedAdapter adapter = new FeedAdapter(rssObject,getActivity().getBaseContext());\r\n                    recyclerView.setAdapter(adapter);\r\n                    adapter.notifyDataSetChanged();\r\n                }\r\n            };\r\n\r\n            StringBuilder url_get_data = new StringBuilder(RSS_to_Json_API);\r\n            url_get_data.append(RSS_link);\r\n            loadRSSAsync.execute(url_get_data.toString());\r\n        }\r\n\r\n        }\r\n\r\ncan anyone please help me what is with this error and how to solve this?\r\n","title":"Getting rid of a Null Pointer Exception in a RecyclerView when my app loads for the first Time","body":"<p>I'm using <code>RecyclerView</code> to show RSS Feeds from various RSS Sites. When The app loads and device is offline , app crashes with below error</p>\n<pre><code> at com.nepalpolice.sample.alarm.data.Adapter.FeedAdapter.getItemCount(FeedAdapter.java:104)  \n</code></pre>\n<p>But if app is online, then app loads smoothly and next time device goes offline then also app works.\nBut only when the first time app loads and device is offline, then only app crashes....when i click on log error....it directs me to below line</p>\n<pre><code>   @Override\npublic int getItemCount() {\n    return rssObject.items.size();\n}\n}\n</code></pre>\n<p>Here is whole code of class</p>\n<pre><code>class FeedViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener,View.OnLongClickListener\n{\n\n    public TextView txtTitle,txtPubDate,txtContent;\n    private ItemClickListener itemClickListener;\n\n\n\n\n    public FeedViewHolder(View itemView) {\n        super(itemView);\n\n        txtTitle = (TextView)itemView.findViewById(R.id.txtTitle);\n        txtPubDate = (TextView)itemView.findViewById(R.id.txtPubDate);\n        txtContent = (TextView)itemView.findViewById(R.id.txtContent);\n\n        //Set Event\n        itemView.setOnClickListener(this);\n        itemView.setOnLongClickListener(this);\n    }\n\n    public void setItemClickListener(ItemClickListener itemClickListener) {\n        this.itemClickListener = itemClickListener;\n    }\n\n    @Override\n    public void onClick(View v) {\n\n        itemClickListener.onClick(v,getAdapterPosition(),false);\n\n    }\n\n    @Override\n    public boolean onLongClick(View v) {\n        itemClickListener.onClick(v,getAdapterPosition(),true);\n        return true;\n    }\n}\n\npublic class FeedAdapter extends RecyclerView.Adapter&lt;FeedViewHolder&gt; {\n\n    private RSSObject rssObject;\n    private Context mContext;\n    private LayoutInflater inflater;\n\n    public FeedAdapter(RSSObject rssObject, Context mContext) {\n        this.rssObject = rssObject;\n        this.mContext = mContext;\n        inflater = LayoutInflater.from(mContext);\n    }\n\n    @Override\n    public FeedViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n       View itemView = inflater.inflate(R.layout.row,parent,false);\n        return new FeedViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(FeedViewHolder holder, int position) {\n\n        holder.txtTitle.setText(rssObject.getItems().get(position).getTitle());\n        holder.txtPubDate.setText(rssObject.getItems().get(position).getPubDate());\n        holder.txtContent.setText(rssObject.getItems().get(position).getContent());\n\n        holder.setItemClickListener(new ItemClickListener() {\n            @Override\n            public void onClick(View view, int position, boolean isLongClick) {\n                if(!isLongClick)\n                {\n\n\n\n\n\n                    Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(rssObject.getItems().get(position).getLink()));\n                    browserIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\n                    mContext.startActivity(browserIntent);\n                }\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return rssObject.items.size();\n    }\n}\n</code></pre>\n<p>Here is the main fragment code</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>public class Movie extends Fragment {\n\n    RecyclerView recyclerView;\n    RSSObject rssObject;\n\n\n    private final String RSS_link=&quot;http://www.bollywoodhungama.com/rss/movie-release-date.xml&quot;;\n    private final String RSS_to_Json_API = &quot;https://api.rss2json.com/v1/api.json?rss_url=&quot;;\n\n    public Movie() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, final ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.activity_mainrss, container, false);\n\n        recyclerView = (RecyclerView)view.findViewById(R.id.recyclerView);\n        LinearLayoutManager linearLayoutManager  = new LinearLayoutManager(getActivity().getBaseContext(),LinearLayoutManager.VERTICAL,false);\n        recyclerView.setLayoutManager(linearLayoutManager);\n        loadRSS();\n\n\n\n        return view;\n    }\n\n    private void loadRSS() {\n        AsyncTask&lt;String,String,String&gt; loadRSSAsync = new AsyncTask&lt;String, String, String&gt;() {\n\n            ProgressDialog mDialog = new ProgressDialog(getActivity());\n\n            @Override\n            protected void onPreExecute() {\n                mDialog.setMessage(&quot;Please wait...&quot;);\n                mDialog.show();\n            }\n\n            @Override\n            protected String doInBackground(String... params) {\n                String result;\n                HTTPDataHandler http = new HTTPDataHandler();\n                result = http.GetHTTPData(params[0]);\n                return  result;\n            }\n\n            @Override\n            protected void onPostExecute(String s) {\n                mDialog.dismiss();\n                rssObject = new Gson().fromJson(s,RSSObject.class);\n                FeedAdapter adapter = new FeedAdapter(rssObject,getActivity().getBaseContext());\n                recyclerView.setAdapter(adapter);\n                adapter.notifyDataSetChanged();\n            }\n        };\n\n        StringBuilder url_get_data = new StringBuilder(RSS_to_Json_API);\n        url_get_data.append(RSS_link);\n        loadRSSAsync.execute(url_get_data.toString());\n    }\n\n    }\n</code></pre>\n<p>can anyone please help me what is with this error and how to solve this?</p>\n"},{"tags":["java","android","calendar","intentfilter"],"answers":[{"comments":[{"owner":{"account_id":5268803,"reputation":412,"user_id":4207788,"accept_rate":80,"display_name":"Toan Le"},"score":0,"creation_date":1536163063,"post_id":52186314,"comment_id":91328230,"body_markdown":"Thanks for the answer! I hasn&#39;t found any solutions mentioning scheme which indeed solved my problem.","body":"Thanks for the answer! I hasn&#39;t found any solutions mentioning scheme which indeed solved my problem."},{"owner":{"account_id":2139684,"reputation":8710,"user_id":2019549,"accept_rate":62,"display_name":"cambunctious"},"score":0,"creation_date":1567564650,"post_id":52186314,"comment_id":101996013,"body_markdown":"Note that the subscription will only last as long as the lifetime of the context on which registerReeiver is called. You may want to use JobService instead: https://stackoverflow.com/a/49619666/2019549","body":"Note that the subscription will only last as long as the lifetime of the context on which registerReeiver is called. You may want to use JobService instead: <a href=\"https://stackoverflow.com/a/49619666/2019549\">stackoverflow.com/a/49619666/2019549</a>"}],"tags":[],"owner":{"account_id":5118773,"reputation":1767,"user_id":4245061,"display_name":"metarmask"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1536153971,"creation_date":1536153971,"answer_id":52186314,"question_id":51992722,"body_markdown":"You must add the scheme and and authority for calendar events:\r\n\r\n    filter.addDataScheme(&quot;content&quot;);\r\n    filter.addDataAuthority(&quot;com.android.calendar&quot;, null);\r\n\r\nA complete example of listening for calendar changes would be:\r\n\r\nCalendarReceiver.java\r\n\r\n    public class CalendarReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.d(&quot;example&quot;, &quot;Calendar changed (or the phone just booted)&quot;);\r\n        }\r\n    }\r\n\r\nActivity.java\r\n\r\n    IntentFilter filter = new IntentFilter();\r\n    filter.addAction(Intent.ACTION_PROVIDER_CHANGED);\r\n    filter.addDataScheme(&quot;content&quot;);\r\n    filter.addDataAuthority(&quot;com.android.calendar&quot;, null);\r\n    registerReceiver(new CalendarReceiver(), filter);","title":"BroadcastReceiver for Android Calendar events (2018)","body":"<p>You must add the scheme and and authority for calendar events:</p>\n\n<pre><code>filter.addDataScheme(\"content\");\nfilter.addDataAuthority(\"com.android.calendar\", null);\n</code></pre>\n\n<p>A complete example of listening for calendar changes would be:</p>\n\n<p>CalendarReceiver.java</p>\n\n<pre><code>public class CalendarReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Log.d(\"example\", \"Calendar changed (or the phone just booted)\");\n    }\n}\n</code></pre>\n\n<p>Activity.java</p>\n\n<pre><code>IntentFilter filter = new IntentFilter();\nfilter.addAction(Intent.ACTION_PROVIDER_CHANGED);\nfilter.addDataScheme(\"content\");\nfilter.addDataAuthority(\"com.android.calendar\", null);\nregisterReceiver(new CalendarReceiver(), filter);\n</code></pre>\n"}],"owner":{"account_id":5268803,"reputation":412,"user_id":4207788,"accept_rate":80,"display_name":"Toan Le"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52186314,"answer_count":1,"score":1,"last_activity_date":1680760494,"creation_date":1535051255,"question_id":51992722,"body_markdown":"This question is indeed a duplicate to https://stackoverflow.com/questions/21168766/listen-for-new-calendar-events\r\n\r\nI have been trying to register the BroadcastReceiver with the way specified in the link, however, my app couldn&#39;t receive any broadcast when I modified the phone&#39;s calendar.\r\n\r\nI also tried to add it through IntentFilter instead of through the AndroidManifest \r\n\r\n        filter = new IntentFilter();\r\n        filter.addAction(Intent.ACTION_PROVIDER_CHANGED);\r\n        registerReceiver(calendarReceiver,filter);\r\n\r\nstill no luck getting it to receive the broadcast. Did I miss anything or listening to calendar&#39;s changes cannot be done anymore?","title":"BroadcastReceiver for Android Calendar events (2018)","body":"<p>This question is indeed a duplicate to <a href=\"https://stackoverflow.com/questions/21168766/listen-for-new-calendar-events\">Listen for new calendar events</a></p>\n<p>I have been trying to register the BroadcastReceiver with the way specified in the link, however, my app couldn't receive any broadcast when I modified the phone's calendar.</p>\n<p>I also tried to add it through IntentFilter instead of through the AndroidManifest</p>\n<pre><code>    filter = new IntentFilter();\n    filter.addAction(Intent.ACTION_PROVIDER_CHANGED);\n    registerReceiver(calendarReceiver,filter);\n</code></pre>\n<p>still no luck getting it to receive the broadcast. Did I miss anything or listening to calendar's changes cannot be done anymore?</p>\n"},{"tags":["java","android","gps","location","fusedlocationproviderclient"],"comments":[{"owner":{"account_id":3291742,"reputation":7362,"user_id":2769892,"accept_rate":57,"display_name":"droidev"},"score":0,"creation_date":1535114503,"post_id":52004666,"comment_id":90958878,"body_markdown":"did you add location permission access in manifest ?","body":"did you add location permission access in manifest ?"},{"owner":{"account_id":10217567,"reputation":9035,"user_id":7542765,"accept_rate":81,"display_name":"Levon Petrosyan"},"score":1,"creation_date":1535114510,"post_id":52004666,"comment_id":90958888,"body_markdown":"Did you try to add    `Looper.loop();` at the end of `requestSingleUpdate`?","body":"Did you try to add    <code>Looper.loop();</code> at the end of <code>requestSingleUpdate</code>?"},{"owner":{"account_id":2648612,"reputation":86,"user_id":6515947,"display_name":"DeBukkIt"},"score":0,"creation_date":1535126956,"post_id":52004666,"comment_id":90966769,"body_markdown":"@droidev of course I added ACCESS_COARSE_LOCATION and ACCESS_FINE_LOCATION to the manifest, inside the `manifest` tag, but outside the `application` tag.","body":"@droidev of course I added ACCESS_COARSE_LOCATION and ACCESS_FINE_LOCATION to the manifest, inside the <code>manifest</code> tag, but outside the <code>application</code> tag."},{"owner":{"account_id":3291742,"reputation":7362,"user_id":2769892,"accept_rate":57,"display_name":"droidev"},"score":0,"creation_date":1535127044,"post_id":52004666,"comment_id":90966805,"body_markdown":"that’s correct. still not working? check if there’s anything in your logcat","body":"that’s correct. still not working? check if there’s anything in your logcat"},{"owner":{"account_id":2648612,"reputation":86,"user_id":6515947,"display_name":"DeBukkIt"},"score":0,"creation_date":1535127208,"post_id":52004666,"comment_id":90966880,"body_markdown":"@LevonPetrosyan The third argument is expected to be of type `Looper`, but `Looper.loop()` is of type `void`. The documentation also says that if you leave the third argument `null`, the calling thread handles it. That should not be the problem, unless the calling thread (the FCM service) somehow doesn&#39;t stay alive long enough to wait for the callback.","body":"@LevonPetrosyan The third argument is expected to be of type <code>Looper</code>, but <code>Looper.loop()</code> is of type <code>void</code>. The documentation also says that if you leave the third argument <code>null</code>, the calling thread handles it. That should not be the problem, unless the calling thread (the FCM service) somehow doesn&#39;t stay alive long enough to wait for the callback."}],"answers":[{"comments":[{"owner":{"account_id":2648612,"reputation":86,"user_id":6515947,"display_name":"DeBukkIt"},"score":3,"creation_date":1535197148,"post_id":52013595,"comment_id":90983838,"body_markdown":"Thank you very much! In fact, the thread on which the request for the location was running was the problem. Your solution worked immediately without any further adjustments.","body":"Thank you very much! In fact, the thread on which the request for the location was running was the problem. Your solution worked immediately without any further adjustments."},{"owner":{"account_id":5540272,"reputation":6964,"user_id":4397077,"accept_rate":100,"display_name":"Abrar"},"score":2,"creation_date":1553585555,"post_id":52013595,"comment_id":97427604,"body_markdown":"Thank you. I&#39;ve been struggling with location issue for quite sometime. Thread is the answer!","body":"Thank you. I&#39;ve been struggling with location issue for quite sometime. Thread is the answer!"},{"owner":{"account_id":10274245,"reputation":689,"user_id":7581708,"display_name":"HF_"},"score":1,"creation_date":1563968720,"post_id":52013595,"comment_id":100875141,"body_markdown":"Hello. Thank you very very much! You saved my time.","body":"Hello. Thank you very very much! You saved my time."}],"tags":[],"owner":{"account_id":13381081,"reputation":13847,"user_id":9656320,"display_name":"Son Truong"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1535166168,"creation_date":1535164908,"answer_id":52013595,"question_id":52004666,"body_markdown":"From your code I guess you want to get location and receive result in a background thread. Here is a solution.\r\n\r\n    @TargetApi(16)\r\n    public void requestSingleUpdate() {\r\n        // TODO: Comment-out this line.\r\n        // Looper.prepare();\r\n        \r\n        // only works with SDK Version 23 or higher\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= 23) {\r\n            if (context.checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED || context.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // permission is not granted\r\n                Log.e(&quot;SiSoLocProvider&quot;, &quot;Permission not granted.&quot;);\r\n                return;\r\n            } else {\r\n                Log.d(&quot;SiSoLocProvider&quot;, &quot;Permission granted.&quot;);\r\n            }\r\n        } else {\r\n            Log.d(&quot;SiSoLocProvider&quot;, &quot;SDK &lt; 23, checking permissions should not be necessary&quot;);\r\n        }\r\n    \r\n        // TODO: Start a background thread to receive location result.\r\n        final HandlerThread handlerThread = new HandlerThread(&quot;RequestLocation&quot;);\r\n        handlerThread.start();\r\n    \r\n        final long startTime = System.currentTimeMillis();\r\n        fusedTrackerCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(LocationResult locationResult) {\r\n                // TODO: Those lines of code will run on the background thread.\r\n                if ((locationResult.getLastLocation() != null) &amp;&amp; (System.currentTimeMillis() &lt;= startTime + 30 * 1000)) {\r\n                    System.out.println(&quot;LOCATION: &quot; + locationResult.getLastLocation().getLatitude() + &quot;|&quot; + locationResult.getLastLocation().getLongitude());\r\n                    System.out.println(&quot;ACCURACY: &quot; + locationResult.getLastLocation().getAccuracy());\r\n                    mFusedLocationClient.removeLocationUpdates(fusedTrackerCallback);\r\n                } else {\r\n                    System.out.println(&quot;LastKnownNull? :: &quot; + (locationResult.getLastLocation() == null));\r\n                    System.out.println(&quot;Time over? :: &quot; + (System.currentTimeMillis() &gt; startTime + 30 * 1000));\r\n                }\r\n                // TODO: After receiving location result, remove the listener.\r\n                mFusedLocationClient.removeLocationUpdates(this);\r\n\r\n                // Release the background thread which receive the location result.\r\n                handlerThread.quit();\r\n            }\r\n        };\r\n    \r\n        LocationRequest req = new LocationRequest();\r\n        req.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        req.setFastestInterval(2000);\r\n        req.setInterval(2000);\r\n        // TODO: Pass looper of background thread indicates we want to receive location result in a background thread instead of UI thread.\r\n        mFusedLocationClient.requestLocationUpdates(req, fusedTrackerCallback, handlerThread.getLooper());\r\n    }\r\n\r\nIf you want to receive location result on UI thread.\r\n\r\n    @TargetApi(16)\r\n    public void requestSingleUpdate() {\r\n        // TODO: Comment-out this line.\r\n        // Looper.prepare();\r\n    \r\n        // only works with SDK Version 23 or higher\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= 23) {\r\n            if (context.checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED || context.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // permission is not granted\r\n                Log.e(&quot;SiSoLocProvider&quot;, &quot;Permission not granted.&quot;);\r\n                return;\r\n            } else {\r\n                Log.d(&quot;SiSoLocProvider&quot;, &quot;Permission granted.&quot;);\r\n            }\r\n        } else {\r\n            Log.d(&quot;SiSoLocProvider&quot;, &quot;SDK &lt; 23, checking permissions should not be necessary&quot;);\r\n        }\r\n    \r\n        final long startTime = System.currentTimeMillis();\r\n        fusedTrackerCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(LocationResult locationResult) {\r\n                // TODO: These lines of code will run on UI thread.\r\n                if ((locationResult.getLastLocation() != null) &amp;&amp; (System.currentTimeMillis() &lt;= startTime + 30 * 1000)) {\r\n                    System.out.println(&quot;LOCATION: &quot; + locationResult.getLastLocation().getLatitude() + &quot;|&quot; + locationResult.getLastLocation().getLongitude());\r\n                    System.out.println(&quot;ACCURACY: &quot; + locationResult.getLastLocation().getAccuracy());\r\n                    mFusedLocationClient.removeLocationUpdates(fusedTrackerCallback);\r\n                } else {\r\n                    System.out.println(&quot;LastKnownNull? :: &quot; + (locationResult.getLastLocation() == null));\r\n                    System.out.println(&quot;Time over? :: &quot; + (System.currentTimeMillis() &gt; startTime + 30 * 1000));\r\n                }\r\n    \r\n                // TODO: After receiving location result, remove the listener.\r\n                mFusedLocationClient.removeLocationUpdates(this);\r\n            }\r\n        };\r\n    \r\n        LocationRequest req = new LocationRequest();\r\n        req.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        req.setFastestInterval(2000);\r\n        req.setInterval(2000);\r\n        // Receive location result on UI thread.\r\n        mFusedLocationClient.requestLocationUpdates(req, fusedTrackerCallback, Looper.getMainLooper());\r\n    }\r\n\r\nI add each comment that start with `TODO:` keyword to explain my intended.","title":"Requesting location updates using FusedLocationProviderClient is not working, callback is never called","body":"<p>From your code I guess you want to get location and receive result in a background thread. Here is a solution.</p>\n\n<pre><code>@TargetApi(16)\npublic void requestSingleUpdate() {\n    // TODO: Comment-out this line.\n    // Looper.prepare();\n\n    // only works with SDK Version 23 or higher\n    if (android.os.Build.VERSION.SDK_INT &gt;= 23) {\n        if (context.checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED || context.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // permission is not granted\n            Log.e(\"SiSoLocProvider\", \"Permission not granted.\");\n            return;\n        } else {\n            Log.d(\"SiSoLocProvider\", \"Permission granted.\");\n        }\n    } else {\n        Log.d(\"SiSoLocProvider\", \"SDK &lt; 23, checking permissions should not be necessary\");\n    }\n\n    // TODO: Start a background thread to receive location result.\n    final HandlerThread handlerThread = new HandlerThread(\"RequestLocation\");\n    handlerThread.start();\n\n    final long startTime = System.currentTimeMillis();\n    fusedTrackerCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(LocationResult locationResult) {\n            // TODO: Those lines of code will run on the background thread.\n            if ((locationResult.getLastLocation() != null) &amp;&amp; (System.currentTimeMillis() &lt;= startTime + 30 * 1000)) {\n                System.out.println(\"LOCATION: \" + locationResult.getLastLocation().getLatitude() + \"|\" + locationResult.getLastLocation().getLongitude());\n                System.out.println(\"ACCURACY: \" + locationResult.getLastLocation().getAccuracy());\n                mFusedLocationClient.removeLocationUpdates(fusedTrackerCallback);\n            } else {\n                System.out.println(\"LastKnownNull? :: \" + (locationResult.getLastLocation() == null));\n                System.out.println(\"Time over? :: \" + (System.currentTimeMillis() &gt; startTime + 30 * 1000));\n            }\n            // TODO: After receiving location result, remove the listener.\n            mFusedLocationClient.removeLocationUpdates(this);\n\n            // Release the background thread which receive the location result.\n            handlerThread.quit();\n        }\n    };\n\n    LocationRequest req = new LocationRequest();\n    req.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    req.setFastestInterval(2000);\n    req.setInterval(2000);\n    // TODO: Pass looper of background thread indicates we want to receive location result in a background thread instead of UI thread.\n    mFusedLocationClient.requestLocationUpdates(req, fusedTrackerCallback, handlerThread.getLooper());\n}\n</code></pre>\n\n<p>If you want to receive location result on UI thread.</p>\n\n<pre><code>@TargetApi(16)\npublic void requestSingleUpdate() {\n    // TODO: Comment-out this line.\n    // Looper.prepare();\n\n    // only works with SDK Version 23 or higher\n    if (android.os.Build.VERSION.SDK_INT &gt;= 23) {\n        if (context.checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED || context.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // permission is not granted\n            Log.e(\"SiSoLocProvider\", \"Permission not granted.\");\n            return;\n        } else {\n            Log.d(\"SiSoLocProvider\", \"Permission granted.\");\n        }\n    } else {\n        Log.d(\"SiSoLocProvider\", \"SDK &lt; 23, checking permissions should not be necessary\");\n    }\n\n    final long startTime = System.currentTimeMillis();\n    fusedTrackerCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(LocationResult locationResult) {\n            // TODO: These lines of code will run on UI thread.\n            if ((locationResult.getLastLocation() != null) &amp;&amp; (System.currentTimeMillis() &lt;= startTime + 30 * 1000)) {\n                System.out.println(\"LOCATION: \" + locationResult.getLastLocation().getLatitude() + \"|\" + locationResult.getLastLocation().getLongitude());\n                System.out.println(\"ACCURACY: \" + locationResult.getLastLocation().getAccuracy());\n                mFusedLocationClient.removeLocationUpdates(fusedTrackerCallback);\n            } else {\n                System.out.println(\"LastKnownNull? :: \" + (locationResult.getLastLocation() == null));\n                System.out.println(\"Time over? :: \" + (System.currentTimeMillis() &gt; startTime + 30 * 1000));\n            }\n\n            // TODO: After receiving location result, remove the listener.\n            mFusedLocationClient.removeLocationUpdates(this);\n        }\n    };\n\n    LocationRequest req = new LocationRequest();\n    req.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    req.setFastestInterval(2000);\n    req.setInterval(2000);\n    // Receive location result on UI thread.\n    mFusedLocationClient.requestLocationUpdates(req, fusedTrackerCallback, Looper.getMainLooper());\n}\n</code></pre>\n\n<p>I add each comment that start with <code>TODO:</code> keyword to explain my intended.</p>\n"}],"owner":{"account_id":2648612,"reputation":86,"user_id":6515947,"display_name":"DeBukkIt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7354,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52013595,"answer_count":1,"score":3,"last_activity_date":1680760480,"creation_date":1535114173,"question_id":52004666,"body_markdown":"I&#39;m trying to use Firebase Cloud Messaging to send a command to my Android app that prompts it to determine its current location. This is done in the class &quot;FCMService&quot;.\r\n\r\nThe class &quot;SingleShotLocationProvider&quot; then performs the actual work by requesting location updates using the FusedLocationProviderClient. However, the callback &quot;fusedTrackerCallback&quot; is never called ever, although the necessary permissions are granted and GPS is switched on. Why?\r\n\r\n**FCMService class**\r\n\r\n    public class FCMService extends FirebaseMessagingService {\r\n    \r\n        @Override\r\n        public void onMessageReceived(RemoteMessage remoteMessage) {\r\n            Log.d(&quot;FCMService&quot;, &quot;Message received&quot;);\r\n    \r\n                if(remoteMessage.getData().containsKey(&quot;command&quot;) &amp;&amp; remoteMessage.getData().get(&quot;command&quot;).equalsIgnoreCase(&quot;locate&quot;)) {\r\n                    // get current location\r\n                    SingleShotLocationProvider locProv = new SingleShotLocationProvider(getApplicationContext());\r\n                    locProv.requestSingleUpdate();\r\n                    System.out.println(&quot;Requested single location update.&quot;);\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**SingleShotLocationProvider class**\r\n\r\n    public class SingleShotLocationProvider {\r\n    \r\n        private Context context;\r\n    \r\n        final LocationManager locManager;\r\n        private FusedLocationProviderClient mFusedLocationClient;\r\n        private LocationCallback fusedTrackerCallback;\r\n    \r\n        public SingleShotLocationProvider(Context context) {\r\n            this.context = context;\r\n            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(context);\r\n    \r\n            locManager = (LocationManager) context.getSystemService( Context.LOCATION_SERVICE );\r\n            if (locManager != null &amp;&amp; !locManager.isProviderEnabled(LocationManager.GPS_PROVIDER)){\r\n                Log.e(&quot;SiSoLocProvider&quot;, &quot;GPS IS NOT enabled.&quot;);\r\n            } else {\r\n                Log.d(&quot;SiSoLocProvider&quot;, &quot;GPS is enabled.&quot;);\r\n            }\r\n        }\r\n    \r\n        @TargetApi(16)\r\n        public void requestSingleUpdate() {\r\n            Looper.prepare();\r\n    \r\n            // only works with SDK Version 23 or higher\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= 23) {\r\n                if (context.checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED || context.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                    // permission is not granted\r\n                    Log.e(&quot;SiSoLocProvider&quot;, &quot;Permission not granted.&quot;);\r\n                    return;\r\n                } else {\r\n                    Log.d(&quot;SiSoLocProvider&quot;, &quot;Permission granted.&quot;);\r\n                }\r\n            } else {\r\n                Log.d(&quot;SiSoLocProvider&quot;, &quot;SDK &lt; 23, checking permissions should not be necessary&quot;);\r\n            }\r\n    \r\n            final long startTime = System.currentTimeMillis();\r\n            fusedTrackerCallback = new LocationCallback(){\r\n                @Override\r\n                public void onLocationResult(LocationResult locationResult) {\r\n                    if((locationResult.getLastLocation() != null) &amp;&amp; (System.currentTimeMillis() &lt;= startTime+30*1000)) {\r\n                        System.out.println(&quot;LOCATION: &quot; + locationResult.getLastLocation().getLatitude() + &quot;|&quot; + locationResult.getLastLocation().getLongitude());\r\n                        System.out.println(&quot;ACCURACY: &quot; + locationResult.getLastLocation().getAccuracy());\r\n                        mFusedLocationClient.removeLocationUpdates(fusedTrackerCallback);\r\n                    } else {\r\n                        System.out.println(&quot;LastKnownNull? :: &quot; + (locationResult.getLastLocation() == null));\r\n                        System.out.println(&quot;Time over? :: &quot; + (System.currentTimeMillis() &gt; startTime+30*1000));\r\n                    }\r\n                }\r\n            };\r\n    \r\n            LocationRequest req = new LocationRequest();\r\n            req.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n            req.setFastestInterval(2000);\r\n            req.setInterval(2000);\r\n            mFusedLocationClient.requestLocationUpdates(req, fusedTrackerCallback, null);\r\n        }\r\n    }\r\n\r\n**Output is:**\r\n\r\n    //Message received\r\n    //GPS is enabled.\r\n    //Permission granted.\r\n    //Requested single location update.\r\n\r\nBut nothing more then. Why? Is it perhaps because the permission was granted via the service application context?","title":"Requesting location updates using FusedLocationProviderClient is not working, callback is never called","body":"<p>I'm trying to use Firebase Cloud Messaging to send a command to my Android app that prompts it to determine its current location. This is done in the class &quot;FCMService&quot;.</p>\n<p>The class &quot;SingleShotLocationProvider&quot; then performs the actual work by requesting location updates using the FusedLocationProviderClient. However, the callback &quot;fusedTrackerCallback&quot; is never called ever, although the necessary permissions are granted and GPS is switched on. Why?</p>\n<p><strong>FCMService class</strong></p>\n<pre><code>public class FCMService extends FirebaseMessagingService {\n\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        Log.d(&quot;FCMService&quot;, &quot;Message received&quot;);\n\n            if(remoteMessage.getData().containsKey(&quot;command&quot;) &amp;&amp; remoteMessage.getData().get(&quot;command&quot;).equalsIgnoreCase(&quot;locate&quot;)) {\n                // get current location\n                SingleShotLocationProvider locProv = new SingleShotLocationProvider(getApplicationContext());\n                locProv.requestSingleUpdate();\n                System.out.println(&quot;Requested single location update.&quot;);\n            }\n\n        }\n    }\n\n}\n</code></pre>\n<p><strong>SingleShotLocationProvider class</strong></p>\n<pre><code>public class SingleShotLocationProvider {\n\n    private Context context;\n\n    final LocationManager locManager;\n    private FusedLocationProviderClient mFusedLocationClient;\n    private LocationCallback fusedTrackerCallback;\n\n    public SingleShotLocationProvider(Context context) {\n        this.context = context;\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(context);\n\n        locManager = (LocationManager) context.getSystemService( Context.LOCATION_SERVICE );\n        if (locManager != null &amp;&amp; !locManager.isProviderEnabled(LocationManager.GPS_PROVIDER)){\n            Log.e(&quot;SiSoLocProvider&quot;, &quot;GPS IS NOT enabled.&quot;);\n        } else {\n            Log.d(&quot;SiSoLocProvider&quot;, &quot;GPS is enabled.&quot;);\n        }\n    }\n\n    @TargetApi(16)\n    public void requestSingleUpdate() {\n        Looper.prepare();\n\n        // only works with SDK Version 23 or higher\n        if (android.os.Build.VERSION.SDK_INT &gt;= 23) {\n            if (context.checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED || context.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                // permission is not granted\n                Log.e(&quot;SiSoLocProvider&quot;, &quot;Permission not granted.&quot;);\n                return;\n            } else {\n                Log.d(&quot;SiSoLocProvider&quot;, &quot;Permission granted.&quot;);\n            }\n        } else {\n            Log.d(&quot;SiSoLocProvider&quot;, &quot;SDK &lt; 23, checking permissions should not be necessary&quot;);\n        }\n\n        final long startTime = System.currentTimeMillis();\n        fusedTrackerCallback = new LocationCallback(){\n            @Override\n            public void onLocationResult(LocationResult locationResult) {\n                if((locationResult.getLastLocation() != null) &amp;&amp; (System.currentTimeMillis() &lt;= startTime+30*1000)) {\n                    System.out.println(&quot;LOCATION: &quot; + locationResult.getLastLocation().getLatitude() + &quot;|&quot; + locationResult.getLastLocation().getLongitude());\n                    System.out.println(&quot;ACCURACY: &quot; + locationResult.getLastLocation().getAccuracy());\n                    mFusedLocationClient.removeLocationUpdates(fusedTrackerCallback);\n                } else {\n                    System.out.println(&quot;LastKnownNull? :: &quot; + (locationResult.getLastLocation() == null));\n                    System.out.println(&quot;Time over? :: &quot; + (System.currentTimeMillis() &gt; startTime+30*1000));\n                }\n            }\n        };\n\n        LocationRequest req = new LocationRequest();\n        req.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        req.setFastestInterval(2000);\n        req.setInterval(2000);\n        mFusedLocationClient.requestLocationUpdates(req, fusedTrackerCallback, null);\n    }\n}\n</code></pre>\n<p><strong>Output is:</strong></p>\n<pre><code>//Message received\n//GPS is enabled.\n//Permission granted.\n//Requested single location update.\n</code></pre>\n<p>But nothing more then. Why? Is it perhaps because the permission was granted via the service application context?</p>\n"},{"tags":["java","android","xml","kotlin"],"answers":[{"tags":[],"owner":{"account_id":10174507,"reputation":1159,"user_id":7513683,"display_name":"Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535642872,"creation_date":1535642533,"answer_id":52100524,"question_id":52100302,"body_markdown":"You need to keep track of which *ListItem* is selected.\r\nIn your Adapter class, create a variable that stores the current *ListItem*, which is selected\r\n\r\n 1. Create your variable `lastClicked`\r\n 2. In the constructor of the adapter, set that variable to -1, so that it doesn&#39;t point to anything\r\n 3. Whenever you click *ListItem* B, change the *lastClicked* *ListItem* (in this case it Item A) background to the original, then save the new *ListItem* (item B) position to `selectedItem` and change the background to show the newly clicked *ListItem*\r\n","title":"Change background on selected item in listView","body":"<p>You need to keep track of which <em>ListItem</em> is selected.\nIn your Adapter class, create a variable that stores the current <em>ListItem</em>, which is selected</p>\n\n<ol>\n<li>Create your variable <code>lastClicked</code></li>\n<li>In the constructor of the adapter, set that variable to -1, so that it doesn't point to anything</li>\n<li>Whenever you click <em>ListItem</em> B, change the <em>lastClicked</em> <em>ListItem</em> (in this case it Item A) background to the original, then save the new <em>ListItem</em> (item B) position to <code>selectedItem</code> and change the background to show the newly clicked <em>ListItem</em></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10071445,"reputation":588,"user_id":7444867,"display_name":"Prashanth Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535642544,"creation_date":1535642544,"answer_id":52100529,"question_id":52100302,"body_markdown":"Because you are not setting the item A to its original color. When you click item B you need to d0 2 things. First, set the item B to the color you want and secondly set the item A back to its original color. Try this:\r\n\r\n    if(kategoriList[adapterPosition] == kategori){\r\n          itemView.isSelected = true\r\n          itemView.txtView_kategori.setTextColor(Color.WHITE)\r\n      } else {\r\n          itemView.isSelected = false\r\n          itemView.txtView_kategori.setTextColor(//any color you want)  \r\n      }\r\n    notifydatasetChanged();","title":"Change background on selected item in listView","body":"<p>Because you are not setting the item A to its original color. When you click item B you need to d0 2 things. First, set the item B to the color you want and secondly set the item A back to its original color. Try this:</p>\n\n<pre><code>if(kategoriList[adapterPosition] == kategori){\n      itemView.isSelected = true\n      itemView.txtView_kategori.setTextColor(Color.WHITE)\n  } else {\n      itemView.isSelected = false\n      itemView.txtView_kategori.setTextColor(//any color you want)  \n  }\nnotifydatasetChanged();\n</code></pre>\n"}],"owner":{"account_id":13865594,"reputation":41,"user_id":10010157,"display_name":"alen4 navy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680760285,"creation_date":1535641729,"question_id":52100302,"body_markdown":"I have problem when Im trying to change background on selected item in listview. When I select item A, it&#39;s background is changed. If I select item B, it changed too, but item A doesn&#39;t back to default background.\r\n\r\nThis drawable for background selected_item.xml: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_selected=&quot;true&quot;\r\n            android:drawable=&quot;@color/colorMegna&quot;/&gt;\r\n        &lt;item android:drawable=&quot;@color/colorWhite&quot;/&gt;\r\n    &lt;/selector&gt;\r\n\r\nThis is the XML item_kategori.xml :\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/lay_nama_kategori&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;@drawable/selected_item&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtView_kategori&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textAllCaps=&quot;false&quot;\r\n            android:textColor=&quot;@color/colorMegna&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginBottom=&quot;5dp&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nThis is the setOnClickListener() in Adapter:\r\n\r\n    inner class CategoryViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\r\n        fun bind(kategori: Category){\r\n                itemView.txtView_kategori.text = kategori.category\r\n                itemView.setOnClickListener {\r\n    \r\n                    if(kategoriList[adapterPosition] == kategori){\r\n                        itemView.isSelected = true\r\n                        itemView.txtView_kategori.setTextColor(Color.WHITE)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"Change background on selected item in listView","body":"<p>I have problem when Im trying to change background on selected item in listview. When I select item A, it's background is changed. If I select item B, it changed too, but item A doesn't back to default background.</p>\n<p>This drawable for background selected_item.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_selected=&quot;true&quot;\n        android:drawable=&quot;@color/colorMegna&quot;/&gt;\n    &lt;item android:drawable=&quot;@color/colorWhite&quot;/&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>This is the XML item_kategori.xml :</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/lay_nama_kategori&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;5dp&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@drawable/selected_item&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtView_kategori&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textColor=&quot;@color/colorMegna&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginBottom=&quot;5dp&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>This is the setOnClickListener() in Adapter:</p>\n<pre><code>inner class CategoryViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n    fun bind(kategori: Category){\n            itemView.txtView_kategori.text = kategori.category\n            itemView.setOnClickListener {\n\n                if(kategoriList[adapterPosition] == kategori){\n                    itemView.isSelected = true\n                    itemView.txtView_kategori.setTextColor(Color.WHITE)\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-resources"],"comments":[{"owner":{"account_id":1073380,"reputation":45664,"user_id":1072112,"display_name":"ghoti"},"score":2,"creation_date":1354906557,"post_id":3476430,"comment_id":18929153,"body_markdown":"possible duplicate of [How can i get the resource id of an image if I know its name?](http://stackoverflow.com/questions/3042961/how-can-i-get-the-resource-id-of-an-image-if-i-know-its-name)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3042961/how-can-i-get-the-resource-id-of-an-image-if-i-know-its-name\">How can i get the resource id of an image if I know its name?</a>"}],"answers":[{"comments":[{"owner":{"account_id":78145,"reputation":5085,"user_id":1746300,"accept_rate":89,"display_name":"Aswan"},"score":0,"creation_date":1281700667,"post_id":3476447,"comment_id":3627963,"body_markdown":"Thankq like this i want and i want to get drawable resource id.how i wil to it","body":"Thankq like this i want and i want to get drawable resource id.how i wil to it"},{"owner":{"account_id":42519,"reputation":2984,"user_id":123883,"accept_rate":70,"display_name":"Rabid"},"score":0,"creation_date":1281701126,"post_id":3476447,"comment_id":3628036,"body_markdown":"As maragues has suggested, it would be like `this.context.getResources().getIdentifier(&quot;package:type/entry&quot;, null, null);` where `&quot;package:type/entry&quot;` would be for example, `&quot;com.your.package:drawable/resourcename&quot;` ?","body":"As maragues has suggested, it would be like <code>this.context.getResources().getIdentifier(&quot;package:type&#47;entr&zwnj;&#8203;y&quot;, null, null);</code> where <code>&quot;package:type&#47;entry&quot;</code> would be for example, <code>&quot;com.your.package:drawable&#47;resourcename&quot;</code> ?"}],"tags":[],"owner":{"account_id":42519,"reputation":2984,"user_id":123883,"accept_rate":70,"display_name":"Rabid"},"comment_count":2,"down_vote_count":3,"up_vote_count":164,"is_accepted":true,"score":161,"last_activity_date":1557067175,"creation_date":1281699778,"answer_id":3476447,"question_id":3476430,"body_markdown":"It will be something like:\r\n\r\n`R.drawable.resourcename` \r\n\r\n\r\nMake sure you don&#39;t have the `Android.R` namespace imported as it can confuse Eclipse (if that&#39;s what you&#39;re using). \r\n\r\nIf that doesn&#39;t work, you can always use a context&#39;s `getResources` method ...\r\n\r\n    Drawable resImg = this.context.getResources().getDrawable(R.drawable.resource);\r\n\r\nWhere `this.context` is intialised as an `Activity`, `Service` or any other `Context` subclass.\r\n\r\n**Update:**\r\n\r\nIf it&#39;s the name you want, the `Resources` class (returned by `getResources()`) has a `getResourceName(int)` method, and a `getResourceTypeName(int)`?\r\n\r\n**Update 2**:\r\n\r\nThe `Resources` class has this method: \r\n\r\n    public int getIdentifier (String name, String defType, String defPackage) \r\n\r\nWhich returns the integer of the specified resource name, type &amp; package.\r\n\r\n","title":"How to get a resource id with a known resource name?","body":"<p>It will be something like:</p>\n\n<p><code>R.drawable.resourcename</code> </p>\n\n<p>Make sure you don't have the <code>Android.R</code> namespace imported as it can confuse Eclipse (if that's what you're using). </p>\n\n<p>If that doesn't work, you can always use a context's <code>getResources</code> method ...</p>\n\n<pre><code>Drawable resImg = this.context.getResources().getDrawable(R.drawable.resource);\n</code></pre>\n\n<p>Where <code>this.context</code> is intialised as an <code>Activity</code>, <code>Service</code> or any other <code>Context</code> subclass.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>If it's the name you want, the <code>Resources</code> class (returned by <code>getResources()</code>) has a <code>getResourceName(int)</code> method, and a <code>getResourceTypeName(int)</code>?</p>\n\n<p><strong>Update 2</strong>:</p>\n\n<p>The <code>Resources</code> class has this method: </p>\n\n<pre><code>public int getIdentifier (String name, String defType, String defPackage) \n</code></pre>\n\n<p>Which returns the integer of the specified resource name, type &amp; package.</p>\n"},{"tags":[],"owner":{"account_id":76269,"reputation":38001,"user_id":218473,"accept_rate":84,"display_name":"Maragues"},"comment_count":0,"down_vote_count":0,"up_vote_count":377,"is_accepted":false,"score":377,"last_activity_date":1492002509,"creation_date":1281699988,"answer_id":3476470,"question_id":3476430,"body_markdown":"If I understood right, this is what you want\r\n\r\n    int drawableResourceId = this.getResources().getIdentifier(&quot;nameOfDrawable&quot;, &quot;drawable&quot;, this.getPackageName());\r\n\r\nWhere &quot;this&quot; is an Activity, written just to clarify.\r\n\r\nIn case you want a String in strings.xml or an identifier of a UI element, substitute &quot;drawable&quot;\r\n\r\n    int resourceId = this.getResources().getIdentifier(&quot;nameOfResource&quot;, &quot;id&quot;, this.getPackageName());\r\n\r\nI warn you, this way of obtaining identifiers is really slow, use only where needed.\r\n\r\nLink to official documentation: [Resources.getIdentifier(String name, String defType, String defPackage)][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/res/Resources.html#getIdentifier(java.lang.String,%20java.lang.String,%20java.lang.String)","title":"How to get a resource id with a known resource name?","body":"<p>If I understood right, this is what you want</p>\n\n<pre><code>int drawableResourceId = this.getResources().getIdentifier(\"nameOfDrawable\", \"drawable\", this.getPackageName());\n</code></pre>\n\n<p>Where \"this\" is an Activity, written just to clarify.</p>\n\n<p>In case you want a String in strings.xml or an identifier of a UI element, substitute \"drawable\"</p>\n\n<pre><code>int resourceId = this.getResources().getIdentifier(\"nameOfResource\", \"id\", this.getPackageName());\n</code></pre>\n\n<p>I warn you, this way of obtaining identifiers is really slow, use only where needed.</p>\n\n<p>Link to official documentation: <a href=\"https://developer.android.com/reference/android/content/res/Resources.html#getIdentifier(java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"noreferrer\">Resources.getIdentifier(String name, String defType, String defPackage)</a></p>\n"},{"comments":[{"owner":{"account_id":387909,"reputation":806,"user_id":746529,"display_name":"ddmytrenko"},"score":1,"creation_date":1382452331,"post_id":7227810,"comment_id":28959129,"body_markdown":"It will not work for all cases. For example if you have &lt;string name=&quot;string.name&quot;&gt;content&lt;/string&gt; than the R.string class will have a string_name field. And your method will not work in this point.","body":"It will not work for all cases. For example if you have &lt;string name=&quot;string.name&quot;&gt;content&lt;/string&gt; than the R.string class will have a string_name field. And your method will not work in this point."},{"owner":{"account_id":387909,"reputation":806,"user_id":746529,"display_name":"ddmytrenko"},"score":4,"creation_date":1382524751,"post_id":7227810,"comment_id":28989916,"body_markdown":"Also your method is not fast actually. Because Java class serialization is never working quick.","body":"Also your method is not fast actually. Because Java class serialization is never working quick."}],"tags":[],"owner":{"account_id":307394,"reputation":1771,"user_id":618661,"accept_rate":100,"display_name":"Vivienne Fosh"},"comment_count":2,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1473181789,"creation_date":1314606588,"answer_id":7227810,"question_id":3476430,"body_markdown":"I would suggest you using my method to get a resource ID. It&#39;s Much more efficient, than using getIdentidier() method, which is slow.\r\n\r\nHere&#39;s the code:\r\n\r\n\t\r\n\r\n    /**\r\n\t * @author Lonkly\r\n\t * @param variableName - name of drawable, e.g R.drawable.&lt;b&gt;image&lt;/b&gt;\r\n\t * @param с - class of resource, e.g R.drawable.class or R.raw.class\r\n\t * @return integer id of resource\r\n\t */\r\n\tpublic static int getResId(String variableName, Class&lt;?&gt; с) {\r\n\r\n\t\tField field = null;\r\n\t\tint resId = 0;\r\n\t\ttry {\r\n\t\t\tfield = с.getField(variableName);\r\n\t\t\ttry {\r\n\t\t\t\tresId = field.getInt(null);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn resId;\r\n\r\n\t}","title":"How to get a resource id with a known resource name?","body":"<p>I would suggest you using my method to get a resource ID. It's Much more efficient, than using getIdentidier() method, which is slow.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>/**\n * @author Lonkly\n * @param variableName - name of drawable, e.g R.drawable.&lt;b&gt;image&lt;/b&gt;\n * @param с - class of resource, e.g R.drawable.class or R.raw.class\n * @return integer id of resource\n */\npublic static int getResId(String variableName, Class&lt;?&gt; с) {\n\n    Field field = null;\n    int resId = 0;\n    try {\n        field = с.getField(variableName);\n        try {\n            resId = field.getInt(null);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return resId;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1484953,"reputation":279,"user_id":1393422,"display_name":"user1393422"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1337023667,"creation_date":1336988098,"answer_id":10580748,"question_id":3476430,"body_markdown":"    int resourceID = \r\n        this.getResources().getIdentifier(&quot;resource name&quot;, &quot;resource type as mentioned in R.java&quot;,this.getPackageName());","title":"How to get a resource id with a known resource name?","body":"<pre><code>int resourceID = \n    this.getResources().getIdentifier(\"resource name\", \"resource type as mentioned in R.java\",this.getPackageName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3429585,"reputation":1054,"user_id":2874418,"display_name":"Diego Malone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467300435,"creation_date":1467300435,"answer_id":38127484,"question_id":3476430,"body_markdown":"I have found [this class](https://gist.github.com/brucetoo/48be42fa1387717547e2) very helpful to handle with resources. It has some defined methods to deal with dimens, colors, drawables and strings, like this one:\r\n\r\n\tpublic static String getString(Context context, String stringId) {\r\n\t\tint sid = getStringId(context, stringId);\r\n\t\tif (sid &gt; 0) {\r\n\t\t\treturn context.getResources().getString(sid);\r\n\t\t} else {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t}","title":"How to get a resource id with a known resource name?","body":"<p>I have found <a href=\"https://gist.github.com/brucetoo/48be42fa1387717547e2\" rel=\"nofollow\">this class</a> very helpful to handle with resources. It has some defined methods to deal with dimens, colors, drawables and strings, like this one:</p>\n\n<pre><code>public static String getString(Context context, String stringId) {\n    int sid = getStringId(context, stringId);\n    if (sid &gt; 0) {\n        return context.getResources().getString(sid);\n    } else {\n        return \"\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5936955,"reputation":7346,"user_id":4669617,"accept_rate":50,"display_name":"ceph3us"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498576539,"creation_date":1498576539,"answer_id":44783968,"question_id":3476430,"body_markdown":"in addition to @lonkly solution \r\n\r\n 1. see reflections and field accessibility \r\n 2. unnecessary variables\r\n\r\nmethod:\r\n\r\n\t/**\r\n     * lookup a resource id by field name in static R.class \r\n     * \r\n\t * @author - ceph3us\r\n\t * @param variableName - name of drawable, e.g R.drawable.&lt;b&gt;image&lt;/b&gt;\r\n\t * @param с            - class of resource, e.g R.drawable.class or R.raw.class\r\n\t * @return integer id of resource\r\n\t */\r\n\tpublic static int getResId(String variableName, Class&lt;?&gt; с)\r\n                         throws android.content.res.Resources.NotFoundException {\r\n\t\ttry {\r\n            // lookup field in class \r\n\t\t\tjava.lang.reflect.Field field = с.getField(variableName);\r\n            // always set access when using reflections  \r\n            // preventing IllegalAccessException   \r\n\t\t\tfield.setAccessible(true);\r\n            // we can use here also Field.get() and do a cast \r\n            // receiver reference is null as it&#39;s static field \r\n\t\t\treturn field.getInt(null);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// rethrow as not found ex\r\n\t\t\tthrow new Resources.NotFoundException(e.getMessage());\r\n\t\t}\r\n\t}\r\n","title":"How to get a resource id with a known resource name?","body":"<p>in addition to @lonkly solution </p>\n\n<ol>\n<li>see reflections and field accessibility </li>\n<li>unnecessary variables</li>\n</ol>\n\n<p>method:</p>\n\n<pre><code>/**\n * lookup a resource id by field name in static R.class \n * \n * @author - ceph3us\n * @param variableName - name of drawable, e.g R.drawable.&lt;b&gt;image&lt;/b&gt;\n * @param с            - class of resource, e.g R.drawable.class or R.raw.class\n * @return integer id of resource\n */\npublic static int getResId(String variableName, Class&lt;?&gt; с)\n                     throws android.content.res.Resources.NotFoundException {\n    try {\n        // lookup field in class \n        java.lang.reflect.Field field = с.getField(variableName);\n        // always set access when using reflections  \n        // preventing IllegalAccessException   \n        field.setAccessible(true);\n        // we can use here also Field.get() and do a cast \n        // receiver reference is null as it's static field \n        return field.getInt(null);\n    } catch (Exception e) {\n        // rethrow as not found ex\n        throw new Resources.NotFoundException(e.getMessage());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1791757,"reputation":22226,"user_id":1631967,"display_name":"aminography"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1627817250,"creation_date":1538226719,"answer_id":52568692,"question_id":3476430,"body_markdown":"• `Kotlin Version` via `Extension Function`\r\n---\r\n\r\nTo find a resource id by its name In Kotlin, add below snippet in a kotlin file:\r\n\r\n**ExtensionFunctions.kt**\r\n\r\n    import android.content.Context\r\n    import android.content.res.Resources\r\n    \r\n    fun Context.resIdByName(resIdName: String?, resType: String): Int {\r\n        resIdName?.let {\r\n            return resources.getIdentifier(it, resType, packageName)\r\n        }\r\n        throw Resources.NotFoundException()\r\n    }\r\n  \r\n• `Usage`\r\n---\r\n\r\nNow all resource ids are accessible wherever you have a context reference using `resIdByName` method:\r\n\r\n    val drawableResId = context.resIdByName(&quot;ic_edit_black_24dp&quot;, &quot;drawable&quot;)\r\n    val stringResId = context.resIdByName(&quot;title_home&quot;, &quot;string&quot;)\r\n    .\r\n    .\r\n    .    \r\n","title":"How to get a resource id with a known resource name?","body":"<h2>• <code>Kotlin Version</code> via <code>Extension Function</code></h2>\n<p>To find a resource id by its name In Kotlin, add below snippet in a kotlin file:</p>\n<p><strong>ExtensionFunctions.kt</strong></p>\n<pre><code>import android.content.Context\nimport android.content.res.Resources\n\nfun Context.resIdByName(resIdName: String?, resType: String): Int {\n    resIdName?.let {\n        return resources.getIdentifier(it, resType, packageName)\n    }\n    throw Resources.NotFoundException()\n}\n</code></pre>\n<h2>• <code>Usage</code></h2>\n<p>Now all resource ids are accessible wherever you have a context reference using <code>resIdByName</code> method:</p>\n<pre><code>val drawableResId = context.resIdByName(&quot;ic_edit_black_24dp&quot;, &quot;drawable&quot;)\nval stringResId = context.resIdByName(&quot;title_home&quot;, &quot;string&quot;)\n.\n.\n.    \n</code></pre>\n"},{"comments":[{"owner":{"account_id":11338042,"reputation":5695,"user_id":8313205,"display_name":"Mirza Ahmed Baig"},"score":0,"creation_date":1621316233,"post_id":57304564,"comment_id":119451114,"body_markdown":"its returning dark mode res in light mode and wise versa","body":"its returning dark mode res in light mode and wise versa"}],"tags":[],"owner":{"account_id":10017648,"reputation":1784,"user_id":7408350,"display_name":"Manthan Patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1564647112,"creation_date":1564647112,"answer_id":57304564,"question_id":3476430,"body_markdown":"    // image from res/drawable\r\n    \tint resID = getResources().getIdentifier(&quot;my_image&quot;, \r\n    \t\t\t&quot;drawable&quot;, getPackageName());\r\n    // view\r\n    \tint resID = getResources().getIdentifier(&quot;my_resource&quot;, \r\n    \t\t\t&quot;id&quot;, getPackageName());\r\n     \r\n    // string\r\n    \tint resID = getResources().getIdentifier(&quot;my_string&quot;, \r\n    \t\t\t&quot;string&quot;, getPackageName());","title":"How to get a resource id with a known resource name?","body":"<pre><code>// image from res/drawable\n    int resID = getResources().getIdentifier(\"my_image\", \n            \"drawable\", getPackageName());\n// view\n    int resID = getResources().getIdentifier(\"my_resource\", \n            \"id\", getPackageName());\n\n// string\n    int resID = getResources().getIdentifier(\"my_string\", \n            \"string\", getPackageName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5026161,"reputation":930,"user_id":4038066,"display_name":"Jens van de M&#246;tter"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591436947,"creation_date":1591436947,"answer_id":62229983,"question_id":3476430,"body_markdown":"In Kotlin following works fine for me:\r\n \r\n\r\n    val id = resources.getIdentifier(&quot;your_resource_name&quot;, &quot;drawable&quot;, context?.getPackageName())\r\n\r\nIf resource is place in mipmap folder, you can use parameter &quot;mipmap&quot; instead of &quot;drawable&quot;.","title":"How to get a resource id with a known resource name?","body":"<p>In Kotlin following works fine for me:</p>\n\n<pre><code>val id = resources.getIdentifier(\"your_resource_name\", \"drawable\", context?.getPackageName())\n</code></pre>\n\n<p>If resource is place in mipmap folder, you can use parameter \"mipmap\" instead of \"drawable\".</p>\n"},{"tags":[],"owner":{"account_id":5509084,"reputation":1739,"user_id":4376058,"display_name":"Eren Utku"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670948563,"creation_date":1670948563,"answer_id":74787915,"question_id":3476430,"body_markdown":"If you need to do this in compose, here how you can do it: \r\n\r\n    val context = LocalContext.current\r\n    val drawableId = remember(iconName) {\r\n         //this block will re-calculate each time iconName has changed\r\n         val resId by derivedStateOf {\r\n            context.resources.getIdentifier(\r\n                 iconName,\r\n                 &quot;drawable&quot;,\r\n                 context.packageName\r\n                )\r\n            }\r\n        if (resId != 0) resId else R.drawable.some_fallback_icon //it doesn&#39;t throw an error instead resId becomes 0, so we need to check if 0 aka couldn&#39;t find the drawable.\r\n       }\r\n//then use drawableId\r\n\r\nlike `painterResource(id = drawableId)`\r\n","title":"How to get a resource id with a known resource name?","body":"<p>If you need to do this in compose, here how you can do it:</p>\n<pre><code>val context = LocalContext.current\nval drawableId = remember(iconName) {\n     //this block will re-calculate each time iconName has changed\n     val resId by derivedStateOf {\n        context.resources.getIdentifier(\n             iconName,\n             &quot;drawable&quot;,\n             context.packageName\n            )\n        }\n    if (resId != 0) resId else R.drawable.some_fallback_icon //it doesn't throw an error instead resId becomes 0, so we need to check if 0 aka couldn't find the drawable.\n   }\n</code></pre>\n<p>//then use drawableId</p>\n<p>like <code>painterResource(id = drawableId)</code></p>\n"}],"owner":{"account_id":78145,"reputation":5085,"user_id":1746300,"accept_rate":89,"display_name":"Aswan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261078,"favorite_count":0,"down_vote_count":0,"up_vote_count":210,"accepted_answer_id":3476447,"answer_count":10,"score":210,"last_activity_date":1680759700,"creation_date":1281699631,"question_id":3476430,"body_markdown":"I want to access a resource like a String or a Drawable by its name and not its int id.\r\n\r\nWhich method would I use for this?","title":"How to get a resource id with a known resource name?","body":"<p>I want to access a resource like a String or a Drawable by its name and not its int id.</p>\n\n<p>Which method would I use for this?</p>\n"},{"tags":["java","json","jackson","pojo","objectmapper"],"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":1,"creation_date":1680757784,"post_id":75945862,"comment_id":133953041,"body_markdown":"could you please provide your json content and source code as text so other can copy/paste them?","body":"could you please provide your json content and source code as text so other can copy/paste them?"},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":1,"creation_date":1680763116,"post_id":75945862,"comment_id":133953860,"body_markdown":"You should prefer to provide code between code tags rather than as an image.","body":"You should prefer to provide code between code tags rather than as an image."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1680769145,"post_id":75945862,"comment_id":133955130,"body_markdown":"after you create an `ObjectMapper` using your custom configuration (as you said), you can use it to read and parse json from a string or a file. You just need to pass the source and your java model: `Player player = mapper.readValue(new File(&quot;./player.json&quot;), Player.class);`","body":"after you create an <code>ObjectMapper</code> using your custom configuration (as you said), you can use it to read and parse json from a string or a file. You just need to pass the source and your java model: <code>Player player = mapper.readValue(new File(&quot;.&#47;player.json&quot;), Player.class);</code>"}],"owner":{"account_id":27671638,"reputation":23,"user_id":21122309,"display_name":"ACE_26"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680759642,"creation_date":1680756027,"question_id":75945862,"body_markdown":"I am pulling a JSON file from the Clash Royale web API and trying to fully convert it to a Java object using the Jackson ObjectMapper class. The json file I am pulling describes a Clash Royale player. The file includes a bunch of normal json key-value pairs, json objects, and arrays of objects. Normal key-value pairs are easy to integrate into my Java Player class because they are simply field variables. The first nested object I came across in the json file is the &quot;arena&quot; object. I created a Java class for an arena with the appropriate variables and then created an arena variable in my Player class, which worked well. However, the problem came with the next piece of json which describes &quot;leagueStatistics&quot;... I don&#39;t know how to represent that in a java class. Would it be a &quot;LeagueStatistics&quot; class with an array list of season objects or something along those lines? I am kind of new to reading json and would appreciate any tips. I will include a pic of my Player class and the json in question. [![Json that has me confused](https://i.stack.imgur.com/mRGTp.jpg)](https://i.stack.imgur.com/mRGTp.jpg)\r\n[![My Player POJO](https://i.stack.imgur.com/75Kp1.png)](https://i.stack.imgur.com/75Kp1.png)\r\n\r\nAlso, is it appropriate to call the Clash API a web service? API seems to be a loosely used word with many definitions which makes it confusing.   \r\n\r\nI figured out how to configure the ObjectMapper class so that it does not throw an error when it comes across json objects that I did not program into my POJO correctly, such as the &quot;leagueStatistics&quot; object. I also know I can ignore specific objects using the configuration. I know it may not make sense to convert such a large json file to an object, I am just trying to learn how this stuff works. Any help is greatly appreciated. ","title":"How can I convert this piece of JSON to POJO?","body":"<p>I am pulling a JSON file from the Clash Royale web API and trying to fully convert it to a Java object using the Jackson ObjectMapper class. The json file I am pulling describes a Clash Royale player. The file includes a bunch of normal json key-value pairs, json objects, and arrays of objects. Normal key-value pairs are easy to integrate into my Java Player class because they are simply field variables. The first nested object I came across in the json file is the &quot;arena&quot; object. I created a Java class for an arena with the appropriate variables and then created an arena variable in my Player class, which worked well. However, the problem came with the next piece of json which describes &quot;leagueStatistics&quot;... I don't know how to represent that in a java class. Would it be a &quot;LeagueStatistics&quot; class with an array list of season objects or something along those lines? I am kind of new to reading json and would appreciate any tips. I will include a pic of my Player class and the json in question. <a href=\"https://i.stack.imgur.com/mRGTp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mRGTp.jpg\" alt=\"Json that has me confused\" /></a>\n<a href=\"https://i.stack.imgur.com/75Kp1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/75Kp1.png\" alt=\"My Player POJO\" /></a></p>\n<p>Also, is it appropriate to call the Clash API a web service? API seems to be a loosely used word with many definitions which makes it confusing.</p>\n<p>I figured out how to configure the ObjectMapper class so that it does not throw an error when it comes across json objects that I did not program into my POJO correctly, such as the &quot;leagueStatistics&quot; object. I also know I can ignore specific objects using the configuration. I know it may not make sense to convert such a large json file to an object, I am just trying to learn how this stuff works. Any help is greatly appreciated.</p>\n"},{"tags":["java","maven","xsd","maven-plugin","jaxb2-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":6869262,"reputation":1137,"user_id":5326737,"accept_rate":100,"display_name":"Andy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680759504,"creation_date":1680759504,"answer_id":75946184,"question_id":75946183,"body_markdown":"I figured out I was facing two issues:\r\n\r\n1. generation would lead to same classes, i.e. I would have duplicate definition of `Content` class in a same package - which obviously does not work,\r\n2. conflicting XSD files, which would not allow `jaxb2-maven-plugin` to process them simultaneously.\r\n\r\nIn order to solve the first of the two problems, I use two `.xjb` (XML-to-Java binding file, one for each of the invalid `.xsd`s), where I defined in which Java package source code from a given `.xsd` should be placed.\r\n\r\nThe binding files look like this:\r\n\r\n```xml\r\n&lt;!-- first.xjb --&gt;\r\n&lt;jxb:bindings version=&quot;3.0&quot;\r\n              xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n              xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;jxb:bindings schemaLocation=&quot;../integration/first.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\r\n        &lt;jxb:schemaBindings&gt;\r\n            &lt;jxb:package name=&quot;example.data.online.first&quot;/&gt;\r\n        &lt;/jxb:schemaBindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n\r\n\r\n&lt;!-- second.xjb --&gt;\r\n&lt;jxb:bindings version=&quot;3.0&quot;\r\n              xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n              xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;jxb:bindings schemaLocation=&quot;../integration/second.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\r\n        &lt;jxb:schemaBindings&gt;\r\n            &lt;jxb:package name=&quot;example.data.online.second&quot;/&gt;\r\n        &lt;/jxb:schemaBindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n```\r\n\r\nUsing the binding, (among other things), I was able to override the target Java package.\r\n\r\nI solved the second problem by creating two separate executions of the `jaxb2-maven-plugin`, one for each of the conflicting `.xsd`s, and each of them using their relevant `.jxb` binding file.\r\n\r\n**Important:** By default, `jaxb2-maven-plugin` clears the output directory before each generation execution. In my case I want to merge generated code together, this can be done by setting the `clearOutputDir` argument to `false`.\r\n\r\nThe final configuration of the plugin looks like this:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;outputDirectory&gt;${project.build.directory}/generated-sources/&lt;/outputDirectory&gt;\r\n        &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;first-generator&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;xjc&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;sources&gt;\r\n                    &lt;source&gt;src/main/resources/integration/first.xsd&lt;/source&gt;\r\n                &lt;/sources&gt;\r\n                &lt;xjbSources&gt;\r\n                    &lt;xjbSource&gt;src/main/resources/jaxb2/first.xjb&lt;/xjbSource&gt;\r\n                &lt;/xjbSources&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;second-generator&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;xjc&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;sources&gt;\r\n                    &lt;source&gt;src/main/resources/integration/second.xsd&lt;/source&gt;\r\n                &lt;/sources&gt;\r\n                &lt;xjbSources&gt;\r\n                    &lt;xjbSource&gt;src/main/resources/jaxb2/second.xjb&lt;/xjbSource&gt;\r\n                &lt;/xjbSources&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nleading to correct Java code generation:\r\n\r\n[![generated Java beans from XSD][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B5mD5.png","title":"SAXParseException: &#39;&lt;element&gt;&#39; is already defined: how to generate Java code using JAXB2 Maven Plugin from conflicting XSD definitions?","body":"<p>I figured out I was facing two issues:</p>\n<ol>\n<li>generation would lead to same classes, i.e. I would have duplicate definition of <code>Content</code> class in a same package - which obviously does not work,</li>\n<li>conflicting XSD files, which would not allow <code>jaxb2-maven-plugin</code> to process them simultaneously.</li>\n</ol>\n<p>In order to solve the first of the two problems, I use two <code>.xjb</code> (XML-to-Java binding file, one for each of the invalid <code>.xsd</code>s), where I defined in which Java package source code from a given <code>.xsd</code> should be placed.</p>\n<p>The binding files look like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- first.xjb --&gt;\n&lt;jxb:bindings version=&quot;3.0&quot;\n              xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n              xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;../integration/first.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;jxb:package name=&quot;example.data.online.first&quot;/&gt;\n        &lt;/jxb:schemaBindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n\n\n&lt;!-- second.xjb --&gt;\n&lt;jxb:bindings version=&quot;3.0&quot;\n              xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n              xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;../integration/second.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;jxb:package name=&quot;example.data.online.second&quot;/&gt;\n        &lt;/jxb:schemaBindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>Using the binding, (among other things), I was able to override the target Java package.</p>\n<p>I solved the second problem by creating two separate executions of the <code>jaxb2-maven-plugin</code>, one for each of the conflicting <code>.xsd</code>s, and each of them using their relevant <code>.jxb</code> binding file.</p>\n<p><strong>Important:</strong> By default, <code>jaxb2-maven-plugin</code> clears the output directory before each generation execution. In my case I want to merge generated code together, this can be done by setting the <code>clearOutputDir</code> argument to <code>false</code>.</p>\n<p>The final configuration of the plugin looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;outputDirectory&gt;${project.build.directory}/generated-sources/&lt;/outputDirectory&gt;\n        &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;first-generator&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;xjc&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;src/main/resources/integration/first.xsd&lt;/source&gt;\n                &lt;/sources&gt;\n                &lt;xjbSources&gt;\n                    &lt;xjbSource&gt;src/main/resources/jaxb2/first.xjb&lt;/xjbSource&gt;\n                &lt;/xjbSources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;second-generator&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;xjc&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;src/main/resources/integration/second.xsd&lt;/source&gt;\n                &lt;/sources&gt;\n                &lt;xjbSources&gt;\n                    &lt;xjbSource&gt;src/main/resources/jaxb2/second.xjb&lt;/xjbSource&gt;\n                &lt;/xjbSources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>leading to correct Java code generation:</p>\n<p><a href=\"https://i.stack.imgur.com/B5mD5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5mD5.png\" alt=\"generated Java beans from XSD\" /></a></p>\n"}],"owner":{"account_id":6869262,"reputation":1137,"user_id":5326737,"accept_rate":100,"display_name":"Andy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75946184,"answer_count":1,"score":0,"last_activity_date":1680759504,"creation_date":1680759504,"question_id":75946183,"body_markdown":"I have two XSD documents over which I have no control - i.e. I cannot force their authors to change them. Unfortunately, the XSDs are not valid when used side by side, because they contain conflicting definitions:\r\n\r\n```xml\r\n&lt;!-- first.xsd --&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:onl=&quot;http://example/data/online&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;  targetNamespace=&quot;http://example/data/online&quot; elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;2.4&quot;&gt;\r\n    &lt;xs:element name=&quot;content&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;docSeqId&quot; type=&quot;xs:long&quot;&gt;\r\n                    &lt;xs:annotation&gt;\r\n                        &lt;xs:documentation&gt;Identifier of a documentation sequence.&lt;/xs:documentation&gt;\r\n                    &lt;/xs:annotation&gt;\r\n                &lt;/xs:element&gt;\r\n                &lt;xs:element name=&quot;customerName&quot; type=&quot;xs:string&quot;&gt;\r\n                    &lt;xs:annotation&gt;\r\n                        &lt;xs:documentation&gt;Name of a customer.&lt;/xs:documentation&gt;\r\n                    &lt;/xs:annotation&gt;\r\n                &lt;/xs:element&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n&lt;/xs:schema&gt;\r\n\r\n&lt;!-- second.xsd --&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:onl=&quot;http://example/data/online&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;  targetNamespace=&quot;http://example/data/online&quot; elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;2.4&quot;&gt;\r\n    &lt;xs:element name=&quot;content&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;transactionId&quot; type=&quot;xs:long&quot;&gt;\r\n                    &lt;xs:annotation&gt;\r\n                        &lt;xs:documentation&gt;Id of a transaction.&lt;/xs:documentation&gt;\r\n                    &lt;/xs:annotation&gt;\r\n                &lt;/xs:element&gt;\r\n                &lt;xs:element name=&quot;amount&quot; type=&quot;xs:decimal&quot;&gt;\r\n                    &lt;xs:annotation&gt;\r\n                        &lt;xs:documentation&gt;Transaction amount.&lt;/xs:documentation&gt;\r\n                    &lt;/xs:annotation&gt;\r\n                &lt;/xs:element&gt;\r\n                &lt;xs:element name=&quot;targetAccountId&quot; type=&quot;xs:string&quot;&gt;\r\n                    &lt;xs:annotation&gt;\r\n                        &lt;xs:documentation&gt;Id (GUID) of a target account.&lt;/xs:documentation&gt;\r\n                    &lt;/xs:annotation&gt;\r\n                &lt;/xs:element&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nI created the following `jaxb2-maven-plugin` configuration:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;outputDirectory&gt;${project.build.directory}/generated-sources/&lt;/outputDirectory&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;generate-source-code&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;xjc&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;sources&gt;\r\n                    &lt;source&gt;src/main/resources/integration/first.xsd&lt;/source&gt;\r\n                    &lt;source&gt;src/main/resources/integration/second.xsd&lt;/source&gt;\r\n                &lt;/sources&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nbut when I execute relevant maven phase, the build exits with the following error:\r\n\r\n&gt; [ERROR]\r\n&gt; file:/C:/Users/Andy/development/sample-project/src/main/resources/integration/second.xsd\r\n&gt; [23,18]  org.xml.sax.SAXParseException: &#39;content&#39; is already defined\r\n\r\nHow can I generate valid Java code from the XSD files, so that I can use them?","title":"SAXParseException: &#39;&lt;element&gt;&#39; is already defined: how to generate Java code using JAXB2 Maven Plugin from conflicting XSD definitions?","body":"<p>I have two XSD documents over which I have no control - i.e. I cannot force their authors to change them. Unfortunately, the XSDs are not valid when used side by side, because they contain conflicting definitions:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- first.xsd --&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:onl=&quot;http://example/data/online&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;  targetNamespace=&quot;http://example/data/online&quot; elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;2.4&quot;&gt;\n    &lt;xs:element name=&quot;content&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;docSeqId&quot; type=&quot;xs:long&quot;&gt;\n                    &lt;xs:annotation&gt;\n                        &lt;xs:documentation&gt;Identifier of a documentation sequence.&lt;/xs:documentation&gt;\n                    &lt;/xs:annotation&gt;\n                &lt;/xs:element&gt;\n                &lt;xs:element name=&quot;customerName&quot; type=&quot;xs:string&quot;&gt;\n                    &lt;xs:annotation&gt;\n                        &lt;xs:documentation&gt;Name of a customer.&lt;/xs:documentation&gt;\n                    &lt;/xs:annotation&gt;\n                &lt;/xs:element&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n\n&lt;!-- second.xsd --&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:onl=&quot;http://example/data/online&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;  targetNamespace=&quot;http://example/data/online&quot; elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;2.4&quot;&gt;\n    &lt;xs:element name=&quot;content&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;transactionId&quot; type=&quot;xs:long&quot;&gt;\n                    &lt;xs:annotation&gt;\n                        &lt;xs:documentation&gt;Id of a transaction.&lt;/xs:documentation&gt;\n                    &lt;/xs:annotation&gt;\n                &lt;/xs:element&gt;\n                &lt;xs:element name=&quot;amount&quot; type=&quot;xs:decimal&quot;&gt;\n                    &lt;xs:annotation&gt;\n                        &lt;xs:documentation&gt;Transaction amount.&lt;/xs:documentation&gt;\n                    &lt;/xs:annotation&gt;\n                &lt;/xs:element&gt;\n                &lt;xs:element name=&quot;targetAccountId&quot; type=&quot;xs:string&quot;&gt;\n                    &lt;xs:annotation&gt;\n                        &lt;xs:documentation&gt;Id (GUID) of a target account.&lt;/xs:documentation&gt;\n                    &lt;/xs:annotation&gt;\n                &lt;/xs:element&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>I created the following <code>jaxb2-maven-plugin</code> configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;outputDirectory&gt;${project.build.directory}/generated-sources/&lt;/outputDirectory&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-source-code&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;xjc&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;src/main/resources/integration/first.xsd&lt;/source&gt;\n                    &lt;source&gt;src/main/resources/integration/second.xsd&lt;/source&gt;\n                &lt;/sources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>but when I execute relevant maven phase, the build exits with the following error:</p>\n<blockquote>\n<p>[ERROR]\nfile:/C:/Users/Andy/development/sample-project/src/main/resources/integration/second.xsd\n[23,18]  org.xml.sax.SAXParseException: 'content' is already defined</p>\n</blockquote>\n<p>How can I generate valid Java code from the XSD files, so that I can use them?</p>\n"},{"tags":["java","spring","rest"],"answers":[{"tags":[],"owner":{"account_id":183659,"reputation":1449,"user_id":419156,"accept_rate":33,"display_name":"dukethrash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567565616,"creation_date":1567565616,"answer_id":57780897,"question_id":57780768,"body_markdown":"You need getters/setters for `decisionList` on the `Decide` class so Jackson can properly bind to it. In addition your JSON request body does not map to the Decide object you&#39;ve defined. By passing in \r\n\r\n    {\r\n      &quot;previousDecisions&quot;: [0, 1, 2]\r\n    }\r\n\r\nYour Decide class should look like this:\r\n\r\n    public class Decide {\r\n       private int[] previousDecisions;\r\n    \r\n       public int[] getPreviousDecisions(){\r\n          return previousDecisions;  \r\n       }\r\n    \r\n       public void setPreviousDecisions(int[] previousDecisions){\r\n          this.previousDecisions = previousDecisions;\r\n       }\r\n    }\r\n\r\nSo either change your field name in `Decide` from `decisionList` to `previousDecisions` and add getters/setters, or pass `decisionList` as the property in JSON and add getters/setters to the class:\r\n\r\n    {   \r\n       &quot;decisionList&quot;: [0, 1, 2]\r\n    }","title":"How to set up a RESTful API with Spring to send a JSON response with Controller and Model","body":"<p>You need getters/setters for <code>decisionList</code> on the <code>Decide</code> class so Jackson can properly bind to it. In addition your JSON request body does not map to the Decide object you've defined. By passing in </p>\n\n<pre><code>{\n  \"previousDecisions\": [0, 1, 2]\n}\n</code></pre>\n\n<p>Your Decide class should look like this:</p>\n\n<pre><code>public class Decide {\n   private int[] previousDecisions;\n\n   public int[] getPreviousDecisions(){\n      return previousDecisions;  \n   }\n\n   public void setPreviousDecisions(int[] previousDecisions){\n      this.previousDecisions = previousDecisions;\n   }\n}\n</code></pre>\n\n<p>So either change your field name in <code>Decide</code> from <code>decisionList</code> to <code>previousDecisions</code> and add getters/setters, or pass <code>decisionList</code> as the property in JSON and add getters/setters to the class:</p>\n\n<pre><code>{   \n   \"decisionList\": [0, 1, 2]\n}\n</code></pre>\n"}],"owner":{"account_id":9432970,"reputation":435,"user_id":7015860,"accept_rate":14,"display_name":"Kyle Hobbs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1680759438,"creation_date":1567564529,"question_id":57780768,"body_markdown":"I am trying to set up a RESTful API using Spring so that I can send an HTTP POST request and receive a response.\r\n\r\nThe post request that I&#39;m testing with looks exactly like this:\r\n```\r\nPOST http://localhost:8081/decide\r\nAccept: application/json\r\nCache-Control: no-cache\r\nContent-Type: application/json\r\n\r\n{\r\n  &quot;previousDecisions&quot;: [0, 1, 2]\r\n}\r\n```\r\n\r\nWhen I send that request (I&#39;m using IntelliJ&#39;s &#39;Test RESTful Web Services&#39; feature) I am getting an error response.\r\n\r\nWhat I want to happen is, there is a class called `Decide` with a constructor that needs only an array of integers and its only member variable is an array of integers. I want to pass the above request to the `DecideController` to create an instance of `Decide`. Then `Decide` has a method that returns a `Node` object. I want to return a JSON version of that `Node` instance.\r\n\r\nFrom what I&#39;ve seen with Spring it automatically converts a Java object to a JSON format when it returns.\r\n\r\nHere is my entire Decide class:\r\n```\r\npackage com.thesisapp.server.jugtours.model;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class Decide implements Serializable {\r\n\r\n  private int[] decisionList;\r\n\r\n  public Decide() {\r\n    this.decisionList = new int[0];\r\n  }\r\n\r\n  public Decide(int[] decisionList) {\r\n    this.decisionList = decisionList;\r\n  }\r\n\r\n  public Node getNode() {\r\n    //Use the game class to get a root node for the entire story tree\r\n    Node rootNode = (new Game()).getFullStoryTree();\r\n\r\n    //Traverse the story tree using the decisionList to get to the current node\r\n    Node currentNode = rootNode;\r\n    for (int whichChild : this.decisionList) {\r\n      currentNode = currentNode.getChild(whichChild);\r\n    }\r\n\r\n    return currentNode;\r\n  }\r\n}\r\n```\r\nSide Note: I just added the `implements Serializable` after doing some research and it did not have an affect on the error message I received. However adding that default constructor did have an affect on the error message.\r\n\r\nAnd here is my entire DecideController class\r\n```\r\npackage com.thesisapp.server.jugtours.web;\r\n\r\nimport com.thesisapp.server.jugtours.model.Node;\r\nimport com.thesisapp.server.jugtours.model.Decide;\r\n\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\n\r\n@RestController\r\npublic class DecideController {\r\n\r\n  @PostMapping(&quot;/decide&quot;)\r\n  public Node decide(@RequestBody Decide decide) {\r\n    return decide.getNode();\r\n  }\r\n}\r\n```\r\n\r\nAgain here is the request I am sending in:\r\n```\r\nPOST http://localhost:8081/decide\r\nAccept: application/json\r\nCache-Control: no-cache\r\nContent-Type: application/json\r\n\r\n{\r\n  &quot;previousDecisions&quot;: [0, 1, 2]\r\n}\r\n```\r\n\r\nHere is what I want the response to look like, just JSON form of all the member variables from the `Node` class:\r\n```\r\n{\r\n  &quot;id&quot;: 0,\r\n  &quot;text&quot;: &quot;some text here&quot;,\r\n  &quot;decisions&quot;: [],\r\n  &quot;children&quot;: [],\r\n  &quot;speaker&quot;: 0,\r\n  &quot;checkpoint&quot;: true\r\n}\r\n```\r\n\r\nHere are the two responses I have managed to get (before and after adding that default constructor to the `Decide` class)\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2019-09-04T02:31:05.762+0000&quot;,\r\n  &quot;status&quot;: 500,\r\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n  &quot;message&quot;: &quot;Type definition error: [simple type, class com.thesisapp.server.jugtours.model.Decide]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.thesisapp.server.jugtours.model.Decide` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\\n at [Source: (PushbackInputStream); line: 2, column: 3]&quot;,\r\n  &quot;path&quot;: &quot;/decide&quot;\r\n}\r\n```\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2019-09-04T01:50:03.990+0000&quot;,\r\n  &quot;status&quot;: 500,\r\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n  &quot;message&quot;: &quot;No message available&quot;,\r\n  &quot;path&quot;: &quot;/decide&quot;\r\n}\r\n```\r\n\r\nI don&#39;t really have any idea at what is going wrong here. Let me know if I didn&#39;t provide enough info/code. I have very little experience with this stuff but I appreciate any help, thank you!!","title":"How to set up a RESTful API with Spring to send a JSON response with Controller and Model","body":"<p>I am trying to set up a RESTful API using Spring so that I can send an HTTP POST request and receive a response.</p>\n<p>The post request that I'm testing with looks exactly like this:</p>\n<pre><code>POST http://localhost:8081/decide\nAccept: application/json\nCache-Control: no-cache\nContent-Type: application/json\n\n{\n  &quot;previousDecisions&quot;: [0, 1, 2]\n}\n</code></pre>\n<p>When I send that request (I'm using IntelliJ's 'Test RESTful Web Services' feature) I am getting an error response.</p>\n<p>What I want to happen is, there is a class called <code>Decide</code> with a constructor that needs only an array of integers and its only member variable is an array of integers. I want to pass the above request to the <code>DecideController</code> to create an instance of <code>Decide</code>. Then <code>Decide</code> has a method that returns a <code>Node</code> object. I want to return a JSON version of that <code>Node</code> instance.</p>\n<p>From what I've seen with Spring it automatically converts a Java object to a JSON format when it returns.</p>\n<p>Here is my entire Decide class:</p>\n<pre><code>package com.thesisapp.server.jugtours.model;\n\nimport java.io.Serializable;\n\npublic class Decide implements Serializable {\n\n  private int[] decisionList;\n\n  public Decide() {\n    this.decisionList = new int[0];\n  }\n\n  public Decide(int[] decisionList) {\n    this.decisionList = decisionList;\n  }\n\n  public Node getNode() {\n    //Use the game class to get a root node for the entire story tree\n    Node rootNode = (new Game()).getFullStoryTree();\n\n    //Traverse the story tree using the decisionList to get to the current node\n    Node currentNode = rootNode;\n    for (int whichChild : this.decisionList) {\n      currentNode = currentNode.getChild(whichChild);\n    }\n\n    return currentNode;\n  }\n}\n</code></pre>\n<p>Side Note: I just added the <code>implements Serializable</code> after doing some research and it did not have an affect on the error message I received. However adding that default constructor did have an affect on the error message.</p>\n<p>And here is my entire DecideController class</p>\n<pre><code>package com.thesisapp.server.jugtours.web;\n\nimport com.thesisapp.server.jugtours.model.Node;\nimport com.thesisapp.server.jugtours.model.Decide;\n\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\n\n@RestController\npublic class DecideController {\n\n  @PostMapping(&quot;/decide&quot;)\n  public Node decide(@RequestBody Decide decide) {\n    return decide.getNode();\n  }\n}\n</code></pre>\n<p>Again here is the request I am sending in:</p>\n<pre><code>POST http://localhost:8081/decide\nAccept: application/json\nCache-Control: no-cache\nContent-Type: application/json\n\n{\n  &quot;previousDecisions&quot;: [0, 1, 2]\n}\n</code></pre>\n<p>Here is what I want the response to look like, just JSON form of all the member variables from the <code>Node</code> class:</p>\n<pre><code>{\n  &quot;id&quot;: 0,\n  &quot;text&quot;: &quot;some text here&quot;,\n  &quot;decisions&quot;: [],\n  &quot;children&quot;: [],\n  &quot;speaker&quot;: 0,\n  &quot;checkpoint&quot;: true\n}\n</code></pre>\n<p>Here are the two responses I have managed to get (before and after adding that default constructor to the <code>Decide</code> class)</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2019-09-04T02:31:05.762+0000&quot;,\n  &quot;status&quot;: 500,\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\n  &quot;message&quot;: &quot;Type definition error: [simple type, class com.thesisapp.server.jugtours.model.Decide]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.thesisapp.server.jugtours.model.Decide` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\\n at [Source: (PushbackInputStream); line: 2, column: 3]&quot;,\n  &quot;path&quot;: &quot;/decide&quot;\n}\n</code></pre>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2019-09-04T01:50:03.990+0000&quot;,\n  &quot;status&quot;: 500,\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\n  &quot;message&quot;: &quot;No message available&quot;,\n  &quot;path&quot;: &quot;/decide&quot;\n}\n</code></pre>\n<p>I don't really have any idea at what is going wrong here. Let me know if I didn't provide enough info/code. I have very little experience with this stuff but I appreciate any help, thank you!!</p>\n"},{"tags":["java","swing","fonts","emoji"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1604790920,"post_id":64733229,"comment_id":114455546,"body_markdown":"`os.equals(&quot;Mac OS X&quot;)` ← Are you sure that‘s the exact value in the os.name system property?  Consider using `os.contains(&quot;Mac&quot;)` instead.","body":"<code>os.equals(&quot;Mac OS X&quot;)</code> ← Are you sure that‘s the exact value in the os.name system property?  Consider using <code>os.contains(&quot;Mac&quot;)</code> instead."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1604791341,"post_id":64733229,"comment_id":114455615,"body_markdown":"Seems strange that all 279 Fonts support this. Check out:  https://stackoverflow.com/a/29028982/131872. The code there indicates that only 7 fonts on my Windows system can display those characters. Try that test program to see if you get the same results.","body":"Seems strange that all 279 Fonts support this. Check out:  <a href=\"https://stackoverflow.com/a/29028982/131872\">stackoverflow.com/a/29028982/131872</a>. The code there indicates that only 7 fonts on my Windows system can display those characters. Try that test program to see if you get the same results."},{"owner":{"account_id":4367754,"reputation":2952,"user_id":3562927,"accept_rate":33,"display_name":"Stevey"},"score":0,"creation_date":1604881474,"post_id":64733229,"comment_id":114474322,"body_markdown":"Yes, that&#39;s the exact os name property on my system, @VGR","body":"Yes, that&#39;s the exact os name property on my system, @VGR"},{"owner":{"account_id":4367754,"reputation":2952,"user_id":3562927,"accept_rate":33,"display_name":"Stevey"},"score":0,"creation_date":1604881815,"post_id":64733229,"comment_id":114474382,"body_markdown":"@camickr I ran that program on my system and all but 4 of the fonts could display the characters.  The 4 that couldn&#39;t were wingdings/ornaments fonts.  Scrolling through the list of fonts, they actually all did show the Croation characters.","body":"@camickr I ran that program on my system and all but 4 of the fonts could display the characters.  The 4 that couldn&#39;t were wingdings/ornaments fonts.  Scrolling through the list of fonts, they actually all did show the Croation characters."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1604883283,"post_id":64733229,"comment_id":114474621,"body_markdown":"The point was to change the &quot;Croation characters&quot; to your Uincode characters to see the results. Do you still have all 279 fonts or a smaller subset? I find it hard to believe that all 279 Fonts on your system will display your Unicode characters since only 7 Windows fonts will display those Unicode characters. So I&#39;m questioning if your logic to determine which font to use is flawed. Or maybe the canDisplayUpto(...) method isn&#39;t working?","body":"The point was to change the &quot;Croation characters&quot; to your Uincode characters to see the results. Do you still have all 279 fonts or a smaller subset? I find it hard to believe that all 279 Fonts on your system will display your Unicode characters since only 7 Windows fonts will display those Unicode characters. So I&#39;m questioning if your logic to determine which font to use is flawed. Or maybe the canDisplayUpto(...) method isn&#39;t working?"},{"owner":{"account_id":4367754,"reputation":2952,"user_id":3562927,"accept_rate":33,"display_name":"Stevey"},"score":0,"creation_date":1605000225,"post_id":64733229,"comment_id":114512109,"body_markdown":"Yes @camickr -- I thought it was clearer from my write-up, but all 279 fonts claim they can display all characters, and NONE of them can _actually_ display the characters.  Which implies that canDisplayUpTo is broken on AdoptOpenJDK15 for the Mac -- at least, I think that&#39;s the most likely explanation.","body":"Yes @camickr -- I thought it was clearer from my write-up, but all 279 fonts claim they can display all characters, and NONE of them can <i>actually</i> display the characters.  Which implies that canDisplayUpTo is broken on AdoptOpenJDK15 for the Mac -- at least, I think that&#39;s the most likely explanation."}],"owner":{"account_id":4367754,"reputation":2952,"user_id":3562927,"accept_rate":33,"display_name":"Stevey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1680759293,"creation_date":1604789902,"question_id":64733229,"body_markdown":"I have here a simple, complete, self-contained, pure-Java program that displays a frame containing a button with a Unicode emoji character as its text.  This program runs correctly and displays the emoji on Windows, but not on Mac OS (Catalina, AdoptOpenJDK15).\r\n\r\n[![side by side frames in Windows/Mac][1]][1]\r\n\r\nHere is the source code; filename is EmojiTest.java:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n\r\n    public class EmojiTest {\r\n\r\n      public static void main(String[] args) {\r\n        // listFonts();  // Uncomment if you want to see all registered fonts.\r\n        JFrame frame = new JFrame();\r\n        frame.setTitle(&quot;Emoji Demo: &quot; + System.getProperty(&quot;os.name&quot;));\r\n        frame.setSize(400, 300);\r\n\r\n        JButton button = new JButton();\r\n        String emoji = &quot;\\ud83d\\udc36&quot;;  // dog face\r\n        button.setText(emoji);\r\n        button.setFont(getFont(emoji));\r\n        JPanel holder = new JPanel();  // Let button be natural size\r\n        holder.add(button);\r\n\r\n        frame.getContentPane().add(holder);\r\n        frame.setVisible(true);\r\n      }\r\n\r\n      static Font getFont(String emoji) {\r\n        String os = System.getProperty(&quot;os.name&quot;);\r\n        String fontFamily = os.equals(&quot;Mac OS X&quot;) ? &quot;Apple Color Emoji&quot; : &quot;Segoe UI Emoji&quot;;\r\n        Font font = new Font(fontFamily, Font.PLAIN, 20);\r\n        System.out.println(&quot;Font: &quot; + font);\r\n        System.out.println(&quot;can display result: &quot; + font.canDisplayUpTo(emoji));\r\n        return font;\r\n      }\r\n\r\n      static void listFonts() {\r\n        String fonts[] = GraphicsEnvironment.getLocalGraphicsEnvironment()\r\n                .getAvailableFontFamilyNames();\r\n        for (int i = 0; i &lt; fonts.length; i++) {\r\n          System.out.println(fonts[i]);\r\n        }\r\n      }\r\n    }\r\n\r\nA few things to observe here:\r\n\r\n - The ```getFont()``` helper method prints out whether the font thinks it can display the text.  On MacOS, it always prints -1, meaning it thinks it can display the text.\r\n\r\n - All 279 fonts on my Apple system claim (via ```canDisplayUpTo```) that they can display it, but they fail to display it.  Yes, I tested all of them visually, and no, none worked.\r\n\r\n - As you can see from the picture, this program works correctly on Windows. So the code is &quot;correct&quot;, in the sense that it _should_ work on Macs.\r\n\r\nI&#39;m fairly convinced that this is a JDK bug.  However, if you debug the EmojiTest program in IntelliJ, it actually shows you in the debug pane that the text is in fact the correct emoji:\r\n\r\n[![java debugger shows the emoji][2]][2]\r\n\r\nSo IntelliJ, a Java program running on Mac OS Catalina, is able to render the emoji correctly in its font—admittedly, not in a JButton.  But I have also tried rendering emoji in JTextPanes and other Swing widgets on MacOS, to no avail.\r\n\r\nThis question has been asked several times over the past few years, often indirectly, but the answer is always &quot;You need to make sure your font can display the emoji&quot;.\r\n\r\nI think this program pretty clearly demonstrates that the font being able to display the emoji is not the issue.  The Apple Color Emoji font can absolutely display emoji, including this one.  It just doesn&#39;t seem to be able to do it in Java.\r\n\r\nHere&#39;s my question:  **How can I modify this EmojiTest.java program to show the emoji on MacOS?**\r\n\r\n  [1]: https://i.stack.imgur.com/ZVotB.png\r\n  [2]: https://i.stack.imgur.com/ZpGqS.png","title":"How can I get Emoji to render in Java Swing widgets on Mac OS?","body":"<p>I have here a simple, complete, self-contained, pure-Java program that displays a frame containing a button with a Unicode emoji character as its text.  This program runs correctly and displays the emoji on Windows, but not on Mac OS (Catalina, AdoptOpenJDK15).</p>\n<p><a href=\"https://i.stack.imgur.com/ZVotB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZVotB.png\" alt=\"side by side frames in Windows/Mac\" /></a></p>\n<p>Here is the source code; filename is EmojiTest.java:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class EmojiTest {\n\n  public static void main(String[] args) {\n    // listFonts();  // Uncomment if you want to see all registered fonts.\n    JFrame frame = new JFrame();\n    frame.setTitle(&quot;Emoji Demo: &quot; + System.getProperty(&quot;os.name&quot;));\n    frame.setSize(400, 300);\n\n    JButton button = new JButton();\n    String emoji = &quot;\\ud83d\\udc36&quot;;  // dog face\n    button.setText(emoji);\n    button.setFont(getFont(emoji));\n    JPanel holder = new JPanel();  // Let button be natural size\n    holder.add(button);\n\n    frame.getContentPane().add(holder);\n    frame.setVisible(true);\n  }\n\n  static Font getFont(String emoji) {\n    String os = System.getProperty(&quot;os.name&quot;);\n    String fontFamily = os.equals(&quot;Mac OS X&quot;) ? &quot;Apple Color Emoji&quot; : &quot;Segoe UI Emoji&quot;;\n    Font font = new Font(fontFamily, Font.PLAIN, 20);\n    System.out.println(&quot;Font: &quot; + font);\n    System.out.println(&quot;can display result: &quot; + font.canDisplayUpTo(emoji));\n    return font;\n  }\n\n  static void listFonts() {\n    String fonts[] = GraphicsEnvironment.getLocalGraphicsEnvironment()\n            .getAvailableFontFamilyNames();\n    for (int i = 0; i &lt; fonts.length; i++) {\n      System.out.println(fonts[i]);\n    }\n  }\n}\n</code></pre>\n<p>A few things to observe here:</p>\n<ul>\n<li><p>The <code>getFont()</code> helper method prints out whether the font thinks it can display the text.  On MacOS, it always prints -1, meaning it thinks it can display the text.</p>\n</li>\n<li><p>All 279 fonts on my Apple system claim (via <code>canDisplayUpTo</code>) that they can display it, but they fail to display it.  Yes, I tested all of them visually, and no, none worked.</p>\n</li>\n<li><p>As you can see from the picture, this program works correctly on Windows. So the code is &quot;correct&quot;, in the sense that it <em>should</em> work on Macs.</p>\n</li>\n</ul>\n<p>I'm fairly convinced that this is a JDK bug.  However, if you debug the EmojiTest program in IntelliJ, it actually shows you in the debug pane that the text is in fact the correct emoji:</p>\n<p><a href=\"https://i.stack.imgur.com/ZpGqS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZpGqS.png\" alt=\"java debugger shows the emoji\" /></a></p>\n<p>So IntelliJ, a Java program running on Mac OS Catalina, is able to render the emoji correctly in its font—admittedly, not in a JButton.  But I have also tried rendering emoji in JTextPanes and other Swing widgets on MacOS, to no avail.</p>\n<p>This question has been asked several times over the past few years, often indirectly, but the answer is always &quot;You need to make sure your font can display the emoji&quot;.</p>\n<p>I think this program pretty clearly demonstrates that the font being able to display the emoji is not the issue.  The Apple Color Emoji font can absolutely display emoji, including this one.  It just doesn't seem to be able to do it in Java.</p>\n<p>Here's my question:  <strong>How can I modify this EmojiTest.java program to show the emoji on MacOS?</strong></p>\n"},{"tags":["java","android","alarmmanager","android-8.0-oreo"],"answers":[{"tags":[],"owner":{"account_id":7172933,"reputation":452,"user_id":5479863,"display_name":"Abdul Aziz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554446576,"creation_date":1554446576,"answer_id":55529619,"question_id":55529514,"body_markdown":"You would not be able to run background services long running in Oreo as there are behaviour changes, now Oreo to optimise system memory, battery etc, it kills background service, to solve your issue you should use foreground service.\r\n\r\nAlso please have a look at: https://stackoverflow.com/a/50639788/5479863","title":"Alarmmanager does not fire Service after more than 1 Hour - or when the app is in doze... - Android Oreo","body":"<p>You would not be able to run background services long running in Oreo as there are behaviour changes, now Oreo to optimise system memory, battery etc, it kills background service, to solve your issue you should use foreground service.</p>\n\n<p>Also please have a look at: <a href=\"https://stackoverflow.com/a/50639788/5479863\">https://stackoverflow.com/a/50639788/5479863</a></p>\n"},{"tags":[],"owner":{"account_id":15623612,"reputation":723,"user_id":11271840,"display_name":"Kilarn123"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554447151,"creation_date":1554447151,"answer_id":55529738,"question_id":55529514,"body_markdown":"There are changes in oreo to improse battery etc. that limits your usage of background services. ([Look at this][1]) \r\n\r\nYou can use a foreground service instead (with an ongoing notification)\r\nYou have to call `startForegroundService()` instead of `startService()` and call `startForeground(ID, YOUR_NOTIFICATION)` in the five seconds after the service is launched\r\n\r\nOr you can use the [JobScheduler][2] ([how to use it][3]) that fire if some conditions are met (i.e. if you are connected to internet, if your device is charging, if your connection is unmetered, etc)\r\n\r\nGood luck\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/oreo/background.html\r\n  [2]: https://developer.android.com/reference/android/app/job/JobScheduler.html\r\n  [3]: https://medium.com/google-developers/scheduling-jobs-like-a-pro-with-jobscheduler-286ef8510129","title":"Alarmmanager does not fire Service after more than 1 Hour - or when the app is in doze... - Android Oreo","body":"<p>There are changes in oreo to improse battery etc. that limits your usage of background services. (<a href=\"https://developer.android.com/about/versions/oreo/background.html\" rel=\"nofollow noreferrer\">Look at this</a>) </p>\n\n<p>You can use a foreground service instead (with an ongoing notification)\nYou have to call <code>startForegroundService()</code> instead of <code>startService()</code> and call <code>startForeground(ID, YOUR_NOTIFICATION)</code> in the five seconds after the service is launched</p>\n\n<p>Or you can use the <a href=\"https://developer.android.com/reference/android/app/job/JobScheduler.html\" rel=\"nofollow noreferrer\">JobScheduler</a> (<a href=\"https://medium.com/google-developers/scheduling-jobs-like-a-pro-with-jobscheduler-286ef8510129\" rel=\"nofollow noreferrer\">how to use it</a>) that fire if some conditions are met (i.e. if you are connected to internet, if your device is charging, if your connection is unmetered, etc)</p>\n\n<p>Good luck</p>\n"}],"owner":{"account_id":15681697,"reputation":1,"user_id":11315451,"display_name":"Rezo Reziko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680758959,"answer_count":2,"score":-1,"last_activity_date":1680758940,"creation_date":1554446065,"question_id":55529514,"body_markdown":"I try to set up an alarm with Alarmmanager and fire a service five times. I try to fire it after 30 minutes after the time is set. After 1 hour, after 2 hours, 3 hours and 5 hours - but it does not really work...\r\n\r\nI tried alarmmanager.setAlarmClock --&gt; it does not work... \r\nalarmmanager.setExactAndAllowWhileIdle --&gt; does not work ... I have no idea where the problem is.\r\n\r\nI am using Android 8","title":"Alarmmanager does not fire Service after more than 1 Hour - or when the app is in doze... - Android Oreo","body":"<p>I try to set up an alarm with Alarmmanager and fire a service five times. I try to fire it after 30 minutes after the time is set. After 1 hour, after 2 hours, 3 hours and 5 hours - but it does not really work...</p>\n\n<p>I tried alarmmanager.setAlarmClock --> it does not work... \nalarmmanager.setExactAndAllowWhileIdle --> does not work ... I have no idea where the problem is.</p>\n\n<p>I am using Android 8</p>\n"},{"tags":["java","android","xml","opencv"],"answers":[{"comments":[{"owner":{"account_id":311346,"reputation":16468,"user_id":624869,"accept_rate":82,"display_name":"JDS"},"score":0,"creation_date":1369330117,"post_id":16710787,"comment_id":24073076,"body_markdown":"Thanks. That sucks. I&#39;m looking to create a mock prototype for something where this would have been great. Oh well.","body":"Thanks. That sucks. I&#39;m looking to create a mock prototype for something where this would have been great. Oh well."},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":0,"creation_date":1502893789,"post_id":16710787,"comment_id":78390649,"body_markdown":"opencv or android api camera doesn&#39;t support? what about android api camera2?","body":"opencv or android api camera doesn&#39;t support? what about android api camera2?"}],"tags":[],"owner":{"account_id":2805756,"reputation":56,"user_id":2413031,"display_name":"hn7"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1369302819,"creation_date":1369302819,"answer_id":16710787,"question_id":16704991,"body_markdown":"Cannot do this.\r\n\r\n&gt; &quot;cv::VideoCapture class implementation for Android does not support\r\n&gt; several cameras in the same time.&quot;\r\n&gt; &quot;Android Camera API does not support cocurrent camera usage&quot;\r\n\r\nhttp://answers.opencv.org/question/8328/can-i-open-2-android-cameras-concurrently/\r\n\r\n\r\n","title":"Android OpenCV display both (front + back) cameras in app","body":"<p>Cannot do this.</p>\n\n<blockquote>\n  <p>\"cv::VideoCapture class implementation for Android does not support\n  several cameras in the same time.\"\n  \"Android Camera API does not support cocurrent camera usage\"</p>\n</blockquote>\n\n<p><a href=\"http://answers.opencv.org/question/8328/can-i-open-2-android-cameras-concurrently/\" rel=\"nofollow\">http://answers.opencv.org/question/8328/can-i-open-2-android-cameras-concurrently/</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681111778,"post_id":75946111,"comment_id":133999882,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75946111/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":2283149,"reputation":1,"user_id":2007800,"display_name":"gvigelet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680758804,"creation_date":1680758804,"answer_id":75946111,"question_id":16704991,"body_markdown":"this works:\r\n\r\n    package org.opencv.samples.tutorial1;\r\n    \r\n    import org.opencv.android.BaseLoaderCallback;\r\n    import org.opencv.android.CameraActivity;\r\n    import org.opencv.android.CameraBridgeViewBase.CvCameraViewFrame;\r\n    import org.opencv.android.LoaderCallbackInterface;\r\n    import org.opencv.android.OpenCVLoader;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.android.CameraBridgeViewBase;\r\n    import org.opencv.android.CameraBridgeViewBase.CvCameraViewListener2;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.MenuItem;\r\n    import android.view.SurfaceView;\r\n    import android.view.WindowManager;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Tutorial1Activity extends CameraActivity {\r\n        private static final String TAG = &quot;OCVSample::Activity&quot;;\r\n    \r\n        private CameraBridgeViewBase mOpenCvCameraView1;\r\n        private CameraBridgeViewBase mOpenCvCameraView2;\r\n        private boolean              mIsJavaCamera = true;\r\n        private MenuItem             mItemSwitchCamera = null;\r\n    \r\n        private BaseLoaderCallback mLoaderCallback = new BaseLoaderCallback(this) {\r\n            @Override\r\n            public void onManagerConnected(int status) {\r\n                switch (status) {\r\n                    case LoaderCallbackInterface.SUCCESS:\r\n                    {\r\n                        Log.i(TAG, &quot;OpenCV loaded successfully&quot;);\r\n                        mOpenCvCameraView1.enableView();\r\n                        mOpenCvCameraView2.enableView();\r\n                    } break;\r\n                    default:\r\n                    {\r\n                        super.onManagerConnected(status);\r\n                    } break;\r\n                }\r\n            }\r\n        };\r\n    \r\n        public Tutorial1Activity() {\r\n            Log.i(TAG, &quot;Instantiated new &quot; + this.getClass());\r\n        }\r\n    \r\n        /** Called when the activity is first created. */\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            Log.i(TAG, &quot;called onCreate&quot;);\r\n            super.onCreate(savedInstanceState);\r\n            getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n    \r\n            setContentView(R.layout.tutorial1_surface_view);\r\n    \r\n            mOpenCvCameraView1 = (CameraBridgeViewBase) findViewById(R.id.tutorial1_activity_java_surface_view1);\r\n            mOpenCvCameraView2 = (CameraBridgeViewBase) findViewById(R.id.tutorial1_activity_java_surface_view2);\r\n    \r\n            mOpenCvCameraView1.setVisibility(SurfaceView.VISIBLE);\r\n            mOpenCvCameraView2.setVisibility(SurfaceView.VISIBLE);\r\n    \r\n            mOpenCvCameraView1.setCvCameraViewListener(new CvCameraViewListener2() {\r\n                @Override\r\n                public void onCameraViewStarted(int width, int height) {\r\n                    Log.i(TAG, &quot;Camera 1 started&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public void onCameraViewStopped() {\r\n                    Log.i(TAG, &quot;Camera 1 stopped&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public Mat onCameraFrame(CvCameraViewFrame inputFrame) {\r\n                    return inputFrame.rgba();\r\n                }\r\n            });\r\n    \r\n            mOpenCvCameraView2.setCvCameraViewListener(new CvCameraViewListener2() {\r\n                @Override\r\n                public void onCameraViewStarted(int width, int height) {\r\n                    Log.i(TAG, &quot;Camera 2 started&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public void onCameraViewStopped() {\r\n                    Log.i(TAG, &quot;Camera 2 stopped&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public Mat onCameraFrame(CvCameraViewFrame inputFrame) {\r\n                    return inputFrame.rgba();\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onPause()\r\n        {\r\n            super.onPause();\r\n            if (mOpenCvCameraView1 != null)\r\n                mOpenCvCameraView1.disableView();\r\n            if (mOpenCvCameraView2 != null)\r\n                mOpenCvCameraView2.disableView();\r\n        }\r\n    \r\n        @Override\r\n        public void onResume()\r\n        {\r\n            super.onResume();\r\n            if (!OpenCVLoader.initDebug()) {\r\n                Log.d(TAG, &quot;Internal OpenCV library not found. Using OpenCV Manager for initialization&quot;);\r\n                OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION, this, mLoaderCallback);\r\n            } else {\r\n                Log.d(TAG, &quot;OpenCV library found inside package. Using it!&quot;);\r\n                mLoaderCallback.onManagerConnected(LoaderCallbackInterface.SUCCESS);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected List&lt;? extends CameraBridgeViewBase&gt; getCameraViewList() {\r\n            // return Collections.singletonList(mOpenCvCameraView2);\r\n            return Arrays.asList(mOpenCvCameraView1, mOpenCvCameraView2);\r\n        }\r\n    \r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            if (mOpenCvCameraView1 != null)\r\n                mOpenCvCameraView1.disableView();\r\n            if (mOpenCvCameraView2 != null)\r\n                mOpenCvCameraView2.disableView();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Android OpenCV display both (front + back) cameras in app","body":"<p>this works:</p>\n<pre><code>package org.opencv.samples.tutorial1;\n\nimport org.opencv.android.BaseLoaderCallback;\nimport org.opencv.android.CameraActivity;\nimport org.opencv.android.CameraBridgeViewBase.CvCameraViewFrame;\nimport org.opencv.android.LoaderCallbackInterface;\nimport org.opencv.android.OpenCVLoader;\nimport org.opencv.core.Mat;\nimport org.opencv.android.CameraBridgeViewBase;\nimport org.opencv.android.CameraBridgeViewBase.CvCameraViewListener2;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.MenuItem;\nimport android.view.SurfaceView;\nimport android.view.WindowManager;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Tutorial1Activity extends CameraActivity {\n    private static final String TAG = &quot;OCVSample::Activity&quot;;\n\n    private CameraBridgeViewBase mOpenCvCameraView1;\n    private CameraBridgeViewBase mOpenCvCameraView2;\n    private boolean              mIsJavaCamera = true;\n    private MenuItem             mItemSwitchCamera = null;\n\n    private BaseLoaderCallback mLoaderCallback = new BaseLoaderCallback(this) {\n        @Override\n        public void onManagerConnected(int status) {\n            switch (status) {\n                case LoaderCallbackInterface.SUCCESS:\n                {\n                    Log.i(TAG, &quot;OpenCV loaded successfully&quot;);\n                    mOpenCvCameraView1.enableView();\n                    mOpenCvCameraView2.enableView();\n                } break;\n                default:\n                {\n                    super.onManagerConnected(status);\n                } break;\n            }\n        }\n    };\n\n    public Tutorial1Activity() {\n        Log.i(TAG, &quot;Instantiated new &quot; + this.getClass());\n    }\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        Log.i(TAG, &quot;called onCreate&quot;);\n        super.onCreate(savedInstanceState);\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n\n        setContentView(R.layout.tutorial1_surface_view);\n\n        mOpenCvCameraView1 = (CameraBridgeViewBase) findViewById(R.id.tutorial1_activity_java_surface_view1);\n        mOpenCvCameraView2 = (CameraBridgeViewBase) findViewById(R.id.tutorial1_activity_java_surface_view2);\n\n        mOpenCvCameraView1.setVisibility(SurfaceView.VISIBLE);\n        mOpenCvCameraView2.setVisibility(SurfaceView.VISIBLE);\n\n        mOpenCvCameraView1.setCvCameraViewListener(new CvCameraViewListener2() {\n            @Override\n            public void onCameraViewStarted(int width, int height) {\n                Log.i(TAG, &quot;Camera 1 started&quot;);\n            }\n\n            @Override\n            public void onCameraViewStopped() {\n                Log.i(TAG, &quot;Camera 1 stopped&quot;);\n            }\n\n            @Override\n            public Mat onCameraFrame(CvCameraViewFrame inputFrame) {\n                return inputFrame.rgba();\n            }\n        });\n\n        mOpenCvCameraView2.setCvCameraViewListener(new CvCameraViewListener2() {\n            @Override\n            public void onCameraViewStarted(int width, int height) {\n                Log.i(TAG, &quot;Camera 2 started&quot;);\n            }\n\n            @Override\n            public void onCameraViewStopped() {\n                Log.i(TAG, &quot;Camera 2 stopped&quot;);\n            }\n\n            @Override\n            public Mat onCameraFrame(CvCameraViewFrame inputFrame) {\n                return inputFrame.rgba();\n            }\n        });\n\n    }\n\n    @Override\n    public void onPause()\n    {\n        super.onPause();\n        if (mOpenCvCameraView1 != null)\n            mOpenCvCameraView1.disableView();\n        if (mOpenCvCameraView2 != null)\n            mOpenCvCameraView2.disableView();\n    }\n\n    @Override\n    public void onResume()\n    {\n        super.onResume();\n        if (!OpenCVLoader.initDebug()) {\n            Log.d(TAG, &quot;Internal OpenCV library not found. Using OpenCV Manager for initialization&quot;);\n            OpenCVLoader.initAsync(OpenCVLoader.OPENCV_VERSION, this, mLoaderCallback);\n        } else {\n            Log.d(TAG, &quot;OpenCV library found inside package. Using it!&quot;);\n            mLoaderCallback.onManagerConnected(LoaderCallbackInterface.SUCCESS);\n        }\n    }\n\n    @Override\n    protected List&lt;? extends CameraBridgeViewBase&gt; getCameraViewList() {\n        // return Collections.singletonList(mOpenCvCameraView2);\n        return Arrays.asList(mOpenCvCameraView1, mOpenCvCameraView2);\n    }\n\n    public void onDestroy() {\n        super.onDestroy();\n        if (mOpenCvCameraView1 != null)\n            mOpenCvCameraView1.disableView();\n        if (mOpenCvCameraView2 != null)\n            mOpenCvCameraView2.disableView();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":311346,"reputation":16468,"user_id":624869,"accept_rate":82,"display_name":"JDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16710787,"answer_count":2,"score":1,"last_activity_date":1680758804,"creation_date":1369278232,"question_id":16704991,"body_markdown":"I&#39;m trying to overlay the front camera preview on top of the back camera preview. I&#39;m able to access either front or back camera, but not both of them together. \r\n\r\nHere is my code:\r\n\r\nactivity_main.xml:\r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:opencv=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/main_framelayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; &gt;\r\n    \r\n        &lt;org.opencv.android.JavaCameraView\r\n            android:id=&quot;@+id/CameraViewBack&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            opencv:camera_id=&quot;back&quot;\r\n            opencv:show_fps=&quot;true&quot; /&gt;\r\n        &lt;!-- camera_id: &quot;any&quot;, &quot;back&quot;, &quot;front&quot; or by number value --&gt;\r\n        \r\n        &lt;org.opencv.android.JavaCameraView\r\n            android:id=&quot;@+id/CameraViewFront&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            opencv:camera_id=&quot;front&quot;\r\n            opencv:show_fps=&quot;true&quot; /&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n\r\nMainActivity.java:\r\n\r\n    @Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tgetWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \r\n    \t\tmFrameLayout = (FrameLayout) findViewById(R.id.main_framelayout);\r\n    \r\n    \t\tmOpenCvCameraViewBack = (CameraBridgeViewBase) findViewById(R.id.CameraViewBack);\r\n    \t\tmOpenCvCameraViewBack.setVisibility(SurfaceView.VISIBLE);\r\n    \t\tmOpenCvCameraViewBack.setCvCameraViewListener(this);\r\n    \t\t\r\n    \t\tmOpenCvCameraViewFront = (CameraBridgeViewBase) findViewById(R.id.CameraViewFront);\r\n    \t\tmOpenCvCameraViewFront.setVisibility(SurfaceView.VISIBLE);\r\n    \t\tmOpenCvCameraViewFront.setCvCameraViewListener(this);\r\n    \t\t\r\n\r\n    \t}\r\n\r\nProblem: I only see the back camera view over the screen. What I want is a small window with the front camera view overlaid on top of this so I can see both. \r\n\r\nHow can I do this?\r\n","title":"Android OpenCV display both (front + back) cameras in app","body":"<p>I'm trying to overlay the front camera preview on top of the back camera preview. I'm able to access either front or back camera, but not both of them together.</p>\n<p>Here is my code:</p>\n<p>activity_main.xml:</p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:opencv=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/main_framelayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; &gt;\n\n    &lt;org.opencv.android.JavaCameraView\n        android:id=&quot;@+id/CameraViewBack&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:visibility=&quot;gone&quot;\n        opencv:camera_id=&quot;back&quot;\n        opencv:show_fps=&quot;true&quot; /&gt;\n    &lt;!-- camera_id: &quot;any&quot;, &quot;back&quot;, &quot;front&quot; or by number value --&gt;\n    \n    &lt;org.opencv.android.JavaCameraView\n        android:id=&quot;@+id/CameraViewFront&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:visibility=&quot;gone&quot;\n        opencv:camera_id=&quot;front&quot;\n        opencv:show_fps=&quot;true&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>MainActivity.java:</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n        setContentView(R.layout.activity_main);\n\n        mFrameLayout = (FrameLayout) findViewById(R.id.main_framelayout);\n\n        mOpenCvCameraViewBack = (CameraBridgeViewBase) findViewById(R.id.CameraViewBack);\n        mOpenCvCameraViewBack.setVisibility(SurfaceView.VISIBLE);\n        mOpenCvCameraViewBack.setCvCameraViewListener(this);\n        \n        mOpenCvCameraViewFront = (CameraBridgeViewBase) findViewById(R.id.CameraViewFront);\n        mOpenCvCameraViewFront.setVisibility(SurfaceView.VISIBLE);\n        mOpenCvCameraViewFront.setCvCameraViewListener(this);\n        \n\n    }\n</code></pre>\n<p>Problem: I only see the back camera view over the screen. What I want is a small window with the front camera view overlaid on top of this so I can see both.</p>\n<p>How can I do this?</p>\n"},{"tags":["java","mysql","hibernate","jpa","database-connection"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1680757506,"post_id":75945908,"comment_id":133953010,"body_markdown":"**ERROR: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)**","body":"<b>ERROR: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)</b>"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":1,"creation_date":1680757516,"post_id":75945908,"comment_id":133953011,"body_markdown":"the first error you get (according to your log) is a `Caused by: java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)` - i guess thats why you can`t access your DB","body":"the first error you get (according to your log) is a <code>Caused by: java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)</code> - i guess thats why you can`t access your DB"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1680757554,"post_id":75945908,"comment_id":133953019,"body_markdown":"See http://stackoverflow.com/a/15707789/2310289\nhttps://stackoverflow.com/questions/50177216/how-to-grant-all-privileges-to-root-user-in-mysql-8-0","body":"See <a href=\"http://stackoverflow.com/a/15707789/2310289\">stackoverflow.com/a/15707789/2310289</a> <a href=\"https://stackoverflow.com/questions/50177216/how-to-grant-all-privileges-to-root-user-in-mysql-8-0\" title=\"how to grant all privileges to root user in mysql 8 0\">stackoverflow.com/questions/50177216/&hellip;</a>"},{"owner":{"account_id":10252307,"reputation":115,"user_id":8310489,"display_name":"Marco Aur&#233;lio Lopes J&#250;nior"},"score":1,"creation_date":1680757926,"post_id":75945908,"comment_id":133953062,"body_markdown":"It was really a user problem, the solution worked out fine, thanks","body":"It was really a user problem, the solution worked out fine, thanks"}],"owner":{"account_id":10252307,"reputation":115,"user_id":8310489,"display_name":"Marco Aur&#233;lio Lopes J&#250;nior"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680758313,"answer_count":0,"score":0,"last_activity_date":1680756492,"creation_date":1680756492,"question_id":75945908,"body_markdown":"I am trying to connect to a database that already exists, using JPA and Hibernate, but everytime that i try, I get this error that says the driver is not correctly initialized. I checked the mysql service and he is running normally, restart the service but nothing changed, dependencies are all updated with the newer versions and already triend with the older versions. Did a missing something?\r\n\r\nMain class for tests\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.model.Pessoa;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.persistence.Persistence;\r\n\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Pessoa p1 = new Pessoa( null,&quot;Marco&quot;, &quot;marco@gmail.com&quot;);\r\n        Pessoa p2 = new Pessoa(null,&quot;&#201;rika&quot;, &quot;erika@gmail.com&quot;);\r\n\r\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;exemplo-jpa&quot;);\r\n        EntityManager em = emf.createEntityManager();\r\n\r\n        em.persist(p1);\r\n        em.persist(p2);\r\n\r\n        System.out.println(&quot;Cadastrado com sucesso&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\nMy persistence.xml configuration\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n             version=&quot;2.1&quot;&gt;\r\n    &lt;persistence-unit name=&quot;exemplo-jpa&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost/testejpa&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL8Dialect&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nMy pom.xml configuration\r\n\r\n```\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.14.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nProject structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rx1Fp.png\r\n\r\nComplete error stacktrace\r\n\r\n```abr 06, 2023 1:46:30 AM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\r\nINFO: HHH000204: Processing PersistenceUnitInfo [name: exemplo-jpa]\r\nabr 06, 2023 1:46:30 AM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 5.6.14.Final\r\nabr 06, 2023 1:46:31 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\nabr 06, 2023 1:46:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\nabr 06, 2023 1:46:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost/testejpa]\r\nabr 06, 2023 1:46:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001001: Connection properties: {password=****, user=root}\r\nabr 06, 2023 1:46:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001003: Autocommit mode: false\r\nabr 06, 2023 1:46:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\nabr 06, 2023 1:46:32 AM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator initiateService\r\nWARN: HHH000342: Could not obtain connection to query metadata\r\njava.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:220)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:129)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:42)\r\n\tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:62)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:457)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:323)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:297)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:501)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:101)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:76)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat org.example.Main.main(Main.java:16)\r\n\r\nabr 06, 2023 1:46:32 AM org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\nabr 06, 2023 1:46:32 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nWARN: SQL Error: 1045, SQLState: 28000\r\nabr 06, 2023 1:46:32 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nERROR: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)\r\nException in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat org.example.Main.main(Main.java:16)\r\nCaused by: org.hibernate.exception.GenericJDBCException: Error calling Driver#connect\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:131)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:42)\r\n\tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:62)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:457)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:323)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:297)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:501)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:101)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:76)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n\t... 14 more\r\nCaused by: java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:833)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:453)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:39)\r\n\t... 29 more\r\n```","title":"Unable to connect in MySQL database due to sql driver not initialized","body":"<p>I am trying to connect to a database that already exists, using JPA and Hibernate, but everytime that i try, I get this error that says the driver is not correctly initialized. I checked the mysql service and he is running normally, restart the service but nothing changed, dependencies are all updated with the newer versions and already triend with the older versions. Did a missing something?</p>\n<p>Main class for tests</p>\n<pre><code>package org.example;\n\nimport org.model.Pessoa;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Pessoa p1 = new Pessoa( null,&quot;Marco&quot;, &quot;marco@gmail.com&quot;);\n        Pessoa p2 = new Pessoa(null,&quot;Érika&quot;, &quot;erika@gmail.com&quot;);\n\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;exemplo-jpa&quot;);\n        EntityManager em = emf.createEntityManager();\n\n        em.persist(p1);\n        em.persist(p2);\n\n        System.out.println(&quot;Cadastrado com sucesso&quot;);\n\n    }\n}\n</code></pre>\n<p>My persistence.xml configuration</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\n             version=&quot;2.1&quot;&gt;\n    &lt;persistence-unit name=&quot;exemplo-jpa&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost/testejpa&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL8Dialect&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>My pom.xml configuration</p>\n<pre><code>    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.14.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.15.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Project structure</p>\n<p><a href=\"https://i.stack.imgur.com/Rx1Fp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rx1Fp.png\" alt=\"enter image description here\" /></a></p>\n<p>Complete error stacktrace</p>\n<pre><code>INFO: HHH000204: Processing PersistenceUnitInfo [name: exemplo-jpa]\nabr 06, 2023 1:46:30 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 5.6.14.Final\nabr 06, 2023 1:46:31 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nabr 06, 2023 1:46:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nabr 06, 2023 1:46:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost/testejpa]\nabr 06, 2023 1:46:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=root}\nabr 06, 2023 1:46:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nabr 06, 2023 1:46:31 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nabr 06, 2023 1:46:32 AM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator initiateService\nWARN: HHH000342: Could not obtain connection to query metadata\njava.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:220)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:129)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:42)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:62)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:457)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:323)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:297)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:501)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:101)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:76)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at org.example.Main.main(Main.java:16)\n\nabr 06, 2023 1:46:32 AM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\nabr 06, 2023 1:46:32 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 1045, SQLState: 28000\nabr 06, 2023 1:46:32 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: Access denied for user 'root'@'localhost' (using password: NO)\nException in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at org.example.Main.main(Main.java:16)\nCaused by: org.hibernate.exception.GenericJDBCException: Error calling Driver#connect\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:131)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:42)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:62)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:457)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:323)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:297)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:501)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:101)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:76)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    ... 14 more\nCaused by: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: NO)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:833)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:453)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:39)\n    ... 29 more\n</code></pre>\n"},{"tags":["java","file-io","filewriter"],"comments":[{"owner":{"account_id":1615575,"reputation":1538,"user_id":1493379,"display_name":"blueygh2"},"score":0,"creation_date":1407948531,"post_id":25291770,"comment_id":39416028,"body_markdown":"What system are you working on?","body":"What system are you working on?"},{"owner":{"account_id":557427,"reputation":6881,"user_id":919858,"accept_rate":69,"display_name":"seeker"},"score":1,"creation_date":1407949473,"post_id":25291770,"comment_id":39416513,"body_markdown":"Sorry for the noise guys. I had the wrong version. `git-pull` fixed it.Indeed the problem was with WORKSPACE_PATH","body":"Sorry for the noise guys. I had the wrong version. <code>git-pull</code> fixed it.Indeed the problem was with WORKSPACE_PATH"},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":1,"creation_date":1607452357,"post_id":25291770,"comment_id":115275356,"body_markdown":"this should be reopened, this is the first result on google, and the referenced https://stackoverflow.com/questions/10767117/why-filewriter-doesnt-create-a-new-file problem is permissions, not directory creation. I&#39;d like to add an answer using the `Path` API.","body":"this should be reopened, this is the first result on google, and the referenced <a href=\"https://stackoverflow.com/questions/10767117/why-filewriter-doesnt-create-a-new-file\" title=\"why filewriter doesnt create a new file\">stackoverflow.com/questions/10767117/&hellip;</a> problem is permissions, not directory creation. I&#39;d like to add an answer using the <code>Path</code> API."}],"answers":[{"comments":[{"owner":{"account_id":4866435,"reputation":2142,"user_id":3924496,"display_name":"roelofs"},"score":4,"creation_date":1407948824,"post_id":25291868,"comment_id":39416183,"body_markdown":"He does mention that opening for appending works fine though?","body":"He does mention that opening for appending works fine though?"}],"tags":[],"owner":{"account_id":210592,"reputation":3818,"user_id":462285,"accept_rate":70,"display_name":"nbz"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1407948657,"creation_date":1407948657,"answer_id":25291868,"question_id":25291770,"body_markdown":"Using concatenation when creating the File won&#39;t add the necessary path separator.\r\n\r\n    File file = new File(WORKSPACE_PATH, fname);\r\n\r\n","title":"Why is FileWriter not creating a new file ? FileNotFoundException","body":"<p>Using concatenation when creating the File won't add the necessary path separator.</p>\n\n<pre><code>File file = new File(WORKSPACE_PATH, fname);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":557427,"reputation":6881,"user_id":919858,"accept_rate":69,"display_name":"seeker"},"score":0,"creation_date":1407948885,"post_id":25291890,"comment_id":39416222,"body_markdown":"throws an `IOException` at that line.","body":"throws an <code>IOException</code> at that line."},{"owner":{"account_id":4866435,"reputation":2142,"user_id":3924496,"display_name":"roelofs"},"score":0,"creation_date":1407948926,"post_id":25291890,"comment_id":39416249,"body_markdown":"What is the IOException message details?","body":"What is the IOException message details?"},{"owner":{"account_id":4866435,"reputation":2142,"user_id":3924496,"display_name":"roelofs"},"score":0,"creation_date":1407949157,"post_id":25291890,"comment_id":39416372,"body_markdown":"From what I can see, this should be fine - can you print the full `WORKSPACE_PATH+fname`, and confirm that it is trying to create it in the right place?","body":"From what I can see, this should be fine - can you print the full <code>WORKSPACE_PATH+fname</code>, and confirm that it is trying to create it in the right place?"},{"owner":{"account_id":4866435,"reputation":2142,"user_id":3924496,"display_name":"roelofs"},"score":0,"creation_date":1407949217,"post_id":25291890,"comment_id":39416406,"body_markdown":"[This](http://www.mkyong.com/java/how-to-append-content-to-file-in-java) does essentially what you&#39;re trying to do.","body":"<a href=\"http://www.mkyong.com/java/how-to-append-content-to-file-in-java\" rel=\"nofollow noreferrer\">This</a> does essentially what you&#39;re trying to do."}],"tags":[],"owner":{"account_id":4866435,"reputation":2142,"user_id":3924496,"display_name":"roelofs"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1407948721,"creation_date":1407948721,"answer_id":25291890,"question_id":25291770,"body_markdown":"This might work:\r\n\r\n    File file= new File (WORKSPACE_PATH+fname);\r\n    FileWriter fw;\r\n    if (file.exists())\r\n    {\r\n       fw = new FileWriter(file,true);//if file exists append to file. Works fine.\r\n    }\r\n    else\r\n    {\r\n       file.createNewFile();\r\n       fw = new FileWriter(file);\r\n    }","title":"Why is FileWriter not creating a new file ? FileNotFoundException","body":"<p>This might work:</p>\n\n<pre><code>File file= new File (WORKSPACE_PATH+fname);\nFileWriter fw;\nif (file.exists())\n{\n   fw = new FileWriter(file,true);//if file exists append to file. Works fine.\n}\nelse\n{\n   file.createNewFile();\n   fw = new FileWriter(file);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":404984,"reputation":2612,"user_id":773623,"display_name":"Jonathan Drapeau"},"score":0,"creation_date":1407949366,"post_id":25292053,"comment_id":39416473,"body_markdown":"And how you know that his `WORKSPACE_PATH` doesn&#39;t contain the separator?","body":"And how you know that his <code>WORKSPACE_PATH</code> doesn&#39;t contain the separator?"},{"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"score":0,"creation_date":1407949427,"post_id":25292053,"comment_id":39416494,"body_markdown":"as he told append works fine that means no problem with the path of the file","body":"as he told append works fine that means no problem with the path of the file"},{"owner":{"display_name":"user3838784"},"score":0,"creation_date":1407949479,"post_id":25292053,"comment_id":39416514,"body_markdown":"Edited, I forgot to say that you don&#39;t need to add one if `WORKSPACE_PATH` already has one &gt;&lt;","body":"Edited, I forgot to say that you don&#39;t need to add one if <code>WORKSPACE_PATH</code> already has one &gt;&lt;"},{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1408831977,"post_id":25292053,"comment_id":39741669,"body_markdown":"Or you could use the two-arg form: `new File(WORKSPACE_PATH, fname)`","body":"Or you could use the two-arg form: <code>new File(WORKSPACE_PATH, fname)</code>"}],"tags":[],"owner":{"display_name":"user3838784"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1516199396,"creation_date":1407949257,"answer_id":25292053,"question_id":25291770,"body_markdown":"You need to add a separator (Windows : `\\` and Unix : `/`, you can use `File.separator` to get the system&#39;s separator) if `WORKSPACE_PATH` does not have one at its end, and manually creating the file with its parent directories might help.\r\n\r\nTry this if `WORKSPACE_PATH` does not have a separator at its end :\r\n\r\n    File file = new File(WORKSPACE_PATH + File.separator + fname);\r\n\r\nAnd add this before `fw = new FileWriter(file);`\r\n\r\n    file.mkdirs(); // If the directory containing the file and/or its parent(s) does not exist\r\n    file.createNewFile();\r\n    ","title":"Why is FileWriter not creating a new file ? FileNotFoundException","body":"<p>You need to add a separator (Windows : <code>\\</code> and Unix : <code>/</code>, you can use <code>File.separator</code> to get the system's separator) if <code>WORKSPACE_PATH</code> does not have one at its end, and manually creating the file with its parent directories might help.</p>\n\n<p>Try this if <code>WORKSPACE_PATH</code> does not have a separator at its end :</p>\n\n<pre><code>File file = new File(WORKSPACE_PATH + File.separator + fname);\n</code></pre>\n\n<p>And add this before <code>fw = new FileWriter(file);</code></p>\n\n<pre><code>file.mkdirs(); // If the directory containing the file and/or its parent(s) does not exist\nfile.createNewFile();\n</code></pre>\n"}],"owner":{"account_id":557427,"reputation":6881,"user_id":919858,"accept_rate":69,"display_name":"seeker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51435,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1680756346,"creation_date":1407948352,"question_id":25291770,"body_markdown":"So I have a code snippet as follows. Im trying to find out why it throws a FileNotFoundException. \r\n\r\n\t\r\n\r\n    File file= new File (WORKSPACE_PATH+fname);\r\n    FileWriter fw;\r\n    if (file.exists())\r\n    {\r\n    \t fw = new FileWriter(file,true);//if file exists append to file. Works fine.\r\n    }\r\n   \telse\r\n    {\r\n    \t fw = new FileWriter(file);// If file does not exist. Create it. This throws a FileNotFoundException. Why? \r\n    }\r\n","title":"Why is FileWriter not creating a new file ? FileNotFoundException","body":"<p>So I have a code snippet as follows. Im trying to find out why it throws a FileNotFoundException. </p>\n\n<pre><code>File file= new File (WORKSPACE_PATH+fname);\nFileWriter fw;\nif (file.exists())\n{\n     fw = new FileWriter(file,true);//if file exists append to file. Works fine.\n}\nelse\n{\n     fw = new FileWriter(file);// If file does not exist. Create it. This throws a FileNotFoundException. Why? \n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-gradle-plugin","signed-apk"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680626267,"post_id":75931447,"comment_id":133928563,"body_markdown":"What is your question? You can post your solution as an answer, but a error dump is usually not considered a good question. Did you see [ask]?","body":"What is your question? You can post your solution as an answer, but a error dump is usually not considered a good question. Did you see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>?"}],"answers":[{"tags":[],"owner":{"account_id":19263852,"reputation":39,"user_id":14079170,"display_name":"Avinash Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680756281,"creation_date":1680756281,"answer_id":75945893,"question_id":75931447,"body_markdown":"\r\n**Solution:**\r\n\r\n1. Clean and rebuild the project: This error can sometimes be caused by a corrupted build output file. Try cleaning your project and rebuilding it to see if this resolves the issue.\r\n\r\n2. In my case, it&#39;s the debug apk in the build folder which was corrupted, so deleted the whole build folder and created a signed debug apk. It builded it perfectly.","title":"Execution failed for task &#39;:app:packageLiteDebug&#39;, unable to find EOCD signature","body":"<p><strong>Solution:</strong></p>\n<ol>\n<li><p>Clean and rebuild the project: This error can sometimes be caused by a corrupted build output file. Try cleaning your project and rebuilding it to see if this resolves the issue.</p>\n</li>\n<li><p>In my case, it's the debug apk in the build folder which was corrupted, so deleted the whole build folder and created a signed debug apk. It builded it perfectly.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":19263852,"reputation":39,"user_id":14079170,"display_name":"Avinash Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680756281,"creation_date":1680623809,"question_id":75931447,"body_markdown":"The build error is occuring while building a signed debug-apk.\r\n\r\n```\r\nExecution failed for task &#39;:app:packageLiteDebug&#39;.\r\n\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n\r\n   Unable to find EOCD signature\r\n```\r\n","title":"Execution failed for task &#39;:app:packageLiteDebug&#39;, unable to find EOCD signature","body":"<p>The build error is occuring while building a signed debug-apk.</p>\n<pre><code>Execution failed for task ':app:packageLiteDebug'.\n\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n\n   Unable to find EOCD signature\n</code></pre>\n"},{"tags":["java","android","firebase","onclicklistener","firebase-in-app-messaging"],"answers":[{"comments":[{"owner":{"account_id":16451490,"reputation":41,"user_id":11884799,"display_name":"Abhishek Kumar Srivastav"},"score":0,"creation_date":1565357712,"post_id":57428521,"comment_id":101340448,"body_markdown":"Yes, I couldn&#39;t get any solution till now.","body":"Yes, I couldn&#39;t get any solution till now."},{"owner":{"account_id":3319987,"reputation":2354,"user_id":2791407,"accept_rate":92,"display_name":"Jonathan F."},"score":1,"creation_date":1605713234,"post_id":57428521,"comment_id":114736426,"body_markdown":"@AbhishekKumarSrivastav I still have the problem, even after upgrading to the latest version. Did you find any workaround ?","body":"@AbhishekKumarSrivastav I still have the problem, even after upgrading to the latest version. Did you find any workaround ?"}],"tags":[],"owner":{"account_id":6373633,"reputation":189,"user_id":4945326,"display_name":"Filipe Freitas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565347823,"creation_date":1565347823,"answer_id":57428521,"question_id":57360396,"body_markdown":"Could it be related to this issue opened 7 days ago?\r\nhttps://github.com/firebase/firebase-android-sdk/issues/681","title":"FirebaseInAppMessagingClickListener not Calling android","body":"<p>Could it be related to this issue opened 7 days ago?\n<a href=\"https://github.com/firebase/firebase-android-sdk/issues/681\" rel=\"nofollow noreferrer\">https://github.com/firebase/firebase-android-sdk/issues/681</a></p>\n"},{"comments":[{"owner":{"account_id":2321518,"reputation":4154,"user_id":2037129,"display_name":"Pejman Kheyri"},"score":0,"creation_date":1614772684,"post_id":66455492,"comment_id":117485574,"body_markdown":"please, add some explanation to your answer","body":"please, add some explanation to your answer"},{"owner":{"account_id":19265541,"reputation":1,"user_id":14080573,"display_name":"faraaz ahmed"},"score":0,"creation_date":1614943217,"post_id":66455492,"comment_id":117545697,"body_markdown":"Above method will give u message click listener even in testing InApp message but make sure while creating the campaign u have uncheck the box &quot;Use dismiss as Action&quot;","body":"Above method will give u message click listener even in testing InApp message but make sure while creating the campaign u have uncheck the box &quot;Use dismiss as Action&quot;"}],"tags":[],"owner":{"account_id":19265541,"reputation":1,"user_id":14080573,"display_name":"faraaz ahmed"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614768544,"creation_date":1614768544,"answer_id":66455492,"question_id":57360396,"body_markdown":"    Dependencies:\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:26.6.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-inappmessaging-display-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-inappmessaging-ktx&#39;\r\n\r\n    code on MainActivity onCreateMethod:\r\n    val firebaseIam = Firebase.inAppMessaging\r\n    firebaseIam.addClickListener { inAppMessage, action -&gt;\r\n                //write your functionality\r\n                Log.d(&quot;here&quot;,&quot;successful)\r\n    \r\n            }\r\n   ","title":"FirebaseInAppMessagingClickListener not Calling android","body":"<pre><code>Dependencies:\nimplementation platform('com.google.firebase:firebase-bom:26.6.0')\nimplementation 'com.google.firebase:firebase-analytics-ktx'\nimplementation 'com.google.firebase:firebase-inappmessaging-display-ktx'\nimplementation 'com.google.firebase:firebase-inappmessaging-ktx'\n\ncode on MainActivity onCreateMethod:\nval firebaseIam = Firebase.inAppMessaging\nfirebaseIam.addClickListener { inAppMessage, action -&gt;\n            //write your functionality\n            Log.d(&quot;here&quot;,&quot;successful)\n\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15287035,"reputation":774,"user_id":11029770,"display_name":"ConcernedHobbit"},"score":0,"creation_date":1694640146,"post_id":70027394,"comment_id":135919562,"body_markdown":"Solved my problem, thanks!","body":"Solved my problem, thanks!"}],"tags":[],"owner":{"account_id":7452192,"reputation":11,"user_id":5666584,"display_name":"Andr&#233; Baptista"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637273493,"creation_date":1637273493,"answer_id":70027394,"question_id":57360396,"body_markdown":"For some reason, FirebaseInAppMessaging remove all listeners every time an activity goes to background. You can see this by putting a break point on `removeAllListeners` method of `DeveloperListenerManager` class.\r\nRegistering your listener in the `onResume` method of your main activity is a way to deal with this problem.\r\n","title":"FirebaseInAppMessagingClickListener not Calling android","body":"<p>For some reason, FirebaseInAppMessaging remove all listeners every time an activity goes to background. You can see this by putting a break point on <code>removeAllListeners</code> method of <code>DeveloperListenerManager</code> class.\nRegistering your listener in the <code>onResume</code> method of your main activity is a way to deal with this problem.</p>\n"},{"tags":[],"owner":{"account_id":974734,"reputation":2864,"user_id":4957915,"display_name":"solamour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680756137,"creation_date":1680754332,"answer_id":75945747,"question_id":57360396,"body_markdown":"Here is something you might want to try.\r\n\r\n1. Create a new campaign in Firebase Console (refer to https://firebase.google.com/docs/in-app-messaging/compose-campaign). Don&#39;t publish it yet, because you can&#39;t test a published campaign.\r\n\r\n1. In &quot;Scheduling&quot; step, select `on_foreground` as the trigger event.\r\n\r\n1. In your app&#39;s `onResume()`, add listeners.\r\n```\r\nFirebase.inAppMessaging.addClickListener { inAppMessage, action -&gt;\r\n    // ...\r\n}\r\n\r\nFirebase.inAppMessaging.addImpressionListener { inAppMessage -&gt;\r\n    // ...\r\n}\r\n```\r\n\r\n4. Run your app and put it in the background by pressing HOME button.\r\n\r\n1. Send the test message from Firebase Console&#39;s `Test on device`, which is in &quot;Style and content&quot; step.\r\n\r\n1. Bring your app to foreground and tap on your campaign&#39;s button that is not marked as &quot;Use dismiss as the action&quot;.\r\n\r\nAt this point, both `ClickListener` and `ImpressionListener` should be called.\r\n\r\nIn-App Messaging removes all listeners except `DismissListener` when the app goes to the background, so you&#39;d need to add listeners in `onResume()` if you want to use `on_foreground` as the trigger event.","title":"FirebaseInAppMessagingClickListener not Calling android","body":"<p>Here is something you might want to try.</p>\n<ol>\n<li><p>Create a new campaign in Firebase Console (refer to <a href=\"https://firebase.google.com/docs/in-app-messaging/compose-campaign\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/in-app-messaging/compose-campaign</a>). Don't publish it yet, because you can't test a published campaign.</p>\n</li>\n<li><p>In &quot;Scheduling&quot; step, select <code>on_foreground</code> as the trigger event.</p>\n</li>\n<li><p>In your app's <code>onResume()</code>, add listeners.</p>\n</li>\n</ol>\n<pre><code>Firebase.inAppMessaging.addClickListener { inAppMessage, action -&gt;\n    // ...\n}\n\nFirebase.inAppMessaging.addImpressionListener { inAppMessage -&gt;\n    // ...\n}\n</code></pre>\n<ol start=\"4\">\n<li><p>Run your app and put it in the background by pressing HOME button.</p>\n</li>\n<li><p>Send the test message from Firebase Console's <code>Test on device</code>, which is in &quot;Style and content&quot; step.</p>\n</li>\n<li><p>Bring your app to foreground and tap on your campaign's button that is not marked as &quot;Use dismiss as the action&quot;.</p>\n</li>\n</ol>\n<p>At this point, both <code>ClickListener</code> and <code>ImpressionListener</code> should be called.</p>\n<p>In-App Messaging removes all listeners except <code>DismissListener</code> when the app goes to the background, so you'd need to add listeners in <code>onResume()</code> if you want to use <code>on_foreground</code> as the trigger event.</p>\n"}],"owner":{"account_id":16451490,"reputation":41,"user_id":11884799,"display_name":"Abhishek Kumar Srivastav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1290,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1680756137,"creation_date":1565014382,"question_id":57360396,"body_markdown":"I am using **FirebaseInAppMessaging** and it&#39;s works. Then i register action call back using `FirebaseInAppMessagingClickListener`, it&#39;s not calling. \r\n\r\n    public class InAppMessageClick implements FirebaseInAppMessagingClickListener, FirebaseInAppMessagingImpressionListener, FirebaseInAppMessagingDisplay {\r\n\r\n    String TAG = &quot;InAppMessageClick&quot;;\r\n    @Override\r\n    public void messageClicked(InAppMessage inAppMessage, Action action) {\r\n        // Determine which URL the user clicked\r\n        String url = action.getActionUrl();\r\n        LogUtils.i(TAG, &quot;Action URL : &quot;+url);\r\n        // Get general information about the campaign\r\n        CampaignMetadata metadata = inAppMessage.getCampaignMetadata();\r\n       Log.i(TAG,&quot; Metadata : &quot;+metadata);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void impressionDetected(InAppMessage inAppMessage) {\r\n        LogUtils.i(TAG, &quot;impressionDetected Action URL : &quot;+inAppMessage.getCampaignMetadata().getCampaignName());\r\n    }\r\n\r\n    @Override\r\n    public void displayMessage(InAppMessage inAppMessage, FirebaseInAppMessagingDisplayCallbacks firebaseInAppMessagingDisplayCallbacks) {\r\n        LogUtils.i(TAG, &quot;displayMessage Action URL : &quot;+inAppMessage.getCampaignMetadata().getCampaignName());\r\n\r\n    }\r\n}    \r\n\r\nAnd i register this click listener in MainActivity&#39;s onCreate\r\n\r\n    InAppMessageClick inAppMessageClick = new InAppMessageClick();\r\n        FirebaseInAppMessaging.getInstance().setMessageDisplayComponent(inAppMessageClick);\r\n        FirebaseInAppMessaging.getInstance().addClickListener(inAppMessageClick); \r\n\r\n   \r\n\r\ni tried to register listener for two ways.\r\n\r\n    InAppMessageClick inAppMessageClick = new InAppMessageClick();\r\n    FirebaseInAppMessaging.getInstance().addClickListener(inAppMessageClick);`\r\n\r\nOr \r\n\r\n \r\n\r\n    FirebaseInAppMessaging.getInstance().addClickListener(inAppMessageClick, new Executor() {\r\n                @Override\r\n                public void execute(Runnable command) {\r\n                    LogUtils.i(&quot;MainActivity&quot;, &quot;FIAM CLICKED EXECUTOR&quot;);\r\n                }\r\n           });\r\n\r\n`\r\n\r\nAnd using gradle\r\n\r\n \r\n        implementation &#39;com.google.firebase:firebase-inappmessaging-display:18.0.2&#39;\r\n\r\n        implementation &#39;com.google.firebase:firebase-core:17.0.1&#39; ","title":"FirebaseInAppMessagingClickListener not Calling android","body":"<p>I am using <strong>FirebaseInAppMessaging</strong> and it's works. Then i register action call back using <code>FirebaseInAppMessagingClickListener</code>, it's not calling. </p>\n\n<pre><code>public class InAppMessageClick implements FirebaseInAppMessagingClickListener, FirebaseInAppMessagingImpressionListener, FirebaseInAppMessagingDisplay {\n\nString TAG = \"InAppMessageClick\";\n@Override\npublic void messageClicked(InAppMessage inAppMessage, Action action) {\n    // Determine which URL the user clicked\n    String url = action.getActionUrl();\n    LogUtils.i(TAG, \"Action URL : \"+url);\n    // Get general information about the campaign\n    CampaignMetadata metadata = inAppMessage.getCampaignMetadata();\n   Log.i(TAG,\" Metadata : \"+metadata);\n}\n\n\n@Override\npublic void impressionDetected(InAppMessage inAppMessage) {\n    LogUtils.i(TAG, \"impressionDetected Action URL : \"+inAppMessage.getCampaignMetadata().getCampaignName());\n}\n\n@Override\npublic void displayMessage(InAppMessage inAppMessage, FirebaseInAppMessagingDisplayCallbacks firebaseInAppMessagingDisplayCallbacks) {\n    LogUtils.i(TAG, \"displayMessage Action URL : \"+inAppMessage.getCampaignMetadata().getCampaignName());\n\n}\n</code></pre>\n\n<p>}    </p>\n\n<p>And i register this click listener in MainActivity's onCreate</p>\n\n<pre><code>InAppMessageClick inAppMessageClick = new InAppMessageClick();\n    FirebaseInAppMessaging.getInstance().setMessageDisplayComponent(inAppMessageClick);\n    FirebaseInAppMessaging.getInstance().addClickListener(inAppMessageClick); \n</code></pre>\n\n<p>i tried to register listener for two ways.</p>\n\n<pre><code>InAppMessageClick inAppMessageClick = new InAppMessageClick();\nFirebaseInAppMessaging.getInstance().addClickListener(inAppMessageClick);`\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>FirebaseInAppMessaging.getInstance().addClickListener(inAppMessageClick, new Executor() {\n            @Override\n            public void execute(Runnable command) {\n                LogUtils.i(\"MainActivity\", \"FIAM CLICKED EXECUTOR\");\n            }\n       });\n</code></pre>\n\n<p>`</p>\n\n<p>And using gradle</p>\n\n<pre><code>    implementation 'com.google.firebase:firebase-inappmessaging-display:18.0.2'\n\n    implementation 'com.google.firebase:firebase-core:17.0.1' \n</code></pre>\n"},{"tags":["java","visual-studio-code"],"answers":[{"comments":[{"owner":{"account_id":19520600,"reputation":17,"user_id":14282582,"display_name":"Matthew Hao"},"score":0,"creation_date":1680755754,"post_id":75945332,"comment_id":133952796,"body_markdown":"I do have the full extension pack installed, unfortunately switching to pre-release didn&#39;t fix the problem","body":"I do have the full extension pack installed, unfortunately switching to pre-release didn&#39;t fix the problem"}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680747481,"creation_date":1680747481,"answer_id":75945332,"question_id":75944439,"body_markdown":"This is the command of the Java expansion package in VSCODE, which has nothing to do with your JDK installation. \r\n\r\nMake sure to install a complete [Extension Pack for Java][1]. Or switch to the ***pre -release*** version.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[*Getting Started with Java in VS Code*][3]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [2]: https://i.stack.imgur.com/VMWTU.png\r\n  [3]: https://code.visualstudio.com/docs/java/java-tutorial","title":"VS Code won&#39;t recognize Java commands (java.runtime) or run java apps","body":"<p>This is the command of the Java expansion package in VSCODE, which has nothing to do with your JDK installation.</p>\n<p>Make sure to install a complete <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a>. Or switch to the <em><strong>pre -release</strong></em> version.</p>\n<p><a href=\"https://i.stack.imgur.com/VMWTU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VMWTU.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\"><em>Getting Started with Java in VS Code</em></a></p>\n"}],"owner":{"account_id":19520600,"reputation":17,"user_id":14282582,"display_name":"Matthew Hao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680806267,"answer_count":1,"score":1,"last_activity_date":1680755776,"creation_date":1680733762,"question_id":75944439,"body_markdown":"I have JDK 19 installed and properly configured in PATH. I setup `java.configuration.runtimes` and `java.jdt.ls.java.home` in VS Code settings. \r\n\r\nWhen I try to access java commands such as Configure Java Runtime, I get an error prompt `command &#39;java.runtime&#39; not found`, and attempting to run java apps within VS Code does nothing.\r\n\r\n[error prompt](https://i.stack.imgur.com/sISqr.png)\r\n\r\n[vscode config](https://i.stack.imgur.com/IYTRp.png)\r\n\r\n[jdk install](https://i.stack.imgur.com/KBIP5.png)\r\n\r\nTried reinstalling VS Code, changing JDK versions, removing Code folder under app data, nothing works. The red hat java language support package loads and recognizes things fine. I can manually run the app from cmd using `javac` so it&#39;s just a VS Code issue with not recognizing the installed JDK it seems","title":"VS Code won&#39;t recognize Java commands (java.runtime) or run java apps","body":"<p>I have JDK 19 installed and properly configured in PATH. I setup <code>java.configuration.runtimes</code> and <code>java.jdt.ls.java.home</code> in VS Code settings.</p>\n<p>When I try to access java commands such as Configure Java Runtime, I get an error prompt <code>command 'java.runtime' not found</code>, and attempting to run java apps within VS Code does nothing.</p>\n<p><a href=\"https://i.stack.imgur.com/sISqr.png\" rel=\"nofollow noreferrer\">error prompt</a></p>\n<p><a href=\"https://i.stack.imgur.com/IYTRp.png\" rel=\"nofollow noreferrer\">vscode config</a></p>\n<p><a href=\"https://i.stack.imgur.com/KBIP5.png\" rel=\"nofollow noreferrer\">jdk install</a></p>\n<p>Tried reinstalling VS Code, changing JDK versions, removing Code folder under app data, nothing works. The red hat java language support package loads and recognizes things fine. I can manually run the app from cmd using <code>javac</code> so it's just a VS Code issue with not recognizing the installed JDK it seems</p>\n"},{"tags":["java","android","minecraft-forge"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681212481,"post_id":75945815,"comment_id":134016672,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75945815/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28211469,"reputation":1,"user_id":21563654,"display_name":"dong jieal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680755266,"creation_date":1680755266,"answer_id":75945815,"question_id":75935380,"body_markdown":"I find the problem.Because the Boat use the lib is targetSdkVersion 22.\r\nAdd defaultConfig to App&#39;s build.grade {\r\n         minSdkVersion 21\r\n         targetSdkVersion 22\r\n  versionCode 8\r\n         versionName &#39;0.1&#39;\r\n} to start. But there is a new problem. After starting minecraft, half of the screen is black and half of it has a picture. what is the reason for this\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ybLWd.jpg","title":"When I use the boat framework to start minecraft on Android, an error occurs problem","body":"<p>I find the problem.Because the Boat use the lib is targetSdkVersion 22.\nAdd defaultConfig to App's build.grade {\nminSdkVersion 21\ntargetSdkVersion 22\nversionCode 8\nversionName '0.1'\n} to start. But there is a new problem. After starting minecraft, half of the screen is black and half of it has a picture. what is the reason for this\n<a href=\"https://i.stack.imgur.com/ybLWd.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":28211469,"reputation":1,"user_id":21563654,"display_name":"dong jieal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680755266,"creation_date":1680664593,"question_id":75935380,"body_markdown":"When I use the boat framework to start minecraft on Android, an error occurs.\r\nThe following is the error reported when the boat is running:\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  Internal Error (assembler_aarch64.hpp:237), pid=14937, tid=0x0000007b51b54cb0\r\n#  guarantee(val &lt; (1U &lt;&lt; nbits)) failed: Field too big for insn\r\n#\r\n# JRE version:  (8.0) (build )\r\n# Java VM: OpenJDK 64-Bit Server VM (25.71-b00 mixed mode linux-aarch64 compressed oops)\r\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n#\r\n\r\n\r\n---------------  P R O C E S S  ---------------\r\n\r\nJava Threads: ( =&gt; current thread )\r\n\r\nOther Threads:\r\n\r\n=&gt;0xb400007b18b91000 (exited) JavaThread &quot;Unknown thread&quot; [_thread_in_vm, id=15485, stack(0x0000007b51953000,0x0000007b51b54cb0)]\r\n\r\n```\r\nThe following is the error reported when Android Studio executes java through boat\r\n\r\n```\r\nE/Boat: #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  Internal Error (assembler_aarch64.hpp:237), pid=28321, tid=0x0000007b4df8ecb0\r\n    #  guarantee(val &lt; (1U &lt;&lt; nbits)) failed: Field too big for insn\r\n    #\r\n    # JRE version:  (8.0) (build )\r\n    # Java VM: OpenJDK 64-Bit Server VM (25.71-b00 mixed mode linux-aarch64 compressed oops)\r\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\nE/Boat: # An error report file with more information is saved as:\r\n    # /storage/emulated/0/Android/data/com.xiaodong.huachipokemon/files/huachipokemon/gamedir/hs_err_pid28321.log\r\nA/libc: fdsan: attempted to close file descriptor 5, expected to be unowned, actually owned by FILE* 0x7bf0a144d8\r\n```\r\nBoth APP and boat use `Android 11, api30, NDK: 21.3.6528147, BuildTools: 30.0.2, Android Gradle Plugin Version 4.1.1\r\nGradle Version 6.7.`\r\nboat&#39;s github: `https://github.com/AOF-Dev/Boat`\r\n\r\nEnvironment Variables:\r\n```\r\nJAVA_HOME=/data/user/0/com.xiaodong.huachipokemon/files/runtime/boat/j2re-image\r\nPATH=/data/user/0/com.xiaodong.huachipokemon/files/runtime/boat/j2re-image/bin:/product/bin:/apex/com.android.runtime/bin:/apex/com.android.art/bin:/system_ext/bin:/system/bin:/system/xbin:/odm/bin:/vendor/bin:/vendor/xbin\r\nLD_LIBRARY_PATH=/data/user/0/com.xiaodong.huachipokemon/files/runtime/boat/j2re-image/lib/aarch64/server:/data/user/0/com.xiaodong.huachipokemon/files/runtime/boat/j2re-image/lib/aarch64/jli:/data/user/0/com.xiaodong.huachipokemon/files/runtime/boat/j2re-image/lib/aarch64:/system/lib64:/vendor/lib64:/vendor/lib64/hw\r\n```\r\n\r\nHow to solve? I use Android Studio to compile a launcher to start minecraft. I use the boat framework to start. The parameters should be fine, but when I start the boat, an error is reported, an error related to java.","title":"When I use the boat framework to start minecraft on Android, an error occurs problem","body":"<p>When I use the boat framework to start minecraft on Android, an error occurs.\nThe following is the error reported when the boat is running:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  Internal Error (assembler_aarch64.hpp:237), pid=14937, tid=0x0000007b51b54cb0\n#  guarantee(val &lt; (1U &lt;&lt; nbits)) failed: Field too big for insn\n#\n# JRE version:  (8.0) (build )\n# Java VM: OpenJDK 64-Bit Server VM (25.71-b00 mixed mode linux-aarch64 compressed oops)\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n#\n\n\n---------------  P R O C E S S  ---------------\n\nJava Threads: ( =&gt; current thread )\n\nOther Threads:\n\n=&gt;0xb400007b18b91000 (exited) JavaThread &quot;Unknown thread&quot; [_thread_in_vm, id=15485, stack(0x0000007b51953000,0x0000007b51b54cb0)]\n\n</code></pre>\n<p>The following is the error reported when Android Studio executes java through boat</p>\n<pre><code>E/Boat: #\n    # A fatal error has been detected by the Java Runtime Environment:\n    #\n    #  Internal Error (assembler_aarch64.hpp:237), pid=28321, tid=0x0000007b4df8ecb0\n    #  guarantee(val &lt; (1U &lt;&lt; nbits)) failed: Field too big for insn\n    #\n    # JRE version:  (8.0) (build )\n    # Java VM: OpenJDK 64-Bit Server VM (25.71-b00 mixed mode linux-aarch64 compressed oops)\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n    #\nE/Boat: # An error report file with more information is saved as:\n    # /storage/emulated/0/Android/data/com.xiaodong.huachipokemon/files/huachipokemon/gamedir/hs_err_pid28321.log\nA/libc: fdsan: attempted to close file descriptor 5, expected to be unowned, actually owned by FILE* 0x7bf0a144d8\n</code></pre>\n<p>Both APP and boat use <code>Android 11, api30, NDK: 21.3.6528147, BuildTools: 30.0.2, Android Gradle Plugin Version 4.1.1 Gradle Version 6.7.</code>\nboat's github: <code>https://github.com/AOF-Dev/Boat</code></p>\n<p>Environment Variables:</p>\n<pre><code>JAVA_HOME=/data/user/0/com.xiaodong.huachipokemon/files/runtime/boat/j2re-image\nPATH=/data/user/0/com.xiaodong.huachipokemon/files/runtime/boat/j2re-image/bin:/product/bin:/apex/com.android.runtime/bin:/apex/com.android.art/bin:/system_ext/bin:/system/bin:/system/xbin:/odm/bin:/vendor/bin:/vendor/xbin\nLD_LIBRARY_PATH=/data/user/0/com.xiaodong.huachipokemon/files/runtime/boat/j2re-image/lib/aarch64/server:/data/user/0/com.xiaodong.huachipokemon/files/runtime/boat/j2re-image/lib/aarch64/jli:/data/user/0/com.xiaodong.huachipokemon/files/runtime/boat/j2re-image/lib/aarch64:/system/lib64:/vendor/lib64:/vendor/lib64/hw\n</code></pre>\n<p>How to solve? I use Android Studio to compile a launcher to start minecraft. I use the boat framework to start. The parameters should be fine, but when I start the boat, an error is reported, an error related to java.</p>\n"},{"tags":["java","android","fragment","spinner"],"owner":{"account_id":28218518,"reputation":17,"user_id":21569643,"display_name":"Vyacheslav Parinov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680754671,"creation_date":1680754671,"question_id":75945775,"body_markdown":"I&#39;m trying to create app which has 3 fragments (pages). Inside each fragment I have several spinners (options to chose). User can chose different options and depending on combination of these options, he will see the price.\r\n\r\nI use following code in Main Activity\r\n\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.viewpager.widget.PagerAdapter;\r\nimport androidx.viewpager.widget.ViewPager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.example.myapplication.fragments.PageFragment1;\r\nimport com.example.myapplication.fragments.PageFragment2;\r\nimport com.example.myapplication.fragments.PageFragment3;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    private ViewPager pager;\r\n    private PagerAdapter pagerAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        List&lt;Fragment&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new PageFragment1());\r\n        list.add(new PageFragment2());\r\n        list.add(new PageFragment3());\r\n\r\n        pager = findViewById(R.id.pager);\r\n        pagerAdapter = new SlidePageAdapter(getSupportFragmentManager(),list);\r\n\r\n        pager.setAdapter(pagerAdapter);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nand following code in PageAdapter\r\n\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentStatePagerAdapter;\r\n\r\nimport java.util.List;\r\n\r\npublic class SlidePageAdapter extends FragmentStatePagerAdapter {\r\n\r\nprivate List&lt;Fragment&gt; fragmentList;\r\n\r\npublic SlidePageAdapter(FragmentManager fm, List&lt;Fragment&gt; fragmentList) {\r\n    super(fm);\r\nthis.fragmentList = fragmentList;\r\n}\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment getItem(int position) {\r\n        return fragmentList.get(position);\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return fragmentList.size();\r\n    }\r\n}\r\n```\r\n\r\nand in PageFragment1\r\n\r\n\r\n```\r\npackage com.example.myapplication.fragments;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.CheckBox;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.viewpager.widget.PagerAdapter;\r\n\r\nimport com.example.myapplication.R;\r\nimport com.google.android.material.navigation.NavigationBarView;\r\n\r\n\r\npublic class PageFragment1 extends Fragment {\r\n\r\n   \r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater,\r\n                             ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        View rootView = inflater.inflate(R.layout.page_1, container, false);\r\n\r\n\r\n        Spinner spinner1 = (Spinner) rootView.findViewById(R.id.spinnerMarket);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter1 = ArrayAdapter.createFromResource(getActivity(), R.array.Market, android.R.layout.simple_spinner_item);\r\n        adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner1.setAdapter(adapter1);\r\n\r\n        Spinner spinner2 = (Spinner) rootView.findViewById(R.id.spinnerEmission);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter2 = ArrayAdapter.createFromResource(getActivity(), R.array.Emissions, android.R.layout.simple_spinner_item);\r\n        adapter2.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner2.setAdapter(adapter2);\r\n\r\n        Spinner spinner3 = (Spinner) rootView.findViewById(R.id.spinnerAxles);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter3 = ArrayAdapter.createFromResource(getActivity(), R.array.Axles, android.R.layout.simple_spinner_item);\r\n        adapter3.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner3.setAdapter(adapter3);\r\n\r\n        Spinner spinner4 = (Spinner) rootView.findViewById(R.id.spinnerGearbox);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter4 = ArrayAdapter.createFromResource(getActivity(), R.array.Gearbox, android.R.layout.simple_spinner_item);\r\n        adapter4.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner4.setAdapter(adapter4);\r\n\r\n        Spinner spinner5 = (Spinner) rootView.findViewById(R.id.spinnerFrontSuspension);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter5 = ArrayAdapter.createFromResource(getActivity(), R.array.FrontSuspension, android.R.layout.simple_spinner_item);\r\n        adapter5.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner5.setAdapter(adapter5);\r\n\r\n        Spinner spinner6 = (Spinner) rootView.findViewById(R.id.spinnerRearSuspension);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter6 = ArrayAdapter.createFromResource(getActivity(), R.array.RearSuspension, android.R.layout.simple_spinner_item);\r\n        adapter6.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner6.setAdapter(adapter6);\r\n\r\n        Spinner spinner7 = (Spinner) rootView.findViewById(R.id.spinnerTrailAxle);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter7 = ArrayAdapter.createFromResource(getActivity(), R.array.TrailAxle, android.R.layout.simple_spinner_item);\r\n        adapter7.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner7.setAdapter(adapter7);\r\n\r\n    return rootView;\r\n\r\n    }\r\n\r\n@Override\r\n    public void onItemSelected (AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n        Spinner spinner3 = (Spinner) getActivity().findViewById(R.id.spinnerAxles);\r\n        String AxlesText = spinner3.getSelectedItem().toString();\r\n\r\n        if (AxlesText.equals(&quot;6x2&quot;)) {\r\n        Spinner spinner7 = (Spinner) getActivity().findViewById(R.id.spinnerTrailAxle);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter7 = ArrayAdapter.createFromResource(this.getActivity(), R.array.TrailAxle1, android.R.layout.simple_spinner_item);\r\n        adapter7.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner7.setAdapter(adapter7);\r\n        spinner7.setOnItemSelectedListener(this);\r\n        } else {\r\n            Spinner spinner7 = (Spinner) getActivity().findViewById(R.id.spinnerTrailAxle);\r\n            ArrayAdapter&lt;CharSequence&gt; adapter7 = ArrayAdapter.createFromResource(this.getActivity(), R.array.TrailAxle, android.R.layout.simple_spinner_item);\r\n            adapter7.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n            spinner7.setAdapter(adapter7);\r\n            spinner7.setOnItemSelectedListener(this);\r\n        }\r\n\r\n@Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n    }\r\n\r\n```\r\n\r\n\r\nThe program suppose to change spinner7 depending on that has been chosen in spinner3, by replacing the array &quot;TrailAxle&quot; with &quot;TrailAxle1&quot;.\r\nTrailAxle has just one option - &quot;No&quot;. The TrailAxle1 has two options - &quot;Steerable&quot; and &quot;Fixed&quot;.\r\nThe problem that I have is that after replacing the array (code works fine here) with the new one I can&#39;t chose the value in new spinner. It always remains the first choise - meaning &quot;Steerable&quot;.\r\nEven if I click on &quot;Fixed&quot;, spinner doesn&#39;t keep this value and goes to &quot;Steerable&quot;.\r\n\r\nDo you know how to make the spinner to keep the chosen value of the new array?","title":"Spinner is not keeping chosen value in fragment","body":"<p>I'm trying to create app which has 3 fragments (pages). Inside each fragment I have several spinners (options to chose). User can chose different options and depending on combination of these options, he will see the price.</p>\n<p>I use following code in Main Activity</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.viewpager.widget.PagerAdapter;\nimport androidx.viewpager.widget.ViewPager;\n\nimport android.os.Bundle;\n\nimport com.example.myapplication.fragments.PageFragment1;\nimport com.example.myapplication.fragments.PageFragment2;\nimport com.example.myapplication.fragments.PageFragment3;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    private ViewPager pager;\n    private PagerAdapter pagerAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        List&lt;Fragment&gt; list = new ArrayList&lt;&gt;();\n        list.add(new PageFragment1());\n        list.add(new PageFragment2());\n        list.add(new PageFragment3());\n\n        pager = findViewById(R.id.pager);\n        pagerAdapter = new SlidePageAdapter(getSupportFragmentManager(),list);\n\n        pager.setAdapter(pagerAdapter);\n\n    }\n}\n</code></pre>\n<p>and following code in PageAdapter</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentStatePagerAdapter;\n\nimport java.util.List;\n\npublic class SlidePageAdapter extends FragmentStatePagerAdapter {\n\nprivate List&lt;Fragment&gt; fragmentList;\n\npublic SlidePageAdapter(FragmentManager fm, List&lt;Fragment&gt; fragmentList) {\n    super(fm);\nthis.fragmentList = fragmentList;\n}\n\n\n\n    @NonNull\n    @Override\n    public Fragment getItem(int position) {\n        return fragmentList.get(position);\n    }\n\n    @Override\n    public int getCount() {\n        return fragmentList.size();\n    }\n}\n</code></pre>\n<p>and in PageFragment1</p>\n<pre><code>package com.example.myapplication.fragments;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.CheckBox;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.viewpager.widget.PagerAdapter;\n\nimport com.example.myapplication.R;\nimport com.google.android.material.navigation.NavigationBarView;\n\n\npublic class PageFragment1 extends Fragment {\n\n   \n\n    @Override\n    public View onCreateView(LayoutInflater inflater,\n                             ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        View rootView = inflater.inflate(R.layout.page_1, container, false);\n\n\n        Spinner spinner1 = (Spinner) rootView.findViewById(R.id.spinnerMarket);\n        ArrayAdapter&lt;CharSequence&gt; adapter1 = ArrayAdapter.createFromResource(getActivity(), R.array.Market, android.R.layout.simple_spinner_item);\n        adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner1.setAdapter(adapter1);\n\n        Spinner spinner2 = (Spinner) rootView.findViewById(R.id.spinnerEmission);\n        ArrayAdapter&lt;CharSequence&gt; adapter2 = ArrayAdapter.createFromResource(getActivity(), R.array.Emissions, android.R.layout.simple_spinner_item);\n        adapter2.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner2.setAdapter(adapter2);\n\n        Spinner spinner3 = (Spinner) rootView.findViewById(R.id.spinnerAxles);\n        ArrayAdapter&lt;CharSequence&gt; adapter3 = ArrayAdapter.createFromResource(getActivity(), R.array.Axles, android.R.layout.simple_spinner_item);\n        adapter3.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner3.setAdapter(adapter3);\n\n        Spinner spinner4 = (Spinner) rootView.findViewById(R.id.spinnerGearbox);\n        ArrayAdapter&lt;CharSequence&gt; adapter4 = ArrayAdapter.createFromResource(getActivity(), R.array.Gearbox, android.R.layout.simple_spinner_item);\n        adapter4.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner4.setAdapter(adapter4);\n\n        Spinner spinner5 = (Spinner) rootView.findViewById(R.id.spinnerFrontSuspension);\n        ArrayAdapter&lt;CharSequence&gt; adapter5 = ArrayAdapter.createFromResource(getActivity(), R.array.FrontSuspension, android.R.layout.simple_spinner_item);\n        adapter5.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner5.setAdapter(adapter5);\n\n        Spinner spinner6 = (Spinner) rootView.findViewById(R.id.spinnerRearSuspension);\n        ArrayAdapter&lt;CharSequence&gt; adapter6 = ArrayAdapter.createFromResource(getActivity(), R.array.RearSuspension, android.R.layout.simple_spinner_item);\n        adapter6.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner6.setAdapter(adapter6);\n\n        Spinner spinner7 = (Spinner) rootView.findViewById(R.id.spinnerTrailAxle);\n        ArrayAdapter&lt;CharSequence&gt; adapter7 = ArrayAdapter.createFromResource(getActivity(), R.array.TrailAxle, android.R.layout.simple_spinner_item);\n        adapter7.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner7.setAdapter(adapter7);\n\n    return rootView;\n\n    }\n\n@Override\n    public void onItemSelected (AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n        Spinner spinner3 = (Spinner) getActivity().findViewById(R.id.spinnerAxles);\n        String AxlesText = spinner3.getSelectedItem().toString();\n\n        if (AxlesText.equals(&quot;6x2&quot;)) {\n        Spinner spinner7 = (Spinner) getActivity().findViewById(R.id.spinnerTrailAxle);\n        ArrayAdapter&lt;CharSequence&gt; adapter7 = ArrayAdapter.createFromResource(this.getActivity(), R.array.TrailAxle1, android.R.layout.simple_spinner_item);\n        adapter7.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner7.setAdapter(adapter7);\n        spinner7.setOnItemSelectedListener(this);\n        } else {\n            Spinner spinner7 = (Spinner) getActivity().findViewById(R.id.spinnerTrailAxle);\n            ArrayAdapter&lt;CharSequence&gt; adapter7 = ArrayAdapter.createFromResource(this.getActivity(), R.array.TrailAxle, android.R.layout.simple_spinner_item);\n            adapter7.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n            spinner7.setAdapter(adapter7);\n            spinner7.setOnItemSelectedListener(this);\n        }\n\n@Override\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n    }\n\n</code></pre>\n<p>The program suppose to change spinner7 depending on that has been chosen in spinner3, by replacing the array &quot;TrailAxle&quot; with &quot;TrailAxle1&quot;.\nTrailAxle has just one option - &quot;No&quot;. The TrailAxle1 has two options - &quot;Steerable&quot; and &quot;Fixed&quot;.\nThe problem that I have is that after replacing the array (code works fine here) with the new one I can't chose the value in new spinner. It always remains the first choise - meaning &quot;Steerable&quot;.\nEven if I click on &quot;Fixed&quot;, spinner doesn't keep this value and goes to &quot;Steerable&quot;.</p>\n<p>Do you know how to make the spinner to keep the chosen value of the new array?</p>\n"},{"tags":["java","file-management","jedit"],"comments":[{"owner":{"display_name":"user10316011"},"score":0,"creation_date":1547121994,"post_id":54119479,"comment_id":95087860,"body_markdown":"JEdit is a text editor and not necessarily the best tool for moving files around. Seems to be an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). What do you actually want to achieve? (why does it have to be using jedit?)","body":"JEdit is a text editor and not necessarily the best tool for moving files around. Seems to be an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What do you actually want to achieve? (why does it have to be using jedit?)"},{"owner":{"display_name":"user10316011"},"score":1,"creation_date":1547122285,"post_id":54119479,"comment_id":95088022,"body_markdown":"If you are editing some project and want to move a file somewhere else, then it is probably save as to new location, close original, delete original on file system using whatever file system explorer thingy your OS provides. Is that your question?","body":"If you are editing some project and want to move a file somewhere else, then it is probably save as to new location, close original, delete original on file system using whatever file system explorer thingy your OS provides. Is that your question?"},{"owner":{"account_id":3244900,"reputation":737,"user_id":3155816,"accept_rate":76,"display_name":"jax"},"score":0,"creation_date":1547199224,"post_id":54119479,"comment_id":95118542,"body_markdown":"@jakub_d I know that there are better ways to move a file, if that is what I am solely trying to do. But my main task is working with source code files through and my editor of choice is JEdit.I know there are better options like Sublime, Netbeans, but right now I&#39;m using JEdit. I am fairly new to JEdit, and I was wondering if anyone more advanced can help.","body":"@jakub_d I know that there are better ways to move a file, if that is what I am solely trying to do. But my main task is working with source code files through and my editor of choice is JEdit.I know there are better options like Sublime, Netbeans, but right now I&#39;m using JEdit. I am fairly new to JEdit, and I was wondering if anyone more advanced can help."},{"owner":{"account_id":3244900,"reputation":737,"user_id":3155816,"accept_rate":76,"display_name":"jax"},"score":0,"creation_date":1547199413,"post_id":54119479,"comment_id":95118652,"body_markdown":"@jakub_d Yes, that is my question and that seems to work. I didn&#39;t think of that. Thanks.","body":"@jakub_d Yes, that is my question and that seems to work. I didn&#39;t think of that. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680752718,"creation_date":1680752718,"answer_id":75945646,"question_id":54119479,"body_markdown":"The `Rename...` option on a file can actually also move it around. Not super convenient as you have to type or copy in the path, but at least it works. So to move the file one directory up you could rename it to `../thefile.txt`. If folders you want to move to do not exist, jEdit automatically creates them for you.","title":"How to Move a File in jEdit","body":"<p>The <code>Rename...</code> option on a file can actually also move it around. Not super convenient as you have to type or copy in the path, but at least it works. So to move the file one directory up you could rename it to <code>../thefile.txt</code>. If folders you want to move to do not exist, jEdit automatically creates them for you.</p>\n"}],"owner":{"account_id":3244900,"reputation":737,"user_id":3155816,"accept_rate":76,"display_name":"jax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75945646,"answer_count":1,"score":0,"last_activity_date":1680752718,"creation_date":1547073849,"question_id":54119479,"body_markdown":"In jEdit, I have a file that I want moved to another directory? I do not see an easy way to do this. Does anybody know how? I already tried looking for a plugin, but to no avail.","title":"How to Move a File in jEdit","body":"<p>In jEdit, I have a file that I want moved to another directory? I do not see an easy way to do this. Does anybody know how? I already tried looking for a plugin, but to no avail.</p>\n"},{"tags":["java","spring-boot","httpserver"],"comments":[{"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"score":0,"creation_date":1680425357,"post_id":75666731,"comment_id":133893644,"body_markdown":"This is not a duplicate of the linked post - the linked post refers to Servlets, not Webflux.","body":"This is not a duplicate of the linked post - the linked post refers to Servlets, not Webflux."}],"owner":{"account_id":4485425,"reputation":169,"user_id":3648235,"accept_rate":0,"display_name":"user3648235"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680751355,"creation_date":1678219865,"question_id":75666731,"body_markdown":"How can I get the domain name of the website making the request from the ServerHttpRequest object. The domain name as seen in the browser. \r\n\r\nHere is what I did, but it doesn&#39;t display the domain name from browser. \r\n\r\n```\r\nServerHttpRequest requests = request.getRequest();\r\n\r\nlogger.info(requests.getRemoteAddress())\r\nlogger.info(requests.getRemoteAddress().getHostName())\r\nlogger.info(requests.getHeaders().getOrEmpty(&quot;origin&quot;).get(0))\r\nlogger.info(requests.getHeaders().getOrEmpty(&quot;referer&quot;).get(0))\r\n```\r\n\r\nAll those are not successful. Sometimes I see the domain in the &quot;origin&quot; field of Header or in the &quot;referer&quot; field, and sometimes I do not see it. It is not consistently showing it. How can I get consistently the domain name of the website making the request?\r\n\r\n","title":"Retrieve the browser domain name from the Webflux ServerHttpRequest","body":"<p>How can I get the domain name of the website making the request from the ServerHttpRequest object. The domain name as seen in the browser.</p>\n<p>Here is what I did, but it doesn't display the domain name from browser.</p>\n<pre><code>ServerHttpRequest requests = request.getRequest();\n\nlogger.info(requests.getRemoteAddress())\nlogger.info(requests.getRemoteAddress().getHostName())\nlogger.info(requests.getHeaders().getOrEmpty(&quot;origin&quot;).get(0))\nlogger.info(requests.getHeaders().getOrEmpty(&quot;referer&quot;).get(0))\n</code></pre>\n<p>All those are not successful. Sometimes I see the domain in the &quot;origin&quot; field of Header or in the &quot;referer&quot; field, and sometimes I do not see it. It is not consistently showing it. How can I get consistently the domain name of the website making the request?</p>\n"},{"tags":["java","android","pusher"],"owner":{"account_id":10280164,"reputation":165,"user_id":7585625,"accept_rate":33,"display_name":"sanjay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680751234,"creation_date":1679815443,"question_id":75846410,"body_markdown":"I received the notification but I didn&#39;t know where the notification is execute. In case of foreground,I received notification **onMessageReceived** but In case of background and terminate, I was unable to listen the notification listener.\r\n\r\n        public class PusherMessagingService extends FirebaseMessagingService {\r\n        @Override\r\n        public void onMessageReceived(RemoteMessage remoteMessage) {\r\n            // We just got a notification\r\n    \r\n            super.onMessageReceived(remoteMessage);\r\n            try {\r\n                JSONObject json = new JSONObject(remoteMessage.getData().toString());\r\n    \r\n                if (remoteMessage.getNotification().getClickAction().equals(&quot;com.pusher.pushnotifications.OPEN_TRACKING&quot;)) {\r\n                    Intent intent = new Intent(this, MainActivity.class);\r\n                    intent.putExtra(&quot;notification&quot;, &quot;notification_center&quot;);\r\n                    intent.setAction(&quot;notification_center&quot;);\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_MUTABLE);\r\n    \r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                        // Create notification channel\r\n                        NotificationChannel channel = new NotificationChannel(getString(R.string.channel_name),\r\n                                getString(R.string.description_channel_name),\r\n                                NotificationManager.IMPORTANCE_HIGH);\r\n                        NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n                        notificationManager.createNotificationChannel(channel);\r\n                    }\r\n    \r\n    // Create notification\r\n                    NotificationCompat.Builder builder = new NotificationCompat.Builder(this, getString(R.string.channel_name))\r\n                            .setContentTitle(remoteMessage.getNotification().getTitle())\r\n                            .setContentText(remoteMessage.getNotification().getBody())\r\n                            .setSmallIcon(R.mipmap.ic_launcher)\r\n                            .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                            .setContentIntent(pendingIntent)\r\n                            .setAutoCancel(true);\r\n    \r\n                    NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\r\n                    notificationManager.notify(remoteMessage.getMessageId().hashCode(), builder.build());\r\n    \r\n                }\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nHow to navigate to custom activity while the app is in background or terminate state when user click the notification?","title":"Unable to handle notification click for Pusher Beam","body":"<p>I received the notification but I didn't know where the notification is execute. In case of foreground,I received notification <strong>onMessageReceived</strong> but In case of background and terminate, I was unable to listen the notification listener.</p>\n<pre><code>    public class PusherMessagingService extends FirebaseMessagingService {\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        // We just got a notification\n\n        super.onMessageReceived(remoteMessage);\n        try {\n            JSONObject json = new JSONObject(remoteMessage.getData().toString());\n\n            if (remoteMessage.getNotification().getClickAction().equals(&quot;com.pusher.pushnotifications.OPEN_TRACKING&quot;)) {\n                Intent intent = new Intent(this, MainActivity.class);\n                intent.putExtra(&quot;notification&quot;, &quot;notification_center&quot;);\n                intent.setAction(&quot;notification_center&quot;);\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_MUTABLE);\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    // Create notification channel\n                    NotificationChannel channel = new NotificationChannel(getString(R.string.channel_name),\n                            getString(R.string.description_channel_name),\n                            NotificationManager.IMPORTANCE_HIGH);\n                    NotificationManager notificationManager = getSystemService(NotificationManager.class);\n                    notificationManager.createNotificationChannel(channel);\n                }\n\n// Create notification\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, getString(R.string.channel_name))\n                        .setContentTitle(remoteMessage.getNotification().getTitle())\n                        .setContentText(remoteMessage.getNotification().getBody())\n                        .setSmallIcon(R.mipmap.ic_launcher)\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\n                        .setContentIntent(pendingIntent)\n                        .setAutoCancel(true);\n\n                NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\n                notificationManager.notify(remoteMessage.getMessageId().hashCode(), builder.build());\n\n            }\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>How to navigate to custom activity while the app is in background or terminate state when user click the notification?</p>\n"},{"tags":["java","spring","spring-boot","yaml","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":14704379,"reputation":89,"user_id":10619545,"display_name":"Steve-Buglione"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680750637,"creation_date":1680750637,"answer_id":75945519,"question_id":75945518,"body_markdown":"I would like to contribute a solution to the community regarding a common issue that many are facing. The problem stems from the fact that the yaml parser used in spring boot called snakeyaml v1.33, has known security vulnerabilities (CVEs). While some may consider these vulnerabilities to be a false positives based on the way snakeyaml is being used in their application, they still present a potential security risk. The only solution is to upgrade to spring boot 2.7.10 or a later version that includes a fix, allowing you to upgrade the version of snakeyaml to 2.0. If you were to upgrade to snakeyaml version 2.0 on any version of spring boot below version 2.7.10 you would get the following error:\r\n\r\n```\r\njava.lang.NoSuchMethodError: org.yaml.snakeyaml.representer.Representer: method &#39;void &lt;init&gt;()&#39; not found\r\n```\r\n\r\nI would like to offer a solution to address this issue. Assuming that you cannot upgrade to a newer version of spring boot and using properties-based configuration is not a viable option. Please use the code below allow for the configuration of snakeyaml 2.0 in your project. \r\n\r\n```java\r\npackage com.example.demo.yaml;\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.NoSuchElementException;\r\nimport java.util.regex.Pattern;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\nimport org.yaml.snakeyaml.DumperOptions;\r\nimport org.yaml.snakeyaml.LoaderOptions;\r\nimport org.yaml.snakeyaml.Yaml;\r\nimport org.yaml.snakeyaml.constructor.BaseConstructor;\r\nimport org.yaml.snakeyaml.constructor.Constructor;\r\nimport org.yaml.snakeyaml.constructor.SafeConstructor;\r\nimport org.yaml.snakeyaml.error.Mark;\r\nimport org.yaml.snakeyaml.nodes.CollectionNode;\r\nimport org.yaml.snakeyaml.nodes.MappingNode;\r\nimport org.yaml.snakeyaml.nodes.Node;\r\nimport org.yaml.snakeyaml.nodes.NodeTuple;\r\nimport org.yaml.snakeyaml.nodes.ScalarNode;\r\nimport org.yaml.snakeyaml.nodes.Tag;\r\nimport org.yaml.snakeyaml.representer.Representer;\r\nimport org.yaml.snakeyaml.resolver.Resolver;\r\n\r\nimport org.springframework.beans.factory.config.YamlProcessor;\r\nimport org.springframework.boot.origin.Origin;\r\nimport org.springframework.boot.origin.OriginTrackedValue;\r\nimport org.springframework.boot.origin.TextResourceOrigin;\r\nimport org.springframework.boot.origin.TextResourceOrigin.Location;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.util.ReflectionUtils;\r\n\r\n/**\r\n * Class to load {@code .yml} files into a map of {@code String} to\r\n * {@link OriginTrackedValue}.\r\n *\r\n * @author Madhura Bhave\r\n * @author Phillip Webb\r\n */\r\nclass CustomOriginTrackedYamlLoader extends YamlProcessor {\r\n\r\n    private static final boolean HAS_RESOLVER_LIMIT = ReflectionUtils.findMethod(Resolver.class, &quot;addImplicitResolver&quot;,\r\n            Tag.class, Pattern.class, String.class, int.class) != null;\r\n\r\n    private final Resource resource;\r\n\r\n    CustomOriginTrackedYamlLoader(Resource resource) {\r\n        this.resource = resource;\r\n        setResources(resource);\r\n    }\r\n\r\n    @Override\r\n    protected Yaml createYaml() {\r\n        LoaderOptions loaderOptions = new LoaderOptions();\r\n        loaderOptions.setAllowDuplicateKeys(false);\r\n        loaderOptions.setMaxAliasesForCollections(Integer.MAX_VALUE);\r\n        loaderOptions.setAllowRecursiveKeys(true);\r\n        return createYaml(loaderOptions);\r\n    }\r\n\r\n    private Yaml createYaml(LoaderOptions loaderOptions) {\r\n        BaseConstructor constructor = new OriginTrackingConstructor(loaderOptions);\r\n        DumperOptions dumperOptions = new DumperOptions();\r\n        Representer representer = new Representer(dumperOptions);\r\n        Resolver resolver = HAS_RESOLVER_LIMIT ? new NoTimestampResolverWithLimit() : new NoTimestampResolver();\r\n        return new Yaml(constructor, representer, dumperOptions, loaderOptions, resolver);\r\n    }\r\n    List&lt;Map&lt;String, Object&gt;&gt; load() {\r\n        final List&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        process((properties, map) -&gt; result.add(getFlattenedMap(map)));\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * {@link Constructor} that tracks property origins.\r\n     */\r\n    private class OriginTrackingConstructor extends SafeConstructor {\r\n\r\n        OriginTrackingConstructor(LoaderOptions loadingConfig) {\r\n            super(loadingConfig);\r\n        }\r\n\r\n        @Override\r\n        public Object getData() throws NoSuchElementException {\r\n            Object data = super.getData();\r\n            if (data instanceof CharSequence &amp;&amp; ((CharSequence) data).length() == 0) {\r\n                return null;\r\n            }\r\n            return data;\r\n        }\r\n\r\n        @Override\r\n        protected Object constructObject(Node node) {\r\n            if (node instanceof CollectionNode &amp;&amp; ((CollectionNode&lt;?&gt;) node).getValue().isEmpty()) {\r\n                return constructTrackedObject(node, super.constructObject(node));\r\n            }\r\n            if (node instanceof ScalarNode) {\r\n                if (!(node instanceof CustomOriginTrackedYamlLoader.KeyScalarNode)) {\r\n                    return constructTrackedObject(node, super.constructObject(node));\r\n                }\r\n            }\r\n            if (node instanceof MappingNode) {\r\n                replaceMappingNodeKeys((MappingNode) node);\r\n            }\r\n            return super.constructObject(node);\r\n        }\r\n\r\n        private void replaceMappingNodeKeys(MappingNode node) {\r\n            node.setValue(node.getValue().stream().map(CustomOriginTrackedYamlLoader.KeyScalarNode::get).collect(Collectors.toList()));\r\n        }\r\n\r\n        private Object constructTrackedObject(Node node, Object value) {\r\n            Origin origin = getOrigin(node);\r\n            return OriginTrackedValue.of(getValue(value), origin);\r\n        }\r\n\r\n        private Object getValue(Object value) {\r\n            return (value != null) ? value : &quot;&quot;;\r\n        }\r\n\r\n        private Origin getOrigin(Node node) {\r\n            Mark mark = node.getStartMark();\r\n            Location location = new Location(mark.getLine(), mark.getColumn());\r\n            return new TextResourceOrigin(CustomOriginTrackedYamlLoader.this.resource, location);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * {@link ScalarNode} that replaces the key node in a {@link NodeTuple}.\r\n     */\r\n    private static class KeyScalarNode extends ScalarNode {\r\n\r\n        KeyScalarNode(ScalarNode node) {\r\n            super(node.getTag(), node.getValue(), node.getStartMark(), node.getEndMark(), node.getScalarStyle());\r\n        }\r\n\r\n        static NodeTuple get(NodeTuple nodeTuple) {\r\n            Node keyNode = nodeTuple.getKeyNode();\r\n            Node valueNode = nodeTuple.getValueNode();\r\n            return new NodeTuple(CustomOriginTrackedYamlLoader.KeyScalarNode.get(keyNode), valueNode);\r\n        }\r\n\r\n        private static Node get(Node node) {\r\n            if (node instanceof ScalarNode) {\r\n                return new CustomOriginTrackedYamlLoader.KeyScalarNode((ScalarNode) node);\r\n            }\r\n            return node;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * {@link Resolver} that limits {@link Tag#TIMESTAMP} tags.\r\n     */\r\n    private static class NoTimestampResolver extends Resolver {\r\n\r\n        @Override\r\n        public void addImplicitResolver(Tag tag, Pattern regexp, String first) {\r\n            if (tag == Tag.TIMESTAMP) {\r\n                return;\r\n            }\r\n            super.addImplicitResolver(tag, regexp, first);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * {@link Resolver} that limits {@link Tag#TIMESTAMP} tags.\r\n     */\r\n    private static class NoTimestampResolverWithLimit extends Resolver {\r\n\r\n        @Override\r\n        public void addImplicitResolver(Tag tag, Pattern regexp, String first, int limit) {\r\n            if (tag == Tag.TIMESTAMP) {\r\n                return;\r\n            }\r\n            super.addImplicitResolver(tag, regexp, first, limit);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n```java\r\npackage com.example.demo.yaml;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.springframework.boot.env.OriginTrackedMapPropertySource;\r\nimport org.springframework.boot.env.PropertySourceLoader;\r\nimport org.springframework.core.env.PropertySource;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.util.ClassUtils;\r\n\r\n/**\r\n * Strategy to load &#39;.yml&#39; (or &#39;.yaml&#39;) files into a {@link PropertySource}.\r\n *\r\n * @author Dave Syer\r\n * @author Phillip Webb\r\n * @author Andy Wilkinson\r\n * @since 1.0.0\r\n */\r\npublic class CustomYamlPropertySourceLoader implements PropertySourceLoader {\r\n\r\n    @Override\r\n    public String[] getFileExtensions() {\r\n        return new String[] { &quot;yml&quot;, &quot;yaml&quot; };\r\n    }\r\n\r\n    @Override\r\n    public List&lt;PropertySource&lt;?&gt;&gt; load(String name, Resource resource) throws IOException {\r\n        if (!ClassUtils.isPresent(&quot;org.yaml.snakeyaml.Yaml&quot;, getClass().getClassLoader())) {\r\n            throw new IllegalStateException(\r\n                    &quot;Attempted to load &quot; + name + &quot; but snakeyaml was not found on the classpath&quot;);\r\n        }\r\n        List&lt;Map&lt;String, Object&gt;&gt; loaded = new CustomOriginTrackedYamlLoader(resource).load();\r\n        if (loaded.isEmpty()) {\r\n            return Collections.emptyList();\r\n        }\r\n        List&lt;PropertySource&lt;?&gt;&gt; propertySources = new ArrayList&lt;&gt;(loaded.size());\r\n        for (int i = 0; i &lt; loaded.size(); i++) {\r\n            String documentNumber = (loaded.size() != 1) ? &quot; (document #&quot; + i + &quot;)&quot; : &quot;&quot;;\r\n            propertySources.add(new OriginTrackedMapPropertySource(name + documentNumber,\r\n                    Collections.unmodifiableMap(loaded.get(i)), true));\r\n        }\r\n        return propertySources;\r\n    }\r\n\r\n}\r\n```\r\n\r\nsrc/main/resources/META-INF/spring.factories\r\n\r\n```\r\n# PropertySource Loaders\r\norg.springframework.boot.env.PropertySourceLoader=\\\r\norg.springframework.boot.env.PropertiesPropertySourceLoader,\\\r\ncom.example.demo.yaml.CustomYamlPropertySourceLoader\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nlink to github: [Spring-Boot-SnakeYAML2-Upgrade][1]\r\n\r\n\r\n  [1]: https://github.com/StevenBuglione/spring-boot-2-snakeyaml2-upgrade","title":"How to upgrade your Spring Boot 2.x application to use SnakeYAML 2.0?","body":"<p>I would like to contribute a solution to the community regarding a common issue that many are facing. The problem stems from the fact that the yaml parser used in spring boot called snakeyaml v1.33, has known security vulnerabilities (CVEs). While some may consider these vulnerabilities to be a false positives based on the way snakeyaml is being used in their application, they still present a potential security risk. The only solution is to upgrade to spring boot 2.7.10 or a later version that includes a fix, allowing you to upgrade the version of snakeyaml to 2.0. If you were to upgrade to snakeyaml version 2.0 on any version of spring boot below version 2.7.10 you would get the following error:</p>\n<pre><code>java.lang.NoSuchMethodError: org.yaml.snakeyaml.representer.Representer: method 'void &lt;init&gt;()' not found\n</code></pre>\n<p>I would like to offer a solution to address this issue. Assuming that you cannot upgrade to a newer version of spring boot and using properties-based configuration is not a viable option. Please use the code below allow for the configuration of snakeyaml 2.0 in your project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.yaml;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.NoSuchElementException;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\n\n\nimport org.yaml.snakeyaml.DumperOptions;\nimport org.yaml.snakeyaml.LoaderOptions;\nimport org.yaml.snakeyaml.Yaml;\nimport org.yaml.snakeyaml.constructor.BaseConstructor;\nimport org.yaml.snakeyaml.constructor.Constructor;\nimport org.yaml.snakeyaml.constructor.SafeConstructor;\nimport org.yaml.snakeyaml.error.Mark;\nimport org.yaml.snakeyaml.nodes.CollectionNode;\nimport org.yaml.snakeyaml.nodes.MappingNode;\nimport org.yaml.snakeyaml.nodes.Node;\nimport org.yaml.snakeyaml.nodes.NodeTuple;\nimport org.yaml.snakeyaml.nodes.ScalarNode;\nimport org.yaml.snakeyaml.nodes.Tag;\nimport org.yaml.snakeyaml.representer.Representer;\nimport org.yaml.snakeyaml.resolver.Resolver;\n\nimport org.springframework.beans.factory.config.YamlProcessor;\nimport org.springframework.boot.origin.Origin;\nimport org.springframework.boot.origin.OriginTrackedValue;\nimport org.springframework.boot.origin.TextResourceOrigin;\nimport org.springframework.boot.origin.TextResourceOrigin.Location;\nimport org.springframework.core.io.Resource;\nimport org.springframework.util.ReflectionUtils;\n\n/**\n * Class to load {@code .yml} files into a map of {@code String} to\n * {@link OriginTrackedValue}.\n *\n * @author Madhura Bhave\n * @author Phillip Webb\n */\nclass CustomOriginTrackedYamlLoader extends YamlProcessor {\n\n    private static final boolean HAS_RESOLVER_LIMIT = ReflectionUtils.findMethod(Resolver.class, &quot;addImplicitResolver&quot;,\n            Tag.class, Pattern.class, String.class, int.class) != null;\n\n    private final Resource resource;\n\n    CustomOriginTrackedYamlLoader(Resource resource) {\n        this.resource = resource;\n        setResources(resource);\n    }\n\n    @Override\n    protected Yaml createYaml() {\n        LoaderOptions loaderOptions = new LoaderOptions();\n        loaderOptions.setAllowDuplicateKeys(false);\n        loaderOptions.setMaxAliasesForCollections(Integer.MAX_VALUE);\n        loaderOptions.setAllowRecursiveKeys(true);\n        return createYaml(loaderOptions);\n    }\n\n    private Yaml createYaml(LoaderOptions loaderOptions) {\n        BaseConstructor constructor = new OriginTrackingConstructor(loaderOptions);\n        DumperOptions dumperOptions = new DumperOptions();\n        Representer representer = new Representer(dumperOptions);\n        Resolver resolver = HAS_RESOLVER_LIMIT ? new NoTimestampResolverWithLimit() : new NoTimestampResolver();\n        return new Yaml(constructor, representer, dumperOptions, loaderOptions, resolver);\n    }\n    List&lt;Map&lt;String, Object&gt;&gt; load() {\n        final List&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;&gt;();\n        process((properties, map) -&gt; result.add(getFlattenedMap(map)));\n        return result;\n    }\n\n    /**\n     * {@link Constructor} that tracks property origins.\n     */\n    private class OriginTrackingConstructor extends SafeConstructor {\n\n        OriginTrackingConstructor(LoaderOptions loadingConfig) {\n            super(loadingConfig);\n        }\n\n        @Override\n        public Object getData() throws NoSuchElementException {\n            Object data = super.getData();\n            if (data instanceof CharSequence &amp;&amp; ((CharSequence) data).length() == 0) {\n                return null;\n            }\n            return data;\n        }\n\n        @Override\n        protected Object constructObject(Node node) {\n            if (node instanceof CollectionNode &amp;&amp; ((CollectionNode&lt;?&gt;) node).getValue().isEmpty()) {\n                return constructTrackedObject(node, super.constructObject(node));\n            }\n            if (node instanceof ScalarNode) {\n                if (!(node instanceof CustomOriginTrackedYamlLoader.KeyScalarNode)) {\n                    return constructTrackedObject(node, super.constructObject(node));\n                }\n            }\n            if (node instanceof MappingNode) {\n                replaceMappingNodeKeys((MappingNode) node);\n            }\n            return super.constructObject(node);\n        }\n\n        private void replaceMappingNodeKeys(MappingNode node) {\n            node.setValue(node.getValue().stream().map(CustomOriginTrackedYamlLoader.KeyScalarNode::get).collect(Collectors.toList()));\n        }\n\n        private Object constructTrackedObject(Node node, Object value) {\n            Origin origin = getOrigin(node);\n            return OriginTrackedValue.of(getValue(value), origin);\n        }\n\n        private Object getValue(Object value) {\n            return (value != null) ? value : &quot;&quot;;\n        }\n\n        private Origin getOrigin(Node node) {\n            Mark mark = node.getStartMark();\n            Location location = new Location(mark.getLine(), mark.getColumn());\n            return new TextResourceOrigin(CustomOriginTrackedYamlLoader.this.resource, location);\n        }\n\n    }\n\n    /**\n     * {@link ScalarNode} that replaces the key node in a {@link NodeTuple}.\n     */\n    private static class KeyScalarNode extends ScalarNode {\n\n        KeyScalarNode(ScalarNode node) {\n            super(node.getTag(), node.getValue(), node.getStartMark(), node.getEndMark(), node.getScalarStyle());\n        }\n\n        static NodeTuple get(NodeTuple nodeTuple) {\n            Node keyNode = nodeTuple.getKeyNode();\n            Node valueNode = nodeTuple.getValueNode();\n            return new NodeTuple(CustomOriginTrackedYamlLoader.KeyScalarNode.get(keyNode), valueNode);\n        }\n\n        private static Node get(Node node) {\n            if (node instanceof ScalarNode) {\n                return new CustomOriginTrackedYamlLoader.KeyScalarNode((ScalarNode) node);\n            }\n            return node;\n        }\n\n    }\n\n    /**\n     * {@link Resolver} that limits {@link Tag#TIMESTAMP} tags.\n     */\n    private static class NoTimestampResolver extends Resolver {\n\n        @Override\n        public void addImplicitResolver(Tag tag, Pattern regexp, String first) {\n            if (tag == Tag.TIMESTAMP) {\n                return;\n            }\n            super.addImplicitResolver(tag, regexp, first);\n        }\n\n    }\n\n    /**\n     * {@link Resolver} that limits {@link Tag#TIMESTAMP} tags.\n     */\n    private static class NoTimestampResolverWithLimit extends Resolver {\n\n        @Override\n        public void addImplicitResolver(Tag tag, Pattern regexp, String first, int limit) {\n            if (tag == Tag.TIMESTAMP) {\n                return;\n            }\n            super.addImplicitResolver(tag, regexp, first, limit);\n        }\n\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.yaml;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.boot.env.OriginTrackedMapPropertySource;\nimport org.springframework.boot.env.PropertySourceLoader;\nimport org.springframework.core.env.PropertySource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.util.ClassUtils;\n\n/**\n * Strategy to load '.yml' (or '.yaml') files into a {@link PropertySource}.\n *\n * @author Dave Syer\n * @author Phillip Webb\n * @author Andy Wilkinson\n * @since 1.0.0\n */\npublic class CustomYamlPropertySourceLoader implements PropertySourceLoader {\n\n    @Override\n    public String[] getFileExtensions() {\n        return new String[] { &quot;yml&quot;, &quot;yaml&quot; };\n    }\n\n    @Override\n    public List&lt;PropertySource&lt;?&gt;&gt; load(String name, Resource resource) throws IOException {\n        if (!ClassUtils.isPresent(&quot;org.yaml.snakeyaml.Yaml&quot;, getClass().getClassLoader())) {\n            throw new IllegalStateException(\n                    &quot;Attempted to load &quot; + name + &quot; but snakeyaml was not found on the classpath&quot;);\n        }\n        List&lt;Map&lt;String, Object&gt;&gt; loaded = new CustomOriginTrackedYamlLoader(resource).load();\n        if (loaded.isEmpty()) {\n            return Collections.emptyList();\n        }\n        List&lt;PropertySource&lt;?&gt;&gt; propertySources = new ArrayList&lt;&gt;(loaded.size());\n        for (int i = 0; i &lt; loaded.size(); i++) {\n            String documentNumber = (loaded.size() != 1) ? &quot; (document #&quot; + i + &quot;)&quot; : &quot;&quot;;\n            propertySources.add(new OriginTrackedMapPropertySource(name + documentNumber,\n                    Collections.unmodifiableMap(loaded.get(i)), true));\n        }\n        return propertySources;\n    }\n\n}\n</code></pre>\n<p>src/main/resources/META-INF/spring.factories</p>\n<pre><code># PropertySource Loaders\norg.springframework.boot.env.PropertySourceLoader=\\\norg.springframework.boot.env.PropertiesPropertySourceLoader,\\\ncom.example.demo.yaml.CustomYamlPropertySourceLoader\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n                &lt;version&gt;2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>link to github: <a href=\"https://github.com/StevenBuglione/spring-boot-2-snakeyaml2-upgrade\" rel=\"nofollow noreferrer\">Spring-Boot-SnakeYAML2-Upgrade</a></p>\n"}],"owner":{"account_id":14704379,"reputation":89,"user_id":10619545,"display_name":"Steve-Buglione"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3696,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680750637,"creation_date":1680750637,"question_id":75945518,"body_markdown":"What steps should be taken to upgrade a Spring Boot 2.x application and enable it to use SnakeYAML 2.0 instead of the vulnerable version of snakeyaml that it currently utilizes?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to upgrade your Spring Boot 2.x application to use SnakeYAML 2.0?","body":"<p>What steps should be taken to upgrade a Spring Boot 2.x application and enable it to use SnakeYAML 2.0 instead of the vulnerable version of snakeyaml that it currently utilizes?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":22945300,"reputation":3,"user_id":17077358,"display_name":"kiran"},"score":0,"creation_date":1683179496,"post_id":75940361,"comment_id":134327281,"body_markdown":"@jffc I am wondering from where did you get this xpath of about button in last line of code. Because the xpath I am getting for about button is this //*[@id=&quot;about_sidebar_link&quot;] and using this xpath I am not navigating to the next page. Can you please tell me.","body":"@jffc I am wondering from where did you get this xpath of about button in last line of code. Because the xpath I am getting for about button is this //*[@id=&quot;about_sidebar_link&quot;] and using this xpath I am not navigating to the next page. Can you please tell me."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1683208762,"post_id":75940361,"comment_id":134334086,"body_markdown":"I don&#39;t use the devtools Copy &gt; Copy XPath, etc. I handcraft all my locators based on experience.","body":"I don&#39;t use the devtools Copy &gt; Copy XPath, etc. I handcraft all my locators based on experience."}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680750357,"creation_date":1680703175,"answer_id":75940361,"question_id":75938996,"body_markdown":"The problem was that when you click the hamburger menu, it takes a moment to open so you need to add a wait. The script runs so fast that it clicks the right element but it&#39;s still going through the open animation so isn&#39;t able to be interacted with/clicked.\r\n\r\nI&#39;ve updated some of your locators to more consistently use IDs when available but the code below is working.\r\n\r\n    driver.findElement(By.id(&quot;user-name&quot;)).sendKeys(&quot;standard_user&quot;);\r\n    driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;secret_sauce&quot;);\r\n    driver.findElement(By.id(&quot;login-button&quot;)).click();\r\n    driver.findElement(By.id(&quot;react-burger-menu-btn&quot;)).click();\r\n    new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//nav/a[text()=&#39;About&#39;]&quot;))).click();\r\n","title":"Getting element not interactable: https://saucelabs.com/ has no size and location","body":"<p>The problem was that when you click the hamburger menu, it takes a moment to open so you need to add a wait. The script runs so fast that it clicks the right element but it's still going through the open animation so isn't able to be interacted with/clicked.</p>\n<p>I've updated some of your locators to more consistently use IDs when available but the code below is working.</p>\n<pre><code>driver.findElement(By.id(&quot;user-name&quot;)).sendKeys(&quot;standard_user&quot;);\ndriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;secret_sauce&quot;);\ndriver.findElement(By.id(&quot;login-button&quot;)).click();\ndriver.findElement(By.id(&quot;react-burger-menu-btn&quot;)).click();\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//nav/a[text()='About']&quot;))).click();\n</code></pre>\n"}],"owner":{"account_id":22945300,"reputation":3,"user_id":17077358,"display_name":"kiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75940361,"answer_count":1,"score":0,"last_activity_date":1680750357,"creation_date":1680695028,"question_id":75938996,"body_markdown":"I am getting this error** element not interactable: https://saucelabs.com/ has no size and location** when I click on hamburger menu and then click anyoption from submenu I tried work around but its not working \r\n\r\nI am using selinium with java andd this is my code that I am writting and getting error \r\n\r\n```\r\npackage codeclass;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.interactions.Actions;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class assign1code {\r\n    public static void main(String[] args){\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://www.saucedemo.com/&quot;);\r\n        driver.manage().window().maximize();\r\n        \r\n        WebElement email=driver.findElement(By.id(&quot;user-name&quot;));\r\n        email.sendKeys(&quot;standard_user&quot;);\r\n        WebElement password=driver.findElement(By.xpath(&quot;//*[@id=\\&quot;password\\&quot;]&quot;));\r\n        password.sendKeys(&quot;secret_sauce&quot;);\r\n        driver.findElement(By.id(&quot;login-button&quot;)).click();\r\n        //identify menu\r\n\r\n        WebElement n=driver.findElement(By.xpath(&quot;/html/body/div/div/div/div[1]/div[1]/div[1]/div/div[1]/div/button&quot;));\r\n        // object of Actions with method moveToElement\r\n\r\n        Actions a=new Actions(driver);\r\n\r\n        a.moveToElement(n).perform();\r\n        //identify sub-menu element\r\n\r\n        WebElement m= driver.findElement(By.xpath(&quot;/html/body/div/div/div/div[1]/div[1]/div[1]/div/div[2]/div[1]/nav/a[2]&quot;));\r\n        a.moveToElement(m).click().perform();\r\n\r\n        //driver.quit();\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried above code and it should open hamburger menu and should be able to click option from submenu","title":"Getting element not interactable: https://saucelabs.com/ has no size and location","body":"<p>I am getting this error** element not interactable: <a href=\"https://saucelabs.com/\" rel=\"nofollow noreferrer\">https://saucelabs.com/</a> has no size and location** when I click on hamburger menu and then click anyoption from submenu I tried work around but its not working</p>\n<p>I am using selinium with java andd this is my code that I am writting and getting error</p>\n<pre><code>package codeclass;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport java.time.Duration;\nimport java.util.concurrent.TimeUnit;\n\npublic class assign1code {\n    public static void main(String[] args){\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.saucedemo.com/&quot;);\n        driver.manage().window().maximize();\n        \n        WebElement email=driver.findElement(By.id(&quot;user-name&quot;));\n        email.sendKeys(&quot;standard_user&quot;);\n        WebElement password=driver.findElement(By.xpath(&quot;//*[@id=\\&quot;password\\&quot;]&quot;));\n        password.sendKeys(&quot;secret_sauce&quot;);\n        driver.findElement(By.id(&quot;login-button&quot;)).click();\n        //identify menu\n\n        WebElement n=driver.findElement(By.xpath(&quot;/html/body/div/div/div/div[1]/div[1]/div[1]/div/div[1]/div/button&quot;));\n        // object of Actions with method moveToElement\n\n        Actions a=new Actions(driver);\n\n        a.moveToElement(n).perform();\n        //identify sub-menu element\n\n        WebElement m= driver.findElement(By.xpath(&quot;/html/body/div/div/div/div[1]/div[1]/div[1]/div/div[2]/div[1]/nav/a[2]&quot;));\n        a.moveToElement(m).click().perform();\n\n        //driver.quit();\n\n    }\n}\n</code></pre>\n<p>I tried above code and it should open hamburger menu and should be able to click option from submenu</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1680709272,"post_id":75941366,"comment_id":133945071,"body_markdown":"No, you can&#39;t do that but you can use a combination of Prefix and [MaxKeys](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/ListObjectsRequest.html#withMaxKeys-java.lang.Integer-). Alternatively, if the bucket is fairly static, a daily S3 inventory list might suffice.","body":"No, you can&#39;t do that but you can use a combination of Prefix and <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/ListObjectsRequest.html#withMaxKeys-java.lang.Integer-\" rel=\"nofollow noreferrer\">MaxKeys</a>. Alternatively, if the bucket is fairly static, a daily S3 inventory list might suffice."},{"owner":{"account_id":16477377,"reputation":1551,"user_id":12283863,"display_name":"Rawley Fowler"},"score":0,"creation_date":1680709720,"post_id":75941366,"comment_id":133945214,"body_markdown":"@jarmod Hmm I don&#39;t think that will do what I need. Mainly because I&#39;ll need all of files I&#39;m looking for at once. If I query by `MaxKeys` I think I&#39;ll just get the first bunch over and over.","body":"@jarmod Hmm I don&#39;t think that will do what I need. Mainly because I&#39;ll need all of files I&#39;m looking for at once. If I query by <code>MaxKeys</code> I think I&#39;ll just get the first bunch over and over."},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1680709769,"post_id":75941366,"comment_id":133945222,"body_markdown":"Right, it won&#39;t do that because it can&#39;t do that. Alternatively, issue up to 500 HeadObject requests to see if the desired object(s) exist.","body":"Right, it won&#39;t do that because it can&#39;t do that. Alternatively, issue up to 500 HeadObject requests to see if the desired object(s) exist."},{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1680735370,"post_id":75941366,"comment_id":133950635,"body_markdown":"Why are you wanting to &#39;list&#39; objects given that you already know the keys of the objects? What are you _actually_ wanting to achieve out of this?","body":"Why are you wanting to &#39;list&#39; objects given that you already know the keys of the objects? What are you <i>actually</i> wanting to achieve out of this?"},{"owner":{"account_id":16477377,"reputation":1551,"user_id":12283863,"display_name":"Rawley Fowler"},"score":0,"creation_date":1680737428,"post_id":75941366,"comment_id":133950864,"body_markdown":"@JohnRotenstein The files are the result of AWS DataSync and my database knows nothing of their size unfortunately I need to get their size into the database that keeps track of them.","body":"@JohnRotenstein The files are the result of AWS DataSync and my database knows nothing of their size unfortunately I need to get their size into the database that keeps track of them."},{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1680740889,"post_id":75941366,"comment_id":133951221,"body_markdown":"Have you considered creating an AWS Lambda function that is triggered when objects are created in the bucket? The Lambda function could retrieve the size of the object and update your database. This would happen as soon as the objects appear, rather than having to scan for them later.","body":"Have you considered creating an AWS Lambda function that is triggered when objects are created in the bucket? The Lambda function could retrieve the size of the object and update your database. This would happen as soon as the objects appear, rather than having to scan for them later."},{"owner":{"account_id":16477377,"reputation":1551,"user_id":12283863,"display_name":"Rawley Fowler"},"score":0,"creation_date":1680741312,"post_id":75941366,"comment_id":133951273,"body_markdown":"@JohnRotenstein That was my initial plan but unfortunately the DataSync was run before I had a chance to implement it. It was not my choice.","body":"@JohnRotenstein That was my initial plan but unfortunately the DataSync was run before I had a chance to implement it. It was not my choice."},{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1680743328,"post_id":75941366,"comment_id":133951483,"body_markdown":"Can you implement the Lambda functionality for &#39;future&#39; objects, and then do something one-off for the &#39;existing&#39; objects? If so, performance won&#39;t matter for the existing objects.","body":"Can you implement the Lambda functionality for &#39;future&#39; objects, and then do something one-off for the &#39;existing&#39; objects? If so, performance won&#39;t matter for the existing objects."},{"owner":{"account_id":16477377,"reputation":1551,"user_id":12283863,"display_name":"Rawley Fowler"},"score":0,"creation_date":1680748767,"post_id":75941366,"comment_id":133952094,"body_markdown":"@JohnRotenstein unfortunately everything has already been moved, future sync&#39;s wont happen. This was for a one-time data migration from some non-S3 data store, I think we really screwed up by missing out on implementing this lambda.","body":"@JohnRotenstein unfortunately everything has already been moved, future sync&#39;s wont happen. This was for a one-time data migration from some non-S3 data store, I think we really screwed up by missing out on implementing this lambda."},{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1680749112,"post_id":75941366,"comment_id":133952125,"body_markdown":"If this is a one-off activity, you can use [Amazon S3 Inventory](https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html), which can provide a daily or weekly CSV file listing all objects. You could then populate your database from this list.","body":"If this is a one-off activity, you can use <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html\" rel=\"nofollow noreferrer\">Amazon S3 Inventory</a>, which can provide a daily or weekly CSV file listing all objects. You could then populate your database from this list."},{"owner":{"account_id":16477377,"reputation":1551,"user_id":12283863,"display_name":"Rawley Fowler"},"score":0,"creation_date":1680749153,"post_id":75941366,"comment_id":133952131,"body_markdown":"@JohnRotenstein Brilliant! I will take that as an answer if you&#39;d be so kind as to provide it","body":"@JohnRotenstein Brilliant! I will take that as an answer if you&#39;d be so kind as to provide it"}],"answers":[{"comments":[{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":1,"creation_date":1680749664,"post_id":75945456,"comment_id":133952193,"body_markdown":"@Jarmod mentioned it too!","body":"@Jarmod mentioned it too!"}],"tags":[],"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680749637,"creation_date":1680749637,"answer_id":75945456,"question_id":75941366,"body_markdown":"If this is a one-off activity, you can use [Amazon S3 Inventory](https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html), which can provide a daily or weekly CSV file listing all objects.\r\n\r\nYou could then populate your database from this list.\r\n\r\nThe list includes the object name and the size of the object, which is what you are seeking.","title":"How to get a list of S3ObjectSummaries from S3 by a list of file names?","body":"<p>If this is a one-off activity, you can use <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html\" rel=\"nofollow noreferrer\">Amazon S3 Inventory</a>, which can provide a daily or weekly CSV file listing all objects.</p>\n<p>You could then populate your database from this list.</p>\n<p>The list includes the object name and the size of the object, which is what you are seeking.</p>\n"}],"owner":{"account_id":16477377,"reputation":1551,"user_id":12283863,"display_name":"Rawley Fowler"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75945456,"answer_count":1,"score":0,"last_activity_date":1680749637,"creation_date":1680708760,"question_id":75941366,"body_markdown":"I have an S3 bucket with A LOT of files, so much so that getting all of them then iterating over etc, is just not performant enough. I&#39;d like to be able to grab 500 or so at a time from the bucket by S3 file-names. But I&#39;m not sure how to do that without making individual requests to S3, can I batch this somehow?\r\n\r\nRight now my object request looks like:\r\n```java\r\nListObjectsRequest objectsRequest = new ListObjectsRequest()\r\n\t\t.withBucketName(getBucketName())\r\n\t\t.withPrefix(getPrefix());\r\n```\r\nThen I obviously have to iterate over them, and look for the 500 or so that I want (this is really slow because the bucket is massive).\r\n\r\nI would like to be able to do something like:\r\n\r\n```java\r\nListObjectsRequest objectsRequest = new ListObjectsRequest()\r\n\t\t.withBucketName(getBucketName())\r\n\t\t.withPrefix(getPrefix())\r\n        .withFileNames(getFileNames());\r\n```\r\nWhich would return the 500 or so files I&#39;m looking for.\r\n\r\nHow can I do this? Is it possible?","title":"How to get a list of S3ObjectSummaries from S3 by a list of file names?","body":"<p>I have an S3 bucket with A LOT of files, so much so that getting all of them then iterating over etc, is just not performant enough. I'd like to be able to grab 500 or so at a time from the bucket by S3 file-names. But I'm not sure how to do that without making individual requests to S3, can I batch this somehow?</p>\n<p>Right now my object request looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListObjectsRequest objectsRequest = new ListObjectsRequest()\n        .withBucketName(getBucketName())\n        .withPrefix(getPrefix());\n</code></pre>\n<p>Then I obviously have to iterate over them, and look for the 500 or so that I want (this is really slow because the bucket is massive).</p>\n<p>I would like to be able to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListObjectsRequest objectsRequest = new ListObjectsRequest()\n        .withBucketName(getBucketName())\n        .withPrefix(getPrefix())\n        .withFileNames(getFileNames());\n</code></pre>\n<p>Which would return the 500 or so files I'm looking for.</p>\n<p>How can I do this? Is it possible?</p>\n"},{"tags":["java","passwords","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680288187,"post_id":75900025,"comment_id":133878831,"body_markdown":"No, but you could use `appendDocument()` instead.","body":"No, but you could use <code>appendDocument()</code> instead."}],"owner":{"account_id":28179870,"reputation":1,"user_id":21537062,"display_name":"John Ray"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680749558,"creation_date":1680275011,"question_id":75900025,"body_markdown":"I have below code sample and it seems to work. When the PDF is password protected, I get the error `org.apache.pdfbox.pdmodel.encryption.InvalidPassword`\r\n\r\nHow do we pass the password to `addSource` for decryption? \r\n\r\n```\r\ntry\r\n{\r\n    PDFMergerUtility mpdf = new PDFMergerUtility();\r\n    String folder = &quot;C:/Users/.../Desktop&quot;;\r\n    String destinationFileName = &quot;output.pdf&quot;; //say\r\n    File folderFile = new File(folder);\r\n\r\n    if(folderFile.isDirectory())\r\n    {\r\n        mpdf.addSource(folder + &quot;/&quot; + &quot;a.pdf&quot;);\r\n        mpdf.addSource(folder+ &quot;/&quot;+&quot;b.pdf&quot;);\r\n        mpdf.setDestinationFileName(folder + &quot;/&quot;+ destinationFileName);\r\n        mpdf.mergeDocuments();\r\n    }\r\n}\r\ncatch(Exception ex)\r\n{\r\n    logger.error(ex);\r\n}\r\n```\r\n\r\nIs there a way to pass password to avoid `org.apache.pdfbox.pdmodel.encryption.InvalidPassword`? Thanks.","title":"Pdfbox merge addsource how to decrypt","body":"<p>I have below code sample and it seems to work. When the PDF is password protected, I get the error <code>org.apache.pdfbox.pdmodel.encryption.InvalidPassword</code></p>\n<p>How do we pass the password to <code>addSource</code> for decryption?</p>\n<pre><code>try\n{\n    PDFMergerUtility mpdf = new PDFMergerUtility();\n    String folder = &quot;C:/Users/.../Desktop&quot;;\n    String destinationFileName = &quot;output.pdf&quot;; //say\n    File folderFile = new File(folder);\n\n    if(folderFile.isDirectory())\n    {\n        mpdf.addSource(folder + &quot;/&quot; + &quot;a.pdf&quot;);\n        mpdf.addSource(folder+ &quot;/&quot;+&quot;b.pdf&quot;);\n        mpdf.setDestinationFileName(folder + &quot;/&quot;+ destinationFileName);\n        mpdf.mergeDocuments();\n    }\n}\ncatch(Exception ex)\n{\n    logger.error(ex);\n}\n</code></pre>\n<p>Is there a way to pass password to avoid <code>org.apache.pdfbox.pdmodel.encryption.InvalidPassword</code>? Thanks.</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":18738827,"reputation":979,"user_id":13662507,"display_name":"Kaita John"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680748131,"creation_date":1680748131,"answer_id":75945369,"question_id":75942659,"body_markdown":"The onActivityResult method is typically called after the activity that was started with startActivityForResult returns and finishes its work, and sends back the result to the original activity. However, in the case of making a phone call, the startActivityForResult method may not behave as expected.\r\n\r\nWhen you call startActivityForResult with an intent to make a phone call, the system does not start a new activity to make the call, instead it sends an intent to the Phone app, which starts the call. Since your app is not actually waiting for a result from the Phone app, onActivityResult is called immediately after the startActivityForResult method, before the phone call is made.\r\n\r\nAs a result logs show &quot;A call has ended&quot; message right before the call is made because the onActivityResult method is called immediately after the startActivityForResult method, and not after the call is made and the user is back to the app.","title":"OnActivityResult Called Before Phone Connected On A CALL Intent","body":"<p>The onActivityResult method is typically called after the activity that was started with startActivityForResult returns and finishes its work, and sends back the result to the original activity. However, in the case of making a phone call, the startActivityForResult method may not behave as expected.</p>\n<p>When you call startActivityForResult with an intent to make a phone call, the system does not start a new activity to make the call, instead it sends an intent to the Phone app, which starts the call. Since your app is not actually waiting for a result from the Phone app, onActivityResult is called immediately after the startActivityForResult method, before the phone call is made.</p>\n<p>As a result logs show &quot;A call has ended&quot; message right before the call is made because the onActivityResult method is called immediately after the startActivityForResult method, and not after the call is made and the user is back to the app.</p>\n"}],"owner":{"account_id":18738827,"reputation":979,"user_id":13662507,"display_name":"Kaita John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680748131,"creation_date":1680717454,"question_id":75942659,"body_markdown":"Why is my onActivityresult called just before the intent is started and not after the call is done and user is back to the app. I watch my logs and message &quot;A call has ended&quot; happens right before the call is made.\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        if (requestCode == CALL_REQUEST_CODE) {\r\n            Log.d(&quot;----------&quot;, &quot;A call has ended&quot;)\r\n        }\r\n    }\r\n\r\n     binding.call.setOnClickListener {\r\n            val intent = Intent(Intent.ACTION_CALL, Uri.parse(&quot;tel:&quot; + &quot;0793013887&quot;))\r\n            startActivityForResult(intent, CALL_REQUEST_CODE)\r\n        }","title":"OnActivityResult Called Before Phone Connected On A CALL Intent","body":"<p>Why is my onActivityresult called just before the intent is started and not after the call is done and user is back to the app. I watch my logs and message &quot;A call has ended&quot; happens right before the call is made.</p>\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode == CALL_REQUEST_CODE) {\n        Log.d(&quot;----------&quot;, &quot;A call has ended&quot;)\n    }\n}\n\n binding.call.setOnClickListener {\n        val intent = Intent(Intent.ACTION_CALL, Uri.parse(&quot;tel:&quot; + &quot;0793013887&quot;))\n        startActivityForResult(intent, CALL_REQUEST_CODE)\n    }\n</code></pre>\n"},{"tags":["javascript","java","webrtc"],"owner":{"account_id":9175521,"reputation":29,"user_id":6821248,"display_name":"lingo.lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680747978,"creation_date":1680747978,"question_id":75945357,"body_markdown":"I&#39;m new to webrtc,when I execute my demo，show the error message like this :\r\n\r\nUncaught (in promise) DOMException: Failed to execute &#39;addIceCandidate&#39; on &#39;RTCPeerConnection&#39;: The remote description was null\r\n\r\nUncaught (in promise) DOMException: Failed to execute &#39;setRemoteDescription&#39; on &#39;RTCPeerConnection&#39;: Failed to set remote answer sdp: Called in wrong state: stable\r\n\r\n\r\npls help!!! if you can show me code. thank you very much.\r\n\r\nIs the execution sequence incorrect?\r\n\r\nthe demo online:\r\nhttps://139.198.176.37/charclient/webrtc/p2p.html?type=offer  or type=answer\r\n\r\nmy server code:\r\n\r\n    package com.demo.socketio;\r\n    import com.corundumstudio.socketio.SocketConfig;\r\n    import com.corundumstudio.socketio.SocketIONamespace;\r\n    import com.corundumstudio.socketio.SocketIOServer;\r\n    import com.corundumstudio.socketio.Transport;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    @Configuration\r\n    public class SocketioConfig {\r\n    private static final Logger log = LoggerFactory.getLogger(SocketioConfig.class);\r\n    @Bean\r\n    public SocketIOServer socketIOServer(SocketioServerProperties config) {\r\n        config.setOrigin(null);   // 注意如果开放跨域设置，需要设置为null而不是&quot;*&quot;\r\n        config.setTransports(Transport.POLLING, Transport.WEBSOCKET);\r\n        SocketConfig socketConfig = config.getSocketConfig();\r\n        socketConfig.setReuseAddress(true);\r\n        final SocketIOServer server = new SocketIOServer(config);\r\n        server.start();\r\n        return server;\r\n\r\n    }\r\n    /**\r\n     * @param server\r\n     * @return\r\n     */\r\n    @Bean\r\n    public SocketIONamespace socketIOChats(SocketIOServer server) {\r\n        SocketIONamespace n = server.addNamespace(&quot;/chattest&quot;);\r\n        n.addConnectListener(client -&gt; {\r\n            log.info(&quot;**********connection success：&quot; + client.getHandshakeData().getSingleUrlParam(&quot;roomid&quot;));\r\n\r\n        });\r\n        n.addEventListener(&quot;message&quot;, Object.class, (client, data, ackRequest) -&gt; {  //new DataListener&lt;MessageBase&gt;() {\r\n            log.info(&quot;message client: {}&quot;, data);\r\n            n.getBroadcastOperations().sendEvent(&quot;message&quot;, data);\r\n        });\r\n        n.addDisconnectListener(client -&gt; {\r\n            log.info(&quot;Disconnect success&quot;, client.getSessionId());\r\n        });\r\n        return n;\r\n    }}\r\n\r\nmy html client code:\r\n\r\n    &lt;script src=&quot;../js/adapter.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;../js/socket.io/socket.io.js&quot;&gt;&lt;/script&gt;\r\n    &lt;video id=&quot;remote-video&quot;&gt;&lt;/video&gt;\r\n    &lt;video id=&quot;local-video&quot; muted&gt;&lt;/video&gt;\r\n    &lt;button class=&quot;start-button&quot; onclick=&quot;startLive()&quot;&gt;start&lt;/button&gt;\r\n\r\n    &lt;script&gt;\r\n    const message = {\r\n        el: document.querySelector(&#39;.logger&#39;),\r\n        log (msg) {\r\n            this.el.innerHTML += `&lt;span&gt;${new Date().toLocaleTimeString()}：${msg}&lt;/span&gt;&lt;br/&gt;`;\r\n        },\r\n        error (msg) {\r\n            this.el.innerHTML += `&lt;span class=&quot;error&quot;&gt;${new Date().toLocaleTimeString()}：${msg}&lt;/span&gt;&lt;br/&gt;`;\r\n        }\r\n    };\r\n    const pcConfig = {\r\n        &#39;iceServers&#39;: [{\r\n            &#39;urls&#39;: &#39;turn:stun.ukerd.com:3478&#39;,// 免费直接可用的iceserver列表  https://gist.github.com/yetithefoot/7592580，也可以自建\r\n            &#39;credential&#39;: &quot;123456&quot;,\r\n            &#39;username&#39;: &quot;lvming&quot;\r\n        }]\r\n    };\r\n    const target = location.search.slice(6);\r\n    console.log(&#39;target is :&#39;+target)\r\n    const localVideo = document.querySelector(&#39;#local-video&#39;);\r\n    const remoteVideo = document.querySelector(&#39;#remote-video&#39;);\r\n    const button = document.querySelector(&#39;.start-button&#39;);\r\n\r\n    localVideo.onloadeddata = () =&gt; {\r\n        message.log(&#39;播放本地视频&#39;);\r\n        localVideo.play();\r\n    }\r\n    remoteVideo.onloadeddata = () =&gt; {\r\n        message.log(&#39;播放对方视频&#39;);\r\n        remoteVideo.play();\r\n    }\r\n\r\n    document.title = target === &#39;offer&#39; ? &#39;发起方&#39; : &#39;接收方&#39;;\r\n\r\n    message.log(&#39;第一步：信令通道（WebSocket）创建中......&#39;);\r\n    const socket = io.connect(&#39;https://139.198.176.37/chattest&#39;, {\r\n        transports: [&#39;websocket&#39;, &#39;xhr-polling&#39;, &#39;jsonp-polling&#39;],\r\n        path: &quot;/socket.ix/&quot;\r\n    });\r\n    socket.on(&#39;connect&#39;, function () {\r\n        message.log(&#39;第二步：信令通道创建成功！&#39;);\r\n        target === &#39;offer&#39; &amp;&amp; (button.style.display = &#39;block&#39;);\r\n    });\r\n    socket.on(&#39;error&#39;, function (e) {\r\n        message1.error(&#39;信令通道创建失败！&#39;+e);\r\n    });\r\n    socket.on(&#39;message&#39;, function (e) {\r\n        const { type, sdp, iceCandidate } = JSON.parse(e)  //e.data\r\n        console.log(&#39;type is :&#39;+type)\r\n        console.log(&#39;sdp is :&#39;+sdp)\r\n        console.log(&#39;iceCandidate is :&#39;+iceCandidate)\r\n        console.log(&#39;start and end&#39;)\r\n        if (type === &#39;answer&#39;) {\r\n            peer.setRemoteDescription(new RTCSessionDescription({ type, sdp }));\r\n        } else if (type === &#39;answer_ice&#39;) {\r\n            peer.addIceCandidate(iceCandidate);\r\n        } else if (type === &#39;offer&#39;) {\r\n            startLive(new RTCSessionDescription({ type, sdp }));\r\n        } else if (type === &#39;offer_ice&#39;) {\r\n            peer.addIceCandidate(iceCandidate);\r\n        }\r\n    });\r\n\r\n\r\n    const peer = new RTCPeerConnection(pcConfig);\r\n    peer.ontrack = e =&gt; {\r\n        if (e &amp;&amp; e.streams) {\r\n            message.log(&#39;收到对方音频/视频流数据...&#39;);\r\n            remoteVideo.srcObject = e.streams[0];\r\n        }\r\n    };\r\n\r\n    peer.onicecandidate = e =&gt; {\r\n        if (e.candidate) {\r\n            message.log(&#39;搜集并发送候选人&#39;);\r\n            socket.send(JSON.stringify({\r\n                type: `${target}_ice`,\r\n                iceCandidate: e.candidate\r\n            }));\r\n        } else {\r\n            message.log(&#39;候选人收集完成！&#39;);\r\n        }\r\n    };\r\n\r\n    async function startLive (offerSdp) {\r\n        target === &#39;offer&#39; &amp;&amp; (button.style.display = &#39;none&#39;);\r\n        let stream;\r\n        try {\r\n            message.log(&#39;尝试调取本地摄像头/麦克风&#39;);\r\n            stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\r\n            message.log(&#39;摄像头/麦克风获取成功！&#39;);\r\n            localVideo.srcObject = stream;\r\n        } catch(err) {\r\n            console.log(err);\r\n            message.error(&#39;摄像头/麦克风获取失败！&#39;);\r\n            return;\r\n        }\r\n\r\n        message.log(`------ WebRTC ${target === &#39;offer&#39; ? &#39;发起方&#39; : &#39;接收方&#39;}流程开始 ------`);\r\n        message.log(&#39;将媒体轨道添加到轨道集&#39;);\r\n        stream.getTracks().forEach(track =&gt; {\r\n            peer.addTrack(track, stream);\r\n        });\r\n        //发起方 offer\r\n        if (!offerSdp) {\r\n            message.log(&#39;创建本地SDP&#39;);\r\n            const offer = await peer.createOffer();\r\n            await peer.setLocalDescription(offer);\r\n            message.log(`传输发起方本地SDP`);\r\n            socket.send(JSON.stringify(offer));\r\n        } else {//接收方\r\n            message.log(&#39;接收到发送方SDP&#39;);\r\n            await peer.setRemoteDescription(offerSdp);\r\n\r\n            message.log(&#39;创建接收方（应答）SDP&#39;);\r\n            const answer = await peer.createAnswer();\r\n            message.log(`传输接收方（应答）SDP`);\r\n            socket.send(JSON.stringify(answer));\r\n            await peer.setLocalDescription(answer);\r\n        }\r\n    }\r\n    &lt;/script&gt;\r\n ","title":"Uncaught (in promise) Failed to execute &#39;setRemoteDescription&#39; on &#39;RTCPeerConnection&#39;: Failed to set remote answer sdp: Called in wrong state: stable","body":"<p>I'm new to webrtc,when I execute my demo，show the error message like this :</p>\n<p>Uncaught (in promise) DOMException: Failed to execute 'addIceCandidate' on 'RTCPeerConnection': The remote description was null</p>\n<p>Uncaught (in promise) DOMException: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable</p>\n<p>pls help!!! if you can show me code. thank you very much.</p>\n<p>Is the execution sequence incorrect?</p>\n<p>the demo online:\n<a href=\"https://139.198.176.37/charclient/webrtc/p2p.html?type=offer\" rel=\"nofollow noreferrer\">https://139.198.176.37/charclient/webrtc/p2p.html?type=offer</a>  or type=answer</p>\n<p>my server code:</p>\n<pre><code>package com.demo.socketio;\nimport com.corundumstudio.socketio.SocketConfig;\nimport com.corundumstudio.socketio.SocketIONamespace;\nimport com.corundumstudio.socketio.SocketIOServer;\nimport com.corundumstudio.socketio.Transport;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n@Configuration\npublic class SocketioConfig {\nprivate static final Logger log = LoggerFactory.getLogger(SocketioConfig.class);\n@Bean\npublic SocketIOServer socketIOServer(SocketioServerProperties config) {\n    config.setOrigin(null);   // 注意如果开放跨域设置，需要设置为null而不是&quot;*&quot;\n    config.setTransports(Transport.POLLING, Transport.WEBSOCKET);\n    SocketConfig socketConfig = config.getSocketConfig();\n    socketConfig.setReuseAddress(true);\n    final SocketIOServer server = new SocketIOServer(config);\n    server.start();\n    return server;\n\n}\n/**\n * @param server\n * @return\n */\n@Bean\npublic SocketIONamespace socketIOChats(SocketIOServer server) {\n    SocketIONamespace n = server.addNamespace(&quot;/chattest&quot;);\n    n.addConnectListener(client -&gt; {\n        log.info(&quot;**********connection success：&quot; + client.getHandshakeData().getSingleUrlParam(&quot;roomid&quot;));\n\n    });\n    n.addEventListener(&quot;message&quot;, Object.class, (client, data, ackRequest) -&gt; {  //new DataListener&lt;MessageBase&gt;() {\n        log.info(&quot;message client: {}&quot;, data);\n        n.getBroadcastOperations().sendEvent(&quot;message&quot;, data);\n    });\n    n.addDisconnectListener(client -&gt; {\n        log.info(&quot;Disconnect success&quot;, client.getSessionId());\n    });\n    return n;\n}}\n</code></pre>\n<p>my html client code:</p>\n<pre><code>&lt;script src=&quot;../js/adapter.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;../js/socket.io/socket.io.js&quot;&gt;&lt;/script&gt;\n&lt;video id=&quot;remote-video&quot;&gt;&lt;/video&gt;\n&lt;video id=&quot;local-video&quot; muted&gt;&lt;/video&gt;\n&lt;button class=&quot;start-button&quot; onclick=&quot;startLive()&quot;&gt;start&lt;/button&gt;\n\n&lt;script&gt;\nconst message = {\n    el: document.querySelector('.logger'),\n    log (msg) {\n        this.el.innerHTML += `&lt;span&gt;${new Date().toLocaleTimeString()}：${msg}&lt;/span&gt;&lt;br/&gt;`;\n    },\n    error (msg) {\n        this.el.innerHTML += `&lt;span class=&quot;error&quot;&gt;${new Date().toLocaleTimeString()}：${msg}&lt;/span&gt;&lt;br/&gt;`;\n    }\n};\nconst pcConfig = {\n    'iceServers': [{\n        'urls': 'turn:stun.ukerd.com:3478',// 免费直接可用的iceserver列表  https://gist.github.com/yetithefoot/7592580，也可以自建\n        'credential': &quot;123456&quot;,\n        'username': &quot;lvming&quot;\n    }]\n};\nconst target = location.search.slice(6);\nconsole.log('target is :'+target)\nconst localVideo = document.querySelector('#local-video');\nconst remoteVideo = document.querySelector('#remote-video');\nconst button = document.querySelector('.start-button');\n\nlocalVideo.onloadeddata = () =&gt; {\n    message.log('播放本地视频');\n    localVideo.play();\n}\nremoteVideo.onloadeddata = () =&gt; {\n    message.log('播放对方视频');\n    remoteVideo.play();\n}\n\ndocument.title = target === 'offer' ? '发起方' : '接收方';\n\nmessage.log('第一步：信令通道（WebSocket）创建中......');\nconst socket = io.connect('https://139.198.176.37/chattest', {\n    transports: ['websocket', 'xhr-polling', 'jsonp-polling'],\n    path: &quot;/socket.ix/&quot;\n});\nsocket.on('connect', function () {\n    message.log('第二步：信令通道创建成功！');\n    target === 'offer' &amp;&amp; (button.style.display = 'block');\n});\nsocket.on('error', function (e) {\n    message1.error('信令通道创建失败！'+e);\n});\nsocket.on('message', function (e) {\n    const { type, sdp, iceCandidate } = JSON.parse(e)  //e.data\n    console.log('type is :'+type)\n    console.log('sdp is :'+sdp)\n    console.log('iceCandidate is :'+iceCandidate)\n    console.log('start and end')\n    if (type === 'answer') {\n        peer.setRemoteDescription(new RTCSessionDescription({ type, sdp }));\n    } else if (type === 'answer_ice') {\n        peer.addIceCandidate(iceCandidate);\n    } else if (type === 'offer') {\n        startLive(new RTCSessionDescription({ type, sdp }));\n    } else if (type === 'offer_ice') {\n        peer.addIceCandidate(iceCandidate);\n    }\n});\n\n\nconst peer = new RTCPeerConnection(pcConfig);\npeer.ontrack = e =&gt; {\n    if (e &amp;&amp; e.streams) {\n        message.log('收到对方音频/视频流数据...');\n        remoteVideo.srcObject = e.streams[0];\n    }\n};\n\npeer.onicecandidate = e =&gt; {\n    if (e.candidate) {\n        message.log('搜集并发送候选人');\n        socket.send(JSON.stringify({\n            type: `${target}_ice`,\n            iceCandidate: e.candidate\n        }));\n    } else {\n        message.log('候选人收集完成！');\n    }\n};\n\nasync function startLive (offerSdp) {\n    target === 'offer' &amp;&amp; (button.style.display = 'none');\n    let stream;\n    try {\n        message.log('尝试调取本地摄像头/麦克风');\n        stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n        message.log('摄像头/麦克风获取成功！');\n        localVideo.srcObject = stream;\n    } catch(err) {\n        console.log(err);\n        message.error('摄像头/麦克风获取失败！');\n        return;\n    }\n\n    message.log(`------ WebRTC ${target === 'offer' ? '发起方' : '接收方'}流程开始 ------`);\n    message.log('将媒体轨道添加到轨道集');\n    stream.getTracks().forEach(track =&gt; {\n        peer.addTrack(track, stream);\n    });\n    //发起方 offer\n    if (!offerSdp) {\n        message.log('创建本地SDP');\n        const offer = await peer.createOffer();\n        await peer.setLocalDescription(offer);\n        message.log(`传输发起方本地SDP`);\n        socket.send(JSON.stringify(offer));\n    } else {//接收方\n        message.log('接收到发送方SDP');\n        await peer.setRemoteDescription(offerSdp);\n\n        message.log('创建接收方（应答）SDP');\n        const answer = await peer.createAnswer();\n        message.log(`传输接收方（应答）SDP`);\n        socket.send(JSON.stringify(answer));\n        await peer.setLocalDescription(answer);\n    }\n}\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","json","spring","enums"],"comments":[{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1657039986,"post_id":72872891,"comment_id":128713040,"body_markdown":"You can simply return llist of string, instead List of enum","body":"You can simply return llist of string, instead List of enum"},{"owner":{"account_id":17817750,"reputation":894,"user_id":12940893,"display_name":"Andrew Mascillaro"},"score":0,"creation_date":1657040221,"post_id":72872891,"comment_id":128713139,"body_markdown":"This is a minimal use case - the enum is nested inside of other datatypes, and I am trying to keep it as an enum to remove primitive obsession","body":"This is a minimal use case - the enum is nested inside of other datatypes, and I am trying to keep it as an enum to remove primitive obsession"},{"owner":{"account_id":19387591,"reputation":94,"user_id":14176991,"display_name":"shl_droco"},"score":0,"creation_date":1657042026,"post_id":72872891,"comment_id":128713727,"body_markdown":"Because you return a List of ENUM type, not their value. If you want use their value you must return a List of String in this case.","body":"Because you return a List of ENUM type, not their value. If you want use their value you must return a List of String in this case."}],"answers":[{"tags":[],"owner":{"account_id":17817750,"reputation":894,"user_id":12940893,"display_name":"Andrew Mascillaro"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1657040537,"creation_date":1657040537,"answer_id":72873123,"question_id":72872891,"body_markdown":"This can be done by using the `@JsonValue` annotation in the enum definition:\r\n\r\n```java\r\npublic enum MyEnum {\r\n    ...\r\n    @JsonValue\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n}","title":"Java Spring custom Enum to String conversion in JSON Serialization","body":"<p>This can be done by using the <code>@JsonValue</code> annotation in the enum definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum MyEnum {\n    ...\n    @JsonValue\n    public String getName() {\n        return this.name;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11126166,"reputation":156,"user_id":8167597,"display_name":"ksparrow"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657044805,"creation_date":1657044805,"answer_id":72873843,"question_id":72872891,"body_markdown":"Assuming you are using the default `MappingJackson2HttpMessageConverter`, then behind the scenes you are using Jackson&#39;s `ObjectMapper` to perform all the JSON serialization and deserialization.  So it&#39;s a matter of configuring Jackson for your protocol objects.\r\n\r\nIn this case, it&#39;s probably most straightforward tell Jackson that it can make a single JSON value for your instance of `MyEnum` with the [`@JsonValue`][1] annotation.\r\n\r\n    public enum MyEnum {\r\n        SAMPLE(&quot;sample&quot;), OTHER_SAMPLE(&quot;other sample&quot;);\r\n        private final String name;\r\n\r\n        public MyEnum(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        @JsonValue\r\n        public String getValue() {\r\n            return this.name;\r\n        }\r\n    }\r\n\r\n`@JsonValue` has a bonus, as described in its Javadoc:\r\n\r\n&gt; NOTE: when use for Java enums, one additional feature is that value returned by annotated method is also considered to be the value to deserialize from, not just JSON String to serialize as. This is possible since set of Enum values is constant and it is possible to define mapping, but can not be done in general for POJO types; as such, this is not used for POJO deserialization.\r\n\r\nSo if you have the same Enum definition in your application that receives the list, it will deserialize the human readable value back into your Enum.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonValue.html","title":"Java Spring custom Enum to String conversion in JSON Serialization","body":"<p>Assuming you are using the default <code>MappingJackson2HttpMessageConverter</code>, then behind the scenes you are using Jackson's <code>ObjectMapper</code> to perform all the JSON serialization and deserialization.  So it's a matter of configuring Jackson for your protocol objects.</p>\n<p>In this case, it's probably most straightforward tell Jackson that it can make a single JSON value for your instance of <code>MyEnum</code> with the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonValue.html\" rel=\"nofollow noreferrer\"><code>@JsonValue</code></a> annotation.</p>\n<pre><code>public enum MyEnum {\n    SAMPLE(&quot;sample&quot;), OTHER_SAMPLE(&quot;other sample&quot;);\n    private final String name;\n\n    public MyEnum(String name) {\n        this.name = name;\n    }\n\n    @JsonValue\n    public String getValue() {\n        return this.name;\n    }\n}\n</code></pre>\n<p><code>@JsonValue</code> has a bonus, as described in its Javadoc:</p>\n<blockquote>\n<p>NOTE: when use for Java enums, one additional feature is that value returned by annotated method is also considered to be the value to deserialize from, not just JSON String to serialize as. This is possible since set of Enum values is constant and it is possible to define mapping, but can not be done in general for POJO types; as such, this is not used for POJO deserialization.</p>\n</blockquote>\n<p>So if you have the same Enum definition in your application that receives the list, it will deserialize the human readable value back into your Enum.</p>\n"}],"owner":{"account_id":17817750,"reputation":894,"user_id":12940893,"display_name":"Andrew Mascillaro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72873843,"answer_count":2,"score":1,"last_activity_date":1680747145,"creation_date":1657039286,"question_id":72872891,"body_markdown":"I&#39;m trying to convert an enum value into a custom string as part of a JSON response in a Java Spring application. I&#39;ve attempted to override the enum&#39;s toString method and create a Spring converter but both attempts don&#39;t seem to work.\r\n\r\n### Sample Controller\r\n```java\r\n@RequestMapping(value = &quot;/test/endpoint&quot;, produces = APPLICATION_JSON_VALUE)\r\n@RestController\r\npublic class RecommenderController {\r\n    ...\r\n    @GetMapping(&quot;test&quot;)\r\n    public List&lt;MyEnum&gt; test() {\r\n        return new ArrayList&lt;&gt;() {{\r\n            this.add(MyEnum.SAMPLE);\r\n        }};\r\n    }\r\n}\r\n```\r\n\r\n### Enum\r\n```java\r\npublic enum MyEnum {\r\n    SAMPLE(&quot;sample&quot;), OTHER_SAMPLE(&quot;other sample&quot;);\r\n    private final String name;\r\n    public MyEnum(String name) {\r\n        this.name = name;\r\n    }\r\n    public String toString() {\r\n        return this.name;\r\n    }\r\n}\r\n```\r\n\r\nThis code returns the response `[&quot;SAMPLE&quot;]` although I want it to return `[&quot;sample&quot;]`. Is there a way to implement this in Spring?","title":"Java Spring custom Enum to String conversion in JSON Serialization","body":"<p>I'm trying to convert an enum value into a custom string as part of a JSON response in a Java Spring application. I've attempted to override the enum's toString method and create a Spring converter but both attempts don't seem to work.</p>\n<h3>Sample Controller</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/test/endpoint&quot;, produces = APPLICATION_JSON_VALUE)\n@RestController\npublic class RecommenderController {\n    ...\n    @GetMapping(&quot;test&quot;)\n    public List&lt;MyEnum&gt; test() {\n        return new ArrayList&lt;&gt;() {{\n            this.add(MyEnum.SAMPLE);\n        }};\n    }\n}\n</code></pre>\n<h3>Enum</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public enum MyEnum {\n    SAMPLE(&quot;sample&quot;), OTHER_SAMPLE(&quot;other sample&quot;);\n    private final String name;\n    public MyEnum(String name) {\n        this.name = name;\n    }\n    public String toString() {\n        return this.name;\n    }\n}\n</code></pre>\n<p>This code returns the response <code>[&quot;SAMPLE&quot;]</code> although I want it to return <code>[&quot;sample&quot;]</code>. Is there a way to implement this in Spring?</p>\n"},{"tags":["java","android","webrtc"],"answers":[{"comments":[{"owner":{"account_id":14907393,"reputation":11,"user_id":10764142,"display_name":"Samuel Mayor"},"score":0,"creation_date":1680771481,"post_id":75945241,"comment_id":133955652,"body_markdown":"To do that I need a sessionDescription to pass as parameter but I have nothing, what should I put?","body":"To do that I need a sessionDescription to pass as parameter but I have nothing, what should I put?"},{"owner":{"account_id":6190570,"reputation":155,"user_id":4823394,"display_name":"tyohan"},"score":0,"creation_date":1680772168,"post_id":75945241,"comment_id":133955799,"body_markdown":"If you&#39;re sending the answer use that answer as local session description. If you&#39;re sending the offer, then use that offer as local session description.","body":"If you&#39;re sending the answer use that answer as local session description. If you&#39;re sending the offer, then use that offer as local session description."},{"owner":{"account_id":14907393,"reputation":11,"user_id":10764142,"display_name":"Samuel Mayor"},"score":0,"creation_date":1680782145,"post_id":75945241,"comment_id":133958079,"body_markdown":"I get the same error. Maybe the sdp I get is somehow wrong?","body":"I get the same error. Maybe the sdp I get is somehow wrong?"}],"tags":[],"owner":{"account_id":6190570,"reputation":155,"user_id":4823394,"display_name":"tyohan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680746043,"creation_date":1680746043,"answer_id":75945241,"question_id":75941405,"body_markdown":"Try to set the local description first before setting the remote description.","title":"I get a &quot;Session description is NULL&quot; error when trying to set remote description after getting the sdp from the server","body":"<p>Try to set the local description first before setting the remote description.</p>\n"}],"owner":{"account_id":14907393,"reputation":11,"user_id":10764142,"display_name":"Samuel Mayor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680746043,"creation_date":1680709005,"question_id":75941405,"body_markdown":"I&#39;m trying to write an android application that displays a stream I get from d-id service: https://docs.d-id.com/reference/get-started. This should take an image and a text as input and stream back a video of this image moving libs while saying the input text.\r\n\r\nIt uses WebRTC for the streaming and I&#39;m trying to implement it but I&#39;m stuck at trying to send an answer after the initial offer.\r\n\r\nHere&#39;s the function where I do that. Sorry for the wall of code, I&#39;m in the heavy testing phase:\r\n\r\nI get the &quot;Session description is NULL&quot; error on the onSetFailure(String s) callback of the setRemoteDescription call\r\n\r\n```\r\npost(&quot;https://api.d-id.com/talks/streams&quot;, json, new Callback() {\r\n            @Override\r\n            public void onFailure(Call call, IOException e) {\r\n                Log.e(&quot;OKHTTP FAILURE: &quot;, e.toString());\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(Call call, Response response) throws IOException {\r\n                if (response.isSuccessful()) {\r\n                    String responseStr = response.body().string();\r\n                    JsonObject jsonObject = JsonParser.parseString(responseStr).getAsJsonObject();\r\n                    streamID = jsonObject.get(&quot;id&quot;).getAsString();\r\n                    session_id = jsonObject.get(&quot;session_id&quot;).getAsString();\r\n\r\n                    String stunUrl = jsonObject.get(&quot;iceServers&quot;).getAsJsonArray().get(0).getAsJsonObject().get(&quot;urls&quot;).getAsString();\r\n                    String turnUrl = jsonObject.get(&quot;iceServers&quot;).getAsJsonArray().get(1).getAsJsonObject().get(&quot;urls&quot;).getAsJsonArray().get(0).getAsString();\r\n                    String username = jsonObject.get(&quot;iceServers&quot;).getAsJsonArray().get(1).getAsJsonObject().get(&quot;username&quot;).getAsString();\r\n                    String credential = jsonObject.get(&quot;iceServers&quot;).getAsJsonArray().get(1).getAsJsonObject().get(&quot;credential&quot;).getAsString();\r\n                    String sdp = jsonObject.get(&quot;offer&quot;).getAsJsonObject().get(&quot;sdp&quot;).getAsString();\r\n\r\n                    List&lt;PeerConnection.IceServer&gt; iceServers = new ArrayList&lt;&gt;();\r\n                    iceServers.add(new PeerConnection.IceServer(stunUrl));\r\n                    iceServers.add(new PeerConnection.IceServer(turnUrl, username, credential));\r\n\r\n                    // Create peer connection\r\n                    PeerConnectionFactory.initializeAndroidGlobals(activity, true, true, true);\r\n                    PeerConnectionFactory factory = new PeerConnectionFactory(null);\r\n                    PeerConnection.RTCConfiguration rtcConfig = new PeerConnection.RTCConfiguration(iceServers);\r\n                    peerConnection = factory.createPeerConnection(rtcConfig, new MediaConstraints(), pcObserver);\r\n                    SessionDescription sessionDesc = new SessionDescription(OFFER, sdp);\r\n                    peerConnection.setRemoteDescription(new SimpleSdpObserver() {\r\n                        @Override\r\n                        public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                            super.onCreateSuccess(sessionDescription);\r\n                            peerConnection.createAnswer(new SimpleSdpObserver() {\r\n                                @Override\r\n                                public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                                    peerConnection.setLocalDescription(new SimpleSdpObserver(), sessionDescription);\r\n                                    String json = &quot;{\\&quot;answer\\&quot;:{\\&quot;type\\&quot;:\\&quot;answer\\&quot;,\\&quot;sdp\\&quot;:\\&quot;&quot;+sessionDescription.description+&quot;\\&quot;},\\&quot;session_id\\&quot;:\\&quot;&quot;+session_id+&quot;\\&quot;}&quot;;\r\n                                    post(&quot;https://api.d-id.com/talks/streams/&quot;+streamID+&quot;/sdp&quot;, json, new Callback() {\r\n                                        @Override\r\n                                        public void onFailure(Call call, IOException e) {\r\n                                            Log.e(&quot;ANSWER FAILURE: &quot;, e.toString());\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void onResponse(Call call, Response response) throws IOException {\r\n                                            String responseStr = response.body().string();\r\n                                            Log.e(&quot;ANSWER SUCCESS: &quot;, responseStr);\r\n                                        }\r\n                                    });\r\n                                }\r\n\r\n                                @Override\r\n                                public void onCreateFailure(String s) {\r\n                                    super.onCreateFailure(s);\r\n                                }\r\n\r\n                                @Override\r\n                                public void onSetSuccess() {\r\n                                    super.onSetSuccess();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onSetFailure(String s) {\r\n                                    super.onSetFailure(s);\r\n                                }\r\n                            }, new MediaConstraints());\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCreateFailure(String s) {\r\n                            super.onCreateFailure(s);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onSetSuccess() {\r\n                            super.onSetSuccess();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onSetFailure(String s) {\r\n                            super.onSetFailure(s);\r\n                        }\r\n                    }, sessionDesc);\r\n\r\n                    Log.e(&quot;OKHTTP SUCCESS: &quot;, responseStr);\r\n                } else {\r\n                    Log.e(&quot;OKHTTP UNSUCCESS: &quot;, &quot;&quot;);\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nHere is the sdp string I receive from the server.\r\n\r\n```\r\nv=0\r\no=- 1680708165776536 1 IN IP4 35.164.244.161\r\ns=Mountpoint 7117298691349140\r\nt=0 0\r\na=group:BUNDLE a v d\r\na=ice-options:trickle\r\na=fingerprint:sha-256 F8:F6:8D:3D:A4:B0:9C:7A:A4:4C:6C:11:5B:59:D4:7B:2C:02:55:87:31:84:87:C1:83:B4:5E:A2:F7:4C:A5:1A\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS *\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111\r\nc=IN IP4 35.164.244.161\r\na=sendonly\r\na=mid:a\r\na=rtcp-mux\r\na=ice-ufrag:ol8o\r\na=ice-pwd:QwtILzHdCR7CEZO8T5BpmV\r\na=ice-options:trickle\r\na=setup:actpass\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=msid:janus janusa\r\na=ssrc:575475372 cname:janus\r\na=candidate:1 1 udp 2015363327 35.164.244.161 41669 typ host\r\na=candidate:2 1 udp 1679819007 35.164.244.161 41669 typ srflx raddr 172.18.0.4 rport 41669\r\na=end-of-candidates\r\nm=video 9 UDP/TLS/RTP/SAVPF 100 101\r\nc=IN IP4 35.164.244.161\r\na=sendonly\r\na=mid:v\r\na=rtcp-mux\r\na=ice-ufrag:ol8o\r\na=ice-pwd:QwtILzHdCR7CEZO8T5BpmV\r\na=ice-options:trickle\r\na=setup:actpass\r\na=rtpmap:100 VP8/90000\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=ssrc-group:FID 1591203620 1663244846\r\na=msid:janus janusv\r\na=ssrc:1591203620 cname:janus\r\na=ssrc:1663244846 cname:janus\r\na=candidate:1 1 udp 2015363327 35.164.244.161 41669 typ host\r\na=candidate:2 1 udp 1679819007 35.164.244.161 41669 typ srflx raddr 172.18.0.4 rport 41669\r\na=end-of-candidates\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 35.164.244.161\r\na=sendrecv\r\na=mid:d\r\na=sctp-port:5000\r\na=ice-ufrag:ol8o\r\na=ice-pwd:QwtILzHdCR7CEZO8T5BpmV\r\na=ice-options:trickle\r\na=setup:actpass\r\na=candidate:1 1 udp 2015363327 35.164.244.161 41669 typ host\r\na=candidate:2 1 udp 1679819007 35.164.244.161 41669 typ srflx raddr 172.18.0.4 rport 41669\r\na=end-of-candidates\r\n```\r\n\r\nHopefully you can help me understand the problem.\r\nCheers,\r\nSamuel\r\n\r\nI tried to create the session description as a stringified JSON, changed the order I did all those things, and lots of other futile tentatives.\r\nI also tried using sdpoker tool to check for sdp problems but I don&#39;t understand the output.\r\n\r\nHere it is:\r\n\r\n```\r\nFound 11 error(s) in SDP file:\r\n1: Stream 1: Each stream description shall have a media-level &#39;mediaclk&#39; attribute, as per SMPTE ST 2110-10 Section 8.1.\r\n2: Stream 2: Each stream description shall have a media-level &#39;mediaclk&#39; attribute, as per SMPTE ST 2110-10 Section 8.1.\r\n3: Stream 3: Each stream description shall have a media-level &#39;mediaclk&#39; attribute, as per SMPTE ST 2110-10 Section 8.1.\r\n4: Stream 1: Stream descriptions shall have a media-level &#39;ts-refclk&#39; attribute, as per SMPTE ST 2110-10 Section 8.2.\r\n5: Stream 2: Stream descriptions shall have a media-level &#39;ts-refclk&#39; attribute, as per SMPTE ST 2110-10 Section 8.2.\r\n6: Stream 3: Stream descriptions shall have a media-level &#39;ts-refclk&#39; attribute, as per SMPTE ST 2110-10 Section 8.2.\r\n7: Line 46: Separate source address grouping is not an acceptable pattern, with reference to RFC 7104.\r\n8: Line 5: Separate destination address grouping is not an acceptable pattern, with reference to RFC 7104.\r\n9: Got to line 10, the end of session-level description, without finding the destination group, with reference to RFC 7104.\r\n10: Line 27: Found a media description for video with a pattern that is not acceptable.\r\n11: Line 10: Found a media description for audio with a pattern that is not acceptable.\r\n```","title":"I get a &quot;Session description is NULL&quot; error when trying to set remote description after getting the sdp from the server","body":"<p>I'm trying to write an android application that displays a stream I get from d-id service: <a href=\"https://docs.d-id.com/reference/get-started\" rel=\"nofollow noreferrer\">https://docs.d-id.com/reference/get-started</a>. This should take an image and a text as input and stream back a video of this image moving libs while saying the input text.</p>\n<p>It uses WebRTC for the streaming and I'm trying to implement it but I'm stuck at trying to send an answer after the initial offer.</p>\n<p>Here's the function where I do that. Sorry for the wall of code, I'm in the heavy testing phase:</p>\n<p>I get the &quot;Session description is NULL&quot; error on the onSetFailure(String s) callback of the setRemoteDescription call</p>\n<pre><code>post(&quot;https://api.d-id.com/talks/streams&quot;, json, new Callback() {\n            @Override\n            public void onFailure(Call call, IOException e) {\n                Log.e(&quot;OKHTTP FAILURE: &quot;, e.toString());\n            }\n\n            @Override\n            public void onResponse(Call call, Response response) throws IOException {\n                if (response.isSuccessful()) {\n                    String responseStr = response.body().string();\n                    JsonObject jsonObject = JsonParser.parseString(responseStr).getAsJsonObject();\n                    streamID = jsonObject.get(&quot;id&quot;).getAsString();\n                    session_id = jsonObject.get(&quot;session_id&quot;).getAsString();\n\n                    String stunUrl = jsonObject.get(&quot;iceServers&quot;).getAsJsonArray().get(0).getAsJsonObject().get(&quot;urls&quot;).getAsString();\n                    String turnUrl = jsonObject.get(&quot;iceServers&quot;).getAsJsonArray().get(1).getAsJsonObject().get(&quot;urls&quot;).getAsJsonArray().get(0).getAsString();\n                    String username = jsonObject.get(&quot;iceServers&quot;).getAsJsonArray().get(1).getAsJsonObject().get(&quot;username&quot;).getAsString();\n                    String credential = jsonObject.get(&quot;iceServers&quot;).getAsJsonArray().get(1).getAsJsonObject().get(&quot;credential&quot;).getAsString();\n                    String sdp = jsonObject.get(&quot;offer&quot;).getAsJsonObject().get(&quot;sdp&quot;).getAsString();\n\n                    List&lt;PeerConnection.IceServer&gt; iceServers = new ArrayList&lt;&gt;();\n                    iceServers.add(new PeerConnection.IceServer(stunUrl));\n                    iceServers.add(new PeerConnection.IceServer(turnUrl, username, credential));\n\n                    // Create peer connection\n                    PeerConnectionFactory.initializeAndroidGlobals(activity, true, true, true);\n                    PeerConnectionFactory factory = new PeerConnectionFactory(null);\n                    PeerConnection.RTCConfiguration rtcConfig = new PeerConnection.RTCConfiguration(iceServers);\n                    peerConnection = factory.createPeerConnection(rtcConfig, new MediaConstraints(), pcObserver);\n                    SessionDescription sessionDesc = new SessionDescription(OFFER, sdp);\n                    peerConnection.setRemoteDescription(new SimpleSdpObserver() {\n                        @Override\n                        public void onCreateSuccess(SessionDescription sessionDescription) {\n                            super.onCreateSuccess(sessionDescription);\n                            peerConnection.createAnswer(new SimpleSdpObserver() {\n                                @Override\n                                public void onCreateSuccess(SessionDescription sessionDescription) {\n                                    peerConnection.setLocalDescription(new SimpleSdpObserver(), sessionDescription);\n                                    String json = &quot;{\\&quot;answer\\&quot;:{\\&quot;type\\&quot;:\\&quot;answer\\&quot;,\\&quot;sdp\\&quot;:\\&quot;&quot;+sessionDescription.description+&quot;\\&quot;},\\&quot;session_id\\&quot;:\\&quot;&quot;+session_id+&quot;\\&quot;}&quot;;\n                                    post(&quot;https://api.d-id.com/talks/streams/&quot;+streamID+&quot;/sdp&quot;, json, new Callback() {\n                                        @Override\n                                        public void onFailure(Call call, IOException e) {\n                                            Log.e(&quot;ANSWER FAILURE: &quot;, e.toString());\n                                        }\n\n                                        @Override\n                                        public void onResponse(Call call, Response response) throws IOException {\n                                            String responseStr = response.body().string();\n                                            Log.e(&quot;ANSWER SUCCESS: &quot;, responseStr);\n                                        }\n                                    });\n                                }\n\n                                @Override\n                                public void onCreateFailure(String s) {\n                                    super.onCreateFailure(s);\n                                }\n\n                                @Override\n                                public void onSetSuccess() {\n                                    super.onSetSuccess();\n                                }\n\n                                @Override\n                                public void onSetFailure(String s) {\n                                    super.onSetFailure(s);\n                                }\n                            }, new MediaConstraints());\n                        }\n\n                        @Override\n                        public void onCreateFailure(String s) {\n                            super.onCreateFailure(s);\n                        }\n\n                        @Override\n                        public void onSetSuccess() {\n                            super.onSetSuccess();\n                        }\n\n                        @Override\n                        public void onSetFailure(String s) {\n                            super.onSetFailure(s);\n                        }\n                    }, sessionDesc);\n\n                    Log.e(&quot;OKHTTP SUCCESS: &quot;, responseStr);\n                } else {\n                    Log.e(&quot;OKHTTP UNSUCCESS: &quot;, &quot;&quot;);\n                }\n            }\n        });\n</code></pre>\n<p>Here is the sdp string I receive from the server.</p>\n<pre><code>v=0\no=- 1680708165776536 1 IN IP4 35.164.244.161\ns=Mountpoint 7117298691349140\nt=0 0\na=group:BUNDLE a v d\na=ice-options:trickle\na=fingerprint:sha-256 F8:F6:8D:3D:A4:B0:9C:7A:A4:4C:6C:11:5B:59:D4:7B:2C:02:55:87:31:84:87:C1:83:B4:5E:A2:F7:4C:A5:1A\na=extmap-allow-mixed\na=msid-semantic: WMS *\nm=audio 9 UDP/TLS/RTP/SAVPF 111\nc=IN IP4 35.164.244.161\na=sendonly\na=mid:a\na=rtcp-mux\na=ice-ufrag:ol8o\na=ice-pwd:QwtILzHdCR7CEZO8T5BpmV\na=ice-options:trickle\na=setup:actpass\na=rtpmap:111 opus/48000/2\na=rtcp-fb:111 transport-cc\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\na=msid:janus janusa\na=ssrc:575475372 cname:janus\na=candidate:1 1 udp 2015363327 35.164.244.161 41669 typ host\na=candidate:2 1 udp 1679819007 35.164.244.161 41669 typ srflx raddr 172.18.0.4 rport 41669\na=end-of-candidates\nm=video 9 UDP/TLS/RTP/SAVPF 100 101\nc=IN IP4 35.164.244.161\na=sendonly\na=mid:v\na=rtcp-mux\na=ice-ufrag:ol8o\na=ice-pwd:QwtILzHdCR7CEZO8T5BpmV\na=ice-options:trickle\na=setup:actpass\na=rtpmap:100 VP8/90000\na=rtcp-fb:100 ccm fir\na=rtcp-fb:100 nack\na=rtcp-fb:100 nack pli\na=rtcp-fb:100 goog-remb\na=rtcp-fb:100 transport-cc\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\na=rtpmap:101 rtx/90000\na=fmtp:101 apt=100\na=ssrc-group:FID 1591203620 1663244846\na=msid:janus janusv\na=ssrc:1591203620 cname:janus\na=ssrc:1663244846 cname:janus\na=candidate:1 1 udp 2015363327 35.164.244.161 41669 typ host\na=candidate:2 1 udp 1679819007 35.164.244.161 41669 typ srflx raddr 172.18.0.4 rport 41669\na=end-of-candidates\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\nc=IN IP4 35.164.244.161\na=sendrecv\na=mid:d\na=sctp-port:5000\na=ice-ufrag:ol8o\na=ice-pwd:QwtILzHdCR7CEZO8T5BpmV\na=ice-options:trickle\na=setup:actpass\na=candidate:1 1 udp 2015363327 35.164.244.161 41669 typ host\na=candidate:2 1 udp 1679819007 35.164.244.161 41669 typ srflx raddr 172.18.0.4 rport 41669\na=end-of-candidates\n</code></pre>\n<p>Hopefully you can help me understand the problem.\nCheers,\nSamuel</p>\n<p>I tried to create the session description as a stringified JSON, changed the order I did all those things, and lots of other futile tentatives.\nI also tried using sdpoker tool to check for sdp problems but I don't understand the output.</p>\n<p>Here it is:</p>\n<pre><code>Found 11 error(s) in SDP file:\n1: Stream 1: Each stream description shall have a media-level 'mediaclk' attribute, as per SMPTE ST 2110-10 Section 8.1.\n2: Stream 2: Each stream description shall have a media-level 'mediaclk' attribute, as per SMPTE ST 2110-10 Section 8.1.\n3: Stream 3: Each stream description shall have a media-level 'mediaclk' attribute, as per SMPTE ST 2110-10 Section 8.1.\n4: Stream 1: Stream descriptions shall have a media-level 'ts-refclk' attribute, as per SMPTE ST 2110-10 Section 8.2.\n5: Stream 2: Stream descriptions shall have a media-level 'ts-refclk' attribute, as per SMPTE ST 2110-10 Section 8.2.\n6: Stream 3: Stream descriptions shall have a media-level 'ts-refclk' attribute, as per SMPTE ST 2110-10 Section 8.2.\n7: Line 46: Separate source address grouping is not an acceptable pattern, with reference to RFC 7104.\n8: Line 5: Separate destination address grouping is not an acceptable pattern, with reference to RFC 7104.\n9: Got to line 10, the end of session-level description, without finding the destination group, with reference to RFC 7104.\n10: Line 27: Found a media description for video with a pattern that is not acceptable.\n11: Line 10: Found a media description for audio with a pattern that is not acceptable.\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1316003677,"creation_date":1316003677,"answer_id":7416404,"question_id":7416352,"body_markdown":"It sounds like you&#39;re probably doing all of this on the UI thread. Don&#39;t do that - make `solveIt` execute on a background thread, calling into the UI thread using [`SwingUtilities`][1] if it needs to update/query the UI. Basically, you shouldn&#39;t do significant work in the UI thread - see the [Swing concurrency tutorial][2] for more information.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/javax/swing/SwingUtilities.html\r\n  [2]: http://download.oracle.com/javase/tutorial/uiswing/concurrency/index.html","title":"JFrame is loaded late","body":"<p>It sounds like you're probably doing all of this on the UI thread. Don't do that - make <code>solveIt</code> execute on a background thread, calling into the UI thread using <a href=\"http://download.oracle.com/javase/7/docs/api/javax/swing/SwingUtilities.html\" rel=\"nofollow\"><code>SwingUtilities</code></a> if it needs to update/query the UI. Basically, you shouldn't do significant work in the UI thread - see the <a href=\"http://download.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow\">Swing concurrency tutorial</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":113326,"reputation":2445,"user_id":298522,"accept_rate":71,"display_name":"Logan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316003780,"creation_date":1316003780,"answer_id":7416426,"question_id":7416352,"body_markdown":"Take a look at SwingWorker Class. It is used to do the background processes without stopping the frame to be installed.","title":"JFrame is loaded late","body":"<p>Take a look at SwingWorker Class. It is used to do the background processes without stopping the frame to be installed.</p>\n"},{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680745874,"creation_date":1316005011,"answer_id":7416673,"question_id":7416352,"body_markdown":"Use the event-dispatching thread for short lived GUI related code. Long running tasks should be execute in their own threads as stated in the other answers. \r\n\r\nLet me just complement the other answers with some interesting links:\r\n \r\n - [Lesson: Concurrency in Swing](http://download.oracle.com/javase/tutorial/uiswing/concurrency/index.html)\r\n - [Threads and Swing](http://java.sun.com/products/jfc/tsc/articles/threads/threads1.html)\r\n - [Using a Swing Worker Thread](http://java.sun.com/products/jfc/tsc/articles/threads/threads2.html)\r\n\r\nNote that the two links points to somewhat old but relevant documentation of JFC. Nowadays `SwingWorker` is included in the Standard [API](http://download.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html).","title":"JFrame is loaded late","body":"<p>Use the event-dispatching thread for short lived GUI related code. Long running tasks should be execute in their own threads as stated in the other answers.</p>\n<p>Let me just complement the other answers with some interesting links:</p>\n<ul>\n<li><a href=\"http://download.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Lesson: Concurrency in Swing</a></li>\n<li><a href=\"http://java.sun.com/products/jfc/tsc/articles/threads/threads1.html\" rel=\"nofollow noreferrer\">Threads and Swing</a></li>\n<li><a href=\"http://java.sun.com/products/jfc/tsc/articles/threads/threads2.html\" rel=\"nofollow noreferrer\">Using a Swing Worker Thread</a></li>\n</ul>\n<p>Note that the two links points to somewhat old but relevant documentation of JFC. Nowadays <code>SwingWorker</code> is included in the Standard <a href=\"http://download.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">API</a>.</p>\n"}],"owner":{"account_id":910639,"reputation":4709,"user_id":944592,"accept_rate":74,"display_name":"yakya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7416404,"answer_count":3,"score":5,"last_activity_date":1680745874,"creation_date":1316003461,"question_id":7416352,"body_markdown":"My code is:\r\n\r\n\t\tsolveDb_userfileInconsistency solve = new solveDb_userfileInconsistency();\r\n\t\tsolve.setVisible(true);\r\n\r\n\t\ttry {\r\n\t\t\tsolve.solveIt();\r\n\t\t} catch (InstantiationException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IllegalAccessException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n&quot;solveIt&quot; method returns after 30 seconds and until it returns, frame isn&#39;t installed properly but after solveIt method returns, the frame gets installed properly but what i want is that before going into solveIt method, the frame should be properly on the screen. Is there any method that can wait the frame&#39;s installation and then calls that solveIt method?","title":"JFrame is loaded late","body":"<p>My code is:</p>\n\n<pre><code>    solveDb_userfileInconsistency solve = new solveDb_userfileInconsistency();\n    solve.setVisible(true);\n\n    try {\n        solve.solveIt();\n    } catch (InstantiationException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IllegalAccessException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (ClassNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>\"solveIt\" method returns after 30 seconds and until it returns, frame isn't installed properly but after solveIt method returns, the frame gets installed properly but what i want is that before going into solveIt method, the frame should be properly on the screen. Is there any method that can wait the frame's installation and then calls that solveIt method?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"score":0,"creation_date":1392507801,"post_id":21805080,"comment_id":32996408,"body_markdown":"I changed the code to (salary &gt;=15000 &amp;&amp; salary &lt;20000) { taxDue=15000*0.1; and I still get the wrong answer...","body":"I changed the code to (salary &gt;=15000 &amp;&amp; salary &lt;20000) { taxDue=15000*0.1; and I still get the wrong answer..."},{"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"score":0,"creation_date":1392508131,"post_id":21805080,"comment_id":32996495,"body_markdown":"I just put the entire code there..although it compiles with no errors.","body":"I just put the entire code there..although it compiles with no errors."},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1392508253,"post_id":21805080,"comment_id":32996529,"body_markdown":"Clearly the second if-statement applies also, that&#39;s where your wrong calculation origins.","body":"Clearly the second if-statement applies also, that&#39;s where your wrong calculation origins."},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1392508617,"post_id":21805080,"comment_id":32996646,"body_markdown":"Check the if-condition. The third if surely should apply for amounts &gt;= 20000 and &lt;= 35000.","body":"Check the if-condition. The third if surely should apply for amounts &gt;= 20000 and &lt;= 35000."},{"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"score":0,"creation_date":1392508959,"post_id":21805080,"comment_id":32996745,"body_markdown":"Ok I made that change &amp; edited the above code..can you re-check the above code because the error persists..","body":"Ok I made that change &amp; edited the above code..can you re-check the above code because the error persists.."},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":1,"creation_date":1392509207,"post_id":21805080,"comment_id":32996816,"body_markdown":"Don&#39;t prepend if-statements with &quot;;&quot;!","body":"Don&#39;t prepend if-statements with &quot;;&quot;!"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1392509561,"post_id":21805080,"comment_id":32996905,"body_markdown":"On spot. Also indent your code properly, learn about else if chains and how to use `printf`, etc. Look for good books on basic Java Programming.","body":"On spot. Also indent your code properly, learn about else if chains and how to use <code>printf</code>, etc. Look for good books on basic Java Programming."},{"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"score":0,"creation_date":1392511609,"post_id":21805080,"comment_id":32997451,"body_markdown":"Ok I tried something with the code..can you guys check my edited comment and code above and see what the problem is now?","body":"Ok I tried something with the code..can you guys check my edited comment and code above and see what the problem is now?"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1392511743,"post_id":21805080,"comment_id":32997485,"body_markdown":"`if (salary &lt; 15000); {`\n**Don&#39;t postfix if with &quot;;&quot;!**","body":"<code>if (salary &lt; 15000); {</code> <b>Don&#39;t postfix if with &quot;;&quot;!</b>"},{"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"score":0,"creation_date":1392512088,"post_id":21805080,"comment_id":32997578,"body_markdown":"C:\\Users\\Bryce\\Desktop\\1504\\taxable.java:22: error: not a statement\n      \t (salary &gt; 35000) {\n      \t ^\nC:\\Users\\Bryce\\Desktop\\1504\\taxable.java:22: error: &#39;;&#39; expected\n      \t (salary &gt; 35000) {","body":"C:\\Users\\Bryce\\Desktop\\1504\\taxable.java:22: error: not a statement       \t (salary &gt; 35000) {       \t ^ C:\\Users\\Bryce\\Desktop\\1504\\taxable.java:22: error: &#39;;&#39; expected       \t (salary &gt; 35000) {"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1392545123,"post_id":21805080,"comment_id":33004485,"body_markdown":"Please learn how to compile your source code and cope with obvious compiling errors.","body":"Please learn how to compile your source code and cope with obvious compiling errors."}],"tags":[],"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392506719,"creation_date":1392506719,"answer_id":21805080,"question_id":21805043,"body_markdown":"When dividing integer values, always check for floating point division - `10/100` will be `0` by Java integer division terms, `10.0/100` circumcises this.","title":"My Java program is outputting the wrong answer when finding tax for a salary","body":"<p>When dividing integer values, always check for floating point division - <code>10/100</code> will be <code>0</code> by Java integer division terms, <code>10.0/100</code> circumcises this.</p>\n"},{"comments":[{"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"score":0,"creation_date":1392506770,"post_id":21805087,"comment_id":32996101,"body_markdown":"Good job for spotting the `double` instead of `BigDecimal`. +1","body":"Good job for spotting the <code>double</code> instead of <code>BigDecimal</code>. +1"},{"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"score":0,"creation_date":1392507348,"post_id":21805087,"comment_id":32996288,"body_markdown":"I changed the code to (salary &gt;=15000 &amp;&amp; salary &lt;20000) {\n    \t taxDue=15000*0.1); and I still get the wrong answer...","body":"I changed the code to (salary &gt;=15000 &amp;&amp; salary &lt;20000) {     \t taxDue=15000*0.1); and I still get the wrong answer..."},{"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"score":0,"creation_date":1392510441,"post_id":21805087,"comment_id":32997127,"body_markdown":"Ok I edited everything to *0.1 etc instead of 10/10 etc. But I still get the wrong answer..I just uploaded the entire code (along with the edits u suggested..will add the BigDecimal changes afterwards). Can u see why I still don&#39;t get 1500 &amp; why I&#39;m getting 18750.0","body":"Ok I edited everything to *0.1 etc instead of 10/10 etc. But I still get the wrong answer..I just uploaded the entire code (along with the edits u suggested..will add the BigDecimal changes afterwards). Can u see why I still don&#39;t get 1500 &amp; why I&#39;m getting 18750.0"},{"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"score":0,"creation_date":1392510754,"post_id":21805087,"comment_id":32997233,"body_markdown":"New to java so bear with me..now I put the else if and it &quot;else without if&quot;---------System.out.println(&quot;No tax applicable&quot;);\n    \t }if\n    \t (salary &gt;=15000 &amp;&amp; salary &lt;20000); {\n    \t taxDue=(15000*0.1);\n    \t }else if\n    \t (salary &gt;=20000 &amp;&amp; salary &lt;=35000); {\n    \t tempTaxDue=(salary*0.8);\n    \t taxDue=15000*0.1+tempTaxDue-15000*0.2;\n    \t }else if \n      \t (salary &gt; 35000); {\n      \t tempTaxDue=salary*0.8;","body":"New to java so bear with me..now I put the else if and it &quot;else without if&quot;---------System.out.println(&quot;No tax applicable&quot;);     \t }if     \t (salary &gt;=15000 &amp;&amp; salary &lt;20000); {     \t taxDue=(15000*0.1);     \t }else if     \t (salary &gt;=20000 &amp;&amp; salary &lt;=35000); {     \t tempTaxDue=(salary*0.8);     \t taxDue=15000*0.1+tempTaxDue-15000*0.2;     \t }else if        \t (salary &gt; 35000); {       \t tempTaxDue=salary*0.8;"},{"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"score":0,"creation_date":1392514563,"post_id":21805087,"comment_id":32998138,"body_markdown":"I did and solved the errors..now I have no errors..but its still giving me the wrong output. The program doesn&#39;t charge tax on the first 20% of a salary i.e for 20000, it would be 15000 * 10% = 1500 + the remaining 1000 * 20% which would total 1700. But my program gives 14500 as the answer....","body":"I did and solved the errors..now I have no errors..but its still giving me the wrong output. The program doesn&#39;t charge tax on the first 20% of a salary i.e for 20000, it would be 15000 * 10% = 1500 + the remaining 1000 * 20% which would total 1700. But my program gives 14500 as the answer...."}],"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680745332,"creation_date":1392506743,"answer_id":21805087,"question_id":21805043,"body_markdown":"To get 10% out of something either divide it by `10.0` or multiply by `0.1`.\r\n\r\n    taxDue = 15000 * 0.1;\r\n\r\nBut the biggest hidden problem here is you shouldn&#39;t use double to represent money. Use `BigDecimal` instead.\r\n\r\nWhy? Just for fun, let&#39;s calculate 10% taxes over `1500`?\r\n\r\n    double dValue = 15001;\r\n    double dTaxes = 15001 * 0.1;\r\n    System.out.println(&quot;Taxes with double: &quot; + dTaxes);\r\n   \r\n    // Taxes with double: 1500.1000000000001\r\n\r\nPrecision error -&gt; Small, but it is there `0.0000000000001`.\r\n\r\n`BigDecimal` to the rescue: \r\n\r\n    BigDecimal value = new BigDecimal(&quot;15001&quot;);\r\n    BigDecimal taxes = value.multiply(new BigDecimal(&quot;0.1&quot;));\r\n    System.out.println(&quot;Taxes with BigDecimal: &quot; + taxes);\r\n\r\n    // Taxes with BigDecimal: 1500.1\r\n\r\n[Working example](http://ideone.com/th7Vyp).","title":"My Java program is outputting the wrong answer when finding tax for a salary","body":"<p>To get 10% out of something either divide it by <code>10.0</code> or multiply by <code>0.1</code>.</p>\n<pre><code>taxDue = 15000 * 0.1;\n</code></pre>\n<p>But the biggest hidden problem here is you shouldn't use double to represent money. Use <code>BigDecimal</code> instead.</p>\n<p>Why? Just for fun, let's calculate 10% taxes over <code>1500</code>?</p>\n<pre><code>double dValue = 15001;\ndouble dTaxes = 15001 * 0.1;\nSystem.out.println(&quot;Taxes with double: &quot; + dTaxes);\n\n// Taxes with double: 1500.1000000000001\n</code></pre>\n<p>Precision error -&gt; Small, but it is there <code>0.0000000000001</code>.</p>\n<p><code>BigDecimal</code> to the rescue:</p>\n<pre><code>BigDecimal value = new BigDecimal(&quot;15001&quot;);\nBigDecimal taxes = value.multiply(new BigDecimal(&quot;0.1&quot;));\nSystem.out.println(&quot;Taxes with BigDecimal: &quot; + taxes);\n\n// Taxes with BigDecimal: 1500.1\n</code></pre>\n<p><a href=\"http://ideone.com/th7Vyp\" rel=\"nofollow noreferrer\">Working example</a>.</p>\n"},{"comments":[{"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"score":0,"creation_date":1392507643,"post_id":21805120,"comment_id":32996367,"body_markdown":"I changed the code to (salary &gt;=15000 &amp;&amp; salary &lt;20000) { taxDue=15000*0.1; and I still get the wrong answer...","body":"I changed the code to (salary &gt;=15000 &amp;&amp; salary &lt;20000) { taxDue=15000*0.1; and I still get the wrong answer..."}],"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392507258,"creation_date":1392506950,"answer_id":21805120,"question_id":21805043,"body_markdown":"You have to use casting when you trying to assign to double variable some division, instead:\r\n\r\n&gt;taxDue=15000*(10/100);\r\n\r\nsmt as make one of divisor double value:\r\n\r\n&gt; taxDue = 15000.0 * (10.0 / 100);","title":"My Java program is outputting the wrong answer when finding tax for a salary","body":"<p>You have to use casting when you trying to assign to double variable some division, instead:</p>\n\n<blockquote>\n  <p>taxDue=15000*(10/100);</p>\n</blockquote>\n\n<p>smt as make one of divisor double value:</p>\n\n<blockquote>\n  <p>taxDue = 15000.0 * (10.0 / 100);</p>\n</blockquote>\n"}],"owner":{"account_id":4026429,"reputation":1,"user_id":3314485,"display_name":"user3314485"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1680745332,"creation_date":1392506507,"question_id":21805043,"body_markdown":"There is no tax on the first 20% of salary entered. i.e for 20000..it would tax for 16000 with 10% on 15000 and 20% on the remaining 1000 which would be 1700 total tax. My program incorrectly outputs 14500....\r\n\r\n    import java.util.*;\r\n    public class taxable {\r\n\r\n\r\n    \tpublic static void main (String[] args) {\r\n    \t Scanner in=new Scanner(System.in);\r\n    \t \r\n    \t System.out.println(&quot;Enter your salary:&quot;);\r\n    \t double salary=in.nextDouble();\r\n    \t double taxDue=0;\r\n    \t double tempTaxDue=0;\r\n    \t if (salary &lt; 15000) {\r\n    \t System.out.println(&quot;No tax applicable&quot;);\r\n    \t }else if \r\n    \t (salary &gt;=15000 &amp;&amp; salary &lt;20000) {\r\n    \t taxDue=(15000*0.1);\r\n    \t }else if \r\n    \t (salary &gt;=20000 &amp;&amp; salary &lt;=35000) {\r\n    \t tempTaxDue=(salary*0.8);\r\n    \t taxDue=15000*0.1+tempTaxDue-15000*0.2;\r\n    \t }else if\r\n      \t (salary &gt; 35000) {\r\n      \t tempTaxDue=salary*0.8;\r\n    \t taxDue=(15000*0.1)+(20000*0.2)+(tempTaxDue-35000*0.35);\r\n    \t taxDue=(salary*0.8)+(20000*0.2)+(salary-35000*0.35);\r\n    \t }\r\n    \t System.out.printf(&quot;The amount of tax due is: &quot; + taxDue + &quot;    &quot;);\r\n    \t double avTaxRate;\r\n    \t avTaxRate=taxDue/salary*100;\r\n    \t System.out.printf(&quot;The average tax rate: &quot; + avTaxRate + &quot;%%&quot;);\r\n    \t \r\n    }\r\n\r\n\r\n    }","title":"My Java program is outputting the wrong answer when finding tax for a salary","body":"<p>There is no tax on the first 20% of salary entered. i.e for 20000..it would tax for 16000 with 10% on 15000 and 20% on the remaining 1000 which would be 1700 total tax. My program incorrectly outputs 14500....</p>\n\n<pre><code>import java.util.*;\npublic class taxable {\n\n\n    public static void main (String[] args) {\n     Scanner in=new Scanner(System.in);\n\n     System.out.println(\"Enter your salary:\");\n     double salary=in.nextDouble();\n     double taxDue=0;\n     double tempTaxDue=0;\n     if (salary &lt; 15000) {\n     System.out.println(\"No tax applicable\");\n     }else if \n     (salary &gt;=15000 &amp;&amp; salary &lt;20000) {\n     taxDue=(15000*0.1);\n     }else if \n     (salary &gt;=20000 &amp;&amp; salary &lt;=35000) {\n     tempTaxDue=(salary*0.8);\n     taxDue=15000*0.1+tempTaxDue-15000*0.2;\n     }else if\n     (salary &gt; 35000) {\n     tempTaxDue=salary*0.8;\n     taxDue=(15000*0.1)+(20000*0.2)+(tempTaxDue-35000*0.35);\n     taxDue=(salary*0.8)+(20000*0.2)+(salary-35000*0.35);\n     }\n     System.out.printf(\"The amount of tax due is: \" + taxDue + \"    \");\n     double avTaxRate;\n     avTaxRate=taxDue/salary*100;\n     System.out.printf(\"The average tax rate: \" + avTaxRate + \"%%\");\n\n}\n\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1328213316,"post_id":9118698,"comment_id":11458381,"body_markdown":"Ewwwwww.  That&#39;d inevitably require (slow) reflection.  Do it the old-fashioned way, please.","body":"Ewwwwww.  That&#39;d inevitably require (slow) reflection.  Do it the old-fashioned way, please."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1328213863,"post_id":9118698,"comment_id":11458568,"body_markdown":"@LouisWasserman Not necessarily, you could also proxy concrete classes using something like CGLIB. (Overkill, with lots of bug-prone code, but faster!)","body":"@LouisWasserman Not necessarily, you could also proxy concrete classes using something like CGLIB. (Overkill, with lots of bug-prone code, but faster!)"}],"answers":[{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680744888,"creation_date":1328213710,"answer_id":9119303,"question_id":9118698,"body_markdown":"Not exactly what you were asking for but as a Java programmer that spent some time coding in [Scala](http://www.scala.org/) I can recommend [Google Guava&#39;s](https://guava.dev) implementation of [Optional](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Optional.html).  \r\n[Elvis and Safe Operator Proposal](http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/000047.html) didn&#39;t make it to Java 7, maybe for 8. \r\n[This question](https://stackoverflow.com/questions/271526/how-to-avoid-null-statements-in-java) may be an interesting read.\r\n\r\n**Update 2023**: Still no Elvis Operator in Java, but [`Optional`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html) has been part of the Standard Library since Java 8.","title":"utility method for safe dereference in Java","body":"<p>Not exactly what you were asking for but as a Java programmer that spent some time coding in <a href=\"http://www.scala.org/\" rel=\"nofollow noreferrer\">Scala</a> I can recommend <a href=\"https://guava.dev\" rel=\"nofollow noreferrer\">Google Guava's</a> implementation of <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Optional.html\" rel=\"nofollow noreferrer\">Optional</a>.<br />\n<a href=\"http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/000047.html\" rel=\"nofollow noreferrer\">Elvis and Safe Operator Proposal</a> didn't make it to Java 7, maybe for 8.\n<a href=\"https://stackoverflow.com/questions/271526/how-to-avoid-null-statements-in-java\">This question</a> may be an interesting read.</p>\n<p><strong>Update 2023</strong>: Still no Elvis Operator in Java, but <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a> has been part of the Standard Library since Java 8.</p>\n"}],"owner":{"account_id":344230,"reputation":10643,"user_id":676427,"accept_rate":29,"display_name":"Robert Jack Will"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680744888,"creation_date":1328211099,"question_id":9118698,"body_markdown":"Groovy allows me to say\r\n\r\n    x?.getY()\r\n\r\ninstead of the verbose\r\n\r\n    x == null ? null : x.getY().\r\n\r\nJava does not allow custom operators, but I can imagine a utility method that&#39;s used like so:\r\n\r\n    safe(x).getY();\r\n\r\nIs there any standard library in the world&#39;s Maven repos that does this kind of thing? If no, and I wanted to include it in an open source library (like apache.commons.lang), where would it best fit?\r\n\r\n\r\nEdit: sample implementation of `safe()`:\r\n\r\n    public static &lt;T&gt; T safe(T x) {\r\n        if (x==null) {\r\n            return new NullReturningMock&lt;T&gt;();\r\n        } else {\r\n            return x;\r\n        }\r\n    }\r\n","title":"utility method for safe dereference in Java","body":"<p>Groovy allows me to say</p>\n<pre><code>x?.getY()\n</code></pre>\n<p>instead of the verbose</p>\n<pre><code>x == null ? null : x.getY().\n</code></pre>\n<p>Java does not allow custom operators, but I can imagine a utility method that's used like so:</p>\n<pre><code>safe(x).getY();\n</code></pre>\n<p>Is there any standard library in the world's Maven repos that does this kind of thing? If no, and I wanted to include it in an open source library (like apache.commons.lang), where would it best fit?</p>\n<p>Edit: sample implementation of <code>safe()</code>:</p>\n<pre><code>public static &lt;T&gt; T safe(T x) {\n    if (x==null) {\n        return new NullReturningMock&lt;T&gt;();\n    } else {\n        return x;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","validation"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1680743953,"creation_date":1680743953,"answer_id":75945113,"question_id":75918125,"body_markdown":"I tried to fix it by using all these steps shown below\r\n\r\n1 ) Add Constraint annotation to method of controller\r\n\r\n     @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.IMAGE_PNG_VALUE)\r\n        public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestParam @TextLengthConstraint @NotBlank String text,\r\n                                                   @RequestParam @ImageSizeConstraint @NotBlank String size,\r\n                                                   @RequestParam @ColorConstraint @NotBlank String color,\r\n                                                   @RequestParam @ColorConstraint @NotBlank String backgroundColor,\r\n                                                   @RequestParam(required = false) MultipartFile imageFile) throws IOException {\r\n\r\n2 ) Define constraint like this shown below\r\n\r\n    @Documented\r\n    @Constraint(validatedBy = ColorValidator.class)\r\n    @Target(value = {ElementType.METHOD, ElementType.FIELD, ElementType.PARAMETER})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ColorConstraint {\r\n        String message() default &quot;Invalid color hex code&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n    }\r\n\r\n\r\n3 ) Add `@Component` to validator\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class ColorValidator implements ConstraintValidator&lt;ColorConstraint, String&gt; {\r\n    \r\n        @Override\r\n        public void initialize(ColorConstraint constraintAnnotation) {\r\n            ConstraintValidator.super.initialize(constraintAnnotation);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(String color, ConstraintValidatorContext constraintValidatorContext) {\r\n            log.info(&quot;ColorValidator | isValid is working&quot;);\r\n            return ValidatorUtil.validColor(color);\r\n        }\r\n    }","title":"How to use Custom validation with @RequestParam in Spring Boot","body":"<p>I tried to fix it by using all these steps shown below</p>\n<p>1 ) Add Constraint annotation to method of controller</p>\n<pre><code> @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.IMAGE_PNG_VALUE)\n    public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestParam @TextLengthConstraint @NotBlank String text,\n                                               @RequestParam @ImageSizeConstraint @NotBlank String size,\n                                               @RequestParam @ColorConstraint @NotBlank String color,\n                                               @RequestParam @ColorConstraint @NotBlank String backgroundColor,\n                                               @RequestParam(required = false) MultipartFile imageFile) throws IOException {\n</code></pre>\n<p>2 ) Define constraint like this shown below</p>\n<pre><code>@Documented\n@Constraint(validatedBy = ColorValidator.class)\n@Target(value = {ElementType.METHOD, ElementType.FIELD, ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ColorConstraint {\n    String message() default &quot;Invalid color hex code&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n<p>3 ) Add <code>@Component</code> to validator</p>\n<pre><code>@Slf4j\n@Component\npublic class ColorValidator implements ConstraintValidator&lt;ColorConstraint, String&gt; {\n\n    @Override\n    public void initialize(ColorConstraint constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(String color, ConstraintValidatorContext constraintValidatorContext) {\n        log.info(&quot;ColorValidator | isValid is working&quot;);\n        return ValidatorUtil.validColor(color);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75945113,"answer_count":1,"score":0,"last_activity_date":1680743953,"creation_date":1680515520,"question_id":75918125,"body_markdown":"I have a problem to detect custom validation in Spring Boot example. I defined some validation including in color validator, text length validator and image size validator.\r\n\r\nWhen I try to send a request with non validation values, it passed successfully instead of throwing an error.\r\n\r\nHow can I fix it? I also shared my repo shown below\r\n\r\n\r\nHere is the Controller  shown below\r\n\r\n    @Validated\r\n        public class QrController {\r\n        \r\n            @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.IMAGE_PNG_VALUE)\r\n            public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestParam String text,\r\n                                                       @RequestParam String size,\r\n                                                       @RequestParam String color,\r\n                                                       @RequestParam String backgroundColor,\r\n                                                       @RequestParam(required = false) MultipartFile imageFile) throws IOException {\r\n            \r\n                    CreateQrRequest request = CreateQrRequest.builder()\r\n                            .text(text)\r\n                            .backgroundColor(backgroundColor)\r\n                            .color(color)\r\n                            .size(size)\r\n                            .build();\r\n            \r\n                    ....\r\n            \r\n            }\r\n        }\r\n\r\nHere is the CreateQrRequest shown below\r\n\r\n    @Data\r\n    @Builder\r\n    public class CreateQrRequest {\r\n    \r\n        @NotBlank\r\n        @TextLength\r\n        private String text;\r\n    \r\n        @NotBlank\r\n        @ImageSize\r\n        private String size;\r\n    \r\n        @NotBlank\r\n        @Color\r\n        private String color;\r\n    \r\n        @NotBlank\r\n        @Color\r\n        private String backgroundColor;\r\n    }\r\n\r\nHere is the Color annotation shown below\r\n\r\n    @Documented\r\n    @Constraint(validatedBy = ColorValidator.class)\r\n    @Target(value = {ElementType.FIELD , ElementType.PARAMETER})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Color {\r\n        String message() default &quot;Invalid color hex code&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n    }\r\n\r\nHere is the ColorValidator shown below\r\n\r\n    public class ColorValidator implements ConstraintValidator&lt;Color, String&gt; {\r\n    \r\n        @Override\r\n        public void initialize(Color constraintAnnotation) {\r\n            ConstraintValidator.super.initialize(constraintAnnotation);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(String color, ConstraintValidatorContext constraintValidatorContext) {\r\n    \r\n            return ValidatorUtil.validColor(color);\r\n        }\r\n    }\r\n\r\n**Edited**\r\n\r\nI also added `ElementType.PARAMETER` to each validation annotation like `@Color`, `@TextLength` and `@ImageSize`.\r\n\r\nNext I revised the method of controller shown below\r\n\r\n    @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.IMAGE_PNG_VALUE)\r\n        public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestParam @TextLength String text,\r\n                                                   @RequestParam @ImageSize String size,\r\n                                                   @RequestParam @Color String color,\r\n                                                   @RequestParam @Color String backgroundColor,\r\n                                                   @RequestParam(required = false) MultipartFile imageFile) throws IOException {\r\n\r\nI got this issue shown below\r\n\r\n    jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint &#39;com.example.qrgeneratorexample.utils.annotation.TextLength&#39; validating type &#39;java.lang.String&#39;. Check configuration for &#39;createQrCode.text&#39;\r\n\r\n\r\n\r\nHere is the repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/qr-generator-example","title":"How to use Custom validation with @RequestParam in Spring Boot","body":"<p>I have a problem to detect custom validation in Spring Boot example. I defined some validation including in color validator, text length validator and image size validator.</p>\n<p>When I try to send a request with non validation values, it passed successfully instead of throwing an error.</p>\n<p>How can I fix it? I also shared my repo shown below</p>\n<p>Here is the Controller  shown below</p>\n<pre><code>@Validated\n    public class QrController {\n    \n        @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.IMAGE_PNG_VALUE)\n        public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestParam String text,\n                                                   @RequestParam String size,\n                                                   @RequestParam String color,\n                                                   @RequestParam String backgroundColor,\n                                                   @RequestParam(required = false) MultipartFile imageFile) throws IOException {\n        \n                CreateQrRequest request = CreateQrRequest.builder()\n                        .text(text)\n                        .backgroundColor(backgroundColor)\n                        .color(color)\n                        .size(size)\n                        .build();\n        \n                ....\n        \n        }\n    }\n</code></pre>\n<p>Here is the CreateQrRequest shown below</p>\n<pre><code>@Data\n@Builder\npublic class CreateQrRequest {\n\n    @NotBlank\n    @TextLength\n    private String text;\n\n    @NotBlank\n    @ImageSize\n    private String size;\n\n    @NotBlank\n    @Color\n    private String color;\n\n    @NotBlank\n    @Color\n    private String backgroundColor;\n}\n</code></pre>\n<p>Here is the Color annotation shown below</p>\n<pre><code>@Documented\n@Constraint(validatedBy = ColorValidator.class)\n@Target(value = {ElementType.FIELD , ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Color {\n    String message() default &quot;Invalid color hex code&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n<p>Here is the ColorValidator shown below</p>\n<pre><code>public class ColorValidator implements ConstraintValidator&lt;Color, String&gt; {\n\n    @Override\n    public void initialize(Color constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(String color, ConstraintValidatorContext constraintValidatorContext) {\n\n        return ValidatorUtil.validColor(color);\n    }\n}\n</code></pre>\n<p><strong>Edited</strong></p>\n<p>I also added <code>ElementType.PARAMETER</code> to each validation annotation like <code>@Color</code>, <code>@TextLength</code> and <code>@ImageSize</code>.</p>\n<p>Next I revised the method of controller shown below</p>\n<pre><code>@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.IMAGE_PNG_VALUE)\n    public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestParam @TextLength String text,\n                                               @RequestParam @ImageSize String size,\n                                               @RequestParam @Color String color,\n                                               @RequestParam @Color String backgroundColor,\n                                               @RequestParam(required = false) MultipartFile imageFile) throws IOException {\n</code></pre>\n<p>I got this issue shown below</p>\n<pre><code>jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'com.example.qrgeneratorexample.utils.annotation.TextLength' validating type 'java.lang.String'. Check configuration for 'createQrCode.text'\n</code></pre>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/qr-generator-example\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":187954,"reputation":1359,"user_id":426378,"accept_rate":67,"display_name":"Robert M."},"score":2,"creation_date":1325778605,"post_id":8745297,"comment_id":10893911,"body_markdown":"when you System.out.println a date object, the Date&#39;s toString Method is called. You would need to create your own subclass of Date and overwrite the toString method to output the Date the way you want it to.","body":"when you System.out.println a date object, the Date&#39;s toString Method is called. You would need to create your own subclass of Date and overwrite the toString method to output the Date the way you want it to."},{"owner":{"account_id":1049835,"reputation":3025,"user_id":1054036,"display_name":"Viruzzo"},"score":1,"creation_date":1325778666,"post_id":8745297,"comment_id":10893935,"body_markdown":"It&#39;s really unclear what you want, but understand this: `Date.toString()` returns the default format, nothing can be done about it. You have to use `SimpleDateFormat` to format the string output.","body":"It&#39;s really unclear what you want, but understand this: <code>Date.toString()</code> returns the default format, nothing can be done about it. You have to use <code>SimpleDateFormat</code> to format the string output."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1325779352,"post_id":8745297,"comment_id":10894244,"body_markdown":"Do you mean `.SSS` for milli-seconds? Java doesn&#39;t support 1/100ths of a second. If you use `.SS` it many not behave as you expect.","body":"Do you mean <code>.SSS</code> for milli-seconds? Java doesn&#39;t support 1/100ths of a second. If you use <code>.SS</code> it many not behave as you expect."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1536787454,"post_id":8745297,"comment_id":91554968,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1325778576,"creation_date":1325778576,"answer_id":8745349,"question_id":8745297,"body_markdown":"You can&#39;t - because you&#39;re calling `Date.toString()` which will *always* include the system time zone if that&#39;s in the default date format for the default locale. The `Date` value itself has no concept of a format. If you want to format it in a particular way, use `SimpleDateFormat.format()`... using `Date.toString()` is almost always a bad idea.","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<p>You can't - because you're calling <code>Date.toString()</code> which will <em>always</em> include the system time zone if that's in the default date format for the default locale. The <code>Date</code> value itself has no concept of a format. If you want to format it in a particular way, use <code>SimpleDateFormat.format()</code>... using <code>Date.toString()</code> is almost always a bad idea.</p>\n"},{"tags":[],"owner":{"account_id":921513,"reputation":39385,"user_id":953140,"accept_rate":100,"display_name":"Ahamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1674871111,"creation_date":1325778691,"answer_id":8745374,"question_id":8745297,"body_markdown":"The following code gives expected output. Is that what you want?\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    public class DateAndTime {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;);\r\n    \t\tString strDate = sdf.format(cal.getTime());\r\n    \t\tSystem.out.println(&quot;Current date in String Format: &quot; + strDate);\r\n    \r\n    \t\tSimpleDateFormat sdf1 = new SimpleDateFormat();\r\n    \t\tsdf1.applyPattern(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;);\r\n    \t\tDate date = sdf1.parse(strDate);\r\n    \t\tString string = sdf1.format(date);\r\n    \t\tSystem.out.println(&quot;Current date in Date Format: &quot; + string);\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<p>The following code gives expected output. Is that what you want?</p>\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\n\npublic class DateAndTime {\n\n    public static void main(String[] args) throws Exception {\n        Calendar cal = Calendar.getInstance();\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;);\n        String strDate = sdf.format(cal.getTime());\n        System.out.println(&quot;Current date in String Format: &quot; + strDate);\n\n        SimpleDateFormat sdf1 = new SimpleDateFormat();\n        sdf1.applyPattern(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;);\n        Date date = sdf1.parse(strDate);\n        String string = sdf1.format(date);\n        System.out.println(&quot;Current date in Date Format: &quot; + string);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680743951,"creation_date":1325778830,"answer_id":8745409,"question_id":8745297,"body_markdown":"You need to use your `SimpleDateFormat` to format the date back to the format that you are looking for.\r\n     \r\n    System.out.println(&quot;Current date in Date Format: &quot; + sdf.format(date));\r\n\r\n**Update 2023**: As pointed in other answers, code nowadays should default to [Java Date and Time API](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/package-summary.html), including `SimpleDateFormat` modern, immutable and thread-safe cousin: [`DateTimeFormatter`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html).","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<p>You need to use your <code>SimpleDateFormat</code> to format the date back to the format that you are looking for.</p>\n<pre><code>System.out.println(&quot;Current date in Date Format: &quot; + sdf.format(date));\n</code></pre>\n<p><strong>Update 2023</strong>: As pointed in other answers, code nowadays should default to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">Java Date and Time API</a>, including <code>SimpleDateFormat</code> modern, immutable and thread-safe cousin: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":757313,"reputation":6028,"user_id":758831,"accept_rate":75,"display_name":"wmorrison365"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325779849,"creation_date":1325779849,"answer_id":8745726,"question_id":8745297,"body_markdown":"The output in your first printline is using your formatter. The output in your second (the date created from your parsed string) is output using Date#toString which formats according to its own rules. That is, you&#39;re not using a formatter.\r\n\r\nThe rules are as per what you&#39;re seeing and described here:\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/Date.html#toString()","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<p>The output in your first printline is using your formatter. The output in your second (the date created from your parsed string) is output using Date#toString which formats according to its own rules. That is, you're not using a formatter.</p>\n\n<p>The rules are as per what you're seeing and described here:\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Date.html#toString\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/Date.html#toString</a>()</p>\n"},{"comments":[{"owner":{"account_id":1548368,"reputation":701,"user_id":1441326,"display_name":"AnhSirk Dasarp"},"score":0,"creation_date":1426055012,"post_id":19063356,"comment_id":46209918,"body_markdown":"java.util.Date temp = new SimpleDateFormat(&quot;dd/mm/yyyy hh:mm:ss&quot;, Locale.US).parse(ackDateTimeString); worked for me finally !","body":"java.util.Date temp = new SimpleDateFormat(&quot;dd/mm/yyyy hh:mm:ss&quot;, Locale.US).parse(ackDateTimeString); worked for me finally !"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1536787460,"post_id":19063356,"comment_id":91554972,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"tags":[],"owner":{"account_id":3360074,"reputation":219,"user_id":2822053,"display_name":"user2822053"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1380344492,"creation_date":1380343268,"answer_id":19063356,"question_id":8745297,"body_markdown":"SimpleDateFormat\r\n \r\n\r\n   \r\n\r\n    sdf=new SimpleDateFormat(&quot;dd/MM/YYYY hh:mm:ss&quot;);\r\n    String dateString=sdf.format(date);\r\n\r\nIt will give the output `28/09/2013 09:57:19` as you expected.\r\n\r\n[For complete program click here][1] \r\n\r\n\r\n  [1]: http://java-interview-questions.com/how-to-display-date-in-ddmmyyyy-hhmmss-format-in-java/","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<p>SimpleDateFormat</p>\n\n<pre><code>sdf=new SimpleDateFormat(\"dd/MM/YYYY hh:mm:ss\");\nString dateString=sdf.format(date);\n</code></pre>\n\n<p>It will give the output <code>28/09/2013 09:57:19</code> as you expected.</p>\n\n<p><a href=\"http://java-interview-questions.com/how-to-display-date-in-ddmmyyyy-hhmmss-format-in-java/\">For complete program click here</a> </p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1536788963,"creation_date":1536788539,"answer_id":52303885,"question_id":8745297,"body_markdown":"# tl;dr\r\n\r\n - Use modern *java.time* classes. \r\n - Never use `Date`/`Calendar`/`SimpleDateFormat` classes.\r\n\r\nExample:\r\n\r\n    ZonedDateTime                                // Represent a moment as seen in the wall-clock time used by the people of a particular region (a time zone).\r\n    .now(                                        // Capture the current moment.\r\n        ZoneId.of( &quot;Africa/Tunis&quot; )              // Always specify time zone using proper `Continent/Region` format. Never use 3-4 letter pseudo-zones such as EST, PDT, IST, etc.\r\n    )\r\n    .truncatedTo(                                // Lop off finer part of this value.\r\n        ChronoUnit.MILLIS                        // Specify level of truncation via `ChronoUnit` enum object.\r\n    )                                            // Returns another separate `ZonedDateTime` object, per immutable objects pattern, rather than alter (“mutate”) the original.\r\n    .format(                                     // Generate a `String` object with text representing the value of our `ZonedDateTime` object.\r\n        DateTimeFormatter.ISO_LOCAL_DATE_TIME    // This standard ISO 8601 format is close to your desired output.\r\n    )                                            // Returns a `String`.\r\n    .replace( &quot;T&quot; , &quot; &quot; )                        // Replace `T` in middle with a SPACE.\r\n\r\n\r\n\r\n# java.time\r\n\r\nThe modern approach uses *java.time* classes that years ago supplanted the terrible old date-time classes such as `Calendar` &amp; `SimpleDateFormat`.\r\n\r\n\r\n&gt;want current date and time \r\n\r\nCapture the current moment in UTC using `Instant`. \r\n\r\n    Instant instant = Instant.now() ;\r\n\r\nTo view that same moment through the lens of the wall-clock time used by the people of a particular region (a time zone), apply a [`ZoneId`][1] to get a [`ZonedDateTime`][2].\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nOr, as a shortcut, pass a `ZoneId` to the `ZonedDateTime.now` method.\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( ZoneId.of( &quot;Pacific/Auckland&quot; ) ) ;\r\n\r\nThe *java.time* classes use a resolution of [nanoseconds][3]. That means up to nine digits of a decimal fraction of a second. If you want only three, milliseconds, [truncate][4]. Pass your desired limit as a [`ChronoUnit`][5] enum object.\r\n\r\n    ZonedDateTime\r\n    .now( \r\n        ZoneId.of( &quot;Pacific/Auckland&quot; ) \r\n    )\r\n    .truncatedTo(\r\n        ChronoUnit.MILLIS\r\n    )\r\n\r\n\r\n&gt;in “dd/MM/yyyy HH:mm:ss.SS” format\r\n\r\nI recommend always including the offset-from-UTC or time zone when generating a string, to avoid ambiguity and misunderstanding. \r\n\r\nBut if you insist, you can specify a specific format when generating a string to represent your date-time value. A built-in pre-defined formatter nearly meets your desired format, but for a `T` where you want a SPACE.\r\n\r\n    String output = \r\n        zdt.format( DateTimeFormatter.ISO_LOCAL_DATE_TIME )\r\n        .replace( &quot;T&quot; , &quot; &quot; )  \r\n    ;\r\n\r\n\r\n&gt;sdf1.applyPattern(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;);\r\n\r\n&gt;Date date = sdf1.parse(strDate);\r\n\r\nNever exchange date-time values using text intended for presentation to humans.\r\n\r\nInstead, use the standard formats defined for this very purpose, found in [ISO 8601][6].\r\n\r\nThe *java.time* use these ISO 8601 formats by default when parsing/generating strings.\r\n\r\nAlways include an indicator of the offset-from-UTC or time zone when exchanging a specific moment. So your desired format discussed above is to be avoided for data-exchange. Furthermore, generally best to exchange a moment as UTC. This means an `Instant` in *java.time*. You can exchange a `Instant` from a `ZonedDateTime`, effectively adjusting from a time zone to UTC for the same moment, same point on the timeline, but a different wall-clock time.\r\n\r\n    Instant instant = zdt.toInstant() ;\r\n    String exchangeThisString = instant.toString() ;\r\n\r\n&gt;2018-01-23T01:23:45.123456789Z\r\n\r\nThis ISO 8601 format uses a `Z` on the end to represent UTC, pronounced “Zulu”. \r\n\r\n    \r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/time/ZoneId.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html\r\n  [3]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [4]: https://docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html#truncatedTo(java.time.temporal.TemporalUnit)\r\n  [5]: https://docs.oracle.com/javase/10/docs/api/java/time/temporal/ChronoUnit.html\r\n  [6]: https://en.wikipedia.org/wiki/ISO_8601","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<h1>tl;dr</h1>\n\n<ul>\n<li>Use modern <em>java.time</em> classes. </li>\n<li>Never use <code>Date</code>/<code>Calendar</code>/<code>SimpleDateFormat</code> classes.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>ZonedDateTime                                // Represent a moment as seen in the wall-clock time used by the people of a particular region (a time zone).\n.now(                                        // Capture the current moment.\n    ZoneId.of( \"Africa/Tunis\" )              // Always specify time zone using proper `Continent/Region` format. Never use 3-4 letter pseudo-zones such as EST, PDT, IST, etc.\n)\n.truncatedTo(                                // Lop off finer part of this value.\n    ChronoUnit.MILLIS                        // Specify level of truncation via `ChronoUnit` enum object.\n)                                            // Returns another separate `ZonedDateTime` object, per immutable objects pattern, rather than alter (“mutate”) the original.\n.format(                                     // Generate a `String` object with text representing the value of our `ZonedDateTime` object.\n    DateTimeFormatter.ISO_LOCAL_DATE_TIME    // This standard ISO 8601 format is close to your desired output.\n)                                            // Returns a `String`.\n.replace( \"T\" , \" \" )                        // Replace `T` in middle with a SPACE.\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>The modern approach uses <em>java.time</em> classes that years ago supplanted the terrible old date-time classes such as <code>Calendar</code> &amp; <code>SimpleDateFormat</code>.</p>\n\n<blockquote>\n  <p>want current date and time </p>\n</blockquote>\n\n<p>Capture the current moment in UTC using <code>Instant</code>. </p>\n\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n\n<p>To view that same moment through the lens of the wall-clock time used by the people of a particular region (a time zone), apply a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a> to get a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>.</p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"nofollow noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Pacific/Auckland\" ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n\n<p>Or, as a shortcut, pass a <code>ZoneId</code> to the <code>ZonedDateTime.now</code> method.</p>\n\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( ZoneId.of( \"Pacific/Auckland\" ) ) ;\n</code></pre>\n\n<p>The <em>java.time</em> classes use a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>. That means up to nine digits of a decimal fraction of a second. If you want only three, milliseconds, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html#truncatedTo(java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\">truncate</a>. Pass your desired limit as a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"nofollow noreferrer\"><code>ChronoUnit</code></a> enum object.</p>\n\n<pre><code>ZonedDateTime\n.now( \n    ZoneId.of( \"Pacific/Auckland\" ) \n)\n.truncatedTo(\n    ChronoUnit.MILLIS\n)\n</code></pre>\n\n<blockquote>\n  <p>in “dd/MM/yyyy HH:mm:ss.SS” format</p>\n</blockquote>\n\n<p>I recommend always including the offset-from-UTC or time zone when generating a string, to avoid ambiguity and misunderstanding. </p>\n\n<p>But if you insist, you can specify a specific format when generating a string to represent your date-time value. A built-in pre-defined formatter nearly meets your desired format, but for a <code>T</code> where you want a SPACE.</p>\n\n<pre><code>String output = \n    zdt.format( DateTimeFormatter.ISO_LOCAL_DATE_TIME )\n    .replace( \"T\" , \" \" )  \n;\n</code></pre>\n\n<blockquote>\n  <p>sdf1.applyPattern(\"dd/MM/yyyy HH:mm:ss.SS\");</p>\n  \n  <p>Date date = sdf1.parse(strDate);</p>\n</blockquote>\n\n<p>Never exchange date-time values using text intended for presentation to humans.</p>\n\n<p>Instead, use the standard formats defined for this very purpose, found in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>.</p>\n\n<p>The <em>java.time</em> use these ISO 8601 formats by default when parsing/generating strings.</p>\n\n<p>Always include an indicator of the offset-from-UTC or time zone when exchanging a specific moment. So your desired format discussed above is to be avoided for data-exchange. Furthermore, generally best to exchange a moment as UTC. This means an <code>Instant</code> in <em>java.time</em>. You can exchange a <code>Instant</code> from a <code>ZonedDateTime</code>, effectively adjusting from a time zone to UTC for the same moment, same point on the timeline, but a different wall-clock time.</p>\n\n<pre><code>Instant instant = zdt.toInstant() ;\nString exchangeThisString = instant.toString() ;\n</code></pre>\n\n<blockquote>\n  <p>2018-01-23T01:23:45.123456789Z</p>\n</blockquote>\n\n<p>This ISO 8601 format uses a <code>Z</code> on the end to represent UTC, pronounced “Zulu”. </p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563598451,"creation_date":1537813470,"answer_id":52485250,"question_id":8745297,"body_markdown":"Disclaimer: this answer does *not* endorse the use of the `Date` class (in fact it’s long outdated and poorly designed, so I’d rather discourage it completely). I try to answer a regularly recurring question about date and time objects with a format. For this purpose I am using the `Date` class as example. Other classes are treated at the end.\r\n\r\n## You don’t want to\r\n\r\nYou don’t want a `Date` with a specific format. Good practice in all but the simplest throw-away programs is to keep your user interface apart from your model and your business logic. The value of the `Date` object belongs in your model, so keep your `Date` there and never let the user see it directly. When you adhere to this, it will never matter which format the `Date` has got. Whenever the user should see the date, format it into a `String` and show the string to the user. Similarly if you need a specific format for persistence or exchange with another system, format the `Date` into a string for that purpose. If the user needs to enter a date and/or time, either accept a string or use a date picker or time picker.\r\n\r\nSpecial case: storing into an SQL database. It may appear that your database requires a specific format. Not so. Use `yourPreparedStatement.setObject(yourParamIndex, yourDateOrTimeObject)` where `yourDateOrTimeObject` is a `LocalDate`,  `Instant`, `LocalDateTime` or an instance of an appropriate date-time class from java.time. And again don’t worry about the format of that object. Search for more details.\r\n\r\n## You cannot\r\n\r\nA `Date` hasn’t got, as in cannot have a format. It’s a point in time, nothing more, nothing less. A container of a value. In your code `sdf1.parse` *converts*  your string into a `Date` object, that is, into a point in time. It doesn’t keep the string nor the format that was in the string.\r\n\r\nTo finish the story, let’s look at the next line from your code too:\r\n\r\n        System.out.println(&quot;Current date in Date Format: &quot;+date);\r\n\r\nIn order to perform the string concatenation required by the `+` sign Java needs to convert your `Date` into a `String` first. It does this by calling the `toString` method of your `Date` object. `Date.toString` always produces a string like `Thu Jan 05 21:10:17 IST 2012`. There is no way you could change that (except in a subclass of `Date`, but you don’t want that). Then the generated string is concatenated with the string literal to produce the string printed by `System.out.println`.\r\n\r\nIn short “format” applies only to the string representations of dates, not to the dates themselves.\r\n\r\n## Isn’t it strange that a Date hasn’t got a format?\r\n\r\nI think what I’ve written is quite as we should expect. It’s similar to other types. Think of an `int`. The same `int` may be formatted into strings like `53,551`, `53.551` (with a dot as thousands separator), `00053551`, `+53 551` or even `0x0000_D12F`. All of this formatting produces strings, while the `int` just stays the same and doesn’t change its format. With a `Date` object it’s exactly the same: you can format it into many different strings, but the `Date` itself always stays the same.\r\n\r\n## Can I then have a LocalDate, a ZonedDateTime, a Calendar, a GregorianCalendar, an XMLGregorianCalendar, a java.sql.Date, Time or Timestamp in the format of my choice?\r\n\r\nNo, you cannot, and for the same reasons as above. None of the mentioned classes, in fact no date or time class I have ever met, can have a format. You can have your desired format only in a `String` outside your date-time object.\r\n\r\n## Links\r\n\r\n - [Model–view–controller](https://en.wikipedia.org/wiki/Model–view–controller) on Wikipedia\r\n - [All about java.util.Date](https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/) on Jon Skeet’s coding blog\r\n - Answers by [Basil Bourque](https://stackoverflow.com/a/52303885/5772882) and [Pitto](https://stackoverflow.com/a/57113564/5772882) explaining what to do instead (also using classes that are more modern and far more programmer friendly than `Date`)","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<p>Disclaimer: this answer does <em>not</em> endorse the use of the <code>Date</code> class (in fact it’s long outdated and poorly designed, so I’d rather discourage it completely). I try to answer a regularly recurring question about date and time objects with a format. For this purpose I am using the <code>Date</code> class as example. Other classes are treated at the end.</p>\n\n<h2>You don’t want to</h2>\n\n<p>You don’t want a <code>Date</code> with a specific format. Good practice in all but the simplest throw-away programs is to keep your user interface apart from your model and your business logic. The value of the <code>Date</code> object belongs in your model, so keep your <code>Date</code> there and never let the user see it directly. When you adhere to this, it will never matter which format the <code>Date</code> has got. Whenever the user should see the date, format it into a <code>String</code> and show the string to the user. Similarly if you need a specific format for persistence or exchange with another system, format the <code>Date</code> into a string for that purpose. If the user needs to enter a date and/or time, either accept a string or use a date picker or time picker.</p>\n\n<p>Special case: storing into an SQL database. It may appear that your database requires a specific format. Not so. Use <code>yourPreparedStatement.setObject(yourParamIndex, yourDateOrTimeObject)</code> where <code>yourDateOrTimeObject</code> is a <code>LocalDate</code>,  <code>Instant</code>, <code>LocalDateTime</code> or an instance of an appropriate date-time class from java.time. And again don’t worry about the format of that object. Search for more details.</p>\n\n<h2>You cannot</h2>\n\n<p>A <code>Date</code> hasn’t got, as in cannot have a format. It’s a point in time, nothing more, nothing less. A container of a value. In your code <code>sdf1.parse</code> <em>converts</em>  your string into a <code>Date</code> object, that is, into a point in time. It doesn’t keep the string nor the format that was in the string.</p>\n\n<p>To finish the story, let’s look at the next line from your code too:</p>\n\n<pre><code>    System.out.println(\"Current date in Date Format: \"+date);\n</code></pre>\n\n<p>In order to perform the string concatenation required by the <code>+</code> sign Java needs to convert your <code>Date</code> into a <code>String</code> first. It does this by calling the <code>toString</code> method of your <code>Date</code> object. <code>Date.toString</code> always produces a string like <code>Thu Jan 05 21:10:17 IST 2012</code>. There is no way you could change that (except in a subclass of <code>Date</code>, but you don’t want that). Then the generated string is concatenated with the string literal to produce the string printed by <code>System.out.println</code>.</p>\n\n<p>In short “format” applies only to the string representations of dates, not to the dates themselves.</p>\n\n<h2>Isn’t it strange that a Date hasn’t got a format?</h2>\n\n<p>I think what I’ve written is quite as we should expect. It’s similar to other types. Think of an <code>int</code>. The same <code>int</code> may be formatted into strings like <code>53,551</code>, <code>53.551</code> (with a dot as thousands separator), <code>00053551</code>, <code>+53 551</code> or even <code>0x0000_D12F</code>. All of this formatting produces strings, while the <code>int</code> just stays the same and doesn’t change its format. With a <code>Date</code> object it’s exactly the same: you can format it into many different strings, but the <code>Date</code> itself always stays the same.</p>\n\n<h2>Can I then have a LocalDate, a ZonedDateTime, a Calendar, a GregorianCalendar, an XMLGregorianCalendar, a java.sql.Date, Time or Timestamp in the format of my choice?</h2>\n\n<p>No, you cannot, and for the same reasons as above. None of the mentioned classes, in fact no date or time class I have ever met, can have a format. You can have your desired format only in a <code>String</code> outside your date-time object.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">Model–view–controller</a> on Wikipedia</li>\n<li><a href=\"https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/\" rel=\"nofollow noreferrer\">All about java.util.Date</a> on Jon Skeet’s coding blog</li>\n<li>Answers by <a href=\"https://stackoverflow.com/a/52303885/5772882\">Basil Bourque</a> and <a href=\"https://stackoverflow.com/a/57113564/5772882\">Pitto</a> explaining what to do instead (also using classes that are more modern and far more programmer friendly than <code>Date</code>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":240000,"reputation":8299,"user_id":509977,"accept_rate":92,"display_name":"Pitto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1563953323,"creation_date":1563543031,"answer_id":57113564,"question_id":8745297,"body_markdown":"Here&#39;s a simple snippet working in Java 8 and using the &quot;new&quot; date and time API LocalDateTime:\r\n\r\n\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;);\r\n\tLocalDateTime now = LocalDateTime.now();\r\n\tSystem.out.println(dtf.format(now)); ","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<p>Here's a simple snippet working in Java 8 and using the \"new\" date and time API LocalDateTime:</p>\n\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"dd/MM/yyyy HH:mm:ss.SS\");\nLocalDateTime now = LocalDateTime.now();\nSystem.out.println(dtf.format(now)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571755958,"creation_date":1571755958,"answer_id":58506987,"question_id":8745297,"body_markdown":"If you are using JAVA8 API then this code will help.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    String dateTimeString = LocalDateTime.now().format(formatter);\r\n    System.out.println(dateTimeString);\r\n\r\nIt will print the date in the given format.\r\n\r\n\r\nBut if you again create a object of LocalDateTime it will print the &#39;T&#39; in between the date and time.\r\n    \r\n    LocalDateTime dateTime = LocalDateTime.parse(dateTimeString, formatter);\r\n    System.out.println(dateTime.toString());\r\n\r\nSo as mentioned in earlier posts as well, the representation and usage is different.\r\n\r\nIts better to use &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot; pattern and convert the string/date object accordingly.\r\n","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<p>If you are using JAVA8 API then this code will help.</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nString dateTimeString = LocalDateTime.now().format(formatter);\nSystem.out.println(dateTimeString);\n</code></pre>\n\n<p>It will print the date in the given format.</p>\n\n<p>But if you again create a object of LocalDateTime it will print the 'T' in between the date and time.</p>\n\n<pre><code>LocalDateTime dateTime = LocalDateTime.parse(dateTimeString, formatter);\nSystem.out.println(dateTime.toString());\n</code></pre>\n\n<p>So as mentioned in earlier posts as well, the representation and usage is different.</p>\n\n<p>Its better to use \"yyyy-MM-dd'T'HH:mm:ss\" pattern and convert the string/date object accordingly.</p>\n"},{"tags":[],"owner":{"account_id":18496166,"reputation":1,"user_id":13474544,"display_name":"Shervin Jafari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588681344,"creation_date":1588681344,"answer_id":61613047,"question_id":8745297,"body_markdown":"use \r\n\r\n    Date date = new Date();\r\n    String strDate = sdf.format(date);\r\n\r\nintead Of \r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    String strDate = sdf.format(cal.getTime());","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<p>use </p>\n\n<pre><code>Date date = new Date();\nString strDate = sdf.format(date);\n</code></pre>\n\n<p>intead Of </p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\nString strDate = sdf.format(cal.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11800987,"reputation":886,"user_id":11534117,"display_name":"BabaVarma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646148982,"creation_date":1646148982,"answer_id":71310964,"question_id":8745297,"body_markdown":"    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n\r\n    public class DateAndTime{\r\n\r\n      public static void main(String[] args)throws Exception{\r\n         Date date = new Date(System.currentTimeMillis());\r\n         DateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;, \r\n          Locale.ENGLISH);\r\n        String strDate = format.format(date);\r\n        System.out.println(&quot;Current date in String Format: &quot;+strDate);\r\n       }\r\n    }\r\nuse this code u will get current date in expected string format","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\n\npublic class DateAndTime{\n\n  public static void main(String[] args)throws Exception{\n     Date date = new Date(System.currentTimeMillis());\n     DateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;, \n      Locale.ENGLISH);\n    String strDate = format.format(date);\n    System.out.println(&quot;Current date in String Format: &quot;+strDate);\n   }\n}\n</code></pre>\n<p>use this code u will get current date in expected string format</p>\n"}],"owner":{"account_id":1070410,"reputation":429,"user_id":1069852,"accept_rate":0,"display_name":"Bharani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204618,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":11,"score":26,"last_activity_date":1680743951,"creation_date":1325778356,"question_id":8745297,"body_markdown":"I am using following code to get date in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format.\r\n\r\n        \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n\r\n    public class DateAndTime{\r\n\r\n\t    public static void main(String[] args) throws Exception{\r\n\t\t    Calendar cal = Calendar.getInstance();\r\n\t\t    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;);\r\n\t\t    String strDate = sdf.format(cal.getTime());\r\n\t\t    System.out.println(&quot;Current date in String Format: &quot;+strDate);\r\n\r\n\t\t    SimpleDateFormat sdf1 = new SimpleDateFormat();\r\n\t\t    sdf1.applyPattern(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;);\r\n\t\t    Date date = sdf1.parse(strDate);\r\n\t\t    System.out.println(&quot;Current date in Date Format: &quot;+date);\r\n\t    }\r\n    }\r\n\r\nAnd I am getting following output\r\n\r\n    Current date in String Format: 05/01/2012 21:10:17.287\r\n    Current date in Date Format: Thu Jan 05 21:10:17 IST 2012\r\n\r\nKindly suggest what I should do to display the date in same string format(dd/MM/yyyy HH:mm:ss.SS) i.e i want following output:\r\n\r\n    Current date in String Format: 05/01/2012 21:10:17.287\r\n    Current date in Date Format: 05/01/2012 21:10:17.287\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"want current date and time in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format","body":"<p>I am using following code to get date in &quot;dd/MM/yyyy HH:mm:ss.SS&quot; format.</p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\n\npublic class DateAndTime{\n\n    public static void main(String[] args) throws Exception{\n        Calendar cal = Calendar.getInstance();\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;);\n        String strDate = sdf.format(cal.getTime());\n        System.out.println(&quot;Current date in String Format: &quot;+strDate);\n\n        SimpleDateFormat sdf1 = new SimpleDateFormat();\n        sdf1.applyPattern(&quot;dd/MM/yyyy HH:mm:ss.SS&quot;);\n        Date date = sdf1.parse(strDate);\n        System.out.println(&quot;Current date in Date Format: &quot;+date);\n    }\n}\n</code></pre>\n<p>And I am getting following output</p>\n<pre><code>Current date in String Format: 05/01/2012 21:10:17.287\nCurrent date in Date Format: Thu Jan 05 21:10:17 IST 2012\n</code></pre>\n<p>Kindly suggest what I should do to display the date in same string format(dd/MM/yyyy HH:mm:ss.SS) i.e i want following output:</p>\n<pre><code>Current date in String Format: 05/01/2012 21:10:17.287\nCurrent date in Date Format: 05/01/2012 21:10:17.287\n</code></pre>\n"},{"tags":["java","spring-boot","nio","apr","embedded-tomcat"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1661138541,"post_id":73439591,"comment_id":129692224,"body_markdown":"Isn&#39;t there any example in the docs?","body":"Isn&#39;t there any example in the docs?"}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661141682,"creation_date":1661141682,"answer_id":73440152,"question_id":73439591,"body_markdown":"    @Component\r\n    public class TomcatWebServerFactoryCustomizer implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n    \r\n        @Override\r\n        public void customize(TomcatServletWebServerFactory factory) {\r\n            factory.setProtocol(&quot;org.apache.coyote.http11.Http11AprProtocol&quot;);\r\n        }\r\n    }","title":"How do I integrate Tomcat APR protocol connector with embedded Tomcat 9 in Springboot 2.3.12?","body":"<pre><code>@Component\npublic class TomcatWebServerFactoryCustomizer implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n\n    @Override\n    public void customize(TomcatServletWebServerFactory factory) {\n        factory.setProtocol(&quot;org.apache.coyote.http11.Http11AprProtocol&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8927382,"reputation":11,"user_id":6661229,"display_name":"Undqurek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680742782,"creation_date":1680742782,"answer_id":75945044,"question_id":73439591,"body_markdown":"The solution bases on: https://dirask.com/posts/Spring-Boot-2-example-APR-native-library-configuration-with-Tomcat-9-Http11AprProtocol-pq6xxj\r\n\r\nAt first, you should install APR native libraries:\r\n```\r\napt-get install libapr1-dev libssl-dev\r\n```\r\nLater, add to your project `TomcatAprConfig.java` file:\r\n```\r\npackage com.example.config;\r\n\r\nimport org.apache.catalina.LifecycleListener;\r\nimport org.apache.catalina.core.AprLifecycleListener;\r\nimport org.apache.coyote.http11.Http11AprProtocol;\r\nimport org.apache.coyote.http2.Http2Protocol;\r\nimport org.apache.tomcat.util.buf.StringUtils;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\nimport org.springframework.boot.autoconfigure.web.ServerProperties;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatConnectorCustomizer;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.boot.web.server.Ssl;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.core.io.ResourceLoader;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n@Configuration\r\npublic class TomcatAprConfig {\r\n\r\n    // properties\r\n\r\n    private String publicCertificatePath = &quot;/path/to/certificates/public_certificate.pem&quot;;\r\n    private String privateKeyPath = &quot;/path/to/certificates/private_key.pem&quot;;\r\n\r\n    private int compressionMinSize = 2048;\r\n    private String compressionMimeTypes = &quot;text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml&quot;;\r\n\r\n    // public methods\r\n\r\n    @Bean(name = &quot;tomcatServletWebServerFactory&quot;)\r\n    public TomcatServletWebServerFactory createServerFactory(ServerProperties serverProperties, ResourceLoader resourceLoader) {\r\n        TomcatServletWebServerFactory serverFactory = new TomcatServletWebServerFactory() {\r\n            @Override\r\n            public Ssl getSsl() {\r\n                return null;  // null returned to stop the default SSL customizer\r\n            }\r\n        };\r\n        serverFactory.setProtocol(&quot;org.apache.coyote.http11.Http11AprProtocol&quot;);  // the protocol that will enable APR\r\n        serverFactory.setContextLifecycleListeners(this.createLifecycleListeners());\r\n        serverFactory.setTomcatConnectorCustomizers(this.createConnectorCustomizers(serverProperties, resourceLoader));\r\n        return serverFactory;\r\n    }\r\n\r\n    // private methods\r\n\r\n    private List&lt;AprLifecycleListener&gt; createLifecycleListeners() {\r\n        AprLifecycleListener lifecycleListener = new AprLifecycleListener();\r\n        return Collections.singletonList(lifecycleListener);\r\n    }\r\n\r\n    private List&lt;TomcatConnectorCustomizer&gt; createConnectorCustomizers(ServerProperties serverProperties, ResourceLoader resourceLoader) {\r\n        TomcatConnectorCustomizer connectorCustomizer = tomcatConnector -&gt; {\r\n            Http11AprProtocol aprProtocol = (Http11AprProtocol) tomcatConnector.getProtocolHandler();\r\n                if (this.publicCertificatePath == null) {\r\n                    throw new RuntimeException(&quot;Public certificate path is not configured.&quot;);\r\n                }\r\n                if (this.privateKeyPath == null) {\r\n                    throw new RuntimeException(&quot;Private key  path is not configured.&quot;);\r\n                }\r\n                Ssl connectionSsl = serverProperties.getSsl();\r\n                String[] connectionCiphers = connectionSsl.getCiphers();\r\n                String[] connectionProtocols = connectionSsl.getEnabledProtocols();\r\n                tomcatConnector.setSecure(true);\r\n                tomcatConnector.setScheme(&quot;https&quot;);\r\n                aprProtocol.setSSLEnabled(true);\r\n                if (connectionProtocols != null &amp;&amp; connectionProtocols.length &gt; 0) {\r\n                    aprProtocol.setSslEnabledProtocols(this.joinStrings(connectionProtocols));\r\n                }\r\n                if (connectionCiphers != null &amp;&amp; connectionCiphers.length &gt; 0) {\r\n                    aprProtocol.setCiphers(this.joinStrings(connectionCiphers));\r\n                }\r\n                try {\r\n                    aprProtocol.setSSLCertificateFile(this.resolvePath(resourceLoader, this.publicCertificatePath));\r\n                    aprProtocol.setSSLCertificateKeyFile(this.resolvePath(resourceLoader, this.privateKeyPath));\r\n                } catch (Exception ex) {\r\n                    throw new RuntimeException(ex);\r\n                }\r\n                Http2Protocol http2Protocol = new Http2Protocol();\r\n                http2Protocol.setCompression(&quot;on&quot;);\r\n                http2Protocol.setCompressibleMimeType(this.compressionMimeTypes);\r\n                http2Protocol.setCompressionMinSize(this.compressionMinSize);\r\n                tomcatConnector.addUpgradeProtocol(http2Protocol);\r\n        };\r\n        return Collections.singletonList(connectorCustomizer);\r\n    }\r\n\r\n    private String joinStrings(String[] strings) {\r\n        List&lt;String&gt; list = Arrays.asList(strings);\r\n        return StringUtils.join(list, &#39;,&#39;);\r\n    }\r\n\r\n    private String resolvePath(ResourceLoader loader, String path) throws IOException {\r\n        Resource resource = loader.getResource(path);\r\n        try {\r\n            File file = resource.getFile();\r\n            return file.getAbsolutePath();\r\n        } catch (Exception ex) {\r\n            throw new IOException(&quot;Absolute &#39;&quot; + path + &quot;&#39; path resolving error.&quot;, ex);\r\n        }\r\n    }\r\n}\r\n```\r\nFinally, run application using:\r\n```\r\njava -Djava.library.path=&quot;/usr/lib/x86_64-linux-gnu&quot; -jar my-application.jar\r\n```","title":"How do I integrate Tomcat APR protocol connector with embedded Tomcat 9 in Springboot 2.3.12?","body":"<p>The solution bases on: <a href=\"https://dirask.com/posts/Spring-Boot-2-example-APR-native-library-configuration-with-Tomcat-9-Http11AprProtocol-pq6xxj\" rel=\"nofollow noreferrer\">https://dirask.com/posts/Spring-Boot-2-example-APR-native-library-configuration-with-Tomcat-9-Http11AprProtocol-pq6xxj</a></p>\n<p>At first, you should install APR native libraries:</p>\n<pre><code>apt-get install libapr1-dev libssl-dev\n</code></pre>\n<p>Later, add to your project <code>TomcatAprConfig.java</code> file:</p>\n<pre><code>package com.example.config;\n\nimport org.apache.catalina.LifecycleListener;\nimport org.apache.catalina.core.AprLifecycleListener;\nimport org.apache.coyote.http11.Http11AprProtocol;\nimport org.apache.coyote.http2.Http2Protocol;\nimport org.apache.tomcat.util.buf.StringUtils;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.boot.autoconfigure.web.ServerProperties;\nimport org.springframework.boot.web.embedded.tomcat.TomcatConnectorCustomizer;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.server.Ssl;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.ResourceLoader;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\n@Configuration\npublic class TomcatAprConfig {\n\n    // properties\n\n    private String publicCertificatePath = &quot;/path/to/certificates/public_certificate.pem&quot;;\n    private String privateKeyPath = &quot;/path/to/certificates/private_key.pem&quot;;\n\n    private int compressionMinSize = 2048;\n    private String compressionMimeTypes = &quot;text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml&quot;;\n\n    // public methods\n\n    @Bean(name = &quot;tomcatServletWebServerFactory&quot;)\n    public TomcatServletWebServerFactory createServerFactory(ServerProperties serverProperties, ResourceLoader resourceLoader) {\n        TomcatServletWebServerFactory serverFactory = new TomcatServletWebServerFactory() {\n            @Override\n            public Ssl getSsl() {\n                return null;  // null returned to stop the default SSL customizer\n            }\n        };\n        serverFactory.setProtocol(&quot;org.apache.coyote.http11.Http11AprProtocol&quot;);  // the protocol that will enable APR\n        serverFactory.setContextLifecycleListeners(this.createLifecycleListeners());\n        serverFactory.setTomcatConnectorCustomizers(this.createConnectorCustomizers(serverProperties, resourceLoader));\n        return serverFactory;\n    }\n\n    // private methods\n\n    private List&lt;AprLifecycleListener&gt; createLifecycleListeners() {\n        AprLifecycleListener lifecycleListener = new AprLifecycleListener();\n        return Collections.singletonList(lifecycleListener);\n    }\n\n    private List&lt;TomcatConnectorCustomizer&gt; createConnectorCustomizers(ServerProperties serverProperties, ResourceLoader resourceLoader) {\n        TomcatConnectorCustomizer connectorCustomizer = tomcatConnector -&gt; {\n            Http11AprProtocol aprProtocol = (Http11AprProtocol) tomcatConnector.getProtocolHandler();\n                if (this.publicCertificatePath == null) {\n                    throw new RuntimeException(&quot;Public certificate path is not configured.&quot;);\n                }\n                if (this.privateKeyPath == null) {\n                    throw new RuntimeException(&quot;Private key  path is not configured.&quot;);\n                }\n                Ssl connectionSsl = serverProperties.getSsl();\n                String[] connectionCiphers = connectionSsl.getCiphers();\n                String[] connectionProtocols = connectionSsl.getEnabledProtocols();\n                tomcatConnector.setSecure(true);\n                tomcatConnector.setScheme(&quot;https&quot;);\n                aprProtocol.setSSLEnabled(true);\n                if (connectionProtocols != null &amp;&amp; connectionProtocols.length &gt; 0) {\n                    aprProtocol.setSslEnabledProtocols(this.joinStrings(connectionProtocols));\n                }\n                if (connectionCiphers != null &amp;&amp; connectionCiphers.length &gt; 0) {\n                    aprProtocol.setCiphers(this.joinStrings(connectionCiphers));\n                }\n                try {\n                    aprProtocol.setSSLCertificateFile(this.resolvePath(resourceLoader, this.publicCertificatePath));\n                    aprProtocol.setSSLCertificateKeyFile(this.resolvePath(resourceLoader, this.privateKeyPath));\n                } catch (Exception ex) {\n                    throw new RuntimeException(ex);\n                }\n                Http2Protocol http2Protocol = new Http2Protocol();\n                http2Protocol.setCompression(&quot;on&quot;);\n                http2Protocol.setCompressibleMimeType(this.compressionMimeTypes);\n                http2Protocol.setCompressionMinSize(this.compressionMinSize);\n                tomcatConnector.addUpgradeProtocol(http2Protocol);\n        };\n        return Collections.singletonList(connectorCustomizer);\n    }\n\n    private String joinStrings(String[] strings) {\n        List&lt;String&gt; list = Arrays.asList(strings);\n        return StringUtils.join(list, ',');\n    }\n\n    private String resolvePath(ResourceLoader loader, String path) throws IOException {\n        Resource resource = loader.getResource(path);\n        try {\n            File file = resource.getFile();\n            return file.getAbsolutePath();\n        } catch (Exception ex) {\n            throw new IOException(&quot;Absolute '&quot; + path + &quot;' path resolving error.&quot;, ex);\n        }\n    }\n}\n</code></pre>\n<p>Finally, run application using:</p>\n<pre><code>java -Djava.library.path=&quot;/usr/lib/x86_64-linux-gnu&quot; -jar my-application.jar\n</code></pre>\n"}],"owner":{"account_id":24509757,"reputation":31,"user_id":18424233,"display_name":"Galam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680742782,"creation_date":1661134586,"question_id":73439591,"body_markdown":"I need to use APR protocol connector to replace the default NIO protocol connector in embedded Tomcat 9 of Springboot 2.3.12, may I ask how to implement it?","title":"How do I integrate Tomcat APR protocol connector with embedded Tomcat 9 in Springboot 2.3.12?","body":"<p>I need to use APR protocol connector to replace the default NIO protocol connector in embedded Tomcat 9 of Springboot 2.3.12, may I ask how to implement it?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":54298,"reputation":5533,"user_id":162414,"accept_rate":81,"display_name":"Gabriel"},"score":0,"creation_date":1393986930,"post_id":22187315,"comment_id":33678999,"body_markdown":"I thought this. But in my real life Something class it requieres info from 3 or 4 different objects. Is it a good practice to pass the information using the constructor?","body":"I thought this. But in my real life Something class it requieres info from 3 or 4 different objects. Is it a good practice to pass the information using the constructor?"},{"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"score":1,"creation_date":1393987196,"post_id":22187315,"comment_id":33679054,"body_markdown":"@GabrielA.Zorrilla, yes, it is ok. But if you dont like constructor with a lot of parameters and if you will use same objects for creating different other objects, than you&#39;l probably need use `builder pattern`","body":"@GabrielA.Zorrilla, yes, it is ok. But if you dont like constructor with a lot of parameters and if you will use same objects for creating different other objects, than you&#39;l probably need use <code>builder pattern</code>"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1393987392,"post_id":22187315,"comment_id":33679112,"body_markdown":"Beat me to it. 3 or 4 is reasonable. Else use [builder pattern](http://en.wikipedia.org/wiki/Builder_pattern) ([example](http://stackoverflow.com/questions/5007355/builder-pattern-in-effective-java)). Only use setters if `Something` can do its job without the objects. Also, be ware of concurrency issues.","body":"Beat me to it. 3 or 4 is reasonable. Else use <a href=\"http://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">builder pattern</a> (<a href=\"http://stackoverflow.com/questions/5007355/builder-pattern-in-effective-java\">example</a>). Only use setters if <code>Something</code> can do its job without the objects. Also, be ware of concurrency issues."},{"owner":{"account_id":54298,"reputation":5533,"user_id":162414,"accept_rate":81,"display_name":"Gabriel"},"score":0,"creation_date":1394072486,"post_id":22187315,"comment_id":33726326,"body_markdown":"Good stuff Anthony. Obrigado!","body":"Good stuff Anthony. Obrigado!"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1394073049,"post_id":22187315,"comment_id":33726486,"body_markdown":"Glad to be of service :) De nada! (Covers Spanish and Portuguese :)).","body":"Glad to be of service :) De nada! (Covers Spanish and Portuguese :))."}],"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680742769,"creation_date":1393986641,"answer_id":22187315,"question_id":22187225,"body_markdown":"There are several possible solutions.\r\n\r\nInstance Scope\r\n=\r\n\r\nIf you need access to `MainPanel` from `Something` scope (i.e., several methods in `Something` will use `MainPanel` and the intermediate states in `MainPanel` are important).\r\n\r\nPass your `MainPanel` instance to `Something`.\r\n\r\n**Use a constructor:**\r\n\r\nIf `Something` can&#39;t do its job without `MainPanel`:\r\n\r\n    class Something {\r\n        private final MainPanel mainPanel;\r\n        \r\n        public Something(MainPanel mainPanel) {\r\n            this.mainPanel = mainPanel; \r\n        }\r\n    \r\n        public void myMethod() {\r\n            System.out.printf(&quot;Mouse cordinates: %d x %d\\n&quot;, mainPanel.getX(),\r\n                    mainPanel.getY());\r\n        }\r\n    }\r\n\r\nInitialization code:\r\n\r\n    MainPanel mainPanel = new MainPanel();\r\n    // ... put panel in frame, etc\r\n    Something something = new Something(mainPanel);\r\n\r\n**Use a setter:**\r\n\r\nIf `Something` can do its job even without `MainPanel`:\r\n\r\n    class Something {\r\n        private MainPanel mainPanel;\r\n        \r\n        public void setMainPanel(MainPanel mainPanel) {\r\n            this.mainPanel = mainPanel\r\n        }\r\n    \r\n        // my other methods\r\n    }\r\n\r\nInitialization code:\r\n\r\n    MainPanel mainPanel = new MainPanel();\r\n    // ... put panel in frame, etc\r\n    Something something = new Something();\r\n    something.setMainPanel(mainPanel);\r\n\r\n---\r\n\r\nMethod parameters\r\n==\r\n\r\nIf you only need the state of `MainPanel` in the scope of a method (you don&#39;t want to hold a reference to `MainPanel` in `Something`) you can pass a instance of `MainPanel` where it&#39;s needed. This is the best strategy for independent methods. Even if several methods in `Something` need access to `MainPanel`, there is no point to store `MainPanel` as a field unless the methods are somehow &quot;working together&quot; on an instance of `MainPanel`:\r\n\r\n    public void myMethod(MainPanel mainPanel) {\r\n        System.out.printf(&quot;Mouse postion: %d x %d\\n&quot;, mainPanel.getX(),\r\n                mainPanel.getY());\r\n    }\r\n\r\nUsage example:\r\n\r\n     \r\n    MainPanel mainPanel = new MainPanel();\r\n    Something something = new Something();\r\n    something.myMethod(mainPanel);\r\n\r\n---\r\n\r\nFinally, as well as thinking about variable scopes, you should think about what does your API really need in order to work. `Something` needs access to `MainPanel` or just to the mouse coordinates? If it only need the latter, have `Something` deal directly with `x` and `y` or introduce an intermediate object (if you can write an interface it is even better) and decouple `Something` from `MainPanel`:\r\n\r\n    class MainPanel extends JPanel implements MouseMotionListener {\r\n    \r\n      public int mouseX, mouseY;\r\n      // everything else\r\n    \r\n      public Point getMousePosition() {\r\n          return new Point(this.mouseX, this.mouseY);\r\n      } \r\n    }\r\n\r\nAnd in `Something`:\r\n\r\n    public void myMethod(Point mousePosition) {\r\n        System.out.printf(&quot;Mouse position: %d x %d\\n&quot;, mousePosition.getX(),\r\n                mousePosition.getY());\r\n    }\r\n\r\nWhy is it better? `Something` is not aware of `MainPanel`, it only knows about `Point`. You can create `Points` out of anything you want and send it to `Something`:\r\n\r\nUsage example:   \r\n\r\n    MainPanel mainPanel = MainPanel();\r\n    MyOtherComponent myOtherComponent = MyOtherComponent(); \r\n    Something something = new Something();\r\n    something.myMethod(mainPanel.getMousePosition());\r\n    something.myMethod(myOtherComponent.myMousePositionMethod());\r\n    // or even\r\n    something.myMethod(new Point(1,1));\r\n\r\n","title":"Object communication in Java with no Static variables with getters and setters","body":"<p>There are several possible solutions.</p>\n<h1>Instance Scope</h1>\n<p>If you need access to <code>MainPanel</code> from <code>Something</code> scope (i.e., several methods in <code>Something</code> will use <code>MainPanel</code> and the intermediate states in <code>MainPanel</code> are important).</p>\n<p>Pass your <code>MainPanel</code> instance to <code>Something</code>.</p>\n<p><strong>Use a constructor:</strong></p>\n<p>If <code>Something</code> can't do its job without <code>MainPanel</code>:</p>\n<pre><code>class Something {\n    private final MainPanel mainPanel;\n    \n    public Something(MainPanel mainPanel) {\n        this.mainPanel = mainPanel; \n    }\n\n    public void myMethod() {\n        System.out.printf(&quot;Mouse cordinates: %d x %d\\n&quot;, mainPanel.getX(),\n                mainPanel.getY());\n    }\n}\n</code></pre>\n<p>Initialization code:</p>\n<pre><code>MainPanel mainPanel = new MainPanel();\n// ... put panel in frame, etc\nSomething something = new Something(mainPanel);\n</code></pre>\n<p><strong>Use a setter:</strong></p>\n<p>If <code>Something</code> can do its job even without <code>MainPanel</code>:</p>\n<pre><code>class Something {\n    private MainPanel mainPanel;\n    \n    public void setMainPanel(MainPanel mainPanel) {\n        this.mainPanel = mainPanel\n    }\n\n    // my other methods\n}\n</code></pre>\n<p>Initialization code:</p>\n<pre><code>MainPanel mainPanel = new MainPanel();\n// ... put panel in frame, etc\nSomething something = new Something();\nsomething.setMainPanel(mainPanel);\n</code></pre>\n<hr />\n<h1>Method parameters</h1>\n<p>If you only need the state of <code>MainPanel</code> in the scope of a method (you don't want to hold a reference to <code>MainPanel</code> in <code>Something</code>) you can pass a instance of <code>MainPanel</code> where it's needed. This is the best strategy for independent methods. Even if several methods in <code>Something</code> need access to <code>MainPanel</code>, there is no point to store <code>MainPanel</code> as a field unless the methods are somehow &quot;working together&quot; on an instance of <code>MainPanel</code>:</p>\n<pre><code>public void myMethod(MainPanel mainPanel) {\n    System.out.printf(&quot;Mouse postion: %d x %d\\n&quot;, mainPanel.getX(),\n            mainPanel.getY());\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>MainPanel mainPanel = new MainPanel();\nSomething something = new Something();\nsomething.myMethod(mainPanel);\n</code></pre>\n<hr />\n<p>Finally, as well as thinking about variable scopes, you should think about what does your API really need in order to work. <code>Something</code> needs access to <code>MainPanel</code> or just to the mouse coordinates? If it only need the latter, have <code>Something</code> deal directly with <code>x</code> and <code>y</code> or introduce an intermediate object (if you can write an interface it is even better) and decouple <code>Something</code> from <code>MainPanel</code>:</p>\n<pre><code>class MainPanel extends JPanel implements MouseMotionListener {\n\n  public int mouseX, mouseY;\n  // everything else\n\n  public Point getMousePosition() {\n      return new Point(this.mouseX, this.mouseY);\n  } \n}\n</code></pre>\n<p>And in <code>Something</code>:</p>\n<pre><code>public void myMethod(Point mousePosition) {\n    System.out.printf(&quot;Mouse position: %d x %d\\n&quot;, mousePosition.getX(),\n            mousePosition.getY());\n}\n</code></pre>\n<p>Why is it better? <code>Something</code> is not aware of <code>MainPanel</code>, it only knows about <code>Point</code>. You can create <code>Points</code> out of anything you want and send it to <code>Something</code>:</p>\n<p>Usage example:</p>\n<pre><code>MainPanel mainPanel = MainPanel();\nMyOtherComponent myOtherComponent = MyOtherComponent(); \nSomething something = new Something();\nsomething.myMethod(mainPanel.getMousePosition());\nsomething.myMethod(myOtherComponent.myMousePositionMethod());\n// or even\nsomething.myMethod(new Point(1,1));\n</code></pre>\n"}],"owner":{"account_id":54298,"reputation":5533,"user_id":162414,"accept_rate":81,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22187315,"answer_count":1,"score":0,"last_activity_date":1680742769,"creation_date":1393986092,"question_id":22187225,"body_markdown":"I have a JPanel where i keep track of the mouse pointer position when it moves. I store that into some fields. How can I access the getter to read the fields of an already created object, within another object?\r\n\r\nThis is just an example, i&#39;m struggling to get object communication without using static variables.\r\n\r\nSome code:\r\n\r\n    class MainPanel extends JPanel implements MouseMotionListener {\r\n    \r\n      public int mouseX, mouseY\r\n\r\n      public MainPanel(){\r\n        this.addMouseMotionListener(this);\r\n        ...\r\n      }\r\n      public void mouseMoved(MouseEvent e) {\r\n\r\n        this.MouseX = e.getX();\r\n        this.MouseY = e.getY();\r\n\r\n      }\r\n\r\n      public int getX(){\r\n\r\n      return this.MouseX;\r\n      }\r\n\r\n      public int getY(){\r\n\r\n      return this.MouseY;\r\n      }\r\n      ...\r\n      }\r\n    }\r\n\r\n    class Something{\r\n\r\n    *** I want to, for example, print on console the XY coordinates of the -object-\r\n     MainPanel. ****\r\n    }\r\n      }\r\n\r\nThanks!","title":"Object communication in Java with no Static variables with getters and setters","body":"<p>I have a JPanel where i keep track of the mouse pointer position when it moves. I store that into some fields. How can I access the getter to read the fields of an already created object, within another object?</p>\n\n<p>This is just an example, i'm struggling to get object communication without using static variables.</p>\n\n<p>Some code:</p>\n\n<pre><code>class MainPanel extends JPanel implements MouseMotionListener {\n\n  public int mouseX, mouseY\n\n  public MainPanel(){\n    this.addMouseMotionListener(this);\n    ...\n  }\n  public void mouseMoved(MouseEvent e) {\n\n    this.MouseX = e.getX();\n    this.MouseY = e.getY();\n\n  }\n\n  public int getX(){\n\n  return this.MouseX;\n  }\n\n  public int getY(){\n\n  return this.MouseY;\n  }\n  ...\n  }\n}\n\nclass Something{\n\n*** I want to, for example, print on console the XY coordinates of the -object-\n MainPanel. ****\n}\n  }\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":2,"creation_date":1381707992,"post_id":19351573,"comment_id":28671810,"body_markdown":"Your `public Letter()` is a constructor. You don&#39;t instantiate your object from a constructor.  You do it from another class.  In order for the program to run, it needs to be places in a `main` method.","body":"Your <code>public Letter()</code> is a constructor. You don&#39;t instantiate your object from a constructor.  You do it from another class.  In order for the program to run, it needs to be places in a <code>main</code> method."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1381708093,"post_id":19351573,"comment_id":28671827,"body_markdown":"For future reference: It&#39;s better to edit your question if it&#39;s unclear or people ask for more information. It&#39;s better to post a new question if you&#39;re actually asking about something different.","body":"For future reference: It&#39;s better to edit your question if it&#39;s unclear or people ask for more information. It&#39;s better to post a new question if you&#39;re actually asking about something different."}],"answers":[{"tags":[],"owner":{"account_id":205758,"reputation":16759,"user_id":454671,"accept_rate":83,"display_name":"Victor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381707732,"creation_date":1381707732,"answer_id":19351591,"question_id":19351573,"body_markdown":"Remove \r\n\r\n     public Letter(){\r\n    \r\n      Letter fromto= new Letter(&quot;Dylan&quot;, &quot;April&quot;);\r\n    \r\n     }\r\n\r\nthen:\r\n\r\n\r\n    public static void main(String[] args){\r\n    Letter fromto= new Letter(&quot;Dylan&quot;, &quot;April&quot;);\r\n      System.out.println(&quot;Dear &quot; + fromto.from);\r\n    \r\n      } \r\n\r\n  ","title":"Constructors and Strings Part 2Letter Example","body":"<p>Remove </p>\n\n<pre><code> public Letter(){\n\n  Letter fromto= new Letter(\"Dylan\", \"April\");\n\n }\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>public static void main(String[] args){\nLetter fromto= new Letter(\"Dylan\", \"April\");\n  System.out.println(\"Dear \" + fromto.from);\n\n  } \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3426993,"reputation":53,"user_id":2872518,"accept_rate":67,"display_name":"user2872518"},"score":0,"creation_date":1381708070,"post_id":19351592,"comment_id":28671825,"body_markdown":"Well thank you for the help. Our school has implemented a new teaching method which involves learning it ourselves and showing up Monday with questions. The idea being less class time learning and more time clarifying and working on difficulties. On a side note, why didn;t it work before? If I made it public doesn&#39;t that mean the values can be used?","body":"Well thank you for the help. Our school has implemented a new teaching method which involves learning it ourselves and showing up Monday with questions. The idea being less class time learning and more time clarifying and working on difficulties. On a side note, why didn;t it work before? If I made it public doesn&#39;t that mean the values can be used?"},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":1,"creation_date":1381708235,"post_id":19351592,"comment_id":28671851,"body_markdown":"@user2872518 The constructor was public which means that **it [the constructor]** can be used. However, the `Letter fromto` variable is declared as a **local variable** within a **method**. Local variables can **never** be accessed from outside the method (or more precisely, *code-block*) that they are declared in.","body":"@user2872518 The constructor was public which means that <b>it [the constructor]</b> can be used. However, the <code>Letter fromto</code> variable is declared as a <b>local variable</b> within a <b>method</b>. Local variables can <b>never</b> be accessed from outside the method (or more precisely, <i>code-block</i>) that they are declared in."}],"tags":[],"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1381707733,"creation_date":1381707733,"answer_id":19351592,"question_id":19351573,"body_markdown":"First of all, you should probably learn more about variable scope in Java. (Reading [Sun&#39;s tutorials about Object-oriented Java-programming][1] is probably a good idea)\r\n\r\nThe problem here is that the variable `fromto` is declared in a constructor and thus is **only available from the scope of the constructor**. Instead, get rid of that constructor (unless you really want to keep it, in which case you should make sure to initialize your `from` and `to` variables properly) and move the variable to your `main` function.\r\n\r\n    public class Letter {\r\n        private String from; // Sets from instance variable to be stored\r\n        private String to; /// Sets to instance vaariable to be stored\r\n    \r\n    \r\n        public Letter(String from, String to) {\r\n            this.from = from;\r\n            this.to = to;\r\n    \r\n        }\r\n        public static void main(String[] args) {\r\n            Letter fromto = new Letter(&quot;Dylan&quot;, &quot;April&quot;);\r\n            System.out.println(&quot;Dear &quot; + fromto.from);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/index.html","title":"Constructors and Strings Part 2Letter Example","body":"<p>First of all, you should probably learn more about variable scope in Java. (Reading <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/index.html\">Sun's tutorials about Object-oriented Java-programming</a> is probably a good idea)</p>\n\n<p>The problem here is that the variable <code>fromto</code> is declared in a constructor and thus is <strong>only available from the scope of the constructor</strong>. Instead, get rid of that constructor (unless you really want to keep it, in which case you should make sure to initialize your <code>from</code> and <code>to</code> variables properly) and move the variable to your <code>main</code> function.</p>\n\n<pre><code>public class Letter {\n    private String from; // Sets from instance variable to be stored\n    private String to; /// Sets to instance vaariable to be stored\n\n\n    public Letter(String from, String to) {\n        this.from = from;\n        this.to = to;\n\n    }\n    public static void main(String[] args) {\n        Letter fromto = new Letter(\"Dylan\", \"April\");\n        System.out.println(\"Dear \" + fromto.from);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1381761239,"post_id":19351595,"comment_id":28690265,"body_markdown":"It is not always a good thing to follow JavaBeans conventions, see [this question](http://stackoverflow.com/questions/3114903/are-java-beans-as-data-storage-classes-bad-design)","body":"It is not always a good thing to follow JavaBeans conventions, see <a href=\"http://stackoverflow.com/questions/3114903/are-java-beans-as-data-storage-classes-bad-design\">this question</a>"}],"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680742234,"creation_date":1381707754,"answer_id":19351595,"question_id":19351573,"body_markdown":"You need to instantiate your `Letter` in the right scope. If you only need it inside the main method, the best place to create your instance is right at the beginning of the method block: \r\n\r\n    public class Letter {\r\n    \r\n        private String from; // Sets from instance variable to be stored\r\n        private String to; /// Sets to instance vaariable to be stored\r\n    \r\n        public Letter(String from, String to) {\r\n            this.from = from;\r\n            this.to = to;\r\n    \r\n        }\r\n    \r\n        public Letter() {\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n           Letter letter = new Letter(&quot;Dylan&quot;, &quot;April&quot;);\r\n           System.out.println(&quot;Dear &quot; + letter.from);\r\n        }\r\n    \r\n    }\r\n\r\nAbout the no-args constructor, it is a good practice to declare one if the instance variables `from` and `to` are optional, so that you can also instantiate letter with the syntax `new Letter()`. If you do not declare any constructors, the compiler provides a empty constructor by default. \r\n\r\nActually, whenever you can, it is a good thing to follow JavaBeans conventions. Quoting [Wikipedia](http://en.wikipedia.org/wiki/JavaBeans):\r\n\r\n&gt; - The class must have a public default constructor (no-argument). This\r\n&gt; allows easy instantiation within editing and activation frameworks.\r\n&gt; - The class properties must be accessible using get, set, is (used for\r\n&gt; boolean properties instead of get) and other methods (so-called\r\n&gt; accessor methods and mutator methods), following a standard naming\r\n&gt; convention. This allows easy automated inspection and updating of bean\r\n&gt; state within frameworks, many of which include custom editors for\r\n&gt; various types of properties. Setters must receive only one argument.\r\n&gt; - The class should be serializable. It allows applications and\r\n&gt; frameworks to reliably save, store, and restore the bean&#39;s state in a\r\n&gt; fashion independent of the VM and of the platform.","title":"Constructors and Strings Part 2Letter Example","body":"<p>You need to instantiate your <code>Letter</code> in the right scope. If you only need it inside the main method, the best place to create your instance is right at the beginning of the method block:</p>\n<pre><code>public class Letter {\n\n    private String from; // Sets from instance variable to be stored\n    private String to; /// Sets to instance vaariable to be stored\n\n    public Letter(String from, String to) {\n        this.from = from;\n        this.to = to;\n\n    }\n\n    public Letter() {\n    }\n\n    public static void main(String[] args) {\n       Letter letter = new Letter(&quot;Dylan&quot;, &quot;April&quot;);\n       System.out.println(&quot;Dear &quot; + letter.from);\n    }\n\n}\n</code></pre>\n<p>About the no-args constructor, it is a good practice to declare one if the instance variables <code>from</code> and <code>to</code> are optional, so that you can also instantiate letter with the syntax <code>new Letter()</code>. If you do not declare any constructors, the compiler provides a empty constructor by default.</p>\n<p>Actually, whenever you can, it is a good thing to follow JavaBeans conventions. Quoting <a href=\"http://en.wikipedia.org/wiki/JavaBeans\" rel=\"nofollow noreferrer\">Wikipedia</a>:</p>\n<blockquote>\n<ul>\n<li>The class must have a public default constructor (no-argument). This\nallows easy instantiation within editing and activation frameworks.</li>\n<li>The class properties must be accessible using get, set, is (used for\nboolean properties instead of get) and other methods (so-called\naccessor methods and mutator methods), following a standard naming\nconvention. This allows easy automated inspection and updating of bean\nstate within frameworks, many of which include custom editors for\nvarious types of properties. Setters must receive only one argument.</li>\n<li>The class should be serializable. It allows applications and\nframeworks to reliably save, store, and restore the bean's state in a\nfashion independent of the VM and of the platform.</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381708307,"creation_date":1381708019,"answer_id":19351626,"question_id":19351573,"body_markdown":"You need to first create a new instance of your Letter class before you can invoke fields and getter/setter-methods on that instance/object.\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Letter myLetter = new Letter();\r\n        System.out.println(myLetter.from);\r\n    }\r\n\r\nNote the call on your private field from only succeeds as main is defined in the same class and therefore the created `myLetter` provides access to the field.\r\n\r\nIn practice you would define public setters and getters to access the private field.","title":"Constructors and Strings Part 2Letter Example","body":"<p>You need to first create a new instance of your Letter class before you can invoke fields and getter/setter-methods on that instance/object.</p>\n\n<pre><code>public static void main(String[] args)\n{\n    Letter myLetter = new Letter();\n    System.out.println(myLetter.from);\n}\n</code></pre>\n\n<p>Note the call on your private field from only succeeds as main is defined in the same class and therefore the created <code>myLetter</code> provides access to the field.</p>\n\n<p>In practice you would define public setters and getters to access the private field.</p>\n"}],"owner":{"account_id":3426993,"reputation":53,"user_id":2872518,"accept_rate":67,"display_name":"user2872518"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1680742234,"creation_date":1381707499,"question_id":19351573,"body_markdown":"The issue I&#39;m having is, while I believe that I&#39;ve have set up everything correctly in the constructor, when I try to call the instance variable `from` of my new `Letter` instance `fromto` I seem to keep getting an error saying that the compiler can not find variable `fromto`. The goal is to get `Dylan` to appear in with the Text.\r\n\r\n    public class Letter {\r\n        private String from; // Sets from instance variable to be stored\r\n        private String to; /// Sets to instance vaariable to be stored\r\n\r\n\r\n        public Letter(String from, String to) {\r\n            this.from = from;\r\n            this.to = to;\r\n\r\n        }\r\n        public Letter() {\r\n\r\n            Letter fromto = new Letter(&quot;Dylan&quot;, &quot;April&quot;);\r\n\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Dear &quot; + fromto.from);\r\n\r\n        }\r\n\r\n    }","title":"Constructors and Strings Part 2Letter Example","body":"<p>The issue I'm having is, while I believe that I've have set up everything correctly in the constructor, when I try to call the instance variable <code>from</code> of my new <code>Letter</code> instance <code>fromto</code> I seem to keep getting an error saying that the compiler can not find variable <code>fromto</code>. The goal is to get <code>Dylan</code> to appear in with the Text.</p>\n\n<pre><code>public class Letter {\n    private String from; // Sets from instance variable to be stored\n    private String to; /// Sets to instance vaariable to be stored\n\n\n    public Letter(String from, String to) {\n        this.from = from;\n        this.to = to;\n\n    }\n    public Letter() {\n\n        Letter fromto = new Letter(\"Dylan\", \"April\");\n\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"Dear \" + fromto.from);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","serialization","objectinputstream","objectoutputstream"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1680740913,"post_id":75944885,"comment_id":133951224,"body_markdown":"1. This isn&#39;t really how you should be creating a singleton on Java; 2. You should not be referencing `src` in your code, it won&#39;t exist once the app is packaged and exported; 3. I&#39;m worried that you trying to save the `Database` class itself and not the data ... what&#39;s going to happen to the `instance` field?  What is it pointing to when you re-load the class?; 4. Serialisation was never meant for the long term storage of data, it was meant as a means for over the wire transmission of object data","body":"1. This isn&#39;t really how you should be creating a singleton on Java; 2. You should not be referencing <code>src</code> in your code, it won&#39;t exist once the app is packaged and exported; 3. I&#39;m worried that you trying to save the <code>Database</code> class itself and not the data ... what&#39;s going to happen to the <code>instance</code> field?  What is it pointing to when you re-load the class?; 4. Serialisation was never meant for the long term storage of data, it was meant as a means for over the wire transmission of object data"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1680740973,"post_id":75944885,"comment_id":133951229,"body_markdown":"Maybe have a look at [Java Singleton Design Pattern Best Practices with Examples](https://www.digitalocean.com/community/tutorials/java-singleton-design-pattern-best-practices-examples)","body":"Maybe have a look at <a href=\"https://www.digitalocean.com/community/tutorials/java-singleton-design-pattern-best-practices-examples\" rel=\"nofollow noreferrer\">Java Singleton Design Pattern Best Practices with Examples</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1680741103,"post_id":75944885,"comment_id":133951251,"body_markdown":"Oh, and you should be printing your exceptions at the very least, if not logging them. I would also argue that the `save` and `load` methods should be throwing those exceptions, as it&#39;s the callers responsibility to decide how it should be responding to those","body":"Oh, and you should be printing your exceptions at the very least, if not logging them. I would also argue that the <code>save</code> and <code>load</code> methods should be throwing those exceptions, as it&#39;s the callers responsibility to decide how it should be responding to those"},{"owner":{"account_id":25096794,"reputation":3,"user_id":18947884,"display_name":"Cole Baxendale"},"score":0,"creation_date":1680741535,"post_id":75944885,"comment_id":133951291,"body_markdown":"@MadProgrammer 1) I looked over the link you sent thank you! I will read into it and correct it.  2) What would be an alternative to saving on a local disk of a machine without using src? This is the only way I have learned in school so far. 3) I should be saving the HashTable instead of the whole class is what you are saying? Appreciate your help :)","body":"@MadProgrammer 1) I looked over the link you sent thank you! I will read into it and correct it.  2) What would be an alternative to saving on a local disk of a machine without using src? This is the only way I have learned in school so far. 3) I should be saving the HashTable instead of the whole class is what you are saying? Appreciate your help :)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680742187,"post_id":75944885,"comment_id":133951353,"body_markdown":"2. [Where should i place my files in order to be able to access them when i run the jar?](https://stackoverflow.com/questions/27974857/where-should-i-place-my-files-in-order-to-be-able-to-access-them-when-i-run-the/27974989#27974989); 3. Yes, but I would consider using an alternative storage mechanism which better supports long term storage of data","body":"2. <a href=\"https://stackoverflow.com/questions/27974857/where-should-i-place-my-files-in-order-to-be-able-to-access-them-when-i-run-the/27974989#27974989\">Where should i place my files in order to be able to access them when i run the jar?</a>; 3. Yes, but I would consider using an alternative storage mechanism which better supports long term storage of data"},{"owner":{"account_id":25096794,"reputation":3,"user_id":18947884,"display_name":"Cole Baxendale"},"score":0,"creation_date":1680742528,"post_id":75944885,"comment_id":133951397,"body_markdown":"@MadProgrammer Great! Thank you for the link, that really helps! Yeah I understand I should use an actually database such as mongo or sql, I am creating a personal project at the moment, I do not have much experience using databases like that. I will learn one day and implement it then! I really appreciate it you helped a lot!","body":"@MadProgrammer Great! Thank you for the link, that really helps! Yeah I understand I should use an actually database such as mongo or sql, I am creating a personal project at the moment, I do not have much experience using databases like that. I will learn one day and implement it then! I really appreciate it you helped a lot!"}],"owner":{"account_id":25096794,"reputation":3,"user_id":18947884,"display_name":"Cole Baxendale"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680740273,"creation_date":1680740247,"question_id":75944885,"body_markdown":"The goal of this class is to be able to load when the program starts and save when data is changed. I have used these same methods before, the save and load ones. For some reason I can not get it to work now? Any ideas?\r\n\r\n```\r\npackage BackEnd;\r\n\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.io.Serializable;\r\nimport java.util.Hashtable;\r\n\r\n\r\npublic class DataBase implements Serializable{\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprivate static Hashtable&lt;String, Account&gt; accountTable = new Hashtable&lt;String, Account&gt;();\r\n\t\r\n\tprivate static int nextAccountid = 1;\r\n\t\r\n\tprivate static DataBase instance = new DataBase();\r\n\t\r\n\tAccountInstance account = AccountInstance.getInstance(); \r\n\t\r\n\tprivate DataBase() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static DataBase getInstance() {\r\n\t\t\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\tpublic static DataBase load() {\r\n\t\ttry (ObjectInputStream ois = new ObjectInputStream(\r\n\t\t\t\tnew BufferedInputStream(new FileInputStream(new File(&quot;./src/Data/data.dat&quot;))))) {\r\n\t\t\tinstance = (DataBase) ois.readObject();\r\n\t\t\tSystem.out.println(&quot;load&quot;);\r\n\t\t} catch (IOException | ClassNotFoundException e) {\r\n\t\t\tgetInstance();\r\n\t\t\tSystem.out.println(&quot;error load&quot;);\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n\tpublic static void save() {\r\n\t\ttry (ObjectOutputStream oos = new ObjectOutputStream(\r\n\t\t\t\tnew BufferedOutputStream(new FileOutputStream(new File(&quot;./src/Data/data.dat&quot;))))) {\r\n\t\t\toos.writeObject(instance);\r\n\t\t\tSystem.out.println(&quot;Save&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Error Save&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe save and load method are not working, what am I doing wrong?","title":"Singleton Serializable Database save method throws IOException","body":"<p>The goal of this class is to be able to load when the program starts and save when data is changed. I have used these same methods before, the save and load ones. For some reason I can not get it to work now? Any ideas?</p>\n<pre><code>package BackEnd;\n\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\nimport java.util.Hashtable;\n\n\npublic class DataBase implements Serializable{\n    \n    private static final long serialVersionUID = 1L;\n\n    private static Hashtable&lt;String, Account&gt; accountTable = new Hashtable&lt;String, Account&gt;();\n    \n    private static int nextAccountid = 1;\n    \n    private static DataBase instance = new DataBase();\n    \n    AccountInstance account = AccountInstance.getInstance(); \n    \n    private DataBase() {\n        \n    }\n    \n    public static DataBase getInstance() {\n        \n        return instance;\n    }\n    \n    public static DataBase load() {\n        try (ObjectInputStream ois = new ObjectInputStream(\n                new BufferedInputStream(new FileInputStream(new File(&quot;./src/Data/data.dat&quot;))))) {\n            instance = (DataBase) ois.readObject();\n            System.out.println(&quot;load&quot;);\n        } catch (IOException | ClassNotFoundException e) {\n            getInstance();\n            System.out.println(&quot;error load&quot;);\n        }\n        return instance;\n    }\n    \n    public static void save() {\n        try (ObjectOutputStream oos = new ObjectOutputStream(\n                new BufferedOutputStream(new FileOutputStream(new File(&quot;./src/Data/data.dat&quot;))))) {\n            oos.writeObject(instance);\n            System.out.println(&quot;Save&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;Error Save&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The save and load method are not working, what am I doing wrong?</p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"score":0,"creation_date":1680741242,"post_id":75944882,"comment_id":133951268,"body_markdown":"Are you sure that will always work? The documentation for persist in session says that ...&quot; results in generation of an identifier for the given instance. But this may happen asynchronously&quot;","body":"Are you sure that will always work? The documentation for persist in session says that ...&quot; results in generation of an identifier for the given instance. But this may happen asynchronously&quot;"},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1680769134,"post_id":75944882,"comment_id":133955128,"body_markdown":"Yes of course I&#39;m sure. Why don&#39;t you just try it?","body":"Yes of course I&#39;m sure. Why don&#39;t you just try it?"}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680740220,"creation_date":1680740220,"answer_id":75944882,"question_id":75887055,"body_markdown":"Just `flush()` the session before reading the id from the entity.","title":"How do I get the id of new objects in Hibernate 6.1","body":"<p>Just <code>flush()</code> the session before reading the id from the entity.</p>\n"}],"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680740220,"creation_date":1680172170,"question_id":75887055,"body_markdown":"I have a class marked @Entity \r\n\r\nWhich have the field:\r\n\r\n@Id @GeneratedValue(strategy=GenerationType.IDENTITY) public int id; \r\n\r\nWith hibernate 5.x I could call save on new instance of this object, and then the primary key would be written to the id field.\r\n\r\nBut this does not work with hibernate 6.1, where the save method is Deprecreated.\r\n\r\nThe obvious solution would be to use persist instead of save, but that does not generate an id I can get. So how do I generate a now Object with Hibernate 6.1 and get the primary key?","title":"How do I get the id of new objects in Hibernate 6.1","body":"<p>I have a class marked @Entity</p>\n<p>Which have the field:</p>\n<p>@Id @GeneratedValue(strategy=GenerationType.IDENTITY) public int id;</p>\n<p>With hibernate 5.x I could call save on new instance of this object, and then the primary key would be written to the id field.</p>\n<p>But this does not work with hibernate 6.1, where the save method is Deprecreated.</p>\n<p>The obvious solution would be to use persist instead of save, but that does not generate an id I can get. So how do I generate a now Object with Hibernate 6.1 and get the primary key?</p>\n"},{"tags":["java","cmd","build.gradle","sap-commerce-cloud"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1680779899,"post_id":75939794,"comment_id":133957518,"body_markdown":"which version of hybris and java are you using?","body":"which version of hybris and java are you using?"},{"owner":{"account_id":28222790,"reputation":1,"user_id":21573265,"display_name":"Abhijith Mohanan"},"score":0,"creation_date":1680782849,"post_id":75939794,"comment_id":133958227,"body_markdown":"Thank you for you response  @RaushanKumar\n\nhybris version  :D:\\2205\\hybris\\bin\\platform\\resources\\tomcat-8.5.78\\bin\n( i think that this is the way to check the hybris version , if not could you please tell me the proper way to check out the hybris version ) \n\njava version : openjdk 17.0.6 2023-01-17 LTS\nOpenJDK Runtime Environment SapMachine (build 17.0.6+0-LTS)\nOpenJDK 64-Bit Server VM SapMachine (build 17.0.6+0-LTS, mixed mode, sharing)","body":"Thank you for you response  @RaushanKumar  hybris version  :D:\\2205\\hybris\\bin\\platform\\resources\\tomcat-8.5.78\\bin ( i think that this is the way to check the hybris version , if not could you please tell me the proper way to check out the hybris version )   java version : openjdk 17.0.6 2023-01-17 LTS OpenJDK Runtime Environment SapMachine (build 17.0.6+0-LTS) OpenJDK 64-Bit Server VM SapMachine (build 17.0.6+0-LTS, mixed mode, sharing)"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1680783721,"post_id":75939794,"comment_id":133958409,"body_markdown":"D:\\2205\\installer\\customconfig In file:&quot;build.parallel=true&quot; =&gt; &quot;#build.parallel=true&quot;\ntry to comment this property","body":"D:\\2205\\installer\\customconfig In file:&quot;build.parallel=true&quot; =&gt; &quot;#build.parallel=true&quot; try to comment this property"},{"owner":{"account_id":28222790,"reputation":1,"user_id":21573265,"display_name":"Abhijith Mohanan"},"score":0,"creation_date":1680783922,"post_id":75939794,"comment_id":133958443,"body_markdown":"@RaushanKumar   I have  already commented that one out","body":"@RaushanKumar   I have  already commented that one out"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1680784383,"post_id":75939794,"comment_id":133958557,"body_markdown":"then please run with --stacktrace, then it will give more info","body":"then please run with --stacktrace, then it will give more info"},{"owner":{"account_id":28222790,"reputation":1,"user_id":21573265,"display_name":"Abhijith Mohanan"},"score":0,"creation_date":1680785970,"post_id":75939794,"comment_id":133958958,"body_markdown":"@RaushanKumar , i am getting an errors like this :\nD:\\2205\\hybris\\bin\\platform\\build.xml:13: The following error occurred while executing this line:","body":"@RaushanKumar , i am getting an errors like this : D:\\2205\\hybris\\bin\\platform\\build.xml:13: The following error occurred while executing this line:"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1680822556,"post_id":75939794,"comment_id":133966770,"body_markdown":"try to open cmd as administrator then navigate to the path and execute the recipe command.","body":"try to open cmd as administrator then navigate to the path and execute the recipe command."},{"owner":{"account_id":28222790,"reputation":1,"user_id":21573265,"display_name":"Abhijith Mohanan"},"score":0,"creation_date":1680856306,"post_id":75939794,"comment_id":133970402,"body_markdown":"@RaushanKumar , I have tried to do it  with cmd (admin) but the same error i am receiving again :(","body":"@RaushanKumar , I have tried to do it  with cmd (admin) but the same error i am receiving again :("},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1680870815,"post_id":75939794,"comment_id":133972942,"body_markdown":"can you please share path variable of your system,I hope you shouldn&#39;t have installed node js and npm installed already, this is also an issue and java_home should be also correct.","body":"can you please share path variable of your system,I hope you shouldn&#39;t have installed node js and npm installed already, this is also an issue and java_home should be also correct."}],"owner":{"account_id":28222790,"reputation":1,"user_id":21573265,"display_name":"Abhijith Mohanan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680739700,"creation_date":1680699830,"question_id":75939794,"body_markdown":"I&#39;m getting an error while initializing c-for-spa : I&#39;ll mention the error below. I would like to sort out the error and move to the next step. \r\n\r\n```\r\nBUILD FAILED\r\nD:\\2205\\hybris\\bin\\platform\\build.xml:13: The following error occurred while executing this line:\r\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:95: The following error occurred while executing this line:\r\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:153: The following error occurred while executing this line:\r\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\util.xml:13: The following error occurred while executing this line:\r\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:160: The following error occurred while executing this line:\r\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:333: The following error occurred while executing this line:\r\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:538: The following error occurred while executing this line:\r\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:589: The following error occurred while executing this line:\r\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\util.xml:94: Compile failed; see the compiler error output for details.\r\n\r\nTotal time: 5 minutes 36 seconds\r\n\r\n&gt; Task :recipes:cx-for-spa:buildSystem FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;D:\\2205\\installer\\recipes\\cx-for-spa\\build.gradle&#39; line: 603\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:recipes:cx-for-spa:buildSystem&#39;.\r\n&gt; external process returned non-zero exit code, command: [cmd, /c, set &quot;ANT_OPTS=-Xmx2g -Dfile.encoding=UTF-8 -Dpolyglot.js.nashorn-compat=true -Dpolyglot.engine.WarnInterpreterOnly=false --add-exports java.xml/com.sun.org.apache.xpath.internal=ALL-UNNAMED --add-exports java.xml/com.sun.org.apache.xpath.internal.objects=ALL-UNNAMED&quot; &amp; set &quot;PLATFORM_HOME=D:\\2205\\hybris\\bin\\platform&quot; &amp; set &quot;ANT_HOME=D:\\2205\\hybris\\bin\\platform\\apache-ant&quot; &amp; set &quot;PATH=D:\\2205\\hybris\\bin\\platform\\apache-ant\\bin;%PATH%&quot; &amp; ant clean all]\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 7m 14s\r\n3 actionable tasks: 3 executed\r\nProblem with java process - finished with non-zero exit code (1)\r\n```\r\n ","title":"getting an error while initialize cx-for-spa / sap commerce","body":"<p>I'm getting an error while initializing c-for-spa : I'll mention the error below. I would like to sort out the error and move to the next step.</p>\n<pre><code>BUILD FAILED\nD:\\2205\\hybris\\bin\\platform\\build.xml:13: The following error occurred while executing this line:\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:95: The following error occurred while executing this line:\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:153: The following error occurred while executing this line:\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\util.xml:13: The following error occurred while executing this line:\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:160: The following error occurred while executing this line:\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:333: The following error occurred while executing this line:\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:538: The following error occurred while executing this line:\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\compiling.xml:589: The following error occurred while executing this line:\nD:\\2205\\hybris\\bin\\platform\\resources\\ant\\util.xml:94: Compile failed; see the compiler error output for details.\n\nTotal time: 5 minutes 36 seconds\n\n&gt; Task :recipes:cx-for-spa:buildSystem FAILED\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'D:\\2205\\installer\\recipes\\cx-for-spa\\build.gradle' line: 603\n\n* What went wrong:\nExecution failed for task ':recipes:cx-for-spa:buildSystem'.\n&gt; external process returned non-zero exit code, command: [cmd, /c, set &quot;ANT_OPTS=-Xmx2g -Dfile.encoding=UTF-8 -Dpolyglot.js.nashorn-compat=true -Dpolyglot.engine.WarnInterpreterOnly=false --add-exports java.xml/com.sun.org.apache.xpath.internal=ALL-UNNAMED --add-exports java.xml/com.sun.org.apache.xpath.internal.objects=ALL-UNNAMED&quot; &amp; set &quot;PLATFORM_HOME=D:\\2205\\hybris\\bin\\platform&quot; &amp; set &quot;ANT_HOME=D:\\2205\\hybris\\bin\\platform\\apache-ant&quot; &amp; set &quot;PATH=D:\\2205\\hybris\\bin\\platform\\apache-ant\\bin;%PATH%&quot; &amp; ant clean all]\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 7m 14s\n3 actionable tasks: 3 executed\nProblem with java process - finished with non-zero exit code (1)\n</code></pre>\n"},{"tags":["java","mysql","ssl","jdbc","ssl-certificate"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680751903,"post_id":75944805,"comment_id":133952402,"body_markdown":"That does not quite make sense, the crt is usually configured into the server with the site, so do you have a server on that domain?, or is it a personal certificate to send from a client program (very unlikely). A crt must be created (TLS nowadays) with the domain level it is sent from embedded in it, the crt key pair is then placed into that domain and registered into its configuration file.","body":"That does not quite make sense, the crt is usually configured into the server with the site, so do you have a server on that domain?, or is it a personal certificate to send from a client program (very unlikely). A crt must be created (TLS nowadays) with the domain level it is sent from embedded in it, the crt key pair is then placed into that domain and registered into its configuration file."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680753283,"post_id":75944805,"comment_id":133952535,"body_markdown":"Actually, anyone would be a piece lost to know it, it is usually a .pem    Here&#39;s the best I could find at a glance after sifting MySQL docs.       https://dev.to/developertharun/easiest-way-to-setup-mysqlmariadb-with-tlsssl-in-10-minutes-v105-any-os-ubuntu-focal-developer-tharun-4okc","body":"Actually, anyone would be a piece lost to know it, it is usually a .pem    Here&#39;s the best I could find at a glance after sifting MySQL docs.       <a href=\"https://dev.to/developertharun/easiest-way-to-setup-mysqlmariadb-with-tlsssl-in-10-minutes-v105-any-os-ubuntu-focal-developer-tharun-4okc\" rel=\"nofollow noreferrer\">dev.to/developertharun/&hellip;</a>"}],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680739449,"creation_date":1680738755,"question_id":75944805,"body_markdown":"I am trying to build a little demo app in Java 20 using JDBC 4.2+ by configuring a [DataSource][1] object via the `com.mysql.cj.jdbc.MysqlDataSource` class. Developing on macOS Ventura, with IntelliJ 2023.1.\r\n\r\nI created a MySQL instance on the [Digital Ocean managed database][2] service. \r\n\r\nThe Digital Ocean configuration page indicates that [SSL][3] ([TLS][4], actually, I presume) is required in connections to the database server. That same config page offers a download for a `ca-certificate.crt` file. I did download that file.\r\n\r\n&#128073; What do I do with this downloaded `ca-certificate.crt` file?\r\n\r\nThe [*How to Connect to MySQL Database Clusters*][5] page at Digital Ocean tells me to download the file, but does not say what to do with it.\r\n\r\nThe [*Configuring MySQL to Use Encrypted Connections*][6] page on the MySQL site says a bunch of things, but does not say what to do with this file.\r\n\r\n\r\n----------\r\n\r\n\r\n```java\r\nprivate DataSource fetchDataSource ( )\r\n{\r\n    MysqlDataSource ds = null;\r\n    try\r\n    {\r\n        ds = new MysqlDataSource();\r\n\r\n        // Server\r\n        ds.setURL( &quot;jdbc:mysql://db-mysql-nyc1-whatever.db.ondigitalocean.com:25000/defaultdb&quot; );\r\n        ds.setRequireSSL( true );\r\n\r\n        // User\r\n        ds.setUser( &quot;doadmin&quot; );\r\n        ds.setPassword( &quot;tiger&quot; );\r\n\r\n        return ds;  // Happy path.\r\n    }\r\n    catch ( SQLException e )\r\n    {\r\n        e.printStackTrace();\r\n    }\r\n    throw new IllegalStateException( &quot;Failed to establish a JDBC DataSource. Msg # 3dfbbc6a-41d4-455d-9b6c-addf433522e5.&quot; );\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/DataSource.html\r\n  [2]: https://www.digitalocean.com/products/managed-databases\r\n  [3]: https://en.wikipedia.org/wiki/Secure_Sockets_Layer\r\n  [4]: https://en.wikipedia.org/wiki/Transport_Layer_Security\r\n  [5]: https://docs.digitalocean.com/products/databases/mysql/how-to/connect/\r\n  [6]: https://dev.mysql.com/doc/refman/8.0/en/using-encrypted-connections.html","title":"Where to put the ca-certificate.crt file when using TLS for encrypted connection to MySQL on Digital Ocean managed db server","body":"<p>I am trying to build a little demo app in Java 20 using JDBC 4.2+ by configuring a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\">DataSource</a> object via the <code>com.mysql.cj.jdbc.MysqlDataSource</code> class. Developing on macOS Ventura, with IntelliJ 2023.1.</p>\n<p>I created a MySQL instance on the <a href=\"https://www.digitalocean.com/products/managed-databases\" rel=\"nofollow noreferrer\">Digital Ocean managed database</a> service.</p>\n<p>The Digital Ocean configuration page indicates that <a href=\"https://en.wikipedia.org/wiki/Secure_Sockets_Layer\" rel=\"nofollow noreferrer\">SSL</a> (<a href=\"https://en.wikipedia.org/wiki/Transport_Layer_Security\" rel=\"nofollow noreferrer\">TLS</a>, actually, I presume) is required in connections to the database server. That same config page offers a download for a <code>ca-certificate.crt</code> file. I did download that file.</p>\n<p>👉 What do I do with this downloaded <code>ca-certificate.crt</code> file?</p>\n<p>The <a href=\"https://docs.digitalocean.com/products/databases/mysql/how-to/connect/\" rel=\"nofollow noreferrer\"><em>How to Connect to MySQL Database Clusters</em></a> page at Digital Ocean tells me to download the file, but does not say what to do with it.</p>\n<p>The <a href=\"https://dev.mysql.com/doc/refman/8.0/en/using-encrypted-connections.html\" rel=\"nofollow noreferrer\"><em>Configuring MySQL to Use Encrypted Connections</em></a> page on the MySQL site says a bunch of things, but does not say what to do with this file.</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>private DataSource fetchDataSource ( )\n{\n    MysqlDataSource ds = null;\n    try\n    {\n        ds = new MysqlDataSource();\n\n        // Server\n        ds.setURL( &quot;jdbc:mysql://db-mysql-nyc1-whatever.db.ondigitalocean.com:25000/defaultdb&quot; );\n        ds.setRequireSSL( true );\n\n        // User\n        ds.setUser( &quot;doadmin&quot; );\n        ds.setPassword( &quot;tiger&quot; );\n\n        return ds;  // Happy path.\n    }\n    catch ( SQLException e )\n    {\n        e.printStackTrace();\n    }\n    throw new IllegalStateException( &quot;Failed to establish a JDBC DataSource. Msg # 3dfbbc6a-41d4-455d-9b6c-addf433522e5.&quot; );\n}\n</code></pre>\n"},{"tags":["java","spring-security","authorization","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"score":0,"creation_date":1680683348,"post_id":75937203,"comment_id":133937904,"body_markdown":"Replaced equals with ==, menu still only shows for administrator. Checked if the objects referenced are the same (&lt;h2 th:text=&quot;${#authentication.principal == owner}&quot;&gt;&lt;/h2&gt;) - prints out true.","body":"Replaced equals with ==, menu still only shows for administrator. Checked if the objects referenced are the same (&lt;h2 th:text=&quot;${#authentication.principal == owner}&quot;&gt;&lt;/h2&gt;) - prints out true."},{"owner":{"display_name":"user15773347"},"score":0,"creation_date":1680683827,"post_id":75937203,"comment_id":133938027,"body_markdown":"it&#39;s possible that the owner object is not being populated correctly. Did you check for this?","body":"it&#39;s possible that the owner object is not being populated correctly. Did you check for this?"},{"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"score":0,"creation_date":1680685098,"post_id":75937203,"comment_id":133938337,"body_markdown":"Yes, just checked, owner object has correct fields.","body":"Yes, just checked, owner object has correct fields."},{"owner":{"display_name":"user15773347"},"score":0,"creation_date":1680686607,"post_id":75937203,"comment_id":133938673,"body_markdown":"What output do you get when you do this:\n\n```html\n&lt;h2&gt;Authentication Principal: [[${authentication.principal}]]&lt;/h2&gt;\n&lt;h2&gt;Owner: [[${owner}]]&lt;/h2&gt;\n```","body":"What output do you get when you do this:  <code>html &lt;h2&gt;Authentication Principal: [[${authentication.principal}]]&lt;&#47;h2&gt; &lt;h2&gt;Owner: [[${owner}]]&lt;&#47;h2&gt; </code>"},{"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"score":0,"creation_date":1680689758,"post_id":75937203,"comment_id":133939452,"body_markdown":"Both &quot;authentication principal&quot; and &quot;owner&quot; print out the same object.","body":"Both &quot;authentication principal&quot; and &quot;owner&quot; print out the same object."},{"owner":{"display_name":"user15773347"},"score":0,"creation_date":1680694357,"post_id":75937203,"comment_id":133940562,"body_markdown":"Ok strange. One thing you could try is to ensure that the owner object is of the same type as the object that is returned by the authentication.getPrincipal() method. If this doesn&#39;t work, could you try to compare a unique identifier of the two objects.","body":"Ok strange. One thing you could try is to ensure that the owner object is of the same type as the object that is returned by the authentication.getPrincipal() method. If this doesn&#39;t work, could you try to compare a unique identifier of the two objects."},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":1,"creation_date":1680696466,"post_id":75937203,"comment_id":133941078,"body_markdown":"Do you have equals and hashcode implemented for the objects that you are comparing?","body":"Do you have equals and hashcode implemented for the objects that you are comparing?"}],"tags":[],"owner":{"display_name":"user15773347"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680739134,"creation_date":1680682962,"answer_id":75937203,"question_id":75936909,"body_markdown":"It looks like the problem is related to how you compare two objects in your code: the `owner` object and the `authentication.principal` object.\r\n\r\nYou could try using the == operator, which compares the object references instead of their values. \r\n\r\n    &lt;span sec:authorize=&quot;hasRole(&#39;ADMIN&#39;) or #authentication.principal == #owner&quot;&gt;\r\n        &lt;form class=&quot;form-horizontal&quot; th:action=&quot;@{/todos/{id}/add(id = ${todo.id})}&quot; method=&quot;get&quot;&gt;\r\n            &lt;select class=&quot;form-control&quot; name=&quot;user_id&quot; id=&quot;users&quot;&gt;\r\n                &lt;option&gt;Select collaborator...&lt;/option&gt;\r\n                &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;\r\n                        th:text=&quot;${user.firstName + &#39; &#39; + user.lastName}&quot;&gt;&lt;/option&gt;\r\n            &lt;/select&gt;\r\n            &lt;input align=&quot;right&quot; class=&quot;btn btn&quot; type=&quot;submit&quot; value=&quot;Add&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/span&gt;","title":"Getting error while trying to authorise user with Spring Security","body":"<p>It looks like the problem is related to how you compare two objects in your code: the <code>owner</code> object and the <code>authentication.principal</code> object.</p>\n<p>You could try using the == operator, which compares the object references instead of their values.</p>\n<pre><code>&lt;span sec:authorize=&quot;hasRole('ADMIN') or #authentication.principal == #owner&quot;&gt;\n    &lt;form class=&quot;form-horizontal&quot; th:action=&quot;@{/todos/{id}/add(id = ${todo.id})}&quot; method=&quot;get&quot;&gt;\n        &lt;select class=&quot;form-control&quot; name=&quot;user_id&quot; id=&quot;users&quot;&gt;\n            &lt;option&gt;Select collaborator...&lt;/option&gt;\n            &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;\n                    th:text=&quot;${user.firstName + ' ' + user.lastName}&quot;&gt;&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;input align=&quot;right&quot; class=&quot;btn btn&quot; type=&quot;submit&quot; value=&quot;Add&quot;&gt;\n    &lt;/form&gt;\n&lt;/span&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680697738,"creation_date":1680697669,"answer_id":75939427,"question_id":75936909,"body_markdown":"In case someone else will have the same problem, i fixed it by using &quot;th:if&quot; instead of sec:authorize.\r\n\r\n    &lt;span th:if=&quot;${(#authentication.principal.id == owner.id) or (#authentication.principal.getRole().getName().equals(&#39;ADMIN&#39;))}&quot;&gt;\r\n        &lt;form class=&quot;form-horizontal&quot; th:action=&quot;@{/todos/{id}/add(id = ${todo.id})}&quot; method=&quot;get&quot;&gt;\r\n            &lt;select class=&quot;form-control&quot; name=&quot;user_id&quot; id=&quot;users&quot;&gt;\r\n                &lt;option&gt;Select collaborator...&lt;/option&gt;\r\n                &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;\r\n                        th:text=&quot;${user.firstName + &#39; &#39; + user.lastName}&quot;&gt;&lt;/option&gt;\r\n            &lt;/select&gt;\r\n            &lt;input align=&quot;right&quot; class=&quot;btn btn&quot; type=&quot;submit&quot; value=&quot;Add&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/span&gt;","title":"Getting error while trying to authorise user with Spring Security","body":"<p>In case someone else will have the same problem, i fixed it by using &quot;th:if&quot; instead of sec:authorize.</p>\n<pre><code>&lt;span th:if=&quot;${(#authentication.principal.id == owner.id) or (#authentication.principal.getRole().getName().equals('ADMIN'))}&quot;&gt;\n    &lt;form class=&quot;form-horizontal&quot; th:action=&quot;@{/todos/{id}/add(id = ${todo.id})}&quot; method=&quot;get&quot;&gt;\n        &lt;select class=&quot;form-control&quot; name=&quot;user_id&quot; id=&quot;users&quot;&gt;\n            &lt;option&gt;Select collaborator...&lt;/option&gt;\n            &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;\n                    th:text=&quot;${user.firstName + ' ' + user.lastName}&quot;&gt;&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;input align=&quot;right&quot; class=&quot;btn btn&quot; type=&quot;submit&quot; value=&quot;Add&quot;&gt;\n    &lt;/form&gt;\n&lt;/span&gt;\n</code></pre>\n"}],"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680739134,"creation_date":1680681107,"question_id":75936909,"body_markdown":"Trying to block access to a dropdown menu to unauthorized users using Spring Security (not owners and not admins), passing an &quot;owner&quot; object - the owner of the currently viewed list:\r\n\r\n    &lt;span sec:authorize=&quot;hasRole(&#39;ADMIN&#39;) or #authentication.principal.equals(#owner)&quot;&gt;\r\n        &lt;form class=&quot;form-horizontal&quot; th:action=&quot;@{/todos/{id}/add(id = ${todo.id})}&quot; method=&quot;get&quot;&gt;\r\n            &lt;select class=&quot;form-control&quot; name=&quot;user_id&quot; id=&quot;users&quot;&gt;\r\n                &lt;option&gt;Select collaborator...&lt;/option&gt;\r\n                &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;\r\n                        th:text=&quot;${user.firstName + &#39; &#39; + user.lastName}&quot;&gt;&lt;/option&gt;\r\n            &lt;/select&gt;\r\n            &lt;input align=&quot;right&quot; class=&quot;btn btn&quot; type=&quot;submit&quot; value=&quot;Add&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/span&gt;\r\n\r\nIt works well for admins but refuses to show the list for non-admin owner even though\r\n\r\n    &lt;h2 th:text=&quot;${owner.equals(#authentication.principal)}&quot;&gt;&lt;/h2&gt;\r\n\r\nprints out true. How do i fix it? Thanks in advance,","title":"Getting error while trying to authorise user with Spring Security","body":"<p>Trying to block access to a dropdown menu to unauthorized users using Spring Security (not owners and not admins), passing an &quot;owner&quot; object - the owner of the currently viewed list:</p>\n<pre><code>&lt;span sec:authorize=&quot;hasRole('ADMIN') or #authentication.principal.equals(#owner)&quot;&gt;\n    &lt;form class=&quot;form-horizontal&quot; th:action=&quot;@{/todos/{id}/add(id = ${todo.id})}&quot; method=&quot;get&quot;&gt;\n        &lt;select class=&quot;form-control&quot; name=&quot;user_id&quot; id=&quot;users&quot;&gt;\n            &lt;option&gt;Select collaborator...&lt;/option&gt;\n            &lt;option th:each=&quot;user : ${users}&quot; th:value=&quot;${user.id}&quot;\n                    th:text=&quot;${user.firstName + ' ' + user.lastName}&quot;&gt;&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;input align=&quot;right&quot; class=&quot;btn btn&quot; type=&quot;submit&quot; value=&quot;Add&quot;&gt;\n    &lt;/form&gt;\n&lt;/span&gt;\n</code></pre>\n<p>It works well for admins but refuses to show the list for non-admin owner even though</p>\n<pre><code>&lt;h2 th:text=&quot;${owner.equals(#authentication.principal)}&quot;&gt;&lt;/h2&gt;\n</code></pre>\n<p>prints out true. How do i fix it? Thanks in advance,</p>\n"},{"tags":["java","class","variables","subclass","superclass"],"answers":[{"tags":[],"owner":{"account_id":24137694,"reputation":28,"user_id":18104349,"display_name":"Estefania MQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680738534,"creation_date":1680738534,"answer_id":75944784,"question_id":75944728,"body_markdown":"If you determine that your class instB is of type A, InstB is not going to have access of all variables or methods of class B. You will have to put the variable in class A or initialize your Object as type B. ","title":"How to access subclass variable from superclass?","body":"<p>If you determine that your class instB is of type A, InstB is not going to have access of all variables or methods of class B. You will have to put the variable in class A or initialize your Object as type B.</p>\n"},{"comments":[{"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"score":0,"creation_date":1680738895,"post_id":75944787,"comment_id":133951009,"body_markdown":"This worked! Thanks! And the reason I&#39;m storing it like this is because its an array of the superclass with various subclasses. This is for a game.","body":"This worked! Thanks! And the reason I&#39;m storing it like this is because its an array of the superclass with various subclasses. This is for a game."},{"owner":{"account_id":6436922,"reputation":46,"user_id":12096971,"display_name":"Bruno"},"score":0,"creation_date":1680739284,"post_id":75944787,"comment_id":133951052,"body_markdown":"I am glad it worked, good luck with your project!","body":"I am glad it worked, good luck with your project!"}],"tags":[],"owner":{"account_id":6436922,"reputation":46,"user_id":12096971,"display_name":"Bruno"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680738564,"creation_date":1680738564,"answer_id":75944787,"question_id":75944728,"body_markdown":"If you really need to store the object as &#39;A&#39; instead of &#39;B&#39;, then I believe your only answer would be to cast &#39;instB&#39; to back to &#39;B&#39; for you to access that member.\r\n\r\n    int member = ((B)instB).x;\r\n\r\nBut something about that software design just doesn&#39;t seem right if you need to access child class members from the superclass.","title":"How to access subclass variable from superclass?","body":"<p>If you really need to store the object as 'A' instead of 'B', then I believe your only answer would be to cast 'instB' to back to 'B' for you to access that member.</p>\n<pre><code>int member = ((B)instB).x;\n</code></pre>\n<p>But something about that software design just doesn't seem right if you need to access child class members from the superclass.</p>\n"}],"owner":{"account_id":20376718,"reputation":3,"user_id":14947702,"display_name":"BlockManBlue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75944787,"answer_count":2,"score":0,"last_activity_date":1680738564,"creation_date":1680737768,"question_id":75944728,"body_markdown":"Say I have 2 classes, A and B. B is a subclass of A, and B has a variable specific to that class, example:\r\n\r\n    private class A{}\r\n    private class B extends A{int x = 5;}\r\n\r\nAnd I store a B as an A,\r\n\r\n    A instB = new B();\r\n\r\nHow do I access x in B? In this example it&#39;s a constant, but in my program it isn&#39;t, so i need some way to access the variable itself.","title":"How to access subclass variable from superclass?","body":"<p>Say I have 2 classes, A and B. B is a subclass of A, and B has a variable specific to that class, example:</p>\n<pre><code>private class A{}\nprivate class B extends A{int x = 5;}\n</code></pre>\n<p>And I store a B as an A,</p>\n<pre><code>A instB = new B();\n</code></pre>\n<p>How do I access x in B? In this example it's a constant, but in my program it isn't, so i need some way to access the variable itself.</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680690596,"creation_date":1680690596,"answer_id":75938337,"question_id":75934429,"body_markdown":"i don&#39;t know about existing solutions, here is something similar to what you&#39;ve tried, but using streams, maybe it helps:\r\n\r\n    public Stream&lt;JsonObject&gt; parseJson(Schema schema, Iterator&lt;String&gt; data) {\r\n    \tvar parser = createParser(schema);\r\n    \treturn streamFrom(data).map(parser::parse);\r\n    }\r\n    \r\n    public static &lt;T&gt; Stream&lt;T&gt; streamFrom(Iterator&lt;T&gt; iterator) {\r\n    \tIterable&lt;T&gt; iterable = () -&gt; iterator;\r\n        boolean inParallel = false;\r\n    \treturn StreamSupport.stream(iterable.spliterator(), inParallel);\r\n    }","title":"Implementing a bytecode generating JSON parser","body":"<p>i don't know about existing solutions, here is something similar to what you've tried, but using streams, maybe it helps:</p>\n<pre><code>public Stream&lt;JsonObject&gt; parseJson(Schema schema, Iterator&lt;String&gt; data) {\n    var parser = createParser(schema);\n    return streamFrom(data).map(parser::parse);\n}\n\npublic static &lt;T&gt; Stream&lt;T&gt; streamFrom(Iterator&lt;T&gt; iterator) {\n    Iterable&lt;T&gt; iterable = () -&gt; iterator;\n    boolean inParallel = false;\n    return StreamSupport.stream(iterable.spliterator(), inParallel);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680736565,"creation_date":1680704355,"answer_id":75940580,"question_id":75934429,"body_markdown":"&gt; Are there some existing solutions, like using Jackson Blackbird but constructing it from my custom schema object instead of a class? \r\n\r\nI&#39;m not aware of any.\r\n\r\nIt is worth noting the following from the Blackbird README file:\r\n\r\n&gt; *&quot;Blackbird has been lightly performance tested using jmh on openjdk 11 and 12. For reading and writing a moderately complex bean, Blackbird performance seems to be almost exactly on par with Afterburner - up to 20% better than vanilla Jackson in some cases.&quot;*\r\n\r\n&quot;Up to 20% better&quot; is not a huge improvement, especially when that is qualified with &quot;in some cases&quot;.\r\n\r\n&gt; Will it be worth it even though the result is not a class but a generic JSON object?\r\n\r\n  1. I don&#39;t think that an improvement of &quot;up to 20%&quot; is going to be worth the effort of developing your own solution.  (However that&#39;s just my opinion.  For all I know, a 20% improvement *could* be a deal-maker ... for you.)\r\n\r\n  2. Blackbird and the older Afterburner got much of their performance improvement by avoiding reflection when operating on (reading or constructing) POJOs.  If you are using a `JSONObject` representation or similar instead of POJOs, you no longer have that aspect to (potentially) optimize.\r\n\r\n---------------------------\r\n\r\nWhen I first read this question, I thought &quot;Hey, why not translate your custom schemas into grammars suitable for ANTLR or JavaCC or similar, and then generate fast parsers?&quot;  \r\n\r\nBut it won&#39;t work.  The problem is tokenization.  Unfortunately in the JSON language, string literals are used both as primitive values and as attribute names in objects.  And a conventional grammar notation cannot express something like &quot;a string token whose value is &quot;xyz&quot;.  \r\n\r\nI guess you might be able to fudge it with a context sensitive lexer, but my guess that would have performance downsides that would tend to negate the benefits of an efficient PGS generated parser.  \r\n\r\nAnother approach might be to treat individual characters as tokens.  That would be horrible if you were writing the grammar by hand, but for a generated grammar (that nobody needs to read) it might be practical.  (Or not.  For example, the generated grammars could turn out to be unsuitable for a PGS.  It gets technical ...)\r\n\r\nHowever ... it might work.  But you won&#39;t find out until someone tries it and then *measures* how much performance improvement they actually got for all of the developer effort expended.\r\n","title":"Implementing a bytecode generating JSON parser","body":"<blockquote>\n<p>Are there some existing solutions, like using Jackson Blackbird but constructing it from my custom schema object instead of a class?</p>\n</blockquote>\n<p>I'm not aware of any.</p>\n<p>It is worth noting the following from the Blackbird README file:</p>\n<blockquote>\n<p><em>&quot;Blackbird has been lightly performance tested using jmh on openjdk 11 and 12. For reading and writing a moderately complex bean, Blackbird performance seems to be almost exactly on par with Afterburner - up to 20% better than vanilla Jackson in some cases.&quot;</em></p>\n</blockquote>\n<p>&quot;Up to 20% better&quot; is not a huge improvement, especially when that is qualified with &quot;in some cases&quot;.</p>\n<blockquote>\n<p>Will it be worth it even though the result is not a class but a generic JSON object?</p>\n</blockquote>\n<ol>\n<li><p>I don't think that an improvement of &quot;up to 20%&quot; is going to be worth the effort of developing your own solution.  (However that's just my opinion.  For all I know, a 20% improvement <em>could</em> be a deal-maker ... for you.)</p>\n</li>\n<li><p>Blackbird and the older Afterburner got much of their performance improvement by avoiding reflection when operating on (reading or constructing) POJOs.  If you are using a <code>JSONObject</code> representation or similar instead of POJOs, you no longer have that aspect to (potentially) optimize.</p>\n</li>\n</ol>\n<hr />\n<p>When I first read this question, I thought &quot;Hey, why not translate your custom schemas into grammars suitable for ANTLR or JavaCC or similar, and then generate fast parsers?&quot;</p>\n<p>But it won't work.  The problem is tokenization.  Unfortunately in the JSON language, string literals are used both as primitive values and as attribute names in objects.  And a conventional grammar notation cannot express something like &quot;a string token whose value is &quot;xyz&quot;.</p>\n<p>I guess you might be able to fudge it with a context sensitive lexer, but my guess that would have performance downsides that would tend to negate the benefits of an efficient PGS generated parser.</p>\n<p>Another approach might be to treat individual characters as tokens.  That would be horrible if you were writing the grammar by hand, but for a generated grammar (that nobody needs to read) it might be practical.  (Or not.  For example, the generated grammars could turn out to be unsuitable for a PGS.  It gets technical ...)</p>\n<p>However ... it might work.  But you won't find out until someone tries it and then <em>measures</em> how much performance improvement they actually got for all of the developer effort expended.</p>\n"},{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680705241,"creation_date":1680705241,"answer_id":75940735,"question_id":75934429,"body_markdown":"Instead of implementing a JSON parser manually, I prefer to parse the JSON with a library like [Jackson](https://github.com/FasterXML/jackson). `mapper.readTree` would be useful for parsing JSON instantly even if the length of String is large.\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.enable(SerializationFeature.INDENT_OUTPUT);\r\nString jsonString = &quot;{\\&quot;products\\&quot;:[{\\&quot;id\\&quot;:1,\\&quot;title\\&quot;:\\&quot;iPhone 9\\&quot;,\\&quot;description\\&quot;:\\&quot;An apple mobile which is nothing like apple\\&quot;,\\&quot;price\\&quot;:549,\\&quot;discountPercentage\\&quot;:12.96,\\&quot;rating\\&quot;:4.69,\\&quot;stock\\&quot;:94,\\&quot;brand\\&quot;:\\&quot;Apple\\&quot;,\\&quot;category\\&quot;:\\&quot;smartphones\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/1/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/1/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/1/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/1/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:2,\\&quot;title\\&quot;:\\&quot;iPhone X\\&quot;,\\&quot;description\\&quot;:\\&quot;SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...\\&quot;,\\&quot;price\\&quot;:899,\\&quot;discountPercentage\\&quot;:17.94,\\&quot;rating\\&quot;:4.44,\\&quot;stock\\&quot;:34,\\&quot;brand\\&quot;:\\&quot;Apple\\&quot;,\\&quot;category\\&quot;:\\&quot;smartphones\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/2/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/2/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/2/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:3,\\&quot;title\\&quot;:\\&quot;Samsung Universe 9\\&quot;,\\&quot;description\\&quot;:\\&quot;Samsung&#39;s new variant which goes beyond Galaxy to the Universe\\&quot;,\\&quot;price\\&quot;:1249,\\&quot;discountPercentage\\&quot;:15.46,\\&quot;rating\\&quot;:4.09,\\&quot;stock\\&quot;:36,\\&quot;brand\\&quot;:\\&quot;Samsung\\&quot;,\\&quot;category\\&quot;:\\&quot;smartphones\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/3/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/3/1.jpg\\&quot;]},{\\&quot;id\\&quot;:4,\\&quot;title\\&quot;:\\&quot;OPPOF19\\&quot;,\\&quot;description\\&quot;:\\&quot;OPPO F19 is officially announced on April 2021.\\&quot;,\\&quot;price\\&quot;:280,\\&quot;discountPercentage\\&quot;:17.91,\\&quot;rating\\&quot;:4.3,\\&quot;stock\\&quot;:123,\\&quot;brand\\&quot;:\\&quot;OPPO\\&quot;,\\&quot;category\\&quot;:\\&quot;smartphones\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/4/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/4/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/4/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/4/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/4/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/4/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:5,\\&quot;title\\&quot;:\\&quot;Huawei P30\\&quot;,\\&quot;description\\&quot;:\\&quot;Huawei’s re-badged P30 Pro New Edition was officially unveiled yesterday in Germany and now the device has made its way to the UK.\\&quot;,\\&quot;price\\&quot;:499,\\&quot;discountPercentage\\&quot;:10.58,\\&quot;rating\\&quot;:4.09,\\&quot;stock\\&quot;:32,\\&quot;brand\\&quot;:\\&quot;Huawei\\&quot;,\\&quot;category\\&quot;:\\&quot;smartphones\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/5/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/5/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/5/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/5/3.jpg\\&quot;]},{\\&quot;id\\&quot;:6,\\&quot;title\\&quot;:\\&quot;MacBook Pro\\&quot;,\\&quot;description\\&quot;:\\&quot;MacBook Pro 2021 with mini-LED display may launch between September, November\\&quot;,\\&quot;price\\&quot;:1749,\\&quot;discountPercentage\\&quot;:11.02,\\&quot;rating\\&quot;:4.57,\\&quot;stock\\&quot;:83,\\&quot;brand\\&quot;:\\&quot;Apple\\&quot;,\\&quot;category\\&quot;:\\&quot;laptops\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/6/thumbnail.png\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/6/1.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/6/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/6/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/6/4.jpg\\&quot;]},{\\&quot;id\\&quot;:7,\\&quot;title\\&quot;:\\&quot;Samsung Galaxy Book\\&quot;,\\&quot;description\\&quot;:\\&quot;Samsung Galaxy Book S (2020) Laptop With Intel Lakefield Chip, 8GB of RAM Launched\\&quot;,\\&quot;price\\&quot;:1499,\\&quot;discountPercentage\\&quot;:4.15,\\&quot;rating\\&quot;:4.25,\\&quot;stock\\&quot;:50,\\&quot;brand\\&quot;:\\&quot;Samsung\\&quot;,\\&quot;category\\&quot;:\\&quot;laptops\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/7/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/7/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/7/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/7/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/7/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:8,\\&quot;title\\&quot;:\\&quot;Microsoft Surface Laptop 4\\&quot;,\\&quot;description\\&quot;:\\&quot;Style and speed. Stand out on HD video calls backed by Studio Mics. Capture ideas on the vibrant touchscreen.\\&quot;,\\&quot;price\\&quot;:1499,\\&quot;discountPercentage\\&quot;:10.23,\\&quot;rating\\&quot;:4.43,\\&quot;stock\\&quot;:68,\\&quot;brand\\&quot;:\\&quot;Microsoft Surface\\&quot;,\\&quot;category\\&quot;:\\&quot;laptops\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/8/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/8/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/8/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/8/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/8/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/8/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:9,\\&quot;title\\&quot;:\\&quot;Infinix INBOOK\\&quot;,\\&quot;description\\&quot;:\\&quot;Infinix Inbook X1 Ci3 10th 8GB 256GB 14 Win10 Grey – 1 Year Warranty\\&quot;,\\&quot;price\\&quot;:1099,\\&quot;discountPercentage\\&quot;:11.83,\\&quot;rating\\&quot;:4.54,\\&quot;stock\\&quot;:96,\\&quot;brand\\&quot;:\\&quot;Infinix\\&quot;,\\&quot;category\\&quot;:\\&quot;laptops\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/9/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/9/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/9/2.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/9/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/9/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/9/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:10,\\&quot;title\\&quot;:\\&quot;HP Pavilion 15-DK1056WM\\&quot;,\\&quot;description\\&quot;:\\&quot;HP Pavilion 15-DK1056WM Gaming Laptop 10th Gen Core i5, 8GB, 256GB SSD, GTX 1650 4GB, Windows 10\\&quot;,\\&quot;price\\&quot;:1099,\\&quot;discountPercentage\\&quot;:6.18,\\&quot;rating\\&quot;:4.43,\\&quot;stock\\&quot;:89,\\&quot;brand\\&quot;:\\&quot;HP Pavilion\\&quot;,\\&quot;category\\&quot;:\\&quot;laptops\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/10/thumbnail.jpeg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/10/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/10/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/10/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/10/thumbnail.jpeg\\&quot;]},{\\&quot;id\\&quot;:11,\\&quot;title\\&quot;:\\&quot;perfume Oil\\&quot;,\\&quot;description\\&quot;:\\&quot;Mega Discount, Impression of Acqua Di Gio by GiorgioArmani concentrated attar perfume Oil\\&quot;,\\&quot;price\\&quot;:13,\\&quot;discountPercentage\\&quot;:8.4,\\&quot;rating\\&quot;:4.26,\\&quot;stock\\&quot;:65,\\&quot;brand\\&quot;:\\&quot;Impression of Acqua Di Gio\\&quot;,\\&quot;category\\&quot;:\\&quot;fragrances\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/11/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/11/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/11/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/11/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/11/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:12,\\&quot;title\\&quot;:\\&quot;Brown Perfume\\&quot;,\\&quot;description\\&quot;:\\&quot;Royal_Mirage Sport Brown Perfume for Men &amp; Women - 120ml\\&quot;,\\&quot;price\\&quot;:40,\\&quot;discountPercentage\\&quot;:15.66,\\&quot;rating\\&quot;:4,\\&quot;stock\\&quot;:52,\\&quot;brand\\&quot;:\\&quot;Royal_Mirage\\&quot;,\\&quot;category\\&quot;:\\&quot;fragrances\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/12/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/12/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/12/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/12/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/12/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/12/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:13,\\&quot;title\\&quot;:\\&quot;Fog Scent Xpressio Perfume\\&quot;,\\&quot;description\\&quot;:\\&quot;Product details of Best Fog Scent Xpressio Perfume 100ml For Men cool long lasting perfumes for Men\\&quot;,\\&quot;price\\&quot;:13,\\&quot;discountPercentage\\&quot;:8.14,\\&quot;rating\\&quot;:4.59,\\&quot;stock\\&quot;:61,\\&quot;brand\\&quot;:\\&quot;Fog Scent Xpressio\\&quot;,\\&quot;category\\&quot;:\\&quot;fragrances\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/13/thumbnail.webp\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/13/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/13/2.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/13/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/13/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/13/thumbnail.webp\\&quot;]},{\\&quot;id\\&quot;:14,\\&quot;title\\&quot;:\\&quot;Non-Alcoholic Concentrated Perfume Oil\\&quot;,\\&quot;description\\&quot;:\\&quot;Original Al Munakh&#174; by Mahal Al Musk | Our Impression of Climate | 6ml Non-Alcoholic Concentrated Perfume Oil\\&quot;,\\&quot;price\\&quot;:120,\\&quot;discountPercentage\\&quot;:15.6,\\&quot;rating\\&quot;:4.21,\\&quot;stock\\&quot;:114,\\&quot;brand\\&quot;:\\&quot;Al Munakh\\&quot;,\\&quot;category\\&quot;:\\&quot;fragrances\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/14/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/14/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/14/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/14/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/14/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:15,\\&quot;title\\&quot;:\\&quot;Eau De Perfume Spray\\&quot;,\\&quot;description\\&quot;:\\&quot;Genuine  Al-Rehab spray perfume from UAE/Saudi Arabia/Yemen High Quality\\&quot;,\\&quot;price\\&quot;:30,\\&quot;discountPercentage\\&quot;:10.99,\\&quot;rating\\&quot;:4.7,\\&quot;stock\\&quot;:105,\\&quot;brand\\&quot;:\\&quot;Lord - Al-Rehab\\&quot;,\\&quot;category\\&quot;:\\&quot;fragrances\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/15/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/15/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/15/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/15/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/15/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/15/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:16,\\&quot;title\\&quot;:\\&quot;Hyaluronic Acid Serum\\&quot;,\\&quot;description\\&quot;:\\&quot;L&#39;Or&#195;&#169;al Paris introduces Hyaluron Expert Replumping Serum formulated with 1.5% Hyaluronic Acid\\&quot;,\\&quot;price\\&quot;:19,\\&quot;discountPercentage\\&quot;:13.31,\\&quot;rating\\&quot;:4.83,\\&quot;stock\\&quot;:110,\\&quot;brand\\&quot;:\\&quot;L&#39;Oreal Paris\\&quot;,\\&quot;category\\&quot;:\\&quot;skincare\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/16/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/16/1.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/16/2.webp\\&quot;,\\&quot;https://i.dummyjson.com/data/products/16/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/16/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/16/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:17,\\&quot;title\\&quot;:\\&quot;Tree Oil 30ml\\&quot;,\\&quot;description\\&quot;:\\&quot;Tea tree oil contains a number of compounds, including terpinen-4-ol, that have been shown to kill certain bacteria,\\&quot;,\\&quot;price\\&quot;:12,\\&quot;discountPercentage\\&quot;:4.09,\\&quot;rating\\&quot;:4.52,\\&quot;stock\\&quot;:78,\\&quot;brand\\&quot;:\\&quot;Hemani Tea\\&quot;,\\&quot;category\\&quot;:\\&quot;skincare\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/17/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/17/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/17/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/17/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/17/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:18,\\&quot;title\\&quot;:\\&quot;Oil Free Moisturizer 100ml\\&quot;,\\&quot;description\\&quot;:\\&quot;Dermive Oil Free Moisturizer with SPF 20 is specifically formulated with ceramides, hyaluronic acid &amp; sunscreen.\\&quot;,\\&quot;price\\&quot;:40,\\&quot;discountPercentage\\&quot;:13.1,\\&quot;rating\\&quot;:4.56,\\&quot;stock\\&quot;:88,\\&quot;brand\\&quot;:\\&quot;Dermive\\&quot;,\\&quot;category\\&quot;:\\&quot;skincare\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/18/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/18/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/18/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/18/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/18/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/18/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:19,\\&quot;title\\&quot;:\\&quot;Skin Beauty Serum.\\&quot;,\\&quot;description\\&quot;:\\&quot;Product name: rorec collagen hyaluronic acid white face serum riceNet weight: 15 m\\&quot;,\\&quot;price\\&quot;:46,\\&quot;discountPercentage\\&quot;:10.68,\\&quot;rating\\&quot;:4.42,\\&quot;stock\\&quot;:54,\\&quot;brand\\&quot;:\\&quot;ROREC White Rice\\&quot;,\\&quot;category\\&quot;:\\&quot;skincare\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/19/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/19/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/19/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/19/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/19/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:20,\\&quot;title\\&quot;:\\&quot;Freckle Treatment Cream- 15gm\\&quot;,\\&quot;description\\&quot;:\\&quot;Fair &amp; Clear is Pakistan&#39;s only pure Freckle cream which helpsfade Freckles, Darkspots and pigments. Mercury level is 0%, so there are no side effects.\\&quot;,\\&quot;price\\&quot;:70,\\&quot;discountPercentage\\&quot;:16.99,\\&quot;rating\\&quot;:4.06,\\&quot;stock\\&quot;:140,\\&quot;brand\\&quot;:\\&quot;Fair &amp; Clear\\&quot;,\\&quot;category\\&quot;:\\&quot;skincare\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/20/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/20/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/20/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/20/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/20/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/20/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:21,\\&quot;title\\&quot;:\\&quot;- Daal Masoor 500 grams\\&quot;,\\&quot;description\\&quot;:\\&quot;Fine quality Branded Product Keep in a cool and dry place\\&quot;,\\&quot;price\\&quot;:20,\\&quot;discountPercentage\\&quot;:4.81,\\&quot;rating\\&quot;:4.44,\\&quot;stock\\&quot;:133,\\&quot;brand\\&quot;:\\&quot;Saaf &amp; Khaas\\&quot;,\\&quot;category\\&quot;:\\&quot;groceries\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/21/thumbnail.png\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/21/1.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/21/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/21/3.jpg\\&quot;]},{\\&quot;id\\&quot;:22,\\&quot;title\\&quot;:\\&quot;Elbow Macaroni - 400 gm\\&quot;,\\&quot;description\\&quot;:\\&quot;Product details of Bake Parlor Big Elbow Macaroni - 400 gm\\&quot;,\\&quot;price\\&quot;:14,\\&quot;discountPercentage\\&quot;:15.58,\\&quot;rating\\&quot;:4.57,\\&quot;stock\\&quot;:146,\\&quot;brand\\&quot;:\\&quot;Bake Parlor Big\\&quot;,\\&quot;category\\&quot;:\\&quot;groceries\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/22/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/22/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/22/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/22/3.jpg\\&quot;]},{\\&quot;id\\&quot;:23,\\&quot;title\\&quot;:\\&quot;Orange Essence Food Flavou\\&quot;,\\&quot;description\\&quot;:\\&quot;Specifications of Orange Essence Food Flavour For Cakes and Baking Food Item\\&quot;,\\&quot;price\\&quot;:14,\\&quot;discountPercentage\\&quot;:8.04,\\&quot;rating\\&quot;:4.85,\\&quot;stock\\&quot;:26,\\&quot;brand\\&quot;:\\&quot;Baking Food Items\\&quot;,\\&quot;category\\&quot;:\\&quot;groceries\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/23/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/23/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/23/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/23/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/23/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/23/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:24,\\&quot;title\\&quot;:\\&quot;cereals muesli fruit nuts\\&quot;,\\&quot;description\\&quot;:\\&quot;original fauji cereal muesli 250gm box pack original fauji cereals muesli fruit nuts flakes breakfast cereal break fast faujicereals cerels cerel foji fouji\\&quot;,\\&quot;price\\&quot;:46,\\&quot;discountPercentage\\&quot;:16.8,\\&quot;rating\\&quot;:4.94,\\&quot;stock\\&quot;:113,\\&quot;brand\\&quot;:\\&quot;fauji\\&quot;,\\&quot;category\\&quot;:\\&quot;groceries\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/24/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/24/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/24/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/24/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/24/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/24/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:25,\\&quot;title\\&quot;:\\&quot;Gulab Powder 50 Gram\\&quot;,\\&quot;description\\&quot;:\\&quot;Dry Rose Flower Powder Gulab Powder 50 Gram • Treats Wounds\\&quot;,\\&quot;price\\&quot;:70,\\&quot;discountPercentage\\&quot;:13.58,\\&quot;rating\\&quot;:4.87,\\&quot;stock\\&quot;:47,\\&quot;brand\\&quot;:\\&quot;Dry Rose\\&quot;,\\&quot;category\\&quot;:\\&quot;groceries\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/25/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/25/1.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/25/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/25/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/25/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/25/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:26,\\&quot;title\\&quot;:\\&quot;Plant Hanger For Home\\&quot;,\\&quot;description\\&quot;:\\&quot;Boho Decor Plant Hanger For Home Wall Decoration Macrame Wall Hanging Shelf\\&quot;,\\&quot;price\\&quot;:41,\\&quot;discountPercentage\\&quot;:17.86,\\&quot;rating\\&quot;:4.08,\\&quot;stock\\&quot;:131,\\&quot;brand\\&quot;:\\&quot;Boho Decor\\&quot;,\\&quot;category\\&quot;:\\&quot;home-decoration\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/26/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/26/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/26/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/26/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/26/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/26/5.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/26/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:27,\\&quot;title\\&quot;:\\&quot;Flying Wooden Bird\\&quot;,\\&quot;description\\&quot;:\\&quot;Package Include 6 Birds with Adhesive Tape Shape: 3D Shaped Wooden Birds Material: Wooden MDF, Laminated 3.5mm\\&quot;,\\&quot;price\\&quot;:51,\\&quot;discountPercentage\\&quot;:15.58,\\&quot;rating\\&quot;:4.41,\\&quot;stock\\&quot;:17,\\&quot;brand\\&quot;:\\&quot;Flying Wooden\\&quot;,\\&quot;category\\&quot;:\\&quot;home-decoration\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/27/thumbnail.webp\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/27/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/27/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/27/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/27/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/27/thumbnail.webp\\&quot;]},{\\&quot;id\\&quot;:28,\\&quot;title\\&quot;:\\&quot;3D Embellishment Art Lamp\\&quot;,\\&quot;description\\&quot;:\\&quot;3D led lamp sticker Wall sticker 3d wall art light on/off button  cell operated (included)\\&quot;,\\&quot;price\\&quot;:20,\\&quot;discountPercentage\\&quot;:16.49,\\&quot;rating\\&quot;:4.82,\\&quot;stock\\&quot;:54,\\&quot;brand\\&quot;:\\&quot;LED Lights\\&quot;,\\&quot;category\\&quot;:\\&quot;home-decoration\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/28/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/28/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/28/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/28/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/28/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/28/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:29,\\&quot;title\\&quot;:\\&quot;Handcraft Chinese style\\&quot;,\\&quot;description\\&quot;:\\&quot;Handcraft Chinese style art luxury palace hotel villa mansion home decor ceramic vase with brass fruit plate\\&quot;,\\&quot;price\\&quot;:60,\\&quot;discountPercentage\\&quot;:15.34,\\&quot;rating\\&quot;:4.44,\\&quot;stock\\&quot;:7,\\&quot;brand\\&quot;:\\&quot;luxury palace\\&quot;,\\&quot;category\\&quot;:\\&quot;home-decoration\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/29/thumbnail.webp\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/29/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/29/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/29/3.webp\\&quot;,\\&quot;https://i.dummyjson.com/data/products/29/4.webp\\&quot;,\\&quot;https://i.dummyjson.com/data/products/29/thumbnail.webp\\&quot;]},{\\&quot;id\\&quot;:30,\\&quot;title\\&quot;:\\&quot;Key Holder\\&quot;,\\&quot;description\\&quot;:\\&quot;Attractive DesignMetallic materialFour key hooksReliable &amp; DurablePremium Quality\\&quot;,\\&quot;price\\&quot;:30,\\&quot;discountPercentage\\&quot;:2.92,\\&quot;rating\\&quot;:4.92,\\&quot;stock\\&quot;:54,\\&quot;brand\\&quot;:\\&quot;Golden\\&quot;,\\&quot;category\\&quot;:\\&quot;home-decoration\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/30/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/30/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/30/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/30/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/30/thumbnail.jpg\\&quot;]}],\\&quot;total\\&quot;:100,\\&quot;skip\\&quot;:0,\\&quot;limit\\&quot;:30}&quot;;\r\nJsonNode jsonData = mapper.readTree(jsonString);\r\nSystem.out.println(mapper.writeValueAsString(jsonData));\r\n```\r\nThe output will be:\r\n```json\r\n{\r\n    &quot;products&quot;: [{\r\n        &quot;id&quot;: 1,\r\n        &quot;title&quot;: &quot;iPhone 9&quot;,\r\n        &quot;description&quot;: &quot;An apple mobile which is nothing like apple&quot;,\r\n        &quot;price&quot;: 549,\r\n        &quot;discountPercentage&quot;: 12.96,\r\n        &quot;rating&quot;: 4.69,\r\n        &quot;stock&quot;: 94,\r\n        &quot;brand&quot;: &quot;Apple&quot;,\r\n        &quot;category&quot;: &quot;smartphones&quot;,\r\n        &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;,\r\n        &quot;images&quot;: [&quot;https://i.dummyjson.com/data/products/1/1.jpg&quot;, &quot;https://i.dummyjson.com/data/products/1/2.jpg&quot;, &quot;https://i.dummyjson.com/data/products/1/3.jpg&quot;, &quot;https://i.dummyjson.com/data/products/1/4.jpg&quot;, &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;]\r\n    }, {\r\n        &quot;id&quot;: 2,\r\n        &quot;title&quot;: &quot;iPhone X&quot;,\r\n        &quot;description&quot;: &quot;SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...&quot;,\r\n        &quot;price&quot;: 899,\r\n        &quot;discountPercentage&quot;: 17.94,\r\n        &quot;rating&quot;: 4.44,\r\n        &quot;stock&quot;: 34,\r\n        &quot;brand&quot;: &quot;Apple&quot;,\r\n        &quot;category&quot;: &quot;smartphones&quot;,\r\n        &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;,\r\n        &quot;images&quot;: [&quot;https://i.dummyjson.com/data/products/2/1.jpg&quot;, &quot;https://i.dummyjson.com/data/products/2/2.jpg&quot;, &quot;https://i.dummyjson.com/data/products/2/3.jpg&quot;, &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;]\r\n    }, \r\n    ...\r\n    ,{\r\n        &quot;id&quot;: 30,\r\n        &quot;title&quot;: &quot;Key Holder&quot;,\r\n        &quot;description&quot;: &quot;Attractive DesignMetallic materialFour key hooksReliable &amp; DurablePremium Quality&quot;,\r\n        &quot;price&quot;: 30,\r\n        &quot;discountPercentage&quot;: 2.92,\r\n        &quot;rating&quot;: 4.92,\r\n        &quot;stock&quot;: 54,\r\n        &quot;brand&quot;: &quot;Golden&quot;,\r\n        &quot;category&quot;: &quot;home-decoration&quot;,\r\n        &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/30/thumbnail.jpg&quot;,\r\n        &quot;images&quot;: [&quot;https://i.dummyjson.com/data/products/30/1.jpg&quot;, &quot;https://i.dummyjson.com/data/products/30/2.jpg&quot;, &quot;https://i.dummyjson.com/data/products/30/3.jpg&quot;, &quot;https://i.dummyjson.com/data/products/30/thumbnail.jpg&quot;]\r\n    }],\r\n    &quot;total&quot;: 100,\r\n    &quot;skip&quot;: 0,\r\n    &quot;limit&quot;: 30\r\n}\r\n```","title":"Implementing a bytecode generating JSON parser","body":"<p>Instead of implementing a JSON parser manually, I prefer to parse the JSON with a library like <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>. <code>mapper.readTree</code> would be useful for parsing JSON instantly even if the length of String is large.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enable(SerializationFeature.INDENT_OUTPUT);\nString jsonString = &quot;{\\&quot;products\\&quot;:[{\\&quot;id\\&quot;:1,\\&quot;title\\&quot;:\\&quot;iPhone 9\\&quot;,\\&quot;description\\&quot;:\\&quot;An apple mobile which is nothing like apple\\&quot;,\\&quot;price\\&quot;:549,\\&quot;discountPercentage\\&quot;:12.96,\\&quot;rating\\&quot;:4.69,\\&quot;stock\\&quot;:94,\\&quot;brand\\&quot;:\\&quot;Apple\\&quot;,\\&quot;category\\&quot;:\\&quot;smartphones\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/1/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/1/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/1/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/1/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:2,\\&quot;title\\&quot;:\\&quot;iPhone X\\&quot;,\\&quot;description\\&quot;:\\&quot;SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...\\&quot;,\\&quot;price\\&quot;:899,\\&quot;discountPercentage\\&quot;:17.94,\\&quot;rating\\&quot;:4.44,\\&quot;stock\\&quot;:34,\\&quot;brand\\&quot;:\\&quot;Apple\\&quot;,\\&quot;category\\&quot;:\\&quot;smartphones\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/2/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/2/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/2/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:3,\\&quot;title\\&quot;:\\&quot;Samsung Universe 9\\&quot;,\\&quot;description\\&quot;:\\&quot;Samsung's new variant which goes beyond Galaxy to the Universe\\&quot;,\\&quot;price\\&quot;:1249,\\&quot;discountPercentage\\&quot;:15.46,\\&quot;rating\\&quot;:4.09,\\&quot;stock\\&quot;:36,\\&quot;brand\\&quot;:\\&quot;Samsung\\&quot;,\\&quot;category\\&quot;:\\&quot;smartphones\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/3/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/3/1.jpg\\&quot;]},{\\&quot;id\\&quot;:4,\\&quot;title\\&quot;:\\&quot;OPPOF19\\&quot;,\\&quot;description\\&quot;:\\&quot;OPPO F19 is officially announced on April 2021.\\&quot;,\\&quot;price\\&quot;:280,\\&quot;discountPercentage\\&quot;:17.91,\\&quot;rating\\&quot;:4.3,\\&quot;stock\\&quot;:123,\\&quot;brand\\&quot;:\\&quot;OPPO\\&quot;,\\&quot;category\\&quot;:\\&quot;smartphones\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/4/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/4/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/4/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/4/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/4/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/4/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:5,\\&quot;title\\&quot;:\\&quot;Huawei P30\\&quot;,\\&quot;description\\&quot;:\\&quot;Huawei’s re-badged P30 Pro New Edition was officially unveiled yesterday in Germany and now the device has made its way to the UK.\\&quot;,\\&quot;price\\&quot;:499,\\&quot;discountPercentage\\&quot;:10.58,\\&quot;rating\\&quot;:4.09,\\&quot;stock\\&quot;:32,\\&quot;brand\\&quot;:\\&quot;Huawei\\&quot;,\\&quot;category\\&quot;:\\&quot;smartphones\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/5/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/5/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/5/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/5/3.jpg\\&quot;]},{\\&quot;id\\&quot;:6,\\&quot;title\\&quot;:\\&quot;MacBook Pro\\&quot;,\\&quot;description\\&quot;:\\&quot;MacBook Pro 2021 with mini-LED display may launch between September, November\\&quot;,\\&quot;price\\&quot;:1749,\\&quot;discountPercentage\\&quot;:11.02,\\&quot;rating\\&quot;:4.57,\\&quot;stock\\&quot;:83,\\&quot;brand\\&quot;:\\&quot;Apple\\&quot;,\\&quot;category\\&quot;:\\&quot;laptops\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/6/thumbnail.png\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/6/1.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/6/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/6/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/6/4.jpg\\&quot;]},{\\&quot;id\\&quot;:7,\\&quot;title\\&quot;:\\&quot;Samsung Galaxy Book\\&quot;,\\&quot;description\\&quot;:\\&quot;Samsung Galaxy Book S (2020) Laptop With Intel Lakefield Chip, 8GB of RAM Launched\\&quot;,\\&quot;price\\&quot;:1499,\\&quot;discountPercentage\\&quot;:4.15,\\&quot;rating\\&quot;:4.25,\\&quot;stock\\&quot;:50,\\&quot;brand\\&quot;:\\&quot;Samsung\\&quot;,\\&quot;category\\&quot;:\\&quot;laptops\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/7/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/7/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/7/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/7/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/7/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:8,\\&quot;title\\&quot;:\\&quot;Microsoft Surface Laptop 4\\&quot;,\\&quot;description\\&quot;:\\&quot;Style and speed. Stand out on HD video calls backed by Studio Mics. Capture ideas on the vibrant touchscreen.\\&quot;,\\&quot;price\\&quot;:1499,\\&quot;discountPercentage\\&quot;:10.23,\\&quot;rating\\&quot;:4.43,\\&quot;stock\\&quot;:68,\\&quot;brand\\&quot;:\\&quot;Microsoft Surface\\&quot;,\\&quot;category\\&quot;:\\&quot;laptops\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/8/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/8/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/8/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/8/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/8/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/8/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:9,\\&quot;title\\&quot;:\\&quot;Infinix INBOOK\\&quot;,\\&quot;description\\&quot;:\\&quot;Infinix Inbook X1 Ci3 10th 8GB 256GB 14 Win10 Grey – 1 Year Warranty\\&quot;,\\&quot;price\\&quot;:1099,\\&quot;discountPercentage\\&quot;:11.83,\\&quot;rating\\&quot;:4.54,\\&quot;stock\\&quot;:96,\\&quot;brand\\&quot;:\\&quot;Infinix\\&quot;,\\&quot;category\\&quot;:\\&quot;laptops\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/9/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/9/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/9/2.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/9/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/9/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/9/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:10,\\&quot;title\\&quot;:\\&quot;HP Pavilion 15-DK1056WM\\&quot;,\\&quot;description\\&quot;:\\&quot;HP Pavilion 15-DK1056WM Gaming Laptop 10th Gen Core i5, 8GB, 256GB SSD, GTX 1650 4GB, Windows 10\\&quot;,\\&quot;price\\&quot;:1099,\\&quot;discountPercentage\\&quot;:6.18,\\&quot;rating\\&quot;:4.43,\\&quot;stock\\&quot;:89,\\&quot;brand\\&quot;:\\&quot;HP Pavilion\\&quot;,\\&quot;category\\&quot;:\\&quot;laptops\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/10/thumbnail.jpeg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/10/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/10/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/10/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/10/thumbnail.jpeg\\&quot;]},{\\&quot;id\\&quot;:11,\\&quot;title\\&quot;:\\&quot;perfume Oil\\&quot;,\\&quot;description\\&quot;:\\&quot;Mega Discount, Impression of Acqua Di Gio by GiorgioArmani concentrated attar perfume Oil\\&quot;,\\&quot;price\\&quot;:13,\\&quot;discountPercentage\\&quot;:8.4,\\&quot;rating\\&quot;:4.26,\\&quot;stock\\&quot;:65,\\&quot;brand\\&quot;:\\&quot;Impression of Acqua Di Gio\\&quot;,\\&quot;category\\&quot;:\\&quot;fragrances\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/11/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/11/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/11/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/11/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/11/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:12,\\&quot;title\\&quot;:\\&quot;Brown Perfume\\&quot;,\\&quot;description\\&quot;:\\&quot;Royal_Mirage Sport Brown Perfume for Men &amp; Women - 120ml\\&quot;,\\&quot;price\\&quot;:40,\\&quot;discountPercentage\\&quot;:15.66,\\&quot;rating\\&quot;:4,\\&quot;stock\\&quot;:52,\\&quot;brand\\&quot;:\\&quot;Royal_Mirage\\&quot;,\\&quot;category\\&quot;:\\&quot;fragrances\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/12/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/12/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/12/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/12/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/12/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/12/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:13,\\&quot;title\\&quot;:\\&quot;Fog Scent Xpressio Perfume\\&quot;,\\&quot;description\\&quot;:\\&quot;Product details of Best Fog Scent Xpressio Perfume 100ml For Men cool long lasting perfumes for Men\\&quot;,\\&quot;price\\&quot;:13,\\&quot;discountPercentage\\&quot;:8.14,\\&quot;rating\\&quot;:4.59,\\&quot;stock\\&quot;:61,\\&quot;brand\\&quot;:\\&quot;Fog Scent Xpressio\\&quot;,\\&quot;category\\&quot;:\\&quot;fragrances\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/13/thumbnail.webp\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/13/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/13/2.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/13/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/13/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/13/thumbnail.webp\\&quot;]},{\\&quot;id\\&quot;:14,\\&quot;title\\&quot;:\\&quot;Non-Alcoholic Concentrated Perfume Oil\\&quot;,\\&quot;description\\&quot;:\\&quot;Original Al Munakh® by Mahal Al Musk | Our Impression of Climate | 6ml Non-Alcoholic Concentrated Perfume Oil\\&quot;,\\&quot;price\\&quot;:120,\\&quot;discountPercentage\\&quot;:15.6,\\&quot;rating\\&quot;:4.21,\\&quot;stock\\&quot;:114,\\&quot;brand\\&quot;:\\&quot;Al Munakh\\&quot;,\\&quot;category\\&quot;:\\&quot;fragrances\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/14/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/14/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/14/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/14/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/14/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:15,\\&quot;title\\&quot;:\\&quot;Eau De Perfume Spray\\&quot;,\\&quot;description\\&quot;:\\&quot;Genuine  Al-Rehab spray perfume from UAE/Saudi Arabia/Yemen High Quality\\&quot;,\\&quot;price\\&quot;:30,\\&quot;discountPercentage\\&quot;:10.99,\\&quot;rating\\&quot;:4.7,\\&quot;stock\\&quot;:105,\\&quot;brand\\&quot;:\\&quot;Lord - Al-Rehab\\&quot;,\\&quot;category\\&quot;:\\&quot;fragrances\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/15/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/15/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/15/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/15/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/15/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/15/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:16,\\&quot;title\\&quot;:\\&quot;Hyaluronic Acid Serum\\&quot;,\\&quot;description\\&quot;:\\&quot;L'OrÃ©al Paris introduces Hyaluron Expert Replumping Serum formulated with 1.5% Hyaluronic Acid\\&quot;,\\&quot;price\\&quot;:19,\\&quot;discountPercentage\\&quot;:13.31,\\&quot;rating\\&quot;:4.83,\\&quot;stock\\&quot;:110,\\&quot;brand\\&quot;:\\&quot;L'Oreal Paris\\&quot;,\\&quot;category\\&quot;:\\&quot;skincare\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/16/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/16/1.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/16/2.webp\\&quot;,\\&quot;https://i.dummyjson.com/data/products/16/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/16/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/16/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:17,\\&quot;title\\&quot;:\\&quot;Tree Oil 30ml\\&quot;,\\&quot;description\\&quot;:\\&quot;Tea tree oil contains a number of compounds, including terpinen-4-ol, that have been shown to kill certain bacteria,\\&quot;,\\&quot;price\\&quot;:12,\\&quot;discountPercentage\\&quot;:4.09,\\&quot;rating\\&quot;:4.52,\\&quot;stock\\&quot;:78,\\&quot;brand\\&quot;:\\&quot;Hemani Tea\\&quot;,\\&quot;category\\&quot;:\\&quot;skincare\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/17/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/17/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/17/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/17/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/17/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:18,\\&quot;title\\&quot;:\\&quot;Oil Free Moisturizer 100ml\\&quot;,\\&quot;description\\&quot;:\\&quot;Dermive Oil Free Moisturizer with SPF 20 is specifically formulated with ceramides, hyaluronic acid &amp; sunscreen.\\&quot;,\\&quot;price\\&quot;:40,\\&quot;discountPercentage\\&quot;:13.1,\\&quot;rating\\&quot;:4.56,\\&quot;stock\\&quot;:88,\\&quot;brand\\&quot;:\\&quot;Dermive\\&quot;,\\&quot;category\\&quot;:\\&quot;skincare\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/18/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/18/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/18/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/18/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/18/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/18/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:19,\\&quot;title\\&quot;:\\&quot;Skin Beauty Serum.\\&quot;,\\&quot;description\\&quot;:\\&quot;Product name: rorec collagen hyaluronic acid white face serum riceNet weight: 15 m\\&quot;,\\&quot;price\\&quot;:46,\\&quot;discountPercentage\\&quot;:10.68,\\&quot;rating\\&quot;:4.42,\\&quot;stock\\&quot;:54,\\&quot;brand\\&quot;:\\&quot;ROREC White Rice\\&quot;,\\&quot;category\\&quot;:\\&quot;skincare\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/19/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/19/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/19/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/19/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/19/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:20,\\&quot;title\\&quot;:\\&quot;Freckle Treatment Cream- 15gm\\&quot;,\\&quot;description\\&quot;:\\&quot;Fair &amp; Clear is Pakistan's only pure Freckle cream which helpsfade Freckles, Darkspots and pigments. Mercury level is 0%, so there are no side effects.\\&quot;,\\&quot;price\\&quot;:70,\\&quot;discountPercentage\\&quot;:16.99,\\&quot;rating\\&quot;:4.06,\\&quot;stock\\&quot;:140,\\&quot;brand\\&quot;:\\&quot;Fair &amp; Clear\\&quot;,\\&quot;category\\&quot;:\\&quot;skincare\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/20/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/20/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/20/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/20/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/20/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/20/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:21,\\&quot;title\\&quot;:\\&quot;- Daal Masoor 500 grams\\&quot;,\\&quot;description\\&quot;:\\&quot;Fine quality Branded Product Keep in a cool and dry place\\&quot;,\\&quot;price\\&quot;:20,\\&quot;discountPercentage\\&quot;:4.81,\\&quot;rating\\&quot;:4.44,\\&quot;stock\\&quot;:133,\\&quot;brand\\&quot;:\\&quot;Saaf &amp; Khaas\\&quot;,\\&quot;category\\&quot;:\\&quot;groceries\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/21/thumbnail.png\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/21/1.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/21/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/21/3.jpg\\&quot;]},{\\&quot;id\\&quot;:22,\\&quot;title\\&quot;:\\&quot;Elbow Macaroni - 400 gm\\&quot;,\\&quot;description\\&quot;:\\&quot;Product details of Bake Parlor Big Elbow Macaroni - 400 gm\\&quot;,\\&quot;price\\&quot;:14,\\&quot;discountPercentage\\&quot;:15.58,\\&quot;rating\\&quot;:4.57,\\&quot;stock\\&quot;:146,\\&quot;brand\\&quot;:\\&quot;Bake Parlor Big\\&quot;,\\&quot;category\\&quot;:\\&quot;groceries\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/22/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/22/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/22/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/22/3.jpg\\&quot;]},{\\&quot;id\\&quot;:23,\\&quot;title\\&quot;:\\&quot;Orange Essence Food Flavou\\&quot;,\\&quot;description\\&quot;:\\&quot;Specifications of Orange Essence Food Flavour For Cakes and Baking Food Item\\&quot;,\\&quot;price\\&quot;:14,\\&quot;discountPercentage\\&quot;:8.04,\\&quot;rating\\&quot;:4.85,\\&quot;stock\\&quot;:26,\\&quot;brand\\&quot;:\\&quot;Baking Food Items\\&quot;,\\&quot;category\\&quot;:\\&quot;groceries\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/23/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/23/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/23/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/23/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/23/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/23/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:24,\\&quot;title\\&quot;:\\&quot;cereals muesli fruit nuts\\&quot;,\\&quot;description\\&quot;:\\&quot;original fauji cereal muesli 250gm box pack original fauji cereals muesli fruit nuts flakes breakfast cereal break fast faujicereals cerels cerel foji fouji\\&quot;,\\&quot;price\\&quot;:46,\\&quot;discountPercentage\\&quot;:16.8,\\&quot;rating\\&quot;:4.94,\\&quot;stock\\&quot;:113,\\&quot;brand\\&quot;:\\&quot;fauji\\&quot;,\\&quot;category\\&quot;:\\&quot;groceries\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/24/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/24/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/24/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/24/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/24/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/24/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:25,\\&quot;title\\&quot;:\\&quot;Gulab Powder 50 Gram\\&quot;,\\&quot;description\\&quot;:\\&quot;Dry Rose Flower Powder Gulab Powder 50 Gram • Treats Wounds\\&quot;,\\&quot;price\\&quot;:70,\\&quot;discountPercentage\\&quot;:13.58,\\&quot;rating\\&quot;:4.87,\\&quot;stock\\&quot;:47,\\&quot;brand\\&quot;:\\&quot;Dry Rose\\&quot;,\\&quot;category\\&quot;:\\&quot;groceries\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/25/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/25/1.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/25/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/25/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/25/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/25/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:26,\\&quot;title\\&quot;:\\&quot;Plant Hanger For Home\\&quot;,\\&quot;description\\&quot;:\\&quot;Boho Decor Plant Hanger For Home Wall Decoration Macrame Wall Hanging Shelf\\&quot;,\\&quot;price\\&quot;:41,\\&quot;discountPercentage\\&quot;:17.86,\\&quot;rating\\&quot;:4.08,\\&quot;stock\\&quot;:131,\\&quot;brand\\&quot;:\\&quot;Boho Decor\\&quot;,\\&quot;category\\&quot;:\\&quot;home-decoration\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/26/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/26/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/26/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/26/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/26/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/26/5.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/26/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:27,\\&quot;title\\&quot;:\\&quot;Flying Wooden Bird\\&quot;,\\&quot;description\\&quot;:\\&quot;Package Include 6 Birds with Adhesive Tape Shape: 3D Shaped Wooden Birds Material: Wooden MDF, Laminated 3.5mm\\&quot;,\\&quot;price\\&quot;:51,\\&quot;discountPercentage\\&quot;:15.58,\\&quot;rating\\&quot;:4.41,\\&quot;stock\\&quot;:17,\\&quot;brand\\&quot;:\\&quot;Flying Wooden\\&quot;,\\&quot;category\\&quot;:\\&quot;home-decoration\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/27/thumbnail.webp\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/27/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/27/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/27/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/27/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/27/thumbnail.webp\\&quot;]},{\\&quot;id\\&quot;:28,\\&quot;title\\&quot;:\\&quot;3D Embellishment Art Lamp\\&quot;,\\&quot;description\\&quot;:\\&quot;3D led lamp sticker Wall sticker 3d wall art light on/off button  cell operated (included)\\&quot;,\\&quot;price\\&quot;:20,\\&quot;discountPercentage\\&quot;:16.49,\\&quot;rating\\&quot;:4.82,\\&quot;stock\\&quot;:54,\\&quot;brand\\&quot;:\\&quot;LED Lights\\&quot;,\\&quot;category\\&quot;:\\&quot;home-decoration\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/28/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/28/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/28/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/28/3.png\\&quot;,\\&quot;https://i.dummyjson.com/data/products/28/4.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/28/thumbnail.jpg\\&quot;]},{\\&quot;id\\&quot;:29,\\&quot;title\\&quot;:\\&quot;Handcraft Chinese style\\&quot;,\\&quot;description\\&quot;:\\&quot;Handcraft Chinese style art luxury palace hotel villa mansion home decor ceramic vase with brass fruit plate\\&quot;,\\&quot;price\\&quot;:60,\\&quot;discountPercentage\\&quot;:15.34,\\&quot;rating\\&quot;:4.44,\\&quot;stock\\&quot;:7,\\&quot;brand\\&quot;:\\&quot;luxury palace\\&quot;,\\&quot;category\\&quot;:\\&quot;home-decoration\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/29/thumbnail.webp\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/29/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/29/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/29/3.webp\\&quot;,\\&quot;https://i.dummyjson.com/data/products/29/4.webp\\&quot;,\\&quot;https://i.dummyjson.com/data/products/29/thumbnail.webp\\&quot;]},{\\&quot;id\\&quot;:30,\\&quot;title\\&quot;:\\&quot;Key Holder\\&quot;,\\&quot;description\\&quot;:\\&quot;Attractive DesignMetallic materialFour key hooksReliable &amp; DurablePremium Quality\\&quot;,\\&quot;price\\&quot;:30,\\&quot;discountPercentage\\&quot;:2.92,\\&quot;rating\\&quot;:4.92,\\&quot;stock\\&quot;:54,\\&quot;brand\\&quot;:\\&quot;Golden\\&quot;,\\&quot;category\\&quot;:\\&quot;home-decoration\\&quot;,\\&quot;thumbnail\\&quot;:\\&quot;https://i.dummyjson.com/data/products/30/thumbnail.jpg\\&quot;,\\&quot;images\\&quot;:[\\&quot;https://i.dummyjson.com/data/products/30/1.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/30/2.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/30/3.jpg\\&quot;,\\&quot;https://i.dummyjson.com/data/products/30/thumbnail.jpg\\&quot;]}],\\&quot;total\\&quot;:100,\\&quot;skip\\&quot;:0,\\&quot;limit\\&quot;:30}&quot;;\nJsonNode jsonData = mapper.readTree(jsonString);\nSystem.out.println(mapper.writeValueAsString(jsonData));\n</code></pre>\n<p>The output will be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;products&quot;: [{\n        &quot;id&quot;: 1,\n        &quot;title&quot;: &quot;iPhone 9&quot;,\n        &quot;description&quot;: &quot;An apple mobile which is nothing like apple&quot;,\n        &quot;price&quot;: 549,\n        &quot;discountPercentage&quot;: 12.96,\n        &quot;rating&quot;: 4.69,\n        &quot;stock&quot;: 94,\n        &quot;brand&quot;: &quot;Apple&quot;,\n        &quot;category&quot;: &quot;smartphones&quot;,\n        &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;,\n        &quot;images&quot;: [&quot;https://i.dummyjson.com/data/products/1/1.jpg&quot;, &quot;https://i.dummyjson.com/data/products/1/2.jpg&quot;, &quot;https://i.dummyjson.com/data/products/1/3.jpg&quot;, &quot;https://i.dummyjson.com/data/products/1/4.jpg&quot;, &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;]\n    }, {\n        &quot;id&quot;: 2,\n        &quot;title&quot;: &quot;iPhone X&quot;,\n        &quot;description&quot;: &quot;SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...&quot;,\n        &quot;price&quot;: 899,\n        &quot;discountPercentage&quot;: 17.94,\n        &quot;rating&quot;: 4.44,\n        &quot;stock&quot;: 34,\n        &quot;brand&quot;: &quot;Apple&quot;,\n        &quot;category&quot;: &quot;smartphones&quot;,\n        &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;,\n        &quot;images&quot;: [&quot;https://i.dummyjson.com/data/products/2/1.jpg&quot;, &quot;https://i.dummyjson.com/data/products/2/2.jpg&quot;, &quot;https://i.dummyjson.com/data/products/2/3.jpg&quot;, &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;]\n    }, \n    ...\n    ,{\n        &quot;id&quot;: 30,\n        &quot;title&quot;: &quot;Key Holder&quot;,\n        &quot;description&quot;: &quot;Attractive DesignMetallic materialFour key hooksReliable &amp; DurablePremium Quality&quot;,\n        &quot;price&quot;: 30,\n        &quot;discountPercentage&quot;: 2.92,\n        &quot;rating&quot;: 4.92,\n        &quot;stock&quot;: 54,\n        &quot;brand&quot;: &quot;Golden&quot;,\n        &quot;category&quot;: &quot;home-decoration&quot;,\n        &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/30/thumbnail.jpg&quot;,\n        &quot;images&quot;: [&quot;https://i.dummyjson.com/data/products/30/1.jpg&quot;, &quot;https://i.dummyjson.com/data/products/30/2.jpg&quot;, &quot;https://i.dummyjson.com/data/products/30/3.jpg&quot;, &quot;https://i.dummyjson.com/data/products/30/thumbnail.jpg&quot;]\n    }],\n    &quot;total&quot;: 100,\n    &quot;skip&quot;: 0,\n    &quot;limit&quot;: 30\n}\n</code></pre>\n"}],"owner":{"account_id":224215,"reputation":5628,"user_id":483876,"accept_rate":56,"display_name":"synapse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75940580,"answer_count":3,"score":0,"last_activity_date":1680736565,"creation_date":1680648768,"question_id":75934429,"body_markdown":"I&#39;m implementing a function that should parse a lot (multiple terabytes) of JSON data with schema known before processing. \r\n\r\n    Iterator&lt;JsonObject&gt; parseJson(Schema schema, Iterator&lt;String&gt; data) {\r\n        var parser = createParser(schema);\r\n\r\n        return new Iterator&lt;JsonObject&gt;() {\r\n            @Override\r\n            public boolean hasNext() {\r\n                return data.hasNext();\r\n            }\r\n\r\n            @Override\r\n            public JsonObject next() {\r\n                return parser.parse(data.next());\r\n            }\r\n        };\r\n    }\r\n\r\n\r\nI want to leverage the fact that schema is known to parse it as fast as possible. Are there some existing solutions, like using Jackson Blackbird but constructing it from my custom schema object instead of a class? Will it be worth it even though the result is not a class but a generic JSON object?","title":"Implementing a bytecode generating JSON parser","body":"<p>I'm implementing a function that should parse a lot (multiple terabytes) of JSON data with schema known before processing.</p>\n<pre><code>Iterator&lt;JsonObject&gt; parseJson(Schema schema, Iterator&lt;String&gt; data) {\n    var parser = createParser(schema);\n\n    return new Iterator&lt;JsonObject&gt;() {\n        @Override\n        public boolean hasNext() {\n            return data.hasNext();\n        }\n\n        @Override\n        public JsonObject next() {\n            return parser.parse(data.next());\n        }\n    };\n}\n</code></pre>\n<p>I want to leverage the fact that schema is known to parse it as fast as possible. Are there some existing solutions, like using Jackson Blackbird but constructing it from my custom schema object instead of a class? Will it be worth it even though the result is not a class but a generic JSON object?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9704,"page":521,"page_size":100}
