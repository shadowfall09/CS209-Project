{"items":[{"tags":["java","maven","podman","rhel8","testcontainers-junit5"],"owner":{"account_id":16997965,"reputation":41,"user_id":12295949,"display_name":"Jo Vanmont"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687335242,"creation_date":1687335242,"question_id":76521267,"body_markdown":"**Problem**\r\n============\r\n\r\nI want to start a MySQLContainer from a *junit* test with `mvn clean verify`. But for some reason it can&#39;t chown the container folder for my host user.\r\n\r\nHere is a screenshot that illustrates the problem:\r\n\r\n`org.testcontainers.containers.ContainerLaunchException: Container startup failed for image mysql:8.0.33\r\n\tat com.xyzcorp.StudentServiceCopyTest.testMySQL8(StudentServiceCopyTest.java:61)\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n\tat com.xyzcorp.StudentServiceCopyTest.testMySQL8(StudentServiceCopyTest.java:61)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n\tat com.xyzcorp.StudentServiceCopyTest.testMySQL8(StudentServiceCopyTest.java:61)\r\nCaused by: com.github.dockerjava.api.exception.InternalServerErrorException: \r\nStatus 500: {&quot;cause&quot;:&quot;error during bulk transfer for copier.request{Request:\\&quot;PUT\\&quot;, Root:\\&quot;/\\&quot;, preservedRoot:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, rootPrefix:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, Directory:\\&quot;/\\&quot;, preservedDirectory:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, Globs:[]string{}, preservedGlobs:[]string{}, StatOptions:copier.StatOptions{CheckForArchives:false, Excludes:[]string(nil)}, GetOptions:copier.GetOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), Excludes:[]string(nil), ExpandArchives:false, ChownDirs:(*idtools.IDPair)(nil), ChmodDirs:(*fs.FileMode)(nil), ChownFiles:(*idtools.IDPair)(nil), ChmodFiles:(*fs.FileMode)(nil), StripSetuidBit:false, StripSetgidBit:false, StripStickyBit:false, StripXattrs:false, KeepDirectoryNames:false, Rename:map[string]string(nil), NoDerefSymlinks:false, IgnoreUnreadable:false, NoCrossDevice:false}, PutOptions:copier.PutOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), DefaultDirOwner:(*idtools.IDPair)(nil), DefaultDirMode:(*fs.FileMode)(nil), ChownDirs:(*idtools.IDPair)(nil), ChmodDirs:(*fs.FileMode)(nil), ChownFiles:(*idtools.IDPair)(nil), ChmodFiles:(*fs.FileMode)(nil), StripSetuidBit:false, StripSetgidBit:false, StripStickyBit:false, StripXattrs:false, IgnoreXattrErrors:false, IgnoreDevices:false, NoOverwriteDirNonDir:false, NoOverwriteNonDirDir:false, Rename:map[string]string(nil)}, MkdirOptions:copier.MkdirOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), ChownNew:(*idtools.IDPair)(nil), ChmodNew:(*fs.FileMode)(nil)}, RemoveOptions:copier.RemoveOptions{All:false}}: copier: put: error setting ownership of \\&quot;/etc/mysql/conf.d\\&quot; to 1980042590:1980042590: lchown /etc/mysql/conf.d: invalid argument&quot;,&quot;message&quot;:&quot;error during bulk transfer for copier.request{Request:\\&quot;PUT\\&quot;, Root:\\&quot;/\\&quot;, preservedRoot:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, rootPrefix:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, Directory:\\&quot;/\\&quot;, preservedDirectory:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, Globs:[]string{}, preservedGlobs:[]string{}, StatOptions:copier.StatOptions{CheckForArchives:false, Excludes:[]string(nil)}, GetOptions:copier.GetOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), Excludes:[]string(nil), ExpandArchives:false, ChownDirs:(*idtools.IDPair)(nil), ChmodDirs:(*fs.FileMode)(nil), ChownFiles:(*idtools.IDPair)(nil), ChmodFiles:(*fs.FileMode)(nil), StripSetuidBit:false, StripSetgidBit:false, StripStickyBit:false, StripXattrs:false, KeepDirectoryNames:false, Rename:map[string]string(nil), NoDerefSymlinks:false, IgnoreUnreadable:false, NoCrossDevice:false}, PutOptions:copier.PutOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), DefaultDirOwner:(*idtools.IDPair)(nil), DefaultDirMode:(*fs.FileMode)(nil), ChownDirs:(*idtools.IDPair)(nil), ChmodDirs:(*fs.FileMode)(nil), ChownFiles:(*idtools.IDPair)(nil), ChmodFiles:(*fs.FileMode)(nil), StripSetuidBit:false, StripSetgidBit:false, StripStickyBit:false, StripXattrs:false, IgnoreXattrErrors:false, IgnoreDevices:false, NoOverwriteDirNonDir:false, NoOverwriteNonDirDir:false, Rename:map[string]string(nil)}, MkdirOptions:copier.MkdirOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), ChownNew:(*idtools.IDPair)(nil), ChmodNew:(*fs.FileMode)(nil)}, RemoveOptions:copier.RemoveOptions{All:false}}: copier: put: error setting ownership of \\&quot;/etc/mysql/conf.d\\&quot; to 1980042590:1980042590: lchown /etc/mysql/conf.d: invalid argument&quot;,&quot;response&quot;:500}`\r\n\r\n**What I&#39;ve tried**\r\n====================\r\n\r\nThis is the most simplified version of my code that I&#39;ve been able to get, which still produces the problem I described above.\r\n\r\n \r\n\r\n        @Test\r\n    \tpublic void testMySQL8() throws SQLException {\r\n    \t\tassumeFalse(SystemUtils.IS_OS_WINDOWS);\r\n    \t\tMySQLContainer container = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.33&quot;)\r\n    \t\t\t\t.withCreateContainerCmdModifier(cmd -&gt; cmd.withUser(&quot;0:0&quot;).withCmd(&quot;--user 0:0&quot;))\r\n    \t\t\t\t /*.withCopyFileToContainer(MountableFile.forClasspathResource(\r\n    \t\t\t\t &quot;db/testMySQL.cnf&quot;), &quot;/home&quot;)\r\n    \t\t\t\t * .withUsername(&quot;jvanmont&quot;)\r\n    \t\t\t\t .withInitScript(&quot;db/init_mysql.sql&quot;).withPrivilegedMode(true).withUsername(&quot;test&quot;)\r\n    \t\t\t\t .withCommand(&quot;mysqld --default-authentication-plugin=mysql_native_password&quot;)*/;\r\n    \t\tcontainer.start();\r\n    \t\ttry {\r\n    \t\t\tResultSet resultSet = performQuery(container, &quot;SELECT VERSION()&quot;);\r\n    \t\t\tresultSet.next();\r\n    \t\t\tString resultSetString = resultSet.getString(1);\r\n    \t\t\tSystem.out.println(&quot;mySQL version: &quot; + resultSetString);\r\n    \r\n    \t\t\tassertTrue(&quot;The database version can be set using a container rule parameter&quot;,\r\n    \t\t\t\t\t&quot;8.0.33&quot;.equals(resultSetString));\r\n    \t\t} finally {\r\n    \t\t\tcontainer.stop();\r\n    \t\t}\r\n    \t}\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n       bash-4.4$ podman -v\r\n       podman version 4.2.0\r\n\r\n       Java 17\r\n       mvn -v 3.8.8\r\n\r\n       bash-4.4$ uname -a\r\n       Linux hbidev** 4.18.0-425.19.2.el8_7.x86_64 #1 SMP Tue Apr 4 22:38:11 UTC 2023 \r\n       x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**My Research**\r\n================\r\n\r\nI can run the code with ***sudo***. I can run the container with podman run ...\r\n\r\nNo success:\r\nPodman is running rootless with host-user. Podman socket is owned by hos-user. I tried also with SELinux permissive mode. \r\n\r\nWhat I tried from inside the testcontainer code -&gt; I tried passing root user 0:0 when starting the container. I tried to start the container in privileged mode.\r\n\r\nI turned on testcontainer DEBUG:\r\n\r\n    Cmd: org.testcontainers.shaded.com.github.dockerjava.core.command.CopyArchiveToContainerCmdImpl@62ce72ff[cp ,-a=false ,&lt;null&gt;, ,d430a1a20b47ebd457358549a57bb762ea59bf7a9831110390bc2a7dafcc3ad8,:,/]\r\n\r\nFollowing is my podman id-mapping:\r\n\r\n    bash-4.4$ podman info | grep id\r\n        idlePercent: 98.81\r\n      hostname: hbidev**\r\n      idMappings:\r\n        gidmap:\r\n        - container_id: 0\r\n          host_id: 1980042590\r\n        - container_id: 1\r\n          host_id: 100000\r\n        uidmap:\r\n        - container_id: 0\r\n          host_id: 1980042590\r\n        - container_id: 1\r\n          host_id: 100000\r\n      - bridge\r\n\r\n**Question**\r\n=============\r\n\r\nWhy testcontainer tries to chown the ***conf.d*** folder? Why are all folders inside the container owned by root/nobody?\r\n\r\nHow can start the container as root from a testcontainer so it doesn&#39;t have to chown the folders inside the container for my host-user.\r\n","title":"mySQLTestcontainer can&#39;t chown /etc/mysql/conf.d folder inside rootless podman container","body":"<h1><strong>Problem</strong></h1>\n<p>I want to start a MySQLContainer from a <em>junit</em> test with <code>mvn clean verify</code>. But for some reason it can't chown the container folder for my host user.</p>\n<p>Here is a screenshot that illustrates the problem:</p>\n<p><code>org.testcontainers.containers.ContainerLaunchException: Container startup failed for image mysql:8.0.33 at com.xyzcorp.StudentServiceCopyTest.testMySQL8(StudentServiceCopyTest.java:61) Caused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception at com.xyzcorp.StudentServiceCopyTest.testMySQL8(StudentServiceCopyTest.java:61) Caused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container at com.xyzcorp.StudentServiceCopyTest.testMySQL8(StudentServiceCopyTest.java:61) Caused by: com.github.dockerjava.api.exception.InternalServerErrorException:  Status 500: {&quot;cause&quot;:&quot;error during bulk transfer for copier.request{Request:\\&quot;PUT\\&quot;, Root:\\&quot;/\\&quot;, preservedRoot:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, rootPrefix:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, Directory:\\&quot;/\\&quot;, preservedDirectory:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, Globs:[]string{}, preservedGlobs:[]string{}, StatOptions:copier.StatOptions{CheckForArchives:false, Excludes:[]string(nil)}, GetOptions:copier.GetOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), Excludes:[]string(nil), ExpandArchives:false, ChownDirs:(*idtools.IDPair)(nil), ChmodDirs:(*fs.FileMode)(nil), ChownFiles:(*idtools.IDPair)(nil), ChmodFiles:(*fs.FileMode)(nil), StripSetuidBit:false, StripSetgidBit:false, StripStickyBit:false, StripXattrs:false, KeepDirectoryNames:false, Rename:map[string]string(nil), NoDerefSymlinks:false, IgnoreUnreadable:false, NoCrossDevice:false}, PutOptions:copier.PutOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), DefaultDirOwner:(*idtools.IDPair)(nil), DefaultDirMode:(*fs.FileMode)(nil), ChownDirs:(*idtools.IDPair)(nil), ChmodDirs:(*fs.FileMode)(nil), ChownFiles:(*idtools.IDPair)(nil), ChmodFiles:(*fs.FileMode)(nil), StripSetuidBit:false, StripSetgidBit:false, StripStickyBit:false, StripXattrs:false, IgnoreXattrErrors:false, IgnoreDevices:false, NoOverwriteDirNonDir:false, NoOverwriteNonDirDir:false, Rename:map[string]string(nil)}, MkdirOptions:copier.MkdirOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), ChownNew:(*idtools.IDPair)(nil), ChmodNew:(*fs.FileMode)(nil)}, RemoveOptions:copier.RemoveOptions{All:false}}: copier: put: error setting ownership of \\&quot;/etc/mysql/conf.d\\&quot; to 1980042590:1980042590: lchown /etc/mysql/conf.d: invalid argument&quot;,&quot;message&quot;:&quot;error during bulk transfer for copier.request{Request:\\&quot;PUT\\&quot;, Root:\\&quot;/\\&quot;, preservedRoot:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, rootPrefix:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, Directory:\\&quot;/\\&quot;, preservedDirectory:\\&quot;/home/jvanmont/.local/share/containers/storage/overlay/297e95cb55db40d82aa6e025772f7e05a009d64f5563ac3421e34592209e8627/merged\\&quot;, Globs:[]string{}, preservedGlobs:[]string{}, StatOptions:copier.StatOptions{CheckForArchives:false, Excludes:[]string(nil)}, GetOptions:copier.GetOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), Excludes:[]string(nil), ExpandArchives:false, ChownDirs:(*idtools.IDPair)(nil), ChmodDirs:(*fs.FileMode)(nil), ChownFiles:(*idtools.IDPair)(nil), ChmodFiles:(*fs.FileMode)(nil), StripSetuidBit:false, StripSetgidBit:false, StripStickyBit:false, StripXattrs:false, KeepDirectoryNames:false, Rename:map[string]string(nil), NoDerefSymlinks:false, IgnoreUnreadable:false, NoCrossDevice:false}, PutOptions:copier.PutOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), DefaultDirOwner:(*idtools.IDPair)(nil), DefaultDirMode:(*fs.FileMode)(nil), ChownDirs:(*idtools.IDPair)(nil), ChmodDirs:(*fs.FileMode)(nil), ChownFiles:(*idtools.IDPair)(nil), ChmodFiles:(*fs.FileMode)(nil), StripSetuidBit:false, StripSetgidBit:false, StripStickyBit:false, StripXattrs:false, IgnoreXattrErrors:false, IgnoreDevices:false, NoOverwriteDirNonDir:false, NoOverwriteNonDirDir:false, Rename:map[string]string(nil)}, MkdirOptions:copier.MkdirOptions{UIDMap:[]idtools.IDMap(nil), GIDMap:[]idtools.IDMap(nil), ChownNew:(*idtools.IDPair)(nil), ChmodNew:(*fs.FileMode)(nil)}, RemoveOptions:copier.RemoveOptions{All:false}}: copier: put: error setting ownership of \\&quot;/etc/mysql/conf.d\\&quot; to 1980042590:1980042590: lchown /etc/mysql/conf.d: invalid argument&quot;,&quot;response&quot;:500}</code></p>\n<h1><strong>What I've tried</strong></h1>\n<p>This is the most simplified version of my code that I've been able to get, which still produces the problem I described above.</p>\n<pre><code>    @Test\n    public void testMySQL8() throws SQLException {\n        assumeFalse(SystemUtils.IS_OS_WINDOWS);\n        MySQLContainer container = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.33&quot;)\n                .withCreateContainerCmdModifier(cmd -&gt; cmd.withUser(&quot;0:0&quot;).withCmd(&quot;--user 0:0&quot;))\n                 /*.withCopyFileToContainer(MountableFile.forClasspathResource(\n                 &quot;db/testMySQL.cnf&quot;), &quot;/home&quot;)\n                 * .withUsername(&quot;jvanmont&quot;)\n                 .withInitScript(&quot;db/init_mysql.sql&quot;).withPrivilegedMode(true).withUsername(&quot;test&quot;)\n                 .withCommand(&quot;mysqld --default-authentication-plugin=mysql_native_password&quot;)*/;\n        container.start();\n        try {\n            ResultSet resultSet = performQuery(container, &quot;SELECT VERSION()&quot;);\n            resultSet.next();\n            String resultSetString = resultSet.getString(1);\n            System.out.println(&quot;mySQL version: &quot; + resultSetString);\n\n            assertTrue(&quot;The database version can be set using a container rule parameter&quot;,\n                    &quot;8.0.33&quot;.equals(resultSetString));\n        } finally {\n            container.stop();\n        }\n    }\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n        &lt;version&gt;1.18.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;1.18.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql&lt;/artifactId&gt;\n        &lt;version&gt;1.18.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n\n   bash-4.4$ podman -v\n   podman version 4.2.0\n\n   Java 17\n   mvn -v 3.8.8\n\n   bash-4.4$ uname -a\n   Linux hbidev** 4.18.0-425.19.2.el8_7.x86_64 #1 SMP Tue Apr 4 22:38:11 UTC 2023 \n   x86_64 x86_64 x86_64 GNU/Linux\n</code></pre>\n<h1><strong>My Research</strong></h1>\n<p>I can run the code with <em><strong>sudo</strong></em>. I can run the container with podman run ...</p>\n<p>No success:\nPodman is running rootless with host-user. Podman socket is owned by hos-user. I tried also with SELinux permissive mode.</p>\n<p>What I tried from inside the testcontainer code -&gt; I tried passing root user 0:0 when starting the container. I tried to start the container in privileged mode.</p>\n<p>I turned on testcontainer DEBUG:</p>\n<pre><code>Cmd: org.testcontainers.shaded.com.github.dockerjava.core.command.CopyArchiveToContainerCmdImpl@62ce72ff[cp ,-a=false ,&lt;null&gt;, ,d430a1a20b47ebd457358549a57bb762ea59bf7a9831110390bc2a7dafcc3ad8,:,/]\n</code></pre>\n<p>Following is my podman id-mapping:</p>\n<pre><code>bash-4.4$ podman info | grep id\n    idlePercent: 98.81\n  hostname: hbidev**\n  idMappings:\n    gidmap:\n    - container_id: 0\n      host_id: 1980042590\n    - container_id: 1\n      host_id: 100000\n    uidmap:\n    - container_id: 0\n      host_id: 1980042590\n    - container_id: 1\n      host_id: 100000\n  - bridge\n</code></pre>\n<h1><strong>Question</strong></h1>\n<p>Why testcontainer tries to chown the <em><strong>conf.d</strong></em> folder? Why are all folders inside the container owned by root/nobody?</p>\n<p>How can start the container as root from a testcontainer so it doesn't have to chown the folders inside the container for my host-user.</p>\n"},{"tags":["java","android","multithreading","android-handler"],"comments":[{"owner":{"account_id":2117621,"reputation":4837,"user_id":1881527,"display_name":"Melbourne Lopes"},"score":2,"creation_date":1395394168,"post_id":11123621,"comment_id":34327769,"body_markdown":"You can also use Custom broadcast receiver....try my answer here,\r\n[Inner Broadcast Receiver][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/a/22541324/1881527","body":"You can also use Custom broadcast receiver....try my answer here,  [Inner Broadcast Receiver][1]        [1]: <a href=\"http://stackoverflow.com/a/22541324/1881527\">stackoverflow.com/a/22541324/1881527</a>"},{"owner":{"account_id":1857741,"reputation":1493,"user_id":1682975,"accept_rate":100,"display_name":"Ashok Bijoy Debnath"},"score":0,"creation_date":1417682220,"post_id":11123621,"comment_id":43045170,"body_markdown":"There are many ways. Apart from David&#39;s answer &amp; dzeikei&#39;s comment in his answer, (3) you can use a Broadcast Receiver, or (4) pass the handler in extras of Intent used to start the service, and then retrieve the main thread&#39;s handler inside service using getIntent().getExtras() .","body":"There are many ways. Apart from David&#39;s answer &amp; dzeikei&#39;s comment in his answer, (3) you can use a Broadcast Receiver, or (4) pass the handler in extras of Intent used to start the service, and then retrieve the main thread&#39;s handler inside service using getIntent().getExtras() ."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":2,"creation_date":1565203524,"post_id":11123621,"comment_id":101282687,"body_markdown":"@sazzad-hissain-khan, Why tag this question from 2012 with mostly answers in Java with the kotlin tag?","body":"@sazzad-hissain-khan, Why tag this question from 2012 with mostly answers in Java with the kotlin tag?"}],"answers":[{"tags":[],"owner":{"account_id":55332,"reputation":27347,"user_id":165674,"accept_rate":67,"display_name":"Dheeraj Vepakomma"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1340210845,"creation_date":1340210461,"answer_id":11124179,"question_id":11123621,"body_markdown":"One method I can think of is this:\r\n\r\n1) Let the UI bind to the service.  \r\n2) Expose a method like the one below by the `Binder` that registers your `Handler`:\r\n\r\n    public void registerHandler(Handler handler) {\r\n        mHandler = handler;\r\n    }\r\n\r\n3) In the UI thread, call the above method after binding to the service:\r\n\r\n    mBinder.registerHandler(new Handler());\r\n\r\n4) Use the handler in the Service&#39;s thread to post your task:\r\n\r\n    mHandler.post(runnable);\r\n","title":"Running code in main thread from another thread","body":"<p>One method I can think of is this:</p>\n\n<p>1) Let the UI bind to the service.<br>\n2) Expose a method like the one below by the <code>Binder</code> that registers your <code>Handler</code>:</p>\n\n<pre><code>public void registerHandler(Handler handler) {\n    mHandler = handler;\n}\n</code></pre>\n\n<p>3) In the UI thread, call the above method after binding to the service:</p>\n\n<pre><code>mBinder.registerHandler(new Handler());\n</code></pre>\n\n<p>4) Use the handler in the Service's thread to post your task:</p>\n\n<pre><code>mHandler.post(runnable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":697,"is_accepted":true,"score":697,"last_activity_date":1503504350,"creation_date":1340214562,"answer_id":11125271,"question_id":11123621,"body_markdown":"NOTE: This answer has gotten so much attention, that I need to update it. Since the original answer was posted, the comment from @dzeikei has gotten almost as much attention as the original answer. So here are 2 possible solutions:\r\n\r\n**1. If your background thread has a reference to a `Context` object:**\r\n\r\nMake sure that your background worker threads have access to a Context object (can be the Application context or the Service context). Then just do this in the background worker thread:\r\n\r\n    // Get a handler that can be used to post to the main thread\r\n    Handler mainHandler = new Handler(context.getMainLooper());\r\n\r\n    Runnable myRunnable = new Runnable() {\r\n        @Override \r\n        public void run() {....} // This is your code\r\n    };\r\n    mainHandler.post(myRunnable);\r\n\r\n**2. If your background thread does not have (or need) a `Context` object**\r\n\r\n(suggested by @dzeikei):\r\n\r\n    // Get a handler that can be used to post to the main thread\r\n    Handler mainHandler = new Handler(Looper.getMainLooper());\r\n\r\n    Runnable myRunnable = new Runnable() {\r\n        @Override \r\n        public void run() {....} // This is your code\r\n    };\r\n    mainHandler.post(myRunnable);","title":"Running code in main thread from another thread","body":"<p>NOTE: This answer has gotten so much attention, that I need to update it. Since the original answer was posted, the comment from @dzeikei has gotten almost as much attention as the original answer. So here are 2 possible solutions:</p>\n\n<p><strong>1. If your background thread has a reference to a <code>Context</code> object:</strong></p>\n\n<p>Make sure that your background worker threads have access to a Context object (can be the Application context or the Service context). Then just do this in the background worker thread:</p>\n\n<pre><code>// Get a handler that can be used to post to the main thread\nHandler mainHandler = new Handler(context.getMainLooper());\n\nRunnable myRunnable = new Runnable() {\n    @Override \n    public void run() {....} // This is your code\n};\nmainHandler.post(myRunnable);\n</code></pre>\n\n<p><strong>2. If your background thread does not have (or need) a <code>Context</code> object</strong></p>\n\n<p>(suggested by @dzeikei):</p>\n\n<pre><code>// Get a handler that can be used to post to the main thread\nHandler mainHandler = new Handler(Looper.getMainLooper());\n\nRunnable myRunnable = new Runnable() {\n    @Override \n    public void run() {....} // This is your code\n};\nmainHandler.post(myRunnable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161871,"reputation":2379,"user_id":382960,"display_name":"Alexey Vassiliev"},"down_vote_count":2,"up_vote_count":165,"is_accepted":false,"score":163,"last_activity_date":1602145303,"creation_date":1340230787,"answer_id":11129025,"question_id":11123621,"body_markdown":"As a commenter below pointed correctly, this is not a general solution for services, only for threads launched from your activity (a service can be such a thread, but not all of those are).\r\nOn the complicated topic of service-activity communication please read the whole Services section of the official doc - it is complex, so it would pay to understand the basics:\r\nhttp://developer.android.com/guide/components/services.html#Notifications\r\n\r\nThe method below may work in the simplest cases:\r\n\r\nIf I understand you correctly you need some code to be executed in the GUI thread of the application (cannot think about anything else called &quot;main&quot; thread). \r\nFor this there is a method on `Activity`:\r\n\r\n    someActivity.runOnUiThread(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t   //Your code to run in GUI thread here\r\n\t\t\t}//public void run() {\r\n    });\r\n\r\n\r\nDoc: http://developer.android.com/reference/android/app/Activity.html#runOnUiThread%28java.lang.Runnable%29\r\n\r\nHope this is what you are looking for.","title":"Running code in main thread from another thread","body":"<p>As a commenter below pointed correctly, this is not a general solution for services, only for threads launched from your activity (a service can be such a thread, but not all of those are).\nOn the complicated topic of service-activity communication please read the whole Services section of the official doc - it is complex, so it would pay to understand the basics:\n<a href=\"http://developer.android.com/guide/components/services.html#Notifications\" rel=\"noreferrer\">http://developer.android.com/guide/components/services.html#Notifications</a></p>\n<p>The method below may work in the simplest cases:</p>\n<p>If I understand you correctly you need some code to be executed in the GUI thread of the application (cannot think about anything else called &quot;main&quot; thread).\nFor this there is a method on <code>Activity</code>:</p>\n<pre><code>someActivity.runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n           //Your code to run in GUI thread here\n        }//public void run() {\n});\n</code></pre>\n<p>Doc: <a href=\"http://developer.android.com/reference/android/app/Activity.html#runOnUiThread%28java.lang.Runnable%29\" rel=\"noreferrer\">http://developer.android.com/reference/android/app/Activity.html#runOnUiThread%28java.lang.Runnable%29</a></p>\n<p>Hope this is what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":2302609,"reputation":8002,"user_id":2022586,"display_name":"Alexander Volkov"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1380274049,"creation_date":1380274049,"answer_id":19047284,"question_id":11123621,"body_markdown":"If you run code in a thread, e.g. do delaying some action, then you need to invoke `runOnUiThread` from the context. For example, if your code is inside `MainActivity` class then use this:\r\n\r\n    MainActivity.this.runOnUiThread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n\t        myAction();\r\n        }\r\n    });\r\n\r\nIf your method can be invoked either from main (UI thread) or from other threads you need a check like:\r\n\r\n    public void myMethod() {\r\n       if( Looper.myLooper() == Looper.getMainLooper() ) {\r\n           myAction();\r\n       }\r\n       else {\r\n       \r\n    }","title":"Running code in main thread from another thread","body":"<p>If you run code in a thread, e.g. do delaying some action, then you need to invoke <code>runOnUiThread</code> from the context. For example, if your code is inside <code>MainActivity</code> class then use this:</p>\n\n<pre><code>MainActivity.this.runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n        myAction();\n    }\n});\n</code></pre>\n\n<p>If your method can be invoked either from main (UI thread) or from other threads you need a check like:</p>\n\n<pre><code>public void myMethod() {\n   if( Looper.myLooper() == Looper.getMainLooper() ) {\n       myAction();\n   }\n   else {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6111754,"reputation":443,"user_id":4767922,"display_name":"tema_man"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1451404406,"creation_date":1435907747,"answer_id":31200810,"question_id":11123621,"body_markdown":"There is another simple way, if you don&#39;t have an access to the Context.\r\n\r\n1). Create a handler from the main looper:\r\n\r\n    Handler uiHandler = new Handler(Looper.getMainLooper());\r\n\r\n2). Implement a Runnable interface:\r\n\r\n    Runnable runnable = new Runnable() { // your code here }\r\n\r\n3). Post your Runnable to the uiHandler:\r\n\r\n    uiHandler.post(runnable);\r\n\r\nThat&#39;s all ;-) Have fun with threads, but don&#39;t forget to synchronize them.\r\n   \r\n\r\n ","title":"Running code in main thread from another thread","body":"<p>There is another simple way, if you don't have an access to the Context.</p>\n\n<p>1). Create a handler from the main looper:</p>\n\n<pre><code>Handler uiHandler = new Handler(Looper.getMainLooper());\n</code></pre>\n\n<p>2). Implement a Runnable interface:</p>\n\n<pre><code>Runnable runnable = new Runnable() { // your code here }\n</code></pre>\n\n<p>3). Post your Runnable to the uiHandler:</p>\n\n<pre><code>uiHandler.post(runnable);\n</code></pre>\n\n<p>That's all ;-) Have fun with threads, but don't forget to synchronize them.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1507548771,"creation_date":1494333610,"answer_id":43870099,"question_id":11123621,"body_markdown":"`HandlerThread` is better option to normal java Threads in Android .\r\n\r\n\r\n1. Create a [HandlerThread][1] and start it\r\n2. Create a [Handler][2] with [Looper][3] from HandlerThread :`requestHandler`\r\n3. `post` a `Runnable` task on `requestHandler`\r\n\r\nCommunication with UI Thread from `HandlerThread`\r\n\r\n1. Create a `Handler` with `Looper` for main thread  :  `responseHandler` and override `handleMessage` method\r\n2. Inside `Runnable` task of other Thread ( `HandlerThread` in this case), call `sendMessage` on `responseHandler`\r\n3. This `sendMessage` result invocation of `handleMessage` in `responseHandler`.\r\n4. Get attributes from the `Message` and process it, update UI\r\n\r\n**Example**: Update `TextView` with data received from a web service. Since web service should be invoked on non-UI thread, created `HandlerThread` for Network Operation. Once you get the content from the web service, send message to your main thread (UI Thread) handler and that `Handler` will handle the message and update UI.\r\n\r\nSample code:\r\n\r\n    HandlerThread handlerThread = new HandlerThread(&quot;NetworkOperation&quot;);\r\n    handlerThread.start();\r\n    Handler requestHandler = new Handler(handlerThread.getLooper());\r\n\r\n    final Handler responseHandler = new Handler(Looper.getMainLooper()) {\r\n        @Override\r\n        public void handleMessage(Message msg) {\r\n            txtView.setText((String) msg.obj);\r\n        }\r\n    };\r\n\r\n    Runnable myRunnable = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                Log.d(&quot;Runnable&quot;, &quot;Before IO call&quot;);\r\n                URL page = new URL(&quot;http://www.your_web_site.com/fetchData.jsp&quot;);\r\n                StringBuffer text = new StringBuffer();\r\n                HttpURLConnection conn = (HttpURLConnection) page.openConnection();\r\n                conn.connect();\r\n                InputStreamReader in = new InputStreamReader((InputStream) conn.getContent());\r\n                BufferedReader buff = new BufferedReader(in);\r\n                String line;\r\n                while ((line = buff.readLine()) != null) {\r\n                    text.append(line + &quot;\\n&quot;);\r\n                }\r\n                Log.d(&quot;Runnable&quot;, &quot;After IO call:&quot;+ text.toString());\r\n                Message msg = new Message();\r\n                msg.obj = text.toString();\r\n                responseHandler.sendMessage(msg);\r\n\r\n\r\n            } catch (Exception err) {\r\n                err.printStackTrace();\r\n            }\r\n        }\r\n    };\r\n    requestHandler.post(myRunnable);\r\n\r\nUseful articles:\r\n\r\n[handlerthreads-and-why-you-should-be-using-them-in-your-android-apps][4]\r\n\r\n[android-looper-handler-handlerthread-i][5]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/HandlerThread.html\r\n  [2]: https://developer.android.com/reference/android/os/Handler.html\r\n  [3]: https://developer.android.com/reference/android/os/Looper.html\r\n  [4]: https://medium.com/@ali.muzaffar/handlerthreads-and-why-you-should-be-using-them-in-your-android-apps-dc8bf1540341\r\n  [5]: https://blog.nikitaog.me/2014/10/11/android-looper-handler-handlerthread-i/","title":"Running code in main thread from another thread","body":"<p><code>HandlerThread</code> is better option to normal java Threads in Android .</p>\n\n<ol>\n<li>Create a <a href=\"https://developer.android.com/reference/android/os/HandlerThread.html\" rel=\"noreferrer\">HandlerThread</a> and start it</li>\n<li>Create a <a href=\"https://developer.android.com/reference/android/os/Handler.html\" rel=\"noreferrer\">Handler</a> with <a href=\"https://developer.android.com/reference/android/os/Looper.html\" rel=\"noreferrer\">Looper</a> from HandlerThread :<code>requestHandler</code></li>\n<li><code>post</code> a <code>Runnable</code> task on <code>requestHandler</code></li>\n</ol>\n\n<p>Communication with UI Thread from <code>HandlerThread</code></p>\n\n<ol>\n<li>Create a <code>Handler</code> with <code>Looper</code> for main thread  :  <code>responseHandler</code> and override <code>handleMessage</code> method</li>\n<li>Inside <code>Runnable</code> task of other Thread ( <code>HandlerThread</code> in this case), call <code>sendMessage</code> on <code>responseHandler</code></li>\n<li>This <code>sendMessage</code> result invocation of <code>handleMessage</code> in <code>responseHandler</code>.</li>\n<li>Get attributes from the <code>Message</code> and process it, update UI</li>\n</ol>\n\n<p><strong>Example</strong>: Update <code>TextView</code> with data received from a web service. Since web service should be invoked on non-UI thread, created <code>HandlerThread</code> for Network Operation. Once you get the content from the web service, send message to your main thread (UI Thread) handler and that <code>Handler</code> will handle the message and update UI.</p>\n\n<p>Sample code:</p>\n\n<pre><code>HandlerThread handlerThread = new HandlerThread(\"NetworkOperation\");\nhandlerThread.start();\nHandler requestHandler = new Handler(handlerThread.getLooper());\n\nfinal Handler responseHandler = new Handler(Looper.getMainLooper()) {\n    @Override\n    public void handleMessage(Message msg) {\n        txtView.setText((String) msg.obj);\n    }\n};\n\nRunnable myRunnable = new Runnable() {\n    @Override\n    public void run() {\n        try {\n            Log.d(\"Runnable\", \"Before IO call\");\n            URL page = new URL(\"http://www.your_web_site.com/fetchData.jsp\");\n            StringBuffer text = new StringBuffer();\n            HttpURLConnection conn = (HttpURLConnection) page.openConnection();\n            conn.connect();\n            InputStreamReader in = new InputStreamReader((InputStream) conn.getContent());\n            BufferedReader buff = new BufferedReader(in);\n            String line;\n            while ((line = buff.readLine()) != null) {\n                text.append(line + \"\\n\");\n            }\n            Log.d(\"Runnable\", \"After IO call:\"+ text.toString());\n            Message msg = new Message();\n            msg.obj = text.toString();\n            responseHandler.sendMessage(msg);\n\n\n        } catch (Exception err) {\n            err.printStackTrace();\n        }\n    }\n};\nrequestHandler.post(myRunnable);\n</code></pre>\n\n<p>Useful articles:</p>\n\n<p><a href=\"https://medium.com/@ali.muzaffar/handlerthreads-and-why-you-should-be-using-them-in-your-android-apps-dc8bf1540341\" rel=\"noreferrer\">handlerthreads-and-why-you-should-be-using-them-in-your-android-apps</a></p>\n\n<p><a href=\"https://blog.nikitaog.me/2014/10/11/android-looper-handler-handlerthread-i/\" rel=\"noreferrer\">android-looper-handler-handlerthread-i</a></p>\n"},{"tags":[],"owner":{"account_id":12444641,"reputation":2168,"user_id":9061224,"display_name":"MarGin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519100593,"creation_date":1519047773,"answer_id":48867552,"question_id":11123621,"body_markdown":"Follow this method. Using this way you can simply update the UI from a background thread. runOnUiThread work on the main(UI) thread . I think this code snippet is less complex and easy, especially for beginners.\r\n\r\n\r\n  \r\n\r\n    AsyncTask.execute(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n\r\n                //code you want to run on the background\r\n                someCode();\r\n\r\n               //the code you want to run on main thread\r\n     MainActivity.this.runOnUiThread(new Runnable() {\r\n\r\n                        public void run() {\r\n\r\n    /*the code you want to run after the background operation otherwise they will executed earlier and give you an error*/\r\n                            executeAfterOperation();\r\n                           \r\n                       }\r\n                    });\r\n                }\r\n            });\r\n\r\n\r\n\r\nin the case of a service\r\n\r\ncreate a handler in the oncreate\r\n\r\n     handler = new Handler();\r\n\r\nthen use it like this\r\n\r\n \r\n\r\n     private void runOnUiThread(Runnable runnable) {\r\n            handler.post(runnable);\r\n        }\r\n\r\n","title":"Running code in main thread from another thread","body":"<p>Follow this method. Using this way you can simply update the UI from a background thread. runOnUiThread work on the main(UI) thread . I think this code snippet is less complex and easy, especially for beginners.</p>\n\n<pre><code>AsyncTask.execute(new Runnable() {\n            @Override\n            public void run() {\n\n            //code you want to run on the background\n            someCode();\n\n           //the code you want to run on main thread\n MainActivity.this.runOnUiThread(new Runnable() {\n\n                    public void run() {\n\n/*the code you want to run after the background operation otherwise they will executed earlier and give you an error*/\n                        executeAfterOperation();\n\n                   }\n                });\n            }\n        });\n</code></pre>\n\n<p>in the case of a service</p>\n\n<p>create a handler in the oncreate</p>\n\n<pre><code> handler = new Handler();\n</code></pre>\n\n<p>then use it like this</p>\n\n<pre><code> private void runOnUiThread(Runnable runnable) {\n        handler.post(runnable);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5002283,"reputation":2557,"user_id":4020917,"display_name":"david m lee"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1529997310,"creation_date":1519148770,"answer_id":48891290,"question_id":11123621,"body_markdown":"A condensed code block is as follows:\r\n\r\n       new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n           @Override\r\n           public void run() {\r\n               // things to do on the main thread\r\n           }\r\n       });\r\n\r\nThis does not involve passing down the Activity reference or the Application reference.\r\n\r\nKotlin Equivalent:\r\n\r\n\t\tHandler(Looper.getMainLooper()).post(Runnable {\r\n\t\t\t// things to do on the main thread\r\n\t\t})","title":"Running code in main thread from another thread","body":"<p>A condensed code block is as follows:</p>\n\n<pre><code>   new Handler(Looper.getMainLooper()).post(new Runnable() {\n       @Override\n       public void run() {\n           // things to do on the main thread\n       }\n   });\n</code></pre>\n\n<p>This does not involve passing down the Activity reference or the Application reference.</p>\n\n<p>Kotlin Equivalent:</p>\n\n<pre><code>    Handler(Looper.getMainLooper()).post(Runnable {\n        // things to do on the main thread\n    })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1756654,"reputation":711,"user_id":1604528,"display_name":"mevdev"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1548927341,"creation_date":1529013926,"answer_id":50866577,"question_id":11123621,"body_markdown":"I know this is an old question, but I came across a main thread one-liner that I use in both Kotlin and Java. This may not be the best solution for a service, but for calling something that will change the UI inside of a fragment this is extremely simple and obvious.\r\n\r\nJava (8):\r\n\r\n     getActivity().runOnUiThread(()-&gt;{\r\n          //your main thread code\r\n     });\r\n\r\nKotlin:\r\n\r\n    this.runOnUiThread {\r\n         //your main thread code\r\n    }","title":"Running code in main thread from another thread","body":"<p>I know this is an old question, but I came across a main thread one-liner that I use in both Kotlin and Java. This may not be the best solution for a service, but for calling something that will change the UI inside of a fragment this is extremely simple and obvious.</p>\n\n<p>Java (8):</p>\n\n<pre><code> getActivity().runOnUiThread(()-&gt;{\n      //your main thread code\n });\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>this.runOnUiThread {\n     //your main thread code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5992812,"reputation":1,"user_id":4708442,"display_name":"Revelation A.F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535031267,"creation_date":1535027061,"answer_id":51985755,"question_id":11123621,"body_markdown":"    public void mainWork() {\r\n        new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                //Add Your Code Here\r\n            }\r\n        });\r\n    }\r\n\r\nThis can also work in a service class with no issue.","title":"Running code in main thread from another thread","body":"<pre><code>public void mainWork() {\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\n        @Override\n        public void run() {\n            //Add Your Code Here\n        }\n    });\n}\n</code></pre>\n\n<p>This can also work in a service class with no issue.</p>\n"},{"tags":[],"owner":{"account_id":5475193,"reputation":6876,"user_id":4353365,"display_name":"Francis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539346933,"creation_date":1537171249,"answer_id":52363213,"question_id":11123621,"body_markdown":"for Kotlin, you can use [Anko corountines][1]:\r\n\r\n**update**\r\n\r\n    doAsync {\r\n       ...\r\n    }\r\n\r\n**deprecated** \r\n\r\n    async(UI) {\r\n        // Code run on UI thread\r\n        // Use ref() instead of this@MyActivity\r\n    }\r\n\r\n\r\n  [1]: https://github.com/Kotlin/anko/wiki/Anko-Coroutines\r\n","title":"Running code in main thread from another thread","body":"<p>for Kotlin, you can use <a href=\"https://github.com/Kotlin/anko/wiki/Anko-Coroutines\" rel=\"nofollow noreferrer\">Anko corountines</a>:</p>\n\n<p><strong>update</strong></p>\n\n<pre><code>doAsync {\n   ...\n}\n</code></pre>\n\n<p><strong>deprecated</strong> </p>\n\n<pre><code>async(UI) {\n    // Code run on UI thread\n    // Use ref() instead of this@MyActivity\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":159669,"reputation":2094,"user_id":379226,"accept_rate":37,"display_name":"Inn0vative1"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1540871641,"creation_date":1540871641,"answer_id":53057172,"question_id":11123621,"body_markdown":"The simplest way especially if you don&#39;t have a context, if you&#39;re using RxAndroid you can do:\r\n\r\n    AndroidSchedulers.mainThread().scheduleDirect {\r\n        runCodeHere()\r\n    }","title":"Running code in main thread from another thread","body":"<p>The simplest way especially if you don't have a context, if you're using RxAndroid you can do:</p>\n\n<pre><code>AndroidSchedulers.mainThread().scheduleDirect {\n    runCodeHere()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8312718,"reputation":2819,"user_id":6247186,"display_name":"Hamed Jaliliani"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1547463857,"creation_date":1547463857,"answer_id":54180268,"question_id":11123621,"body_markdown":"More precise Kotlin code using handler :\r\n\r\n    Handler(Looper.getMainLooper()).post {  \r\n     // your codes here run on main Thread\r\n     }\r\n\r\n ","title":"Running code in main thread from another thread","body":"<p>More precise Kotlin code using handler :</p>\n\n<pre><code>Handler(Looper.getMainLooper()).post {  \n // your codes here run on main Thread\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38492,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"down_vote_count":0,"up_vote_count":96,"is_accepted":false,"score":96,"last_activity_date":1687335076,"creation_date":1562069643,"answer_id":56852228,"question_id":11123621,"body_markdown":"## Kotlin versions\r\nWhen **you are on an activity**, then use\r\n\r\n    runOnUiThread {\r\n        //code that runs in main\r\n    }\r\n\r\nWhen **you have activity context**, mContext then use\r\n\r\n    mContext.runOnUiThread {\r\n        //code that runs in main\r\n    }\r\nWhen you are in somewhere **outside activity** where **no context available**, then use\r\n\r\n    Handler(Looper.getMainLooper()).post {  \r\n        //code that runs in main\r\n    }","title":"Running code in main thread from another thread","body":"<h2>Kotlin versions</h2>\n<p>When <strong>you are on an activity</strong>, then use</p>\n<pre><code>runOnUiThread {\n    //code that runs in main\n}\n</code></pre>\n<p>When <strong>you have activity context</strong>, mContext then use</p>\n<pre><code>mContext.runOnUiThread {\n    //code that runs in main\n}\n</code></pre>\n<p>When you are in somewhere <strong>outside activity</strong> where <strong>no context available</strong>, then use</p>\n<pre><code>Handler(Looper.getMainLooper()).post {  \n    //code that runs in main\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628898,"reputation":4638,"user_id":1503855,"accept_rate":62,"display_name":"HotJard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571651500,"creation_date":1571651500,"answer_id":58483787,"question_id":11123621,"body_markdown":"So most handy is to do sort of:\r\n\r\n    import android.os.AsyncTask\r\n    import android.os.Handler\r\n    import android.os.Looper\r\n    \r\n    object Dispatch {\r\n        fun asyncOnBackground(call: ()-&gt;Unit) {\r\n            AsyncTask.execute {\r\n                call()\r\n            }\r\n        }\r\n    \r\n        fun asyncOnMain(call: ()-&gt;Unit) {\r\n            Handler(Looper.getMainLooper()).post {\r\n                call()\r\n            }\r\n        }\r\n    }\r\n\r\nAnd after:\r\n\r\n    Dispatch.asyncOnBackground {\r\n        val value = ...// super processing\r\n        Dispatch.asyncOnMain { completion(value)}\r\n    }","title":"Running code in main thread from another thread","body":"<p>So most handy is to do sort of:</p>\n\n<pre><code>import android.os.AsyncTask\nimport android.os.Handler\nimport android.os.Looper\n\nobject Dispatch {\n    fun asyncOnBackground(call: ()-&gt;Unit) {\n        AsyncTask.execute {\n            call()\n        }\n    }\n\n    fun asyncOnMain(call: ()-&gt;Unit) {\n        Handler(Looper.getMainLooper()).post {\n            call()\n        }\n    }\n}\n</code></pre>\n\n<p>And after:</p>\n\n<pre><code>Dispatch.asyncOnBackground {\n    val value = ...// super processing\n    Dispatch.asyncOnMain { completion(value)}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1631521105,"creation_date":1631521105,"answer_id":69159394,"question_id":11123621,"body_markdown":"```kotlin\r\nContextCompat.getMainExecutor(context).execute {\r\n  // do something\r\n}\r\n```","title":"Running code in main thread from another thread","body":"<pre class=\"lang-kotlin prettyprint-override\"><code>ContextCompat.getMainExecutor(context).execute {\n  // do something\n}\n</code></pre>\n"}],"owner":{"account_id":1218251,"reputation":14573,"user_id":1185422,"accept_rate":62,"display_name":"Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363711,"favorite_count":0,"down_vote_count":1,"up_vote_count":394,"accepted_answer_id":11125271,"answer_count":16,"score":393,"last_activity_date":1687335076,"creation_date":1340208431,"question_id":11123621,"body_markdown":"In an android service I have created thread(s) for doing some background task. \r\n\r\nI have a situation where a thread needs to post certain task on main thread&#39;s message queue, for example a `Runnable`.\r\n\r\nIs there a way to get `Handler` of the main thread and post `Message`/`Runnable` to it from my other thread?","title":"Running code in main thread from another thread","body":"<p>In an android service I have created thread(s) for doing some background task.</p>\n<p>I have a situation where a thread needs to post certain task on main thread's message queue, for example a <code>Runnable</code>.</p>\n<p>Is there a way to get <code>Handler</code> of the main thread and post <code>Message</code>/<code>Runnable</code> to it from my other thread?</p>\n"},{"tags":["java","stream"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687334908,"creation_date":1687334908,"answer_id":76521219,"question_id":76520340,"body_markdown":"Use the key to get the value from the map and set the value:\r\n```\r\nreponses.stream().forEach(r -&gt; r.setError_msg(errorMapping.get(r.getError_msg())));\r\n```\r\nThis does not take into account the possibility, that the key does not exist in the map(your question does not specify, if that&#39;s possible scenario).\r\n\r\nAdditionally using stream for this is an overkill, simple loop would do the job and is probably more readable.","title":"streams, java8 , List to map compare and find a value","body":"<p>Use the key to get the value from the map and set the value:</p>\n<pre><code>reponses.stream().forEach(r -&gt; r.setError_msg(errorMapping.get(r.getError_msg())));\n</code></pre>\n<p>This does not take into account the possibility, that the key does not exist in the map(your question does not specify, if that's possible scenario).</p>\n<p>Additionally using stream for this is an overkill, simple loop would do the job and is probably more readable.</p>\n"}],"owner":{"account_id":7385409,"reputation":1,"user_id":20288583,"display_name":"user145345"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687334908,"creation_date":1687326971,"question_id":76520340,"body_markdown":"I have list of and a map , I need to match the value of list in the map and replace the list value with the map value .\r\nBasically I need to replace my error_msg from Reponses with the value present in the errormapping\r\n\r\n    private Map&lt;String, String&gt; errormapping;\r\n\r\n    private List&lt;Reponses&gt; reponse;\r\n\r\n    public class Reponses{\r\n\r\n    private String id;\r\n    private String error_msg;\r\n    }\r\n    reponse.stream().forEach(e-&gt;e.getError_msg())\r\n\r\nKind of stuck here","title":"streams, java8 , List to map compare and find a value","body":"<p>I have list of and a map , I need to match the value of list in the map and replace the list value with the map value .\nBasically I need to replace my error_msg from Reponses with the value present in the errormapping</p>\n<pre><code>private Map&lt;String, String&gt; errormapping;\n\nprivate List&lt;Reponses&gt; reponse;\n\npublic class Reponses{\n\nprivate String id;\nprivate String error_msg;\n}\nreponse.stream().forEach(e-&gt;e.getError_msg())\n</code></pre>\n<p>Kind of stuck here</p>\n"},{"tags":["java","spring","file","swagger"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687196900,"post_id":76508870,"comment_id":134900131,"body_markdown":"Do you use Springfox or Springdoc, and which version?","body":"Do you use Springfox or Springdoc, and which version?"},{"owner":{"account_id":28409011,"reputation":25,"user_id":21732649,"display_name":"FischKopp"},"score":0,"creation_date":1687198101,"post_id":76508870,"comment_id":134900347,"body_markdown":"I am using Springdoc 2.0.","body":"I am using Springdoc 2.0."},{"owner":{"account_id":28409011,"reputation":25,"user_id":21732649,"display_name":"FischKopp"},"score":0,"creation_date":1687198985,"post_id":76508870,"comment_id":134900512,"body_markdown":"...and also tried 2.1.0","body":"...and also tried 2.1.0"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687203601,"post_id":76508870,"comment_id":134901199,"body_markdown":"If you change `produces` to `consumes`, does it resolve the issue?","body":"If you change <code>produces</code> to <code>consumes</code>, does it resolve the issue?"},{"owner":{"account_id":28409011,"reputation":25,"user_id":21732649,"display_name":"FischKopp"},"score":0,"creation_date":1687210248,"post_id":76508870,"comment_id":134902128,"body_markdown":"yes that did the job!! Thank you!!","body":"yes that did the job!! Thank you!!"}],"answers":[{"tags":[],"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687334831,"creation_date":1687334831,"answer_id":76521210,"question_id":76508870,"body_markdown":"In the `@RequestMapping` annotation, replace\r\n\r\n```\r\n    produces = {\r\n        &quot;multipart/form-data&quot;\r\n    }\r\n```\r\n\r\nwith\r\n\r\n```\r\n    consumes = {\r\n        &quot;multipart/form-data&quot;\r\n    }\r\n```\r\n\r\n`consumes` defines the _request_ media type, whereas `produces` defines the _response_ media type.","title":"Java Spring Swagger file upload","body":"<p>In the <code>@RequestMapping</code> annotation, replace</p>\n<pre><code>    produces = {\n        &quot;multipart/form-data&quot;\n    }\n</code></pre>\n<p>with</p>\n<pre><code>    consumes = {\n        &quot;multipart/form-data&quot;\n    }\n</code></pre>\n<p><code>consumes</code> defines the <em>request</em> media type, whereas <code>produces</code> defines the <em>response</em> media type.</p>\n"}],"owner":{"account_id":28409011,"reputation":25,"user_id":21732649,"display_name":"FischKopp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76521210,"answer_count":1,"score":1,"last_activity_date":1687334831,"creation_date":1687195698,"question_id":76508870,"body_markdown":"I have a file upload in my java spring app. But it does not show a file upload in swagger. What can I do?\r\n\r\nI tried this and the one in the comment below..\r\n\r\n```java\r\n@RequestMapping(\r\n    value = &quot;/add&quot;,\r\n    method = POST,\r\n    produces = {\r\n        &quot;multipart/form-data&quot;\r\n    }\r\n)\r\npublic void addFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws ServerException, InsufficientDataException, ErrorResponseException, IOException, NoSuchAlgorithmException, InvalidKeyException, InvalidResponseException, XmlParserException, InternalException {\r\n        fileservice.AddAttachment(file);\r\n}\r\n```","title":"Java Spring Swagger file upload","body":"<p>I have a file upload in my java spring app. But it does not show a file upload in swagger. What can I do?</p>\n<p>I tried this and the one in the comment below..</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(\n    value = &quot;/add&quot;,\n    method = POST,\n    produces = {\n        &quot;multipart/form-data&quot;\n    }\n)\npublic void addFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws ServerException, InsufficientDataException, ErrorResponseException, IOException, NoSuchAlgorithmException, InvalidKeyException, InvalidResponseException, XmlParserException, InternalException {\n        fileservice.AddAttachment(file);\n}\n</code></pre>\n"},{"tags":["java","velocity","getter-setter","apache-velocity"],"owner":{"account_id":15065077,"reputation":67,"user_id":10872496,"display_name":"MrMyth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687334617,"creation_date":1687334617,"question_id":76521196,"body_markdown":"I am trying to create custom Getters using Velocity Template that are annotated with a `@Generated` annotation.\r\n\r\nMy current template looks like this:\r\n```java\r\n#if($field.recordComponent)\r\n@Generated\r\npublic ${field.type} ${field.name}() {\r\nreturn this.${field.name};\r\n}\r\n#else\r\n    #set($getterName = $StringUtil.capitalizeWithJavaBeanConvention($field.name))\r\n    #if($field.boolean)\r\n        #set($getterPrefix = &quot;is&quot;)\r\n    #else\r\n        #set($getterPrefix = &quot;get&quot;)\r\n    #end\r\n@Generated\r\npublic ${field.type} ${getterPrefix}${getterName}() {\r\nreturn this.${field.name};\r\n}\r\n#end\r\n```\r\n\r\nNow without the whole conditional part, e.g. setting `getterPrefix` just to the boolean value of `field.boolean`, it assigns true/false to the variable correctly, and also generates the code snippet.\r\n\r\nHowever, once I try to add the conditional elements with #if, #else, #end as seen in my code above, it breaks and just shows the  following error popup: &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QAYgc.png\r\n\r\nIf you have any suggestions or idea on why that might be, or how I could generally improve my VT, please feel free to respond!\r\n\r\nThanks in advance!","title":"Why does my Velocity Template conditional assignment not work properly?","body":"<p>I am trying to create custom Getters using Velocity Template that are annotated with a <code>@Generated</code> annotation.</p>\n<p>My current template looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>#if($field.recordComponent)\n@Generated\npublic ${field.type} ${field.name}() {\nreturn this.${field.name};\n}\n#else\n    #set($getterName = $StringUtil.capitalizeWithJavaBeanConvention($field.name))\n    #if($field.boolean)\n        #set($getterPrefix = &quot;is&quot;)\n    #else\n        #set($getterPrefix = &quot;get&quot;)\n    #end\n@Generated\npublic ${field.type} ${getterPrefix}${getterName}() {\nreturn this.${field.name};\n}\n#end\n</code></pre>\n<p>Now without the whole conditional part, e.g. setting <code>getterPrefix</code> just to the boolean value of <code>field.boolean</code>, it assigns true/false to the variable correctly, and also generates the code snippet.</p>\n<p>However, once I try to add the conditional elements with #if, #else, #end as seen in my code above, it breaks and just shows the  following error popup: <br>\n<a href=\"https://i.stack.imgur.com/QAYgc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QAYgc.png\" alt=\"enter image description here\" /></a></p>\n<p>If you have any suggestions or idea on why that might be, or how I could generally improve my VT, please feel free to respond!</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1687282175,"post_id":76517117,"comment_id":134913832,"body_markdown":"Why would you want to mock it? It&#39;s part of the class you&#39;re testing.","body":"Why would you want to mock it? It&#39;s part of the class you&#39;re testing."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687283051,"creation_date":1687283051,"answer_id":76517239,"question_id":76517117,"body_markdown":"I have never figured out how to mock super;\r\nI&#39;m not saying that it is impossible,\r\njust that I have never done it.\r\n\r\nInstead,\r\nI identify the dependencies of the super and mock those.\r\nFor example,\r\nin your case you might want to mock the repository from which the UserForUUID reads (assuming that it reads from a repository).","title":"Mocking super return value in JUnit test","body":"<p>I have never figured out how to mock super;\nI'm not saying that it is impossible,\njust that I have never done it.</p>\n<p>Instead,\nI identify the dependencies of the super and mock those.\nFor example,\nin your case you might want to mock the repository from which the UserForUUID reads (assuming that it reads from a repository).</p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687334470,"creation_date":1687334470,"answer_id":76521183,"question_id":76517117,"body_markdown":"This is amongst the reasons why you should [favor composition over inheritance](https://en.wikipedia.org/wiki/Composition_over_inheritance). The way you design it, you _shouldn&#39;t_ mock the super call because it&#39;s part of the tested class&#39; behavior.\r\n\r\nRather than extending the existing user service, use it as a data source, then you can mock it.\r\n\r\nAs in\r\n\r\n```\r\npublic class CustomerUserService implements SlpUserService {\r\n  private final SlpUserService sourceService;\r\n  public CustomerUserService(SlpUserService source) {\r\n    sourceService = source; // rather than super(source)\r\n  }\r\n\r\n  @Override\r\n  public User getUserForID(final String userId) {\r\n    User user = sourceService.getUserForUID(userId);\r\n    // work with user\r\n  }\r\n}\r\n```\r\n\r\nThen you can mock the `DefaultUserService` easily - in fact, you can pass in any `SlpUserService` implementation, making it more flexible..\r\n\r\nYou can of course always overengineer and also extract the &quot;work with user object&quot; part.\r\n\r\n```\r\nclass UserProcessor implements SlpUserService {\r\n  private final SlpUserService sourceService;\r\n  private final Consumer&lt;User&gt; processor;\r\n\r\n  // constructor tbd\r\n  @Override\r\n  public User getUserForID(final String userId) {\r\n    User user = sourceService.getUserForUID(userId);\r\n    processor.accept(user);\r\n    return user;\r\n  }\r\n}\r\n```\r\n\r\nThen you only need to verify that 1. the passed in user service is used as a data source and 2. the user it provides is passed to the consumer for processing after returning it. This way, you can unit test the concrete user service and actual processing part separately.","title":"Mocking super return value in JUnit test","body":"<p>This is amongst the reasons why you should <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">favor composition over inheritance</a>. The way you design it, you <em>shouldn't</em> mock the super call because it's part of the tested class' behavior.</p>\n<p>Rather than extending the existing user service, use it as a data source, then you can mock it.</p>\n<p>As in</p>\n<pre><code>public class CustomerUserService implements SlpUserService {\n  private final SlpUserService sourceService;\n  public CustomerUserService(SlpUserService source) {\n    sourceService = source; // rather than super(source)\n  }\n\n  @Override\n  public User getUserForID(final String userId) {\n    User user = sourceService.getUserForUID(userId);\n    // work with user\n  }\n}\n</code></pre>\n<p>Then you can mock the <code>DefaultUserService</code> easily - in fact, you can pass in any <code>SlpUserService</code> implementation, making it more flexible..</p>\n<p>You can of course always overengineer and also extract the &quot;work with user object&quot; part.</p>\n<pre><code>class UserProcessor implements SlpUserService {\n  private final SlpUserService sourceService;\n  private final Consumer&lt;User&gt; processor;\n\n  // constructor tbd\n  @Override\n  public User getUserForID(final String userId) {\n    User user = sourceService.getUserForUID(userId);\n    processor.accept(user);\n    return user;\n  }\n}\n</code></pre>\n<p>Then you only need to verify that 1. the passed in user service is used as a data source and 2. the user it provides is passed to the consumer for processing after returning it. This way, you can unit test the concrete user service and actual processing part separately.</p>\n"}],"owner":{"account_id":28860220,"reputation":7,"user_id":22104184,"display_name":"Joel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1687334470,"creation_date":1687282060,"question_id":76517117,"body_markdown":"I am extending a class and overriding a method. Now I am trying to create Junit tests for the\r\n   CustomerUserService class , here is the code\r\n```\r\npublic class CustomerUserService extends DefaultUserService implements SlpUserService {\r\n\r\n    @Override\r\n    public User getUserForID(final String userId) {\r\n\r\n        User user = super.getUserForUID(userId);\r\n      \r\n\r\n        //work with user object\r\n\r\n```\r\nHow can I mock the return value of  super.getUserForUID(userId); ?\r\n\r\nI want to test the logic in the CustomerUserService#getUserForID and I am trying to mock the  super.getUserForUID(userId); call to return me some User object , however it always calls the real super method and executes the logic there.\r\n\r\nHow can I mock the return value of  super.getUserForUID(userId); ?\r\n\r\nI have declared in my Junit test CustomerUserService to be spy as :\r\n```\r\n    @Spy\r\n    private CustomerUserService customerUserService;\r\n\r\n```","title":"Mocking super return value in JUnit test","body":"<p>I am extending a class and overriding a method. Now I am trying to create Junit tests for the\nCustomerUserService class , here is the code</p>\n<pre><code>public class CustomerUserService extends DefaultUserService implements SlpUserService {\n\n    @Override\n    public User getUserForID(final String userId) {\n\n        User user = super.getUserForUID(userId);\n      \n\n        //work with user object\n\n</code></pre>\n<p>How can I mock the return value of  super.getUserForUID(userId); ?</p>\n<p>I want to test the logic in the CustomerUserService#getUserForID and I am trying to mock the  super.getUserForUID(userId); call to return me some User object , however it always calls the real super method and executes the logic there.</p>\n<p>How can I mock the return value of  super.getUserForUID(userId); ?</p>\n<p>I have declared in my Junit test CustomerUserService to be spy as :</p>\n<pre><code>    @Spy\n    private CustomerUserService customerUserService;\n\n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1687312175,"post_id":76519072,"comment_id":134917727,"body_markdown":"You need to provide far more information, and as it stands your question cannot be answered. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) for general guidelines on improving your question. The biggest single improvement to your question would be to fully detail the steps someone else would have to follow to attempt to replicate your problem.","body":"You need to provide far more information, and as it stands your question cannot be answered. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> for general guidelines on improving your question. The biggest single improvement to your question would be to fully detail the steps someone else would have to follow to attempt to replicate your problem."}],"answers":[{"tags":[],"owner":{"account_id":6874,"reputation":2729,"user_id":11699,"accept_rate":71,"display_name":"Michael Bar-Sinai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687334024,"creation_date":1687334024,"answer_id":76521132,"question_id":76519072,"body_markdown":"The &quot;Run&quot; button is for running the main project (you can define a project as the main one by right-clicking it in the projects tab and selecting &quot;Set as Main Project&quot; from the popup menu).\r\n\r\nTo run a file, select one of these options:\r\n\r\n1. Go to the Run menu, and select &quot;Run File&quot;; or\r\n2. Right click the file in the project pane, and select &quot;run file&quot; from the popup menu.\r\n\r\nNote that the file has to be runnable (i.e. have a class that has a `public static void main(String args[])` method defined).\r\n","title":"Apache NetBeans IDE 18 run project button not functioning","body":"<p>The &quot;Run&quot; button is for running the main project (you can define a project as the main one by right-clicking it in the projects tab and selecting &quot;Set as Main Project&quot; from the popup menu).</p>\n<p>To run a file, select one of these options:</p>\n<ol>\n<li>Go to the Run menu, and select &quot;Run File&quot;; or</li>\n<li>Right click the file in the project pane, and select &quot;run file&quot; from the popup menu.</li>\n</ol>\n<p>Note that the file has to be runnable (i.e. have a class that has a <code>public static void main(String args[])</code> method defined).</p>\n"}],"owner":{"account_id":20676140,"reputation":1,"user_id":22105328,"display_name":"bfofof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687334024,"creation_date":1687305193,"question_id":76519072,"body_markdown":"I am trying to run a file but not matter what I do, I can not even run it. I&#39;ve tried creating new files and adding content there, but no luck. Is there something wrong with my Netbeans? This is what it looks like:\r\n\r\n[The Run Project button is greyed out](https://i.stack.imgur.com/OcoFb.png)\r\n\r\nI tried searching online for an answer, but I could find nothing. I tried restarting the program, but no such luck.","title":"Apache NetBeans IDE 18 run project button not functioning","body":"<p>I am trying to run a file but not matter what I do, I can not even run it. I've tried creating new files and adding content there, but no luck. Is there something wrong with my Netbeans? This is what it looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/OcoFb.png\" rel=\"nofollow noreferrer\">The Run Project button is greyed out</a></p>\n<p>I tried searching online for an answer, but I could find nothing. I tried restarting the program, but no such luck.</p>\n"},{"tags":["java","spring-jdbc","jdbctemplate","db2-9.7"],"comments":[{"owner":{"account_id":3493556,"reputation":4931,"user_id":2922515,"accept_rate":70,"display_name":"Vipin"},"score":0,"creation_date":1462649775,"post_id":37091599,"comment_id":61729398,"body_markdown":"@tamasrev The question you provided says it doesn&#39;t commit, I am saying it commits before even I expect","body":"@tamasrev The question you provided says it doesn&#39;t commit, I am saying it commits before even I expect"},{"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"score":0,"creation_date":1462649854,"post_id":37091599,"comment_id":61729423,"body_markdown":"Oops,  I judged superficially. Sorry, removed the flag.","body":"Oops,  I judged superficially. Sorry, removed the flag."},{"owner":{"account_id":3493556,"reputation":4931,"user_id":2922515,"accept_rate":70,"display_name":"Vipin"},"score":0,"creation_date":1462650200,"post_id":37091599,"comment_id":61729539,"body_markdown":"If I have to apply transactions then what special batch update is doing ? I can do that in single update as well.","body":"If I have to apply transactions then what special batch update is doing ? I can do that in single update as well."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1462788664,"post_id":37091599,"comment_id":61767414,"body_markdown":"Which DBMS are you using? As you can see an increase in the row count it means that the batches do get committed otherwise a `select count(*)` wouldn&#39;t show any changes (or your DBMS doesn&#39;t support transactions)","body":"Which DBMS are you using? As you can see an increase in the row count it means that the batches do get committed otherwise a <code>select count(*)</code> wouldn&#39;t show any changes (or your DBMS doesn&#39;t support transactions)"},{"owner":{"account_id":3493556,"reputation":4931,"user_id":2922515,"accept_rate":70,"display_name":"Vipin"},"score":0,"creation_date":1462789520,"post_id":37091599,"comment_id":61768003,"body_markdown":"@a_horse_with_no_name dbms is db2 9.7, yes batches get committed. For performance point of view i want to my program to interact with db only once. Send data in one shot, commit  in one shot.","body":"@a_horse_with_no_name dbms is db2 9.7, yes batches get committed. For performance point of view i want to my program to interact with db only once. Send data in one shot, commit  in one shot."}],"answers":[{"tags":[],"owner":{"account_id":3058999,"reputation":133,"user_id":2592089,"accept_rate":100,"display_name":"techi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1463527935,"creation_date":1463527935,"answer_id":37287832,"question_id":37091599,"body_markdown":"How about the below method? specify nUpdates =10,000 in your case. I have not tried testing this.please ignore my answer if it does not work.\r\n\r\n    // the batch size is set in the BatchPreparedStatementSetter, the number of rows we want to process is equal to the nbUpdates parameter\r\n    \tpublic int[] batchUpdate(String sql, final long nbUpdates, final BatchPreparedStatementSetter pss) throws DataAccessException {\r\n    \t\tif (logger.isDebugEnabled()) {\r\n    \t\t\tlogger.debug(&quot;Executing SQL batch update [&quot; + sql + &quot;]&quot;);\r\n    \t\t}\r\n     \r\n    \t\treturn (int[]) execute(sql, new PreparedStatementCallback() {\r\n    \t\t\tpublic Object doInPreparedStatement(PreparedStatement ps) throws SQLException {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tint batchSize = pss.getBatchSize();\r\n    \t\t\t\t\tInterruptibleBatchPreparedStatementSetter ipss = (pss instanceof InterruptibleBatchPreparedStatementSetter ? (InterruptibleBatchPreparedStatementSetter) pss\r\n    \t\t\t\t\t\t\t: null);\r\n    \t\t\t\t\tif (JdbcUtils.supportsBatchUpdates(ps.getConnection())) {\r\n    \t\t\t\t\t\tList&lt;Integer&gt; rowsAffected = new ArrayList&lt;Integer&gt;();\r\n    \t\t\t\t\t\tfor (int i = 1; i &lt;= nbUpdates; i++) {\r\n    \t\t\t\t\t\t\tpss.setValues(ps, i - 1);\r\n    \t\t\t\t\t\t\tif (ipss != null &amp;&amp; ipss.isBatchExhausted(i - 1)) {\r\n    \t\t\t\t\t\t\t\tif (logger.isDebugEnabled()) {\r\n    \t\t\t\t\t\t\t\t\tint batchIdx = (i % batchSize == 0) ? i / batchSize : (i / batchSize) + 1;\r\n    \t\t\t\t\t\t\t\t\tlogger.debug(&quot;Batch exhausted - Sending last SQL batch update #&quot; + batchIdx);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\tint[] res = ps.executeBatch();\r\n    \t\t\t\t\t\t\t\tfor (int j = 0; j &lt; res.length; j++) {\r\n    \t\t\t\t\t\t\t\t\trowsAffected.add(res[j]);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\tps.addBatch();\r\n    \t\t\t\t\t\t\tif (i % batchSize == 0 || i == nbUpdates) {\r\n    \t\t\t\t\t\t\t\tif (logger.isDebugEnabled()) {\r\n    \t\t\t\t\t\t\t\t\tint batchIdx = (i % batchSize == 0) ? i / batchSize : (i / batchSize) + 1;\r\n    \t\t\t\t\t\t\t\t\tlogger.debug(&quot;Sending SQL batch update #&quot; + batchIdx);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\tint[] res = ps.executeBatch();\r\n    \t\t\t\t\t\t\t\tfor (int j = 0; j &lt; res.length; j++) {\r\n    \t\t\t\t\t\t\t\t\trowsAffected.add(res[j]);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tint[] result = new int[rowsAffected.size()];\r\n    \t\t\t\t\t\tfor (int i = 0; i &lt; result.length; i++) {\r\n    \t\t\t\t\t\t\tresult[i] = rowsAffected.get(i).intValue();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\treturn result;\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tList&lt;Integer&gt; rowsAffected = new ArrayList&lt;Integer&gt;();\r\n    \t\t\t\t\t\tfor (int i = 0; i &lt; nbUpdates; i++) {\r\n    \t\t\t\t\t\t\tpss.setValues(ps, i);\r\n    \t\t\t\t\t\t\tif (ipss != null &amp;&amp; ipss.isBatchExhausted(i)) {\r\n    \t\t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\trowsAffected.add(ps.executeUpdate());\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tint[] rowsAffectedArray = new int[rowsAffected.size()];\r\n    \t\t\t\t\t\tfor (int i = 0; i &lt; rowsAffectedArray.length; i++) {\r\n    \t\t\t\t\t\t\trowsAffectedArray[i] = rowsAffected.get(i);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\treturn rowsAffectedArray;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} finally {\r\n    \t\t\t\t\tif (pss instanceof ParameterDisposer) {\r\n    \t\t\t\t\t\t((ParameterDisposer) pss).cleanupParameters();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}","title":"Spring jdbcTemaplate how to send complete batch size to DB2 server in one shot?","body":"<p>How about the below method? specify nUpdates =10,000 in your case. I have not tried testing this.please ignore my answer if it does not work.</p>\n\n<pre><code>// the batch size is set in the BatchPreparedStatementSetter, the number of rows we want to process is equal to the nbUpdates parameter\n    public int[] batchUpdate(String sql, final long nbUpdates, final BatchPreparedStatementSetter pss) throws DataAccessException {\n        if (logger.isDebugEnabled()) {\n            logger.debug(\"Executing SQL batch update [\" + sql + \"]\");\n        }\n\n        return (int[]) execute(sql, new PreparedStatementCallback() {\n            public Object doInPreparedStatement(PreparedStatement ps) throws SQLException {\n                try {\n                    int batchSize = pss.getBatchSize();\n                    InterruptibleBatchPreparedStatementSetter ipss = (pss instanceof InterruptibleBatchPreparedStatementSetter ? (InterruptibleBatchPreparedStatementSetter) pss\n                            : null);\n                    if (JdbcUtils.supportsBatchUpdates(ps.getConnection())) {\n                        List&lt;Integer&gt; rowsAffected = new ArrayList&lt;Integer&gt;();\n                        for (int i = 1; i &lt;= nbUpdates; i++) {\n                            pss.setValues(ps, i - 1);\n                            if (ipss != null &amp;&amp; ipss.isBatchExhausted(i - 1)) {\n                                if (logger.isDebugEnabled()) {\n                                    int batchIdx = (i % batchSize == 0) ? i / batchSize : (i / batchSize) + 1;\n                                    logger.debug(\"Batch exhausted - Sending last SQL batch update #\" + batchIdx);\n                                }\n                                int[] res = ps.executeBatch();\n                                for (int j = 0; j &lt; res.length; j++) {\n                                    rowsAffected.add(res[j]);\n                                }\n                                break;\n                            }\n                            ps.addBatch();\n                            if (i % batchSize == 0 || i == nbUpdates) {\n                                if (logger.isDebugEnabled()) {\n                                    int batchIdx = (i % batchSize == 0) ? i / batchSize : (i / batchSize) + 1;\n                                    logger.debug(\"Sending SQL batch update #\" + batchIdx);\n                                }\n                                int[] res = ps.executeBatch();\n                                for (int j = 0; j &lt; res.length; j++) {\n                                    rowsAffected.add(res[j]);\n                                }\n                            }\n                        }\n                        int[] result = new int[rowsAffected.size()];\n                        for (int i = 0; i &lt; result.length; i++) {\n                            result[i] = rowsAffected.get(i).intValue();\n                        }\n                        return result;\n                    } else {\n                        List&lt;Integer&gt; rowsAffected = new ArrayList&lt;Integer&gt;();\n                        for (int i = 0; i &lt; nbUpdates; i++) {\n                            pss.setValues(ps, i);\n                            if (ipss != null &amp;&amp; ipss.isBatchExhausted(i)) {\n                                break;\n                            }\n                            rowsAffected.add(ps.executeUpdate());\n                        }\n                        int[] rowsAffectedArray = new int[rowsAffected.size()];\n                        for (int i = 0; i &lt; rowsAffectedArray.length; i++) {\n                            rowsAffectedArray[i] = rowsAffected.get(i);\n                        }\n                        return rowsAffectedArray;\n                    }\n                } finally {\n                    if (pss instanceof ParameterDisposer) {\n                        ((ParameterDisposer) pss).cleanupParameters();\n                    }\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687333421,"creation_date":1687333421,"answer_id":76521039,"question_id":37091599,"body_markdown":"Maybe try this set even though I only see it compatible with MySQL\r\nAnd also upgrade your DB2 jdbc driver version\r\n\r\n```\r\nspring.datasource.hikari.data-source-properties.useConfigs=maxPerformance\r\nspring.datasource.hikari.data-source-properties.rewriteBatchedStatements=true\r\n```\r\n\r\nAnother way I can think is to use `CompletableFutuere` and submit multiple batch update together.","title":"Spring jdbcTemaplate how to send complete batch size to DB2 server in one shot?","body":"<p>Maybe try this set even though I only see it compatible with MySQL\nAnd also upgrade your DB2 jdbc driver version</p>\n<pre><code>spring.datasource.hikari.data-source-properties.useConfigs=maxPerformance\nspring.datasource.hikari.data-source-properties.rewriteBatchedStatements=true\n</code></pre>\n<p>Another way I can think is to use <code>CompletableFutuere</code> and submit multiple batch update together.</p>\n"}],"owner":{"account_id":3493556,"reputation":4931,"user_id":2922515,"accept_rate":70,"display_name":"Vipin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1083,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1687333421,"creation_date":1462642146,"question_id":37091599,"body_markdown":"While jdbcTemplate.batchUpdate(...) is running I can see DB row count is increased gradually(by running `count(*)` in the table), initially 2k then 3k and goes till 10k. 2k and 3k are not exact numbers sometimes I get 235 and then 4567. \r\n\r\nI was expecting 10 k rows (batch size) to be committed in one shot. In my understanding, if initially, I get row count 0 then next row count should be 10k. \r\nI don&#39;t want one by one insert for performance reason that&#39;s why used batch update feature and seems it also doesn&#39;t commit all in one shot.\r\n\r\n**I want to send data(10k rows) to DB server only once for my batch size.** for this is there anything I should specify in the configuration?\r\n\r\nBelow is the way I am writing `jdbcTemplate` batch update batch size is 10k.\r\n\r\n\r\n    public void insertRows(...) { \r\n        ... \r\n        jdbcTemplate.batchUpdate(query, new BatchPreparedStatementSetter(){\r\n        @Override public void\r\n    \r\n        setValues(PreparedStatement ps, int i) throws SQLException {\r\n            ... \r\n        }\r\n    \r\n        @Override public int getBatchSize() { \r\n            if(data == null){ \r\n                return 0; \r\n            }\r\n            return data.size(); \r\n        }\r\n       }); \r\n    }\r\n\r\n\r\n\r\nEdit: Added @Transactional to isertRows method still I can see the same behavior.\r\nusing Transnational it commits after 10k rows, but when I see count using with UR (select count(*) from mytable with ur) it shows data being updated gradually (2k 4k so on till 10k). That means data goes to a server in chunks (probably one bye one). How can i send everything in one shot. [This question][1] suggests it is achieved using rewriteBatchedStatements in mysql, is there anything similar we have in DB2 as well.\r\n\r\nI am using DataSource implementation [com.ibm.db2.jcc.DB2BaseDataSource][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2993251/jdbc-batch-insert-performance\r\n  [2]: https://www.ibm.com/support/knowledgecenter/SSEPGG_9.5.0/com.ibm.db2.luw.apdv.java.doc/src/tpc/imjcc_r0052038.html","title":"Spring jdbcTemaplate how to send complete batch size to DB2 server in one shot?","body":"<p>While jdbcTemplate.batchUpdate(...) is running I can see DB row count is increased gradually(by running <code>count(*)</code> in the table), initially 2k then 3k and goes till 10k. 2k and 3k are not exact numbers sometimes I get 235 and then 4567. </p>\n\n<p>I was expecting 10 k rows (batch size) to be committed in one shot. In my understanding, if initially, I get row count 0 then next row count should be 10k. \nI don't want one by one insert for performance reason that's why used batch update feature and seems it also doesn't commit all in one shot.</p>\n\n<p><strong>I want to send data(10k rows) to DB server only once for my batch size.</strong> for this is there anything I should specify in the configuration?</p>\n\n<p>Below is the way I am writing <code>jdbcTemplate</code> batch update batch size is 10k.</p>\n\n<pre><code>public void insertRows(...) { \n    ... \n    jdbcTemplate.batchUpdate(query, new BatchPreparedStatementSetter(){\n    @Override public void\n\n    setValues(PreparedStatement ps, int i) throws SQLException {\n        ... \n    }\n\n    @Override public int getBatchSize() { \n        if(data == null){ \n            return 0; \n        }\n        return data.size(); \n    }\n   }); \n}\n</code></pre>\n\n<p>Edit: Added @Transactional to isertRows method still I can see the same behavior.\nusing Transnational it commits after 10k rows, but when I see count using with UR (select count(*) from mytable with ur) it shows data being updated gradually (2k 4k so on till 10k). That means data goes to a server in chunks (probably one bye one). How can i send everything in one shot. <a href=\"https://stackoverflow.com/questions/2993251/jdbc-batch-insert-performance\">This question</a> suggests it is achieved using rewriteBatchedStatements in mysql, is there anything similar we have in DB2 as well.</p>\n\n<p>I am using DataSource implementation <a href=\"https://www.ibm.com/support/knowledgecenter/SSEPGG_9.5.0/com.ibm.db2.luw.apdv.java.doc/src/tpc/imjcc_r0052038.html\" rel=\"nofollow noreferrer\">com.ibm.db2.jcc.DB2BaseDataSource</a></p>\n"},{"tags":["java","mysql","database-connection"],"comments":[{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1461523034,"post_id":36827222,"comment_id":61225519,"body_markdown":"http://stackoverflow.com/questions/2983248/com-mysql-jdbc-exceptions-jdbc4-communicationsexception-communications-link-fai","body":"<a href=\"http://stackoverflow.com/questions/2983248/com-mysql-jdbc-exceptions-jdbc4-communicationsexception-communications-link-fai\" title=\"com mysql jdbc exceptions jdbc4 communicationsexception communications link fai\">stackoverflow.com/questions/2983248/&hellip;</a>"},{"owner":{"account_id":8281875,"reputation":161,"user_id":6226300,"display_name":"Diet Cookiez"},"score":0,"creation_date":1461530752,"post_id":36827222,"comment_id":61228556,"body_markdown":"@FastSnail I tried all of BalusC tips, and still having the same problem.","body":"@FastSnail I tried all of BalusC tips, and still having the same problem."},{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1461550703,"post_id":36827222,"comment_id":61233181,"body_markdown":"read this one too http://stackoverflow.com/questions/6865538/solving-a-communications-link-failure-with-jdbc-and-mysql","body":"read this one too <a href=\"http://stackoverflow.com/questions/6865538/solving-a-communications-link-failure-with-jdbc-and-mysql\" title=\"solving a communications link failure with jdbc and mysql\">stackoverflow.com/questions/6865538/&hellip;</a>"},{"owner":{"account_id":4031836,"reputation":475,"user_id":3317620,"display_name":"Casper Lehmann"},"score":0,"creation_date":1633357402,"post_id":36827222,"comment_id":122731466,"body_markdown":"Linked answers do not cover the problem space. The error in the header is not mentioned in the provided links.\n\nIn my case, it turns out that my old `MySql5.7` wanted to use `TLSv1.1`, which has been blocked by the `OpenJDK v11.0.11` release. \nTo allow it again, you can remove `TLSv1.1` from the list at `jdk.tls.disabledAlgorithms` in `openjdk64-11.0.11/conf/security/java.security`.\n\nThis is one possible solution to one possible cause of this problem. Please reopen the question.","body":"Linked answers do not cover the problem space. The error in the header is not mentioned in the provided links.  In my case, it turns out that my old <code>MySql5.7</code> wanted to use <code>TLSv1.1</code>, which has been blocked by the <code>OpenJDK v11.0.11</code> release.  To allow it again, you can remove <code>TLSv1.1</code> from the list at <code>jdk.tls.disabledAlgorithms</code> in <code>openjdk64-11.0.11&#47;conf&#47;security&#47;java.security</code>.  This is one possible solution to one possible cause of this problem. Please reopen the question."},{"owner":{"account_id":10864525,"reputation":289,"user_id":7988380,"display_name":"Muhammad Hamed K"},"score":0,"creation_date":1637692908,"post_id":36827222,"comment_id":123893171,"body_markdown":"Please check your mysql server version. it should be compatible to mysql connector which version you mentioned in dependency of mysql connector in pom.xml","body":"Please check your mysql server version. it should be compatible to mysql connector which version you mentioned in dependency of mysql connector in pom.xml"},{"owner":{"account_id":5852063,"reputation":77,"user_id":4610476,"display_name":"Suresh Huse"},"score":0,"creation_date":1687849306,"post_id":36827222,"comment_id":134990192,"body_markdown":"I am facing the same issue. On running &quot;FLUSH HOSTS;&quot; command it again starts connecting the server. But I dont want FLUSH HOSTS; rather find the root cause. Any leads?","body":"I am facing the same issue. On running &quot;FLUSH HOSTS;&quot; command it again starts connecting the server. But I dont want FLUSH HOSTS; rather find the root cause. Any leads?"}],"answers":[{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687332831,"creation_date":1484204685,"answer_id":41607041,"question_id":36827222,"body_markdown":"This problem occurs when the MySQL service is not running and you&#39;re trying to connect to the mysql database.\r\n\r\nTo resolve this in Windows,\r\n\r\n - Start &gt;&gt; type &#39;services&#39; and open it.\r\n\r\n - Find the MySQL service. Probably with name MySQLxx. xx being the version.        \r\n      &lt;sub&gt;eg. MySQL56, MySQL57 etc&lt;/sub&gt;\r\n\r\n - Start the service and now try the connection to database.","title":"MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up","body":"<p>This problem occurs when the MySQL service is not running and you're trying to connect to the mysql database.</p>\n<p>To resolve this in Windows,</p>\n<ul>\n<li><p>Start &gt;&gt; type 'services' and open it.</p>\n</li>\n<li><p>Find the MySQL service. Probably with name MySQLxx. xx being the version.<br />\n<sub>eg. MySQL56, MySQL57 etc</sub></p>\n</li>\n<li><p>Start the service and now try the connection to database.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10189447,"reputation":1,"user_id":7523362,"display_name":"Rahul Bachhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486385937,"creation_date":1486385937,"answer_id":42068418,"question_id":36827222,"body_markdown":"You have to use database name instead of table name\r\n","title":"MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up","body":"<p>You have to use database name instead of table name</p>\n"},{"tags":[],"owner":{"account_id":2338750,"reputation":2396,"user_id":2050511,"display_name":"Hemant Thorat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502265189,"creation_date":1502265189,"answer_id":45584702,"question_id":36827222,"body_markdown":"Increase Mysql max connection,\r\n\r\n    SET GLOBAL max_connections = 1500;  \r\n\r\nIf still getting an error then queries might be taking too long to respond.\r\n\r\nIn that case increase attempt while creating jdbc connection,\r\n\r\n    &amp;maxReconnects=XX ","title":"MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up","body":"<p>Increase Mysql max connection,</p>\n\n<pre><code>SET GLOBAL max_connections = 1500;  \n</code></pre>\n\n<p>If still getting an error then queries might be taking too long to respond.</p>\n\n<p>In that case increase attempt while creating jdbc connection,</p>\n\n<pre><code>&amp;maxReconnects=XX \n</code></pre>\n"}],"owner":{"account_id":8281875,"reputation":161,"user_id":6226300,"display_name":"Diet Cookiez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115356,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"closed_date":1517751883,"answer_count":3,"score":16,"last_activity_date":1687332831,"creation_date":1461522702,"question_id":36827222,"body_markdown":"I&#39;m having trouble connecting to my database. I think there is a setting somewhere that I don&#39;t know about and needs to be changed. I have some really basic code here:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        try\r\n        {\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://IP:3306/TABLENAME?autoReconnect=true&quot;,&quot;USERNAME&quot;, &quot;PASSWORD&quot;);\r\n            con.close();\r\n        }\r\n\r\n        catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nObviously with the login info. And it causes this error:\r\n\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n    Caused by: java.net.ConnectException: Connection refused\r\n\r\n I&#39;ve looked through about 10 different posts about the same problem and tried their solutions and still couldn&#39;t get it to work.","title":"MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up","body":"<p>I'm having trouble connecting to my database. I think there is a setting somewhere that I don't know about and needs to be changed. I have some really basic code here:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    try\n    {\n        Connection con = DriverManager.getConnection(\"jdbc:mysql://IP:3306/TABLENAME?autoReconnect=true\",\"USERNAME\", \"PASSWORD\");\n        con.close();\n    }\n\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Obviously with the login info. And it causes this error:</p>\n\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\n\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\nCaused by: java.net.ConnectException: Connection refused\n</code></pre>\n\n<p>I've looked through about 10 different posts about the same problem and tried their solutions and still couldn't get it to work.</p>\n"},{"tags":["java","scala","intellij-idea","jvm","spinalhdl"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1687334429,"post_id":76520958,"comment_id":134920570,"body_markdown":"Does it work if you build/run the project from the command line outside of the IDE? To better understand what causes the problem please upload a project sample at https://uploads.jetbrains.com and share the UploadID here","body":"Does it work if you build/run the project from the command line outside of the IDE? To better understand what causes the problem please upload a project sample at <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and share the UploadID here"},{"owner":{"account_id":28856376,"reputation":11,"user_id":22101101,"display_name":"Johnhave"},"score":0,"creation_date":1687428593,"post_id":76520958,"comment_id":134936880,"body_markdown":"@Egor Klepikov: Thanks for reply. Running from the cmd is the same as IDE. The uploadID is 2023_06_22_qA3uoJmdcDpBECwyLQgBJU. By the way, JDK 17.07, scala 2.12.15, windows 10, sbt 1.5.5.","body":"@Egor Klepikov: Thanks for reply. Running from the cmd is the same as IDE. The uploadID is 2023_06_22_qA3uoJmdcDpBECwyLQgBJU. By the way, JDK 17.07, scala 2.12.15, windows 10, sbt 1.5.5."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1687818234,"post_id":76520958,"comment_id":134987129,"body_markdown":"If you face the same issue running from command line then it&#39;s not related to IDE.","body":"If you face the same issue running from command line then it&#39;s not related to IDE."}],"owner":{"account_id":28856376,"reputation":11,"user_id":22101101,"display_name":"Johnhave"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687332671,"creation_date":1687332671,"question_id":76520958,"body_markdown":"When I running a SpinalHDL simulation program, the process is done but never exit. That is, &quot;Process finished with exit code 0&quot; never showed up. I have to shutdown the IDEA to end the process. How is it?\r\n\r\n```\r\nimport spinal.core._\r\nimport spinal.sim._\r\nimport spinal.core.sim._\r\n\r\nimport scala.util.Random\r\n\r\n\r\n//MyTopLevel&#39;s testbench\r\nobject MyTopLevelSim {\r\n  def main(args: Array[String]) {\r\n    SimConfig.withWave.doSim(new MyTopLevel){dut =&gt;\r\n      //Fork a process to generate the reset and the clock on the dut\r\n      dut.clockDomain.forkStimulus(period = 10)\r\n\r\n      var modelState = 0\r\n      for(idx &lt;- 0 to 99){\r\n        //Drive the dut inputs with random values\r\n        dut.io.cond0 #= Random.nextBoolean()\r\n        dut.io.cond1 #= Random.nextBoolean()\r\n\r\n        //Wait a rising edge on the clock\r\n        dut.clockDomain.waitRisingEdge()\r\n\r\n        //Check that the dut values match with the reference model ones\r\n        val modelFlag = modelState == 0 || dut.io.cond1.toBoolean\r\n        assert(dut.io.state.toInt == modelState)\r\n        assert(dut.io.flag.toBoolean == modelFlag)\r\n\r\n        //Update the reference model value\r\n        if(dut.io.cond0.toBoolean) {\r\n          modelState = (modelState + 1) &amp; 0xFF\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nBelows are the infomation in Console. The process is never ending...\r\n```\r\nConnected to the target VM, address: &#39;127.0.0.1:57888&#39;, transport: &#39;socket&#39;\r\n[Runtime] SpinalHDL v1.6.0    git head : 73c8d8e2b86b45646e9d0b2e729291f2b65e6be3\r\n[Runtime] JVM max memory : 4070.0MiB\r\n[Runtime] Current date : 2023.06.21 15:11:03\r\n[Progress] at 0.000 : Elaborate components\r\n[Progress] at 0.611 : Checks and transforms\r\n[Progress] at 0.685 : Generate Verilog\r\n[Done] at 0.755\r\n[Progress] Simulation workspace in C:\\Users\\xxx\\spinalhdl_home\\test_new\\.\\simWorkspace\\MyTopLevel\r\n[Progress] Verilator compilation started\r\n[Progress] Verilator compilation done in 4973.795 ms\r\n[Progress] Start MyTopLevel test simulation with seed 835369353\r\ndone1\r\n[Done] Simulation done in 20.747 ms\r\n\r\n\r\n```\r\n\r\n\r\nFind the problem in SpinalHDL simulation with verilator in my own PC, while in others&#39; PCs it is done well. How to end the process as a general program process?","title":"scala process never finishes in IDEA","body":"<p>When I running a SpinalHDL simulation program, the process is done but never exit. That is, &quot;Process finished with exit code 0&quot; never showed up. I have to shutdown the IDEA to end the process. How is it?</p>\n<pre><code>import spinal.core._\nimport spinal.sim._\nimport spinal.core.sim._\n\nimport scala.util.Random\n\n\n//MyTopLevel's testbench\nobject MyTopLevelSim {\n  def main(args: Array[String]) {\n    SimConfig.withWave.doSim(new MyTopLevel){dut =&gt;\n      //Fork a process to generate the reset and the clock on the dut\n      dut.clockDomain.forkStimulus(period = 10)\n\n      var modelState = 0\n      for(idx &lt;- 0 to 99){\n        //Drive the dut inputs with random values\n        dut.io.cond0 #= Random.nextBoolean()\n        dut.io.cond1 #= Random.nextBoolean()\n\n        //Wait a rising edge on the clock\n        dut.clockDomain.waitRisingEdge()\n\n        //Check that the dut values match with the reference model ones\n        val modelFlag = modelState == 0 || dut.io.cond1.toBoolean\n        assert(dut.io.state.toInt == modelState)\n        assert(dut.io.flag.toBoolean == modelFlag)\n\n        //Update the reference model value\n        if(dut.io.cond0.toBoolean) {\n          modelState = (modelState + 1) &amp; 0xFF\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Belows are the infomation in Console. The process is never ending...</p>\n<pre><code>Connected to the target VM, address: '127.0.0.1:57888', transport: 'socket'\n[Runtime] SpinalHDL v1.6.0    git head : 73c8d8e2b86b45646e9d0b2e729291f2b65e6be3\n[Runtime] JVM max memory : 4070.0MiB\n[Runtime] Current date : 2023.06.21 15:11:03\n[Progress] at 0.000 : Elaborate components\n[Progress] at 0.611 : Checks and transforms\n[Progress] at 0.685 : Generate Verilog\n[Done] at 0.755\n[Progress] Simulation workspace in C:\\Users\\xxx\\spinalhdl_home\\test_new\\.\\simWorkspace\\MyTopLevel\n[Progress] Verilator compilation started\n[Progress] Verilator compilation done in 4973.795 ms\n[Progress] Start MyTopLevel test simulation with seed 835369353\ndone1\n[Done] Simulation done in 20.747 ms\n\n\n</code></pre>\n<p>Find the problem in SpinalHDL simulation with verilator in my own PC, while in others' PCs it is done well. How to end the process as a general program process?</p>\n"},{"tags":["java","maven","sonarqube","code-coverage","junit4"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687242677,"post_id":76511414,"comment_id":134905081,"body_markdown":"Your settings looks quite different to these found on the net: https://www.baeldung.com/sonarqube-jacoco-code-coverage","body":"Your settings looks quite different to these found on the net: <a href=\"https://www.baeldung.com/sonarqube-jacoco-code-coverage\" rel=\"nofollow noreferrer\">baeldung.com/sonarqube-jacoco-code-coverage</a>"},{"owner":{"account_id":24655193,"reputation":54,"user_id":18551934,"display_name":"Nipuni Madanayake"},"score":0,"creation_date":1687262176,"post_id":76511414,"comment_id":134909149,"body_markdown":"@Mar-Z I tried as that blog but it didn&#39;t solved the issue. But I found the solution. I needed to add some more plugins. I will add my solution as an answer. Thank you very much.","body":"@Mar-Z I tried as that blog but it didn&#39;t solved the issue. But I found the solution. I needed to add some more plugins. I will add my solution as an answer. Thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":24655193,"reputation":54,"user_id":18551934,"display_name":"Nipuni Madanayake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687332559,"creation_date":1687332559,"answer_id":76520946,"question_id":76511414,"body_markdown":"I solved the issue.I added below properties to the `&lt;properties&gt;` section in pom file.\r\n\r\n    &lt;sonar.surefire.reportsPath&gt;${basedir}/target/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\r\n            &lt;sonar.coverage.jacoco.xmlReportPaths&gt;${project.build.directory}/coverage-reports/jacoco-ut/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n    \r\nThen added below profile to the pom file.\r\n\r\n    &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;coverage&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;!--suppress UnresolvedMavenProperty --&gt;\r\n                                &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.8.0.2131&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.8.8&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\r\n                                        &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;post-unit-test&lt;/id&gt;\r\n                                    &lt;phase&gt;test&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;report&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\r\n                                        &lt;outputDirectory&gt;${project.build.directory}/coverage-reports/jacoco-ut&lt;/outputDirectory&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n\r\nThis generated jacoco-ut.exec and jacoco.xml. Then run `mvn clean verify sonar:sonar` in the terminal. This solved my issue.\r\n","title":"SonarQube Doesn&#39;t Display the Coverage","body":"<p>I solved the issue.I added below properties to the <code>&lt;properties&gt;</code> section in pom file.</p>\n<pre><code>&lt;sonar.surefire.reportsPath&gt;${basedir}/target/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\n        &lt;sonar.coverage.jacoco.xmlReportPaths&gt;${project.build.directory}/coverage-reports/jacoco-ut/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n</code></pre>\n<p>Then added below profile to the pom file.</p>\n<pre><code>&lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;coverage&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;!--suppress UnresolvedMavenProperty --&gt;\n                            &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                        &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.8.0.2131&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.8.8&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;prepare-agent&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\n                                    &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;post-unit-test&lt;/id&gt;\n                                &lt;phase&gt;test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;report&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\n                                    &lt;outputDirectory&gt;${project.build.directory}/coverage-reports/jacoco-ut&lt;/outputDirectory&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>This generated jacoco-ut.exec and jacoco.xml. Then run <code>mvn clean verify sonar:sonar</code> in the terminal. This solved my issue.</p>\n"}],"owner":{"account_id":24655193,"reputation":54,"user_id":18551934,"display_name":"Nipuni Madanayake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687332559,"creation_date":1687235246,"question_id":76511414,"body_markdown":"I have a Java Maven project and I wrote unit tests using Junit. When I run Tests with coverage, IDE shows the percentage of coverage. But after integrate the project with SonarQube, it only shows the number of unit test cases and shows coverage as 0% in the sonarQube.\r\n\r\nBelow is a screenshot of SonarQube.\r\n\r\n[![Sonar Report](https://i.stack.imgur.com/fLuFW.png)](https://i.stack.imgur.com/fLuFW.png)\r\n\r\n\r\nSince I need to integrate the project with SonarQube, I added jacoco-maven plugin and maven-surefire plugin to the pom file. Below is my pom file.\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;....&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;...&lt;/groupId&gt;\r\n    &lt;artifactId&gt;.....&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;2.41.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;8.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ru.yandex.qatools.ashot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ashot&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0.2131&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;coverage&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.12.4&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\r\n                        &lt;/configuration&gt;\r\n\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.8.8&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;pre-unit-test&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\r\n                                    &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;post-unit-test&lt;/id&gt;\r\n                                &lt;phase&gt;test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;report&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\r\n                                    &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nWhen I run `mvn clean verify sonar:sonar` , It generates below files.\r\n\r\n[![generated folders](https://i.stack.imgur.com/EJPzj.png)](https://i.stack.imgur.com/EJPzj.png)\r\n\r\n\r\nInside of surefire-reports there are xml files for each test class. But in SonarQube it shows only the number of unit test cases and shows coverage as 0%. \r\n\r\nCan you help me to get the coverage on SonarQube?","title":"SonarQube Doesn&#39;t Display the Coverage","body":"<p>I have a Java Maven project and I wrote unit tests using Junit. When I run Tests with coverage, IDE shows the percentage of coverage. But after integrate the project with SonarQube, it only shows the number of unit test cases and shows coverage as 0% in the sonarQube.</p>\n<p>Below is a screenshot of SonarQube.</p>\n<p><a href=\"https://i.stack.imgur.com/fLuFW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fLuFW.png\" alt=\"Sonar Report\" /></a></p>\n<p>Since I need to integrate the project with SonarQube, I added jacoco-maven plugin and maven-surefire plugin to the pom file. Below is my pom file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;....&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;artifactId&gt;.....&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;2.41.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;8.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ru.yandex.qatools.ashot&lt;/groupId&gt;\n            &lt;artifactId&gt;ashot&lt;/artifactId&gt;\n            &lt;version&gt;1.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0.2131&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;coverage&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.12.4&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\n                        &lt;/configuration&gt;\n\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.8.8&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;prepare-agent&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n\n                            &lt;execution&gt;\n                                &lt;id&gt;pre-unit-test&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\n                                    &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n\n                            &lt;execution&gt;\n                                &lt;id&gt;post-unit-test&lt;/id&gt;\n                                &lt;phase&gt;test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;report&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\n                                    &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I run <code>mvn clean verify sonar:sonar</code> , It generates below files.</p>\n<p><a href=\"https://i.stack.imgur.com/EJPzj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EJPzj.png\" alt=\"generated folders\" /></a></p>\n<p>Inside of surefire-reports there are xml files for each test class. But in SonarQube it shows only the number of unit test cases and shows coverage as 0%.</p>\n<p>Can you help me to get the coverage on SonarQube?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":2,"creation_date":1684777618,"post_id":76307796,"comment_id":134563340,"body_markdown":"No, the answer you link is not &quot;for older versions of Spring Security&quot;. I suspect you have little knowledge of OAuth2 in general and of it&#39;s Spring implementations in particular. Maybe should you start with [my tutorials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials)?","body":"No, the answer you link is not &quot;for older versions of Spring Security&quot;. I suspect you have little knowledge of OAuth2 in general and of it&#39;s Spring implementations in particular. Maybe should you start with <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a>?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1684785841,"post_id":76307796,"comment_id":134564945,"body_markdown":"Does this answer your question? [Use Keycloak Spring Adapter with Spring Boot 3](https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3\">Use Keycloak Spring Adapter with Spring Boot 3</a>"}],"answers":[{"tags":[],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685159750,"creation_date":1684778418,"answer_id":76308822,"question_id":76307796,"body_markdown":"We recently migrated our application to use Spring Boot 3.0.4 and Keycloak 21.0.1 The configuration look like below,\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client:3.0.4&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security:3.0.4&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server:3.0.4&#39;\r\n\r\nYAML config:\r\n\r\n&lt;!-- language: yml --&gt;\r\n    spring.security.oauth2.resourceserver.jwt.issuer-uri=https://&lt;keycloak-base-url&gt;/realms/&lt;realms-name&gt;\r\n    spring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://&lt;keycloak-base-url&gt;/realms/&lt;realms-name&gt;/protocol/openid-connect/certs\r\n\r\nSpring Security configuration is:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Configuration\r\n    public class WebSecurityConfig {\r\n    \t\r\n    \t@Autowired\r\n        private CorsConfigurationSource corsConfigurationSource;\r\n    \t\r\n        @Bean\r\n    \tpublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \t\thttpSecurity\r\n                .headers()\r\n                    .frameOptions().disable();\r\n            httpSecurity\r\n                .authorizeHttpRequests()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                .oauth2ResourceServer().jwt();\r\n            httpSecurity\r\n                .cors()\r\n                   .configurationSource(corsConfigurationSource)\r\n                   .and()\r\n                .csrf().disable();\r\n            return httpSecurity.build();\r\n    \t}\r\n    }\r\n","title":"Configure Keycloak 21 with Spring Security 6","body":"<p>We recently migrated our application to use Spring Boot 3.0.4 and Keycloak 21.0.1 The configuration look like below,</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-oauth2-client:3.0.4'\nimplementation 'org.springframework.boot:spring-boot-starter-security:3.0.4'\nimplementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server:3.0.4'\n</code></pre>\n<p>YAML config:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.security.oauth2.resourceserver.jwt.issuer-uri=https://&lt;keycloak-base-url&gt;/realms/&lt;realms-name&gt;\nspring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://&lt;keycloak-base-url&gt;/realms/&lt;realms-name&gt;/protocol/openid-connect/certs\n</code></pre>\n<p>Spring Security configuration is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebSecurityConfig {\n    \n    @Autowired\n    private CorsConfigurationSource corsConfigurationSource;\n    \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n            .headers()\n                .frameOptions().disable();\n        httpSecurity\n            .authorizeHttpRequests()\n                .anyRequest().authenticated()\n                .and()\n            .oauth2ResourceServer().jwt();\n        httpSecurity\n            .cors()\n               .configurationSource(corsConfigurationSource)\n               .and()\n            .csrf().disable();\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27385661,"reputation":389,"user_id":20889523,"display_name":"Ritik Sharma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685280978,"creation_date":1685224343,"answer_id":76349190,"question_id":76307796,"body_markdown":"if you are trying to expose rest APIs secured with Keycloak Server (Authentication Server) then your application is a OAuth2 resource server not a OAuth2 client server and also you can&#39;t use browser for accessing your rest APIs unless they are public.\r\nFor Resource Server with rest APIs you can use the below code\r\n\r\n1. **application.yml**\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://&lt;KEYCLOAK_SERVER_IP&gt;/realms/&lt;YOUR_REALM_NAME&gt;\r\n          jwk-set-uri: http://&lt;KEYCLOAK_SERVER_IP&gt;/realms/&lt;YOUR_REALM_NAME&gt;/protocol/openid-connect/certs\r\n```\r\n2. **Get JWT TOKEN from Keycloak Server** (this curl is equivalent to postman request for keycloak to get access token, you can find more here https://documenter.getpostman.com/view/7294517/SzmfZHnd)\r\n```\r\ncurl --location &#39;http://&lt;KEYCLOAK_SERVER_IP&gt;/realms/test/protocol/openid-connect/token&#39; \\\r\n--header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n--data-urlencode &#39;username=&lt;YOUR_USER_NAME&gt;&#39; \\\r\n--data-urlencode &#39;password=&lt;YOUR_USER_PASSWORD&gt;&#39; \\\r\n--data-urlencode &#39;grant_type=password&#39; \\\r\n--data-urlencode &#39;client_id=&lt;KEYCLOAK_CLIENT_ID&gt;&#39; \\\r\n--data-urlencode &#39;client_secret=&lt;KEYCLOAK_CLIENT_SECRET&gt;&#39; \\\r\n--data-urlencode &#39;scope=openid&#39;\r\n```\r\n3. **Inspect your access token using https://jwt.io/**\r\n```\r\n...\r\n&quot;realm_access&quot;: {\r\n    &quot;roles&quot;: [\r\n      &quot;default-roles-test&quot;,\r\n      &quot;offline_access&quot;,\r\n      &quot;MY_REALM_ROLE&quot;,\r\n      &quot;uma_authorization&quot;\r\n    ]\r\n  },\r\n  &quot;resource_access&quot;: {\r\n    &quot;test-client&quot;: {\r\n      &quot;roles&quot;: [\r\n        &quot;MY_CLIENT_ROLE&quot;\r\n      ]\r\n    },\r\n...\r\n```\r\nNow, we need to tell spring security from where it has look for Roles information in the JWT token.\r\n\r\n4. **WebSecurityConfig.java**\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n// Note: Please change &#39;/mp-api/**&#39; to your desired rest controller path.\r\n        httpSecurity\r\n                .authorizeHttpRequests(registry -&gt; registry\r\n                        .requestMatchers(&quot;/my-api/**&quot;).hasRole(&quot;MY_REALM_ROLE&quot;)\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .oauth2ResourceServer(oauth2Configurer -&gt; oauth2Configurer.jwt(jwtConfigurer -&gt; jwtConfigurer.jwtAuthenticationConverter(jwt -&gt; {\r\n                    Map&lt;String, Collection&lt;String&gt;&gt; realmAccess = jwt.getClaim(&quot;realm_access&quot;);\r\n                    Collection&lt;String&gt; roles = realmAccess.get(&quot;roles&quot;);\r\n                    var grantedAuthorities = roles.stream()\r\n                            .map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + role))\r\n                            .collect(Collectors.toList());\r\n                    return new JwtAuthenticationToken(jwt, grantedAuthorities);\r\n                })))\r\n        ;\r\n\r\n        return httpSecurity.build();\r\n    }\r\n}\r\n```\r\n**Make sure you have proper Role Mappings for User in Keycloak.**\r\n\r\nNow, for using your rest API you can use Postman. In Postman add\r\nBearer Token Authorization and use the latest generated access token from keycloak server.","title":"Configure Keycloak 21 with Spring Security 6","body":"<p>if you are trying to expose rest APIs secured with Keycloak Server (Authentication Server) then your application is a OAuth2 resource server not a OAuth2 client server and also you can't use browser for accessing your rest APIs unless they are public.\nFor Resource Server with rest APIs you can use the below code</p>\n<ol>\n<li><strong>application.yml</strong></li>\n</ol>\n<pre><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: http://&lt;KEYCLOAK_SERVER_IP&gt;/realms/&lt;YOUR_REALM_NAME&gt;\n          jwk-set-uri: http://&lt;KEYCLOAK_SERVER_IP&gt;/realms/&lt;YOUR_REALM_NAME&gt;/protocol/openid-connect/certs\n</code></pre>\n<ol start=\"2\">\n<li><strong>Get JWT TOKEN from Keycloak Server</strong> (this curl is equivalent to postman request for keycloak to get access token, you can find more here <a href=\"https://documenter.getpostman.com/view/7294517/SzmfZHnd\" rel=\"nofollow noreferrer\">https://documenter.getpostman.com/view/7294517/SzmfZHnd</a>)</li>\n</ol>\n<pre><code>curl --location 'http://&lt;KEYCLOAK_SERVER_IP&gt;/realms/test/protocol/openid-connect/token' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'username=&lt;YOUR_USER_NAME&gt;' \\\n--data-urlencode 'password=&lt;YOUR_USER_PASSWORD&gt;' \\\n--data-urlencode 'grant_type=password' \\\n--data-urlencode 'client_id=&lt;KEYCLOAK_CLIENT_ID&gt;' \\\n--data-urlencode 'client_secret=&lt;KEYCLOAK_CLIENT_SECRET&gt;' \\\n--data-urlencode 'scope=openid'\n</code></pre>\n<ol start=\"3\">\n<li><strong>Inspect your access token using <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">https://jwt.io/</a></strong></li>\n</ol>\n<pre><code>...\n&quot;realm_access&quot;: {\n    &quot;roles&quot;: [\n      &quot;default-roles-test&quot;,\n      &quot;offline_access&quot;,\n      &quot;MY_REALM_ROLE&quot;,\n      &quot;uma_authorization&quot;\n    ]\n  },\n  &quot;resource_access&quot;: {\n    &quot;test-client&quot;: {\n      &quot;roles&quot;: [\n        &quot;MY_CLIENT_ROLE&quot;\n      ]\n    },\n...\n</code></pre>\n<p>Now, we need to tell spring security from where it has look for Roles information in the JWT token.</p>\n<ol start=\"4\">\n<li><strong>WebSecurityConfig.java</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n\n// Note: Please change '/mp-api/**' to your desired rest controller path.\n        httpSecurity\n                .authorizeHttpRequests(registry -&gt; registry\n                        .requestMatchers(&quot;/my-api/**&quot;).hasRole(&quot;MY_REALM_ROLE&quot;)\n                        .anyRequest().authenticated()\n                )\n                .oauth2ResourceServer(oauth2Configurer -&gt; oauth2Configurer.jwt(jwtConfigurer -&gt; jwtConfigurer.jwtAuthenticationConverter(jwt -&gt; {\n                    Map&lt;String, Collection&lt;String&gt;&gt; realmAccess = jwt.getClaim(&quot;realm_access&quot;);\n                    Collection&lt;String&gt; roles = realmAccess.get(&quot;roles&quot;);\n                    var grantedAuthorities = roles.stream()\n                            .map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot; + role))\n                            .collect(Collectors.toList());\n                    return new JwtAuthenticationToken(jwt, grantedAuthorities);\n                })))\n        ;\n\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n<p><strong>Make sure you have proper Role Mappings for User in Keycloak.</strong></p>\n<p>Now, for using your rest API you can use Postman. In Postman add\nBearer Token Authorization and use the latest generated access token from keycloak server.</p>\n"},{"tags":[],"owner":{"account_id":28863853,"reputation":11,"user_id":22107032,"display_name":"SebaGQ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687332556,"creation_date":1687332284,"answer_id":76520910,"question_id":76307796,"body_markdown":"In case someone comes here looking for what an implementation in version 6.1 of Spring Security, Spring Boot 3.1 configured to work with keycloack would look like.\r\n\r\nIf you get an error about JwtDecoder, this line takes care of it:  .jwkSetUri(jwkSetUri)\r\n \r\n\r\n    @RequiredArgsConstructor\r\n    @Configuration\r\n    @EnableWebSecurity(debug = true)\r\n    public class WebSecurityConfig {\r\n    \r\n        public static final String ADMIN = &quot;admin&quot;;\r\n        public static final String USER = &quot;user&quot;;\r\n    \r\n    \r\n        @Value(&quot;${spring.security.oauth2.resourceserver.jwt.jwk-set-uri}&quot;)\r\n        private String jwkSetUri;\r\n    \r\n        private final JwtAuthConverter jwtAuthConverter;\r\n    \r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain2(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeHttpRequests((authorizeHttpRequests) -&gt;\r\n                            authorizeHttpRequests\r\n                                    .requestMatchers(&quot;/api/duenos/**&quot;).hasAnyRole(ADMIN, USER)\r\n                                    .requestMatchers(&quot;/api/objetos_extraviados/**&quot;).hasAnyRole(ADMIN, USER)\r\n                                    .anyRequest().authenticated()\r\n                    )\r\n                    .oauth2ResourceServer((oauth2ResourceServer) -&gt;\r\n                            oauth2ResourceServer\r\n                                    .jwt((jwt) -&gt;\r\n                                            jwt\r\n                                                    .jwtAuthenticationConverter(jwtAuthConverter)\r\n                                                    .jwkSetUri(jwkSetUri)\r\n                                    )\r\n                    )\r\n                    .sessionManagement((sessionManagement) -&gt; sessionManagement\r\n                                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    );\r\n            return http.build();\r\n        }\r\n\r\n}\r\n\r\nLas dependencias que us&#233;:\r\nspring-boot-starter-oauth2-resource-server\r\nspring-security-oauth2-jose\r\nspring-boot-starter-security\r\n\r\n ","title":"Configure Keycloak 21 with Spring Security 6","body":"<p>In case someone comes here looking for what an implementation in version 6.1 of Spring Security, Spring Boot 3.1 configured to work with keycloack would look like.</p>\n<p>If you get an error about JwtDecoder, this line takes care of it:  .jwkSetUri(jwkSetUri)</p>\n<pre><code>@RequiredArgsConstructor\n@Configuration\n@EnableWebSecurity(debug = true)\npublic class WebSecurityConfig {\n\n    public static final String ADMIN = &quot;admin&quot;;\n    public static final String USER = &quot;user&quot;;\n\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.jwk-set-uri}&quot;)\n    private String jwkSetUri;\n\n    private final JwtAuthConverter jwtAuthConverter;\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain2(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\n                        authorizeHttpRequests\n                                .requestMatchers(&quot;/api/duenos/**&quot;).hasAnyRole(ADMIN, USER)\n                                .requestMatchers(&quot;/api/objetos_extraviados/**&quot;).hasAnyRole(ADMIN, USER)\n                                .anyRequest().authenticated()\n                )\n                .oauth2ResourceServer((oauth2ResourceServer) -&gt;\n                        oauth2ResourceServer\n                                .jwt((jwt) -&gt;\n                                        jwt\n                                                .jwtAuthenticationConverter(jwtAuthConverter)\n                                                .jwkSetUri(jwkSetUri)\n                                )\n                )\n                .sessionManagement((sessionManagement) -&gt; sessionManagement\n                                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                );\n        return http.build();\n    }\n</code></pre>\n<p>}</p>\n<p>Las dependencias que usé:\nspring-boot-starter-oauth2-resource-server\nspring-security-oauth2-jose\nspring-boot-starter-security</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4110,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":76349190,"answer_count":3,"score":5,"last_activity_date":1687332556,"creation_date":1684769623,"question_id":76307796,"body_markdown":"I&#39;m trying to setup Spring Security to work with Keycloak 21 but unfortunately most of the tutorials on Internet are outdated. I configured client and realms into Keycloak but Spring security is not clear what should be. I tried the code from this [link][1]:\r\n\r\nI added these gradle dependencies:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client:3.1.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security:3.1.0&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server:3.1.0&#39;\r\n\r\n and this yml config:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            provider:\r\n              keycloak:\r\n                issuer-uri: https://ip/realms/admin_console_realm\r\n            registration:\r\n              keycloak-login:\r\n                authorization-grant-type: authorization_code\r\n                client-name: My Keycloak instance\r\n                client-id: admin_console_client\r\n                client-secret: qwerty\r\n                provider: keycloak\r\n                scope: openid,profile,email,offline_access\r\n          resourceserver:\r\n            jwt:\r\n              issuer-uri: https://ip/realms/admin_console_realm\r\n              jwk-set-uri: https://ip/realms/admin_console_realm/protocol/openid-connect/certs\r\n\r\n\r\nIt&#39;s not clear what I need to add as a Spring security configuration here:\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \r\n            httpSecurity.authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/*&quot;).hasAuthority(&quot;ROLE_TECH_SUPPORT&quot;)\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .oauth2Login();\r\n    \r\n            return  httpSecurity.build();\r\n        }\r\n    }\r\n\r\nI added the role into Keycloak client:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhen I open a Rest API link into the browser I&#39;m redirected to Keycloak&#39;s login page. After successful authentication I get:\r\n\r\n    Access to ip was deniedYou don&#39;t have authorization to view this page.\r\n    HTTP ERROR 403\r\n\r\n\r\nDo you know how I can fix this issue?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3\r\n  [2]: https://i.stack.imgur.com/VJlwx.png","title":"Configure Keycloak 21 with Spring Security 6","body":"<p>I'm trying to setup Spring Security to work with Keycloak 21 but unfortunately most of the tutorials on Internet are outdated. I configured client and realms into Keycloak but Spring security is not clear what should be. I tried the code from this <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3\">link</a>:</p>\n<p>I added these gradle dependencies:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-oauth2-client:3.1.0'\nimplementation 'org.springframework.boot:spring-boot-starter-security:3.1.0'\nimplementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server:3.1.0'\n</code></pre>\n<p>and this yml config:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        provider:\n          keycloak:\n            issuer-uri: https://ip/realms/admin_console_realm\n        registration:\n          keycloak-login:\n            authorization-grant-type: authorization_code\n            client-name: My Keycloak instance\n            client-id: admin_console_client\n            client-secret: qwerty\n            provider: keycloak\n            scope: openid,profile,email,offline_access\n      resourceserver:\n        jwt:\n          issuer-uri: https://ip/realms/admin_console_realm\n          jwk-set-uri: https://ip/realms/admin_console_realm/protocol/openid-connect/certs\n</code></pre>\n<p>It's not clear what I need to add as a Spring security configuration here:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n\n        httpSecurity.authorizeHttpRequests()\n                .requestMatchers(&quot;/*&quot;).hasAuthority(&quot;ROLE_TECH_SUPPORT&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .oauth2Login();\n\n        return  httpSecurity.build();\n    }\n}\n</code></pre>\n<p>I added the role into Keycloak client:</p>\n<p><a href=\"https://i.stack.imgur.com/VJlwx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VJlwx.png\" alt=\"enter image description here\" /></a></p>\n<p>When I open a Rest API link into the browser I'm redirected to Keycloak's login page. After successful authentication I get:</p>\n<pre><code>Access to ip was deniedYou don't have authorization to view this page.\nHTTP ERROR 403\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n"},{"tags":["java","generics","hashcode"],"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":2,"creation_date":1536023948,"post_id":52157584,"comment_id":91265548,"body_markdown":"Is there a reason you don&#39;t want to just delegate to using the `ArrayList`&#39;s `hashCode` and `equals`? It would be much simpler.","body":"Is there a reason you don&#39;t want to just delegate to using the <code>ArrayList</code>&#39;s <code>hashCode</code> and <code>equals</code>? It would be much simpler."},{"owner":{"account_id":9792822,"reputation":725,"user_id":8814262,"display_name":"ineedahero"},"score":0,"creation_date":1536023986,"post_id":52157584,"comment_id":91265553,"body_markdown":"There is no reason, thank you!","body":"There is no reason, thank you!"},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1536077519,"post_id":52157584,"comment_id":91291181,"body_markdown":"The reason for the &#39;?&#39; is because you cannot be sure that the other Tuple that you are comparing to, has the same member type.","body":"The reason for the &#39;?&#39; is because you cannot be sure that the other Tuple that you are comparing to, has the same member type."}],"answers":[{"tags":[],"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687332539,"creation_date":1536069111,"answer_id":52167921,"question_id":52157584,"body_markdown":"As mentioned in the comments, we should delegate the `hashCode` and the `equals` methods to the `ArrayList&lt;T&gt; tuple` instance variable. For the `hashCode` it&#39;s trivial. For the `equals` it&#39;s just a little more complicated than that because we don&#39;t want our custom `Tuple` to be equals with an `ArrayList`. So here it is:\r\n\r\n    public class Tuple&lt;T&gt; {\r\n    \r\n         // I made this private because I&#39;m pedantic ;)\r\n    \t private final ArrayList&lt;T&gt; tuple = new ArrayList&lt;&gt;();\r\n    \r\n         // this does the same as your code, it&#39;s just easier to read\r\n         public Tuple(ArrayList&lt;T&gt; items) {\r\n        \t tuple.addAll(items);\r\n         }\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn tuple.hashCode();\r\n    \t}\r\n    \r\n        // generated by eclipse\r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tTuple other = (Tuple) obj;\r\n    \t\tif (tuple == null) {\r\n    \t\t\tif (other.tuple != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!tuple.equals(other.tuple))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\nIf you want to deal with the case when the `tuple` can be null, then you can use a slightly more complex `hashCode`:\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint result = 1;\r\n\t\tresult = prime * result + ((tuple == null) ? 0 : tuple.hashCode());\r\n\t\treturn tuple.hashCode();\r\n\t}\r\n\r\nIn general, I don&#39;t like to write these methods myself. Usually, I make my IDE to generate the stuff. All I need to take care of is to re-generate it when I add new fields. Apache [`HashCodeBuilder`][1] and [`EqualsBuilder`][2] are also great alternatives.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html","title":"How to make custom Tuple class generic?","body":"<p>As mentioned in the comments, we should delegate the <code>hashCode</code> and the <code>equals</code> methods to the <code>ArrayList&lt;T&gt; tuple</code> instance variable. For the <code>hashCode</code> it's trivial. For the <code>equals</code> it's just a little more complicated than that because we don't want our custom <code>Tuple</code> to be equals with an <code>ArrayList</code>. So here it is:</p>\n<pre><code>public class Tuple&lt;T&gt; {\n\n     // I made this private because I'm pedantic ;)\n     private final ArrayList&lt;T&gt; tuple = new ArrayList&lt;&gt;();\n\n     // this does the same as your code, it's just easier to read\n     public Tuple(ArrayList&lt;T&gt; items) {\n         tuple.addAll(items);\n     }\n\n    @Override\n    public int hashCode() {\n        return tuple.hashCode();\n    }\n\n    // generated by eclipse\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Tuple other = (Tuple) obj;\n        if (tuple == null) {\n            if (other.tuple != null)\n                return false;\n        } else if (!tuple.equals(other.tuple))\n            return false;\n        return true;\n    }\n}\n</code></pre>\n<p>If you want to deal with the case when the <code>tuple</code> can be null, then you can use a slightly more complex <code>hashCode</code>:</p>\n<pre><code>@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + ((tuple == null) ? 0 : tuple.hashCode());\n    return tuple.hashCode();\n}\n</code></pre>\n<p>In general, I don't like to write these methods myself. Usually, I make my IDE to generate the stuff. All I need to take care of is to re-generate it when I add new fields. Apache <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\"><code>HashCodeBuilder</code></a> and <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\"><code>EqualsBuilder</code></a> are also great alternatives.</p>\n"}],"owner":{"account_id":9792822,"reputation":725,"user_id":8814262,"display_name":"ineedahero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687332539,"creation_date":1536023437,"question_id":52157584,"body_markdown":"I&#39;m trying to make a generic tuple class. It stores its elements as an ArrayList. Of course, this class should override hashcode and equals methods.\r\n\r\nHow could I make hashcode method for this class? You see, in the code, I am having trouble.\r\n\r\nAlso, for the equals method, why does the compiler force me to use the &#39;?&#39;. Why couldn&#39;t I just use the T? \r\n\r\n    public static class Tuple&lt;T&gt; { \r\n    \t\tArrayList&lt;T&gt; tuple = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tpublic Tuple(ArrayList&lt;T&gt; items) {\r\n    \t\t\tfor (T item : items) {\r\n    \t\t\t\ttuple.add(item);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic int hashCode() {\r\n    \t\t\tT sum = ???;\r\n    \t\t\tfor (T item : tuple) {\r\n    \t\t\t\tsum += item.hashCode();\r\n    \t\t\t}\r\n                return sum;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override \r\n    \t\tpublic boolean equals(Object o) {\r\n    \t\t\tif (o instanceof Tuple&lt;?&gt;) {\r\n    \t\t\t\tTuple&lt;?&gt; tup= (Tuple&lt;?&gt;) o;\r\n                    if (tup.tuple.size() != this.tuple.size()) {\r\n                        return false;\r\n                    }\r\n                    for (int i = 0; i &lt; this.tuple.size(); i++) {\r\n                        if (this.tuple.get(i) != tup.tuple.get(i)) {\r\n                            return false;\r\n                        } \r\n                    }\r\n                    return true;\r\n    \t\t\t} else {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"How to make custom Tuple class generic?","body":"<p>I'm trying to make a generic tuple class. It stores its elements as an ArrayList. Of course, this class should override hashcode and equals methods.</p>\n\n<p>How could I make hashcode method for this class? You see, in the code, I am having trouble.</p>\n\n<p>Also, for the equals method, why does the compiler force me to use the '?'. Why couldn't I just use the T? </p>\n\n<pre><code>public static class Tuple&lt;T&gt; { \n        ArrayList&lt;T&gt; tuple = new ArrayList&lt;&gt;();\n\n        public Tuple(ArrayList&lt;T&gt; items) {\n            for (T item : items) {\n                tuple.add(item);\n            }\n        }\n\n        @Override\n        public int hashCode() {\n            T sum = ???;\n            for (T item : tuple) {\n                sum += item.hashCode();\n            }\n            return sum;\n        }\n\n        @Override \n        public boolean equals(Object o) {\n            if (o instanceof Tuple&lt;?&gt;) {\n                Tuple&lt;?&gt; tup= (Tuple&lt;?&gt;) o;\n                if (tup.tuple.size() != this.tuple.size()) {\n                    return false;\n                }\n                for (int i = 0; i &lt; this.tuple.size(); i++) {\n                    if (this.tuple.get(i) != tup.tuple.get(i)) {\n                        return false;\n                    } \n                }\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1687269908,"post_id":76515530,"comment_id":134911097,"body_markdown":"The method can only run once, you&#39;re not going to get JIT on a single execution of a method. The JVM immediately ends after that method.","body":"The method can only run once, you&#39;re not going to get JIT on a single execution of a method. The JVM immediately ends after that method."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1687327271,"post_id":76515530,"comment_id":134919129,"body_markdown":"@MarkRotteveel you are right. I suggest you delete the comment and post an answer, I will be glad to accept it.","body":"@MarkRotteveel you are right. I suggest you delete the comment and post an answer, I will be glad to accept it."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687332400,"creation_date":1687332400,"answer_id":76520927,"question_id":76515530,"body_markdown":"The problem is that under normal circumstances, code is initially interpreted and only JIT compiled when it is hot (called a lot, default is 10000).\r\n\r\nTo force code to be compiled immediately, use option `-Xcomp`, and then use `-XX:+PrintAssembly` (to be honest, the meaning of `-XX:+PrintOptoAssembly` is not entirely clear to me, except clearly, it doesn&#39;t seem to print assembly in this case ;).\r\n\r\nIn short, use:\r\n\r\n```bash\r\njava -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly -Xcomp Main\r\n```","title":"Why can&#39;t I see the code generated by JIT?","body":"<p>The problem is that under normal circumstances, code is initially interpreted and only JIT compiled when it is hot (called a lot, default is 10000).</p>\n<p>To force code to be compiled immediately, use option <code>-Xcomp</code>, and then use <code>-XX:+PrintAssembly</code> (to be honest, the meaning of <code>-XX:+PrintOptoAssembly</code> is not entirely clear to me, except clearly, it doesn't seem to print assembly in this case ;).</p>\n<p>In short, use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly -Xcomp Main\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76520927,"answer_count":1,"score":0,"last_activity_date":1687332400,"creation_date":1687269608,"question_id":76515530,"body_markdown":"I&#39;m trying to see the code generated by Java JIT, while this is my `Main.java`:\r\n\r\n```java\r\nclass Foo {\r\n  public static int bar() { return 42; }\r\n}\r\nclass Main {\r\n  public static void main(String... args) {\r\n    System.exit(Foo.bar());\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m running this way:\r\n\r\n```\r\n$ javac Main.java &amp;&amp; java -XX:+UnlockDiagnosticVMOptions -XX:+PrintOptoAssembly Main\r\n\r\n============================= C2-compiled nmethod ==============================\r\n\r\n============================= C2-compiled nmethod ==============================\r\n```\r\n\r\nWhere is the code?","title":"Why can&#39;t I see the code generated by JIT?","body":"<p>I'm trying to see the code generated by Java JIT, while this is my <code>Main.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n  public static int bar() { return 42; }\n}\nclass Main {\n  public static void main(String... args) {\n    System.exit(Foo.bar());\n  }\n}\n</code></pre>\n<p>I'm running this way:</p>\n<pre><code>$ javac Main.java &amp;&amp; java -XX:+UnlockDiagnosticVMOptions -XX:+PrintOptoAssembly Main\n\n============================= C2-compiled nmethod ==============================\n\n============================= C2-compiled nmethod ==============================\n</code></pre>\n<p>Where is the code?</p>\n"},{"tags":["java","spring","jms","activemq","spring-jms"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":7,"creation_date":1407163073,"post_id":25121094,"comment_id":39097784,"body_markdown":"Your first approach will only work for JMS 2.0 compliant JMS brokers, ActiveMQ isn&#39;t (at the moment) one of them. The second option is only going to work if you also enabled scheduling on the JMS broker side else the property will do nothing.","body":"Your first approach will only work for JMS 2.0 compliant JMS brokers, ActiveMQ isn&#39;t (at the moment) one of them. The second option is only going to work if you also enabled scheduling on the JMS broker side else the property will do nothing."},{"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"score":0,"creation_date":1407166782,"post_id":25121094,"comment_id":39100153,"body_markdown":"Thanks @M.Deinum. I set schedulerSupport=&quot;true&quot; in the activemq.xml and now it works.","body":"Thanks @M.Deinum. I set schedulerSupport=&quot;true&quot; in the activemq.xml and now it works."},{"owner":{"account_id":1056981,"reputation":1109,"user_id":1059465,"accept_rate":43,"display_name":"znlyj"},"score":0,"creation_date":1427707442,"post_id":25121094,"comment_id":46871844,"body_markdown":"The delayed message is stored in the client side?","body":"The delayed message is stored in the client side?"}],"answers":[{"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1591969579,"creation_date":1407170709,"answer_id":25123584,"question_id":25121094,"body_markdown":"The comments give the answer.  By default scheduled message support is disabled.  You must enabled it in the broker XML configuration file as mentioned on the [documentation][1] page.\r\n\r\nAn example Broker tag with scheduler support enabled:\r\n\r\n    &lt;broker xmlns=&quot;http://activemq.apache.org/schema/core&quot; brokerName=&quot;localhost&quot; dataDirectory=&quot;${activemq.data}&quot; schedulerSupport=&quot;true&quot;&gt;\r\n\r\nYou must of course restart the broker in order for configuration changes to take affect.  Then when you send a message you need to add the JMS headers that tell the broker what type of delay you want.\r\n\r\n    message.setIntProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, scheduledDelay);\r\n\r\n  [1]: http://activemq.apache.org/delay-and-schedule-message-delivery.html","title":"Spring JMS(ActiveMQ) delayed delivery of messages","body":"<p>The comments give the answer.  By default scheduled message support is disabled.  You must enabled it in the broker XML configuration file as mentioned on the <a href=\"http://activemq.apache.org/delay-and-schedule-message-delivery.html\" rel=\"nofollow noreferrer\">documentation</a> page.</p>\n\n<p>An example Broker tag with scheduler support enabled:</p>\n\n<pre><code>&lt;broker xmlns=\"http://activemq.apache.org/schema/core\" brokerName=\"localhost\" dataDirectory=\"${activemq.data}\" schedulerSupport=\"true\"&gt;\n</code></pre>\n\n<p>You must of course restart the broker in order for configuration changes to take affect.  Then when you send a message you need to add the JMS headers that tell the broker what type of delay you want.</p>\n\n<pre><code>message.setIntProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, scheduledDelay);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2693469,"reputation":147,"user_id":2326165,"display_name":"oleh.kovaliuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416911317,"creation_date":1416911317,"answer_id":27124221,"question_id":25121094,"body_markdown":"Also according to method from ActiveMQ BrokerService class you should configure persistence to have ability to use scheduler functionality.\r\n\r\n    public boolean isSchedulerSupport() {\r\n        return this.schedulerSupport &amp;&amp; (isPersistent() || jobSchedulerStore != null);\r\n    }","title":"Spring JMS(ActiveMQ) delayed delivery of messages","body":"<p>Also according to method from ActiveMQ BrokerService class you should configure persistence to have ability to use scheduler functionality.</p>\n\n<pre><code>public boolean isSchedulerSupport() {\n    return this.schedulerSupport &amp;&amp; (isPersistent() || jobSchedulerStore != null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9967427,"reputation":1,"user_id":7374695,"display_name":"Barca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506191019,"creation_date":1506191019,"answer_id":46382919,"question_id":25121094,"body_markdown":"      jmsTemplate.convertAndSend(destination, message, new MessagePostProcessor() {\r\n                @Override\r\n                public Message postProcessMessage(Message message) throws JMSException {\r\n                    message.setIntProperty(&quot;JMS_OracleDelay&quot;, 200);\r\n                    return message;\r\n                }\r\n            });","title":"Spring JMS(ActiveMQ) delayed delivery of messages","body":"<pre><code>  jmsTemplate.convertAndSend(destination, message, new MessagePostProcessor() {\n            @Override\n            public Message postProcessMessage(Message message) throws JMSException {\n                message.setIntProperty(\"JMS_OracleDelay\", 200);\n                return message;\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9927888,"reputation":11,"user_id":7348843,"display_name":"mr.tianshu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1515570949,"creation_date":1515570387,"answer_id":48182540,"question_id":25121094,"body_markdown":"    broker-url: vm://embedded?broker.persistent=true&amp;broker.useShutdownHook=false&amp;broker.schedulerSupport=true","title":"Spring JMS(ActiveMQ) delayed delivery of messages","body":"<pre><code>broker-url: vm://embedded?broker.persistent=true&amp;broker.useShutdownHook=false&amp;broker.schedulerSupport=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1120665,"reputation":1381,"user_id":1109043,"accept_rate":50,"display_name":"neaGaze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675350160,"creation_date":1517427993,"answer_id":48550276,"question_id":25121094,"body_markdown":"The JMS 2.0 is not supported in the activemq package. Try using artemis instead. Try replacing the package name from\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.6.RELEASE&lt;/version&gt; \r\n\t\t&lt;/dependency&gt;\r\n\r\ninto \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-artemis&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.6.RELEASE&lt;/version&gt; \r\n\t\t&lt;/dependency&gt;\r\n\r\nand also add in the application.properties\r\n\r\n        spring.artemis.mode=native\r\n        spring.artemis.host=localhost\r\n        spring.artemis.port=61616\r\n        spring.artemis.user=admin\r\n        spring.artemis.password=admin\r\n\r\n","title":"Spring JMS(ActiveMQ) delayed delivery of messages","body":"<p>The JMS 2.0 is not supported in the activemq package. Try using artemis instead. Try replacing the package name from</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt; \n    &lt;/dependency&gt;\n</code></pre>\n<p>into</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-artemis&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt; \n    &lt;/dependency&gt;\n</code></pre>\n<p>and also add in the application.properties</p>\n<pre><code>    spring.artemis.mode=native\n    spring.artemis.host=localhost\n    spring.artemis.port=61616\n    spring.artemis.user=admin\n    spring.artemis.password=admin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15181773,"reputation":1,"user_id":10954869,"display_name":"Nurlan Rysbaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548237021,"creation_date":1548237021,"answer_id":54324363,"question_id":25121094,"body_markdown":"Documentation http://activemq.apache.org/delay-and-schedule-message-delivery.html\r\n\r\nExample: after 10 sec received message by consumer\r\n\r\n    public void send(Object object) {\r\n        log.info(&quot;put &lt;&quot; + object + &quot;&gt;&quot;);\r\n        jmsTemplate.convertAndSend(QUEUE_NAME, object, m -&gt; {\r\n            m.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, 10000);\r\n            return m;\r\n        });\r\n    }\r\n\r\n","title":"Spring JMS(ActiveMQ) delayed delivery of messages","body":"<p>Documentation <a href=\"http://activemq.apache.org/delay-and-schedule-message-delivery.html\" rel=\"nofollow noreferrer\">http://activemq.apache.org/delay-and-schedule-message-delivery.html</a></p>\n\n<p>Example: after 10 sec received message by consumer</p>\n\n<pre><code>public void send(Object object) {\n    log.info(\"put &lt;\" + object + \"&gt;\");\n    jmsTemplate.convertAndSend(QUEUE_NAME, object, m -&gt; {\n        m.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, 10000);\n        return m;\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572863134,"creation_date":1548827318,"answer_id":54434036,"question_id":25121094,"body_markdown":"Two things needs to be done to resolve this.\r\n\r\n - By default scheduled message support is disabled. We must enabled it in the broker XML configuration file.\r\n\r\n&gt; broker xmlns=&quot;http://activemq.apache.org/schema/core&quot;\r\n&gt; brokerName=&quot;localhost&quot; dataDirectory=&quot;${activemq.data}&quot;\r\n&gt; schedulerSupport=&quot;true&quot;&gt;\r\n\r\n - Set the delay before sending the message.\r\n\r\n\r\n\r\n        public void send(Object object) {\r\n            log.info(&quot;put &lt;&quot; + object + &quot;&gt;&quot;);\r\n            jmsTemplate.convertAndSend(QUEUE_NAME, object, m -&gt; {\r\n               m.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, 10000);\r\n               return m;\r\n            });\r\n        }\r\n\r\n","title":"Spring JMS(ActiveMQ) delayed delivery of messages","body":"<p>Two things needs to be done to resolve this.</p>\n\n<ul>\n<li>By default scheduled message support is disabled. We must enabled it in the broker XML configuration file.</li>\n</ul>\n\n<blockquote>\n  <p>broker xmlns=\"http://activemq.apache.org/schema/core\"\n  brokerName=\"localhost\" dataDirectory=\"${activemq.data}\"\n  schedulerSupport=\"true\"></p>\n</blockquote>\n\n<ul>\n<li><p>Set the delay before sending the message.</p>\n\n<pre><code>public void send(Object object) {\n    log.info(\"put &lt;\" + object + \"&gt;\");\n    jmsTemplate.convertAndSend(QUEUE_NAME, object, m -&gt; {\n       m.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, 10000);\n       return m;\n    });\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14475107,"reputation":11,"user_id":10455947,"display_name":"Ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574697263,"creation_date":1574694210,"answer_id":59034679,"question_id":25121094,"body_markdown":"1. I have added `schedulerSupport=true` in active mq configuration xml. Please dont forget to restart the active mq server after configuration changes. Once you restart and login to &quot;Scheduled&quot; tab on admin console of activemq, you would see scheduled message details.\r\n\r\n2. `jmsTemplate.setDeliveryDelay` did not work for me so I added the below piece of code :\r\nused \r\n```java\r\n    jmsTemplate.convertAndSend(queueName, object, new MessagePostProcessor() {\r\n            @Override\r\n            public Message postProcessMessage(Message message) throws JMSException {\r\n                message.setIntProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, scheduledDelay);\r\n                return message;\r\n            }\r\n        });\r\n```\r\nPlease note : It was not working for me in the beginning. But what was needed was an restart on activeMQ server to reflect the changes in config","title":"Spring JMS(ActiveMQ) delayed delivery of messages","body":"<ol>\n<li><p>I have added <code>schedulerSupport=true</code> in active mq configuration xml. Please dont forget to restart the active mq server after configuration changes. Once you restart and login to \"Scheduled\" tab on admin console of activemq, you would see scheduled message details.</p></li>\n<li><p><code>jmsTemplate.setDeliveryDelay</code> did not work for me so I added the below piece of code :\nused </p></li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>    jmsTemplate.convertAndSend(queueName, object, new MessagePostProcessor() {\n            @Override\n            public Message postProcessMessage(Message message) throws JMSException {\n                message.setIntProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, scheduledDelay);\n                return message;\n            }\n        });\n</code></pre>\n\n<p>Please note : It was not working for me in the beginning. But what was needed was an restart on activeMQ server to reflect the changes in config</p>\n"},{"tags":[],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687332332,"creation_date":1687253082,"answer_id":76513237,"question_id":25121094,"body_markdown":"You can also define a new, delaying JmsTemplate which you can autowire where needed:\r\n\r\n    @Bean\r\n    public JmsTemplate jmsTemplate(){\r\n        JmsTemplate jmsTemplate = new JmsTemplate();\r\n        jmsTemplate.setConnectionFactory(connectionFactory());\r\n        return jmsTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public JmsTemplate delayingJmsTemplate(){\r\n        JmsTemplate jmsTemplate = new JmsTemplate();\r\n        jmsTemplate.setDeliveryDelay(1000);\r\n        jmsTemplate.setConnectionFactory(connectionFactory());\r\n        return jmsTemplate;\r\n    }\r\n\r\n    ...\r\n\r\n    @Autowired\r\n    private JmsTemplate jmsTemplate;\r\n    \r\n    @Autowired\r\n    private JmsTemplate delayingJmsTemplate;","title":"Spring JMS(ActiveMQ) delayed delivery of messages","body":"<p>You can also define a new, delaying JmsTemplate which you can autowire where needed:</p>\n<pre><code>@Bean\npublic JmsTemplate jmsTemplate(){\n    JmsTemplate jmsTemplate = new JmsTemplate();\n    jmsTemplate.setConnectionFactory(connectionFactory());\n    return jmsTemplate;\n}\n\n@Bean\npublic JmsTemplate delayingJmsTemplate(){\n    JmsTemplate jmsTemplate = new JmsTemplate();\n    jmsTemplate.setDeliveryDelay(1000);\n    jmsTemplate.setConnectionFactory(connectionFactory());\n    return jmsTemplate;\n}\n\n...\n\n@Autowired\nprivate JmsTemplate jmsTemplate;\n\n@Autowired\nprivate JmsTemplate delayingJmsTemplate;\n</code></pre>\n"}],"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21098,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":25123584,"answer_count":9,"score":10,"last_activity_date":1687332332,"creation_date":1407162660,"question_id":25121094,"body_markdown":"We&#39;re trying to set a delay on some JMS messages, so that a message will only be added to the queue/ received by the listener after x time. So far we&#39;ve tried 2 approaches that didn&#39;t work.\r\n\r\n1) According to the spring documentation, we can set the delivery delay on the JMSTemplate. This is the sample code we tried:\r\n\r\n    @Autowired\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    ...\r\n    long deliveryDelay = ...;\r\n\tthis.jmsTemplate.setDeliveryDelay(deliveryDelay);\r\n\tthis.jmsTemplate.convertAndSend(\r\n\t\t\t\t\t    queue.getName(),\r\n\t\t\t\t\t    event);\r\n    ...\r\n\r\nHowever, we get the following exception, even though our spring jms version is 4.0.5:\r\n\r\n    java.lang.IllegalStateException: setDeliveryDelay requires JMS 2.0\r\n\r\n2) We also tried setting the delay on the message itself, but it looks like the delay was ignored, and the message was delivered immediately anyway.\r\n\r\n\r\n    @Component\r\n    public class MyMessageConverter implements MessageConverter {\r\n\r\n    ...\r\n\r\n    @Override\r\n    public Message toMessage(Object eventObject, Session session) throws JMSException, MessageConversionException {\r\n\r\n    ...\r\n    long deliveryDelay = ...;\r\n\tobjectMessage.setLongProperty(\r\n\t\t\t\t      ScheduledMessage.AMQ_SCHEDULED_DELAY,\r\n\t\t\t\t      deliveryDelay);\r\n\treturn objectMessage;\r\n    }\r\n    }\r\n\r\n\r\nThe jmsTemplate definition in the spring xml:\r\n\r\n\t&lt;bean id=&quot;jmsTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;\r\n\t\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;cachingConnectionFactory&quot; /&gt;\r\n\t\t&lt;property name=&quot;messageConverter&quot; ref=&quot;myMessageConverter&quot; /&gt;\r\n\t\t&lt;property name=&quot;sessionTransacted&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nDoes anyone has any suggestions on what the problems are / other ideas on how to achieve delayed messaging?\r\nThanks!","title":"Spring JMS(ActiveMQ) delayed delivery of messages","body":"<p>We're trying to set a delay on some JMS messages, so that a message will only be added to the queue/ received by the listener after x time. So far we've tried 2 approaches that didn't work.</p>\n\n<p>1) According to the spring documentation, we can set the delivery delay on the JMSTemplate. This is the sample code we tried:</p>\n\n<pre><code>@Autowired\nprivate JmsTemplate jmsTemplate;\n\n...\nlong deliveryDelay = ...;\nthis.jmsTemplate.setDeliveryDelay(deliveryDelay);\nthis.jmsTemplate.convertAndSend(\n                    queue.getName(),\n                    event);\n...\n</code></pre>\n\n<p>However, we get the following exception, even though our spring jms version is 4.0.5:</p>\n\n<pre><code>java.lang.IllegalStateException: setDeliveryDelay requires JMS 2.0\n</code></pre>\n\n<p>2) We also tried setting the delay on the message itself, but it looks like the delay was ignored, and the message was delivered immediately anyway.</p>\n\n<pre><code>@Component\npublic class MyMessageConverter implements MessageConverter {\n\n...\n\n@Override\npublic Message toMessage(Object eventObject, Session session) throws JMSException, MessageConversionException {\n\n...\nlong deliveryDelay = ...;\nobjectMessage.setLongProperty(\n                  ScheduledMessage.AMQ_SCHEDULED_DELAY,\n                  deliveryDelay);\nreturn objectMessage;\n}\n}\n</code></pre>\n\n<p>The jmsTemplate definition in the spring xml:</p>\n\n<pre><code>&lt;bean id=\"jmsTemplate\" class=\"org.springframework.jms.core.JmsTemplate\"&gt;\n    &lt;property name=\"connectionFactory\" ref=\"cachingConnectionFactory\" /&gt;\n    &lt;property name=\"messageConverter\" ref=\"myMessageConverter\" /&gt;\n    &lt;property name=\"sessionTransacted\" value=\"true\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Does anyone has any suggestions on what the problems are / other ideas on how to achieve delayed messaging?\nThanks!</p>\n"},{"tags":["java","csvreader"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":4,"creation_date":1687323432,"post_id":76519993,"comment_id":134918593,"body_markdown":"When using 3rd party libraries which are not part of the Java standard library you should mention which library you use. Have you checked whether the input file is UTF-8 or maybe rather ISO 8859-1 or Windows-1252?","body":"When using 3rd party libraries which are not part of the Java standard library you should mention which library you use. Have you checked whether the input file is UTF-8 or maybe rather ISO 8859-1 or Windows-1252?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1687323658,"post_id":76519993,"comment_id":134918627,"body_markdown":"are you sure that the reader is actually reading `&quot;Sonnige H�he&quot;`, or is it the console that is displaying it that way? How are you testing it?","body":"are you sure that the reader is actually reading <code>&quot;Sonnige H�he&quot;</code>, or is it the console that is displaying it that way? How are you testing it?"},{"owner":{"account_id":7166078,"reputation":145,"user_id":5475146,"display_name":"Robert Bethge"},"score":0,"creation_date":1687331425,"post_id":76519993,"comment_id":134919886,"body_markdown":"@Abra, I&#39;m using https://www.csvreader.com/java_csv/docs/com/csvreader/CsvReader.html","body":"@Abra, I&#39;m using <a href=\"https://www.csvreader.com/java_csv/docs/com/csvreader/CsvReader.html\" rel=\"nofollow noreferrer\">csvreader.com/java_csv/docs/com/csvreader/CsvReader.html</a>"},{"owner":{"account_id":7166078,"reputation":145,"user_id":5475146,"display_name":"Robert Bethge"},"score":0,"creation_date":1687331500,"post_id":76519993,"comment_id":134919902,"body_markdown":"@Slevin, it&#39;s a CSV file I got from the customer...probably generated by Excel.","body":"@Slevin, it&#39;s a CSV file I got from the customer...probably generated by Excel."},{"owner":{"account_id":7166078,"reputation":145,"user_id":5475146,"display_name":"Robert Bethge"},"score":0,"creation_date":1687331683,"post_id":76519993,"comment_id":134919961,"body_markdown":"@user16320675 I&#39;m using Eclipse and I stepped into the readRecord() method of the CsvReader class and I see the strings coming out wrong.","body":"@user16320675 I&#39;m using Eclipse and I stepped into the readRecord() method of the CsvReader class and I see the strings coming out wrong."},{"owner":{"account_id":7166078,"reputation":145,"user_id":5475146,"display_name":"Robert Bethge"},"score":0,"creation_date":1687332074,"post_id":76519993,"comment_id":134920037,"body_markdown":"@Slevin turns out you were right. If I change UTF-8 to ISO-8859-1, it works! Thanks all for your inputs!","body":"@Slevin turns out you were right. If I change UTF-8 to ISO-8859-1, it works! Thanks all for your inputs!"}],"answers":[{"tags":[],"owner":{"account_id":7166078,"reputation":145,"user_id":5475146,"display_name":"Robert Bethge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687332229,"creation_date":1687332229,"answer_id":76520898,"question_id":76519993,"body_markdown":"If I change the charset from UTF-8 to ISO-8859-1, it works. Here is the modified line:\r\n\t\t\t\r\n\r\n    // DOESN&#39;T WORK: CsvReader \taddressDataCsvFile\t\t=\tnew CsvReader(addressDataCsvFilename, &#39;,&#39;, Charset.forName(&quot;UTF-8&quot;) );\r\n    CsvReader \taddressDataCsvFile\t\t=\tnew CsvReader(addressDataCsvFilename, &#39;,&#39;, Charset.forName(&quot;ISO-8859-1&quot;) );\r\n\t\t\t","title":"Extracting Strings from CSV file using Java CSVReader messes up German Umlaute (&#246;,&#228;,&#252;,...)","body":"<p>If I change the charset from UTF-8 to ISO-8859-1, it works. Here is the modified line:</p>\n<pre><code>// DOESN'T WORK: CsvReader  addressDataCsvFile      =   new CsvReader(addressDataCsvFilename, ',', Charset.forName(&quot;UTF-8&quot;) );\nCsvReader   addressDataCsvFile      =   new CsvReader(addressDataCsvFilename, ',', Charset.forName(&quot;ISO-8859-1&quot;) );\n        \n</code></pre>\n"}],"owner":{"account_id":7166078,"reputation":145,"user_id":5475146,"display_name":"Robert Bethge"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687332229,"creation_date":1687322461,"question_id":76519993,"body_markdown":"I&#39;m extracting German addresses from a CSV file using Java CsvReader. Some of the street names have special German characters, also called &quot;Umlaute&quot;, like &#246;,&#228;,&#252;,... (Example: Sonnige H&#246;he). Here is the code I use:\r\n```java\r\ntry {\r\n    String addressDataCsvFilename = &quot;Tannis_Export.csv&quot;;\r\n    CsvReader addressDataCsvFile = new CsvReader(addressDataCsvFilename, &#39;,&#39;, Charset.forName(&quot;UTF-8&quot;) );\r\n/*\r\n    String[] headers = {\r\n            &quot;PLZ&quot;,         // C\r\n            &quot;Strasse&quot;,     // E\r\n            &quot;Hausnummer&quot;,  // F\r\n        };\r\n */\r\n\r\n    // get headers\r\n    addressDataCsvFile.readHeaders();\r\n    while (addressDataCsvFile.readRecord()) {\r\n        // workaround for issue with CSVReader not finding header in first column\r\n        // String partNumber    = priceListCsvFile.get(&quot;PART NUMBER&quot;);\r\n        String postleitzahl  = addressDataCsvFile.get(&quot;PLZ&quot;);\r\n        String strassenName  = addressDataCsvFile.get(&quot;Strasse&quot;);\r\n        String hausNummer    = addressDataCsvFile.get(&quot;Hausnummer&quot;);\r\n```\r\nIt turns out that even though I&#39;m specifying UTF-8 as charset, `CsvReader.readRecord()` doesn&#39;t read the special German characters correctly, so &quot;Sonnige H&#246;he&quot; becomes &quot;Sonnige H�he&quot;. How to prevent that?","title":"Extracting Strings from CSV file using Java CSVReader messes up German Umlaute (&#246;,&#228;,&#252;,...)","body":"<p>I'm extracting German addresses from a CSV file using Java CsvReader. Some of the street names have special German characters, also called &quot;Umlaute&quot;, like ö,ä,ü,... (Example: Sonnige Höhe). Here is the code I use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    String addressDataCsvFilename = &quot;Tannis_Export.csv&quot;;\n    CsvReader addressDataCsvFile = new CsvReader(addressDataCsvFilename, ',', Charset.forName(&quot;UTF-8&quot;) );\n/*\n    String[] headers = {\n            &quot;PLZ&quot;,         // C\n            &quot;Strasse&quot;,     // E\n            &quot;Hausnummer&quot;,  // F\n        };\n */\n\n    // get headers\n    addressDataCsvFile.readHeaders();\n    while (addressDataCsvFile.readRecord()) {\n        // workaround for issue with CSVReader not finding header in first column\n        // String partNumber    = priceListCsvFile.get(&quot;PART NUMBER&quot;);\n        String postleitzahl  = addressDataCsvFile.get(&quot;PLZ&quot;);\n        String strassenName  = addressDataCsvFile.get(&quot;Strasse&quot;);\n        String hausNummer    = addressDataCsvFile.get(&quot;Hausnummer&quot;);\n</code></pre>\n<p>It turns out that even though I'm specifying UTF-8 as charset, <code>CsvReader.readRecord()</code> doesn't read the special German characters correctly, so &quot;Sonnige Höhe&quot; becomes &quot;Sonnige H�he&quot;. How to prevent that?</p>\n"},{"tags":["java","hibernate","jaxb","powermock","powermockito"],"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687331964,"creation_date":1687268991,"question_id":76515439,"body_markdown":"I am getting this error when I run the powermock test. I am using java 13 and gradle 6.5.1. Any suggestion with this really help.\r\nThis is working fine with hibernate-core 5.3.21.Final and above but not with 5.2.x.\r\n \r\n**build.gradle:-**\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n    \r\n        // hibernate &amp; JPA\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa:2.2.12.RELEASE&#39;) {\r\n            exclude group: &#39;org.hibernate&#39;, module: &#39;hibernate-core&#39;\r\n        }\r\n        implementation &#39;org.hibernate:hibernate-core:5.2.17.Final&#39;\r\n    \r\n    \r\n        // junit\r\n        testCompile &#39;org.junit.jupiter:junit-jupiter:5.7.1&#39;\r\n        testCompile &#39;org.junit.vintage:junit-vintage-engine:5.7.1&#39;\r\n    \r\n    \r\n        // powermock\r\n        testCompile &#39;org.powermock:powermock-module-junit4:2.0.9&#39;\r\n        testCompile &#39;org.powermock:powermock-api-mockito2:2.0.9&#39;\r\n        testCompile &#39;org.powermock:powermock-api-mockito2:2.0.9&#39;\r\n    \r\n        // jaxb\r\n        implementation &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-impl:2.3.0&#39;\r\n        implementation &#39;com.sun.xml.bind:jaxb-core:2.3.0&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n**Test class:-**\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.core.classloader.annotations.PowerMockIgnore;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PowerMockIgnore({&quot;jdk.internal.reflect.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.*&quot;, &quot;org.w3c.*&quot;, &quot;com.sun.*&quot;})\r\n    public class PowerTest {\r\n        \r\n        @Test\r\n        public void myTest() {\r\n          ApplicationContext context = new ClassPathXmlApplicationContext(new String[] { &quot;testApplicationContext.xml&quot;});\r\n    \r\n        }\r\n    }\r\n\r\n**testApplicationContext.xml:-**\r\n\r\n    &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \r\n        &lt;bean class = &quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot; id = &quot;sessionFactory&quot; &gt;\r\n            &lt;property name = &quot;configLocation&quot;&gt;\r\n                &lt;value&gt;hibernate.cfg.xml&lt;/value&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n**hibernate.cfg.xml:-**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 5.0//EN&quot;\r\n            &quot;http://www.hibernate.org/dtd/hibernate-configuration-5.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;  \r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n**Error log(minimalized):-**\r\n\r\n&gt; Error creating bean with name &#39;sessionFactory&#39; defined in class path\r\n&gt; resource [testApplicationContext.xml]: Invocation of init method\r\n&gt; failed; nested exception is\r\n&gt; org.hibernate.internal.util.config.ConfigurationException: Unable to\r\n&gt; perform unmarshalling at line number -1 and column -1 in URL\r\n&gt; file:/C:/GitHub/PowerMockTest/build/resources/test/hibernate.cfg.xml.\r\n&gt; Message: unexpected element\r\n&gt; (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\r\n&gt; local:&quot;hibernate-configuration&quot;). Expected elements are\r\n&gt; &lt;{}hibernate-configuration&gt;\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;sessionFactory&#39; defined in class path\r\n&gt; resource [testApplicationContext.xml]: Invocation of init method\r\n&gt; failed; nested exception is\r\n&gt; org.hibernate.internal.util.config.ConfigurationException: Unable to\r\n&gt; perform unmarshalling at line number -1 and column -1 in URL\r\n&gt; file:/C:/GitHub/PowerMockTest/build/resources/test/hibernate.cfg.xml.\r\n&gt; Message: unexpected element\r\n&gt; (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\r\n&gt; local:&quot;hibernate-configuration&quot;). Expected elements are\r\n&gt; &lt;{}hibernate-configuration&gt; Caused by:\r\n&gt; org.hibernate.internal.util.config.ConfigurationException: Unable to\r\n&gt; perform unmarshalling at line number -1 and column -1 in URL\r\n&gt; file:/C:/GitHub/PowerMockTest/build/resources/test/hibernate.cfg.xml.\r\n&gt; Message: unexpected element\r\n&gt; (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\r\n&gt; local:&quot;hibernate-configuration&quot;). Expected elements are\r\n&gt; &lt;{}hibernate-configuration&gt; \tat\r\n&gt; org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:133)\r\n&gt; \tat\r\n&gt; org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\r\n&gt; \tat\r\n&gt; org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlUrl(ConfigLoader.java:94)\r\n&gt; \tat\r\n&gt; org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:171)\r\n&gt; \tat org.hibernate.cfg.Configuration.configure(Configuration.java:283)\r\n&gt; \tat\r\n&gt; org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:501)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)\r\n&gt; \t... 87 more Caused by: javax.xml.bind.UnmarshalException\r\n&gt;  - with linked exception: [com.sun.istack.SAXParseException2; unexpected element (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\r\n&gt; local:&quot;hibernate-configuration&quot;). Expected elements are\r\n&gt; &lt;{}hibernate-configuration&gt;] \tat\r\n&gt; com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:483)\r\n&gt; \tat\r\n&gt; com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:463)\r\n&gt; \tat\r\n&gt; com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:435)\r\n&gt; \tat\r\n&gt; org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:126)\r\n&gt; \t... 94 more Caused by: com.sun.istack.SAXParseException2; unexpected\r\n&gt; element (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\r\n&gt; local:&quot;hibernate-configuration&quot;). Expected elements are\r\n&gt; &lt;{}hibernate-configuration&gt; \tat\r\n&gt; com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:741)\r\n&gt; \t... 96 more Caused by: javax.xml.bind.UnmarshalException: unexpected\r\n&gt; element (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\r\n&gt; local:&quot;hibernate-configuration&quot;). Expected elements are\r\n&gt; &lt;{}hibernate-configuration&gt; \t... 108 more","title":"Powermock and JAXB causing javax.xml.bind.UnmarshalException","body":"<p>I am getting this error when I run the powermock test. I am using java 13 and gradle 6.5.1. Any suggestion with this really help.\nThis is working fine with hibernate-core 5.3.21.Final and above but not with 5.2.x.</p>\n<p><strong>build.gradle:-</strong></p>\n<pre><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n\n    // hibernate &amp; JPA\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa:2.2.12.RELEASE') {\n        exclude group: 'org.hibernate', module: 'hibernate-core'\n    }\n    implementation 'org.hibernate:hibernate-core:5.2.17.Final'\n\n\n    // junit\n    testCompile 'org.junit.jupiter:junit-jupiter:5.7.1'\n    testCompile 'org.junit.vintage:junit-vintage-engine:5.7.1'\n\n\n    // powermock\n    testCompile 'org.powermock:powermock-module-junit4:2.0.9'\n    testCompile 'org.powermock:powermock-api-mockito2:2.0.9'\n    testCompile 'org.powermock:powermock-api-mockito2:2.0.9'\n\n    // jaxb\n    implementation 'javax.xml.bind:jaxb-api:2.3.1'\n    implementation 'com.sun.xml.bind:jaxb-impl:2.3.0'\n    implementation 'com.sun.xml.bind:jaxb-core:2.3.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><strong>Test class:-</strong></p>\n<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PowerMockIgnore;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\n@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({&quot;jdk.internal.reflect.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.*&quot;, &quot;org.w3c.*&quot;, &quot;com.sun.*&quot;})\npublic class PowerTest {\n    \n    @Test\n    public void myTest() {\n      ApplicationContext context = new ClassPathXmlApplicationContext(new String[] { &quot;testApplicationContext.xml&quot;});\n\n    }\n}\n</code></pre>\n<p><strong>testApplicationContext.xml:-</strong></p>\n<pre><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n    &lt;bean class = &quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot; id = &quot;sessionFactory&quot; &gt;\n        &lt;property name = &quot;configLocation&quot;&gt;\n            &lt;value&gt;hibernate.cfg.xml&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p><strong>hibernate.cfg.xml:-</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 5.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-5.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;  \n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>Error log(minimalized):-</strong></p>\n<blockquote>\n<p>Error creating bean with name 'sessionFactory' defined in class path\nresource [testApplicationContext.xml]: Invocation of init method\nfailed; nested exception is\norg.hibernate.internal.util.config.ConfigurationException: Unable to\nperform unmarshalling at line number -1 and column -1 in URL\nfile:/C:/GitHub/PowerMockTest/build/resources/test/hibernate.cfg.xml.\nMessage: unexpected element\n(uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\nlocal:&quot;hibernate-configuration&quot;). Expected elements are\n&lt;{}hibernate-configuration&gt;\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'sessionFactory' defined in class path\nresource [testApplicationContext.xml]: Invocation of init method\nfailed; nested exception is\norg.hibernate.internal.util.config.ConfigurationException: Unable to\nperform unmarshalling at line number -1 and column -1 in URL\nfile:/C:/GitHub/PowerMockTest/build/resources/test/hibernate.cfg.xml.\nMessage: unexpected element\n(uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\nlocal:&quot;hibernate-configuration&quot;). Expected elements are\n&lt;{}hibernate-configuration&gt; Caused by:\norg.hibernate.internal.util.config.ConfigurationException: Unable to\nperform unmarshalling at line number -1 and column -1 in URL\nfile:/C:/GitHub/PowerMockTest/build/resources/test/hibernate.cfg.xml.\nMessage: unexpected element\n(uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\nlocal:&quot;hibernate-configuration&quot;). Expected elements are\n&lt;{}hibernate-configuration&gt;   at\norg.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:133)\nat\norg.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\nat\norg.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlUrl(ConfigLoader.java:94)\nat\norg.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:171)\nat org.hibernate.cfg.Configuration.configure(Configuration.java:283)\nat\norg.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:501)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)\n... 87 more Caused by: javax.xml.bind.UnmarshalException</p>\n<ul>\n<li>with linked exception: [com.sun.istack.SAXParseException2; unexpected element (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\nlocal:&quot;hibernate-configuration&quot;). Expected elements are\n&lt;{}hibernate-configuration&gt;]  at\ncom.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:483)\nat\ncom.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:463)\nat\ncom.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:435)\nat\norg.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:126)\n... 94 more Caused by: com.sun.istack.SAXParseException2; unexpected\nelement (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\nlocal:&quot;hibernate-configuration&quot;). Expected elements are\n&lt;{}hibernate-configuration&gt;   at\ncom.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:741)\n... 96 more Caused by: javax.xml.bind.UnmarshalException: unexpected\nelement (uri:&quot;http://www.hibernate.org/xsd/orm/cfg&quot;,\nlocal:&quot;hibernate-configuration&quot;). Expected elements are\n&lt;{}hibernate-configuration&gt;   ... 108 more</li>\n</ul>\n</blockquote>\n"},{"tags":["java","android","cordova","gradle"],"owner":{"account_id":28695611,"reputation":13,"user_id":21973895,"display_name":"DYNAMO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687331784,"creation_date":1687331350,"question_id":76520790,"body_markdown":"[![REQUIREMENTS][1]][1]\r\n\r\n[![TERMINAL IMG WITH ERROR][2]][2]\r\n\r\nMicrosoft Windows [Version 10.0.19044.2846]\r\n(c) Microsoft Corporation. T&#252;m hakları saklıdır.\r\n\r\nC:\\Users\\acer&gt;cordova create demo com.dynm.demo demo\r\nCreating a new cordova project.\r\n\r\nC:\\Users\\acer&gt;cd demo\r\n\r\nC:\\Users\\acer\\demo&gt;cordova platform add android\r\nUsing cordova-fetch for cordova-android\r\nAdding android project...\r\nCreating Cordova project for the Android platform:\r\n        Path: platforms\\android\r\n        Package: com.dynm.demo\r\n        Name: demo\r\n        Activity: MainActivity\r\n        Android Target SDK: android-33\r\n        Android Compile SDK: 33\r\nSubproject Path: CordovaLib\r\nSubproject Path: app\r\nAndroid project created with cordova-android@12.0.0\r\n\r\nC:\\Users\\acer\\demo&gt;cordova build\r\nChecking Java JDK and Android SDK versions\r\nANDROID_HOME=C:\\Users\\acer\\AppData\\Local\\Android\\Sdk (recommended setting)\r\nANDROID_SDK_ROOT=undefined (DEPRECATED)\r\nUsing Android SDK: C:\\Users\\acer\\AppData\\Local\\Android\\Sdk\r\n\r\nWelcome to Gradle 7.4.1!\r\n\r\nHere are the highlights of this release:\r\n - Aggregated test and JaCoCo reports\r\n - Marking additional test source directories as tests in IntelliJ\r\n - Support for Adoptium JDKs in Java toolchains\r\n\r\nFor more details see https://docs.gradle.org/7.4.1/release-notes.html\r\n\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.4.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBU&#166;LD SUCCESSFUL in 6s\r\n1 actionable task: 1 executed\r\nSubproject Path: CordovaLib\r\nSubproject Path: app\r\nStarting a Gradle Daemon, 2 incompatible Daemons could not be reused, use --status for details\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;demo&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.2.\r\n     Required by:\r\n         project :\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBU&#166;LD FAILED in 6s\r\nCommand failed with exit code 1: C:\\Users\\acer\\demo\\platforms\\android\\gradlew -b C:\\Users\\acer\\demo\\platforms\\android\\build.gradle cdvBuildDebug\r\n\r\nC:\\Users\\acer\\demo&gt;cordova requirements\r\n\r\nRequirements check results for android:\r\nJava JDK: installed 1.8.0\r\nAndroid SDK: installed true\r\nAndroid target: not installed\r\nCommand failed with exit code 1: avdmanager list target\r\n&#39;avdmanager&#39; is not recognized as an internal or external command,\r\noperable program or batch file.\r\nGradle: installed C:\\gradle-7.4.1\\bin\\gradle.BAT\r\nSome of requirements check failed\r\n\r\nHow can ı slow this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tuoq3.png\r\n  [2]: https://i.stack.imgur.com/TWsPc.png","title":"About Apache Cordova Setup","body":"<p><a href=\"https://i.stack.imgur.com/tuoq3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tuoq3.png\" alt=\"REQUIREMENTS\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/TWsPc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TWsPc.png\" alt=\"TERMINAL IMG WITH ERROR\" /></a></p>\n<p>Microsoft Windows [Version 10.0.19044.2846]\n(c) Microsoft Corporation. Tüm hakları saklıdır.</p>\n<p>C:\\Users\\acer&gt;cordova create demo com.dynm.demo demo\nCreating a new cordova project.</p>\n<p>C:\\Users\\acer&gt;cd demo</p>\n<p>C:\\Users\\acer\\demo&gt;cordova platform add android\nUsing cordova-fetch for cordova-android\nAdding android project...\nCreating Cordova project for the Android platform:\nPath: platforms\\android\nPackage: com.dynm.demo\nName: demo\nActivity: MainActivity\nAndroid Target SDK: android-33\nAndroid Compile SDK: 33\nSubproject Path: CordovaLib\nSubproject Path: app\nAndroid project created with cordova-android@12.0.0</p>\n<p>C:\\Users\\acer\\demo&gt;cordova build\nChecking Java JDK and Android SDK versions\nANDROID_HOME=C:\\Users\\acer\\AppData\\Local\\Android\\Sdk (recommended setting)\nANDROID_SDK_ROOT=undefined (DEPRECATED)\nUsing Android SDK: C:\\Users\\acer\\AppData\\Local\\Android\\Sdk</p>\n<p>Welcome to Gradle 7.4.1!</p>\n<p>Here are the highlights of this release:</p>\n<ul>\n<li>Aggregated test and JaCoCo reports</li>\n<li>Marking additional test source directories as tests in IntelliJ</li>\n<li>Support for Adoptium JDKs in Java toolchains</li>\n</ul>\n<p>For more details see <a href=\"https://docs.gradle.org/7.4.1/release-notes.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.4.1/release-notes.html</a></p>\n<p>Starting a Gradle Daemon (subsequent builds will be faster)</p>\n<p>Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.</p>\n<p>You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.</p>\n<p>See <a href=\"https://docs.gradle.org/7.4.1/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.4.1/userguide/command_line_interface.html#sec:command_line_warnings</a></p>\n<p>BU¦LD SUCCESSFUL in 6s\n1 actionable task: 1 executed\nSubproject Path: CordovaLib\nSubproject Path: app\nStarting a Gradle Daemon, 2 incompatible Daemons could not be reused, use --status for details</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nA problem occurred configuring root project 'demo'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':classpath'.\nCould not resolve com.android.tools.build:gradle:7.4.2.\nRequired by:\nproject :\n&gt; No matching variant of com.android.tools.build:gradle:7.4.2 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6' but:\n- Variant 'apiElements' capability com.android.tools.build:gradle:7.4.2 declares a library, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n- Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\n- Incompatible because this component declares documentation and the consumer needed a library\n- Other compatible attributes:\n- Doesn't say anything about its target Java version (required compatibility with Java 8)\n- Doesn't say anything about its elements (required them packaged as a jar)\n- Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n- Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n- Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.2 declares a runtime of a component, and its dependencies declared externally:\n- Incompatible because this component declares documentation and the consumer needed a library\n- Other compatible attributes:\n- Doesn't say anything about its target Java version (required compatibility with Java 8)\n- Doesn't say anything about its elements (required them packaged as a jar)\n- Doesn't say anything about org.gradle.plugin.api-version (required '7.6')</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.</p>\n<p>You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.</p>\n<p>See <a href=\"https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.6/userguide/command_line_interface.html#sec:command_line_warnings</a></p>\n<p>BU¦LD FAILED in 6s\nCommand failed with exit code 1: C:\\Users\\acer\\demo\\platforms\\android\\gradlew -b C:\\Users\\acer\\demo\\platforms\\android\\build.gradle cdvBuildDebug</p>\n<p>C:\\Users\\acer\\demo&gt;cordova requirements</p>\n<p>Requirements check results for android:\nJava JDK: installed 1.8.0\nAndroid SDK: installed true\nAndroid target: not installed\nCommand failed with exit code 1: avdmanager list target\n'avdmanager' is not recognized as an internal or external command,\noperable program or batch file.\nGradle: installed C:\\gradle-7.4.1\\bin\\gradle.BAT\nSome of requirements check failed</p>\n<p>How can ı slow this problem?</p>\n"},{"tags":["java","jquery","cors","jersey"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685935460,"post_id":76403264,"comment_id":134725286,"body_markdown":"What&#39;s the value of `errorThrown`?","body":"What&#39;s the value of <code>errorThrown</code>?"},{"owner":{"account_id":9832992,"reputation":155,"user_id":7284173,"display_name":"Felix H"},"score":0,"creation_date":1685936020,"post_id":76403264,"comment_id":134725334,"body_markdown":"Unfortunately, errorThrown is undefined.","body":"Unfortunately, errorThrown is undefined."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685937273,"post_id":76403264,"comment_id":134725422,"body_markdown":"I suggest you step into `$.ajax(ajaxObj)` and see exactly what&#39;s happening. (Use the uncompressed version of jQuery)","body":"I suggest you step into <code>$.ajax(ajaxObj)</code> and see exactly what&#39;s happening. (Use the uncompressed version of jQuery)"}],"answers":[{"tags":[],"owner":{"account_id":9832992,"reputation":155,"user_id":7284173,"display_name":"Felix H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687331428,"creation_date":1687331428,"answer_id":76520798,"question_id":76403264,"body_markdown":"I found the answer to my problem. The reason the query did not reach the server was, that the integrated browser in my desktop application uses an old encryption protocol which was blocked by the server. It requires TLSv1. That is also the reason why it worked fine in my test file because there I was using an up-to-date browser which used a new encryption protocol. Now I have to find a solution for my server properties without endangering my server.","title":"Cannot access server REST API from integrated browser using jquery","body":"<p>I found the answer to my problem. The reason the query did not reach the server was, that the integrated browser in my desktop application uses an old encryption protocol which was blocked by the server. It requires TLSv1. That is also the reason why it worked fine in my test file because there I was using an up-to-date browser which used a new encryption protocol. Now I have to find a solution for my server properties without endangering my server.</p>\n"}],"owner":{"account_id":9832992,"reputation":155,"user_id":7284173,"display_name":"Felix H"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687331428,"creation_date":1685933745,"question_id":76403264,"body_markdown":"I am having a Jersey REST Service application running on a server. This application should be accessed from a desktop application with an integrated browser, for which I can define HTML pages with Javascript. Thus, the client code is executed locally with the origin d://. When I am running my Jersey Application on my local computer with a localhost address, everything runs perfectly fine. However, when I deploy the Jersey application on the server and try to access it from my desktop application, an error is returned with the status 0. Using Postman on my local computer, I have no issue accessing the jersey appliation on the server. However, when I am checking my logs, I see, that no preflight request is sent via Postman (no request with origin != null). &lt;br&gt;\r\nBased on this problem I am guessing, that this is related to CORS. I added a CORS filter to my Jersey application but it is still not working. The server is not registering any incoming requests from my Desktop application. Has anybody an idea what I am missing? Thank you for the support.&lt;br&gt;&lt;br&gt;\r\nMy code for querying the data in the Desktop application:\r\n\r\n    var ajaxObj = {\r\n\t\t\ttype: &quot;POST&quot;, \r\n\t\t\turl: jerseyApplicationUrl,\r\n\t\t\tcrossDomain: true,\r\n\t\t\tdata: JSON.stringify(inputFile),  \r\n\t\t\tcontentType:&quot;application/json&quot;,\r\n\t\t\terror: function(jqXHR, textStatus, errorThrown) {\r\n\t\t\t\tconsole.log(&quot;Error &quot;+ textStatus +&quot; &quot; + jqXHR.getAllResponseHeaders() + &quot; &quot; + errorThrown+ &quot; &quot;+ jqXHR.status+&quot; &quot; +jqXHR.responseText);\r\n\t\t\t//Output: Error error 0 undefined\r\n\t\t\t},\r\n\t\t\tsuccess: function(data) { \r\n\t\t\t\t\tconsole.log(&quot;Server returns success for data query with result &quot;);\r\n\t\t\t},\r\n\t\t\tcomplete: function(XMLHttpRequest) {\r\n\t\t\t\t//console.log( XMLHttpRequest.getAllResponseHeaders() );\r\n\t\t\t}, \r\n\t\t\tdataType: &quot;json&quot; //request JSON\t\r\n\t\t};\r\n\t\t$.ajax(ajaxObj);\r\n\r\n&lt;br&gt;\r\nMy CORS class in the Jersey Application:\r\n\r\n    @Provider\r\n    @PreMatching\r\n    public class CorsFilter implements ContainerRequestFilter, ContainerResponseFilter {\r\n    \r\n        @Override\r\n        public void filter(ContainerRequestContext request) throws IOException {\r\n    \t// If it&#39;s a preflight request, we abort the request with \r\n        // a 200 status, and the CORS headers are added in the\r\n        // response filter method below.\r\n        if (isPreflightRequest(request)) {\r\n            request.abortWith(Response.ok().build());\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * A preflight request is an OPTIONS request\r\n     * with an Origin header.\r\n     */\r\n    private static boolean isPreflightRequest(ContainerRequestContext request) {\r\n        return request.getHeaderString(&quot;Origin&quot;) != null\r\n                &amp;&amp; request.getMethod().equalsIgnoreCase(&quot;OPTIONS&quot;);\r\n    }\r\n    \r\n    /**\r\n     * Method for ContainerResponseFilter.\r\n     */\r\n    @Override\r\n    public void filter(ContainerRequestContext request, ContainerResponseContext response)\r\n            throws IOException {\r\n    \tboolean debug = MtcServiceApplication.getInstance()!=null?MtcServiceApplication.getInstance().isDebug():false;\r\n    \t// if there is no Origin header, then it is not a\r\n        // cross origin request. We don&#39;t do anything.\r\n        if (request.getHeaderString(&quot;Origin&quot;) == null) {\r\n            return;\r\n        }\r\n\r\n        // If it is a preflight request, then we add all\r\n        // the CORS headers here.\r\n        if (isPreflightRequest(request)) {\r\n        \tresponse.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;,\r\n                &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;,\r\n                // Whatever other non-standard/safe headers (see list above) \r\n                // you want the client to be able to send to the server,\r\n                // put it in this list. And remove the ones you don&#39;t want.\r\n                &quot;X-Requested-With, Authorization, &quot; +\r\n                &quot;Accept-Version, Content-MD5, CSRF-Token, Content-Type&quot;);\r\n        }\r\n        \r\n        // Cross origin requests can be either simple requests\r\n        // or preflight request. We need to add this header\r\n        // to both type of requests. Only preflight requests\r\n        // need the previously added headers.\r\n        response.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    }\r\n    }\r\n","title":"Cannot access server REST API from integrated browser using jquery","body":"<p>I am having a Jersey REST Service application running on a server. This application should be accessed from a desktop application with an integrated browser, for which I can define HTML pages with Javascript. Thus, the client code is executed locally with the origin d://. When I am running my Jersey Application on my local computer with a localhost address, everything runs perfectly fine. However, when I deploy the Jersey application on the server and try to access it from my desktop application, an error is returned with the status 0. Using Postman on my local computer, I have no issue accessing the jersey appliation on the server. However, when I am checking my logs, I see, that no preflight request is sent via Postman (no request with origin != null). <br>\nBased on this problem I am guessing, that this is related to CORS. I added a CORS filter to my Jersey application but it is still not working. The server is not registering any incoming requests from my Desktop application. Has anybody an idea what I am missing? Thank you for the support.<br><br>\nMy code for querying the data in the Desktop application:</p>\n<pre><code>var ajaxObj = {\n        type: &quot;POST&quot;, \n        url: jerseyApplicationUrl,\n        crossDomain: true,\n        data: JSON.stringify(inputFile),  \n        contentType:&quot;application/json&quot;,\n        error: function(jqXHR, textStatus, errorThrown) {\n            console.log(&quot;Error &quot;+ textStatus +&quot; &quot; + jqXHR.getAllResponseHeaders() + &quot; &quot; + errorThrown+ &quot; &quot;+ jqXHR.status+&quot; &quot; +jqXHR.responseText);\n        //Output: Error error 0 undefined\n        },\n        success: function(data) { \n                console.log(&quot;Server returns success for data query with result &quot;);\n        },\n        complete: function(XMLHttpRequest) {\n            //console.log( XMLHttpRequest.getAllResponseHeaders() );\n        }, \n        dataType: &quot;json&quot; //request JSON \n    };\n    $.ajax(ajaxObj);\n</code></pre>\n<br>\nMy CORS class in the Jersey Application:\n<pre><code>@Provider\n@PreMatching\npublic class CorsFilter implements ContainerRequestFilter, ContainerResponseFilter {\n\n    @Override\n    public void filter(ContainerRequestContext request) throws IOException {\n    // If it's a preflight request, we abort the request with \n    // a 200 status, and the CORS headers are added in the\n    // response filter method below.\n    if (isPreflightRequest(request)) {\n        request.abortWith(Response.ok().build());\n        return;\n    }\n}\n\n/**\n * A preflight request is an OPTIONS request\n * with an Origin header.\n */\nprivate static boolean isPreflightRequest(ContainerRequestContext request) {\n    return request.getHeaderString(&quot;Origin&quot;) != null\n            &amp;&amp; request.getMethod().equalsIgnoreCase(&quot;OPTIONS&quot;);\n}\n\n/**\n * Method for ContainerResponseFilter.\n */\n@Override\npublic void filter(ContainerRequestContext request, ContainerResponseContext response)\n        throws IOException {\n    boolean debug = MtcServiceApplication.getInstance()!=null?MtcServiceApplication.getInstance().isDebug():false;\n    // if there is no Origin header, then it is not a\n    // cross origin request. We don't do anything.\n    if (request.getHeaderString(&quot;Origin&quot;) == null) {\n        return;\n    }\n\n    // If it is a preflight request, then we add all\n    // the CORS headers here.\n    if (isPreflightRequest(request)) {\n        response.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;,\n            &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\n        response.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;,\n            // Whatever other non-standard/safe headers (see list above) \n            // you want the client to be able to send to the server,\n            // put it in this list. And remove the ones you don't want.\n            &quot;X-Requested-With, Authorization, &quot; +\n            &quot;Accept-Version, Content-MD5, CSRF-Token, Content-Type&quot;);\n    }\n    \n    // Cross origin requests can be either simple requests\n    // or preflight request. We need to add this header\n    // to both type of requests. Only preflight requests\n    // need the previously added headers.\n    response.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jar","graalvm-native-image"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1687292425,"post_id":76516192,"comment_id":134915591,"body_markdown":"as [explained](https://www.graalvm.org/latest/reference-manual/native-image/dynamic-features/Resources/) that is a parameter for building not &quot;runtime&quot; meaning when you compile your code you use &quot;-H:IncludeResources&quot; which will include the resources at the output native image.","body":"as <a href=\"https://www.graalvm.org/latest/reference-manual/native-image/dynamic-features/Resources/\" rel=\"nofollow noreferrer\">explained</a> that is a parameter for building not &quot;runtime&quot; meaning when you compile your code you use &quot;-H:IncludeResources&quot; which will include the resources at the output native image."},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":1,"creation_date":1687299280,"post_id":76516192,"comment_id":134916567,"body_markdown":"You are correct, thanks for pointing out. Corrected, upvoted your comment","body":"You are correct, thanks for pointing out. Corrected, upvoted your comment"}],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687331299,"creation_date":1687331299,"answer_id":76520783,"question_id":76516192,"body_markdown":"You can pass parameters to `native-image` using `&lt;buildArgs&gt;` element:\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n  &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;buildArgs&gt;\r\n      &lt;buildArg&gt;-H:IncludeResources=...&lt;/buildArg&gt;\r\n    &lt;/buildArgs&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nSee this [GraalVM doc](https://graalvm.github.io/native-build-tools/latest/maven-plugin.html#configuration-reusing-config-from-parent) for more details","title":"Building SpringBoot GraalVM native image with -H parameter","body":"<p>You can pass parameters to <code>native-image</code> using <code>&lt;buildArgs&gt;</code> element:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n  &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;buildArgs&gt;\n      &lt;buildArg&gt;-H:IncludeResources=...&lt;/buildArg&gt;\n    &lt;/buildArgs&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>See this <a href=\"https://graalvm.github.io/native-build-tools/latest/maven-plugin.html#configuration-reusing-config-from-parent\" rel=\"nofollow noreferrer\">GraalVM doc</a> for more details</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687331299,"creation_date":1687274248,"question_id":76516192,"body_markdown":"*What I am trying to achieve:*\r\n\r\nI have a graalVM springboot image which is working fine. It is doing correct business logic, etc.\r\n\r\nWith that said, I would like to build the native image with parameters, such as: ``` -H:IncludeResources```\r\n\r\n*What did I try:*\r\n\r\nFollowing online tutorials, I build the native image using \r\n\r\n```\r\n &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nand then\r\n\r\n```mvn -Pnative native:compile```\r\n\r\nIt seems Spring takes care of the build, not allowing me to specify the ```-H``` parameter.\r\n\r\n*Question:*\r\n\r\nHow to build the image with ```-H``` arguments?","title":"Building SpringBoot GraalVM native image with -H parameter","body":"<p><em>What I am trying to achieve:</em></p>\n<p>I have a graalVM springboot image which is working fine. It is doing correct business logic, etc.</p>\n<p>With that said, I would like to build the native image with parameters, such as: <code> -H:IncludeResources</code></p>\n<p><em>What did I try:</em></p>\n<p>Following online tutorials, I build the native image using</p>\n<pre><code> &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>and then</p>\n<p><code>mvn -Pnative native:compile</code></p>\n<p>It seems Spring takes care of the build, not allowing me to specify the <code>-H</code> parameter.</p>\n<p><em>Question:</em></p>\n<p>How to build the image with <code>-H</code> arguments?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1687325808,"post_id":76520199,"comment_id":134918926,"body_markdown":"1. &quot; I understand that my maven dependencies are not added to the classpath&quot; ..please check! 2. &quot;but how can I add them?&quot; ..better question: what does/which effect has `&lt;classpathPrefix/&gt;`?;)","body":"1. &quot; I understand that my maven dependencies are not added to the classpath&quot; ..please check! 2. &quot;but how can I add them?&quot; ..better question: what does/which effect has <code>&lt;classpathPrefix&#47;&gt;</code>?;)"},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1687326070,"post_id":76520199,"comment_id":134918962,"body_markdown":"@xerx593 what does/which effect has `&lt;classpathPrefix/&gt;`? Where is the lib directory created by default and how can I run the jar to include it in classpath?","body":"@xerx593 what does/which effect has <code>&lt;classpathPrefix&#47;&gt;</code>? Where is the lib directory created by default and how can I run the jar to include it in classpath?"}],"answers":[{"tags":[],"owner":{"account_id":18958610,"reputation":304,"user_id":17512310,"display_name":"devman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687325488,"creation_date":1687325488,"answer_id":76520230,"question_id":76520199,"body_markdown":"You can build file jar, replace value in &lt;mainClass&gt;com.thanbv1510.MainApp&lt;/mainClass&gt; with your main class\r\n\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t    &lt;source&gt;${java.version}&lt;/source&gt;\r\n\t    &lt;target&gt;${java.version}&lt;/target&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${maven-jar-plugin.version}&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t    &lt;archive&gt;\r\n\t\t&lt;manifest&gt;\r\n\t\t    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t    &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n\t\t    &lt;mainClass&gt;com.thanbv1510.MainApp&lt;/mainClass&gt;\r\n\t\t&lt;/manifest&gt;\r\n\t    &lt;/archive&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${maven-dependency-plugin.version}&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t    &lt;execution&gt;\r\n\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t    &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t    &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n\t\t    &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n\t\t    &lt;excludeScope&gt;provided&lt;/excludeScope&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t    &lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Manifest issues with maven","body":"<p>You can build file jar, replace value in com.thanbv1510.MainApp with your main class</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${java.version}&lt;/source&gt;\n        &lt;target&gt;${java.version}&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-jar-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n        &lt;manifest&gt;\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n            &lt;mainClass&gt;com.thanbv1510.MainApp&lt;/mainClass&gt;\n        &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-dependency-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n        &lt;phase&gt;install&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n            &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n            &lt;excludeScope&gt;provided&lt;/excludeScope&gt;\n        &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687330319,"creation_date":1687327913,"answer_id":76520428,"question_id":76520199,"body_markdown":"Somehow, removing the `pluginManagement` tag solved the problem. If someone can explain why it was not working with this tag, I&#39;ll accept the answer.","title":"Manifest issues with maven","body":"<p>Somehow, removing the <code>pluginManagement</code> tag solved the problem. If someone can explain why it was not working with this tag, I'll accept the answer.</p>\n"}],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687330319,"creation_date":1687325090,"question_id":76520199,"body_markdown":"I have created a core Java maven project that has a main class. The class runs fine in Intellij, but when I create a jar using `mvn clean install`, it fails to run with `ClassNotFoundException`. I understand that my maven dependencies are not added to the classpath, but how can I add them? I don&#39;t want to create a jar with dependencies unless absolutely required. \r\n\r\nHere&#39;s the build tag of my `pom.xml`\r\n\r\nUPDATE: As suggested by @devman, I have added maven-dependency-plugin. The pom below is the updated one. But still the `lib` directory is not getting created in the `target` directory after running `mvn clean install`. Somehow, I am also not seeing this plugin in Intellij but seeing some plugins that are not there in the pom. Below is my updated `build` tag of pom.xml.\r\n\r\n    &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-jar-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;com.pkg.MyApp&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-dependency-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                            &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n                            &lt;excludeScope&gt;provided&lt;/excludeScope&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n\r\n\r\nBelow is a screenshot of what I am seeing in Intellij under maven-&gt;plugins\r\n[![Intellij maven plugins screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4BFDq.png","title":"Manifest issues with maven","body":"<p>I have created a core Java maven project that has a main class. The class runs fine in Intellij, but when I create a jar using <code>mvn clean install</code>, it fails to run with <code>ClassNotFoundException</code>. I understand that my maven dependencies are not added to the classpath, but how can I add them? I don't want to create a jar with dependencies unless absolutely required.</p>\n<p>Here's the build tag of my <code>pom.xml</code></p>\n<p>UPDATE: As suggested by @devman, I have added maven-dependency-plugin. The pom below is the updated one. But still the <code>lib</code> directory is not getting created in the <code>target</code> directory after running <code>mvn clean install</code>. Somehow, I am also not seeing this plugin in Intellij but seeing some plugins that are not there in the pom. Below is my updated <code>build</code> tag of pom.xml.</p>\n<pre><code>&lt;build&gt;\n&lt;pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-jar-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;com.pkg.MyApp&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-dependency-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                        &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n                        &lt;excludeScope&gt;provided&lt;/excludeScope&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n</code></pre>\n\n<p>Below is a screenshot of what I am seeing in Intellij under maven-&gt;plugins\n<a href=\"https://i.stack.imgur.com/4BFDq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4BFDq.png\" alt=\"Intellij maven plugins screenshot\" /></a></p>\n"},{"tags":["java","spring","spring-boot","exception","runtimeexception"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687220122,"post_id":76510255,"comment_id":134903118,"body_markdown":"How is `underTest` created, and what are the annotations on your test class?","body":"How is <code>underTest</code> created, and what are the annotations on your test class?"},{"owner":{"account_id":25978596,"reputation":5,"user_id":19692702,"display_name":"Davide"},"score":0,"creation_date":1687330203,"post_id":76510255,"comment_id":134919661,"body_markdown":"I have added these details to the question","body":"I have added these details to the question"}],"owner":{"account_id":25978596,"reputation":5,"user_id":19692702,"display_name":"Davide"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687330122,"creation_date":1687211571,"question_id":76510255,"body_markdown":"I&#39;m coding an application where there&#39;s a user API accessible to someone with the right authentication (form authentication). The problem is that runtime exceptions are not displayed in the console nor the client when they in fact happen.\r\n\r\nPart of Service:\r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class AppUserService {\r\n\r\n    private AppUserRepository repository;\r\n\r\n\r\n    public AppUser getUserByUsername(String username) {\r\n        if (!repository.existsByUsername(username)) {\r\n            log.error(&quot;Cannot find user with username: {}&quot;, username);\r\n            throw new UserNotFoundException(&quot;User with username &#39;&quot; + username + &quot;&#39; not found&quot;);\r\n        }\r\n        log.info(&quot;Fetching user with username: {}&quot;, username);\r\n        return repository.findAppUserByUsername(username);\r\n    }\r\n}\r\n```\r\n\r\nUnit Test:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass AppUserServiceTest {\r\n\r\n    @Mock\r\n    private AppUserRepository repository;\r\n    private AppUserService underTest;\r\n\r\n    @BeforeEach\r\n    @SuppressWarnings(&quot;resource&quot;)\r\n    void setUp() {\r\n        openMocks(this);\r\n        underTest = new AppUserService(repository);\r\n    }\r\n\r\n    // [...]\r\n\r\n    @Test\r\n    void cannotGetUserByUsernameWhenUsernameIsNotInDB() {\r\n        // given\r\n        given(repository.existsByUsername(any())).willReturn(false);\r\n        String username = &quot;Adam&quot;;\r\n        // when\r\n        // then\r\n        assertThatThrownBy(() -&gt; underTest.getUserByUsername(username))\r\n                .isInstanceOf(UserNotFoundException.class)\r\n                .hasMessageContaining(&quot;User with username &#39;&quot; + username + &quot;&#39; not found&quot;);\r\n        then(repository).shouldHaveNoMoreInteractions();\r\n    }\r\n\r\n    // [...]\r\n}\r\n    \r\n```\r\n\r\nBoth the unit test and the fact that this log `log.error(&quot;Cannot find user with username: {}&quot;, username);` is printed to the console ensure that the throw statement is reached so I guess it&#39;s something that has to do with spring\r\n\r\nPart of Repository:\r\n\r\n```\r\n@Repository\r\npublic interface AppUserRepository extends JpaRepository&lt;AppUser, UUID&gt; {\r\n\r\n    AppUser findAppUserByUsername(String username);\r\n\r\nn   // [...]\r\n}\r\n```\r\n\r\nException Class:\r\n\r\n```\r\n@ResponseStatus(HttpStatus.NOT_FOUND)\r\npublic class UserNotFoundException extends RuntimeException {\r\n    public UserNotFoundException(String message) {\r\n        super(message);\r\n    }\r\n}\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\n# info\r\ninfo.application.name=@name@\r\ninfo.application.version=@version@\r\ninfo.application.description=@description@\r\ninfo.application.jdk=@java.version@\r\ninfo.application.groupId=@groupId@\r\n\r\n# DB\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/auth\r\nspring.datasource.username=postgres\r\nspring.datasource.password=1234\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nspring.jpa.hibernate.ddl-auto=create\r\n\r\n# server\r\nserver.error.include-message=always\r\nserver.error.include-binding-errors=always\r\n```\r\n\r\npom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.xdavide9&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Spring-Auth&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Spring-Auth&lt;/name&gt;\r\n\t&lt;description&gt;Form based authentication made with Spring Boot.&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI really don&#39;t know where this is coming fromn so I included application.properties and pom too. I even tried to create a handler using @ControllerAdvice and @ExceptionHandler and that way I can return a response entity to the client atleast but still nothing to the console.\r\n","title":"Spring Boot Exception not shown in the console or client even if thrown","body":"<p>I'm coding an application where there's a user API accessible to someone with the right authentication (form authentication). The problem is that runtime exceptions are not displayed in the console nor the client when they in fact happen.</p>\n<p>Part of Service:</p>\n<pre><code>@Service\n@AllArgsConstructor\n@Slf4j\npublic class AppUserService {\n\n    private AppUserRepository repository;\n\n\n    public AppUser getUserByUsername(String username) {\n        if (!repository.existsByUsername(username)) {\n            log.error(&quot;Cannot find user with username: {}&quot;, username);\n            throw new UserNotFoundException(&quot;User with username '&quot; + username + &quot;' not found&quot;);\n        }\n        log.info(&quot;Fetching user with username: {}&quot;, username);\n        return repository.findAppUserByUsername(username);\n    }\n}\n</code></pre>\n<p>Unit Test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass AppUserServiceTest {\n\n    @Mock\n    private AppUserRepository repository;\n    private AppUserService underTest;\n\n    @BeforeEach\n    @SuppressWarnings(&quot;resource&quot;)\n    void setUp() {\n        openMocks(this);\n        underTest = new AppUserService(repository);\n    }\n\n    // [...]\n\n    @Test\n    void cannotGetUserByUsernameWhenUsernameIsNotInDB() {\n        // given\n        given(repository.existsByUsername(any())).willReturn(false);\n        String username = &quot;Adam&quot;;\n        // when\n        // then\n        assertThatThrownBy(() -&gt; underTest.getUserByUsername(username))\n                .isInstanceOf(UserNotFoundException.class)\n                .hasMessageContaining(&quot;User with username '&quot; + username + &quot;' not found&quot;);\n        then(repository).shouldHaveNoMoreInteractions();\n    }\n\n    // [...]\n}\n    \n</code></pre>\n<p>Both the unit test and the fact that this log <code>log.error(&quot;Cannot find user with username: {}&quot;, username);</code> is printed to the console ensure that the throw statement is reached so I guess it's something that has to do with spring</p>\n<p>Part of Repository:</p>\n<pre><code>@Repository\npublic interface AppUserRepository extends JpaRepository&lt;AppUser, UUID&gt; {\n\n    AppUser findAppUserByUsername(String username);\n\nn   // [...]\n}\n</code></pre>\n<p>Exception Class:</p>\n<pre><code>@ResponseStatus(HttpStatus.NOT_FOUND)\npublic class UserNotFoundException extends RuntimeException {\n    public UserNotFoundException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code># info\ninfo.application.name=@name@\ninfo.application.version=@version@\ninfo.application.description=@description@\ninfo.application.jdk=@java.version@\ninfo.application.groupId=@groupId@\n\n# DB\nspring.datasource.url=jdbc:postgresql://localhost:5432/auth\nspring.datasource.username=postgres\nspring.datasource.password=1234\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n\nspring.jpa.hibernate.ddl-auto=create\n\n# server\nserver.error.include-message=always\nserver.error.include-binding-errors=always\n</code></pre>\n<p>pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.xdavide9&lt;/groupId&gt;\n    &lt;artifactId&gt;Spring-Auth&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Spring-Auth&lt;/name&gt;\n    &lt;description&gt;Form based authentication made with Spring Boot.&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I really don't know where this is coming fromn so I included application.properties and pom too. I even tried to create a handler using @ControllerAdvice and @ExceptionHandler and that way I can return a response entity to the client atleast but still nothing to the console.</p>\n"},{"tags":["java","jdbc","datasource"],"comments":[{"owner":{"account_id":270103,"reputation":1176,"user_id":559849,"accept_rate":100,"display_name":"Gyan"},"score":1,"creation_date":1454573070,"post_id":35193094,"comment_id":58107542,"body_markdown":"You can&#39;t. You first need to define a data source and then use that here. Is this a web application or a standalone application ? For standalone applications you would need to create an InitialContext and then bind it in your code. For web applications its a good practice to define data sources in the server.xml file using &lt;Resource&gt; tags.","body":"You can&#39;t. You first need to define a data source and then use that here. Is this a web application or a standalone application ? For standalone applications you would need to create an InitialContext and then bind it in your code. For web applications its a good practice to define data sources in the server.xml file using &lt;Resource&gt; tags."}],"answers":[{"tags":[],"owner":{"account_id":1250235,"reputation":6632,"user_id":1210779,"accept_rate":65,"display_name":"Sai Ye Yan Naing Aye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454571287,"creation_date":1454571287,"answer_id":35195086,"question_id":35193094,"body_markdown":"You cannot change the lookup method parameter. But you can use [bind or rebind][1] methods of InitialContext to retrieve your datasource.See sample   \r\n\r\n     ctx.bind(&quot;java:/comp/env/jdbc/nameofmyjdbcresource&quot;, dsrc);\r\n\r\nFor details example check [here][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/naming/InitialContext.html\r\n  [2]: https://blogs.oracle.com/randystuph/entry/injecting_jndi_datasources_for_junit","title":"How to add string parameters in lookup method in jdbc connection?","body":"<p>You cannot change the lookup method parameter. But you can use <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/naming/InitialContext.html\" rel=\"nofollow\">bind or rebind</a> methods of InitialContext to retrieve your datasource.See sample   </p>\n\n<pre><code> ctx.bind(\"java:/comp/env/jdbc/nameofmyjdbcresource\", dsrc);\n</code></pre>\n\n<p>For details example check <a href=\"https://blogs.oracle.com/randystuph/entry/injecting_jndi_datasources_for_junit\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454578456,"creation_date":1454578456,"answer_id":35197289,"question_id":35193094,"body_markdown":"A `DataSource` is a connection to one database and you configure a DataSource with a single username and password. If you really need specific (and changing) usernames/passwords depending on application logic, then you can use [`DataSource.getConnection(String username, String password)`][1]. However keep in mind with some (most?) connection pools this will give you a non-pooled connection.\r\n\r\nIf you want to access a different database (or a different configuration), then you need to specify a data source for each database you want to access and ask for that specific data source.\r\n\r\nIf that is not possible for your situation, then you should just ignore/suppress the veracode warning and continue using `DriverManager`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html#getConnection-java.lang.String-java.lang.String-","title":"How to add string parameters in lookup method in jdbc connection?","body":"<p>A <code>DataSource</code> is a connection to one database and you configure a DataSource with a single username and password. If you really need specific (and changing) usernames/passwords depending on application logic, then you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html#getConnection-java.lang.String-java.lang.String-\" rel=\"nofollow\"><code>DataSource.getConnection(String username, String password)</code></a>. However keep in mind with some (most?) connection pools this will give you a non-pooled connection.</p>\n\n<p>If you want to access a different database (or a different configuration), then you need to specify a data source for each database you want to access and ask for that specific data source.</p>\n\n<p>If that is not possible for your situation, then you should just ignore/suppress the veracode warning and continue using <code>DriverManager</code>.</p>\n"},{"tags":[],"owner":{"account_id":3032815,"reputation":1,"user_id":2571483,"display_name":"sunil kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687330111,"creation_date":1687330111,"answer_id":76520648,"question_id":35193094,"body_markdown":"    FileInputStream pfile = new FileInputStream(args[0]);\r\n\t\t\t\tprop.load(pfile);\r\n\t\t\t\tpfile.close();\r\n\t\t\t\tProperties info = new Properties();\r\n\t\t\t\tinfo.put(&quot;user&quot;,prop.getProperty(&quot;jdbc.username&quot;));\r\n\t\t\t\tinfo.put(&quot;password&quot;,prop.getProperty(&quot;jdbc.pwd&quot;));\r\n\r\n\t\t\t\tDriver d = (Driver) \r\n    Class.forName(prop.getProperty(&quot;jdbc.driverClassName&quot;)).newInstance();\r\n\t\t\t\tcon = \r\n    DriverManager.getConnection(prop.getProperty(&quot;jdbc.url&quot;),info);","title":"How to add string parameters in lookup method in jdbc connection?","body":"<pre><code>FileInputStream pfile = new FileInputStream(args[0]);\n            prop.load(pfile);\n            pfile.close();\n            Properties info = new Properties();\n            info.put(&quot;user&quot;,prop.getProperty(&quot;jdbc.username&quot;));\n            info.put(&quot;password&quot;,prop.getProperty(&quot;jdbc.pwd&quot;));\n\n            Driver d = (Driver) \nClass.forName(prop.getProperty(&quot;jdbc.driverClassName&quot;)).newInstance();\n            con = \nDriverManager.getConnection(prop.getProperty(&quot;jdbc.url&quot;),info);\n</code></pre>\n"}],"owner":{"account_id":5393533,"reputation":335,"user_id":4295359,"accept_rate":44,"display_name":"khanam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687330111,"creation_date":1454563348,"question_id":35193094,"body_markdown":"In my web application I&#39;m using JDBC connectivity basically its working fine with below code \r\n\r\n    connObj = DriverManager.getConnection(dbaseUrl, usrName, Paswrd);\r\n\r\nBut when I&#39;m using veracode tool its showing flaw as J2EE Bad Practice:getConnection so that i need to implement.  \r\n\r\n    InitialContext ctx= new InitialContext();\r\n    DataSource dsrc=(DataSource)ctx.lookup(dbaseUrl, usrName, Paswrd);\r\n    dsrc.getConnection();\r\n       \r\nHow can I pass 3 parameters in lookup so that it should not disturb my previous flow of code. Can anybody guide me please?","title":"How to add string parameters in lookup method in jdbc connection?","body":"<p>In my web application I'm using JDBC connectivity basically its working fine with below code </p>\n\n<pre><code>connObj = DriverManager.getConnection(dbaseUrl, usrName, Paswrd);\n</code></pre>\n\n<p>But when I'm using veracode tool its showing flaw as J2EE Bad Practice:getConnection so that i need to implement.  </p>\n\n<pre><code>InitialContext ctx= new InitialContext();\nDataSource dsrc=(DataSource)ctx.lookup(dbaseUrl, usrName, Paswrd);\ndsrc.getConnection();\n</code></pre>\n\n<p>How can I pass 3 parameters in lookup so that it should not disturb my previous flow of code. Can anybody guide me please?</p>\n"},{"tags":["java","maven","drools"],"comments":[{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":1,"creation_date":1687329481,"post_id":76520489,"comment_id":134919536,"body_markdown":"Could you share your `pom.xml`?","body":"Could you share your <code>pom.xml</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687329906,"creation_date":1687329906,"answer_id":76520623,"question_id":76520489,"body_markdown":"I got the problem. There was a conflicting dependency that was importing `maven-artifact` version 3.0 jar. This jar did not have the method `setMirroredRepositories`. The problem got solved by excluding `maven-artifact` from the conflicting dependency. ","title":"java.lang.NoSuchMethodError: &#39;void org.apache.maven.artifact.repository.ArtifactRepository.setMirroredRepositories(java.util.List)&#39;","body":"<p>I got the problem. There was a conflicting dependency that was importing <code>maven-artifact</code> version 3.0 jar. This jar did not have the method <code>setMirroredRepositories</code>. The problem got solved by excluding <code>maven-artifact</code> from the conflicting dependency.</p>\n"}],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687329906,"creation_date":1687328538,"question_id":76520489,"body_markdown":"I am using Drools in my Java project. Below is the code for building the rules:\r\n\r\n    public class DroolsBeanFactory {\r\n        private KieServices kieServices = KieServices.Factory.get();\r\n\r\n        private void getKieRepository() {\r\n            final KieRepository kieRepository = kieServices.getRepository();\r\n            kieRepository.addKieModule(() -&gt; kieRepository.getDefaultReleaseId());\r\n        }\r\n\r\n        public KieSession getKieSession(String droolsFilePath){\r\n            getKieRepository();\r\n            KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\r\n\r\n            kieFileSystem.write(ResourceFactory.newClassPathResource(droolsFilePath));\r\n\r\n            KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);\r\n            kb.buildAll();\r\n            KieModule kieModule = kb.getKieModule();\r\n\r\n            KieContainer kContainer = kieServices.newKieContainer(kieModule.getReleaseId());\r\n\r\n            return kContainer.newKieSession();\r\n        }\r\n    }\r\n\r\nThis runs fine when running from Intellij, but when I run it from a jar file, I get the below exception:\r\n\r\n    java.lang.reflect.InvocationTargetException\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    Caused by: java.lang.NoSuchMethodError: &#39;void org.apache.maven.artifact.repository.ArtifactRepository.setMirroredRepositories(java.util.List)&#39;\r\n            at org.apache.maven.bridge.MavenRepositorySystem.injectMirror(MavenRepositorySystem.java:221)\r\n            at org.apache.maven.bridge.MavenRepositorySystem.injectMirror(MavenRepositorySystem.java:174)\r\n            at org.apache.maven.internal.aether.DefaultRepositorySystemSessionFactory.newRepositorySession(DefaultRepositorySystemSessionFactory.java:235)\r\n            at org.apache.maven.DefaultMaven.newRepositorySession(DefaultMaven.java:365)\r\n            at org.kie.maven.integration.embedder.MavenEmbedder.init(MavenEmbedder.java:106)\r\n            at org.kie.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:99)\r\n            at org.kie.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:91)\r\n            at org.kie.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:85)\r\n            at org.kie.maven.integration.embedder.MavenProjectLoader.newMavenEmbedder(MavenProjectLoader.java:148)\r\n            at org.kie.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:90)\r\n            at org.kie.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:84)\r\n            at org.kie.maven.integration.MavenPomModelGenerator.parse(MavenPomModelGenerator.java:34)\r\n            at org.kie.util.maven.support.PomModel$Parser.parse(PomModel.java:110)\r\n            at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildPomModel(KieBuilderImpl.java:598)\r\n            at org.drools.compiler.kie.builder.impl.KieBuilderImpl.init(KieBuilderImpl.java:155)\r\n            at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:221)\r\n            at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:195)\r\n            at com.pkg.config.DroolsBeanFactory.getKieSession(DroolsBeanFactory.java:24)\r\n            ... 7 more\r\n\r\nLooks like there is some issue with maven packaging. But I am not able to understand how to resolve it. The failure is happening at `kb.buildAll()`","title":"java.lang.NoSuchMethodError: &#39;void org.apache.maven.artifact.repository.ArtifactRepository.setMirroredRepositories(java.util.List)&#39;","body":"<p>I am using Drools in my Java project. Below is the code for building the rules:</p>\n<pre><code>public class DroolsBeanFactory {\n    private KieServices kieServices = KieServices.Factory.get();\n\n    private void getKieRepository() {\n        final KieRepository kieRepository = kieServices.getRepository();\n        kieRepository.addKieModule(() -&gt; kieRepository.getDefaultReleaseId());\n    }\n\n    public KieSession getKieSession(String droolsFilePath){\n        getKieRepository();\n        KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\n\n        kieFileSystem.write(ResourceFactory.newClassPathResource(droolsFilePath));\n\n        KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);\n        kb.buildAll();\n        KieModule kieModule = kb.getKieModule();\n\n        KieContainer kContainer = kieServices.newKieContainer(kieModule.getReleaseId());\n\n        return kContainer.newKieSession();\n    }\n}\n</code></pre>\n<p>This runs fine when running from Intellij, but when I run it from a jar file, I get the below exception:</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\nCaused by: java.lang.NoSuchMethodError: 'void org.apache.maven.artifact.repository.ArtifactRepository.setMirroredRepositories(java.util.List)'\n        at org.apache.maven.bridge.MavenRepositorySystem.injectMirror(MavenRepositorySystem.java:221)\n        at org.apache.maven.bridge.MavenRepositorySystem.injectMirror(MavenRepositorySystem.java:174)\n        at org.apache.maven.internal.aether.DefaultRepositorySystemSessionFactory.newRepositorySession(DefaultRepositorySystemSessionFactory.java:235)\n        at org.apache.maven.DefaultMaven.newRepositorySession(DefaultMaven.java:365)\n        at org.kie.maven.integration.embedder.MavenEmbedder.init(MavenEmbedder.java:106)\n        at org.kie.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:99)\n        at org.kie.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:91)\n        at org.kie.maven.integration.embedder.MavenEmbedder.&lt;init&gt;(MavenEmbedder.java:85)\n        at org.kie.maven.integration.embedder.MavenProjectLoader.newMavenEmbedder(MavenProjectLoader.java:148)\n        at org.kie.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:90)\n        at org.kie.maven.integration.embedder.MavenProjectLoader.parseMavenPom(MavenProjectLoader.java:84)\n        at org.kie.maven.integration.MavenPomModelGenerator.parse(MavenPomModelGenerator.java:34)\n        at org.kie.util.maven.support.PomModel$Parser.parse(PomModel.java:110)\n        at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildPomModel(KieBuilderImpl.java:598)\n        at org.drools.compiler.kie.builder.impl.KieBuilderImpl.init(KieBuilderImpl.java:155)\n        at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:221)\n        at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:195)\n        at com.pkg.config.DroolsBeanFactory.getKieSession(DroolsBeanFactory.java:24)\n        ... 7 more\n</code></pre>\n<p>Looks like there is some issue with maven packaging. But I am not able to understand how to resolve it. The failure is happening at <code>kb.buildAll()</code></p>\n"},{"tags":["java","clean-architecture","access-modifiers"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1687325992,"post_id":76520150,"comment_id":134918951,"body_markdown":"If it were me, I would use public. \nEspecially this kind of service class that may be subject to dependency injection.","body":"If it were me, I would use public.  Especially this kind of service class that may be subject to dependency injection."}],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687325131,"creation_date":1687325131,"answer_id":76520200,"question_id":76520150,"body_markdown":"You always have to use at least one Public Class in your java file, otherwise it won&#39;t be compiled to .class file in JVM. Only methods and fields are behaved as private or protected. If you want to have a private or protected class for example, you need to declare them in another Public class.","title":"What should be the access modifier of ServiceImpl Class?","body":"<p>You always have to use at least one Public Class in your java file, otherwise it won't be compiled to .class file in JVM. Only methods and fields are behaved as private or protected. If you want to have a private or protected class for example, you need to declare them in another Public class.</p>\n"},{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687329610,"creation_date":1687329610,"answer_id":76520590,"question_id":76520150,"body_markdown":"totally up to you, if you will not use it outside the package, use default modifier.","title":"What should be the access modifier of ServiceImpl Class?","body":"<p>totally up to you, if you will not use it outside the package, use default modifier.</p>\n"}],"owner":{"account_id":11922641,"reputation":25,"user_id":8724742,"display_name":"Rejaul Karim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687329610,"creation_date":1687324589,"question_id":76520150,"body_markdown":"A class `CorporateServiceImpl` is implementing an interface called `CorporateService`. Here I know that the `CorporateServiceImpl` class never be used outside of the package. I will use the implemented method of the `CorporateServiceImpl` through the interface. In that case, what should be the access modifier of the `CorporateServiceImpl` class? Currently, I am preferring `protected` so that other classes of the package could use this. Is my implementation correct? Or it should be public? ","title":"What should be the access modifier of ServiceImpl Class?","body":"<p>A class <code>CorporateServiceImpl</code> is implementing an interface called <code>CorporateService</code>. Here I know that the <code>CorporateServiceImpl</code> class never be used outside of the package. I will use the implemented method of the <code>CorporateServiceImpl</code> through the interface. In that case, what should be the access modifier of the <code>CorporateServiceImpl</code> class? Currently, I am preferring <code>protected</code> so that other classes of the package could use this. Is my implementation correct? Or it should be public?</p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1534278747,"creation_date":1534278747,"answer_id":51849358,"question_id":51845853,"body_markdown":"There is the `lock_timeout` parameter that does exactly what you want.\r\n\r\nYou can set it in `postgresql.conf` or with `ALTER ROLE` or `ALTER DATABASE` per user or per database.","title":"How to set lock timeout in postgres - Hibernate","body":"<p>There is the <code>lock_timeout</code> parameter that does exactly what you want.</p>\n\n<p>You can set it in <code>postgresql.conf</code> or with <code>ALTER ROLE</code> or <code>ALTER DATABASE</code> per user or per database.</p>\n"},{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1534329223,"creation_date":1534328857,"answer_id":51857045,"question_id":51845853,"body_markdown":"I think you could try\r\n\r\n\r\n    SET LOCAL lock_timeout = &#39;10s&#39;;\r\n    SELECT ....;\r\n\r\nI doubt Hibernate supports this out-of-box. You could try find a way to extend it, not sure if it worth it. Because I guess using locks on a postges database (which is mvcc) is not the smartest option.\r\n\r\nYou could also do `NO WAIT` and delay-retry several times from your code.\r\n","title":"How to set lock timeout in postgres - Hibernate","body":"<p>I think you could try</p>\n\n<pre><code>SET LOCAL lock_timeout = '10s';\nSELECT ....;\n</code></pre>\n\n<p>I doubt Hibernate supports this out-of-box. You could try find a way to extend it, not sure if it worth it. Because I guess using locks on a postges database (which is mvcc) is not the smartest option.</p>\n\n<p>You could also do <code>NO WAIT</code> and delay-retry several times from your code.</p>\n"},{"tags":[],"owner":{"account_id":12327139,"reputation":3107,"user_id":8994385,"display_name":"Thorben Janssen"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1534505780,"creation_date":1534505780,"answer_id":51894579,"question_id":51845853,"body_markdown":"Hibernate supports a [bunch of query hints][1]. The one you&#39;re using sets the timeout for the query, not for the pessimistic lock. The query and the lock are independent of each other, and you need to use the hint shown below.\r\n\r\nBut before you do that, please be aware, that Hibernate doesn&#39;t handle the timeout itself. It only sends it to the database and it depends on the database, if and how it applies it.\r\n\r\nTo set a timeout for the pessimistic lock, you need to use the `javax.persistence.lock.timeout` hint instead. Here&#39;s an example:\r\n\r\n    entityManager.createQuery(&quot;SELECT value from Table where id=:id&quot;)\r\n            .setParameter(&quot;id&quot;, &quot;123&quot;)\r\n            .setLockMode(LockModeType.PESSIMISTIC_WRITE)\r\n            .setHint(&quot;javax.persistence.lock.timeout&quot;, 10000)\r\n            .getSingleResult();\r\n\r\n\r\n  [1]: https://www.thoughts-on-java.org/11-jpa-hibernate-query-hints-every-developer-know/","title":"How to set lock timeout in postgres - Hibernate","body":"<p>Hibernate supports a <a href=\"https://www.thoughts-on-java.org/11-jpa-hibernate-query-hints-every-developer-know/\" rel=\"noreferrer\">bunch of query hints</a>. The one you're using sets the timeout for the query, not for the pessimistic lock. The query and the lock are independent of each other, and you need to use the hint shown below.</p>\n\n<p>But before you do that, please be aware, that Hibernate doesn't handle the timeout itself. It only sends it to the database and it depends on the database, if and how it applies it.</p>\n\n<p>To set a timeout for the pessimistic lock, you need to use the <code>javax.persistence.lock.timeout</code> hint instead. Here's an example:</p>\n\n<pre><code>entityManager.createQuery(\"SELECT value from Table where id=:id\")\n        .setParameter(\"id\", \"123\")\n        .setLockMode(LockModeType.PESSIMISTIC_WRITE)\n        .setHint(\"javax.persistence.lock.timeout\", 10000)\n        .getSingleResult();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2326068,"reputation":101,"user_id":2040567,"display_name":"LubošCZ"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1554232306,"creation_date":1554232306,"answer_id":55481974,"question_id":51845853,"body_markdown":"The hint for lock timeout for PostgresSQL doesn&#39;t work on PostreSQL 9.6 (`.setHint(&quot;javax.persistence.lock.timeout&quot;, 10000`)\r\n\r\n\r\nThe only solution I found is uncommenting lock_timeout property in postgresql.conf:\r\n\r\n    lock_timeout = 10000\t\t\t# in milliseconds, 0 is disabled\r\n\r\n","title":"How to set lock timeout in postgres - Hibernate","body":"<p>The hint for lock timeout for PostgresSQL doesn't work on PostreSQL 9.6 (<code>.setHint(\"javax.persistence.lock.timeout\", 10000</code>)</p>\n\n<p>The only solution I found is uncommenting lock_timeout property in postgresql.conf:</p>\n\n<pre><code>lock_timeout = 10000            # in milliseconds, 0 is disabled\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666788563,"creation_date":1666788563,"answer_id":74208072,"question_id":51845853,"body_markdown":"For anyone who&#39;s still looking for a data jpa solution, this is how i managed to do it\r\n\r\n1. First i&#39;ve created a function in postgres\r\n```\r\nCREATE function function_name (some_var bigint)\r\nRETURNS TABLE (id BIGINT, counter bigint, organisation_id bigint) -- here you list all the columns you want to be returned in the select statement\r\nLANGUAGE plpgsql\r\nAS\r\n$$\r\nBEGIN\r\n\tSET LOCAL lock_timeout = &#39;5s&#39;;\r\n\treturn query SELECT * from some_table where some_table.id = some_var FOR UPDATE;\r\nEND;\r\n$$;\r\n```\r\n\r\n2. then in the repository interface i&#39;ve created a native query that calls the function. This will apply the lock timeout on that particular transaction\r\n```\r\n  @Transactional\r\n  @Query(value = &quot;&quot;&quot;\r\n      select * from function_name(:id);\r\n      &quot;&quot;&quot;, nativeQuery = true)\r\n  Optional&lt;SomeTableEntity&gt; findById(Long id);\r\n```","title":"How to set lock timeout in postgres - Hibernate","body":"<p>For anyone who's still looking for a data jpa solution, this is how i managed to do it</p>\n<ol>\n<li>First i've created a function in postgres</li>\n</ol>\n<pre><code>CREATE function function_name (some_var bigint)\nRETURNS TABLE (id BIGINT, counter bigint, organisation_id bigint) -- here you list all the columns you want to be returned in the select statement\nLANGUAGE plpgsql\nAS\n$$\nBEGIN\n    SET LOCAL lock_timeout = '5s';\n    return query SELECT * from some_table where some_table.id = some_var FOR UPDATE;\nEND;\n$$;\n</code></pre>\n<ol start=\"2\">\n<li>then in the repository interface i've created a native query that calls the function. This will apply the lock timeout on that particular transaction</li>\n</ol>\n<pre><code>  @Transactional\n  @Query(value = &quot;&quot;&quot;\n      select * from function_name(:id);\n      &quot;&quot;&quot;, nativeQuery = true)\n  Optional&lt;SomeTableEntity&gt; findById(Long id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687329264,"creation_date":1687329264,"answer_id":76520564,"question_id":51845853,"body_markdown":"Hibernate has refused to do any workaround (no offense), see https://hibernate.atlassian.net/browse/HHH-16071, since\r\n\r\n&gt; 1. JPA query hints are optional.\r\n&gt; 2. Postgres itself does not support statement-level lock timeouts.\r\n\r\nBut there is an option to globally configure `lock_timeout` parameter, see https://postgresqlco.nf/doc/en/param/lock_timeout/\r\n\r\n```sql\r\nALTER DATABASE name SET lock_timeout=10000;\r\n```\r\n\r\nTo print current value, use\r\n```sql\r\nshow lock_timeout;\r\n```","title":"How to set lock timeout in postgres - Hibernate","body":"<p>Hibernate has refused to do any workaround (no offense), see <a href=\"https://hibernate.atlassian.net/browse/HHH-16071\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-16071</a>, since</p>\n<blockquote>\n<ol>\n<li>JPA query hints are optional.</li>\n<li>Postgres itself does not support statement-level lock timeouts.</li>\n</ol>\n</blockquote>\n<p>But there is an option to globally configure <code>lock_timeout</code> parameter, see <a href=\"https://postgresqlco.nf/doc/en/param/lock_timeout/\" rel=\"nofollow noreferrer\">https://postgresqlco.nf/doc/en/param/lock_timeout/</a></p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER DATABASE name SET lock_timeout=10000;\n</code></pre>\n<p>To print current value, use</p>\n<pre class=\"lang-sql prettyprint-override\"><code>show lock_timeout;\n</code></pre>\n"}],"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13262,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":6,"score":16,"last_activity_date":1687329264,"creation_date":1534263695,"question_id":51845853,"body_markdown":"I&#39;m trying to set a [`Lock`][1] for the row I&#39;m working on until the next commit:\r\n\r\n    entityManager.createQuery(&quot;SELECT value from Table where id=:id&quot;)\r\n                .setParameter(&quot;id&quot;, &quot;123&quot;)\r\n                .setLockMode(LockModeType.PESSIMISTIC_WRITE)\r\n                .setHint(&quot;javax.persistence.lock.timeout&quot;, 10000)\r\n                .getSingleResult();\r\n\r\nWhat I thought should happen is that if two threads will try to write to the db at the same time, one thread will reach the update operation before the other, the second thread should wait 10 seconds and then throw [`PessimisticLockException`][2].\r\n\r\nBut instead the thread hangs until the other thread finishes, regardless of the timeout set.\r\n\r\nLook at this example :\r\n\r\n    database.createTransaction(transaction -&gt; {\r\n        // Execute the first request to the db, and lock the table\r\n        requestAndLock(transaction);\r\n    \r\n        // open another transaction, and execute the second request in\r\n        // a different transaction\r\n        database.createTransaction(secondTransaction -&gt; {\r\n            requestAndLock(secondTransaction);\r\n        });\r\n    \r\n        transaction.commit();\r\n    });\r\n\r\nI expected that in the second request the transaction will wait until the timeout set and then throw the [`PessimisticLockException`][2], but instead it deadlocks forever.\r\n\r\n\r\nHibernate generates my request to the db this way : \r\n\r\n    SELECT value from Table where id=123 FOR UPDATE\r\n\r\nIn this [answer][3] I saw that `Postgres` allows only `SELECT FOR UPDATE NO WAIT` that sets the timeout to 0, but it isn&#39;t possible to set a timeout in that way.\r\n\r\nIs there any other way that I can use with `Hibernate / JPA`?\r\nMaybe [this way][4] is somehow recommended?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33081311/1706545\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/persistence/PessimisticLockException.html\r\n  [3]: https://stackoverflow.com/a/19850909/1706545\r\n  [4]: https://stackoverflow.com/questions/20963450/controlling-duration-of-postgresql-lock-waits","title":"How to set lock timeout in postgres - Hibernate","body":"<p>I'm trying to set a <a href=\"https://stackoverflow.com/a/33081311/1706545\"><code>Lock</code></a> for the row I'm working on until the next commit:</p>\n\n<pre><code>entityManager.createQuery(\"SELECT value from Table where id=:id\")\n            .setParameter(\"id\", \"123\")\n            .setLockMode(LockModeType.PESSIMISTIC_WRITE)\n            .setHint(\"javax.persistence.lock.timeout\", 10000)\n            .getSingleResult();\n</code></pre>\n\n<p>What I thought should happen is that if two threads will try to write to the db at the same time, one thread will reach the update operation before the other, the second thread should wait 10 seconds and then throw <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/PessimisticLockException.html\" rel=\"noreferrer\"><code>PessimisticLockException</code></a>.</p>\n\n<p>But instead the thread hangs until the other thread finishes, regardless of the timeout set.</p>\n\n<p>Look at this example :</p>\n\n<pre><code>database.createTransaction(transaction -&gt; {\n    // Execute the first request to the db, and lock the table\n    requestAndLock(transaction);\n\n    // open another transaction, and execute the second request in\n    // a different transaction\n    database.createTransaction(secondTransaction -&gt; {\n        requestAndLock(secondTransaction);\n    });\n\n    transaction.commit();\n});\n</code></pre>\n\n<p>I expected that in the second request the transaction will wait until the timeout set and then throw the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/PessimisticLockException.html\" rel=\"noreferrer\"><code>PessimisticLockException</code></a>, but instead it deadlocks forever.</p>\n\n<p>Hibernate generates my request to the db this way : </p>\n\n<pre><code>SELECT value from Table where id=123 FOR UPDATE\n</code></pre>\n\n<p>In this <a href=\"https://stackoverflow.com/a/19850909/1706545\">answer</a> I saw that <code>Postgres</code> allows only <code>SELECT FOR UPDATE NO WAIT</code> that sets the timeout to 0, but it isn't possible to set a timeout in that way.</p>\n\n<p>Is there any other way that I can use with <code>Hibernate / JPA</code>?\nMaybe <a href=\"https://stackoverflow.com/questions/20963450/controlling-duration-of-postgresql-lock-waits\">this way</a> is somehow recommended?</p>\n"},{"tags":["java","jaxb","resteasy"],"answers":[{"tags":[],"owner":{"display_name":"user4821194"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1617371913,"creation_date":1459364632,"answer_id":36317524,"question_id":36317022,"body_markdown":"Now I am able to solve this issue. I need to add following dependency in `pom.xml`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n   \t&lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\r\n   \t&lt;version&gt;3.0.16.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd 1) I should be using `@Produces(MediaType.APPLICATION_XML)` on method signature to get following response.\r\n\r\n```xml\r\n&lt;collection&gt;\r\n    &lt;student&gt;\r\n        &lt;student_id&gt;0&lt;/student_id&gt;\r\n        &lt;student_name&gt;Ricky&lt;/student_name&gt;\r\n        &lt;student_rollnumber&gt;AOHP451&lt;/student_rollnumber&gt;\r\n    &lt;/student&gt;\r\n    &lt;student&gt;\r\n        &lt;student_id&gt;1&lt;/student_id&gt;\r\n        &lt;student_name&gt;Mayer&lt;/student_name&gt;\r\n        &lt;student_rollnumber&gt;DKLP987&lt;/student_rollnumber&gt;\r\n    &lt;/student&gt;\r\n&lt;/collection&gt;\r\n```\r\n\r\n2) If you want to use `@Produces(MediaType.TEXT_PLAIN)` then code will gives you following output which doesn&#39;t looks useful.\r\n\r\n    [com.mkyong.rest.Student@4d5fd75e, com.mkyong.rest.Student@7715574d]\r\n\r\nSo use 1) solution.","title":"Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html - in Resteasy","body":"<p>Now I am able to solve this issue. I need to add following dependency in <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n    &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\n    &lt;version&gt;3.0.16.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And 1) I should be using <code>@Produces(MediaType.APPLICATION_XML)</code> on method signature to get following response.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;collection&gt;\n    &lt;student&gt;\n        &lt;student_id&gt;0&lt;/student_id&gt;\n        &lt;student_name&gt;Ricky&lt;/student_name&gt;\n        &lt;student_rollnumber&gt;AOHP451&lt;/student_rollnumber&gt;\n    &lt;/student&gt;\n    &lt;student&gt;\n        &lt;student_id&gt;1&lt;/student_id&gt;\n        &lt;student_name&gt;Mayer&lt;/student_name&gt;\n        &lt;student_rollnumber&gt;DKLP987&lt;/student_rollnumber&gt;\n    &lt;/student&gt;\n&lt;/collection&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>If you want to use <code>@Produces(MediaType.TEXT_PLAIN)</code> then code will gives you following output which doesn't looks useful.</p>\n<p>[com.mkyong.rest.Student@4d5fd75e, com.mkyong.rest.Student@7715574d]</p>\n</li>\n</ol>\n<p>So use 1) solution.</p>\n"},{"tags":[],"owner":{"account_id":1764655,"reputation":2160,"user_id":1610778,"display_name":"Stan Sokolov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1477335163,"creation_date":1477335163,"answer_id":40225493,"question_id":36317022,"body_markdown":"Try to add particular version of serializer\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html - in Resteasy","body":"<p>Try to add particular version of serializer</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-jackson-provider&lt;/artifactId&gt;\n        &lt;version&gt;${resteasy.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531515409,"creation_date":1531515409,"answer_id":51332708,"question_id":36317022,"body_markdown":"To be more clear, for beginners. add the\r\n\r\n`@XmlRootElement(name = &quot;yourClassLowerCased&quot;)` at the beginning of your class, like\r\n\r\n    package org.dlss.entities;\r\n    import javax.persistence.*;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    \r\n    @Entity //The class will be a javax.persistence Entity (could be stored in a DB)\r\n    @Table(name = &quot;person&quot;, schema = &quot;public&quot;, catalog = &quot;&lt;databaseName&gt;&quot;) //Table name\r\n    @XmlRootElement(name = &quot;person&quot;)\r\n    public class PersonEntity {\r\n    \r\n    \r\n        @Id //Following field will be the id of the table\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY) //Will be autoincremented when generated for type SERIAL into postgresql\r\n        private Integer id;\r\n","title":"Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html - in Resteasy","body":"<p>To be more clear, for beginners. add the</p>\n\n<p><code>@XmlRootElement(name = \"yourClassLowerCased\")</code> at the beginning of your class, like</p>\n\n<pre><code>package org.dlss.entities;\nimport javax.persistence.*;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n\n@Entity //The class will be a javax.persistence Entity (could be stored in a DB)\n@Table(name = \"person\", schema = \"public\", catalog = \"&lt;databaseName&gt;\") //Table name\n@XmlRootElement(name = \"person\")\npublic class PersonEntity {\n\n\n    @Id //Following field will be the id of the table\n    @GeneratedValue(strategy = GenerationType.IDENTITY) //Will be autoincremented when generated for type SERIAL into postgresql\n    private Integer id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4978603,"reputation":65,"user_id":4004262,"display_name":"che"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1539083459,"creation_date":1539080983,"answer_id":52718840,"question_id":36317022,"body_markdown":"    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n\r\nadding those annotations solved my issue.","title":"Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html - in Resteasy","body":"<pre><code>@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\n</code></pre>\n\n<p>adding those annotations solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":1696809,"reputation":1632,"user_id":1558028,"accept_rate":100,"display_name":"androbin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551336258,"creation_date":1550777557,"answer_id":54814842,"question_id":36317022,"body_markdown":"For me it was about trying to serialize the array to XML. If you would like that it would need a wrapper class like this for movies:\r\n\r\n```java\r\n@XmlRootElement(name = &quot;movies&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Movies\r\n{\r\n    @XmlElement(name = &quot;movie&quot;)\r\n    private List&lt;Movie&gt; movies;\r\n \r\n    public List&lt;Movie&gt; getMovies() {\r\n        return movies;\r\n    }\r\n \r\n    public void setMovies(List&lt;Movie&gt; movies) {\r\n        this.movies = movies;\r\n    }\r\n}\r\n```\r\n\r\nThis way it can be serialized under the root object.","title":"Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html - in Resteasy","body":"<p>For me it was about trying to serialize the array to XML. If you would like that it would need a wrapper class like this for movies:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = \"movies\")\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Movies\n{\n    @XmlElement(name = \"movie\")\n    private List&lt;Movie&gt; movies;\n\n    public List&lt;Movie&gt; getMovies() {\n        return movies;\n    }\n\n    public void setMovies(List&lt;Movie&gt; movies) {\n        this.movies = movies;\n    }\n}\n</code></pre>\n\n<p>This way it can be serialized under the root object.</p>\n"},{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1579784817,"creation_date":1560891023,"answer_id":56656851,"question_id":36317022,"body_markdown":"(For those who find the question, working with quarkus)\r\n\r\nUsing this setup routine:\r\n\r\n    mvn io.quarkus:quarkus-maven-plugin:0.16.1:create     -DprojectGroupId=com.sample     -DprojectArtifactId=hello-quarkus     -DclassName=&quot;com.sample.DemoEndpoint&quot;     -Dpath=&quot;/persons&quot;\r\n\r\nTo fix the issue described here, I had to add this dependency.\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-jsonb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nhere is my full pom.xml after I added the above dependency.  Again, 99% of the below pom.xml came from the mvn command above.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.sample&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hello-quarkus&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;properties&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\r\n        &lt;quarkus.version&gt;0.16.1&lt;/quarkus.version&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;!-- ADDED MAGIC HERE --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy-jsonb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;build&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;systemProperties&gt;\r\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n              &lt;/systemProperties&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;native&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;property&gt;\r\n              &lt;name&gt;native&lt;/name&gt;\r\n            &lt;/property&gt;\r\n          &lt;/activation&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;native-image&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;enableHttpUrlHandler&gt;true&lt;/enableHttpUrlHandler&gt;\r\n                    &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n              &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                      &lt;goal&gt;verify&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;systemProperties&gt;\r\n                        &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\r\n                      &lt;/systemProperties&gt;\r\n                    &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html - in Resteasy","body":"<p>(For those who find the question, working with quarkus)</p>\n\n<p>Using this setup routine:</p>\n\n<pre><code>mvn io.quarkus:quarkus-maven-plugin:0.16.1:create     -DprojectGroupId=com.sample     -DprojectArtifactId=hello-quarkus     -DclassName=\"com.sample.DemoEndpoint\"     -Dpath=\"/persons\"\n</code></pre>\n\n<p>To fix the issue described here, I had to add this dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-resteasy-jsonb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>here is my full pom.xml after I added the above dependency.  Again, 99% of the below pom.xml came from the mvn command above.</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.sample&lt;/groupId&gt;\n  &lt;artifactId&gt;hello-quarkus&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\n    &lt;quarkus.version&gt;0.16.1&lt;/quarkus.version&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-bom&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- ADDED MAGIC HERE --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-jsonb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;build&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;systemProperties&gt;\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n          &lt;/systemProperties&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;native&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;native&lt;/name&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;native-image&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;enableHttpUrlHandler&gt;true&lt;/enableHttpUrlHandler&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\n                  &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;systemProperties&gt;\n                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                  &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13742814,"reputation":729,"user_id":9917400,"display_name":"Dhruv garg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593365690,"creation_date":1593365690,"answer_id":62626065,"question_id":36317022,"body_markdown":"The solutions provided by others works completely fine.\r\n\r\nI just want to add, why they work?\r\n\r\nRESTEasy is a JBoss / Red Hat project that provides various frameworks to help you build RESTful Web Services and RESTful Java applications. It does not have bindings to convert java classes from JSON and vice-versa.\r\n\r\nHere comes libraries like JSON-B and Jackson, which helps to convert between java classes and JSON.\r\n\r\nFrom Json-B documentation : \r\n\r\nJSON-B is a standard binding layer for converting Java objects to/from JSON messages. It defines a default mapping algorithm for converting existing Java classes to JSON, while enabling developers to customize the mapping process through the use of Java annotations.\r\n","title":"Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html - in Resteasy","body":"<p>The solutions provided by others works completely fine.</p>\n<p>I just want to add, why they work?</p>\n<p>RESTEasy is a JBoss / Red Hat project that provides various frameworks to help you build RESTful Web Services and RESTful Java applications. It does not have bindings to convert java classes from JSON and vice-versa.</p>\n<p>Here comes libraries like JSON-B and Jackson, which helps to convert between java classes and JSON.</p>\n<p>From Json-B documentation :</p>\n<p>JSON-B is a standard binding layer for converting Java objects to/from JSON messages. It defines a default mapping algorithm for converting existing Java classes to JSON, while enabling developers to customize the mapping process through the use of Java annotations.</p>\n"},{"tags":[],"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664749493,"creation_date":1664749493,"answer_id":73929754,"question_id":36317022,"body_markdown":"For any future readers, apart from the accepted solution make sure to use javax jaxb and not the jakarta one, works with one and not the other","title":"Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html - in Resteasy","body":"<p>For any future readers, apart from the accepted solution make sure to use javax jaxb and not the jakarta one, works with one and not the other</p>\n"},{"tags":[],"owner":{"account_id":2882651,"reputation":511,"user_id":2473158,"accept_rate":78,"display_name":"Marco S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687329195,"creation_date":1687329195,"answer_id":76520560,"question_id":36317022,"body_markdown":"In my case, using quarkus version 3.1.1.Final, I have resolved replacing\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n      &lt;version&gt;${version.quarkus}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwith\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n      &lt;version&gt;${version.quarkus}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html - in Resteasy","body":"<p>In my case, using quarkus version 3.1.1.Final, I have resolved replacing</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n  &lt;version&gt;${version.quarkus}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n  &lt;version&gt;${version.quarkus}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"display_name":"user4821194"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70999,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":36317524,"answer_count":9,"score":26,"last_activity_date":1687329195,"creation_date":1459362974,"question_id":36317022,"body_markdown":"I am developing **RESTEasy** Example. In this example I am using all latest dependencies and deploying om tomcat 8.x version. I can successfully deploy the application but when I am launching the url: http://localhost:8080/RESTfulExample/rest/restwebservice/list, I see following errors are coming. Please guide what is going wrong here.\r\n\r\n    org.jboss.resteasy.core.NoMessageBodyWriterFoundFailure: Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html\r\n    \tat org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:66)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.writeResponse(SynchronousDispatcher.java:466)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:415)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:202)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:221)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:521)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1096)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:674)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nThe code I developed so far for reference:\r\npom.xml\r\n\r\n    &lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;JBoss repository&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repository.jboss.org/nexus/content/groups/public-jboss/&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;resteasy-jaxrs-version&gt;3.0.16.Final&lt;/resteasy-jaxrs-version&gt;\r\n    \t\t&lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${resteasy-jaxrs-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${resteasy-jaxrs-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;!-- Project Build --&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;RESTfulExample&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\nStudent.java\r\n\r\n    @XmlRootElement\r\n    public class Student {\r\n    \r\n    \tprivate int student_id;\r\n    \tprivate String student_name;\r\n    \tprivate String student_rollnumber;\r\n        // setters and getters\r\n    }\r\nRESTEasyService.java\r\n\r\n    @ApplicationPath(&quot;/rest&quot;)\r\n    public class RESTEasyService extends Application{\r\n    \r\n    }\r\nRESTWebServiceJavaExample.java\r\n\r\n    @Path(&quot;/restwebservice&quot;)\r\n    public class RESTWebServiceJavaExample {\r\n    \tprivate TreeMap&lt;Integer, Student&gt; webserviceMap= new TreeMap&lt;&gt;();\r\n    \r\n    \tpublic RESTWebServiceJavaExample(){\r\n    \r\n    \t\tStudent student = new Student();\r\n    \t\tstudent.setStudent_name(&quot;Ricky&quot;);\r\n    \t\tstudent.setStudent_rollnumber(&quot;AOHP451&quot;);\r\n    \r\n    \t\taddStudent(student);\r\n    \r\n    \t\tstudent = new Student();\r\n    \t\tstudent.setStudent_name(&quot;Mayer&quot;);\r\n    \t\tstudent.setStudent_rollnumber(&quot;DKLP987&quot;);\r\n    \t\taddStudent(student);\r\n    \r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Path(&quot;list&quot;)\r\n    \tpublic List&lt;Student&gt; getStudents() {\r\n    \t\tList&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\r\n    \t\tstudents.addAll(webserviceMap.values());\r\n    \t\treturn students;\r\n    \t}\r\n    \r\n    \t@POST\r\n    \t@Path(&quot;add&quot;)\r\n    \t@Produces(&quot;text/plain&quot;)\r\n    \t@Consumes(&quot;application/xml&quot;)\r\n    \tpublic void addStudent(Student student_param) {\r\n    \t\tint id = webserviceMap.size();\r\n    \t\tstudent_param.setStudent_id(id);\r\n    \t\twebserviceMap.put(id, student_param);\r\n    \t}\r\n    }\r\nweb.xml:\r\n\r\n    &lt;web-app id=&quot;WebApp_ID&quot; version=&quot;2.4&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee \r\n    \thttp://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\r\n    \t&lt;display-name&gt;Restful Web Application&lt;/display-name&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n","title":"Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html - in Resteasy","body":"<p>I am developing <strong>RESTEasy</strong> Example. In this example I am using all latest dependencies and deploying om tomcat 8.x version. I can successfully deploy the application but when I am launching the url: <a href=\"http://localhost:8080/RESTfulExample/rest/restwebservice/list\" rel=\"noreferrer\">http://localhost:8080/RESTfulExample/rest/restwebservice/list</a>, I see following errors are coming. Please guide what is going wrong here.</p>\n\n<pre><code>org.jboss.resteasy.core.NoMessageBodyWriterFoundFailure: Could not find MessageBodyWriter for response object of type: java.util.ArrayList of media type: text/html\n    at org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:66)\n    at org.jboss.resteasy.core.SynchronousDispatcher.writeResponse(SynchronousDispatcher.java:466)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:415)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:202)\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:221)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:521)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1096)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:674)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>The code I developed so far for reference:\npom.xml</p>\n\n<pre><code>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;JBoss repository&lt;/id&gt;\n            &lt;url&gt;https://repository.jboss.org/nexus/content/groups/public-jboss/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;resteasy-jaxrs-version&gt;3.0.16.Final&lt;/resteasy-jaxrs-version&gt;\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy-jaxrs-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy-jaxrs-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;!-- Project Build --&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;RESTfulExample&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>Student.java</p>\n\n<pre><code>@XmlRootElement\npublic class Student {\n\n    private int student_id;\n    private String student_name;\n    private String student_rollnumber;\n    // setters and getters\n}\n</code></pre>\n\n<p>RESTEasyService.java</p>\n\n<pre><code>@ApplicationPath(\"/rest\")\npublic class RESTEasyService extends Application{\n\n}\n</code></pre>\n\n<p>RESTWebServiceJavaExample.java</p>\n\n<pre><code>@Path(\"/restwebservice\")\npublic class RESTWebServiceJavaExample {\n    private TreeMap&lt;Integer, Student&gt; webserviceMap= new TreeMap&lt;&gt;();\n\n    public RESTWebServiceJavaExample(){\n\n        Student student = new Student();\n        student.setStudent_name(\"Ricky\");\n        student.setStudent_rollnumber(\"AOHP451\");\n\n        addStudent(student);\n\n        student = new Student();\n        student.setStudent_name(\"Mayer\");\n        student.setStudent_rollnumber(\"DKLP987\");\n        addStudent(student);\n\n    }\n\n    @GET\n    @Path(\"list\")\n    public List&lt;Student&gt; getStudents() {\n        List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\n        students.addAll(webserviceMap.values());\n        return students;\n    }\n\n    @POST\n    @Path(\"add\")\n    @Produces(\"text/plain\")\n    @Consumes(\"application/xml\")\n    public void addStudent(Student student_param) {\n        int id = webserviceMap.size();\n        student_param.setStudent_id(id);\n        webserviceMap.put(id, student_param);\n    }\n}\n</code></pre>\n\n<p>web.xml:</p>\n\n<pre><code>&lt;web-app id=\"WebApp_ID\" version=\"2.4\"\n    xmlns=\"http://java.sun.com/xml/ns/j2ee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee \n    http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"&gt;\n    &lt;display-name&gt;Restful Web Application&lt;/display-name&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","testng","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":14342757,"reputation":543,"user_id":10360471,"display_name":"David R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676260978,"creation_date":1676260978,"answer_id":75431814,"question_id":75059343,"body_markdown":"Here is [the Playwright for Java doc on the Video class][1], which shows how to get the video associated with the page, deleting a video (or deciding it should be), and saving as or telling it what file name to use.\r\n\r\nSo basically at some point in your test or a before/after hook, even potentially in your base class, you can tell the video to save as the test name (couple resources below if unsure how to obtain that), and to delete when successful/doesn’t fail (couple resources below on determining test result).\r\n\r\nHope that helps!\r\n\r\n## Some Resources\r\n\r\nI’m not as familiar with Java and its runners, but you may already know how to do some of these. If not, here’s a few resources I found:\r\n\r\nGetting test result\r\n - [SO question using JUnit (and an answer for TestNG) to get the test result][2]\r\n - Without a runner, using try-catch in test, within catch would be failure, so end of success or failure you would delete the video or not\r\n\r\nFinding test name\r\n - [SO question about finding method name][3]\r\n - [SO question and various answers about getting a test name in JUnit][4]\r\n\r\n\r\n  [1]: https://playwright.dev/java/docs/api/class-video\r\n  [2]: https://stackoverflow.com/questions/22773590/junit-4-11-get-test-result-in-after\r\n  [3]: https://stackoverflow.com/questions/442747/getting-the-name-of-the-currently-executing-method\r\n  [4]: https://stackoverflow.com/questions/473401/get-name-of-currently-executing-test-in-junit-4","title":"How to record video of tests with custom file name as test method name in playwright java and testng framework","body":"<p>Here is <a href=\"https://playwright.dev/java/docs/api/class-video\" rel=\"nofollow noreferrer\">the Playwright for Java doc on the Video class</a>, which shows how to get the video associated with the page, deleting a video (or deciding it should be), and saving as or telling it what file name to use.</p>\n<p>So basically at some point in your test or a before/after hook, even potentially in your base class, you can tell the video to save as the test name (couple resources below if unsure how to obtain that), and to delete when successful/doesn’t fail (couple resources below on determining test result).</p>\n<p>Hope that helps!</p>\n<h2>Some Resources</h2>\n<p>I’m not as familiar with Java and its runners, but you may already know how to do some of these. If not, here’s a few resources I found:</p>\n<p>Getting test result</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/22773590/junit-4-11-get-test-result-in-after\">SO question using JUnit (and an answer for TestNG) to get the test result</a></li>\n<li>Without a runner, using try-catch in test, within catch would be failure, so end of success or failure you would delete the video or not</li>\n</ul>\n<p>Finding test name</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/442747/getting-the-name-of-the-currently-executing-method\">SO question about finding method name</a></li>\n<li><a href=\"https://stackoverflow.com/questions/473401/get-name-of-currently-executing-test-in-junit-4\">SO question and various answers about getting a test name in JUnit</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3875331,"reputation":3564,"user_id":3209523,"display_name":"canbax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687328818,"creation_date":1687328818,"answer_id":76520521,"question_id":75059343,"body_markdown":"I guess there is no way to set a customer file name. Video file names are all like &#39;2b47a96bf34817179232490&#39; but you can set the directory of the file like \r\n\r\n```\r\nPath videoDirectory = Paths.get(&quot;my-custom-path&quot;);\r\nbrowser.newContext(new Browser.NewContextOptions().setRecordVideoDir(videoDirectory));\r\n```","title":"How to record video of tests with custom file name as test method name in playwright java and testng framework","body":"<p>I guess there is no way to set a customer file name. Video file names are all like '2b47a96bf34817179232490' but you can set the directory of the file like</p>\n<pre><code>Path videoDirectory = Paths.get(&quot;my-custom-path&quot;);\nbrowser.newContext(new Browser.NewContextOptions().setRecordVideoDir(videoDirectory));\n</code></pre>\n"}],"owner":{"account_id":5890641,"reputation":1533,"user_id":4637378,"accept_rate":83,"display_name":"Rajeev Dixit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687328818,"creation_date":1673277468,"question_id":75059343,"body_markdown":"I have test class defined as this-\r\n\r\n    public class Sample extends BaseTest {\r\n    private LoginPage loginPage;\r\n\r\n    @Override\r\n    public void initialize() {\r\n        loginPage = createInstance(LoginPage.class)\r\n        browserContext = getBrowserContext();\r\n    }\r\n    @Test(testName = &quot;sampleTestName&quot;, retryAnalyzer = RerunFailedTestCases.class)\r\n    public void sampleTestName() {\r\n        loginPage.performLogin();\r\n        loginPage.validateLogInSuccessful();\r\n    }\r\nIn BaseTest I am initializing BrowserContext and enabling video recording for the tests-\r\n\r\n    public abstract class BaseTest {\r\n    protected BrowserContext browserContext = browser.newContext(new Browser.NewContextOptions()\r\n            .setIgnoreHTTPSErrors(true)\r\n            .setPermissions(Arrays.asList(&quot;geolocation&quot;))\r\n            .setRecordVideoDir(Paths.get(VIDEOS_DIR)));\r\n    }\r\n\r\nMy requirement is-\r\n1. Record video of test with testMethod name\r\n2. only keep video of the failed tests\r\n\r\n","title":"How to record video of tests with custom file name as test method name in playwright java and testng framework","body":"<p>I have test class defined as this-</p>\n<pre><code>public class Sample extends BaseTest {\nprivate LoginPage loginPage;\n\n@Override\npublic void initialize() {\n    loginPage = createInstance(LoginPage.class)\n    browserContext = getBrowserContext();\n}\n@Test(testName = &quot;sampleTestName&quot;, retryAnalyzer = RerunFailedTestCases.class)\npublic void sampleTestName() {\n    loginPage.performLogin();\n    loginPage.validateLogInSuccessful();\n}\n</code></pre>\n<p>In BaseTest I am initializing BrowserContext and enabling video recording for the tests-</p>\n<pre><code>public abstract class BaseTest {\nprotected BrowserContext browserContext = browser.newContext(new Browser.NewContextOptions()\n        .setIgnoreHTTPSErrors(true)\n        .setPermissions(Arrays.asList(&quot;geolocation&quot;))\n        .setRecordVideoDir(Paths.get(VIDEOS_DIR)));\n}\n</code></pre>\n<p>My requirement is-</p>\n<ol>\n<li>Record video of test with testMethod name</li>\n<li>only keep video of the failed tests</li>\n</ol>\n"},{"tags":["java","multithreading","quarkus","reactive","mutiny"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1620453309,"post_id":67444442,"comment_id":119210171,"body_markdown":"Mutiny in and of itself is already reactive. So if you use a `Uni` or `Multi` in your code to start the computation in the background, it will run concurrently/asynchronously.","body":"Mutiny in and of itself is already reactive. So if you use a <code>Uni</code> or <code>Multi</code> in your code to start the computation in the background, it will run concurrently/asynchronously."},{"owner":{"account_id":2576016,"reputation":2874,"user_id":2233683,"accept_rate":75,"display_name":"GeauxEric"},"score":0,"creation_date":1620453563,"post_id":67444442,"comment_id":119210210,"body_markdown":"My process can take up to 10 minute, and I would like to return the response to the client immediately.","body":"My process can take up to 10 minute, and I would like to return the response to the client immediately."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1620454252,"post_id":67444442,"comment_id":119210298,"body_markdown":"Okay, if the task is longrunning, it should not necessarily run on an I/O thread... Is using a framework, like [Quarzt (Quarkus Guide](https://quarkus.io/guides/quartz)) an option?","body":"Okay, if the task is longrunning, it should not necessarily run on an I/O thread... Is using a framework, like <a href=\"https://quarkus.io/guides/quartz\" rel=\"nofollow noreferrer\">Quarzt (Quarkus Guide</a>) an option?"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":5,"creation_date":1620468939,"post_id":67444442,"comment_id":119213251,"body_markdown":"You can `@Inject org.eclipse.microprofile.context.ManagedExecutor`, which is backed by the Quarkus main worker thread pool, and submit tasks there. Or create your own thread pool, if the tasks can really take multiple minutes.","body":"You can <code>@Inject org.eclipse.microprofile.context.ManagedExecutor</code>, which is backed by the Quarkus main worker thread pool, and submit tasks there. Or create your own thread pool, if the tasks can really take multiple minutes."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1620494103,"post_id":67444442,"comment_id":119219532,"body_markdown":"@Ladicek you may want to post that comment of yours as an answer :)","body":"@Ladicek you may want to post that comment of yours as an answer :)"},{"owner":{"account_id":2576016,"reputation":2874,"user_id":2233683,"accept_rate":75,"display_name":"GeauxEric"},"score":0,"creation_date":1620494473,"post_id":67444442,"comment_id":119219625,"body_markdown":"Thanks @Ladicek, I end up using that ManagedExecutor to send runnables.","body":"Thanks @Ladicek, I end up using that ManagedExecutor to send runnables."},{"owner":{"account_id":362789,"reputation":464,"user_id":706172,"accept_rate":30,"display_name":"agoncal"},"score":0,"creation_date":1620629500,"post_id":67444442,"comment_id":119246790,"body_markdown":"MicroProfile is working on Long Running Actions. I just don&#39;t know the status of the project https://microprofile.io/project/eclipse/microprofile-lra","body":"MicroProfile is working on Long Running Actions. I just don&#39;t know the status of the project <a href=\"https://microprofile.io/project/eclipse/microprofile-lra\" rel=\"nofollow noreferrer\">microprofile.io/project/eclipse/microprofile-lra</a>"},{"owner":{"account_id":2576016,"reputation":2874,"user_id":2233683,"accept_rate":75,"display_name":"GeauxEric"},"score":0,"creation_date":1620768007,"post_id":67444442,"comment_id":119297994,"body_markdown":"thanks for the pointer @agoncal.\nInteresting project to provide different levels of consistency. I already watched the github project.","body":"thanks for the pointer @agoncal. Interesting project to provide different levels of consistency. I already watched the github project."}],"answers":[{"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687328646,"creation_date":1687328646,"answer_id":76520504,"question_id":67444442,"body_markdown":"The question is whether you want your processing to be &quot;in-and&quot; or &quot;out-of-band&quot;:\r\n\r\n1) in-band: your HTTP response must wait for the processing to complete before returning.\r\n2) out-of-band: your HTTP response is written _immediately_ and your processing runs in the background.\r\n\r\nTo implement (1), you can:\r\n\r\n - Use `Uni` and model your code using asynchronous actions like:\r\n\r\n```java\r\nreturn Uni.createFrom(something)\r\n   .chain(s -&gt; doAnotherAsyncAction(s)) // doAnotherAsyncAction returns a Uni\r\n   .chain(s -&gt; yetanotherAsyncAction(s))\r\n```\r\n\r\n - Use the event bus using a request-reply:\r\n\r\n```java\r\n@Inject EventBus bus;\r\n// ...\r\nreturn bus.request(&quot;an-address&quot;, someObject)\r\n  .map(Message::body); // the body contains the response\r\n// Somewhere else in your code:\r\n@ConsumeEvent(&quot;an-address&quot;)\r\n@Blocking\r\nMyResponse process(SomeObject object) {\r\n  // ....\r\n}\r\n```\r\n\r\nTo implement (2), you can:\r\n\r\n- Inject and Use the `org.eclipse.microprofile.context.ManagedExecutor` and submit your tasks as you would do with a regular executor\r\n- Use the event bus, but instead of `request`; use `send`. The `@ConsumeEvent` side would not return anything (as no one expects a response).\r\n\r\nFor more details about the event bus, check: https://quarkus.io/guides/reactive-event-bus\r\n\r\n ","title":"Right way to start a background task per request in Quarkus","body":"<p>The question is whether you want your processing to be &quot;in-and&quot; or &quot;out-of-band&quot;:</p>\n<ol>\n<li>in-band: your HTTP response must wait for the processing to complete before returning.</li>\n<li>out-of-band: your HTTP response is written <em>immediately</em> and your processing runs in the background.</li>\n</ol>\n<p>To implement (1), you can:</p>\n<ul>\n<li>Use <code>Uni</code> and model your code using asynchronous actions like:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>return Uni.createFrom(something)\n   .chain(s -&gt; doAnotherAsyncAction(s)) // doAnotherAsyncAction returns a Uni\n   .chain(s -&gt; yetanotherAsyncAction(s))\n</code></pre>\n<ul>\n<li>Use the event bus using a request-reply:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject EventBus bus;\n// ...\nreturn bus.request(&quot;an-address&quot;, someObject)\n  .map(Message::body); // the body contains the response\n// Somewhere else in your code:\n@ConsumeEvent(&quot;an-address&quot;)\n@Blocking\nMyResponse process(SomeObject object) {\n  // ....\n}\n</code></pre>\n<p>To implement (2), you can:</p>\n<ul>\n<li>Inject and Use the <code>org.eclipse.microprofile.context.ManagedExecutor</code> and submit your tasks as you would do with a regular executor</li>\n<li>Use the event bus, but instead of <code>request</code>; use <code>send</code>. The <code>@ConsumeEvent</code> side would not return anything (as no one expects a response).</li>\n</ul>\n<p>For more details about the event bus, check: <a href=\"https://quarkus.io/guides/reactive-event-bus\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/reactive-event-bus</a></p>\n"}],"owner":{"account_id":2576016,"reputation":2874,"user_id":2233683,"accept_rate":75,"display_name":"GeauxEric"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2205,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687328646,"creation_date":1620452625,"question_id":67444442,"body_markdown":"I wonder what is the good practice in Quarkus to run background task per request.\r\n\r\nSomething like this:\r\n```\r\n    @POST()\r\n    @Path(&quot;v1&quot;)\r\n    public Uni&lt;Response&gt; buildSomething() {\r\n        // start a thread to build things in the background\r\n        // when completed, save the id in DB\r\n\r\n        // return immediately\r\n        return Uni.createFrom().item(Response.accepted().build());\r\n    }\r\n\r\n    @GET()\r\n    @Path(&quot;v1&quot;)\r\n    public Uni&lt;List&lt;Long&gt;&gt; getSomethingThatHasBeenBuilt() {\r\n        // fetch ids from DB\r\n        return fetchIdsFromDB();\r\n    }\r\n```\r\n\r\nI hope I can do something like a Go routine, for which I can set a timeout and log the error. I suspect one can probably inject a vertx instance and do the task in a worker thread pool, but I don&#39;t know how that can be implemented.","title":"Right way to start a background task per request in Quarkus","body":"<p>I wonder what is the good practice in Quarkus to run background task per request.</p>\n<p>Something like this:</p>\n<pre><code>    @POST()\n    @Path(&quot;v1&quot;)\n    public Uni&lt;Response&gt; buildSomething() {\n        // start a thread to build things in the background\n        // when completed, save the id in DB\n\n        // return immediately\n        return Uni.createFrom().item(Response.accepted().build());\n    }\n\n    @GET()\n    @Path(&quot;v1&quot;)\n    public Uni&lt;List&lt;Long&gt;&gt; getSomethingThatHasBeenBuilt() {\n        // fetch ids from DB\n        return fetchIdsFromDB();\n    }\n</code></pre>\n<p>I hope I can do something like a Go routine, for which I can set a timeout and log the error. I suspect one can probably inject a vertx instance and do the task in a worker thread pool, but I don't know how that can be implemented.</p>\n"},{"tags":["java","univocity"],"owner":{"account_id":3860326,"reputation":329,"user_id":3198215,"accept_rate":62,"display_name":"mns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687328383,"creation_date":1687328383,"question_id":76520474,"body_markdown":"I am using BatchedColumnProcessor of univocity parser to parse large CSV files. \r\nMy parser settings are :\r\n\r\n    csvParserSettings.detectFormatAutomatically();\r\n    csvParserSettings.setHeaderExtractionEnabled(true);\r\n    csvParserSettings.setMaxCharsPerColumn(-1);\r\n    csvParserSettings.setColumnReorderingEnabled(true);\r\n    final RecLoCSVBatchedProcessor processor =\r\n        new RecLoCSVBatchedProcessor(batchSize, csvAccountId);\r\n\r\n    csvParserSettings.setProcessor(processor);\r\n\r\n\r\nCode snippet where I call parsing is:\r\n\r\n     try (InputStream inputStream = new FileInputStream(csvLocalFilePath);\r\n        BOMInputStream bomInputStream = new BOMInputStream(inputStream);\r\n        Reader inputReader = new InputStreamReader(bomInputStream, &quot;UTF-8&quot;)) {\r\n\r\n        // Rows are processed in batches by RecLoCSVBatchedProcessor\r\n        List&lt;String[]&gt; rows = csvProcessor.parseAll(inputReader);\r\n      \r\n    } catch (final IOException e) {\r\n      \r\n    }\r\n\r\nSometimes I have noticed the same batch is getting processed twice.\r\nIn the processor I have overridden batchProcessed call and do the required processing. \r\n\r\n    public class RecLoCSVBatchedProcessor extends BatchedColumnProcessor {\r\n         public RecLoCSVBatchedProcessor(final int rowsPerBatch, final Long accountId) {\r\n    super(rowsPerBatch);\r\n    ....\r\n    }\r\n     @Override\r\n     public void batchProcessed(final int rowsInThisBatch) { ... }\r\n\r\nIs this something to do with the settings? As I have mentioned this does not happen always. It is such a waste a resources and unnecessary processing time when same batches get processed multiple times. Please let me know what could be wrong here. \r\n\r\nThanks\r\n\r\n ","title":"Univocity parser BatchedColumnProcessor processing batch twice","body":"<p>I am using BatchedColumnProcessor of univocity parser to parse large CSV files.\nMy parser settings are :</p>\n<pre><code>csvParserSettings.detectFormatAutomatically();\ncsvParserSettings.setHeaderExtractionEnabled(true);\ncsvParserSettings.setMaxCharsPerColumn(-1);\ncsvParserSettings.setColumnReorderingEnabled(true);\nfinal RecLoCSVBatchedProcessor processor =\n    new RecLoCSVBatchedProcessor(batchSize, csvAccountId);\n\ncsvParserSettings.setProcessor(processor);\n</code></pre>\n<p>Code snippet where I call parsing is:</p>\n<pre><code> try (InputStream inputStream = new FileInputStream(csvLocalFilePath);\n    BOMInputStream bomInputStream = new BOMInputStream(inputStream);\n    Reader inputReader = new InputStreamReader(bomInputStream, &quot;UTF-8&quot;)) {\n\n    // Rows are processed in batches by RecLoCSVBatchedProcessor\n    List&lt;String[]&gt; rows = csvProcessor.parseAll(inputReader);\n  \n} catch (final IOException e) {\n  \n}\n</code></pre>\n<p>Sometimes I have noticed the same batch is getting processed twice.\nIn the processor I have overridden batchProcessed call and do the required processing.</p>\n<pre><code>public class RecLoCSVBatchedProcessor extends BatchedColumnProcessor {\n     public RecLoCSVBatchedProcessor(final int rowsPerBatch, final Long accountId) {\nsuper(rowsPerBatch);\n....\n}\n @Override\n public void batchProcessed(final int rowsInThisBatch) { ... }\n</code></pre>\n<p>Is this something to do with the settings? As I have mentioned this does not happen always. It is such a waste a resources and unnecessary processing time when same batches get processed multiple times. Please let me know what could be wrong here.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","admob","admob-rewardedvideoad"],"owner":{"account_id":28309439,"reputation":1,"user_id":21646919,"display_name":"Nathanael Primeldi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687328290,"creation_date":1682783976,"question_id":76137151,"body_markdown":"I am trying to show a rewarded ad in Android Studio using Google Admob, and I have watched several different videos on it, but none of them work for me. When I run it and click the button that is supposed to show the ad, it doesn&#39;t work and gives me the log message: \r\n\r\n\r\n```\r\nI/Ads: ExoPlayerAdapter initialized.\r\nW/Ads: Failed to preload url gcache://video/media/-438303185308675417?url=https%3A%2F%2Frr2---sn-nx57ynss.googlevideo.com%2Fvideoplayback%3Fexpire%3D1682760455%26ei%3Dh3JMZJzUJ4Ggn88P2ruSgAU%26ip%3D50.54.142.60%26id%3Df9ead5933fc112a7%26itag%3D22%26source%3Dyoutube%26requiressl%3Dyes%26mh%3DEA%26mm%3D31%26mn%3Dsn-nx57ynss%26ms%3Dau%26mv%3Dm%26mvi%3D2%26pl%3D17%26susc%3Dgvp%26acao%3Dyes%26ctier%3DL%26mime%3Dvideo%252Fmp4%26vprv%3D1%26dur%3D7.314%26lmt%3D1674261152906091%26mt%3D1682731265%26txp%3D1211224%26sparams%3Dexpire%252Cei%252Cip%252Cid%252Citag%252Csource%252Crequiressl%252Csusc%252Cacao%252Cctier%252Cmime%252Cvprv%252Cdur%252Clmt%26sig%3DAOq0QJ8wRgIhAMhoxD5nSzmnSw0L60WwzR5cGT4l_Wwuer1OOWtx9NAqAiEApLhRwq70X_-0NHQrCVTZVJc-E0s1ZohyT5oX0eJU734%253D%26lsparams%3Dmh%252Cmm%252Cmn%252Cms%252Cmv%252Cmvi%252Cpl%26lsig%3DAG3C_xAwRQIhAI3H1pNuJXiINj3EanAMFrdw6puD5Wv3V99L6kx7gSY7AiBF37wcJZar2usZk5U2tXDO6OEn0p_zAolLg06P-9FeNQ%253D%253D%26cpn%3D0b_QCAymqjqUzpzE%26ic%3Dgmasdk&amp;tag.duration=7314&amp;tag.check_url=https%3A%2F%2Frr2---sn-nx57ynss.googlevideo.com%2Fvideoplayback%3Fexpire%3D1682760455%26ei%3Dh3JMZJzUJ4Ggn88P2ruSgAU%26ip%3D50.54.142.60%26id%3Df9ead5933fc112a7%26itag%3D22%26source%3Dyoutube%26requiressl%3Dyes%26mh%3DEA%26mm%3D31%26mn%3Dsn-nx57ynss%26ms%3Dau%26mv%3Dm%26mvi%3D2%26pl%3D17%26susc%3Dgvp%26acao%3Dyes%26ctier%3DL%26mime%3Dvideo%2Fmp4%26vprv%3D1%26dur%3D7.314%26lmt%3D1674261152906091%26mt%3D1682731265%26txp%3D1211224%26sparams%3Dexpire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Csusc%2Cacao%2Cctier%2Cmime%2Cvprv%2Cdur%2Clmt%26sig%3DAOq0QJ8wRgIhAMhoxD5nSzmnSw0L60WwzR5cGT4l_Wwuer1OOWtx9NAqAiEApLhRwq70X_-0NHQrCVTZVJc-E0s1ZohyT5oX0eJU734%3D%26lsparams%3Dmh%2Cmm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%26lsig%3DAG3C_xAwRQIhAI3H1pNuJXiINj3EanAMFrdw6puD5Wv3V99L6kx7gSY7AiBF37wcJZar2usZk5U2tXDO6OEn0p_zAolLg06P-9FeNQ%3D%3D%26cpn%3D0b_QCAymqjqUzpzE Exception: Player is accessed on the wrong thread.\r\n    Current thread: &#39;AdWorker(Default) #17&#39;\r\n    Expected thread: &#39;main&#39;\r\n    See https://exoplayer.dev/issues/player-accessed-on-wrong-thread\r\nI/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:231004600\r\nI/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 231004600\r\nI/RaffleActivity: onAdLoaded\r\nV/FA: Inactivity, disconnecting from the service\r\nI/ViewRootImpl@16d0cf6[MainActivity]: ViewPostIme pointer 0\r\nI/ViewRootImpl@16d0cf6[MainActivity]: ViewPostIme pointer 1\r\nD/RaffleActivity: {\r\n      &quot;Code&quot;: 0,\r\n      &quot;Message&quot;: &quot;Internal error.&quot;,\r\n      &quot;Domain&quot;: &quot;com.google.android.gms.ads&quot;,\r\n      &quot;Cause&quot;: &quot;null&quot;,\r\n      &quot;Response Info&quot;: {\r\n        &quot;Response ID&quot;: &quot;h3JMZInhIcnAn88P7tizqAw&quot;,\r\n        &quot;Mediation Adapter Class Name&quot;: &quot;&quot;,\r\n        &quot;Adapter Responses&quot;: [\r\n          {\r\n            &quot;Adapter&quot;: &quot;com.google.ads.mediation.admob.AdMobAdapter&quot;,\r\n            &quot;Latency&quot;: 60002,\r\n            &quot;Ad Source Name&quot;: &quot;Reservation campaign&quot;,\r\n            &quot;Ad Source ID&quot;: &quot;7068401028668408324&quot;,\r\n            &quot;Ad Source Instance Name&quot;: &quot;[DO NOT EDIT] Publisher Test Video Campaign&quot;,\r\n            &quot;Ad Source Instance ID&quot;: &quot;6877926149710223&quot;,\r\n            &quot;Credentials&quot;: {\r\n              &quot;pubid&quot;: &quot;ca-app-pub-3940256099942544\\/5224354917\\/cak=no_cache&amp;cadc=8e&amp;caqid=h3JMZLGVIbjwtOUPhrmkcA&quot;,\r\n              &quot;campaign_id&quot;: &quot;1057492276&quot;\r\n            },\r\n            &quot;Ad Error&quot;: {\r\n              &quot;Code&quot;: 0,\r\n              &quot;Message&quot;: &quot;Internal error.&quot;,\r\n              &quot;Domain&quot;: &quot;com.google.android.gms.ads&quot;,\r\n              &quot;Cause&quot;: &quot;null&quot;\r\n            }\r\n          }\r\n        ],\r\n        &quot;Response Extras&quot;: {\r\n          &quot;mediation_group_name&quot;: &quot;Campaign&quot;\r\n        }\r\n      }\r\n    }\r\nI/Ads: Ad failed to load : 0\r\nW/udios.RaffleAp: Accessing hidden method Ldalvik/system/CloseGuard;-&gt;close()V (greylist,core-platform-api, linking, allowed)\r\nI/ViewRootImpl@16d0cf6[MainActivity]: ViewPostIme pointer 0\r\nI/ViewRootImpl@16d0cf6[MainActivity]: ViewPostIme pointer 1\r\nI/udios.RaffleAp: Background concurrent copying GC freed 183395(6948KB) AllocSpace objects, 1(56KB) LOS objects, 49% free, 7415KB/14MB, paused 238us total 143.245ms\r\nW/udios.RaffleAp: Accessing hidden method Ldalvik/system/CloseGuard;-&gt;warnIfOpen()V (greylist,core-platform-api, linking, allowed)\r\n\r\n```\r\n\r\n\r\nHere is the code I used to load the ad: \r\n\r\n\r\n```\r\n MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {}\r\n        });\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        RewardedAd.load(this, &quot;ca-app-pub-3940256099942544/5224354917&quot;,\r\n                adRequest, new RewardedAdLoadCallback() {\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        // Handle the error.\r\n                        Log.d(TAG, loadAdError.toString());\r\n                        mRewardedAd = null;\r\n                    }\r\n\r\n            @Override\r\n            public void onAdLoaded(@NonNull RewardedAd rewardedAd) {\r\n                super.onAdLoaded(rewardedAd);\r\n                mRewardedAd=rewardedAd;\r\n                Log.i(TAG, &quot;ad loaded&quot;);\r\n                rewardedAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                    @Override\r\n                    public void onAdClicked() {\r\n                        super.onAdClicked();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdDismissedFullScreenContent() {\r\n                        super.onAdDismissedFullScreenContent();\r\n                        mRewardedAd=null;\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\r\n                        super.onAdFailedToShowFullScreenContent(adError);\r\n                        Log.i(TAG, &quot;Failed to show fullscreen ad&quot;);\r\n                        mRewardedAd=null;\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdImpression() {\r\n                        super.onAdImpression();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdShowedFullScreenContent() {\r\n                        super.onAdShowedFullScreenContent();\r\n                    }\r\n                });\r\n            }\r\n});\r\n```\r\n\r\n\r\n\r\n\r\nI tried putting the code inside a runOnUiThread() void because the log message says that the player was accessed on the wrong thread, but it still isn&#39;t working.","title":"Google Admob rewarded ad not working in android app","body":"<p>I am trying to show a rewarded ad in Android Studio using Google Admob, and I have watched several different videos on it, but none of them work for me. When I run it and click the button that is supposed to show the ad, it doesn't work and gives me the log message:</p>\n<pre><code>I/Ads: ExoPlayerAdapter initialized.\nW/Ads: Failed to preload url gcache://video/media/-438303185308675417?url=https%3A%2F%2Frr2---sn-nx57ynss.googlevideo.com%2Fvideoplayback%3Fexpire%3D1682760455%26ei%3Dh3JMZJzUJ4Ggn88P2ruSgAU%26ip%3D50.54.142.60%26id%3Df9ead5933fc112a7%26itag%3D22%26source%3Dyoutube%26requiressl%3Dyes%26mh%3DEA%26mm%3D31%26mn%3Dsn-nx57ynss%26ms%3Dau%26mv%3Dm%26mvi%3D2%26pl%3D17%26susc%3Dgvp%26acao%3Dyes%26ctier%3DL%26mime%3Dvideo%252Fmp4%26vprv%3D1%26dur%3D7.314%26lmt%3D1674261152906091%26mt%3D1682731265%26txp%3D1211224%26sparams%3Dexpire%252Cei%252Cip%252Cid%252Citag%252Csource%252Crequiressl%252Csusc%252Cacao%252Cctier%252Cmime%252Cvprv%252Cdur%252Clmt%26sig%3DAOq0QJ8wRgIhAMhoxD5nSzmnSw0L60WwzR5cGT4l_Wwuer1OOWtx9NAqAiEApLhRwq70X_-0NHQrCVTZVJc-E0s1ZohyT5oX0eJU734%253D%26lsparams%3Dmh%252Cmm%252Cmn%252Cms%252Cmv%252Cmvi%252Cpl%26lsig%3DAG3C_xAwRQIhAI3H1pNuJXiINj3EanAMFrdw6puD5Wv3V99L6kx7gSY7AiBF37wcJZar2usZk5U2tXDO6OEn0p_zAolLg06P-9FeNQ%253D%253D%26cpn%3D0b_QCAymqjqUzpzE%26ic%3Dgmasdk&amp;tag.duration=7314&amp;tag.check_url=https%3A%2F%2Frr2---sn-nx57ynss.googlevideo.com%2Fvideoplayback%3Fexpire%3D1682760455%26ei%3Dh3JMZJzUJ4Ggn88P2ruSgAU%26ip%3D50.54.142.60%26id%3Df9ead5933fc112a7%26itag%3D22%26source%3Dyoutube%26requiressl%3Dyes%26mh%3DEA%26mm%3D31%26mn%3Dsn-nx57ynss%26ms%3Dau%26mv%3Dm%26mvi%3D2%26pl%3D17%26susc%3Dgvp%26acao%3Dyes%26ctier%3DL%26mime%3Dvideo%2Fmp4%26vprv%3D1%26dur%3D7.314%26lmt%3D1674261152906091%26mt%3D1682731265%26txp%3D1211224%26sparams%3Dexpire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Csusc%2Cacao%2Cctier%2Cmime%2Cvprv%2Cdur%2Clmt%26sig%3DAOq0QJ8wRgIhAMhoxD5nSzmnSw0L60WwzR5cGT4l_Wwuer1OOWtx9NAqAiEApLhRwq70X_-0NHQrCVTZVJc-E0s1ZohyT5oX0eJU734%3D%26lsparams%3Dmh%2Cmm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%26lsig%3DAG3C_xAwRQIhAI3H1pNuJXiINj3EanAMFrdw6puD5Wv3V99L6kx7gSY7AiBF37wcJZar2usZk5U2tXDO6OEn0p_zAolLg06P-9FeNQ%3D%3D%26cpn%3D0b_QCAymqjqUzpzE Exception: Player is accessed on the wrong thread.\n    Current thread: 'AdWorker(Default) #17'\n    Expected thread: 'main'\n    See https://exoplayer.dev/issues/player-accessed-on-wrong-thread\nI/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:231004600\nI/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 231004600\nI/RaffleActivity: onAdLoaded\nV/FA: Inactivity, disconnecting from the service\nI/ViewRootImpl@16d0cf6[MainActivity]: ViewPostIme pointer 0\nI/ViewRootImpl@16d0cf6[MainActivity]: ViewPostIme pointer 1\nD/RaffleActivity: {\n      &quot;Code&quot;: 0,\n      &quot;Message&quot;: &quot;Internal error.&quot;,\n      &quot;Domain&quot;: &quot;com.google.android.gms.ads&quot;,\n      &quot;Cause&quot;: &quot;null&quot;,\n      &quot;Response Info&quot;: {\n        &quot;Response ID&quot;: &quot;h3JMZInhIcnAn88P7tizqAw&quot;,\n        &quot;Mediation Adapter Class Name&quot;: &quot;&quot;,\n        &quot;Adapter Responses&quot;: [\n          {\n            &quot;Adapter&quot;: &quot;com.google.ads.mediation.admob.AdMobAdapter&quot;,\n            &quot;Latency&quot;: 60002,\n            &quot;Ad Source Name&quot;: &quot;Reservation campaign&quot;,\n            &quot;Ad Source ID&quot;: &quot;7068401028668408324&quot;,\n            &quot;Ad Source Instance Name&quot;: &quot;[DO NOT EDIT] Publisher Test Video Campaign&quot;,\n            &quot;Ad Source Instance ID&quot;: &quot;6877926149710223&quot;,\n            &quot;Credentials&quot;: {\n              &quot;pubid&quot;: &quot;ca-app-pub-3940256099942544\\/5224354917\\/cak=no_cache&amp;cadc=8e&amp;caqid=h3JMZLGVIbjwtOUPhrmkcA&quot;,\n              &quot;campaign_id&quot;: &quot;1057492276&quot;\n            },\n            &quot;Ad Error&quot;: {\n              &quot;Code&quot;: 0,\n              &quot;Message&quot;: &quot;Internal error.&quot;,\n              &quot;Domain&quot;: &quot;com.google.android.gms.ads&quot;,\n              &quot;Cause&quot;: &quot;null&quot;\n            }\n          }\n        ],\n        &quot;Response Extras&quot;: {\n          &quot;mediation_group_name&quot;: &quot;Campaign&quot;\n        }\n      }\n    }\nI/Ads: Ad failed to load : 0\nW/udios.RaffleAp: Accessing hidden method Ldalvik/system/CloseGuard;-&gt;close()V (greylist,core-platform-api, linking, allowed)\nI/ViewRootImpl@16d0cf6[MainActivity]: ViewPostIme pointer 0\nI/ViewRootImpl@16d0cf6[MainActivity]: ViewPostIme pointer 1\nI/udios.RaffleAp: Background concurrent copying GC freed 183395(6948KB) AllocSpace objects, 1(56KB) LOS objects, 49% free, 7415KB/14MB, paused 238us total 143.245ms\nW/udios.RaffleAp: Accessing hidden method Ldalvik/system/CloseGuard;-&gt;warnIfOpen()V (greylist,core-platform-api, linking, allowed)\n\n</code></pre>\n<p>Here is the code I used to load the ad:</p>\n<pre><code> MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {}\n        });\n        AdRequest adRequest = new AdRequest.Builder().build();\n        RewardedAd.load(this, &quot;ca-app-pub-3940256099942544/5224354917&quot;,\n                adRequest, new RewardedAdLoadCallback() {\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        // Handle the error.\n                        Log.d(TAG, loadAdError.toString());\n                        mRewardedAd = null;\n                    }\n\n            @Override\n            public void onAdLoaded(@NonNull RewardedAd rewardedAd) {\n                super.onAdLoaded(rewardedAd);\n                mRewardedAd=rewardedAd;\n                Log.i(TAG, &quot;ad loaded&quot;);\n                rewardedAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                    @Override\n                    public void onAdClicked() {\n                        super.onAdClicked();\n                    }\n\n                    @Override\n                    public void onAdDismissedFullScreenContent() {\n                        super.onAdDismissedFullScreenContent();\n                        mRewardedAd=null;\n                    }\n\n                    @Override\n                    public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\n                        super.onAdFailedToShowFullScreenContent(adError);\n                        Log.i(TAG, &quot;Failed to show fullscreen ad&quot;);\n                        mRewardedAd=null;\n                    }\n\n                    @Override\n                    public void onAdImpression() {\n                        super.onAdImpression();\n                    }\n\n                    @Override\n                    public void onAdShowedFullScreenContent() {\n                        super.onAdShowedFullScreenContent();\n                    }\n                });\n            }\n});\n</code></pre>\n<p>I tried putting the code inside a runOnUiThread() void because the log message says that the player was accessed on the wrong thread, but it still isn't working.</p>\n"},{"tags":["java","if-statement","for-loop","infinite-loop","break"],"comments":[{"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"score":34,"creation_date":1387410280,"post_id":20670824,"comment_id":30951587,"body_markdown":"Java is not Python. You cant expect two lines to be in the same block just because they have the same indentation...","body":"Java is not Python. You cant expect two lines to be in the same block just because they have the same indentation..."},{"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"ᴇʟᴇvᴀтᴇ"},"score":0,"creation_date":1387410441,"post_id":20670824,"comment_id":30951642,"body_markdown":"Even that won&#39;t solve the problem fully. All the `if` statements need to be connected with `else`.","body":"Even that won&#39;t solve the problem fully. All the <code>if</code> statements need to be connected with <code>else</code>."},{"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":5,"creation_date":1387410515,"post_id":20670824,"comment_id":30951673,"body_markdown":"Shouldn&#39;t it be: &quot;else without if&quot;?","body":"Shouldn&#39;t it be: &quot;else without if&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":3225384,"reputation":9550,"user_id":2721883,"display_name":"clcto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1387411313,"creation_date":1387410462,"answer_id":20670888,"question_id":20670824,"body_markdown":"The issue is that you are trying to have multiple statements in an `if` without using `{}`.\r\nWhat you currently have is interpreted like:\r\n\r\n    if( choice==5 )\r\n    {\r\n        System.out.println( ... );\r\n    }\r\n    break;\r\n    else\r\n    {\r\n        //...\r\n    }\r\n\r\n\r\nYou really want:\r\n\r\n    if( choice==5 )\r\n    {\r\n        System.out.println( ... );\r\n        break;\r\n    }\r\n    else\r\n    {\r\n        //...\r\n    }\r\n\r\nAlso, as Farce has stated, it would be better to use `else if` for all the conditions instead of `if` because if `choice==1`, it will still go through and check if `choice==5`, which would fail, and it will still go into your else block.\r\n\r\n    if( choice==1 )\r\n        //...\r\n    else if( choice==2 )\r\n        //...\r\n    else if( choice==3 )\r\n        //...\r\n    else if( choice==4 )\r\n        //...\r\n    else if( choice==5 )\r\n    {\r\n        //...\r\n    }\r\n    else\r\n        //...\r\n\r\n----------------------------\r\nA more elegant solution would be using a `switch` statement. However, `break` only breaks from the most inner &quot;block&quot; unless you use labels. So you want to label your loop and break from that if the case is 5:\r\n\r\n    LOOP:\r\n    for(;;)\r\n    {\r\n        System.out.println(&quot;---&gt; Your choice: &quot;);\r\n        choice = input.nextInt();\r\n        switch( choice )\r\n        {\r\n            case 1:\r\n                playGame();\r\n                break;\r\n            case 2:\r\n                loadGame();\r\n                break;\r\n            case 2:\r\n                options();\r\n                break;\r\n            case 4:\r\n                credits();\r\n                break;\r\n            case 5:\r\n                System.out.println(&quot;End of Game\\n Thank you for playing with us!&quot;);\r\n                break LOOP;\r\n            default:\r\n                System.out.println( ... );\r\n        }\r\n    }\r\n\r\n\r\nInstead of labeling the loop, you could also use a flag to tell the loop to stop.\r\n\r\n    bool finished = false;\r\n    while( !finished )\r\n    {\r\n        switch( choice )\r\n        {\r\n            // ...\r\n            case 5:\r\n                System.out.println( ... )\r\n                finished = true;\r\n                break;\r\n            // ...\r\n        }\r\n    }","title":"Java: break statement in &quot;if else&quot;","body":"<p>The issue is that you are trying to have multiple statements in an <code>if</code> without using <code>{}</code>.\nWhat you currently have is interpreted like:</p>\n\n<pre><code>if( choice==5 )\n{\n    System.out.println( ... );\n}\nbreak;\nelse\n{\n    //...\n}\n</code></pre>\n\n<p>You really want:</p>\n\n<pre><code>if( choice==5 )\n{\n    System.out.println( ... );\n    break;\n}\nelse\n{\n    //...\n}\n</code></pre>\n\n<p>Also, as Farce has stated, it would be better to use <code>else if</code> for all the conditions instead of <code>if</code> because if <code>choice==1</code>, it will still go through and check if <code>choice==5</code>, which would fail, and it will still go into your else block.</p>\n\n<pre><code>if( choice==1 )\n    //...\nelse if( choice==2 )\n    //...\nelse if( choice==3 )\n    //...\nelse if( choice==4 )\n    //...\nelse if( choice==5 )\n{\n    //...\n}\nelse\n    //...\n</code></pre>\n\n<hr>\n\n<p>A more elegant solution would be using a <code>switch</code> statement. However, <code>break</code> only breaks from the most inner \"block\" unless you use labels. So you want to label your loop and break from that if the case is 5:</p>\n\n<pre><code>LOOP:\nfor(;;)\n{\n    System.out.println(\"---&gt; Your choice: \");\n    choice = input.nextInt();\n    switch( choice )\n    {\n        case 1:\n            playGame();\n            break;\n        case 2:\n            loadGame();\n            break;\n        case 2:\n            options();\n            break;\n        case 4:\n            credits();\n            break;\n        case 5:\n            System.out.println(\"End of Game\\n Thank you for playing with us!\");\n            break LOOP;\n        default:\n            System.out.println( ... );\n    }\n}\n</code></pre>\n\n<p>Instead of labeling the loop, you could also use a flag to tell the loop to stop.</p>\n\n<pre><code>bool finished = false;\nwhile( !finished )\n{\n    switch( choice )\n    {\n        // ...\n        case 5:\n            System.out.println( ... )\n            finished = true;\n            break;\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1387411984,"creation_date":1387410474,"answer_id":20670893,"question_id":20670824,"body_markdown":"Because your `else` isn&#39;t attached to anything. The `if` without braces only encompasses the single statement that immediately follows it. \r\n\r\n    if (choice==5)\r\n    {\r\n        System.out.println(&quot;End of Game\\n Thank you for playing with us!&quot;);\r\n        break;\r\n    }\r\n    else\r\n    {\r\n       System.out.println(&quot;Not a valid choice!\\n Please try again...\\n&quot;);\r\n    }\r\n\r\nNot using braces is generally viewed as a bad practice because it can lead to the exact problems you encountered.\r\n\r\nIn addition, using a `switch` here would make more sense.\r\n\r\n    int choice;\r\n    boolean keepGoing = true;\r\n    while(keepGoing)\r\n    {\r\n        System.out.println(&quot;---&gt; Your choice: &quot;);\r\n        choice = input.nextInt();\r\n        switch(choice)\r\n        {\r\n            case 1: \r\n                playGame();\r\n                break;\r\n            case 2: \r\n                loadGame();\r\n                break;\r\n            // your other cases\r\n            // ...\r\n            case 5: \r\n                System.out.println(&quot;End of Game\\n Thank you for playing with us!&quot;);\r\n                keepGoing = false;\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Not a valid choice!\\n Please try again...\\n&quot;);\r\n         }\r\n     }         \r\n\r\nNote that instead of an infinite `for` loop I used a `while(boolean)`, making it easy to exit the loop. Another approach would be using break with labels. ","title":"Java: break statement in &quot;if else&quot;","body":"<p>Because your <code>else</code> isn't attached to anything. The <code>if</code> without braces only encompasses the single statement that immediately follows it. </p>\n\n<pre><code>if (choice==5)\n{\n    System.out.println(\"End of Game\\n Thank you for playing with us!\");\n    break;\n}\nelse\n{\n   System.out.println(\"Not a valid choice!\\n Please try again...\\n\");\n}\n</code></pre>\n\n<p>Not using braces is generally viewed as a bad practice because it can lead to the exact problems you encountered.</p>\n\n<p>In addition, using a <code>switch</code> here would make more sense.</p>\n\n<pre><code>int choice;\nboolean keepGoing = true;\nwhile(keepGoing)\n{\n    System.out.println(\"---&gt; Your choice: \");\n    choice = input.nextInt();\n    switch(choice)\n    {\n        case 1: \n            playGame();\n            break;\n        case 2: \n            loadGame();\n            break;\n        // your other cases\n        // ...\n        case 5: \n            System.out.println(\"End of Game\\n Thank you for playing with us!\");\n            keepGoing = false;\n            break;\n        default:\n            System.out.println(\"Not a valid choice!\\n Please try again...\\n\");\n     }\n }         \n</code></pre>\n\n<p>Note that instead of an infinite <code>for</code> loop I used a <code>while(boolean)</code>, making it easy to exit the loop. Another approach would be using break with labels. </p>\n"},{"tags":[],"owner":{"account_id":5872693,"reputation":287,"user_id":4624543,"display_name":"Alan J. Robinson"},"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1425319046,"creation_date":1425319046,"answer_id":28816407,"question_id":20670824,"body_markdown":"The &quot;break&quot; command does not work within an &quot;if&quot; statement.\r\n\r\nIf you remove the &quot;break&quot; command from your code and then test the code, you should find that the code works exactly the same without a &quot;break&quot; command as with one.\r\n\r\n&quot;Break&quot; is designed for use inside loops (for, while, do-while, enhanced for and switch).","title":"Java: break statement in &quot;if else&quot;","body":"<p>The \"break\" command does not work within an \"if\" statement.</p>\n\n<p>If you remove the \"break\" command from your code and then test the code, you should find that the code works exactly the same without a \"break\" command as with one.</p>\n\n<p>\"Break\" is designed for use inside loops (for, while, do-while, enhanced for and switch).</p>\n"},{"tags":[],"owner":{"account_id":370787,"reputation":2276,"user_id":718960,"accept_rate":33,"display_name":"theking2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648737333,"creation_date":1648737333,"answer_id":71694458,"question_id":20670824,"body_markdown":"Where some went there to provide alternative implementation of code the reason that the op code does not work is a missing `{}` pair;\r\n\r\n        if (choice==5) {\r\n            System.out.println(&quot;End of Game\\n Thank you for playing with us!&quot;);\r\n            break;\r\n        } else","title":"Java: break statement in &quot;if else&quot;","body":"<p>Where some went there to provide alternative implementation of code the reason that the op code does not work is a missing <code>{}</code> pair;</p>\n<pre><code>    if (choice==5) {\n        System.out.println(&quot;End of Game\\n Thank you for playing with us!&quot;);\n        break;\n    } else\n</code></pre>\n"}],"owner":{"account_id":3519520,"reputation":2015,"user_id":2949463,"accept_rate":92,"display_name":"John"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312836,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":20670893,"answer_count":4,"score":23,"last_activity_date":1687328099,"creation_date":1387410174,"question_id":20670824,"body_markdown":"I keep getting an error, `if` without `else`.\r\n\r\nI tried `else if` as well\r\n\r\n    for (;;) {\r\n    \tSystem.out.println(&quot;---&gt; Your choice: &quot;);\r\n    \tchoice = input.nextInt();\r\n    \tif (choice==1)\r\n    \t\tplayGame();\r\n    \tif (choice==2)\r\n    \t\tloadGame();\r\n    \tif (choice==3)\r\n    \t\toptions();\r\n    \tif (choice==4)\r\n    \t\tcredits();\r\n    \tif (choice==5)\r\n    \t\tSystem.out.println(&quot;End of Game\\n Thank you for playing with us!&quot;);\r\n    \t\tbreak;\r\n    \telse\r\n    \t\tSystem.out.println(&quot;Not a valid choice!\\n Please try again...\\n&quot;);\r\n    }\r\n\r\nAlso if you have a better idea on how to present this code please do not hesitate :)","title":"Java: break statement in &quot;if else&quot;","body":"<p>I keep getting an error, <code>if</code> without <code>else</code>.</p>\n<p>I tried <code>else if</code> as well</p>\n<pre><code>for (;;) {\n    System.out.println(&quot;---&gt; Your choice: &quot;);\n    choice = input.nextInt();\n    if (choice==1)\n        playGame();\n    if (choice==2)\n        loadGame();\n    if (choice==3)\n        options();\n    if (choice==4)\n        credits();\n    if (choice==5)\n        System.out.println(&quot;End of Game\\n Thank you for playing with us!&quot;);\n        break;\n    else\n        System.out.println(&quot;Not a valid choice!\\n Please try again...\\n&quot;);\n}\n</code></pre>\n<p>Also if you have a better idea on how to present this code please do not hesitate :)</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":4620709,"reputation":8645,"user_id":3745896,"accept_rate":93,"display_name":"River"},"score":0,"creation_date":1500913058,"post_id":45285368,"comment_id":77533111,"body_markdown":"Did you really need to copy-paste your question 3 times without formatting? People won&#39;t want to deal with your question if looks like that. (Note to others: See edit revisions.)","body":"Did you really need to copy-paste your question 3 times without formatting? People won&#39;t want to deal with your question if looks like that. (Note to others: See edit revisions.)"}],"answers":[{"tags":[],"owner":{"account_id":11239077,"reputation":116,"user_id":8244090,"display_name":"Jitendra Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1500913165,"creation_date":1500913165,"answer_id":45285512,"question_id":45285368,"body_markdown":"    MongoClient mongoClient = new MongoClient();\r\n    DB db = mongoClient.getDB(&quot;database name&quot;);\r\n\r\nIf database is not present, MongoDB will create it for you.","title":"how can i create mongodb database from java","body":"<pre><code>MongoClient mongoClient = new MongoClient();\nDB db = mongoClient.getDB(\"database name\");\n</code></pre>\n\n<p>If database is not present, MongoDB will create it for you.</p>\n"},{"tags":[],"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500913396,"creation_date":1500913396,"answer_id":45285570,"question_id":45285368,"body_markdown":"If you are using driver 3.1.1 or later:\r\n\r\nRefer to this [answer][1]:\r\n\r\n&gt; Calling getDatabase doesn&#39;t in fact create new database because\r\n&gt; operation is lazy - it returns database representation. Calling any\r\n&gt; modifiable operation (e.g. createCollection):\r\n&gt; \r\n&gt; will create new database for you if it is not present if present it\r\n&gt; will get database for you But remember that you have to call any\r\n&gt; operation which actually performs something - like create. If you just\r\n&gt; call getDatabase it won&#39;t create it.\r\n\r\n\r\n**NOTE**\r\n\r\nThe [documentation][2] does not provide this information, hopefully, they update it. But long answer short, it only creates it after you call an operation on it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33902555/1754020\r\n  [2]: http://api.mongodb.com/java/current/com/mongodb/MongoClient.html#getDatabase-java.lang.String-","title":"how can i create mongodb database from java","body":"<p>If you are using driver 3.1.1 or later:</p>\n\n<p>Refer to this <a href=\"https://stackoverflow.com/a/33902555/1754020\">answer</a>:</p>\n\n<blockquote>\n  <p>Calling getDatabase doesn't in fact create new database because\n  operation is lazy - it returns database representation. Calling any\n  modifiable operation (e.g. createCollection):</p>\n  \n  <p>will create new database for you if it is not present if present it\n  will get database for you But remember that you have to call any\n  operation which actually performs something - like create. If you just\n  call getDatabase it won't create it.</p>\n</blockquote>\n\n<p><strong>NOTE</strong></p>\n\n<p>The <a href=\"http://api.mongodb.com/java/current/com/mongodb/MongoClient.html#getDatabase-java.lang.String-\" rel=\"nofollow noreferrer\">documentation</a> does not provide this information, hopefully, they update it. But long answer short, it only creates it after you call an operation on it.</p>\n"},{"tags":[],"owner":{"account_id":27084465,"reputation":1,"user_id":21045355,"display_name":"Binson Selvin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687327593,"creation_date":1687327593,"answer_id":76520389,"question_id":45285368,"body_markdown":"You can create MongoDB database from java with the following code it will be successful but one catch a Mongo database should contain a single collection to display the database while querying.\r\n\r\n    `MongoClient client = MongoClients.create(CONNECTION_URL);\r\n\t\tSystem.out.println(&quot;Connection with database established successfully&quot;);`\r\n\t\t\r\n\t\tString databaseName = &quot;SK_BANK_LTD&quot;;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Trying to create a database :- &quot;+databaseName);\r\n\t\tMongoDatabase db = client.getDatabase(databaseName);\r\n\r\nBy running the following code the database wont be visible as it does not contain any collection so add a dummy collection in the database while creating a database by `MongoClient client = MongoClients.create(CONNECTION_URL);\r\n\t\tSystem.out.println(&quot;Connection with database established successfully&quot;);\r\n\t\t\r\n\t\tString databaseName = &quot;SK_BANK_LTD&quot;;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Trying to create a database :- &quot;+databaseName);\r\n\t\tMongoDatabase db = client.getDatabase(databaseName);\r\n\t\t\r\n\t\tDocument test = new Document().append(&quot;createdBy&quot;, &quot;Binson&quot;);\r\n\t\tdb.getCollection(&quot;test&quot;).insertOne(test);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Database: &quot; + databaseName + &quot;created successfully&quot;);`\r\n\r\n\r\nMake sure your database does not contain the following characters which are prohibited by mongoDB.\r\n\r\n &#39;\\0&#39;, &#39;/&#39;, &#39;\\\\&#39;, &#39; &#39;, &#39;&quot;&#39;, &#39;.&#39;","title":"how can i create mongodb database from java","body":"<p>You can create MongoDB database from java with the following code it will be successful but one catch a Mongo database should contain a single collection to display the database while querying.</p>\n<pre><code>`MongoClient client = MongoClients.create(CONNECTION_URL);\n    System.out.println(&quot;Connection with database established successfully&quot;);`\n    \n    String databaseName = &quot;SK_BANK_LTD&quot;;\n    \n    System.out.println(&quot;Trying to create a database :- &quot;+databaseName);\n    MongoDatabase db = client.getDatabase(databaseName);\n</code></pre>\n<p>By running the following code the database wont be visible as it does not contain any collection so add a dummy collection in the database while creating a database by `MongoClient client = MongoClients.create(CONNECTION_URL);\nSystem.out.println(&quot;Connection with database established successfully&quot;);</p>\n<pre><code>    String databaseName = &quot;SK_BANK_LTD&quot;;\n    \n    System.out.println(&quot;Trying to create a database :- &quot;+databaseName);\n    MongoDatabase db = client.getDatabase(databaseName);\n    \n    Document test = new Document().append(&quot;createdBy&quot;, &quot;Binson&quot;);\n    db.getCollection(&quot;test&quot;).insertOne(test);\n    \n    System.out.println(&quot;Database: &quot; + databaseName + &quot;created successfully&quot;);`\n</code></pre>\n<p>Make sure your database does not contain the following characters which are prohibited by mongoDB.</p>\n<p>'\\0', '/', '\\', ' ', '&quot;', '.'</p>\n"}],"owner":{"account_id":11385356,"reputation":43,"user_id":8347010,"display_name":"adnan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1828,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":45285512,"answer_count":3,"score":3,"last_activity_date":1687327593,"creation_date":1500912668,"question_id":45285368,"body_markdown":"I can drop a database with the following statement:\r\n\r\n    MongoClient mongo = new MongoClient(&quot;localhost&quot;, 27017);\r\n    mongo.dropDatabase(&quot;d&quot;);\r\n\r\nHow can I create a database?","title":"how can i create mongodb database from java","body":"<p>I can drop a database with the following statement:</p>\n\n<pre><code>MongoClient mongo = new MongoClient(\"localhost\", 27017);\nmongo.dropDatabase(\"d\");\n</code></pre>\n\n<p>How can I create a database?</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687187480,"post_id":76507404,"comment_id":134898271,"body_markdown":"I removed the [jep] tag as this question isn&#39;t related to Java Enhancement Proposals and there doesn&#39;t seem to be a tag for the `jep` library.","body":"I removed the [jep] tag as this question isn&#39;t related to Java Enhancement Proposals and there doesn&#39;t seem to be a tag for the <code>jep</code> library."}],"answers":[{"tags":[],"owner":{"account_id":17363872,"reputation":35,"user_id":15980587,"display_name":"jenny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687327139,"creation_date":1687327139,"answer_id":76520351,"question_id":76507404,"body_markdown":"So I managed. Apparently when using Jep, it is possible to import the Java object on the Python side and call its functions. No extra work is needed on the Python side.","title":"Using Jep to modify java object","body":"<p>So I managed. Apparently when using Jep, it is possible to import the Java object on the Python side and call its functions. No extra work is needed on the Python side.</p>\n"}],"owner":{"account_id":17363872,"reputation":35,"user_id":15980587,"display_name":"jenny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687327139,"creation_date":1687183467,"question_id":76507404,"body_markdown":"I&#39;ve read a lot of documentation and questions here on Stack Overflow, but I&#39;m still struggling to accomplish the task.\r\n\r\nI have a java object (JobInitDTO) that I created. I want to be able to run an embedded python code that will get the Java object and will be able to manipulate the object using getters and setters on the Python side. Eventually the object that will be returned from the Python function should be the same Java object- after the required modifications.\r\n\r\nOn my java side I have:\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        String pythonFolder = System.getenv(&quot;DYLD_LIBRARY_PATH&quot;);\r\n        String jepPath = pythonFolder + &quot;/libjep.jnilib&quot;;\r\n\r\n        if (!Files.exists(Path.of(jepPath))){\r\n            jepPath = pythonFolder + &quot;/libjep.so&quot;;\r\n        }\r\n        MainInterpreter.setJepLibraryPath(jepPath);\r\n\r\n        // set path for python docs with python script to run\r\n        jep.JepConfig jepConf = new JepConfig();\r\n        jepConf.addIncludePaths(System.getProperty(&quot;user.dir&quot;)+&quot;/src/main/Python/&quot;);\r\n        jepConf.addIncludePaths(pythonFolder);\r\n        SharedInterpreter.setConfig(jepConf);\r\n        SharedInterpreter subInterp = new SharedInterpreter();\r\n\r\n        subInterp.eval(&quot;import Profiler&quot;);\r\n \r\n\r\n        JobInitDTO jobInitDTO = new JobInitDTO();\r\n        subInterp.set(&quot;job&quot;,jobInitDTO);\r\n        subInterp.eval(&quot;res = p.getJobInit(job)&quot;);\r\n        System.out.println(subInterp.getValue(&quot;res&quot;));\r\n\r\n\r\nOn the Python side, the profiler.py file indeed receives the Object, but I can&#39;t use its functions or access its fields. To my understanding, I need to represent the java object on the Python side, and this is where I&#39;m struggle to find out how to achieve it.\r\n\r\nProfiler.py looks something like that:\r\n\r\n\r\n    def getJobInit(job):\r\n         \r\n         &lt;set stuff in job&gt;\r\n    \r\n         return job\r\n\r\nWill appreciate your help!\r\n","title":"Using Jep to modify java object","body":"<p>I've read a lot of documentation and questions here on Stack Overflow, but I'm still struggling to accomplish the task.</p>\n<p>I have a java object (JobInitDTO) that I created. I want to be able to run an embedded python code that will get the Java object and will be able to manipulate the object using getters and setters on the Python side. Eventually the object that will be returned from the Python function should be the same Java object- after the required modifications.</p>\n<p>On my java side I have:</p>\n<pre><code>@PostConstruct\npublic void init() {\n    String pythonFolder = System.getenv(&quot;DYLD_LIBRARY_PATH&quot;);\n    String jepPath = pythonFolder + &quot;/libjep.jnilib&quot;;\n\n    if (!Files.exists(Path.of(jepPath))){\n        jepPath = pythonFolder + &quot;/libjep.so&quot;;\n    }\n    MainInterpreter.setJepLibraryPath(jepPath);\n\n    // set path for python docs with python script to run\n    jep.JepConfig jepConf = new JepConfig();\n    jepConf.addIncludePaths(System.getProperty(&quot;user.dir&quot;)+&quot;/src/main/Python/&quot;);\n    jepConf.addIncludePaths(pythonFolder);\n    SharedInterpreter.setConfig(jepConf);\n    SharedInterpreter subInterp = new SharedInterpreter();\n\n    subInterp.eval(&quot;import Profiler&quot;);\n\n\n    JobInitDTO jobInitDTO = new JobInitDTO();\n    subInterp.set(&quot;job&quot;,jobInitDTO);\n    subInterp.eval(&quot;res = p.getJobInit(job)&quot;);\n    System.out.println(subInterp.getValue(&quot;res&quot;));\n</code></pre>\n<p>On the Python side, the profiler.py file indeed receives the Object, but I can't use its functions or access its fields. To my understanding, I need to represent the java object on the Python side, and this is where I'm struggle to find out how to achieve it.</p>\n<p>Profiler.py looks something like that:</p>\n<pre><code>def getJobInit(job):\n     \n     &lt;set stuff in job&gt;\n\n     return job\n</code></pre>\n<p>Will appreciate your help!</p>\n"},{"tags":["java","intellij-idea","java-8","ant","java-11"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1687264842,"post_id":76514755,"comment_id":134909755,"body_markdown":"The `javax.annotation` package is no longer included in Java, you need to add the appropriate dependency.","body":"The <code>javax.annotation</code> package is no longer included in Java, you need to add the appropriate dependency."},{"owner":{"account_id":9782480,"reputation":57,"user_id":7249929,"display_name":"Nani"},"score":0,"creation_date":1687266319,"post_id":76514755,"comment_id":134910175,"body_markdown":"@MarkRotteveel Mine is a ant project. Any suggestion on the replacement for javax.annotation package?","body":"@MarkRotteveel Mine is a ant project. Any suggestion on the replacement for javax.annotation package?"},{"owner":{"account_id":28803214,"reputation":201,"user_id":22059627,"display_name":"Miguel Monteiro"},"score":1,"creation_date":1687267693,"post_id":76514755,"comment_id":134910542,"body_markdown":"Try to try to download the JAR from [Maven central](https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api) and add the [dependency to ant project](https://stackoverflow.com/questions/26650590/how-to-add-dependency-to-ant-project)","body":"Try to try to download the JAR from <a href=\"https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\" rel=\"nofollow noreferrer\">Maven central</a> and add the <a href=\"https://stackoverflow.com/questions/26650590/how-to-add-dependency-to-ant-project\">dependency to ant project</a>"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1687268035,"post_id":76514755,"comment_id":134910637,"body_markdown":"Also, make sure you&#39;re using an Ant version which is compatible with Java 11.","body":"Also, make sure you&#39;re using an Ant version which is compatible with Java 11."},{"owner":{"account_id":9782480,"reputation":57,"user_id":7249929,"display_name":"Nani"},"score":1,"creation_date":1687355066,"post_id":76514755,"comment_id":134925224,"body_markdown":"@MarkRotteveel Added latest jar and upgraded ant version. Solution worked. Appreciate your help!","body":"@MarkRotteveel Added latest jar and upgraded ant version. Solution worked. Appreciate your help!"},{"owner":{"account_id":9782480,"reputation":57,"user_id":7249929,"display_name":"Nani"},"score":0,"creation_date":1687355085,"post_id":76514755,"comment_id":134925233,"body_markdown":"@MiguelMonteiro Added latest jar and upgraded ant version. Solution worked. Appreciate your help!","body":"@MiguelMonteiro Added latest jar and upgraded ant version. Solution worked. Appreciate your help!"}],"owner":{"account_id":9782480,"reputation":57,"user_id":7249929,"display_name":"Nani"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687265631,"answer_count":0,"score":0,"last_activity_date":1687326902,"creation_date":1687264444,"question_id":76514755,"body_markdown":"I am trying to upgrade my java application from Java 7 to Java 11 version. My local is setup with jdk11 and Java_Home is updated as well. Running the app in Intellij 2023.1 IDE which is the latest version. \r\n\r\nWhen running the local application which is pointing to Jdk11 facing Error: &#39;*Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/annotation/PreDestroy*&#39;. \r\nChanges made to my local are the jdk previously was pointing to java 8, now it is pointing to java 11.\r\n\r\nI have read previous posts on the same error and everyone suggested for a downgrade of the jdk from 11 to 8. But in my case I have to upgrade the application to Java 11 and the the project is on Ant build.\r\n\r\nAny help is appreciated. Please let me know if any additional information is required.\r\n\r\nI have tried upgrading the libraries and still the same issue is persist.","title":"Java 8 to 11 Upgrade Error- Exception java.lang.NoClassDefFoundError: javax/annotation/PreDestroy. Unable to run project despite the dependency update","body":"<p>I am trying to upgrade my java application from Java 7 to Java 11 version. My local is setup with jdk11 and Java_Home is updated as well. Running the app in Intellij 2023.1 IDE which is the latest version.</p>\n<p>When running the local application which is pointing to Jdk11 facing Error: '<em>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/annotation/PreDestroy</em>'.\nChanges made to my local are the jdk previously was pointing to java 8, now it is pointing to java 11.</p>\n<p>I have read previous posts on the same error and everyone suggested for a downgrade of the jdk from 11 to 8. But in my case I have to upgrade the application to Java 11 and the the project is on Ant build.</p>\n<p>Any help is appreciated. Please let me know if any additional information is required.</p>\n<p>I have tried upgrading the libraries and still the same issue is persist.</p>\n"},{"tags":["java","matrix","3d","coordinate-transformation","projection-matrix"],"comments":[{"owner":{"account_id":2386214,"reputation":323,"user_id":2087147,"display_name":"Andr&#233; Aichert"},"score":0,"creation_date":1686729750,"post_id":76398774,"comment_id":134837626,"body_markdown":"With affine matrices you were on the right track. This boils down to the fact that your pixels are rectangular. Read up on the viewing frustum and how it is related to the MVP.","body":"With affine matrices you were on the right track. This boils down to the fact that your pixels are rectangular. Read up on the viewing frustum and how it is related to the MVP."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1686813191,"post_id":76398774,"comment_id":134851476,"body_markdown":"This looks like a math question. You should formulate it mathematically and ask it on math.stackexchange.com.","body":"This looks like a math question. You should formulate it mathematically and ask it on math.stackexchange.com."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1686833216,"post_id":76398774,"comment_id":134855688,"body_markdown":"@Olivier There&#39;s no way I&#39;d understand any answer they would give. It would be like TAOCP. I need an answer from programmers.","body":"@Olivier There&#39;s no way I&#39;d understand any answer they would give. It would be like TAOCP. I need an answer from programmers."},{"owner":{"account_id":5949675,"reputation":2128,"user_id":4678126,"display_name":"Yogev Neumann"},"score":0,"creation_date":1687148040,"post_id":76398774,"comment_id":134890968,"body_markdown":"I&#39;m not sure if that will help or distract you, but according to MS Direct3D 10 [D3DXMatrixPerspectiveFovLH](https://learn.microsoft.com/en-us/windows/win32/direct3d10/d3d10-d3dxmatrixperspectivefovlh) function (replaced by [XMMatrixPerspectiveFovLH](https://learn.microsoft.com/en-us/windows/win32/api/directxmath/nf-directxmath-xmmatrixperspectivefovlh) ), it should be `e34 = 1;` and `e43 = Q * -znear;`","body":"I&#39;m not sure if that will help or distract you, but according to MS Direct3D 10 <a href=\"https://learn.microsoft.com/en-us/windows/win32/direct3d10/d3d10-d3dxmatrixperspectivefovlh\" rel=\"nofollow noreferrer\">D3DXMatrixPerspectiveFovLH</a> function (replaced by <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/directxmath/nf-directxmath-xmmatrixperspectivefovlh\" rel=\"nofollow noreferrer\">XMMatrixPerspectiveFovLH</a> ), it should be <code>e34 = 1;</code> and <code>e43 = Q * -znear;</code>"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":1,"creation_date":1687149990,"post_id":76398774,"comment_id":134891120,"body_markdown":"@YogevNeumann That&#39;s fine. DirectX matrices have the transpose layout. I originally got the perspective matrix from Wine&#39;s implementation of the DirectX functions, but I use the OpenGL layout.","body":"@YogevNeumann That&#39;s fine. DirectX matrices have the transpose layout. I originally got the perspective matrix from Wine&#39;s implementation of the DirectX functions, but I use the OpenGL layout."}],"answers":[{"tags":[],"owner":{"account_id":11730609,"reputation":36976,"user_id":8586227,"display_name":"Davis Herring"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1687326744,"creation_date":1687318293,"answer_id":76519764,"question_id":76398774,"body_markdown":"For the given `perspectiveFovLH` matrix **P** and any homogeneous/affine transformation matrix **M**, the inverse **R**≔(**PM**)&lt;sup&gt;&amp;minus;1&lt;/sup&gt; does **always** have _R_&lt;sub&gt;wx&lt;/sub&gt;=_R_&lt;sub&gt;wy&lt;/sub&gt;=0.\r\n\r\n## Proof\r\nTo see this, let **t** be **Mv** for some input **v**, and let **s** be **Pt**=**PMv**, such that **v**=**Rs**.\r\nNote that every **M** has _M_&lt;sub&gt;wx&lt;/sub&gt;=_M_&lt;sub&gt;wy&lt;/sub&gt;=_M_&lt;sub&gt;wz&lt;/sub&gt;=0 and _M_&lt;sub&gt;ww&lt;/sub&gt;=1, such that _t_&lt;sub&gt;w&lt;/sub&gt;=_v_&lt;sub&gt;w&lt;/sub&gt;.\r\nThen observe from the sparseness of **P** that _s_&lt;sub&gt;w&lt;/sub&gt;=_t_&lt;sub&gt;z&lt;/sub&gt; and that\r\n&gt; _s_&lt;sub&gt;z&lt;/sub&gt;=_Qt_&lt;sub&gt;z&lt;/sub&gt; &amp;minus; _Qz_&lt;sub&gt;0&lt;/sub&gt;_t_&lt;sub&gt;w&lt;/sub&gt;  \r\n=_Qs_&lt;sub&gt;w&lt;/sub&gt; &amp;minus; _Qz_&lt;sub&gt;0&lt;/sub&gt;_v_&lt;sub&gt;w&lt;/sub&gt;\r\n\r\nSolving the last equation yields\r\n&gt; _v_&lt;sub&gt;w&lt;/sub&gt;=(_Qs_&lt;sub&gt;w&lt;/sub&gt; &amp;minus; _s_&lt;sub&gt;z&lt;/sub&gt;)/(_Qz_&lt;sub&gt;0&lt;/sub&gt;)\r\n\r\nThis formula manifestly depends only on _s_&lt;sub&gt;z&lt;/sub&gt; and _s_&lt;sub&gt;w&lt;/sub&gt;, demonstrating as supposed that _R_&lt;sub&gt;wx&lt;/sub&gt;=_R_&lt;sub&gt;wy&lt;/sub&gt;=0.\r\n\r\n## Rationale\r\nWe can understand this in a non-formulaic fashion: **3&amp;times;4** matrices are sufficient for perspective on a screen, because you need only 2 output coordinates and the one homogeneous coordinate by which to divide them.  Using the full 4&amp;times;4 matrix introduces a redundancy because both the _z_ and _w_ coordinates of the result derive only from the _z_ coordinate of the input (and the known constant 1 for the initial _w_).  Regardless of the world transformation applied before the projection, you still have those two equations in the transformed _z_ and the **original** _w_, which is enough to solve for them.","title":"Why are two elements of my inverse projection matrix always 0?","body":"<p>For the given <code>perspectiveFovLH</code> matrix <strong>P</strong> and any homogeneous/affine transformation matrix <strong>M</strong>, the inverse <strong>R</strong>≔(<strong>PM</strong>)<sup>−1</sup> does <strong>always</strong> have <em>R</em><sub>wx</sub>=<em>R</em><sub>wy</sub>=0.</p>\n<h2>Proof</h2>\n<p>To see this, let <strong>t</strong> be <strong>Mv</strong> for some input <strong>v</strong>, and let <strong>s</strong> be <strong>Pt</strong>=<strong>PMv</strong>, such that <strong>v</strong>=<strong>Rs</strong>.\nNote that every <strong>M</strong> has <em>M</em><sub>wx</sub>=<em>M</em><sub>wy</sub>=<em>M</em><sub>wz</sub>=0 and <em>M</em><sub>ww</sub>=1, such that <em>t</em><sub>w</sub>=<em>v</em><sub>w</sub>.\nThen observe from the sparseness of <strong>P</strong> that <em>s</em><sub>w</sub>=<em>t</em><sub>z</sub> and that</p>\n<blockquote>\n<p><em>s</em><sub>z</sub>=<em>Qt</em><sub>z</sub> − <em>Qz</em><sub>0</sub><em>t</em><sub>w</sub><br />\n=<em>Qs</em><sub>w</sub> − <em>Qz</em><sub>0</sub><em>v</em><sub>w</sub></p>\n</blockquote>\n<p>Solving the last equation yields</p>\n<blockquote>\n<p><em>v</em><sub>w</sub>=(<em>Qs</em><sub>w</sub> − <em>s</em><sub>z</sub>)/(<em>Qz</em><sub>0</sub>)</p>\n</blockquote>\n<p>This formula manifestly depends only on <em>s</em><sub>z</sub> and <em>s</em><sub>w</sub>, demonstrating as supposed that <em>R</em><sub>wx</sub>=<em>R</em><sub>wy</sub>=0.</p>\n<h2>Rationale</h2>\n<p>We can understand this in a non-formulaic fashion: <strong>3×4</strong> matrices are sufficient for perspective on a screen, because you need only 2 output coordinates and the one homogeneous coordinate by which to divide them.  Using the full 4×4 matrix introduces a redundancy because both the <em>z</em> and <em>w</em> coordinates of the result derive only from the <em>z</em> coordinate of the input (and the known constant 1 for the initial <em>w</em>).  Regardless of the world transformation applied before the projection, you still have those two equations in the transformed <em>z</em> and the <strong>original</strong> <em>w</em>, which is enough to solve for them.</p>\n"}],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76519764,"answer_count":1,"score":2,"last_activity_date":1687326744,"creation_date":1685847311,"question_id":76398774,"body_markdown":"I&#39;m writing a ray tracer for which I need to cast rays from the screen into the world. I&#39;m using the inverse of the view-projection-viewport matrix to get back from screen pixel coordinates to world space coordinates.\r\n\r\nI noticed by accident that two elements of the inverse matrix are always 0, no matter how or where I move, zoom, orbit, or spin the camera. I don&#39;t understand the projection matrix deeply enough to know why.\r\n\r\nThis is a hopefully-relevant portion of my Matrix class:\r\n\r\n\t// OpenGL-style column-vectors layout.\r\n\tpublic final class Matrix4 {\r\n\t\tpublic double e11, e12, e13, e14;\r\n\t\tpublic double e21, e22, e23, e24;\r\n\t\tpublic double e31, e32, e33, e34;\r\n\t\tpublic double e41, e42, e43, e44;\r\n\t\t\r\n\t\tpublic void transform(Vec3 v) {\r\n\t\t\tdouble x = v.x, y = v.y, z = v.z;\r\n\t\t\tdouble w = (x * e41) + (y * e42) + (z * e43) + (e44);\r\n\t\t\tdouble norm = 1 / w;\r\n\t\t\tv.x = ((x * e11) + (y * e12) + (z * e13) + (e14)) * norm;\r\n\t\t\tv.y = ((x * e21) + (y * e22) + (z * e23) + (e24)) * norm;\r\n\t\t\tv.z = ((x * e31) + (y * e32) + (z * e33) + (e34)) * norm;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void perspectiveFovLH(double fovy, double aspect, double znear, double zfar) {\r\n\t\t\tdouble yscale = 1 / tan(fovy * 0.5);\r\n\t\t\tdouble xscale = yscale / aspect;\r\n\t\t\tdouble Q = zfar / (zfar - znear);\r\n\t\t\t\r\n\t\t\te11 = xscale;\r\n\t\t\te22 = yscale;\r\n\t\t\te33 = Q;\r\n\t\t\te34 = Q * -znear;\r\n\t\t\te43 = 1;\r\n\t\t}\r\n\t}\r\n\r\nThis is the view-projection-viewport matrix after moving the camera around for a while:\r\n\r\n    [ -331.62051997,  -616.31014741, -927.45531750,  354532.72229686\r\n       158.60434983, -1091.70516425,  427.49500301,  420008.37868979\r\n         0.75468455,    -0.51045982,   -0.41337968,     766.88486375\r\n         0.75430721,    -0.51020459,   -0.41317299,     771.50142132 ]\r\n\r\nAnd this is its inverse:\r\n\r\n    [ -0.00058203, -0.00019009,  113.94949731, -112.89669211\r\n      -0.00033747, -0.00072765,  -84.29481494,   84.34162134\r\n      -0.00064586,  0.00055151,  -61.14292715,   60.77360931\r\n      -0.00000000, -0.00000000,   -0.19990000,    0.20000000 ]\r\n\r\nMost of the elements change continuously as I move the camera. The two elements in the bottom right of the inverse seem to be directly related to the znear and zfar parameters. The two elements in the bottom left always seem to be constant 0.\r\n\r\nThis fact is useful in the transform method. If e41 and e42 are 0, and input z is always 0 or 1 when casting the near and far points of a ray into the screen, the w division can be computed ahead of time, rather than per-pixel. This is working and is a useful speedup.\r\n\r\nHowever, I&#39;m worried this assumption will break something later. So I&#39;d like to know, what does it mean that these two elements are 0, and when will this assumption hold?\r\n\r\n----\r\n\r\nEdit: I [found out](https://www.brainvoyager.com/bv/doc/UsersGuide/CoordsAndTransforms/SpatialTransformationMatrices.html) that an affine 4x4 matrix has the last four elements (0 0 0 1). My inverse matrix almost matches up. But what is the magic that makes the inverse of a perspective matrix be affine, or, almost affine?","title":"Why are two elements of my inverse projection matrix always 0?","body":"<p>I'm writing a ray tracer for which I need to cast rays from the screen into the world. I'm using the inverse of the view-projection-viewport matrix to get back from screen pixel coordinates to world space coordinates.</p>\n<p>I noticed by accident that two elements of the inverse matrix are always 0, no matter how or where I move, zoom, orbit, or spin the camera. I don't understand the projection matrix deeply enough to know why.</p>\n<p>This is a hopefully-relevant portion of my Matrix class:</p>\n<pre><code>// OpenGL-style column-vectors layout.\npublic final class Matrix4 {\n    public double e11, e12, e13, e14;\n    public double e21, e22, e23, e24;\n    public double e31, e32, e33, e34;\n    public double e41, e42, e43, e44;\n    \n    public void transform(Vec3 v) {\n        double x = v.x, y = v.y, z = v.z;\n        double w = (x * e41) + (y * e42) + (z * e43) + (e44);\n        double norm = 1 / w;\n        v.x = ((x * e11) + (y * e12) + (z * e13) + (e14)) * norm;\n        v.y = ((x * e21) + (y * e22) + (z * e23) + (e24)) * norm;\n        v.z = ((x * e31) + (y * e32) + (z * e33) + (e34)) * norm;\n    }\n    \n    public void perspectiveFovLH(double fovy, double aspect, double znear, double zfar) {\n        double yscale = 1 / tan(fovy * 0.5);\n        double xscale = yscale / aspect;\n        double Q = zfar / (zfar - znear);\n        \n        e11 = xscale;\n        e22 = yscale;\n        e33 = Q;\n        e34 = Q * -znear;\n        e43 = 1;\n    }\n}\n</code></pre>\n<p>This is the view-projection-viewport matrix after moving the camera around for a while:</p>\n<pre><code>[ -331.62051997,  -616.31014741, -927.45531750,  354532.72229686\n   158.60434983, -1091.70516425,  427.49500301,  420008.37868979\n     0.75468455,    -0.51045982,   -0.41337968,     766.88486375\n     0.75430721,    -0.51020459,   -0.41317299,     771.50142132 ]\n</code></pre>\n<p>And this is its inverse:</p>\n<pre><code>[ -0.00058203, -0.00019009,  113.94949731, -112.89669211\n  -0.00033747, -0.00072765,  -84.29481494,   84.34162134\n  -0.00064586,  0.00055151,  -61.14292715,   60.77360931\n  -0.00000000, -0.00000000,   -0.19990000,    0.20000000 ]\n</code></pre>\n<p>Most of the elements change continuously as I move the camera. The two elements in the bottom right of the inverse seem to be directly related to the znear and zfar parameters. The two elements in the bottom left always seem to be constant 0.</p>\n<p>This fact is useful in the transform method. If e41 and e42 are 0, and input z is always 0 or 1 when casting the near and far points of a ray into the screen, the w division can be computed ahead of time, rather than per-pixel. This is working and is a useful speedup.</p>\n<p>However, I'm worried this assumption will break something later. So I'd like to know, what does it mean that these two elements are 0, and when will this assumption hold?</p>\n<hr />\n<p>Edit: I <a href=\"https://www.brainvoyager.com/bv/doc/UsersGuide/CoordsAndTransforms/SpatialTransformationMatrices.html\" rel=\"nofollow noreferrer\">found out</a> that an affine 4x4 matrix has the last four elements (0 0 0 1). My inverse matrix almost matches up. But what is the magic that makes the inverse of a perspective matrix be affine, or, almost affine?</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor","springmockito"],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1687326435,"creation_date":1648976935,"answer_id":71724474,"question_id":71724227,"body_markdown":"**@Mock**\r\n\r\nUsed to make Mockito create a mock object.\r\n\r\n**@InjectMock**\r\n\r\nWhen you want Mockito to create an instance of an object and use the mocks annotated with `@Mock` as its dependencies.\r\n\r\n**@AutoWired**\r\n\r\nUsed when you want to autowire a bean from the spring context, works exactly the same as in normal code but can only be used in tests that actually creates an application context, such as tests annotated with `@WebMvcTest` or `@SpringBootTest`.\r\n\r\n**@MockBean**\r\n\r\nCan be used to add mock objects to the Spring application context. The mock will replace any existing bean of the same type in the application context. If no bean of the same type is defined, a new one will be added. Often used together with `@SpringBootTest`\r\n\r\nSo normally you either:\r\n\r\n - Use `@Mock` and `@InjectMocks` for running tests without a Spring\r\n   context, this is preferred as it&#39;s much faster.\r\n - Use `@SpringBootTest` or `@SpringMvcTest` to start a spring context together with `@MockBean` to create mock objects and `@Autowired` to get an instance of class you want to test, the mockbeans will be used for its autowired dependencies. You use this when writing integration tests for code that interact with a database or want to test your REST API controllers.","title":"When to use and not use @Mock annotation, @MockBean annotation, @InjectMock annotation &amp; @Autowired annotation in a spring webflux reactive project","body":"<p><strong>@Mock</strong></p>\n<p>Used to make Mockito create a mock object.</p>\n<p><strong>@InjectMock</strong></p>\n<p>When you want Mockito to create an instance of an object and use the mocks annotated with <code>@Mock</code> as its dependencies.</p>\n<p><strong>@AutoWired</strong></p>\n<p>Used when you want to autowire a bean from the spring context, works exactly the same as in normal code but can only be used in tests that actually creates an application context, such as tests annotated with <code>@WebMvcTest</code> or <code>@SpringBootTest</code>.</p>\n<p><strong>@MockBean</strong></p>\n<p>Can be used to add mock objects to the Spring application context. The mock will replace any existing bean of the same type in the application context. If no bean of the same type is defined, a new one will be added. Often used together with <code>@SpringBootTest</code></p>\n<p>So normally you either:</p>\n<ul>\n<li>Use <code>@Mock</code> and <code>@InjectMocks</code> for running tests without a Spring\ncontext, this is preferred as it's much faster.</li>\n<li>Use <code>@SpringBootTest</code> or <code>@SpringMvcTest</code> to start a spring context together with <code>@MockBean</code> to create mock objects and <code>@Autowired</code> to get an instance of class you want to test, the mockbeans will be used for its autowired dependencies. You use this when writing integration tests for code that interact with a database or want to test your REST API controllers.</li>\n</ul>\n"}],"owner":{"account_id":20185812,"reputation":249,"user_id":14805169,"display_name":"Santrupta Dash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4291,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":71724474,"answer_count":1,"score":11,"last_activity_date":1687326435,"creation_date":1648974615,"question_id":71724227,"body_markdown":"Can you please explain when to use below annotations and when not to use those. I am pretty new to testing frameworks and confused with all the answers in the web.  \r\n\r\n    @Mock\r\n    private Resource resource;\r\n    @MockBean\r\n    private Resource resource;\r\n    @InjectMock\r\n    private ProductService productService; \r\n    @AutoWired\r\n    Private ProductRepository productRepo;\r\n","title":"When to use and not use @Mock annotation, @MockBean annotation, @InjectMock annotation &amp; @Autowired annotation in a spring webflux reactive project","body":"<p>Can you please explain when to use below annotations and when not to use those. I am pretty new to testing frameworks and confused with all the answers in the web.</p>\n<pre><code>@Mock\nprivate Resource resource;\n@MockBean\nprivate Resource resource;\n@InjectMock\nprivate ProductService productService; \n@AutoWired\nPrivate ProductRepository productRepo;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","vaadin"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687326347,"creation_date":1687326347,"answer_id":76520286,"question_id":76518822,"body_markdown":"Answers for you.\r\n\r\nFirst, you need to bind the fields before reading the bean. `Binder#readBean` as stated by documentation is populating the **bound** fields. Naturally the fields not yet bound, will not get populated.\r\n\r\n    Person person = personService.getPerson(key);\r\n    binder.bindInstanceFields(form);\r\n    binder.readBean(person);\r\n\r\nAlso note, that in order to find the fields, the Binder#bindInstanceFields method requires the naming convention to be followed. I.e. \r\n\r\n     public class MyForm extends VerticalLayout {\r\n         // This will match getName/setName in Person\r\n         private TextField name = new TextField(&quot;Name&quot;);\r\n     }\r\n\r\n     ...\r\n     MyForm myForm = new MyForm();\r\n     binder.bindInstanceFields(myForm);\r\n\r\n\r\nNote, that `bindInstanceFields` will bind the fields you did not manually configure with `binder.forField(..)`, not override them.\r\n\r\nSecond, The `BeanValidationBinder` is a variant of Binder purposed for use with JSR-303 validation annotations in your entities.\r\n\r\n    Binder&lt;Person&gt; binder = new BeanValidationBinder&lt;&gt;();\r\n\r\nNote, as `bindInstanceFields` wont override existing bindings, if you use `binder.forField(..)` with `BeanValidationBinder` with some `withValidator`, none of the existing JSR-303 annottations on the same property will be used.\r\n\r\nIf you are not using JSR-303 validation annotations, you should use regular `Binder` instead\r\n\r\n    Binder&lt;Person&gt; binder = new Binder&lt;&gt;();\r\n\r\n","title":"Binding values to fields in Vaadin","body":"<p>Answers for you.</p>\n<p>First, you need to bind the fields before reading the bean. <code>Binder#readBean</code> as stated by documentation is populating the <strong>bound</strong> fields. Naturally the fields not yet bound, will not get populated.</p>\n<pre><code>Person person = personService.getPerson(key);\nbinder.bindInstanceFields(form);\nbinder.readBean(person);\n</code></pre>\n<p>Also note, that in order to find the fields, the Binder#bindInstanceFields method requires the naming convention to be followed. I.e.</p>\n<pre><code> public class MyForm extends VerticalLayout {\n     // This will match getName/setName in Person\n     private TextField name = new TextField(&quot;Name&quot;);\n }\n\n ...\n MyForm myForm = new MyForm();\n binder.bindInstanceFields(myForm);\n</code></pre>\n<p>Note, that <code>bindInstanceFields</code> will bind the fields you did not manually configure with <code>binder.forField(..)</code>, not override them.</p>\n<p>Second, The <code>BeanValidationBinder</code> is a variant of Binder purposed for use with JSR-303 validation annotations in your entities.</p>\n<pre><code>Binder&lt;Person&gt; binder = new BeanValidationBinder&lt;&gt;();\n</code></pre>\n<p>Note, as <code>bindInstanceFields</code> wont override existing bindings, if you use <code>binder.forField(..)</code> with <code>BeanValidationBinder</code> with some <code>withValidator</code>, none of the existing JSR-303 annottations on the same property will be used.</p>\n<p>If you are not using JSR-303 validation annotations, you should use regular <code>Binder</code> instead</p>\n<pre><code>Binder&lt;Person&gt; binder = new Binder&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687326347,"creation_date":1687301201,"question_id":76518822,"body_markdown":"I am trying to display a JPA entity I fetch from the DB in bunch of TextField items in my View\r\n\r\n    Binder&lt;Person&gt; binder = new BeanValidationBinder&lt;&gt;();\r\n    binder.forField(nameField)\r\n    .withValidator(\r\n        name -&gt; name.length() &gt;= 3,\r\n        &quot;Name must contain at least three characters&quot;)\r\n    .bind(Person::getName, Person::setName);\r\n\r\n    binder.forField(id)\r\n        // Shorthand for requiring the field to be non-empty\r\n        .asRequired(&quot;Every employee must have an ID&quot;)\r\n        .bind(Person::getID, Person::setID);\r\n\r\n     ....\r\n    Person person = personService.getPerson(key);\r\n    binder.readBean(person);// &lt;-- Tried this\r\n    binder.bindInstanceFields(person); //&lt; -- tried this \r\n \r\n  \r\nWhat finally gets displayed is just the ID. I have a half dozen other fields that I have not mentioned here for sake of brevity. I can print them in logs, I can see them in the debugger, but they refuse to show up in the TextField. All the TextFields are added in the layout, just to answer any doubts.\r\nAlso tried explicit calls to `setValue` on the TextField. It doesn&#39;t seem to matter. Nothing gets displayed. I understand the use case is for binder is to capture the bean values for persistence, but how do the fields get displayed? This view provides another button for use in the next view I am attempting to route, so the primary use for this View is just plain display the Person bean.\r\n","title":"Binding values to fields in Vaadin","body":"<p>I am trying to display a JPA entity I fetch from the DB in bunch of TextField items in my View</p>\n<pre><code>Binder&lt;Person&gt; binder = new BeanValidationBinder&lt;&gt;();\nbinder.forField(nameField)\n.withValidator(\n    name -&gt; name.length() &gt;= 3,\n    &quot;Name must contain at least three characters&quot;)\n.bind(Person::getName, Person::setName);\n\nbinder.forField(id)\n    // Shorthand for requiring the field to be non-empty\n    .asRequired(&quot;Every employee must have an ID&quot;)\n    .bind(Person::getID, Person::setID);\n\n ....\nPerson person = personService.getPerson(key);\nbinder.readBean(person);// &lt;-- Tried this\nbinder.bindInstanceFields(person); //&lt; -- tried this \n</code></pre>\n<p>What finally gets displayed is just the ID. I have a half dozen other fields that I have not mentioned here for sake of brevity. I can print them in logs, I can see them in the debugger, but they refuse to show up in the TextField. All the TextFields are added in the layout, just to answer any doubts.\nAlso tried explicit calls to <code>setValue</code> on the TextField. It doesn't seem to matter. Nothing gets displayed. I understand the use case is for binder is to capture the bean values for persistence, but how do the fields get displayed? This view provides another button for use in the next view I am attempting to route, so the primary use for this View is just plain display the Person bean.</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview","android-listview"],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687325763,"creation_date":1687325763,"question_id":76520245,"body_markdown":"I am adding items from listview but the condition is total quantity of items = 5. So there can be 2 cases: 1) where 5 different items are added  each with quantity 1 and 2) combination of multiple items whose total can be 5. So once total is 5 user will be shown an alert box to stop. I thought of taking another counter=5 and whenever user  adds item fetch the quantity and deduct from counter so when counter-0 stop the user but unable  to achieve it. How can I achieve the case 2? Any help appreciated.\r\n\r\n   \r\n\r\n        public void onClick(View arg0) {\r\n        // TODO Auto-generated method stub\r\n        if (arg0.getId() &lt; 500) {\r\n            System.out.println(&quot;In delete button&quot;);\r\n            View row = (View) arg0.getParent();\r\n            View row1 = (View) row.getParent();\r\n            row1 = (View) row1.getParent();\r\n\r\n            ViewGroup container = ((ViewGroup) row1.getParent());\r\n            int id = arg0.getId();\r\n\r\n            if (Datafields.docgiftid.containsKey(brand_pres.get(id))) {\r\n                if (!Datafields.brandReminders.equals(&quot;NODATA&quot;) &amp;&amp; FragmentParent.Gifts != 0) {\r\n                    Datafields.deletedDocgiftid.put(Integer.parseInt(brand_pres.get(id).toString()), brand_pres.get(id));\r\n                    Datafields.deletedDocgiftvalue.put(Integer.parseInt(brand_pres.get(id).toString()), Datafields.docgiftvalue.get(brand_pres.get(id)));\r\n                    Datafields.deletedGiftbal.put(Integer.parseInt(brand_pres.get(id).toString()), Datafields.giftbal.get(brand_pres.get(id)));\r\n                }\r\n\r\n\r\n                brandsid.remove(id);\r\n                brandsname.remove(id);\r\n                brandvalue.remove(id);\r\n                sbrandid.remove(id);\r\n\r\n                Datafields.docgiftid.remove(brand_pres.get(id));\r\n                Datafields.docgiftname.remove(brand_pres.get(id));\r\n                //Datafields.docgiftvalue.remove(brand_pres.get(id));\r\n                Datafields.docbrndid.remove(brand_pres.get(id));\r\n                Datafields.docgiftvalue.put(brand_pres.get(id), 0);\r\n            }\r\n            lv.setItemChecked(id, false);\r\n            container.removeView(row1);\r\n            container.invalidate();\r\n        } else {\r\n            if (arg0.getId() &lt; 1000) {\r\n                System.out.println(&quot;In increment button&quot;);\r\n                int i = arg0.getId() - 500;\r\n\r\n                LinearLayout view = (LinearLayout) view1.findViewById(i);\r\n                TextView pickertv = (TextView) view.getChildAt(1);\r\n                String check = pickertv.getText().toString();\r\n\r\n                if (check.equals(&quot;&quot;)) {\r\n                    Toast.makeText(getActivity(), &quot;Quantity cannot be Empty&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                } else {\r\n                    count = Integer.parseInt(check);\r\n                    System.out.println(&quot;check is: &quot; + check + &quot; n c is: &quot; + count);\r\n                    if (count &gt;= 9999) {\r\n                        Toast.makeText(getActivity(), &quot;Quantity cannot be greater than 9999&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                    } else {\r\n                        ++count;\r\n                        String text = Integer.toString(count);\r\n                        pickertv.setText(text);\r\n                        Datafields.docgiftvalue.put(brand_pres.get(i), text);\r\n                        brandvalue.put(i, text);\r\n                    }\r\n                }\r\n            } else if (arg0.getId() &gt;= 1000) {\r\n\r\n                System.out.println(&quot;In decrement button&quot;);\r\n                int i = arg0.getId() - 1000;\r\n                LinearLayout view = (LinearLayout) view1.findViewById(i);\r\n                TextView tv = (TextView) view.getChildAt(1);\r\n                String check = tv.getText().toString();\r\n\r\n                if (check.equals(&quot;&quot;)) {\r\n                    Toast.makeText(getActivity(), &quot;Quantity cannot be Empty&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                } else {\r\n                    int c = Integer.parseInt(check);\r\n                    System.out.println(&quot;check is: &quot; + check + &quot; n c is: &quot; + c);\r\n                    if (c &lt;= 0) {\r\n                        Toast.makeText(getActivity(), &quot;Quantity cannot be less than zero&quot;, Toast.LENGTH_LONG).show();\r\n                    } else {\r\n                        c--;\r\n                        String text = Integer.toString(c);\r\n                        tv.setText(text);\r\n                        Datafields.docgiftvalue.put(brand_pres.get(i), text);\r\n                        brandvalue.put(i, text);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    void showTable(final int position, int FLAG, String id) {\r\n        System.out.println(&quot;In showtable&quot;);\r\n        mRowCount++;\r\n        FragmentActivity act = getActivity();\r\n        View child = act.getLayoutInflater().inflate(R.layout.listview_adapter_filedcr_promogift, null);\r\n        TextView promo_product = (TextView) child.findViewById(R.id.promo_product);\r\n        final EditText promo_quantity = (EditText) child.findViewById(R.id.promo_quantity);\r\n        ImageView promo_delete = (ImageView) child.findViewById(R.id.delete);\r\n        Button promo_dec = (Button) child.findViewById(R.id.decrement);\r\n        Button promo_inc = (Button) child.findViewById(R.id.increment);\r\n        LinearLayout lin_promo = (LinearLayout) child.findViewById(R.id.lin_promo);\r\n        promo_product.setText(namecount.get(position));\r\n        promo_delete.setId(position);\r\n        promo_delete.setOnClickListener(this);//added by sid\r\n        lin_promo.setId(position);//added by sid\r\n        promo_inc.setId(500 + position);//added by sid\r\n        promo_inc.setOnClickListener(this);//added by sid\r\n        promo_quantity.setId(position + 1500);//added bys sid\r\n\r\n        if (FLAG == 1) {\r\n            System.out.println(&quot;In showtable and flag=1&quot;);\r\n            promo_quantity.setText(&quot;&quot; + Datafields.docgiftvalue.get(Integer.parseInt(listid.get(position))));//added bys sid\r\n        } else {\r\n\r\n            System.out.println(&quot;In showtable and flag!=1&quot;);\r\n            if (id.equals(&quot;0&quot;)) {\r\n                promo_quantity.setText(&quot;0&quot;);//added bys sid\r\n            } else {\r\n                promo_quantity.setText(&quot;1&quot;);//added bys sid\r\n            }\r\n        }\r\n        lin_promo.setId(position);//added by sid\r\n\r\n        if (id.equals(&quot;0&quot;)) {\r\n            promo_inc.setEnabled(false);//added by sid\r\n            promo_quantity.setEnabled(false);\r\n            promo_dec.setEnabled(false);\r\n\r\n            promo_inc.setVisibility(View.INVISIBLE);//added by sid\r\n            promo_quantity.setVisibility(View.INVISIBLE);\r\n            promo_dec.setVisibility(View.INVISIBLE);\r\n\r\n        }\r\n\r\n\r\n        promo_dec.setId(1000 + position);//added by sid\r\n        promo_dec.setOnClickListener(this);//added by sid\r\n     @Override\r\n            public void afterTextChanged(Editable s) {\r\n                // TODO Auto-generated method stub\r\n                float v1, v2;\r\n                String valueInString = promo_quantity.getText().toString();//added by sid\r\n                if (valueInString.length() == 0) {\r\n                    valueInString = &quot;0&quot;;\r\n                }\r\n                Datafields.docgiftvalue.put(brand_pres.get(position), valueInString);\r\n\r\n            }\r\n\r\n\r\n        });\r\n\r\n        table.addView(child);\r\n\r\n        ((ScrollView) view1.findViewById(R.id.myScroll)).post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;In scrollview&quot;);\r\n                ((ScrollView) view1.findViewById(R.id.myScroll)).fullScroll(View.FOCUS_DOWN);\r\n            }\r\n        });\r\n\r\n    }\r\n[![Image 1][1]][1]\r\n\r\n\r\n[![Image 2][2]][2]\r\n\r\n\r\n[![Image 3][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7fyyC.jpg\r\n  [2]: https://i.stack.imgur.com/cblxz.jpg\r\n  [3]: https://i.stack.imgur.com/oV3ss.jpg","title":"Android listview - limiting the entries on adapter","body":"<p>I am adding items from listview but the condition is total quantity of items = 5. So there can be 2 cases: 1) where 5 different items are added  each with quantity 1 and 2) combination of multiple items whose total can be 5. So once total is 5 user will be shown an alert box to stop. I thought of taking another counter=5 and whenever user  adds item fetch the quantity and deduct from counter so when counter-0 stop the user but unable  to achieve it. How can I achieve the case 2? Any help appreciated.</p>\n<pre><code>    public void onClick(View arg0) {\n    // TODO Auto-generated method stub\n    if (arg0.getId() &lt; 500) {\n        System.out.println(&quot;In delete button&quot;);\n        View row = (View) arg0.getParent();\n        View row1 = (View) row.getParent();\n        row1 = (View) row1.getParent();\n\n        ViewGroup container = ((ViewGroup) row1.getParent());\n        int id = arg0.getId();\n\n        if (Datafields.docgiftid.containsKey(brand_pres.get(id))) {\n            if (!Datafields.brandReminders.equals(&quot;NODATA&quot;) &amp;&amp; FragmentParent.Gifts != 0) {\n                Datafields.deletedDocgiftid.put(Integer.parseInt(brand_pres.get(id).toString()), brand_pres.get(id));\n                Datafields.deletedDocgiftvalue.put(Integer.parseInt(brand_pres.get(id).toString()), Datafields.docgiftvalue.get(brand_pres.get(id)));\n                Datafields.deletedGiftbal.put(Integer.parseInt(brand_pres.get(id).toString()), Datafields.giftbal.get(brand_pres.get(id)));\n            }\n\n\n            brandsid.remove(id);\n            brandsname.remove(id);\n            brandvalue.remove(id);\n            sbrandid.remove(id);\n\n            Datafields.docgiftid.remove(brand_pres.get(id));\n            Datafields.docgiftname.remove(brand_pres.get(id));\n            //Datafields.docgiftvalue.remove(brand_pres.get(id));\n            Datafields.docbrndid.remove(brand_pres.get(id));\n            Datafields.docgiftvalue.put(brand_pres.get(id), 0);\n        }\n        lv.setItemChecked(id, false);\n        container.removeView(row1);\n        container.invalidate();\n    } else {\n        if (arg0.getId() &lt; 1000) {\n            System.out.println(&quot;In increment button&quot;);\n            int i = arg0.getId() - 500;\n\n            LinearLayout view = (LinearLayout) view1.findViewById(i);\n            TextView pickertv = (TextView) view.getChildAt(1);\n            String check = pickertv.getText().toString();\n\n            if (check.equals(&quot;&quot;)) {\n                Toast.makeText(getActivity(), &quot;Quantity cannot be Empty&quot;, Toast.LENGTH_LONG).show();\n\n            } else {\n                count = Integer.parseInt(check);\n                System.out.println(&quot;check is: &quot; + check + &quot; n c is: &quot; + count);\n                if (count &gt;= 9999) {\n                    Toast.makeText(getActivity(), &quot;Quantity cannot be greater than 9999&quot;, Toast.LENGTH_LONG).show();\n\n                } else {\n                    ++count;\n                    String text = Integer.toString(count);\n                    pickertv.setText(text);\n                    Datafields.docgiftvalue.put(brand_pres.get(i), text);\n                    brandvalue.put(i, text);\n                }\n            }\n        } else if (arg0.getId() &gt;= 1000) {\n\n            System.out.println(&quot;In decrement button&quot;);\n            int i = arg0.getId() - 1000;\n            LinearLayout view = (LinearLayout) view1.findViewById(i);\n            TextView tv = (TextView) view.getChildAt(1);\n            String check = tv.getText().toString();\n\n            if (check.equals(&quot;&quot;)) {\n                Toast.makeText(getActivity(), &quot;Quantity cannot be Empty&quot;, Toast.LENGTH_LONG).show();\n\n            } else {\n                int c = Integer.parseInt(check);\n                System.out.println(&quot;check is: &quot; + check + &quot; n c is: &quot; + c);\n                if (c &lt;= 0) {\n                    Toast.makeText(getActivity(), &quot;Quantity cannot be less than zero&quot;, Toast.LENGTH_LONG).show();\n                } else {\n                    c--;\n                    String text = Integer.toString(c);\n                    tv.setText(text);\n                    Datafields.docgiftvalue.put(brand_pres.get(i), text);\n                    brandvalue.put(i, text);\n                }\n            }\n        }\n    }\n\n}\nvoid showTable(final int position, int FLAG, String id) {\n    System.out.println(&quot;In showtable&quot;);\n    mRowCount++;\n    FragmentActivity act = getActivity();\n    View child = act.getLayoutInflater().inflate(R.layout.listview_adapter_filedcr_promogift, null);\n    TextView promo_product = (TextView) child.findViewById(R.id.promo_product);\n    final EditText promo_quantity = (EditText) child.findViewById(R.id.promo_quantity);\n    ImageView promo_delete = (ImageView) child.findViewById(R.id.delete);\n    Button promo_dec = (Button) child.findViewById(R.id.decrement);\n    Button promo_inc = (Button) child.findViewById(R.id.increment);\n    LinearLayout lin_promo = (LinearLayout) child.findViewById(R.id.lin_promo);\n    promo_product.setText(namecount.get(position));\n    promo_delete.setId(position);\n    promo_delete.setOnClickListener(this);//added by sid\n    lin_promo.setId(position);//added by sid\n    promo_inc.setId(500 + position);//added by sid\n    promo_inc.setOnClickListener(this);//added by sid\n    promo_quantity.setId(position + 1500);//added bys sid\n\n    if (FLAG == 1) {\n        System.out.println(&quot;In showtable and flag=1&quot;);\n        promo_quantity.setText(&quot;&quot; + Datafields.docgiftvalue.get(Integer.parseInt(listid.get(position))));//added bys sid\n    } else {\n\n        System.out.println(&quot;In showtable and flag!=1&quot;);\n        if (id.equals(&quot;0&quot;)) {\n            promo_quantity.setText(&quot;0&quot;);//added bys sid\n        } else {\n            promo_quantity.setText(&quot;1&quot;);//added bys sid\n        }\n    }\n    lin_promo.setId(position);//added by sid\n\n    if (id.equals(&quot;0&quot;)) {\n        promo_inc.setEnabled(false);//added by sid\n        promo_quantity.setEnabled(false);\n        promo_dec.setEnabled(false);\n\n        promo_inc.setVisibility(View.INVISIBLE);//added by sid\n        promo_quantity.setVisibility(View.INVISIBLE);\n        promo_dec.setVisibility(View.INVISIBLE);\n\n    }\n\n\n    promo_dec.setId(1000 + position);//added by sid\n    promo_dec.setOnClickListener(this);//added by sid\n @Override\n        public void afterTextChanged(Editable s) {\n            // TODO Auto-generated method stub\n            float v1, v2;\n            String valueInString = promo_quantity.getText().toString();//added by sid\n            if (valueInString.length() == 0) {\n                valueInString = &quot;0&quot;;\n            }\n            Datafields.docgiftvalue.put(brand_pres.get(position), valueInString);\n\n        }\n\n\n    });\n\n    table.addView(child);\n\n    ((ScrollView) view1.findViewById(R.id.myScroll)).post(new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(&quot;In scrollview&quot;);\n            ((ScrollView) view1.findViewById(R.id.myScroll)).fullScroll(View.FOCUS_DOWN);\n        }\n    });\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7fyyC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7fyyC.jpg\" alt=\"Image 1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cblxz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cblxz.jpg\" alt=\"Image 2\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/oV3ss.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oV3ss.jpg\" alt=\"Image 3\" /></a></p>\n"},{"tags":["java","android","android-tablayout","fragmentstatepageradapter"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1687335662,"post_id":76520238,"comment_id":134920854,"body_markdown":"The current behaviour is expected. However there are multiple ways to handle this. You could use `SharedPreferences.OnSharedPreferenceChangeListener`, a `LiveData` via a shared `ViewModel` approach or a callback approach from Fragment to Activity but I wouldn&#39;t suggest this.","body":"The current behaviour is expected. However there are multiple ways to handle this. You could use <code>SharedPreferences.OnSharedPreferenceChangeListener</code>, a <code>LiveData</code> via a shared <code>ViewModel</code> approach or a callback approach from Fragment to Activity but I wouldn&#39;t suggest this."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1687338118,"post_id":76520238,"comment_id":134921443,"body_markdown":"Does anyone get what the problem is in this question?","body":"Does anyone get what the problem is in this question?"}],"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687325619,"creation_date":1687325619,"question_id":76520238,"body_markdown":"I want to add or remove a fragment from the tab based on switch position \r\n\r\nif switch is on then the fragment will be added if switch is off then the tab will be removed\r\n\r\nhere is the code i did in the main activity this actually works but only when the app is retstared and get the details from the Sharred Prefrence \r\n\r\nMainActivity.java\r\n\r\n    tabLayout = findViewById(R.id.tabLayout);\r\n                viewPager = findViewById(R.id.viewPager);\r\n    \r\n                mSharedPrefs_nsfw_settings = getSharedPreferences(SHARED_PREFS_NAME_NSFW, Context.MODE_PRIVATE);\r\n                boolean rewardGranted = mSharedPrefs_nsfw_settings.getBoolean(REWARD_GRANTED_KEY, false);\r\n                viewPagerAdapter = new FragmentViewPagerAdapter(getSupportFragmentManager(), getLifecycle(), rewardGranted);\r\n                viewPager.setAdapter(viewPagerAdapter);\r\n                new TabLayoutMediator(tabLayout, viewPager, (tab, position) -&gt; {\r\n                    // Set the tab titles using switch-case\r\n                    switch (position) {\r\n                        case 0:\r\n                            tab.setText(&quot;Meme&quot;);\r\n                            break;\r\n                        case 1:\r\n                            tab.setText(&quot;Art&quot;);\r\n                            break;\r\n                        case 2:\r\n                            if (rewardGranted) {\r\n                                tab.setText(&quot;NSFW&quot;);\r\n                            } else {\r\n                                tab.setText(&quot;Settings&quot;);\r\n                            }\r\n                            break;\r\n                        case 3:\r\n                            tab.setText(&quot;Settings&quot;);\r\n                            break;\r\n                    }\r\n                }).attach();\r\n\r\n\r\n\r\nFragmentStateAdapter\r\n\r\n     public FragmentViewPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle,boolean rewardGranted) {\r\n            super(fragmentManager, lifecycle);\r\n            fragmentList.add(new MemeFragment());\r\n            fragmentList.add(new ArtFragment());\r\n            if (rewardGranted) {\r\n                fragmentList.add(new NsfwFragment());\r\n            }\r\n            fragmentList.add(new SettingsFragment());\r\n        }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        return fragmentList.get(position);\r\n    }\r\n\r\n\r\n    /**\r\n     * Return the number of views available.\r\n     */\r\n    @Override\r\n    public int getItemCount() {\r\n        return fragmentList.size();\r\n    }\r\n    public Fragment getFragment(int position) {\r\n        // Retrieve the fragment at the specified position\r\n        return fragmentList.get(position);\r\n    }\r\n\r\n\r\n\r\nand here is the Switch code which currently just adding the sharedprefrence\r\n\r\n SettingsFragment.java\r\n\r\n    nsfwSetting.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    SharedPreferences.Editor editor = mSharedPrefs_nsfw_settings.edit();\r\n                    editor.putBoolean(REWARD_GRANTED_KEY, isChecked);\r\n                    editor.apply();\r\n                }\r\n            });\r\n            nsfwSetting.setChecked(mSharedPrefs_nsfw_settings.getBoolean(REWARD_GRANTED_KEY, false));","title":"Add or Remove Tabs based on Switch position","body":"<p>I want to add or remove a fragment from the tab based on switch position</p>\n<p>if switch is on then the fragment will be added if switch is off then the tab will be removed</p>\n<p>here is the code i did in the main activity this actually works but only when the app is retstared and get the details from the Sharred Prefrence</p>\n<p>MainActivity.java</p>\n<pre><code>tabLayout = findViewById(R.id.tabLayout);\n            viewPager = findViewById(R.id.viewPager);\n\n            mSharedPrefs_nsfw_settings = getSharedPreferences(SHARED_PREFS_NAME_NSFW, Context.MODE_PRIVATE);\n            boolean rewardGranted = mSharedPrefs_nsfw_settings.getBoolean(REWARD_GRANTED_KEY, false);\n            viewPagerAdapter = new FragmentViewPagerAdapter(getSupportFragmentManager(), getLifecycle(), rewardGranted);\n            viewPager.setAdapter(viewPagerAdapter);\n            new TabLayoutMediator(tabLayout, viewPager, (tab, position) -&gt; {\n                // Set the tab titles using switch-case\n                switch (position) {\n                    case 0:\n                        tab.setText(&quot;Meme&quot;);\n                        break;\n                    case 1:\n                        tab.setText(&quot;Art&quot;);\n                        break;\n                    case 2:\n                        if (rewardGranted) {\n                            tab.setText(&quot;NSFW&quot;);\n                        } else {\n                            tab.setText(&quot;Settings&quot;);\n                        }\n                        break;\n                    case 3:\n                        tab.setText(&quot;Settings&quot;);\n                        break;\n                }\n            }).attach();\n</code></pre>\n<p>FragmentStateAdapter</p>\n<pre><code> public FragmentViewPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle,boolean rewardGranted) {\n        super(fragmentManager, lifecycle);\n        fragmentList.add(new MemeFragment());\n        fragmentList.add(new ArtFragment());\n        if (rewardGranted) {\n            fragmentList.add(new NsfwFragment());\n        }\n        fragmentList.add(new SettingsFragment());\n    }\n\n@NonNull\n@Override\npublic Fragment createFragment(int position) {\n    return fragmentList.get(position);\n}\n\n\n/**\n * Return the number of views available.\n */\n@Override\npublic int getItemCount() {\n    return fragmentList.size();\n}\npublic Fragment getFragment(int position) {\n    // Retrieve the fragment at the specified position\n    return fragmentList.get(position);\n}\n</code></pre>\n<p>and here is the Switch code which currently just adding the sharedprefrence</p>\n<p>SettingsFragment.java</p>\n<pre><code>nsfwSetting.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                SharedPreferences.Editor editor = mSharedPrefs_nsfw_settings.edit();\n                editor.putBoolean(REWARD_GRANTED_KEY, isChecked);\n                editor.apply();\n            }\n        });\n        nsfwSetting.setChecked(mSharedPrefs_nsfw_settings.getBoolean(REWARD_GRANTED_KEY, false));\n</code></pre>\n"},{"tags":["java","linux","autosys"],"comments":[{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":0,"creation_date":1687256455,"post_id":76513361,"comment_id":134907882,"body_markdown":"Autosys looks at the return code from the process.  So run your java manually and check the value of $?.  If it is 0, autosys will always think it succeeded.  If that is the case, you need to exit your java with a return code other than 0 on error cases.","body":"Autosys looks at the return code from the process.  So run your java manually and check the value of $?.  If it is 0, autosys will always think it succeeded.  If that is the case, you need to exit your java with a return code other than 0 on error cases."},{"owner":{"account_id":5660669,"reputation":1,"user_id":4478432,"display_name":"kiran c"},"score":0,"creation_date":1687259053,"post_id":76513361,"comment_id":134908467,"body_markdown":"Hi Nic, I ran the job manually and saw $? value is 0. when I include System.exit(1), my build is getting failed saying [ERROR] Error occurred in starting fork, check output in log\n[ERROR] Process Exit Code: 1, any suggestions.","body":"Hi Nic, I ran the job manually and saw $? value is 0. when I include System.exit(1), my build is getting failed saying [ERROR] Error occurred in starting fork, check output in log [ERROR] Process Exit Code: 1, any suggestions."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687261426,"post_id":76513361,"comment_id":134908989,"body_markdown":"There&#39;s no correlation between the exit value of a process and whether an exception occurred. Just because one occurs, you don&#39;t necessarily bail by using `System.exit(n)` but you *could* set a non-zero exit code and use that *when your app exits at the usual point*","body":"There&#39;s no correlation between the exit value of a process and whether an exception occurred. Just because one occurs, you don&#39;t necessarily bail by using <code>System.exit(n)</code> but you <i>could</i> set a non-zero exit code and use that <i>when your app exits at the usual point</i>"},{"owner":{"account_id":5660669,"reputation":1,"user_id":4478432,"display_name":"kiran c"},"score":0,"creation_date":1687272843,"post_id":76513361,"comment_id":134911755,"body_markdown":"Hi Nic and g00se, Could you please give a sample java code to exit with return code other than 0. Thank you.","body":"Hi Nic and g00se, Could you please give a sample java code to exit with return code other than 0. Thank you."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687278161,"post_id":76513361,"comment_id":134913013,"body_markdown":"There&#39;s not much to it. It depends on your logic. If you get a nasty exception that you consider a sign that the program has malfunction then you can do `exitCode = -1;` (for instance) and then at the end `System.exit(exitCode);` The point is that *if your app runs to a natural end* java will automatically return success unless you tell it to do otherwise with `System.exit`","body":"There&#39;s not much to it. It depends on your logic. If you get a nasty exception that you consider a sign that the program has malfunction then you can do <code>exitCode = -1;</code> (for instance) and then at the end <code>System.exit(exitCode);</code> The point is that <i>if your app runs to a natural end</i> java will automatically return success unless you tell it to do otherwise with <code>System.exit</code>"},{"owner":{"account_id":5660669,"reputation":1,"user_id":4478432,"display_name":"kiran c"},"score":0,"creation_date":1687313074,"post_id":76513361,"comment_id":134917784,"body_markdown":"Hi g00se, Thanks for your suggestion, I tried System.exit(-1), flow is interrupted abruptly but still autosys is exiting with success code 0 and status Success. Below is my jil,","body":"Hi g00se, Thanks for your suggestion, I tried System.exit(-1), flow is interrupted abruptly but still autosys is exiting with success code 0 and status Success. Below is my jil,"},{"owner":{"account_id":5660669,"reputation":1,"user_id":4478432,"display_name":"kiran c"},"score":0,"creation_date":1687313100,"post_id":76513361,"comment_id":134917787,"body_markdown":"```\ninsert_job: JobName    job_type: cmd\ndescription: description\nmachine: XXXXXXXX\ncondition: s(Previousjob)\nowner: XXXXXXXXX\nbox_name: Box name\napplication: XXX\npermission: gx,wx,ge\nalarm_if_fail: y\nalarm_if_terminated: y\nprofile: /home/admin/.profile\nsend_notification: y\nnotification_template: Email_notification\nnotification_emailaddress: XXX@XXX.com\nstd_out_file: XXX.log\nstd_err_file: XXX.log\ncommand: XXXXXXXX.sh\n```","body":"``` insert_job: JobName    job_type: cmd description: description machine: XXXXXXXX condition: s(Previousjob) owner: XXXXXXXXX box_name: Box name application: XXX permission: gx,wx,ge alarm_if_fail: y alarm_if_terminated: y profile: /home/admin/.profile send_notification: y notification_template: Email_notification notification_emailaddress: XXX@XXX.com std_out_file: XXX.log std_err_file: XXX.log command: XXXXXXXX.sh ```"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687334799,"post_id":76513361,"comment_id":134920658,"body_markdown":"Well unfortunately, I don&#39;t know what you&#39;ve done, but try the following, passing the argument 5 and then 0 with `java Exiter 5;echo $?` Then try 0: `public class Exiter {public static void main(String[] args) {int exitCode = 0;int dividend = 10;try {int result = dividend / Integer.parseInt(args[0]);}catch(Throwable t) {exitCode = 10;}finally {System.exit(exitCode);}}}`","body":"Well unfortunately, I don&#39;t know what you&#39;ve done, but try the following, passing the argument 5 and then 0 with <code>java Exiter 5;echo $?</code> Then try 0: <code>public class Exiter {public static void main(String[] args) {int exitCode = 0;int dividend = 10;try {int result = dividend &#47; Integer.parseInt(args[0]);}catch(Throwable t) {exitCode = 10;}finally {System.exit(exitCode);}}}</code>"},{"owner":{"account_id":5660669,"reputation":1,"user_id":4478432,"display_name":"kiran c"},"score":0,"creation_date":1687356743,"post_id":76513361,"comment_id":134925694,"body_markdown":"Hi g00se,Thank you so much for the reply, I tried this but still I can see $? value as 0. I am totally confused.","body":"Hi g00se,Thank you so much for the reply, I tried this but still I can see $? value as 0. I am totally confused."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687356991,"post_id":76513361,"comment_id":134925762,"body_markdown":"My prompt, command and output: `goose@t410:/tmp$ java Exiter 0;echo $?\n10` An error-free run: `goose@t410:/tmp$ java Exiter 345;echo $?\n0`","body":"My prompt, command and output: <code>goose@t410:&#47;tmp$ java Exiter 0;echo $? 10</code> An error-free run: <code>goose@t410:&#47;tmp$ java Exiter 345;echo $? 0</code>"}],"owner":{"account_id":5660669,"reputation":1,"user_id":4478432,"display_name":"kiran c"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687324889,"creation_date":1687253976,"question_id":76513361,"body_markdown":"I need my autosys job to send an email alert when java batch file configured to it end up with errorS. Unfortunately though my job is failing with error in log file autosys status is success and we are not getting any alerts. Please help me to figure out this.\r\n\r\n\r\n\r\n\r\nDo I need to include anything in my java code?\r\n\r\nI tried throwing exceptions from the catch block, but no luck. ","title":"Autosys job failing to set job status to failed and not sending alerts","body":"<p>I need my autosys job to send an email alert when java batch file configured to it end up with errorS. Unfortunately though my job is failing with error in log file autosys status is success and we are not getting any alerts. Please help me to figure out this.</p>\n<p>Do I need to include anything in my java code?</p>\n<p>I tried throwing exceptions from the catch block, but no luck.</p>\n"},{"tags":["java","google-cloud-platform","google-api","google-api-java-client","google-cloud-identity"],"comments":[{"owner":{"account_id":5718291,"reputation":966,"user_id":4517659,"display_name":"Carlos"},"score":0,"creation_date":1598546884,"post_id":63523272,"comment_id":112501524,"body_markdown":"Have you tried using this scope &quot;https://www.googleapis.com/auth/cloud-platform&quot; as defined in the [public article](https://developers.google.com/identity/protocols/oauth2/scopes#healthcare)","body":"Have you tried using this scope &quot;<a href=\"https://www.googleapis.com/auth/cloud-platform\" rel=\"nofollow noreferrer\">googleapis.com/auth/cloud-platform</a>&quot; as defined in the <a href=\"https://developers.google.com/identity/protocols/oauth2/scopes#healthcare\" rel=\"nofollow noreferrer\">public article</a>"}],"answers":[{"tags":[],"owner":{"account_id":16426087,"reputation":45,"user_id":11866103,"display_name":"Frederic G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598040703,"creation_date":1598040703,"answer_id":63529502,"question_id":63523272,"body_markdown":"I would recommend you post your question [on Github](https://github.com/googleapis/google-cloud-java/issues) instead.\r\n\r\nThey will probably better equipped to answer your question related to Java and the GCP API.","title":"identity.v1beta1.devices create 403 error","body":"<p>I would recommend you post your question <a href=\"https://github.com/googleapis/google-cloud-java/issues\" rel=\"nofollow noreferrer\">on Github</a> instead.</p>\n<p>They will probably better equipped to answer your question related to Java and the GCP API.</p>\n"},{"tags":[],"owner":{"account_id":26105023,"reputation":1,"user_id":19799853,"display_name":"Bebin John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687324409,"creation_date":1687324409,"answer_id":76520141,"question_id":63523272,"body_markdown":"To create a new device you must need **Enterprise Standard, Enterprise Plus, Enterprise for Education, and Cloud Identity Premium** licenses to create a device. Better buy those licenses and try again.","title":"identity.v1beta1.devices create 403 error","body":"<p>To create a new device you must need <strong>Enterprise Standard, Enterprise Plus, Enterprise for Education, and Cloud Identity Premium</strong> licenses to create a device. Better buy those licenses and try again.</p>\n"}],"owner":{"account_id":17900510,"reputation":227,"user_id":13004861,"display_name":"Berk &#214;zt&#252;rk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687324409,"creation_date":1598014303,"question_id":63523272,"body_markdown":"I am trying to create a new device with this resouce:\r\n\r\nhttps://cloud.google.com/identity/docs/reference/rest/v1beta1/devices/create.\r\n\r\nI have defined the scopes for the API like below.\r\n```\r\n\t@Override\r\n\tprotected List&lt;String&gt; getScopes() {\r\n\t\treturn Collections.singletonList(\r\n\t\t\t\t&quot;https://www.googleapis.com/auth/cloud-identity&quot;\r\n\t\t);\r\n\t}\r\n```\r\n\r\nI am calling the API create method like this. \r\n\r\n```\r\n\t\t\tval createDeviceRequest = new CreateDeviceRequest()\r\n\t\t\t\t\t.setCustomer(&quot;customers/my_customer&quot;)\r\n\t\t\t\t\t.setDevice(createDeviceModel.toGoogle());\r\n            \r\n            cloudIdentityClientFactory\r\n\t\t\t\t\t.createFor(adminGoogleId)\r\n\t\t\t\t\t.devices()\r\n\t\t\t\t\t.create(createDeviceRequest)\r\n\t\t\t\t\t.execute();\r\n\r\n```\r\n\r\n&quot;createDeviceRequest&quot; entity value is like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere is no error about creating the client because creating the client works fine and I am able to call the list endpoint and get success response with 3 devices in the response body. I understand that the scope works fine because I am only using the 1 scope defined above and I have access to the listing devices.\r\n\r\nhttps://cloud.google.com/identity/docs/reference/rest/v1beta1/devices/list\r\n\r\nAn example for the listing devices which works fine:\r\n```\r\n\t\t\tval x = cloudIdentityClientFactory\r\n\t\t\t\t\t.createFor(adminGoogleId)\r\n\t\t\t\t\t.devices()\r\n\t\t\t\t\t.list()\r\n\t\t\t\t\t.setCustomer(&quot;customers/my_customer&quot;)\r\n\t\t\t\t\t.execute();\r\n```\r\n\r\n\r\nWhen I try to call the create endpoint I get a 403 Forbidden error. I want to know about what&#39;s the cause of this forbidden message and is there any way to fix it. \r\n\r\n```\r\nPOST https://cloudidentity.googleapis.com/v1beta1/devices\r\n{\r\n  &quot;code&quot; : 403,\r\n  &quot;errors&quot; : [ {\r\n    &quot;domain&quot; : &quot;global&quot;,\r\n    &quot;message&quot; : &quot;The caller does not have permission&quot;,\r\n    &quot;reason&quot; : &quot;forbidden&quot;\r\n  } ],\r\n  &quot;message&quot; : &quot;The caller does not have permission&quot;,\r\n  &quot;status&quot; : &quot;PERMISSION_DENIED&quot;\r\n}\r\n```\r\n\r\nThanks.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2rJOX.png","title":"identity.v1beta1.devices create 403 error","body":"<p>I am trying to create a new device with this resouce:</p>\n<p><a href=\"https://cloud.google.com/identity/docs/reference/rest/v1beta1/devices/create\" rel=\"nofollow noreferrer\">https://cloud.google.com/identity/docs/reference/rest/v1beta1/devices/create</a>.</p>\n<p>I have defined the scopes for the API like below.</p>\n<pre><code>    @Override\n    protected List&lt;String&gt; getScopes() {\n        return Collections.singletonList(\n                &quot;https://www.googleapis.com/auth/cloud-identity&quot;\n        );\n    }\n</code></pre>\n<p>I am calling the API create method like this.</p>\n<pre><code>            val createDeviceRequest = new CreateDeviceRequest()\n                    .setCustomer(&quot;customers/my_customer&quot;)\n                    .setDevice(createDeviceModel.toGoogle());\n            \n            cloudIdentityClientFactory\n                    .createFor(adminGoogleId)\n                    .devices()\n                    .create(createDeviceRequest)\n                    .execute();\n\n</code></pre>\n<p>&quot;createDeviceRequest&quot; entity value is like this:</p>\n<p><a href=\"https://i.stack.imgur.com/2rJOX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2rJOX.png\" alt=\"enter image description here\" /></a></p>\n<p>There is no error about creating the client because creating the client works fine and I am able to call the list endpoint and get success response with 3 devices in the response body. I understand that the scope works fine because I am only using the 1 scope defined above and I have access to the listing devices.</p>\n<p><a href=\"https://cloud.google.com/identity/docs/reference/rest/v1beta1/devices/list\" rel=\"nofollow noreferrer\">https://cloud.google.com/identity/docs/reference/rest/v1beta1/devices/list</a></p>\n<p>An example for the listing devices which works fine:</p>\n<pre><code>            val x = cloudIdentityClientFactory\n                    .createFor(adminGoogleId)\n                    .devices()\n                    .list()\n                    .setCustomer(&quot;customers/my_customer&quot;)\n                    .execute();\n</code></pre>\n<p>When I try to call the create endpoint I get a 403 Forbidden error. I want to know about what's the cause of this forbidden message and is there any way to fix it.</p>\n<pre><code>POST https://cloudidentity.googleapis.com/v1beta1/devices\n{\n  &quot;code&quot; : 403,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;message&quot; : &quot;The caller does not have permission&quot;,\n    &quot;reason&quot; : &quot;forbidden&quot;\n  } ],\n  &quot;message&quot; : &quot;The caller does not have permission&quot;,\n  &quot;status&quot; : &quot;PERMISSION_DENIED&quot;\n}\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","eclipse","jetty"],"answers":[{"tags":[],"owner":{"account_id":10226265,"reputation":376,"user_id":7548747,"display_name":"Lachlan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687323331,"creation_date":1687323331,"answer_id":76520064,"question_id":76519880,"body_markdown":"The `GzipHandler` now uses an `InflaterPool` and `DeflaterPool`, so you will need to configure this pool instead of using a `gzipHandler.setCompressionLevel()` method.\r\n\r\nInstead use something like this\r\n```java\r\ngzipHandler.setDeflaterPool(new DeflaterPool(CompressionPool.DEFAULT_CAPACITY, Deflater.BEST_SPEED, true));\r\n```\r\n\r\nYou could also just create the `DeflaterPool` and add it as a bean on the server and it will be shared by any components which also need the pool, and it will be automatically detected by the `GzipHandler` without using `setDeflaterPool()` explictly.\r\n","title":"GzipHandler.setCompressionLevel() method not available in latest release","body":"<p>The <code>GzipHandler</code> now uses an <code>InflaterPool</code> and <code>DeflaterPool</code>, so you will need to configure this pool instead of using a <code>gzipHandler.setCompressionLevel()</code> method.</p>\n<p>Instead use something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>gzipHandler.setDeflaterPool(new DeflaterPool(CompressionPool.DEFAULT_CAPACITY, Deflater.BEST_SPEED, true));\n</code></pre>\n<p>You could also just create the <code>DeflaterPool</code> and add it as a bean on the server and it will be shared by any components which also need the pool, and it will be automatically detected by the <code>GzipHandler</code> without using <code>setDeflaterPool()</code> explictly.</p>\n"}],"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76520064,"answer_count":1,"score":0,"last_activity_date":1687323331,"creation_date":1687320353,"question_id":76519880,"body_markdown":"**Jetty version : 11.0.15**\r\n\r\n**Java version : 17**\r\n\r\nI am trying to update my Spring boot project to 3.1.0. I need GZip compression for reduce response data size. For that I use spring-boot-starter-jetty instead of tomcat server. It download jettry version 11.0.15.\r\n\r\nGZip config file\r\n\r\n```\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.server.handler.HandlerCollection;\r\nimport org.eclipse.jetty.server.handler.gzip.GzipHandler;\r\nimport org.eclipse.jetty.util.thread.QueuedThreadPool;\r\nimport org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.io.IOException;\r\nimport java.util.zip.Deflater;\r\n\r\n@Configuration\r\npublic class GZipConfig {\r\n\r\n    @Bean\r\n    public JettyServletWebServerFactory jettyServletWebServerFactory() throws IOException {\r\n        JettyServletWebServerFactory factory = new JettyServletWebServerFactory();\r\n        factory.addServerCustomizers((Server server) -&gt; {\r\n            GzipHandler gzipHandler = new GzipHandler();\r\n            gzipHandler.setInflateBufferSize(1);\r\n            gzipHandler.setHandler(server.getHandler());\r\n            gzipHandler.setIncludedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;PUT&quot;);\r\n            gzipHandler.setCompressionLevel(Deflater.BEST_SPEED);\r\n\r\n            HandlerCollection handlerCollection = new HandlerCollection(gzipHandler);\r\n            server.setHandler(handlerCollection);\r\n        });\r\n\r\n        QueuedThreadPool threadPool = new QueuedThreadPool();\r\n        threadPool.setMinThreads(10);\r\n        threadPool.setMaxThreads(200);\r\n        threadPool.setIdleTimeout(600000);\r\n        factory.setThreadPool(threadPool);\r\n\r\n        return factory;\r\n    }\r\n\r\n}\r\n```\r\nVersions before jetty 9.x has GzipHandler.setCompressionLevel() method to set compression level. But it is not available since jetty 10.x.\r\n\r\nHow I set compression level in latest jettry server versions.","title":"GzipHandler.setCompressionLevel() method not available in latest release","body":"<p><strong>Jetty version : 11.0.15</strong></p>\n<p><strong>Java version : 17</strong></p>\n<p>I am trying to update my Spring boot project to 3.1.0. I need GZip compression for reduce response data size. For that I use spring-boot-starter-jetty instead of tomcat server. It download jettry version 11.0.15.</p>\n<p>GZip config file</p>\n<pre><code>import org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.server.handler.HandlerCollection;\nimport org.eclipse.jetty.server.handler.gzip.GzipHandler;\nimport org.eclipse.jetty.util.thread.QueuedThreadPool;\nimport org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.io.IOException;\nimport java.util.zip.Deflater;\n\n@Configuration\npublic class GZipConfig {\n\n    @Bean\n    public JettyServletWebServerFactory jettyServletWebServerFactory() throws IOException {\n        JettyServletWebServerFactory factory = new JettyServletWebServerFactory();\n        factory.addServerCustomizers((Server server) -&gt; {\n            GzipHandler gzipHandler = new GzipHandler();\n            gzipHandler.setInflateBufferSize(1);\n            gzipHandler.setHandler(server.getHandler());\n            gzipHandler.setIncludedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;PUT&quot;);\n            gzipHandler.setCompressionLevel(Deflater.BEST_SPEED);\n\n            HandlerCollection handlerCollection = new HandlerCollection(gzipHandler);\n            server.setHandler(handlerCollection);\n        });\n\n        QueuedThreadPool threadPool = new QueuedThreadPool();\n        threadPool.setMinThreads(10);\n        threadPool.setMaxThreads(200);\n        threadPool.setIdleTimeout(600000);\n        factory.setThreadPool(threadPool);\n\n        return factory;\n    }\n\n}\n</code></pre>\n<p>Versions before jetty 9.x has GzipHandler.setCompressionLevel() method to set compression level. But it is not available since jetty 10.x.</p>\n<p>How I set compression level in latest jettry server versions.</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687267329,"post_id":76513725,"comment_id":134910437,"body_markdown":"the crypto module was added in spring security 3.1 https://docs.spring.io/spring-security/site/docs/3.1.x/reference/springsecurity-single.html#crypto","body":"the crypto module was added in spring security 3.1 <a href=\"https://docs.spring.io/spring-security/site/docs/3.1.x/reference/springsecurity-single.html#crypto\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/3.1.x/reference/&hellip;</a>"}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687321975,"creation_date":1687256580,"question_id":76513725,"body_markdown":"can we use bcrypt algo with jdk 7 and spring security version 3.0 \r\nI couldn&#39;t find any method that can use brcypt.\r\n\r\nAlso, if someone can help me in this question as an alternate(https://stackoverflow.com/q/76439617/21858148)","title":"Brcypt algo pre-requisite","body":"<p>can we use bcrypt algo with jdk 7 and spring security version 3.0\nI couldn't find any method that can use brcypt.</p>\n<p>Also, if someone can help me in this question as an alternate(<a href=\"https://stackoverflow.com/q/76439617/21858148\">issues in migrating from md5 to bcypt</a>)</p>\n"},{"tags":["java","spring","spring-boot","design-patterns","autowired"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1687318825,"post_id":76519778,"comment_id":134918224,"body_markdown":"See [@ConditionalOnMissingBean](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnMissingBean.html). Also, prefer constructor injection.","body":"See <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnMissingBean.html\" rel=\"nofollow noreferrer\">@ConditionalOnMissingBean</a>. Also, prefer constructor injection."},{"owner":{"account_id":3390495,"reputation":12113,"user_id":2845414,"accept_rate":94,"display_name":"Sumeet Kumar Yadav"},"score":0,"creation_date":1687319041,"post_id":76519778,"comment_id":134918246,"body_markdown":"Could you share example. Should we write conditiononmissing bean on packaged jar ?","body":"Could you share example. Should we write conditiononmissing bean on packaged jar ?"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1687334245,"post_id":76519778,"comment_id":134920530,"body_markdown":"Just a suggestion consumer can override with there custom implementation &amp; use `@Primary` on there implementation for spring to use there custom implementation as primary bean to inject when autowiring, if no custom implementation then your bean should be injected automatically?","body":"Just a suggestion consumer can override with there custom implementation &amp; use <code>@Primary</code> on there implementation for spring to use there custom implementation as primary bean to inject when autowiring, if no custom implementation then your bean should be injected automatically?"}],"answers":[{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687321650,"creation_date":1687321650,"answer_id":76519940,"question_id":76519778,"body_markdown":"Use `@ConditionalOnMissingBean`. This would be how you would configure it in your library:\r\n\r\n    @Configuration\r\n    class Config {\r\n            \r\n      @Bean\r\n      @ConditionalOnMissingBean\r\n      public SomeInterface defaultSomeInterface() {\r\n        return SomeImplementation();\r\n      }\r\n    \r\n    }\r\n\r\nThen, your consumers can override it by just declaring their own definition of `SomeInterface`.\r\n\r\nIf I were consuming your library, then I would just do this without the `@ConditionalOnMissingBean` annotation:\r\n\r\n    @Configuration\r\n    class MyConfig {\r\n            \r\n      @Bean\r\n      public SomeInterface myImplementation() {\r\n        return MyImplementationOfSomeInterface();\r\n      }\r\n    \r\n    }\r\n\r\nNow, whenever Spring autowires `SomeInterface`, it will use `MyImplementationOfSomeInterface`.","title":"How to provide support for custom implementation in a Java library while offering a default implementation?","body":"<p>Use <code>@ConditionalOnMissingBean</code>. This would be how you would configure it in your library:</p>\n<pre><code>@Configuration\nclass Config {\n        \n  @Bean\n  @ConditionalOnMissingBean\n  public SomeInterface defaultSomeInterface() {\n    return SomeImplementation();\n  }\n\n}\n</code></pre>\n<p>Then, your consumers can override it by just declaring their own definition of <code>SomeInterface</code>.</p>\n<p>If I were consuming your library, then I would just do this without the <code>@ConditionalOnMissingBean</code> annotation:</p>\n<pre><code>@Configuration\nclass MyConfig {\n        \n  @Bean\n  public SomeInterface myImplementation() {\n    return MyImplementationOfSomeInterface();\n  }\n\n}\n</code></pre>\n<p>Now, whenever Spring autowires <code>SomeInterface</code>, it will use <code>MyImplementationOfSomeInterface</code>.</p>\n"}],"owner":{"account_id":3390495,"reputation":12113,"user_id":2845414,"accept_rate":94,"display_name":"Sumeet Kumar Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76519940,"answer_count":1,"score":0,"last_activity_date":1687321650,"creation_date":1687318466,"question_id":76519778,"body_markdown":"I&#39;m developing a Java-based library that includes a default implementation packaged within the JAR file. However, I also want to provide support for consumer applications to have their own custom implementation if needed.\r\n\r\nThe default implementation is known by class A, which is part of the library. The consumer application can write their own implementation using class B, as shown in the example below. In class B, there is a `setHandler` method that should override if the consumer application has its own implementation of E. If the consumer does not provide a custom implementation, the default implementation from class A should be used.\r\n\r\n**The packaged jar have default implementation A and used in class D**\r\n\r\n    class A implements E{\r\n    \t// Default implementation of E packed with jar\r\n    }\r\n\r\n    @Configuration\r\n    class D {\r\n    \t\r\n    \t@Autowired\r\n    \tE e;\r\n    \t\r\n    \tpublic void config( HttpConfig conf ){\r\n    \r\n    \t\tconf.setHandler(e);\r\n    \t}\r\n    \r\n    }\r\n\r\n**The consumer class can have own implementation B which can implements E**\r\n\r\n    class B implements E{\r\n    \t// Implementation which source repository can have\r\n    }\r\n\r\nHow can I design the library to allow the consumer application to easily provide their own implementation for the setHandler method, overriding the default implementation from class E if necessary?\r\n","title":"How to provide support for custom implementation in a Java library while offering a default implementation?","body":"<p>I'm developing a Java-based library that includes a default implementation packaged within the JAR file. However, I also want to provide support for consumer applications to have their own custom implementation if needed.</p>\n<p>The default implementation is known by class A, which is part of the library. The consumer application can write their own implementation using class B, as shown in the example below. In class B, there is a <code>setHandler</code> method that should override if the consumer application has its own implementation of E. If the consumer does not provide a custom implementation, the default implementation from class A should be used.</p>\n<p><strong>The packaged jar have default implementation A and used in class D</strong></p>\n<pre><code>class A implements E{\n    // Default implementation of E packed with jar\n}\n\n@Configuration\nclass D {\n    \n    @Autowired\n    E e;\n    \n    public void config( HttpConfig conf ){\n\n        conf.setHandler(e);\n    }\n\n}\n</code></pre>\n<p><strong>The consumer class can have own implementation B which can implements E</strong></p>\n<pre><code>class B implements E{\n    // Implementation which source repository can have\n}\n</code></pre>\n<p>How can I design the library to allow the consumer application to easily provide their own implementation for the setHandler method, overriding the default implementation from class E if necessary?</p>\n"},{"tags":["java","spring-boot","metrics","micrometer"],"comments":[{"owner":{"account_id":5636784,"reputation":580,"user_id":4462041,"display_name":"AVINASH SHRIMALI"},"score":0,"creation_date":1548334721,"post_id":51552889,"comment_id":95509739,"body_markdown":"Hi\nCan you please tell me how you have written custom metrics for micrometer?","body":"Hi Can you please tell me how you have written custom metrics for micrometer?"}],"answers":[{"tags":[],"owner":{"account_id":1317509,"reputation":5663,"user_id":1264058,"accept_rate":50,"display_name":"Johnny Lim"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1616586050,"creation_date":1532694891,"answer_id":51558048,"question_id":51552889,"body_markdown":"If you are looking for common tags support, you can do it by registering a `MeterFilter` doing it.\r\n\r\nSee [this commit][1] or [this branch][2] for an example.\r\n\r\nWith [the upcoming Spring Boot 2.1.0.M1][3], you can use the following properties:\r\n\r\n    management.metrics.tags.*= # Common tags that are applied to every meter.\r\n\r\nSee [the reference][4] for details.\r\n\r\n&lt;br/&gt;\r\nUPDATED:\r\n\r\nAs the question has been updated, I checked the updated question with this `MeterFilter`-based approach and confirmed it&#39;s working as follows:\r\n\r\nRequest: `http://localhost:8080/actuator/metrics/jvm.gc.memory.allocated`\r\n\r\nResponse:\r\n\r\n    {\r\n      &quot;name&quot; : &quot;jvm.gc.memory.allocated&quot;,\r\n      &quot;measurements&quot; : [ {\r\n        &quot;statistic&quot; : &quot;COUNT&quot;,\r\n        &quot;value&quot; : 1.98180864E8\r\n      } ],\r\n      &quot;availableTags&quot; : [ {\r\n        &quot;tag&quot; : &quot;stack&quot;,\r\n        &quot;values&quot; : [ &quot;prod&quot; ]\r\n      }, {\r\n        &quot;tag&quot; : &quot;region&quot;,\r\n        &quot;values&quot; : [ &quot;us-east-1&quot; ]\r\n      } ]\r\n    }\r\n\r\nI didn&#39;t check the approach which has been provided in the updated question but I&#39;d just use the proven `MeterFilter`-based approach unless there&#39;s any reason to stick with the approach.\r\n\r\n&lt;br/&gt;\r\n2nd UPDATED:\r\n\r\nI looked into the approach and was able to reproduce it with [this branch][5].\r\n\r\nIt&#39;s too late to apply common tags in `@PostConstruct` as some metrics have been registered already. The reason why `http.server.requests` works is that it will be registered with the first request. Try to put a breakpoint on [the point of filters&#39; application][6] if you&#39;re interested in it.\r\n\r\nIn short, try the above approach which is similar to the upcoming Spring Boot out-of-box support.\r\n\r\n  [1]: https://github.com/izeye/sample-micrometer-spring-boot/commit/52e015a7f1507f167a290410b1d4e572f4e028c6\r\n  [2]: https://github.com/izeye/sample-micrometer-spring-boot/tree/common-tags\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/12933\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-metrics-custom\r\n  [5]: https://github.com/izeye/sample-micrometer-spring-boot/tree/so-51552889\r\n  [6]: https://github.com/micrometer-metrics/micrometer/blob/master/micrometer-core/src/main/java/io/micrometer/core/instrument/MeterRegistry.java#L525","title":"How to define additional or custom tags for default Spring Boot 2 metrics?","body":"<p>If you are looking for common tags support, you can do it by registering a <code>MeterFilter</code> doing it.</p>\n<p>See <a href=\"https://github.com/izeye/sample-micrometer-spring-boot/commit/52e015a7f1507f167a290410b1d4e572f4e028c6\" rel=\"noreferrer\">this commit</a> or <a href=\"https://github.com/izeye/sample-micrometer-spring-boot/tree/common-tags\" rel=\"noreferrer\">this branch</a> for an example.</p>\n<p>With <a href=\"https://github.com/spring-projects/spring-boot/issues/12933\" rel=\"noreferrer\">the upcoming Spring Boot 2.1.0.M1</a>, you can use the following properties:</p>\n<pre><code>management.metrics.tags.*= # Common tags that are applied to every meter.\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-metrics-custom\" rel=\"noreferrer\">the reference</a> for details.</p>\n<br/>\nUPDATED:\n<p>As the question has been updated, I checked the updated question with this <code>MeterFilter</code>-based approach and confirmed it's working as follows:</p>\n<p>Request: <code>http://localhost:8080/actuator/metrics/jvm.gc.memory.allocated</code></p>\n<p>Response:</p>\n<pre><code>{\n  &quot;name&quot; : &quot;jvm.gc.memory.allocated&quot;,\n  &quot;measurements&quot; : [ {\n    &quot;statistic&quot; : &quot;COUNT&quot;,\n    &quot;value&quot; : 1.98180864E8\n  } ],\n  &quot;availableTags&quot; : [ {\n    &quot;tag&quot; : &quot;stack&quot;,\n    &quot;values&quot; : [ &quot;prod&quot; ]\n  }, {\n    &quot;tag&quot; : &quot;region&quot;,\n    &quot;values&quot; : [ &quot;us-east-1&quot; ]\n  } ]\n}\n</code></pre>\n<p>I didn't check the approach which has been provided in the updated question but I'd just use the proven <code>MeterFilter</code>-based approach unless there's any reason to stick with the approach.</p>\n<br/>\n2nd UPDATED:\n<p>I looked into the approach and was able to reproduce it with <a href=\"https://github.com/izeye/sample-micrometer-spring-boot/tree/so-51552889\" rel=\"noreferrer\">this branch</a>.</p>\n<p>It's too late to apply common tags in <code>@PostConstruct</code> as some metrics have been registered already. The reason why <code>http.server.requests</code> works is that it will be registered with the first request. Try to put a breakpoint on <a href=\"https://github.com/micrometer-metrics/micrometer/blob/master/micrometer-core/src/main/java/io/micrometer/core/instrument/MeterRegistry.java#L525\" rel=\"noreferrer\">the point of filters' application</a> if you're interested in it.</p>\n<p>In short, try the above approach which is similar to the upcoming Spring Boot out-of-box support.</p>\n"},{"tags":[],"owner":{"account_id":4024867,"reputation":875,"user_id":3313614,"accept_rate":50,"display_name":"stepio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548610878,"creation_date":1548610878,"answer_id":54391014,"question_id":51552889,"body_markdown":"In response to comment under my original question, here is a small example of adding custom metrics:\r\n\r\n```java\r\npackage io.github.stepio.examples.metrics;\r\n\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\nimport io.micrometer.core.instrument.Tag;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\n@Component\r\npublic class MyImportantComponent {\r\n\r\n    protected static final String CONNECTIONS_CURRENT = &quot;connections.created&quot;;\r\n    protected static final String CONNECTIONS_IDLE = &quot;connections.idle&quot;;\r\n    protected static final String CONNECTIONS_MAX = &quot;connections.max&quot;;\r\n\r\n    protected static final String PREFIX_REQUESTS_FOR_SERVICE = &quot;requests&quot;;\r\n\r\n    protected static final String SERVICE = &quot;service&quot;;\r\n\r\n    protected AtomicInteger connectionMax = new AtomicInteger();\r\n\r\n    @Autowired\r\n    protected MeterRegistry meterRegistry;\r\n\r\n    @Override\r\n    public List&lt;Tag&gt; tags() {\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public void trackConnectorsCurrent(AtomicInteger counter) {\r\n        this.meterRegistry.gauge(CONNECTIONS_CURRENT, tags(), counter);\r\n    }\r\n\r\n    @Override\r\n    public void trackConnectorsIdle(Collection&lt;?&gt; collection) {\r\n        this.meterRegistry.gaugeCollectionSize(CONNECTIONS_IDLE, tags(), collection);\r\n    }\r\n\r\n    @Override\r\n    public void submitConnectorsMax(final int value) {\r\n        this.meterRegistry.gauge(CONNECTIONS_MAX, tags(), this.connectionMax).set(value);\r\n    }\r\n\r\n    @Override\r\n    public void incrementRequestsForService(String serviceName) {\r\n        this.meterRegistry.counter(PREFIX_REQUESTS_FOR_SERVICE, tags(SERVICE, serviceName)).increment();\r\n    }\r\n\r\n}\r\n```","title":"How to define additional or custom tags for default Spring Boot 2 metrics?","body":"<p>In response to comment under my original question, here is a small example of adding custom metrics:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.github.stepio.examples.metrics;\n\nimport io.micrometer.core.instrument.MeterRegistry;\nimport io.micrometer.core.instrument.Tag;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.concurrent.atomic.AtomicInteger;\n\n@Component\npublic class MyImportantComponent {\n\n    protected static final String CONNECTIONS_CURRENT = \"connections.created\";\n    protected static final String CONNECTIONS_IDLE = \"connections.idle\";\n    protected static final String CONNECTIONS_MAX = \"connections.max\";\n\n    protected static final String PREFIX_REQUESTS_FOR_SERVICE = \"requests\";\n\n    protected static final String SERVICE = \"service\";\n\n    protected AtomicInteger connectionMax = new AtomicInteger();\n\n    @Autowired\n    protected MeterRegistry meterRegistry;\n\n    @Override\n    public List&lt;Tag&gt; tags() {\n        return new ArrayList&lt;&gt;();\n    }\n\n    @Override\n    public void trackConnectorsCurrent(AtomicInteger counter) {\n        this.meterRegistry.gauge(CONNECTIONS_CURRENT, tags(), counter);\n    }\n\n    @Override\n    public void trackConnectorsIdle(Collection&lt;?&gt; collection) {\n        this.meterRegistry.gaugeCollectionSize(CONNECTIONS_IDLE, tags(), collection);\n    }\n\n    @Override\n    public void submitConnectorsMax(final int value) {\n        this.meterRegistry.gauge(CONNECTIONS_MAX, tags(), this.connectionMax).set(value);\n    }\n\n    @Override\n    public void incrementRequestsForService(String serviceName) {\n        this.meterRegistry.counter(PREFIX_REQUESTS_FOR_SERVICE, tags(SERVICE, serviceName)).increment();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15702595,"reputation":21,"user_id":11330321,"display_name":"ilya polyanskiy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669266872,"creation_date":1588940363,"answer_id":61679022,"question_id":51552889,"body_markdown":"If you use `spring-boot-actuator` and you need to add dynamical tags to default metrics \r\nsimply define a `WebMvcTagsProvider` bean:\r\n\r\n```java\r\n/**\r\n * Default implementation of WebMvcTagsProvider.&lt;br&gt;\r\n * @author Jon Schneider&lt;br&gt;\r\n * @since 2.0.0\r\n */\r\npublic class DefaultWebMvcTagsProvider implements WebMvcTagsProvider {\r\n\r\n\t@Override\r\n\tpublic Iterable&lt;Tag&gt; getTags(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n\t\t\tThrowable exception) {\r\n\t\treturn Tags.of(WebMvcTags.method(request), WebMvcTags.uri(request, response), WebMvcTags.exception(exception),\r\n\t\t\t\tWebMvcTags.status(response), WebMvcTags.outcome(response));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Iterable&lt;Tag&gt; getLongRequestTags(HttpServletRequest request, Object handler) {\r\n\t\treturn Tags.of(WebMvcTags.method(request), WebMvcTags.uri(request, null));\r\n\t}\r\n\r\n}\r\n```\r\n","title":"How to define additional or custom tags for default Spring Boot 2 metrics?","body":"<p>If you use <code>spring-boot-actuator</code> and you need to add dynamical tags to default metrics\nsimply define a <code>WebMvcTagsProvider</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Default implementation of WebMvcTagsProvider.&lt;br&gt;\n * @author Jon Schneider&lt;br&gt;\n * @since 2.0.0\n */\npublic class DefaultWebMvcTagsProvider implements WebMvcTagsProvider {\n\n    @Override\n    public Iterable&lt;Tag&gt; getTags(HttpServletRequest request, HttpServletResponse response, Object handler,\n            Throwable exception) {\n        return Tags.of(WebMvcTags.method(request), WebMvcTags.uri(request, response), WebMvcTags.exception(exception),\n                WebMvcTags.status(response), WebMvcTags.outcome(response));\n    }\n\n    @Override\n    public Iterable&lt;Tag&gt; getLongRequestTags(HttpServletRequest request, Object handler) {\n        return Tags.of(WebMvcTags.method(request), WebMvcTags.uri(request, null));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1687321522,"creation_date":1616587573,"answer_id":66780666,"question_id":51552889,"body_markdown":"**For Server:**  \r\n(i.e. `@RestController`)  \r\nTo add custom metrics tags for reactive-spring-boot application, in addition to default tags provided by the spring-boot framework.  \r\n\r\nProvide one or more `@Beans` that implement `WebFluxTagsContributor`  \r\n  OR  \r\n  To replace the default tags, provide a `@Bean` that `implements WebFluxTagsProvider`.  \r\n[Reference implementation][1] which uses `Spring-WebMVC` as one of the answers.     \r\n[Ref:][2]  \r\n\r\n  Following implementation is in groovy.\r\n\r\n```groovy\r\nimport io.micrometer.core.instrument.Tag\r\nimport org.springframework.boot.actuate.metrics.web.reactive.server.WebFluxTagsContributor\r\nimport org.springframework.http.HttpMethod\r\nimport org.springframework.http.HttpStatus\r\nimport org.springframework.stereotype.Component\r\nimport org.springframework.web.server.ServerWebExchange\r\n\r\n@Component\r\nclass CustomWebClientExchangeTagsProvider implements WebFluxTagsContributor {\r\n\r\n    final KEY = &quot;key&quot;\r\n\r\n    /**\r\n     * Provides tags to be associated with metrics for the given {@code exchange}.\r\n     * @param exchange the exchange\r\n     * @param ex the current exception (maybe {@code null})\r\n     * @return tags to associate with metrics for the request and response exchange\r\n     */\r\n    @Override\r\n    Iterable&lt;Tag&gt; httpRequestTags(ServerWebExchange exchange, Throwable ex) {\r\n        String apiKey = exchange.request.queryParams[KEY] ?: &quot;default_api_key&quot;\r\n        HttpStatus status = exchange.response.statusCode ?: HttpStatus.INTERNAL_SERVER_ERROR\r\n        HttpMethod method = exchange.request.method ?: HttpMethod.OPTIONS\r\n        String group = (status.value() &gt;= 500 ? &quot;5XX&quot; : (status.value() &gt;= 400) ? &quot;4XX&quot; : (status.value() &gt;= 300) ? &quot;3XX&quot; : &quot;NONE&quot;)\r\n\r\n        Tag statusTag = Tag.of(&quot;status&quot;, status.value().toString())\r\n        Tag methodTag = Tag.of(&quot;method&quot;, method.toString())\r\n        Tag apiKeyTag = Tag.of(KEY, apiKey)\r\n        Tag groupTag = Tag.of(&quot;group&quot;, group)\r\n\r\n        return Arrays.asList(statusTag, methodTag, apiKeyTag, groupTag)\r\n    }\r\n}\r\n\r\n```\r\n**Metrics tags:**    \r\n\r\n- Verify for client: metric `http.client.requests.percentile` or `http.client.requests`.   \r\n```bash\r\nhttp://localhost:8010/metrics/http.client.requests\r\n```\r\n\r\n\r\n- Verify for server:   \r\n```bash\r\nhttp://localhost:8010/metrics/http.server.requests\r\n```\r\n\r\nsimilarly, tags will be added for `http.server.requests.percentile` metrics  \r\n\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;http.server.requests&quot;,\r\n    &quot;description&quot;: null,\r\n    &quot;base_unit&quot;: &quot;milliseconds&quot;,\r\n    &quot;measurements&quot;: [\r\n        {\r\n            &quot;statistic&quot;: &quot;COUNT&quot;,\r\n            &quot;value&quot;: 17.0\r\n        },\r\n        {\r\n            &quot;statistic&quot;: &quot;TOTAL_TIME&quot;,\r\n            &quot;value&quot;: 8832.186054\r\n        },\r\n        {\r\n            &quot;statistic&quot;: &quot;MAX&quot;,\r\n            &quot;value&quot;: 6.514132\r\n        }\r\n    ],\r\n    &quot;available_tags&quot;: [\r\n        {\r\n            &quot;tag&quot;: &quot;exception&quot;,\r\n            &quot;values&quot;: [\r\n                &quot;None&quot;,\r\n                &quot;ResponseStatusException&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;tag&quot;: &quot;method&quot;,\r\n            &quot;values&quot;: [\r\n                &quot;GET&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;tag&quot;: &quot;application&quot;,\r\n            &quot;values&quot;: [\r\n                &quot;myapplication&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;tag&quot;: &quot;uri&quot;,\r\n            &quot;values&quot;: [\r\n                &quot;/myapplication/v1/abcd&quot;,\r\n                &quot;/manage/metrics/{requiredMetricName}&quot;,\r\n                &quot;/manage&quot;,\r\n                &quot;/manage/metrics&quot;,\r\n                &quot;/myapplication/v1/windows&quot;,\r\n                &quot;/**&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;tag&quot;: &quot;outcome&quot;,\r\n            &quot;values&quot;: [\r\n                &quot;CLIENT_ERROR&quot;,\r\n                &quot;SERVER_ERROR&quot;,\r\n                &quot;SUCCESS&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;tag&quot;: &quot;key&quot;,\r\n            &quot;values&quot;: [\r\n                &quot;default_api_key&quot;,\r\n                &quot;[abcd]&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;tag&quot;: &quot;status&quot;,\r\n            &quot;values&quot;: [\r\n                &quot;404&quot;,\r\n                &quot;200&quot;,\r\n                &quot;502&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;tag&quot;: &quot;group&quot;,\r\n            &quot;values&quot;: [\r\n                &quot;4XX&quot;,\r\n                &quot;NONE&quot;,\r\n                &quot;5XX&quot;\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nOR \r\n\r\nIf you are using `prometheus`  \r\nyou can verify custom tags as follows  \r\n```bash\r\nhttp://localhost:8010/prometheus\r\n```\r\n\r\n**Client:**   \r\n```\r\nhttp_client_requests_seconds_count{application=&quot;myapplication&quot;,clientName=&quot;myhostname.com&quot;,method=&quot;POST&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;403&quot;,uri=&quot;/urlIamTryingToHit/v1/list&quot;,} 1.0\r\n```\r\nClient has only default tags provided by spring-boot and no custom tags.  \r\n\r\n\r\n**Server:**\r\n```\r\nhttp_server_requests_seconds_sum{application=&quot;myapplication&quot;,exception=&quot;None&quot;,group=&quot;4XX&quot;,key=&quot;default_api_key&quot;,method=&quot;GET&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;404&quot;,uri=&quot;/manage/metrics/{requiredMetricName}&quot;,} 0.004154207\r\n```\r\nWe can observe `group=&quot;4XX&quot;`, `key=&quot;default_api_key&quot;`, `method=&quot;GET&quot;`, `status=&quot;404&quot;` along with existing default tags.   \r\n \r\n------\r\n\r\n**For Client:**   \r\nTo customise the tags, and depending on your choice of client, you can provide a `@Bean` that `implements RestTemplateExchangeTagsProvider` or  `WebClientExchangeTagsProvider`.   \r\nThere are convenience static functions in `RestTemplateExchangeTags` and `WebClientExchangeTags`.   \r\n[Ref:][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61679022/2987755\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#actuator.metrics.supported.spring-webflux\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#actuator.metrics.supported.http-clients","title":"How to define additional or custom tags for default Spring Boot 2 metrics?","body":"<p><strong>For Server:</strong><br />\n(i.e. <code>@RestController</code>)<br />\nTo add custom metrics tags for reactive-spring-boot application, in addition to default tags provided by the spring-boot framework.</p>\n<p>Provide one or more <code>@Beans</code> that implement <code>WebFluxTagsContributor</code><br />\nOR<br />\nTo replace the default tags, provide a <code>@Bean</code> that <code>implements WebFluxTagsProvider</code>.<br />\n<a href=\"https://stackoverflow.com/a/61679022/2987755\">Reference implementation</a> which uses <code>Spring-WebMVC</code> as one of the answers.<br />\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#actuator.metrics.supported.spring-webflux\" rel=\"nofollow noreferrer\">Ref:</a></p>\n<p>Following implementation is in groovy.</p>\n<pre><code>import io.micrometer.core.instrument.Tag\nimport org.springframework.boot.actuate.metrics.web.reactive.server.WebFluxTagsContributor\nimport org.springframework.http.HttpMethod\nimport org.springframework.http.HttpStatus\nimport org.springframework.stereotype.Component\nimport org.springframework.web.server.ServerWebExchange\n\n@Component\nclass CustomWebClientExchangeTagsProvider implements WebFluxTagsContributor {\n\n    final KEY = &quot;key&quot;\n\n    /**\n     * Provides tags to be associated with metrics for the given {@code exchange}.\n     * @param exchange the exchange\n     * @param ex the current exception (maybe {@code null})\n     * @return tags to associate with metrics for the request and response exchange\n     */\n    @Override\n    Iterable&lt;Tag&gt; httpRequestTags(ServerWebExchange exchange, Throwable ex) {\n        String apiKey = exchange.request.queryParams[KEY] ?: &quot;default_api_key&quot;\n        HttpStatus status = exchange.response.statusCode ?: HttpStatus.INTERNAL_SERVER_ERROR\n        HttpMethod method = exchange.request.method ?: HttpMethod.OPTIONS\n        String group = (status.value() &gt;= 500 ? &quot;5XX&quot; : (status.value() &gt;= 400) ? &quot;4XX&quot; : (status.value() &gt;= 300) ? &quot;3XX&quot; : &quot;NONE&quot;)\n\n        Tag statusTag = Tag.of(&quot;status&quot;, status.value().toString())\n        Tag methodTag = Tag.of(&quot;method&quot;, method.toString())\n        Tag apiKeyTag = Tag.of(KEY, apiKey)\n        Tag groupTag = Tag.of(&quot;group&quot;, group)\n\n        return Arrays.asList(statusTag, methodTag, apiKeyTag, groupTag)\n    }\n}\n\n</code></pre>\n<p><strong>Metrics tags:</strong></p>\n<ul>\n<li>Verify for client: metric <code>http.client.requests.percentile</code> or <code>http.client.requests</code>.</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>http://localhost:8010/metrics/http.client.requests\n</code></pre>\n<ul>\n<li>Verify for server:</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>http://localhost:8010/metrics/http.server.requests\n</code></pre>\n<p>similarly, tags will be added for <code>http.server.requests.percentile</code> metrics</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;http.server.requests&quot;,\n    &quot;description&quot;: null,\n    &quot;base_unit&quot;: &quot;milliseconds&quot;,\n    &quot;measurements&quot;: [\n        {\n            &quot;statistic&quot;: &quot;COUNT&quot;,\n            &quot;value&quot;: 17.0\n        },\n        {\n            &quot;statistic&quot;: &quot;TOTAL_TIME&quot;,\n            &quot;value&quot;: 8832.186054\n        },\n        {\n            &quot;statistic&quot;: &quot;MAX&quot;,\n            &quot;value&quot;: 6.514132\n        }\n    ],\n    &quot;available_tags&quot;: [\n        {\n            &quot;tag&quot;: &quot;exception&quot;,\n            &quot;values&quot;: [\n                &quot;None&quot;,\n                &quot;ResponseStatusException&quot;\n            ]\n        },\n        {\n            &quot;tag&quot;: &quot;method&quot;,\n            &quot;values&quot;: [\n                &quot;GET&quot;\n            ]\n        },\n        {\n            &quot;tag&quot;: &quot;application&quot;,\n            &quot;values&quot;: [\n                &quot;myapplication&quot;\n            ]\n        },\n        {\n            &quot;tag&quot;: &quot;uri&quot;,\n            &quot;values&quot;: [\n                &quot;/myapplication/v1/abcd&quot;,\n                &quot;/manage/metrics/{requiredMetricName}&quot;,\n                &quot;/manage&quot;,\n                &quot;/manage/metrics&quot;,\n                &quot;/myapplication/v1/windows&quot;,\n                &quot;/**&quot;\n            ]\n        },\n        {\n            &quot;tag&quot;: &quot;outcome&quot;,\n            &quot;values&quot;: [\n                &quot;CLIENT_ERROR&quot;,\n                &quot;SERVER_ERROR&quot;,\n                &quot;SUCCESS&quot;\n            ]\n        },\n        {\n            &quot;tag&quot;: &quot;key&quot;,\n            &quot;values&quot;: [\n                &quot;default_api_key&quot;,\n                &quot;[abcd]&quot;\n            ]\n        },\n        {\n            &quot;tag&quot;: &quot;status&quot;,\n            &quot;values&quot;: [\n                &quot;404&quot;,\n                &quot;200&quot;,\n                &quot;502&quot;\n            ]\n        },\n        {\n            &quot;tag&quot;: &quot;group&quot;,\n            &quot;values&quot;: [\n                &quot;4XX&quot;,\n                &quot;NONE&quot;,\n                &quot;5XX&quot;\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>OR</p>\n<p>If you are using <code>prometheus</code><br />\nyou can verify custom tags as follows</p>\n<pre class=\"lang-bash prettyprint-override\"><code>http://localhost:8010/prometheus\n</code></pre>\n<p><strong>Client:</strong></p>\n<pre><code>http_client_requests_seconds_count{application=&quot;myapplication&quot;,clientName=&quot;myhostname.com&quot;,method=&quot;POST&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;403&quot;,uri=&quot;/urlIamTryingToHit/v1/list&quot;,} 1.0\n</code></pre>\n<p>Client has only default tags provided by spring-boot and no custom tags.</p>\n<p><strong>Server:</strong></p>\n<pre><code>http_server_requests_seconds_sum{application=&quot;myapplication&quot;,exception=&quot;None&quot;,group=&quot;4XX&quot;,key=&quot;default_api_key&quot;,method=&quot;GET&quot;,outcome=&quot;CLIENT_ERROR&quot;,status=&quot;404&quot;,uri=&quot;/manage/metrics/{requiredMetricName}&quot;,} 0.004154207\n</code></pre>\n<p>We can observe <code>group=&quot;4XX&quot;</code>, <code>key=&quot;default_api_key&quot;</code>, <code>method=&quot;GET&quot;</code>, <code>status=&quot;404&quot;</code> along with existing default tags.</p>\n<hr />\n<p><strong>For Client:</strong><br />\nTo customise the tags, and depending on your choice of client, you can provide a <code>@Bean</code> that <code>implements RestTemplateExchangeTagsProvider</code> or  <code>WebClientExchangeTagsProvider</code>.<br />\nThere are convenience static functions in <code>RestTemplateExchangeTags</code> and <code>WebClientExchangeTags</code>.<br />\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#actuator.metrics.supported.http-clients\" rel=\"nofollow noreferrer\">Ref:</a></p>\n"}],"owner":{"account_id":4024867,"reputation":875,"user_id":3313614,"accept_rate":50,"display_name":"stepio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25946,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":51558048,"answer_count":4,"score":11,"last_activity_date":1687321522,"creation_date":1532676421,"question_id":51552889,"body_markdown":"Recently I switched to `Spring Boot 2` with `Micrometer`. As I got these shiny new metrics, I talked with our DevOps guys and we started exporting them to `Telegraf`.\r\n\r\nTo distinguish between different applications and application nodes, we decided to use tags. This works perfectly for custom metrics, but now I started thinking about the pre-defined. To achieve the same for default metrics, I need the ability to add extra tags for them as well.\r\n\r\nIs it possible to achieve this? Am I doing this right?\r\n\r\n**EDIT:** I tried next approach:\r\n\r\n    @Component\r\n    public class MyMetricsImpl implements MyMetrics {\r\n\r\n        @Autowired\r\n        protected MyProperties myProperties;\r\n        @Autowired\r\n        protected MeterRegistry meterRegistry;\r\n\r\n        @PostConstruct\r\n        public void initialize() {\r\n            this.meterRegistry.config()\r\n                    .commonTags(commonTags());\r\n        }\r\n\r\n        @Override\r\n        public List&lt;Tag&gt; commonTags() {\r\n            List&lt;Tag&gt; tags = new ArrayList&lt;&gt;();\r\n            tags.add(Tag.of(&quot;application&quot;, myProperties.getApplicationName()));\r\n            tags.add(Tag.of(&quot;node&quot;, myProperties.getNodeName()));\r\n            return tags;\r\n        }\r\n    }\r\n\r\nThe problem is that my metrics behave correctly and even some of the Boot&#39;s metrics (at least `http.server.requests`) see my tags. But `jvm.*`, `system.*`, `tomcat.*` and many others still don&#39;t have the needed tags.","title":"How to define additional or custom tags for default Spring Boot 2 metrics?","body":"<p>Recently I switched to <code>Spring Boot 2</code> with <code>Micrometer</code>. As I got these shiny new metrics, I talked with our DevOps guys and we started exporting them to <code>Telegraf</code>.</p>\n<p>To distinguish between different applications and application nodes, we decided to use tags. This works perfectly for custom metrics, but now I started thinking about the pre-defined. To achieve the same for default metrics, I need the ability to add extra tags for them as well.</p>\n<p>Is it possible to achieve this? Am I doing this right?</p>\n<p><strong>EDIT:</strong> I tried next approach:</p>\n<pre><code>@Component\npublic class MyMetricsImpl implements MyMetrics {\n\n    @Autowired\n    protected MyProperties myProperties;\n    @Autowired\n    protected MeterRegistry meterRegistry;\n\n    @PostConstruct\n    public void initialize() {\n        this.meterRegistry.config()\n                .commonTags(commonTags());\n    }\n\n    @Override\n    public List&lt;Tag&gt; commonTags() {\n        List&lt;Tag&gt; tags = new ArrayList&lt;&gt;();\n        tags.add(Tag.of(&quot;application&quot;, myProperties.getApplicationName()));\n        tags.add(Tag.of(&quot;node&quot;, myProperties.getNodeName()));\n        return tags;\n    }\n}\n</code></pre>\n<p>The problem is that my metrics behave correctly and even some of the Boot's metrics (at least <code>http.server.requests</code>) see my tags. But <code>jvm.*</code>, <code>system.*</code>, <code>tomcat.*</code> and many others still don't have the needed tags.</p>\n"},{"tags":["java","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":16424028,"reputation":91,"user_id":11864540,"display_name":"Ajay Lamba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687277684,"creation_date":1687277684,"answer_id":76516627,"question_id":76516576,"body_markdown":"It seems that your classpath is not having the jar for `opentest4j` and hence the class `AssertionFailedError` is not found at runtime.\r\nMaybe you can share the project structure including the `.classpath` file and `pom.xml` if it is maven project.","title":"java.lang.NoClassDefFoundError: org/opentest4j/AssertionFailedError","body":"<p>It seems that your classpath is not having the jar for <code>opentest4j</code> and hence the class <code>AssertionFailedError</code> is not found at runtime.\nMaybe you can share the project structure including the <code>.classpath</code> file and <code>pom.xml</code> if it is maven project.</p>\n"}],"owner":{"account_id":24991345,"reputation":29,"user_id":18852495,"display_name":"Nguyen Minh Duc FGW HN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76516627,"answer_count":1,"score":0,"last_activity_date":1687321040,"creation_date":1687277210,"question_id":76516576,"body_markdown":"Here is my function that I want to test:\r\n\r\n    @Override\r\n    public List&lt;User&gt; displayByDate(List&lt;User&gt; listUser) {\r\n        if(listUser != null){\r\n            Collections.sort(listUser, (User o1, User o2) -&gt; o2.getUserDate().compareTo(o1.getUserDate()));\r\n        }\r\n        return listUser;\r\n    }\r\n\r\nHere is the test case\r\n\r\n    public class UserImpTest {\r\n    \r\n    UserImp userImp = new UserImp();\r\n    \r\n    public UserImpTest() {\r\n    }\r\n\r\n    @Test\r\n    public void testDisplayByDate() {\r\n        // Create sample user objects\r\n        User user1 = new User(1, &quot;John&quot;, new Date(122, 0, 15)); // January 15, 2022\r\n        User user2 = new User(2, &quot;Alice&quot;, new Date(123, 1, 10)); // February 10, 2023\r\n        User user3 = new User(3, &quot;Bob&quot;, new Date(121, 11, 1)); // December 1, 2021\r\n\r\n        // Create a list of users in unsorted order\r\n        List&lt;User&gt; userList = new ArrayList&lt;&gt;();\r\n        userList.add(user1);\r\n        userList.add(user2);\r\n        userList.add(user3);\r\n\r\n        // Create expected sorted list\r\n        List&lt;User&gt; expectedList = new ArrayList&lt;&gt;();\r\n        expectedList.add(user2); // Alice (latest date)\r\n        expectedList.add(user1); // John\r\n        expectedList.add(user3); // Bob (oldest date)\r\n\r\n        // Call the displayByDate function\r\n        List&lt;User&gt; sortedList = userImp.displayByDate(userList);\r\n\r\n        // Assert the sorted list matches the expected list\r\n        Assertions.assertEquals(expectedList, sortedList);\r\n    }\r\n}\r\n\r\nHere my .classpart file for my project\r\n[![enter image description here][1]][1]\r\n\r\nI have tried to test several times but it still shows up an error java.lang.NoClassDefFoundError: org/opentest4j/AssertionFailedError\r\n\r\nDoes anyone know how to fix this?? (I am using NetBeans JDK 17)\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vDThI.png","title":"java.lang.NoClassDefFoundError: org/opentest4j/AssertionFailedError","body":"<p>Here is my function that I want to test:</p>\n<pre><code>@Override\npublic List&lt;User&gt; displayByDate(List&lt;User&gt; listUser) {\n    if(listUser != null){\n        Collections.sort(listUser, (User o1, User o2) -&gt; o2.getUserDate().compareTo(o1.getUserDate()));\n    }\n    return listUser;\n}\n</code></pre>\n<p>Here is the test case</p>\n<pre><code>public class UserImpTest {\n\nUserImp userImp = new UserImp();\n\npublic UserImpTest() {\n}\n\n@Test\npublic void testDisplayByDate() {\n    // Create sample user objects\n    User user1 = new User(1, &quot;John&quot;, new Date(122, 0, 15)); // January 15, 2022\n    User user2 = new User(2, &quot;Alice&quot;, new Date(123, 1, 10)); // February 10, 2023\n    User user3 = new User(3, &quot;Bob&quot;, new Date(121, 11, 1)); // December 1, 2021\n\n    // Create a list of users in unsorted order\n    List&lt;User&gt; userList = new ArrayList&lt;&gt;();\n    userList.add(user1);\n    userList.add(user2);\n    userList.add(user3);\n\n    // Create expected sorted list\n    List&lt;User&gt; expectedList = new ArrayList&lt;&gt;();\n    expectedList.add(user2); // Alice (latest date)\n    expectedList.add(user1); // John\n    expectedList.add(user3); // Bob (oldest date)\n\n    // Call the displayByDate function\n    List&lt;User&gt; sortedList = userImp.displayByDate(userList);\n\n    // Assert the sorted list matches the expected list\n    Assertions.assertEquals(expectedList, sortedList);\n}\n</code></pre>\n<p>}</p>\n<p>Here my .classpart file for my project\n<a href=\"https://i.stack.imgur.com/vDThI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vDThI.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried to test several times but it still shows up an error java.lang.NoClassDefFoundError: org/opentest4j/AssertionFailedError</p>\n<p>Does anyone know how to fix this?? (I am using NetBeans JDK 17)</p>\n"},{"tags":["java","talend","talend-mdm"],"owner":{"account_id":28813234,"reputation":1,"user_id":22067474,"display_name":"Rajan Bhat - guitarsandmuscles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687320686,"creation_date":1686667084,"question_id":76466074,"body_markdown":"In Talend, I am supposed to remove a particular XML tag from the output when it has a blank value. But the issue is that the source is a .txt file so i am not using an XML tree in the input to work on tags individually.\r\n \r\nDesign is: `tFileInputDelimited` as the input component (then `tMap` for transformation) and then `tAdvancedXMLOutput` for generating the xml.\r\n\r\nI can’t find the option to remove that specific tag anywhere.\r\n\r\nAny suggestions on how to do it?\r\n\r\nI tried removing it in `tMap` but it removes the whole tag from the xml even when it doesn’t have a blank value. Or it creates a blank tag if I use the same in if-else","title":"Talend: How to remove a specific XML tag from output when the source file is a .txt file instead of xml","body":"<p>In Talend, I am supposed to remove a particular XML tag from the output when it has a blank value. But the issue is that the source is a .txt file so i am not using an XML tree in the input to work on tags individually.</p>\n<p>Design is: <code>tFileInputDelimited</code> as the input component (then <code>tMap</code> for transformation) and then <code>tAdvancedXMLOutput</code> for generating the xml.</p>\n<p>I can’t find the option to remove that specific tag anywhere.</p>\n<p>Any suggestions on how to do it?</p>\n<p>I tried removing it in <code>tMap</code> but it removes the whole tag from the xml even when it doesn’t have a blank value. Or it creates a blank tag if I use the same in if-else</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-boot-starter"],"comments":[{"owner":{"account_id":16373113,"reputation":352,"user_id":11825939,"display_name":"Mustafa Khalil"},"score":0,"creation_date":1687242792,"post_id":76511844,"comment_id":134905099,"body_markdown":"Can you please share what the logs are showing? is it not finding the active spring profile or maybe not scanning the bean? also in Windows you should use &quot;\\&quot; in the paths.","body":"Can you please share what the logs are showing? is it not finding the active spring profile or maybe not scanning the bean? also in Windows you should use &quot;\\&quot; in the paths."},{"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"score":0,"creation_date":1687243114,"post_id":76511844,"comment_id":134905151,"body_markdown":"Are you using spring cloud ?","body":"Are you using spring cloud ?"}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687245593,"creation_date":1687245593,"answer_id":76512237,"question_id":76511844,"body_markdown":"a simpler alternative perhaps - in your `application.yml` just reference the external yml file:\r\n\r\n```\r\nconfig:\r\n  import: &#39;file:/tmp/foo/bar.yml&#39;\r\n```","title":"External yml file in Spring boot Application","body":"<p>a simpler alternative perhaps - in your <code>application.yml</code> just reference the external yml file:</p>\n<pre><code>config:\n  import: 'file:/tmp/foo/bar.yml'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687254330,"creation_date":1687254330,"answer_id":76513408,"question_id":76511844,"body_markdown":"    @Configuration\r\n    public class AppConfig {\r\n      @Bean\r\n     public static PropertySourcesPlaceholderConfigurer \r\n     propertySourcesPlaceholderConfigurer() {\r\n        PropertySourcesPlaceholderConfigurer configurer = new \r\n       PropertySourcesPlaceholderConfigurer();\r\n        configurer.setLocations(\r\n                new FileSystemResource(&quot;C:\\\\Users\\\\user\\\\Desktop\\\\a.yml&quot;)    );\r\n        return configurer;\r\n     }\r\n    }\r\n\r\n`a.yml` is `name: lant`.\r\nThis is my code ,it works well, and i can get the config by \r\n\r\n    @Value(&quot;${name}&quot;)\r\n    String name;\r\n\r\nI cannot determine the specific reason based on your description.\r\nAlso there is another way,you can use `@PropertySource`.\r\nFor example there is `C:\\Users\\user\\Desktop\\a.yml`,and the content of the file is `name: lant`\r\n\r\n    @Configuration\r\n    @Data\r\n    @PropertySource(&quot;file:C:\\\\Users\\\\user\\\\Desktop\\\\a.yml&quot;)\r\n    public class ExternalPropertiesConfig {\r\n      @Value(&quot;${name}&quot;)\r\n      private String name;\r\n    }\r\n\r\n    @Autowired\r\n    ExternalPropertiesConfig propertiesConfig;\r\n\r\n    String name = propertiesConfig.getName();\r\n\r\n\r\n\r\n","title":"External yml file in Spring boot Application","body":"<pre><code>@Configuration\npublic class AppConfig {\n  @Bean\n public static PropertySourcesPlaceholderConfigurer \n propertySourcesPlaceholderConfigurer() {\n    PropertySourcesPlaceholderConfigurer configurer = new \n   PropertySourcesPlaceholderConfigurer();\n    configurer.setLocations(\n            new FileSystemResource(&quot;C:\\\\Users\\\\user\\\\Desktop\\\\a.yml&quot;)    );\n    return configurer;\n }\n}\n</code></pre>\n<p><code>a.yml</code> is <code>name: lant</code>.\nThis is my code ,it works well, and i can get the config by</p>\n<pre><code>@Value(&quot;${name}&quot;)\nString name;\n</code></pre>\n<p>I cannot determine the specific reason based on your description.\nAlso there is another way,you can use <code>@PropertySource</code>.\nFor example there is <code>C:\\Users\\user\\Desktop\\a.yml</code>,and the content of the file is <code>name: lant</code></p>\n<pre><code>@Configuration\n@Data\n@PropertySource(&quot;file:C:\\\\Users\\\\user\\\\Desktop\\\\a.yml&quot;)\npublic class ExternalPropertiesConfig {\n  @Value(&quot;${name}&quot;)\n  private String name;\n}\n\n@Autowired\nExternalPropertiesConfig propertiesConfig;\n\nString name = propertiesConfig.getName();\n</code></pre>\n"}],"owner":{"account_id":28592445,"reputation":1,"user_id":21891347,"display_name":"Ajit Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687318605,"creation_date":1687241977,"question_id":76511844,"body_markdown":"My requirement is to read an external yml file(property file) in Spring boot(version 2.6.6) and spring-cloud-starter-bootstrap version 3.1.1  application which I kept in a location /usr/IN/application-DEV.yml(This yml I placed at ths location)\r\n\r\n- Created a @Configuration class and create a @Bean of **PropertyPlaceHolderConfigurer** method but seems it is not working for yml file\r\n\r\nFor example: I kept yml file in my local system C drive\r\n\r\n```\r\n@Bean\r\npublic PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer()\r\n{\r\nPropertySourcesPlaceholderConfigurer prop = new PropertySourcesPlaceholderConfigurer();\r\nprop.setLocation(new FileSystemResource(&quot;/usr/IN/application-DEV.yml&quot;));\r\nreturn prop;\r\n}\r\n```\r\n\r\n\r\n`Error Logs:\r\nCaused by: java.io.FileNotFoundException: \\usr\\IN\\application-DEV.yml`","title":"External yml file in Spring boot Application","body":"<p>My requirement is to read an external yml file(property file) in Spring boot(version 2.6.6) and spring-cloud-starter-bootstrap version 3.1.1  application which I kept in a location /usr/IN/application-DEV.yml(This yml I placed at ths location)</p>\n<ul>\n<li>Created a @Configuration class and create a @Bean of <strong>PropertyPlaceHolderConfigurer</strong> method but seems it is not working for yml file</li>\n</ul>\n<p>For example: I kept yml file in my local system C drive</p>\n<pre><code>@Bean\npublic PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer()\n{\nPropertySourcesPlaceholderConfigurer prop = new PropertySourcesPlaceholderConfigurer();\nprop.setLocation(new FileSystemResource(&quot;/usr/IN/application-DEV.yml&quot;));\nreturn prop;\n}\n</code></pre>\n<p><code>Error Logs: Caused by: java.io.FileNotFoundException: \\usr\\IN\\application-DEV.yml</code></p>\n"},{"tags":["java","linux","java-8"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1617739455,"post_id":66975665,"comment_id":118388602,"body_markdown":"Does the directory exist that you are trying to create the link inside?","body":"Does the directory exist that you are trying to create the link inside?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1617783029,"post_id":66975665,"comment_id":118399395,"body_markdown":"What do you mean with “but the symlink is backwards”? The direction always is from the to-be-created link pointing to the already-existing file. How could it be otherwise?","body":"What do you mean with “but the symlink is backwards”? The direction always is from the to-be-created link pointing to the already-existing file. How could it be otherwise?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1617812107,"post_id":66975665,"comment_id":118413464,"body_markdown":"The only way I could provoke a `NoSuchFileException` is when the directory where the link should be created doesn&#39;t exist (i.e. if I want to create a link `somedir/somelink` but `somedir` doesn&#39;t exist)","body":"The only way I could provoke a <code>NoSuchFileException</code> is when the directory where the link should be created doesn&#39;t exist (i.e. if I want to create a link <code>somedir&#47;somelink</code> but <code>somedir</code> doesn&#39;t exist)"},{"owner":{"account_id":17270227,"reputation":145,"user_id":12506116,"display_name":"springandangular"},"score":0,"creation_date":1617825408,"post_id":66975665,"comment_id":118418967,"body_markdown":"@ThomasKl&#228;ger That is useful information to have. In my case, it ended up being a similar issue where, even though the symlink path existed, the application simply did not have read/write access to the filesystem containing the path for the symlink.","body":"@ThomasKl&#228;ger That is useful information to have. In my case, it ended up being a similar issue where, even though the symlink path existed, the application simply did not have read/write access to the filesystem containing the path for the symlink."}],"answers":[{"tags":[],"owner":{"account_id":17147449,"reputation":354,"user_id":12410126,"display_name":"amy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617740444,"creation_date":1617740444,"answer_id":66975955,"question_id":66975665,"body_markdown":"From looking at the docs it seems the `target` is the one that may or may not exist yet and the `link` attribute is the one that must indeed exist, not the other way around, as your question seems to suggest. ","title":"Why does Files.createSymbolicLink() throw java.nio.file.NoSuchFileException for link parameter?","body":"<p>From looking at the docs it seems the <code>target</code> is the one that may or may not exist yet and the <code>link</code> attribute is the one that must indeed exist, not the other way around, as your question seems to suggest.</p>\n"},{"tags":[],"owner":{"account_id":17270227,"reputation":145,"user_id":12506116,"display_name":"springandangular"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617825494,"creation_date":1617801333,"answer_id":66986878,"question_id":66975665,"body_markdown":"I discovered the issue. \r\n\r\nIf you get a java.nio.file.NoSuchFileException which complains about the ```link``` path and not the ```target``` path, make sure your application can write to the ```link``` path.\r\n\r\nIn my case, the ```link``` path was valid and the ```target``` path was valid, but my application could not access the ```link``` path for writing so an unclear java.nio.file.NoSuchFileException was thrown.\r\n\r\nAs @ThomasKl&#228;ger noted, you may also receive a NoSuchFileException if a parent directory of the symlink path does not exist.","title":"Why does Files.createSymbolicLink() throw java.nio.file.NoSuchFileException for link parameter?","body":"<p>I discovered the issue.</p>\n<p>If you get a java.nio.file.NoSuchFileException which complains about the <code>link</code> path and not the <code>target</code> path, make sure your application can write to the <code>link</code> path.</p>\n<p>In my case, the <code>link</code> path was valid and the <code>target</code> path was valid, but my application could not access the <code>link</code> path for writing so an unclear java.nio.file.NoSuchFileException was thrown.</p>\n<p>As @ThomasKläger noted, you may also receive a NoSuchFileException if a parent directory of the symlink path does not exist.</p>\n"},{"tags":[],"owner":{"account_id":3694260,"reputation":356,"user_id":3076105,"display_name":"user3076105"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687316704,"creation_date":1687315602,"answer_id":76519604,"question_id":66975665,"body_markdown":"This exception is also thrown when the target is an empty path.\r\nFor example, with the following:\r\n\r\n```java\r\n    Path l=Paths.get(&quot;mylink&quot;), t=Paths.get(&quot;&quot;);\r\n    Files.createSymbolicLink(l, t);\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nException java.nio.file.NoSuchFileException: mylink\r\n      at UnixException.translateToIOException (UnixException.java:92)\r\n      at UnixException.rethrowAsIOException (UnixException.java:106)\r\n      at UnixException.rethrowAsIOException (UnixException.java:111)\r\n      at UnixFileSystemProvider.createSymbolicLink (UnixFileSystemProvider.java:471)\r\n      at Files.createSymbolicLink (Files.java:1069)\r\n      at (#40:1)\r\n```\r\n\r\nI guess the reason for only the link showing up is that the implementation simply calls `UnixException.rethrowAsIOException(link)` instead of the alternative with two UnixPath arguments, `UnixException.rethrowAsIOException(link, target)`.\r\n\r\nThe latter would end up as a new [FileSystemException(file, other)][1]\r\n\r\n\r\n  [1]: https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/nio/file/FileSystemException.java#L72","title":"Why does Files.createSymbolicLink() throw java.nio.file.NoSuchFileException for link parameter?","body":"<p>This exception is also thrown when the target is an empty path.\nFor example, with the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Path l=Paths.get(&quot;mylink&quot;), t=Paths.get(&quot;&quot;);\n    Files.createSymbolicLink(l, t);\n</code></pre>\n<p>Output:</p>\n<pre><code>Exception java.nio.file.NoSuchFileException: mylink\n      at UnixException.translateToIOException (UnixException.java:92)\n      at UnixException.rethrowAsIOException (UnixException.java:106)\n      at UnixException.rethrowAsIOException (UnixException.java:111)\n      at UnixFileSystemProvider.createSymbolicLink (UnixFileSystemProvider.java:471)\n      at Files.createSymbolicLink (Files.java:1069)\n      at (#40:1)\n</code></pre>\n<p>I guess the reason for only the link showing up is that the implementation simply calls <code>UnixException.rethrowAsIOException(link)</code> instead of the alternative with two UnixPath arguments, <code>UnixException.rethrowAsIOException(link, target)</code>.</p>\n<p>The latter would end up as a new <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/nio/file/FileSystemException.java#L72\" rel=\"nofollow noreferrer\">FileSystemException(file, other)</a></p>\n"}],"owner":{"account_id":17270227,"reputation":145,"user_id":12506116,"display_name":"springandangular"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1687316704,"creation_date":1617738938,"question_id":66975665,"body_markdown":"I am trying to create a symbolic link on a Linux machine using Java.\r\n\r\nI am using java.nio.file.Files.createSymbolicLink. The first parameter is a Path ```link```, and the second parameter is a Path ```target```.\r\n\r\nI have verified that the ```target``` Path exists, and that the ```link``` Path does not exist but is the symbolic link that I want created.\r\n\r\nWhy do I keep getting ```java.nio.file.NoSuchFileException: &lt;link path&gt;``` when the code is run? I cannot find in documentation why I would get a NoSuchFileException for the ```link``` path. I would understand getting the error for the ```target``` path, but the ```target``` path definitely exists.\r\n\r\n```\r\npublic static Path createSymbolicLink(Path link,\r\n                                      Path target,\r\n                                      FileAttribute&lt;?&gt;... attrs)\r\n                               throws IOException\r\n```\r\n\r\nI tried tried swapping ```target``` and ```link``` parameters and it worked, but the symlink is backwards. I need a symlink in /var/foo to /data/bar but instead I got a symlink from /data/bar to /var/foo.\r\n\r\nThe parent directories of ```link``` all exist.\r\n\r\nI tried digging through the actual OpenJDK Java code to see why a NoSuchFileException is being thrown, but it is not clear. \r\n\r\nMy only guess is it is something to do with the fact that I am trying to create a symbolic link to a directory, not a file. I will tinker with trailing file slashes to see if that helps.","title":"Why does Files.createSymbolicLink() throw java.nio.file.NoSuchFileException for link parameter?","body":"<p>I am trying to create a symbolic link on a Linux machine using Java.</p>\n<p>I am using java.nio.file.Files.createSymbolicLink. The first parameter is a Path <code>link</code>, and the second parameter is a Path <code>target</code>.</p>\n<p>I have verified that the <code>target</code> Path exists, and that the <code>link</code> Path does not exist but is the symbolic link that I want created.</p>\n<p>Why do I keep getting <code>java.nio.file.NoSuchFileException: &lt;link path&gt;</code> when the code is run? I cannot find in documentation why I would get a NoSuchFileException for the <code>link</code> path. I would understand getting the error for the <code>target</code> path, but the <code>target</code> path definitely exists.</p>\n<pre><code>public static Path createSymbolicLink(Path link,\n                                      Path target,\n                                      FileAttribute&lt;?&gt;... attrs)\n                               throws IOException\n</code></pre>\n<p>I tried tried swapping <code>target</code> and <code>link</code> parameters and it worked, but the symlink is backwards. I need a symlink in /var/foo to /data/bar but instead I got a symlink from /data/bar to /var/foo.</p>\n<p>The parent directories of <code>link</code> all exist.</p>\n<p>I tried digging through the actual OpenJDK Java code to see why a NoSuchFileException is being thrown, but it is not clear.</p>\n<p>My only guess is it is something to do with the fact that I am trying to create a symbolic link to a directory, not a file. I will tinker with trailing file slashes to see if that helps.</p>\n"},{"tags":["java","spring-transactions"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687316939,"post_id":76519673,"comment_id":134918077,"body_markdown":"Before reinventing the wheel, what&#39;s wrong with using `@Transactional`?","body":"Before reinventing the wheel, what&#39;s wrong with using <code>@Transactional</code>?"}],"owner":{"account_id":8605963,"reputation":11,"user_id":6446097,"display_name":"vital"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687316599,"creation_date":1687316599,"question_id":76519673,"body_markdown":"I&#39;m using ProxySQL, and set up some &#39;Read/Write split rules&#39;. Whether I use `TransactionTemplate` or the `@Transactional` annotation to start a transaction, it implicitly starts the transaction.\r\n\r\nIs there any way to start transaction explicitly? just like this:\r\n\r\n```\r\nSET AUTOCOMMIT = 0;\r\nBEGIN\r\n// SQL queries\r\nCOMMIT\r\n```\r\n\r\nCan I use AOP to solve this problem?\r\n\r\nI tried this:\r\n```\r\ntransactionTemplate.execute(transactionStatus -&gt; {\r\n            jdbcTemplate.execute(&quot;BEGIN&quot;);\r\n            // The first SQL query there is SELECT\r\n            ...\r\n            // UPDATE SQL \r\n            return transactionStatus;\r\n});\r\n```\r\n\r\nAnd all queries were distributed on primary MySQL node.\r\n\r\nIf I remove `jdbcTemplate.execute(&quot;BEGIN&quot;);`, The first SELECT query was distributed on slave MySQL node by &#39;Read/Write split rules&#39;. Now I can&#39;t change my &#39;Read/Write split rules&#39;, Can I use AOP to intercept Spring transactions and explicitly start transactions, while still using TransactionTemplate or @Transactional annotation? ","title":"How to explicitly start transaction in Java Spring framework?","body":"<p>I'm using ProxySQL, and set up some 'Read/Write split rules'. Whether I use <code>TransactionTemplate</code> or the <code>@Transactional</code> annotation to start a transaction, it implicitly starts the transaction.</p>\n<p>Is there any way to start transaction explicitly? just like this:</p>\n<pre><code>SET AUTOCOMMIT = 0;\nBEGIN\n// SQL queries\nCOMMIT\n</code></pre>\n<p>Can I use AOP to solve this problem?</p>\n<p>I tried this:</p>\n<pre><code>transactionTemplate.execute(transactionStatus -&gt; {\n            jdbcTemplate.execute(&quot;BEGIN&quot;);\n            // The first SQL query there is SELECT\n            ...\n            // UPDATE SQL \n            return transactionStatus;\n});\n</code></pre>\n<p>And all queries were distributed on primary MySQL node.</p>\n<p>If I remove <code>jdbcTemplate.execute(&quot;BEGIN&quot;);</code>, The first SELECT query was distributed on slave MySQL node by 'Read/Write split rules'. Now I can't change my 'Read/Write split rules', Can I use AOP to intercept Spring transactions and explicitly start transactions, while still using TransactionTemplate or @Transactional annotation?</p>\n"},{"tags":["java","ftp","directory","ftp-client","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1278539118,"creation_date":1278539118,"answer_id":3199125,"question_id":3199084,"body_markdown":"You need to do them one at a time, first /tmp/yyy and then /tmp/yyy/zzz. There is no short-cut mechanism for what you want to do.","title":"How to create a directory with multiple levels in one call in Java using FTP","body":"<p>You need to do them one at a time, first /tmp/yyy and then /tmp/yyy/zzz. There is no short-cut mechanism for what you want to do.</p>\n"},{"tags":[],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1278539946,"creation_date":1278539946,"answer_id":3199242,"question_id":3199084,"body_markdown":"1. FTP servers typically only allows you to create 1 level of a directory at a time. Thus you&#39;ll have to break up the path yourself, and issue one makeDirectory() call for each of the components.\r\n\r\n2. No.\r\n","title":"How to create a directory with multiple levels in one call in Java using FTP","body":"<ol>\n<li><p>FTP servers typically only allows you to create 1 level of a directory at a time. Thus you'll have to break up the path yourself, and issue one makeDirectory() call for each of the components.</p></li>\n<li><p>No.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":107710,"reputation":11089,"user_id":286260,"accept_rate":91,"display_name":"Poni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278540265,"creation_date":1278540265,"answer_id":3199275,"question_id":3199084,"body_markdown":"The FTP protocol doesn&#39;t permit this. So no, you can&#39;t create a directory with multiple levels in one call.","title":"How to create a directory with multiple levels in one call in Java using FTP","body":"<p>The FTP protocol doesn't permit this. So no, you can't create a directory with multiple levels in one call.</p>\n"},{"tags":[],"owner":{"account_id":977258,"reputation":3591,"user_id":997977,"accept_rate":36,"display_name":"Juan Rada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687315596,"creation_date":1687315596,"answer_id":76519603,"question_id":3199084,"body_markdown":"You need to create each folder individually. In case you are interested in how to obtain subpaths from a [Path][1]. \r\n\r\nKotlin\r\n```\r\nval paths = path.runningReduce { acc, value -&gt; acc.resolve(value) }\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html","title":"How to create a directory with multiple levels in one call in Java using FTP","body":"<p>You need to create each folder individually. In case you are interested in how to obtain subpaths from a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">Path</a>.</p>\n<p>Kotlin</p>\n<pre><code>val paths = path.runningReduce { acc, value -&gt; acc.resolve(value) }\n</code></pre>\n"}],"owner":{"account_id":32775,"reputation":3985,"user_id":91208,"accept_rate":75,"display_name":"Lolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3199242,"answer_count":4,"score":1,"last_activity_date":1687315596,"creation_date":1278538850,"question_id":3199084,"body_markdown":"I am using the FTPClient library from Apache and cannot figure out a simple way to create a new directory that is more than one level deep.  Am I missing something?\r\n\r\nAssuming the directory /tmp already exists on my remote host, the following command succeeds in creating /tmp/xxx\r\n\r\n    String path = &quot;/tmp/xxx&quot;;\r\n    FTPClient ftpc = new FTPClient();\r\n    ... // establish connection and login\r\n    ftpc.makeDirectory(path);\r\n\r\nbut the following fails:\r\n\r\n    String path = &quot;/tmp/yyy/zzz&quot;;\r\n    FTPClient ftpc = new FTPClient();\r\n    ... // establish connection and login\r\n    ftpc.makeDirectory(path);\r\n\r\nIn that latter case, even /tmp/yyy isn&#39;t created.\r\n\r\nI know I can create /tmp/yyy and then create /tmp/yyy/zzz, but I can&#39;t figure out how to create directly /tmp/yyy/zzz.\r\n\r\n1. Am I missing something obvious?  Using mkd instead of makeDirectory didn&#39;t help. \r\n\r\n2. Also, is it possible in one call to upload a file to /tmp/yyy/zzz/test.txt if the directory /tmp/yyy/zzz/ doesn&#39;t exist already?\r\n","title":"How to create a directory with multiple levels in one call in Java using FTP","body":"<p>I am using the FTPClient library from Apache and cannot figure out a simple way to create a new directory that is more than one level deep.  Am I missing something?</p>\n\n<p>Assuming the directory /tmp already exists on my remote host, the following command succeeds in creating /tmp/xxx</p>\n\n<pre><code>String path = \"/tmp/xxx\";\nFTPClient ftpc = new FTPClient();\n... // establish connection and login\nftpc.makeDirectory(path);\n</code></pre>\n\n<p>but the following fails:</p>\n\n<pre><code>String path = \"/tmp/yyy/zzz\";\nFTPClient ftpc = new FTPClient();\n... // establish connection and login\nftpc.makeDirectory(path);\n</code></pre>\n\n<p>In that latter case, even /tmp/yyy isn't created.</p>\n\n<p>I know I can create /tmp/yyy and then create /tmp/yyy/zzz, but I can't figure out how to create directly /tmp/yyy/zzz.</p>\n\n<ol>\n<li><p>Am I missing something obvious?  Using mkd instead of makeDirectory didn't help. </p></li>\n<li><p>Also, is it possible in one call to upload a file to /tmp/yyy/zzz/test.txt if the directory /tmp/yyy/zzz/ doesn't exist already?</p></li>\n</ol>\n"},{"tags":["java","filebeat","elk"],"owner":{"account_id":28862384,"reputation":1,"user_id":22105880,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687315468,"creation_date":1687315468,"question_id":76519598,"body_markdown":"I would like to collect logs from Host B using Filebeat and output them to Host A. Currently, there are no errors in the log messages. Host B is always attempting to connect to the IP address of Host A. Port on Host A has been opened, but no data is being received. When testing Filebeat locally and transmitting it to Logstash, there are no issues. Here is my configuration:\r\n\r\nfilebeat.yml\r\n```\r\noutput.logstash:\r\nhosts: [&quot;XX.XX.XX.XX:5044&quot;]\r\n```\r\n\r\nlogstash-sample.conf\r\n```\r\ninput {\r\nbeats {\r\nport =&gt; 5044\r\nhost =&gt; XX.XX.XX.XX\r\n}\r\n}\r\n```\r\n\r\nThe firewall on Host A has been turned off. Are there any other settings that need to be configured? I appreciate any assistance. Thank you.\r\n\r\nThis is my first time asking a question here. I apologize in advance if there are any unclear explanations.\r\n\r\nI have tried searching for information online and encountered the same issue when connecting within the same network. I even tested it using different operating systems.","title":"Filebeat output.logstash connection problem","body":"<p>I would like to collect logs from Host B using Filebeat and output them to Host A. Currently, there are no errors in the log messages. Host B is always attempting to connect to the IP address of Host A. Port on Host A has been opened, but no data is being received. When testing Filebeat locally and transmitting it to Logstash, there are no issues. Here is my configuration:</p>\n<p>filebeat.yml</p>\n<pre><code>output.logstash:\nhosts: [&quot;XX.XX.XX.XX:5044&quot;]\n</code></pre>\n<p>logstash-sample.conf</p>\n<pre><code>input {\nbeats {\nport =&gt; 5044\nhost =&gt; XX.XX.XX.XX\n}\n}\n</code></pre>\n<p>The firewall on Host A has been turned off. Are there any other settings that need to be configured? I appreciate any assistance. Thank you.</p>\n<p>This is my first time asking a question here. I apologize in advance if there are any unclear explanations.</p>\n<p>I have tried searching for information online and encountered the same issue when connecting within the same network. I even tested it using different operating systems.</p>\n"},{"tags":["java","maven","intellij-idea","executable-jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687301319,"post_id":76518565,"comment_id":134916790,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nYou&#39;d be helping us all more if you just pasted the output of `jar -tf ThatSnapshot.jar` *formatted as code* then we can copy paste in our answers. Likewise `dir /s/b src`","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. You&#39;d be helping us all more if you just pasted the output of <code>jar -tf ThatSnapshot.jar</code> <i>formatted as code</i> then we can copy paste in our answers. Likewise <code>dir &#47;s&#47;b src</code>"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1687304189,"post_id":76518565,"comment_id":134917034,"body_markdown":"@g00se, ok sorry about the images. HEre is the output:","body":"@g00se, ok sorry about the images. HEre is the output:"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687305109,"post_id":76518565,"comment_id":134917110,"body_markdown":"Ah no. Just `jar -tf paging-mission-control-1.0-SNAPSHOT.jar` That&#39;s a `jar` command not `java`","body":"Ah no. Just <code>jar -tf paging-mission-control-1.0-SNAPSHOT.jar</code> That&#39;s a <code>jar</code> command not <code>java</code>"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1687306459,"post_id":76518565,"comment_id":134917222,"body_markdown":"@g00se sorry. Updated wtih correct command and output","body":"@g00se sorry. Updated wtih correct command and output"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1687315506,"post_id":76518565,"comment_id":134917969,"body_markdown":"Share your pom. Also, you don&#39;t share how you&#39;re running the jar and the error message.","body":"Share your pom. Also, you don&#39;t share how you&#39;re running the jar and the error message."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687334026,"post_id":76518565,"comment_id":134920468,"body_markdown":"Try [this](https://technojeeves.com/tech/paging-mission-control.zip) Unzip it in your home directory and look at the &#39;Iamus2&#39; directory. I don&#39;t use IDEs but surely IDEA has some sort of &#39;Import Maven project&#39; option. Run it and it will read resource &#39;SensorData.txt&#39;. Once you&#39;ve got that running, you can copy your previous classes into the packages. Dependencies will have to be adjusted in pom.xml if you have added any.","body":"Try <a href=\"https://technojeeves.com/tech/paging-mission-control.zip\" rel=\"nofollow noreferrer\">this</a> Unzip it in your home directory and look at the &#39;Iamus2&#39; directory. I don&#39;t use IDEs but surely IDEA has some sort of &#39;Import Maven project&#39; option. Run it and it will read resource &#39;SensorData.txt&#39;. Once you&#39;ve got that running, you can copy your previous classes into the packages. Dependencies will have to be adjusted in pom.xml if you have added any."}],"answers":[{"tags":[],"owner":{"account_id":24557191,"reputation":101,"user_id":18465532,"display_name":"Mina-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687314398,"creation_date":1687314398,"answer_id":76519540,"question_id":76518565,"body_markdown":"## It is normal  behavior\r\nIt is normal behavior that JAR&#39;s folder structure is not identical to your develop environment, Since JAR is &quot;Assembled&quot; by build tools(in your case, maven do this), that packs the files that your application need to(classfiles, resources, dependency JARS, and the others if you configure so).\r\n\r\nfor same reason, your test files are not included in jar since they&#39;re **not required** to your application, because they only used for testing, and should not be running on your real-production environment.\r\n\r\nAll resources will be on your classpath&#39;s root, which can access from classpath using `ClassLoader`.\r\n```java\r\n// You should access your resource file by using absolute path\r\n// because resource file is included in root of classpath!\r\nInputStream fileInputStream = this.getClass().getClassLoader().getResourcesAsStream(&quot;SensorData.txt&quot;)\r\n```\r\nI don&#39;t know how you access resource, but I can say that you can check path is relative or wrong(like referencing &quot;resource&quot; folder).","title":"Executable Jar Structure Different from Intellij Project Structure (resulting in runtime error when executing from jar)","body":"<h2>It is normal  behavior</h2>\n<p>It is normal behavior that JAR's folder structure is not identical to your develop environment, Since JAR is &quot;Assembled&quot; by build tools(in your case, maven do this), that packs the files that your application need to(classfiles, resources, dependency JARS, and the others if you configure so).</p>\n<p>for same reason, your test files are not included in jar since they're <strong>not required</strong> to your application, because they only used for testing, and should not be running on your real-production environment.</p>\n<p>All resources will be on your classpath's root, which can access from classpath using <code>ClassLoader</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You should access your resource file by using absolute path\n// because resource file is included in root of classpath!\nInputStream fileInputStream = this.getClass().getClassLoader().getResourcesAsStream(&quot;SensorData.txt&quot;)\n</code></pre>\n<p>I don't know how you access resource, but I can say that you can check path is relative or wrong(like referencing &quot;resource&quot; folder).</p>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76519540,"answer_count":1,"score":0,"last_activity_date":1687314398,"creation_date":1687297416,"question_id":76518565,"body_markdown":"I have an java application that I can successfully execute from intellij (where I created it). I set it up in intellij to have the standard maven structure. Below is the structure from within intellij: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHowever, the execution fails when running from the executable jar. It fails because the package structure created from &quot;mvn clean package&quot; is different from the structure in intellij. Here is the structure of the executable jar (top level):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n,and here at one level below:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oTna7.png\r\n  [2]: https://i.stack.imgur.com/s4Apg.png\r\n  [3]: https://i.stack.imgur.com/IvCgH.png\r\n\r\nAs you can see, its missing the src.main.java (skips right to paging_mission_control package), as well as missing the resources and test directories. \r\n\r\nThe failure is because the SensorData.txt file cannot be found at runtime (because the resources directory is missing in the jar). However, the bigger issue is that the jar file structure (as build using &quot;mvn clean package&quot;), is different from what is built with intellij. Intellij does not use the jar file.\r\n\r\nAdditionally, the jar file does not seem to include the pom file or the jars specified in the pom file.\r\n\r\nI also tried &quot;mvn clean install&quot;, but the jar is just the same as with &quot;mvn clean package&quot;.\r\n\r\nUpdate as requested by reviewers: \r\n\r\n    $ jar -tf paging-mission-control-1.0-SNAPSHOT.jar\r\n    META-INF/MANIFEST.MF\r\n    META-INF/\r\n    paging_mission_control/\r\n    paging_mission_control/input/\r\n    paging_mission_control/model/\r\n    paging_mission_control/process/\r\n    META-INF/maven/\r\n    META-INF/maven/groupId/\r\n    META-INF/maven/groupId/paging-mission-control/\r\n    paging_mission_control/input/FileLoader.class\r\n    paging_mission_control/model/SatelliteConstants.class\r\n    paging_mission_control/model/SatelliteStatus.class\r\n    SensorData.txt\r\n    paging_mission_control/SatApplication.class\r\n    paging_mission_control/model/SensorReading.class\r\n    META-INF/maven/groupId/paging-mission-control/pom.properties\r\n    paging_mission_control/process/InputProcessor.class\r\n    META-INF/maven/groupId/paging-mission-control/pom.xml\r\n\r\n\r\nUpdate as requested by reviewers (dir /s/b src):\r\n\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control&gt;dir /s/b src\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\test\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\resources\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\input\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\model\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\process\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\SatApplication.java\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\input\\FileLoader.java\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\model\\SatelliteConstants.java\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\model\\SatelliteStatus.java\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\model\\SensorReading.java\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\process\\InputProcessor.java\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\resources\\SensorData.txt\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\test\\java\r\n\r\n    C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control&gt;\r\n\r\nI would be grateful for any ideas about how to make the executable jar work the same is the execution from intellij. Thank you","title":"Executable Jar Structure Different from Intellij Project Structure (resulting in runtime error when executing from jar)","body":"<p>I have an java application that I can successfully execute from intellij (where I created it). I set it up in intellij to have the standard maven structure. Below is the structure from within intellij:</p>\n<p><a href=\"https://i.stack.imgur.com/oTna7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oTna7.png\" alt=\"enter image description here\" /></a></p>\n<p>However, the execution fails when running from the executable jar. It fails because the package structure created from &quot;mvn clean package&quot; is different from the structure in intellij. Here is the structure of the executable jar (top level):</p>\n<p><a href=\"https://i.stack.imgur.com/s4Apg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s4Apg.png\" alt=\"enter image description here\" /></a></p>\n<p>,and here at one level below:</p>\n<p><a href=\"https://i.stack.imgur.com/IvCgH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IvCgH.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, its missing the src.main.java (skips right to paging_mission_control package), as well as missing the resources and test directories.</p>\n<p>The failure is because the SensorData.txt file cannot be found at runtime (because the resources directory is missing in the jar). However, the bigger issue is that the jar file structure (as build using &quot;mvn clean package&quot;), is different from what is built with intellij. Intellij does not use the jar file.</p>\n<p>Additionally, the jar file does not seem to include the pom file or the jars specified in the pom file.</p>\n<p>I also tried &quot;mvn clean install&quot;, but the jar is just the same as with &quot;mvn clean package&quot;.</p>\n<p>Update as requested by reviewers:</p>\n<pre><code>$ jar -tf paging-mission-control-1.0-SNAPSHOT.jar\nMETA-INF/MANIFEST.MF\nMETA-INF/\npaging_mission_control/\npaging_mission_control/input/\npaging_mission_control/model/\npaging_mission_control/process/\nMETA-INF/maven/\nMETA-INF/maven/groupId/\nMETA-INF/maven/groupId/paging-mission-control/\npaging_mission_control/input/FileLoader.class\npaging_mission_control/model/SatelliteConstants.class\npaging_mission_control/model/SatelliteStatus.class\nSensorData.txt\npaging_mission_control/SatApplication.class\npaging_mission_control/model/SensorReading.class\nMETA-INF/maven/groupId/paging-mission-control/pom.properties\npaging_mission_control/process/InputProcessor.class\nMETA-INF/maven/groupId/paging-mission-control/pom.xml\n</code></pre>\n<p>Update as requested by reviewers (dir /s/b src):</p>\n<pre><code>C:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control&gt;dir /s/b src\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\test\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\resources\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\input\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\model\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\process\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\SatApplication.java\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\input\\FileLoader.java\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\model\\SatelliteConstants.java\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\model\\SatelliteStatus.java\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\model\\SensorReading.java\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\java\\paging_mission_control\\process\\InputProcessor.java\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\main\\resources\\SensorData.txt\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control\\src\\test\\java\n\nC:\\Users\\tclotworthy\\Iamus\\satelliteProj\\paging-mission-control&gt;\n</code></pre>\n<p>I would be grateful for any ideas about how to make the executable jar work the same is the execution from intellij. Thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687314143,"creation_date":1687314143,"answer_id":76519523,"question_id":76519253,"body_markdown":"You could make your TestDTO implement the [ResourceAware][1] interface...\r\n\r\n    @Data\r\n    public class TestDTO implements ResourceAware {\r\n        private String fileName;\r\n        private String name;\r\n        private String lastName;\r\n    \r\n        public void setResource(Resource resource) {\r\n            this.fileName = resource.getFilename();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/ResourceAware.html","title":"Spring batch - How to set each csv file name that I am reading into my entity?","body":"<p>You could make your TestDTO implement the <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/ResourceAware.html\" rel=\"nofollow noreferrer\">ResourceAware</a> interface...</p>\n<pre><code>@Data\npublic class TestDTO implements ResourceAware {\n    private String fileName;\n    private String name;\n    private String lastName;\n\n    public void setResource(Resource resource) {\n        this.fileName = resource.getFilename();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18592411,"reputation":103,"user_id":13549310,"display_name":"Henrique Vital"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76519523,"answer_count":1,"score":0,"last_activity_date":1687314143,"creation_date":1687308628,"question_id":76519253,"body_markdown":"How to set each csv file name that I am reading in my entity and send this to processor, I have the following reader code:\r\n\r\nIn the following entity, I have the field fileName that I want to set with the currently csv file name that I am reading, the other field I want to set with the csv data.\r\n\r\nEntity:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class TestDTO {\r\n        private String fileName;\r\n        private String name;\r\n        private String lastName;\r\n    }\r\n\r\nCode:\r\n\r\n    @Configuration\r\n    public class testReader{\r\n        @Bean\r\n        public FlatFileItemReader&lt;TestDTO&gt; csvFileReader() {\r\n            FlatFileItemReader&lt;TestDTO&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n            reader.linesToSkip(1) // Skip header row if needed\r\n            reader.lineMapper(csvLineMapper())\r\n            return reader;\r\n        }\r\n\r\n        @Bean(&quot;testReader&quot;)\r\n        public MultiResourceItemReader&lt;testDTO&gt; multiResourceReader() throws IOException {\r\n            Resource[] files = csvFileResource();\r\n            MultiResourceItemReader&lt;testDTO&gt; resourceItemReader = new MultiResourceItemReader&lt;&gt;();\r\n            resourceItemReader.setResources(files);\r\n            resourceItemReader.setDelegate(csvFileReader());\r\n            return resourceItemReader;\r\n        }\r\n    \r\n        @Bean\r\n        public DefaultLineMapper&lt;TestDTO&gt; csvLineMapper() {\r\n            DelimitedLineTokenizer tokenizer = new DelimitedLineTokenizer();\r\n            tokenizer.setNames(&quot;Name&quot;,&quot;Lastname&quot;);\r\n    \r\n            BeanWrapperFieldSetMapper&lt;YourDataClass&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n            fieldSetMapper.setTargetType(TestDTO.class);\r\n    \r\n            DefaultLineMapper&lt;TestDTO&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n            lineMapper.setLineTokenizer(tokenizer);\r\n            lineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \r\n            return lineMapper;\r\n        }\r\n    \r\n        @Bean\r\n        public Resource[] csvFileResource() throws IOException {\r\n            // Specify the folder path where your CSV files are generated\r\n            Resource[] resources = new PathMatchingResourcePatternResolver().getResources(&quot;file:input/*.csv&quot;);\r\n            if (resources.length == 0) {\r\n                throw new FileNotFoundException(&quot;No CSV files found in the specified folder.&quot;);\r\n            }\r\n            return resources;\r\n        }\r\n    }\r\n","title":"Spring batch - How to set each csv file name that I am reading into my entity?","body":"<p>How to set each csv file name that I am reading in my entity and send this to processor, I have the following reader code:</p>\n<p>In the following entity, I have the field fileName that I want to set with the currently csv file name that I am reading, the other field I want to set with the csv data.</p>\n<p>Entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class TestDTO {\n    private String fileName;\n    private String name;\n    private String lastName;\n}\n</code></pre>\n<p>Code:</p>\n<pre><code>@Configuration\npublic class testReader{\n    @Bean\n    public FlatFileItemReader&lt;TestDTO&gt; csvFileReader() {\n        FlatFileItemReader&lt;TestDTO&gt; reader = new FlatFileItemReader&lt;&gt;();\n        reader.linesToSkip(1) // Skip header row if needed\n        reader.lineMapper(csvLineMapper())\n        return reader;\n    }\n\n    @Bean(&quot;testReader&quot;)\n    public MultiResourceItemReader&lt;testDTO&gt; multiResourceReader() throws IOException {\n        Resource[] files = csvFileResource();\n        MultiResourceItemReader&lt;testDTO&gt; resourceItemReader = new MultiResourceItemReader&lt;&gt;();\n        resourceItemReader.setResources(files);\n        resourceItemReader.setDelegate(csvFileReader());\n        return resourceItemReader;\n    }\n\n    @Bean\n    public DefaultLineMapper&lt;TestDTO&gt; csvLineMapper() {\n        DelimitedLineTokenizer tokenizer = new DelimitedLineTokenizer();\n        tokenizer.setNames(&quot;Name&quot;,&quot;Lastname&quot;);\n\n        BeanWrapperFieldSetMapper&lt;YourDataClass&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(TestDTO.class);\n\n        DefaultLineMapper&lt;TestDTO&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        lineMapper.setLineTokenizer(tokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return lineMapper;\n    }\n\n    @Bean\n    public Resource[] csvFileResource() throws IOException {\n        // Specify the folder path where your CSV files are generated\n        Resource[] resources = new PathMatchingResourcePatternResolver().getResources(&quot;file:input/*.csv&quot;);\n        if (resources.length == 0) {\n            throw new FileNotFoundException(&quot;No CSV files found in the specified folder.&quot;);\n        }\n        return resources;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-recyclerview","grid-layout"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1599784922,"post_id":63839194,"comment_id":112888866,"body_markdown":"Make sure your item width is `match_partent` ,and add `android:layout_centerInParent=&quot;true&quot;` to your `RecyclerView`","body":"Make sure your item width is <code>match_partent</code> ,and add <code>android:layout_centerInParent=&quot;true&quot;</code> to your <code>RecyclerView</code>"},{"owner":{"account_id":10115603,"reputation":185,"user_id":7474385,"accept_rate":31,"display_name":"Aaron Waller"},"score":0,"creation_date":1599785137,"post_id":63839194,"comment_id":112888895,"body_markdown":"Setting width of the item to match_parent worked, thanks :)\nWeird because in my old projects it worked exactly like I did it but now I have to change something.","body":"Setting width of the item to match_parent worked, thanks :) Weird because in my old projects it worked exactly like I did it but now I have to change something."}],"answers":[{"tags":[],"owner":{"account_id":18348513,"reputation":8716,"user_id":13363205,"display_name":"iknow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599785293,"creation_date":1599784668,"answer_id":63839333,"question_id":63839194,"body_markdown":"Create a class like to set paddings to item:\r\n```\r\nclass SpacingItemDecorator (private val padding: Int) : RecyclerView.ItemDecoration()\r\n{\r\n    override fun getItemOffsets(\r\n        outRect: Rect,\r\n        view: View,\r\n        parent: RecyclerView,\r\n        state: RecyclerView.State\r\n    )\r\n    {\r\n        super.getItemOffsets(outRect, view, parent, state)\r\n        outRect.top = padding\r\n        outRect.bottom = padding\r\n        outRect.left = padding\r\n        outRect.right = padding\r\n    }\r\n}\r\n```\r\n\r\nNow in Your RecyclerView set `paddingStart` and `paddingEnd`, e.g `4dp` :\r\n```\r\n&lt;androidx.recyclerview.widget.RecyclerView\r\n    android:id=&quot;@+id/recyclerView&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingStart=&quot;4dp&quot;\r\n    android:paddingEnd=&quot;4dp&quot;\r\n    app:layoutManager=&quot;androidx.recyclerview.widget.GridLayoutManager&quot;\r\n    app:spanCount=&quot;6&quot;/&gt;\r\n```\r\n\r\nWhen You create adapter just apply this item decorator:\r\n```\r\nval x = (resources.displayMetrics.density * 4).toInt() //converting dp to pixels\r\nrecyclerView.addItemDecoration(SpacingItemDecorator(x)) //setting space between items in RecyclerView\r\n```\r\nRecyclerView item:\r\n```\r\n&lt;androidx.cardview.widget.CardView\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:cardCornerRadius=&quot;6dp&quot;\r\n    app:cardElevation=&quot;4dp&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtContent&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@{Integer.toString(dataView.id)}&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n```\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TAdLL.png","title":"How to center content of GridLayoutManager?","body":"<p>Create a class like to set paddings to item:</p>\n<pre><code>class SpacingItemDecorator (private val padding: Int) : RecyclerView.ItemDecoration()\n{\n    override fun getItemOffsets(\n        outRect: Rect,\n        view: View,\n        parent: RecyclerView,\n        state: RecyclerView.State\n    )\n    {\n        super.getItemOffsets(outRect, view, parent, state)\n        outRect.top = padding\n        outRect.bottom = padding\n        outRect.left = padding\n        outRect.right = padding\n    }\n}\n</code></pre>\n<p>Now in Your RecyclerView set <code>paddingStart</code> and <code>paddingEnd</code>, e.g <code>4dp</code> :</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recyclerView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:paddingStart=&quot;4dp&quot;\n    android:paddingEnd=&quot;4dp&quot;\n    app:layoutManager=&quot;androidx.recyclerview.widget.GridLayoutManager&quot;\n    app:spanCount=&quot;6&quot;/&gt;\n</code></pre>\n<p>When You create adapter just apply this item decorator:</p>\n<pre><code>val x = (resources.displayMetrics.density * 4).toInt() //converting dp to pixels\nrecyclerView.addItemDecoration(SpacingItemDecorator(x)) //setting space between items in RecyclerView\n</code></pre>\n<p>RecyclerView item:</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:cardCornerRadius=&quot;6dp&quot;\n    app:cardElevation=&quot;4dp&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtContent&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@{Integer.toString(dataView.id)}&quot;\n            android:textSize=&quot;20sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/TAdLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TAdLL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3906584,"reputation":935,"user_id":4067774,"accept_rate":57,"display_name":"Devenom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645026198,"creation_date":1645025885,"answer_id":71144807,"question_id":63839194,"body_markdown":"I faced the same issue recently and looked into the source code. There&#39;s no straight forward way to do this using GridLayoutManager. The other was is to use a GridView which is more customisable.\r\n\r\nThis is an alternate solution for you or any one else looking for a workaround.\r\n\r\nI didn&#39;t want to change to a GridView so this is what I did. I set the RecyclerView&#39;s layout width to wrap_content and centered it horizontally within the parent (which in your case is a RelativeLayout so it will be something like `android:centerHorizontally=&quot;true&quot;`)\r\n\r\nI knew the item width so I calculated the spanCount by dividing the screen width by the item width (plus any horizontal margins). Now I set the span count to the grid layout manager and it gets centered horizontally just how you want it. \r\n\r\nAdding margins to you item&#39;s layout root play an important role here.","title":"How to center content of GridLayoutManager?","body":"<p>I faced the same issue recently and looked into the source code. There's no straight forward way to do this using GridLayoutManager. The other was is to use a GridView which is more customisable.</p>\n<p>This is an alternate solution for you or any one else looking for a workaround.</p>\n<p>I didn't want to change to a GridView so this is what I did. I set the RecyclerView's layout width to wrap_content and centered it horizontally within the parent (which in your case is a RelativeLayout so it will be something like <code>android:centerHorizontally=&quot;true&quot;</code>)</p>\n<p>I knew the item width so I calculated the spanCount by dividing the screen width by the item width (plus any horizontal margins). Now I set the span count to the grid layout manager and it gets centered horizontally just how you want it.</p>\n<p>Adding margins to you item's layout root play an important role here.</p>\n"},{"tags":[],"owner":{"account_id":25870378,"reputation":37,"user_id":19601380,"display_name":"Paranoia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687313452,"creation_date":1687313452,"answer_id":76519495,"question_id":63839194,"body_markdown":"I also encounter GridLayoutManger for recyclerview doesn&#39;t center vertically\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView  \r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_marginTop=&quot;40dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;         \r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nJust set the recyclerview to width to ```wrap_content``` then add ``` android:layout_gravity=&quot;center&quot;``` and ```android:gravity=&quot;center&quot;```\r\n\r\n**Additional Info**\r\nYour layout file for the recyclerview parent should be ``` android:layout_width=&quot;match_parent&quot;``` and ```android:layout_gravity=&quot;center_horizontal&quot;```","title":"How to center content of GridLayoutManager?","body":"<p>I also encounter GridLayoutManger for recyclerview doesn't center vertically</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n    &lt;androidx.recyclerview.widget.RecyclerView  \n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;40dp&quot;\n        android:gravity=&quot;center&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;         \n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Just set the recyclerview to width to <code>wrap_content</code> then add <code> android:layout_gravity=&quot;center&quot;</code> and <code>android:gravity=&quot;center&quot;</code></p>\n<p><strong>Additional Info</strong>\nYour layout file for the recyclerview parent should be <code> android:layout_width=&quot;match_parent&quot;</code> and <code>android:layout_gravity=&quot;center_horizontal&quot;</code></p>\n"}],"owner":{"account_id":10115603,"reputation":185,"user_id":7474385,"accept_rate":31,"display_name":"Aaron Waller"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2640,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1687313452,"creation_date":1599783265,"question_id":63839194,"body_markdown":"Just trying to center my RecyclerView horizontal.\r\n\r\nHere is the xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n    \r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recycler_view&quot;\r\n            android:layout_width=&quot;match_parent&quot; \r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\nAnd here the java code:\r\n\r\n    mRecyclerView = findViewById(R.id.recycler_view);\r\n    itemLayoutManager = new GridLayoutManager(this, 6);\r\n    mRecyclerView.setLayoutManager(itemLayoutManager);\r\n    ...\r\n    mItemAdapter = new ItemAdapter(MainActivity.this, mItemList);\r\n    mRecyclerView.setAdapter(mItemAdapter);\r\n\r\nWhen I run the application the recyclerview aligns left.\r\nWhat exactly do I have to do to center the content so that the margin is the same left and right like in the example picture on the right side?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/64Ns8.png","title":"How to center content of GridLayoutManager?","body":"<p>Just trying to center my RecyclerView horizontal.</p>\n<p>Here is the xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recycler_view&quot;\n        android:layout_width=&quot;match_parent&quot; \n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And here the java code:</p>\n<pre><code>mRecyclerView = findViewById(R.id.recycler_view);\nitemLayoutManager = new GridLayoutManager(this, 6);\nmRecyclerView.setLayoutManager(itemLayoutManager);\n...\nmItemAdapter = new ItemAdapter(MainActivity.this, mItemList);\nmRecyclerView.setAdapter(mItemAdapter);\n</code></pre>\n<p>When I run the application the recyclerview aligns left.\nWhat exactly do I have to do to center the content so that the margin is the same left and right like in the example picture on the right side?</p>\n<p><a href=\"https://i.stack.imgur.com/64Ns8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/64Ns8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio-2.3"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1687309636,"post_id":76519274,"comment_id":134917467,"body_markdown":"Take the [tour] read [ask] and read https://stackoverflow.com/help/on-topic","body":"Take the <a href=\"https://stackoverflow.com/tour\">tour</a> read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and read <a href=\"https://stackoverflow.com/help/on-topic\">stackoverflow.com/help/on-topic</a>"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1687312777,"post_id":76519274,"comment_id":134917764,"body_markdown":"It is called [CameraX](https://developer.android.com/training/camerax)","body":"It is called <a href=\"https://developer.android.com/training/camerax\" rel=\"nofollow noreferrer\">CameraX</a>"}],"answers":[{"tags":[],"owner":{"account_id":24861568,"reputation":1,"user_id":18737271,"display_name":"Kairo Amorim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687313318,"creation_date":1687313318,"answer_id":76519487,"question_id":76519274,"body_markdown":"I found two answers that can help you:\r\n\r\n - [That question][1] has some code about taking pictures with the front camera.\r\n\r\n - And [the correct answer of this question][2] helps about geting the photo.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27617442/android-take-photo-using-android-front-camera\r\n  [2]: https://stackoverflow.com/questions/23785236/capture-photo-from-both-front-and-back-camera-simultaneously","title":"I want to capture picture but not go to camera phone itself but in my own apps. Like taking selfie to set profile picture","body":"<p>I found two answers that can help you:</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/27617442/android-take-photo-using-android-front-camera\">That question</a> has some code about taking pictures with the front camera.</p>\n</li>\n<li><p>And <a href=\"https://stackoverflow.com/questions/23785236/capture-photo-from-both-front-and-back-camera-simultaneously\">the correct answer of this question</a> helps about geting the photo.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":28773841,"reputation":1,"user_id":22037005,"display_name":"Rocky Malobago"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687313318,"creation_date":1687309109,"question_id":76519274,"body_markdown":"I want to capture picture but go to camera phone itself but in my own apps. Like taking selfie to set profile picture\r\n\r\nIm Using Android studio java. \r\n\r\nI&#39;d look everywhere but nothing to find. Or it&#39;s just I don&#39;t know what&#39;s is called this want I want to create.\r\n\r\n[Just like this but in front camera](https://i.stack.imgur.com/LqOM6.jpg)","title":"I want to capture picture but not go to camera phone itself but in my own apps. Like taking selfie to set profile picture","body":"<p>I want to capture picture but go to camera phone itself but in my own apps. Like taking selfie to set profile picture</p>\n<p>Im Using Android studio java.</p>\n<p>I'd look everywhere but nothing to find. Or it's just I don't know what's is called this want I want to create.</p>\n<p><a href=\"https://i.stack.imgur.com/LqOM6.jpg\" rel=\"nofollow noreferrer\">Just like this but in front camera</a></p>\n"},{"tags":["java","spring-boot","email"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687303146,"post_id":76518940,"comment_id":134916936,"body_markdown":"`Host mail.me.us not found: 3(NXDOMAIN)`","body":"<code>Host mail.me.us not found: 3(NXDOMAIN)</code>"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1687303366,"post_id":76518940,"comment_id":134916967,"body_markdown":"Double check the connection settings. Sounds like there is no mail server running on that port. Try with `telnet mail.me.us 465` to check. Turn on debug logging in Javamail to see what commands it tries and what the server says. Check if there is a firewall messing with your traffic.","body":"Double check the connection settings. Sounds like there is no mail server running on that port. Try with <code>telnet mail.me.us 465</code> to check. Turn on debug logging in Javamail to see what commands it tries and what the server says. Check if there is a firewall messing with your traffic."},{"owner":{"account_id":1647390,"reputation":5075,"user_id":1518668,"accept_rate":45,"display_name":"sonoerin"},"score":0,"creation_date":1687305097,"post_id":76518940,"comment_id":134917109,"body_markdown":"I should have mentioned for security sake I didn&#39;t put my real stmp endpoint here.  Updating with real endpoint","body":"I should have mentioned for security sake I didn&#39;t put my real stmp endpoint here.  Updating with real endpoint"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687305320,"post_id":76518940,"comment_id":134917132,"body_markdown":"Well those are public addresses. As long as no creds are in your post, it&#39;s all good","body":"Well those are public addresses. As long as no creds are in your post, it&#39;s all good"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687305866,"post_id":76518940,"comment_id":134917182,"body_markdown":"Try adding `spring.mail.properties.smtp.starttls.enable=true` Hoping that spring.mail.properties.smtp.user and spring.mail.properties.smtp.password are there","body":"Try adding <code>spring.mail.properties.smtp.starttls.enable=true</code> Hoping that spring.mail.properties.smtp.user and spring.mail.properties.smtp.password are there"},{"owner":{"account_id":1647390,"reputation":5075,"user_id":1518668,"accept_rate":45,"display_name":"sonoerin"},"score":0,"creation_date":1687311359,"post_id":76518940,"comment_id":134917632,"body_markdown":"I added spring.mail.properties.smtp.starttls.enable=true and I still appear to timeout as I am getting the same exception have a couple of minutes of waiting.  Yes, the username and password are in the properties file.  And since I am getting a timeout and not an authentication exception I assume this means they are being loaded.","body":"I added spring.mail.properties.smtp.starttls.enable=true and I still appear to timeout as I am getting the same exception have a couple of minutes of waiting.  Yes, the username and password are in the properties file.  And since I am getting a timeout and not an authentication exception I assume this means they are being loaded."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1687317263,"post_id":76518940,"comment_id":134918102,"body_markdown":"The telnet command shows that no mail server is listening on that port. Compare to `telnet mail.4da.us 25`, and enter `ehlo me` to see how the server advertises what it offers. I&#39;d try to switch my Javamail configuration to use port 25 instead of 465.","body":"The telnet command shows that no mail server is listening on that port. Compare to <code>telnet mail.4da.us 25</code>, and enter <code>ehlo me</code> to see how the server advertises what it offers. I&#39;d try to switch my Javamail configuration to use port 25 instead of 465."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687331935,"post_id":76518940,"comment_id":134920007,"body_markdown":"Difficult to debug this without an actual account. Your MUA might be doing something that your mail API hasn&#39;t got the smarts to do on its own. Try 587. It *is* listening on that port.","body":"Difficult to debug this without an actual account. Your MUA might be doing something that your mail API hasn&#39;t got the smarts to do on its own. Try 587. It <i>is</i> listening on that port."},{"owner":{"account_id":1647390,"reputation":5075,"user_id":1518668,"accept_rate":45,"display_name":"sonoerin"},"score":0,"creation_date":1687352836,"post_id":76518940,"comment_id":134924612,"body_markdown":"Thank you @g00se it turned out to be port 587 that worked!  I appreciate the help Robert also, the telnet suggestion was helpful.","body":"Thank you @g00se it turned out to be port 587 that worked!  I appreciate the help Robert also, the telnet suggestion was helpful."}],"owner":{"account_id":1647390,"reputation":5075,"user_id":1518668,"accept_rate":45,"display_name":"sonoerin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687312898,"creation_date":1687302787,"question_id":76518940,"body_markdown":"I am using spring-boot-starter-mail to send an email from my backend.   I have these values copied from my hosting provider:\r\n\r\n**application.properties**:\r\n   \r\n\r\n     email.username=sender@me.us &lt;== used in the &quot;FROM&quot;\r\n        spring.mail.host=mail.4da.us &lt;== dont&#39; think this is needed?\r\n        spring.mail.port=465\r\n        spring.mail.username=sender@me.us\r\n        spring.mail.password=&lt;My login password&gt;\r\n        spring.mail.properties.mail.transport.protocol=smtp\r\n        spring.mail.properties.mail.host=mail.4da.us\r\n        spring.mail.properties.mail.smtp.port=465\r\n        spring.mail.properties.mail.smtp.auth=true\r\n\r\nAnd then I build the email as:\r\n\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n     @Autowired\r\n     private JavaMailSender javaMailSender;\r\n    ...\r\n    try {\r\n      SimpleMailMessage mailMessage = new SimpleMailMessage();\r\n      // Setting up necessary details\r\n      mailMessage.setFrom(EMAIL_USERNAME);\r\n      mailMessage.setReplyTo(EMAIL_USERNAME);\r\n      mailMessage.setSentDate(new Date());\r\n      mailMessage.setTo(emailRequest.getEmailAddress());\r\n      mailMessage.setText(buildMessage(emailRequest));\r\n      mailMessage.setSubject(SUBJECT);\r\n    \r\n      // Sending the mail\r\n      logger.info(&quot;sending email {}&quot;, mailMessage);\r\n      javaMailSender.send(mailMessage);\r\n    \r\n    catch (Exception e) {\r\n                logger.error(&quot;Failed to send email. Error message: &quot; + e.getMessage());\r\n    }\r\n    ...\r\n\r\nAfter several seconds I get the exception:\r\n\r\n&gt; Failed to send email. Error message: Mail server connection failed;\r\n&gt; nested exception is javax.mail.MessagingException: Got bad greeting\r\n&gt; from SMTP host: mail.4da.us, port: 465, response: [EOF]. Failed\r\n&gt; messages: javax.mail.MessagingException: Got bad greeting from SMTP\r\n&gt; host: mail.4da.us, port: 465, response: [EOF]\r\n\r\nI have confirmed the email settings with my host.  In fact, I have that same email account on my computer to send/receive from - so I am confident its good there.  I have also tried prepending &quot;smpt&quot; to mail.me.us but that failed immediately as not found.\r\n\r\n\r\nUPDATE:\r\nI didn&#39;t put the real stmp point here for security concerns, guess that doesn&#39;t really matter?  Anyway, I tried via telnet:\r\n\r\n    telnet mail.4da.us 465\r\n\r\n&gt; Trying 35.215.124.126... Connected to mail.4da.us. Escape character is\r\n&gt; &#39;^]&#39;.\r\n\r\nSo it does appear to connect outside Java\r\n\r\nI also added some application.properties to timeout quicker and actually got a slightly difference exception.\r\n\r\n    spring.mail.properties.mail.smtp.connectiontimeout=5000\r\n    spring.mail.properties.mail.smtp.timeout=3000\r\n    spring.mail.properties.mail.smtp.writetimeout=5000\r\n\r\n&gt; Failed to send email. Error message: Mail server connection failed;\r\n&gt; nested exception is javax.mail.MessagingException: Exception reading\r\n&gt; response; nested exception is: java.net.SocketTimeoutException: Read\r\n&gt; timed out. Failed messages: javax.mail.MessagingException: Exception\r\n&gt; reading response;","title":"Java mail timeout","body":"<p>I am using spring-boot-starter-mail to send an email from my backend.   I have these values copied from my hosting provider:</p>\n<p><strong>application.properties</strong>:</p>\n<pre><code> email.username=sender@me.us &lt;== used in the &quot;FROM&quot;\n    spring.mail.host=mail.4da.us &lt;== dont' think this is needed?\n    spring.mail.port=465\n    spring.mail.username=sender@me.us\n    spring.mail.password=&lt;My login password&gt;\n    spring.mail.properties.mail.transport.protocol=smtp\n    spring.mail.properties.mail.host=mail.4da.us\n    spring.mail.properties.mail.smtp.port=465\n    spring.mail.properties.mail.smtp.auth=true\n</code></pre>\n<p>And then I build the email as:</p>\n<pre><code>import org.springframework.mail.javamail.JavaMailSender;\n @Autowired\n private JavaMailSender javaMailSender;\n...\ntry {\n  SimpleMailMessage mailMessage = new SimpleMailMessage();\n  // Setting up necessary details\n  mailMessage.setFrom(EMAIL_USERNAME);\n  mailMessage.setReplyTo(EMAIL_USERNAME);\n  mailMessage.setSentDate(new Date());\n  mailMessage.setTo(emailRequest.getEmailAddress());\n  mailMessage.setText(buildMessage(emailRequest));\n  mailMessage.setSubject(SUBJECT);\n\n  // Sending the mail\n  logger.info(&quot;sending email {}&quot;, mailMessage);\n  javaMailSender.send(mailMessage);\n\ncatch (Exception e) {\n            logger.error(&quot;Failed to send email. Error message: &quot; + e.getMessage());\n}\n...\n</code></pre>\n<p>After several seconds I get the exception:</p>\n<blockquote>\n<p>Failed to send email. Error message: Mail server connection failed;\nnested exception is javax.mail.MessagingException: Got bad greeting\nfrom SMTP host: mail.4da.us, port: 465, response: [EOF]. Failed\nmessages: javax.mail.MessagingException: Got bad greeting from SMTP\nhost: mail.4da.us, port: 465, response: [EOF]</p>\n</blockquote>\n<p>I have confirmed the email settings with my host.  In fact, I have that same email account on my computer to send/receive from - so I am confident its good there.  I have also tried prepending &quot;smpt&quot; to mail.me.us but that failed immediately as not found.</p>\n<p>UPDATE:\nI didn't put the real stmp point here for security concerns, guess that doesn't really matter?  Anyway, I tried via telnet:</p>\n<pre><code>telnet mail.4da.us 465\n</code></pre>\n<blockquote>\n<p>Trying 35.215.124.126... Connected to mail.4da.us. Escape character is\n'^]'.</p>\n</blockquote>\n<p>So it does appear to connect outside Java</p>\n<p>I also added some application.properties to timeout quicker and actually got a slightly difference exception.</p>\n<pre><code>spring.mail.properties.mail.smtp.connectiontimeout=5000\nspring.mail.properties.mail.smtp.timeout=3000\nspring.mail.properties.mail.smtp.writetimeout=5000\n</code></pre>\n<blockquote>\n<p>Failed to send email. Error message: Mail server connection failed;\nnested exception is javax.mail.MessagingException: Exception reading\nresponse; nested exception is: java.net.SocketTimeoutException: Read\ntimed out. Failed messages: javax.mail.MessagingException: Exception\nreading response;</p>\n</blockquote>\n"},{"tags":["java","swing","graphics2d","paintcomponent"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1687217229,"post_id":76510559,"comment_id":134902903,"body_markdown":"[mcve] would be really helpful - because it &quot;looks&quot; like you&#39;re violating the paint chain","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be really helpful - because it &quot;looks&quot; like you&#39;re violating the paint chain"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687217309,"post_id":76510559,"comment_id":134902913,"body_markdown":"I would also make use of [`ImageIO.read`](https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) instead of `ImageIcon` as `ImageIO` will actually throw an exception when the image can&#39;t be loaded/read unlike `ImageIcon` which fails silently","body":"I would also make use of <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\"><code>ImageIO.read</code></a> instead of <code>ImageIcon</code> as <code>ImageIO</code> will actually throw an exception when the image can&#39;t be loaded/read unlike <code>ImageIcon</code> which fails silently"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687217387,"post_id":76510559,"comment_id":134902921,"body_markdown":"*&quot;I override paintComponent(Graphics g) from java.awt.Graphics&quot;* - No, you didn&#39;t.  `Graphics` doesn&#39;t have a `paintComponent` method, which leads me to assume that you mean you&#39;ve overriding `paintComponent` of a `JComponent` (or subclass), which takes me right back to my first comment","body":"<i>&quot;I override paintComponent(Graphics g) from java.awt.Graphics&quot;</i> - No, you didn&#39;t.  <code>Graphics</code> doesn&#39;t have a <code>paintComponent</code> method, which leads me to assume that you mean you&#39;ve overriding <code>paintComponent</code> of a <code>JComponent</code> (or subclass), which takes me right back to my first comment"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687217539,"post_id":76510559,"comment_id":134902930,"body_markdown":"`if (field[i][k] instanceof MineCell) {` casting like this kind of seems like a bad idea.  I&#39;d instead you use an `interface` which defined a `draw` method of some kind and the make your `field` store references of those (ie `Drawable[][] fields = ....`)","body":"<code>if (field[i][k] instanceof MineCell) {</code> casting like this kind of seems like a bad idea.  I&#39;d instead you use an <code>interface</code> which defined a <code>draw</code> method of some kind and the make your <code>field</code> store references of those (ie <code>Drawable[][] fields = ....</code>)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687217815,"post_id":76510559,"comment_id":134902949,"body_markdown":"I&#39;d also look at what `getHorizontalPosition` and `getVerticalPosition` are returning as you could be painting the images off screen","body":"I&#39;d also look at what <code>getHorizontalPosition</code> and <code>getVerticalPosition</code> are returning as you could be painting the images off screen"}],"owner":{"account_id":28854166,"reputation":9,"user_id":22099337,"display_name":"jerome utti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687312299,"creation_date":1687217105,"question_id":76510559,"body_markdown":"I have a minesweeper project that uses pngs to paint the icons for my cells. For some reason, my paint/draw methods will fill in all of the cells except mines. Everything is in the same directory.  In my code, I override paintComponent(Graphics g) from java.awt.Graphics. I then paint the cells of my minefield based on their status &quot;opened&quot;/&quot;flagged&quot;/&quot;covered&quot; etc. \r\n[enter image description here](https://i.stack.imgur.com/oPGZW.png)\r\n[enter image description here](https://i.stack.imgur.com/mcZg1.png)\r\n\r\nhere is the pathway of methods that are involved in my painting process:\r\n\r\n**UPDATE: Here is a minimal reproducable example**\r\n\r\n1. Play.java\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\n\r\npublic class Play\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tEventQueue.invokeLater(new Runnable()\r\n\t\t\t{\r\n\t\t\t\tpublic void run()\r\n\t\t\t\t{\r\n\t\t\t\t\t// game configs rows,cols,cellSize,#ofmines\r\n\t\t\t\t\tint[] default_configs = {16,16,15,10};\r\n\t\t\t\t\t\r\n\t\t\t\t\tConfiguration.loadParameters(default_configs);\r\n\t\t\t\t\tJFrame frame = new JFrame();\r\n\t\t\t\t\tJLabel statusbar = new JLabel(&quot;select a cell&quot;);\r\n\t\t\t\t\tframe.add(statusbar, BorderLayout.SOUTH);\r\n\t\t\t\t\tframe.add(new Board(Configuration.ROWS, Configuration.COLS, Configuration.MINES, statusbar));\r\n\t\t\t\t\tframe.setResizable(false);\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setTitle(&quot;Ekrem&#39;s Minefield&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\n```\r\n\r\nBoard.java\r\n```\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JLabel;\r\nimport java.awt.Graphics;\r\nimport java.awt.Dimension;\r\n\r\n\r\npublic class Board extends JPanel\r\n{\r\n\r\n\tprivate Minefield minefield;\r\n\tprivate JLabel status;\r\n\tprivate int height;\r\n\tprivate int width;\r\n\tprivate int mines;\r\n/**\r\n *  Constructor that creates a minefield, initializes values, activates mouse, and sets up size of the board\r\n */\r\n\tpublic Board(int height, int width, int mines, JLabel statusbar)\r\n\t{\r\n\t\tthis.height = height;\r\n\t\tthis.width = width;\r\n\t\tthis.mines = mines;\r\n\t\tthis.minefield = new Minefield(height, width, mines);\r\n\t\tstatus = statusbar;\r\n\t\tsetPreferredSize(new Dimension(Configuration.BOARD_WIDTH, Configuration.BOARD_HEIGHT));\r\n\t\taddMouseListener(new MouseReader(this));\r\n\t}\r\n/**\r\n * @param Graphics object\r\n */\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g)\r\n\t{\r\n\t\tminefield.draw(g);\r\n\t}\r\n\t\r\n\tpublic Minefield getMinefield() {\r\n\t\treturn this.minefield;\r\n\t}\r\n\t\r\n/**\r\n * this method adjusts the statuses of cells based on user interaction through a mouse\r\n */\r\n\tpublic void mouseClickOnLocation(int x, int y, String button)\r\n\t{\r\n\t\tObject clickedCell = minefield.getCellByScreenCoordinates(x,y);\r\n\t\tif (clickedCell instanceof InfoCell) {\r\n\t\t\tif (button == &quot;right&quot;) {\r\n\t\t\t\tif (((InfoCell)(clickedCell)).getStatus().equals(&quot;opnd&quot;)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if (((InfoCell)(clickedCell)).getStatus().equals(&quot;mrkd&quot;)) {\r\n\t\t\t\t\t((InfoCell)(clickedCell)).setStatus(&quot;cvrd&quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t((InfoCell)(clickedCell)).setStatus(&quot;mrkd&quot;);\r\n\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if (button == &quot;left&quot;) {\r\n\t\t\t\t//minefield.openCells((InfoCell)(clickedCell));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (clickedCell instanceof MineCell) {\r\n\t\t\tif (button == &quot;right&quot;) {\r\n\t\t\t\tif(((MineCell)(clickedCell)).getStatus().equals(&quot;cvrd&quot;)) {\r\n\t\t\t\t\t((MineCell)(clickedCell)).setStatus(&quot;mrkd&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t((MineCell)(clickedCell)).setStatus(&quot;cvrd&quot;);\r\n\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\telse if (button == &quot;left&quot;) {\r\n\t\t\t\t((MineCell)(clickedCell)).setStatus(&quot;opnd&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n```\r\nConfiguration.java\r\n```\r\npublic class Configuration {\r\n\tpublic static int ROWS;\r\n\tpublic static int COLS;\r\n\tpublic static int CELL_SIZE;\r\n\tpublic static int MINES;\r\n\tpublic static int BOARD_WIDTH;\r\n\tpublic static int BOARD_HEIGHT;\r\n\tpublic static int UNOPENED_INFOCELL_COUNT;\r\n\t\r\n\tpublic static void loadParameters(int[] parameters){\r\n\t\tROWS = parameters[0];\r\n\t\tCOLS = parameters[1];\r\n\t\tCELL_SIZE = parameters[2];\r\n\t\tMINES = parameters[3];\r\n\t\tUNOPENED_INFOCELL_COUNT = ROWS * COLS - MINES;\r\n\t\tBOARD_WIDTH = COLS * CELL_SIZE + 1;\r\n\t\tBOARD_HEIGHT = ROWS * CELL_SIZE + 1;\r\n\t}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nInfoCell.java\r\n```\r\nimport javax.swing.ImageIcon;\r\n\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\n\r\npublic class InfoCell {\r\n\tprivate int row;\r\n\tprivate int column;\r\n\tprivate int numOfAdjacentMines = 0;\r\n\tprivate String status = &quot;cvrd&quot;;\r\n\t//covered, uncovered, marked, wrongly_marked\r\n\r\n\tpublic InfoCell(int row, int column, int numOfAdjacentMines) {\r\n\t\tthis.row = row;\r\n\t\tthis.column = column;\r\n\t\tthis.numOfAdjacentMines = numOfAdjacentMines;\r\n\t}\r\n\tpublic int getRow() {\r\n\t\treturn this.row;\r\n\t}\r\n\tpublic int getCol() {\r\n\t\treturn this.column;\r\n\t}\r\n\tpublic void setMines(int mineCount) {\r\n\t\tthis.numOfAdjacentMines = mineCount;\r\n\t}\r\n\tpublic int getNumOfAdjacentMines() {\r\n\t\treturn this.numOfAdjacentMines;\r\n\t}\r\n\r\n\tpublic void draw(Graphics g) {\r\n\t\tg.drawImage(this.getImage(), this.getHorizontalPosition(), this.getVerticalPosition(), null);\r\n\t}\r\n\t\r\n\tpublic Image getImage() {\r\n\t\tImage image;\r\n\t\tif (status.equals(&quot;cvrd&quot;)) {\r\n\t\t\tImageIcon a = new ImageIcon(&quot;img/covered_cell.png&quot;);\r\n\t\t\timage = a.getImage();\r\n\t\t}\r\n\t\telse if(status.equals(&quot;mrkd&quot;)) {\r\n\t\t\tImageIcon a = new ImageIcon(&quot;img/marked_cell.png&quot;);\r\n\t\t\timage = a.getImage();\r\n\t\t}\r\n\t\telse if(status.equals(&quot;wmrkd&quot;)){\r\n\t\t\tImageIcon a = new ImageIcon(&quot;img/wrong_mark.png&quot;);\r\n\t\t\timage = a.getImage();\r\n\t\t}\r\n\t\telse /*(status.equals(Configuration.STATUS_OPENED))*/ {\r\n\t\t\tImageIcon a = new ImageIcon(&quot;img/info_&quot; + this.numOfAdjacentMines + &quot;.png&quot;);\r\n\t\t\timage = a.getImage();\r\n\t\t}\r\n\t\treturn image; \r\n\t\t\t\t\r\n\t}\r\n\t\r\n\tpublic int getHorizontalPosition() {\r\n\t\treturn (column) * Configuration.CELL_SIZE;\r\n\t\t//Calculates and returns the pixel-level horizontal position of the top-left corner of the cell\r\n\t}\r\n\t\r\n\tpublic int getVerticalPosition() {\r\n\t\treturn (row) * Configuration.CELL_SIZE;\r\n\t\t//Calculates and returns the pixel-level vertical position of the top-left corner of the cell\r\n\t}\r\n\tpublic String getStatus() {\r\n\t\treturn this.status;\r\n\t}\r\n\tpublic void setStatus(String status) {\r\n\t\t//Setter method for the current status of the cell. Do not hard-code the value;\r\n\t\t//use a Configuration parameter instead.\r\n\t\tthis.status = status;\r\n\t}\r\n\r\n}\r\n\r\n``````\r\nMineCell.java\r\n```\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.ImageIcon;\r\nimport java.awt.Image;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.awt.Graphics;\r\n\r\n/**\r\n * \r\n * @author Ekrem Kaya\r\n * @version 9:44 03/11\r\n */\r\npublic class MineCell {\r\n/**\r\n * row, columnm, and status of each cell\r\n */\r\n\tprivate int row;\r\n\tprivate int column;\r\n\tprivate String status = &quot;cvrd&quot;;\r\n\t//covered - cvrd, uncovered - opnd, marked - mrkd\r\n/**\r\n * \r\n * @param row vertical location of the Cell object in Minefield\r\n * @param column horizantal poisition of the Cell object in Minefield\r\n */\r\n\tpublic MineCell(int row, int column) {\r\n\t\tthis.row = row;\r\n\t\tthis.column = row;\r\n\t}\r\n/**\r\n * \r\n * @param g the Graphics object passed to the cell by the Minefield class\r\n */\r\n\tpublic void draw(Graphics g) {\r\n\t\tg.drawImage(this.getImage(), this.getHorizontalPosition(), this.getVerticalPosition(), null);\r\n\t}\r\n/**\r\n * \r\n * @return this method returns an in representing the horizantal pixel location\r\n */\r\n\tpublic int getHorizontalPosition() {\r\n\t\treturn (column) * Configuration.CELL_SIZE;\r\n\t\t//Calculates and returns the pixel-level horizontal position of the top-left corner of the cell\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @return this method returns an in representing the vertical pixel location\r\n\t */\r\n\tpublic int getVerticalPosition() {\r\n\t\treturn (row) * Configuration.CELL_SIZE;\r\n\t\t//Calculates and returns the pixel-level vertical position of the top-left corner of the cell\r\n\t}\r\n/**\r\n * \r\n * @return this method returns the status attribute of the Cell which can be covered, open, wrongly marked, or marked\r\n */\r\n\tpublic String getStatus() {\r\n\t\treturn this.status;\r\n\t}\r\n/**\r\n * \r\n * @param status the string that represents the status of the cell\r\n */\r\n\tpublic void setStatus(String status) {\r\n\t\t//Setter method for the current status of the cell. Do not hard-code the value;\r\n\t\t//use a Configuration parameter instead.\r\n\t\tthis.status = status;\r\n\t}\r\n/**\r\n * \r\n * @return this returns the image from the folder that will represent the status of the cell\r\n */\r\n\tpublic Image getImage() {\r\n\t\t\r\n\t\tImage image;\r\n\t\t\r\n\t\tif(this.status.equals(&quot;mrkd&quot;)) {\r\n\t\t\tImageIcon a = new ImageIcon(&quot;img/marked_cell.png&quot;);\r\n\t\t\timage = a.getImage();\r\n\t\t}\r\n\t\telse if(this.status.equals(&quot;opnd&quot;)) {\r\n\t\t\tImageIcon a = new ImageIcon(&quot;img/mine_cell.png&quot;);\r\n\t\t\timage = a.getImage();\r\n\t\t}\r\n\t\telse /*(status.equals(Configuration.STATUS_COVERED))*/ {\r\n\t\t\tImageIcon a = new ImageIcon(&quot;img/covered_cell.png&quot;);\r\n\t\t\timage = a.getImage();\r\n\t\t}\r\n\t\treturn image;\r\n\t\t\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\nMouseReader.java\r\n\r\n```\r\n/**\r\n * DO NOT EDIT ANYTHING IN THIS FILE\r\n*/\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class MouseReader extends MouseAdapter\r\n{\r\n\tprivate Board board;\r\n\r\n\tpublic MouseReader(Board board)\r\n\t{\r\n\t\tthis.board = board;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e)\r\n\t{\r\n\t\tString button = &quot;&quot;;\r\n\t\tif (e.getButton() == MouseEvent.BUTTON1)\r\n\t\t\tbutton = &quot;left&quot;;\r\n\t\telse if (e.getButton() == MouseEvent.BUTTON3)\r\n\t\t\tbutton = &quot;right&quot;;\r\n\t\tboard.mouseClickOnLocation(e.getX(), e.getY(), button);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nThe methods for non-mine cells and minecells are almost identical, the code ends up painting all cells except minecells. I have checked and found that each of the above methods do end up being called and that the status of the minecells are also correctly labeled. ","title":"My JFrame project won&#39;t paint some PNGs and will paint others even though everything is in the same directory","body":"<p>I have a minesweeper project that uses pngs to paint the icons for my cells. For some reason, my paint/draw methods will fill in all of the cells except mines. Everything is in the same directory.  In my code, I override paintComponent(Graphics g) from java.awt.Graphics. I then paint the cells of my minefield based on their status &quot;opened&quot;/&quot;flagged&quot;/&quot;covered&quot; etc.\n<a href=\"https://i.stack.imgur.com/oPGZW.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/mcZg1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>here is the pathway of methods that are involved in my painting process:</p>\n<p><strong>UPDATE: Here is a minimal reproducable example</strong></p>\n<ol>\n<li>Play.java</li>\n</ol>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\npublic class Play\n{\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n            {\n                public void run()\n                {\n                    // game configs rows,cols,cellSize,#ofmines\n                    int[] default_configs = {16,16,15,10};\n                    \n                    Configuration.loadParameters(default_configs);\n                    JFrame frame = new JFrame();\n                    JLabel statusbar = new JLabel(&quot;select a cell&quot;);\n                    frame.add(statusbar, BorderLayout.SOUTH);\n                    frame.add(new Board(Configuration.ROWS, Configuration.COLS, Configuration.MINES, statusbar));\n                    frame.setResizable(false);\n                    frame.pack();\n                    frame.setTitle(&quot;Ekrem's Minefield&quot;);\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                    frame.setVisible(true);\n    \n                }\n            });\n    }\n}\n\n</code></pre>\n<p>Board.java</p>\n<pre><code>import javax.swing.JPanel;\nimport javax.swing.JLabel;\nimport java.awt.Graphics;\nimport java.awt.Dimension;\n\n\npublic class Board extends JPanel\n{\n\n    private Minefield minefield;\n    private JLabel status;\n    private int height;\n    private int width;\n    private int mines;\n/**\n *  Constructor that creates a minefield, initializes values, activates mouse, and sets up size of the board\n */\n    public Board(int height, int width, int mines, JLabel statusbar)\n    {\n        this.height = height;\n        this.width = width;\n        this.mines = mines;\n        this.minefield = new Minefield(height, width, mines);\n        status = statusbar;\n        setPreferredSize(new Dimension(Configuration.BOARD_WIDTH, Configuration.BOARD_HEIGHT));\n        addMouseListener(new MouseReader(this));\n    }\n/**\n * @param Graphics object\n */\n    @Override\n    public void paintComponent(Graphics g)\n    {\n        minefield.draw(g);\n    }\n    \n    public Minefield getMinefield() {\n        return this.minefield;\n    }\n    \n/**\n * this method adjusts the statuses of cells based on user interaction through a mouse\n */\n    public void mouseClickOnLocation(int x, int y, String button)\n    {\n        Object clickedCell = minefield.getCellByScreenCoordinates(x,y);\n        if (clickedCell instanceof InfoCell) {\n            if (button == &quot;right&quot;) {\n                if (((InfoCell)(clickedCell)).getStatus().equals(&quot;opnd&quot;)) {\n                    return;\n                }\n                else if (((InfoCell)(clickedCell)).getStatus().equals(&quot;mrkd&quot;)) {\n                    ((InfoCell)(clickedCell)).setStatus(&quot;cvrd&quot;);\n                }\n                else {\n                    ((InfoCell)(clickedCell)).setStatus(&quot;mrkd&quot;);\n        \n                }\n                \n            }\n            else if (button == &quot;left&quot;) {\n                //minefield.openCells((InfoCell)(clickedCell));\n            }\n        }\n        if (clickedCell instanceof MineCell) {\n            if (button == &quot;right&quot;) {\n                if(((MineCell)(clickedCell)).getStatus().equals(&quot;cvrd&quot;)) {\n                    ((MineCell)(clickedCell)).setStatus(&quot;mrkd&quot;);\n                    \n                }\n                else{\n                    ((MineCell)(clickedCell)).setStatus(&quot;cvrd&quot;);\n        \n                }\n\n            }\n            else if (button == &quot;left&quot;) {\n                ((MineCell)(clickedCell)).setStatus(&quot;opnd&quot;);\n            }\n        }\n\n        \n    }\n\n}\n\n\n\n</code></pre>\n<p>Configuration.java</p>\n<pre><code>public class Configuration {\n    public static int ROWS;\n    public static int COLS;\n    public static int CELL_SIZE;\n    public static int MINES;\n    public static int BOARD_WIDTH;\n    public static int BOARD_HEIGHT;\n    public static int UNOPENED_INFOCELL_COUNT;\n    \n    public static void loadParameters(int[] parameters){\n        ROWS = parameters[0];\n        COLS = parameters[1];\n        CELL_SIZE = parameters[2];\n        MINES = parameters[3];\n        UNOPENED_INFOCELL_COUNT = ROWS * COLS - MINES;\n        BOARD_WIDTH = COLS * CELL_SIZE + 1;\n        BOARD_HEIGHT = ROWS * CELL_SIZE + 1;\n    }\n\n}\n\n\n</code></pre>\n<p>InfoCell.java</p>\n<pre><code>import javax.swing.ImageIcon;\n\nimport java.awt.Graphics;\nimport java.awt.Image;\n\npublic class InfoCell {\n    private int row;\n    private int column;\n    private int numOfAdjacentMines = 0;\n    private String status = &quot;cvrd&quot;;\n    //covered, uncovered, marked, wrongly_marked\n\n    public InfoCell(int row, int column, int numOfAdjacentMines) {\n        this.row = row;\n        this.column = column;\n        this.numOfAdjacentMines = numOfAdjacentMines;\n    }\n    public int getRow() {\n        return this.row;\n    }\n    public int getCol() {\n        return this.column;\n    }\n    public void setMines(int mineCount) {\n        this.numOfAdjacentMines = mineCount;\n    }\n    public int getNumOfAdjacentMines() {\n        return this.numOfAdjacentMines;\n    }\n\n    public void draw(Graphics g) {\n        g.drawImage(this.getImage(), this.getHorizontalPosition(), this.getVerticalPosition(), null);\n    }\n    \n    public Image getImage() {\n        Image image;\n        if (status.equals(&quot;cvrd&quot;)) {\n            ImageIcon a = new ImageIcon(&quot;img/covered_cell.png&quot;);\n            image = a.getImage();\n        }\n        else if(status.equals(&quot;mrkd&quot;)) {\n            ImageIcon a = new ImageIcon(&quot;img/marked_cell.png&quot;);\n            image = a.getImage();\n        }\n        else if(status.equals(&quot;wmrkd&quot;)){\n            ImageIcon a = new ImageIcon(&quot;img/wrong_mark.png&quot;);\n            image = a.getImage();\n        }\n        else /*(status.equals(Configuration.STATUS_OPENED))*/ {\n            ImageIcon a = new ImageIcon(&quot;img/info_&quot; + this.numOfAdjacentMines + &quot;.png&quot;);\n            image = a.getImage();\n        }\n        return image; \n                \n    }\n    \n    public int getHorizontalPosition() {\n        return (column) * Configuration.CELL_SIZE;\n        //Calculates and returns the pixel-level horizontal position of the top-left corner of the cell\n    }\n    \n    public int getVerticalPosition() {\n        return (row) * Configuration.CELL_SIZE;\n        //Calculates and returns the pixel-level vertical position of the top-left corner of the cell\n    }\n    public String getStatus() {\n        return this.status;\n    }\n    public void setStatus(String status) {\n        //Setter method for the current status of the cell. Do not hard-code the value;\n        //use a Configuration parameter instead.\n        this.status = status;\n    }\n\n}\n\n</code></pre>\n<p>MineCell.java</p>\n<pre><code>import javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.awt.Graphics;\n\n/**\n * \n * @author Ekrem Kaya\n * @version 9:44 03/11\n */\npublic class MineCell {\n/**\n * row, columnm, and status of each cell\n */\n    private int row;\n    private int column;\n    private String status = &quot;cvrd&quot;;\n    //covered - cvrd, uncovered - opnd, marked - mrkd\n/**\n * \n * @param row vertical location of the Cell object in Minefield\n * @param column horizantal poisition of the Cell object in Minefield\n */\n    public MineCell(int row, int column) {\n        this.row = row;\n        this.column = row;\n    }\n/**\n * \n * @param g the Graphics object passed to the cell by the Minefield class\n */\n    public void draw(Graphics g) {\n        g.drawImage(this.getImage(), this.getHorizontalPosition(), this.getVerticalPosition(), null);\n    }\n/**\n * \n * @return this method returns an in representing the horizantal pixel location\n */\n    public int getHorizontalPosition() {\n        return (column) * Configuration.CELL_SIZE;\n        //Calculates and returns the pixel-level horizontal position of the top-left corner of the cell\n    }\n    /**\n     * \n     * @return this method returns an in representing the vertical pixel location\n     */\n    public int getVerticalPosition() {\n        return (row) * Configuration.CELL_SIZE;\n        //Calculates and returns the pixel-level vertical position of the top-left corner of the cell\n    }\n/**\n * \n * @return this method returns the status attribute of the Cell which can be covered, open, wrongly marked, or marked\n */\n    public String getStatus() {\n        return this.status;\n    }\n/**\n * \n * @param status the string that represents the status of the cell\n */\n    public void setStatus(String status) {\n        //Setter method for the current status of the cell. Do not hard-code the value;\n        //use a Configuration parameter instead.\n        this.status = status;\n    }\n/**\n * \n * @return this returns the image from the folder that will represent the status of the cell\n */\n    public Image getImage() {\n        \n        Image image;\n        \n        if(this.status.equals(&quot;mrkd&quot;)) {\n            ImageIcon a = new ImageIcon(&quot;img/marked_cell.png&quot;);\n            image = a.getImage();\n        }\n        else if(this.status.equals(&quot;opnd&quot;)) {\n            ImageIcon a = new ImageIcon(&quot;img/mine_cell.png&quot;);\n            image = a.getImage();\n        }\n        else /*(status.equals(Configuration.STATUS_COVERED))*/ {\n            ImageIcon a = new ImageIcon(&quot;img/covered_cell.png&quot;);\n            image = a.getImage();\n        }\n        return image;\n                \n    }\n}\n\n</code></pre>\n<p>MouseReader.java</p>\n<pre><code>/**\n * DO NOT EDIT ANYTHING IN THIS FILE\n*/\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class MouseReader extends MouseAdapter\n{\n    private Board board;\n\n    public MouseReader(Board board)\n    {\n        this.board = board;\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e)\n    {\n        String button = &quot;&quot;;\n        if (e.getButton() == MouseEvent.BUTTON1)\n            button = &quot;left&quot;;\n        else if (e.getButton() == MouseEvent.BUTTON3)\n            button = &quot;right&quot;;\n        board.mouseClickOnLocation(e.getX(), e.getY(), button);\n    }\n}\n\n</code></pre>\n<p>The methods for non-mine cells and minecells are almost identical, the code ends up painting all cells except minecells. I have checked and found that each of the above methods do end up being called and that the status of the minecells are also correctly labeled.</p>\n"},{"tags":["java","c#","android","xamarin.android","xamarin-binding"],"owner":{"account_id":9819677,"reputation":1248,"user_id":7274936,"accept_rate":67,"display_name":"Kikanye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687309683,"creation_date":1687309683,"question_id":76519297,"body_markdown":"I&#39;m trying to make a Xamarin Android Native binding for https://developer.android.com/guide/health-and-fitness/health-connect/get-started. I keep getting the error `GetChangesResponse does not implement inherited abstract member &#39;ProtoData.RawProto.get&#39;`.\r\n\r\nAny thoughts on how to fix this? I have added the line `&lt;attr path=&quot;/api/package[@name=&#39;androidx.health.platform.client.request&#39;]/class[@name=&#39;GetChangesTokenRequest&#39;]/method[starts-with(@name, &#39;get&#39;) and count(parameter)=0]&quot; name=&quot;propertyName&quot;&gt;&lt;/attr&gt;` to metadata.xml. but that doesn&#39;t work. ","title":"`GetChangesResponse does not implement inherited abstract member &#39;ProtoData.RawProto.get&#39;` when creating Xamarin Android binding","body":"<p>I'm trying to make a Xamarin Android Native binding for <a href=\"https://developer.android.com/guide/health-and-fitness/health-connect/get-started\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/health-and-fitness/health-connect/get-started</a>. I keep getting the error <code>GetChangesResponse does not implement inherited abstract member 'ProtoData.RawProto.get'</code>.</p>\n<p>Any thoughts on how to fix this? I have added the line <code>&lt;attr path=&quot;/api/package[@name='androidx.health.platform.client.request']/class[@name='GetChangesTokenRequest']/method[starts-with(@name, 'get') and count(parameter)=0]&quot; name=&quot;propertyName&quot;&gt;&lt;/attr&gt;</code> to metadata.xml. but that doesn't work.</p>\n"},{"tags":["java","node.js","angular","express","heroku"],"owner":{"account_id":15902484,"reputation":25,"user_id":11474506,"display_name":"Thomarkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687307361,"creation_date":1687307361,"question_id":76519188,"body_markdown":"Locally my angular frontend + java springboot backend monolithic app works just fine. I am trying to deploy this to Heroku for several days now but its not working. **My endpoints receives 404** while I am sure they work because locally they do. I know my backend is spun because in my heroku logs I can see the Spring logo and everything else. There are no errors. Just 404s for the GET calls to the /endpoints.\r\n\r\nI try to be as complete as I can, please ask for more bits of code when necessary.\r\n\r\nMy project structure is like this\r\n\r\n````\r\n.mvn/wrapper\r\nFrontend\r\nsrc\r\n.gitignore\r\nProcfile\r\nREADME.md\r\napp.json\r\nmvnw\r\nmvnw.cmd\r\npackage-lock.json\r\npackage.json\r\npom.xml\r\nserver.js\r\nsystem.properties\r\n````\r\n\r\nI deploy my app with my `Procfile` like this\r\n\r\n    web: java -jar target/dotaApplicationTool-0.0.1-SNAPSHOT.jar &amp; node server.js\r\n\r\nMy `server.js` looks like this\r\n\r\n    const express = require(&#39;express&#39;);\r\n    const path = require(&#39;path&#39;);\r\n    const cors = require(&#39;cors&#39;);\r\n    \r\n    const app = express();\r\n    \r\n    // Enable CORS\r\n    app.use(cors({\r\n      origin: &#39;https://dota-hero-matchup-cfe3a3ef874f.herokuapp.com&#39;\r\n    }));\r\n    \r\n    const distPath = path.join(__dirname, &#39;Frontend&#39;, &#39;dist&#39;, &#39;frontend&#39;);\r\n    \r\n    // Set cache control headers for static files\r\n    app.use(express.static(distPath, { setHeaders: (res, filePath) =&gt; {\r\n      if (filePath.endsWith(&#39;.js&#39;) || filePath.endsWith(&#39;.css&#39;)) {\r\n        res.setHeader(&#39;Cache-Control&#39;, &#39;no-store&#39;);\r\n      }\r\n    }}));\r\n    \r\n    // Define the middleware function\r\n    const setJsonContentType = (req, res, next) =&gt; {\r\n      res.setHeader(&#39;Content-Type&#39;, &#39;application/json&#39;);\r\n      res.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;https://dota-hero-matchup-cfe3a3ef874f.herokuapp.com&#39;);\r\n      next(); // Call next to proceed to the next middleware or route handler\r\n    };\r\n    \r\n    // Apply the middleware to all API calls\r\n    app.use(&#39;/&#39;, setJsonContentType);\r\n    \r\n    const port = process.env.PORT || 8080;\r\n    app.listen(port, () =&gt; {\r\n      console.log(&#39;Server is running on port&#39;, port);\r\n    });\r\n\r\nMy `package.json`\r\n\r\n    {\r\n      &quot;name&quot;: &quot;frontend&quot;,\r\n      &quot;version&quot;: &quot;0.0.0&quot;,\r\n      &quot;scripts&quot;: {\r\n        &quot;ng&quot;: &quot;ng&quot;,\r\n        &quot;start&quot;: &quot;node server.js&quot;,\r\n        &quot;build&quot;: &quot;ng build --configuration=production&quot;,\r\n        &quot;watch&quot;: &quot;ng build --watch --configuration development&quot;,\r\n        &quot;test&quot;: &quot;ng test&quot;,\r\n        &quot;heroku-postbuild&quot;: &quot;npm install --force --prefix Frontend &amp;&amp; npm run build --prefix Frontend&quot;\r\n      },\r\n      &quot;private&quot;: true,\r\n      &quot;dependencies&quot;: {\r\n        &quot;@angular/animations&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/cli&quot;: &quot;~15.2.4&quot;,\r\n        &quot;@angular/common&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/compiler&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/compiler-cli&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/core&quot;: &quot;^15.2.9&quot;,\r\n        &quot;@angular/forms&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/platform-browser&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/platform-browser-dynamic&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@angular/router&quot;: &quot;^15.2.0&quot;,\r\n        &quot;cors&quot;: &quot;^2.8.5&quot;,\r\n        &quot;express&quot;: &quot;^4.18.2&quot;,\r\n        &quot;http-proxy-middleware&quot;: &quot;^2.0.6&quot;,\r\n        &quot;rxjs&quot;: &quot;~7.8.0&quot;,\r\n        &quot;tslib&quot;: &quot;^2.3.0&quot;,\r\n        &quot;typescript&quot;: &quot;~4.9.4&quot;,\r\n        &quot;zone.js&quot;: &quot;~0.12.0&quot;\r\n      },\r\n      &quot;devDependencies&quot;: {\r\n        &quot;@angular-devkit/build-angular&quot;: &quot;^15.2.8&quot;,\r\n        &quot;@angular/cli&quot;: &quot;~15.2.4&quot;,\r\n        &quot;@angular/compiler-cli&quot;: &quot;^15.2.0&quot;,\r\n        &quot;@types/jasmine&quot;: &quot;~4.3.0&quot;,\r\n        &quot;jasmine-core&quot;: &quot;~4.5.0&quot;,\r\n        &quot;karma&quot;: &quot;~6.4.0&quot;,\r\n        &quot;karma-chrome-launcher&quot;: &quot;~3.1.0&quot;,\r\n        &quot;karma-coverage&quot;: &quot;~2.2.0&quot;,\r\n        &quot;karma-jasmine&quot;: &quot;~5.1.0&quot;,\r\n        &quot;karma-jasmine-html-reporter&quot;: &quot;~2.0.0&quot;,\r\n        &quot;prettier&quot;: &quot;2.8.8&quot;,\r\n        &quot;typescript&quot;: &quot;~4.9.4&quot;\r\n      },\r\n      &quot;engines&quot;: {\r\n        &quot;node&quot;: &quot;18.15.0&quot;,\r\n        &quot;npm&quot;: &quot;9.7.1&quot;\r\n      }\r\n    }\r\n\r\nNot sure if my `.gitignore` is interesting but I have seen some solutions regarding this, this contains `/dist/` and `node_modules`\r\n    \r\nMy heroku build uses `heroku/java`and `heroku/nodejs` buildpacks as set in the settings of my app at the heroku dashboard. There are no config vars.\r\n\r\n\r\nMy `heroku application log` shows no errors; important lines are\r\n`Tomcat initialized with port(s): 8080 (http)` and `Tomcat started on port(s): 8080 (http) with context path &#39;&#39;`\r\n\r\n\r\nMy extended heroku logs (from the cli) basicly show the Spring boot setup and the 404 for the GET / requests. No extra errors here. Important lines are `Server is running on port 36455` and e.g. of endpoint ` at=info method=GET path=&quot;/heroNames&quot; host=dota-hero-matchup-cfe3a3ef874f.herokuapp.com request_id=5a07e5b8-a82b-41b3-bbae-cd7122590425 fwd=&quot;44.206.218.176&quot; dyno=web.1 connect=0ms service=1ms status=404 bytes=489 protocol=https`\r\n\r\nIt would be so nice if someone could take a look at this and help me, I am stuck for days and I can&#39;t find an answer.","title":"404 Not Found when requesting after deploying to Heroku, works locally (springboot - angular mono)","body":"<p>Locally my angular frontend + java springboot backend monolithic app works just fine. I am trying to deploy this to Heroku for several days now but its not working. <strong>My endpoints receives 404</strong> while I am sure they work because locally they do. I know my backend is spun because in my heroku logs I can see the Spring logo and everything else. There are no errors. Just 404s for the GET calls to the /endpoints.</p>\n<p>I try to be as complete as I can, please ask for more bits of code when necessary.</p>\n<p>My project structure is like this</p>\n<pre><code>.mvn/wrapper\nFrontend\nsrc\n.gitignore\nProcfile\nREADME.md\napp.json\nmvnw\nmvnw.cmd\npackage-lock.json\npackage.json\npom.xml\nserver.js\nsystem.properties\n</code></pre>\n<p>I deploy my app with my <code>Procfile</code> like this</p>\n<pre><code>web: java -jar target/dotaApplicationTool-0.0.1-SNAPSHOT.jar &amp; node server.js\n</code></pre>\n<p>My <code>server.js</code> looks like this</p>\n<pre><code>const express = require('express');\nconst path = require('path');\nconst cors = require('cors');\n\nconst app = express();\n\n// Enable CORS\napp.use(cors({\n  origin: 'https://dota-hero-matchup-cfe3a3ef874f.herokuapp.com'\n}));\n\nconst distPath = path.join(__dirname, 'Frontend', 'dist', 'frontend');\n\n// Set cache control headers for static files\napp.use(express.static(distPath, { setHeaders: (res, filePath) =&gt; {\n  if (filePath.endsWith('.js') || filePath.endsWith('.css')) {\n    res.setHeader('Cache-Control', 'no-store');\n  }\n}}));\n\n// Define the middleware function\nconst setJsonContentType = (req, res, next) =&gt; {\n  res.setHeader('Content-Type', 'application/json');\n  res.setHeader('Access-Control-Allow-Origin', 'https://dota-hero-matchup-cfe3a3ef874f.herokuapp.com');\n  next(); // Call next to proceed to the next middleware or route handler\n};\n\n// Apply the middleware to all API calls\napp.use('/', setJsonContentType);\n\nconst port = process.env.PORT || 8080;\napp.listen(port, () =&gt; {\n  console.log('Server is running on port', port);\n});\n</code></pre>\n<p>My <code>package.json</code></p>\n<pre><code>{\n  &quot;name&quot;: &quot;frontend&quot;,\n  &quot;version&quot;: &quot;0.0.0&quot;,\n  &quot;scripts&quot;: {\n    &quot;ng&quot;: &quot;ng&quot;,\n    &quot;start&quot;: &quot;node server.js&quot;,\n    &quot;build&quot;: &quot;ng build --configuration=production&quot;,\n    &quot;watch&quot;: &quot;ng build --watch --configuration development&quot;,\n    &quot;test&quot;: &quot;ng test&quot;,\n    &quot;heroku-postbuild&quot;: &quot;npm install --force --prefix Frontend &amp;&amp; npm run build --prefix Frontend&quot;\n  },\n  &quot;private&quot;: true,\n  &quot;dependencies&quot;: {\n    &quot;@angular/animations&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/cli&quot;: &quot;~15.2.4&quot;,\n    &quot;@angular/common&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/compiler&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/compiler-cli&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/core&quot;: &quot;^15.2.9&quot;,\n    &quot;@angular/forms&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/platform-browser&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/platform-browser-dynamic&quot;: &quot;^15.2.0&quot;,\n    &quot;@angular/router&quot;: &quot;^15.2.0&quot;,\n    &quot;cors&quot;: &quot;^2.8.5&quot;,\n    &quot;express&quot;: &quot;^4.18.2&quot;,\n    &quot;http-proxy-middleware&quot;: &quot;^2.0.6&quot;,\n    &quot;rxjs&quot;: &quot;~7.8.0&quot;,\n    &quot;tslib&quot;: &quot;^2.3.0&quot;,\n    &quot;typescript&quot;: &quot;~4.9.4&quot;,\n    &quot;zone.js&quot;: &quot;~0.12.0&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@angular-devkit/build-angular&quot;: &quot;^15.2.8&quot;,\n    &quot;@angular/cli&quot;: &quot;~15.2.4&quot;,\n    &quot;@angular/compiler-cli&quot;: &quot;^15.2.0&quot;,\n    &quot;@types/jasmine&quot;: &quot;~4.3.0&quot;,\n    &quot;jasmine-core&quot;: &quot;~4.5.0&quot;,\n    &quot;karma&quot;: &quot;~6.4.0&quot;,\n    &quot;karma-chrome-launcher&quot;: &quot;~3.1.0&quot;,\n    &quot;karma-coverage&quot;: &quot;~2.2.0&quot;,\n    &quot;karma-jasmine&quot;: &quot;~5.1.0&quot;,\n    &quot;karma-jasmine-html-reporter&quot;: &quot;~2.0.0&quot;,\n    &quot;prettier&quot;: &quot;2.8.8&quot;,\n    &quot;typescript&quot;: &quot;~4.9.4&quot;\n  },\n  &quot;engines&quot;: {\n    &quot;node&quot;: &quot;18.15.0&quot;,\n    &quot;npm&quot;: &quot;9.7.1&quot;\n  }\n}\n</code></pre>\n<p>Not sure if my <code>.gitignore</code> is interesting but I have seen some solutions regarding this, this contains <code>/dist/</code> and <code>node_modules</code></p>\n<p>My heroku build uses <code>heroku/java</code>and <code>heroku/nodejs</code> buildpacks as set in the settings of my app at the heroku dashboard. There are no config vars.</p>\n<p>My <code>heroku application log</code> shows no errors; important lines are\n<code>Tomcat initialized with port(s): 8080 (http)</code> and <code>Tomcat started on port(s): 8080 (http) with context path ''</code></p>\n<p>My extended heroku logs (from the cli) basicly show the Spring boot setup and the 404 for the GET / requests. No extra errors here. Important lines are <code>Server is running on port 36455</code> and e.g. of endpoint <code> at=info method=GET path=&quot;/heroNames&quot; host=dota-hero-matchup-cfe3a3ef874f.herokuapp.com request_id=5a07e5b8-a82b-41b3-bbae-cd7122590425 fwd=&quot;44.206.218.176&quot; dyno=web.1 connect=0ms service=1ms status=404 bytes=489 protocol=https</code></p>\n<p>It would be so nice if someone could take a look at this and help me, I am stuck for days and I can't find an answer.</p>\n"},{"tags":["java","sockets"],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687306477,"creation_date":1687290701,"answer_id":76517989,"question_id":76514655,"body_markdown":"Your server loop is reading only 1 request per client, and is servicing only 1 client at a time.  `serverSocket.accept()` returns a new `Socket` for a newly connected client. You need to move the I/O logic for that `Socket` into a separate thread so that your loop can go back to `accept()` for the next client.\r\n\r\nTry something more like this instead:\r\n\r\n```java\r\nclass ClientThread extends Thread {\r\n    Socket client;\r\n\r\n    ClientThread(Socket client) {\r\n        this.client = client;\r\n    }\r\n\r\n    public void run() {\r\n        try {\r\n            DataInputStream dis = new DataInputStream(client.getInputStream());\r\n            while (true) {\r\n                String undividedInputs = dis.readUTF();\r\n                String[] inputs = undividedInputs.split(&quot;/&quot;);\r\n                DebugLogger.print(&quot;Messages:&quot;);\r\n                for(int i = 0; i &lt; inputs.length; i++){\r\n                    System.out.println(inputs[i]);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(e);\r\n        }\r\n    }\r\n}\r\n\r\npublic void run() {\r\n    try {\r\n        System.out.println(&quot;Binding socket..&quot;);\r\n        ServerSocket serverSocket = new ServerSocket(portNumber);\r\n        System.out.println(&quot;Socket is listening..&quot;);\r\n        while (true) {\r\n            Socket socket = serverSocket.accept();\r\n            new ClientThread(socket).start();\r\n        }\r\n    } catch (IOException e) {\r\n        System.err.println(e);\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```","title":"How do you create a server-side socket that can accept inputs from multiple clients in Java?","body":"<p>Your server loop is reading only 1 request per client, and is servicing only 1 client at a time.  <code>serverSocket.accept()</code> returns a new <code>Socket</code> for a newly connected client. You need to move the I/O logic for that <code>Socket</code> into a separate thread so that your loop can go back to <code>accept()</code> for the next client.</p>\n<p>Try something more like this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClientThread extends Thread {\n    Socket client;\n\n    ClientThread(Socket client) {\n        this.client = client;\n    }\n\n    public void run() {\n        try {\n            DataInputStream dis = new DataInputStream(client.getInputStream());\n            while (true) {\n                String undividedInputs = dis.readUTF();\n                String[] inputs = undividedInputs.split(&quot;/&quot;);\n                DebugLogger.print(&quot;Messages:&quot;);\n                for(int i = 0; i &lt; inputs.length; i++){\n                    System.out.println(inputs[i]);\n                }\n            }\n        } catch (IOException e) {\n            System.err.println(e);\n        }\n    }\n}\n\npublic void run() {\n    try {\n        System.out.println(&quot;Binding socket..&quot;);\n        ServerSocket serverSocket = new ServerSocket(portNumber);\n        System.out.println(&quot;Socket is listening..&quot;);\n        while (true) {\n            Socket socket = serverSocket.accept();\n            new ClientThread(socket).start();\n        }\n    } catch (IOException e) {\n        System.err.println(e);\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76517989,"answer_count":1,"score":-1,"last_activity_date":1687306477,"creation_date":1687263793,"question_id":76514655,"body_markdown":"I have a server-side socket running, with the aim for the socket to constantly accept new inputs from multiple different clients and the client can send an infinite number of requests. However, when I run the server and client, the server only seems to print only a single input from the client, even though the client is sending a new input every second.\r\n\r\nWhat do I need to modify in order for the server to:\r\n1. serve multiple clients at once\r\n2. Receive and print out an infinite number of inputs from each client\r\n\r\nCode:\r\n\r\nThe server socket thread:\r\n\r\n    public void run() {\r\n        try {\r\n            System.out.println(&quot;Binding socket..&quot;);\r\n            ServerSocket serverSocket = new ServerSocket(portNumber);\r\n    // THE MAIN READING LOOP:\r\n            while(true){\r\n                Socket socket = serverSocket.accept();\r\n                System.out.println(&quot;Socket is listening..&quot;);\r\n                DataInputStream dis = new DataInputStream(socket.getInputStream());\r\n  \r\n\r\n    //here, the code is meant to read the inputs made in the last 2 seconds as a single block (I&#39;m making a game)\r\n\r\n              \r\n\r\n                if(tickHappened){\r\n                    DebugLogger.print(&quot;Tick happened.&quot;);\r\n                    String undividedInputs = dis.readUTF();\r\n                    String[] inputs = undividedInputs.split(&quot;/&quot;);\r\n                    DebugLogger.print(&quot;Messages:&quot;);\r\n                    for(int i =0; i &lt; inputs.length;i++){\r\n                        System.out.println(inputs[i]);\r\n                    }\r\n                    tickHappened = false;\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(e);\r\n            throw new RuntimeException(e);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nThe client side, which sends inputs every second. The sendMessageToServer method is called:\r\n\r\n    package Graphics;\r\n    \r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class ClientToServerCommunications {\r\n        private static Socket s;\r\n    \r\n        static {\r\n            try {\r\n                s = new Socket(&quot;localhost&quot;,6666);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        ;\r\n        private static DataOutputStream dout;\r\n    \r\n        static {\r\n            try {\r\n                dout = new DataOutputStream(s.getOutputStream());\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        ;\r\n    \r\n    \r\n        public static void sendMessageToServer(String message) throws InterruptedException {\r\n            while (true) {\r\n                Thread.sleep(1000);\r\n                try {\r\n                    dout.writeUTF(message);\r\n                } catch (Exception e) {\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n","title":"How do you create a server-side socket that can accept inputs from multiple clients in Java?","body":"<p>I have a server-side socket running, with the aim for the socket to constantly accept new inputs from multiple different clients and the client can send an infinite number of requests. However, when I run the server and client, the server only seems to print only a single input from the client, even though the client is sending a new input every second.</p>\n<p>What do I need to modify in order for the server to:</p>\n<ol>\n<li>serve multiple clients at once</li>\n<li>Receive and print out an infinite number of inputs from each client</li>\n</ol>\n<p>Code:</p>\n<p>The server socket thread:</p>\n<pre><code>public void run() {\n    try {\n        System.out.println(&quot;Binding socket..&quot;);\n        ServerSocket serverSocket = new ServerSocket(portNumber);\n// THE MAIN READING LOOP:\n        while(true){\n            Socket socket = serverSocket.accept();\n            System.out.println(&quot;Socket is listening..&quot;);\n            DataInputStream dis = new DataInputStream(socket.getInputStream());\n\n\n//here, the code is meant to read the inputs made in the last 2 seconds as a single block (I'm making a game)\n\n          \n\n            if(tickHappened){\n                DebugLogger.print(&quot;Tick happened.&quot;);\n                String undividedInputs = dis.readUTF();\n                String[] inputs = undividedInputs.split(&quot;/&quot;);\n                DebugLogger.print(&quot;Messages:&quot;);\n                for(int i =0; i &lt; inputs.length;i++){\n                    System.out.println(inputs[i]);\n                }\n                tickHappened = false;\n            }\n        }\n    } catch (IOException e) {\n        System.err.println(e);\n        throw new RuntimeException(e);\n\n    }\n}\n</code></pre>\n<p>The client side, which sends inputs every second. The sendMessageToServer method is called:</p>\n<pre><code>package Graphics;\n\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class ClientToServerCommunications {\n    private static Socket s;\n\n    static {\n        try {\n            s = new Socket(&quot;localhost&quot;,6666);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    ;\n    private static DataOutputStream dout;\n\n    static {\n        try {\n            dout = new DataOutputStream(s.getOutputStream());\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    ;\n\n\n    public static void sendMessageToServer(String message) throws InterruptedException {\n        while (true) {\n            Thread.sleep(1000);\n            try {\n                dout.writeUTF(message);\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","windows","bash","gradle","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":3912470,"reputation":667,"user_id":3237372,"accept_rate":58,"display_name":"Martin D"},"score":0,"creation_date":1515878986,"post_id":45451450,"comment_id":83471466,"body_markdown":"Hello @Shorn, I am curious whether you have managed to set up your environment to use Gradle scripts in WSL without having it install into Linux.","body":"Hello @Shorn, I am curious whether you have managed to set up your environment to use Gradle scripts in WSL without having it install into Linux."},{"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"score":1,"creation_date":1515973983,"post_id":45451450,"comment_id":83493453,"body_markdown":"@MartinD No, I gave up after failing to find much info out there for this kind of thing.  Decided to give the WSL a few years to bake - MinGW/Cygwin etc. are fine for my usage.","body":"@MartinD No, I gave up after failing to find much info out there for this kind of thing.  Decided to give the WSL a few years to bake - MinGW/Cygwin etc. are fine for my usage."}],"answers":[{"tags":[],"owner":{"account_id":974734,"reputation":2864,"user_id":4957915,"display_name":"solamour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537645957,"creation_date":1537645957,"answer_id":52460336,"question_id":45451450,"body_markdown":"Just to make sure I didn&#39;t miss anything obvious, I downloaded Android Studio (which contains JDK, or rather, minimal set of Java tools to build Android projects) for Windows and Linux and installed them to 2 different directories: Windows version in `C:\\Program Files\\Android\\Android Studio` and Linux version in `~/android-studio`.\r\n\r\nInside WSL, I first set `JAVA_HOME` to `C:\\Program Files\\Android\\Android Studio\\jre` and ran `gradlew`. It gave me `invalid directory` error message.\r\n\r\nNext, I set `JAVA_HOME` to `~/android-studio/jre`. Everything worked as expected.\r\n\r\nAnd then I copied Android Studio for Windows to `~/android-studio-windows` and set `JAVA_HOME` to `~/android-studio-windows/jre`. It gave me the same `invalid directory` error message, so I think WSL isn&#39;t able to use Windows tools as they are (well, at least not for the moment).\r\n\r\nSo, if your goal is to use gradle in WSL, I think you need to install OpenJDK for Linux (or something similar) inside WSL.","title":"How can I build my Gradle project using a Windows JDK from Ubuntu on Windows?","body":"<p>Just to make sure I didn't miss anything obvious, I downloaded Android Studio (which contains JDK, or rather, minimal set of Java tools to build Android projects) for Windows and Linux and installed them to 2 different directories: Windows version in <code>C:\\Program Files\\Android\\Android Studio</code> and Linux version in <code>~/android-studio</code>.</p>\n\n<p>Inside WSL, I first set <code>JAVA_HOME</code> to <code>C:\\Program Files\\Android\\Android Studio\\jre</code> and ran <code>gradlew</code>. It gave me <code>invalid directory</code> error message.</p>\n\n<p>Next, I set <code>JAVA_HOME</code> to <code>~/android-studio/jre</code>. Everything worked as expected.</p>\n\n<p>And then I copied Android Studio for Windows to <code>~/android-studio-windows</code> and set <code>JAVA_HOME</code> to <code>~/android-studio-windows/jre</code>. It gave me the same <code>invalid directory</code> error message, so I think WSL isn't able to use Windows tools as they are (well, at least not for the moment).</p>\n\n<p>So, if your goal is to use gradle in WSL, I think you need to install OpenJDK for Linux (or something similar) inside WSL.</p>\n"},{"tags":[],"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687306268,"creation_date":1537656078,"answer_id":52461476,"question_id":45451450,"body_markdown":"When you launch `./gradlew` from inside WSL, it attempts to run the Java binary from `$JAVA_HOME` Java installation. What kind of installation is it? Does it contain Windows binary or Linux binary?\r\n\r\nIf the question is reduced to: &quot;how to run a windows binary from WSL&quot;.\r\n\r\nThen the answer is: &quot;you can&#39;t - that&#39;s not supported&quot;.\r\n\r\n - https://github.com/Microsoft/WSL/issues/333\r\n - https://github.com/kubernetes/minikube/issues/2140","title":"How can I build my Gradle project using a Windows JDK from Ubuntu on Windows?","body":"<p>When you launch <code>./gradlew</code> from inside WSL, it attempts to run the Java binary from <code>$JAVA_HOME</code> Java installation. What kind of installation is it? Does it contain Windows binary or Linux binary?</p>\n<p>If the question is reduced to: &quot;how to run a windows binary from WSL&quot;.</p>\n<p>Then the answer is: &quot;you can't - that's not supported&quot;.</p>\n<ul>\n<li><a href=\"https://github.com/Microsoft/WSL/issues/333\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/WSL/issues/333</a></li>\n<li><a href=\"https://github.com/kubernetes/minikube/issues/2140\" rel=\"nofollow noreferrer\">https://github.com/kubernetes/minikube/issues/2140</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5291309,"reputation":420,"user_id":4223826,"display_name":"Rdey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554844125,"creation_date":1554844125,"answer_id":55601353,"question_id":45451450,"body_markdown":"If you are using **WSL** and you want to run **gradlew from WSL terminal** then you can do it as follow:\r\n\r\n``` bash\r\ncmd.exe /c gradlew --version\r\ncmd.exe /c gradlew :help\r\ncmd.exe /c gradlew app:dependencies\r\ncmd.exe /c gradlew app:dependencies | grep -i &quot;com.android.support&quot;\r\n```\r\n**I&#39;m using windows version:**\r\n```\r\nrdey@surface-book:/mnt/c/Users/rdey/git/ici$ cmd.exe /c &quot;systeminfo&quot; | grep &quot;^OS Version&quot;\r\nOS Version:                10.0.17763 N/A Build 17763\r\n```","title":"How can I build my Gradle project using a Windows JDK from Ubuntu on Windows?","body":"<p>If you are using <strong>WSL</strong> and you want to run <strong>gradlew from WSL terminal</strong> then you can do it as follow:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>cmd.exe /c gradlew --version\ncmd.exe /c gradlew :help\ncmd.exe /c gradlew app:dependencies\ncmd.exe /c gradlew app:dependencies | grep -i \"com.android.support\"\n</code></pre>\n\n<p><strong>I'm using windows version:</strong></p>\n\n<pre><code>rdey@surface-book:/mnt/c/Users/rdey/git/ici$ cmd.exe /c \"systeminfo\" | grep \"^OS Version\"\nOS Version:                10.0.17763 N/A Build 17763\n</code></pre>\n"}],"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4255,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":52461476,"answer_count":3,"score":9,"last_activity_date":1687306268,"creation_date":1501647838,"question_id":45451450,"body_markdown":"My Windows 10 machine recently forcibly upgraded me to the new &quot;Creators Update&quot; version of windows, the &quot;About your PC&quot; widget now reports my OS version as &quot;1703&quot;.\r\n\r\nI thought I would have a crack at using the Windows Subsystem for Linux / Ubuntu on Windows to compile my Gradle projects.\r\n\r\nI have a Windows JDK installed at `c:\\jvm\\jdk1.8.0_102`.\r\n\r\nIn my MinGW terminal window (&quot;git bash&quot;), I can setup a JAVA_HOME and execute the gradle wrapper script from my source directory and it will just work:\r\n\r\n    export JAVA_HOME=/c/jvm/jdk1.8.0_102\r\n    ./gradlew tasks\r\n\r\n\r\nBut I can&#39;t figure out how to do an equivalent thing with WSL.\r\nOpening up the &quot;Bash on Ubuntu on Windows&quot; terminal, changing to my source directory and invoking the following:\r\n\r\n    export JAVA_HOME=/mnt/c/jvm/jdk1.8.0_102\r\n    ./gradlew tasks\r\n\r\n\r\nResults in the following:\r\n\r\n    ERROR: JAVA_HOME is set to an invalid directory: /mnt/c/jvm/jdk1.8.0_102\r\n\r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n\r\nNote that the Windows JDK runs fine from within the bash terminal.  Executing `$JAVA_HOME/bin/java.exe -version` in the Ubuntu terminal will work fine.\r\n\r\n\r\n**The question is**:\r\n\r\nIs there any way to run my gradlew script from a &quot;Bash on Ubuntu on Windows&quot; terminal using the Windows JDK I&#39;ve previously installed.\r\n\r\n\r\n*Please note*:\r\n\r\nI&#39;m specifically asking if it&#39;s possible to get my Gradle script running using the Windows JDK, not an Ubuntu/Linux JDK installed with WSL.\r\nI understand I can likely run my gradle wrapper script by installing a Linux JDK within the Windows Sunbsystem for Linux, but I&#39;m trying to figure out if it&#39;s possible to run my builds using the Windows JDK.","title":"How can I build my Gradle project using a Windows JDK from Ubuntu on Windows?","body":"<p>My Windows 10 machine recently forcibly upgraded me to the new \"Creators Update\" version of windows, the \"About your PC\" widget now reports my OS version as \"1703\".</p>\n\n<p>I thought I would have a crack at using the Windows Subsystem for Linux / Ubuntu on Windows to compile my Gradle projects.</p>\n\n<p>I have a Windows JDK installed at <code>c:\\jvm\\jdk1.8.0_102</code>.</p>\n\n<p>In my MinGW terminal window (\"git bash\"), I can setup a JAVA_HOME and execute the gradle wrapper script from my source directory and it will just work:</p>\n\n<pre><code>export JAVA_HOME=/c/jvm/jdk1.8.0_102\n./gradlew tasks\n</code></pre>\n\n<p>But I can't figure out how to do an equivalent thing with WSL.\nOpening up the \"Bash on Ubuntu on Windows\" terminal, changing to my source directory and invoking the following:</p>\n\n<pre><code>export JAVA_HOME=/mnt/c/jvm/jdk1.8.0_102\n./gradlew tasks\n</code></pre>\n\n<p>Results in the following:</p>\n\n<pre><code>ERROR: JAVA_HOME is set to an invalid directory: /mnt/c/jvm/jdk1.8.0_102\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n\n<p>Note that the Windows JDK runs fine from within the bash terminal.  Executing <code>$JAVA_HOME/bin/java.exe -version</code> in the Ubuntu terminal will work fine.</p>\n\n<p><strong>The question is</strong>:</p>\n\n<p>Is there any way to run my gradlew script from a \"Bash on Ubuntu on Windows\" terminal using the Windows JDK I've previously installed.</p>\n\n<p><em>Please note</em>:</p>\n\n<p>I'm specifically asking if it's possible to get my Gradle script running using the Windows JDK, not an Ubuntu/Linux JDK installed with WSL.\nI understand I can likely run my gradle wrapper script by installing a Linux JDK within the Windows Sunbsystem for Linux, but I'm trying to figure out if it's possible to run my builds using the Windows JDK.</p>\n"},{"tags":["java","synchronization","locks"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1687303448,"post_id":76518961,"comment_id":134916978,"body_markdown":"I have formatted your code for readability, but this is something you should really be doing yourself","body":"I have formatted your code for readability, but this is something you should really be doing yourself"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687303691,"post_id":76518961,"comment_id":134916998,"body_markdown":"Try writing `synchronized(balance)`. What does the compiler say? Why?","body":"Try writing <code>synchronized(balance)</code>. What does the compiler say? Why?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687303758,"post_id":76518961,"comment_id":134917001,"body_markdown":"Try setting up a little program with a couple of threads and some `Thread.sleep` calls, so that you can check these things yourself.","body":"Try setting up a little program with a couple of threads and some <code>Thread.sleep</code> calls, so that you can check these things yourself."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1687304084,"post_id":76518961,"comment_id":134917019,"body_markdown":"&quot;so a lock on balance and not on &quot;this&quot;&quot; what are you trying to achieve by doing that?","body":"&quot;so a lock on balance and not on &quot;this&quot;&quot; what are you trying to achieve by doing that?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687304146,"post_id":76518961,"comment_id":134917026,"body_markdown":"`synchronized(this) {` is essentially doing the same thing as `synchronized void withdraw(int amount) {` (in the context of this example), so it&#39;s locking on the instance of the object.  The use of `synchronized` should focus on critical paths, so two threads can&#39;t modify the balance at the same time, for example.  The next question is why would you want to lock on `balance` (assuming you actually could) over `this` in this case?","body":"<code>synchronized(this) {</code> is essentially doing the same thing as <code>synchronized void withdraw(int amount) {</code> (in the context of this example), so it&#39;s locking on the instance of the object.  The use of <code>synchronized</code> should focus on critical paths, so two threads can&#39;t modify the balance at the same time, for example.  The next question is why would you want to lock on <code>balance</code> (assuming you actually could) over <code>this</code> in this case?"},{"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"score":0,"creation_date":1687304640,"post_id":76518961,"comment_id":134917074,"body_markdown":"@MadProgrammer I still don&#39;t fully understand it. &quot;synchronized (balance) ...&quot; puts a lock on balance, which is not the same as putting a lock on the instance? This means that a synchronized method (i.e., a method with body &quot;synchronized (this) ...&quot;)  can still be executed at the same time &quot;synchronized (balance) ...&quot; is executed?","body":"@MadProgrammer I still don&#39;t fully understand it. &quot;synchronized (balance) ...&quot; puts a lock on balance, which is not the same as putting a lock on the instance? This means that a synchronized method (i.e., a method with body &quot;synchronized (this) ...&quot;)  can still be executed at the same time &quot;synchronized (balance) ...&quot; is executed?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687307789,"post_id":76518961,"comment_id":134917326,"body_markdown":"`synchronized (balance)` (assuming you could) would lock any other parts of your code which used the same thing, so if you did it in withdraw and deposit, only one thread would be able to execute those critical paths at a time - but, `synchronized` works on `Object`s only. `synchronized (this)` is locking on the instance object itself - so it&#39;s a matter of need/desire and the level of granularity you need. Also remember, you could do `synchronized (instanceOfBankAccount) { ...}` and this would also prevent any other threads from been able to execute the (`synchronized(this)`) critical paths","body":"<code>synchronized (balance)</code> (assuming you could) would lock any other parts of your code which used the same thing, so if you did it in withdraw and deposit, only one thread would be able to execute those critical paths at a time - but, <code>synchronized</code> works on <code>Object</code>s only. <code>synchronized (this)</code> is locking on the instance object itself - so it&#39;s a matter of need/desire and the level of granularity you need. Also remember, you could do <code>synchronized (instanceOfBankAccount) { ...}</code> and this would also prevent any other threads from been able to execute the (<code>synchronized(this)</code>) critical paths"}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687304634,"creation_date":1687304634,"answer_id":76519034,"question_id":76518961,"body_markdown":"&gt; can that method be executed at the same moment withdraw is executed\r\n\r\nIgnoring that you can&#39;t sync on a primitive `int` and answering as if it were some object type, say `Integer`...\r\n\r\nThen, yes, they can execute concurrently, since the two methods are using different locks, and thus neither prevents the other from executing.\r\n\r\nIt is irrelevant that one of the objects sync&#39;d-on happens to contain the other object being sync&#39;d-on.\r\n","title":"synchronized this vs field in Java","body":"<blockquote>\n<p>can that method be executed at the same moment withdraw is executed</p>\n</blockquote>\n<p>Ignoring that you can't sync on a primitive <code>int</code> and answering as if it were some object type, say <code>Integer</code>...</p>\n<p>Then, yes, they can execute concurrently, since the two methods are using different locks, and thus neither prevents the other from executing.</p>\n<p>It is irrelevant that one of the objects sync'd-on happens to contain the other object being sync'd-on.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687304655,"creation_date":1687304655,"answer_id":76519036,"question_id":76518961,"body_markdown":"You can&#39;t synchronize on `balance` because it has primitive type: you can only synchronize on non-null reference types.\r\n\r\nHowever, changing `balance` to `Integer` would not be a desirable thing to do: synchronization locks on the expression&#39;s value. As such, nothing would stop you doing something like this:\r\n\r\n```\r\n// Thread 1.\r\nsynchronized (balance) {\r\n  // Do something long-running here.\r\n}\r\n\r\n// Thread 2.\r\nbalance = balance + 1;\r\nsynchronized (balance) {\r\n  // ...\r\n}\r\n```\r\n\r\nNothing stops thread 2 from changing the balance field; and because `(Object) balance != (Object) (balance + 1)` (`!=` meaning &quot;is not the same object as&quot;), thread 2 would then be synchronizing on a different object to thread 1, so there would be no mutual exclusion, happens-before etc.\r\n\r\nNot to mention, synchronizing on something as pervasive as an `Integer` could lead to weird behavior, if someone else has access to the same `Integer` (e.g. via autoboxing), and decides to synchronize on it themselves.\r\n\r\nJust don&#39;t do this: the right thing to synchronize on is the holder of `balance`, i.e. `this`.","title":"synchronized this vs field in Java","body":"<p>You can't synchronize on <code>balance</code> because it has primitive type: you can only synchronize on non-null reference types.</p>\n<p>However, changing <code>balance</code> to <code>Integer</code> would not be a desirable thing to do: synchronization locks on the expression's value. As such, nothing would stop you doing something like this:</p>\n<pre><code>// Thread 1.\nsynchronized (balance) {\n  // Do something long-running here.\n}\n\n// Thread 2.\nbalance = balance + 1;\nsynchronized (balance) {\n  // ...\n}\n</code></pre>\n<p>Nothing stops thread 2 from changing the balance field; and because <code>(Object) balance != (Object) (balance + 1)</code> (<code>!=</code> meaning &quot;is not the same object as&quot;), thread 2 would then be synchronizing on a different object to thread 1, so there would be no mutual exclusion, happens-before etc.</p>\n<p>Not to mention, synchronizing on something as pervasive as an <code>Integer</code> could lead to weird behavior, if someone else has access to the same <code>Integer</code> (e.g. via autoboxing), and decides to synchronize on it themselves.</p>\n<p>Just don't do this: the right thing to synchronize on is the holder of <code>balance</code>, i.e. <code>this</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687305832,"creation_date":1687305832,"answer_id":76519110,"question_id":76518961,"body_markdown":"Great question.\r\n\r\n&gt; _&quot;... Let&#39;s say I have in another method &quot;synchronized (balance) ...&quot; (so a lock on balance and not on &quot;this&quot;), can that method be executed at the same moment withdraw is executed?&quot;_\r\n\r\nThis is the exact reason there are both _synchronized methods_ and _synchronized statements_.  \r\nYou can fine tune the synchronization, as to prevent unnecessary blocking within threads.\r\n\r\nAll synchronization does is allow for only one thread to execute the code-block at a time.\r\n\r\nSo, if you are using _synchronized(this)_, then the entire instance will block other threads, on any invocation.  \r\nWhereas, if you are synchronizing on just a single variable, then only invocations on that object&amp;mdash;or variable&amp;mdash;will block.\r\n\r\n_[Intrinsic Locks and Synchronization (The Java&amp;trade; Tutorials &amp;gt; Essential Java Classes &amp;gt; Concurrency)](https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html)_.  \r\n\r\nHere is a relevant excerpt.\r\n\r\n&gt; _&quot;... Synchronized statements are also useful for improving concurrency with fine-grained synchronization. Suppose, for example, class MsLunch has two instance fields, c1 and c2, that are never used together. All updates of these fields must be synchronized, but there&#39;s no reason to prevent an update of c1 from being interleaved with an update of c2 — and doing so reduces concurrency by creating unnecessary blocking. Instead of using synchronized methods or otherwise using the lock associated with this, we create two objects solely to provide locks. ...&quot;_","title":"synchronized this vs field in Java","body":"<p>Great question.</p>\n<blockquote>\n<p><em>&quot;... Let's say I have in another method &quot;synchronized (balance) ...&quot; (so a lock on balance and not on &quot;this&quot;), can that method be executed at the same moment withdraw is executed?&quot;</em></p>\n</blockquote>\n<p>This is the exact reason there are both <em>synchronized methods</em> and <em>synchronized statements</em>.<br />\nYou can fine tune the synchronization, as to prevent unnecessary blocking within threads.</p>\n<p>All synchronization does is allow for only one thread to execute the code-block at a time.</p>\n<p>So, if you are using <em>synchronized(this)</em>, then the entire instance will block other threads, on any invocation.<br />\nWhereas, if you are synchronizing on just a single variable, then only invocations on that object—or variable—will block.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">Intrinsic Locks and Synchronization (The Java™ Tutorials &gt; Essential Java Classes &gt; Concurrency)</a></em>.</p>\n<p>Here is a relevant excerpt.</p>\n<blockquote>\n<p><em>&quot;... Synchronized statements are also useful for improving concurrency with fine-grained synchronization. Suppose, for example, class MsLunch has two instance fields, c1 and c2, that are never used together. All updates of these fields must be synchronized, but there's no reason to prevent an update of c1 from being interleaved with an update of c2 — and doing so reduces concurrency by creating unnecessary blocking. Instead of using synchronized methods or otherwise using the lock associated with this, we create two objects solely to provide locks. ...&quot;</em></p>\n</blockquote>\n"}],"owner":{"account_id":17614006,"reputation":157,"user_id":14043571,"display_name":"Ronald"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76519110,"answer_count":3,"score":0,"last_activity_date":1687305832,"creation_date":1687303133,"question_id":76518961,"body_markdown":"```\r\nclass BankAccount {\r\n  private int balance = 0;\r\n\r\n  int getBalance() {\r\n    synchronized(this) {\r\n      return balance;\r\n    }\r\n  }\r\n\r\n  void setBalance(int x) {\r\n    synchronized(this) {\r\n      balance = x;\r\n    }\r\n  }\r\n\r\n  void withdraw(int amount) {\r\n    synchronized(this) {\r\n      int b = getBalance();\r\n      if (amount &gt; b)\r\n        throw...\r\n          setBalance(b– amount);\r\n    }\r\n  }\r\n}\r\n```\r\nIn withdraw there is &quot;synchronized (this) ...&quot;.\r\n\r\nLet&#39;s say I have in another method &quot;synchronized (balance) ...&quot; (so a lock on balance and not on &quot;this&quot;), can that method be executed at the same moment withdraw is executed?","title":"synchronized this vs field in Java","body":"<pre><code>class BankAccount {\n  private int balance = 0;\n\n  int getBalance() {\n    synchronized(this) {\n      return balance;\n    }\n  }\n\n  void setBalance(int x) {\n    synchronized(this) {\n      balance = x;\n    }\n  }\n\n  void withdraw(int amount) {\n    synchronized(this) {\n      int b = getBalance();\n      if (amount &gt; b)\n        throw...\n          setBalance(b– amount);\n    }\n  }\n}\n</code></pre>\n<p>In withdraw there is &quot;synchronized (this) ...&quot;.</p>\n<p>Let's say I have in another method &quot;synchronized (balance) ...&quot; (so a lock on balance and not on &quot;this&quot;), can that method be executed at the same moment withdraw is executed?</p>\n"},{"tags":["java","amazon-web-services","sts-securitytokenservice"],"comments":[{"owner":{"account_id":6992865,"reputation":147,"user_id":7207406,"display_name":"Leon Kacowicz"},"score":0,"creation_date":1687305497,"post_id":76519043,"comment_id":134917148,"body_markdown":"Which versions of the SDK did you try?","body":"Which versions of the SDK did you try?"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687311921,"post_id":76519043,"comment_id":134917703,"body_markdown":"Hi there please provide more details about your question~","body":"Hi there please provide more details about your question~"},{"owner":{"account_id":28861885,"reputation":1,"user_id":22105493,"display_name":"Xin Chen"},"score":0,"creation_date":1687363794,"post_id":76519043,"comment_id":134927492,"body_markdown":"Hi, I used this dependency: &#39;&lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n            &lt;version&gt;1.12.471&lt;/version&gt;\n        &lt;/dependency&gt;&#39;","body":"Hi, I used this dependency: &#39;&lt;dependency&gt;             &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;             &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;             &lt;version&gt;1.12.471&lt;/version&gt;         &lt;/dependency&gt;&#39;"}],"owner":{"account_id":28861885,"reputation":1,"user_id":22105493,"display_name":"Xin Chen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687304772,"creation_date":1687304772,"question_id":76519043,"body_markdown":"Follow https://docs.aws.amazon.com/AmazonS3/latest/userguide/AuthUsingTempSessionToken.html,\r\nbut encountered error\r\n\r\n```\r\nCannot resolve method &#39;withCredentials&#39; in &#39;AWSSecurityTokenServiceClientBuilder&#39;\r\n```\r\n\r\n\r\n```\r\nAWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard()\r\n                                                                                .withCredentials(new ProfileCredentialsProvider())\r\n                                                                                .withRegion(REGION)\r\n                                                                                .build();\r\n```\r\n\r\n\r\nTried change dependencies version but it didn&#39;t work.","title":"AWSSecurityTokenServiceClientBuilder cannot resolve method &quot;withCredentials&quot;","body":"<p>Follow <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/AuthUsingTempSessionToken.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/AuthUsingTempSessionToken.html</a>,\nbut encountered error</p>\n<pre><code>Cannot resolve method 'withCredentials' in 'AWSSecurityTokenServiceClientBuilder'\n</code></pre>\n<pre><code>AWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard()\n                                                                                .withCredentials(new ProfileCredentialsProvider())\n                                                                                .withRegion(REGION)\n                                                                                .build();\n</code></pre>\n<p>Tried change dependencies version but it didn't work.</p>\n"},{"tags":["java","terminal"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1687178716,"post_id":76506736,"comment_id":134896250,"body_markdown":"`echo` is an actual program, which has those features implemented in its code. When you print of any other program, your console just displays the output as-is, it is unrelated to echo.","body":"<code>echo</code> is an actual program, which has those features implemented in its code. When you print of any other program, your console just displays the output as-is, it is unrelated to echo."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1687178953,"post_id":76506736,"comment_id":134896296,"body_markdown":"*...Then &quot;Hello&quot; would be in your clipboard. That works just fine.* Really? For one thing, since that has escape sequences, you would have to invoke `echo -e`. When I do that, it really doesn&#39;t do anything, nor place anything on the clipboard","body":"<i>...Then &quot;Hello&quot; would be in your clipboard. That works just fine.</i> Really? For one thing, since that has escape sequences, you would have to invoke <code>echo -e</code>. When I do that, it really doesn&#39;t do anything, nor place anything on the clipboard"},{"owner":{"account_id":3527503,"reputation":933,"user_id":2948173,"display_name":"Ethan McCue"},"score":0,"creation_date":1687179811,"post_id":76506736,"comment_id":134896489,"body_markdown":"I mean, I can record a video of me running the echo version if you don&#39;t believe me g00se. It did require enabling a permission in my terminal, but I was prompted and that permission seems to be terminal wide and not just for that one program. I&#39;m using iTerm on MacOS Ventura if that helps.","body":"I mean, I can record a video of me running the echo version if you don&#39;t believe me g00se. It did require enabling a permission in my terminal, but I was prompted and that permission seems to be terminal wide and not just for that one program. I&#39;m using iTerm on MacOS Ventura if that helps."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687184917,"post_id":76506736,"comment_id":134897637,"body_markdown":"Right. I&#39;m not sure if my (xfce4) terminal supports it.","body":"Right. I&#39;m not sure if my (xfce4) terminal supports it."}],"answers":[{"tags":[],"owner":{"account_id":3527503,"reputation":933,"user_id":2948173,"display_name":"Ethan McCue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687303767,"creation_date":1687281819,"answer_id":76517097,"question_id":76506736,"body_markdown":"The issue here was that \\x1b was being interpreted in my terminal as an escape sequence. In java to write that same character you need to use a unicode escape.\r\n\r\nI.E. instead of printing literally\r\n\r\n```\r\n\\x1b]52;c;SGVsbG8=\\x07\r\n```\r\n\r\nI needed to use `\\u001b` and `\\u0007` in the place of `\\x1b` and `\\x07`\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;\\u001b]52;c;SGVsbG8=\\u0007&quot;);\r\n    }\r\n}\r\n```\r\n\r\nand that will work.\r\n\r\nEDIT:\r\n\r\nI published the result of this exploration as a library on Maven Central\r\n\r\nhttps://github.com/bowbahdoe/osc52\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;dev.mccue&lt;/groupId&gt;\r\n    &lt;artifactId&gt;osc52&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Why does System.out.println not behave the same as `echo`","body":"<p>The issue here was that \\x1b was being interpreted in my terminal as an escape sequence. In java to write that same character you need to use a unicode escape.</p>\n<p>I.E. instead of printing literally</p>\n<pre><code>\\x1b]52;c;SGVsbG8=\\x07\n</code></pre>\n<p>I needed to use <code>\\u001b</code> and <code>\\u0007</code> in the place of <code>\\x1b</code> and <code>\\x07</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;\\u001b]52;c;SGVsbG8=\\u0007&quot;);\n    }\n}\n</code></pre>\n<p>and that will work.</p>\n<p>EDIT:</p>\n<p>I published the result of this exploration as a library on Maven Central</p>\n<p><a href=\"https://github.com/bowbahdoe/osc52\" rel=\"nofollow noreferrer\">https://github.com/bowbahdoe/osc52</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;dev.mccue&lt;/groupId&gt;\n    &lt;artifactId&gt;osc52&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3527503,"reputation":933,"user_id":2948173,"display_name":"Ethan McCue"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687303767,"creation_date":1687178576,"question_id":76506736,"body_markdown":"I&#39;ve been experimenting with OSC52 escape sequences and I&#39;m a bit baffled that I can&#39;t get them to work in Java.\r\n\r\nIf you ran this in a terminal\r\n\r\n```\r\necho &#39;\\x1b]52;c;SGVsbG8=\\x07&#39;\r\n```\r\n\r\nThen &quot;Hello&quot; would be in your clipboard. That works just fine.\r\n\r\nFor some reason though, doing the same operation in Java does not put it in my clipboard.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;\\\\x1b]52;c;SGVsbG8=\\\\x07&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAm I doing something obviously wrong? Is there another mechanism that is more &quot;raw&quot; that would work?\r\n\r\nedit:\r\n\r\nGIF of the echo version working.\r\n\r\n[![Echoing OSC52 escapes][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GcR9t.gif","title":"Why does System.out.println not behave the same as `echo`","body":"<p>I've been experimenting with OSC52 escape sequences and I'm a bit baffled that I can't get them to work in Java.</p>\n<p>If you ran this in a terminal</p>\n<pre><code>echo '\\x1b]52;c;SGVsbG8=\\x07'\n</code></pre>\n<p>Then &quot;Hello&quot; would be in your clipboard. That works just fine.</p>\n<p>For some reason though, doing the same operation in Java does not put it in my clipboard.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;\\\\x1b]52;c;SGVsbG8=\\\\x07&quot;);\n    }\n}\n</code></pre>\n<p>Am I doing something obviously wrong? Is there another mechanism that is more &quot;raw&quot; that would work?</p>\n<p>edit:</p>\n<p>GIF of the echo version working.</p>\n<p><a href=\"https://i.stack.imgur.com/GcR9t.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GcR9t.gif\" alt=\"Echoing OSC52 escapes\" /></a></p>\n"},{"tags":["java","file-upload","libgdx"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687319081,"post_id":76517501,"comment_id":134918249,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687303516,"creation_date":1687303516,"answer_id":76518981,"question_id":76517501,"body_markdown":"Please see the test code here\r\n\r\nhttps://github.com/libgdx/libgdx/blob/master/tests/gdx-tests-lwjgl3/src/com/badlogic/gdx/tests/lwjgl3/DragNDropTest.java#L77\r\n\r\nKey bit is this\r\n\r\n```\r\nconfig.setWindowListener(new Lwjgl3WindowAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void filesDropped (String[] files) {\r\n\t\t\t\tfor (String file : files) {\r\n\t\t\t\t\tGdx.app.log(&quot;GLWF Drop&quot;, file);\r\n\t\t\t\t}\r\n\t\t\t\ttest.addFiles(files);\r\n\t\t\t}\r\n\r\n\t\t});\r\n```\r\n","title":"how to upload images for my project in libgdx","body":"<p>Please see the test code here</p>\n<p><a href=\"https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests-lwjgl3/src/com/badlogic/gdx/tests/lwjgl3/DragNDropTest.java#L77\" rel=\"nofollow noreferrer\">https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests-lwjgl3/src/com/badlogic/gdx/tests/lwjgl3/DragNDropTest.java#L77</a></p>\n<p>Key bit is this</p>\n<pre><code>config.setWindowListener(new Lwjgl3WindowAdapter() {\n            @Override\n            public void filesDropped (String[] files) {\n                for (String file : files) {\n                    Gdx.app.log(&quot;GLWF Drop&quot;, file);\n                }\n                test.addFiles(files);\n            }\n\n        });\n</code></pre>\n"}],"owner":{"account_id":28860509,"reputation":1,"user_id":22104414,"display_name":"Elina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687303516,"creation_date":1687285487,"question_id":76517501,"body_markdown":"how can I insert a drag and drop part for uploading images in my project.\r\nI need this part so that users can upload their image for their profile in game.\r\n\r\nI read so many pages in Google but I found nothing.\r\nThere is only the way to import your project on Libgdx.","title":"how to upload images for my project in libgdx","body":"<p>how can I insert a drag and drop part for uploading images in my project.\nI need this part so that users can upload their image for their profile in game.</p>\n<p>I read so many pages in Google but I found nothing.\nThere is only the way to import your project on Libgdx.</p>\n"},{"tags":["java","android","android-studio","sdk","androidx"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1687303784,"post_id":76518971,"comment_id":134917004,"body_markdown":"&quot;If i build it and open the application on android 10,9,8,7 that will force close&quot; -- use Logcat to examine the stack trace associated with your crash: https://commonsware.com/Jetpack/pages/chap-debug-001.html","body":"&quot;If i build it and open the application on android 10,9,8,7 that will force close&quot; -- use Logcat to examine the stack trace associated with your crash: <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">commonsware.com/Jetpack/pages/chap-debug-001.html</a>"},{"owner":{"account_id":25113732,"reputation":155,"user_id":18963042,"display_name":"Vishnu S Dharan"},"score":0,"creation_date":1687316606,"post_id":76518971,"comment_id":134918048,"body_markdown":"You might be using some api which requires a minimum sdk of 30. Check your code for an annotation @RequiresApi or use the Logcat to see the exact crash log.","body":"You might be using some api which requires a minimum sdk of 30. Check your code for an annotation @RequiresApi or use the Logcat to see the exact crash log."}],"owner":{"account_id":27315302,"reputation":1,"user_id":20829874,"display_name":"FHA04"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687303222,"creation_date":1687303222,"question_id":76518971,"body_markdown":"I have application but just can run on android 11,12,13 and can&#39;t run on android 10,9,8,7. If i build it and open the application on android 10,9,8,7 that will force close. I have set minSdk to 24 and targetSdk to 33 but still can&#39;t run on android 10,9,8,7. What&#39;s wrong?\r\nMaybe you can help me to resolve this.\r\n\r\n[minimum target sdk](https://i.stack.imgur.com/HxBEC.png)\r\n","title":"My application cannot run on android 11 down","body":"<p>I have application but just can run on android 11,12,13 and can't run on android 10,9,8,7. If i build it and open the application on android 10,9,8,7 that will force close. I have set minSdk to 24 and targetSdk to 33 but still can't run on android 10,9,8,7. What's wrong?\nMaybe you can help me to resolve this.</p>\n<p><a href=\"https://i.stack.imgur.com/HxBEC.png\" rel=\"nofollow noreferrer\">minimum target sdk</a></p>\n"},{"tags":["java","spring-boot","swagger","swagger-2.0","springfox"],"comments":[{"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"score":0,"creation_date":1590156091,"post_id":61954244,"comment_id":109581508,"body_markdown":"show your dependencies","body":"show your dependencies"},{"owner":{"account_id":9114379,"reputation":469,"user_id":6781905,"display_name":"Uzair"},"score":0,"creation_date":1590157347,"post_id":61954244,"comment_id":109582197,"body_markdown":"java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\nThis is causing issue. What version of springboot, spring and springFox are you using?","body":"java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping This is causing issue. What version of springboot, spring and springFox are you using?"},{"owner":{"account_id":3579169,"reputation":407,"user_id":2987773,"display_name":"user2987773"},"score":0,"creation_date":1590161204,"post_id":61954244,"comment_id":109584370,"body_markdown":"@Uzair springboot is 2.2.7.RELEASE and springfox is 2.9.2.","body":"@Uzair springboot is 2.2.7.RELEASE and springfox is 2.9.2."},{"owner":{"account_id":9114379,"reputation":469,"user_id":6781905,"display_name":"Uzair"},"score":0,"creation_date":1590162421,"post_id":61954244,"comment_id":109585050,"body_markdown":"@user298773 there was bug reported, you can have a look at it.  https://github.com/springfox/springfox/issues/2364  May you can change versions if it helps","body":"@user298773 there was bug reported, you can have a look at it.  <a href=\"https://github.com/springfox/springfox/issues/2364\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/issues/2364</a>  May you can change versions if it helps"},{"owner":{"account_id":3579169,"reputation":407,"user_id":2987773,"display_name":"user2987773"},"score":0,"creation_date":1590164682,"post_id":61954244,"comment_id":109586419,"body_markdown":"@Uzair Thanks but is it possible to a single swagger documentation generated across all these micro-services","body":"@Uzair Thanks but is it possible to a single swagger documentation generated across all these micro-services"},{"owner":{"account_id":9114379,"reputation":469,"user_id":6781905,"display_name":"Uzair"},"score":0,"creation_date":1590177032,"post_id":61954244,"comment_id":109592322,"body_markdown":"I don&#39;t know what do you mean all micro services. All micro services would have their own swagger documentation, This what microServices stands for, breaking services in to smaller, manageable services. If you are clubbing things together to make a large application, then you are deviating what MS says. All the controllers if your micro services will support the same swagger documentations as long as they are under single SpringBootApplication. By multi module, if you mean to say that you&#39;re developing an REST API with other dependent modules(Libraries), then you don&#39;t need swagger in libs","body":"I don&#39;t know what do you mean all micro services. All micro services would have their own swagger documentation, This what microServices stands for, breaking services in to smaller, manageable services. If you are clubbing things together to make a large application, then you are deviating what MS says. All the controllers if your micro services will support the same swagger documentations as long as they are under single SpringBootApplication. By multi module, if you mean to say that you&#39;re developing an REST API with other dependent modules(Libraries), then you don&#39;t need swagger in libs"},{"owner":{"account_id":9114379,"reputation":469,"user_id":6781905,"display_name":"Uzair"},"score":0,"creation_date":1590177225,"post_id":61954244,"comment_id":109592413,"body_markdown":"@user2987773\n1/2 as Libraries might provide merely plain java APIs(methods) with no spring feature in it. If it helps, you can  accept the answer and click on up help button of comments","body":"@user2987773 1/2 as Libraries might provide merely plain java APIs(methods) with no spring feature in it. If it helps, you can  accept the answer and click on up help button of comments"}],"answers":[{"tags":[],"owner":{"account_id":6306033,"reputation":467,"user_id":4899086,"display_name":"Mukesh Keshu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590148946,"creation_date":1590148946,"answer_id":61954617,"question_id":61954244,"body_markdown":"Use the below swagger dependencies to your pom.xml\r\n\r\nhttps://mvnrepository.com/artifact/io.springfox/springfox-swagger2/2.6.1\r\nhttps://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui/2.6.1\r\n\r\nAdd annotation `@EnableSwagger2` in your main Class (containing `main` method and annotated with `@SpringBootApplication`).\r\n\r\nRun the application. If 8080 is your port, then swagger docs will be available on `localhost:8080/swagger-ui.html` ","title":"Setting up swagger documentation for a multi-module micro-service spring boot application","body":"<p>Use the below swagger dependencies to your pom.xml</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/io.springfox/springfox-swagger2/2.6.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.springfox/springfox-swagger2/2.6.1</a>\n<a href=\"https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui/2.6.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui/2.6.1</a></p>\n\n<p>Add annotation <code>@EnableSwagger2</code> in your main Class (containing <code>main</code> method and annotated with <code>@SpringBootApplication</code>).</p>\n\n<p>Run the application. If 8080 is your port, then swagger docs will be available on <code>localhost:8080/swagger-ui.html</code> </p>\n"},{"tags":[],"owner":{"account_id":9114379,"reputation":469,"user_id":6781905,"display_name":"Uzair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590177890,"creation_date":1590177890,"answer_id":61963032,"question_id":61954244,"body_markdown":"This might be causing an issue\r\n\r\n    java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping \r\n\r\nThere was a bug reported with springfox [bug in springfox][1]\r\n\r\n\r\nYou can have a look at it, might helps you. I don&#39;t know if it has already been resolved with latest release. SO you can try with latest release versions.\r\n\r\nTo answer your multi-module micro service, Not sure what do you mean all micro services. All micro services would have their own swagger documentation, This is what microServices stands for, breaking services in to smaller, manageable services. If you are clubbing things together to make a large application, then you are deviating what MS stands for. All the controllers of your micro services will support the same swagger documentations as long as they are under single SpringBootApplication. &lt;br&gt;&lt;br&gt;\r\n\r\nBy multi modules, if you mean to say that you&#39;re developing a REST API with other dependent modules(Libraries), then you don&#39;t need swagger in libs as Libraries might provide merely plain java APIs(methods) with no spring feature in it.\r\n\r\nTake a look [spring multi module application][2]\r\n\r\n\r\n  [1]: https://github.com/springfox/springfox/issues/2364\r\n  [2]: https://spring.io/guides/gs/multi-module/","title":"Setting up swagger documentation for a multi-module micro-service spring boot application","body":"<p>This might be causing an issue</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping \n</code></pre>\n\n<p>There was a bug reported with springfox <a href=\"https://github.com/springfox/springfox/issues/2364\" rel=\"nofollow noreferrer\">bug in springfox</a></p>\n\n<p>You can have a look at it, might helps you. I don't know if it has already been resolved with latest release. SO you can try with latest release versions.</p>\n\n<p>To answer your multi-module micro service, Not sure what do you mean all micro services. All micro services would have their own swagger documentation, This is what microServices stands for, breaking services in to smaller, manageable services. If you are clubbing things together to make a large application, then you are deviating what MS stands for. All the controllers of your micro services will support the same swagger documentations as long as they are under single SpringBootApplication. <br><br></p>\n\n<p>By multi modules, if you mean to say that you're developing a REST API with other dependent modules(Libraries), then you don't need swagger in libs as Libraries might provide merely plain java APIs(methods) with no spring feature in it.</p>\n\n<p>Take a look <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">spring multi module application</a></p>\n"},{"tags":[],"owner":{"account_id":17380556,"reputation":1,"user_id":12592867,"display_name":"BAILLAHI Lemine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687302577,"creation_date":1687302496,"answer_id":76518917,"question_id":61954244,"body_markdown":"Well, to include all the controllers in the different sub-modules, you can do : \r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SpringFoxConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2).select()\r\n                .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\r\n                .paths(PathSelectors.any())\r\n                .build()\r\n                .apiInfo(apiInfo());\r\n    }\r\n\r\n    private ApiInfo apiInfo() {\r\n        return new ApiInfoBuilder().title(&quot;Your title&quot;)\r\n                .description(&quot;Some description&quot;)\r\n                .version(&quot;1.0&quot;)\r\n                .build();\r\n    }\r\n\r\n}\r\n\r\n","title":"Setting up swagger documentation for a multi-module micro-service spring boot application","body":"<p>Well, to include all the controllers in the different sub-modules, you can do :</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SpringFoxConfig {\n@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2).select()\n            .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\n            .paths(PathSelectors.any())\n            .build()\n            .apiInfo(apiInfo());\n}\n\nprivate ApiInfo apiInfo() {\n    return new ApiInfoBuilder().title(&quot;Your title&quot;)\n            .description(&quot;Some description&quot;)\n            .version(&quot;1.0&quot;)\n            .build();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3579169,"reputation":407,"user_id":2987773,"display_name":"user2987773"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1687302577,"creation_date":1590147790,"question_id":61954244,"body_markdown":"Before I go to my main question, Is it possible to setup a swagger documentation for the entire project (all micro-services)?\r\n\r\nAt the moment I have a multi-module spring-boot application and I want to configure swagger documentation that handles all sub-modules (micros-services). What I have done so far is, I have created another module to handle the swagger documentation.\r\n\r\nThe swagger module contains two classes; code is shown below.\r\nSwagger Config\r\n```\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket api(){\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .apiInfo(apiInfo())\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.regex(&quot;/api.*&quot;))\r\n                .build();\r\n    }\r\n\r\n    private ApiInfo  apiInfo(){\r\n        return new ApiInfoBuilder().title(&quot;API&quot;)\r\n                .build();\r\n    }\r\n}\r\n```\r\nSwaggerService\r\n```\r\n@SpringBootApplication\r\npublic class SwaggerService {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SwaggerService.class, args);\r\n    }\r\n}\r\n```\r\n\r\nThis does compile anyways, I get the following messages\r\n```\r\n2020-05-22 12:15:42.719  INFO 29248 --- [           main] service.SwaggerService             : No active profile set, falling back to default profiles: default\r\n2020-05-22 12:15:43.226 ERROR 29248 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:184) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat service.SwaggerService.main(SwaggerService.java:14) ~[classes/:na]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@368239c8]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:743) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:742) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:526) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:230) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:223) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:213) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:167) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:142) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\t... 17 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2310) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 33 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 37 common frames omitted\r\n\r\n2020-05-22 12:15:43.228  WARN 29248 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n\r\njava.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@368239c8]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:743) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:742) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:526) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:619) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:611) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1242) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:869) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:857) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:844) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:795) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n\tat service.SwaggerService.main(SwaggerService.java:14) ~[classes/:na]\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2310) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 25 common frames omitted\r\n\r\n```\r\n\r\nI&#39;m pretty sure there is more to be done.","title":"Setting up swagger documentation for a multi-module micro-service spring boot application","body":"<p>Before I go to my main question, Is it possible to setup a swagger documentation for the entire project (all micro-services)?</p>\n\n<p>At the moment I have a multi-module spring-boot application and I want to configure swagger documentation that handles all sub-modules (micros-services). What I have done so far is, I have created another module to handle the swagger documentation.</p>\n\n<p>The swagger module contains two classes; code is shown below.\nSwagger Config</p>\n\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n    @Bean\n    public Docket api(){\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(apiInfo())\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.regex(\"/api.*\"))\n                .build();\n    }\n\n    private ApiInfo  apiInfo(){\n        return new ApiInfoBuilder().title(\"API\")\n                .build();\n    }\n}\n</code></pre>\n\n<p>SwaggerService</p>\n\n<pre><code>@SpringBootApplication\npublic class SwaggerService {\n    public static void main(String[] args) {\n        SpringApplication.run(SwaggerService.class, args);\n    }\n}\n</code></pre>\n\n<p>This does compile anyways, I get the following messages</p>\n\n<pre><code>2020-05-22 12:15:42.719  INFO 29248 --- [           main] service.SwaggerService             : No active profile set, falling back to default profiles: default\n2020-05-22 12:15:43.226 ERROR 29248 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:184) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at service.SwaggerService.main(SwaggerService.java:14) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@368239c8]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:743) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:742) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:526) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:230) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:223) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:213) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:167) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:142) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    ... 17 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2310) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 33 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 37 common frames omitted\n\n2020-05-22 12:15:43.228  WARN 29248 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\njava.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@368239c8]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:481) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:358) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:414) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:743) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:742) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:526) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:619) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:611) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1242) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:869) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:857) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:844) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:795) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at service.SwaggerService.main(SwaggerService.java:14) ~[classes/:na]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2310) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 25 common frames omitted\n\n</code></pre>\n\n<p>I'm pretty sure there is more to be done.</p>\n"},{"tags":["java","multithreading","producer-consumer"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1686869973,"post_id":76485904,"comment_id":134861580,"body_markdown":"This is just a process scheduler like the one in the Linux (or any OS) kernel.  You have a fixed set of resources and an unbounded set of users of those resources.  Some are short lived and some never terminate.","body":"This is just a process scheduler like the one in the Linux (or any OS) kernel.  You have a fixed set of resources and an unbounded set of users of those resources.  Some are short lived and some never terminate."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686910590,"post_id":76485904,"comment_id":134866656,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687302372,"creation_date":1687300829,"answer_id":76518793,"question_id":76485904,"body_markdown":"&gt; But the issue is on Section 4.3, if instead of a Double, it was something like Queue&lt;String&gt; that needed to be pushed back onto the BlockingQueue, turning my Consumers to also be Producers.\r\n\r\nI can see your consumers (running in a standard `ExecutorService`) be able to access a work-queue.  They can dequeue a `Queue` object, work on the strings for a while and then &quot;pause&quot; the job by putting that `Queue` back on the work-queue and grabbing another job from the front of the work-queue to process.  One question is whether or not there is state that needs to be kept as the `Queue&lt;String&gt;` is being processed.  In this case you will need to have a wrapping `JobStatus` object which would hold the queue and any accumulators or other information so the next worker thread can pickup where the last one left off.  This might be a good idea anyway so you don&#39;t get confused by the queue of queues.\r\n\r\n&gt; workers alternate on processing streams - pausing their work on their current stream for another worker to continue before processing another stream\r\n\r\nI think the trick here is how do the workers figure out whether they should pause their work or not?  Maybe they could process 10000 items from the stream and put it back on the work-queue?  That logic could be built into the `JobStatus` object.  You could look at the `size()` of the work-queue to see whether things are backing up too.  An alternative to this would be to have multiple thread-pools for different sized jobs.  So the fast ones have their own queue for immediate servicing while the big ones chew in the background.\r\n\r\nBut given your specifications I can see pseudo code like the following.  It pauses by putting the job on the end of the work-queue.  Not sure that&#39;s what you would want.\r\n\r\n    // queue that when seen means that the jobs are done\r\n    final static Queue&lt;String&gt; END_MARKER = new LinkedList&lt;&gt;();\r\n    final BlockingQueue&lt;Queue&lt;String&gt;&gt; workQueue = new LinkedBlockingQueue&lt;&gt;();\r\n    ...\r\n    ExecutorService threadPool = Executors.newCachedThreadPool();\r\n    ...\r\n    // now start up our worker threads\r\n    for (int i = 0; i &lt; NUM_THREADS; i++) {\r\n       threadPool.submit(new WorkerThread(workQueue));\r\n    }\r\n    // the threads will shutdown when the END_MARKER is seen\r\n    threadPool.shutdown();\r\n    ...\r\n    // now add the jobs to the work-queue\r\n    for (Queue&lt;String&gt; queue : queuesForProcessing) {\r\n        workQueue.add(queue);\r\n    }\r\n    // at the end of the work you add END_MARKER to the work-queue\r\n    workQueue.add(END_MARKER);\r\n    \r\n    public class WorkerThread {\r\n        private final BlockingQueue&lt;Queue&lt;String&gt;&gt; workQueue; // from constructor\r\n        public void run() {\r\n           while (true) {\r\n               Queue&lt;String&gt; job = workQueue.take();\r\n               if (job == END_MARKER) {\r\n                  // need to tell the others to quit as well\r\n                  workQueue.put(job);\r\n                  break;\r\n               }\r\n               // now work on the queue job\r\n               while (true) {\r\n                  String foo = job.poll();\r\n                  if (foo == null) {\r\n                     // we are done with this job, get another one\r\n                     break;\r\n                  }\r\n                  // do the work on the String\r\n                  ...\r\n                  // now that we are done, see if we should pause this job\r\n                  if (testToSeeIfWeShouldPauseJob()) {\r\n                      // put it back on the queue and then loop to get another job\r\n                      workQueue.put(job);\r\n                      break;\r\n                  }\r\n               }\r\n           }\r\n        }\r\n    }\r\n\r\nHopefully this helps.\r\n","title":"Producer-Consumer Problem but with indefinite tasks?","body":"<blockquote>\n<p>But the issue is on Section 4.3, if instead of a Double, it was something like Queue that needed to be pushed back onto the BlockingQueue, turning my Consumers to also be Producers.</p>\n</blockquote>\n<p>I can see your consumers (running in a standard <code>ExecutorService</code>) be able to access a work-queue.  They can dequeue a <code>Queue</code> object, work on the strings for a while and then &quot;pause&quot; the job by putting that <code>Queue</code> back on the work-queue and grabbing another job from the front of the work-queue to process.  One question is whether or not there is state that needs to be kept as the <code>Queue&lt;String&gt;</code> is being processed.  In this case you will need to have a wrapping <code>JobStatus</code> object which would hold the queue and any accumulators or other information so the next worker thread can pickup where the last one left off.  This might be a good idea anyway so you don't get confused by the queue of queues.</p>\n<blockquote>\n<p>workers alternate on processing streams - pausing their work on their current stream for another worker to continue before processing another stream</p>\n</blockquote>\n<p>I think the trick here is how do the workers figure out whether they should pause their work or not?  Maybe they could process 10000 items from the stream and put it back on the work-queue?  That logic could be built into the <code>JobStatus</code> object.  You could look at the <code>size()</code> of the work-queue to see whether things are backing up too.  An alternative to this would be to have multiple thread-pools for different sized jobs.  So the fast ones have their own queue for immediate servicing while the big ones chew in the background.</p>\n<p>But given your specifications I can see pseudo code like the following.  It pauses by putting the job on the end of the work-queue.  Not sure that's what you would want.</p>\n<pre><code>// queue that when seen means that the jobs are done\nfinal static Queue&lt;String&gt; END_MARKER = new LinkedList&lt;&gt;();\nfinal BlockingQueue&lt;Queue&lt;String&gt;&gt; workQueue = new LinkedBlockingQueue&lt;&gt;();\n...\nExecutorService threadPool = Executors.newCachedThreadPool();\n...\n// now start up our worker threads\nfor (int i = 0; i &lt; NUM_THREADS; i++) {\n   threadPool.submit(new WorkerThread(workQueue));\n}\n// the threads will shutdown when the END_MARKER is seen\nthreadPool.shutdown();\n...\n// now add the jobs to the work-queue\nfor (Queue&lt;String&gt; queue : queuesForProcessing) {\n    workQueue.add(queue);\n}\n// at the end of the work you add END_MARKER to the work-queue\nworkQueue.add(END_MARKER);\n\npublic class WorkerThread {\n    private final BlockingQueue&lt;Queue&lt;String&gt;&gt; workQueue; // from constructor\n    public void run() {\n       while (true) {\n           Queue&lt;String&gt; job = workQueue.take();\n           if (job == END_MARKER) {\n              // need to tell the others to quit as well\n              workQueue.put(job);\n              break;\n           }\n           // now work on the queue job\n           while (true) {\n              String foo = job.poll();\n              if (foo == null) {\n                 // we are done with this job, get another one\n                 break;\n              }\n              // do the work on the String\n              ...\n              // now that we are done, see if we should pause this job\n              if (testToSeeIfWeShouldPauseJob()) {\n                  // put it back on the queue and then loop to get another job\n                  workQueue.put(job);\n                  break;\n              }\n           }\n       }\n    }\n}\n</code></pre>\n<p>Hopefully this helps.</p>\n"}],"owner":{"account_id":25945482,"reputation":25,"user_id":22080814,"display_name":"TypeMonkey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76518793,"answer_count":1,"score":0,"last_activity_date":1687302372,"creation_date":1686868624,"question_id":76485904,"body_markdown":"I&#39;m trying to wrap my head around the Producer-Consumer pattern in the context of tasks that **can be indefinite** but are also ***suspendable*** and can be resumed at later time. So far, alot of the examples around this pattern deals with Consumers pulling a singular, one-off tasks from some sort of queue that&#39;s filled by Producers.\r\n\r\nBut what if said tasks can be indefinite? For example, say the task at hand is to count the presence of certain works in a stream of strings. The stream can be infinitely long (or finite), and given more streams of strings that workers to process them, a mechanism maybe formed where workers alternate on processing streams - pausing their work on their current stream for another worker to continue before processing another stream.\r\n\r\nI&#39;m not sure how to properly design and implement an efficient mechanism around the Producer-Consumer pattern for this problem - or any other pattern/method.\r\n\r\nSo far, I&#39;ve followed this guide: [https://www.baeldung.com/java-producer-consumer-problem](https://www.baeldung.com/java-producer-consumer-problem)\r\n\r\nBut the issue is on Section 4.3, if instead of a Double, it was something like `Queue&lt;String&gt;` that needed to be pushed back onto the `BlockingQueue`, turning my Consumers to also be Producers.","title":"Producer-Consumer Problem but with indefinite tasks?","body":"<p>I'm trying to wrap my head around the Producer-Consumer pattern in the context of tasks that <strong>can be indefinite</strong> but are also <em><strong>suspendable</strong></em> and can be resumed at later time. So far, alot of the examples around this pattern deals with Consumers pulling a singular, one-off tasks from some sort of queue that's filled by Producers.</p>\n<p>But what if said tasks can be indefinite? For example, say the task at hand is to count the presence of certain works in a stream of strings. The stream can be infinitely long (or finite), and given more streams of strings that workers to process them, a mechanism maybe formed where workers alternate on processing streams - pausing their work on their current stream for another worker to continue before processing another stream.</p>\n<p>I'm not sure how to properly design and implement an efficient mechanism around the Producer-Consumer pattern for this problem - or any other pattern/method.</p>\n<p>So far, I've followed this guide: <a href=\"https://www.baeldung.com/java-producer-consumer-problem\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-producer-consumer-problem</a></p>\n<p>But the issue is on Section 4.3, if instead of a Double, it was something like <code>Queue&lt;String&gt;</code> that needed to be pushed back onto the <code>BlockingQueue</code>, turning my Consumers to also be Producers.</p>\n"},{"tags":["java","json","methods","overloading"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686344559,"post_id":76443468,"comment_id":134791265,"body_markdown":"If it&#39;s failing on the _JSON_ mapping, then there is either a syntax error in the _JSON_, or there is a discrepancy with the _SalableProduct_ abstraction.  Can you post a segment of the _JSON_ and the code for the _SalableProduct_ class?","body":"If it&#39;s failing on the <i>JSON</i> mapping, then there is either a syntax error in the <i>JSON</i>, or there is a discrepancy with the <i>SalableProduct</i> abstraction.  Can you post a segment of the <i>JSON</i> and the code for the <i>SalableProduct</i> class?"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686345903,"post_id":76443468,"comment_id":134791424,"body_markdown":"I have added what you requested. I am not receiving any errors when I execute my code in eclipse. It will only print my options for the different cases and when I select 1 or 2 it doesn&#39;t show any inventory.","body":"I have added what you requested. I am not receiving any errors when I execute my code in eclipse. It will only print my options for the different cases and when I select 1 or 2 it doesn&#39;t show any inventory."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686347009,"post_id":76443468,"comment_id":134791552,"body_markdown":"Alright, so in _purchaseProducts_ you shouldn&#39;t need _&quot;scnr.nextLine(); // Consume newline character&quot;_, since you have already produced a new-line from the options output.","body":"Alright, so in <i>purchaseProducts</i> you shouldn&#39;t need <i>&quot;scnr.nextLine(); // Consume newline character&quot;</i>, since you have already produced a new-line from the options output."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686348589,"post_id":76443468,"comment_id":134791741,"body_markdown":"So I remarked it out and it still isn&#39;t showing my available products to purchase. Now when I enter &quot;2&quot; it won&#39;t even let me put an input. The reason that scnr.nextLine(); is there is for user input on what they want to purchase when option &quot;2&quot; is selected. option &quot;1&quot; should only display what is in the JSON file.","body":"So I remarked it out and it still isn&#39;t showing my available products to purchase. Now when I enter &quot;2&quot; it won&#39;t even let me put an input. The reason that scnr.nextLine(); is there is for user input on what they want to purchase when option &quot;2&quot; is selected. option &quot;1&quot; should only display what is in the JSON file."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686349852,"post_id":76443468,"comment_id":134791858,"body_markdown":"Yes, although you have another _nextLine_ call on the following line, _&quot;String productName = scnr.nextLine();&quot;_.  So, the first _nextLine_ will skip over any input, thus, _productName_ will not contain a value, or, will be an empty _string_, rather.","body":"Yes, although you have another <i>nextLine</i> call on the following line, <i>&quot;String productName = scnr.nextLine();&quot;</i>.  So, the first <i>nextLine</i> will skip over any input, thus, <i>productName</i> will not contain a value, or, will be an empty <i>string</i>, rather."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686357655,"post_id":76443468,"comment_id":134792416,"body_markdown":"But I am needing that scnr.nextLine(); so that the user can input the product that the user wants to purchase.\n\nEither way my program still will not show products for sale when &quot;1&quot; is input into the console.","body":"But I am needing that scnr.nextLine(); so that the user can input the product that the user wants to purchase.  Either way my program still will not show products for sale when &quot;1&quot; is input into the console."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686358626,"post_id":76443468,"comment_id":134792457,"body_markdown":"So, for that we&#39;ll need the _InventoryManager_ class code.  Well, specifically, the _displaySalableProducts_ method.","body":"So, for that we&#39;ll need the <i>InventoryManager</i> class code.  Well, specifically, the <i>displaySalableProducts</i> method."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686375817,"post_id":76443468,"comment_id":134793352,"body_markdown":"I have added the salableProducts method from InventoryManager class","body":"I have added the salableProducts method from InventoryManager class"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686452413,"post_id":76443468,"comment_id":134799723,"body_markdown":"Reilas, were you able to review my code to see what the issue is?","body":"Reilas, were you able to review my code to see what the issue is?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686452597,"post_id":76443468,"comment_id":134799734,"body_markdown":"Unfortunately, not without the code.","body":"Unfortunately, not without the code."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1686519491,"post_id":76443468,"comment_id":134805787,"body_markdown":"Do you need the whole InventoryManager class or displaySalableProducts method? I put the method at the bottom of the main comment","body":"Do you need the whole InventoryManager class or displaySalableProducts method? I put the method at the bottom of the main comment"}],"answers":[{"tags":[],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687302175,"creation_date":1687302175,"answer_id":76518887,"question_id":76443468,"body_markdown":"My issue was residing in my Product class, I had previously had &lt;Product extends Salable Product &gt; and was using SalableProduct as my super class but Product needed to be on its own. I also had to add generics to all of my classes. So now my code is this.\r\n\r\n```\r\npackage app;\r\n\r\npublic class Product &lt;T extends SalableProduct&gt; {\r\n\r\n\tpublic Product(String name, String description, double price, int qty) {\t\r\n\t}\r\n}\r\n```\r\n I also added this line to my StoreFront class in the main method.\r\n\r\n```\r\ninventoryManager.initializeInventoryFromFile(&quot;inventory.json&quot;);\r\n```\r\n\r\nhere is my method for initializeInventoryFromFile method in my InventoryManager class.\r\n\r\n```\r\n\tpublic void initializeInventoryFromFile(String filename) {\r\n\t\t ArrayList&lt;T&gt; products = (ArrayList&lt;T&gt;) FileService.loadProductsFromFile(&quot;inventory.json&quot;);\r\n\r\n\t\tfor (T product : products) {\r\n\t\t\taddProduct( product);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n```","title":"Program not printing out all information","body":"<p>My issue was residing in my Product class, I had previously had  and was using SalableProduct as my super class but Product needed to be on its own. I also had to add generics to all of my classes. So now my code is this.</p>\n<pre><code>package app;\n\npublic class Product &lt;T extends SalableProduct&gt; {\n\n    public Product(String name, String description, double price, int qty) {    \n    }\n}\n</code></pre>\n<p>I also added this line to my StoreFront class in the main method.</p>\n<pre><code>inventoryManager.initializeInventoryFromFile(&quot;inventory.json&quot;);\n</code></pre>\n<p>here is my method for initializeInventoryFromFile method in my InventoryManager class.</p>\n<pre><code>    public void initializeInventoryFromFile(String filename) {\n         ArrayList&lt;T&gt; products = (ArrayList&lt;T&gt;) FileService.loadProductsFromFile(&quot;inventory.json&quot;);\n\n        for (T product : products) {\n            addProduct( product);\n            \n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76518887,"answer_count":1,"score":0,"last_activity_date":1687302175,"creation_date":1686342703,"question_id":76443468,"body_markdown":"I am creating a store front application in Java. I have my main driver program with 5 different classes it is using. I cannot get it to print out my inventory I have listed in my JSON file. What am I doing wrong or what am I missing here? My FileService class is at the bottom from where the driver is calling the method. I think that is where my problem is.\r\n\r\n\r\n```\r\npackage app;\r\n\r\nimport java.io.IOException;\r\nimport java.util.*;\r\n\r\npublic class StoreFront {\r\n\t\r\n\tstatic InventoryManager inventoryManager = new InventoryManager();\r\n\tstatic ShoppingCart shoppingCart = new ShoppingCart();\r\n\tstatic Scanner scnr = new Scanner(System.in);\r\n//\tstatic FileService fileService = new FileService();\r\n\t\r\n\tprivate static void viewProducts() { \r\n\t\tinventoryManager.displaySalableProducts();\r\n\t}\r\n\t\r\n\tprivate static void purchaseProducts() {\r\n        System.out.print(&quot;Enter the name of the product you want to purchase: &quot;);\r\n        scnr.nextLine(); // Consume newline character\r\n        String productName = scnr.nextLine();\r\n\r\n        SalableProduct productToPurchase = inventoryManager.findProductByName(productName);\r\n        if (productToPurchase == null) {\r\n            System.out.println(&quot;Product not found.&quot;);\r\n        } else {\r\n            if (productToPurchase.getQty() &gt; 0) {\r\n                shoppingCart.addItem(productToPurchase);\r\n                productToPurchase.setQty(productToPurchase.getQty() - 1);\r\n                System.out.println(&quot;Product purchased successfully.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Product is out of stock.&quot;);\r\n            }\r\n        }\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static void returnProducts() {\r\n\t\tshoppingCart.returnProduct(null);\r\n\t}\r\n\r\n\r\n\tpublic static void main(String[] args) throws IOException{\r\n\r\n/*\t\t\r\n * old method of manually adding inventory\r\n\t\tinventoryManager.addProduct(new Food(&quot;Goji Berry&quot;, &quot;bright orange-red berry that comes from a shrub native to Asia&quot;, 8.32, 496));\r\n\t\tinventoryManager.addProduct(new Potion(&quot;Elixir&quot;, &quot;Potion that grants eternal life&quot;, 3469.00, 4));\r\n\t\tinventoryManager.addProduct(new Helmet(&quot;Kabuto&quot;, &quot;Ancient Japanese war helemt&quot;, 999.99, 43));\r\n\t\tinventoryManager.addProduct(new Tomahawk(&quot;Polished Tomahawk&quot;, &quot;Benjamin Martins Tomahawk&quot;, 567.00, 1));\r\n\t\tinventoryManager.addProduct(new Shield(&quot;Heater Shield&quot;, &quot;Used in the Middle Ages by knights and soldiers&quot;, 269.00, 57));\r\n\t\tinventoryManager.addProduct(new Sword(&quot;Katana&quot;, &quot;single-edged sword used by Japanese samurai&quot;, 4420.00, 21));\r\n*/\t\t\r\n\t\tinventoryManager.initializeInventoryFromFile(&quot;inventory.json&quot;);\r\n\t\tSystem.out.println(&quot;Welcome to the Game Store \\n&quot;);\r\n\t\tSystem.out.println(&quot;Please select an option from the menu&quot;);\r\n\t\tSystem.out.println(&quot;***************************************&quot;);\r\n        System.out.println(&quot;************MAIN MENU ******************\\n&quot;);\r\n\t\twhile (true) {\r\n\t\t\tSystem.out.println(&quot;Enter one of the following:\\n\\n&quot;+\r\n\t\t\t&quot;&#39;1&#39; : View Products\\n&quot;+\r\n\t\t\t&quot;&#39;2&#39; : Purchase Products\\n&quot;+\r\n\t\t\t&quot;&#39;3&#39; : Return Products\\n&quot;+\r\n\t\t\t&quot;&#39;4&#39; : Exit&quot;);\r\n\t\t\t\r\n\t\t\tint menuChoice = scnr.nextInt();\r\n\t\t\t\r\n\t\t\tswitch(menuChoice) {\r\n\t\t\tcase 1:\r\n                viewProducts();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tpurchaseProducts();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\treturnProducts();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tSystem.out.println(&quot;Thank you for coming by. Please come again.&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t} //scnr.close();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nFile Service Class method\r\n\r\n\r\n```\r\n   public static ArrayList&lt;SalableProduct&gt; loadProductsFromFile(String filename) {\r\n\r\n    \t\r\n    \t\tArrayList&lt;SalableProduct&gt; products = new ArrayList&lt;SalableProduct&gt;();\r\n    \t\ttry {\r\n    \t\t\tFile file = new File(filename);\r\n    \t\t\tScanner scnr = new Scanner(file);\r\n    \t\t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t\t\r\n    \t\t\twhile (scnr.hasNext()) {\r\n    \t\t\t\tString json = scnr.nextLine();\r\n    \t\t\t\tSalableProduct product = objectMapper.readValue(json, SalableProduct.class);\r\n    \t\t\t\tproducts.add(product);\r\n    \t\t\t}\r\n    \t\t\tscnr.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} return products;\r\n    \t}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have tried running my program in debug mode and watch all the steps closely but have not had any luck. It works when I hardcode/manually enter the inventory but hasn&#39;t since I implemented the JSON file and methods to call it.\r\n\r\nHere is the SalableProduct Class\r\n```\r\n    public class SalableProduct {\r\n    \t/**\r\n    \t * placeholder for items to sell in store\r\n    \t */\r\n    \tprivate String name;\r\n    \tprivate String description;\r\n    \tprivate double price;\r\n    \tprivate int qty;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \r\n    \tpublic SalableProduct(String name, String description, double price, int qty) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.description = description;\r\n    \t\tthis.price = price;\r\n    \t\tthis.qty = qty;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic void setPrice(double price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \r\n    \tpublic double getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    \r\n    \tpublic int getQty() {\r\n    \t\treturn qty;\r\n    \t}\r\n    \t\r\n    \tpublic void setQty(int qty) {\r\n    \t\tthis.qty = qty;\r\n    \t}\r\n    \r\n    \tpublic SalableProduct() {\r\n    \t\tname = &quot;&quot;;\r\n    \t\tdescription = &quot;&quot;;\r\n    \t\tprice = 0;\r\n    \t\tqty = 0;\r\n    \t}\r\n    }\r\n```    \r\n    Here is my JSON file\r\n```    \r\n    {&quot;name&quot;:&quot;Goji Berry&quot;,&quot;description&quot;:&quot;bright orange-red berry that comes from a shrub native to Asia&quot;,&quot;price&quot;:8.32,&quot;qty&quot;:496}\r\n    {&quot;name&quot;:&quot;Elixir&quot;,&quot;description&quot;:&quot;Potion that grants eternal life&quot;,&quot;price&quot;:3469.00,&quot;qty&quot;:4}\r\n    {&quot;name&quot;:&quot;Kabuto&quot;,&quot;description&quot;:&quot;Ancient Japanese war helmet&quot;,&quot;price&quot;:999.99,&quot;qty&quot;:43}\r\n    {&quot;name&quot;:&quot;Polished Tomahawk&quot;,&quot;description&quot;:&quot;Benjamin Martins Tomahawk&quot;,&quot;price&quot;:567.00,&quot;qty&quot;:1}\r\n    {&quot;name&quot;:&quot;Heater Shield&quot;,&quot;description&quot;:&quot;Used in the Middle Ages by knights and soldiers&quot;,&quot;price&quot;:269.00,&quot;qty&quot;:57}\r\n    {&quot;name&quot;:&quot;Katana&quot;,&quot;description&quot;:&quot;single-edged sword used by Japanese samurai&quot;,&quot;price&quot;:4469.00,&quot;qty&quot;:21}\r\n ``` \r\nHere is the displaySalable products\r\n\r\n```\tpublic void displaySalableProducts() {\r\n\t\tfor (SalableProduct product : products) {\r\n\t\t\tSystem.out.println(product.getName() + &quot; - &quot; + product.getDescription() + &quot; - Price: $&quot; + product.getPrice()\r\n\t\t\t\t\t+ &quot; - Quantity: &quot; + product.getQty());\r\n\t\t}\r\n\t}\r\n```","title":"Program not printing out all information","body":"<p>I am creating a store front application in Java. I have my main driver program with 5 different classes it is using. I cannot get it to print out my inventory I have listed in my JSON file. What am I doing wrong or what am I missing here? My FileService class is at the bottom from where the driver is calling the method. I think that is where my problem is.</p>\n<pre><code>package app;\n\nimport java.io.IOException;\nimport java.util.*;\n\npublic class StoreFront {\n    \n    static InventoryManager inventoryManager = new InventoryManager();\n    static ShoppingCart shoppingCart = new ShoppingCart();\n    static Scanner scnr = new Scanner(System.in);\n//  static FileService fileService = new FileService();\n    \n    private static void viewProducts() { \n        inventoryManager.displaySalableProducts();\n    }\n    \n    private static void purchaseProducts() {\n        System.out.print(&quot;Enter the name of the product you want to purchase: &quot;);\n        scnr.nextLine(); // Consume newline character\n        String productName = scnr.nextLine();\n\n        SalableProduct productToPurchase = inventoryManager.findProductByName(productName);\n        if (productToPurchase == null) {\n            System.out.println(&quot;Product not found.&quot;);\n        } else {\n            if (productToPurchase.getQty() &gt; 0) {\n                shoppingCart.addItem(productToPurchase);\n                productToPurchase.setQty(productToPurchase.getQty() - 1);\n                System.out.println(&quot;Product purchased successfully.&quot;);\n            } else {\n                System.out.println(&quot;Product is out of stock.&quot;);\n            }\n        }\n        \n    }\n    \n    private static void returnProducts() {\n        shoppingCart.returnProduct(null);\n    }\n\n\n    public static void main(String[] args) throws IOException{\n\n/*      \n * old method of manually adding inventory\n        inventoryManager.addProduct(new Food(&quot;Goji Berry&quot;, &quot;bright orange-red berry that comes from a shrub native to Asia&quot;, 8.32, 496));\n        inventoryManager.addProduct(new Potion(&quot;Elixir&quot;, &quot;Potion that grants eternal life&quot;, 3469.00, 4));\n        inventoryManager.addProduct(new Helmet(&quot;Kabuto&quot;, &quot;Ancient Japanese war helemt&quot;, 999.99, 43));\n        inventoryManager.addProduct(new Tomahawk(&quot;Polished Tomahawk&quot;, &quot;Benjamin Martins Tomahawk&quot;, 567.00, 1));\n        inventoryManager.addProduct(new Shield(&quot;Heater Shield&quot;, &quot;Used in the Middle Ages by knights and soldiers&quot;, 269.00, 57));\n        inventoryManager.addProduct(new Sword(&quot;Katana&quot;, &quot;single-edged sword used by Japanese samurai&quot;, 4420.00, 21));\n*/      \n        inventoryManager.initializeInventoryFromFile(&quot;inventory.json&quot;);\n        System.out.println(&quot;Welcome to the Game Store \\n&quot;);\n        System.out.println(&quot;Please select an option from the menu&quot;);\n        System.out.println(&quot;***************************************&quot;);\n        System.out.println(&quot;************MAIN MENU ******************\\n&quot;);\n        while (true) {\n            System.out.println(&quot;Enter one of the following:\\n\\n&quot;+\n            &quot;'1' : View Products\\n&quot;+\n            &quot;'2' : Purchase Products\\n&quot;+\n            &quot;'3' : Return Products\\n&quot;+\n            &quot;'4' : Exit&quot;);\n            \n            int menuChoice = scnr.nextInt();\n            \n            switch(menuChoice) {\n            case 1:\n                viewProducts();\n                break;\n            case 2:\n                purchaseProducts();\n                break;\n            case 3:\n                returnProducts();\n                break;\n            case 4:\n                System.out.println(&quot;Thank you for coming by. Please come again.&quot;);\n                System.exit(0);\n                break;\n                \n            } //scnr.close();\n        }\n    }\n}\n\n</code></pre>\n<p>File Service Class method</p>\n<pre><code>   public static ArrayList&lt;SalableProduct&gt; loadProductsFromFile(String filename) {\n\n        \n            ArrayList&lt;SalableProduct&gt; products = new ArrayList&lt;SalableProduct&gt;();\n            try {\n                File file = new File(filename);\n                Scanner scnr = new Scanner(file);\n                ObjectMapper objectMapper = new ObjectMapper();\n                \n                while (scnr.hasNext()) {\n                    String json = scnr.nextLine();\n                    SalableProduct product = objectMapper.readValue(json, SalableProduct.class);\n                    products.add(product);\n                }\n                scnr.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } return products;\n        }\n</code></pre>\n<p>I have tried running my program in debug mode and watch all the steps closely but have not had any luck. It works when I hardcode/manually enter the inventory but hasn't since I implemented the JSON file and methods to call it.</p>\n<p>Here is the SalableProduct Class</p>\n<pre><code>    public class SalableProduct {\n        /**\n         * placeholder for items to sell in store\n         */\n        private String name;\n        private String description;\n        private double price;\n        private int qty;\n    \n        public String getName() {\n            return name;\n        }\n    \n    \n        public SalableProduct(String name, String description, double price, int qty) {\n            super();\n            this.name = name;\n            this.description = description;\n            this.price = price;\n            this.qty = qty;\n        }\n    \n        public String getDescription() {\n            return description;\n        }\n    \n        public void setName(String name) {\n            this.name = name;\n        }\n    \n    \n        public void setDescription(String description) {\n            this.description = description;\n        }\n    \n        public void setPrice(double price) {\n            this.price = price;\n        }\n    \n        public double getPrice() {\n            return price;\n        }\n    \n        public int getQty() {\n            return qty;\n        }\n        \n        public void setQty(int qty) {\n            this.qty = qty;\n        }\n    \n        public SalableProduct() {\n            name = &quot;&quot;;\n            description = &quot;&quot;;\n            price = 0;\n            qty = 0;\n        }\n    }\n</code></pre>\n<pre><code>Here is my JSON file\n</code></pre>\n<pre><code>    {&quot;name&quot;:&quot;Goji Berry&quot;,&quot;description&quot;:&quot;bright orange-red berry that comes from a shrub native to Asia&quot;,&quot;price&quot;:8.32,&quot;qty&quot;:496}\n    {&quot;name&quot;:&quot;Elixir&quot;,&quot;description&quot;:&quot;Potion that grants eternal life&quot;,&quot;price&quot;:3469.00,&quot;qty&quot;:4}\n    {&quot;name&quot;:&quot;Kabuto&quot;,&quot;description&quot;:&quot;Ancient Japanese war helmet&quot;,&quot;price&quot;:999.99,&quot;qty&quot;:43}\n    {&quot;name&quot;:&quot;Polished Tomahawk&quot;,&quot;description&quot;:&quot;Benjamin Martins Tomahawk&quot;,&quot;price&quot;:567.00,&quot;qty&quot;:1}\n    {&quot;name&quot;:&quot;Heater Shield&quot;,&quot;description&quot;:&quot;Used in the Middle Ages by knights and soldiers&quot;,&quot;price&quot;:269.00,&quot;qty&quot;:57}\n    {&quot;name&quot;:&quot;Katana&quot;,&quot;description&quot;:&quot;single-edged sword used by Japanese samurai&quot;,&quot;price&quot;:4469.00,&quot;qty&quot;:21}\n</code></pre>\n<p>Here is the displaySalable products</p>\n<pre><code>        for (SalableProduct product : products) {\n            System.out.println(product.getName() + &quot; - &quot; + product.getDescription() + &quot; - Price: $&quot; + product.getPrice()\n                    + &quot; - Quantity: &quot; + product.getQty());\n        }\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automation","webdriver","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687301284,"creation_date":1687301284,"answer_id":76518827,"question_id":76518536,"body_markdown":"Within the [DEMOQA](https://demoqa.com/links) website to click on the link with text _**Create**_ and print the generated text you need to you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Code block:\r\n\r\n\t  driver.get(&quot;https://demoqa.com/links&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Created&quot;))).click();\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//p[./b]&quot;))).getText());\r\n\r\n- Console output:\r\n\r\n\t  Link has responded with staus 201 and status text Created","title":"How to get the text using Selenium Java that is generated after pressing a button?","body":"<p>Within the <a href=\"https://demoqa.com/links\" rel=\"nofollow noreferrer\">DEMOQA</a> website to click on the link with text <em><strong>Create</strong></em> and print the generated text you need to you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Code block:</p>\n<pre><code>driver.get(&quot;https://demoqa.com/links&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;Created&quot;))).click();\nSystem.out.println(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//p[./b]&quot;))).getText());\n</code></pre>\n</li>\n<li><p>Console output:</p>\n<pre><code>Link has responded with staus 201 and status text Created\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":9196797,"reputation":1,"user_id":16376299,"display_name":"Doulat Ghuman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687301752,"creation_date":1687297052,"question_id":76518536,"body_markdown":"I want to capture the text that is produced after clicking one of the links. But instead what i end up doing is capturing the text of the link.\r\n\r\nSnippet of the code I am using:\r\n```java\r\ndriver.navigate().to(&quot;https://demoqa.com/links&quot;);\r\ndriver.findElement(By.xpath(&quot;/html/body/div[2]/div/div/div[2]/div[2]/div[2]/p[3]/a&quot;)).click();\r\nSystem.out.println(driver.findElement(By.xpath(&quot;//*[@id=\\&#39;linkResponse\\&#39;]&quot;)).getText());\r\n```\r\nI have been trying to use `getText()`. But i don&#39;t know how to get text generated from the link.\r\n\r\nSnapshot of the page:\r\n\r\n![enter image description here](https://i.stack.imgur.com/2LHzN.jpg)","title":"How to get the text using Selenium Java that is generated after pressing a button?","body":"<p>I want to capture the text that is produced after clicking one of the links. But instead what i end up doing is capturing the text of the link.</p>\n<p>Snippet of the code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.navigate().to(&quot;https://demoqa.com/links&quot;);\ndriver.findElement(By.xpath(&quot;/html/body/div[2]/div/div/div[2]/div[2]/div[2]/p[3]/a&quot;)).click();\nSystem.out.println(driver.findElement(By.xpath(&quot;//*[@id=\\'linkResponse\\']&quot;)).getText());\n</code></pre>\n<p>I have been trying to use <code>getText()</code>. But i don't know how to get text generated from the link.</p>\n<p>Snapshot of the page:</p>\n<p><img src=\"https://i.stack.imgur.com/2LHzN.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","utf-8","decode","encode"],"comments":[{"owner":{"account_id":3567343,"reputation":27,"user_id":2987283,"display_name":"user273121"},"score":0,"creation_date":1687238179,"post_id":76511585,"comment_id":134904536,"body_markdown":"My input is    &amp;#24180; &amp;#12493;&amp;#12531;","body":"My input is    &amp;#24180; &amp;#12493;&amp;#12531;"},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":4,"creation_date":1687244178,"post_id":76511585,"comment_id":134905316,"body_markdown":"There are many steps involved before you can see the expected results, and each of it can play a role with your problem. Please, show us a small, complete code example, something we can compile and run on our computers. Also, do you run in an IDE, in a Windows CMD window or where? This is also quite important.","body":"There are many steps involved before you can see the expected results, and each of it can play a role with your problem. Please, show us a small, complete code example, something we can compile and run on our computers. Also, do you run in an IDE, in a Windows CMD window or where? This is also quite important."},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1687274003,"post_id":76511585,"comment_id":134912067,"body_markdown":"Does this answer your question? [How can I unescape HTML character entities in Java?](https://stackoverflow.com/questions/994331/how-can-i-unescape-html-character-entities-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/994331/how-can-i-unescape-html-character-entities-in-java\">How can I unescape HTML character entities in Java?</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687280132,"post_id":76511585,"comment_id":134913430,"body_markdown":"You&#39;ve tried what, so far?","body":"You&#39;ve tried what, so far?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1687301315,"post_id":76511585,"comment_id":134916788,"body_markdown":"@Josefz Your proposed duplicate is for character entities (as explicitly stated in its title), but this question is about unescaping numeric entities.","body":"@Josefz Your proposed duplicate is for character entities (as explicitly stated in its title), but this question is about unescaping numeric entities."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687300954,"creation_date":1687300954,"answer_id":76518804,"question_id":76511585,"body_markdown":"I don&#39;t know of any JDK method to resolve your issue, but you can do it in one line using Apache&#39;s [StringEscapeUtils.unescapeHtml4​()][1] method, and the code is trivial. Here&#39;s an example using your sample data:\r\n\r\n    import org.apache.commons.text.StringEscapeUtils;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String input = &quot;&amp;#24180; &amp;#12493;&amp;#12531;&quot;;\r\n            System.out.println(&quot;input=[&quot; + input + &quot;]&quot;);\r\n            String output = StringEscapeUtils.unescapeHtml4(input);\r\n            System.out.println(&quot;output=[&quot; + output + &quot;]&quot;);\r\n        }\r\n    }\r\n\r\n\r\nHere&#39;s the output:\r\n\r\n    input=[&amp;#24180; &amp;#12493;&amp;#12531;]\r\n    output=[年 ネン]\r\n\r\nI ran the code using JDK 20 in Intellij IDEA.\r\n\r\nAn alternative pure Java approach would be to write the code yourself (but why bother?):\r\n- Use a [StringTokenizer][2] to extract each numeric code point from the input.\r\n- Convert each extracted code point to a character using [Character.toString(int codePoint)][3].\r\n\r\nNotes:\r\n- The javadoc for `unescapeHtml4()` does not explicitly state that it supports numeric entities in the format you specify them, but it seems to work fine.\r\n- The `StringEscapeUtils` class can be found in both `org.apache.commons.text` and `org.apache.commons.lang`. Be sure to use the `org.apache.commons.text` implementation.\r\n- You will need to download the [Apache Commons Text library][4] and add it to your project, and import `org.apache.commons.text.StringEscapeUtils;` in your code.\r\n- You will also need to download the [Apache Commons Lang library][5] and add it to your project. Otherwise you will get a `java.lang.ClassNotFoundException: org.apache.commons.lang3.Range` at runtime.\r\n- Any spaces in the input will be preserved by `unescapeHtml4()` in the output.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeHtml4(java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/StringTokenizer.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#toString(int)\r\n  [4]: https://commons.apache.org/proper/commons-text/\r\n  [5]: https://commons.apache.org/proper/commons-lang/","title":"Unable to decode Java UTF8","body":"<p>I don't know of any JDK method to resolve your issue, but you can do it in one line using Apache's <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#unescapeHtml4(java.lang.String)\" rel=\"nofollow noreferrer\">StringEscapeUtils.unescapeHtml4​()</a> method, and the code is trivial. Here's an example using your sample data:</p>\n<pre><code>import org.apache.commons.text.StringEscapeUtils;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        String input = &quot;&amp;#24180; &amp;#12493;&amp;#12531;&quot;;\n        System.out.println(&quot;input=[&quot; + input + &quot;]&quot;);\n        String output = StringEscapeUtils.unescapeHtml4(input);\n        System.out.println(&quot;output=[&quot; + output + &quot;]&quot;);\n    }\n}\n</code></pre>\n<p>Here's the output:</p>\n<pre><code>input=[&amp;#24180; &amp;#12493;&amp;#12531;]\noutput=[年 ネン]\n</code></pre>\n<p>I ran the code using JDK 20 in Intellij IDEA.</p>\n<p>An alternative pure Java approach would be to write the code yourself (but why bother?):</p>\n<ul>\n<li>Use a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/StringTokenizer.html\" rel=\"nofollow noreferrer\">StringTokenizer</a> to extract each numeric code point from the input.</li>\n<li>Convert each extracted code point to a character using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\">Character.toString(int codePoint)</a>.</li>\n</ul>\n<p>Notes:</p>\n<ul>\n<li>The javadoc for <code>unescapeHtml4()</code> does not explicitly state that it supports numeric entities in the format you specify them, but it seems to work fine.</li>\n<li>The <code>StringEscapeUtils</code> class can be found in both <code>org.apache.commons.text</code> and <code>org.apache.commons.lang</code>. Be sure to use the <code>org.apache.commons.text</code> implementation.</li>\n<li>You will need to download the <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text library</a> and add it to your project, and import <code>org.apache.commons.text.StringEscapeUtils;</code> in your code.</li>\n<li>You will also need to download the <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang library</a> and add it to your project. Otherwise you will get a <code>java.lang.ClassNotFoundException: org.apache.commons.lang3.Range</code> at runtime.</li>\n<li>Any spaces in the input will be preserved by <code>unescapeHtml4()</code> in the output.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687301684,"creation_date":1687301684,"answer_id":76518856,"question_id":76511585,"body_markdown":"As @skomisa has said, it&#39;s probably better to use a proper library for this, but if you want something quick-and-dirty, then:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class DecimalEntityDecoder {\r\n        public static void main(String[] args) {\r\n            try {\r\n                String decimalEntities = args[0];\r\n                String output = Arrays.stream(decimalEntities.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).split(&quot;;&quot;)).\r\n                    map(s -&gt;s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)).\r\n                    mapToInt(Integer::valueOf).\r\n                    collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).\r\n                    toString();\r\n                System.out.println(output);\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Unable to decode Java UTF8","body":"<p>As @skomisa has said, it's probably better to use a proper library for this, but if you want something quick-and-dirty, then:</p>\n<pre><code>import java.util.Arrays;\n\npublic class DecimalEntityDecoder {\n    public static void main(String[] args) {\n        try {\n            String decimalEntities = args[0];\n            String output = Arrays.stream(decimalEntities.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;).split(&quot;;&quot;)).\n                map(s -&gt;s.replaceAll(&quot;\\\\D&quot;, &quot;&quot;)).\n                mapToInt(Integer::valueOf).\n                collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).\n                toString();\n            System.out.println(output);\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3567343,"reputation":27,"user_id":2987283,"display_name":"user273121"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1687301684,"creation_date":1687238048,"question_id":76511585,"body_markdown":"My input for a Java program is the charcode for 年 ネン  Japanese string. I need to convert it back to Japanese.\r\nI tried getBytes(UTF8) but couldnt succeed to convert it back to Japanese. Can you please help\r\n\r\nI tried getBytes(UTF8).\r\n\r\nMy input is `&amp;#24180; &amp;#12493;&amp;#12531;` which corresponds to the Japanese characters &quot;&amp;#24180; &amp;#12493;&amp;#12531;&quot;.","title":"Unable to decode Java UTF8","body":"<p>My input for a Java program is the charcode for 年 ネン  Japanese string. I need to convert it back to Japanese.\nI tried getBytes(UTF8) but couldnt succeed to convert it back to Japanese. Can you please help</p>\n<p>I tried getBytes(UTF8).</p>\n<p>My input is <code>&amp;#24180; &amp;#12493;&amp;#12531;</code> which corresponds to the Japanese characters &quot;年 ネン&quot;.</p>\n"},{"tags":["java","ftp","ftp-client","testcontainers","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":12937672,"reputation":1290,"user_id":9354495,"display_name":"yuppie-flu"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1639613181,"creation_date":1639613181,"answer_id":70371790,"question_id":70274689,"body_markdown":"As you already figured out in the comments, the tricky part about FTP passive mode is that the server uses another port (not 21) for communication.\r\nIn the docker image you&#39;re using, it&#39;s a port from the `21000-21010` range by default. So you need to publish (expose) these additional container ports. In `docker run` command you used `-p 21000-21010:21000-21010` for that.\r\n\r\nHowever, Testcontainers library is designed to publish to random host ports to avoid the problem, when a desired fixed port (or a range of ports) is already occupied on the host side.\r\nIn case of FTP passive mode random ports on the host side cause problems, because afaik you can&#39;t instruct the ftp client to override the port, which FTP server returned for the passive mode. You&#39;d need something like `ftpClient.connect(&quot;localhost&quot;, ftp.getMappedPort(PORT));` but for passive mode ports as well.\r\n\r\nTherefore the only solution I see here is to use a [FixedHostPortContainer](https://github.com/testcontainers/testcontainers-java/blob/master/core/src/main/java/org/testcontainers/containers/FixedHostPortGenericContainer.java). Even though it&#39;s marked as deprecated and not recommended to use because of the mentioned issues with occupied ports, I think this is a valid use case for it here. `FixedHostPortGenericContainer` allows to publish fixed ports on the host side. Something like:\r\n```java\r\n    private static final int PASSIVE_MODE_PORT = 21000;\r\n    ...\r\n    private static final FixedHostPortGenericContainer ftp = new FixedHostPortGenericContainer&lt;&gt;(\r\n            &quot;delfer/alpine-ftp-server:latest&quot;)\r\n            .withFixedExposedPort(PASSIVE_MODE_PORT, PASSIVE_MODE_PORT)\r\n            .withExposedPorts(PORT)\r\n            .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD)\r\n            .withEnv(&quot;MIN_PORT&quot;, String.valueOf(PASSIVE_MODE_PORT))\r\n            .withEnv(&quot;MAX_PORT&quot;, String.valueOf(PASSIVE_MODE_PORT));\r\n```\r\nKeep in mind that this solution relies on the assumption that `21000` port is always free. If you&#39;re going to run this in the environment where it&#39;s not guaranteed, then you need to tweak it to find a free host port first. Like:\r\n```java\r\n    private static FixedHostPortGenericContainer ftp = new FixedHostPortGenericContainer&lt;&gt;(\r\n            &quot;delfer/alpine-ftp-server:latest&quot;)\r\n            .withExposedPorts(PORT)\r\n            .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD);\r\n\r\n    @BeforeAll\r\n    public static void staticSetup() throws Exception {\r\n        Integer freePort = 0;\r\n        try (ServerSocket socket = new ServerSocket(0)) {\r\n            freePort = socket.getLocalPort();\r\n        }\r\n        ftp = (FixedHostPortGenericContainer)ftp.withFixedExposedPort(freePort, freePort)\r\n                .withEnv(&quot;MIN_PORT&quot;, String.valueOf(freePort))\r\n                .withEnv(&quot;MAX_PORT&quot;, String.valueOf(freePort));\r\n\r\n        ftp.start();\r\n    }\r\n```\r\n ","title":"Uploading a file to testcontainer FTP server fails with Connection refused after being connected","body":"<p>As you already figured out in the comments, the tricky part about FTP passive mode is that the server uses another port (not 21) for communication.\nIn the docker image you're using, it's a port from the <code>21000-21010</code> range by default. So you need to publish (expose) these additional container ports. In <code>docker run</code> command you used <code>-p 21000-21010:21000-21010</code> for that.</p>\n<p>However, Testcontainers library is designed to publish to random host ports to avoid the problem, when a desired fixed port (or a range of ports) is already occupied on the host side.\nIn case of FTP passive mode random ports on the host side cause problems, because afaik you can't instruct the ftp client to override the port, which FTP server returned for the passive mode. You'd need something like <code>ftpClient.connect(&quot;localhost&quot;, ftp.getMappedPort(PORT));</code> but for passive mode ports as well.</p>\n<p>Therefore the only solution I see here is to use a <a href=\"https://github.com/testcontainers/testcontainers-java/blob/master/core/src/main/java/org/testcontainers/containers/FixedHostPortGenericContainer.java\" rel=\"noreferrer\">FixedHostPortContainer</a>. Even though it's marked as deprecated and not recommended to use because of the mentioned issues with occupied ports, I think this is a valid use case for it here. <code>FixedHostPortGenericContainer</code> allows to publish fixed ports on the host side. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final int PASSIVE_MODE_PORT = 21000;\n    ...\n    private static final FixedHostPortGenericContainer ftp = new FixedHostPortGenericContainer&lt;&gt;(\n            &quot;delfer/alpine-ftp-server:latest&quot;)\n            .withFixedExposedPort(PASSIVE_MODE_PORT, PASSIVE_MODE_PORT)\n            .withExposedPorts(PORT)\n            .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD)\n            .withEnv(&quot;MIN_PORT&quot;, String.valueOf(PASSIVE_MODE_PORT))\n            .withEnv(&quot;MAX_PORT&quot;, String.valueOf(PASSIVE_MODE_PORT));\n</code></pre>\n<p>Keep in mind that this solution relies on the assumption that <code>21000</code> port is always free. If you're going to run this in the environment where it's not guaranteed, then you need to tweak it to find a free host port first. Like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static FixedHostPortGenericContainer ftp = new FixedHostPortGenericContainer&lt;&gt;(\n            &quot;delfer/alpine-ftp-server:latest&quot;)\n            .withExposedPorts(PORT)\n            .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD);\n\n    @BeforeAll\n    public static void staticSetup() throws Exception {\n        Integer freePort = 0;\n        try (ServerSocket socket = new ServerSocket(0)) {\n            freePort = socket.getLocalPort();\n        }\n        ftp = (FixedHostPortGenericContainer)ftp.withFixedExposedPort(freePort, freePort)\n                .withEnv(&quot;MIN_PORT&quot;, String.valueOf(freePort))\n                .withEnv(&quot;MAX_PORT&quot;, String.valueOf(freePort));\n\n        ftp.start();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2898303,"reputation":831,"user_id":2485599,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655912252,"creation_date":1655912252,"answer_id":72718341,"question_id":70274689,"body_markdown":"An answer similar to the accepted one but without using deprecated functionalities.\r\nNote that we still have to use the fixed port 21000.\r\n\r\n\r\n    public static class FTPContainer extends GenericContainer&lt;FTPContainer&gt;\r\n    {\r\n       private static FTPContainer container;\r\n\r\n       private FTPContainer()\r\n       {\r\n         super(DockerImageName.parse(&quot;delfer/alpine-ftp-server:latest&quot;));\r\n       }\r\n\r\n       @SuppressWarnings(&quot;resource&quot;)\r\n       public static FTPContainer getInstance()\r\n       {\r\n          if (container == null)\r\n          {\r\n             container = new FTPContainer().withEnv(&quot;USERS&quot;, &quot;test|test|/home/&quot;).withExposedPorts(21)\r\n                  .withCreateContainerCmdModifier(e -&gt; e.getHostConfig()\r\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(21000), new ExposedPort(21000))))\r\n                  .withEnv(&quot;MIN_PORT&quot;, &quot;21000&quot;).withEnv(&quot;MAX_PORT&quot;, &quot;21000&quot;);\r\n          }\r\n          return container;\r\n       }\r\n\r\n       @Override\r\n       public void start()\r\n       {\r\n          super.start();\r\n       }\r\n\r\n       @Override\r\n       public void stop()\r\n       {\r\n          // Handled when JVM stops\r\n       }\r\n    }\r\n\r\nAnd then you can use your FTP server instance like \r\n\r\n    FTPContainer FTP = FTPContainer.getInstance();\r\n    FTP.start();\r\n","title":"Uploading a file to testcontainer FTP server fails with Connection refused after being connected","body":"<p>An answer similar to the accepted one but without using deprecated functionalities.\nNote that we still have to use the fixed port 21000.</p>\n<pre><code>public static class FTPContainer extends GenericContainer&lt;FTPContainer&gt;\n{\n   private static FTPContainer container;\n\n   private FTPContainer()\n   {\n     super(DockerImageName.parse(&quot;delfer/alpine-ftp-server:latest&quot;));\n   }\n\n   @SuppressWarnings(&quot;resource&quot;)\n   public static FTPContainer getInstance()\n   {\n      if (container == null)\n      {\n         container = new FTPContainer().withEnv(&quot;USERS&quot;, &quot;test|test|/home/&quot;).withExposedPorts(21)\n              .withCreateContainerCmdModifier(e -&gt; e.getHostConfig()\n                    .withPortBindings(new PortBinding(Ports.Binding.bindPort(21000), new ExposedPort(21000))))\n              .withEnv(&quot;MIN_PORT&quot;, &quot;21000&quot;).withEnv(&quot;MAX_PORT&quot;, &quot;21000&quot;);\n      }\n      return container;\n   }\n\n   @Override\n   public void start()\n   {\n      super.start();\n   }\n\n   @Override\n   public void stop()\n   {\n      // Handled when JVM stops\n   }\n}\n</code></pre>\n<p>And then you can use your FTP server instance like</p>\n<pre><code>FTPContainer FTP = FTPContainer.getInstance();\nFTP.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":977258,"reputation":3591,"user_id":997977,"accept_rate":36,"display_name":"Juan Rada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687300849,"creation_date":1687300849,"answer_id":76518795,"question_id":70274689,"body_markdown":"I tried to put all peaces together.\r\n\r\n```\r\nclass FtpContainer(private val params: CreationParams) :\r\n    FixedHostPortGenericContainer&lt;FtpContainer&gt;(&quot;delfer/alpine-ftp-server:${params.version}&quot;) {\r\n\r\n    override fun start() {\r\n        val freePort = ServerSocket(0).use { socket -&gt; socket.localPort }\r\n        withFixedExposedPort(freePort, freePort)\r\n            .withEnv(&quot;MIN_PORT&quot;, freePort.toString())\r\n            .withEnv(&quot;MAX_PORT&quot;, freePort.toString())\r\n            .withExposedPorts(21)\r\n            .withEnv(&quot;USERS&quot;, &quot;${params.user}|${params.password}&quot;)\r\n        super.start()\r\n    }\r\n\r\n    fun getUrl(): String {\r\n        return containerIpAddress\r\n    }\r\n\r\n    fun getFtpPort(): Int {\r\n        return getMappedPort(21)\r\n    }\r\n}\r\n```","title":"Uploading a file to testcontainer FTP server fails with Connection refused after being connected","body":"<p>I tried to put all peaces together.</p>\n<pre><code>class FtpContainer(private val params: CreationParams) :\n    FixedHostPortGenericContainer&lt;FtpContainer&gt;(&quot;delfer/alpine-ftp-server:${params.version}&quot;) {\n\n    override fun start() {\n        val freePort = ServerSocket(0).use { socket -&gt; socket.localPort }\n        withFixedExposedPort(freePort, freePort)\n            .withEnv(&quot;MIN_PORT&quot;, freePort.toString())\n            .withEnv(&quot;MAX_PORT&quot;, freePort.toString())\n            .withExposedPorts(21)\n            .withEnv(&quot;USERS&quot;, &quot;${params.user}|${params.password}&quot;)\n        super.start()\n    }\n\n    fun getUrl(): String {\n        return containerIpAddress\n    }\n\n    fun getFtpPort(): Int {\n        return getMappedPort(21)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3496867,"reputation":3005,"user_id":2924784,"accept_rate":83,"display_name":"orirab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2680,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":70371790,"answer_count":3,"score":4,"last_activity_date":1687300849,"creation_date":1638964942,"question_id":70274689,"body_markdown":"I&#39;m working with [FTPClient](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html) against an FTP server using `Testcontainers`.\r\n\r\nA reproducible code sample is here:\r\n```\r\nimport org.apache.commons.net.PrintCommandListener;\r\nimport org.apache.commons.net.ftp.FTP;\r\nimport org.apache.commons.net.ftp.FTPClient;\r\nimport org.apache.commons.net.ftp.FTPReply;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.testcontainers.containers.GenericContainer;\r\nimport org.testcontainers.images.builder.ImageFromDockerfile;\r\nimport org.testcontainers.junit.jupiter.Testcontainers;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.PrintWriter;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n@Testcontainers\r\nclass FtpUtilsTest {\r\n\r\n    private static final int PORT = 21;\r\n    private static final String USER = &quot;user&quot;;\r\n    private static final String PASSWORD = &quot;password&quot;;\r\n    private static final int FTP_TIMEOUT_IN_MILLISECONDS = 1000 * 60;\r\n\r\n    private static final GenericContainer ftp = new GenericContainer(\r\n        new ImageFromDockerfile()\r\n            .withDockerfileFromBuilder(builder -&gt;\r\n                builder\r\n                    .from(&quot;delfer/alpine-ftp-server:latest&quot;)\r\n                    .build()\r\n            )\r\n    )\r\n        .withExposedPorts(PORT)\r\n        .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD);\r\n\r\n\r\n    @BeforeAll\r\n    public static void staticSetup() throws IOException {\r\n        ftp.start();\r\n    }\r\n\r\n    @AfterAll\r\n    static void afterAll() {\r\n        ftp.stop();\r\n    }\r\n\r\n    @Test\r\n    void test() throws IOException {\r\n        FTPClient ftpClient = new FTPClient();\r\n        ftpClient.setDataTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\r\n        ftpClient.setConnectTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\r\n        ftpClient.setDefaultTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\r\n\r\n        // Log\r\n        ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\r\n\r\n        // Connect\r\n        try {\r\n            ftpClient.connect(&quot;localhost&quot;, ftp.getMappedPort(PORT));\r\n            ftpClient.setSoTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\r\n\r\n            int reply = ftpClient.getReplyCode();\r\n            if (!FTPReply.isPositiveCompletion(reply)) {\r\n                ftpClient.disconnect();\r\n                throw new AssertionError();\r\n            }\r\n\r\n            // Login\r\n            boolean loginSuccess = ftpClient.login(USER, PASSWORD);\r\n            if (!loginSuccess) {\r\n                throw new AssertionError();\r\n            }\r\n\r\n            ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n            ftpClient.enterLocalPassiveMode();\r\n\r\n        } catch (IOException e) {\r\n            throw new AssertionError(e);\r\n        }\r\n\r\n        String remoteFile = &quot;fileonftp&quot;;\r\n        try (InputStream targetStream = new ByteArrayInputStream(&quot;Hello FTP&quot;.getBytes())) {\r\n            assertThat(ftpClient.isConnected()).isTrue();\r\n            ftpClient.storeFile(remoteFile, targetStream);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis prints:\r\n``` none\r\n220 Welcome Alpine ftp server https://hub.docker.com/r/delfer/alpine-ftp-server/\r\nUSER *******\r\n331 Please specify the password.\r\nPASS *******\r\n230 Login successful.\r\nTYPE I\r\n200 Switching to Binary mode.\r\nPASV\r\n227 Entering Passive Mode (172,17,0,3,82,15).\r\n[Replacing PASV mode reply address 172.17.0.3 with 127.0.0.1]\r\n```\r\n\r\nthen fails with:\r\n``` none\r\nConnection refused (Connection refused)\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n    ...\r\n\tat java.base/java.net.Socket.connect(Socket.java:609)\r\n\tat org.apache.commons.net.ftp.FTPClient._openDataConnection_(FTPClient.java:866)\r\n\tat org.apache.commons.net.ftp.FTPClient._storeFile(FTPClient.java:1053)\r\n\tat org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:3816)\r\n\tat org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:3846)\r\n```\r\n\r\nWhat I don&#39;t understand is that it fails after successfully connecting and logging in, and returning `true` for `isConnected`. \r\n\r\n---\r\n\r\nTurns out that when removing the `ftpClient.enterLocalPassiveMode();` it works, but I need it to work with the passive mode.\r\n\r\nI guess the failure is related when switching to a different port for the passive call.\r\n\r\nbut when trying to add the ports to the `withExposedPorts` the container fails to start with:\r\n\r\n``` none\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Timed out waiting for container port to open (localhost ports: [55600, 55601, 55602, 55603, 55604, 55605, 55606, 55607, 55608, 55609, 55598, 55599] should be listening)\r\n```\r\n\r\n---\r\n\r\nRunning against a docker (`docker run -d -p 21:21 -p 21000-21010:21000-21010 -e USERS=&quot;user|password&quot; delfer/alpine-ftp-server`) works.\r\n\r\nLocal docker versions: \r\n* Docker version 20.10.11, build dea9396\r\n* Docker Desktop 4.3.1\r\n\r\nTestcontainers - appears to behave the same both on 1.16.2 and 1.15.3\r\n\r\nLink to testcontainers [discussion][1]\r\n\r\n\r\n  [1]: https://github.com/testcontainers/testcontainers-java/discussions/4787","title":"Uploading a file to testcontainer FTP server fails with Connection refused after being connected","body":"<p>I'm working with <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html\" rel=\"nofollow noreferrer\">FTPClient</a> against an FTP server using <code>Testcontainers</code>.</p>\n<p>A reproducible code sample is here:</p>\n<pre><code>import org.apache.commons.net.PrintCommandListener;\nimport org.apache.commons.net.ftp.FTP;\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPReply;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.testcontainers.containers.GenericContainer;\nimport org.testcontainers.images.builder.ImageFromDockerfile;\nimport org.testcontainers.junit.jupiter.Testcontainers;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@Testcontainers\nclass FtpUtilsTest {\n\n    private static final int PORT = 21;\n    private static final String USER = &quot;user&quot;;\n    private static final String PASSWORD = &quot;password&quot;;\n    private static final int FTP_TIMEOUT_IN_MILLISECONDS = 1000 * 60;\n\n    private static final GenericContainer ftp = new GenericContainer(\n        new ImageFromDockerfile()\n            .withDockerfileFromBuilder(builder -&gt;\n                builder\n                    .from(&quot;delfer/alpine-ftp-server:latest&quot;)\n                    .build()\n            )\n    )\n        .withExposedPorts(PORT)\n        .withEnv(&quot;USERS&quot;, USER + &quot;|&quot; + PASSWORD);\n\n\n    @BeforeAll\n    public static void staticSetup() throws IOException {\n        ftp.start();\n    }\n\n    @AfterAll\n    static void afterAll() {\n        ftp.stop();\n    }\n\n    @Test\n    void test() throws IOException {\n        FTPClient ftpClient = new FTPClient();\n        ftpClient.setDataTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\n        ftpClient.setConnectTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\n        ftpClient.setDefaultTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\n\n        // Log\n        ftpClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\n\n        // Connect\n        try {\n            ftpClient.connect(&quot;localhost&quot;, ftp.getMappedPort(PORT));\n            ftpClient.setSoTimeout(FTP_TIMEOUT_IN_MILLISECONDS);\n\n            int reply = ftpClient.getReplyCode();\n            if (!FTPReply.isPositiveCompletion(reply)) {\n                ftpClient.disconnect();\n                throw new AssertionError();\n            }\n\n            // Login\n            boolean loginSuccess = ftpClient.login(USER, PASSWORD);\n            if (!loginSuccess) {\n                throw new AssertionError();\n            }\n\n            ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n            ftpClient.enterLocalPassiveMode();\n\n        } catch (IOException e) {\n            throw new AssertionError(e);\n        }\n\n        String remoteFile = &quot;fileonftp&quot;;\n        try (InputStream targetStream = new ByteArrayInputStream(&quot;Hello FTP&quot;.getBytes())) {\n            assertThat(ftpClient.isConnected()).isTrue();\n            ftpClient.storeFile(remoteFile, targetStream);\n        }\n    }\n}\n</code></pre>\n<p>This prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>220 Welcome Alpine ftp server https://hub.docker.com/r/delfer/alpine-ftp-server/\nUSER *******\n331 Please specify the password.\nPASS *******\n230 Login successful.\nTYPE I\n200 Switching to Binary mode.\nPASV\n227 Entering Passive Mode (172,17,0,3,82,15).\n[Replacing PASV mode reply address 172.17.0.3 with 127.0.0.1]\n</code></pre>\n<p>then fails with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Connection refused (Connection refused)\njava.net.ConnectException: Connection refused (Connection refused)\n    ...\n    at java.base/java.net.Socket.connect(Socket.java:609)\n    at org.apache.commons.net.ftp.FTPClient._openDataConnection_(FTPClient.java:866)\n    at org.apache.commons.net.ftp.FTPClient._storeFile(FTPClient.java:1053)\n    at org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:3816)\n    at org.apache.commons.net.ftp.FTPClient.storeFile(FTPClient.java:3846)\n</code></pre>\n<p>What I don't understand is that it fails after successfully connecting and logging in, and returning <code>true</code> for <code>isConnected</code>.</p>\n<hr />\n<p>Turns out that when removing the <code>ftpClient.enterLocalPassiveMode();</code> it works, but I need it to work with the passive mode.</p>\n<p>I guess the failure is related when switching to a different port for the passive call.</p>\n<p>but when trying to add the ports to the <code>withExposedPorts</code> the container fails to start with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.testcontainers.containers.ContainerLaunchException: Timed out waiting for container port to open (localhost ports: [55600, 55601, 55602, 55603, 55604, 55605, 55606, 55607, 55608, 55609, 55598, 55599] should be listening)\n</code></pre>\n<hr />\n<p>Running against a docker (<code>docker run -d -p 21:21 -p 21000-21010:21000-21010 -e USERS=&quot;user|password&quot; delfer/alpine-ftp-server</code>) works.</p>\n<p>Local docker versions:</p>\n<ul>\n<li>Docker version 20.10.11, build dea9396</li>\n<li>Docker Desktop 4.3.1</li>\n</ul>\n<p>Testcontainers - appears to behave the same both on 1.16.2 and 1.15.3</p>\n<p>Link to testcontainers <a href=\"https://github.com/testcontainers/testcontainers-java/discussions/4787\" rel=\"nofollow noreferrer\">discussion</a></p>\n"},{"tags":["java","methods","nullpointerexception"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1687229830,"post_id":76511110,"comment_id":134903913,"body_markdown":"Please show a [mcve].","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687230240,"post_id":76511110,"comment_id":134903932,"body_markdown":"There&#39;s no loop in the code you&#39;ve shown.","body":"There&#39;s no loop in the code you&#39;ve shown."},{"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"score":2,"creation_date":1687237713,"post_id":76511110,"comment_id":134904504,"body_markdown":"you are calling this method recursively \nYou need to add a break condition for this line\nSalableProduct productReturned = returnProduct(returnProd);","body":"you are calling this method recursively  You need to add a break condition for this line SalableProduct productReturned = returnProduct(returnProd);"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1687295513,"post_id":76511110,"comment_id":134916075,"body_markdown":"Thank you for suggesting a break condition. I also added a for loop that iterates over the products in the salableProduct list. I will add my refactored code to this.","body":"Thank you for suggesting a break condition. I also added a for loop that iterates over the products in the salableProduct list. I will add my refactored code to this."}],"answers":[{"tags":[],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687300335,"creation_date":1687295716,"answer_id":76518442,"question_id":76511110,"body_markdown":"I refactored my code and added a for loop so it will check over the products in my cart and then will break once it has iterated through.\r\n\r\n```\r\n\tpublic void returnProduct(String name) {\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the name of the product you want to return: &quot;);\r\n\t\tString returnProd = scnr.nextLine();\r\n\r\n\t\tSalableProduct productReturned = null;\r\n\r\n\t\tfor (SalableProduct product : salableProduct) {\r\n\t\t\tif (product.getName().equalsIgnoreCase(returnProd)) {\r\n\t\t\t\tproductReturned = product;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (productReturned == null) {\r\n\t\t\tSystem.out.println(&quot;Item not in cart&quot;);\r\n\t\t} else {\r\n\t\t\tremoveItem(productReturned);\r\n\t\t\tInventoryManager inventoryManager = new InventoryManager();\r\n\t\t\tinventoryManager.addProduct(productReturned);\r\n\t\t\tSystem.out.println(productReturned.getName() + &quot; successfully returned&quot;);\r\n\t\t}\r\n\r\n\t\tscnr.close();\r\n\t}\r\n```\r\n\r\nAnother bug came up where the program would exit because scnr.close() is tied to System.in so I used custom FilterInputStream and wrapped System.in.\r\n\r\nUPDATED CODE:\r\n\r\n```\r\n\tpublic void returnProduct(String name) {\r\n\t\tFilterInputStream filterInputStream = new FilterInputStream(System.in) {\r\n\t\t\t@Override\r\n\t\t\tpublic void close() throws IOException {\r\n\t\t\t}\r\n\t\t};\r\n\t\t// FilterInputStream so when scanner is closed it does not quit the program and\r\n\t\t// handles errors.\r\n\t\tScanner scnr = new Scanner(filterInputStream);\r\n\t\tSystem.out.println(&quot;Enter the name of the product you want to return: &quot;);\r\n\t\tString returnProd = scnr.nextLine();\r\n\r\n\t\tSalableProduct productReturned = null;\r\n\t\tfor (SalableProduct product : salableProduct) {\r\n\t\t\tif (product.getName().equalsIgnoreCase(returnProd)) {\r\n\t\t\t\tproductReturned = product;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (productReturned == null) {\r\n\t\t\tSystem.out.println(&quot;Item not in cart&quot;);\r\n\t\t} else {\r\n\t\t\tremoveItem(productReturned);\r\n\t\t\tInventoryManager inventoryManager = new InventoryManager();\r\n\t\t\tinventoryManager.addProduct(productReturned);\r\n\t\t\tSystem.out.println(productReturned.getName() + &quot; successfully returned&quot;);\r\n\t\t}\r\n\r\n\t\tscnr.close();\r\n\t}\r\n```","title":"Stuck in a constant loop","body":"<p>I refactored my code and added a for loop so it will check over the products in my cart and then will break once it has iterated through.</p>\n<pre><code>    public void returnProduct(String name) {\n        Scanner scnr = new Scanner(System.in);\n        System.out.println(&quot;Enter the name of the product you want to return: &quot;);\n        String returnProd = scnr.nextLine();\n\n        SalableProduct productReturned = null;\n\n        for (SalableProduct product : salableProduct) {\n            if (product.getName().equalsIgnoreCase(returnProd)) {\n                productReturned = product;\n                break;\n            }\n        }\n\n        if (productReturned == null) {\n            System.out.println(&quot;Item not in cart&quot;);\n        } else {\n            removeItem(productReturned);\n            InventoryManager inventoryManager = new InventoryManager();\n            inventoryManager.addProduct(productReturned);\n            System.out.println(productReturned.getName() + &quot; successfully returned&quot;);\n        }\n\n        scnr.close();\n    }\n</code></pre>\n<p>Another bug came up where the program would exit because scnr.close() is tied to System.in so I used custom FilterInputStream and wrapped System.in.</p>\n<p>UPDATED CODE:</p>\n<pre><code>    public void returnProduct(String name) {\n        FilterInputStream filterInputStream = new FilterInputStream(System.in) {\n            @Override\n            public void close() throws IOException {\n            }\n        };\n        // FilterInputStream so when scanner is closed it does not quit the program and\n        // handles errors.\n        Scanner scnr = new Scanner(filterInputStream);\n        System.out.println(&quot;Enter the name of the product you want to return: &quot;);\n        String returnProd = scnr.nextLine();\n\n        SalableProduct productReturned = null;\n        for (SalableProduct product : salableProduct) {\n            if (product.getName().equalsIgnoreCase(returnProd)) {\n                productReturned = product;\n                break;\n            }\n        }\n\n        if (productReturned == null) {\n            System.out.println(&quot;Item not in cart&quot;);\n        } else {\n            removeItem(productReturned);\n            InventoryManager inventoryManager = new InventoryManager();\n            inventoryManager.addProduct(productReturned);\n            System.out.println(productReturned.getName() + &quot; successfully returned&quot;);\n        }\n\n        scnr.close();\n    }\n</code></pre>\n"}],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687300335,"creation_date":1687229064,"question_id":76511110,"body_markdown":"I have my StoreFront class that calls this method when I select option 3 to return a product. This method is supposed to ask me ```&quot;Enter the name of the product you want to return: &quot;``` I type in the product put my console just prompts me again saying ```&quot;Enter the name of the product you want to return: &quot;```. Unsure where to go from here? Why am I stuck in a constant loop? Here is my method as well\r\n\r\n```\r\n    public SalableProduct returnProduct(String name) {\r\n    \tScanner scnr = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the name of the product you want to return: &quot;);\r\n        String returnProd = scnr.nextLine();\r\n\r\n        SalableProduct productReturned = returnProduct(returnProd);\r\n        if (productReturned == null) {\r\n            System.out.println(&quot;Item not in cart&quot;);\r\n        } else {\r\n            removeItem(productReturned);\r\n            addItem(productReturned);\r\n            System.out.println(productReturned.getName() + &quot; successfully returned&quot;);\r\n        }scnr.close();\r\n\t\treturn null;\r\n    }\r\n```","title":"Stuck in a constant loop","body":"<p>I have my StoreFront class that calls this method when I select option 3 to return a product. This method is supposed to ask me <code>&quot;Enter the name of the product you want to return: &quot;</code> I type in the product put my console just prompts me again saying <code>&quot;Enter the name of the product you want to return: &quot;</code>. Unsure where to go from here? Why am I stuck in a constant loop? Here is my method as well</p>\n<pre><code>    public SalableProduct returnProduct(String name) {\n        Scanner scnr = new Scanner(System.in);\n        System.out.println(&quot;Enter the name of the product you want to return: &quot;);\n        String returnProd = scnr.nextLine();\n\n        SalableProduct productReturned = returnProduct(returnProd);\n        if (productReturned == null) {\n            System.out.println(&quot;Item not in cart&quot;);\n        } else {\n            removeItem(productReturned);\n            addItem(productReturned);\n            System.out.println(productReturned.getName() + &quot; successfully returned&quot;);\n        }scnr.close();\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","overriding"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687234749,"creation_date":1687233301,"answer_id":76511327,"question_id":76511167,"body_markdown":"You override a method when you have a class hierarchy, as you do, where there is a sensible default behaviour which many of your subclasses will want to use, but some subclasses need different behaviour *and* you want to call the method using a reference of the base class.\r\n\r\nIf I had code like:\r\n```\r\nDog d = new Dog();\r\nd.speak();\r\n```\r\nThen just implementing `bark()` would be fine, because `d` is always a `Dog`.\r\nBut when I have code like this:\r\n```\r\nAnimal a;\r\nif (...) {\r\n a = new Dog();\r\n} else {\r\n a = new Cat();\r\n}\r\na.speak();\r\n```\r\nThen we have to override a method. If the subclasses had a new method (like your `bark()`) which wasn&#39;t present on `Animal` we wouldn&#39;t be able to call it, because `a` is an `Animal` -- the actual object it refers to might be a `Dog` or a `Cat`.","title":"Why use Method Overriding in java","body":"<p>You override a method when you have a class hierarchy, as you do, where there is a sensible default behaviour which many of your subclasses will want to use, but some subclasses need different behaviour <em>and</em> you want to call the method using a reference of the base class.</p>\n<p>If I had code like:</p>\n<pre><code>Dog d = new Dog();\nd.speak();\n</code></pre>\n<p>Then just implementing <code>bark()</code> would be fine, because <code>d</code> is always a <code>Dog</code>.\nBut when I have code like this:</p>\n<pre><code>Animal a;\nif (...) {\n a = new Dog();\n} else {\n a = new Cat();\n}\na.speak();\n</code></pre>\n<p>Then we have to override a method. If the subclasses had a new method (like your <code>bark()</code>) which wasn't present on <code>Animal</code> we wouldn't be able to call it, because <code>a</code> is an <code>Animal</code> -- the actual object it refers to might be a <code>Dog</code> or a <code>Cat</code>.</p>\n"},{"tags":[],"owner":{"account_id":9866227,"reputation":48,"user_id":7307613,"display_name":"Akbar  Amanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687234156,"creation_date":1687234156,"answer_id":76511359,"question_id":76511167,"body_markdown":"Basically it is needed for polymorphism, which is the ability to use subclass instead of superclass anywhere superclass is required. So, let&#39;s say you have a method where you need to pass an animal and that method goes like \r\n\r\n    makeAnimalSpeak(Animal a){\r\n      a.speak();\r\n    }\r\n\r\nLater you want to call that method and pass there specifically Dog, not generic animal, and want to make that Dog bark.\r\nSo, you go: \r\n\r\n    Dog dog = new Dog();\r\n    makeAnimalSpeak(dog);\r\n\r\nHere is the thing: makeAnimalSpeak() doesn&#39;t and can&#39;t call dog.bark() It calls animal.speak() because Animal and all of its subclasses have speak() method. So, if you want your Dog bark using makeAnimalSpeak() method, you can override speak() method. This way you can have general class Animal and only one method that works for every subclass of animal while customizing the way each subclass speaks.\r\n","title":"Why use Method Overriding in java","body":"<p>Basically it is needed for polymorphism, which is the ability to use subclass instead of superclass anywhere superclass is required. So, let's say you have a method where you need to pass an animal and that method goes like</p>\n<pre><code>makeAnimalSpeak(Animal a){\n  a.speak();\n}\n</code></pre>\n<p>Later you want to call that method and pass there specifically Dog, not generic animal, and want to make that Dog bark.\nSo, you go:</p>\n<pre><code>Dog dog = new Dog();\nmakeAnimalSpeak(dog);\n</code></pre>\n<p>Here is the thing: makeAnimalSpeak() doesn't and can't call dog.bark() It calls animal.speak() because Animal and all of its subclasses have speak() method. So, if you want your Dog bark using makeAnimalSpeak() method, you can override speak() method. This way you can have general class Animal and only one method that works for every subclass of animal while customizing the way each subclass speaks.</p>\n"},{"tags":[],"owner":{"account_id":17121303,"reputation":3,"user_id":12389449,"display_name":"Quốc Kiệt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687234583,"creation_date":1687234583,"answer_id":76511379,"question_id":76511167,"body_markdown":"You can test at class Dog,  what is your output when you call speak() method.\r\n\r\n- case 1: class dog not override method speak() of class Animal ?\r\n- case 2: class dog override method speak() of class Animal ?\r\n\r\nThat is a difference, there are many other difference, and I think you should learn more about it","title":"Why use Method Overriding in java","body":"<p>You can test at class Dog,  what is your output when you call speak() method.</p>\n<ul>\n<li>case 1: class dog not override method speak() of class Animal ?</li>\n<li>case 2: class dog override method speak() of class Animal ?</li>\n</ul>\n<p>That is a difference, there are many other difference, and I think you should learn more about it</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687299641,"creation_date":1687235329,"answer_id":76511418,"question_id":76511167,"body_markdown":"If you make a new method bark for your Dog class instead of overriding speak, then you also have to add code to detect that youre dealing with a dog, then cast it to a Dog type, then call bark. You get a program that has a bunch of very specific code that has to handle each concrete type individually, and the workflow has to be updated every time you add a new subclass. There is no abstraction or generality. \r\n\r\nThe idea behind polymorphism is that your program shouldn&#39;t have to worry about which objects are dogs and which are cats, it just handles animals, and lets the subclasses take care of the details for themselves. The program stays at a high level and tells the animals to speak, the specific animals&#39; subclasses decide whether to bark or meow. So if you introduce a new animal subclass the code handling animals doesn&#39;t change. ","title":"Why use Method Overriding in java","body":"<p>If you make a new method bark for your Dog class instead of overriding speak, then you also have to add code to detect that youre dealing with a dog, then cast it to a Dog type, then call bark. You get a program that has a bunch of very specific code that has to handle each concrete type individually, and the workflow has to be updated every time you add a new subclass. There is no abstraction or generality.</p>\n<p>The idea behind polymorphism is that your program shouldn't have to worry about which objects are dogs and which are cats, it just handles animals, and lets the subclasses take care of the details for themselves. The program stays at a high level and tells the animals to speak, the specific animals' subclasses decide whether to bark or meow. So if you introduce a new animal subclass the code handling animals doesn't change.</p>\n"}],"owner":{"account_id":26569504,"reputation":17,"user_id":20195942,"display_name":"Kookaburra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76511327,"answer_count":4,"score":1,"last_activity_date":1687299641,"creation_date":1687230281,"question_id":76511167,"body_markdown":"I&#39;m currently learning about Java and I encountered this particular function called method overriding. When do I need to override something from the parent class if I can just create a new function?\r\n\r\n```java\r\nclass Animal{\r\n    boolean alive;\r\n    void speak(){\r\n        System.out.println(&quot;This animal speaks&quot;);\r\n    }\r\n}\r\n\r\nclass Dog extends Animal{\r\n    @Override\r\n    void speak(){\r\n        System.out.println(&quot;The dog goes *bark*&quot;);\r\n    }\r\n}\r\n```\r\n\r\nwhy is there a need to override a method when I can just make a new method in the dog class?\r\n\r\n```java\r\nclass Dog extends Animal{\r\n    void bark(){\r\n        System.out.println(&quot;The dog goes *bark*&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Why use Method Overriding in java","body":"<p>I'm currently learning about Java and I encountered this particular function called method overriding. When do I need to override something from the parent class if I can just create a new function?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Animal{\n    boolean alive;\n    void speak(){\n        System.out.println(&quot;This animal speaks&quot;);\n    }\n}\n\nclass Dog extends Animal{\n    @Override\n    void speak(){\n        System.out.println(&quot;The dog goes *bark*&quot;);\n    }\n}\n</code></pre>\n<p>why is there a need to override a method when I can just make a new method in the dog class?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Dog extends Animal{\n    void bark(){\n        System.out.println(&quot;The dog goes *bark*&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","httprequest","noclassdeffounderror","ip2location"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1687300898,"post_id":76518590,"comment_id":134916738,"body_markdown":"That blog post is for desktop or server Java, not Android.","body":"That blog post is for desktop or server Java, not Android."},{"owner":{"account_id":5478644,"reputation":653,"user_id":4355877,"accept_rate":82,"display_name":"Mick"},"score":0,"creation_date":1687304528,"post_id":76518590,"comment_id":134917063,"body_markdown":"Thank you. I know that. I have been hoping that it might be workable on Android. Is that a hopeless hope? :)","body":"Thank you. I know that. I have been hoping that it might be workable on Android. Is that a hopeless hope? :)"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1687344362,"post_id":76518590,"comment_id":134922713,"body_markdown":"In this case, most likely yes. Do they have an Android-specific SDK?","body":"In this case, most likely yes. Do they have an Android-specific SDK?"},{"owner":{"account_id":5478644,"reputation":653,"user_id":4355877,"accept_rate":82,"display_name":"Mick"},"score":0,"creation_date":1687445463,"post_id":76518590,"comment_id":134940742,"body_markdown":"I am now looking at using the IP2LOCATION DB3 data base, starting with the free edition to see if I can get it to work.\nI need to be able to load the DB3 into a data base in my app. The problem is that I have no experience with database programming so it is another big, technical learning experience.\n I am looking for an example that has a format similar to DB3 [several columns of data, retrieval only] so that I can get going on it. Have not found one yet. I&#39;ll keep digging. Thank you again :)","body":"I am now looking at using the IP2LOCATION DB3 data base, starting with the free edition to see if I can get it to work. I need to be able to load the DB3 into a data base in my app. The problem is that I have no experience with database programming so it is another big, technical learning experience.  I am looking for an example that has a format similar to DB3 [several columns of data, retrieval only] so that I can get going on it. Have not found one yet. I&#39;ll keep digging. Thank you again :)"}],"owner":{"account_id":5478644,"reputation":653,"user_id":4355877,"accept_rate":82,"display_name":"Mick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687297820,"creation_date":1687297820,"question_id":76518590,"body_markdown":"I want to use IP2Location.io in my Android Studio app. I am starting with this program from their internet site. I am stuck on this error.  I do not understand why this difficulty including java/net/http/HttpRequest. I researched many similar threads on Stackoverflow but did not find a resolution. I tried unsuccessfully to include other HttpRequest. Perhaps \r\nI do not know how to do that. Any ideas will be appreciated.\r\n\r\nI started at... https://blog.ip2location.com/knowledge-base/using-ip2location-io-java-sdk-in-a-maven-project/\r\n**Using IP2Location.io Java SDK in a Maven project**\r\n\r\nI scrolled down to...\r\n**Adding the IP2Location.io Java SDK into the Maven dependency**\r\n\r\nI worked thru to the end, adding the code to a new Android Studio &quot;Empty Activity&quot;. I made changes as I went along to get rid of the &quot;red errors&quot; :)\r\nIt took me most of a day. My last, most difficult error was the infamous red R. The program builds cleanly on Android studio. But here is the result..\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: gmd.com.mickwebsite.ip2locationion, PID: 1505\r\n    **java.lang.NoClassDefFoundError: Failed resolution of: Ljava/net/http/HttpRequest;**\r\n        at com.ip2location.IPGeolocation.Lookup(IPGeolocation.java:59)\r\n        at com.ip2location.IPGeolocation.Lookup(IPGeolocation.java:46)\r\n        at gmd.com.mickwebsite.ip2locationion.MainActivity.onCreate(MainActivity.java:30)\r\n...\r\n**Here is the complete code...**\r\n**Note this about half way: // &lt;&lt;--App hangs up here**\r\n\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import com.google.gson.JsonObject;\r\n    import com.ip2location.Configuration;\r\n    import com.ip2location.DomainWhois;\r\n    import com.ip2location.IPGeolocation;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            TextView mainDisplay = findViewById(R.id.mainDisplay);\r\n    \r\n            // Configures IP2Location.io API key\r\n            Configuration config = new Configuration();\r\n    //      String apiKey = &quot;API KEY&quot;;\t//\tI used my personal API key\r\n            config.setApiKey(apiKey);\r\n            IPGeolocation ipl = new IPGeolocation(config);\r\n            // Lookup ip address geolocation data\r\n    \r\n            JsonObject myObj;\r\n            // the language parameter is only available for Plus and Security plans\r\n            try {\r\n                myObj = ipl.Lookup(&quot;8.8.8.8&quot;);  **// &lt;&lt;--App hangs up here**\r\n                // java.lang.NoClassDefFoundError:\r\n                // Failed resolution of: Ljava/net/http/HttpRequest;\r\n            } catch (Exception e) {\r\n                mainDisplay.setText(String.valueOf(e));\r\n                throw new RuntimeException(e);\r\n            }\r\n            mainDisplay.setText(String.valueOf(myObj));\r\n    // I added the id for the textView in the xml\r\n            DomainWhois whois = new DomainWhois(config);\r\n            // Lookup domain information\r\n            JsonObject myObj2;\r\n            try {\r\n                myObj2 = whois.Lookup(&quot;locaproxy.com&quot;);\r\n            } catch (Exception e) {\r\n                mainDisplay.setText(String.valueOf(e));\r\n                throw new RuntimeException(e);\r\n            }\r\n            mainDisplay.setText(String.valueOf(myObj2));\r\n        }   //  protected void onCreate\r\n    }   // public class MainActivity","title":"java.lang.NoClassDefFoundError: Failed resolution of: Ljava/net/http/HttpRequest;","body":"<p>I want to use IP2Location.io in my Android Studio app. I am starting with this program from their internet site. I am stuck on this error.  I do not understand why this difficulty including java/net/http/HttpRequest. I researched many similar threads on Stackoverflow but did not find a resolution. I tried unsuccessfully to include other HttpRequest. Perhaps\nI do not know how to do that. Any ideas will be appreciated.</p>\n<p>I started at... <a href=\"https://blog.ip2location.com/knowledge-base/using-ip2location-io-java-sdk-in-a-maven-project/\" rel=\"nofollow noreferrer\">https://blog.ip2location.com/knowledge-base/using-ip2location-io-java-sdk-in-a-maven-project/</a>\n<strong>Using IP2Location.io Java SDK in a Maven project</strong></p>\n<p>I scrolled down to...\n<strong>Adding the IP2Location.io Java SDK into the Maven dependency</strong></p>\n<p>I worked thru to the end, adding the code to a new Android Studio &quot;Empty Activity&quot;. I made changes as I went along to get rid of the &quot;red errors&quot; :)\nIt took me most of a day. My last, most difficult error was the infamous red R. The program builds cleanly on Android studio. But here is the result..</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: gmd.com.mickwebsite.ip2locationion, PID: 1505\n**java.lang.NoClassDefFoundError: Failed resolution of: Ljava/net/http/HttpRequest;**\n    at com.ip2location.IPGeolocation.Lookup(IPGeolocation.java:59)\n    at com.ip2location.IPGeolocation.Lookup(IPGeolocation.java:46)\n    at gmd.com.mickwebsite.ip2locationion.MainActivity.onCreate(MainActivity.java:30)\n</code></pre>\n<p>...\n<strong>Here is the complete code...</strong>\n<strong>Note this about half way: // &lt;&lt;--App hangs up here</strong></p>\n<pre><code>import android.os.Bundle;\nimport android.widget.TextView;\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.google.gson.JsonObject;\nimport com.ip2location.Configuration;\nimport com.ip2location.DomainWhois;\nimport com.ip2location.IPGeolocation;\n\npublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView mainDisplay = findViewById(R.id.mainDisplay);\n\n        // Configures IP2Location.io API key\n        Configuration config = new Configuration();\n//      String apiKey = &quot;API KEY&quot;;  //  I used my personal API key\n        config.setApiKey(apiKey);\n        IPGeolocation ipl = new IPGeolocation(config);\n        // Lookup ip address geolocation data\n\n        JsonObject myObj;\n        // the language parameter is only available for Plus and Security plans\n        try {\n            myObj = ipl.Lookup(&quot;8.8.8.8&quot;);  **// &lt;&lt;--App hangs up here**\n            // java.lang.NoClassDefFoundError:\n            // Failed resolution of: Ljava/net/http/HttpRequest;\n        } catch (Exception e) {\n            mainDisplay.setText(String.valueOf(e));\n            throw new RuntimeException(e);\n        }\n        mainDisplay.setText(String.valueOf(myObj));\n// I added the id for the textView in the xml\n        DomainWhois whois = new DomainWhois(config);\n        // Lookup domain information\n        JsonObject myObj2;\n        try {\n            myObj2 = whois.Lookup(&quot;locaproxy.com&quot;);\n        } catch (Exception e) {\n            mainDisplay.setText(String.valueOf(e));\n            throw new RuntimeException(e);\n        }\n        mainDisplay.setText(String.valueOf(myObj2));\n    }   //  protected void onCreate\n}   // public class MainActivity\n</code></pre>\n"},{"tags":["java","leaflet","visualization","geojson","choropleth"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687325891,"post_id":76518535,"comment_id":134918939,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28008073,"reputation":1,"user_id":21391132,"display_name":"ssudh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687297043,"creation_date":1687297043,"question_id":76518535,"body_markdown":"I want to make a choropleth map like so - https://leafletjs.com/examples/choropleth/ , using data from the Indian HIV statistics fact sheet. I am very new to coding so I am unsure how to proceed. I have the in xcl format for the HIV stats, and I know I can get India-specific GeoJson data somewhere on github. But I don&#39;t know how I can proceed further with this. I need to know how to go about it. \r\n\r\nI found Indian GeoJson data on github. I also generated the HIV stats in xcl format. I tried and tested the example map in the Leaflet site I linked above, but got stuck in the color function step. Given how new I am to this, I didn&#39;t do too much.","title":"How to generate GeoJson data to make a choropleth map on Leaflet?","body":"<p>I want to make a choropleth map like so - <a href=\"https://leafletjs.com/examples/choropleth/\" rel=\"nofollow noreferrer\">https://leafletjs.com/examples/choropleth/</a> , using data from the Indian HIV statistics fact sheet. I am very new to coding so I am unsure how to proceed. I have the in xcl format for the HIV stats, and I know I can get India-specific GeoJson data somewhere on github. But I don't know how I can proceed further with this. I need to know how to go about it.</p>\n<p>I found Indian GeoJson data on github. I also generated the HIV stats in xcl format. I tried and tested the example map in the Leaflet site I linked above, but got stuck in the color function step. Given how new I am to this, I didn't do too much.</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":349152,"reputation":2546,"user_id":684273,"accept_rate":68,"display_name":"Warlock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687296734,"creation_date":1687296734,"answer_id":76518513,"question_id":76510933,"body_markdown":"One approach can be that you will notify recycler view in onResume() method of fragment using notifyDataSetChanged() - see [here][1].&lt;br&gt;\r\n\r\nSimilar but slightly better approach is to listen to SharedPreferences changes using this [listener][2].&lt;br&gt;\r\n\r\nThe best approach is to move to for example [Shared View Model][3] which will need whole rework of your approach.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#notifydatasetchanged\r\n  [2]: https://developer.android.com/reference/android/content/SharedPreferences.OnSharedPreferenceChangeListener\r\n  [3]: https://developer.android.com/codelabs/basic-android-kotlin-training-shared-viewmodel#0","title":"Modifying Views of One Fragment from Another Fragment","body":"<p>One approach can be that you will notify recycler view in onResume() method of fragment using notifyDataSetChanged() - see <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#notifydatasetchanged\" rel=\"nofollow noreferrer\">here</a>.<br></p>\n<p>Similar but slightly better approach is to listen to SharedPreferences changes using this <a href=\"https://developer.android.com/reference/android/content/SharedPreferences.OnSharedPreferenceChangeListener\" rel=\"nofollow noreferrer\">listener</a>.<br></p>\n<p>The best approach is to move to for example <a href=\"https://developer.android.com/codelabs/basic-android-kotlin-training-shared-viewmodel#0\" rel=\"nofollow noreferrer\">Shared View Model</a> which will need whole rework of your approach.</p>\n"}],"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687296734,"creation_date":1687225872,"question_id":76510933,"body_markdown":"I have a `SharedPreferences` variable defined in a fragment, which is used in a RecyclerView&#39;s adapter class. When the RecyclerView is loaded, a condition is checked inside the `MemeViewHolder` class:\r\n\r\n```java\r\nprivate static final String REWARD_GRANTED_KEY = &quot;reward_granted_nsfw&quot;;\r\n\r\nif (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\r\n    adBtn.setVisibility(View.GONE);\r\n    adSpace.setVisibility(View.VISIBLE);\r\n} else {\r\n    adBtn.setVisibility(View.VISIBLE);\r\n    adSpace.setVisibility(View.GONE);\r\n}\r\n```\r\n\r\nThe issue I&#39;m facing is that this fragment is the second fragment in the list. The first fragment also contains the same code(but has different key for its own). However, the condition in the first fragment is executed immediately since it is loaded at launch. The problem arises with the second fragment because the adapter class is not called until I navigate to that fragment. As a result, the code block mentioned above is not executed. Consequently, when I switch to the second fragment, I initially see the `adBtn` visibility set to `VISIBLE`. Only after scrolling a bit, the condition is finally executed and the visibility is updated based on the value in `SharedPreferences`.\r\n\r\nI&#39;m wondering if there is a solution to retrieve the shared preferences from this fragment (`REWARD_GRANTED_KEY`) and use it in the first fragment or in the main activity. With this change, I could modify the condition for the fragment from the activity&#39;s perspective:\r\n\r\n```java\r\nif (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\r\n    adBtn.setVisibility(View.GONE);\r\n    adSpace.setVisibility(View.VISIBLE);\r\n} else {\r\n    adBtn.setVisibility(View.VISIBLE);\r\n    adSpace.setVisibility(View.GONE);\r\n}\r\n```\r\n\r\nFurthermore, even if I obtain the shared preferences from the first fragment or the main activity, how can I modify the views of the second fragment without actually loading the second fragment initially in the first place?\r\n\r\nCould you please suggest a solution for this scenario?","title":"Modifying Views of One Fragment from Another Fragment","body":"<p>I have a <code>SharedPreferences</code> variable defined in a fragment, which is used in a RecyclerView's adapter class. When the RecyclerView is loaded, a condition is checked inside the <code>MemeViewHolder</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String REWARD_GRANTED_KEY = &quot;reward_granted_nsfw&quot;;\n\nif (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\n    adBtn.setVisibility(View.GONE);\n    adSpace.setVisibility(View.VISIBLE);\n} else {\n    adBtn.setVisibility(View.VISIBLE);\n    adSpace.setVisibility(View.GONE);\n}\n</code></pre>\n<p>The issue I'm facing is that this fragment is the second fragment in the list. The first fragment also contains the same code(but has different key for its own). However, the condition in the first fragment is executed immediately since it is loaded at launch. The problem arises with the second fragment because the adapter class is not called until I navigate to that fragment. As a result, the code block mentioned above is not executed. Consequently, when I switch to the second fragment, I initially see the <code>adBtn</code> visibility set to <code>VISIBLE</code>. Only after scrolling a bit, the condition is finally executed and the visibility is updated based on the value in <code>SharedPreferences</code>.</p>\n<p>I'm wondering if there is a solution to retrieve the shared preferences from this fragment (<code>REWARD_GRANTED_KEY</code>) and use it in the first fragment or in the main activity. With this change, I could modify the condition for the fragment from the activity's perspective:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\n    adBtn.setVisibility(View.GONE);\n    adSpace.setVisibility(View.VISIBLE);\n} else {\n    adBtn.setVisibility(View.VISIBLE);\n    adSpace.setVisibility(View.GONE);\n}\n</code></pre>\n<p>Furthermore, even if I obtain the shared preferences from the first fragment or the main activity, how can I modify the views of the second fragment without actually loading the second fragment initially in the first place?</p>\n<p>Could you please suggest a solution for this scenario?</p>\n"},{"tags":["java","string","java-stream"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687288738,"post_id":76517580,"comment_id":134915035,"body_markdown":"so the question is how to filter the withe spaces?","body":"so the question is how to filter the withe spaces?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1687289771,"post_id":76517580,"comment_id":134915219,"body_markdown":"BTW Why `.collect(Collectors.toList()).stream()` ? converting a stream to list to convert back to stream?! || BTW2 And what is `u -&gt; u.toUpperCase(u)`? just use `Character::toUpperCase` || I would probably have done something like `name.codePoints().filter(Character::isAlphabetic).map(Character::toUpperCase).mapToObj(Character::toString).collect(groupingBy(Function.identity(), counting()));`","body":"BTW Why <code>.collect(Collectors.toList()).stream()</code> ? converting a stream to list to convert back to stream?! || BTW2 And what is <code>u -&gt; u.toUpperCase(u)</code>? just use <code>Character::toUpperCase</code> || I would probably have done something like <code>name.codePoints().filter(Character::isAlphabetic).map(Charac&zwnj;&#8203;ter::toUpperCase).ma&zwnj;&#8203;pToObj(Character::to&zwnj;&#8203;String).collect(grou&zwnj;&#8203;pingBy(Function.iden&zwnj;&#8203;tity(), counting()));</code>"}],"answers":[{"tags":[],"owner":{"account_id":23996678,"reputation":83,"user_id":17982111,"display_name":"Tharun Vemula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687296523,"creation_date":1687288082,"answer_id":76517757,"question_id":76517580,"body_markdown":"Apply ```filter()``` method while counting characters to ensure only non-whitespace characters are counted\r\n```\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String name = &quot;Ranjan Kumar Singh&quot;;\r\n        Map&lt;Object, Long&gt; repetedChars = name.chars()\r\n                .mapToObj(c-&gt;(char) c)\r\n                .filter(c -&gt; !Character.isWhitespace(c))\r\n                .map(Character::toUpperCase)\r\n                .collect(Collectors.groupingBy(l -&gt; l, \r\n                 Collectors.counting()));\r\n        \r\nSystem.out.println(&quot;Repeated characters are...&quot; + repetedChars);\r\n\r\n    }\r\n}\r\n```","title":"Counting occurrences of chars in Given string Using stream API","body":"<p>Apply <code>filter()</code> method while counting characters to ensure only non-whitespace characters are counted</p>\n<pre><code>import java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        String name = &quot;Ranjan Kumar Singh&quot;;\n        Map&lt;Object, Long&gt; repetedChars = name.chars()\n                .mapToObj(c-&gt;(char) c)\n                .filter(c -&gt; !Character.isWhitespace(c))\n                .map(Character::toUpperCase)\n                .collect(Collectors.groupingBy(l -&gt; l, \n                 Collectors.counting()));\n        \nSystem.out.println(&quot;Repeated characters are...&quot; + repetedChars);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12991947,"reputation":11,"user_id":9390888,"display_name":"ranjan kumar singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1687901230,"answer_count":1,"score":-3,"last_activity_date":1687296523,"creation_date":1687286232,"question_id":76517580,"body_markdown":"    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class FindOccurenceOfChars {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString name = &quot;Ranjan Kumar Singh&quot;;\r\n    \t\tMap&lt;Object, Long&gt; repetedChars = name.chars()\r\n           .mapToObj(c-&gt;(char) c)\r\n    \t\t\t\t.collect(Collectors.toList()).stream()\r\n    \t\t\t\t.map(u -&gt; u.toUpperCase(u))\r\n    \t\t\t\t.collect(Collectors.groupingBy(l -&gt; l, \r\n                     Collectors.counting()));\r\n    \t\t\r\n    System.out.println(&quot;Repeated characters are...&quot; + repetedChars);\r\n    \r\n    \t}\r\n    }\r\n    //Output I am Getting:-\r\n// Repeated characters are...{ =2, A=3, R=2, S=1, U=1, G=1, H=1, I=1, J=1, K=1, M=1, N=3}\r\n    \r\n    //Output should be exactly like --&gt; {A=3, R=2, S=1, U=1, G=1, H=1, I=1, J=1, K=1, M=1, N=3}","title":"Counting occurrences of chars in Given string Using stream API","body":"<pre><code>import java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class FindOccurenceOfChars {\n\n    public static void main(String[] args) {\n\n        String name = &quot;Ranjan Kumar Singh&quot;;\n        Map&lt;Object, Long&gt; repetedChars = name.chars()\n       .mapToObj(c-&gt;(char) c)\n                .collect(Collectors.toList()).stream()\n                .map(u -&gt; u.toUpperCase(u))\n                .collect(Collectors.groupingBy(l -&gt; l, \n                 Collectors.counting()));\n        \nSystem.out.println(&quot;Repeated characters are...&quot; + repetedChars);\n\n    }\n}\n//Output I am Getting:-\n</code></pre>\n<p>// Repeated characters are...{ =2, A=3, R=2, S=1, U=1, G=1, H=1, I=1, J=1, K=1, M=1, N=3}</p>\n<pre><code>//Output should be exactly like --&gt; {A=3, R=2, S=1, U=1, G=1, H=1, I=1, J=1, K=1, M=1, N=3}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1612786971,"post_id":66101305,"comment_id":116866863,"body_markdown":"To me it does not look like a proper json... Validate your json in https://jsonformatter.curiousconcept.com/#","body":"To me it does not look like a proper json... Validate your json in <a href=\"https://jsonformatter.curiousconcept.com/#\" rel=\"nofollow noreferrer\">jsonformatter.curiousconcept.com/#</a>"},{"owner":{"account_id":5623274,"reputation":2168,"user_id":4452417,"accept_rate":14,"display_name":"Fadly Dzil"},"score":0,"creation_date":1612787745,"post_id":66101305,"comment_id":116867211,"body_markdown":"Sorry mate, its valid. Just try by  yourself.","body":"Sorry mate, its valid. Just try by  yourself."},{"owner":{"account_id":12528766,"reputation":75,"user_id":9117681,"display_name":"Elvis"},"score":0,"creation_date":1612791815,"post_id":66101305,"comment_id":116869155,"body_markdown":"See this https://howtodoinjava.com/gson/gson-serialize-deserialize-hashmap/ the gson needs the TypeToken for arrays","body":"See this <a href=\"https://howtodoinjava.com/gson/gson-serialize-deserialize-hashmap/\" rel=\"nofollow noreferrer\">howtodoinjava.com/gson/gson-serialize-deserialize-hashmap</a> the gson needs the TypeToken for arrays"}],"owner":{"account_id":5623274,"reputation":2168,"user_id":4452417,"accept_rate":14,"display_name":"Fadly Dzil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687296484,"creation_date":1612785942,"question_id":66101305,"body_markdown":"I have a JSON file which I got from my backend. The JSON file is as follows.\r\n\r\n```\r\n{\r\n    &quot;documentTemplate&quot;: {\r\n        &quot;pageFormat&quot;: {\r\n            &quot;pageWidth&quot;: &quot;50&quot;,\r\n            &quot;pageLength&quot;: &quot;13&quot;,\r\n            &quot;usePageLengthFromPrinter&quot;: false\r\n        },\r\n        &quot;template&quot;: {\r\n            &quot;header&quot;: [\r\n                &quot;                    Delivery Order                    &quot;,\r\n                &quot;Date    : ${date}      NO.          : ${no_surat}     &quot;,\r\n                &quot;Customer: ${customer}  Delivery Date: ${delivery_date}&quot;\r\n            ],\r\n            &quot;detail&quot;: [\r\n                {\r\n                    &quot;table&quot;: &quot;table_details&quot;,\r\n                    &quot;border&quot;: &quot;true&quot;,\r\n                    &quot;columns&quot;: [\r\n                        {\r\n                            &quot;source&quot;: &quot;description&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;DESCRIPTION&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;do_hanwa_and_date&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;DO HW / DATE HW&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;qty&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;QTY&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;nett&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;NETT&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;gross&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;GROSS&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;size&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;SIZE&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;location&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;LOCATION&quot;\r\n                        },\r\n                        {\r\n                            &quot;source&quot;: &quot;urut&quot;,\r\n                            &quot;width&quot;: 9,\r\n                            &quot;caption&quot;: &quot;URUT&quot;\r\n                        }\r\n                    ]\r\n                },\r\n                &quot;                                   &quot;,\r\n                &quot;                                   &quot;,\r\n                &quot;    ___________     ___________    &quot;,\r\n                &quot;    (Signature)     (Signature)    &quot;\r\n            ]\r\n        }\r\n    },\r\n    &quot;documentValue&quot;: {\r\n        &quot;date&quot;: &quot;13-05-2019&quot;,\r\n        &quot;no_surat&quot;: &quot;01024/05/DO-MARU/19JKT&quot;,\r\n        &quot;customer&quot;: &quot;PT. WIJAYA STEELINDO&quot;,\r\n        &quot;delivery_date&quot;: &quot;13-05-2019&quot;,\r\n        &quot;table_details&quot;: [\r\n            {\r\n                &quot;description&quot;: &quot;03NKBTL190205005/12&quot;,\r\n                &quot;do_hanwa_and_date&quot;: &quot;46916 / 29-03-2019&quot;,\r\n                &quot;qty&quot;: &quot;1&quot;,\r\n                &quot;nett&quot;: &quot;4,568&quot;,\r\n                &quot;gross&quot;: &quot;4,616&quot;,\r\n                &quot;size&quot;: &quot;0.70MM X 151.8MM&quot;,\r\n                &quot;location&quot;: &quot;PT2212&quot;,\r\n                &quot;urut&quot;: 64592\r\n            },\r\n            {\r\n                &quot;description&quot;: &quot;03NKBTL190204997/04&quot;,\r\n                &quot;do_hanwa_and_date&quot;: &quot;46916 / 29-03-2019&quot;,\r\n                &quot;qty&quot;: &quot;1&quot;,\r\n                &quot;nett&quot;: &quot;4,504&quot;,\r\n                &quot;gross&quot;: &quot;4,552&quot;,\r\n                &quot;size&quot;: &quot;0.70MM X 151.8MM&quot;,\r\n                &quot;location&quot;: &quot;PU5111&quot;,\r\n                &quot;urut&quot;: 64591\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\nTo process the data: I use Gson.\r\n```\r\npublic class Report {\r\n\r\n    String filePathString;\r\n    public HashMap&lt;String, String&gt; convertJsonToObject() {\r\n\t\r\n      Gson gson = new Gson();\r\n      try (JsonReader reader = new JsonReader(new FileReader(this.filePathString) )) {\r\n\r\n        // Converting JSON File to Java Object\r\n        HashMap&lt;String, String&gt; hashMapResult = gson.fromJson(reader, HashMap.class);\r\n        return hashMapResult;\r\n\r\n       } catch (IOException e) {\r\n\r\n    }\r\n    return null;\r\n}\r\n```\r\nIt&#39;s time to use the data from the GSON converter.\r\nI use JSwing.\r\n\r\n```\r\nprivate void jButtonCompileGsonActionPerformed(java.awt.event.ActionEvent evt) {                                                   \r\n\r\n        // Create a report, param =&gt; file`s path\r\n        Report report = new Report(jTextFieldPathFile.getText());\r\n\r\n        // Read the file, as the return is a hashMap\r\n        HashMap&lt;String, String&gt; result = report.convertJsonToObject();\r\n\r\n\r\n        // Get based key\r\n        String documentTemplate = String.valueOf(result.get(&quot;documentTemplate&quot;)).replaceAll(&quot;\\r?\\n&quot;, &quot;&quot;);\r\n        String documentValue = String.valueOf(result.get(&quot;documentValue&quot;)).replaceAll(&quot;\\r?\\n&quot;, &quot;&quot;);\r\n\r\n        // Just to clarify\r\n        System.out.println(documentTemplate);\r\n        System.out.println(documentValue);     \r\n        \r\n\r\n    }   \r\n```\r\n\r\nThe result is:\r\n```\r\ndocumentTemplate =&gt; {pageFormat={pageWidth=50, pageLength=13, usePageLengthFromPrinter=false}, template={header=[                    Delivery Order                    , Date    : ${date}      NO.          : ${no_surat}     , Customer: ${customer}  Delivery Date: ${delivery_date}], detail=[{table=table_details, border=true, columns=[{source=description, width=9.0, caption=DESCRIPTION}, {source=do_hanwa_and_date, width=9.0, caption=DO HW / DATE HW}, {source=qty, width=9.0, caption=QTY}, {source=nett, width=9.0, caption=NETT}, {source=gross, width=9.0, caption=GROSS}, {source=size, width=9.0, caption=SIZE}, {source=location, width=9.0, caption=LOCATION}, {source=urut, width=9.0, caption=URUT}]},                                    ,                                    ,     ___________     ___________    ,     (Signature)     (Signature)    ]}}\r\ndocumentValue    =&gt; {date=13-05-2019, no_surat=01024/05/DO-MARU/19JKT, customer=PT. WIJAYA STEELINDO, delivery_date=13-05-2019, table_details=[{description=03NKBTL190205005/12, do_hanwa_and_date=46916 / 29-03-2019, qty=1, nett=4,568, gross=4,616, size=0.70MM X 151.8MM, location=PT2212, urut=64592.0}, {description=03NKBTL190204997/04, do_hanwa_and_date=46916 / 29-03-2019, qty=1, nett=4,504, gross=4,552, size=0.70MM X 151.8MM, location=PU5111, urut=64591.0}]}\r\n```\r\n\r\nI use this library: [SimpleESCP][1]\r\n\r\nFrom these libraries, the interpretation is as follows.\r\n```\r\nimport javax.json.JsonObject;\r\npublic class JsonDataSource implements DataSource {\r\n\r\n    private static final Logger LOG;\r\n    private JsonObject source;\r\n\r\n    public JsonDataSource(String jsonString){\r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\nI use it like this and get the following error message:\r\n```  \r\nJsonDataSource jsonDataSource = new JsonDataSource(documentValue);\r\n\r\nException in thread &quot;AWT-EventQueue-0&quot; javax.json.stream.JsonParsingException: Unexpected char 100 at (line no=1, column no=2, offset=1)\r\n```\r\n\r\nWhat can I try to solve this?\r\n\r\n  [1]: https://blog.jocki.me/simple-escp/#_data_source","title":"Exception in thread &quot;AWT-EventQueue-0&quot; javax.json.stream.JsonParsingException: Unexpected char 100 at (line no=1, column no=2, offset=1","body":"<p>I have a JSON file which I got from my backend. The JSON file is as follows.</p>\n<pre><code>{\n    &quot;documentTemplate&quot;: {\n        &quot;pageFormat&quot;: {\n            &quot;pageWidth&quot;: &quot;50&quot;,\n            &quot;pageLength&quot;: &quot;13&quot;,\n            &quot;usePageLengthFromPrinter&quot;: false\n        },\n        &quot;template&quot;: {\n            &quot;header&quot;: [\n                &quot;                    Delivery Order                    &quot;,\n                &quot;Date    : ${date}      NO.          : ${no_surat}     &quot;,\n                &quot;Customer: ${customer}  Delivery Date: ${delivery_date}&quot;\n            ],\n            &quot;detail&quot;: [\n                {\n                    &quot;table&quot;: &quot;table_details&quot;,\n                    &quot;border&quot;: &quot;true&quot;,\n                    &quot;columns&quot;: [\n                        {\n                            &quot;source&quot;: &quot;description&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;DESCRIPTION&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;do_hanwa_and_date&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;DO HW / DATE HW&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;qty&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;QTY&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;nett&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;NETT&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;gross&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;GROSS&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;size&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;SIZE&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;location&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;LOCATION&quot;\n                        },\n                        {\n                            &quot;source&quot;: &quot;urut&quot;,\n                            &quot;width&quot;: 9,\n                            &quot;caption&quot;: &quot;URUT&quot;\n                        }\n                    ]\n                },\n                &quot;                                   &quot;,\n                &quot;                                   &quot;,\n                &quot;    ___________     ___________    &quot;,\n                &quot;    (Signature)     (Signature)    &quot;\n            ]\n        }\n    },\n    &quot;documentValue&quot;: {\n        &quot;date&quot;: &quot;13-05-2019&quot;,\n        &quot;no_surat&quot;: &quot;01024/05/DO-MARU/19JKT&quot;,\n        &quot;customer&quot;: &quot;PT. WIJAYA STEELINDO&quot;,\n        &quot;delivery_date&quot;: &quot;13-05-2019&quot;,\n        &quot;table_details&quot;: [\n            {\n                &quot;description&quot;: &quot;03NKBTL190205005/12&quot;,\n                &quot;do_hanwa_and_date&quot;: &quot;46916 / 29-03-2019&quot;,\n                &quot;qty&quot;: &quot;1&quot;,\n                &quot;nett&quot;: &quot;4,568&quot;,\n                &quot;gross&quot;: &quot;4,616&quot;,\n                &quot;size&quot;: &quot;0.70MM X 151.8MM&quot;,\n                &quot;location&quot;: &quot;PT2212&quot;,\n                &quot;urut&quot;: 64592\n            },\n            {\n                &quot;description&quot;: &quot;03NKBTL190204997/04&quot;,\n                &quot;do_hanwa_and_date&quot;: &quot;46916 / 29-03-2019&quot;,\n                &quot;qty&quot;: &quot;1&quot;,\n                &quot;nett&quot;: &quot;4,504&quot;,\n                &quot;gross&quot;: &quot;4,552&quot;,\n                &quot;size&quot;: &quot;0.70MM X 151.8MM&quot;,\n                &quot;location&quot;: &quot;PU5111&quot;,\n                &quot;urut&quot;: 64591\n            }\n        ]\n    }\n}\n</code></pre>\n<p>To process the data: I use Gson.</p>\n<pre><code>public class Report {\n\n    String filePathString;\n    public HashMap&lt;String, String&gt; convertJsonToObject() {\n    \n      Gson gson = new Gson();\n      try (JsonReader reader = new JsonReader(new FileReader(this.filePathString) )) {\n\n        // Converting JSON File to Java Object\n        HashMap&lt;String, String&gt; hashMapResult = gson.fromJson(reader, HashMap.class);\n        return hashMapResult;\n\n       } catch (IOException e) {\n\n    }\n    return null;\n}\n</code></pre>\n<p>It's time to use the data from the GSON converter.\nI use JSwing.</p>\n<pre><code>private void jButtonCompileGsonActionPerformed(java.awt.event.ActionEvent evt) {                                                   \n\n        // Create a report, param =&gt; file`s path\n        Report report = new Report(jTextFieldPathFile.getText());\n\n        // Read the file, as the return is a hashMap\n        HashMap&lt;String, String&gt; result = report.convertJsonToObject();\n\n\n        // Get based key\n        String documentTemplate = String.valueOf(result.get(&quot;documentTemplate&quot;)).replaceAll(&quot;\\r?\\n&quot;, &quot;&quot;);\n        String documentValue = String.valueOf(result.get(&quot;documentValue&quot;)).replaceAll(&quot;\\r?\\n&quot;, &quot;&quot;);\n\n        // Just to clarify\n        System.out.println(documentTemplate);\n        System.out.println(documentValue);     \n        \n\n    }   \n</code></pre>\n<p>The result is:</p>\n<pre><code>documentTemplate =&gt; {pageFormat={pageWidth=50, pageLength=13, usePageLengthFromPrinter=false}, template={header=[                    Delivery Order                    , Date    : ${date}      NO.          : ${no_surat}     , Customer: ${customer}  Delivery Date: ${delivery_date}], detail=[{table=table_details, border=true, columns=[{source=description, width=9.0, caption=DESCRIPTION}, {source=do_hanwa_and_date, width=9.0, caption=DO HW / DATE HW}, {source=qty, width=9.0, caption=QTY}, {source=nett, width=9.0, caption=NETT}, {source=gross, width=9.0, caption=GROSS}, {source=size, width=9.0, caption=SIZE}, {source=location, width=9.0, caption=LOCATION}, {source=urut, width=9.0, caption=URUT}]},                                    ,                                    ,     ___________     ___________    ,     (Signature)     (Signature)    ]}}\ndocumentValue    =&gt; {date=13-05-2019, no_surat=01024/05/DO-MARU/19JKT, customer=PT. WIJAYA STEELINDO, delivery_date=13-05-2019, table_details=[{description=03NKBTL190205005/12, do_hanwa_and_date=46916 / 29-03-2019, qty=1, nett=4,568, gross=4,616, size=0.70MM X 151.8MM, location=PT2212, urut=64592.0}, {description=03NKBTL190204997/04, do_hanwa_and_date=46916 / 29-03-2019, qty=1, nett=4,504, gross=4,552, size=0.70MM X 151.8MM, location=PU5111, urut=64591.0}]}\n</code></pre>\n<p>I use this library: <a href=\"https://blog.jocki.me/simple-escp/#_data_source\" rel=\"nofollow noreferrer\">SimpleESCP</a></p>\n<p>From these libraries, the interpretation is as follows.</p>\n<pre><code>import javax.json.JsonObject;\npublic class JsonDataSource implements DataSource {\n\n    private static final Logger LOG;\n    private JsonObject source;\n\n    public JsonDataSource(String jsonString){\n    \n    }\n\n}\n</code></pre>\n<p>I use it like this and get the following error message:</p>\n<pre><code>JsonDataSource jsonDataSource = new JsonDataSource(documentValue);\n\nException in thread &quot;AWT-EventQueue-0&quot; javax.json.stream.JsonParsingException: Unexpected char 100 at (line no=1, column no=2, offset=1)\n</code></pre>\n<p>What can I try to solve this?</p>\n"},{"tags":["java","jframe","window","processing"],"comments":[{"owner":{"account_id":13597048,"reputation":3418,"user_id":9808792,"display_name":"micycle"},"score":0,"creation_date":1688468768,"post_id":76515416,"comment_id":135075433,"body_markdown":"See https://discourse.processing.org/t/prevent-one-processing-window-from-closing-others/13719/5","body":"See <a href=\"https://discourse.processing.org/t/prevent-one-processing-window-from-closing-others/13719/5\" rel=\"nofollow noreferrer\">discourse.processing.org/t/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687296411,"creation_date":1687286830,"answer_id":76517638,"question_id":76515416,"body_markdown":"The following source code uses the default Processing primary window for use with cp5 controls and standard graphics in combination with a secondary JFrame which uses a separate thread for Swing components.  Please see if this demo has the behaviour that you are looking for.\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport controlP5.*;\r\n\r\njavax.swing.JFrame frame;\r\njava.awt.Canvas canvas;\r\n\r\nJFrame wnd2;\r\nJLabel label;\r\n\r\nPFont font;\r\n\r\nfinal int _wndW = 1600;\r\nfinal int _wndH = 900;\r\n\r\nControlP5 cp5;\r\ncontrolP5.Button layoutBtn;\r\n\r\nvoid label(int x, int y, int w, int h) {\r\n  label = new JLabel();\r\n  label.setHorizontalAlignment(JLabel.CENTER);\r\n  label.setBounds(x, y, w, h);\r\n  label.setText(&quot;Layout Name:&quot;);\r\n  label.setToolTipText(&quot;label&quot;);\r\n  wnd2.add(label);\r\n  label.repaint();\r\n}\r\n\r\nvoid textField(int x, int y, int w, int h) {\r\n  JTextField txtFld = new JTextField(&quot;&quot;);\r\n  txtFld.setBounds(x, y, w, h);\r\n  wnd2.add(txtFld);\r\n  txtFld.setToolTipText(&quot;text field&quot;);\r\n  // **** Action **** //\r\n  txtFld.addActionListener( new ActionListener() {\r\n    void actionPerformed(ActionEvent actionEvent) {\r\n      // label.setText(txtFld.getText());\r\n    }\r\n  }\r\n  );\r\n  txtFld.repaint(); // To make it visible after export application.\r\n}\r\n\r\nvoid buildLayoutWnd() {\r\n  wnd2 = new JFrame(&quot;Window Two&quot;);\r\n  wnd2.setBounds(800, 300, 800, 450);\r\n  wnd2.setVisible(false); // Don&#39;t show until asked\r\n  wnd2.setLayout(null);\r\n  label(30, 10, 100, 30);\r\n  textField(30, 40, 280, 30);\r\n}\r\n\r\nvoid setup() {\r\n  size(_wndW, _wndH);\r\n  frame = (javax.swing.JFrame) ((processing.awt.PSurfaceAWT.SmoothCanvas) surface.getNative()).getFrame();\r\n  canvas = (processing.awt.PSurfaceAWT.SmoothCanvas) ((processing.awt.PSurfaceAWT)surface).getNative();\r\n  surface.setTitle(&quot;WarBoard - V.0.1&quot;);\r\n  font = createFont(&quot;Menlo-Bold&quot;, 18);\r\n  javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n    public void run() {\r\n      buildLayoutWnd(); // Builds components on EventDispatchThread\r\n    }\r\n  }\r\n  );\r\n\r\n  cp5 = new ControlP5(this);\r\n\r\n  layoutBtn = cp5.addButton(&quot;layout&quot;)\r\n    .setPosition(20, 30)\r\n    .setSize(160, 24)\r\n    .setCaptionLabel(&quot;New Layout&quot;)\r\n    .setFont(font)\r\n    ;\r\n}\r\n\r\nvoid draw() {\r\n  fill(color(255, 0, 0));\r\n  stroke(0);\r\n  strokeWeight(4.0);\r\n  circle(_wndW/2, _wndH/2, 400);\r\n}\r\n\r\nvoid layout() {\r\n  wnd2.setVisible(true);\r\n}\r\n\r\n```","title":"How to close second window without closing entire sketch in Processing?","body":"<p>The following source code uses the default Processing primary window for use with cp5 controls and standard graphics in combination with a secondary JFrame which uses a separate thread for Swing components.  Please see if this demo has the behaviour that you are looking for.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport controlP5.*;\n\njavax.swing.JFrame frame;\njava.awt.Canvas canvas;\n\nJFrame wnd2;\nJLabel label;\n\nPFont font;\n\nfinal int _wndW = 1600;\nfinal int _wndH = 900;\n\nControlP5 cp5;\ncontrolP5.Button layoutBtn;\n\nvoid label(int x, int y, int w, int h) {\n  label = new JLabel();\n  label.setHorizontalAlignment(JLabel.CENTER);\n  label.setBounds(x, y, w, h);\n  label.setText(&quot;Layout Name:&quot;);\n  label.setToolTipText(&quot;label&quot;);\n  wnd2.add(label);\n  label.repaint();\n}\n\nvoid textField(int x, int y, int w, int h) {\n  JTextField txtFld = new JTextField(&quot;&quot;);\n  txtFld.setBounds(x, y, w, h);\n  wnd2.add(txtFld);\n  txtFld.setToolTipText(&quot;text field&quot;);\n  // **** Action **** //\n  txtFld.addActionListener( new ActionListener() {\n    void actionPerformed(ActionEvent actionEvent) {\n      // label.setText(txtFld.getText());\n    }\n  }\n  );\n  txtFld.repaint(); // To make it visible after export application.\n}\n\nvoid buildLayoutWnd() {\n  wnd2 = new JFrame(&quot;Window Two&quot;);\n  wnd2.setBounds(800, 300, 800, 450);\n  wnd2.setVisible(false); // Don't show until asked\n  wnd2.setLayout(null);\n  label(30, 10, 100, 30);\n  textField(30, 40, 280, 30);\n}\n\nvoid setup() {\n  size(_wndW, _wndH);\n  frame = (javax.swing.JFrame) ((processing.awt.PSurfaceAWT.SmoothCanvas) surface.getNative()).getFrame();\n  canvas = (processing.awt.PSurfaceAWT.SmoothCanvas) ((processing.awt.PSurfaceAWT)surface).getNative();\n  surface.setTitle(&quot;WarBoard - V.0.1&quot;);\n  font = createFont(&quot;Menlo-Bold&quot;, 18);\n  javax.swing.SwingUtilities.invokeLater(new Runnable() {\n    public void run() {\n      buildLayoutWnd(); // Builds components on EventDispatchThread\n    }\n  }\n  );\n\n  cp5 = new ControlP5(this);\n\n  layoutBtn = cp5.addButton(&quot;layout&quot;)\n    .setPosition(20, 30)\n    .setSize(160, 24)\n    .setCaptionLabel(&quot;New Layout&quot;)\n    .setFont(font)\n    ;\n}\n\nvoid draw() {\n  fill(color(255, 0, 0));\n  stroke(0);\n  strokeWeight(4.0);\n  circle(_wndW/2, _wndH/2, 400);\n}\n\nvoid layout() {\n  wnd2.setVisible(true);\n}\n\n</code></pre>\n"}],"owner":{"account_id":16793495,"reputation":19,"user_id":12140496,"display_name":"ColtTheNark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687296411,"creation_date":1687268895,"question_id":76515416,"body_markdown":"I&#39;m working on a prototype for software for my work. I&#39;ve managed through examples and tutorials to create a second window for additional options which is great. Except for the fact that closing that window closes the entire sketch. I want to make it so hitting either the window control close button or closing the window via code will only close that second window and not the entire sketch.\r\n\r\nI&#39;ve looked everywhere for tutorials and code examples, but am struggling to implement anything at all usable. Any advice or tips or pointers here would be much appreciated!\r\n\r\nHere is the full code of the project so far (so you can get a look at how I implemented the second window)\r\n\r\nThank you!\r\n\r\n```\r\nimport controlP5.*;\r\n\r\nControlP5 cp5;\r\n\r\nPFont f_bebasNeueBold;\r\n\r\nint resW = 1600;\r\nint resH = 900;\r\n\r\nint numOfLayouts = 0;\r\n\r\nStringList layoutsFileData;\r\nStringList testingArr;\r\n\r\nString currentSpreadTitle = &quot;null&quot;;\r\nString parentPath;\r\n\r\nChildApplet newLayoutWindow;\r\n\r\n//basic ui initialization\r\nui_window programHeader = new ui_window(0,0,resW,75,(#1D4077));\r\nui_window toolBar = new ui_window(0,75,resW,35,(#12284B));\r\nui_window infoPanel = new ui_window(15,programHeader.windowHeight + toolBar.windowHeight + 15,400,resH - 30 - programHeader.windowHeight - toolBar.windowHeight,(#12284B)); \r\nui_window infoPanelHeader = new ui_window(15,infoPanel.windowYPos,400,60,(#1D4077));\r\n//basic ui initialization\r\n\r\nvoid setup() {\r\n  size(1600,900);\r\n  surface.setTitle(&quot;WarBoard - V.0.1&quot;);\r\n  background(#F2F4F3);\r\n  \r\n  parentPath = sketchPath();\r\n  \r\n  //controlP5 elements\r\n  cp5 = new ControlP5(this);\r\n  \r\n  ControlFont cf_buttonFont = new ControlFont(createFont(&quot;Bebas Neue Pro Bold.otf&quot;,14));\r\n  \r\n  cp5.addButton(&quot;buttonNewLayout&quot;)\r\n     .setValue(0)\r\n     .setPosition(10,toolBar.windowYPos + (toolBar.windowHeight / 2) - 10)\r\n     .setSize(100,20)\r\n     .setCaptionLabel(&quot;New Layout&quot;)\r\n     .setColorBackground(color(#F2F4F3))\r\n     .setColorForeground(color(#BFBFBF))\r\n     .setColorActive(color(#999999))\r\n     .setColorCaptionLabel(color(#12284B))\r\n     .setFont(cf_buttonFont)\r\n     .setBroadcast(false)\r\n     .addCallback(new CallbackListener() {\r\n       public void controlEvent(CallbackEvent event) {\r\n         if (event.getAction() == ControlP5.ACTION_RELEASED) {\r\n           launchNewLayoutWindow();\r\n         }\r\n       }\r\n     }\r\n     );\r\n     ;\r\n  //controlP5 elements\r\n  \r\n  layoutsFileData = new StringList();\r\n  testingArr = new StringList();\r\n  \r\n  f_bebasNeueBold = createFont(&quot;Bebas Neue Pro Bold.otf&quot;, 1000);\r\n  \r\n  if (checkFileStructure()) {\r\n    String tempFileData[] = loadStrings(&quot;data/layouts.txt&quot;);\r\n    for (int i = 0; i &lt; tempFileData.length; i++) {\r\n      layoutsFileData.append(tempFileData[i]);\r\n    }\r\n  }\r\n  else {\r\n    String setupFileStruct = &quot;0|&quot;;\r\n    String[] fileStruct = split(setupFileStruct, &#39;|&#39;);\r\n    saveStrings(&quot;data/layouts.txt&quot;, fileStruct);\r\n    \r\n    String tempFileData[] = loadStrings(&quot;data/layouts.txt&quot;);\r\n    for (int i = 0; i &lt; tempFileData.length; i++) {\r\n      layoutsFileData.append(tempFileData[i]);\r\n    }  \r\n    numOfLayouts = 0;\r\n  }\r\n  \r\n  numOfLayouts = int(layoutsFileData.get(0));\r\n  \r\n  testingArr.append(&quot;1&quot;);\r\n  testingArr.append(&quot;2&quot;);\r\n  newLayout(&quot;Test Layout&quot;, testingArr);\r\n  \r\n}\r\n\r\nvoid draw() {\r\n  programHeader.update();\r\n  toolBar.update();\r\n  infoPanel.update();\r\n  infoPanelHeader.update();\r\n  \r\n  easyText(&quot;WARBOARD&quot;, width/2, (programHeader.windowHeight / 2) - 15, 32, (#F2F4F3), CENTER, CENTER);\r\n  easyText(&quot;VERSION 0.1&quot;, width/2, (programHeader.windowHeight / 2) + 15, 24, (#F2F4F3), CENTER, CENTER);\r\n  \r\n  easyText(currentSpreadTitle, infoPanelHeader.windowXPos + (infoPanelHeader.windowWidth / 2), infoPanelHeader.windowYPos + (infoPanelHeader.windowHeight / 2), 32, (#F2F4F3), CENTER, CENTER);\r\n}\r\n\r\nclass ui_window {\r\n  color fillColor;\r\n  float windowWidth, windowHeight;\r\n  float windowXPos, windowYPos;\r\n  \r\n  ui_window (float x, float y, float inputWidth, float inputHeight, color inputColor) {\r\n    windowXPos = x;\r\n    windowYPos = y;\r\n    windowWidth = inputWidth;\r\n    windowHeight = inputHeight;\r\n    fillColor = inputColor;\r\n  }\r\n  \r\n  void update() {\r\n    noStroke();\r\n    fill(fillColor);\r\n    rect(windowXPos, windowYPos, windowWidth, windowHeight);\r\n  }\r\n  \r\n}\r\n\r\nvoid easyText(String textDisplay, float textXPos, float textYPos, float textFontSize, color textColor, int textFontAlignX, int textFontAlignY) {\r\n  noStroke();\r\n  fill(textColor);\r\n  textFont(f_bebasNeueBold);\r\n  textSize(textFontSize);\r\n  textAlign(textFontAlignX, textFontAlignY);\r\n  text(textDisplay, textXPos, textYPos);\r\n}\r\n\r\nvoid newLayout(String layoutName, StringList layoutPositions) {\r\n  \r\n  layoutsFileData.append(&quot;#&quot; + str(numOfLayouts));\r\n  layoutsFileData.append(layoutName);\r\n  for (int i = 0; i &lt; layoutPositions.size(); i++) {\r\n    layoutsFileData.append(layoutPositions.get(i));\r\n  }\r\n  layoutsFileData.append(&quot;&quot;);\r\n  numOfLayouts += 1;\r\n  layoutsFileData.set(0, str(numOfLayouts));\r\n  \r\n  saveAndUpdate();\r\n}\r\n\r\nvoid saveAndUpdate() {\r\n  saveStrings(&quot;data/layouts.txt&quot;, layoutsFileData.toArray());\r\n}\r\n\r\nboolean checkFileStructure() {\r\n  \r\n  InputStream input = createInput(&quot;layouts.txt&quot;);\r\n  \r\n  if (input == null) {\r\n    return false;\r\n  }\r\n  else {\r\n    return true;\r\n  }\r\n}\r\n\r\npublic void launchNewLayoutWindow() {\r\n  newLayoutWindow = new ChildApplet(2, displayWidth / 2 - 400, displayHeight / 2 - 225, 800, 450);\r\n}\r\n\r\n// New Layouts Window --------------------------------------------------------\r\nclass ChildApplet extends PApplet {\r\n  int id, vx, vy, vw, vh;\r\n  int bckColor;\r\n  PFont f_bebasNeueBoldNewLayout;\r\n  \r\n  void easyTextNewLayout(String textDisplay, float textXPos, float textYPos, float textFontSize, color textColor, int textFontAlignX, int textFontAlignY) {\r\n  noStroke();\r\n  fill(textColor);\r\n  textFont(f_bebasNeueBoldNewLayout);\r\n  textSize(textFontSize);\r\n  textAlign(textFontAlignX, textFontAlignY);\r\n  text(textDisplay, textXPos, textYPos);\r\n}\r\n  \r\n\r\n  ChildApplet(int id, int vx, int vy, int vw, int vh) {\r\n    super();\r\n    this.id = id;\r\n    this.vx = vx;\r\n    this.vy = vy;\r\n    this.vw = vw;\r\n    this.vh = vh;\r\n\r\n    PApplet.runSketch(new String[] {this.getClass().getName()}, this);\r\n  }\r\n\r\n  void settings() {\r\n    size(vw, vh, P2D);\r\n    smooth(0);\r\n    println(&quot;Creating window &quot;+ id);\r\n  }\r\n\r\n  void setup() {\r\n    windowMove(vx, vy);\r\n    windowResizable(true);\r\n    \r\n    cp5 = new ControlP5(this);\r\n    f_bebasNeueBoldNewLayout = createFont(parentPath + &quot;/data/&quot; + &quot;Bebas Neue Pro Bold.otf&quot;, 20);\r\n    ControlFont cf_inputFont = new ControlFont(createFont(parentPath + &quot;/data/&quot; + &quot;Bebas Neue Pro Bold.otf&quot;,20));\r\n        \r\n    cp5.addTextfield(&quot;input&quot;)\r\n     .setCaptionLabel(&quot;&quot;) \r\n     .setColorCaptionLabel(color(#12284B))\r\n     .setPosition(15,40)\r\n     .setSize(400,40)\r\n     .setFocus(true)\r\n     .setColor(color(#F2F4F3))\r\n     .setFont(cf_inputFont)\r\n     ;\r\n          \r\n  }\r\n\r\n  void draw() {\r\n    \r\n    background(#F2F4F3);\r\n    windowTitle(&quot;WarBoard - Create New Layout&quot;);\r\n    \r\n    easyTextNewLayout(&quot;Layout Name:&quot;, 15,15,20,color(#12284B),LEFT,TOP);\r\n  }\r\n}\r\n// New Layouts Window --------------------------------------------------------\r\n```\r\n\r\nI&#39;ve tried applying some changes to the JFrame? Although I don&#39;t understand that too much and any implementation or fix online I&#39;ve tried using relating to JFrame did not work and most likely was due to me not using it properly. I understand that you can pass parameters through the second applet (window) but those have not worked either to fix this solution.","title":"How to close second window without closing entire sketch in Processing?","body":"<p>I'm working on a prototype for software for my work. I've managed through examples and tutorials to create a second window for additional options which is great. Except for the fact that closing that window closes the entire sketch. I want to make it so hitting either the window control close button or closing the window via code will only close that second window and not the entire sketch.</p>\n<p>I've looked everywhere for tutorials and code examples, but am struggling to implement anything at all usable. Any advice or tips or pointers here would be much appreciated!</p>\n<p>Here is the full code of the project so far (so you can get a look at how I implemented the second window)</p>\n<p>Thank you!</p>\n<pre><code>import controlP5.*;\n\nControlP5 cp5;\n\nPFont f_bebasNeueBold;\n\nint resW = 1600;\nint resH = 900;\n\nint numOfLayouts = 0;\n\nStringList layoutsFileData;\nStringList testingArr;\n\nString currentSpreadTitle = &quot;null&quot;;\nString parentPath;\n\nChildApplet newLayoutWindow;\n\n//basic ui initialization\nui_window programHeader = new ui_window(0,0,resW,75,(#1D4077));\nui_window toolBar = new ui_window(0,75,resW,35,(#12284B));\nui_window infoPanel = new ui_window(15,programHeader.windowHeight + toolBar.windowHeight + 15,400,resH - 30 - programHeader.windowHeight - toolBar.windowHeight,(#12284B)); \nui_window infoPanelHeader = new ui_window(15,infoPanel.windowYPos,400,60,(#1D4077));\n//basic ui initialization\n\nvoid setup() {\n  size(1600,900);\n  surface.setTitle(&quot;WarBoard - V.0.1&quot;);\n  background(#F2F4F3);\n  \n  parentPath = sketchPath();\n  \n  //controlP5 elements\n  cp5 = new ControlP5(this);\n  \n  ControlFont cf_buttonFont = new ControlFont(createFont(&quot;Bebas Neue Pro Bold.otf&quot;,14));\n  \n  cp5.addButton(&quot;buttonNewLayout&quot;)\n     .setValue(0)\n     .setPosition(10,toolBar.windowYPos + (toolBar.windowHeight / 2) - 10)\n     .setSize(100,20)\n     .setCaptionLabel(&quot;New Layout&quot;)\n     .setColorBackground(color(#F2F4F3))\n     .setColorForeground(color(#BFBFBF))\n     .setColorActive(color(#999999))\n     .setColorCaptionLabel(color(#12284B))\n     .setFont(cf_buttonFont)\n     .setBroadcast(false)\n     .addCallback(new CallbackListener() {\n       public void controlEvent(CallbackEvent event) {\n         if (event.getAction() == ControlP5.ACTION_RELEASED) {\n           launchNewLayoutWindow();\n         }\n       }\n     }\n     );\n     ;\n  //controlP5 elements\n  \n  layoutsFileData = new StringList();\n  testingArr = new StringList();\n  \n  f_bebasNeueBold = createFont(&quot;Bebas Neue Pro Bold.otf&quot;, 1000);\n  \n  if (checkFileStructure()) {\n    String tempFileData[] = loadStrings(&quot;data/layouts.txt&quot;);\n    for (int i = 0; i &lt; tempFileData.length; i++) {\n      layoutsFileData.append(tempFileData[i]);\n    }\n  }\n  else {\n    String setupFileStruct = &quot;0|&quot;;\n    String[] fileStruct = split(setupFileStruct, '|');\n    saveStrings(&quot;data/layouts.txt&quot;, fileStruct);\n    \n    String tempFileData[] = loadStrings(&quot;data/layouts.txt&quot;);\n    for (int i = 0; i &lt; tempFileData.length; i++) {\n      layoutsFileData.append(tempFileData[i]);\n    }  \n    numOfLayouts = 0;\n  }\n  \n  numOfLayouts = int(layoutsFileData.get(0));\n  \n  testingArr.append(&quot;1&quot;);\n  testingArr.append(&quot;2&quot;);\n  newLayout(&quot;Test Layout&quot;, testingArr);\n  \n}\n\nvoid draw() {\n  programHeader.update();\n  toolBar.update();\n  infoPanel.update();\n  infoPanelHeader.update();\n  \n  easyText(&quot;WARBOARD&quot;, width/2, (programHeader.windowHeight / 2) - 15, 32, (#F2F4F3), CENTER, CENTER);\n  easyText(&quot;VERSION 0.1&quot;, width/2, (programHeader.windowHeight / 2) + 15, 24, (#F2F4F3), CENTER, CENTER);\n  \n  easyText(currentSpreadTitle, infoPanelHeader.windowXPos + (infoPanelHeader.windowWidth / 2), infoPanelHeader.windowYPos + (infoPanelHeader.windowHeight / 2), 32, (#F2F4F3), CENTER, CENTER);\n}\n\nclass ui_window {\n  color fillColor;\n  float windowWidth, windowHeight;\n  float windowXPos, windowYPos;\n  \n  ui_window (float x, float y, float inputWidth, float inputHeight, color inputColor) {\n    windowXPos = x;\n    windowYPos = y;\n    windowWidth = inputWidth;\n    windowHeight = inputHeight;\n    fillColor = inputColor;\n  }\n  \n  void update() {\n    noStroke();\n    fill(fillColor);\n    rect(windowXPos, windowYPos, windowWidth, windowHeight);\n  }\n  \n}\n\nvoid easyText(String textDisplay, float textXPos, float textYPos, float textFontSize, color textColor, int textFontAlignX, int textFontAlignY) {\n  noStroke();\n  fill(textColor);\n  textFont(f_bebasNeueBold);\n  textSize(textFontSize);\n  textAlign(textFontAlignX, textFontAlignY);\n  text(textDisplay, textXPos, textYPos);\n}\n\nvoid newLayout(String layoutName, StringList layoutPositions) {\n  \n  layoutsFileData.append(&quot;#&quot; + str(numOfLayouts));\n  layoutsFileData.append(layoutName);\n  for (int i = 0; i &lt; layoutPositions.size(); i++) {\n    layoutsFileData.append(layoutPositions.get(i));\n  }\n  layoutsFileData.append(&quot;&quot;);\n  numOfLayouts += 1;\n  layoutsFileData.set(0, str(numOfLayouts));\n  \n  saveAndUpdate();\n}\n\nvoid saveAndUpdate() {\n  saveStrings(&quot;data/layouts.txt&quot;, layoutsFileData.toArray());\n}\n\nboolean checkFileStructure() {\n  \n  InputStream input = createInput(&quot;layouts.txt&quot;);\n  \n  if (input == null) {\n    return false;\n  }\n  else {\n    return true;\n  }\n}\n\npublic void launchNewLayoutWindow() {\n  newLayoutWindow = new ChildApplet(2, displayWidth / 2 - 400, displayHeight / 2 - 225, 800, 450);\n}\n\n// New Layouts Window --------------------------------------------------------\nclass ChildApplet extends PApplet {\n  int id, vx, vy, vw, vh;\n  int bckColor;\n  PFont f_bebasNeueBoldNewLayout;\n  \n  void easyTextNewLayout(String textDisplay, float textXPos, float textYPos, float textFontSize, color textColor, int textFontAlignX, int textFontAlignY) {\n  noStroke();\n  fill(textColor);\n  textFont(f_bebasNeueBoldNewLayout);\n  textSize(textFontSize);\n  textAlign(textFontAlignX, textFontAlignY);\n  text(textDisplay, textXPos, textYPos);\n}\n  \n\n  ChildApplet(int id, int vx, int vy, int vw, int vh) {\n    super();\n    this.id = id;\n    this.vx = vx;\n    this.vy = vy;\n    this.vw = vw;\n    this.vh = vh;\n\n    PApplet.runSketch(new String[] {this.getClass().getName()}, this);\n  }\n\n  void settings() {\n    size(vw, vh, P2D);\n    smooth(0);\n    println(&quot;Creating window &quot;+ id);\n  }\n\n  void setup() {\n    windowMove(vx, vy);\n    windowResizable(true);\n    \n    cp5 = new ControlP5(this);\n    f_bebasNeueBoldNewLayout = createFont(parentPath + &quot;/data/&quot; + &quot;Bebas Neue Pro Bold.otf&quot;, 20);\n    ControlFont cf_inputFont = new ControlFont(createFont(parentPath + &quot;/data/&quot; + &quot;Bebas Neue Pro Bold.otf&quot;,20));\n        \n    cp5.addTextfield(&quot;input&quot;)\n     .setCaptionLabel(&quot;&quot;) \n     .setColorCaptionLabel(color(#12284B))\n     .setPosition(15,40)\n     .setSize(400,40)\n     .setFocus(true)\n     .setColor(color(#F2F4F3))\n     .setFont(cf_inputFont)\n     ;\n          \n  }\n\n  void draw() {\n    \n    background(#F2F4F3);\n    windowTitle(&quot;WarBoard - Create New Layout&quot;);\n    \n    easyTextNewLayout(&quot;Layout Name:&quot;, 15,15,20,color(#12284B),LEFT,TOP);\n  }\n}\n// New Layouts Window --------------------------------------------------------\n</code></pre>\n<p>I've tried applying some changes to the JFrame? Although I don't understand that too much and any implementation or fix online I've tried using relating to JFrame did not work and most likely was due to me not using it properly. I understand that you can pass parameters through the second applet (window) but those have not worked either to fix this solution.</p>\n"},{"tags":["java","string","insert","append","stringbuilder"],"answers":[{"tags":[],"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"down_vote_count":0,"up_vote_count":229,"is_accepted":true,"score":229,"last_activity_date":1304900150,"creation_date":1304899839,"answer_id":5931267,"question_id":5931261,"body_markdown":"    StringBuilder sb = new StringBuilder();\r\n    for(int i=0;i&lt;100;i++){\r\n        sb.insert(0, Integer.toString(i));\r\n    }\r\n\r\n**Warning:** *It defeats the purpose of `StringBuilder`*, but it does what you asked.\r\n\r\n--------------------\r\n\r\n**Better technique** (although still not ideal):\r\n\r\n1. Reverse *each* string you want to insert.\r\n2. *Append* each string to a `StringBuilder`.\r\n3. Reverse the *entire* `StringBuilder` when you&#39;re done.\r\n\r\nThis will turn an O(*n*&#178;) solution into O(*n*).","title":"java: use StringBuilder to insert at the beginning","body":"<pre><code>StringBuilder sb = new StringBuilder();\nfor(int i=0;i&lt;100;i++){\n    sb.insert(0, Integer.toString(i));\n}\n</code></pre>\n\n<p><strong>Warning:</strong> <em>It defeats the purpose of <code>StringBuilder</code></em>, but it does what you asked.</p>\n\n<hr>\n\n<p><strong>Better technique</strong> (although still not ideal):</p>\n\n<ol>\n<li>Reverse <em>each</em> string you want to insert.</li>\n<li><em>Append</em> each string to a <code>StringBuilder</code>.</li>\n<li>Reverse the <em>entire</em> <code>StringBuilder</code> when you're done.</li>\n</ol>\n\n<p>This will turn an O(<em>n</em>²) solution into O(<em>n</em>).</p>\n"},{"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1304899899,"creation_date":1304899899,"answer_id":5931273,"question_id":5931261,"body_markdown":"you can use `strbuilder.insert(0,i);`","title":"java: use StringBuilder to insert at the beginning","body":"<p>you can use <code>strbuilder.insert(0,i);</code></p>\n"},{"tags":[],"owner":{"account_id":160779,"reputation":2279,"user_id":381091,"accept_rate":100,"display_name":"Speck"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1304915258,"creation_date":1304915258,"answer_id":5932498,"question_id":5931261,"body_markdown":"Maybe I&#39;m missing something but you want to wind up with a String that looks like this, `&quot;999897969594...543210&quot;`, correct?\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for(int i=99;i&gt;=0;i--){\r\n        sb.append(String.valueOf(i));\r\n    }\r\n\r\n","title":"java: use StringBuilder to insert at the beginning","body":"<p>Maybe I'm missing something but you want to wind up with a String that looks like this, <code>\"999897969594...543210\"</code>, correct?</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nfor(int i=99;i&gt;=0;i--){\n    sb.append(String.valueOf(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3165723,"reputation":813,"user_id":2675793,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388844088,"creation_date":1388844088,"answer_id":20921944,"question_id":5931261,"body_markdown":"This thread is quite old, but you could also think about a recursive solution passing the StringBuilder to fill. This allows to prevent any reverse processing etc. Just need to design your iteration with a recursion and carefully decide for an exit condition.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            StringBuilder sb = new StringBuilder();\r\n            doRecursive(sb, 100, 0);\r\n            System.out.println(sb.toString());\r\n        }\r\n    \r\n        public static void doRecursive(StringBuilder sb, int limit, int index) {\r\n            if (index &lt; limit) {\r\n                doRecursive(sb, limit, index + 1);\r\n                sb.append(Integer.toString(index));\r\n            }\r\n        }\r\n    }","title":"java: use StringBuilder to insert at the beginning","body":"<p>This thread is quite old, but you could also think about a recursive solution passing the StringBuilder to fill. This allows to prevent any reverse processing etc. Just need to design your iteration with a recursion and carefully decide for an exit condition.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args) {\n        StringBuilder sb = new StringBuilder();\n        doRecursive(sb, 100, 0);\n        System.out.println(sb.toString());\n    }\n\n    public static void doRecursive(StringBuilder sb, int limit, int index) {\n        if (index &lt; limit) {\n            doRecursive(sb, limit, index + 1);\n            sb.append(Integer.toString(index));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218187,"reputation":2189,"user_id":474381,"display_name":"Vasile Jureschi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1420701181,"creation_date":1420701181,"answer_id":27834772,"question_id":5931261,"body_markdown":"As an alternative solution you can use a LIFO structure (like a stack) to store all the strings and when you are done just take them all out and put them into the StringBuilder. It naturally reverses the order of the items (strings) placed in it.\r\n\r\n    Stack&lt;String&gt; textStack = new Stack&lt;String&gt;();\r\n    // push the strings to the stack\r\n    while(!isReadingTextDone()) {\r\n        String text = readText();\r\n        textStack.push(text);\r\n    }\r\n    // pop the strings and add to the text builder\r\n    String builder = new StringBuilder(); \r\n    while (!textStack.empty()) {\r\n          builder.append(textStack.pop());\r\n    }\r\n    // get the final string\r\n    String finalText =  builder.toString();","title":"java: use StringBuilder to insert at the beginning","body":"<p>As an alternative solution you can use a LIFO structure (like a stack) to store all the strings and when you are done just take them all out and put them into the StringBuilder. It naturally reverses the order of the items (strings) placed in it.</p>\n\n<pre><code>Stack&lt;String&gt; textStack = new Stack&lt;String&gt;();\n// push the strings to the stack\nwhile(!isReadingTextDone()) {\n    String text = readText();\n    textStack.push(text);\n}\n// pop the strings and add to the text builder\nString builder = new StringBuilder(); \nwhile (!textStack.empty()) {\n      builder.append(textStack.pop());\n}\n// get the final string\nString finalText =  builder.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2848053,"reputation":229,"user_id":5144850,"display_name":"Siddharth Wagle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514654004,"creation_date":1514654004,"answer_id":48036128,"question_id":5931261,"body_markdown":"I had a similar requirement when I stumbled on this post. I wanted a fast way to build a String that can grow from both sides ie. add new letters on the front as well as back arbitrarily. I know this is an old post, but it inspired me to try out a few ways to create strings and I thought I&#39;d share my findings. I am also using some Java 8 constructs in this, which could have optimised the speed in cases 4 and 5. \r\n\r\nhttps://gist.github.com/SidWagz/e41e836dec65ff24f78afdf8669e6420\r\n\r\nThe Gist above has the detailed code that anyone can run.\r\nI took few ways of growing strings in this; 1) Append to StringBuilder, 2) Insert to front of StringBuilder as as shown by @Mehrdad, 3) Partially insert from front as well as end of the StringBuilder, 4) Using a list to append from end, 5) Using a Deque to append from the front.\r\n\r\n    // Case 2    \r\n    StringBuilder build3 = new StringBuilder();\r\n    IntStream.range(0, MAX_STR)\r\n                        .sequential()\r\n                        .forEach(i -&gt; {\r\n                            if (i%2 == 0) build3.append(Integer.toString(i)); else build3.insert(0, Integer.toString(i));\r\n                        });\r\n    String build3Out = build3.toString();\r\n    \r\n    \r\n    //Case 5\r\n    Deque&lt;String&gt; deque = new ArrayDeque&lt;&gt;();\r\n    IntStream.range(0, MAX_STR)\r\n                    .sequential()\r\n                    .forEach(i -&gt; {\r\n                        if (i%2 == 0) deque.addLast(Integer.toString(i)); else deque.addFirst(Integer.toString(i));\r\n                    });\r\n    \r\n    String dequeOut = deque.stream().collect(Collectors.joining(&quot;&quot;));\r\n\r\nI&#39;ll focus on the front append only cases ie. case 2 and case 5. The implementation of StringBuilder internally decides how the internal buffer grows, which apart from moving all buffer left to right in case of front appending limits the speed. While time taken when inserting directly to the front of the StringBuilder grows to really high values, as shown by @Mehrdad, if the need is to only have strings of length less than 90k characters (which is still a lot), the front insert will build a String in the same time as it would take to build a String of the same length by appending at the end. What I am saying is that time time penalty indeed kicks and is huge, but only when you have to build really huge strings. One could use a deque and join the strings at the end as shown in my example. But StringBuilder is a bit more intuitive to read and code, and the penalty would not matter for smaller strings.\r\n\r\nActually the performance for case 2 is much faster than case 1, which I don&#39;t seem to understand. I assume the growth for the internal buffer in StringBuilder would be the same in case of front append and back append. I even set the minimum heap to a very large amount to avoid delay in heap growth, if that would have played a role. Maybe someone who has a better understanding can comment below.\r\n","title":"java: use StringBuilder to insert at the beginning","body":"<p>I had a similar requirement when I stumbled on this post. I wanted a fast way to build a String that can grow from both sides ie. add new letters on the front as well as back arbitrarily. I know this is an old post, but it inspired me to try out a few ways to create strings and I thought I'd share my findings. I am also using some Java 8 constructs in this, which could have optimised the speed in cases 4 and 5. </p>\n\n<p><a href=\"https://gist.github.com/SidWagz/e41e836dec65ff24f78afdf8669e6420\" rel=\"nofollow noreferrer\">https://gist.github.com/SidWagz/e41e836dec65ff24f78afdf8669e6420</a></p>\n\n<p>The Gist above has the detailed code that anyone can run.\nI took few ways of growing strings in this; 1) Append to StringBuilder, 2) Insert to front of StringBuilder as as shown by @Mehrdad, 3) Partially insert from front as well as end of the StringBuilder, 4) Using a list to append from end, 5) Using a Deque to append from the front.</p>\n\n<pre><code>// Case 2    \nStringBuilder build3 = new StringBuilder();\nIntStream.range(0, MAX_STR)\n                    .sequential()\n                    .forEach(i -&gt; {\n                        if (i%2 == 0) build3.append(Integer.toString(i)); else build3.insert(0, Integer.toString(i));\n                    });\nString build3Out = build3.toString();\n\n\n//Case 5\nDeque&lt;String&gt; deque = new ArrayDeque&lt;&gt;();\nIntStream.range(0, MAX_STR)\n                .sequential()\n                .forEach(i -&gt; {\n                    if (i%2 == 0) deque.addLast(Integer.toString(i)); else deque.addFirst(Integer.toString(i));\n                });\n\nString dequeOut = deque.stream().collect(Collectors.joining(\"\"));\n</code></pre>\n\n<p>I'll focus on the front append only cases ie. case 2 and case 5. The implementation of StringBuilder internally decides how the internal buffer grows, which apart from moving all buffer left to right in case of front appending limits the speed. While time taken when inserting directly to the front of the StringBuilder grows to really high values, as shown by @Mehrdad, if the need is to only have strings of length less than 90k characters (which is still a lot), the front insert will build a String in the same time as it would take to build a String of the same length by appending at the end. What I am saying is that time time penalty indeed kicks and is huge, but only when you have to build really huge strings. One could use a deque and join the strings at the end as shown in my example. But StringBuilder is a bit more intuitive to read and code, and the penalty would not matter for smaller strings.</p>\n\n<p>Actually the performance for case 2 is much faster than case 1, which I don't seem to understand. I assume the growth for the internal buffer in StringBuilder would be the same in case of front append and back append. I even set the minimum heap to a very large amount to avoid delay in heap growth, if that would have played a role. Maybe someone who has a better understanding can comment below.</p>\n"},{"tags":[],"owner":{"account_id":7080583,"reputation":51,"user_id":5419147,"display_name":"suresh babu garine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585343181,"creation_date":1585343181,"answer_id":60894125,"question_id":5931261,"body_markdown":"    Difference Between String, StringBuilder And StringBuffer Classes\r\n    String\r\n    String is immutable ( once created can not be changed )object. The object created as a\r\n    String is stored in the Constant String Pool.\r\n    Every immutable object in Java is thread-safe, which implies String is also thread-safe. String\r\n    can not be used by two threads simultaneously.\r\n    String once assigned can not be changed.\r\n    StringBuffer\r\n    StringBuffer is mutable means one can change the value of the object. The object created\r\n    through StringBuffer is stored in the heap. StringBuffer has the same methods as the\r\n    StringBuilder , but each method in StringBuffer is synchronized that is StringBuffer is thread\r\n    safe .\r\n    Due to this, it does not allow two threads to simultaneously access the same method. Each\r\n    method can be accessed by one thread at a time.\r\n    But being thread-safe has disadvantages too as the performance of the StringBuffer hits due\r\n    to thread-safe property. Thus StringBuilder is faster than the StringBuffer when calling the\r\n    same methods of each class.\r\n    String Buffer can be converted to the string by using\r\n    toString() method.\r\n    \r\n        StringBuffer demo1 = new StringBuffer(&quot;Hello&quot;) ;\r\n    \r\n    // The above object stored in heap and its value can be changed.\r\n    /\r\n    // Above statement is right as it modifies the value which is allowed in the StringBuffer\r\n    StringBuilder\r\n    StringBuilder is the same as the StringBuffer, that is it stores the object in heap and it can also\r\n    be modified. The main difference between the StringBuffer and StringBuilder is\r\n    that StringBuilder is also not thread-safe.\r\n    StringBuilder is fast as it is not thread-safe.\r\n    /\r\n    // The above object is stored in the heap and its value can be modified\r\n    /\r\n    // Above statement is right as it modifies the value which is allowed in the StringBuilder","title":"java: use StringBuilder to insert at the beginning","body":"<pre><code>Difference Between String, StringBuilder And StringBuffer Classes\nString\nString is immutable ( once created can not be changed )object. The object created as a\nString is stored in the Constant String Pool.\nEvery immutable object in Java is thread-safe, which implies String is also thread-safe. String\ncan not be used by two threads simultaneously.\nString once assigned can not be changed.\nStringBuffer\nStringBuffer is mutable means one can change the value of the object. The object created\nthrough StringBuffer is stored in the heap. StringBuffer has the same methods as the\nStringBuilder , but each method in StringBuffer is synchronized that is StringBuffer is thread\nsafe .\nDue to this, it does not allow two threads to simultaneously access the same method. Each\nmethod can be accessed by one thread at a time.\nBut being thread-safe has disadvantages too as the performance of the StringBuffer hits due\nto thread-safe property. Thus StringBuilder is faster than the StringBuffer when calling the\nsame methods of each class.\nString Buffer can be converted to the string by using\ntoString() method.\n\n    StringBuffer demo1 = new StringBuffer(\"Hello\") ;\n\n// The above object stored in heap and its value can be changed.\n/\n// Above statement is right as it modifies the value which is allowed in the StringBuffer\nStringBuilder\nStringBuilder is the same as the StringBuffer, that is it stores the object in heap and it can also\nbe modified. The main difference between the StringBuffer and StringBuilder is\nthat StringBuilder is also not thread-safe.\nStringBuilder is fast as it is not thread-safe.\n/\n// The above object is stored in the heap and its value can be modified\n/\n// Above statement is right as it modifies the value which is allowed in the StringBuilder\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10703126,"reputation":552,"user_id":7877771,"display_name":"sachyy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589867637,"creation_date":1589867637,"answer_id":61884140,"question_id":5931261,"body_markdown":"You can use the insert method with the offset.\r\nas offset set to &#39;0&#39; means you are appending to the front of your StringBuilder.\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for(int i=0;i&lt;100;i++){\r\n        sb.insert(0,i);\r\n    }\r\n\r\n**NOTE**:\r\nas the insert method accept all types of primitives, you can use for int, long, char[] etc.","title":"java: use StringBuilder to insert at the beginning","body":"<p>You can use the insert method with the offset.\nas offset set to '0' means you are appending to the front of your StringBuilder.</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nfor(int i=0;i&lt;100;i++){\n    sb.insert(0,i);\n}\n</code></pre>\n\n<p><strong>NOTE</strong>:\nas the insert method accept all types of primitives, you can use for int, long, char[] etc.</p>\n"},{"tags":[],"owner":{"account_id":2414779,"reputation":14072,"user_id":2109070,"accept_rate":62,"display_name":"Trying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596655805,"creation_date":1596655364,"answer_id":63272203,"question_id":5931261,"body_markdown":"How about:\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    for(int i=99;i&gt;=0;i--){\r\n        builder.append(Integer.toString(i));\r\n    }\r\n    builder.toString();\r\n\r\nOR\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    for(int i=0;i&lt;100;i++){\r\n      builder.insert(0, Integer.toString(i));\r\n    }\r\n    builder.toString();\r\n**But with this, you are making the operation O(N^2) instead of O(N).**\r\n\r\nSnippet from java docs:\r\n\r\n&gt; Inserts the string representation of the Object argument into this\r\n&gt; character sequence. The overall effect is exactly as if the second\r\n&gt; argument were converted to a string by the method\r\n&gt; `String.valueOf(Object)`, and the characters of that string were then\r\n&gt; inserted into this character sequence at the indicated offset.\r\n&gt; \r\n","title":"java: use StringBuilder to insert at the beginning","body":"<p>How about:</p>\n<pre><code>StringBuilder builder = new StringBuilder();\nfor(int i=99;i&gt;=0;i--){\n    builder.append(Integer.toString(i));\n}\nbuilder.toString();\n</code></pre>\n<p>OR</p>\n<pre><code>StringBuilder builder = new StringBuilder();\nfor(int i=0;i&lt;100;i++){\n  builder.insert(0, Integer.toString(i));\n}\nbuilder.toString();\n</code></pre>\n<p><strong>But with this, you are making the operation O(N^2) instead of O(N).</strong></p>\n<p>Snippet from java docs:</p>\n<blockquote>\n<p>Inserts the string representation of the Object argument into this\ncharacter sequence. The overall effect is exactly as if the second\nargument were converted to a string by the method\n<code>String.valueOf(Object)</code>, and the characters of that string were then\ninserted into this character sequence at the indicated offset.</p>\n</blockquote>\n"}],"owner":{"account_id":349783,"reputation":2127,"user_id":685275,"accept_rate":72,"display_name":"user685275"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220622,"favorite_count":0,"down_vote_count":0,"up_vote_count":119,"accepted_answer_id":5931267,"answer_count":9,"score":119,"last_activity_date":1687296173,"creation_date":1304899729,"question_id":5931261,"body_markdown":"I could only do this with String, for example: \r\n\r\n    String str = &quot;&quot;;\r\n    for (int i = 0; i &lt; 100; i++) {\r\n        str = i + str;\r\n    }\r\n\r\nIs there a way to achieve this with StringBuilder? Thanks.\r\n\r\n","title":"java: use StringBuilder to insert at the beginning","body":"<p>I could only do this with String, for example:</p>\n<pre><code>String str = &quot;&quot;;\nfor (int i = 0; i &lt; 100; i++) {\n    str = i + str;\n}\n</code></pre>\n<p>Is there a way to achieve this with StringBuilder? Thanks.</p>\n"},{"tags":["java","android-recyclerview","android-livedata"],"owner":{"account_id":8700262,"reputation":638,"user_id":6510411,"display_name":"Nekomajin42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687295963,"creation_date":1687295963,"question_id":76518455,"body_markdown":"I have a 2-dimensional LiveData list.\r\n\r\nMy fragment has a button and a RecyclerView. The button opens a dialog, which contains the items of the **outer list**. When I select an item in the dialog, I would like to display the items of the selected **inner list** in the RecyclerView.\r\n\r\nMy problem is that I don&#39;t know where to initialize the adapter. Should I initialize the adapter inside the observer&#39;s `onChanged` listener, the button&#39;s `onClick` listener or outside of them?\r\n\r\n**Relevant code:**\r\n\r\n```\r\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\tbinding = FragmentSessionsBinding.inflate(inflater, container, false);\r\n\r\n\tviewModel = new ViewModelProvider(getActivity()).get(SessionsViewModel.class);\r\n\tviewModel.getSessions().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;SessionData&gt;&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onChanged(List&lt;SessionData&gt; sessions) {\r\n\t\t\t/* ... */\r\n\t\t}\r\n\t});\r\n\r\n\t// sessionSelect =&gt; button\r\n\tbinding.sessionSelect.setOnClickListener(new View.OnClickListener() {\r\n\t\t@Override\r\n\t\tpublic void onClick(View view) {\r\n\t\t\tSessionsListDialog dialog = new SessionsListDialog();\r\n\t\t\tdialog.show(getActivity().getSupportFragmentManager(), null);\r\n\t\t\tdialog.sessionSelectListener = new SessionsListDialog.SessionSelectListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onSessionSelected(int sessionId) {\r\n\t\t\t\t\tviewModel.setSessionId(sessionId);\r\n\t\t\t\t\t/* ... */\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\r\n\t// the adapter gets the list via its constructor\r\n\ttasksAdapter = new TasksAdapter(viewModel.getSessions().getValue().get(viewModel.getSessionId()).getTasks());\r\n\t\r\n\t// sessionTasks =&gt; recyclerview\r\n\tbinding.sessionTasks.setAdapter(tasksAdapter);\r\n\tbinding.sessionTasks.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n\treturn binding.getRoot();\r\n}\r\n```\r\n\r\nUsing this code, the `getValue` method returns `null`, because the list is not ready at this point. It is being fetched from a local file in the fragment&#39;s parent activity. I could pass an empty list to the constructor, but **I am not sure whether it would run earlier every time than the observer.**\r\n\r\nIf I move the adapter initialization into the `observe` method, `getValue` works fine, and the RecyclerView is populated with the items. However, every time I add a new inner list to the outer list in a separate dialog (not shown in this piece of code), the adapter is re-initialized. **Isn&#39;t it redundant?**\r\n\r\nAnd the last question is how I should give a new list to the adapter inside the `onClick` listener. **Should I call the adapter&#39;s constructor every time I select a new inner list in the dialog?**\r\n\r\nI would be glad if someone could answer these questions.","title":"Where to initialize RecyclerView adapter with LiveData","body":"<p>I have a 2-dimensional LiveData list.</p>\n<p>My fragment has a button and a RecyclerView. The button opens a dialog, which contains the items of the <strong>outer list</strong>. When I select an item in the dialog, I would like to display the items of the selected <strong>inner list</strong> in the RecyclerView.</p>\n<p>My problem is that I don't know where to initialize the adapter. Should I initialize the adapter inside the observer's <code>onChanged</code> listener, the button's <code>onClick</code> listener or outside of them?</p>\n<p><strong>Relevant code:</strong></p>\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    binding = FragmentSessionsBinding.inflate(inflater, container, false);\n\n    viewModel = new ViewModelProvider(getActivity()).get(SessionsViewModel.class);\n    viewModel.getSessions().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;SessionData&gt;&gt;() {\n        @Override\n        public void onChanged(List&lt;SessionData&gt; sessions) {\n            /* ... */\n        }\n    });\n\n    // sessionSelect =&gt; button\n    binding.sessionSelect.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            SessionsListDialog dialog = new SessionsListDialog();\n            dialog.show(getActivity().getSupportFragmentManager(), null);\n            dialog.sessionSelectListener = new SessionsListDialog.SessionSelectListener() {\n                @Override\n                public void onSessionSelected(int sessionId) {\n                    viewModel.setSessionId(sessionId);\n                    /* ... */\n                }\n            };\n        }\n    });\n\n    // the adapter gets the list via its constructor\n    tasksAdapter = new TasksAdapter(viewModel.getSessions().getValue().get(viewModel.getSessionId()).getTasks());\n    \n    // sessionTasks =&gt; recyclerview\n    binding.sessionTasks.setAdapter(tasksAdapter);\n    binding.sessionTasks.setLayoutManager(new LinearLayoutManager(getContext()));\n\n    return binding.getRoot();\n}\n</code></pre>\n<p>Using this code, the <code>getValue</code> method returns <code>null</code>, because the list is not ready at this point. It is being fetched from a local file in the fragment's parent activity. I could pass an empty list to the constructor, but <strong>I am not sure whether it would run earlier every time than the observer.</strong></p>\n<p>If I move the adapter initialization into the <code>observe</code> method, <code>getValue</code> works fine, and the RecyclerView is populated with the items. However, every time I add a new inner list to the outer list in a separate dialog (not shown in this piece of code), the adapter is re-initialized. <strong>Isn't it redundant?</strong></p>\n<p>And the last question is how I should give a new list to the adapter inside the <code>onClick</code> listener. <strong>Should I call the adapter's constructor every time I select a new inner list in the dialog?</strong></p>\n<p>I would be glad if someone could answer these questions.</p>\n"},{"tags":["java","swagger","openapi","springdoc"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1687334241,"post_id":76518411,"comment_id":134920528,"body_markdown":"Try `@SecurityScheme` and `@SecurityRequirement`: https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations","body":"Try <code>@SecurityScheme</code> and <code>@SecurityRequirement</code>: <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-core/wiki/&hellip;</a>"}],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687295366,"creation_date":1687295366,"question_id":76518411,"body_markdown":"Am migrating my API to JDK 17/Spring Boot 3.  I am thus forced to migrate my Swagger from SpringFox to SpringDoc (OpenAPI). I have a SpringDoc @Operation that in its SpringFox legacy form looks like this:\r\n\r\n    @ApiOperation(\r\n       value= &quot;Do XYZ&quot;,\r\n       authorizations = {\r\n         @Authorization(\r\n            value = &quot;internalOAuth&quot;,\r\n            scopes = {\r\n              @AuthorizationScope(scope = &quot;some_scope_xxx&quot;, description = &quot;Xxxxxx&quot;),\r\n              @AuthorizationScope(\r\n                  scope = &quot;com.example.class&quot;,\r\n                  description = &quot;Xxxxxx&quot;)\r\n            })\r\n      })\r\n\r\nCan&#39;t find a thing in Google-land or here on SO that says explicitly what needs doing to convert over the @Authorization and @AuthorizationScope annotations.  I know @ApiOperation becomes just @Operation, but that&#39;s all.  All the guides and examples seem to have skipped this rather common configuration situation.  Any help is greatly appreciated.  Thank you.","title":"Migrating from SpringFox to OpenAPI (SpringDoc) during JDK 17/SB3 Upgrade - Stuck on @Authorization and @AuthorizationScope Conversion","body":"<p>Am migrating my API to JDK 17/Spring Boot 3.  I am thus forced to migrate my Swagger from SpringFox to SpringDoc (OpenAPI). I have a SpringDoc @Operation that in its SpringFox legacy form looks like this:</p>\n<pre><code>@ApiOperation(\n   value= &quot;Do XYZ&quot;,\n   authorizations = {\n     @Authorization(\n        value = &quot;internalOAuth&quot;,\n        scopes = {\n          @AuthorizationScope(scope = &quot;some_scope_xxx&quot;, description = &quot;Xxxxxx&quot;),\n          @AuthorizationScope(\n              scope = &quot;com.example.class&quot;,\n              description = &quot;Xxxxxx&quot;)\n        })\n  })\n</code></pre>\n<p>Can't find a thing in Google-land or here on SO that says explicitly what needs doing to convert over the @Authorization and @AuthorizationScope annotations.  I know @ApiOperation becomes just @Operation, but that's all.  All the guides and examples seem to have skipped this rather common configuration situation.  Any help is greatly appreciated.  Thank you.</p>\n"},{"tags":["java","wildfly","camunda"],"answers":[{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687295071,"creation_date":1687295071,"answer_id":76518378,"question_id":73040900,"body_markdown":"deleting the file in the war before application startup actually worked - super hackish, but the only solution I found :\r\n\r\n    zip -d ${WILDFLY_HOME}/standalone/deployments/my-service.war WEB-INF/classes/META-INF/processes.xml","title":"Disable Camunda engine at startup in Widlfly?","body":"<p>deleting the file in the war before application startup actually worked - super hackish, but the only solution I found :</p>\n<pre><code>zip -d ${WILDFLY_HOME}/standalone/deployments/my-service.war WEB-INF/classes/META-INF/processes.xml\n</code></pre>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76518378,"answer_count":1,"score":0,"last_activity_date":1687295071,"creation_date":1658250126,"question_id":73040900,"body_markdown":"I have one application using embedded Camunda engine 7.16, deployed in Wildfly 15, and it works fine.\r\n\r\nfor some weird architectural reasons, I now need to be able to deploy the same application a second time, in a different environment in which I would like to disable Camunda, because it’s not used there (and the underlying DB doesn’t have the Camunda tables).\r\n\r\nIn Spring Boot, we can easily disable the starter through properties, but how can we achieve the same in Wildfly ? I have the processes.yml file in the resources/META-INF folder, but is there a way to ignore it a startup ?\r\n\r\nOtherwise, I will probably look at some options from https://stackoverflow.com/questions/4520822/is-there-a-quick-way-to-delete-a-file-from-a-jar-war-without-having-to-extract , and based on a property at startup, I would try to delete the processes.xml in the war file in the container before it actually starts the application, but that’s hack-ish to say the least\r\n\r\nThanks","title":"Disable Camunda engine at startup in Widlfly?","body":"<p>I have one application using embedded Camunda engine 7.16, deployed in Wildfly 15, and it works fine.</p>\n<p>for some weird architectural reasons, I now need to be able to deploy the same application a second time, in a different environment in which I would like to disable Camunda, because it’s not used there (and the underlying DB doesn’t have the Camunda tables).</p>\n<p>In Spring Boot, we can easily disable the starter through properties, but how can we achieve the same in Wildfly ? I have the processes.yml file in the resources/META-INF folder, but is there a way to ignore it a startup ?</p>\n<p>Otherwise, I will probably look at some options from <a href=\"https://stackoverflow.com/questions/4520822/is-there-a-quick-way-to-delete-a-file-from-a-jar-war-without-having-to-extract\">Is there a quick way to delete a file from a Jar / war without having to extract the jar and recreate it?</a> , and based on a property at startup, I would try to delete the processes.xml in the war file in the container before it actually starts the application, but that’s hack-ish to say the least</p>\n<p>Thanks</p>\n"},{"tags":["java","amazon-web-services","kotlin","aws-lambda","maxmind"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1687301994,"post_id":76518355,"comment_id":134916846,"body_markdown":"Lambda can run executables, however, outside of `/tmp`, the filesystem is read only, so your attempt to set the executable bit will likely fail.  What does the output of running this show in CloudWatch?","body":"Lambda can run executables, however, outside of <code>&#47;tmp</code>, the filesystem is read only, so your attempt to set the executable bit will likely fail.  What does the output of running this show in CloudWatch?"},{"owner":{"account_id":28861144,"reputation":1,"user_id":22104925,"display_name":"user22104925"},"score":0,"creation_date":1687306018,"post_id":76518355,"comment_id":134917190,"body_markdown":"CloudWatch shows init_start runtime, start/end request id and the function call. I updated the code to copy the files to the /tmp directory before attempting to execute the file and the results are still the same. The &quot;ls -l /tmp&quot; command shows that the files all have the correct permissions.","body":"CloudWatch shows init_start runtime, start/end request id and the function call. I updated the code to copy the files to the /tmp directory before attempting to execute the file and the results are still the same. The &quot;ls -l /tmp&quot; command shows that the files all have the correct permissions."},{"owner":{"account_id":2196043,"reputation":1420,"user_id":1941686,"display_name":"Michael C."},"score":0,"creation_date":1687312141,"post_id":76518355,"comment_id":134917724,"body_markdown":"Possible to write to S3 directly without through /tmp?","body":"Possible to write to S3 directly without through /tmp?"},{"owner":{"account_id":28861144,"reputation":1,"user_id":22104925,"display_name":"user22104925"},"score":0,"creation_date":1687374099,"post_id":76518355,"comment_id":134929431,"body_markdown":"I ended up not using the Maxmind geoipupdate tool and instead opened a url connection with the permalink they provide and copied the input stream to a file that I can write to S3.","body":"I ended up not using the Maxmind geoipupdate tool and instead opened a url connection with the permalink they provide and copied the input stream to a file that I can write to S3."}],"owner":{"account_id":28861144,"reputation":1,"user_id":22104925,"display_name":"user22104925"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687294812,"creation_date":1687294812,"question_id":76518355,"body_markdown":"I&#39;m currently looking to create an AWS Lambda that takes the Maxmind GeoIpUpdate tool which is an executable file and its config file and runs the executable which generates new proprietary binary files. I want to store the new files in the Lambda /tmp directory so that I can then write them to an S3 bucket.\r\n\r\n\r\n```\r\n        val amazonS3 = AmazonS3Client.builder().build()\r\n        val classLoader = javaClass.classLoader\r\n        val configFile = File(classLoader.getResource(&quot;GeoIP.conf&quot;).file)\r\n        configFile.setWritable(true, false)\r\n        configFile.setReadable(true, false)\r\n        val executableFile = File(classLoader.getResource(&quot;geoipupdate&quot;).file)\r\n        executableFile.setWritable(true, false)\r\n        executableFile.setReadable(true, false)\r\n        executableFile.setExecutable(true, false)\r\n        try {\r\n            ProcessBuilder().directory(File(&quot;/var/task/&quot;))\r\n                .command(&quot;./geoipupdate&quot;, &quot;-f&quot;, &quot;GeoIP.conf&quot;, &quot;-d&quot;, &quot;/tmp/&quot;).start().waitFor()\r\n        } catch (e: Exception) {\r\n            logger.info(&quot;error: ${e.message}&quot;)\r\n        }\r\n        &quot;ls -l /tmp&quot;.runCommand()\r\n```\r\n\r\nWhen I run this code locally and write to a desktop folder it works as it intended. When I run it in AWS Lambda, I would expect that the generated files would get written to the /tmp directory so that I could then write them to an S3 bucket but after executing the command, the /tmp directory doesn&#39;t contain the files. \r\n\r\n","title":"Is it possible to generate binary files in AWS Lambda with the Maxmind GeoIpUpdate tool","body":"<p>I'm currently looking to create an AWS Lambda that takes the Maxmind GeoIpUpdate tool which is an executable file and its config file and runs the executable which generates new proprietary binary files. I want to store the new files in the Lambda /tmp directory so that I can then write them to an S3 bucket.</p>\n<pre><code>        val amazonS3 = AmazonS3Client.builder().build()\n        val classLoader = javaClass.classLoader\n        val configFile = File(classLoader.getResource(&quot;GeoIP.conf&quot;).file)\n        configFile.setWritable(true, false)\n        configFile.setReadable(true, false)\n        val executableFile = File(classLoader.getResource(&quot;geoipupdate&quot;).file)\n        executableFile.setWritable(true, false)\n        executableFile.setReadable(true, false)\n        executableFile.setExecutable(true, false)\n        try {\n            ProcessBuilder().directory(File(&quot;/var/task/&quot;))\n                .command(&quot;./geoipupdate&quot;, &quot;-f&quot;, &quot;GeoIP.conf&quot;, &quot;-d&quot;, &quot;/tmp/&quot;).start().waitFor()\n        } catch (e: Exception) {\n            logger.info(&quot;error: ${e.message}&quot;)\n        }\n        &quot;ls -l /tmp&quot;.runCommand()\n</code></pre>\n<p>When I run this code locally and write to a desktop folder it works as it intended. When I run it in AWS Lambda, I would expect that the generated files would get written to the /tmp directory so that I could then write them to an S3 bucket but after executing the command, the /tmp directory doesn't contain the files.</p>\n"},{"tags":["java","spring-boot","maven","powermock"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670932244,"post_id":74775990,"comment_id":131982697,"body_markdown":"On which version of Java should that code be running?","body":"On which version of Java should that code be running?"}],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687290696,"creation_date":1687290696,"answer_id":76517988,"question_id":74775990,"body_markdown":"Let me get this straight: you&#39;re excluding *all* transitive dependencies, and then complaining that classes cannot be found at runtime? \r\n\r\n`ArrayMerger` happens to come from `mockito-core`, which is bound to be one of the transitive dependencies you&#39;re excluding. ","title":"Java PowerMock: Mock NewDate whenNew, ava.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger","body":"<p>Let me get this straight: you're excluding <em>all</em> transitive dependencies, and then complaining that classes cannot be found at runtime?</p>\n<p><code>ArrayMerger</code> happens to come from <code>mockito-core</code>, which is bound to be one of the transitive dependencies you're excluding.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687294804,"creation_date":1687294804,"answer_id":76518354,"question_id":74775990,"body_markdown":"Exclusions in Maven dependencies are used to prevent certain transitive dependencies from being included in the project.  \r\nIt can help to prevent dependency conflicts, or classpath issues.\r\n\r\nHowever, using wildcards to exclude all transitive dependencies, as shown in the original POM file:\r\n\r\n```xml\r\n&lt;exclusions&gt;\r\n    &lt;exclusion&gt;\r\n        &lt;groupId&gt;*&lt;/groupId&gt;\r\n        &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n```\r\n\r\nis generally not recommended, as it can lead to unexpected issues such as missing classes and compatibility problems, and would explain the `NoClassDefFoundError` you are encountering (`java.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger`).\r\n\r\nWhen using exclusions, it is best to be explicit and selective about which dependencies you are excluding, and to understand why you are excluding them. If you are not sure why an exclusion is needed, it is usually best to not include it, especially for testing libraries like PowerMock, which often have necessary transitive dependencies.\r\n\r\nConsider also using the [latest version (2.0.9) of powermock](https://github.com/powermock/powermock/releases) (2019), instead of 1.4.11 (pre-2017).\r\n\r\nFinally, in your test class, you are using `@PrepareForTest({ Product.class })`. However, you are trying to mock the creation of a new `Date` object. You need to prepare the class that calls the `new Date()` constructor. This should be the class containing the code you are testing, not necessarily `Product.class`.\r\n\r\nYour test class and POM file, with some of these suggestions, would look like:\r\n\r\n**Test Class:**\r\n```java\r\nimport static org.powermock.api.mockito.PowerMockito.whenNew;\r\nimport static org.mockito.BDDMockito.given;\r\n\r\nimport org.junit.runner.RunWith;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({ ClassContainingNewDateCall.class }) // Replace with the class that calls new Date()\r\npublic class ProductTest {\r\n    // ... rest of your code\r\n}\r\n```\r\n\r\n**POM:**\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.9&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.9&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou will need to replace `ClassContainingNewDateCall.class` with the actual class that calls the `new Date()` constructor in your code.  \r\n","title":"Java PowerMock: Mock NewDate whenNew, ava.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger","body":"<p>Exclusions in Maven dependencies are used to prevent certain transitive dependencies from being included in the project.<br />\nIt can help to prevent dependency conflicts, or classpath issues.</p>\n<p>However, using wildcards to exclude all transitive dependencies, as shown in the original POM file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;*&lt;/groupId&gt;\n        &lt;artifactId&gt;*&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n<p>is generally not recommended, as it can lead to unexpected issues such as missing classes and compatibility problems, and would explain the <code>NoClassDefFoundError</code> you are encountering (<code>java.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger</code>).</p>\n<p>When using exclusions, it is best to be explicit and selective about which dependencies you are excluding, and to understand why you are excluding them. If you are not sure why an exclusion is needed, it is usually best to not include it, especially for testing libraries like PowerMock, which often have necessary transitive dependencies.</p>\n<p>Consider also using the <a href=\"https://github.com/powermock/powermock/releases\" rel=\"nofollow noreferrer\">latest version (2.0.9) of powermock</a> (2019), instead of 1.4.11 (pre-2017).</p>\n<p>Finally, in your test class, you are using <code>@PrepareForTest({ Product.class })</code>. However, you are trying to mock the creation of a new <code>Date</code> object. You need to prepare the class that calls the <code>new Date()</code> constructor. This should be the class containing the code you are testing, not necessarily <code>Product.class</code>.</p>\n<p>Your test class and POM file, with some of these suggestions, would look like:</p>\n<p><strong>Test Class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.powermock.api.mockito.PowerMockito.whenNew;\nimport static org.mockito.BDDMockito.given;\n\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({ ClassContainingNewDateCall.class }) // Replace with the class that calls new Date()\npublic class ProductTest {\n    // ... rest of your code\n}\n</code></pre>\n<p><strong>POM:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n    &lt;version&gt;2.0.9&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n    &lt;version&gt;2.0.9&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You will need to replace <code>ClassContainingNewDateCall.class</code> with the actual class that calls the <code>new Date()</code> constructor in your code.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76518354,"answer_count":2,"score":1,"last_activity_date":1687294804,"creation_date":1670871269,"question_id":74775990,"body_markdown":"I am getting 3 errors below when trying to mock New Date, using `PrepareForTest`.  How can I fix this? \r\n\r\nReference: https://stackoverflow.com/a/30415404/15435022\r\n\r\n&gt;  java.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger\r\nat org.powermock.api.mockito.PowerMockito.whenNew(PowerMockito.java:506)\r\n\r\n\r\n**Code below.**\r\n\r\n    import static org.powermock.api.mockito.PowerMockito.whenNew;\r\n    import static org.mockito.BDDMockito.given;\r\n    \r\n    @PrepareForTest({ Product.class })\r\n    public class ProductTest {\r\n        ....\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.set(2022, 5, 2, 1, 1, 1);\r\n        Date currentDate =  calendar.getTime();\r\n        whenNew(Date.class).withNoArguments().thenReturn(currentDate);\r\n\r\n**POM:**\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4-rule&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;*&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;*&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;*&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;","title":"Java PowerMock: Mock NewDate whenNew, ava.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger","body":"<p>I am getting 3 errors below when trying to mock New Date, using <code>PrepareForTest</code>.  How can I fix this?</p>\n<p>Reference: <a href=\"https://stackoverflow.com/a/30415404/15435022\">https://stackoverflow.com/a/30415404/15435022</a></p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: org/powermock/tests/utils/ArrayMerger\nat org.powermock.api.mockito.PowerMockito.whenNew(PowerMockito.java:506)</p>\n</blockquote>\n<p><strong>Code below.</strong></p>\n<pre><code>import static org.powermock.api.mockito.PowerMockito.whenNew;\nimport static org.mockito.BDDMockito.given;\n\n@PrepareForTest({ Product.class })\npublic class ProductTest {\n    ....\n    Calendar calendar = Calendar.getInstance();\n    calendar.set(2022, 5, 2, 1, 1, 1);\n    Date currentDate =  calendar.getTime();\n    whenNew(Date.class).withNoArguments().thenReturn(currentDate);\n</code></pre>\n<p><strong>POM:</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4-rule&lt;/artifactId&gt;\n        &lt;version&gt;1.4.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;*&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n        &lt;version&gt;1.4.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;*&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\n        &lt;version&gt;1.4.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;*&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":8020064,"reputation":91,"user_id":6048968,"display_name":"Sergey  Ch"},"score":1,"creation_date":1697101511,"post_id":76518351,"comment_id":136238180,"body_markdown":"We decided to use JDBC template to speed up inserts and support multiple values:\n\n`template.batchUpdate(INSERT_QUERY, records, records.size(),\n            (ps, record) -&gt; {\n                ps.setObject(1, record.getUuid().getUuid(), Types.OTHER);\n                ps.setString(2, record.getOtherParam());\n\t\t\t\t...\n            })`\n\nBut make sure you apply `reWriteBatchedInserts`.","body":"We decided to use JDBC template to speed up inserts and support multiple values:  <code>template.batchUpdate(INSERT_QUERY, records, records.size(),             (ps, record) -&gt; {                 ps.setObject(1, record.getUuid().getUuid(), Types.OTHER);                 ps.setString(2, record.getOtherParam()); \t\t\t\t...             })</code>  But make sure you apply <code>reWriteBatchedInserts</code>."}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687294770,"creation_date":1687294770,"question_id":76518351,"body_markdown":"I have an application written using spring data jpa.\r\nI need to save to the database only those customers who are not there yet. For this I want to use a native query\r\n```\r\n@Entity\r\n@Table(name = &quot;Customers&quot;)\r\npublic class Customer {\r\n\r\n  @Id\r\n  private String customerId;\r\n  private String firstName;\r\n  private String lastName;\r\n\r\n//constructors, getters, setters\r\n}\r\n\r\npublic interface CustomerRepository extends CrudRepository&lt;Customer, String&gt; {\r\n    @Modifying\r\n    @Query(value = &quot;INSERT into Customers (customerId, firstName, lastName)&quot; +\r\n            &quot;values (:customerId, :firstName, :lastName)&quot; +\r\n            &quot;ON CONFLICT (customerId) DO NOTHING&quot;, nativeQuery = true)\r\n    void insert(@Param(&quot;customerId&quot;) String customerId, @Param(&quot;firstName&quot;)String firstName, @Param(&quot;lastName&quot;) String lastName);\r\n}\r\n```\r\n. But now this implementation is slow - it takes almost a second for 50 records, although the parameters are enabled:\r\n```\r\nspring.jpa.properties.hibernate.jdbc.batch_size=50\r\nspring.jpa.properties.hibernate.order_updates = true\r\nspring.jpa.properties.hibernate.order_inserts=true\r\n\r\n```\r\n\r\nIs it possible to somehow rewrite the query to pass a list to it?\r\nSomehow so:\r\n```\r\n    @Modifying\r\n    @Query(value = &quot;INSERT into Customers (customerId, firstName, lastName)&quot; +\r\n            &quot;values (:customerId, :firstName, :lastName)&quot; +\r\n            &quot;ON CONFLICT (customerId) DO NOTHING&quot;, nativeQuery = true)\r\n    void batchInsertCustomer(List&lt;Customer&gt; customers);\r\n```\r\nPerhaps there is another way to save only those records that do not exist?\r\nPerhaps there are other ways to speed up insert?\r\nMy key `customerId` is always full.","title":"How to insert batches using native queries","body":"<p>I have an application written using spring data jpa.\nI need to save to the database only those customers who are not there yet. For this I want to use a native query</p>\n<pre><code>@Entity\n@Table(name = &quot;Customers&quot;)\npublic class Customer {\n\n  @Id\n  private String customerId;\n  private String firstName;\n  private String lastName;\n\n//constructors, getters, setters\n}\n\npublic interface CustomerRepository extends CrudRepository&lt;Customer, String&gt; {\n    @Modifying\n    @Query(value = &quot;INSERT into Customers (customerId, firstName, lastName)&quot; +\n            &quot;values (:customerId, :firstName, :lastName)&quot; +\n            &quot;ON CONFLICT (customerId) DO NOTHING&quot;, nativeQuery = true)\n    void insert(@Param(&quot;customerId&quot;) String customerId, @Param(&quot;firstName&quot;)String firstName, @Param(&quot;lastName&quot;) String lastName);\n}\n</code></pre>\n<p>. But now this implementation is slow - it takes almost a second for 50 records, although the parameters are enabled:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.batch_size=50\nspring.jpa.properties.hibernate.order_updates = true\nspring.jpa.properties.hibernate.order_inserts=true\n\n</code></pre>\n<p>Is it possible to somehow rewrite the query to pass a list to it?\nSomehow so:</p>\n<pre><code>    @Modifying\n    @Query(value = &quot;INSERT into Customers (customerId, firstName, lastName)&quot; +\n            &quot;values (:customerId, :firstName, :lastName)&quot; +\n            &quot;ON CONFLICT (customerId) DO NOTHING&quot;, nativeQuery = true)\n    void batchInsertCustomer(List&lt;Customer&gt; customers);\n</code></pre>\n<p>Perhaps there is another way to save only those records that do not exist?\nPerhaps there are other ways to speed up insert?\nMy key <code>customerId</code> is always full.</p>\n"},{"tags":["java","maven","junit","h2","spring-test"],"comments":[{"owner":{"account_id":3245813,"reputation":123,"user_id":2737436,"accept_rate":100,"display_name":"itsme.cvk"},"score":0,"creation_date":1505775714,"post_id":42679319,"comment_id":79541710,"body_markdown":"I think it should be because of the Maven goals. Have you tried mvn clean install test?\nI had a similar issue using powermock and it was due to the maven goals.","body":"I think it should be because of the Maven goals. Have you tried mvn clean install test? I had a similar issue using powermock and it was due to the maven goals."},{"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"score":0,"creation_date":1505806622,"post_id":42679319,"comment_id":79551630,"body_markdown":"@itsme.cvk nope, as you can see in my own accepted answer, the problem had nothing to do with that :)","body":"@itsme.cvk nope, as you can see in my own accepted answer, the problem had nothing to do with that :)"}],"answers":[{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489048971,"creation_date":1489048971,"answer_id":42690528,"question_id":42679319,"body_markdown":"It seems the underlying problem is the table cannot be found:\r\n\r\n    Caused by: org.h2.jdbc.JdbcSQLException: Table &quot;EngineConfigs&quot; not found; SQL statement:\r\n\r\nMaybe when you run your test in Maven your database configuration parameters (URL and so on) are not the same than the specified in your code (`jdbc:h2:mem:./ScenarioService;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1` etc).\r\n\r\nI would try to find out if some `application.properties` files (e.g. located on `src\\test\\resources`) is overriding these parameters in the Maven execution.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>It seems the underlying problem is the table cannot be found:</p>\n\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLException: Table \"EngineConfigs\" not found; SQL statement:\n</code></pre>\n\n<p>Maybe when you run your test in Maven your database configuration parameters (URL and so on) are not the same than the specified in your code (<code>jdbc:h2:mem:./ScenarioService;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1</code> etc).</p>\n\n<p>I would try to find out if some <code>application.properties</code> files (e.g. located on <code>src\\test\\resources</code>) is overriding these parameters in the Maven execution.</p>\n"},{"tags":[],"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1489409992,"creation_date":1489409992,"answer_id":42764301,"question_id":42679319,"body_markdown":"The problem was with a library I was using. Since I had the library project loaded into IntelliJ, when I ran the tests manually, the library code was being used. But Maven used the library from the .m2 repository, which didn&#39;t have the .jar up to date. This out of date jar had something that was causing the creation of the table EngineConfigs to fail.\r\nIn case anyone is facing the same problem, a useful trick is to remove the &quot;:mem&quot; from the database connection URL and inspect the *.trace.db file that is generated when running the tests. That trace file will give you information about the real underlying issue.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>The problem was with a library I was using. Since I had the library project loaded into IntelliJ, when I ran the tests manually, the library code was being used. But Maven used the library from the .m2 repository, which didn't have the .jar up to date. This out of date jar had something that was causing the creation of the table EngineConfigs to fail.\nIn case anyone is facing the same problem, a useful trick is to remove the \":mem\" from the database connection URL and inspect the *.trace.db file that is generated when running the tests. That trace file will give you information about the real underlying issue.</p>\n"},{"tags":[],"owner":{"account_id":1413644,"reputation":432,"user_id":1339755,"display_name":"Barry"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611076266,"creation_date":1611076266,"answer_id":65796249,"question_id":42679319,"body_markdown":"FWIW, something else to look at is the Java version used as the &quot;Project SDK&quot; in Intellij vs the Java version you are using in the CLI/shell.  For me the project was using 1.8, the shell was using 14.  Everything was fine running install from the Maven plugin, but some tests were failing in the shell.  I pointed JAVA_HOME to JDK 8 and the tests all passed.\r\n","title":"Tests fail when executed from maven but not from Intellij","body":"<p>FWIW, something else to look at is the Java version used as the &quot;Project SDK&quot; in Intellij vs the Java version you are using in the CLI/shell.  For me the project was using 1.8, the shell was using 14.  Everything was fine running install from the Maven plugin, but some tests were failing in the shell.  I pointed JAVA_HOME to JDK 8 and the tests all passed.</p>\n"},{"tags":[],"owner":{"account_id":139814,"reputation":16844,"user_id":345648,"accept_rate":48,"display_name":"Alexander Taylor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631826134,"creation_date":1631826134,"answer_id":69215118,"question_id":42679319,"body_markdown":"In my case the problem was actually about running tests in parallel vs serially, but I thought it was a Maven/IntelliJ difference because in IntelliJ the interface made it easiest to debug one test at a time, and the mvn command made it easy to run all the tests at once. Once I used [remote debugging](https://www.jambit.com/en/latest-info/toilet-papers/remote-debugging-maven-surefire-tests/) of the test in Maven, it passed, so then I thought it was a &quot;debug&quot; vs &quot;run&quot; difference, and then I remembered I had turned on JUnit parallel test execution and had a race condition in my tests with Mockito.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>In my case the problem was actually about running tests in parallel vs serially, but I thought it was a Maven/IntelliJ difference because in IntelliJ the interface made it easiest to debug one test at a time, and the mvn command made it easy to run all the tests at once. Once I used <a href=\"https://www.jambit.com/en/latest-info/toilet-papers/remote-debugging-maven-surefire-tests/\" rel=\"nofollow noreferrer\">remote debugging</a> of the test in Maven, it passed, so then I thought it was a &quot;debug&quot; vs &quot;run&quot; difference, and then I remembered I had turned on JUnit parallel test execution and had a race condition in my tests with Mockito.</p>\n"},{"tags":[],"owner":{"account_id":9901847,"reputation":79,"user_id":7331630,"display_name":"ryuik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638993002,"creation_date":1638993002,"answer_id":70280928,"question_id":42679319,"body_markdown":"I was having the same issue, found Intellij has some jars which are not part of .m2. Going through the error logs on maven, able to detect the mismatch\r\n\r\nI override the IntelliJ config to use .m2 as a local repository\r\n\r\nPreferences -&gt;Build Tools -&gt;Maven","title":"Tests fail when executed from maven but not from Intellij","body":"<p>I was having the same issue, found Intellij has some jars which are not part of .m2. Going through the error logs on maven, able to detect the mismatch</p>\n<p>I override the IntelliJ config to use .m2 as a local repository</p>\n<p>Preferences -&gt;Build Tools -&gt;Maven</p>\n"},{"tags":[],"owner":{"account_id":4680959,"reputation":4579,"user_id":3789686,"accept_rate":80,"display_name":"Gopal Singh Sirvi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654179034,"creation_date":1654179034,"answer_id":72477654,"question_id":42679319,"body_markdown":"I was having the same problem. In my case it was because of `maven-surefire-plugin` **2.22.2**. \r\n\r\nI solved it by using forks in maven surefire plugin using the following configuration in `pom.xml`\r\n\r\n**Note** We can also use `&lt;forkMode&gt;always&lt;/forkMode&gt;` but it is deprecated and test runs too slow as all runs in a series.\r\n\r\n        \r\n\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;forkCount&gt;3&lt;/forkCount&gt;\r\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Tests fail when executed from maven but not from Intellij","body":"<p>I was having the same problem. In my case it was because of <code>maven-surefire-plugin</code> <strong>2.22.2</strong>.</p>\n<p>I solved it by using forks in maven surefire plugin using the following configuration in <code>pom.xml</code></p>\n<p><strong>Note</strong> We can also use <code>&lt;forkMode&gt;always&lt;/forkMode&gt;</code> but it is deprecated and test runs too slow as all runs in a series.</p>\n<pre><code>         &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;forkCount&gt;3&lt;/forkCount&gt;\n                &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27084209,"reputation":11,"user_id":20632962,"display_name":"Guillermo Fern&#225;ndez Raboso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669722880,"creation_date":1669722880,"answer_id":74613703,"question_id":42679319,"body_markdown":"I tried every option previously written, but in my case the problem was that the order of the tests was different, so when the IDE executed everything was right, and when Maven were doing it some deletions being tested were before some other tests that needed that deleted information.\r\n\r\nConcretely, for my Spring Boot project in which I create an H2 DB for integrations tests via scripting, the solution was to clean and re-create the whole app context after every test class. Adding @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS) on top would do the trick.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>I tried every option previously written, but in my case the problem was that the order of the tests was different, so when the IDE executed everything was right, and when Maven were doing it some deletions being tested were before some other tests that needed that deleted information.</p>\n<p>Concretely, for my Spring Boot project in which I create an H2 DB for integrations tests via scripting, the solution was to clean and re-create the whole app context after every test class. Adding @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS) on top would do the trick.</p>\n"},{"tags":[],"owner":{"account_id":7134495,"reputation":26,"user_id":5454656,"display_name":"June"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670832534,"creation_date":1670832534,"answer_id":74768213,"question_id":42679319,"body_markdown":"My problem is the that I missed *maven-surefire-plugin* in my pom. By adding *maven-surefire-plugin* in build-&gt;plugins-&gt;plugin solved the problem.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>My problem is the that I missed <em>maven-surefire-plugin</em> in my pom. By adding <em>maven-surefire-plugin</em> in build-&gt;plugins-&gt;plugin solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687294610,"creation_date":1687294126,"answer_id":76518303,"question_id":42679319,"body_markdown":"I faced the same problem and like others mentioned the issue was with the library/dependency. The version used by Intellij and Maven was not the same.\r\n\r\nIn my case:-\r\nI have parent pom with Jackson dependency version 2.15.2. \r\nIn child pom the Jackson dependency was there but no version was mentioned so 2.13.5 is being used in that case by Intellij but not by maven.\r\n\r\nSo the fix is to either remove the imports from child pom.xml or explicitly mention the version in child pom as well.","title":"Tests fail when executed from maven but not from Intellij","body":"<p>I faced the same problem and like others mentioned the issue was with the library/dependency. The version used by Intellij and Maven was not the same.</p>\n<p>In my case:-\nI have parent pom with Jackson dependency version 2.15.2.\nIn child pom the Jackson dependency was there but no version was mentioned so 2.13.5 is being used in that case by Intellij but not by maven.</p>\n<p>So the fix is to either remove the imports from child pom.xml or explicitly mention the version in child pom as well.</p>\n"}],"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31237,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":42764301,"answer_count":9,"score":28,"last_activity_date":1687294610,"creation_date":1488998276,"question_id":42679319,"body_markdown":"I&#39;m writing my unit tests using JUnit, PowerMock, Spring Test and an in-memory H2 database. When I run the tests from Intellij everything runs correctly. But when I run the tests from maven (either from Intellij or from the command line) they fail. \r\n\r\nThis is my config:\r\n\r\n       @EnableTransactionManagement\r\n       @EnableJpaRepositories(&quot;my.app.repository&quot;)\r\n       public class ApplicationTestConfiguration {\r\n          @Bean\r\n          public SimpleDriverDataSource dataSource() {\r\n             SimpleDriverDataSource simpleDriverDataSource = new SimpleDriverDataSource();\r\n             simpleDriverDataSource.setDriverClass(org.h2.Driver.class);\r\n             simpleDriverDataSource.setUrl(&quot;jdbc:h2:mem:./ScenarioService;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1&quot;);\r\n             simpleDriverDataSource.setUsername(&quot;sa&quot;);\r\n             simpleDriverDataSource.setPassword(&quot;sa&quot;);\r\n             return simpleDriverDataSource;\r\n          }\r\n          (...)\r\n          private Properties hibernateProperties() {\r\n             Properties props = new Properties();\r\n             props.setProperty(&quot;hibernate.dialect&quot;,&quot;org.hibernate.dialect.H2Dialect&quot;);\r\n             props.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);\r\n             props.setProperty(&quot;hibernate.show_sql&quot;,&quot;true&quot;);\r\n             return props;\r\n          }\r\n       }\r\n\r\nThis is a sample test:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PowerMockRunnerDelegate(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {WebAppInitializer.class,ApplicationTestConfiguration.class, DirtiesContextTestExecutionListener.class})\r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n    public final class ReadTicketsTest {\r\n    \r\n        @Autowired //this is a spring JPARepository\r\n        protected TestRepository testRepository;\r\n\r\n        @Before\r\n        public void init() {\r\n             testRepository.save(engineConfig);\r\n        }\r\n\r\n        @Test\r\n        public void ticketShouldBeRead() {\r\n            //assertion code\r\n        }\r\n    }\r\n\r\nWhen I run the tests from intelliJ and they succeed, in the hibernate logs I see something like this:\r\n\r\n    Hibernate: drop table EngineConfigs if exists\r\n    Hibernate: create table EngineConfigs (id binary(16) not null, created datetime(6) DEFAULT NULL, customData MEDIUMTEXT, customerId binary(16) not null, signature varchar(255), signatureVersion integer, updated datetime(6) DEFAULT NULL, advancedConfiguration TEXT, engineConfigName varchar(255) not null, engineServiceName varchar(255) not null, locked boolean, probabilityMaximum integer not null, primary key (id))\r\n    Hibernate: select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?\r\n    Hibernate: insert into EngineConfigs (created, customData, customerId, signature, signatureVersion, updated, advancedConfiguration, engineConfigName, engineServiceName, locked, probabilityMaximum, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n    Hibernate: drop table EngineConfigs if exists\r\n\r\nWhich makes sense, because it is expected that it will create the database, execute the tests (hence the insert) and then drop all tables due to the @DirtiesContextAnnotation.\r\nBut when I run the tests from maven, in the hibernate logs I see something like this:\r\n\r\n    Hibernate: drop table EngineConfigs if exists\r\n    Hibernate: create table EngineConfigs (id binary(16) not null, created datetime(6) DEFAULT NULL, customData MEDIUMTEXT, customerId binary(16) not null, signature varchar(255), signatureVersion integer, updated datetime(6) DEFAULT NULL, advancedConfiguration TEXT, engineConfigName varchar(255) not null, engineServiceName varchar(255) not null, locked boolean, probabilityMaximum integer not null, primary key (id))\r\n    Hibernate: select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?\r\n    Hibernate: drop table EngineConfigs if exists\r\n\r\nFollowed by the actual error:\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:172)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:155)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodIntercceptor.invoke(CrudMethodMetadataPostProcessor.java:122)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tat com.sun.proxy.$Proxy64.save(Unknown Source)\r\n\tat com.twelve40.gameengine.scenario.ScenarioServiceTest.init(ScenarioServiceTest.java:138)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\r\n\tat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:148)\r\n\tat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:140)\r\n\tat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.withContextClassLoader(DelegatingPowerMockRunner.java:131)\r\n\tat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.run(DelegatingPowerMockRunner.java:140)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\r\n\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n\tat org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n\tat org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:196)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\r\n\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1885)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:910)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:325)\r\n\tat org.hibernate.loader.Loader.loadEntity(Loader.java:2149)\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:78)\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:68)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\r\n\tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\r\n\tat org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\r\n\tat org.hibernate.internal.SessionImpl.get(SessionImpl.java:960)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:306)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:186)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:85)\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:876)\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:858)\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:863)\r\n\tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.merge(AbstractEntityManagerImpl.java:1196)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:291)\r\n\tat com.sun.proxy.$Proxy58.merge(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:434)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:414)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:399)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:371)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n\t... 50 more\r\n    Caused by: org.h2.jdbc.JdbcSQLException: Table &quot;EngineConfigs&quot; not found; SQL statement:\r\n    select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=? [42102-193]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:345)\r\n\tat org.h2.message.DbException.get(DbException.java:179)\r\n\tat org.h2.message.DbException.get(DbException.java:155)\r\n\tat org.h2.command.Parser.readTableOrView(Parser.java:5389)\r\n\tat org.h2.command.Parser.readTableFilter(Parser.java:1257)\r\n\tat org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1897)\r\n\tat org.h2.command.Parser.parseSelectSimple(Parser.java:2045)\r\n\tat org.h2.command.Parser.parseSelectSub(Parser.java:1891)\r\n\tat org.h2.command.Parser.parseSelectUnion(Parser.java:1709)\r\n\tat org.h2.command.Parser.parseSelect(Parser.java:1697)\r\n\tat org.h2.command.Parser.parsePrepared(Parser.java:445)\r\n\tat org.h2.command.Parser.parse(Parser.java:317)\r\n\tat org.h2.command.Parser.parse(Parser.java:289)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:254)\r\n\tat org.h2.engine.Session.prepareLocal(Session.java:561)\r\n\tat org.h2.engine.Session.prepareCommand(Session.java:502)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1203)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:73)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:287)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:162)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n\t... 99 more\r\n\r\nThis error is the exact same one that happens if I remove the parameter ;DB_CLOSE_DELAY=-1 from the connection URL and I run the tests from IntelliJ. But with the parameter, the tests work from IntelliJ but not from maven! I don&#39;t know what could be causing this, AFAIK maven shouldn&#39;t affect the execution of the tests. It seems like the connection to the database is being closed before executing the tests. Help!","title":"Tests fail when executed from maven but not from Intellij","body":"<p>I'm writing my unit tests using JUnit, PowerMock, Spring Test and an in-memory H2 database. When I run the tests from Intellij everything runs correctly. But when I run the tests from maven (either from Intellij or from the command line) they fail. </p>\n\n<p>This is my config:</p>\n\n<pre><code>   @EnableTransactionManagement\n   @EnableJpaRepositories(\"my.app.repository\")\n   public class ApplicationTestConfiguration {\n      @Bean\n      public SimpleDriverDataSource dataSource() {\n         SimpleDriverDataSource simpleDriverDataSource = new SimpleDriverDataSource();\n         simpleDriverDataSource.setDriverClass(org.h2.Driver.class);\n         simpleDriverDataSource.setUrl(\"jdbc:h2:mem:./ScenarioService;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1\");\n         simpleDriverDataSource.setUsername(\"sa\");\n         simpleDriverDataSource.setPassword(\"sa\");\n         return simpleDriverDataSource;\n      }\n      (...)\n      private Properties hibernateProperties() {\n         Properties props = new Properties();\n         props.setProperty(\"hibernate.dialect\",\"org.hibernate.dialect.H2Dialect\");\n         props.setProperty(\"hibernate.hbm2ddl.auto\", \"create-drop\");\n         props.setProperty(\"hibernate.show_sql\",\"true\");\n         return props;\n      }\n   }\n</code></pre>\n\n<p>This is a sample test:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockRunnerDelegate(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {WebAppInitializer.class,ApplicationTestConfiguration.class, DirtiesContextTestExecutionListener.class})\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\npublic final class ReadTicketsTest {\n\n    @Autowired //this is a spring JPARepository\n    protected TestRepository testRepository;\n\n    @Before\n    public void init() {\n         testRepository.save(engineConfig);\n    }\n\n    @Test\n    public void ticketShouldBeRead() {\n        //assertion code\n    }\n}\n</code></pre>\n\n<p>When I run the tests from intelliJ and they succeed, in the hibernate logs I see something like this:</p>\n\n<pre><code>Hibernate: drop table EngineConfigs if exists\nHibernate: create table EngineConfigs (id binary(16) not null, created datetime(6) DEFAULT NULL, customData MEDIUMTEXT, customerId binary(16) not null, signature varchar(255), signatureVersion integer, updated datetime(6) DEFAULT NULL, advancedConfiguration TEXT, engineConfigName varchar(255) not null, engineServiceName varchar(255) not null, locked boolean, probabilityMaximum integer not null, primary key (id))\nHibernate: select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?\nHibernate: insert into EngineConfigs (created, customData, customerId, signature, signatureVersion, updated, advancedConfiguration, engineConfigName, engineServiceName, locked, probabilityMaximum, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\nHibernate: drop table EngineConfigs if exists\n</code></pre>\n\n<p>Which makes sense, because it is expected that it will create the database, execute the tests (hence the insert) and then drop all tables due to the @DirtiesContextAnnotation.\nBut when I run the tests from maven, in the hibernate logs I see something like this:</p>\n\n<pre><code>Hibernate: drop table EngineConfigs if exists\nHibernate: create table EngineConfigs (id binary(16) not null, created datetime(6) DEFAULT NULL, customData MEDIUMTEXT, customerId binary(16) not null, signature varchar(255), signatureVersion integer, updated datetime(6) DEFAULT NULL, advancedConfiguration TEXT, engineConfigName varchar(255) not null, engineServiceName varchar(255) not null, locked boolean, probabilityMaximum integer not null, primary key (id))\nHibernate: select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?\nHibernate: drop table EngineConfigs if exists\n</code></pre>\n\n<p>Followed by the actual error:</p>\n\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:172)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:155)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodIntercceptor.invoke(CrudMethodMetadataPostProcessor.java:122)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\nat com.sun.proxy.$Proxy64.save(Unknown Source)\nat com.twelve40.gameengine.scenario.ScenarioServiceTest.init(ScenarioServiceTest.java:138)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\nat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\nat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\nat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:148)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$2.call(DelegatingPowerMockRunner.java:140)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.withContextClassLoader(DelegatingPowerMockRunner.java:131)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.run(DelegatingPowerMockRunner.java:140)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\nat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\nat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\nat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\nat org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\nat org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\nat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\nat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\nat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:196)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\nat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1885)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\nat org.hibernate.loader.Loader.doQuery(Loader.java:910)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:325)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:2149)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:78)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:68)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\nat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\nat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\nat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\nat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\nat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\nat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\nat org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\nat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\nat org.hibernate.internal.SessionImpl.get(SessionImpl.java:960)\nat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:306)\nat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:186)\nat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:85)\nat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:876)\nat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:858)\nat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:863)\nat org.hibernate.jpa.spi.AbstractEntityManagerImpl.merge(AbstractEntityManagerImpl.java:1196)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:291)\nat com.sun.proxy.$Proxy58.merge(Unknown Source)\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:434)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:414)\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:399)\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:371)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n... 50 more\nCaused by: org.h2.jdbc.JdbcSQLException: Table \"EngineConfigs\" not found; SQL statement:\nselect engineconf0_.id as id1_1_1_, engineconf0_.created as created2_1_1_, engineconf0_.customData as customDa3_1_1_, engineconf0_.customerId as customer4_1_1_, engineconf0_.signature as signatur5_1_1_, engineconf0_.signatureVersion as signatur6_1_1_, engineconf0_.updated as updated7_1_1_, engineconf0_.advancedConfiguration as advanced8_1_1_, engineconf0_.engineConfigName as engineCo9_1_1_, engineconf0_.engineServiceName as engineS10_1_1_, engineconf0_.locked as locked11_1_1_, engineconf0_.probabilityMaximum as probabi12_1_1_, accumulato1_.EngineConfigs_id as EngineCo1_1_3_, accumulato2_.id as accumula2_2_3_, accumulato2_.id as id1_0_0_, accumulato2_.created as created2_0_0_, accumulato2_.customData as customDa3_0_0_, accumulato2_.customerId as customer4_0_0_, accumulato2_.signature as signatur5_0_0_, accumulato2_.signatureVersion as signatur6_0_0_, accumulato2_.updated as updated7_0_0_, accumulato2_.accumulatorNumber as accumula8_0_0_, accumulato2_.description as descript9_0_0_, accumulato2_.engineConfig_id as engineC12_0_0_, accumulato2_.numberOfHits as numberO10_0_0_, accumulato2_.prize as prize11_0_0_ from EngineConfigs engineconf0_ left outer join EngineConfigs_Accumulators accumulato1_ on engineconf0_.id=accumulato1_.EngineConfigs_id left outer join Accumulators accumulato2_ on accumulato1_.accumulators_id=accumulato2_.id where engineconf0_.id=? [42102-193]\nat org.h2.message.DbException.getJdbcSQLException(DbException.java:345)\nat org.h2.message.DbException.get(DbException.java:179)\nat org.h2.message.DbException.get(DbException.java:155)\nat org.h2.command.Parser.readTableOrView(Parser.java:5389)\nat org.h2.command.Parser.readTableFilter(Parser.java:1257)\nat org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1897)\nat org.h2.command.Parser.parseSelectSimple(Parser.java:2045)\nat org.h2.command.Parser.parseSelectSub(Parser.java:1891)\nat org.h2.command.Parser.parseSelectUnion(Parser.java:1709)\nat org.h2.command.Parser.parseSelect(Parser.java:1697)\nat org.h2.command.Parser.parsePrepared(Parser.java:445)\nat org.h2.command.Parser.parse(Parser.java:317)\nat org.h2.command.Parser.parse(Parser.java:289)\nat org.h2.command.Parser.prepareCommand(Parser.java:254)\nat org.h2.engine.Session.prepareLocal(Session.java:561)\nat org.h2.engine.Session.prepareCommand(Session.java:502)\nat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1203)\nat org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:73)\nat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:287)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:162)\nat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n... 99 more\n</code></pre>\n\n<p>This error is the exact same one that happens if I remove the parameter ;DB_CLOSE_DELAY=-1 from the connection URL and I run the tests from IntelliJ. But with the parameter, the tests work from IntelliJ but not from maven! I don't know what could be causing this, AFAIK maven shouldn't affect the execution of the tests. It seems like the connection to the database is being closed before executing the tests. Help!</p>\n"},{"tags":["java","spring","spring-boot","spring-bean","spring-filter"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1686898977,"post_id":76487461,"comment_id":134864275,"body_markdown":"Can you change that 3rd party library? I don&#39;t get why they have both `@Bean` and `@Autowired` on that method.","body":"Can you change that 3rd party library? I don&#39;t get why they have both <code>@Bean</code> and <code>@Autowired</code> on that method."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686899041,"post_id":76487461,"comment_id":134864286,"body_markdown":"No, unfortunately I cannot.","body":"No, unfortunately I cannot."},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1686899242,"post_id":76487461,"comment_id":134864313,"body_markdown":"Use any `@Conditional...` annotation. Example `@ConditionalOnProperty(prefix = &quot;enable&quot;, value = {&quot;myFilter&quot;}, havingValue = &quot;true&quot;, matchIfMissing = true`)` . And Bean won&#39;t create if you use this `enable.myFilter=false` in the property.","body":"Use any <code>@Conditional...</code> annotation. Example <code>@ConditionalOnProperty(prefix = &quot;enable&quot;, value = {&quot;myFilter&quot;}, havingValue = &quot;true&quot;, matchIfMissing = true</code>)` . And Bean won&#39;t create if you use this <code>enable.myFilter=false</code> in the property."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686900009,"post_id":76487461,"comment_id":134864447,"body_markdown":"@Numichi how can I annotate this Bean that is declared in a third party library? I can&#39;t access the code.","body":"@Numichi how can I annotate this Bean that is declared in a third party library? I can&#39;t access the code."},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":2,"creation_date":1686900130,"post_id":76487461,"comment_id":134864469,"body_markdown":"Maybe remove the Bean manually from the context afterwards like explained here (https://stackoverflow.com/questions/6855811/how-can-i-remove-a-singleton-spring-bean-from-applicationcontext) . Although this definitely isn&#39;t the cleanest solution and feels very hacky","body":"Maybe remove the Bean manually from the context afterwards like explained here (<a href=\"https://stackoverflow.com/questions/6855811/how-can-i-remove-a-singleton-spring-bean-from-applicationcontext\" title=\"how can i remove a singleton spring bean from applicationcontext\">stackoverflow.com/questions/6855811/&hellip;</a>) . Although this definitely isn&#39;t the cleanest solution and feels very hacky"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686900571,"post_id":76487461,"comment_id":134864547,"body_markdown":"@berse2212 this could be a solution indeed (or simply create a Bean with a similar signature) together with a `@Primary` annotation, that would force Spring to choose it instead of the third party, but I was looking for a cleaner a solution. For starters, I couldn&#39;t understand why they would bring together `@Bean` and `@Autowired`.","body":"@berse2212 this could be a solution indeed (or simply create a Bean with a similar signature) together with a <code>@Primary</code> annotation, that would force Spring to choose it instead of the third party, but I was looking for a cleaner a solution. For starters, I couldn&#39;t understand why they would bring together <code>@Bean</code> and <code>@Autowired</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686911073,"post_id":76487461,"comment_id":134866768,"body_markdown":"Is this part of an `@Configuration` class you import or is it part of some auto configuration?  Please provide some more information.","body":"Is this part of an <code>@Configuration</code> class you import or is it part of some auto configuration?  Please provide some more information."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686911991,"post_id":76487461,"comment_id":134866946,"body_markdown":"This is part of a Configuration I import with `@Import(Configuration.class)`","body":"This is part of a Configuration I import with <code>@Import(Configuration.class)</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1686912472,"post_id":76487461,"comment_id":134867026,"body_markdown":"one approach: copy (don&#39;t/before import) all configuration except &quot;unwanted&quot; parts, another: override the bean (with a &quot;no-op-filter&quot; e.g.)","body":"one approach: copy (don&#39;t/before import) all configuration except &quot;unwanted&quot; parts, another: override the bean (with a &quot;no-op-filter&quot; e.g.)"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":1,"creation_date":1687167981,"post_id":76487461,"comment_id":134894179,"body_markdown":"@xerx593 I managed to reach out to the creator of the external library and he suggested a solution akin to your first one. Can you add it as an answer so that I can mark it as accepted?","body":"@xerx593 I managed to reach out to the creator of the external library and he suggested a solution akin to your first one. Can you add it as an answer so that I can mark it as accepted?"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686923258,"creation_date":1686923258,"answer_id":76490831,"question_id":76487461,"body_markdown":"Spring Boot includes the `@Profile` annotation.\r\n\r\nMake the &quot;to be ignored&quot; classes with a specific @Profile and Spring Boot will ignore them when the identified profile is not active.\r\n\r\nFor example:\r\n```Java\r\n@Profile(&quot;BlammyProfile&quot;)\r\npublic class Blammy\r\n{\r\n  ...\r\n}\r\n```\r\n\r\nHere is a [Spring Profile Baeldung Article link][1]\r\n\r\n[1]:https://www.baeldung.com/spring-profiles","title":"Disable automatic autowiring of third party Bean","body":"<p>Spring Boot includes the <code>@Profile</code> annotation.</p>\n<p>Make the &quot;to be ignored&quot; classes with a specific @Profile and Spring Boot will ignore them when the identified profile is not active.</p>\n<p>For example:</p>\n<pre><code>@Profile(&quot;BlammyProfile&quot;)\npublic class Blammy\n{\n  ...\n}\n</code></pre>\n<p>Here is a <a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">Spring Profile Baeldung Article link</a></p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687294460,"creation_date":1687293399,"answer_id":76518238,"question_id":76487461,"body_markdown":"We followed provider recommendation/decided for: \r\n### Appropriate and edit config\r\nMeans: Copy, paste and edit the original &quot;Configuration&quot; instead of/before importing/scanning it:\r\n```lang-java\r\n@Configuration\r\nclass MyConfig { \r\n  // copy, paste &amp; edit original (com.third.party) Configuration (omit unwanted parts/beans)\r\n} // &lt;- use this\r\n```\r\n\r\nOne alternative approach is:\r\n\r\n### Destroy Bean\r\n\r\nAs described by:\r\n\r\nhttps://stackoverflow.com/q/6855811/592355\r\n\r\n..., we only need to &quot;plug it&quot; (e.g.) simple like:\r\n```lang-java\r\n@Bean\r\nBeanFactoryAware myDestroy() {\r\n  return (beanFactory) -&gt; {\r\n    ((BeanDefinitionRegistry) beanFactory).removeBeanDefinition(&quot;filter&quot;); // bean name (+ type, see [javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistry.html))\r\n  };\r\n}\r\n``` \r\n\r\n..also possible:\r\n### Replace Bean\r\nHere we replace the Bean (by type and name), with an &quot;NO-OP&quot; bean:\r\n```lang-java\r\n@Primary @Bean\r\npublic Filter filter() { // same name &amp; type!\r\n    return new com.my.example.DoesNothingFilter(); // as name (and interface) implies\r\n}\r\n```\r\n\r\n...\r\n\r\n### Ideally\r\n\r\nProvider would make it `@ConditionalOnXXX`/bind it to `@Profile`! :)\r\n\r\n... (+any other alternatives)","title":"Disable automatic autowiring of third party Bean","body":"<p>We followed provider recommendation/decided for:</p>\n<h3>Appropriate and edit config</h3>\n<p>Means: Copy, paste and edit the original &quot;Configuration&quot; instead of/before importing/scanning it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass MyConfig { \n  // copy, paste &amp; edit original (com.third.party) Configuration (omit unwanted parts/beans)\n} // &lt;- use this\n</code></pre>\n<p>One alternative approach is:</p>\n<h3>Destroy Bean</h3>\n<p>As described by:</p>\n<p><a href=\"https://stackoverflow.com/q/6855811/592355\">How can i remove a singleton spring bean from ApplicationContext?</a></p>\n<p>..., we only need to &quot;plug it&quot; (e.g.) simple like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nBeanFactoryAware myDestroy() {\n  return (beanFactory) -&gt; {\n    ((BeanDefinitionRegistry) beanFactory).removeBeanDefinition(&quot;filter&quot;); // bean name (+ type, see [javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistry.html))\n  };\n}\n</code></pre>\n<p>..also possible:</p>\n<h3>Replace Bean</h3>\n<p>Here we replace the Bean (by type and name), with an &quot;NO-OP&quot; bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Primary @Bean\npublic Filter filter() { // same name &amp; type!\n    return new com.my.example.DoesNothingFilter(); // as name (and interface) implies\n}\n</code></pre>\n<p>...</p>\n<h3>Ideally</h3>\n<p>Provider would make it <code>@ConditionalOnXXX</code>/bind it to <code>@Profile</code>! :)</p>\n<p>... (+any other alternatives)</p>\n"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76518238,"answer_count":2,"score":0,"last_activity_date":1687294460,"creation_date":1686896814,"question_id":76487461,"body_markdown":"I am implementing a third party library that uses Spring, which is declaring a Filter in the following way:\r\n```\r\n@Bean\r\n@Autowired\r\npublic Filter filter() {\r\n    return new Filter();\r\n}\r\n```\r\nI load the configuration class to my application with a `@Import(Configuration.class)`. My Spring Boot application loads the Filter and seems to try to use it, but I don&#39;t want that. How can I make Spring ignore such Beans, i.e., simply don&#39;t load them (supposing the third party library can work without them)?\r\n","title":"Disable automatic autowiring of third party Bean","body":"<p>I am implementing a third party library that uses Spring, which is declaring a Filter in the following way:</p>\n<pre><code>@Bean\n@Autowired\npublic Filter filter() {\n    return new Filter();\n}\n</code></pre>\n<p>I load the configuration class to my application with a <code>@Import(Configuration.class)</code>. My Spring Boot application loads the Filter and seems to try to use it, but I don't want that. How can I make Spring ignore such Beans, i.e., simply don't load them (supposing the third party library can work without them)?</p>\n"},{"tags":["java","spring","spring-boot","classnotfoundexception","spring-jms"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1687288852,"post_id":76517707,"comment_id":134915068,"body_markdown":"Double-check the configuration of your `JAVA_HOME` and perhaps your `PATH` as well. The Maven and Gradle errors are both because you&#39;re running them on Java 11 and Spring Boot&#39;s build plugins require Java 17. You can double-check the version of Java that&#39;s being used by running `./mvnw -version` or `./gradlew -version`.","body":"Double-check the configuration of your <code>JAVA_HOME</code> and perhaps your <code>PATH</code> as well. The Maven and Gradle errors are both because you&#39;re running them on Java 11 and Spring Boot&#39;s build plugins require Java 17. You can double-check the version of Java that&#39;s being used by running <code>.&#47;mvnw -version</code> or <code>.&#47;gradlew -version</code>."},{"owner":{"account_id":18619541,"reputation":45,"user_id":13570092,"display_name":"Holland Park"},"score":0,"creation_date":1687290183,"post_id":76517707,"comment_id":134915278,"body_markdown":"Thank you! I was able to build after I checked and updated JAVA_HOME and PATH variables, however when i&#39;m running the application, I&#39;m getting the same error stack as I posted above from Eclipse.","body":"Thank you! I was able to build after I checked and updated JAVA_HOME and PATH variables, however when i&#39;m running the application, I&#39;m getting the same error stack as I posted above from Eclipse."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687293083,"creation_date":1687293083,"answer_id":76518200,"question_id":76517707,"body_markdown":"There are some problems in the guide that were introduced when it switched from Apache ActiveMQ to Apache Artemis. I&#39;ve opened [a pull request](https://github.com/spring-guides/gs-messaging-jms/pull/38) to correct them. You can make the same changes yourself and the guide should work. You need to:\r\n\r\n1. Add a dependency on `org.springframework.boot:spring-boot-starter-json`\r\n2. Add a dependency on `org.apache.activemq:artemis-jakarta-server`\r\n3. Create an `application.properties` file in `src/main/resources` that contains `spring.artemis.mode=embedded`\r\n\r\nWith these changes in place, the application should start and successfully send and receive a message.\r\n\r\n","title":"Messaging with JMS Spring tutorial not building [https://spring.io/guides/gs/messaging-jms/#scratch]","body":"<p>There are some problems in the guide that were introduced when it switched from Apache ActiveMQ to Apache Artemis. I've opened <a href=\"https://github.com/spring-guides/gs-messaging-jms/pull/38\" rel=\"nofollow noreferrer\">a pull request</a> to correct them. You can make the same changes yourself and the guide should work. You need to:</p>\n<ol>\n<li>Add a dependency on <code>org.springframework.boot:spring-boot-starter-json</code></li>\n<li>Add a dependency on <code>org.apache.activemq:artemis-jakarta-server</code></li>\n<li>Create an <code>application.properties</code> file in <code>src/main/resources</code> that contains <code>spring.artemis.mode=embedded</code></li>\n</ol>\n<p>With these changes in place, the application should start and successfully send and receive a message.</p>\n"}],"owner":{"account_id":18619541,"reputation":45,"user_id":13570092,"display_name":"Holland Park"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76518200,"answer_count":1,"score":0,"last_activity_date":1687293083,"creation_date":1687287516,"question_id":76517707,"body_markdown":"I pulled this repository https://github.com/spring-guides/gs-messaging-jms to my Windows PC and tried to build using both ./gradlew build and ./mvnw clean package. In both cases I&#39;m getting errors and the build fails. \r\n\r\nFor Maven build, the main build error is:\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project gs-messaging-jms-complete: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\r\n```\r\n\r\nFor Gradle:\r\n\r\n```\r\nIncompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11\r\n```\r\n\r\nMy Java version is currently java 17.0.6 2023-01-17 LTS. I also tried to change it to Java 11, but am getting the same issue.\r\n\r\nI also tried to import the project into Eclipse and was able to build with Java 17 JRE, but when I&#39;m trying to run it as a Java application, I&#39;m getting errors: \r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-20T14:57:05.456-04:00 ERROR 21584 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;receiver&#39; defined in file [C:\\Users\\m321365\\Desktop\\OBPHM\\Development\\5.0\\RC2\\Code\\SpringJMS\\gs-messaging-jms\\complete\\target\\classes\\hello\\Receiver.class]: Error creating bean with name &#39;myFactory&#39; defined in hello.Application: Unsatisfied dependency expressed through method &#39;myFactory&#39; parameter 1: Error creating bean with name &#39;jmsListenerContainerFactoryConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method &#39;jmsListenerContainerFactoryConfigurer&#39; threw exception with message: Error creating bean with name &#39;jacksonJmsMessageConverter&#39; defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:605) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat hello.Application.main(Application.java:43) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myFactory&#39; defined in hello.Application: Unsatisfied dependency expressed through method &#39;myFactory&#39; parameter 1: Error creating bean with name &#39;jmsListenerContainerFactoryConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method &#39;jmsListenerContainerFactoryConfigurer&#39; threw exception with message: Error creating bean with name &#39;jacksonJmsMessageConverter&#39; defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.processJmsListener(JmsListenerAnnotationBeanPostProcessor.java:294) ~[spring-jms-6.0.9.jar:6.0.9]\r\n\tat org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.lambda$postProcessAfterInitialization$1(JmsListenerAnnotationBeanPostProcessor.java:248) ~[spring-jms-6.0.9.jar:6.0.9]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.lambda$postProcessAfterInitialization$2(JmsListenerAnnotationBeanPostProcessor.java:248) ~[spring-jms-6.0.9.jar:6.0.9]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n\tat org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.postProcessAfterInitialization(JmsListenerAnnotationBeanPostProcessor.java:247) ~[spring-jms-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 14 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jmsListenerContainerFactoryConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method &#39;jmsListenerContainerFactoryConfigurer&#39; threw exception with message: Error creating bean with name &#39;jacksonJmsMessageConverter&#39; defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 32 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method &#39;jmsListenerContainerFactoryConfigurer&#39; threw exception with message: Error creating bean with name &#39;jacksonJmsMessageConverter&#39; defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 46 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jacksonJmsMessageConverter&#39; defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.autoconfigure.jms.JmsAnnotationDrivenConfiguration.jmsListenerContainerFactoryConfigurer(JmsAnnotationDrivenConfiguration.java:74) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 47 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method &#39;jacksonJmsMessageConverter&#39; threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 65 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper\r\n\tat org.springframework.jms.support.converter.MappingJackson2MessageConverter.&lt;init&gt;(MappingJackson2MessageConverter.java:94) ~[spring-jms-6.0.9.jar:6.0.9]\r\n\tat hello.Application.jacksonJmsMessageConverter(Application.java:35) ~[classes/:na]\r\n\tat hello.Application$$SpringCGLIB$$0.CGLIB$jacksonJmsMessageConverter$1(&lt;generated&gt;) ~[classes/:na]\r\n\tat hello.Application$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat hello.Application$$SpringCGLIB$$0.jacksonJmsMessageConverter(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 66 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.ObjectMapper\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 78 common frames omitted\r\n```\r\n\r\nUPDATE: I was able to build the project with Maven after updating JAVA_HOME variable to Java 17. \r\n\r\nI am still getting the same errors when running the application. It looks like the error comes from this bean: \r\n\r\n    @Bean // Serialize message content to json using TextMessage\r\n    \tpublic MessageConverter jacksonJmsMessageConverter() {\r\n    \t\tMappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n    \t\tconverter.setTargetType(MessageType.TEXT);\r\n    \t\tconverter.setTypeIdPropertyName(&quot;_type&quot;);\r\n    \t\treturn converter;\r\n    \t}\r\n\r\nI can open MappingJackson2MessageConverter declaration in my IDE, but when I&#39;m putting a breakpoint there and run in debug mode, I&#39;m getting &quot;ClassNotFoundException&quot;. Why is it not finding this class? What did I miss? There are no errors in the project that I can see. \r\n\r\n","title":"Messaging with JMS Spring tutorial not building [https://spring.io/guides/gs/messaging-jms/#scratch]","body":"<p>I pulled this repository <a href=\"https://github.com/spring-guides/gs-messaging-jms\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-messaging-jms</a> to my Windows PC and tried to build using both ./gradlew build and ./mvnw clean package. In both cases I'm getting errors and the build fails.</p>\n<p>For Maven build, the main build error is:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project gs-messaging-jms-complete: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\n</code></pre>\n<p>For Gradle:</p>\n<pre><code>Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11\n</code></pre>\n<p>My Java version is currently java 17.0.6 2023-01-17 LTS. I also tried to change it to Java 11, but am getting the same issue.</p>\n<p>I also tried to import the project into Eclipse and was able to build with Java 17 JRE, but when I'm trying to run it as a Java application, I'm getting errors:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-20T14:57:05.456-04:00 ERROR 21584 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'receiver' defined in file [C:\\Users\\m321365\\Desktop\\OBPHM\\Development\\5.0\\RC2\\Code\\SpringJMS\\gs-messaging-jms\\complete\\target\\classes\\hello\\Receiver.class]: Error creating bean with name 'myFactory' defined in hello.Application: Unsatisfied dependency expressed through method 'myFactory' parameter 1: Error creating bean with name 'jmsListenerContainerFactoryConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method 'jmsListenerContainerFactoryConfigurer' threw exception with message: Error creating bean with name 'jacksonJmsMessageConverter' defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:605) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at hello.Application.main(Application.java:43) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myFactory' defined in hello.Application: Unsatisfied dependency expressed through method 'myFactory' parameter 1: Error creating bean with name 'jmsListenerContainerFactoryConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method 'jmsListenerContainerFactoryConfigurer' threw exception with message: Error creating bean with name 'jacksonJmsMessageConverter' defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.processJmsListener(JmsListenerAnnotationBeanPostProcessor.java:294) ~[spring-jms-6.0.9.jar:6.0.9]\n    at org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.lambda$postProcessAfterInitialization$1(JmsListenerAnnotationBeanPostProcessor.java:248) ~[spring-jms-6.0.9.jar:6.0.9]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.lambda$postProcessAfterInitialization$2(JmsListenerAnnotationBeanPostProcessor.java:248) ~[spring-jms-6.0.9.jar:6.0.9]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.springframework.jms.annotation.JmsListenerAnnotationBeanPostProcessor.postProcessAfterInitialization(JmsListenerAnnotationBeanPostProcessor.java:247) ~[spring-jms-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 14 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jmsListenerContainerFactoryConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/jms/JmsAnnotationDrivenConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method 'jmsListenerContainerFactoryConfigurer' threw exception with message: Error creating bean with name 'jacksonJmsMessageConverter' defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 32 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer]: Factory method 'jmsListenerContainerFactoryConfigurer' threw exception with message: Error creating bean with name 'jacksonJmsMessageConverter' defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 46 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jacksonJmsMessageConverter' defined in hello.Application: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.boot.autoconfigure.jms.JmsAnnotationDrivenConfiguration.jmsListenerContainerFactoryConfigurer(JmsAnnotationDrivenConfiguration.java:74) ~[spring-boot-autoconfigure-3.1.0.jar:3.1.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 47 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.jms.support.converter.MessageConverter]: Factory method 'jacksonJmsMessageConverter' threw exception with message: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 65 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper\n    at org.springframework.jms.support.converter.MappingJackson2MessageConverter.&lt;init&gt;(MappingJackson2MessageConverter.java:94) ~[spring-jms-6.0.9.jar:6.0.9]\n    at hello.Application.jacksonJmsMessageConverter(Application.java:35) ~[classes/:na]\n    at hello.Application$$SpringCGLIB$$0.CGLIB$jacksonJmsMessageConverter$1(&lt;generated&gt;) ~[classes/:na]\n    at hello.Application$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.9.jar:6.0.9]\n    at hello.Application$$SpringCGLIB$$0.jacksonJmsMessageConverter(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 66 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.ObjectMapper\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 78 common frames omitted\n</code></pre>\n<p>UPDATE: I was able to build the project with Maven after updating JAVA_HOME variable to Java 17.</p>\n<p>I am still getting the same errors when running the application. It looks like the error comes from this bean:</p>\n<pre><code>@Bean // Serialize message content to json using TextMessage\n    public MessageConverter jacksonJmsMessageConverter() {\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setTargetType(MessageType.TEXT);\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\n        return converter;\n    }\n</code></pre>\n<p>I can open MappingJackson2MessageConverter declaration in my IDE, but when I'm putting a breakpoint there and run in debug mode, I'm getting &quot;ClassNotFoundException&quot;. Why is it not finding this class? What did I miss? There are no errors in the project that I can see.</p>\n"},{"tags":["java","maven","intellij-idea","jar"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":1,"creation_date":1687291565,"post_id":76518006,"comment_id":134915466,"body_markdown":"1. Having a main class is not enough. You need a manifest file in META-INF/ folder that d&#233;clar&#233;s what is your main class. 2. Why dont you try to run tour java command from the folder where the jar is ? And why using Unix style file path in windows ?","body":"1. Having a main class is not enough. You need a manifest file in META-INF/ folder that d&#233;clar&#233;s what is your main class. 2. Why dont you try to run tour java command from the folder where the jar is ? And why using Unix style file path in windows ?"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1687291888,"post_id":76518006,"comment_id":134915515,"body_markdown":"@SebPerp thanks for response. Ok. I did what you suggested and ran it directly in the directory where jar file is. Finds jar now, but getting this error:\n&quot;no main manifest attribute, in paging-mission-control-1.0-SNAPSHOT.jar&quot;. I don&#39;t know how to update the jar file so that the manifest has the proper attribute. Thanks for any response.","body":"@SebPerp thanks for response. Ok. I did what you suggested and ran it directly in the directory where jar file is. Finds jar now, but getting this error: &quot;no main manifest attribute, in paging-mission-control-1.0-SNAPSHOT.jar&quot;. I don&#39;t know how to update the jar file so that the manifest has the proper attribute. Thanks for any response."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687291890,"post_id":76518006,"comment_id":134915516,"body_markdown":"Since JVM couldn&#39;t access the file, check whether it&#39;s actually located under provided path. It seems like the path doesn&#39;t lead to a build folder.","body":"Since JVM couldn&#39;t access the file, check whether it&#39;s actually located under provided path. It seems like the path doesn&#39;t lead to a build folder."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687292053,"post_id":76518006,"comment_id":134915542,"body_markdown":"As @SebPerp mentioned you have to either specify main file in the manifest ([docs](https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html)) or specify main file at command line with `java -cp file.jar com.example.MainClass`. Also to make it work you need all the dependencies be assembled in a jar or specify them at command line","body":"As @SebPerp mentioned you have to either specify main file in the manifest (<a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">docs</a>) or specify main file at command line with <code>java -cp file.jar com.example.MainClass</code>. Also to make it work you need all the dependencies be assembled in a jar or specify them at command line"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687292260,"post_id":76518006,"comment_id":134915569,"body_markdown":"you typed `/c/...` and the error is `C:/...` ? I cannot reproduce that - I would try `java -jar C:\\Users\\tclotworthy\\...` **and** check that the file is really there (e.g. `dir C:\\Users\\tclotworthy\\...`) **BUT** I also wonder the `$ ` prompt - not usual for DOS (Windows command line) more like CYGWIN or similar (GIT bash, ...) which would also explain that `/c/...` got `C:/...`","body":"you typed <code>&#47;c&#47;...</code> and the error is <code>C:&#47;...</code> ? I cannot reproduce that - I would try <code>java -jar C:\\Users\\tclotworthy\\...</code> <b>and</b> check that the file is really there (e.g. <code>dir C:\\Users\\tclotworthy\\...</code>) <b>BUT</b> I also wonder the <code>$ </code> prompt - not usual for DOS (Windows command line) more like CYGWIN or similar (GIT bash, ...) which would also explain that <code>&#47;c&#47;...</code> got <code>C:&#47;...</code>"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1687292786,"post_id":76518006,"comment_id":134915651,"body_markdown":"thanks to all. I was able to make more progress by adding maven jar plugin with the manifest. I will answer the solution myself, but you guys were helpful in getting me to think it through. Thanks again.","body":"thanks to all. I was able to make more progress by adding maven jar plugin with the manifest. I will answer the solution myself, but you guys were helpful in getting me to think it through. Thanks again."}],"answers":[{"tags":[],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687292978,"creation_date":1687292978,"answer_id":76518192,"question_id":76518006,"body_markdown":"I had multiple problems. First, I was using unix-style path rather than windows-style path. Second, I did not have the manifest properly set up to make the jar file executable. I added the following to the pom.xml:\r\n\r\n    build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;paging_mission_control.SatApplication&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nSo, now it finds the application. ","title":"Cannot Execute Application in JAR file from command line","body":"<p>I had multiple problems. First, I was using unix-style path rather than windows-style path. Second, I did not have the manifest properly set up to make the jar file executable. I added the following to the pom.xml:</p>\n<pre><code>build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;!-- Build an executable JAR --&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;paging_mission_control.SatApplication&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>So, now it finds the application.</p>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687292978,"creation_date":1687290858,"question_id":76518006,"body_markdown":"I have a relatively simple java application I am running from intelliJ. It&#39;s a maven-based build. It runs fine from within intellij.\r\n\r\nMy problem (embarrassing..) is I am having trouble getting it to run from the command line. I&#39;ve attempted both from the jar that is built, and from the classes directory. \r\n\r\nIdeally I would like to run it from the jar. The jar has a single application with a main method. I build from the command line &quot;mvn clean package&quot;, and the the target directory is created with all the needed components. My expectation is that this is an executable jar file, since it has the class with the main method. However, I run the following command by opening DOS shell (windows) as admin\r\n:\r\n\r\n    $ java -jar /c/Users/tclotworthy/Iamus/satelliteProj/paging-mission-control/paging-mission-control-1.0-SNAPSHOT.jar\r\n    Error: Unable to access jarfile C:/Users/tclotworthy/Iamus/satelliteProj/paging-mission-control/paging-mission-control-1.0-SNAPSHOT.jar\r\n\r\nIf I could upload the jar file here, I would so that others can attempt. I would be grateful for any suggestions on how to overcome my problem. Thank you","title":"Cannot Execute Application in JAR file from command line","body":"<p>I have a relatively simple java application I am running from intelliJ. It's a maven-based build. It runs fine from within intellij.</p>\n<p>My problem (embarrassing..) is I am having trouble getting it to run from the command line. I've attempted both from the jar that is built, and from the classes directory.</p>\n<p>Ideally I would like to run it from the jar. The jar has a single application with a main method. I build from the command line &quot;mvn clean package&quot;, and the the target directory is created with all the needed components. My expectation is that this is an executable jar file, since it has the class with the main method. However, I run the following command by opening DOS shell (windows) as admin\n:</p>\n<pre><code>$ java -jar /c/Users/tclotworthy/Iamus/satelliteProj/paging-mission-control/paging-mission-control-1.0-SNAPSHOT.jar\nError: Unable to access jarfile C:/Users/tclotworthy/Iamus/satelliteProj/paging-mission-control/paging-mission-control-1.0-SNAPSHOT.jar\n</code></pre>\n<p>If I could upload the jar file here, I would so that others can attempt. I would be grateful for any suggestions on how to overcome my problem. Thank you</p>\n"},{"tags":["java","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"score":0,"creation_date":1687054575,"post_id":76493069,"comment_id":134883005,"body_markdown":"Would really appreciate if someone can help me on this issue.","body":"Would really appreciate if someone can help me on this issue."},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":1,"creation_date":1687158415,"post_id":76493069,"comment_id":134892209,"body_markdown":"You might have hit [this issue](https://github.com/oracle/graal/issues/6796)","body":"You might have hit <a href=\"https://github.com/oracle/graal/issues/6796\" rel=\"nofollow noreferrer\">this issue</a>"},{"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"score":0,"creation_date":1687212092,"post_id":76493069,"comment_id":134902365,"body_markdown":"Thank you @peterz","body":"Thank you @peterz"}],"answers":[{"tags":[],"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687292303,"creation_date":1687292303,"answer_id":76518138,"question_id":76493069,"body_markdown":"Looks like it is a known issue for GraalVM. https://github.com/oracle/graal/issues/5778\r\n\r\nAs per the issue on Github, I was able to resolve the `zsh: segmentation fault ./hello` problem using below workaround:\r\n\r\n 1. Obtain an older version of Xcode. https://developer.apple.com/download/all/?q=Xcode%2012.5.1 This requires an Apple ID. (If you are not comfortable clicking the link, just sign in to Apple Developer account and search for &quot;Xcode 12.5.1&quot;)\r\n\r\n 2. Unpack it via finder\r\n 3. Open a terminal and run following commands\r\n\r\n```\r\n$ mv ~/Downloads/Xcode.app /Applications/Xcode12.5.1.app/\r\n$ sudo xcode-select -s /Applications/Xcode12.5.1.app/Contents/Developer\r\n$ # verify with\r\n$ xcodebuild -version\r\n```\r\n\r\n 4. Now if we generate and run the native image again, it successfully runs.\r\n","title":"Graal VM Error: zsh: segmentation fault ./hello","body":"<p>Looks like it is a known issue for GraalVM. <a href=\"https://github.com/oracle/graal/issues/5778\" rel=\"nofollow noreferrer\">https://github.com/oracle/graal/issues/5778</a></p>\n<p>As per the issue on Github, I was able to resolve the <code>zsh: segmentation fault ./hello</code> problem using below workaround:</p>\n<ol>\n<li><p>Obtain an older version of Xcode. <a href=\"https://developer.apple.com/download/all/?q=Xcode%2012.5.1\" rel=\"nofollow noreferrer\">https://developer.apple.com/download/all/?q=Xcode%2012.5.1</a> This requires an Apple ID. (If you are not comfortable clicking the link, just sign in to Apple Developer account and search for &quot;Xcode 12.5.1&quot;)</p>\n</li>\n<li><p>Unpack it via finder</p>\n</li>\n<li><p>Open a terminal and run following commands</p>\n</li>\n</ol>\n<pre><code>$ mv ~/Downloads/Xcode.app /Applications/Xcode12.5.1.app/\n$ sudo xcode-select -s /Applications/Xcode12.5.1.app/Contents/Developer\n$ # verify with\n$ xcodebuild -version\n</code></pre>\n<ol start=\"4\">\n<li>Now if we generate and run the native image again, it successfully runs.</li>\n</ol>\n"}],"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76518138,"answer_count":1,"score":0,"last_activity_date":1687292303,"creation_date":1686943472,"question_id":76493069,"body_markdown":"I encountered an issue while running a simple Java program after compiling it with GraalVM and generating a native image. The original Java file is named Hello.java and contains the following code:\r\n\r\n    public class Hello {\r\n        public static void main(String[] args) {\r\n             System.out.println(&quot;Hello&quot;);\r\n        }\r\n    }\r\n\r\nTo compile the code, I used GraalVM, which resulted in the generation of the Hello.class file. Subsequently, I created a native image for this class using the command `native-image Hello`. However, when attempting to execute the program with the ./hello command, I encountered the following error:\r\n\r\n    zsh: segmentation fault  ./hello`\r\n\r\nDespite searching for solutions on Stack Overflow, I have been unable to find a suitable resolution.\r\n\r\nHere are the system and GraalVM installation details:\r\n\r\n    OS: MacOS Ventura\r\n    Processor: 2.6 GHz 6-Core Intel Core i7\r\n    GraalVM: graalvm-jdk-17.0.7+8.1 \r\n    (Dowloaded it from https://www.graalvm.org/downloads with Java 17 and macOS(x64))\r\n\r\nBelow is the output for`java -version`\r\n\r\n    java version &quot;17.0.7&quot; 2023-04-18 LTS\r\n    Java(TM) SE Runtime Environment Oracle GraalVM 17.0.7+8.1 (build 17.0.7+8-LTS-jvmci-23.0-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM Oracle GraalVM 17.0.7+8.1 (build 17.0.7+8-LTS-jvmci-23.0-b12, mixed mode, sharing)","title":"Graal VM Error: zsh: segmentation fault ./hello","body":"<p>I encountered an issue while running a simple Java program after compiling it with GraalVM and generating a native image. The original Java file is named Hello.java and contains the following code:</p>\n<pre><code>public class Hello {\n    public static void main(String[] args) {\n         System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p>To compile the code, I used GraalVM, which resulted in the generation of the Hello.class file. Subsequently, I created a native image for this class using the command <code>native-image Hello</code>. However, when attempting to execute the program with the ./hello command, I encountered the following error:</p>\n<pre><code>zsh: segmentation fault  ./hello`\n</code></pre>\n<p>Despite searching for solutions on Stack Overflow, I have been unable to find a suitable resolution.</p>\n<p>Here are the system and GraalVM installation details:</p>\n<pre><code>OS: MacOS Ventura\nProcessor: 2.6 GHz 6-Core Intel Core i7\nGraalVM: graalvm-jdk-17.0.7+8.1 \n(Dowloaded it from https://www.graalvm.org/downloads with Java 17 and macOS(x64))\n</code></pre>\n<p>Below is the output for<code>java -version</code></p>\n<pre><code>java version &quot;17.0.7&quot; 2023-04-18 LTS\nJava(TM) SE Runtime Environment Oracle GraalVM 17.0.7+8.1 (build 17.0.7+8-LTS-jvmci-23.0-b12)\nJava HotSpot(TM) 64-Bit Server VM Oracle GraalVM 17.0.7+8.1 (build 17.0.7+8-LTS-jvmci-23.0-b12, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-iam","datasource","hikaricp"],"comments":[{"owner":{"account_id":2454359,"reputation":77,"user_id":2139911,"accept_rate":0,"display_name":"Guillermo Garcia"},"score":0,"creation_date":1691196131,"post_id":76518113,"comment_id":135463965,"body_markdown":"Did you found a way?","body":"Did you found a way?"},{"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"score":0,"creation_date":1695227428,"post_id":76518113,"comment_id":135997362,"body_markdown":"@GuillermoGarcia - Yes I did, but I am not the biggest fan of the implementation. I would like to use `AwsWrapperDataSource` but I am having a trouble with my implementation of it. In the meantime, I am overriding the HikariDataSource `getConnection` method, checking if I need to update my token (so once every 15 minutes), and then calling `super.getConnection()`. Again, it is not how I would like to do it in the end, but it works for now.","body":"@GuillermoGarcia - Yes I did, but I am not the biggest fan of the implementation. I would like to use <code>AwsWrapperDataSource</code> but I am having a trouble with my implementation of it. In the meantime, I am overriding the HikariDataSource <code>getConnection</code> method, checking if I need to update my token (so once every 15 minutes), and then calling <code>super.getConnection()</code>. Again, it is not how I would like to do it in the end, but it works for now."}],"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687292040,"creation_date":1687292040,"question_id":76518113,"body_markdown":"I have a Spring Boot (2.3.5.RELEASE) with Spring Cloud (Hoxton.RELEASE) project that I am trying to set up my DataSource for.\r\n\r\nI am able to get my Hikari Connection Pool set up, but I use IAM tokens for the database password, and those expire every 15 minutes. How can I set my DataSource so that a new token is generated for new connections that are opened up after the connection pool is started up (I can generate a token for the initial connections, just not any that are opened after the token expires).\r\n\r\nI have set the max lifetime for connections to well over the 15 minutes (I have tested up to 4 hours so far) and the connections work as long as they are open. However, once a new connection is created, it just uses the initial password that was generated at startup.\r\n\r\nMy current config:\r\n```\r\n@Configuration\r\npublic class DBConfig {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(DBConfig.class);\r\n\r\n\tprivate static final String SESSION_NAME = &quot;db.session&quot;;\r\n\r\n\tprivate static final int CONNECTION_IDLE_TIMEOUT = 1800000;\t\t// Idle for 30 minutes max\r\n\tprivate static final int CONNECTION_KEEP_ALIVE_TIME = 60000;\t// Ensure connection is alive every minute\r\n\tprivate static final int CONNECTION_MAX_LIFETIME = 14400000; \t// Keep connections alive for 4 hours, then refresh\r\n\tprivate static final int CONNECTION_TOKEN_REFRESH = CONNECTION_MAX_LIFETIME - 300000; // Refresh token every 3 hr 55 minutes\r\n\r\n\t@Value(&quot;${db.name}&quot;)\r\n\tprivate String dbName;\r\n\r\n\t@Value(&quot;${db.host}&quot;)\r\n\tprivate String host;\r\n\r\n\t@Value(&quot;${db.port}&quot;)\r\n\tprivate String port;\r\n\r\n\t@Value(&quot;${db.username}&quot;)\r\n\tprivate String username;\r\n\r\n\t@Value(&quot;${db.region}&quot;)\r\n\tprivate String awsRegion;\r\n\r\n\t@Value(&quot;${aws.role.arn}&quot;)\r\n\tprivate String awsRoleArn;\r\n\r\n\t@Bean(name = &quot;getDataSource&quot;)\r\n\t@ConfigurationProperties(&quot;spring.datasource&quot;)\r\n\tpublic DataSource getDataSource() {\r\n\t\tlogger.info(&quot;Setting DataSource connection with &quot; + this);\r\n\r\n\t\ttry {\r\n\t\t\tHikariConfig hikariConfig = new HikariConfig();\r\n\r\n\t\t\thikariConfig.setDataSource(IAMUtils.setDataSource(awsRegion, host, Integer.parseInt(port), dbName, username, awsRoleArn, SESSION_NAME));\r\n\r\n\t\t\thikariConfig.setIdleTimeout(CONNECTION_IDLE_TIMEOUT);\r\n\t\t\thikariConfig.setMaxLifetime(CONNECTION_MAX_LIFETIME);\r\n\t\t\thikariConfig.setKeepaliveTime(CONNECTION_KEEP_ALIVE_TIME);\r\n\r\n\t\t\treturn new HikariDataSource(hikariConfig);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Unable to set up DataSource: &quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n    /*\r\n\t@Scheduled(fixedRate = CONNECTION_MAX_LIFETIME, initialDelay = CONNECTION_TOKEN_REFRESH)\r\n\tpublic void refreshedRDSToken() {\r\n\t\tHikariDataSource datasource = (HikariDataSource) getDataSource();\r\n\t\tHikariConfigMXBean hikariConfigMXBean = datasource.getHikariConfigMXBean();\r\n\r\n\t\tlogger.info(String.format(&quot;Refreshing IAM Auth tokens in &quot; + hikariConfigMXBean.getPoolName()));\r\n\t\thikariConfigMXBean.setPassword(IAMUtil.getIAMAuthToken(awsRegion, auroraHost, Integer.parseInt(auroraPort), auroraUsername,\r\n\t\t\t\tawsRoleArn, SESSION_NAME));\r\n\r\n\t\tHikariPoolMXBean pool = datasource.getHikariPoolMXBean();\r\n\t\tif (pool != null) {\r\n\t\t\tpool.softEvictConnections();  // Close unused connections &amp; mark open ones for disposal\r\n\t\t\tpool.resumePool();    // Re-enable connections\r\n\t\t}\r\n\t}\r\n    */\r\n}\r\n```\r\nI currently have my scheduler commented out, but I am able to use that to generate new tokens and then set up new connections. However, I don&#39;t want to do that every 14 minutes, and the way it currently is set up is to do it every 3 hr 55 min. But if new connections are needed to be set up between the initial 15 minutes and the token refresh, those won&#39;t work.\r\n\r\nHow can I just &quot;set&quot; a new password when a new connection is being made. Preferable after the initial startup (I can use the initial token for all connections created at startup). \r\n\r\nThanks for the help!","title":"Generate new IAM password for new HikariCP connections","body":"<p>I have a Spring Boot (2.3.5.RELEASE) with Spring Cloud (Hoxton.RELEASE) project that I am trying to set up my DataSource for.</p>\n<p>I am able to get my Hikari Connection Pool set up, but I use IAM tokens for the database password, and those expire every 15 minutes. How can I set my DataSource so that a new token is generated for new connections that are opened up after the connection pool is started up (I can generate a token for the initial connections, just not any that are opened after the token expires).</p>\n<p>I have set the max lifetime for connections to well over the 15 minutes (I have tested up to 4 hours so far) and the connections work as long as they are open. However, once a new connection is created, it just uses the initial password that was generated at startup.</p>\n<p>My current config:</p>\n<pre><code>@Configuration\npublic class DBConfig {\n\n    private static final Logger logger = LoggerFactory.getLogger(DBConfig.class);\n\n    private static final String SESSION_NAME = &quot;db.session&quot;;\n\n    private static final int CONNECTION_IDLE_TIMEOUT = 1800000;     // Idle for 30 minutes max\n    private static final int CONNECTION_KEEP_ALIVE_TIME = 60000;    // Ensure connection is alive every minute\n    private static final int CONNECTION_MAX_LIFETIME = 14400000;    // Keep connections alive for 4 hours, then refresh\n    private static final int CONNECTION_TOKEN_REFRESH = CONNECTION_MAX_LIFETIME - 300000; // Refresh token every 3 hr 55 minutes\n\n    @Value(&quot;${db.name}&quot;)\n    private String dbName;\n\n    @Value(&quot;${db.host}&quot;)\n    private String host;\n\n    @Value(&quot;${db.port}&quot;)\n    private String port;\n\n    @Value(&quot;${db.username}&quot;)\n    private String username;\n\n    @Value(&quot;${db.region}&quot;)\n    private String awsRegion;\n\n    @Value(&quot;${aws.role.arn}&quot;)\n    private String awsRoleArn;\n\n    @Bean(name = &quot;getDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\n    public DataSource getDataSource() {\n        logger.info(&quot;Setting DataSource connection with &quot; + this);\n\n        try {\n            HikariConfig hikariConfig = new HikariConfig();\n\n            hikariConfig.setDataSource(IAMUtils.setDataSource(awsRegion, host, Integer.parseInt(port), dbName, username, awsRoleArn, SESSION_NAME));\n\n            hikariConfig.setIdleTimeout(CONNECTION_IDLE_TIMEOUT);\n            hikariConfig.setMaxLifetime(CONNECTION_MAX_LIFETIME);\n            hikariConfig.setKeepaliveTime(CONNECTION_KEEP_ALIVE_TIME);\n\n            return new HikariDataSource(hikariConfig);\n\n        } catch (Exception e) {\n            logger.error(&quot;Unable to set up DataSource: &quot; + e.getMessage());\n        }\n    }\n\n    /*\n    @Scheduled(fixedRate = CONNECTION_MAX_LIFETIME, initialDelay = CONNECTION_TOKEN_REFRESH)\n    public void refreshedRDSToken() {\n        HikariDataSource datasource = (HikariDataSource) getDataSource();\n        HikariConfigMXBean hikariConfigMXBean = datasource.getHikariConfigMXBean();\n\n        logger.info(String.format(&quot;Refreshing IAM Auth tokens in &quot; + hikariConfigMXBean.getPoolName()));\n        hikariConfigMXBean.setPassword(IAMUtil.getIAMAuthToken(awsRegion, auroraHost, Integer.parseInt(auroraPort), auroraUsername,\n                awsRoleArn, SESSION_NAME));\n\n        HikariPoolMXBean pool = datasource.getHikariPoolMXBean();\n        if (pool != null) {\n            pool.softEvictConnections();  // Close unused connections &amp; mark open ones for disposal\n            pool.resumePool();    // Re-enable connections\n        }\n    }\n    */\n}\n</code></pre>\n<p>I currently have my scheduler commented out, but I am able to use that to generate new tokens and then set up new connections. However, I don't want to do that every 14 minutes, and the way it currently is set up is to do it every 3 hr 55 min. But if new connections are needed to be set up between the initial 15 minutes and the token refresh, those won't work.</p>\n<p>How can I just &quot;set&quot; a new password when a new connection is being made. Preferable after the initial startup (I can use the initial token for all connections created at startup).</p>\n<p>Thanks for the help!</p>\n"},{"tags":["java","android","google-maps","google-maps-markers"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1687404615,"post_id":76518071,"comment_id":134932903,"body_markdown":"First of all, I would like to suggest that you file a support case if you want to inquire about their pricing: https://developers.google.com/maps/support#creating-a-support-case. You also might want to check the documentation first. https://developers.google.com/maps/documentation/android-sdk/usage-and-billing","body":"First of all, I would like to suggest that you file a support case if you want to inquire about their pricing: <a href=\"https://developers.google.com/maps/support#creating-a-support-case\" rel=\"nofollow noreferrer\">developers.google.com/maps/support#creating-a-support-case</a>. You also might want to check the documentation first. <a href=\"https://developers.google.com/maps/documentation/android-sdk/usage-and-billing\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/android-sdk/&hellip;</a>"}],"owner":{"account_id":11435012,"reputation":11,"user_id":8382695,"display_name":"Anubhav Chauhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687291644,"creation_date":1687291644,"question_id":76518071,"body_markdown":"I’m working on an Android app for my final year college project that will use the Maps SDK for Android to display a limited number of preset locations on a map e.g. the Central Park, NYC and maybe other 10-15 places using their latitudes and longtitudes. \r\n\r\nI plan to show these locations and load them on the phone screen about say a maximum of 50 times (to give a demonstration to my faculty).   \r\n\r\n\r\n\r\n\r\nHere’s an example of how I’m implementing this in my code:\r\n\r\n\r\n```\r\nmMap = googleMap;\r\nLatLng jdpLatLng= new LatLng(v: 26.2389, v1: 73.0243);\r\nMarkerOptions markerOptions = new MarkerOptions().position (jdpLatLng).title(&quot;Jodhpur&quot;);\r\nmMap.addMarker (markerOptions);\r\nmMap.moveCamera (CameraUpdateFactory.newLatLng(jdpLatLng));\r\nmMap.animateCamera (CameraUpdateFactory.newLatLngZoom(jdpLatLng, v. 16f));\r\n\r\n```\r\n\r\nI’m trying to understand if my usage of the Maps SDK for Android will be covered under the $200 monthly credit provided by Google Maps Platform. Will I be charged for this usage or will it be free? Any insights or guidance would be much appreciated. Because I&#39;m not sure about the APIs used. Sorry for the naive question","title":"Understanding Maps SDK for Android pricing for displaying preset locations","body":"<p>I’m working on an Android app for my final year college project that will use the Maps SDK for Android to display a limited number of preset locations on a map e.g. the Central Park, NYC and maybe other 10-15 places using their latitudes and longtitudes.</p>\n<p>I plan to show these locations and load them on the phone screen about say a maximum of 50 times (to give a demonstration to my faculty).</p>\n<p>Here’s an example of how I’m implementing this in my code:</p>\n<pre><code>mMap = googleMap;\nLatLng jdpLatLng= new LatLng(v: 26.2389, v1: 73.0243);\nMarkerOptions markerOptions = new MarkerOptions().position (jdpLatLng).title(&quot;Jodhpur&quot;);\nmMap.addMarker (markerOptions);\nmMap.moveCamera (CameraUpdateFactory.newLatLng(jdpLatLng));\nmMap.animateCamera (CameraUpdateFactory.newLatLngZoom(jdpLatLng, v. 16f));\n\n</code></pre>\n<p>I’m trying to understand if my usage of the Maps SDK for Android will be covered under the $200 monthly credit provided by Google Maps Platform. Will I be charged for this usage or will it be free? Any insights or guidance would be much appreciated. Because I'm not sure about the APIs used. Sorry for the naive question</p>\n"},{"tags":["java","odata","olingo"],"answers":[{"tags":[],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640096943,"creation_date":1640081906,"answer_id":70433844,"question_id":70397716,"body_markdown":"Edit: As @Olivier mentions, my original answer referred to OData in .NET and not Olingo.\r\n\r\nUnfortunately as you probably have found out yourself, the standard Olingo [documentation](https://olingo.apache.org/doc/odata4/index.html) doesn&#39;t answer this particular question *directly*, though it does mention support for lazy-loading and streaming behaviour (which would not make any sense to filter on the application level).\r\n\r\nHowever, you would be hard-pressed to find an ORM or DB Adapter nowadays that does *not* support filtering on the database level, as this will almost always be faster than doing so in your application for non-trivial workloads. \r\n\r\nI will try to update this answer with a more authorative source.\r\n\r\n---\r\n(original answer)\r\n\r\nAccording to [this](https://weblogs.asp.net/jongalloway/does-asp-net-web-api-odata-filter-at-the-database-level-let-s-ask-intellitrace) analysis:\r\n\r\n&gt;As long as your data provider supports deferred queries and you don&#39;t force evaluation by calling something like .ToList(), the query will not be evaluated until the OData filters are applied, and they&#39;ll be handled at the database level.\r\n\r\n","title":"Does Java Apache Olingo query the database itself?","body":"<p>Edit: As @Olivier mentions, my original answer referred to OData in .NET and not Olingo.</p>\n<p>Unfortunately as you probably have found out yourself, the standard Olingo <a href=\"https://olingo.apache.org/doc/odata4/index.html\" rel=\"nofollow noreferrer\">documentation</a> doesn't answer this particular question <em>directly</em>, though it does mention support for lazy-loading and streaming behaviour (which would not make any sense to filter on the application level).</p>\n<p>However, you would be hard-pressed to find an ORM or DB Adapter nowadays that does <em>not</em> support filtering on the database level, as this will almost always be faster than doing so in your application for non-trivial workloads.</p>\n<p>I will try to update this answer with a more authorative source.</p>\n<hr />\n<p>(original answer)</p>\n<p>According to <a href=\"https://weblogs.asp.net/jongalloway/does-asp-net-web-api-odata-filter-at-the-database-level-let-s-ask-intellitrace\" rel=\"nofollow noreferrer\">this</a> analysis:</p>\n<blockquote>\n<p>As long as your data provider supports deferred queries and you don't force evaluation by calling something like .ToList(), the query will not be evaluated until the OData filters are applied, and they'll be handled at the database level.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2904628,"reputation":6707,"user_id":2490343,"accept_rate":100,"display_name":"Shiva"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687291560,"creation_date":1640256859,"answer_id":70461126,"question_id":70397716,"body_markdown":"Short answer, Olingo 2 JPAProcessor will query the database to only fetch limited data if $filter and $orderby are specified.\r\n\r\nTLDR;\r\n\r\nThere are two things we need to consider here. Apache Olingo is a framework which allows people to implement OData Server and Client in Java, bare bones it will just provide you with the Abstract Classes and Interfaces which you implement `OdataProcessors`, however one wants.\r\n\r\nNow coming to the second point there is a JPA Implementation also provided in the Olingo Project, which you can locate [here][1]\r\n\r\nTo answer your question, lets dig into the code of this project to see, how its implemented.\r\n\r\nWe will have to start with `JPAProcessorImpl` and hop into `process(final GetEntitySetUriInfo uriParserResultView)`, [this is where][2] the query and the actuals of how the data is fetched in the database are implemented.\r\n\r\nAt line 150 the actual query is already built,so if you pass `$filter`(where clause) and `$orderby`, we can see the values are actually being passed to the database and are baked in query \r\n\r\n\r\n[![Olingo Debugging screenshot][3]][3] \r\n\r\n\r\n  [1]: https://github.com/apache/olingo-odata2/tree/master/odata2-jpa-processor\r\n  [2]: https://github.com/apache/olingo-odata2/blob/991604d2e74b3becab9240329e305948042c496d/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAProcessorImpl.java#L130\r\n  [3]: https://i.stack.imgur.com/bph1r.png","title":"Does Java Apache Olingo query the database itself?","body":"<p>Short answer, Olingo 2 JPAProcessor will query the database to only fetch limited data if $filter and $orderby are specified.</p>\n<p>TLDR;</p>\n<p>There are two things we need to consider here. Apache Olingo is a framework which allows people to implement OData Server and Client in Java, bare bones it will just provide you with the Abstract Classes and Interfaces which you implement <code>OdataProcessors</code>, however one wants.</p>\n<p>Now coming to the second point there is a JPA Implementation also provided in the Olingo Project, which you can locate <a href=\"https://github.com/apache/olingo-odata2/tree/master/odata2-jpa-processor\" rel=\"nofollow noreferrer\">here</a></p>\n<p>To answer your question, lets dig into the code of this project to see, how its implemented.</p>\n<p>We will have to start with <code>JPAProcessorImpl</code> and hop into <code>process(final GetEntitySetUriInfo uriParserResultView)</code>, <a href=\"https://github.com/apache/olingo-odata2/blob/991604d2e74b3becab9240329e305948042c496d/odata2-jpa-processor/jpa-core/src/main/java/org/apache/olingo/odata2/jpa/processor/core/access/data/JPAProcessorImpl.java#L130\" rel=\"nofollow noreferrer\">this is where</a> the query and the actuals of how the data is fetched in the database are implemented.</p>\n<p>At line 150 the actual query is already built,so if you pass <code>$filter</code>(where clause) and <code>$orderby</code>, we can see the values are actually being passed to the database and are baked in query</p>\n<p><a href=\"https://i.stack.imgur.com/bph1r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bph1r.png\" alt=\"Olingo Debugging screenshot\" /></a></p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70461126,"answer_count":2,"score":2,"last_activity_date":1687291560,"creation_date":1639767377,"question_id":70397716,"body_markdown":"In .NET C#, we used Odata to filter, page, sort the database results from SQL database. Odata in .NET would actually go into the database, and query WHERE, ORDER By Filters to database, instead of extracting all the database results, and applying filtering on the api memory.\r\n\r\nI am curious of Java Apache Olingo, queries the database internally or applies filtering on the API memory set.\r\n\r\n\r\n**Resources:**\r\n\r\nhttps://www.odata.org/libraries/ \r\n\r\nhttps://www.odata.org/documentation/odata-version-2-0/uri-conventions/\r\n","title":"Does Java Apache Olingo query the database itself?","body":"<p>In .NET C#, we used Odata to filter, page, sort the database results from SQL database. Odata in .NET would actually go into the database, and query WHERE, ORDER By Filters to database, instead of extracting all the database results, and applying filtering on the api memory.</p>\n<p>I am curious of Java Apache Olingo, queries the database internally or applies filtering on the API memory set.</p>\n<p><strong>Resources:</strong></p>\n<p><a href=\"https://www.odata.org/libraries/\" rel=\"nofollow noreferrer\">https://www.odata.org/libraries/</a></p>\n<p><a href=\"https://www.odata.org/documentation/odata-version-2-0/uri-conventions/\" rel=\"nofollow noreferrer\">https://www.odata.org/documentation/odata-version-2-0/uri-conventions/</a></p>\n"},{"tags":["java","http"],"answers":[{"tags":[],"owner":{"account_id":24055,"reputation":5044,"user_id":60892,"accept_rate":42,"display_name":"Mystic"},"down_vote_count":1,"up_vote_count":94,"is_accepted":false,"score":93,"last_activity_date":1239201710,"creation_date":1239201227,"answer_id":730307,"question_id":730283,"body_markdown":"Well, there are static constants of the exact integer values in the [HttpURLConnection ][1]class\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/net/HttpURLConnection.html","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Well, there are static constants of the exact integer values in the <a href=\"http://java.sun.com/javase/6/docs/api/java/net/HttpURLConnection.html\" rel=\"noreferrer\">HttpURLConnection </a>class</p>\n"},{"tags":[],"owner":{"account_id":28214,"reputation":305260,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"down_vote_count":1,"up_vote_count":347,"is_accepted":true,"score":346,"last_activity_date":1557911326,"creation_date":1239201565,"answer_id":730341,"question_id":730283,"body_markdown":"I don&#39;t think there&#39;s one that&#39;s complete in the standard Java classes; **[`HttpURLConnection`][1]** is missing quite a few codes, like `HTTP 100/Continue`.  \r\n\r\nThere&#39;s a complete list in the Apache HttpComponents, though:  \r\n[**`org.apache.http.HttpStatus`**][4] (replaced [**`org.apache.commons.HttpClient.HttpStatus`**][2] from Apache Http Client, which reached [end of life][3])\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html\r\n  [2]: http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/HttpStatus.html\r\n  [3]: http://hc.apache.org/httpclient-3.x/\r\n  [4]: http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/HttpStatus.html","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>I don't think there's one that's complete in the standard Java classes; <strong><a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html\" rel=\"noreferrer\"><code>HttpURLConnection</code></a></strong> is missing quite a few codes, like <code>HTTP 100/Continue</code>.  </p>\n\n<p>There's a complete list in the Apache HttpComponents, though:<br>\n<a href=\"http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/HttpStatus.html\" rel=\"noreferrer\"><strong><code>org.apache.http.HttpStatus</code></strong></a> (replaced <a href=\"http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/HttpStatus.html\" rel=\"noreferrer\"><strong><code>org.apache.commons.HttpClient.HttpStatus</code></strong></a> from Apache Http Client, which reached <a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"noreferrer\">end of life</a>)</p>\n"},{"tags":[],"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1488364972,"creation_date":1239201813,"answer_id":730356,"question_id":730283,"body_markdown":"The Interface `javax.servlet.http.HttpServletResponse` from the servlet API has all the response codes in the form of `int` constants names `SC_&lt;description&gt;`. See [http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>The Interface <code>javax.servlet.http.HttpServletResponse</code> from the servlet API has all the response codes in the form of <code>int</code> constants names <code>SC_&lt;description&gt;</code>. See <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html\" rel=\"noreferrer\">http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html</a></p>\n"},{"tags":[],"owner":{"account_id":31256,"reputation":1176,"user_id":85711,"accept_rate":71,"display_name":"Greg Noe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1239213254,"creation_date":1239213254,"answer_id":731082,"question_id":730283,"body_markdown":"Also check out the Restlet Status class:\r\n\r\n[http://www.restlet.org/documentation/1.1/api/org/restlet/data/Status.html][1]\r\n\r\n\r\n  [1]: http://www.restlet.org/documentation/1.1/api/org/restlet/data/Status.html","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Also check out the Restlet Status class:</p>\n\n<p><a href=\"http://www.restlet.org/documentation/1.1/api/org/restlet/data/Status.html\" rel=\"nofollow noreferrer\">http://www.restlet.org/documentation/1.1/api/org/restlet/data/Status.html</a></p>\n"},{"tags":[],"owner":{"account_id":94943,"reputation":2506,"user_id":258896,"accept_rate":50,"display_name":"Ed J"},"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1264465642,"creation_date":1264465642,"answer_id":2136767,"question_id":730283,"body_markdown":"If you&#39;re using Spring, the 3.x release has what your looking for:\r\nhttp://static.springsource.org/spring/docs/3.0.x/api/org/springframework/http/HttpStatus.html\r\n","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>If you're using Spring, the 3.x release has what your looking for:\n<a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/http/HttpStatus.html\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/http/HttpStatus.html</a></p>\n"},{"tags":[],"owner":{"account_id":322051,"reputation":2164,"user_id":641238,"accept_rate":75,"display_name":"Andr&#233;s Canavesi"},"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1346856656,"creation_date":1346856656,"answer_id":12284176,"question_id":730283,"body_markdown":"Use javax.servlet.http.HttpServletResponse class\r\n\r\nExample:\r\n\r\n    javax.servlet.http.HttpServletResponse.SC_UNAUTHORIZED //401\r\n    javax.servlet.http.HttpServletResponse.SC_INTERNAL_SERVER_ERROR //500","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Use javax.servlet.http.HttpServletResponse class</p>\n\n<p>Example:</p>\n\n<pre><code>javax.servlet.http.HttpServletResponse.SC_UNAUTHORIZED //401\njavax.servlet.http.HttpServletResponse.SC_INTERNAL_SERVER_ERROR //500\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363731114,"creation_date":1363731114,"answer_id":15511520,"question_id":730283,"body_markdown":"The best provider for http status code constants is likely to be Jetty&#39;s org.eclipse.jetty.http.HttpStatus class because:\r\n\r\n* there is a javadoc package in maven which is important if you search for the constant and only know the number -&gt; just open the api docs page and search for the number\r\n* the constants contain the status code number itself.\r\n\r\nOnly thing I would improve: put the status code number in front of the text description in order to make auto-completion lookup more convient when you are starting with the code.","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>The best provider for http status code constants is likely to be Jetty's org.eclipse.jetty.http.HttpStatus class because:</p>\n\n<ul>\n<li>there is a javadoc package in maven which is important if you search for the constant and only know the number -> just open the api docs page and search for the number</li>\n<li>the constants contain the status code number itself.</li>\n</ul>\n\n<p>Only thing I would improve: put the status code number in front of the text description in order to make auto-completion lookup more convient when you are starting with the code.</p>\n"},{"tags":[],"owner":{"account_id":1309153,"reputation":285,"user_id":1257528,"accept_rate":60,"display_name":"ak123"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1373556429,"creation_date":1373555312,"answer_id":17597053,"question_id":730283,"body_markdown":"Another option is to use `HttpStatus` class from the Apache commons-httpclient which provides you the various Http statuses as constants.","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Another option is to use <code>HttpStatus</code> class from the Apache commons-httpclient which provides you the various Http statuses as constants.</p>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1419704688,"creation_date":1419704688,"answer_id":27670212,"question_id":730283,"body_markdown":"If you are using **Netty**, you can use:\r\n\r\n - io.netty.handler.codec.http.[**HttpResponseStatus**][1]\r\n\r\n\r\n  [1]: http://netty.io/4.0/api/io/netty/handler/codec/http/HttpResponseStatus.html\r\n","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>If you are using <strong>Netty</strong>, you can use:</p>\n\n<ul>\n<li>io.netty.handler.codec.http.<a href=\"http://netty.io/4.0/api/io/netty/handler/codec/http/HttpResponseStatus.html\" rel=\"noreferrer\"><strong>HttpResponseStatus</strong></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1036387,"reputation":4538,"user_id":1043563,"display_name":"David Avendasora"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1446740701,"creation_date":1446740701,"answer_id":33549759,"question_id":730283,"body_markdown":"Everyone seems to be ignoring the &quot;enum type&quot; portion of your question.\r\n\r\nWhile there is no canonical source for HTTP Status Codes there is an simple way to *add* any missing Status constants you need to those provided by `javax.ws.rs.core.Response.Status` without adding any additional dependencies to your project.\r\n\r\n`javax.ws.rs.core.Response.Status` is just one implementation of the `javax.ws.rs.core.Response.StatusType` interface. You simply need to create your own implementation enum with definitions for the Status Codes that you want. \r\n\r\nCore libraries like Javax, Jersey, etc. are written to the *interface* `StatusType` not the *implementation* `Status` (or they certainly **should** be). Since your new Status enum implements `StatusType` it can be used anyplace you would use a `javax.ws.rs.core.Response.Status` constant.\r\n\r\nJust remember that your own code should also be written to the `StatusType` interface. This will enable you to use both your own Status Codes along side the &quot;standard&quot; ones.\r\n\r\nHere&#39;s a gist with a simple implementation with constants defined for the &quot;Informational 1xx&quot; Status Codes: https://gist.github.com/avendasora/a5ed9acf6b1ee709a14a","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Everyone seems to be ignoring the \"enum type\" portion of your question.</p>\n\n<p>While there is no canonical source for HTTP Status Codes there is an simple way to <em>add</em> any missing Status constants you need to those provided by <code>javax.ws.rs.core.Response.Status</code> without adding any additional dependencies to your project.</p>\n\n<p><code>javax.ws.rs.core.Response.Status</code> is just one implementation of the <code>javax.ws.rs.core.Response.StatusType</code> interface. You simply need to create your own implementation enum with definitions for the Status Codes that you want. </p>\n\n<p>Core libraries like Javax, Jersey, etc. are written to the <em>interface</em> <code>StatusType</code> not the <em>implementation</em> <code>Status</code> (or they certainly <strong>should</strong> be). Since your new Status enum implements <code>StatusType</code> it can be used anyplace you would use a <code>javax.ws.rs.core.Response.Status</code> constant.</p>\n\n<p>Just remember that your own code should also be written to the <code>StatusType</code> interface. This will enable you to use both your own Status Codes along side the \"standard\" ones.</p>\n\n<p>Here's a gist with a simple implementation with constants defined for the \"Informational 1xx\" Status Codes: <a href=\"https://gist.github.com/avendasora/a5ed9acf6b1ee709a14a\" rel=\"noreferrer\">https://gist.github.com/avendasora/a5ed9acf6b1ee709a14a</a></p>\n"},{"tags":[],"owner":{"account_id":6279192,"reputation":300,"user_id":4880874,"display_name":"Maira Bay"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466799931,"creation_date":1466799931,"answer_id":38021562,"question_id":730283,"body_markdown":"1) To get the reason **text** if you only have the code, you can use:\r\n\r\n    org.apache.http.impl.EnglishReasonPhraseCatalog.INSTANCE.getReason(httpCode,null)\r\n\r\nWhere `httpCode` would be the reason code that you got from the HTTP response.\r\n\r\nSee https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/impl/EnglishReasonPhraseCatalog.html for details\r\n\r\n2) To get the reason **code** if you only have the text, you can use `BasicHttpResponse`.\r\n\r\nSee here for details: https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/message/BasicHttpResponse.html","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>1) To get the reason <strong>text</strong> if you only have the code, you can use:</p>\n\n<pre><code>org.apache.http.impl.EnglishReasonPhraseCatalog.INSTANCE.getReason(httpCode,null)\n</code></pre>\n\n<p>Where <code>httpCode</code> would be the reason code that you got from the HTTP response.</p>\n\n<p>See <a href=\"https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/impl/EnglishReasonPhraseCatalog.html\" rel=\"noreferrer\">https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/impl/EnglishReasonPhraseCatalog.html</a> for details</p>\n\n<p>2) To get the reason <strong>code</strong> if you only have the text, you can use <code>BasicHttpResponse</code>.</p>\n\n<p>See here for details: <a href=\"https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/message/BasicHttpResponse.html\" rel=\"noreferrer\">https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/message/BasicHttpResponse.html</a></p>\n"},{"tags":[],"owner":{"account_id":7755596,"reputation":917,"user_id":6573838,"display_name":"Christian S."},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1613507307,"creation_date":1613452470,"answer_id":66219005,"question_id":730283,"body_markdown":"Here&#39;s an enum with status codes and their descriptions that (at time of writing) corresponds to the [HTTP status code registry](https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml).\r\n\r\nNote that the registry might get updated, and that sometimes unofficial status codes are used.\r\n\r\n```lang-java\r\npublic enum HttpStatusCode {\r\n\r\n    //1xx: Informational\r\n    CONTINUE(100, &quot;Continue&quot;),\r\n    SWITCHING_PROTOCOLS(101, &quot;Switching Protocols&quot;),\r\n    PROCESSING(102, &quot;Processing&quot;),\r\n    EARLY_HINTS(103, &quot;Early Hints&quot;),\r\n\r\n    //2xx: Success\r\n    OK(200, &quot;OK&quot;),\r\n    CREATED(201, &quot;Created&quot;),\r\n    ACCEPTED(202, &quot;Accepted&quot;),\r\n    NON_AUTHORITATIVE_INFORMATION(203, &quot;Non-Authoritative Information&quot;),\r\n    NO_CONTENT(204, &quot;No Content&quot;),\r\n    RESET_CONTENT(205, &quot;Reset Content&quot;),\r\n    PARTIAL_CONTENT(206, &quot;Partial Content&quot;),\r\n    MULTI_STATUS(207, &quot;Multi-Status&quot;),\r\n    ALREADY_REPORTED(208, &quot;Already Reported&quot;),\r\n    IM_USED(226, &quot;IM Used&quot;),\r\n\r\n    //3xx: Redirection\r\n    MULTIPLE_CHOICES(300, &quot;Multiple Choice&quot;),\r\n    MOVED_PERMANENTLY(301, &quot;Moved Permanently&quot;),\r\n    FOUND(302, &quot;Found&quot;),\r\n    SEE_OTHER(303, &quot;See Other&quot;),\r\n    NOT_MODIFIED(304, &quot;Not Modified&quot;),\r\n    USE_PROXY(305, &quot;Use Proxy&quot;),\r\n    TEMPORARY_REDIRECT(307, &quot;Temporary Redirect&quot;),\r\n    PERMANENT_REDIRECT(308, &quot;Permanent Redirect&quot;),\r\n\r\n    //4xx: Client Error\r\n    BAD_REQUEST(400, &quot;Bad Request&quot;),\r\n    UNAUTHORIZED(401, &quot;Unauthorized&quot;),\r\n    PAYMENT_REQUIRED(402, &quot;Payment Required&quot;),\r\n    FORBIDDEN(403, &quot;Forbidden&quot;),\r\n    NOT_FOUND(404, &quot;Not Found&quot;),\r\n    METHOD_NOT_ALLOWED(405, &quot;Method Not Allowed&quot;),\r\n    NOT_ACCEPTABLE(406, &quot;Not Acceptable&quot;),\r\n    PROXY_AUTHENTICATION_REQUIRED(407, &quot;Proxy Authentication Required&quot;),\r\n    REQUEST_TIMEOUT(408, &quot;Request Timeout&quot;),\r\n    CONFLICT(409, &quot;Conflict&quot;),\r\n    GONE(410, &quot;Gone&quot;),\r\n    LENGTH_REQUIRED(411, &quot;Length Required&quot;),\r\n    PRECONDITION_FAILED(412, &quot;Precondition Failed&quot;),\r\n    REQUEST_TOO_LONG(413, &quot;Payload Too Large&quot;),\r\n    REQUEST_URI_TOO_LONG(414, &quot;URI Too Long&quot;),\r\n    UNSUPPORTED_MEDIA_TYPE(415, &quot;Unsupported Media Type&quot;),\r\n    REQUESTED_RANGE_NOT_SATISFIABLE(416, &quot;Range Not Satisfiable&quot;),\r\n    EXPECTATION_FAILED(417, &quot;Expectation Failed&quot;),\r\n    MISDIRECTED_REQUEST(421, &quot;Misdirected Request&quot;),\r\n    UNPROCESSABLE_ENTITY(422, &quot;Unprocessable Entity&quot;),\r\n    LOCKED(423, &quot;Locked&quot;),\r\n    FAILED_DEPENDENCY(424, &quot;Failed Dependency&quot;),\r\n    TOO_EARLY(425, &quot;Too Early&quot;),\r\n    UPGRADE_REQUIRED(426, &quot;Upgrade Required&quot;),\r\n    PRECONDITION_REQUIRED(428, &quot;Precondition Required&quot;),\r\n    TOO_MANY_REQUESTS(429, &quot;Too Many Requests&quot;),\r\n    REQUEST_HEADER_FIELDS_TOO_LARGE(431, &quot;Request Header Fields Too Large&quot;),\r\n    UNAVAILABLE_FOR_LEGAL_REASONS(451, &quot;Unavailable For Legal Reasons&quot;),\r\n\r\n    //5xx: Server Error\r\n    INTERNAL_SERVER_ERROR(500, &quot;Internal Server Error&quot;),\r\n    NOT_IMPLEMENTED(501, &quot;Not Implemented&quot;),\r\n    BAD_GATEWAY(502, &quot;Bad Gateway&quot;),\r\n    SERVICE_UNAVAILABLE(503, &quot;Service Unavailable&quot;),\r\n    GATEWAY_TIMEOUT(504, &quot;Gateway Timeout&quot;),\r\n    HTTP_VERSION_NOT_SUPPORTED(505, &quot;HTTP Version Not Supported&quot;),\r\n    VARIANT_ALSO_NEGOTIATES(506, &quot;Variant Also Negotiates&quot;),\r\n    INSUFFICIENT_STORAGE(507, &quot;Insufficient Storage&quot;),\r\n    LOOP_DETECTED(508, &quot;Loop Detected&quot;),\r\n    NOT_EXTENDED(510, &quot;Not Extended&quot;),\r\n    NETWORK_AUTHENTICATION_REQUIRED(511, &quot;Network Authentication Required&quot;);\r\n\r\n    private final int value;\r\n    private final String description;\r\n\r\n    HttpStatusCode(int value, String description) {\r\n        this.value = value;\r\n        this.description = description;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return value + &quot; &quot; + description;\r\n    }\r\n\r\n    public static HttpStatusCode getByValue(int value) {\r\n        for(HttpStatusCode status : values()) {\r\n            if(status.value == value) return status;\r\n        }\r\n        throw new IllegalArgumentException(&quot;Invalid status code: &quot; + value);\r\n    }\r\n}\r\n```","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Here's an enum with status codes and their descriptions that (at time of writing) corresponds to the <a href=\"https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml\" rel=\"noreferrer\">HTTP status code registry</a>.</p>\n<p>Note that the registry might get updated, and that sometimes unofficial status codes are used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum HttpStatusCode {\n\n    //1xx: Informational\n    CONTINUE(100, &quot;Continue&quot;),\n    SWITCHING_PROTOCOLS(101, &quot;Switching Protocols&quot;),\n    PROCESSING(102, &quot;Processing&quot;),\n    EARLY_HINTS(103, &quot;Early Hints&quot;),\n\n    //2xx: Success\n    OK(200, &quot;OK&quot;),\n    CREATED(201, &quot;Created&quot;),\n    ACCEPTED(202, &quot;Accepted&quot;),\n    NON_AUTHORITATIVE_INFORMATION(203, &quot;Non-Authoritative Information&quot;),\n    NO_CONTENT(204, &quot;No Content&quot;),\n    RESET_CONTENT(205, &quot;Reset Content&quot;),\n    PARTIAL_CONTENT(206, &quot;Partial Content&quot;),\n    MULTI_STATUS(207, &quot;Multi-Status&quot;),\n    ALREADY_REPORTED(208, &quot;Already Reported&quot;),\n    IM_USED(226, &quot;IM Used&quot;),\n\n    //3xx: Redirection\n    MULTIPLE_CHOICES(300, &quot;Multiple Choice&quot;),\n    MOVED_PERMANENTLY(301, &quot;Moved Permanently&quot;),\n    FOUND(302, &quot;Found&quot;),\n    SEE_OTHER(303, &quot;See Other&quot;),\n    NOT_MODIFIED(304, &quot;Not Modified&quot;),\n    USE_PROXY(305, &quot;Use Proxy&quot;),\n    TEMPORARY_REDIRECT(307, &quot;Temporary Redirect&quot;),\n    PERMANENT_REDIRECT(308, &quot;Permanent Redirect&quot;),\n\n    //4xx: Client Error\n    BAD_REQUEST(400, &quot;Bad Request&quot;),\n    UNAUTHORIZED(401, &quot;Unauthorized&quot;),\n    PAYMENT_REQUIRED(402, &quot;Payment Required&quot;),\n    FORBIDDEN(403, &quot;Forbidden&quot;),\n    NOT_FOUND(404, &quot;Not Found&quot;),\n    METHOD_NOT_ALLOWED(405, &quot;Method Not Allowed&quot;),\n    NOT_ACCEPTABLE(406, &quot;Not Acceptable&quot;),\n    PROXY_AUTHENTICATION_REQUIRED(407, &quot;Proxy Authentication Required&quot;),\n    REQUEST_TIMEOUT(408, &quot;Request Timeout&quot;),\n    CONFLICT(409, &quot;Conflict&quot;),\n    GONE(410, &quot;Gone&quot;),\n    LENGTH_REQUIRED(411, &quot;Length Required&quot;),\n    PRECONDITION_FAILED(412, &quot;Precondition Failed&quot;),\n    REQUEST_TOO_LONG(413, &quot;Payload Too Large&quot;),\n    REQUEST_URI_TOO_LONG(414, &quot;URI Too Long&quot;),\n    UNSUPPORTED_MEDIA_TYPE(415, &quot;Unsupported Media Type&quot;),\n    REQUESTED_RANGE_NOT_SATISFIABLE(416, &quot;Range Not Satisfiable&quot;),\n    EXPECTATION_FAILED(417, &quot;Expectation Failed&quot;),\n    MISDIRECTED_REQUEST(421, &quot;Misdirected Request&quot;),\n    UNPROCESSABLE_ENTITY(422, &quot;Unprocessable Entity&quot;),\n    LOCKED(423, &quot;Locked&quot;),\n    FAILED_DEPENDENCY(424, &quot;Failed Dependency&quot;),\n    TOO_EARLY(425, &quot;Too Early&quot;),\n    UPGRADE_REQUIRED(426, &quot;Upgrade Required&quot;),\n    PRECONDITION_REQUIRED(428, &quot;Precondition Required&quot;),\n    TOO_MANY_REQUESTS(429, &quot;Too Many Requests&quot;),\n    REQUEST_HEADER_FIELDS_TOO_LARGE(431, &quot;Request Header Fields Too Large&quot;),\n    UNAVAILABLE_FOR_LEGAL_REASONS(451, &quot;Unavailable For Legal Reasons&quot;),\n\n    //5xx: Server Error\n    INTERNAL_SERVER_ERROR(500, &quot;Internal Server Error&quot;),\n    NOT_IMPLEMENTED(501, &quot;Not Implemented&quot;),\n    BAD_GATEWAY(502, &quot;Bad Gateway&quot;),\n    SERVICE_UNAVAILABLE(503, &quot;Service Unavailable&quot;),\n    GATEWAY_TIMEOUT(504, &quot;Gateway Timeout&quot;),\n    HTTP_VERSION_NOT_SUPPORTED(505, &quot;HTTP Version Not Supported&quot;),\n    VARIANT_ALSO_NEGOTIATES(506, &quot;Variant Also Negotiates&quot;),\n    INSUFFICIENT_STORAGE(507, &quot;Insufficient Storage&quot;),\n    LOOP_DETECTED(508, &quot;Loop Detected&quot;),\n    NOT_EXTENDED(510, &quot;Not Extended&quot;),\n    NETWORK_AUTHENTICATION_REQUIRED(511, &quot;Network Authentication Required&quot;);\n\n    private final int value;\n    private final String description;\n\n    HttpStatusCode(int value, String description) {\n        this.value = value;\n        this.description = description;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    @Override\n    public String toString() {\n        return value + &quot; &quot; + description;\n    }\n\n    public static HttpStatusCode getByValue(int value) {\n        for(HttpStatusCode status : values()) {\n            if(status.value == value) return status;\n        }\n        throw new IllegalArgumentException(&quot;Invalid status code: &quot; + value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7606894,"reputation":11,"user_id":5769264,"display_name":"Ye Gaung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632381235,"creation_date":1632381235,"answer_id":69295459,"question_id":730283,"body_markdown":"Please see the following enum from the Spring framework which provides all the HTTP response status code\r\n\r\n  HttpStatus.values()","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>Please see the following enum from the Spring framework which provides all the HTTP response status code</p>\n<p>HttpStatus.values()</p>\n"},{"tags":[],"owner":{"account_id":28861061,"reputation":1,"user_id":22104858,"display_name":"Minh Chien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687291355,"creation_date":1687291355,"answer_id":76518046,"question_id":730283,"body_markdown":"pls try HttpStatus.ACCEPTED.value()\r\n","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>pls try HttpStatus.ACCEPTED.value()</p>\n"}],"owner":{"account_id":32082,"reputation":3448,"user_id":88620,"display_name":"Zoltan Szilagyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242095,"favorite_count":0,"down_vote_count":0,"up_vote_count":329,"accepted_answer_id":730341,"answer_count":14,"score":329,"last_activity_date":1687291355,"creation_date":1239201052,"question_id":730283,"body_markdown":"I&#39;m wondering if there is an enum type in some standard Java class library that defines symbolic constants for all of the valid HTTP response codes. It should support conversion to/from the corresponding integer values.\r\n\r\nI&#39;m debugging some Java code that uses `javax.ws.rs.core.Response.Status`. It works, but it only defines about half of the valid HTTP response codes.","title":"Does Java have a complete enum for HTTP response codes?","body":"<p>I'm wondering if there is an enum type in some standard Java class library that defines symbolic constants for all of the valid HTTP response codes. It should support conversion to/from the corresponding integer values.</p>\n<p>I'm debugging some Java code that uses <code>javax.ws.rs.core.Response.Status</code>. It works, but it only defines about half of the valid HTTP response codes.</p>\n"},{"tags":["java","excel","apache-poi","outputstream","chunks"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687054556,"post_id":76498705,"comment_id":134883004,"body_markdown":"The _stream closed_ error is from _workbook_, or _outputStream_?","body":"The <i>stream closed</i> error is from <i>workbook</i>, or <i>outputStream</i>?"},{"owner":{"account_id":18809844,"reputation":1,"user_id":22085503,"display_name":"master"},"score":0,"creation_date":1687059786,"post_id":76498705,"comment_id":134883218,"body_markdown":"The error occurs in the workbook when it enters the second iteration of the while loop.","body":"The error occurs in the workbook when it enters the second iteration of the while loop."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687150612,"creation_date":1687064720,"answer_id":76499099,"question_id":76498705,"body_markdown":"What you are trying to do is not possible. At least not using [Apache POI](https://poi.apache.org/) up to now.\r\n\r\nOffice Open XML files, such as `*.xlsx` files too, are ZIP archives containing the data in a special internally file structure. The ZIP archive contains `*.xml` files and other files too in a special directory structure. The different parts are related to each other. The relations are stored in `*.rel` files storing special relation-XML. One can see this if one simply unzips the  `*.xlsx` file for example. 7-Zip can do this by default, using other ZIP-Software one needs renaming the file `*.zip`.\r\n\r\nAfter knowing this and have seen this structure, think about how to fill this chunk by chunk considering all the relations. Conclusion: Very hard to nearly impossible.\r\n\r\nOpening a `Workbook` object of any kind opens that ZIP archive and reads internally stored files into memory. And `Workbook.write` writes the complete internally ZIP content into the file. So after `Workbook.write` the workbook object is not more usable until it gets opened again. Thus using it in a loop like: put first content in, write, put second content in, write, ... is not possible. It would must be like: open workbook, put first content in, write, close workbook, open workbook, put second content in, write, close workbook, ... But that contradicts your needs as opening the workbook always reads all content into memory.\r\n\r\nBut why not simply using `SXSSFWorkbook` as thought by the programmers? See [SXSSF (Streaming Usermodel API)](https://poi.apache.org/components/spreadsheet/how-to.html#sxssf). Using the default properties this does exactly what you are trying to do. It only remains 100 rows of sheet data in memory. Other sheet data gets written in a temporary sheet XML file. Only other data and relations remaining in memory permanently. When done `SXSSFWorkbook.write` composes the ZIP archive using the temporary stored sheet data.\r\n\r\nOf course `SXSSFWorkbook.write` also needs to write the whole `*.xlsx`-ZIP-archive then. So, if your problem is about delivering a big file to a client, then store the `*.xlsx` file server-side using `SXSSFWorkbook.write`. Then think about it as a big binary file to deliver (provide to download) to the client. There should be default approaches to solve that kind of task as that is a default kind of task. Self programming the division into chunks is not necessary and is a bad idea in my opinion.\r\n","title":"Sending files in blocks","body":"<p>What you are trying to do is not possible. At least not using <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a> up to now.</p>\n<p>Office Open XML files, such as <code>*.xlsx</code> files too, are ZIP archives containing the data in a special internally file structure. The ZIP archive contains <code>*.xml</code> files and other files too in a special directory structure. The different parts are related to each other. The relations are stored in <code>*.rel</code> files storing special relation-XML. One can see this if one simply unzips the  <code>*.xlsx</code> file for example. 7-Zip can do this by default, using other ZIP-Software one needs renaming the file <code>*.zip</code>.</p>\n<p>After knowing this and have seen this structure, think about how to fill this chunk by chunk considering all the relations. Conclusion: Very hard to nearly impossible.</p>\n<p>Opening a <code>Workbook</code> object of any kind opens that ZIP archive and reads internally stored files into memory. And <code>Workbook.write</code> writes the complete internally ZIP content into the file. So after <code>Workbook.write</code> the workbook object is not more usable until it gets opened again. Thus using it in a loop like: put first content in, write, put second content in, write, ... is not possible. It would must be like: open workbook, put first content in, write, close workbook, open workbook, put second content in, write, close workbook, ... But that contradicts your needs as opening the workbook always reads all content into memory.</p>\n<p>But why not simply using <code>SXSSFWorkbook</code> as thought by the programmers? See <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html#sxssf\" rel=\"nofollow noreferrer\">SXSSF (Streaming Usermodel API)</a>. Using the default properties this does exactly what you are trying to do. It only remains 100 rows of sheet data in memory. Other sheet data gets written in a temporary sheet XML file. Only other data and relations remaining in memory permanently. When done <code>SXSSFWorkbook.write</code> composes the ZIP archive using the temporary stored sheet data.</p>\n<p>Of course <code>SXSSFWorkbook.write</code> also needs to write the whole <code>*.xlsx</code>-ZIP-archive then. So, if your problem is about delivering a big file to a client, then store the <code>*.xlsx</code> file server-side using <code>SXSSFWorkbook.write</code>. Then think about it as a big binary file to deliver (provide to download) to the client. There should be default approaches to solve that kind of task as that is a default kind of task. Self programming the division into chunks is not necessary and is a bad idea in my opinion.</p>\n"},{"tags":[],"owner":{"account_id":5459362,"reputation":565,"user_id":4341933,"accept_rate":100,"display_name":"Alexander Mladzhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687071669,"creation_date":1687071669,"answer_id":76499392,"question_id":76498705,"body_markdown":"You can use another approach. You can split the excel file into binary blocks and send them. The receiving side can then put them together based on name of each block\r\n\r\nSender:\r\n\r\n    public class ExcelSplitter {\r\n        public static void main(String[] args) {\r\n            String inputFilePath = &quot;input.xlsx&quot;;\r\n            String outputFolderPath = &quot;output&quot;;\r\n            int blockSize = 1024; // Size of each binary block in bytes\r\n    \r\n            try {\r\n                // Load the Excel file\r\n                FileInputStream fileInputStream = new FileInputStream(inputFilePath);\r\n                Workbook workbook = WorkbookFactory.create(fileInputStream);\r\n                \r\n                // Iterate over each sheet in the workbook\r\n                for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); sheetIndex++) {\r\n                    Sheet sheet = workbook.getSheetAt(sheetIndex);\r\n                    String sheetName = sheet.getSheetName();\r\n    \r\n                    // Convert the sheet to binary blocks\r\n                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                    DataOutputStream dataOutputStream = new DataOutputStream(byteArrayOutputStream);\r\n                    for (Row row : sheet) {\r\n                        for (Cell cell : row) {\r\n                            // Write cell data as bytes to the output stream\r\n                            dataOutputStream.write(cell.toString().getBytes());\r\n                        }\r\n                    }\r\n                    dataOutputStream.close();\r\n    \r\n                    // Split the binary data into blocks\r\n                    byte[] binaryData = byteArrayOutputStream.toByteArray();\r\n                    int numBlocks = (int) Math.ceil((double) binaryData.length / blockSize);\r\n                    for (int blockIndex = 0; blockIndex &lt; numBlocks; blockIndex++) {\r\n                        int startIndex = blockIndex * blockSize;\r\n                        int endIndex = Math.min((blockIndex + 1) * blockSize, binaryData.length);\r\n                        byte[] blockData = new byte[endIndex - startIndex];\r\n                        System.arraycopy(binaryData, startIndex, blockData, 0, blockData.length);\r\n    \r\n                        // Save each binary block as a separate file\r\n                        String outputFilePath = outputFolderPath + &quot;/&quot; + sheetName + &quot;_block&quot; + blockIndex + &quot;.bin&quot;;\r\n                        FileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\r\n                        fileOutputStream.write(blockData);\r\n                        fileOutputStream.close();\r\n                    }\r\n                }\r\n    \r\n                // Close the workbook and input stream\r\n                workbook.close();\r\n                fileInputStream.close();\r\n    \r\n                System.out.println(&quot;Excel file split into binary blocks successfully.&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nReceiver:\r\n\r\n    public class ExcelReconstructor {\r\n        public static void main(String[] args) {\r\n            String inputFolderPath = &quot;input_chunks&quot;;\r\n            String outputFilePath = &quot;output.xlsx&quot;;\r\n            int blockSize = 1024; // Size of each binary block in bytes\r\n    \r\n            try {\r\n                // List all binary chunk files in the input folder\r\n                File folder = new File(inputFolderPath);\r\n                File[] chunkFiles = folder.listFiles((dir, name) -&gt; name.toLowerCase().endsWith(&quot;.bin&quot;));\r\n                \r\n                // Sort the chunk files based on the block index\r\n                List&lt;File&gt; sortedChunkFiles = new ArrayList&lt;&gt;();\r\n                for (int i = 0; i &lt; chunkFiles.length; i++) {\r\n                    sortedChunkFiles.add(null);\r\n                }\r\n                for (File chunkFile : chunkFiles) {\r\n                    String fileName = chunkFile.getName();\r\n                    int blockIndex = Integer.parseInt(fileName.substring(fileName.lastIndexOf(&quot;_block&quot;) + 6, fileName.lastIndexOf(&quot;.&quot;)));\r\n                    sortedChunkFiles.set(blockIndex, chunkFile);\r\n                }\r\n    \r\n                // Create the output file\r\n                FileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\r\n    \r\n                // Concatenate the binary data from each chunk file\r\n                for (File chunkFile : sortedChunkFiles) {\r\n                    FileInputStream fileInputStream = new FileInputStream(chunkFile);\r\n                    byte[] blockData = new byte[blockSize];\r\n                    int bytesRead = fileInputStream.read(blockData);\r\n                    while (bytesRead != -1) {\r\n                        // Write the block data to the output file\r\n                        fileOutputStream.write(blockData, 0, bytesRead);\r\n                        bytesRead = fileInputStream.read(blockData);\r\n                    }\r\n                    fileInputStream.close();\r\n                }\r\n    \r\n                // Close the output file stream\r\n                fileOutputStream.close();\r\n    \r\n                System.out.println(&quot;Binary chunks reconstructed into Excel file successfully.&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Sending files in blocks","body":"<p>You can use another approach. You can split the excel file into binary blocks and send them. The receiving side can then put them together based on name of each block</p>\n<p>Sender:</p>\n<pre><code>public class ExcelSplitter {\n    public static void main(String[] args) {\n        String inputFilePath = &quot;input.xlsx&quot;;\n        String outputFolderPath = &quot;output&quot;;\n        int blockSize = 1024; // Size of each binary block in bytes\n\n        try {\n            // Load the Excel file\n            FileInputStream fileInputStream = new FileInputStream(inputFilePath);\n            Workbook workbook = WorkbookFactory.create(fileInputStream);\n            \n            // Iterate over each sheet in the workbook\n            for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); sheetIndex++) {\n                Sheet sheet = workbook.getSheetAt(sheetIndex);\n                String sheetName = sheet.getSheetName();\n\n                // Convert the sheet to binary blocks\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                DataOutputStream dataOutputStream = new DataOutputStream(byteArrayOutputStream);\n                for (Row row : sheet) {\n                    for (Cell cell : row) {\n                        // Write cell data as bytes to the output stream\n                        dataOutputStream.write(cell.toString().getBytes());\n                    }\n                }\n                dataOutputStream.close();\n\n                // Split the binary data into blocks\n                byte[] binaryData = byteArrayOutputStream.toByteArray();\n                int numBlocks = (int) Math.ceil((double) binaryData.length / blockSize);\n                for (int blockIndex = 0; blockIndex &lt; numBlocks; blockIndex++) {\n                    int startIndex = blockIndex * blockSize;\n                    int endIndex = Math.min((blockIndex + 1) * blockSize, binaryData.length);\n                    byte[] blockData = new byte[endIndex - startIndex];\n                    System.arraycopy(binaryData, startIndex, blockData, 0, blockData.length);\n\n                    // Save each binary block as a separate file\n                    String outputFilePath = outputFolderPath + &quot;/&quot; + sheetName + &quot;_block&quot; + blockIndex + &quot;.bin&quot;;\n                    FileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\n                    fileOutputStream.write(blockData);\n                    fileOutputStream.close();\n                }\n            }\n\n            // Close the workbook and input stream\n            workbook.close();\n            fileInputStream.close();\n\n            System.out.println(&quot;Excel file split into binary blocks successfully.&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Receiver:</p>\n<pre><code>public class ExcelReconstructor {\n    public static void main(String[] args) {\n        String inputFolderPath = &quot;input_chunks&quot;;\n        String outputFilePath = &quot;output.xlsx&quot;;\n        int blockSize = 1024; // Size of each binary block in bytes\n\n        try {\n            // List all binary chunk files in the input folder\n            File folder = new File(inputFolderPath);\n            File[] chunkFiles = folder.listFiles((dir, name) -&gt; name.toLowerCase().endsWith(&quot;.bin&quot;));\n            \n            // Sort the chunk files based on the block index\n            List&lt;File&gt; sortedChunkFiles = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; chunkFiles.length; i++) {\n                sortedChunkFiles.add(null);\n            }\n            for (File chunkFile : chunkFiles) {\n                String fileName = chunkFile.getName();\n                int blockIndex = Integer.parseInt(fileName.substring(fileName.lastIndexOf(&quot;_block&quot;) + 6, fileName.lastIndexOf(&quot;.&quot;)));\n                sortedChunkFiles.set(blockIndex, chunkFile);\n            }\n\n            // Create the output file\n            FileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\n\n            // Concatenate the binary data from each chunk file\n            for (File chunkFile : sortedChunkFiles) {\n                FileInputStream fileInputStream = new FileInputStream(chunkFile);\n                byte[] blockData = new byte[blockSize];\n                int bytesRead = fileInputStream.read(blockData);\n                while (bytesRead != -1) {\n                    // Write the block data to the output file\n                    fileOutputStream.write(blockData, 0, bytesRead);\n                    bytesRead = fileInputStream.read(blockData);\n                }\n                fileInputStream.close();\n            }\n\n            // Close the output file stream\n            fileOutputStream.close();\n\n            System.out.println(&quot;Binary chunks reconstructed into Excel file successfully.&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18809844,"reputation":1,"user_id":22085503,"display_name":"master"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687291202,"creation_date":1687051022,"question_id":76498705,"body_markdown":"I have a problem sending an Excel file in blocks. I have this code that is supposed to do this, and it works fine up to a certain point. However, the issue is that it only writes the first 100 records. After that, the file size remains the same as if it had all 10,000 records, but when opened, it only has 100 records.\r\n\r\n```\r\n@Override\r\npublic void generateAndSendExcelChunks(ServletOutputStream outputStream) throws IOException {\r\n    Workbook workbook = new SXSSFWorkbook();\r\n\r\n    Sheet sheet = workbook.createSheet(&quot;Datos&quot;);\r\n    int totalRows = 10000;\r\n    int rowsPerChunk = 100;\r\n    int currentRow = 0;\r\n\r\n    while (currentRow &lt; totalRows) {\r\n        int endRow = currentRow + rowsPerChunk;\r\n        endRow = Math.min(endRow, totalRows);\r\n        generateChunkData(sheet, currentRow, endRow);\r\n        workbook.write(outputStream);\r\n        outputStream.flush();\r\n        sheet = workbook.createSheet(&quot;Datos&quot;);\r\n        currentRow = endRow;\r\n    }\r\n\r\n    workbook.close();\r\n}\r\n\r\nprivate void generateChunkData(Sheet sheet, int startRow, int endRow) {\r\n    for (int i = startRow; i &lt; endRow; i++) {\r\n        Row row = sheet.createRow(i);\r\n        Cell cell = row.createCell(0);\r\n        cell.setCellValue(&quot;Valor &quot; + (i + 1));\r\n    }\r\n}\r\n```\r\n\r\nThe line `sheet = workbook.createSheet(&quot;Datos&quot;);` doesn&#39;t work because it tries to create a sheet with a name that already exists. If I try to get a reference to that sheet, it gives a &quot;stream closed&quot; error on this line: `workbook.write(outputStream);`. The intended functionality is to store all the information in the same sheet without overwriting anything.","title":"Sending files in blocks","body":"<p>I have a problem sending an Excel file in blocks. I have this code that is supposed to do this, and it works fine up to a certain point. However, the issue is that it only writes the first 100 records. After that, the file size remains the same as if it had all 10,000 records, but when opened, it only has 100 records.</p>\n<pre><code>@Override\npublic void generateAndSendExcelChunks(ServletOutputStream outputStream) throws IOException {\n    Workbook workbook = new SXSSFWorkbook();\n\n    Sheet sheet = workbook.createSheet(&quot;Datos&quot;);\n    int totalRows = 10000;\n    int rowsPerChunk = 100;\n    int currentRow = 0;\n\n    while (currentRow &lt; totalRows) {\n        int endRow = currentRow + rowsPerChunk;\n        endRow = Math.min(endRow, totalRows);\n        generateChunkData(sheet, currentRow, endRow);\n        workbook.write(outputStream);\n        outputStream.flush();\n        sheet = workbook.createSheet(&quot;Datos&quot;);\n        currentRow = endRow;\n    }\n\n    workbook.close();\n}\n\nprivate void generateChunkData(Sheet sheet, int startRow, int endRow) {\n    for (int i = startRow; i &lt; endRow; i++) {\n        Row row = sheet.createRow(i);\n        Cell cell = row.createCell(0);\n        cell.setCellValue(&quot;Valor &quot; + (i + 1));\n    }\n}\n</code></pre>\n<p>The line <code>sheet = workbook.createSheet(&quot;Datos&quot;);</code> doesn't work because it tries to create a sheet with a name that already exists. If I try to get a reference to that sheet, it gives a &quot;stream closed&quot; error on this line: <code>workbook.write(outputStream);</code>. The intended functionality is to store all the information in the same sheet without overwriting anything.</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1557022991,"post_id":55986874,"comment_id":98625253,"body_markdown":"mvn is not in the path known to visual studio code.","body":"mvn is not in the path known to visual studio code."},{"owner":{"account_id":11889072,"reputation":729,"user_id":8700522,"display_name":"saitama"},"score":2,"creation_date":1557026994,"post_id":55986874,"comment_id":98625708,"body_markdown":"Can you tell me how to set","body":"Can you tell me how to set"},{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1557124817,"post_id":55986874,"comment_id":98646421,"body_markdown":"could you show the system environment varaible screenshot,if mvn -version is running,it means you have set the mvn path already,it&#39;s strange","body":"could you show the system environment varaible screenshot,if mvn -version is running,it means you have set the mvn path already,it&#39;s strange"},{"owner":{"account_id":11889072,"reputation":729,"user_id":8700522,"display_name":"saitama"},"score":0,"creation_date":1557226037,"post_id":55986874,"comment_id":98685498,"body_markdown":"I have set the maven path but still its not running I will attach the screenshot later","body":"I have set the maven path but still its not running I will attach the screenshot later"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1557307641,"post_id":55986874,"comment_id":98717376,"body_markdown":"As per your statement: `MAVEN_JOME : C:\\MAVEN\\apache-maven-3.6.1`, `M2_HOME : C:\\apache-maven-3.6.1`, so my question is are these 2 different folders (C:\\MAVEN\\apache... &amp; C:\\apache....) ? or you have set path in one of them incorrectly?","body":"As per your statement: <code>MAVEN_JOME : C:\\MAVEN\\apache-maven-3.6.1</code>, <code>M2_HOME : C:\\apache-maven-3.6.1</code>, so my question is are these 2 different folders (C:\\MAVEN\\apache... &amp; C:\\apache....) ? or you have set path in one of them incorrectly?"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1557307689,"post_id":55986874,"comment_id":98717408,"body_markdown":"Also, from command line, what is the output for 1. %M2_HOME%\\bin\\mvn and 2. %MAVEN_HOME%\\bin\\mvn ?","body":"Also, from command line, what is the output for 1. %M2_HOME%\\bin\\mvn and 2. %MAVEN_HOME%\\bin\\mvn ?"},{"owner":{"account_id":11889072,"reputation":729,"user_id":8700522,"display_name":"saitama"},"score":0,"creation_date":1557346715,"post_id":55986874,"comment_id":98738352,"body_markdown":"the `MAVEN_HOME :  C:\\apache-maven-3.6.1` and  `M2_HOME : C:\\apache-maven-3.6.1` both are same that was a typing mistake. Sorry for the inconvenience.I&#39;m correcting in the question also.","body":"the <code>MAVEN_HOME :  C:\\apache-maven-3.6.1</code> and  <code>M2_HOME : C:\\apache-maven-3.6.1</code> both are same that was a typing mistake. Sorry for the inconvenience.I&#39;m correcting in the question also."},{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1559703203,"post_id":55986874,"comment_id":99500114,"body_markdown":"Has this issue been resolved ?","body":"Has this issue been resolved ?"},{"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"score":0,"creation_date":1611850073,"post_id":55986874,"comment_id":116588595,"body_markdown":"Just in case this helps someone. I had something similar. I solved it by simply restarting the VS Code. (Just as one needs to start a new CMD in order to recognize a change in environment variables)","body":"Just in case this helps someone. I had something similar. I solved it by simply restarting the VS Code. (Just as one needs to start a new CMD in order to recognize a change in environment variables)"}],"answers":[{"tags":[],"owner":{"account_id":16334241,"reputation":340,"user_id":11796846,"display_name":"KP Singh"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1619103870,"creation_date":1619103870,"answer_id":67215904,"question_id":55986874,"body_markdown":"I fixed this problem by simply restarting VSCode as I had set my PATH variable while my VSCode was running so the changes were not reflected to the VSCode integrated terminal until I restarted it.","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>I fixed this problem by simply restarting VSCode as I had set my PATH variable while my VSCode was running so the changes were not reflected to the VSCode integrated terminal until I restarted it.</p>\n"},{"tags":[],"owner":{"account_id":11495594,"reputation":1,"user_id":8425069,"display_name":"Norbert B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636889767,"creation_date":1636889435,"answer_id":69962547,"question_id":55986874,"body_markdown":"The way I fixed was by changing the exec path in Vs Code settings from CMD to Powershell.\r\n\r\nOpen \r\n\r\n    settings -&gt; features -&gt; terminal\r\n\r\nChange the `windows exec` path from cmd to where you have PowerShell. \r\n\r\nFor example: `C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`\r\n\r\n[Windows exec setting][1]\r\n\r\n  [1]: https://i.stack.imgur.com/j5rYy.png","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>The way I fixed was by changing the exec path in Vs Code settings from CMD to Powershell.</p>\n<p>Open</p>\n<pre><code>settings -&gt; features -&gt; terminal\n</code></pre>\n<p>Change the <code>windows exec</code> path from cmd to where you have PowerShell.</p>\n<p>For example: <code>C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe</code></p>\n<p><a href=\"https://i.stack.imgur.com/j5rYy.png\" rel=\"nofollow noreferrer\">Windows exec setting</a></p>\n"},{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664536376,"creation_date":1657998747,"answer_id":73006994,"question_id":55986874,"body_markdown":"It&#39;s kindy counterintuitive as path has to be pointed to the actual mvn command, instead to a M2_PATH folder. Also once properly pointed, a new error will be shown if your environment is missing proper jdk within JAVA_HOME. The error is trown by maven. Maven plugin is kinda stupid as it will ignore your default JDK configured within settings.json (java.home or/and java.configuration.runtimes properties) and will happly NOT set java for maven. You have to configure it specificly for maven plugin as this:\r\n\r\n    &quot;maven.executable.path&quot;: &quot;c:\\\\apache-maven-3.8.1\\\\bin\\\\mvn&quot;,\r\n    &quot;maven.terminal.customEnv&quot;: [{\r\n            &quot;environmentVariable&quot;: &quot;JAVA_HOME&quot;,                \r\n            &quot;value&quot;: &quot;c:\\\\openjdk-1.8.0_232-redhat&quot;,\r\n    }]\r\n\r\nOf course, both paths should be pointed to proper folders/files in your environment.\r\n\r\n","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>It's kindy counterintuitive as path has to be pointed to the actual mvn command, instead to a M2_PATH folder. Also once properly pointed, a new error will be shown if your environment is missing proper jdk within JAVA_HOME. The error is trown by maven. Maven plugin is kinda stupid as it will ignore your default JDK configured within settings.json (java.home or/and java.configuration.runtimes properties) and will happly NOT set java for maven. You have to configure it specificly for maven plugin as this:</p>\n<pre><code>&quot;maven.executable.path&quot;: &quot;c:\\\\apache-maven-3.8.1\\\\bin\\\\mvn&quot;,\n&quot;maven.terminal.customEnv&quot;: [{\n        &quot;environmentVariable&quot;: &quot;JAVA_HOME&quot;,                \n        &quot;value&quot;: &quot;c:\\\\openjdk-1.8.0_232-redhat&quot;,\n}]\n</code></pre>\n<p>Of course, both paths should be pointed to proper folders/files in your environment.</p>\n"},{"tags":[],"owner":{"account_id":17375206,"reputation":91,"user_id":12588523,"display_name":"armando rael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666692604,"creation_date":1666692604,"answer_id":74192427,"question_id":55986874,"body_markdown":"On Tuesday Oct. 25, 2022 while trying to solve the same problem, I went through all of these previous solutions for Windows and finally had to resort to the official installation docs:\r\n\r\n[Installing Apache Maven][1]\r\n\r\nUnzipped the [download][2] and located the bin directory and manually added that directory location to my: System Properties&gt;Advanced&gt;Environment Variables&gt;&#39;Path&#39;\r\n\r\nFor good measure, restart the computer.\r\n\r\n\r\n  [1]: https://maven.apache.org/install.html\r\n  [2]: https://maven.apache.org/download.cgi","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>On Tuesday Oct. 25, 2022 while trying to solve the same problem, I went through all of these previous solutions for Windows and finally had to resort to the official installation docs:</p>\n<p><a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">Installing Apache Maven</a></p>\n<p>Unzipped the <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">download</a> and located the bin directory and manually added that directory location to my: System Properties&gt;Advanced&gt;Environment Variables&gt;'Path'</p>\n<p>For good measure, restart the computer.</p>\n"},{"tags":[],"owner":{"account_id":16976921,"reputation":497,"user_id":12316388,"display_name":"ChrisoLosoph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687291140,"creation_date":1687291140,"answer_id":76518030,"question_id":55986874,"body_markdown":"I am using Ubuntu 20.0.\r\n\r\nIn my case, I added the path to the Maven binary directory manually to the `$PATH` variable. I accidentally only added it to the environment variables in the shell but not to the user session.\r\n\r\nAlso make sure you are using the official binary that you can download from Maven&#39;s website and not the Ubuntu APT package because that one is too old and did not work for me.\r\n\r\nLet&#39;s assume, the Maven executable has been stored in `~/apache-maven/bin`. Then you can edit `~/.profile` by adding `export PATH+=&quot;:$HOME/apache-maven/bin&quot;`.\r\n\r\nRestart the computer and then, when you login to your profile, `mvn` should be visible by programs as well as VSCode.","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>I am using Ubuntu 20.0.</p>\n<p>In my case, I added the path to the Maven binary directory manually to the <code>$PATH</code> variable. I accidentally only added it to the environment variables in the shell but not to the user session.</p>\n<p>Also make sure you are using the official binary that you can download from Maven's website and not the Ubuntu APT package because that one is too old and did not work for me.</p>\n<p>Let's assume, the Maven executable has been stored in <code>~/apache-maven/bin</code>. Then you can edit <code>~/.profile</code> by adding <code>export PATH+=&quot;:$HOME/apache-maven/bin&quot;</code>.</p>\n<p>Restart the computer and then, when you login to your profile, <code>mvn</code> should be visible by programs as well as VSCode.</p>\n"}],"owner":{"account_id":11889072,"reputation":729,"user_id":8700522,"display_name":"saitama"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18111,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1687291140,"creation_date":1557004588,"question_id":55986874,"body_markdown":"I&#39;m trying to create a maven project with VS Code but when I run the command it says :  \r\n&gt; `&#39;mvn&#39; is not recognized as an internal or external command,operable program or batch file.`\r\n\r\nbut `mvn -version` is running on command prompt\r\n\r\nEnvironment varaible for User :\r\n\r\n`MAVEN_JOME : C:\\apache-maven-3.6.1`,\r\n`M2_HOME : C:\\apache-maven-3.6.1`,\r\n`JAVA_HOME : C:\\Program Files\\Java\\jdk1.8.0_212\\jre` and \r\n\r\nSystem Variables\r\n\r\n`path` is set to `C:\\apache-maven-3.6.1\\bin`, `C:\\Program Files\\Java\\jdk1.8.0_212\\bin` for maven and java respectively.\r\n\r\nThe command  I&#39;m running to create the project is: \r\n`mvn archetype:generate -DgroupId=com.cs.test-project -DartifactId=test-project -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false` [The Reference to Command ](https://stackoverflow.com/questions/46671308/how-to-create-a-java-maven-project-that-works-in-visual-studio-code &quot;This the link to Reference&quot;)  \r\n\r\nAnd the VS Code [Reference to Command ](https://code.visualstudio.com/docs/java/java-project#_generate-project-from-maven-archetype )\r\n\r\n&gt;The same command is running in Command prompt and it created the project successfully on Desktop.","title":"VS Code Showing &#39;mvn&#39; is not recognized as an internal or external command","body":"<p>I'm trying to create a maven project with VS Code but when I run the command it says :  </p>\n\n<blockquote>\n  <p><code>'mvn' is not recognized as an internal or external command,operable program or batch file.</code></p>\n</blockquote>\n\n<p>but <code>mvn -version</code> is running on command prompt</p>\n\n<p>Environment varaible for User :</p>\n\n<p><code>MAVEN_JOME : C:\\apache-maven-3.6.1</code>,\n<code>M2_HOME : C:\\apache-maven-3.6.1</code>,\n<code>JAVA_HOME : C:\\Program Files\\Java\\jdk1.8.0_212\\jre</code> and </p>\n\n<p>System Variables</p>\n\n<p><code>path</code> is set to <code>C:\\apache-maven-3.6.1\\bin</code>, <code>C:\\Program Files\\Java\\jdk1.8.0_212\\bin</code> for maven and java respectively.</p>\n\n<p>The command  I'm running to create the project is: \n<code>mvn archetype:generate -DgroupId=com.cs.test-project -DartifactId=test-project -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false</code> <a href=\"https://stackoverflow.com/questions/46671308/how-to-create-a-java-maven-project-that-works-in-visual-studio-code\" title=\"This the link to Reference\">The Reference to Command </a>  </p>\n\n<p>And the VS Code <a href=\"https://code.visualstudio.com/docs/java/java-project#_generate-project-from-maven-archetype\" rel=\"noreferrer\">Reference to Command </a></p>\n\n<blockquote>\n  <p>The same command is running in Command prompt and it created the project successfully on Desktop.</p>\n</blockquote>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9635,"page":357,"page_size":100}
