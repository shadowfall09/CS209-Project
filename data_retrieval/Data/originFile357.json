{"items":[{"tags":["java","spring","spring-boot","spring-async"],"comments":[{"owner":{"account_id":10769785,"reputation":341,"user_id":7923565,"display_name":"Markus Schreiber"},"score":0,"creation_date":1588935139,"post_id":61676893,"comment_id":109097406,"body_markdown":"You could create your own authenticationToken and set the tenant there, so you would have it available via the SecurityContext. (Just an idea)","body":"You could create your own authenticationToken and set the tenant there, so you would have it available via the SecurityContext. (Just an idea)"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1588936300,"post_id":61676893,"comment_id":109097945,"body_markdown":"What if you split your service into two layers - first has authorization stuff in it and calls second layer, while second is defined as async, and accepts `tenant code` as one of its method parameters?","body":"What if you split your service into two layers - first has authorization stuff in it and calls second layer, while second is defined as async, and accepts <code>tenant code</code> as one of its method parameters?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":2,"creation_date":1588936445,"post_id":61676893,"comment_id":109098015,"body_markdown":"And a tiny improvement: instead of code inside `getCurrentTenantId`, you could initialize `ThreadLocal&lt;S&gt; code = ThreadLocal.withInitial(() -&gt; TENANT_DEFAULT);`","body":"And a tiny improvement: instead of code inside <code>getCurrentTenantId</code>, you could initialize <code>ThreadLocal&lt;S&gt; code = ThreadLocal.withInitial(() -&gt; TENANT_DEFAULT);</code>"},{"owner":{"account_id":2289332,"reputation":5954,"user_id":2012635,"accept_rate":54,"display_name":"drenda"},"score":0,"creation_date":1588939904,"post_id":61676893,"comment_id":109099813,"body_markdown":"@M.Prokhorov thanks for your hints. I wanted to avoid to split the service to be honest. I was looking for a more transparent solution as using Async annotation","body":"@M.Prokhorov thanks for your hints. I wanted to avoid to split the service to be honest. I was looking for a more transparent solution as using Async annotation"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1588940342,"post_id":61676893,"comment_id":109100049,"body_markdown":"Anything involved context sharing in async methods in Spring requires extra leg work, usually on the part of Spring like with security context. I can&#39;t say off the top of my head that you can or cannot replicate behavior with security context. If your `TenantCode` has a meaning of `GrantedAuthority`, you could try putting in in Spring&#39;s `Authorization`, or look at the Spring code that shares contexts to see if you can plug into it.","body":"Anything involved context sharing in async methods in Spring requires extra leg work, usually on the part of Spring like with security context. I can&#39;t say off the top of my head that you can or cannot replicate behavior with security context. If your <code>TenantCode</code> has a meaning of <code>GrantedAuthority</code>, you could try putting in in Spring&#39;s <code>Authorization</code>, or look at the Spring code that shares contexts to see if you can plug into it."}],"answers":[{"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":5,"creation_date":1588936208,"post_id":61677507,"comment_id":109097894,"body_markdown":"Spring doesn&#39;t necessarily create a child thread for each async call, so `Inheritable` TL isn&#39;t guaranteed to work either.","body":"Spring doesn&#39;t necessarily create a child thread for each async call, so <code>Inheritable</code> TL isn&#39;t guaranteed to work either."},{"owner":{"account_id":6837963,"reputation":848,"user_id":5259214,"display_name":"Prakash Boda"},"score":0,"creation_date":1608282204,"post_id":61677507,"comment_id":115540855,"body_markdown":"This does not guaranteed to work. Usually it works untill first corepoolsize calls as thread pool will create new thread until then. Once your corepoolsize threads created it will reuse existing threads in pool so it will not inherit thread local variables even though they are Inheritable. Above solution given by @drenda works fine and neat to implement.","body":"This does not guaranteed to work. Usually it works untill first corepoolsize calls as thread pool will create new thread until then. Once your corepoolsize threads created it will reuse existing threads in pool so it will not inherit thread local variables even though they are Inheritable. Above solution given by @drenda works fine and neat to implement."}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588935260,"creation_date":1588935260,"answer_id":61677507,"question_id":61676893,"body_markdown":"Instead of ThreadLocal you must use InheritableThreadLocal. Then you will see the values from the parent thread.\r\n\r\nAPI Doc: https://docs.oracle.com/javase/8/docs/api/java/lang/InheritableThreadLocal.html\r\n\r\nHere is an article about this in combination with Spring: https://medium.com/@hariohmprasath/async-process-using-spring-and-injecting-user-context-6f1af16e9759\r\n","title":"Spring @Async propagate context information","body":"<p>Instead of ThreadLocal you must use InheritableThreadLocal. Then you will see the values from the parent thread.</p>\n\n<p>API Doc: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/InheritableThreadLocal.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/InheritableThreadLocal.html</a></p>\n\n<p>Here is an article about this in combination with Spring: <a href=\"https://medium.com/@hariohmprasath/async-process-using-spring-and-injecting-user-context-6f1af16e9759\" rel=\"nofollow noreferrer\">https://medium.com/@hariohmprasath/async-process-using-spring-and-injecting-user-context-6f1af16e9759</a></p>\n"},{"comments":[{"owner":{"account_id":13552249,"reputation":189,"user_id":9776794,"display_name":"Eden Li"},"score":0,"creation_date":1671459382,"post_id":61688314,"comment_id":132097366,"body_markdown":"Really helpful! In my case, I want to set RequestContext, so I added this in the TaskDecorator:`RequestAttributes attributes = RequestContextHolder.getRequestAttributes();`","body":"Really helpful! In my case, I want to set RequestContext, so I added this in the TaskDecorator:<code>RequestAttributes attributes = RequestContextHolder.getRequestAttributes();</code>"}],"tags":[],"owner":{"account_id":2289332,"reputation":5954,"user_id":2012635,"accept_rate":54,"display_name":"drenda"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1589280327,"creation_date":1588972995,"answer_id":61688314,"question_id":61676893,"body_markdown":"I ended up to use a TaskDecorator:\r\n\r\n    @Log4j2\r\n    public class MdcTaskDecorator implements TaskDecorator {\r\n    \r\n        @Override\r\n        public Runnable decorate(Runnable runnable) {\r\n            // Right now: Web thread context !\r\n            // (Grab the current thread MDC data)\r\n            String tenantId = TenantContext.getCurrentTenantId();\r\n            Long storeId = StoreContext.getCurrentStoreId();\r\n            SecurityContext securityContext = SecurityContextHolder.getContext();\r\n            Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\r\n            log.info(&quot;Saving tenant information for async thread...&quot;);\r\n            return () -&gt; {\r\n                try {\r\n                    // Right now: @Async thread context !\r\n                    // (Restore the Web thread context&#39;s MDC data)\r\n                    TenantContext.setCurrentTenantId(tenantId);\r\n                    StoreContext.setCurrentStoreId(storeId);\r\n                    SecurityContextHolder.setContext(securityContext);\r\n                    MDC.setContextMap(contextMap);\r\n                    log.info(&quot;Restoring tenant information for async thread...&quot;);\r\n                    runnable.run();\r\n                } catch (Throwable e) {\r\n                    log.error(&quot;Error in async task&quot;, e);\r\n                } finally {\r\n                    MDC.clear();\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nand I used it in this way:\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class AsyncConfiguration implements AsyncConfigurer {\r\n    \r\n        @Override\r\n        public Executor getAsyncExecutor() {\r\n            SecurityContextHolder.setStrategyName(SecurityContextHolder.MODE_INHERITABLETHREADLOCAL);\r\n            ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            executor.setCorePoolSize(1);\r\n            executor.setMaxPoolSize(100);\r\n            executor.setQueueCapacity(500);\r\n            executor.setThreadNamePrefix(&quot;threadAsync&quot;);\r\n            executor.setWaitForTasksToCompleteOnShutdown(true);\r\n            executor.setTaskDecorator(new MdcTaskDecorator());\r\n            executor.initialize();\r\n            return executor;\r\n        }\r\n    }\r\n\r\nIt works and it seems also a neat solution.","title":"Spring @Async propagate context information","body":"<p>I ended up to use a TaskDecorator:</p>\n\n<pre><code>@Log4j2\npublic class MdcTaskDecorator implements TaskDecorator {\n\n    @Override\n    public Runnable decorate(Runnable runnable) {\n        // Right now: Web thread context !\n        // (Grab the current thread MDC data)\n        String tenantId = TenantContext.getCurrentTenantId();\n        Long storeId = StoreContext.getCurrentStoreId();\n        SecurityContext securityContext = SecurityContextHolder.getContext();\n        Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\n        log.info(\"Saving tenant information for async thread...\");\n        return () -&gt; {\n            try {\n                // Right now: @Async thread context !\n                // (Restore the Web thread context's MDC data)\n                TenantContext.setCurrentTenantId(tenantId);\n                StoreContext.setCurrentStoreId(storeId);\n                SecurityContextHolder.setContext(securityContext);\n                MDC.setContextMap(contextMap);\n                log.info(\"Restoring tenant information for async thread...\");\n                runnable.run();\n            } catch (Throwable e) {\n                log.error(\"Error in async task\", e);\n            } finally {\n                MDC.clear();\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>and I used it in this way:</p>\n\n<pre><code>@Configuration\n@EnableAsync\npublic class AsyncConfiguration implements AsyncConfigurer {\n\n    @Override\n    public Executor getAsyncExecutor() {\n        SecurityContextHolder.setStrategyName(SecurityContextHolder.MODE_INHERITABLETHREADLOCAL);\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(1);\n        executor.setMaxPoolSize(100);\n        executor.setQueueCapacity(500);\n        executor.setThreadNamePrefix(\"threadAsync\");\n        executor.setWaitForTasksToCompleteOnShutdown(true);\n        executor.setTaskDecorator(new MdcTaskDecorator());\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n\n<p>It works and it seems also a neat solution.</p>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1630653017,"creation_date":1607947483,"answer_id":65288741,"question_id":61676893,"body_markdown":"The solution for such case is to :\r\n\r\n 1. configure custom thread pool so that you override it&#39;s execute method to  sets up your thread local (or\r\n    executes any task from your main context), decorate the task and submit decorated task for execution instead of original one\r\n 2. instruct @Async annotation to use concrete thread pool\r\n\r\n          @Bean(&quot;tenantExecutor&quot;)\r\n          public Executor threadLocalAwareThreadPool() {\r\n        \r\n           final CustomizableThreadFactory threadNameAwareFactory =\r\n              new CustomizableThreadFactory(&quot;threadAsync&quot;);\r\n    \r\n            final ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(2, 10,\r\n              0L, TimeUnit.MILLISECONDS,\r\n              new ArrayBlockingQueue&lt;&gt;(500), threadNameAwareFactory) {\r\n        \r\n              // override original method of thread pool\r\n              @Override\r\n              public void execute(Runnable originalTask) {\r\n                final String tenantId = tenantThreadLocal.get(); // read data from current before passing the task to async thread \r\n        \r\n        // decorate the actual task by creating new task (Runnable) where you first set up the thread local and then execute your actual task \r\n                super.execute(() -&gt; {\r\n                  tenantThreadLocal.set(tenantId); // set data in actual async thread\r\n                  originalTask.run();\r\n                });\r\n              }\r\n            };\r\n            \r\n        \r\n            return threadPoolExecutor;\r\n            \r\n          }\r\n\r\nNow  we tell spring use our custom executor\r\n\r\n        @Async(&quot;tenantExecutor&quot;) \r\n        public Future&lt;AuditCdr&gt; saveCDR(Cdr3CXDto cdrRecord) {\r\n            // your code....\r\n        }\r\n\r\n  \r\n","title":"Spring @Async propagate context information","body":"<p>The solution for such case is to :</p>\n<ol>\n<li><p>configure custom thread pool so that you override it's execute method to  sets up your thread local (or\nexecutes any task from your main context), decorate the task and submit decorated task for execution instead of original one</p>\n</li>\n<li><p>instruct @Async annotation to use concrete thread pool</p>\n<pre><code>  @Bean(&quot;tenantExecutor&quot;)\n  public Executor threadLocalAwareThreadPool() {\n\n   final CustomizableThreadFactory threadNameAwareFactory =\n      new CustomizableThreadFactory(&quot;threadAsync&quot;);\n\n    final ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(2, 10,\n      0L, TimeUnit.MILLISECONDS,\n      new ArrayBlockingQueue&lt;&gt;(500), threadNameAwareFactory) {\n\n      // override original method of thread pool\n      @Override\n      public void execute(Runnable originalTask) {\n        final String tenantId = tenantThreadLocal.get(); // read data from current before passing the task to async thread \n\n// decorate the actual task by creating new task (Runnable) where you first set up the thread local and then execute your actual task \n        super.execute(() -&gt; {\n          tenantThreadLocal.set(tenantId); // set data in actual async thread\n          originalTask.run();\n        });\n      }\n    };\n\n\n    return threadPoolExecutor;\n\n  }\n</code></pre>\n</li>\n</ol>\n<p>Now  we tell spring use our custom executor</p>\n<pre><code>    @Async(&quot;tenantExecutor&quot;) \n    public Future&lt;AuditCdr&gt; saveCDR(Cdr3CXDto cdrRecord) {\n        // your code....\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3819568,"reputation":581,"user_id":3167961,"display_name":"ismile47"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687374157,"creation_date":1687374157,"answer_id":76526376,"question_id":61676893,"body_markdown":"For **Log4j2 ThreadContext**\r\n\r\n    import java.util.Map;\r\n    \r\n    import org.apache.logging.log4j.ThreadContext;\r\n    import org.springframework.core.task.TaskDecorator;\r\n    \r\n    public class RequestContextTaskDecorator implements TaskDecorator {\r\n    \r\n    \t@Override\r\n    \tpublic Runnable decorate(Runnable runnable) {\r\n    \t\t// Right now:Web Thread context !\r\n    \t\t// (Grab the current thread context map data)\r\n    \t\tMap&lt;String, String&gt; contextMap = ThreadContext.getImmutableContext();\r\n    \t\treturn () -&gt; {\r\n    \t\t\ttry {\r\n    \t\t\t\t// Right now: @Async thread context !\r\n    \t\t\t\t// (Restore the web thread context&#39;s data)\r\n    \t\t\t\tThreadContext.putAll(contextMap);\r\n    \t\t\t\trunnable.run();\r\n    \t\t\t} finally {\r\n    \t\t\t\tThreadContext.clearAll();\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Spring @Async propagate context information","body":"<p>For <strong>Log4j2 ThreadContext</strong></p>\n<pre><code>import java.util.Map;\n\nimport org.apache.logging.log4j.ThreadContext;\nimport org.springframework.core.task.TaskDecorator;\n\npublic class RequestContextTaskDecorator implements TaskDecorator {\n\n    @Override\n    public Runnable decorate(Runnable runnable) {\n        // Right now:Web Thread context !\n        // (Grab the current thread context map data)\n        Map&lt;String, String&gt; contextMap = ThreadContext.getImmutableContext();\n        return () -&gt; {\n            try {\n                // Right now: @Async thread context !\n                // (Restore the web thread context's data)\n                ThreadContext.putAll(contextMap);\n                runnable.run();\n            } finally {\n                ThreadContext.clearAll();\n            }\n        };\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2289332,"reputation":5954,"user_id":2012635,"accept_rate":54,"display_name":"drenda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11675,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":65288741,"answer_count":4,"score":12,"last_activity_date":1687374157,"creation_date":1588933169,"question_id":61676893,"body_markdown":"I&#39;ve a Spring Boot 2.2 application. I created a service like this:\r\n\r\n    @Async\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;ROLE_PBX&#39;)&quot;)\r\n    @PlanAuthorization(allowedPlans = {PlanType.BUSINESS, PlanType.ENTERPRISE})\r\n    public Future&lt;AuditCdr&gt; saveCDR(Cdr3CXDto cdrRecord) {\r\n        log.debug(&quot;Current tenant {}&quot;, TenantContext.getCurrentTenantId());  \r\n       \r\n        return new AsyncResult&lt;AuditCdr&gt;(auditCdrRepository.save(cdr3CXMapper.cdr3CXDtoToAuditCdr(cdrRecord)));\r\n    }\r\n\r\nthis is my @Async configuration:\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class AsyncConfiguration implements AsyncConfigurer {\r\n    \r\n        @Override\r\n        public Executor getAsyncExecutor() {\r\n            SecurityContextHolder.setStrategyName(SecurityContextHolder.MODE_INHERITABLETHREADLOCAL);\r\n            ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            executor.setCorePoolSize(2);\r\n            executor.setMaxPoolSize(10);\r\n            executor.setQueueCapacity(500);\r\n            executor.setThreadNamePrefix(&quot;threadAsync&quot;);\r\n            executor.setWaitForTasksToCompleteOnShutdown(true);\r\n            executor.initialize();\r\n            return executor;\r\n        }\r\n    }\r\n\r\nUsing `SecurityContextHolder.MODE_INHERITABLETHREADLOCAL` I see the Security context is passed to the @Async method.\r\nIn my multi-tenant application I use a ThreadLocal to set the tenant&#39;s id:\r\n\r\n    public class TenantContext {\r\n        public final static String TENANT_DEFAULT = &quot;empty&quot;;\r\n        private static final ThreadLocal&lt;String&gt; code = new ThreadLocal&lt;&gt;();\r\n    \r\n        public static void setCurrentTenantId(String code) {\r\n            if (code != null)\r\n                TenantContext.code.set(code);\r\n        }\r\n    \r\n        public static String getCurrentTenantId() {\r\n            String tenantId = code.get();\r\n            if (StringUtils.isNotBlank(tenantId)) {\r\n                return tenantId;\r\n            }\r\n            return TENANT_DEFAULT;\r\n        }\r\n    \r\n        public static void clear() {\r\n            code.remove();\r\n        }\r\n    \r\n    }\r\n\r\nBecause ThreadLocal is related to the thread, it&#39;s not available in the @Async method. Furthemore my custom `@PlanAuthorization` aop needs it to perform verifications of the tenant&#39;s plan.\r\nIs there a clean way to set TenantContext in any @Async method in my application?","title":"Spring @Async propagate context information","body":"<p>I've a Spring Boot 2.2 application. I created a service like this:</p>\n\n<pre><code>@Async\n@PreAuthorize(\"hasAnyRole('ROLE_PBX')\")\n@PlanAuthorization(allowedPlans = {PlanType.BUSINESS, PlanType.ENTERPRISE})\npublic Future&lt;AuditCdr&gt; saveCDR(Cdr3CXDto cdrRecord) {\n    log.debug(\"Current tenant {}\", TenantContext.getCurrentTenantId());  \n\n    return new AsyncResult&lt;AuditCdr&gt;(auditCdrRepository.save(cdr3CXMapper.cdr3CXDtoToAuditCdr(cdrRecord)));\n}\n</code></pre>\n\n<p>this is my @Async configuration:</p>\n\n<pre><code>@Configuration\n@EnableAsync\npublic class AsyncConfiguration implements AsyncConfigurer {\n\n    @Override\n    public Executor getAsyncExecutor() {\n        SecurityContextHolder.setStrategyName(SecurityContextHolder.MODE_INHERITABLETHREADLOCAL);\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(2);\n        executor.setMaxPoolSize(10);\n        executor.setQueueCapacity(500);\n        executor.setThreadNamePrefix(\"threadAsync\");\n        executor.setWaitForTasksToCompleteOnShutdown(true);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n\n<p>Using <code>SecurityContextHolder.MODE_INHERITABLETHREADLOCAL</code> I see the Security context is passed to the @Async method.\nIn my multi-tenant application I use a ThreadLocal to set the tenant's id:</p>\n\n<pre><code>public class TenantContext {\n    public final static String TENANT_DEFAULT = \"empty\";\n    private static final ThreadLocal&lt;String&gt; code = new ThreadLocal&lt;&gt;();\n\n    public static void setCurrentTenantId(String code) {\n        if (code != null)\n            TenantContext.code.set(code);\n    }\n\n    public static String getCurrentTenantId() {\n        String tenantId = code.get();\n        if (StringUtils.isNotBlank(tenantId)) {\n            return tenantId;\n        }\n        return TENANT_DEFAULT;\n    }\n\n    public static void clear() {\n        code.remove();\n    }\n\n}\n</code></pre>\n\n<p>Because ThreadLocal is related to the thread, it's not available in the @Async method. Furthemore my custom <code>@PlanAuthorization</code> aop needs it to perform verifications of the tenant's plan.\nIs there a clean way to set TenantContext in any @Async method in my application?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1687356043,"post_id":76524096,"comment_id":134925478,"body_markdown":"what is the reason for `r = true;` ??","body":"what is the reason for <code>r = true;</code> ??"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687360554,"post_id":76524096,"comment_id":134926722,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":28866332,"reputation":1,"user_id":22109019,"display_name":"Maaz Siddiqui"},"score":0,"creation_date":1687368676,"post_id":76524096,"comment_id":134928433,"body_markdown":"r = true  means that contains method will return false so it should return true because if two strings are equal consider ignoring the case the it should give the value true.  All i am asking is that the right method or not. I know there is a built-in method equalsIgnoringCase but I created this method so I want to know that the logic is correct or not","body":"r = true  means that contains method will return false so it should return true because if two strings are equal consider ignoring the case the it should give the value true.  All i am asking is that the right method or not. I know there is a built-in method equalsIgnoringCase but I created this method so I want to know that the logic is correct or not"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687373976,"creation_date":1687373976,"answer_id":76526353,"question_id":76524096,"body_markdown":"&gt; _&quot;... I create this method for verification that after applying compareIgnoreCase first if compareIgnoreCase is return 0 means both Strings are equal ...&quot;_\r\n\r\nCorrect.&amp;nbsp; This will return _0_ when the strings are equivalent, ignoring the case.\r\n\r\nFor example, the following will return _0_.\r\n\r\n```java\r\n&quot;abc&quot;.compareToIgnoreCase(&quot;ABC&quot;)\r\n```\r\n\r\n&gt; _&quot;... then the contains method that apply on 2 Strings should also return true ...&quot;_\r\n\r\nIncorrect, the _[contains](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence))_ method is case-sensitive.  \r\nAdditionally, the use of _compareToIgnoreCase_ will not have made any adjustments to the values _a_ and _c_.\r\n\r\nThe following will return _false_.\r\n\r\n```java\r\n&quot;abc&quot;.contains(&quot;ABC&quot;)\r\n```\r\n\r\nYou can achieve the result you&#39;re looking for by comparing the values when their cases have been changed.\r\n\r\nYou can use the _[toLowerCase](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#toLowerCase())_, and _[toUpperCase](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#toUpperCase())_, methods to change the case.\r\n\r\nThe following will return _true_.\r\n\r\n```java\r\n&quot;aBc&quot;.toLowerCase().contains(&quot;AbC&quot;.toLowerCase())\r\n```\r\n\r\nSo, you can change your code to,\r\n\r\n```java\r\na.toLowerCase().contains(c.toLowerCase())\r\n```","title":"I want to know that did I done the right thing by creating this method?","body":"<blockquote>\n<p><em>&quot;... I create this method for verification that after applying compareIgnoreCase first if compareIgnoreCase is return 0 means both Strings are equal ...&quot;</em></p>\n</blockquote>\n<p>Correct.  This will return <em>0</em> when the strings are equivalent, ignoring the case.</p>\n<p>For example, the following will return <em>0</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;abc&quot;.compareToIgnoreCase(&quot;ABC&quot;)\n</code></pre>\n<blockquote>\n<p><em>&quot;... then the contains method that apply on 2 Strings should also return true ...&quot;</em></p>\n</blockquote>\n<p>Incorrect, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">contains</a></em> method is case-sensitive.<br />\nAdditionally, the use of <em>compareToIgnoreCase</em> will not have made any adjustments to the values <em>a</em> and <em>c</em>.</p>\n<p>The following will return <em>false</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;abc&quot;.contains(&quot;ABC&quot;)\n</code></pre>\n<p>You can achieve the result you're looking for by comparing the values when their cases have been changed.</p>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#toLowerCase()\" rel=\"nofollow noreferrer\">toLowerCase</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#toUpperCase()\" rel=\"nofollow noreferrer\">toUpperCase</a></em>, methods to change the case.</p>\n<p>The following will return <em>true</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;aBc&quot;.toLowerCase().contains(&quot;AbC&quot;.toLowerCase())\n</code></pre>\n<p>So, you can change your code to,</p>\n<pre class=\"lang-java prettyprint-override\"><code>a.toLowerCase().contains(c.toLowerCase())\n</code></pre>\n"}],"owner":{"account_id":28866332,"reputation":1,"user_id":22109019,"display_name":"Maaz Siddiqui"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687373976,"creation_date":1687355795,"question_id":76524096,"body_markdown":"Actually I wanted to apply compareIgnoreCase first on two strings and then apply contains method to check that after applying compareIgnoreCase first, will contains method return true or not (I know there is a built-in method equalsIgnoreCase). Suppose 2 strings are equal but one is lowercase and second is uppercase str1 = &quot;maaz&quot; and str2 = &quot;MAAZ&quot;\r\n\r\nthis is what I&#39;ve tried. I create this method for verification that after applying compareIgnoreCase first if compareIgnoreCase is return 0 means both Strings are equal, then the contains method that apply on 2 Strings should also return true otherwise return false.\r\n```\r\nif(a.compareToIgnoreCase(c) == 0)\r\n\t\t{\r\n\t\t\tboolean r = a.contains(c);\r\n\t\t\tr = true;\r\n\t\t\tSystem.out.println(r);\r\n\t\t}\r\n\t\t\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;false&quot;);\r\n\r\n\t\t}\r\n```\r\n\r\n","title":"I want to know that did I done the right thing by creating this method?","body":"<p>Actually I wanted to apply compareIgnoreCase first on two strings and then apply contains method to check that after applying compareIgnoreCase first, will contains method return true or not (I know there is a built-in method equalsIgnoreCase). Suppose 2 strings are equal but one is lowercase and second is uppercase str1 = &quot;maaz&quot; and str2 = &quot;MAAZ&quot;</p>\n<p>this is what I've tried. I create this method for verification that after applying compareIgnoreCase first if compareIgnoreCase is return 0 means both Strings are equal, then the contains method that apply on 2 Strings should also return true otherwise return false.</p>\n<pre><code>if(a.compareToIgnoreCase(c) == 0)\n        {\n            boolean r = a.contains(c);\n            r = true;\n            System.out.println(r);\n        }\n        \n        else\n        {\n            System.out.println(&quot;false&quot;);\n\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","maps","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":16583795,"reputation":879,"user_id":11983766,"display_name":"dxjuv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650547755,"creation_date":1650547755,"answer_id":71955352,"question_id":71954121,"body_markdown":"There is no map type in GraphQL. Because maps are basically containing dynamic keys and, they do not play well into the static types that GraphQL is expecting.\r\n\r\nIf you are really unsure of what type the data is going to be in that map, you can always store that dynamic information as a String. This is something I personally would do.\r\n\r\nSo your filterModel would become \r\n```filterModel:String``` and that string would be a ```JSON``` representation of the object. You can do the JSON parsing in the code to convert it back to a ```Map```","title":"How to define a Java Map in graphql?","body":"<p>There is no map type in GraphQL. Because maps are basically containing dynamic keys and, they do not play well into the static types that GraphQL is expecting.</p>\n<p>If you are really unsure of what type the data is going to be in that map, you can always store that dynamic information as a String. This is something I personally would do.</p>\n<p>So your filterModel would become\n<code>filterModel:String</code> and that string would be a <code>JSON</code> representation of the object. You can do the JSON parsing in the code to convert it back to a <code>Map</code></p>\n"},{"tags":[],"owner":{"account_id":5038770,"reputation":99,"user_id":4717753,"display_name":"Adarsh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687373352,"creation_date":1687373352,"answer_id":76526279,"question_id":71954121,"body_markdown":"0 input \r\n \r\n\r\n    mutation{ xxxx(employeeBean:{ xxxxx , attributes: {\\&quot;key\\&quot;:\\&quot;value\\&quot;}&quot; }) {\r\n    xxxxxxx attributes }}\r\n\r\n1.schema file \r\n\r\n    scalar JSON\r\n    type Employee {\r\n       \r\n       ........\r\n       attributes: JSON\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n1.configuration \r\n \r\n\r\n\r\n    @Bean\r\n    public RuntimeWiringConfigurer runtimeWiringConfigurer() {\r\n        return wiringBuilder -&gt; wiringBuilder\r\n                .scalar(jsonScalar());\r\n    }\r\n\r\n    public GraphQLScalarType jsonScalar() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        return GraphQLScalarType.newScalar()\r\n                .name(&quot;JSON&quot;) //graphql type define in the schema file\r\n                .description(&quot;Java MAP as scalar.&quot;)\r\n                .coercing(new Coercing&lt;Map&lt;String, String&gt;, String&gt;() {\r\n                    @Override\r\n                    public String serialize(final Object dataFetcherResult) {\r\n                        if (dataFetcherResult instanceof Map) {\r\n                            try {\r\n                                return objectMapper.writeValueAsString(dataFetcherResult);\r\n                            } catch (JsonProcessingException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        } else {\r\n                            throw new CoercingSerializeException(&quot;Expected a Map object.&quot;);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public Map&lt;String, String&gt; parseValue(final Object input) {\r\n\r\n                        if (input instanceof StringValue) {\r\n                            try {\r\n                                return objectMapper.readValue(input.toString()\r\n                                        , new TypeReference&lt;Map&lt;String, String&gt;&gt;() {\r\n                                        });\r\n\r\n\r\n                            } catch (JsonProcessingException e) {\r\n                                throw new CoercingParseLiteralException(e);\r\n                            }\r\n                        } else {\r\n                            throw new CoercingParseValueException(&quot;Expected a String&quot;);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public Map&lt;String, String&gt; parseLiteral(final Object input) {\r\n                        if (input instanceof StringValue) {\r\n                            try {\r\n                                return objectMapper.readValue(((StringValue) input).getValue()\r\n                                        , new TypeReference&lt;Map&lt;String, String&gt;&gt;() {\r\n                                        });\r\n                            } catch (JsonProcessingException e) {\r\n                                throw new CoercingParseLiteralException(e);\r\n                            }\r\n                        } else {\r\n                            throw new CoercingParseLiteralException(&quot;Expected a StringValue.&quot;);\r\n                        }\r\n                    }\r\n                }).build();\r\n\r\n    }\r\n\r\n3 bean \r\n\r\n    public class EmployeeBean {\r\n\r\n    private Map&lt;String,String&gt; attributes;\r\n    }\r\n\r\n\r\n## Note \r\n GraphQlArgumentBinder-&gt; public Object bind(\r\n\t\t\tDataFetchingEnvironment environment, @Nullable String argumentName, ResolvableType targetType)\r\n\t\t\tthrows BindException {}\r\nnot able to bind the value to the map object because its using map name define in the schema and then put dot and then the first key name and searching of that name in the bean to find the map and its not working as of now","title":"How to define a Java Map in graphql?","body":"<p>0 input</p>\n<pre><code>mutation{ xxxx(employeeBean:{ xxxxx , attributes: {\\&quot;key\\&quot;:\\&quot;value\\&quot;}&quot; }) {\nxxxxxxx attributes }}\n</code></pre>\n<p>1.schema file</p>\n<pre><code>scalar JSON\ntype Employee {\n   \n   ........\n   attributes: JSON\n}\n</code></pre>\n<p>1.configuration</p>\n<pre><code>@Bean\npublic RuntimeWiringConfigurer runtimeWiringConfigurer() {\n    return wiringBuilder -&gt; wiringBuilder\n            .scalar(jsonScalar());\n}\n\npublic GraphQLScalarType jsonScalar() {\n    ObjectMapper objectMapper = new ObjectMapper();\n    return GraphQLScalarType.newScalar()\n            .name(&quot;JSON&quot;) //graphql type define in the schema file\n            .description(&quot;Java MAP as scalar.&quot;)\n            .coercing(new Coercing&lt;Map&lt;String, String&gt;, String&gt;() {\n                @Override\n                public String serialize(final Object dataFetcherResult) {\n                    if (dataFetcherResult instanceof Map) {\n                        try {\n                            return objectMapper.writeValueAsString(dataFetcherResult);\n                        } catch (JsonProcessingException e) {\n                            throw new RuntimeException(e);\n                        }\n                    } else {\n                        throw new CoercingSerializeException(&quot;Expected a Map object.&quot;);\n                    }\n                }\n\n                @Override\n                public Map&lt;String, String&gt; parseValue(final Object input) {\n\n                    if (input instanceof StringValue) {\n                        try {\n                            return objectMapper.readValue(input.toString()\n                                    , new TypeReference&lt;Map&lt;String, String&gt;&gt;() {\n                                    });\n\n\n                        } catch (JsonProcessingException e) {\n                            throw new CoercingParseLiteralException(e);\n                        }\n                    } else {\n                        throw new CoercingParseValueException(&quot;Expected a String&quot;);\n                    }\n                }\n\n                @Override\n                public Map&lt;String, String&gt; parseLiteral(final Object input) {\n                    if (input instanceof StringValue) {\n                        try {\n                            return objectMapper.readValue(((StringValue) input).getValue()\n                                    , new TypeReference&lt;Map&lt;String, String&gt;&gt;() {\n                                    });\n                        } catch (JsonProcessingException e) {\n                            throw new CoercingParseLiteralException(e);\n                        }\n                    } else {\n                        throw new CoercingParseLiteralException(&quot;Expected a StringValue.&quot;);\n                    }\n                }\n            }).build();\n\n}\n</code></pre>\n<p>3 bean</p>\n<pre><code>public class EmployeeBean {\n\nprivate Map&lt;String,String&gt; attributes;\n}\n</code></pre>\n<h2>Note</h2>\n<p>GraphQlArgumentBinder-&gt; public Object bind(\nDataFetchingEnvironment environment, @Nullable String argumentName, ResolvableType targetType)\nthrows BindException {}\nnot able to bind the value to the map object because its using map name define in the schema and then put dot and then the first key name and searching of that name in the bean to find the map and its not working as of now</p>\n"}],"owner":{"account_id":24525702,"reputation":49,"user_id":18438174,"display_name":"newlearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1513,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71955352,"answer_count":2,"score":2,"last_activity_date":1687373352,"creation_date":1650542498,"question_id":71954121,"body_markdown":"I have a `filterModel` which is a Map `Map&lt;String, ColumnFilter&gt; filterModel` in order to filter my Actor data. I get an filterModel Object from the client when I try to filter my data. How do I define this Java Map in my graphql Query?\r\n\r\nfilterModel Object from client:\r\n```\r\nfilterModel: {\r\n               firstname: {filterType: &#39;text&#39;, type: &#39;contains&#39;, filter: &#39;Tom&#39;}, ...\r\n              }\r\n```\r\nschema:\r\n``` \r\ntype Actor {\r\n    actorId: ID!,\r\n    firstName: String,\r\n    lastName: String,\r\n}\r\n\r\ntype Query {\r\n    rows(\r\n        filterModel: [filterModel]\r\n    ): [Actor]\r\n}\r\n\r\ninput filterModel {\r\n    key: String,\r\n    value: ColumnFilter\r\n}\r\n\r\ninput ColumnFilter {\r\n    filterType: String,\r\n    type: String,\r\n    filter: String\r\n}\r\n``` ","title":"How to define a Java Map in graphql?","body":"<p>I have a <code>filterModel</code> which is a Map <code>Map&lt;String, ColumnFilter&gt; filterModel</code> in order to filter my Actor data. I get an filterModel Object from the client when I try to filter my data. How do I define this Java Map in my graphql Query?</p>\n<p>filterModel Object from client:</p>\n<pre><code>filterModel: {\n               firstname: {filterType: 'text', type: 'contains', filter: 'Tom'}, ...\n              }\n</code></pre>\n<p>schema:</p>\n<pre><code>type Actor {\n    actorId: ID!,\n    firstName: String,\n    lastName: String,\n}\n\ntype Query {\n    rows(\n        filterModel: [filterModel]\n    ): [Actor]\n}\n\ninput filterModel {\n    key: String,\n    value: ColumnFilter\n}\n\ninput ColumnFilter {\n    filterType: String,\n    type: String,\n    filter: String\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1636376188,"post_id":69883635,"comment_id":123531965,"body_markdown":"What exception? Please post the full error message including its stack trace.","body":"What exception? Please post the full error message including its stack trace."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1636376277,"post_id":69883635,"comment_id":123532009,"body_markdown":"_&quot;I did not modify this map&quot;_ - and what is this `map.put(obj, value);`? You are modifying it.","body":"<i>&quot;I did not modify this map&quot;</i> - and what is this <code>map.put(obj, value);</code>? You are modifying it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636376913,"post_id":69883635,"comment_id":123532315,"body_markdown":"I tried converting your code into something that would run.  Instead of an exception, I got a deadlock of some kind.  Could you please write a minimal reproducible example that we can compile and run to see the behavior that you are asking about.","body":"I tried converting your code into something that would run.  Instead of an exception, I got a deadlock of some kind.  Could you please write a minimal reproducible example that we can compile and run to see the behavior that you are asking about."},{"owner":{"account_id":5998981,"reputation":1717,"user_id":4712855,"display_name":"取一个好的名字"},"score":0,"creation_date":1636378299,"post_id":69883635,"comment_id":123532920,"body_markdown":"@StephenC I can&#39;t reproduce the problem,\nIf my map type is HashMap, will it cause this exception?","body":"@StephenC I can&#39;t reproduce the problem, If my map type is HashMap, will it cause this exception?"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1636378824,"post_id":69883635,"comment_id":123533172,"body_markdown":"@StephenC It may not be a deadlock but the lack of an `Executors.shutdown()` call.","body":"@StephenC It may not be a deadlock but the lack of an <code>Executors.shutdown()</code> call."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636379121,"post_id":69883635,"comment_id":123533288,"body_markdown":"@bytemamba - If you can&#39;t reproduce the problem ... there is nothing for us to answer.  You are (in effect) asking about the behavior of **different code**.  *&quot;If my map type is `HashMap`, will it cause this exception?&quot;* -  I have no idea.  Try it.  Does it?","body":"@bytemamba - If you can&#39;t reproduce the problem ... there is nothing for us to answer.  You are (in effect) asking about the behavior of <b>different code</b>.  <i>&quot;If my map type is <code>HashMap</code>, will it cause this exception?&quot;</i> -  I have no idea.  Try it.  Does it?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636379296,"post_id":69883635,"comment_id":123533364,"body_markdown":"If you want our help, you need to show us a minimal reproducible example that **does** exhibit the behavior you are talking about.","body":"If you want our help, you need to show us a minimal reproducible example that <b>does</b> exhibit the behavior you are talking about."},{"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"score":0,"creation_date":1687212406,"post_id":69883635,"comment_id":134902413,"body_markdown":"@取一个好的名字 were you able to solve the problem? I am also facing the same issue with `toList()` method","body":"@取一个好的名字 were you able to solve the problem? I am also facing the same issue with <code>toList()</code> method"}],"answers":[{"comments":[{"owner":{"account_id":5998981,"reputation":1717,"user_id":4712855,"display_name":"取一个好的名字"},"score":0,"creation_date":1636379847,"post_id":69883849,"comment_id":123533607,"body_markdown":"delete exception, Still did not reproduce this exception","body":"delete exception, Still did not reproduce this exception"}],"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636376290,"creation_date":1636376290,"answer_id":69883849,"question_id":69883635,"body_markdown":"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&gt; Similar problem, but I did not modify this map and remove list Java 8 streams: java.lang.IllegalStateException: End size 84758 is less than fixed size 84764\r\n\r\nOK, so here&#39;s how you approach this problem ... \r\n\r\n\r\nIn order to get some stability into your code you need to isolate this complicated piece of logic and cover it by tests. This will make it easier to isolate and reproduce the problem.\r\n\r\nThe reason why you are get this error is because some elements in the stream can throw an exception and the size of the output is smaller than the size of the input.\r\n\r\nTry removing the exception code for now and see if it works.\r\nIf it does not post the results in the comments. ","title":"End size %d is less than fixed size %d","body":"<blockquote>\n<p>Similar problem, but I did not modify this map and remove list Java 8 streams: java.lang.IllegalStateException: End size 84758 is less than fixed size 84764</p>\n</blockquote>\n<p>OK, so here's how you approach this problem ...</p>\n<p>In order to get some stability into your code you need to isolate this complicated piece of logic and cover it by tests. This will make it easier to isolate and reproduce the problem.</p>\n<p>The reason why you are get this error is because some elements in the stream can throw an exception and the size of the output is smaller than the size of the input.</p>\n<p>Try removing the exception code for now and see if it works.\nIf it does not post the results in the comments.</p>\n"},{"tags":[],"owner":{"account_id":5794488,"reputation":1356,"user_id":4570698,"display_name":"harsh pamnani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687373128,"creation_date":1687373128,"answer_id":76526257,"question_id":69883635,"body_markdown":"I encountered a similar problem as well. I discovered that I was using `HashSet` in conjunction with `parallelStream()`. As `HashSet` is not thread-safe, I replaced it with `ConcurrentHashMap.newKeySet()`, which resolved the problem.","title":"End size %d is less than fixed size %d","body":"<p>I encountered a similar problem as well. I discovered that I was using <code>HashSet</code> in conjunction with <code>parallelStream()</code>. As <code>HashSet</code> is not thread-safe, I replaced it with <code>ConcurrentHashMap.newKeySet()</code>, which resolved the problem.</p>\n"}],"owner":{"account_id":5998981,"reputation":1717,"user_id":4712855,"display_name":"取一个好的名字"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687373128,"creation_date":1636375435,"question_id":69883635,"body_markdown":"I use Java8 steam and CompletableFuture request method to get the return value,\r\nWhat caused this exception? \r\nI cannot reproduce this exception at the moment:\r\n\r\nexception stack\r\n\r\n    java.lang.IllegalStateException\r\n\r\n\tat java.util.stream.Nodes$FixedNodeBuilder.end(Nodes.java:1232)\r\n\r\n\tat java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)\r\n\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:546)\r\n\r\n\tat java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)\r\n\r\n\tat java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:438)\r\n\r\n\t//This line is my code\r\n\tat com.xxx.XxxxServiceImpl.getDetail(XxxxServiceImpl.java:222)\r\n\r\nEnd size 1 is less than fixed size 2\r\n\r\n     public static void main(String[] args) {\r\n        ExecutorService executors = Executors.newFixedThreadPool(10);\r\n        List&lt;Integer&gt; list = Lists.newArrayList(1, 2);\r\n        Map&lt;Integer, Long&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n        CompletableFuture.allOf(list.stream().map(obj -&gt; CompletableFuture.supplyAsync(\r\n                () -&gt; getValue(), executors)\r\n                .whenComplete((value, ex) -&gt; {\r\n                     \r\n                    if (ex != null) {\r\n                        throw new BusinessException(&quot;exception&quot; + ex);\r\n                    } else {\r\n                        map.put(obj, value);\r\n                    }\r\n                })).toArray(CompletableFuture[]::new)).join();\r\n    }\r\n    \r\n    static Long getValue(){\r\n        return System.currentTimeMillis();\r\n    }\r\n\r\nSimilar problem, but I did not modify this map and remove list\r\nhttps://stackoverflow.com/questions/57274369/java-8-streams-java-lang-illegalstateexception-end-size-84758-is-less-than-fix","title":"End size %d is less than fixed size %d","body":"<p>I use Java8 steam and CompletableFuture request method to get the return value,\nWhat caused this exception?\nI cannot reproduce this exception at the moment:</p>\n<p>exception stack</p>\n<pre><code>java.lang.IllegalStateException\n\nat java.util.stream.Nodes$FixedNodeBuilder.end(Nodes.java:1232)\n\nat java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)\n\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:546)\n\nat java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)\n\nat java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:438)\n\n//This line is my code\nat com.xxx.XxxxServiceImpl.getDetail(XxxxServiceImpl.java:222)\n</code></pre>\n<p>End size 1 is less than fixed size 2</p>\n<pre><code> public static void main(String[] args) {\n    ExecutorService executors = Executors.newFixedThreadPool(10);\n    List&lt;Integer&gt; list = Lists.newArrayList(1, 2);\n    Map&lt;Integer, Long&gt; map = new ConcurrentHashMap&lt;&gt;();\n    CompletableFuture.allOf(list.stream().map(obj -&gt; CompletableFuture.supplyAsync(\n            () -&gt; getValue(), executors)\n            .whenComplete((value, ex) -&gt; {\n                 \n                if (ex != null) {\n                    throw new BusinessException(&quot;exception&quot; + ex);\n                } else {\n                    map.put(obj, value);\n                }\n            })).toArray(CompletableFuture[]::new)).join();\n}\n\nstatic Long getValue(){\n    return System.currentTimeMillis();\n}\n</code></pre>\n<p>Similar problem, but I did not modify this map and remove list\n<a href=\"https://stackoverflow.com/questions/57274369/java-8-streams-java-lang-illegalstateexception-end-size-84758-is-less-than-fix\">Java 8 streams: java.lang.IllegalStateException: End size 84758 is less than fixed size 84764</a></p>\n"},{"tags":["java","aiml"],"answers":[{"tags":[],"owner":{"account_id":28868346,"reputation":1,"user_id":22110548,"display_name":"Fuji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687372893,"creation_date":1687372893,"answer_id":76526238,"question_id":67120475,"body_markdown":"Did not see any solution here, so here&#39;s my solution:\r\n\r\nI installed the Ab.jar file into my maven local repository:\r\n\r\n    mvn install:install-file -Dfile=&#39;path to jar file&#39; -DgroupId=Ab -DartifactId=com.google -Dversion=0.0.4.3 -Dpackaging=jar -DgeneratePom=true\r\n\r\nThen added the dependency with scope compile (default scope is compile):\r\n\r\n    &lt;dependency&gt;  \r\n        &lt;artifactId&gt;com.google&lt;/artifactId&gt;    \r\n        &lt;groupId&gt;Ab&lt;/groupId&gt;    \r\n        &lt;version&gt;0.0.4.3&lt;/version&gt;  \r\n    &lt;/dependency&gt;","title":"Jar file is not recognized by Maven causes NoClassDefError (ALICE program ab)","body":"<p>Did not see any solution here, so here's my solution:</p>\n<p>I installed the Ab.jar file into my maven local repository:</p>\n<pre><code>mvn install:install-file -Dfile='path to jar file' -DgroupId=Ab -DartifactId=com.google -Dversion=0.0.4.3 -Dpackaging=jar -DgeneratePom=true\n</code></pre>\n<p>Then added the dependency with scope compile (default scope is compile):</p>\n<pre><code>&lt;dependency&gt;  \n    &lt;artifactId&gt;com.google&lt;/artifactId&gt;    \n    &lt;groupId&gt;Ab&lt;/groupId&gt;    \n    &lt;version&gt;0.0.4.3&lt;/version&gt;  \n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":20296917,"reputation":150,"user_id":14887257,"display_name":"JustPeter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687372893,"creation_date":1618556240,"question_id":67120475,"body_markdown":"Please read the note below.\r\n\r\nI am having a problem in my chatbot program. I already did all the instructions they said on the tutorials of different website about how to create a chatbot in java using aiml. I create a maven project. Add the Ab.jar file in the dependency, even in local repository but still I am having this error.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/alicebot/ab/MagicBooleans\r\n    \tat com.Chatbot.main(Chatbot.java:21)\r\n    Caused by: java.lang.ClassNotFoundException: org.alicebot.ab.MagicBooleans\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 1 more\r\n\r\nThis is the half of the code in Chatbot.java\r\n\r\n    import java.io.File;\r\n    \r\n    import org.alicebot.ab.Bot;\r\n    import org.alicebot.ab.Chat;\r\n    import org.alicebot.ab.History;\r\n    import org.alicebot.ab.MagicBooleans;\r\n    import org.alicebot.ab.MagicStrings;\r\n    import org.alicebot.ab.utils.IOUtils;\r\n    \r\n    public class Chatbot {\r\n    \tprivate static final boolean TRACE_MODE = false;\r\n    \tstatic String botName = &quot;super&quot;;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \r\n    \t\t\tString resourcesPath = getResourcesPath();\r\n    \t\t\tSystem.out.println(resourcesPath);\r\n    \t\t\tMagicBooleans.trace_mode = TRACE_MODE;\r\n    \t\t\tBot bot = new Bot(&quot;super&quot;, resourcesPath);\r\n    \t\t\tChat chatSession = new Chat(bot);\r\n    \t\t\tbot.brain.nodeStats();\r\n    \t\t\tString textLine = &quot;&quot;;\r\n\r\nIt seems that my jar file is not recognized or what. Im actually new to this. Response is a great help.\r\n\r\nNote: I have already read some of the NoClassDefError question here in stackoverflow and do what they suggest but still the problem exist.","title":"Jar file is not recognized by Maven causes NoClassDefError (ALICE program ab)","body":"<p>Please read the note below.</p>\n<p>I am having a problem in my chatbot program. I already did all the instructions they said on the tutorials of different website about how to create a chatbot in java using aiml. I create a maven project. Add the Ab.jar file in the dependency, even in local repository but still I am having this error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/alicebot/ab/MagicBooleans\n    at com.Chatbot.main(Chatbot.java:21)\nCaused by: java.lang.ClassNotFoundException: org.alicebot.ab.MagicBooleans\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n<p>This is the half of the code in Chatbot.java</p>\n<pre><code>import java.io.File;\n\nimport org.alicebot.ab.Bot;\nimport org.alicebot.ab.Chat;\nimport org.alicebot.ab.History;\nimport org.alicebot.ab.MagicBooleans;\nimport org.alicebot.ab.MagicStrings;\nimport org.alicebot.ab.utils.IOUtils;\n\npublic class Chatbot {\n    private static final boolean TRACE_MODE = false;\n    static String botName = &quot;super&quot;;\n\n    public static void main(String[] args) {\n        try {\n\n            String resourcesPath = getResourcesPath();\n            System.out.println(resourcesPath);\n            MagicBooleans.trace_mode = TRACE_MODE;\n            Bot bot = new Bot(&quot;super&quot;, resourcesPath);\n            Chat chatSession = new Chat(bot);\n            bot.brain.nodeStats();\n            String textLine = &quot;&quot;;\n</code></pre>\n<p>It seems that my jar file is not recognized or what. Im actually new to this. Response is a great help.</p>\n<p>Note: I have already read some of the NoClassDefError question here in stackoverflow and do what they suggest but still the problem exist.</p>\n"},{"tags":["java","saprfc","sap-basis","sapjco3"],"answers":[{"tags":[],"owner":{"account_id":20412920,"reputation":67,"user_id":14975858,"display_name":"aman kumar chagti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687370687,"creation_date":1687370399,"answer_id":76525998,"question_id":76506008,"body_markdown":"following code worked for me:\r\n```\r\nimport com.sap.conn.jco.*;                                                                                                                                                                                                                                                                                                                              \r\npublic class TransportRequestDetailsExamples {                                                                                                                                  \r\n    public static void main(String[] args) {                                                                                                                                        \r\n        try {                                                                                                                                                                                                                                                                                                                                \r\n            JCoDestination destination = JCoDestinationManager.getDestination(&quot;SAP-ECC-Dest&quot;);                                                                                          \r\n            destination.ping();                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \r\n            JCoFunction function= destination.getRepository().getFunction(&quot;RFC_READ_TABLE&quot;);                                                                                                                                                                                                                                                                                                                                                                                                              \r\n            JCoParameterList imports = function.getImportParameterList();                                                                                                               \r\n            imports.setValue(&quot;QUERY_TABLE&quot;, &quot;E070&quot;);                                                                                                                                    \r\n            imports.setValue(&quot;DELIMITER&quot;, &quot;;&quot;);                                                                                                                                                                                                                                                                                                                     \r\n            JCoParameterList tableOptions = function.getTableParameterList();                                                                                                           \r\n            JCoTable data = tableOptions.getTable(&quot;DATA&quot;);                                                                                                                                                                                                                                                                                                           \r\n            function.execute(destination);                                                                                                                                                                                                                                                                                                                          \r\n            System.out.println(data);                                                                                                                                                                                                                                                                                           \r\n        } catch (JCoException e) {                                                                                                                                                      \r\n            e.printStackTrace();                                                                                                                                                    \r\n        }                                                                                                                                                                       \r\n    }                                                                                                                                                                       \r\n}  \r\n\r\n```","title":"Reading Table from SAP ECC using SAP JCo","body":"<p>following code worked for me:</p>\n<pre><code>import com.sap.conn.jco.*;                                                                                                                                                                                                                                                                                                                              \npublic class TransportRequestDetailsExamples {                                                                                                                                  \n    public static void main(String[] args) {                                                                                                                                        \n        try {                                                                                                                                                                                                                                                                                                                                \n            JCoDestination destination = JCoDestinationManager.getDestination(&quot;SAP-ECC-Dest&quot;);                                                                                          \n            destination.ping();                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \n            JCoFunction function= destination.getRepository().getFunction(&quot;RFC_READ_TABLE&quot;);                                                                                                                                                                                                                                                                                                                                                                                                              \n            JCoParameterList imports = function.getImportParameterList();                                                                                                               \n            imports.setValue(&quot;QUERY_TABLE&quot;, &quot;E070&quot;);                                                                                                                                    \n            imports.setValue(&quot;DELIMITER&quot;, &quot;;&quot;);                                                                                                                                                                                                                                                                                                                     \n            JCoParameterList tableOptions = function.getTableParameterList();                                                                                                           \n            JCoTable data = tableOptions.getTable(&quot;DATA&quot;);                                                                                                                                                                                                                                                                                                           \n            function.execute(destination);                                                                                                                                                                                                                                                                                                                          \n            System.out.println(data);                                                                                                                                                                                                                                                                                           \n        } catch (JCoException e) {                                                                                                                                                      \n            e.printStackTrace();                                                                                                                                                    \n        }                                                                                                                                                                       \n    }                                                                                                                                                                       \n}  \n\n</code></pre>\n"}],"owner":{"account_id":20412920,"reputation":67,"user_id":14975858,"display_name":"aman kumar chagti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76525998,"answer_count":1,"score":0,"last_activity_date":1687370687,"creation_date":1687172585,"question_id":76506008,"body_markdown":"I want to print details of all Transport requests, I am trying to read data in table `E070` from SAP ECC using SAP JCo and `RFC_READ_TABLE`, I am running the following code but I am getting no output.\r\n\r\nHere is the code:\r\n```\r\nimport com.sap.conn.jco.*;\r\nimport java.util.logging.*;\r\n\r\npublic class Transport {\r\n    private static final Logger logger = Logger.getLogger(Transport.class.getName());\r\n\r\n    public static void main(String[] args) {\r\n        // Configure logger\r\n        LogManager.getLogManager().reset();\r\n        logger.setLevel(Level.ALL);\r\n        ConsoleHandler consoleHandler = new ConsoleHandler();\r\n        consoleHandler.setLevel(Level.ALL);\r\n        logger.addHandler(consoleHandler);\r\n\r\n        // Establish connection\r\n        JCoDestination destination;\r\n        try {\r\n            destination = JCoDestinationManager.getDestination(&quot;SAP-ECC-Dest&quot;);\r\n            destination.ping();\r\n        } catch (JCoException e) {\r\n            logger.log(Level.SEVERE, &quot;Connection error&quot;, e);\r\n            return;\r\n        }\r\n\r\n        // Create function module call\r\n        JCoFunction function;\r\n        try {\r\n            function = destination.getRepository().getFunction(&quot;RFC_READ_TABLE&quot;);\r\n        } catch (JCoException e) {\r\n            logger.log(Level.SEVERE, &quot;Function module error&quot;, e);\r\n            return;\r\n        }\r\n\r\n        // Set up function module parameters\r\n        JCoParameterList imports = function.getImportParameterList();\r\n        imports.setValue(&quot;QUERY_TABLE&quot;, &quot;E070&quot;); // Table name for transport requests\r\n        imports.setValue(&quot;DELIMITER&quot;, &quot;|&quot;); // Set delimiter for the result\r\n\r\n        JCoParameterList tableOptions = function.getTableParameterList();\r\n        JCoTable data = tableOptions.getTable(&quot;DATA&quot;);\r\n        // System.out.println(data);\r\n        // Add filters if required\r\n        // imports.setValue(&quot;OPTIONS&quot;, ...);\r\n\r\n        // Execute the function module call\r\n        try {\r\n            function.execute(destination);\r\n        } catch (JCoException e) {\r\n            logger.log(Level.SEVERE, &quot;Function module execution error&quot;, e);\r\n            return;\r\n        }\r\n\r\n        // Process the results\r\n        String[] rows = data.getString().split(&quot;\\\\|&quot;);\r\n        for (String row : rows) {\r\n            String[] columns = row.split(&quot;\\\\|&quot;);\r\n            if (columns.length &gt;= 3) {\r\n                String transportRequestId = columns[0]; // Request ID column\r\n                String description = columns[2]; // Description column\r\n\r\n                logger.info(&quot;Transport Request ID: &quot; + transportRequestId);\r\n                logger.info(&quot;Description: &quot; + description);\r\n                logger.info(&quot;-----------------------------------&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nI have tried debugging it but nothing worked. Thank you :)\r\n\r\nMaybe someone with more experience can tell me how should I configure this sample code in order to work.\r\n","title":"Reading Table from SAP ECC using SAP JCo","body":"<p>I want to print details of all Transport requests, I am trying to read data in table <code>E070</code> from SAP ECC using SAP JCo and <code>RFC_READ_TABLE</code>, I am running the following code but I am getting no output.</p>\n<p>Here is the code:</p>\n<pre><code>import com.sap.conn.jco.*;\nimport java.util.logging.*;\n\npublic class Transport {\n    private static final Logger logger = Logger.getLogger(Transport.class.getName());\n\n    public static void main(String[] args) {\n        // Configure logger\n        LogManager.getLogManager().reset();\n        logger.setLevel(Level.ALL);\n        ConsoleHandler consoleHandler = new ConsoleHandler();\n        consoleHandler.setLevel(Level.ALL);\n        logger.addHandler(consoleHandler);\n\n        // Establish connection\n        JCoDestination destination;\n        try {\n            destination = JCoDestinationManager.getDestination(&quot;SAP-ECC-Dest&quot;);\n            destination.ping();\n        } catch (JCoException e) {\n            logger.log(Level.SEVERE, &quot;Connection error&quot;, e);\n            return;\n        }\n\n        // Create function module call\n        JCoFunction function;\n        try {\n            function = destination.getRepository().getFunction(&quot;RFC_READ_TABLE&quot;);\n        } catch (JCoException e) {\n            logger.log(Level.SEVERE, &quot;Function module error&quot;, e);\n            return;\n        }\n\n        // Set up function module parameters\n        JCoParameterList imports = function.getImportParameterList();\n        imports.setValue(&quot;QUERY_TABLE&quot;, &quot;E070&quot;); // Table name for transport requests\n        imports.setValue(&quot;DELIMITER&quot;, &quot;|&quot;); // Set delimiter for the result\n\n        JCoParameterList tableOptions = function.getTableParameterList();\n        JCoTable data = tableOptions.getTable(&quot;DATA&quot;);\n        // System.out.println(data);\n        // Add filters if required\n        // imports.setValue(&quot;OPTIONS&quot;, ...);\n\n        // Execute the function module call\n        try {\n            function.execute(destination);\n        } catch (JCoException e) {\n            logger.log(Level.SEVERE, &quot;Function module execution error&quot;, e);\n            return;\n        }\n\n        // Process the results\n        String[] rows = data.getString().split(&quot;\\\\|&quot;);\n        for (String row : rows) {\n            String[] columns = row.split(&quot;\\\\|&quot;);\n            if (columns.length &gt;= 3) {\n                String transportRequestId = columns[0]; // Request ID column\n                String description = columns[2]; // Description column\n\n                logger.info(&quot;Transport Request ID: &quot; + transportRequestId);\n                logger.info(&quot;Description: &quot; + description);\n                logger.info(&quot;-----------------------------------&quot;);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>I have tried debugging it but nothing worked. Thank you :)</p>\n<p>Maybe someone with more experience can tell me how should I configure this sample code in order to work.</p>\n"},{"tags":["java","css","javafx","javafx-css"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1687396834,"post_id":76524513,"comment_id":134932357,"body_markdown":"I don&#39;t know why an external CSS file would not work for this case.  When you want the red state, you could add an additional styleclass to the chart and have CSS rules that set the red background when that styleclass is applied to the chart.  When you don&#39;t want the red state anymore, you could remove the red styleclass.  If needed, the required style sheets can be [generated in code from a template using a data URL](https://stackoverflow.com/questions/76375731/changing-styles-of-individual-lines-drawn-in-javafx/76383545#76383545).","body":"I don&#39;t know why an external CSS file would not work for this case.  When you want the red state, you could add an additional styleclass to the chart and have CSS rules that set the red background when that styleclass is applied to the chart.  When you don&#39;t want the red state anymore, you could remove the red styleclass.  If needed, the required style sheets can be <a href=\"https://stackoverflow.com/questions/76375731/changing-styles-of-individual-lines-drawn-in-javafx/76383545#76383545\">generated in code from a template using a data URL</a>."}],"answers":[{"comments":[{"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"score":0,"creation_date":1687365488,"post_id":76524733,"comment_id":134927852,"body_markdown":"Thank you for your response. Unfortunately, numeric properties cannot be set dynamically through defining variables, and using pseudoclasses seems to have so many limits (for example, you cannot change the legend font size or plot background color dynamically over any set of values).","body":"Thank you for your response. Unfortunately, numeric properties cannot be set dynamically through defining variables, and using pseudoclasses seems to have so many limits (for example, you cannot change the legend font size or plot background color dynamically over any set of values)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687370450,"post_id":76524733,"comment_id":134928747,"body_markdown":"@KeenTeen That is correct; for use cases that fall outside of those supported by looked-up colors or pseudoclasses, you will have to use a CSS lookup. See update to answer.","body":"@KeenTeen That is correct; for use cases that fall outside of those supported by looked-up colors or pseudoclasses, you will have to use a CSS lookup. See update to answer."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687370400,"creation_date":1687359896,"answer_id":76524733,"question_id":76524513,"body_markdown":"The string you pass to `setStyle()` should be a syntactically valid CSS rule, or set of rules separated by `;`. The text you are passing is not the correct syntax.\r\n\r\n&gt; I want to do it without using an external CSS file ... since I want to be able to change a property dynamically\r\n\r\nYou can use external CSS and change colors dynamically using &quot;looked-up colors&quot; (see the [documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#typecolor) for a definition). In brief, do:\r\n\r\n    .chart {\r\n        -plot-background-color: red;\r\n    }\r\n    .chart .chart-plot-background {\r\n        -fx-background-color: -plot-background-color;\r\n    }\r\n\r\nand then you can change it dynamically with\r\n\r\n    linechart.setStyle(&quot;-plot-background-color: blue;&quot;);\r\n\r\n---\r\n\r\nDepending on your use-case, a custom pseudoclass may also be appropriate. This would also allow you to change properties other than colors dynamically. For the specific example you posted:\r\n\r\n    .chart:alert .chart-plot-background {\r\n        -fx-background-color: red;\r\n    }\r\n\r\nand then in code you can do\r\n\r\n    private final PseudoClass alertPC = PseudoClass.getPseudoClass(&quot;alert&quot;);\r\n    \r\n    // ...\r\n    \r\n    linechart.pseudoClassStateChanged(alertPC, true); // will make background red\r\n    \r\n    // ...\r\n    \r\n    linechart.pseudoClassStateChanged(alertPC, false); // restores default background\r\n    \r\n---\r\n\r\nAs pointed out in a comment, both of these approaches have limitations. The &quot;looked-up color&quot; approach can only be used for colors (JavaFX CSS does not support other types of CSS variable), and custom CSS PseudoClasses can only be used for a discrete set of values. \r\n\r\nAs a last resort, for use-cases that do not fit into those two, you can use a [CSS lookup](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#lookup(java.lang.String)). Note that the `lookup(...)` method will return null unless a CSS pass has been made, but since you are dynamically applying these styles, this should have happened at the point you need to apply the dynamic style. Again, for the example you cite:\r\n\r\n    Node plotBackground = linechart.lookup(&quot;.chart-plot-background&quot;);\r\n    plotBackground.setStyle(&quot;-fx-background-color: red;&quot;);\r\n\r\nIf for any reason you need to do this *before* the chart has CSS applied in the natural lifecycle of the scene graph (this really shouldn&#39;t happen; your external CSS (or just the system default) can define the initial/default CSS state, and the dynamic changes should only be invoked after some event occurs, which should necessarily be after the component is displayed), you can force CSS to be applied via calls to `linechart.applyCSS();` and `linechart.layout();`.\r\n","title":"Inline JavaFX CSS has troubles with properties","body":"<p>The string you pass to <code>setStyle()</code> should be a syntactically valid CSS rule, or set of rules separated by <code>;</code>. The text you are passing is not the correct syntax.</p>\n<blockquote>\n<p>I want to do it without using an external CSS file ... since I want to be able to change a property dynamically</p>\n</blockquote>\n<p>You can use external CSS and change colors dynamically using &quot;looked-up colors&quot; (see the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#typecolor\" rel=\"nofollow noreferrer\">documentation</a> for a definition). In brief, do:</p>\n<pre><code>.chart {\n    -plot-background-color: red;\n}\n.chart .chart-plot-background {\n    -fx-background-color: -plot-background-color;\n}\n</code></pre>\n<p>and then you can change it dynamically with</p>\n<pre><code>linechart.setStyle(&quot;-plot-background-color: blue;&quot;);\n</code></pre>\n<hr />\n<p>Depending on your use-case, a custom pseudoclass may also be appropriate. This would also allow you to change properties other than colors dynamically. For the specific example you posted:</p>\n<pre><code>.chart:alert .chart-plot-background {\n    -fx-background-color: red;\n}\n</code></pre>\n<p>and then in code you can do</p>\n<pre><code>private final PseudoClass alertPC = PseudoClass.getPseudoClass(&quot;alert&quot;);\n\n// ...\n\nlinechart.pseudoClassStateChanged(alertPC, true); // will make background red\n\n// ...\n\nlinechart.pseudoClassStateChanged(alertPC, false); // restores default background\n</code></pre>\n<hr />\n<p>As pointed out in a comment, both of these approaches have limitations. The &quot;looked-up color&quot; approach can only be used for colors (JavaFX CSS does not support other types of CSS variable), and custom CSS PseudoClasses can only be used for a discrete set of values.</p>\n<p>As a last resort, for use-cases that do not fit into those two, you can use a <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#lookup(java.lang.String)\" rel=\"nofollow noreferrer\">CSS lookup</a>. Note that the <code>lookup(...)</code> method will return null unless a CSS pass has been made, but since you are dynamically applying these styles, this should have happened at the point you need to apply the dynamic style. Again, for the example you cite:</p>\n<pre><code>Node plotBackground = linechart.lookup(&quot;.chart-plot-background&quot;);\nplotBackground.setStyle(&quot;-fx-background-color: red;&quot;);\n</code></pre>\n<p>If for any reason you need to do this <em>before</em> the chart has CSS applied in the natural lifecycle of the scene graph (this really shouldn't happen; your external CSS (or just the system default) can define the initial/default CSS state, and the dynamic changes should only be invoked after some event occurs, which should necessarily be after the component is displayed), you can force CSS to be applied via calls to <code>linechart.applyCSS();</code> and <code>linechart.layout();</code>.</p>\n"}],"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687370400,"creation_date":1687358364,"question_id":76524513,"body_markdown":"I have a `LineChart` and I want to change the `-fx-background-color` of its `-chart-plot-background` property. I want to do it **without** using an **external** CSS file (and only through the code, since I want to be able to change a property dynamically). Unfortunately, the following lines fail to work:\r\n\r\n    linechart.setStyle(&quot;-chart-plot-background(-fx-background-color: red;)&quot;);\r\n\r\n    linechart.setStyle(&quot;-chart-plot-background{-fx-background-color: red;}&quot;);\r\n\r\nThe error reads:\r\n\r\n    Jun 21, 2023 7:04:17 PM javafx.css.CssParser parse\r\n    WARNING: CSS Error parsing &#39;*{-chart-plot-background(-fx-background-color: red;)}: Expected RBRACE at [1,45]\r\n\r\nor\r\n\r\n    Jun 21, 2023 7:04:17 PM javafx.css.CssParser parse\r\n    WARNING: CSS Error parsing &#39;*{-chart-plot-background{-fx-background-color: red;}}: Expected RBRACE at [1,45]\r\n\r\nHow can we tackle this problem?\r\n\r\n","title":"Inline JavaFX CSS has troubles with properties","body":"<p>I have a <code>LineChart</code> and I want to change the <code>-fx-background-color</code> of its <code>-chart-plot-background</code> property. I want to do it <strong>without</strong> using an <strong>external</strong> CSS file (and only through the code, since I want to be able to change a property dynamically). Unfortunately, the following lines fail to work:</p>\n<pre><code>linechart.setStyle(&quot;-chart-plot-background(-fx-background-color: red;)&quot;);\n\nlinechart.setStyle(&quot;-chart-plot-background{-fx-background-color: red;}&quot;);\n</code></pre>\n<p>The error reads:</p>\n<pre><code>Jun 21, 2023 7:04:17 PM javafx.css.CssParser parse\nWARNING: CSS Error parsing '*{-chart-plot-background(-fx-background-color: red;)}: Expected RBRACE at [1,45]\n</code></pre>\n<p>or</p>\n<pre><code>Jun 21, 2023 7:04:17 PM javafx.css.CssParser parse\nWARNING: CSS Error parsing '*{-chart-plot-background{-fx-background-color: red;}}: Expected RBRACE at [1,45]\n</code></pre>\n<p>How can we tackle this problem?</p>\n"},{"tags":["java","spring-boot","couchbase","spring-data-couchbase","couchbase-java-api"],"comments":[{"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"score":0,"creation_date":1666324456,"post_id":74148585,"comment_id":130914840,"body_markdown":"A support document state that &quot;In SDK 2 the main method to control transcoding was through providing different Document instances (which in turn had their own transcoder associated), such as the JsonDocument. This only worked for the KV APIs through Query, Search, Views, and other services that exposed their JSON rows/hits in different ways. All of this has been unified in SDK 3 under a single concept: serializers and transcoders.&quot;","body":"A support document state that &quot;In SDK 2 the main method to control transcoding was through providing different Document instances (which in turn had their own transcoder associated), such as the JsonDocument. This only worked for the KV APIs through Query, Search, Views, and other services that exposed their JSON rows/hits in different ways. All of this has been unified in SDK 3 under a single concept: serializers and transcoders.&quot;"},{"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"score":0,"creation_date":1666324468,"post_id":74148585,"comment_id":130914845,"body_markdown":"By default, all KV APIs transcode to and from JSON you can also provide java POJOs which you couldn’t in the past. JsonObject and JsonArray are still available, like in SDK 2.\n\n(Link:https://docs.couchbase.com/java-sdk/current/project-docs/migrating-sdk-code-to-3.n.html)","body":"By default, all KV APIs transcode to and from JSON you can also provide java POJOs which you couldn’t in the past. JsonObject and JsonArray are still available, like in SDK 2.  (Link:<a href=\"https://docs.couchbase.com/java-sdk/current/project-docs/migrating-sdk-code-to-3.n.html\" rel=\"nofollow noreferrer\">docs.couchbase.com/java-sdk/current/project-docs/&hellip;</a>)"},{"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"score":0,"creation_date":1666324707,"post_id":74148585,"comment_id":130914876,"body_markdown":"In a comparison of SDK 2.x Document vs. SDK 3.x Transcoder table JsonDocument is mentioned as replaced by JsonTranscoder.Could some assistance be provided on how these details may be utilized in handling the above issue?","body":"In a comparison of SDK 2.x Document vs. SDK 3.x Transcoder table JsonDocument is mentioned as replaced by JsonTranscoder.Could some assistance be provided on how these details may be utilized in handling the above issue?"}],"answers":[{"tags":[],"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687370015,"creation_date":1687370015,"answer_id":76525960,"question_id":74148585,"body_markdown":"&gt; But how can I return a document format similar to JsonDocument or an alternative format without breaking the current code after the migration to Couchbase SDK 3?\r\n\r\nIn general, it&#39;s not possible to upgrade to SDK 3 without breaking some part of your code. However, you can write you own `JsonDocument` class that looks a bit like SDK 2&#39;s `JsonDocument`.\r\n\r\n&gt; In a comparison of SDK 2.x Document vs. SDK 3.x Transcoder table JsonDocument is mentioned as replaced by JsonTranscoder. Could some assistance be provided on how these details may be utilized in handling the above issue?\r\n\r\nIn SDK 2, if you wanted to insert a JSON document into the database, you passed a `JsonDocument` to `bucket.insert(document)`.\r\n\r\nIn SDK 3, you pass *any* object as the content for `collection.insert(id, content)`, and the SDK uses a transcoder to convert the object to your desired format. You control the format by specifying which transcoder to use. The default is `JsonTranscoder`, which uses data binding to convert the Java object to JSON.\r\n\r\nWhen retrieving a document in SDK 3, you get a `GetResult` instead of a `Document`. This GetResult has all the same information as a JsonDocument, but in a more flexible format. For example, you can get the raw content bytes of a GetResult by calling `result.contentAsBytes()`. You can use data binding to convert the content to any compatible Java class by calling `result.contentAs(MyJavaClass.class)`, or even a list of such classes by calling `result.contentAs(new TypeRef&lt;List&lt;MyJavaClass&gt;&gt;() {})`.\r\n\r\n\r\nHere&#39;s my quick attempt at porting most of `CouchbaseConnector` to SDK 3:\r\n\r\n```java\r\nimport com.couchbase.client.core.error.DocumentNotFoundException;\r\nimport com.couchbase.client.java.Collection;\r\nimport com.couchbase.client.java.codec.RawJsonTranscoder;\r\nimport com.couchbase.client.java.json.JsonObject;\r\nimport com.couchbase.client.java.kv.GetResult;\r\nimport com.couchbase.client.java.kv.InsertOptions;\r\nimport com.couchbase.client.java.kv.MutationResult;\r\n\r\nimport static java.util.Objects.requireNonNull;\r\n\r\npublic class CouchbaseConnector {\r\n  /**\r\n   * Associates a document ID with a JsonObject.\r\n   */\r\n  public static class JsonDocument {\r\n    private final String id;\r\n    private final JsonObject content; // nullable!\r\n\r\n    public JsonDocument(String id, JsonObject content) {\r\n      this.id = requireNonNull(id);\r\n      this.content = content;\r\n    }\r\n\r\n    public String id() {\r\n      return id;\r\n    }\r\n\r\n    public JsonObject content() {\r\n      return content;\r\n    }\r\n  }\r\n\r\n  private final Collection collection;\r\n\r\n  public CouchbaseConnector(Collection collection) {\r\n    this.collection = requireNonNull(collection);\r\n  }\r\n\r\n  public MutationResult insert(String id, String jsonString) {\r\n    // Use RawJsonTranscoder.INSTANCE when you have a String or byte array\r\n    // containing pre-formatted JSON:\r\n    return collection.insert(id, jsonString,\r\n      InsertOptions.insertOptions()\r\n        .transcoder(RawJsonTranscoder.INSTANCE)\r\n    );\r\n  }\r\n\r\n  public MutationResult insert(String id, JsonObject jsonObject) {\r\n    // Use the JsonTranscoder (the default) with JsonObject,\r\n    // and any other Java object compatible with JSON data binding:\r\n    return collection.insert(id, jsonObject);\r\n  }\r\n\r\n  public MutationResult insert(JsonDocument document) {\r\n    return collection.insert(document.id(), document.content());\r\n  }\r\n\r\n  public GetResult retrieve(String id) throws DocumentNotFoundException {\r\n    return collection.get(id);\r\n  }\r\n\r\n  @Deprecated\r\n  public JsonDocument retrieveAsJsonObject(String id) throws DocumentNotFoundException {\r\n    GetResult result = collection.get(id);\r\n    return new JsonDocument(id, result.contentAsObject());\r\n  }\r\n\r\n  public MutationResult remove(String id) {\r\n    try {\r\n      return collection.remove(id);\r\n    } catch (DocumentNotFoundException e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  @Deprecated\r\n  public JsonDocument removeAsJsonDocument(String id) {\r\n    MutationResult result = remove(id);\r\n    return result == null ? null : new JsonDocument(id, null);\r\n  }\r\n}\r\n``` ","title":"How to handle Couchbase SDK 2 based JsonDocument format usage when migrating to Couchbase SDK 3?","body":"<blockquote>\n<p>But how can I return a document format similar to JsonDocument or an alternative format without breaking the current code after the migration to Couchbase SDK 3?</p>\n</blockquote>\n<p>In general, it's not possible to upgrade to SDK 3 without breaking some part of your code. However, you can write you own <code>JsonDocument</code> class that looks a bit like SDK 2's <code>JsonDocument</code>.</p>\n<blockquote>\n<p>In a comparison of SDK 2.x Document vs. SDK 3.x Transcoder table JsonDocument is mentioned as replaced by JsonTranscoder. Could some assistance be provided on how these details may be utilized in handling the above issue?</p>\n</blockquote>\n<p>In SDK 2, if you wanted to insert a JSON document into the database, you passed a <code>JsonDocument</code> to <code>bucket.insert(document)</code>.</p>\n<p>In SDK 3, you pass <em>any</em> object as the content for <code>collection.insert(id, content)</code>, and the SDK uses a transcoder to convert the object to your desired format. You control the format by specifying which transcoder to use. The default is <code>JsonTranscoder</code>, which uses data binding to convert the Java object to JSON.</p>\n<p>When retrieving a document in SDK 3, you get a <code>GetResult</code> instead of a <code>Document</code>. This GetResult has all the same information as a JsonDocument, but in a more flexible format. For example, you can get the raw content bytes of a GetResult by calling <code>result.contentAsBytes()</code>. You can use data binding to convert the content to any compatible Java class by calling <code>result.contentAs(MyJavaClass.class)</code>, or even a list of such classes by calling <code>result.contentAs(new TypeRef&lt;List&lt;MyJavaClass&gt;&gt;() {})</code>.</p>\n<p>Here's my quick attempt at porting most of <code>CouchbaseConnector</code> to SDK 3:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.couchbase.client.core.error.DocumentNotFoundException;\nimport com.couchbase.client.java.Collection;\nimport com.couchbase.client.java.codec.RawJsonTranscoder;\nimport com.couchbase.client.java.json.JsonObject;\nimport com.couchbase.client.java.kv.GetResult;\nimport com.couchbase.client.java.kv.InsertOptions;\nimport com.couchbase.client.java.kv.MutationResult;\n\nimport static java.util.Objects.requireNonNull;\n\npublic class CouchbaseConnector {\n  /**\n   * Associates a document ID with a JsonObject.\n   */\n  public static class JsonDocument {\n    private final String id;\n    private final JsonObject content; // nullable!\n\n    public JsonDocument(String id, JsonObject content) {\n      this.id = requireNonNull(id);\n      this.content = content;\n    }\n\n    public String id() {\n      return id;\n    }\n\n    public JsonObject content() {\n      return content;\n    }\n  }\n\n  private final Collection collection;\n\n  public CouchbaseConnector(Collection collection) {\n    this.collection = requireNonNull(collection);\n  }\n\n  public MutationResult insert(String id, String jsonString) {\n    // Use RawJsonTranscoder.INSTANCE when you have a String or byte array\n    // containing pre-formatted JSON:\n    return collection.insert(id, jsonString,\n      InsertOptions.insertOptions()\n        .transcoder(RawJsonTranscoder.INSTANCE)\n    );\n  }\n\n  public MutationResult insert(String id, JsonObject jsonObject) {\n    // Use the JsonTranscoder (the default) with JsonObject,\n    // and any other Java object compatible with JSON data binding:\n    return collection.insert(id, jsonObject);\n  }\n\n  public MutationResult insert(JsonDocument document) {\n    return collection.insert(document.id(), document.content());\n  }\n\n  public GetResult retrieve(String id) throws DocumentNotFoundException {\n    return collection.get(id);\n  }\n\n  @Deprecated\n  public JsonDocument retrieveAsJsonObject(String id) throws DocumentNotFoundException {\n    GetResult result = collection.get(id);\n    return new JsonDocument(id, result.contentAsObject());\n  }\n\n  public MutationResult remove(String id) {\n    try {\n      return collection.remove(id);\n    } catch (DocumentNotFoundException e) {\n      return null;\n    }\n  }\n\n  @Deprecated\n  public JsonDocument removeAsJsonDocument(String id) {\n    MutationResult result = remove(id);\n    return result == null ? null : new JsonDocument(id, null);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1171454,"reputation":450,"user_id":1148552,"accept_rate":67,"display_name":"Gehan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76525960,"answer_count":1,"score":1,"last_activity_date":1687370015,"creation_date":1666323984,"question_id":74148585,"body_markdown":"When migrating from Couchbase SDK 2 to SDK 3 certain document formats seem to have been removed. Our current development which was based on Couchbase SDK 2, has extensively used the JsonDocument format (`com.couchbase.client.java.document.JsonDocument`).\r\n\r\nHow can this format or an alternative output be used in Couchbase SDK 3 to handle the below-indicated API change?\r\n\r\nThis is one of the sample classes that used JsonDocument in the existing system. \r\n\r\n    import com.couchbase.client.java.Bucket;\r\n    import java.util.concurrent.TimeUnit;\r\n    import com.couchbase.client.java.Cluster;\r\n    import com.couchbase.client.java.CouchbaseCluster;\r\n    import com.couchbase.client.java.document.JsonDocument; \r\n    import com.couchbase.client.java.document.json.JsonObject;\r\n    \r\n    public class CouchbaseConnector {\r\n    \r\n        private Bucket bucket;\r\n        \r\n        private CouchbaseConnector(Bucket bucket) {\r\n            this.bucket = bucket;\r\n        }\r\n    \r\n        public static Builder builder() {\r\n    \r\n            return new Builder();\r\n        }\r\n    \r\n        public JsonDocument insert(String id, String jsonString) {\r\n    \r\n            JsonObject content = JsonObject.fromJson(jsonString);\r\n            return insert(id, content);\r\n        }\r\n    \r\n        public JsonDocument insert(String id, JsonObject jsonObject) { \r\n    \r\n            JsonDocument document = JsonDocument.create(id, jsonObject);\r\n            return insert(document);\r\n        }\r\n    \r\n        public JsonDocument insert(JsonDocument document) {\r\n            return bucket.insert(document);\r\n        }\r\n    \r\n        public JsonDocument retrieve(String id) {\r\n            return bucket.get(id);\r\n        }\r\n    \r\n        public JsonDocument remove(String id) {\r\n    \r\n            try {\r\n                return bucket.remove(id);\r\n            } catch (Exception e) {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public boolean flush() {\r\n            return bucket.bucketManager().flush();\r\n        }\r\n    }\r\n\r\nFor example, to in order to handle the insertion functionality in Couchbase SDK 3, I believe can be handled as mentioned below.\r\n\r\n    public void insert(String id, String jsonString, Collection collection) {\r\n            MutationResult upsertResult =null;\r\n            JsonObject content = JsonObject.fromJson(jsonString);\r\n    \r\n         try{\r\n         //Insert Document\r\n         upsertResult = collection.upsert(id, content);\r\n         }Catch (CasMismatchException e){\r\n          //To Do: the caller is expected to re-do the whole &quot;fetch-modify-update&quot; cycle again\r\n         }\r\n    \r\n        //Retrieve the document\r\n        GetResult getResult = collection.get(id).contentAsObject();\r\n         \r\n        }\r\n\r\nBut how can I return a document format similar to JsonDocument or an alternative format without breaking the current code after the migration to Couchbase SDK 3? ","title":"How to handle Couchbase SDK 2 based JsonDocument format usage when migrating to Couchbase SDK 3?","body":"<p>When migrating from Couchbase SDK 2 to SDK 3 certain document formats seem to have been removed. Our current development which was based on Couchbase SDK 2, has extensively used the JsonDocument format (<code>com.couchbase.client.java.document.JsonDocument</code>).</p>\n<p>How can this format or an alternative output be used in Couchbase SDK 3 to handle the below-indicated API change?</p>\n<p>This is one of the sample classes that used JsonDocument in the existing system.</p>\n<pre><code>import com.couchbase.client.java.Bucket;\nimport java.util.concurrent.TimeUnit;\nimport com.couchbase.client.java.Cluster;\nimport com.couchbase.client.java.CouchbaseCluster;\nimport com.couchbase.client.java.document.JsonDocument; \nimport com.couchbase.client.java.document.json.JsonObject;\n\npublic class CouchbaseConnector {\n\n    private Bucket bucket;\n    \n    private CouchbaseConnector(Bucket bucket) {\n        this.bucket = bucket;\n    }\n\n    public static Builder builder() {\n\n        return new Builder();\n    }\n\n    public JsonDocument insert(String id, String jsonString) {\n\n        JsonObject content = JsonObject.fromJson(jsonString);\n        return insert(id, content);\n    }\n\n    public JsonDocument insert(String id, JsonObject jsonObject) { \n\n        JsonDocument document = JsonDocument.create(id, jsonObject);\n        return insert(document);\n    }\n\n    public JsonDocument insert(JsonDocument document) {\n        return bucket.insert(document);\n    }\n\n    public JsonDocument retrieve(String id) {\n        return bucket.get(id);\n    }\n\n    public JsonDocument remove(String id) {\n\n        try {\n            return bucket.remove(id);\n        } catch (Exception e) {\n            return null;\n        }\n    }\n\n    public boolean flush() {\n        return bucket.bucketManager().flush();\n    }\n}\n</code></pre>\n<p>For example, to in order to handle the insertion functionality in Couchbase SDK 3, I believe can be handled as mentioned below.</p>\n<pre><code>public void insert(String id, String jsonString, Collection collection) {\n        MutationResult upsertResult =null;\n        JsonObject content = JsonObject.fromJson(jsonString);\n\n     try{\n     //Insert Document\n     upsertResult = collection.upsert(id, content);\n     }Catch (CasMismatchException e){\n      //To Do: the caller is expected to re-do the whole &quot;fetch-modify-update&quot; cycle again\n     }\n\n    //Retrieve the document\n    GetResult getResult = collection.get(id).contentAsObject();\n     \n    }\n</code></pre>\n<p>But how can I return a document format similar to JsonDocument or an alternative format without breaking the current code after the migration to Couchbase SDK 3?</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-mvvm"],"owner":{"account_id":24375580,"reputation":9,"user_id":18307969,"display_name":"Spino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687369862,"creation_date":1687369862,"question_id":76525948,"body_markdown":"I have a fragment in android studio for displaying some results searched through a searchview; the data is taken otherafter an API call with retrofit. Next show them through a recyclerview. My problem is that whenever I search for a word with searchview the results I searched for before remain and are not replaced or deleted. how can I do?\r\n\r\nSearchFragment:\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        searchView = view.findViewById(R.id.searchview);\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                performSearch(query);\r\n                return true;\r\n            }\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n    private void performSearch(String query) {\r\n\r\n        fragmentRicercaBinding.resultsTextView.setText(query);\r\n\r\n        LinearLayoutManager layoutManager =\r\n                new LinearLayoutManager(requireContext(),\r\n                        LinearLayoutManager.VERTICAL, false);\r\n        gamesRecyclerViewAdapter = new GamesRecyclerViewAdapter(gamesList,\r\n                requireActivity().getApplication(),\r\n                new GamesRecyclerViewAdapter.OnItemClickListener() {\r\n                    @Override\r\n                    public void onGamesItemClick(Games games) {\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFavoriteButtonPressed(int position) {\r\n                        gamesList.get(position).setFavorite(!gamesList.get(position).isFavorite());\r\n                        viewModel.updateGames(gamesList.get(position));\r\n                    }\r\n                });\r\n        fragmentRicercaBinding.resultRecycler.setLayoutManager(layoutManager);\r\n        fragmentRicercaBinding.resultRecycler.setAdapter(gamesRecyclerViewAdapter);\r\n\r\n        String lastUpdate = String.valueOf(System.currentTimeMillis());\r\n        fragmentRicercaBinding.resultProgressBar.setVisibility(View.VISIBLE);\r\n\r\n        viewModel.getResultGames(query, Long.parseLong(lastUpdate)).observe(getViewLifecycleOwner(),\r\n                result -&gt; {\r\n                    if (result.isSuccess()) {\r\n\r\n                        GamesApiResponse gamesApiResponse = ((Result.GamesResponseSuccess) result).getData();\r\n                        List&lt;Games&gt; fetchedGames = gamesApiResponse.getResults();\r\n\r\n                        if (!viewModel.isLoading()) {\r\n                            if (viewModel.isFirstLoading()) {\r\n                                gamesList.clear();\r\n                                viewModel.setTotalResults(((GamesApiResponse) gamesApiResponse).getNumber_of_total_results());\r\n                                viewModel.setFirstLoading(false);\r\n                                gamesList.addAll(fetchedGames);\r\n\r\n                                gamesRecyclerViewAdapter.notifyItemRangeInserted(0,\r\n                                        gamesList.size());\r\n                            } else {\r\n\r\n                                gamesList.clear();\r\n                                gamesList.addAll(fetchedGames);\r\n                                gamesRecyclerViewAdapter.notifyItemChanged(0, fetchedGames.size());\r\n                            }\r\n                            fragmentRicercaBinding.resultProgressBar.setVisibility(View.GONE);\r\n                        } else {\r\n                            viewModel.setLoading(false);\r\n                            viewModel.setCurrentResults(gamesList.size());\r\n\r\n                            int initialSize = gamesList.size();\r\n\r\n                            for (int i = 0; i &lt; gamesList.size(); i++) {\r\n                                if (gamesList.get(i) == null) {\r\n                                    gamesList.remove(gamesList.get(i));\r\n                                }\r\n                            }\r\n                            int startIndex = (viewModel.getOffset()*TOP_HEADLINES_PAGE_SIZE_VALUE) -\r\n                                    TOP_HEADLINES_PAGE_SIZE_VALUE;\r\n                            Log.e(TAG, String.valueOf(startIndex));\r\n                            for (int i = startIndex; i &lt; fetchedGames.size(); i++) {\r\n                                gamesList.add(fetchedGames.get(i));\r\n                            }\r\n                            gamesRecyclerViewAdapter.notifyItemRangeInserted(initialSize, gamesList.size());\r\n\r\n                        }\r\n                    } else {\r\n                        ErrorMessagesUtil errorMessagesUtil =\r\n                                new ErrorMessagesUtil(requireActivity().getApplication());\r\n                        fragmentRicercaBinding.resultProgressBar.setVisibility(View.GONE);\r\n                    }\r\n                });\r\n\r\n        fragmentRicercaBinding.resultRecycler.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n\r\n            @Override\r\n            public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\r\n                super.onScrolled(recyclerView, dx, dy);\r\n                boolean isConnected = isConnected();\r\n\r\n                if (isConnected &amp;&amp; totalItemCount != viewModel.getTotalResults()) {\r\n\r\n                    totalItemCount = layoutManager.getItemCount();\r\n                    lastVisibleItem = layoutManager.findLastVisibleItemPosition();\r\n                    visibleItemCount = layoutManager.getChildCount();\r\n\r\n\r\n                    if (totalItemCount == visibleItemCount ||\r\n                            (totalItemCount &lt;= (lastVisibleItem + threshold) &amp;&amp;\r\n                                    dy &gt; 0 &amp;&amp;\r\n                                    !viewModel.isLoading()\r\n                            ) &amp;&amp;\r\n                                    viewModel.getResultsGamesLiveData().getValue() != null &amp;&amp;\r\n                                    viewModel.getCurrentResults() != viewModel.getTotalResults()\r\n                    ) {\r\n                        MutableLiveData&lt;Result&gt; gamesLiveData = viewModel.getResultsGamesLiveData();\r\n\r\n                        if (gamesLiveData.getValue() != null &amp;&amp;\r\n                                gamesLiveData.getValue().isSuccess()) {\r\n\r\n                            viewModel.setLoading(true);\r\n                            gamesList.add(null);\r\n                            gamesRecyclerViewAdapter.notifyItemRangeInserted(gamesList.size(),\r\n                                    gamesList.size() + 1);\r\n\r\n\r\n                            int page = viewModel.getOffset() + 1;\r\n                            Log.e(TAG, String.valueOf(page));\r\n                            viewModel.setOffset(page);\r\n                            viewModel.resultGames(query);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\nrecyclerview:\r\n\r\n    package com.example.gameslist.adapter;\r\n\r\n    import android.app.Application;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.content.res.AppCompatResources;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import com.bumptech.glide.Glide;\r\n    import com.example.gameslist.R;\r\n    import com.example.gameslist.model.Games;\r\n\r\n    import java.util.List;\r\n\r\n    public class GamesRecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n\r\n    private static final int GAMES_VIEW = 0;\r\n    private static final int LOADING_VIEW_TYPE = 1;\r\n\r\n    public interface OnItemClickListener {\r\n        void onGamesItemClick(Games games);\r\n        void onFavoriteButtonPressed(int position);\r\n    }\r\n\r\n    private List&lt;Games&gt; gamesList;\r\n    private final Application application;\r\n    private final OnItemClickListener onItemClickListener;\r\n\r\n    public GamesRecyclerViewAdapter(List&lt;Games&gt; gamesList, Application application,\r\n                                    OnItemClickListener onItemClickListener) {\r\n        this.gamesList = gamesList;\r\n        this.application = application;\r\n        this.onItemClickListener = onItemClickListener;\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        if (gamesList.get(position) == null) {\r\n            return LOADING_VIEW_TYPE;\r\n        } else {\r\n            return GAMES_VIEW;\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = null;\r\n\r\n        if (viewType == GAMES_VIEW) {\r\n            view = LayoutInflater.from(parent.getContext()).\r\n                    inflate(R.layout.games_item, parent, false);\r\n            return new GamesViewHolder(view);\r\n        } else {\r\n            view = LayoutInflater.from(parent.getContext()).\r\n                    inflate(R.layout.loading, parent, false);\r\n            return new LoadingGamesViewHolder(view);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        if (holder instanceof GamesViewHolder) {\r\n            ((GamesViewHolder) holder).bind(gamesList.get(position));\r\n        } else if (holder instanceof LoadingGamesViewHolder) {\r\n            ((LoadingGamesViewHolder) holder).activate();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        if (gamesList != null) {\r\n            return gamesList.size();\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public class GamesViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n        private final ImageView imageViewCover;\r\n        public GamesViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n        }\r\n\r\n        public void bind(Games games) {\r\n            String imag2 = String.valueOf(games.getImage());\r\n            Glide.with(application)\r\n                    .load(imag2)\r\n                    .placeholder(R.drawable.baseline_arrow_circle_down_24)\r\n                    .centerCrop()\r\n                    .into(imageViewCover);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n            if (v.getId() == R.id.imageview_favorite) {\r\n                //setImageViewFavoriteGames(!gamesList.get(getAdapterPosition()).isFavorite());\r\n                onItemClickListener.onFavoriteButtonPressed(getAdapterPosition());\r\n            } else {\r\n                onItemClickListener.onGamesItemClick(gamesList.get(getAdapterPosition()));\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class LoadingGamesViewHolder extends RecyclerView.ViewHolder {\r\n        private final ProgressBar progressBar;\r\n\r\n        LoadingGamesViewHolder(View view) {\r\n            super(view);\r\n            progressBar = view.findViewById(R.id.progressbar_loading);\r\n        }\r\n\r\n        public void activate() {\r\n            progressBar.setIndeterminate(true);\r\n        }\r\n    }\r\n}\r\n","title":"Mutable Live Data clear and recyclerview","body":"<p>I have a fragment in android studio for displaying some results searched through a searchview; the data is taken otherafter an API call with retrofit. Next show them through a recyclerview. My problem is that whenever I search for a word with searchview the results I searched for before remain and are not replaced or deleted. how can I do?</p>\n<p>SearchFragment:</p>\n<pre><code>@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    searchView = view.findViewById(R.id.searchview);\n    searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            performSearch(query);\n            return true;\n        }\n        @Override\n        public boolean onQueryTextChange(String newText) {\n            return false;\n        }\n    });\n}\nprivate void performSearch(String query) {\n\n    fragmentRicercaBinding.resultsTextView.setText(query);\n\n    LinearLayoutManager layoutManager =\n            new LinearLayoutManager(requireContext(),\n                    LinearLayoutManager.VERTICAL, false);\n    gamesRecyclerViewAdapter = new GamesRecyclerViewAdapter(gamesList,\n            requireActivity().getApplication(),\n            new GamesRecyclerViewAdapter.OnItemClickListener() {\n                @Override\n                public void onGamesItemClick(Games games) {\n                }\n\n                @Override\n                public void onFavoriteButtonPressed(int position) {\n                    gamesList.get(position).setFavorite(!gamesList.get(position).isFavorite());\n                    viewModel.updateGames(gamesList.get(position));\n                }\n            });\n    fragmentRicercaBinding.resultRecycler.setLayoutManager(layoutManager);\n    fragmentRicercaBinding.resultRecycler.setAdapter(gamesRecyclerViewAdapter);\n\n    String lastUpdate = String.valueOf(System.currentTimeMillis());\n    fragmentRicercaBinding.resultProgressBar.setVisibility(View.VISIBLE);\n\n    viewModel.getResultGames(query, Long.parseLong(lastUpdate)).observe(getViewLifecycleOwner(),\n            result -&gt; {\n                if (result.isSuccess()) {\n\n                    GamesApiResponse gamesApiResponse = ((Result.GamesResponseSuccess) result).getData();\n                    List&lt;Games&gt; fetchedGames = gamesApiResponse.getResults();\n\n                    if (!viewModel.isLoading()) {\n                        if (viewModel.isFirstLoading()) {\n                            gamesList.clear();\n                            viewModel.setTotalResults(((GamesApiResponse) gamesApiResponse).getNumber_of_total_results());\n                            viewModel.setFirstLoading(false);\n                            gamesList.addAll(fetchedGames);\n\n                            gamesRecyclerViewAdapter.notifyItemRangeInserted(0,\n                                    gamesList.size());\n                        } else {\n\n                            gamesList.clear();\n                            gamesList.addAll(fetchedGames);\n                            gamesRecyclerViewAdapter.notifyItemChanged(0, fetchedGames.size());\n                        }\n                        fragmentRicercaBinding.resultProgressBar.setVisibility(View.GONE);\n                    } else {\n                        viewModel.setLoading(false);\n                        viewModel.setCurrentResults(gamesList.size());\n\n                        int initialSize = gamesList.size();\n\n                        for (int i = 0; i &lt; gamesList.size(); i++) {\n                            if (gamesList.get(i) == null) {\n                                gamesList.remove(gamesList.get(i));\n                            }\n                        }\n                        int startIndex = (viewModel.getOffset()*TOP_HEADLINES_PAGE_SIZE_VALUE) -\n                                TOP_HEADLINES_PAGE_SIZE_VALUE;\n                        Log.e(TAG, String.valueOf(startIndex));\n                        for (int i = startIndex; i &lt; fetchedGames.size(); i++) {\n                            gamesList.add(fetchedGames.get(i));\n                        }\n                        gamesRecyclerViewAdapter.notifyItemRangeInserted(initialSize, gamesList.size());\n\n                    }\n                } else {\n                    ErrorMessagesUtil errorMessagesUtil =\n                            new ErrorMessagesUtil(requireActivity().getApplication());\n                    fragmentRicercaBinding.resultProgressBar.setVisibility(View.GONE);\n                }\n            });\n\n    fragmentRicercaBinding.resultRecycler.addOnScrollListener(new RecyclerView.OnScrollListener() {\n\n        @Override\n        public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n            boolean isConnected = isConnected();\n\n            if (isConnected &amp;&amp; totalItemCount != viewModel.getTotalResults()) {\n\n                totalItemCount = layoutManager.getItemCount();\n                lastVisibleItem = layoutManager.findLastVisibleItemPosition();\n                visibleItemCount = layoutManager.getChildCount();\n\n\n                if (totalItemCount == visibleItemCount ||\n                        (totalItemCount &lt;= (lastVisibleItem + threshold) &amp;&amp;\n                                dy &gt; 0 &amp;&amp;\n                                !viewModel.isLoading()\n                        ) &amp;&amp;\n                                viewModel.getResultsGamesLiveData().getValue() != null &amp;&amp;\n                                viewModel.getCurrentResults() != viewModel.getTotalResults()\n                ) {\n                    MutableLiveData&lt;Result&gt; gamesLiveData = viewModel.getResultsGamesLiveData();\n\n                    if (gamesLiveData.getValue() != null &amp;&amp;\n                            gamesLiveData.getValue().isSuccess()) {\n\n                        viewModel.setLoading(true);\n                        gamesList.add(null);\n                        gamesRecyclerViewAdapter.notifyItemRangeInserted(gamesList.size(),\n                                gamesList.size() + 1);\n\n\n                        int page = viewModel.getOffset() + 1;\n                        Log.e(TAG, String.valueOf(page));\n                        viewModel.setOffset(page);\n                        viewModel.resultGames(query);\n                    }\n                }\n            }\n        }\n    });\n\n}\n</code></pre>\n<p>recyclerview:</p>\n<pre><code>package com.example.gameslist.adapter;\n\nimport android.app.Application;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.content.res.AppCompatResources;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.example.gameslist.R;\nimport com.example.gameslist.model.Games;\n\nimport java.util.List;\n\npublic class GamesRecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\nprivate static final int GAMES_VIEW = 0;\nprivate static final int LOADING_VIEW_TYPE = 1;\n\npublic interface OnItemClickListener {\n    void onGamesItemClick(Games games);\n    void onFavoriteButtonPressed(int position);\n}\n\nprivate List&lt;Games&gt; gamesList;\nprivate final Application application;\nprivate final OnItemClickListener onItemClickListener;\n\npublic GamesRecyclerViewAdapter(List&lt;Games&gt; gamesList, Application application,\n                                OnItemClickListener onItemClickListener) {\n    this.gamesList = gamesList;\n    this.application = application;\n    this.onItemClickListener = onItemClickListener;\n}\n\n@Override\npublic int getItemViewType(int position) {\n    if (gamesList.get(position) == null) {\n        return LOADING_VIEW_TYPE;\n    } else {\n        return GAMES_VIEW;\n    }\n}\n\n@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = null;\n\n    if (viewType == GAMES_VIEW) {\n        view = LayoutInflater.from(parent.getContext()).\n                inflate(R.layout.games_item, parent, false);\n        return new GamesViewHolder(view);\n    } else {\n        view = LayoutInflater.from(parent.getContext()).\n                inflate(R.layout.loading, parent, false);\n        return new LoadingGamesViewHolder(view);\n    }\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n    if (holder instanceof GamesViewHolder) {\n        ((GamesViewHolder) holder).bind(gamesList.get(position));\n    } else if (holder instanceof LoadingGamesViewHolder) {\n        ((LoadingGamesViewHolder) holder).activate();\n    }\n}\n\n@Override\npublic int getItemCount() {\n    if (gamesList != null) {\n        return gamesList.size();\n    }\n    return 0;\n}\n\npublic class GamesViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n    private final ImageView imageViewCover;\n    public GamesViewHolder(@NonNull View itemView) {\n        super(itemView);\n    }\n\n    public void bind(Games games) {\n        String imag2 = String.valueOf(games.getImage());\n        Glide.with(application)\n                .load(imag2)\n                .placeholder(R.drawable.baseline_arrow_circle_down_24)\n                .centerCrop()\n                .into(imageViewCover);\n    }\n\n    @Override\n    public void onClick(View v) {\n        if (v.getId() == R.id.imageview_favorite) {\n            //setImageViewFavoriteGames(!gamesList.get(getAdapterPosition()).isFavorite());\n            onItemClickListener.onFavoriteButtonPressed(getAdapterPosition());\n        } else {\n            onItemClickListener.onGamesItemClick(gamesList.get(getAdapterPosition()));\n        }\n    }\n}\n\npublic static class LoadingGamesViewHolder extends RecyclerView.ViewHolder {\n    private final ProgressBar progressBar;\n\n    LoadingGamesViewHolder(View view) {\n        super(view);\n        progressBar = view.findViewById(R.id.progressbar_loading);\n    }\n\n    public void activate() {\n        progressBar.setIndeterminate(true);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","architecture","workflow","jbpm","orchestration"],"answers":[{"tags":[],"owner":{"account_id":271772,"reputation":644,"user_id":562483,"display_name":"Bence Olah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296044049,"creation_date":1296026399,"answer_id":4802192,"question_id":4801987,"body_markdown":"Very good question! Here is my two cents:\r\n\r\n 1. **RDBMS**: if you do this you will be able to query the workflow instances, for example which tokens are at &#39;node X&#39;?\r\n 2. Storing **XML** as clob: the simplicity is the truth of this solution, but you can&#39;t really query these just get them by id\r\n 3. **NOSQL**: there are a lot of different solutions for different problems. [MongoDB][1] is a popular solution, it provides document oriented persistence.\r\n\r\n\r\n  [1]: http://www.mongodb.org/","title":"Suggest a persistent strategy for a workflow system","body":"<p>Very good question! Here is my two cents:</p>\n\n<ol>\n<li><strong>RDBMS</strong>: if you do this you will be able to query the workflow instances, for example which tokens are at 'node X'?</li>\n<li>Storing <strong>XML</strong> as clob: the simplicity is the truth of this solution, but you can't really query these just get them by id</li>\n<li><strong>NOSQL</strong>: there are a lot of different solutions for different problems. <a href=\"http://www.mongodb.org/\" rel=\"nofollow\">MongoDB</a> is a popular solution, it provides document oriented persistence.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":172072,"reputation":1283,"user_id":399876,"display_name":"Unoti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296026545,"creation_date":1296026545,"answer_id":4802197,"question_id":4801987,"body_markdown":"I would NOT use rdbms tables, or if you do, store the definitions as text blobs.  Trying to make records for the definition is a bad idea because it&#39;s much more inflexible and difficult to change your definition over time.  Many people would use different approaches, but I&#39;d use JSON or YAML, and avoid XML.  The motivation for that is to make it as simple as possible.  Trying to use XML, especially a formalized specific format of XML is going to make you spend much more time meeting an exact specification that doesn&#39;t actually do anything to help what you&#39;re trying to accomplish.  JSON and YAML are both very easy to work with from a code perspective.  YAML is more easily readable by humans and easier to edit, and isn&#39;t as tricky for punctuation and escaping as JSON.  JSON is more widely used, and is smaller than YAML.  JSON also has a binary counterpart, BSON, if document size is a concern.\r\n\r\nOnce you have an importer/exporter that goes to/from your internal objects to your data format, then persisting using RDBMS, or other mechanisms, will be straightforward.  You could even use CouchDB, which could offer other benefits to your application and may be a great fit.","title":"Suggest a persistent strategy for a workflow system","body":"<p>I would NOT use rdbms tables, or if you do, store the definitions as text blobs.  Trying to make records for the definition is a bad idea because it's much more inflexible and difficult to change your definition over time.  Many people would use different approaches, but I'd use JSON or YAML, and avoid XML.  The motivation for that is to make it as simple as possible.  Trying to use XML, especially a formalized specific format of XML is going to make you spend much more time meeting an exact specification that doesn't actually do anything to help what you're trying to accomplish.  JSON and YAML are both very easy to work with from a code perspective.  YAML is more easily readable by humans and easier to edit, and isn't as tricky for punctuation and escaping as JSON.  JSON is more widely used, and is smaller than YAML.  JSON also has a binary counterpart, BSON, if document size is a concern.</p>\n\n<p>Once you have an importer/exporter that goes to/from your internal objects to your data format, then persisting using RDBMS, or other mechanisms, will be straightforward.  You could even use CouchDB, which could offer other benefits to your application and may be a great fit.</p>\n"},{"tags":[],"owner":{"account_id":26513,"reputation":5382,"user_id":69051,"accept_rate":89,"display_name":"01es"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687369818,"creation_date":1296029348,"answer_id":4802421,"question_id":4801987,"body_markdown":"How about a simple serialization of the composed UI using for example [XStream][1] and then storing the serialized bits in the database as a binary column? Then when the user logs in, get the associated data, deserialize, initialize if required, and display.\r\n\r\n\r\n  [1]: http://x-stream.github.io/","title":"Suggest a persistent strategy for a workflow system","body":"<p>How about a simple serialization of the composed UI using for example <a href=\"http://x-stream.github.io/\" rel=\"nofollow noreferrer\">XStream</a> and then storing the serialized bits in the database as a binary column? Then when the user logs in, get the associated data, deserialize, initialize if required, and display.</p>\n"},{"comments":[{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1296149417,"post_id":4819408,"comment_id":5345023,"body_markdown":"+1 you just confirmed the decision I&#39;ve already made i.e. using BPMN 2.0 as the serialization format. Can you please let me know if you have created your own UI for orcestration or used Oryx. I am need of a embeddable orchestration UI. I want it to be embeddable because I want to customize it with domain specific tasks and theme","body":"+1 you just confirmed the decision I&#39;ve already made i.e. using BPMN 2.0 as the serialization format. Can you please let me know if you have created your own UI for orcestration or used Oryx. I am need of a embeddable orchestration UI. I want it to be embeddable because I want to customize it with domain specific tasks and theme"},{"owner":{"account_id":215917,"reputation":9891,"user_id":470838,"accept_rate":89,"display_name":"orangepips"},"score":0,"creation_date":1296150106,"post_id":4819408,"comment_id":5345233,"body_markdown":"Funny you ask that. Currently I&#39;m only doing code (i.e. no UI) because I rolled my own format and want to do web based UI. I even have a question to that end: http://stackoverflow.com/questions/4596840/workflow-i-e-directed-graph-browser-based-editors","body":"Funny you ask that. Currently I&#39;m only doing code (i.e. no UI) because I rolled my own format and want to do web based UI. I even have a question to that end: <a href=\"http://stackoverflow.com/questions/4596840/workflow-i-e-directed-graph-browser-based-editors\" title=\"workflow i e directed graph browser based editors\">stackoverflow.com/questions/4596840/&hellip;</a>"}],"tags":[],"owner":{"account_id":215917,"reputation":9891,"user_id":470838,"accept_rate":89,"display_name":"orangepips"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1296147646,"creation_date":1296147646,"answer_id":4819408,"question_id":4801987,"body_markdown":"By &quot;orchestration&quot; I&#39;m assuming you mean a [finite state machine][1]. Where the current state dictates what transitions can be followed to other states. The representation of states and transitions as edges and vertices often produces a [directed acyclic graph][2], however there are times when the graph will cycle (e.g. draft -- submit for approval --&gt; pending approval -- reject --&gt; draft). \r\n\r\nIn practice, separating the definition from execution calls for a persistence format that can easily accommodate customization. As your system evolves you will find a number of unanticipated edge cases whose solution should not require altering a persistence schema, only code. This implies XML or a NoSQL solution - something whose schema is easily changed or non existent. \r\n\r\nNow, having written my own XML definition for this purpose (for uninteresting reasons I&#39;ll exclude), my suggestion is using JPDL (or BPMN). Reason is their definitions likely incorporate whatever you&#39;re considering now, will in the future, and enable customization - such as hanging arbitrary data or behavior off them at a given point. You also get the advantage of tools already built - not just UI - for dealing with cycle detection and ensuring there is a path to completion for example.\r\n\r\nSome of the interesting features I know JPDL possesses are an ability to help merge forked processes, timed tasks (including those that repeat periodically), and facilities for sending notification. This last item - notification - bears some further exposition. One of the things I&#39;ve found with my own system is the need for sending out configurable email whose content is based on the data flowing through. These existing engines make that relatively easy by providing a way to plugin variables for instance into text that&#39;s then dynamically evaluated at run time before transmission. Also they provide bridges between the engine and whatever user store for the purpose of sending notifications to groups of people, tasking them and enforcing security policy. \r\n\r\nFinally, depending on the scope of your system, you will probably still be using a database as well. What I suggest is storing off the XML and data being orchestrated into the database in a serialized format. Then, if the data is being altered as it travels through the execution, write out serializations of the data - and perhaps workflow if it is also changed - into a history/audit log table as well.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Finite-state_machine\r\n  [2]: http://en.wikipedia.org/wiki/Directed_acyclic_graph","title":"Suggest a persistent strategy for a workflow system","body":"<p>By \"orchestration\" I'm assuming you mean a <a href=\"http://en.wikipedia.org/wiki/Finite-state_machine\" rel=\"nofollow\">finite state machine</a>. Where the current state dictates what transitions can be followed to other states. The representation of states and transitions as edges and vertices often produces a <a href=\"http://en.wikipedia.org/wiki/Directed_acyclic_graph\" rel=\"nofollow\">directed acyclic graph</a>, however there are times when the graph will cycle (e.g. draft -- submit for approval --> pending approval -- reject --> draft). </p>\n\n<p>In practice, separating the definition from execution calls for a persistence format that can easily accommodate customization. As your system evolves you will find a number of unanticipated edge cases whose solution should not require altering a persistence schema, only code. This implies XML or a NoSQL solution - something whose schema is easily changed or non existent. </p>\n\n<p>Now, having written my own XML definition for this purpose (for uninteresting reasons I'll exclude), my suggestion is using JPDL (or BPMN). Reason is their definitions likely incorporate whatever you're considering now, will in the future, and enable customization - such as hanging arbitrary data or behavior off them at a given point. You also get the advantage of tools already built - not just UI - for dealing with cycle detection and ensuring there is a path to completion for example.</p>\n\n<p>Some of the interesting features I know JPDL possesses are an ability to help merge forked processes, timed tasks (including those that repeat periodically), and facilities for sending notification. This last item - notification - bears some further exposition. One of the things I've found with my own system is the need for sending out configurable email whose content is based on the data flowing through. These existing engines make that relatively easy by providing a way to plugin variables for instance into text that's then dynamically evaluated at run time before transmission. Also they provide bridges between the engine and whatever user store for the purpose of sending notifications to groups of people, tasking them and enforcing security policy. </p>\n\n<p>Finally, depending on the scope of your system, you will probably still be using a database as well. What I suggest is storing off the XML and data being orchestrated into the database in a serialized format. Then, if the data is being altered as it travels through the execution, write out serializations of the data - and perhaps workflow if it is also changed - into a history/audit log table as well.</p>\n"}],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4819408,"answer_count":4,"score":1,"last_activity_date":1687369818,"creation_date":1296024515,"question_id":4801987,"body_markdown":"I am in the process of creating a UI configuration tool for my pet project. One aspect of this tool lets the end user DEFINE his orchestration. I then need to save this orchestration definition into a database. There will be a executable version of this definition in a running system. The executable version is created dynamically on-demand.\r\n\r\nIdea is to separate the **DEFINITION** from **EXECUTABLE** version so that I have the flexibility to choose the runtime version among BPMN or JPDL or a POJO based workflow solution (BeanFlow).\r\n\r\n**Limitation**: I can&#39;t use the BPMN editors that come with frameworks like jBPM, Activiti etc as I wan&#39;t to use my own UI that is specific to my domain.\r\n\r\nI need suggestions on HOW to PERSIST the definition. \r\n\r\n1. Should I use rdbms tables? If so, is there a db schema I can borrow that is close to orchestration concepts?\r\n\r\n2. Should I serialize my definition to BPMN/JPDL XML instance document?\r\n\r\n3. Are there any other simple formats that I can use? ","title":"Suggest a persistent strategy for a workflow system","body":"<p>I am in the process of creating a UI configuration tool for my pet project. One aspect of this tool lets the end user DEFINE his orchestration. I then need to save this orchestration definition into a database. There will be a executable version of this definition in a running system. The executable version is created dynamically on-demand.</p>\n\n<p>Idea is to separate the <strong>DEFINITION</strong> from <strong>EXECUTABLE</strong> version so that I have the flexibility to choose the runtime version among BPMN or JPDL or a POJO based workflow solution (BeanFlow).</p>\n\n<p><strong>Limitation</strong>: I can't use the BPMN editors that come with frameworks like jBPM, Activiti etc as I wan't to use my own UI that is specific to my domain.</p>\n\n<p>I need suggestions on HOW to PERSIST the definition. </p>\n\n<ol>\n<li><p>Should I use rdbms tables? If so, is there a db schema I can borrow that is close to orchestration concepts?</p></li>\n<li><p>Should I serialize my definition to BPMN/JPDL XML instance document?</p></li>\n<li><p>Are there any other simple formats that I can use? </p></li>\n</ol>\n"},{"tags":["java","multithreading"],"answers":[{"comments":[{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":14,"creation_date":1240070027,"post_id":763584,"comment_id":575550,"body_markdown":"How much memory did you start the JVM with?  That matters.","body":"How much memory did you start the JVM with?  That matters."},{"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":0,"creation_date":1240070830,"post_id":763584,"comment_id":575568,"body_markdown":"the default.  Questioner has a test program now, and I want another cup of coffee.","body":"the default.  Questioner has a test program now, and I want another cup of coffee."},{"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":2,"creation_date":1240071403,"post_id":763584,"comment_id":575584,"body_markdown":"Okay, you tempted me, @Eddie, but messing about with -Xmx and -Xss just lead to a lot of combinations that don&#39;t work well.  I need an undergrad who wants a research project.","body":"Okay, you tempted me, @Eddie, but messing about with -Xmx and -Xss just lead to a lot of combinations that don&#39;t work well.  I need an undergrad who wants a research project."},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":0,"creation_date":1240071432,"post_id":763584,"comment_id":575587,"body_markdown":"I&#39;m embarrassed to say that my laptop can only start a little over 900 Threads with your test program before it chokes.","body":"I&#39;m embarrassed to say that my laptop can only start a little over 900 Threads with your test program before it chokes."},{"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"score":2,"creation_date":1240071975,"post_id":763584,"comment_id":575602,"body_markdown":"WinXP (32bit), C2Q6600, 4GB RAM, jdk1.6.0_11 (32bit) with default JVM options gets me #5587 threads. Strangely with more JVM memory I can create less threads: with the &quot;-Xms1G -Xmx1G&quot; JVM options only #2644.","body":"WinXP (32bit), C2Q6600, 4GB RAM, jdk1.6.0_11 (32bit) with default JVM options gets me #5587 threads. Strangely with more JVM memory I can create less threads: with the &quot;-Xms1G -Xmx1G&quot; JVM options only #2644."},{"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"score":2,"creation_date":1240072519,"post_id":763584,"comment_id":575621,"body_markdown":"But I can have multiple such JVMs with 5000 threads (see Windows Task Manager | Performance | Totals | Threads), so apparently the OS limit is much higher.","body":"But I can have multiple such JVMs with 5000 threads (see Windows Task Manager | Performance | Totals | Threads), so apparently the OS limit is much higher."},{"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":0,"creation_date":1240072615,"post_id":763584,"comment_id":575627,"body_markdown":"Yeah, the Windows JVM gets lots of attention, it&#39;s usually about the best.  Oddly, even better than Solaris JVM on some things.  The thing is the number of threads is going to be a function of all of -Xms -Xmx and -Xss, with the answer being an optimum among the three.","body":"Yeah, the Windows JVM gets lots of attention, it&#39;s usually about the best.  Oddly, even better than Solaris JVM on some things.  The thing is the number of threads is going to be a function of all of -Xms -Xmx and -Xss, with the answer being an optimum among the three."},{"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":0,"creation_date":1240072697,"post_id":763584,"comment_id":575630,"body_markdown":"I&#39;d expect that, a Windows thread is a per-process resource.  Linux threads are lightweight processes managed by the general scheduler.","body":"I&#39;d expect that, a Windows thread is a per-process resource.  Linux threads are lightweight processes managed by the general scheduler."},{"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":0,"creation_date":1240073045,"post_id":763584,"comment_id":575649,"body_markdown":"... aha.  For the good reason that Java 6 won&#39;t run on this elderly mac mini I use as a writing machine.","body":"... aha.  For the good reason that Java 6 won&#39;t run on this elderly mac mini I use as a writing machine."},{"owner":{"account_id":573,"reputation":19468,"user_id":739,"display_name":"Steve K"},"score":11,"creation_date":1240075945,"post_id":763584,"comment_id":575745,"body_markdown":"Java 6 update 13, Ubuntu 8.10 32 Bit, 4Gig ram, Default JVM settings = 6318 Threads.","body":"Java 6 update 13, Ubuntu 8.10 32 Bit, 4Gig ram, Default JVM settings = 6318 Threads."},{"owner":{"account_id":573,"reputation":19468,"user_id":739,"display_name":"Steve K"},"score":12,"creation_date":1240076419,"post_id":763584,"comment_id":575761,"body_markdown":"Heh, play with the thread stack size.  java -Xss100k allowed me to create 19702 threads in Linux.","body":"Heh, play with the thread stack size.  java -Xss100k allowed me to create 19702 threads in Linux."},{"owner":{"account_id":573,"reputation":19468,"user_id":739,"display_name":"Steve K"},"score":23,"creation_date":1240076763,"post_id":763584,"comment_id":575777,"body_markdown":"java -Xss50k got me around 32k threads.  That maxxed out my 4gigs of ram though.  I had to stop some running processes to get enough memory back on my machine to fork a new process to kill java ;)  - good times.","body":"java -Xss50k got me around 32k threads.  That maxxed out my 4gigs of ram though.  I had to stop some running processes to get enough memory back on my machine to fork a new process to kill java ;)  - good times."},{"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":1,"creation_date":1240079324,"post_id":763584,"comment_id":575860,"body_markdown":"See, that&#39;s the thing.  -Xss is allocating space for the separate thread stacks; that&#39;s competing for space with the heap, and limited by -Xmx.  So you really need to explore at least three dimensions, and probably more.  As I say, this calls for an undergrad research project.","body":"See, that&#39;s the thing.  -Xss is allocating space for the separate thread stacks; that&#39;s competing for space with the heap, and limited by -Xmx.  So you really need to explore at least three dimensions, and probably more.  As I say, this calls for an undergrad research project."},{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":1,"creation_date":1240131626,"post_id":763584,"comment_id":576992,"body_markdown":"I&#39;m getting almost the same results as you, Charlie Martin, on my Intel OSX  10.5.6 with both Java 5 and Java six with various combination of Xss, Xmx and Xms.  There is something else in play here.","body":"I&#39;m getting almost the same results as you, Charlie Martin, on my Intel OSX  10.5.6 with both Java 5 and Java six with various combination of Xss, Xmx and Xms.  There is something else in play here."},{"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":0,"creation_date":1240147772,"post_id":763584,"comment_id":577204,"body_markdown":"The OS/X implementation is pretty different from the others, different code base, which is why it took so long to get Java 6.  We&#39;ve certainly established the base point of &quot;it depends&quot;.  I&#39;ll ping some of my erstwhile colleagues at Sun and see what I can find out.","body":"The OS/X implementation is pretty different from the others, different code base, which is why it took so long to get Java 6.  We&#39;ve certainly established the base point of &quot;it depends&quot;.  I&#39;ll ping some of my erstwhile colleagues at Sun and see what I can find out."},{"owner":{"account_id":171988,"reputation":8551,"user_id":399738,"accept_rate":68,"display_name":"Dobes Vandermeer"},"score":22,"creation_date":1332758113,"post_id":763584,"comment_id":12586112,"body_markdown":"Using Java 7 on windows 7 I just created 200,000 threads before my system died.  Tasks Manager showed the process using 8GB of RAM.  Not sure why it stopped there, though ... I have 12GB of RAM on my computer.  So this may be hitting some other limit.","body":"Using Java 7 on windows 7 I just created 200,000 threads before my system died.  Tasks Manager showed the process using 8GB of RAM.  Not sure why it stopped there, though ... I have 12GB of RAM on my computer.  So this may be hitting some other limit."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":6,"creation_date":1337540315,"post_id":763584,"comment_id":13852879,"body_markdown":"There&#39;s a flaw in this program: many more threads could have been started and unable to get to the line where they print their thread id. Then the OOM exception will happen and you&#39;ll have a number indeterminately lower than the real number of threads.","body":"There&#39;s a flaw in this program: many more threads could have been started and unable to get to the line where they print their thread id. Then the OOM exception will happen and you&#39;ll have a number indeterminately lower than the real number of threads."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1337541220,"post_id":763584,"comment_id":13853080,"body_markdown":"A program that takes care of that can be found [here](http://stackoverflow.com/a/10676165/1103872). OK, I wrote it, but it&#39;s not advertising, it&#39;s all in the name of objective science :)","body":"A program that takes care of that can be found <a href=\"http://stackoverflow.com/a/10676165/1103872\">here</a>. OK, I wrote it, but it&#39;s not advertising, it&#39;s all in the name of objective science :)"},{"owner":{"account_id":5488637,"reputation":2572,"user_id":4362675,"accept_rate":58,"display_name":"The Coder"},"score":1,"creation_date":1433187609,"post_id":763584,"comment_id":49233558,"body_markdown":"I&#39;m crashed at 38000 within eclipse and 71000 within cmd in Windows 8.1 x64 6 GB Ram Core i5 3rd Gen.. Anyhow, I had to hard restart my computer..","body":"I&#39;m crashed at 38000 within eclipse and 71000 within cmd in Windows 8.1 x64 6 GB Ram Core i5 3rd Gen.. Anyhow, I had to hard restart my computer.."},{"owner":{"account_id":4562316,"reputation":5702,"user_id":3704301,"accept_rate":80,"display_name":"mgthomas99"},"score":1,"creation_date":1465850609,"post_id":763584,"comment_id":63063621,"body_markdown":"Using Java 8 on Windows 7 64-bit, I managed to get 400,000 threads running on (just below) 20GB of RAM, at which the memory usage loitered at that mark and did not go above it.","body":"Using Java 8 on Windows 7 64-bit, I managed to get 400,000 threads running on (just below) 20GB of RAM, at which the memory usage loitered at that mark and did not go above it."},{"owner":{"account_id":4526333,"reputation":1103,"user_id":3678023,"accept_rate":86,"display_name":"Aaron Esau"},"score":1,"creation_date":1483139464,"post_id":763584,"comment_id":70010268,"body_markdown":"Java 8 + Linux Mint 17.3 + 64bit i5-M430 + 8GB RAM DDR3 + Default JVM Settings = 30,593 Threads","body":"Java 8 + Linux Mint 17.3 + 64bit i5-M430 + 8GB RAM DDR3 + Default JVM Settings = 30,593 Threads"},{"owner":{"account_id":35769,"reputation":2058,"user_id":101562,"accept_rate":77,"display_name":"Jon Strayer"},"score":1,"creation_date":1555621179,"post_id":763584,"comment_id":98183713,"body_markdown":"On OSX this program generates 4,975 threads before failing no matter what I set the heap size to.  Two gigs, twelve gigs, it&#39;s all the same.","body":"On OSX this program generates 4,975 threads before failing no matter what I set the heap size to.  Two gigs, twelve gigs, it&#39;s all the same."},{"owner":{"account_id":8328700,"reputation":168,"user_id":7676653,"display_name":"Karan Arora"},"score":1,"creation_date":1614462285,"post_id":763584,"comment_id":117394635,"body_markdown":"Processor - 2.2 GHz 6-Core Intel Core i7\nMemory - 16 GB 2400 MHz DDR4\n\nWas able to create around 4050 threads.\n\nHow can I increase this number?\n----------Exception in thread &quot;main&quot; New thread #4069\njava.lang.OutOfMemoryError: unable to create new native thread","body":"Processor - 2.2 GHz 6-Core Intel Core i7 Memory - 16 GB 2400 MHz DDR4  Was able to create around 4050 threads.  How can I increase this number? ----------Exception in thread &quot;main&quot; New thread #4069 java.lang.OutOfMemoryError: unable to create new native thread"},{"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"score":0,"creation_date":1614462730,"post_id":763584,"comment_id":117394737,"body_markdown":"Karan, what OS? Since it&#39;s an OutOfMemory error, the first place to look is the heap size. This may help https://docs.oracle.com/cd/E13222_01/wls/docs81/perform/JVMTuning.html","body":"Karan, what OS? Since it&#39;s an OutOfMemory error, the first place to look is the heap size. This may help <a href=\"https://docs.oracle.com/cd/E13222_01/wls/docs81/perform/JVMTuning.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E13222_01/wls/docs81/perform/JVMTuning.ht&zwnj;&#8203;ml</a>"}],"tags":[],"owner":{"account_id":16216,"reputation":110786,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"comment_count":24,"down_vote_count":1,"up_vote_count":104,"is_accepted":false,"score":103,"last_activity_date":1240074331,"creation_date":1240067347,"answer_id":763584,"question_id":763579,"body_markdown":"Um, lots.\n\nThere are several parameters here.  The specific VM, plus there are usually run-time parameters on the VM as well.  That&#39;s somewhat driven by the operating system: what support does the underlying OS have for threads and what limitations does it put on them?  If the VM actually uses OS-level threads at all, the good old red thread/green thread thing.\n\nWhat &quot;support&quot; means  is another question.  If you write a Java program that is just something like\n\n       class DieLikeADog {\n             public static void main(String[] argv){\n                 for(;;){\n                    new Thread(new SomeRunaable).start();\n                 }\n             }\n        }\n\n(and don&#39;t complain about little syntax details, I&#39;m on my first cup of coffee) then you should certainly expect to get hundreds or thousands of threads running.  But *creating* a Thread is relatively expensive, and scheduler overhead can get intense; it&#39;s unclear that you could have those threads do anything useful.\n\n### Update\n\nOkay, couldn&#39;t resist.  Here&#39;s my little test program, with a couple embellishments:\n\n    public class DieLikeADog {\n        private static Object s = new Object();\n        private static int count = 0;\n        public static void main(String[] argv){\n            for(;;){\n                new Thread(new Runnable(){\n                        public void run(){\n                            synchronized(s){\n                                count += 1;\n                                System.err.println(&quot;New thread #&quot;+count);\n                            }\n                            for(;;){\n                                try {\n                                    Thread.sleep(1000);\n                                } catch (Exception e){\n                                    System.err.println(e);\n                                }\n                            }\n                        }\n                    }).start();\n            }\n        }\n    }\n\nOn OS/X 10.5.6 on Intel, and Java &lt;s&gt;6&lt;/s&gt; 5 (see comments), here&#39;s what I got\n\n&lt;pre&gt;\nNew thread #2547\nNew thread #2548\nNew thread #2549\nCan&#39;t create thread: 5\nNew thread #2550\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: unable to create new native thread\n        at java.lang.Thread.start0(Native Method)\n        at java.lang.Thread.start(Thread.java:592)\n        at DieLikeADog.main(DieLikeADog.java:6)\n&lt;/pre&gt;\n","title":"How many threads can a Java VM support?","body":"<p>Um, lots.</p>\n<p>There are several parameters here.  The specific VM, plus there are usually run-time parameters on the VM as well.  That's somewhat driven by the operating system: what support does the underlying OS have for threads and what limitations does it put on them?  If the VM actually uses OS-level threads at all, the good old red thread/green thread thing.</p>\n<p>What &quot;support&quot; means  is another question.  If you write a Java program that is just something like</p>\n<pre><code>   class DieLikeADog {\n         public static void main(String[] argv){\n             for(;;){\n                new Thread(new SomeRunaable).start();\n             }\n         }\n    }\n</code></pre>\n<p>(and don't complain about little syntax details, I'm on my first cup of coffee) then you should certainly expect to get hundreds or thousands of threads running.  But <em>creating</em> a Thread is relatively expensive, and scheduler overhead can get intense; it's unclear that you could have those threads do anything useful.</p>\n<h3>Update</h3>\n<p>Okay, couldn't resist.  Here's my little test program, with a couple embellishments:</p>\n<pre><code>public class DieLikeADog {\n    private static Object s = new Object();\n    private static int count = 0;\n    public static void main(String[] argv){\n        for(;;){\n            new Thread(new Runnable(){\n                    public void run(){\n                        synchronized(s){\n                            count += 1;\n                            System.err.println(&quot;New thread #&quot;+count);\n                        }\n                        for(;;){\n                            try {\n                                Thread.sleep(1000);\n                            } catch (Exception e){\n                                System.err.println(e);\n                            }\n                        }\n                    }\n                }).start();\n        }\n    }\n}\n</code></pre>\n<p>On OS/X 10.5.6 on Intel, and Java <s>6</s> 5 (see comments), here's what I got</p>\n<pre>\nNew thread #2547\nNew thread #2548\nNew thread #2549\nCan't create thread: 5\nNew thread #2550\nException in thread \"main\" java.lang.OutOfMemoryError: unable to create new native thread\n        at java.lang.Thread.start0(Native Method)\n        at java.lang.Thread.start(Thread.java:592)\n        at DieLikeADog.main(DieLikeADog.java:6)\n</pre>\n"},{"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"comment_count":0,"down_vote_count":0,"up_vote_count":215,"is_accepted":true,"score":215,"last_activity_date":1240067764,"creation_date":1240067764,"answer_id":763592,"question_id":763579,"body_markdown":"This depends on the CPU you&#39;re using, on the OS, on what other processes are doing, on what Java release you&#39;re using, and other factors.  I&#39;ve seen a Windows server have &gt; 6500 Threads before bringing the machine down.  Most of the threads were not doing anything, of course.  Once the machine hit around 6500 Threads (in Java), the whole machine started to have problems and become unstable.\r\n\r\nMy experience shows that Java (recent versions) can happily consume as many Threads as the computer itself can host without problems.\r\n\r\nOf course, you have to have enough RAM and you have to have started Java with enough memory to do everything that the Threads are doing and to have a stack for each Thread.  Any machine with a modern CPU (most recent couple generations of AMD or Intel) and with 1 - 2 Gig of memory (depending on OS) can easily support a JVM with *thousands* of Threads.\r\n\r\nIf you need a more specific answer than this, your best bet is to profile.\r\n","title":"How many threads can a Java VM support?","body":"<p>This depends on the CPU you're using, on the OS, on what other processes are doing, on what Java release you're using, and other factors.  I've seen a Windows server have > 6500 Threads before bringing the machine down.  Most of the threads were not doing anything, of course.  Once the machine hit around 6500 Threads (in Java), the whole machine started to have problems and become unstable.</p>\n\n<p>My experience shows that Java (recent versions) can happily consume as many Threads as the computer itself can host without problems.</p>\n\n<p>Of course, you have to have enough RAM and you have to have started Java with enough memory to do everything that the Threads are doing and to have a stack for each Thread.  Any machine with a modern CPU (most recent couple generations of AMD or Intel) and with 1 - 2 Gig of memory (depending on OS) can easily support a JVM with <em>thousands</em> of Threads.</p>\n\n<p>If you need a more specific answer than this, your best bet is to profile.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1240081045,"post_id":763616,"comment_id":575916,"body_markdown":"could you look again?  I would like to see it - it sounds interesting and support that functional languages are easy to scale across cores.","body":"could you look again?  I would like to see it - it sounds interesting and support that functional languages are easy to scale across cores."},{"owner":{"account_id":2172,"reputation":364900,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"score":0,"creation_date":1240092639,"post_id":763616,"comment_id":576248,"body_markdown":"Can you provide a link to that? I know that Cliff Click, Jr., the Lead Engineer from Azul Systems ran Rich Hickey&#39;s Ant Colony Simulation on Azul&#39;s largest JCA system (Azul Vega 3 Series 7300 Model 7380D: http://AzulSystems.Com/products/compute_appliance_specs.htm ) with 864 cores and 768 GB RAM, and the 700 ants managed to max out 700 cores. But 9000 cores, that&#39;s pretty impressive. What kind of machine was that?","body":"Can you provide a link to that? I know that Cliff Click, Jr., the Lead Engineer from Azul Systems ran Rich Hickey&#39;s Ant Colony Simulation on Azul&#39;s largest JCA system (Azul Vega 3 Series 7300 Model 7380D: <a href=\"http://AzulSystems.Com/products/compute_appliance_specs.htm\" rel=\"nofollow noreferrer\">AzulSystems.Com/products/compute_appliance_specs.htm</a> ) with 864 cores and 768 GB RAM, and the 700 ants managed to max out 700 cores. But 9000 cores, that&#39;s pretty impressive. What kind of machine was that?"},{"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"score":0,"creation_date":1311018612,"post_id":763616,"comment_id":7985139,"body_markdown":"It was the &quot;Ants&quot; simulation I believe - here&#39;s a link where Rich Hickey (Clojure creator) talks about this - http://blip.tv/clojure/clojure-concurrency-819147 . It was on some big Azul systems box with 800+ cores, mainly done to demonstrate how good Clojure is at handling multi-core concurrency.","body":"It was the &quot;Ants&quot; simulation I believe - here&#39;s a link where Rich Hickey (Clojure creator) talks about this - <a href=\"http://blip.tv/clojure/clojure-concurrency-819147\" rel=\"nofollow noreferrer\">blip.tv/clojure/clojure-concurrency-819147</a> . It was on some big Azul systems box with 800+ cores, mainly done to demonstrate how good Clojure is at handling multi-core concurrency."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1396193554,"post_id":763616,"comment_id":34669786,"body_markdown":"@mikera lins has expired.","body":"@mikera lins has expired."}],"tags":[],"owner":{"account_id":561231,"reputation":572,"user_id":84689,"display_name":"Ken"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1240068738,"creation_date":1240068738,"answer_id":763616,"question_id":763579,"body_markdown":"I recall hearing a Clojure talk where he got to run one of his apps on some specialized machine at a trade show with thousands of cores (9000?), and it loaded them all.  Unfortunately, I can&#39;t find the link right now (help?).\r\n\r\nBased on that, I think it&#39;s safe to say that the hardware and your code are the limiting factors, not the JVM.","title":"How many threads can a Java VM support?","body":"<p>I recall hearing a Clojure talk where he got to run one of his apps on some specialized machine at a trade show with thousands of cores (9000?), and it loaded them all.  Unfortunately, I can't find the link right now (help?).</p>\n\n<p>Based on that, I think it's safe to say that the hardware and your code are the limiting factors, not the JVM.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":12,"creation_date":1240080986,"post_id":763707,"comment_id":575912,"body_markdown":"would make sense if EACH thread is given a heap of that size.","body":"would make sense if EACH thread is given a heap of that size."},{"owner":{"account_id":11817,"reputation":16579,"user_id":22979,"accept_rate":66,"display_name":"benjismith"},"score":1,"creation_date":1240087059,"post_id":763707,"comment_id":576120,"body_markdown":"Caveat: my machine does not have 2583 GB of RAM. Or swap. And the JVM doesn&#39;t allocate thread-local heap space. So that can&#39;t be it...","body":"Caveat: my machine does not have 2583 GB of RAM. Or swap. And the JVM doesn&#39;t allocate thread-local heap space. So that can&#39;t be it..."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":56,"creation_date":1240228802,"post_id":763707,"comment_id":579509,"body_markdown":"The heap size reduces the address space available for stacks. Address space of 256K/stack makes sense.","body":"The heap size reduces the address space available for stacks. Address space of 256K/stack makes sense."},{"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"score":1,"creation_date":1291999380,"post_id":763707,"comment_id":4810424,"body_markdown":"Aye, this shows the same thing http://pequenoperro.blogspot.com/2009/02/less-is-more.html","body":"Aye, this shows the same thing <a href=\"http://pequenoperro.blogspot.com/2009/02/less-is-more.html\" rel=\"nofollow noreferrer\">pequenoperro.blogspot.com/2009/02/less-is-more.html</a>"}],"tags":[],"owner":{"account_id":11817,"reputation":16579,"user_id":22979,"accept_rate":66,"display_name":"benjismith"},"comment_count":4,"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1240071501,"creation_date":1240071501,"answer_id":763707,"question_id":763579,"body_markdown":"After reading Charlie Martin&#39;s post, I was curious about whether the heap size makes any difference in the number of threads you can create, and I was totally dumbfounded by the result.\r\n\r\nUsing JDK 1.6.0_11 on Vista Home Premium SP1, I executed Charlie&#39;s test application with different heap sizes, between 2 MB and 1024 MB.\r\n\r\nFor example, to create a 2 MB heap, I&#39;d invoke the JVM with the arguments -Xms2m -Xmx2m.\r\n\r\nHere are my results:\r\n\r\n    2 mb --&gt; 5744 threads\r\n    4 mb --&gt; 5743 threads\r\n    8 mb --&gt; 5735 threads\r\n    12 mb --&gt; 5724 threads\r\n    16 mb --&gt; 5712 threads\r\n    24 mb --&gt; 5687 threads\r\n    32 mb --&gt; 5662 threads\r\n    48 mb --&gt; 5610 threads\r\n    64 mb --&gt; 5561 threads\r\n    96 mb --&gt; 5457 threads\r\n    128 mb --&gt; 5357 threads\r\n    192 mb --&gt; 5190 threads\r\n    256 mb --&gt; 5014 threads\r\n    384 mb --&gt; 4606 threads\r\n    512 mb --&gt; 4202 threads\r\n    768 mb --&gt; 3388 threads\r\n    1024 mb --&gt; 2583 threads\r\n\r\nSo, yeah, the heap size definitely matters. But the relationship between heap size and maximum thread count is INVERSELY proportional.\r\n\r\nWhich is weird.","title":"How many threads can a Java VM support?","body":"<p>After reading Charlie Martin's post, I was curious about whether the heap size makes any difference in the number of threads you can create, and I was totally dumbfounded by the result.</p>\n\n<p>Using JDK 1.6.0_11 on Vista Home Premium SP1, I executed Charlie's test application with different heap sizes, between 2 MB and 1024 MB.</p>\n\n<p>For example, to create a 2 MB heap, I'd invoke the JVM with the arguments -Xms2m -Xmx2m.</p>\n\n<p>Here are my results:</p>\n\n<pre><code>2 mb --&gt; 5744 threads\n4 mb --&gt; 5743 threads\n8 mb --&gt; 5735 threads\n12 mb --&gt; 5724 threads\n16 mb --&gt; 5712 threads\n24 mb --&gt; 5687 threads\n32 mb --&gt; 5662 threads\n48 mb --&gt; 5610 threads\n64 mb --&gt; 5561 threads\n96 mb --&gt; 5457 threads\n128 mb --&gt; 5357 threads\n192 mb --&gt; 5190 threads\n256 mb --&gt; 5014 threads\n384 mb --&gt; 4606 threads\n512 mb --&gt; 4202 threads\n768 mb --&gt; 3388 threads\n1024 mb --&gt; 2583 threads\n</code></pre>\n\n<p>So, yeah, the heap size definitely matters. But the relationship between heap size and maximum thread count is INVERSELY proportional.</p>\n\n<p>Which is weird.</p>\n"},{"comments":[{"owner":{"account_id":918288,"reputation":1668,"user_id":950582,"accept_rate":85,"display_name":"Goodwine"},"score":16,"creation_date":1376516320,"post_id":763845,"comment_id":26748193,"body_markdown":"Can we name it DieLikeACat? it won&#39;t be dead nor alive until you run it.","body":"Can we name it DieLikeACat? it won&#39;t be dead nor alive until you run it."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1414139298,"post_id":763845,"comment_id":41711924,"body_markdown":"Thank you for pointing at Executors, people should use it more often. But it won&#39;t work if the `Runnable`/`Callable` actually needs to run continuously, like when it has to handle communication. But it&#39;s perfect for SQL queries.","body":"Thank you for pointing at Executors, people should use it more often. But it won&#39;t work if the <code>Runnable</code>/<code>Callable</code> actually needs to run continuously, like when it has to handle communication. But it&#39;s perfect for SQL queries."}],"tags":[],"owner":{"account_id":573,"reputation":19468,"user_id":739,"display_name":"Steve K"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1240077280,"creation_date":1240077280,"answer_id":763845,"question_id":763579,"body_markdown":"After playing around with Charlie&#39;s DieLikeACode class, it looks like the Java thread stack size is a huge part of how many threads you can create.  \r\n\r\n&gt; -Xss&lt;size&gt;        set java thread stack size\r\n\r\nFor example\r\n\r\n&gt; java -Xss100k DieLikeADog\r\n\r\nBut, Java has the [Executor][1] interface.  I would use that, you will be able to submit thousands of Runnable tasks, and have the Executor process those tasks with a fixed number of threads.  \r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/essential/concurrency/executors.html","title":"How many threads can a Java VM support?","body":"<p>After playing around with Charlie's DieLikeACode class, it looks like the Java thread stack size is a huge part of how many threads you can create.  </p>\n\n<blockquote>\n  <p>-Xss        set java thread stack size</p>\n</blockquote>\n\n<p>For example</p>\n\n<blockquote>\n  <p>java -Xss100k DieLikeADog</p>\n</blockquote>\n\n<p>But, Java has the <a href=\"http://java.sun.com/docs/books/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">Executor</a> interface.  I would use that, you will be able to submit thousands of Runnable tasks, and have the Executor process those tasks with a fixed number of threads.  </p>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1240228860,"post_id":764096,"comment_id":579512,"body_markdown":"So use a 64-bit OS. How long have we all been using 64-bit processors for now?","body":"So use a 64-bit OS. How long have we all been using 64-bit processors for now?"},{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":0,"creation_date":1240229942,"post_id":764096,"comment_id":579557,"body_markdown":"Sure, I&#39;m just giving an example of a theoretical vs practical limit. Mind you, there are an awful lot of 32-bit machines (including servers) still out there...","body":"Sure, I&#39;m just giving an example of a theoretical vs practical limit. Mind you, there are an awful lot of 32-bit machines (including servers) still out there..."}],"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"comment_count":2,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1240085333,"creation_date":1240085333,"answer_id":764096,"question_id":763579,"body_markdown":"The **absolute theoretical maximum** is generally a process&#39;s **user address space divided by the thread stack size** (though in reality, if all your memory is reserved for thread stacks, you won&#39;t have a working program...).\r\n\r\nSo under 32-bit Windows, for example, where each process has a user address space of 2GB,  giving each thread a 128K stack size, you&#39;d expect an absolute maximum of 16384 threads (=2*1024*1024 / 128). In practice, I find I can start up about 13,000 under XP.\r\n\r\nThen, I think you&#39;re essentially into whether (a) *you* can manage juggling that many threads in your code and not do obviously silly things (such as making them all wait on the same object then calling notifyAll()...), and (b) whether the operating system can. In principle, the answer to (b) is &quot;yes&quot; if the answer to (a) is also &quot;yes&quot;.\r\n\r\nIncidentally, you can **specify the stack size in the constructor of the Thread**; you don&#39;t need to (and probably shouldn&#39;t) mess about with VM parameters for this.","title":"How many threads can a Java VM support?","body":"<p>The <strong>absolute theoretical maximum</strong> is generally a process's <strong>user address space divided by the thread stack size</strong> (though in reality, if all your memory is reserved for thread stacks, you won't have a working program...).</p>\n\n<p>So under 32-bit Windows, for example, where each process has a user address space of 2GB,  giving each thread a 128K stack size, you'd expect an absolute maximum of 16384 threads (=2*1024*1024 / 128). In practice, I find I can start up about 13,000 under XP.</p>\n\n<p>Then, I think you're essentially into whether (a) <em>you</em> can manage juggling that many threads in your code and not do obviously silly things (such as making them all wait on the same object then calling notifyAll()...), and (b) whether the operating system can. In principle, the answer to (b) is \"yes\" if the answer to (a) is also \"yes\".</p>\n\n<p>Incidentally, you can <strong>specify the stack size in the constructor of the Thread</strong>; you don't need to (and probably shouldn't) mess about with VM parameters for this.</p>\n"},{"comments":[{"owner":{"account_id":3856284,"reputation":7406,"user_id":3195128,"display_name":"ucsunil"},"score":7,"creation_date":1413187827,"post_id":4407228,"comment_id":41334055,"body_markdown":"I know this is comment is very late but I believe the reason you were able to start and run these many threads is because (assuming normal and reasonable system configurations) each thread basically prints out one line out of output and then has no more reason to exist and is killed soon after, thereby ensuring a continuous availability of resources.","body":"I know this is comment is very late but I believe the reason you were able to start and run these many threads is because (assuming normal and reasonable system configurations) each thread basically prints out one line out of output and then has no more reason to exist and is killed soon after, thereby ensuring a continuous availability of resources."},{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":0,"creation_date":1456499057,"post_id":4407228,"comment_id":58990487,"body_markdown":"@ucsunil That&#39;s not true. I think you&#39;ve misread the code. I just tried it and the different threads are printing out not just the first line, but their names too. Which means that they are active. If you thought that garbage collection will recycle unreferenced threads, it doesn&#39;t, [see here](http://stackoverflow.com/q/2423284/1143274).","body":"@ucsunil That&#39;s not true. I think you&#39;ve misread the code. I just tried it and the different threads are printing out not just the first line, but their names too. Which means that they are active. If you thought that garbage collection will recycle unreferenced threads, it doesn&#39;t, <a href=\"http://stackoverflow.com/q/2423284/1143274\">see here</a>."},{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":1,"creation_date":1456499176,"post_id":4407228,"comment_id":58990572,"body_markdown":"However, after just a short while, `main` will throw an `OutOfMemoryError` on my machine, saying that it can&#39;t create any more threads. Perhaps @AnilPal, you didn&#39;t notice that. I suggest including another print statement in the `main(..)` method, to see clearly when it ceases to create new threads after throwing the error.","body":"However, after just a short while, <code>main</code> will throw an <code>OutOfMemoryError</code> on my machine, saying that it can&#39;t create any more threads. Perhaps @AnilPal, you didn&#39;t notice that. I suggest including another print statement in the <code>main(..)</code> method, to see clearly when it ceases to create new threads after throwing the error."},{"owner":{"account_id":6207506,"reputation":4736,"user_id":4834965,"accept_rate":75,"display_name":"Josh"},"score":5,"creation_date":1475160235,"post_id":4407228,"comment_id":66841073,"body_markdown":"amazing ... a discovery of the **actual** Turing machine ... infinite resources.","body":"amazing ... a discovery of the <b>actual</b> Turing machine ... infinite resources."}],"tags":[],"owner":{"account_id":682220,"reputation":15,"user_id":537616,"display_name":"Anil Pal"},"comment_count":4,"down_vote_count":8,"up_vote_count":3,"is_accepted":false,"score":-5,"last_activity_date":1322196568,"creation_date":1291972427,"answer_id":4407228,"question_id":763579,"body_markdown":"You can process any number of threads; there is no limit. I ran the following code while watching a movie and using NetBeans, and it worked properly/without halting the machine. I think you can keep even more threads than this program does.\r\n\r\n    class A extends Thread {\r\n        public void run() {\r\n            System.out.println(&quot;**************started***************&quot;);\r\n            for(double i = 0.0; i &lt; 500000000000000000.0; i++) {\r\n                System.gc();\r\n                System.out.println(Thread.currentThread().getName());\r\n            }\r\n            System.out.println(&quot;************************finished********************************&quot;);\r\n        }\r\n    }\r\n    \r\n    public class Manager {\r\n        public static void main(String[] args) {\r\n            for(double j = 0.0; j &lt; 50000000000.0; j++) {\r\n                A a = new A();\r\n                a.start();\r\n            }\r\n        }\r\n    }","title":"How many threads can a Java VM support?","body":"<p>You can process any number of threads; there is no limit. I ran the following code while watching a movie and using NetBeans, and it worked properly/without halting the machine. I think you can keep even more threads than this program does.</p>\n\n<pre><code>class A extends Thread {\n    public void run() {\n        System.out.println(\"**************started***************\");\n        for(double i = 0.0; i &lt; 500000000000000000.0; i++) {\n            System.gc();\n            System.out.println(Thread.currentThread().getName());\n        }\n        System.out.println(\"************************finished********************************\");\n    }\n}\n\npublic class Manager {\n    public static void main(String[] args) {\n        for(double j = 0.0; j &lt; 50000000000.0; j++) {\n            A a = new A();\n            a.start();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":253367,"reputation":5057,"user_id":532008,"accept_rate":64,"display_name":"Jifeng Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292403560,"creation_date":1292403560,"answer_id":4448238,"question_id":763579,"body_markdown":"At least on Mac OS X 10.6 32bit, there is a limit (2560) by the operating system. Check this [stackoverflow thread][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2860889/cant-get-past-2542-threads-in-java-on-4gb-imac-osx-10-6-3-snow-leopard-32bit","title":"How many threads can a Java VM support?","body":"<p>At least on Mac OS X 10.6 32bit, there is a limit (2560) by the operating system. Check this <a href=\"https://stackoverflow.com/questions/2860889/cant-get-past-2542-threads-in-java-on-4gb-imac-osx-10-6-3-snow-leopard-32bit\">stackoverflow thread</a>.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1396193433,"post_id":16129217,"comment_id":34669728,"body_markdown":"&quot;Slows down&quot; sound like swapping.","body":"&quot;Slows down&quot; sound like swapping."},{"owner":{"account_id":66246,"reputation":11538,"user_id":194476,"accept_rate":90,"display_name":"Shekhar"},"score":0,"creation_date":1545235722,"post_id":16129217,"comment_id":94557897,"body_markdown":"Thanks. It was pretty solid machine and worked fine for almost 8 years until suddenly it stopped booting up. I just installed Ubuntu on it instead of Windows and it started crunching numbers again :)","body":"Thanks. It was pretty solid machine and worked fine for almost 8 years until suddenly it stopped booting up. I just installed Ubuntu on it instead of Windows and it started crunching numbers again :)"},{"owner":{"account_id":2409035,"reputation":1992,"user_id":2104638,"accept_rate":47,"display_name":"Pasupathi Rajamanickam"},"score":0,"creation_date":1562703812,"post_id":16129217,"comment_id":100458048,"body_markdown":"Fried core 2 duo with ubuntu seasoning :D","body":"Fried core 2 duo with ubuntu seasoning :D"},{"owner":{"account_id":6870231,"reputation":121,"user_id":5280899,"display_name":"Jack"},"score":0,"creation_date":1600993293,"post_id":16129217,"comment_id":113272502,"body_markdown":"I came across a similar problem in a production environment, one of my colleagues forget to shut down a thread pool so every time executing that code will cause the number of thread increases. And as a result, the response was very slow, at first we know the cpu usage was very high and we knew the &quot;vm thread&quot; was the top 1 cpu-consuming thread. After jstack we checked the jvm memory monitor, but there was nothing special. At last in the calalina.log we found something abnormal, there were too many errors about &quot;thread cannot be recycled&quot;. I spend lots of time on that and I want a method to.","body":"I came across a similar problem in a production environment, one of my colleagues forget to shut down a thread pool so every time executing that code will cause the number of thread increases. And as a result, the response was very slow, at first we know the cpu usage was very high and we knew the &quot;vm thread&quot; was the top 1 cpu-consuming thread. After jstack we checked the jvm memory monitor, but there was nothing special. At last in the calalina.log we found something abnormal, there were too many errors about &quot;thread cannot be recycled&quot;. I spend lots of time on that and I want a method to."}],"tags":[],"owner":{"account_id":66246,"reputation":11538,"user_id":194476,"accept_rate":90,"display_name":"Shekhar"},"comment_count":4,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1366532679,"creation_date":1366532010,"answer_id":16129217,"question_id":763579,"body_markdown":"I know this question is pretty old but just want to share my findings. \r\n\r\nMy laptop is able to handle program which spawns `25,000` threads and all those threads write some data in MySql database at regular interval of 2 seconds. \r\n\r\nI ran this program with `10,000 threads` for `30 minutes continuously` then also my system was stable and I was able to do other normal operations like browsing, opening, closing other programs, etc.\r\n\r\nWith `25,000 threads` system `slows down` but it remains responsive.\r\n\r\nWith `50,000 threads` system `stopped responding` instantly and I had to restart my system manually.\r\n\r\nMy system details are as follows :\r\n\r\n    Processor : Intel core 2 duo 2.13 GHz\r\n    RAM : 4GB\r\n    OS : Windows 7 Home Premium\r\n    JDK Version : 1.6\r\n\r\nBefore running I set jvm argument `-Xmx2048m`.\r\n\r\nHope it helps.","title":"How many threads can a Java VM support?","body":"<p>I know this question is pretty old but just want to share my findings. </p>\n\n<p>My laptop is able to handle program which spawns <code>25,000</code> threads and all those threads write some data in MySql database at regular interval of 2 seconds. </p>\n\n<p>I ran this program with <code>10,000 threads</code> for <code>30 minutes continuously</code> then also my system was stable and I was able to do other normal operations like browsing, opening, closing other programs, etc.</p>\n\n<p>With <code>25,000 threads</code> system <code>slows down</code> but it remains responsive.</p>\n\n<p>With <code>50,000 threads</code> system <code>stopped responding</code> instantly and I had to restart my system manually.</p>\n\n<p>My system details are as follows :</p>\n\n<pre><code>Processor : Intel core 2 duo 2.13 GHz\nRAM : 4GB\nOS : Windows 7 Home Premium\nJDK Version : 1.6\n</code></pre>\n\n<p>Before running I set jvm argument <code>-Xmx2048m</code>.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":2828988,"reputation":89,"user_id":2430953,"display_name":"pgp"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1369800353,"creation_date":1369800353,"answer_id":16805315,"question_id":763579,"body_markdown":"Maximum number of threads depends on following things:&lt;ul&gt;\r\n&lt;li&gt;Hardware Configuration like microprocessor, RAM.&lt;/li&gt;\r\n&lt;li&gt;Operating System like whether it is 32-bit or 64-bit&lt;/li&gt;\r\n&lt;li&gt;Code inside the run method. If code inside the run method is huge then single thread object will have more memory requirement&lt;/li&gt;\r\n","title":"How many threads can a Java VM support?","body":"<p>Maximum number of threads depends on following things:\n<li>Hardware Configuration like microprocessor, RAM.</li>\n<li>Operating System like whether it is 32-bit or 64-bit</li>\n<li>Code inside the run method. If code inside the run method is huge then single thread object will have more memory requirement</li></p>\n"},{"tags":[],"owner":{"account_id":493597,"reputation":1862,"user_id":1471077,"display_name":"Trent Lloyd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491053508,"creation_date":1491052624,"answer_id":43157361,"question_id":763579,"body_markdown":"Additional information for modern (systemd) linux systems.\r\n\r\nThere are many resources about this of values that may need tweaking (such as https://stackoverflow.com/questions/34452302/how-to-increase-maximum-number-of-jvm-threads-linux-64bit); however a new limit is imposed by way of the systemd &quot;TasksMax&quot; limit which sets pids.max on the cgroup.\r\n\r\nFor login sessions the [UserTasksMax][1] default is 33% of the kernel limit pids_max (usually 12,288) and can be override in /etc/systemd/logind.conf.\r\n\r\nFor services the [DefaultTasksMax][2] default is 15% of the kernel limit pids_max (usually 4,915).  You can override it for the service by setting TasksMax in &quot;systemctl edit&quot; or update DefaultTasksMax in /etc/systemd/system.conf\r\n\r\n\r\n  [1]: https://www.freedesktop.org/software/systemd/man/logind.conf.html#UserTasksMax=\r\n  [2]: https://www.freedesktop.org/software/systemd/man/systemd-system.conf.html#DefaultTasksMax=","title":"How many threads can a Java VM support?","body":"<p>Additional information for modern (systemd) linux systems.</p>\n\n<p>There are many resources about this of values that may need tweaking (such as <a href=\"https://stackoverflow.com/questions/34452302/how-to-increase-maximum-number-of-jvm-threads-linux-64bit\">How to increase maximum number of JVM threads (Linux 64bit)</a>); however a new limit is imposed by way of the systemd \"TasksMax\" limit which sets pids.max on the cgroup.</p>\n\n<p>For login sessions the <a href=\"https://www.freedesktop.org/software/systemd/man/logind.conf.html#UserTasksMax=\" rel=\"nofollow noreferrer\">UserTasksMax</a> default is 33% of the kernel limit pids_max (usually 12,288) and can be override in /etc/systemd/logind.conf.</p>\n\n<p>For services the <a href=\"https://www.freedesktop.org/software/systemd/man/systemd-system.conf.html#DefaultTasksMax=\" rel=\"nofollow noreferrer\">DefaultTasksMax</a> default is 15% of the kernel limit pids_max (usually 4,915).  You can override it for the service by setting TasksMax in \"systemctl edit\" or update DefaultTasksMax in /etc/systemd/system.conf</p>\n"},{"comments":[{"owner":{"account_id":353824,"reputation":590,"user_id":691766,"accept_rate":100,"display_name":"jamie"},"score":0,"creation_date":1511722960,"post_id":46697264,"comment_id":81955157,"body_markdown":"Offcourse answers will vary. I got 10278 with 6 GB of ram.","body":"Offcourse answers will vary. I got 10278 with 6 GB of ram."}],"tags":[],"owner":{"account_id":8397126,"reputation":598,"user_id":6500868,"display_name":"Adeptius"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1507754773,"creation_date":1507754773,"answer_id":46697264,"question_id":763579,"body_markdown":"Year 2017...\r\nDieLikeADog class.\r\n\r\nNew thread #92459\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: unable to create new native thread\r\n\r\ni7-7700\r\n16gb ram","title":"How many threads can a Java VM support?","body":"<p>Year 2017...\nDieLikeADog class.</p>\n\n<p>New thread #92459\nException in thread \"main\" java.lang.OutOfMemoryError: unable to create new native thread</p>\n\n<p>i7-7700\n16gb ram</p>\n"},{"comments":[{"owner":{"account_id":16237198,"reputation":51,"user_id":11724418,"display_name":"sunta3iouxos"},"score":0,"creation_date":1642704063,"post_id":66933250,"comment_id":125148852,"body_markdown":"Could you please let me know how to run this on my server? I have some weird errors and want to check the threads as you mention.\\","body":"Could you please let me know how to run this on my server? I have some weird errors and want to check the threads as you mention.\\"}],"tags":[],"owner":{"account_id":16444286,"reputation":1241,"user_id":11879558,"display_name":"Harsh Mangalam"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625603248,"creation_date":1617466078,"answer_id":66933250,"question_id":763579,"body_markdown":"when i was research this topic in my 2GB Samsung AMD processor laptop running Trisquel linux (Ubuntu 18.04) . It can manage 9534 threads and then after that it throw peculiar Exception\r\n    \r\n\r\n    \r\n\r\n&gt;     at java.base/java.lang.Thread.start0(Native Method)\r\n&gt;     at java.base/java.lang.Thread.start(Thread.java:803)\r\n&gt;     at Main.main(Main.java:11)\r\n\r\n\r\ncode :\r\n\r\n   \r\n\r\n    public class MultithreadingRunnable implements Runnable {\r\n        public void run() {\r\n            System.out.println(&quot;ThreadID &quot; +  Thread.currentThread().getId());\r\n        }\r\n     }\r\n\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] ars) {\r\n    \r\n            for(int i = 0;i&lt;10000;i++){\r\n                Thread mr = new Thread(new MultithreadingRunnable());\r\n                mr.start();\r\n            }\r\n        }\r\n     }\r\n\r\n\r\n","title":"How many threads can a Java VM support?","body":"<p>when i was research this topic in my 2GB Samsung AMD processor laptop running Trisquel linux (Ubuntu 18.04) . It can manage 9534 threads and then after that it throw peculiar Exception</p>\n<blockquote>\n<pre><code>at java.base/java.lang.Thread.start0(Native Method)\nat java.base/java.lang.Thread.start(Thread.java:803)\nat Main.main(Main.java:11)\n</code></pre>\n</blockquote>\n<p>code :</p>\n<pre><code>public class MultithreadingRunnable implements Runnable {\n    public void run() {\n        System.out.println(&quot;ThreadID &quot; +  Thread.currentThread().getId());\n    }\n }\n\n\n\npublic class Main {\n    public static void main(String[] ars) {\n\n        for(int i = 0;i&lt;10000;i++){\n            Thread mr = new Thread(new MultithreadingRunnable());\n            mr.start();\n        }\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687369296,"creation_date":1687369296,"answer_id":76525896,"question_id":763579,"body_markdown":"With Virtual Threads (previewed in JDK 19, finalized in JDK 21), multiple people have reported spinning up over 10 million threads.\r\n\r\nHere is the JEP for more information: https://openjdk.org/jeps/444","title":"How many threads can a Java VM support?","body":"<p>With Virtual Threads (previewed in JDK 19, finalized in JDK 21), multiple people have reported spinning up over 10 million threads.</p>\n<p>Here is the JEP for more information: <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/444</a></p>\n"}],"owner":{"account_id":31071,"reputation":6616,"user_id":85095,"accept_rate":76,"display_name":"McGovernTheory"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246523,"favorite_count":0,"down_vote_count":1,"up_vote_count":260,"accepted_answer_id":763592,"answer_count":14,"score":259,"last_activity_date":1687369296,"creation_date":1240067205,"question_id":763579,"body_markdown":"How many threads can a Java VM support? Does this vary by vendor? by operating system? other factors?","title":"How many threads can a Java VM support?","body":"<p>How many threads can a Java VM support? Does this vary by vendor? by operating system? other factors?</p>\n"},{"tags":["java","jpa","spring-data-jpa","criteria","builder"],"comments":[{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1535523162,"post_id":52069928,"comment_id":91090886,"body_markdown":"Firstly that is invalid JPQL, there is no &quot;replace&quot; function in JPQL (or Criteria). Secondly, show what you have tried so far, and what SPECIFIC part you have a problem with","body":"Firstly that is invalid JPQL, there is no &quot;replace&quot; function in JPQL (or Criteria). Secondly, show what you have tried so far, and what SPECIFIC part you have a problem with"},{"owner":{"account_id":13922669,"reputation":133,"user_id":10052728,"display_name":"questp"},"score":0,"creation_date":1535524339,"post_id":52069928,"comment_id":91091415,"body_markdown":"Yes i have searched there not replace inside criteria builder. but our requirement is to sort this version column. As version column is varchar it gives string sorting. so when using jpa we use orderList.add(cb.desc(uf.get(&quot;version&quot;)) it sorts based on string and lists  &quot;11.0.2.73&quot; above &quot;11.0.2.213&quot;. to solve this  we need to remove &quot;.&quot; from versions cast it into number and then sort. Query given in the description is working...on actual postgress database we need to find any way or other way to implement this in JPQL or critera builder in java. Please suggest","body":"Yes i have searched there not replace inside criteria builder. but our requirement is to sort this version column. As version column is varchar it gives string sorting. so when using jpa we use orderList.add(cb.desc(uf.get(&quot;version&quot;)) it sorts based on string and lists  &quot;11.0.2.73&quot; above &quot;11.0.2.213&quot;. to solve this  we need to remove &quot;.&quot; from versions cast it into number and then sort. Query given in the description is working...on actual postgress database we need to find any way or other way to implement this in JPQL or critera builder in java. Please suggest"},{"owner":{"account_id":13922669,"reputation":133,"user_id":10052728,"display_name":"questp"},"score":0,"creation_date":1535524443,"post_id":52069928,"comment_id":91091459,"body_markdown":"Same this i have explained in https://stackoverflow.com/questions/52054094/how-to-implement-jpa-data-criteria-builder-with-cast","body":"Same this i have explained in <a href=\"https://stackoverflow.com/questions/52054094/how-to-implement-jpa-data-criteria-builder-with-cast\" title=\"how to implement jpa data criteria builder with cast\">stackoverflow.com/questions/52054094/&hellip;</a>"},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1535526999,"post_id":52069928,"comment_id":91092849,"body_markdown":"So this is a DUPLICATE of that question. Please do not raise dup questions","body":"So this is a DUPLICATE of that question. Please do not raise dup questions"},{"owner":{"account_id":13922669,"reputation":133,"user_id":10052728,"display_name":"questp"},"score":0,"creation_date":1535528881,"post_id":52069928,"comment_id":91093927,"body_markdown":"Will remove one. But can you suggest if there is way to handle this in criteria builder.","body":"Will remove one. But can you suggest if there is way to handle this in criteria builder."}],"answers":[{"comments":[{"owner":{"account_id":13922669,"reputation":133,"user_id":10052728,"display_name":"questp"},"score":0,"creation_date":1535620842,"post_id":52089961,"comment_id":91136760,"body_markdown":"Hey John Thanks for your response it worked at my end. By the time i saw your reply i could figure out replace function. But i was not able to figure out how to implement lpad function. Thanks again for your valuable reply.","body":"Hey John Thanks for your response it worked at my end. By the time i saw your reply i could figure out replace function. But i was not able to figure out how to implement lpad function. Thanks again for your valuable reply."},{"owner":{"account_id":13922669,"reputation":133,"user_id":10052728,"display_name":"questp"},"score":0,"creation_date":1535626441,"post_id":52089961,"comment_id":91140446,"body_markdown":"Hi John, you rightly mentioned that CAST is not available. But using lpad was really very good suggestion Thanks","body":"Hi John, you rightly mentioned that CAST is not available. But using lpad was really very good suggestion Thanks"},{"owner":{"account_id":13922669,"reputation":133,"user_id":10052728,"display_name":"questp"},"score":0,"creation_date":1535697858,"post_id":52089961,"comment_id":91170212,"body_markdown":"Hi John we are creating this to compare versions which are in the format of &quot;11.2.2000.3&quot; or &quot;11.2.2000.111&quot; in this case lpad with total 10 is working fine. But it will fail when comparing &quot;11.2.2000.3&quot; and this &quot;4.200.10.10&quot;, as ultimately it will string compare 11220003 and 42001010. It will consider &quot;4.200.10.10&quot; bigger. so is there any function or way criteria builder provides to convert this to integer after replacing &quot;.&quot; Please suggest","body":"Hi John we are creating this to compare versions which are in the format of &quot;11.2.2000.3&quot; or &quot;11.2.2000.111&quot; in this case lpad with total 10 is working fine. But it will fail when comparing &quot;11.2.2000.3&quot; and this &quot;4.200.10.10&quot;, as ultimately it will string compare 11220003 and 42001010. It will consider &quot;4.200.10.10&quot; bigger. so is there any function or way criteria builder provides to convert this to integer after replacing &quot;.&quot; Please suggest"},{"owner":{"account_id":14233787,"reputation":373,"user_id":10282186,"display_name":"John"},"score":0,"creation_date":1535731839,"post_id":52089961,"comment_id":91189402,"body_markdown":"Even if there is a way to convert string to integer in the Criteria API, converting &quot;11220003&quot; and &quot;42001010&quot; to integer, &quot;4.200.10.10&quot; would be bigger too. If I understand your orderBy version correctly, you should compare them parts by parts starting from the first part. For your example above, the first part &quot;11&quot; is bigger than &quot;4&quot;, the version starting with &quot;11&quot; is bigger. In the Criteria API, there are locate() and substring(), but it can be complex to extract 4 parts. Oracle has regexp_substr(). MySQL has substring_index(). You may need to create a function for your database.","body":"Even if there is a way to convert string to integer in the Criteria API, converting &quot;11220003&quot; and &quot;42001010&quot; to integer, &quot;4.200.10.10&quot; would be bigger too. If I understand your orderBy version correctly, you should compare them parts by parts starting from the first part. For your example above, the first part &quot;11&quot; is bigger than &quot;4&quot;, the version starting with &quot;11&quot; is bigger. In the Criteria API, there are locate() and substring(), but it can be complex to extract 4 parts. Oracle has regexp_substr(). MySQL has substring_index(). You may need to create a function for your database."},{"owner":{"account_id":14233787,"reputation":373,"user_id":10282186,"display_name":"John"},"score":0,"creation_date":1535731903,"post_id":52089961,"comment_id":91189424,"body_markdown":"MySQL substring_index() is not exactly extracting a part from a string. But it can serve your purpose with lpad.","body":"MySQL substring_index() is not exactly extracting a part from a string. But it can serve your purpose with lpad."},{"owner":{"account_id":13922669,"reputation":133,"user_id":10052728,"display_name":"questp"},"score":0,"creation_date":1535970985,"post_id":52089961,"comment_id":91245754,"body_markdown":"Hi John, when i am trying to use Expression&lt;String&gt; majorVer = cb.function(&quot;SUBSTRING_INDEX&quot;, String.class, uf.get(sortAttr), cb.literal(&quot;.&quot;), cb.literal(1));                                                                                               I am getting error as &quot;nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\norg.postgresql.util.PSQLException: ERROR: function substring_index(text) does not exist&quot;","body":"Hi John, when i am trying to use Expression&lt;String&gt; majorVer = cb.function(&quot;SUBSTRING_INDEX&quot;, String.class, uf.get(sortAttr), cb.literal(&quot;.&quot;), cb.literal(1));                                                                                               I am getting error as &quot;nested exception is org.springframework.dao.InvalidDataAccessResourceUsageExcept&zwnj;&#8203;ion: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause org.postgresql.util.PSQLException: ERROR: function substring_index(text) does not exist&quot;"},{"owner":{"account_id":13922669,"reputation":133,"user_id":10052728,"display_name":"questp"},"score":0,"creation_date":1535971113,"post_id":52089961,"comment_id":91245832,"body_markdown":"I think SUBSTRING_INDEX is not provided by criteriabuilder","body":"I think SUBSTRING_INDEX is not provided by criteriabuilder"},{"owner":{"account_id":14233787,"reputation":373,"user_id":10282186,"display_name":"John"},"score":0,"creation_date":1535984941,"post_id":52089961,"comment_id":91253676,"body_markdown":"substring_index is for MySQL. You need to use the corresponding function for your database.","body":"substring_index is for MySQL. You need to use the corresponding function for your database."}],"tags":[],"owner":{"account_id":14233787,"reputation":373,"user_id":10282186,"display_name":"John"},"comment_count":8,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1535608111,"creation_date":1535608111,"answer_id":52089961,"question_id":52069928,"body_markdown":"Currently JPA does not have APIs for replace() and cast(string as numeric). But you can use CriteriaBuilder.function(...) to create database native functions if database portability is not critical.\r\n\r\nFor MySQL, the order-by expression of your example would be:\r\n\r\n        Expression&lt;String&gt; replacedValue = criteriaBuilder.function(&quot;replace&quot;, \r\n\t\t\t\tString.class, root.get(&quot;version&quot;), criteriaBuilder.literal(&quot;.&quot;), \r\n\t\t\t\tcriteriaBuilder.literal(&quot;&quot;));\r\n\r\n\t\tExpression&lt;String&gt; lpadValue = criteriaBuilder.function(&quot;lpad&quot;, \r\n\t\t\t\tString.class, replacedValue, criteriaBuilder.literal(20),\r\n\t\t\t\tcriteriaBuilder.literal(&quot;0&quot;));\r\n\r\n        criteriaQuery.orderBy(criteriaBuilder.desc(lpadValue));\r\n\r\nCriteriaBuilder.function(...) does not support such native functions as `cast(value as type) or convert(value, type)`. So use lpad(...) to achieve the same orderBy results.\r\n\r\nIt works great with [Cmobilecom JPA][1], a ligth-weight JPA implementation for both Java and Android.\r\n\r\nDisclaimer: I am a developer of Cmobilecom JPA.\r\n\r\n\r\n  [1]: http://cmobilecom.com","title":"JPA criteria builder: how to replace and cast a string to numeric in order-by?","body":"<p>Currently JPA does not have APIs for replace() and cast(string as numeric). But you can use CriteriaBuilder.function(...) to create database native functions if database portability is not critical.</p>\n\n<p>For MySQL, the order-by expression of your example would be:</p>\n\n<pre><code>    Expression&lt;String&gt; replacedValue = criteriaBuilder.function(\"replace\", \n            String.class, root.get(\"version\"), criteriaBuilder.literal(\".\"), \n            criteriaBuilder.literal(\"\"));\n\n    Expression&lt;String&gt; lpadValue = criteriaBuilder.function(\"lpad\", \n            String.class, replacedValue, criteriaBuilder.literal(20),\n            criteriaBuilder.literal(\"0\"));\n\n    criteriaQuery.orderBy(criteriaBuilder.desc(lpadValue));\n</code></pre>\n\n<p>CriteriaBuilder.function(...) does not support such native functions as <code>cast(value as type) or convert(value, type)</code>. So use lpad(...) to achieve the same orderBy results.</p>\n\n<p>It works great with <a href=\"http://cmobilecom.com\" rel=\"noreferrer\">Cmobilecom JPA</a>, a ligth-weight JPA implementation for both Java and Android.</p>\n\n<p>Disclaimer: I am a developer of Cmobilecom JPA.</p>\n"},{"tags":[],"owner":{"account_id":170417,"reputation":898,"user_id":397103,"display_name":"CTarczon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687369097,"creation_date":1687369097,"answer_id":76525882,"question_id":52069928,"body_markdown":"I don&#39;t know which JPA version introduced this but I&#39;m in Hibernate 6/JPA 3.1.0 and the criteria builder has toX() methods that result in a SQL cast.\r\n\r\n    cq.orderBy(cb.desc(cb.toInteger(root.get(&quot;version&quot;))))\r\n\r\nShould result in this (for SQL Server):\r\n\r\n    order by cast(version as int) desc\r\n\r\nAdditional pieces like the the function call for replace could be added as well.","title":"JPA criteria builder: how to replace and cast a string to numeric in order-by?","body":"<p>I don't know which JPA version introduced this but I'm in Hibernate 6/JPA 3.1.0 and the criteria builder has toX() methods that result in a SQL cast.</p>\n<pre><code>cq.orderBy(cb.desc(cb.toInteger(root.get(&quot;version&quot;))))\n</code></pre>\n<p>Should result in this (for SQL Server):</p>\n<pre><code>order by cast(version as int) desc\n</code></pre>\n<p>Additional pieces like the the function call for replace could be added as well.</p>\n"}],"owner":{"account_id":13922669,"reputation":133,"user_id":10052728,"display_name":"questp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15273,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":52089961,"answer_count":2,"score":7,"last_activity_date":1687369097,"creation_date":1535519878,"question_id":52069928,"body_markdown":"Can someone please suggest me how to build up the following query using JPA Criteria builder API?\r\n\r\n    SELECT id, name, date, version FROM public.upgradeTable\r\n    order by (CAST(replace(version, &#39;.&#39;, &#39;&#39;)AS numeric)) desc;\r\n\r\nPlease note our version column have values like &quot;11.0.2.213&quot;, &quot;11.0.2.73&quot;\r\nWe need to trim character &#39;.&#39; inside the version and then cast them as numeric and then sort by desc.","title":"JPA criteria builder: how to replace and cast a string to numeric in order-by?","body":"<p>Can someone please suggest me how to build up the following query using JPA Criteria builder API?</p>\n\n<pre><code>SELECT id, name, date, version FROM public.upgradeTable\norder by (CAST(replace(version, '.', '')AS numeric)) desc;\n</code></pre>\n\n<p>Please note our version column have values like \"11.0.2.213\", \"11.0.2.73\"\nWe need to trim character '.' inside the version and then cast them as numeric and then sort by desc.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1687342447,"post_id":76521663,"comment_id":134922384,"body_markdown":"How did you get to know it is fetchinge eagerly?\nFrom postman or debugger or printing in console? If you do that, there is a chance it will be fetched eagerly as you are explicitly calling the whole object, I guess","body":"How did you get to know it is fetchinge eagerly? From postman or debugger or printing in console? If you do that, there is a chance it will be fetched eagerly as you are explicitly calling the whole object, I guess"}],"answers":[{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687366634,"post_id":76522158,"comment_id":134928073,"body_markdown":"Thank you for the answer. Yes its Spring and I am viewing in browser window from controller so Jackson has deserialised it. What would be the best way to see natively how changing the annotations changes what is fetched?\nIf Jackson does this what is the point of the annotation?","body":"Thank you for the answer. Yes its Spring and I am viewing in browser window from controller so Jackson has deserialised it. What would be the best way to see natively how changing the annotations changes what is fetched? If Jackson does this what is the point of the annotation?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687367905,"post_id":76522158,"comment_id":134928306,"body_markdown":"To see how it works first of all add property spring.jpa.show-sql=true. Then you can observe the select statements fired by Hibernate. You can write a test which calls your getOneManually method without doing anything with the result. Another test where the healthCheck.bird is printed out.","body":"To see how it works first of all add property spring.jpa.show-sql=true. Then you can observe the select statements fired by Hibernate. You can write a test which calls your getOneManually method without doing anything with the result. Another test where the healthCheck.bird is printed out."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687368213,"post_id":76522158,"comment_id":134928360,"body_markdown":"For a comprehensive guide see Baeldung https://www.baeldung.com/hibernate-lazy-eager-loading Chapter 6. lists the advantages and disadvantages of both lazy and eager loading.","body":"For a comprehensive guide see Baeldung <a href=\"https://www.baeldung.com/hibernate-lazy-eager-loading\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-lazy-eager-loading</a> Chapter 6. lists the advantages and disadvantages of both lazy and eager loading."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687368499,"post_id":76522158,"comment_id":134928397,"body_markdown":"but where would I put these test calls and how to fire them? On the controller methods or in App,class?","body":"but where would I put these test calls and how to fire them? On the controller methods or in App,class?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687369228,"post_id":76522158,"comment_id":134928549,"body_markdown":"I was thinking of separate unit tests. Are you using some IDE like IntelliJ? Then it will be in the folder src/test/java","body":"I was thinking of separate unit tests. Are you using some IDE like IntelliJ? Then it will be in the folder src/test/java"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687369709,"post_id":76522158,"comment_id":134928617,"body_markdown":"Can we take this to chat for a minute? https://chat.stackoverflow.com/rooms/info/254181/onetomany?tab=general","body":"Can we take this to chat for a minute? <a href=\"https://chat.stackoverflow.com/rooms/info/254181/onetomany?tab=general\">chat.stackoverflow.com/rooms/info/254181/onetomany?tab=gener&zwnj;&#8203;al</a>"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687369830,"post_id":76522158,"comment_id":134928642,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254182/discussion-between-al-grant-and-mar-z).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254182/discussion-between-al-grant-and-mar-z\">continue this discussion in chat</a>."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687370707,"post_id":76522158,"comment_id":134928789,"body_markdown":"I would like to know how to do this with the generated application class under src/test/java","body":"I would like to know how to do this with the generated application class under src/test/java"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687342242,"creation_date":1687342242,"answer_id":76522158,"question_id":76521663,"body_markdown":"The ManyToOne will be fetched lazily in your case - no doubts. The question is what your code is doing with the fetched entity `HealthCheck`. If it calls toString() or serialize a JSON string or you are showing the object in the IDE debugger window - all of this will cause Hibernate to fetch the `Bird` entity from the database with an additional select.\r\n\r\nThis is how lazy loading works - not fetch initially but fetch as soon as any getter called.","title":"ManyToOne relationship still getting eagerly fetched","body":"<p>The ManyToOne will be fetched lazily in your case - no doubts. The question is what your code is doing with the fetched entity <code>HealthCheck</code>. If it calls toString() or serialize a JSON string or you are showing the object in the IDE debugger window - all of this will cause Hibernate to fetch the <code>Bird</code> entity from the database with an additional select.</p>\n<p>This is how lazy loading works - not fetch initially but fetch as soon as any getter called.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76522158,"answer_count":1,"score":0,"last_activity_date":1687369012,"creation_date":1687338567,"question_id":76521663,"body_markdown":"I have read [here][1] that `By default, the JPA @ManyToOne and @OneToOne annotations are fetched EAGERLY`.\r\n\r\nMy project is Spring Boot and uses Jackson.\r\n\r\nMy entities is getting fetched eagerly despite being annotated with lazy when I view the entities in the browser:\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name=&quot;HEALTH_CHECK&quot;)\r\n    public class HealthCheck {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        private Long id;\r\n\r\n        @JsonManagedReference\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        private Bird bird;\r\n\r\nAnd on Bird:\r\n\r\n    @Entity\r\n    @Data\r\n    public class Bird {\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        private Long id;\r\n    \r\n        @JsonBackReference\r\n        @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\r\n        private List&lt;HealthCheck&gt; listHealthCheck = new ArrayList&lt;&gt;();\r\n        //others\r\n\r\nI have tried using the derived query for `findById` and rolling my own:\r\n\r\n    @Query(&quot;SELECT h FROM HealthCheck h WHERE h.id = :id&quot;)\r\n    Optional &lt;HealthCheck&gt; getOneManually(@Param(&quot;id&quot;) Long id);\r\n\r\nEither way a query on `HealthCheck` returns all the details of a bird.\r\n\r\nShouldn&#39;t my `@ManyToOne(fetch = FetchType.LAZY, optional = false)` on HealthCheck override the default `EAGER` fetching?\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/#:~:text=By%20default%2C%20the%20JPA%20%40ManyToOne,what%20is%20instructed%20to%20do.\r\n","title":"ManyToOne relationship still getting eagerly fetched","body":"<p>I have read <a href=\"https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/#:%7E:text=By%20default%2C%20the%20JPA%20%40ManyToOne,what%20is%20instructed%20to%20do.\" rel=\"nofollow noreferrer\">here</a> that <code>By default, the JPA @ManyToOne and @OneToOne annotations are fetched EAGERLY</code>.</p>\n<p>My project is Spring Boot and uses Jackson.</p>\n<p>My entities is getting fetched eagerly despite being annotated with lazy when I view the entities in the browser:</p>\n<pre><code>@Entity\n@Data\n@Table(name=&quot;HEALTH_CHECK&quot;)\npublic class HealthCheck {\n\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long id;\n\n    @JsonManagedReference\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    private Bird bird;\n</code></pre>\n<p>And on Bird:</p>\n<pre><code>@Entity\n@Data\npublic class Bird {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long id;\n\n    @JsonBackReference\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\n    private List&lt;HealthCheck&gt; listHealthCheck = new ArrayList&lt;&gt;();\n    //others\n</code></pre>\n<p>I have tried using the derived query for <code>findById</code> and rolling my own:</p>\n<pre><code>@Query(&quot;SELECT h FROM HealthCheck h WHERE h.id = :id&quot;)\nOptional &lt;HealthCheck&gt; getOneManually(@Param(&quot;id&quot;) Long id);\n</code></pre>\n<p>Either way a query on <code>HealthCheck</code> returns all the details of a bird.</p>\n<p>Shouldn't my <code>@ManyToOne(fetch = FetchType.LAZY, optional = false)</code> on HealthCheck override the default <code>EAGER</code> fetching?</p>\n"},{"tags":["java","spring-boot","spring-boot-test","spring-webtestclient"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687359291,"post_id":76524555,"comment_id":134926395,"body_markdown":"You can modify the `WebTestClient` using a `WebTestClientConfigurer`. However if you are connecting to your own server that is bootstrapped and it has SSL enabled through the Spring Boot default mechanism it should already use HTTPS. See https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/web/reactive/server/WebTestClientContextCustomizer.java#L170","body":"You can modify the <code>WebTestClient</code> using a <code>WebTestClientConfigurer</code>. However if you are connecting to your own server that is bootstrapped and it has SSL enabled through the Spring Boot default mechanism it should already use HTTPS. See <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/web/reactive/server/WebTestClientContextCustomizer.java#L170\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/main/&hellip;</a>"},{"owner":{"account_id":5286625,"reputation":647,"user_id":4932655,"accept_rate":100,"display_name":"Display name"},"score":0,"creation_date":1687359585,"post_id":76524555,"comment_id":134926484,"body_markdown":"You are correct. However WebTestClientConfigurer doesn&#39;t given options that WebClient has. For example even if I use  .baseUrl(&quot;https://....&quot;) it&#39;s still sending http requests. If I manually configure it using bindToServer().baseUrl(...) it&#39;s sending requests through HTTPS. However I cannot seem to be able to configure clientConnector. As these are tests, running on jenkins hosts, the certificate is invalid thus it needs to be ignored. Again, simple with WebClient, but I can&#39;t find the equivalent for WebTestClient","body":"You are correct. However WebTestClientConfigurer doesn&#39;t given options that WebClient has. For example even if I use  .baseUrl(&quot;https://....&quot;) it&#39;s still sending http requests. If I manually configure it using bindToServer().baseUrl(...) it&#39;s sending requests through HTTPS. However I cannot seem to be able to configure clientConnector. As these are tests, running on jenkins hosts, the certificate is invalid thus it needs to be ignored. Again, simple with WebClient, but I can&#39;t find the equivalent for WebTestClient"}],"answers":[{"tags":[],"owner":{"account_id":5286625,"reputation":647,"user_id":4932655,"accept_rate":100,"display_name":"Display name"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687368940,"creation_date":1687368940,"answer_id":76525864,"question_id":76524555,"body_markdown":"Not an elegant solution, but I managed to get it working, but not with @AuthConfigureWebTestClient. The final solution was the below:\r\n\r\n    @LocalServerPort\r\n    private int port;\r\n\r\n    private WebTestClient webTestClient;\r\n\r\n    @PostConstruct\r\n    void init() throws SSLException {\r\n        var sslContext = SSLContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE).build;\r\n        var httpClient = HttpClient.create().secure(sslContextSpec -&gt; sslContextSpec.sslContext(sslContext));\r\n        webTestClient = WebTestClient.bindToServer(new ReactorClientHttpConnector(httpClient)).baseUrl(&quot;https://localhost:%d&quot;.formatted(port)).build();\r\n    }","title":"WebTestClient on HTTPS with SpringBootTest random_port","body":"<p>Not an elegant solution, but I managed to get it working, but not with @AuthConfigureWebTestClient. The final solution was the below:</p>\n<pre><code>@LocalServerPort\nprivate int port;\n\nprivate WebTestClient webTestClient;\n\n@PostConstruct\nvoid init() throws SSLException {\n    var sslContext = SSLContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE).build;\n    var httpClient = HttpClient.create().secure(sslContextSpec -&gt; sslContextSpec.sslContext(sslContext));\n    webTestClient = WebTestClient.bindToServer(new ReactorClientHttpConnector(httpClient)).baseUrl(&quot;https://localhost:%d&quot;.formatted(port)).build();\n}\n</code></pre>\n"}],"owner":{"account_id":5286625,"reputation":647,"user_id":4932655,"accept_rate":100,"display_name":"Display name"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76525864,"answer_count":1,"score":0,"last_activity_date":1687368940,"creation_date":1687358651,"question_id":76524555,"body_markdown":"I have a rest service for which I needed to implement TLSv1.3 over HTTPS (HTTP is prohibited at my place for this app). Now the tests are failing because WebTestClient is making calls using http protocol over https. I know I could build WebTestClient myself, but to make things more interesting these tests are using RANDOM_PORT because the CI jobs are running on a single jenkins node that&#39;s shared across different teams (I cannot remove it safely).\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, properties = &quot;spring.main.allow-bean-definition-overriding=true&quot;)\r\n    @ContextConfiguration(classes = TestWebClientConfiguration.class)  // contains beans to connect to mocked downstream services\r\n    @TestMethodOrder(MethodOrdeded.OrderAnnotation.class)\r\n    @DirtiesContext\r\n    @AutoConfigureWebTestClient\r\n    @ActiveProfiles(value = {&quot;test&quot;})\r\n    public class HealthCheckTests {\r\n        @Autowired\r\n        private WebTestClient webTestClient;\r\n        ...\r\n    }\r\n\r\nBased on the application logs I can see that webTestClient is making calls to my service like:\r\n\r\n    GET http://localhost:19654/health-check\r\n\r\nwhich was working fine, but now it should be https. Can I configure WebTestClient to use HTTPS while using AutoConfigureWebTestClient, alternatively how can I configure WebTestClient towards to RANDOM_PORT that spring sets.\r\n\r\n@Update\r\nHere&#39;s what I have tried already:\r\n\r\n    private WebTestClient webTestClient;\r\n\r\n    @PostConstruct\r\n    void init() throws SSLException {\r\n        // var sslContext = SSLContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE).build;\r\n        // var httpClient = HttpClient.create().secure(sslContextSpec -&gt; sslContextSpec.sslContext(sslContext));\r\n        webTestClient = WebTestClient.bindToServer().baseUrl(&quot;https://localhost:&lt;fix_port&gt;&quot;).build()\r\n    }\r\n\r\nThis works to some degree. The requests are sent over HTTPS the issues are getting the port from WebEnvironment, and obviously the incorrect certificates. While WebClient has clientConnector where httpClient can be configured, I cannot seem to find the equivalent to this for WebTestClient.\r\n\r\n@Update2:\r\nI managed to configure the SSLContext with the WebTestClient, the only issue that remains is that I can only do it if I&#39;m hardcoding the port.\r\n\r\n    @PostConstruct\r\n    void init() throws SSLException {\r\n        var sslContext = SSLContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE).build;\r\n        var httpClient = HttpClient.create().secure(sslContextSpec -&gt; sslContextSpec.sslContext(sslContext));\r\n        webTestClient = WebTestClient.bindToServer(new ReactorClientHttpConnector(httpClient)).baseUrl(&quot;https://localhost:&lt;fixed-port&gt;&quot;).build();\r\n    }\r\n\r\n","title":"WebTestClient on HTTPS with SpringBootTest random_port","body":"<p>I have a rest service for which I needed to implement TLSv1.3 over HTTPS (HTTP is prohibited at my place for this app). Now the tests are failing because WebTestClient is making calls using http protocol over https. I know I could build WebTestClient myself, but to make things more interesting these tests are using RANDOM_PORT because the CI jobs are running on a single jenkins node that's shared across different teams (I cannot remove it safely).</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, properties = &quot;spring.main.allow-bean-definition-overriding=true&quot;)\n@ContextConfiguration(classes = TestWebClientConfiguration.class)  // contains beans to connect to mocked downstream services\n@TestMethodOrder(MethodOrdeded.OrderAnnotation.class)\n@DirtiesContext\n@AutoConfigureWebTestClient\n@ActiveProfiles(value = {&quot;test&quot;})\npublic class HealthCheckTests {\n    @Autowired\n    private WebTestClient webTestClient;\n    ...\n}\n</code></pre>\n<p>Based on the application logs I can see that webTestClient is making calls to my service like:</p>\n<pre><code>GET http://localhost:19654/health-check\n</code></pre>\n<p>which was working fine, but now it should be https. Can I configure WebTestClient to use HTTPS while using AutoConfigureWebTestClient, alternatively how can I configure WebTestClient towards to RANDOM_PORT that spring sets.</p>\n<p>@Update\nHere's what I have tried already:</p>\n<pre><code>private WebTestClient webTestClient;\n\n@PostConstruct\nvoid init() throws SSLException {\n    // var sslContext = SSLContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE).build;\n    // var httpClient = HttpClient.create().secure(sslContextSpec -&gt; sslContextSpec.sslContext(sslContext));\n    webTestClient = WebTestClient.bindToServer().baseUrl(&quot;https://localhost:&lt;fix_port&gt;&quot;).build()\n}\n</code></pre>\n<p>This works to some degree. The requests are sent over HTTPS the issues are getting the port from WebEnvironment, and obviously the incorrect certificates. While WebClient has clientConnector where httpClient can be configured, I cannot seem to find the equivalent to this for WebTestClient.</p>\n<p>@Update2:\nI managed to configure the SSLContext with the WebTestClient, the only issue that remains is that I can only do it if I'm hardcoding the port.</p>\n<pre><code>@PostConstruct\nvoid init() throws SSLException {\n    var sslContext = SSLContextBuilder.forClient().trustManager(InsecureTrustManagerFactory.INSTANCE).build;\n    var httpClient = HttpClient.create().secure(sslContextSpec -&gt; sslContextSpec.sslContext(sslContext));\n    webTestClient = WebTestClient.bindToServer(new ReactorClientHttpConnector(httpClient)).baseUrl(&quot;https://localhost:&lt;fixed-port&gt;&quot;).build();\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"score":0,"creation_date":1687284630,"post_id":76517285,"comment_id":134914274,"body_markdown":"I have tried all of them but it is not working. I don&#39;t know why did the same app run perfectly with the same styles.xml and themes.xml before but now it is throwing that error. Nothing is duplicated I have seen. I just created a fragment and an adapter and after that, this error came. After deleting these the error remains.","body":"I have tried all of them but it is not working. I don&#39;t know why did the same app run perfectly with the same styles.xml and themes.xml before but now it is throwing that error. Nothing is duplicated I have seen. I just created a fragment and an adapter and after that, this error came. After deleting these the error remains."},{"owner":{"account_id":28858743,"reputation":12,"user_id":22103002,"display_name":"Roni Maciel"},"score":0,"creation_date":1687286780,"post_id":76517285,"comment_id":134914739,"body_markdown":"Could it be your IDE? Eclipse, IntelliJ, or others?\n\nRemove and install again.","body":"Could it be your IDE? Eclipse, IntelliJ, or others?  Remove and install again."},{"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"score":0,"creation_date":1687289688,"post_id":76517285,"comment_id":134915208,"body_markdown":"IDE is Android Studio, Let me try","body":"IDE is Android Studio, Let me try"},{"owner":{"account_id":28858743,"reputation":12,"user_id":22103002,"display_name":"Roni Maciel"},"score":0,"creation_date":1687289801,"post_id":76517285,"comment_id":134915222,"body_markdown":"Test your code other IDE","body":"Test your code other IDE"},{"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"score":0,"creation_date":1687290193,"post_id":76517285,"comment_id":134915280,"body_markdown":"I tried but it also not worked","body":"I tried but it also not worked"},{"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"score":0,"creation_date":1687290258,"post_id":76517285,"comment_id":134915286,"body_markdown":"Which other ide? Its java based.","body":"Which other ide? Its java based."},{"owner":{"account_id":28858743,"reputation":12,"user_id":22103002,"display_name":"Roni Maciel"},"score":0,"creation_date":1687290451,"post_id":76517285,"comment_id":134915311,"body_markdown":"Test Spring Tools Suite (STS) \n&gt; [Download](https://spring.io/tools)","body":"Test Spring Tools Suite (STS)  &gt; <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">Download</a>"},{"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"score":0,"creation_date":1687332477,"post_id":76517285,"comment_id":134920128,"body_markdown":"it also didn&#39;t work","body":"it also didn&#39;t work"},{"owner":{"account_id":28858743,"reputation":12,"user_id":22103002,"display_name":"Roni Maciel"},"score":0,"creation_date":1687349461,"post_id":76517285,"comment_id":134923821,"body_markdown":"I&#39;ll Write an example basic, okay?","body":"I&#39;ll Write an example basic, okay?"},{"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"score":0,"creation_date":1687363218,"post_id":76517285,"comment_id":134927356,"body_markdown":"Yes please you are welcome","body":"Yes please you are welcome"},{"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"score":0,"creation_date":1687363285,"post_id":76517285,"comment_id":134927379,"body_markdown":"I have done everything nothing has worked. I am wondering how it ran before","body":"I have done everything nothing has worked. I am wondering how it ran before"},{"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"score":0,"creation_date":1687363353,"post_id":76517285,"comment_id":134927400,"body_markdown":"could we discuss this on whatsapp?","body":"could we discuss this on whatsapp?"},{"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"score":0,"creation_date":1687363557,"post_id":76517285,"comment_id":134927448,"body_markdown":"Also to mention that i am getting 4 errors log files in my root folder which is saying this : \n# There is insufficient memory for the Java Runtime Environment to continue.\n# Native memory allocation (malloc) failed to allocate 1686416 bytes for Chunk::new","body":"Also to mention that i am getting 4 errors log files in my root folder which is saying this :  # There is insufficient memory for the Java Runtime Environment to continue. # Native memory allocation (malloc) failed to allocate 1686416 bytes for Chunk::new"},{"owner":{"account_id":28858743,"reputation":12,"user_id":22103002,"display_name":"Roni Maciel"},"score":0,"creation_date":1687368549,"post_id":76517285,"comment_id":134928403,"body_markdown":"Ok, I&#39;ll write a solution below.","body":"Ok, I&#39;ll write a solution below."},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1687441520,"post_id":76517285,"comment_id":134939767,"body_markdown":"Welcome to Stack Overflow! Many of your answers appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that [posting of AI-generated content is banned here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with any answer, I would encourage you to delete it. Thanks!","body":"Welcome to Stack Overflow! Many of your answers appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that <a href=\"//meta.stackoverflow.com/q/421831\">posting of AI-generated content is banned here</a>. If you used an AI tool to assist with any answer, I would encourage you to delete it. Thanks!"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1687441533,"post_id":76517285,"comment_id":134939769,"body_markdown":"**Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues. m","body":"<b>Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues. m"}],"tags":[],"owner":{"account_id":28858743,"reputation":12,"user_id":22103002,"display_name":"Roni Maciel"},"comment_count":16,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687283508,"creation_date":1687283508,"answer_id":76517285,"question_id":76517236,"body_markdown":"This error is typically caused by having the same resource declared in two different files. The error message indicates a duplicate &quot;AppTheme&quot; style is expressed in your `styles.xml` and `themes.xml` files.\r\n\r\nHere&#39;s what you can do to resolve this:\r\n\r\n1. **Check both files:** Check `styles.xml` and `themes.xml` for a style named `AppTheme.` If it&#39;s declared in both files, you&#39;ll have to remove or rename one of them. Each Android style (or any resource) must have a unique name.\r\n\r\n2. **Look for an accidental copy:** Sometimes, you might accidentally copy and paste the same file but with different names. Ensure that&#39;s not the case.\r\n\r\n3. **Check your build variants/flavors:** If you are using build variants or product flavors, ensure that those directories&#39; resources are not duplicated in the leading guide.\r\n\r\n4. **Clean and rebuild project:** After you ensure no duplicate resources, go to `Build &gt; Clean Project` and then `Build &gt; Rebuild Project` in your Android Studio toolbar.\r\n\r\n5. **Invalidate caches and restart:** If the problem persists, try invalidating the caches and restarting Android Studio (`File &gt; Invalidate Caches / Restart`).\r\n\r\nRemember, even if you delete the files causing the issue, you may continue to see this error if they are still referenced in your code. Therefore, ensure you have removed all references to any deleted resources.\r\n\r\nIf none of these solutions work, you might have encountered a particular issue requiring a more detailed investigation.","title":"Duplicate resources error in android in styles and themes","body":"<p>This error is typically caused by having the same resource declared in two different files. The error message indicates a duplicate &quot;AppTheme&quot; style is expressed in your <code>styles.xml</code> and <code>themes.xml</code> files.</p>\n<p>Here's what you can do to resolve this:</p>\n<ol>\n<li><p><strong>Check both files:</strong> Check <code>styles.xml</code> and <code>themes.xml</code> for a style named <code>AppTheme.</code> If it's declared in both files, you'll have to remove or rename one of them. Each Android style (or any resource) must have a unique name.</p>\n</li>\n<li><p><strong>Look for an accidental copy:</strong> Sometimes, you might accidentally copy and paste the same file but with different names. Ensure that's not the case.</p>\n</li>\n<li><p><strong>Check your build variants/flavors:</strong> If you are using build variants or product flavors, ensure that those directories' resources are not duplicated in the leading guide.</p>\n</li>\n<li><p><strong>Clean and rebuild project:</strong> After you ensure no duplicate resources, go to <code>Build &gt; Clean Project</code> and then <code>Build &gt; Rebuild Project</code> in your Android Studio toolbar.</p>\n</li>\n<li><p><strong>Invalidate caches and restart:</strong> If the problem persists, try invalidating the caches and restarting Android Studio (<code>File &gt; Invalidate Caches / Restart</code>).</p>\n</li>\n</ol>\n<p>Remember, even if you delete the files causing the issue, you may continue to see this error if they are still referenced in your code. Therefore, ensure you have removed all references to any deleted resources.</p>\n<p>If none of these solutions work, you might have encountered a particular issue requiring a more detailed investigation.</p>\n"},{"comments":[{"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"score":0,"creation_date":1687364609,"post_id":76523157,"comment_id":134927681,"body_markdown":"I have only 1 styles.xml file there.","body":"I have only 1 styles.xml file there."}],"tags":[],"owner":{"account_id":28858743,"reputation":12,"user_id":22103002,"display_name":"Roni Maciel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687349536,"creation_date":1687349536,"answer_id":76523157,"question_id":76517236,"body_markdown":"Here&#39;s an example of how you could encounter and resolve a duplicate resource issue in your Android project. Let&#39;s say you have two `styles.xml` files in your project:\r\n\r\n**In `values/styles.xml`:**\r\n```XML\r\n&lt;resources&gt;\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n&lt;/resources&gt;\r\n```\r\n\r\n**In `values-v21/styles.xml`:**\r\n```xml\r\n&lt;resources&gt;\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n&lt;/resources&gt;\r\n```\r\n\r\nThis will lead to a duplicate resources error, because the `AppTheme` style is defined in both files.\r\n\r\nA simple solution could be to rename the theme in one of the files or to remove it if it&#39;s not required. For example, you can rename the `AppTheme` style in the `values-v21/styles.xml` file to `AppThemeV21`:\r\n\r\n```xml\r\n&lt;resources&gt;\r\n\r\n    &lt;!-- Base application theme for v21 and above. --&gt;\r\n    &lt;style name=&quot;AppThemeV21&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n&lt;/resources&gt;\r\n```\r\n\r\nThis way, both `styles.xml` files have unique resources, and the error will be resolved. Adjust your manifest file to use the correct style, depending on the Android version.","title":"Duplicate resources error in android in styles and themes","body":"<p>Here's an example of how you could encounter and resolve a duplicate resource issue in your Android project. Let's say you have two <code>styles.xml</code> files in your project:</p>\n<p><strong>In <code>values/styles.xml</code>:</strong></p>\n<pre><code>&lt;resources&gt;\n\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<p><strong>In <code>values-v21/styles.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources&gt;\n\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<p>This will lead to a duplicate resources error, because the <code>AppTheme</code> style is defined in both files.</p>\n<p>A simple solution could be to rename the theme in one of the files or to remove it if it's not required. For example, you can rename the <code>AppTheme</code> style in the <code>values-v21/styles.xml</code> file to <code>AppThemeV21</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources&gt;\n\n    &lt;!-- Base application theme for v21 and above. --&gt;\n    &lt;style name=&quot;AppThemeV21&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<p>This way, both <code>styles.xml</code> files have unique resources, and the error will be resolved. Adjust your manifest file to use the correct style, depending on the Android version.</p>\n"},{"comments":[{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1687441589,"post_id":76525825,"comment_id":134939787,"body_markdown":"Welcome to Stack Overflow!\n\nMany of your answers appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that [posting of AI-generated content is banned here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with any answer, I would encourage you to delete it. Thanks!","body":"Welcome to Stack Overflow!  Many of your answers appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that <a href=\"//meta.stackoverflow.com/q/421831\">posting of AI-generated content is banned here</a>. If you used an AI tool to assist with any answer, I would encourage you to delete it. Thanks!"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1687441592,"post_id":76525825,"comment_id":134939789,"body_markdown":"**Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues. m","body":"<b>Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues. m"}],"tags":[],"owner":{"account_id":28858743,"reputation":12,"user_id":22103002,"display_name":"Roni Maciel"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687368575,"creation_date":1687368575,"answer_id":76525825,"question_id":76517236,"body_markdown":"This error message suggests that your Java Runtime Environment (JRE) is running out of memory. There are several ways you can attempt to solve this:\r\n\r\n1. **Increase the Java Heap Size:** If you&#39;re using an Integrated Development Environment (IDE) like IntelliJ IDEA or Eclipse, you can increase the maximum heap size for the JVM.\r\n\r\n    - In **IntelliJ IDEA**, go to &quot;Help &gt; Edit Custom VM Options...&quot; and add `-Xmx1024m` to increase the heap size to 1024MB or more, depending on your machine&#39;s total RAM. Then, restart IntelliJ IDEA.\r\n  \r\n    - In **Eclipse**, you can go to &quot;Eclipse &gt; Preferences &gt; Java &gt; Installed JREs&quot;. Select the JRE and click &quot;Edit.&quot; In the &quot;Default VM Arguments&quot; field, you can add `-Xmx1024m` and restart Eclipse.\r\n\r\n2. **Increase the Java Heap Size for Command Line Java Applications:** If running your Java application from the command line, you can increase the maximum heap size with the `-Xmx` option. For example: `java -Xmx1024m MyProgram`.\r\n\r\n3. **Free Up System Memory:** Close unnecessary applications to free up memory in your system. This could provide more available memory for the JVM.\r\n\r\n4. **Upgrade Your System&#39;s RAM:** If you consistently see this error and you&#39;ve already increased the heap size to the maximum safe amount (which depends on your system), it may be that your system does not have enough physical memory to handle the applications you need to run. In this case, you might need to upgrade your system&#39;s RAM.\r\n\r\nRemember, increasing the heap size too much could lead your system to spend more time on garbage collection or even run out of memory entirely, so monitor your application&#39;s memory usage after adjusting these settings.","title":"Duplicate resources error in android in styles and themes","body":"<p>This error message suggests that your Java Runtime Environment (JRE) is running out of memory. There are several ways you can attempt to solve this:</p>\n<ol>\n<li><p><strong>Increase the Java Heap Size:</strong> If you're using an Integrated Development Environment (IDE) like IntelliJ IDEA or Eclipse, you can increase the maximum heap size for the JVM.</p>\n<ul>\n<li><p>In <strong>IntelliJ IDEA</strong>, go to &quot;Help &gt; Edit Custom VM Options...&quot; and add <code>-Xmx1024m</code> to increase the heap size to 1024MB or more, depending on your machine's total RAM. Then, restart IntelliJ IDEA.</p>\n</li>\n<li><p>In <strong>Eclipse</strong>, you can go to &quot;Eclipse &gt; Preferences &gt; Java &gt; Installed JREs&quot;. Select the JRE and click &quot;Edit.&quot; In the &quot;Default VM Arguments&quot; field, you can add <code>-Xmx1024m</code> and restart Eclipse.</p>\n</li>\n</ul>\n</li>\n<li><p><strong>Increase the Java Heap Size for Command Line Java Applications:</strong> If running your Java application from the command line, you can increase the maximum heap size with the <code>-Xmx</code> option. For example: <code>java -Xmx1024m MyProgram</code>.</p>\n</li>\n<li><p><strong>Free Up System Memory:</strong> Close unnecessary applications to free up memory in your system. This could provide more available memory for the JVM.</p>\n</li>\n<li><p><strong>Upgrade Your System's RAM:</strong> If you consistently see this error and you've already increased the heap size to the maximum safe amount (which depends on your system), it may be that your system does not have enough physical memory to handle the applications you need to run. In this case, you might need to upgrade your system's RAM.</p>\n</li>\n</ol>\n<p>Remember, increasing the heap size too much could lead your system to spend more time on garbage collection or even run out of memory entirely, so monitor your application's memory usage after adjusting these settings.</p>\n"}],"owner":{"account_id":22526569,"reputation":11,"user_id":16719254,"display_name":"Daniyal Irfan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687368575,"creation_date":1687283035,"question_id":76517236,"body_markdown":" - List item\r\n\r\n```\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: com.android.build.gradle.tasks.ResourceException: [style/AppTheme] E:\\EmployeeTracker2\\app\\src\\main\\res\\values\\styles.xml\t[style/AppTheme] E:\\EmployeeTracker2\\app\\src\\main\\res\\values\\themes.xml: Error: Duplicate resources\r\n\tat com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:345)\r\n\tat com.android.build.gradle.internal.tasks.IncrementalTask.handleIncrementalInputs(IncrementalTask.kt:110)\r\n\tat com.android.build.gradle.internal.tasks.IncrementalTask.access$handleIncrementalInputs(IncrementalTask.kt:65)\r\n\tat com.android.build.gradle.internal.tasks.IncrementalTask$taskAction$$inlined$recordTaskAction$1.invoke(AndroidVariantTask.kt:73)\r\n\tat com.android.build.gradle.internal.tasks.IncrementalTask$taskAction$$inlined$recordTaskAction$1.invoke(AndroidVariantTask.kt:34)\r\n\tat com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:91)\r\n\tat com.android.build.gradle.internal.tasks.IncrementalTask.taskAction$gradle(IncrementalTask.kt:137)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.api.internal.project.taskfactory.IncrementalTaskInputsTaskAction.doExecute(IncrementalTaskInputsTaskAction.java:47)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\r\n\tat org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.run(ExecuteActionsTaskExecuter.java:569)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:395)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:387)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:84)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:554)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:537)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:108)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:278)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:267)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$0(ExecuteStep.java:32)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:32)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\r\n\tat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:67)\r\n\tat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:49)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:34)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:43)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\r\n\tat org.gradle.internal.execution.steps.CatchExceptionStep.execute(CatchExceptionStep.java:34)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:44)\r\n\tat org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:54)\r\n\tat org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:159)\r\n\tat org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:72)\r\n\tat org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:43)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:44)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:33)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:92)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:85)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:76)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:94)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:79)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:78)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:78)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:39)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:40)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:28)\r\n\tat org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:194)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: [style/AppTheme] E:\\EmployeeTracker2\\app\\src\\main\\res\\values\\styles.xml\t[style/AppTheme] E:\\EmployeeTracker2\\app\\src\\main\\res\\values\\themes.xml: Error: Duplicate resources\r\n\tat com.android.ide.common.resources.DataSet.checkItems(DataSet.java:500)\r\n\tat com.android.ide.common.resources.DataSet.loadFromFiles(DataSet.java:265)\r\n\tat com.android.build.gradle.tasks.MergeResources.lambda$doFullTaskAction$0(MergeResources.java:294)\r\n\tat com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:58)\r\n\tat com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:288)\r\n\t... 99 more\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI am not able to understand the error. What file is duplicated here? It is pointing styles and themes where there is nothing duplicated.What am I supposed to do to rectify it? My run perfectly with the same styles.xml and themes.xml before. After that i created 3 files and then that error arrives. I deleted these 3 files but the error didn&#39;t go. I have tried everything invalidate caches, clean, reimport project but nothing is working. I wonder how it ran perfectly before but now it is throwing error.","title":"Duplicate resources error in android in styles and themes","body":"<ul>\n<li>List item</li>\n</ul>\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:mergeDebugResources'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: com.android.build.gradle.tasks.ResourceException: [style/AppTheme] E:\\EmployeeTracker2\\app\\src\\main\\res\\values\\styles.xml    [style/AppTheme] E:\\EmployeeTracker2\\app\\src\\main\\res\\values\\themes.xml: Error: Duplicate resources\n    at com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:345)\n    at com.android.build.gradle.internal.tasks.IncrementalTask.handleIncrementalInputs(IncrementalTask.kt:110)\n    at com.android.build.gradle.internal.tasks.IncrementalTask.access$handleIncrementalInputs(IncrementalTask.kt:65)\n    at com.android.build.gradle.internal.tasks.IncrementalTask$taskAction$$inlined$recordTaskAction$1.invoke(AndroidVariantTask.kt:73)\n    at com.android.build.gradle.internal.tasks.IncrementalTask$taskAction$$inlined$recordTaskAction$1.invoke(AndroidVariantTask.kt:34)\n    at com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:91)\n    at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction$gradle(IncrementalTask.kt:137)\n    at jdk.internal.reflect.GeneratedMethodAccessor236.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskInputsTaskAction.doExecute(IncrementalTaskInputsTaskAction.java:47)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\n    at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.run(ExecuteActionsTaskExecuter.java:569)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:395)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:387)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:84)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:554)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:537)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:108)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:278)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:267)\n    at org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$0(ExecuteStep.java:32)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:32)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\n    at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:67)\n    at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:49)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:34)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:43)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\n    at org.gradle.internal.execution.steps.CatchExceptionStep.execute(CatchExceptionStep.java:34)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:44)\n    at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:54)\n    at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:49)\n    at org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:159)\n    at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:72)\n    at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:43)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:44)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:33)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:92)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:85)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:76)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:94)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:79)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:53)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:78)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:78)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:39)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:40)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:28)\n    at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:194)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: [style/AppTheme] E:\\EmployeeTracker2\\app\\src\\main\\res\\values\\styles.xml  [style/AppTheme] E:\\EmployeeTracker2\\app\\src\\main\\res\\values\\themes.xml: Error: Duplicate resources\n    at com.android.ide.common.resources.DataSet.checkItems(DataSet.java:500)\n    at com.android.ide.common.resources.DataSet.loadFromFiles(DataSet.java:265)\n    at com.android.build.gradle.tasks.MergeResources.lambda$doFullTaskAction$0(MergeResources.java:294)\n    at com.android.build.gradle.internal.tasks.Blocks.recordSpan(Blocks.java:58)\n    at com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:288)\n    ... 99 more\n\n\n</code></pre>\n<p>I am not able to understand the error. What file is duplicated here? It is pointing styles and themes where there is nothing duplicated.What am I supposed to do to rectify it? My run perfectly with the same styles.xml and themes.xml before. After that i created 3 files and then that error arrives. I deleted these 3 files but the error didn't go. I have tried everything invalidate caches, clean, reimport project but nothing is working. I wonder how it ran perfectly before but now it is throwing error.</p>\n"},{"tags":["java","jwt","java-ee-6"],"owner":{"account_id":14301028,"reputation":544,"user_id":10330348,"display_name":"R. Polito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687368310,"creation_date":1687368310,"question_id":76525777,"body_markdown":"I am trying to get a JWT in my OpenLiberty Application as follows:\r\n```java\r\n@Path(&quot;/hello&quot;)\r\n@RequestScoped\r\npublic class DemoBoundary {\r\n\r\n    @Inject\r\n    JsonWebToken jwt;\r\n\r\n    @GET\r\n    @PermitAll\r\n    public String helloWorld(@Context SecurityContext ctx){\r\n        System.out.println(jwt.getTokenID());\r\n        return &quot;hello world&quot;;\r\n    }\r\n}\r\n```\r\nMy server.xml looks like this:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;server description=&quot;new server&quot;&gt;\r\n\r\n    &lt;!-- Enable features --&gt;\r\n    &lt;featureManager&gt;\r\n        &lt;feature&gt;jakartaee-10.0&lt;/feature&gt;\r\n        &lt;feature&gt;microProfile-6.0&lt;/feature&gt;\r\n    &lt;/featureManager&gt;\r\n\r\n    &lt;!-- This template enables security. To get the full use of all the capabilities, a keystore and user registry are required. --&gt;\r\n\r\n    &lt;!-- For the keystore, default keys are generated and stored in a keystore. To provide the keystore password, generate an \r\n        encoded password using bin/securityUtility encode and add it below in the password attribute of the keyStore element. \r\n        Then uncomment the keyStore element. --&gt;\r\n    &lt;!--\r\n    &lt;keyStore password=&quot;&quot;/&gt; \r\n    --&gt;\r\n\r\n    &lt;!--For a user registry configuration, configure your user registry. For example, configure a basic user registry using the\r\n        basicRegistry element. Specify your own user name below in the name attribute of the user element. For the password,\r\n        generate an encoded password using bin/securityUtility encode and add it in the password attribute of the user element.\r\n        Then uncomment the user element. --&gt;\r\n    &lt;basicRegistry id=&quot;basic&quot; realm=&quot;BasicRealm&quot;&gt;\r\n        &lt;!--\r\n        &lt;user name=&quot;yourUserName&quot; password=&quot;&quot; /&gt;\r\n        --&gt;\r\n    &lt;/basicRegistry&gt;\r\n\r\n    &lt;!-- To access this server from a remote client add a host attribute to the following element, e.g. host=&quot;*&quot; --&gt;\r\n    &lt;httpEndpoint id=&quot;defaultHttpEndpoint&quot;\r\n                  httpPort=&quot;9080&quot;\r\n                  httpsPort=&quot;9443&quot; /&gt;\r\n\r\n    &lt;!-- Automatically expand WAR files and EAR files --&gt;\r\n    &lt;applicationManager autoExpand=&quot;true&quot;/&gt;\r\n\r\n    &lt;!-- Configures the application on a specified context root --&gt;\r\n    &lt;webApplication contextRoot=&quot;/app-name&quot; location=&quot;app-name.war&quot; /&gt;\r\n\r\n    &lt;!-- Default SSL configuration enables trust for default certificates from the Java runtime --&gt;\r\n    &lt;ssl id=&quot;defaultSSLConfig&quot; trustDefaultCerts=&quot;true&quot; /&gt;\r\n&lt;/server&gt;\r\n\r\n```\r\n\r\n\r\nIn other J2E Platforms like Quarkus it works like this but in OpenLiberty it does not!\r\nWhen making a Post Request with the default https://jwt.io/ to test if the token get&#39;s injected, but when debugging the application inside the helloWorld method the injected jwt is always null.\r\nAm I missing somthing here?\r\n","title":"Why is the JWT in my OpenLiberty Application null at this point?","body":"<p>I am trying to get a JWT in my OpenLiberty Application as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/hello&quot;)\n@RequestScoped\npublic class DemoBoundary {\n\n    @Inject\n    JsonWebToken jwt;\n\n    @GET\n    @PermitAll\n    public String helloWorld(@Context SecurityContext ctx){\n        System.out.println(jwt.getTokenID());\n        return &quot;hello world&quot;;\n    }\n}\n</code></pre>\n<p>My server.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;server description=&quot;new server&quot;&gt;\n\n    &lt;!-- Enable features --&gt;\n    &lt;featureManager&gt;\n        &lt;feature&gt;jakartaee-10.0&lt;/feature&gt;\n        &lt;feature&gt;microProfile-6.0&lt;/feature&gt;\n    &lt;/featureManager&gt;\n\n    &lt;!-- This template enables security. To get the full use of all the capabilities, a keystore and user registry are required. --&gt;\n\n    &lt;!-- For the keystore, default keys are generated and stored in a keystore. To provide the keystore password, generate an \n        encoded password using bin/securityUtility encode and add it below in the password attribute of the keyStore element. \n        Then uncomment the keyStore element. --&gt;\n    &lt;!--\n    &lt;keyStore password=&quot;&quot;/&gt; \n    --&gt;\n\n    &lt;!--For a user registry configuration, configure your user registry. For example, configure a basic user registry using the\n        basicRegistry element. Specify your own user name below in the name attribute of the user element. For the password,\n        generate an encoded password using bin/securityUtility encode and add it in the password attribute of the user element.\n        Then uncomment the user element. --&gt;\n    &lt;basicRegistry id=&quot;basic&quot; realm=&quot;BasicRealm&quot;&gt;\n        &lt;!--\n        &lt;user name=&quot;yourUserName&quot; password=&quot;&quot; /&gt;\n        --&gt;\n    &lt;/basicRegistry&gt;\n\n    &lt;!-- To access this server from a remote client add a host attribute to the following element, e.g. host=&quot;*&quot; --&gt;\n    &lt;httpEndpoint id=&quot;defaultHttpEndpoint&quot;\n                  httpPort=&quot;9080&quot;\n                  httpsPort=&quot;9443&quot; /&gt;\n\n    &lt;!-- Automatically expand WAR files and EAR files --&gt;\n    &lt;applicationManager autoExpand=&quot;true&quot;/&gt;\n\n    &lt;!-- Configures the application on a specified context root --&gt;\n    &lt;webApplication contextRoot=&quot;/app-name&quot; location=&quot;app-name.war&quot; /&gt;\n\n    &lt;!-- Default SSL configuration enables trust for default certificates from the Java runtime --&gt;\n    &lt;ssl id=&quot;defaultSSLConfig&quot; trustDefaultCerts=&quot;true&quot; /&gt;\n&lt;/server&gt;\n\n</code></pre>\n<p>In other J2E Platforms like Quarkus it works like this but in OpenLiberty it does not!\nWhen making a Post Request with the default <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">https://jwt.io/</a> to test if the token get's injected, but when debugging the application inside the helloWorld method the injected jwt is always null.\nAm I missing somthing here?</p>\n"},{"tags":["java","spring-boot","ssl","openssl","truststore"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1687376045,"post_id":76525762,"comment_id":134929764,"body_markdown":"`server.ssl` settings are for handling HTTPS connections and requests _TO_ your app from _other_ programs like browsers; they have no effect on connections you create. For RestTemplate try https://stackoverflow.com/questions/75783226/using-resttemplate-for-making-a-https-call-with-certificates-and-keys-in-spring or maybe https://stackoverflow.com/questions/42323468/how-to-call-https-restful-web-services-using-spring-resttemplate","body":"<code>server.ssl</code> settings are for handling HTTPS connections and requests <i>TO</i> your app from <i>other</i> programs like browsers; they have no effect on connections you create. For RestTemplate try <a href=\"https://stackoverflow.com/questions/75783226/using-resttemplate-for-making-a-https-call-with-certificates-and-keys-in-spring\" title=\"using resttemplate for making a https call with certificates and keys in spring\">stackoverflow.com/questions/75783226/&hellip;</a> or maybe <a href=\"https://stackoverflow.com/questions/42323468/how-to-call-https-restful-web-services-using-spring-resttemplate\" title=\"how to call https restful web services using spring resttemplate\">stackoverflow.com/questions/42323468/&hellip;</a>"}],"owner":{"account_id":19701832,"reputation":381,"user_id":14424407,"display_name":"Md. Sakhawath Hossain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687368235,"creation_date":1687368235,"question_id":76525762,"body_markdown":"I have a spring boot application that is running on my server. I need to make a POST api call to an external api that is in another server. Now I need to make a secure connection. I have our own certificate (CA signed) and their certificate(they did not provide me any private key). Both in PEM Format. I have converted my certificate file sample.crt using my private key to pkcs12 format. \r\n\r\n    sudo openssl pkcs12 -export -in sample.crt -inkey private.key -out \r\n    sample.p12 -name sample\r\n\r\nThen I have converted their certificate to jks format and import it to truststore using keytool\r\n\r\n    sudo keytool -import -file thirdparty.crt -alias thirdparty -keystore \r\n    truststore.jks\r\n\r\nI store these files to src/main/resources\r\n\r\nmy application.properties file is: \r\n\r\n    server.port=8332\r\n    server.ssl.key-store=classpath:sample.p12\r\n    server.ssl.key-store-password=password\r\n    server.ssl.key-alias=sample\r\n    server.ssl.key-store-type=PKCS12\r\n    server.ssl.trust-store=classpath:truststore.jks\r\n    server.ssl.trust-store-password=password\r\n    server.ssl.trust-store-type=JKS\r\n\r\nmy api call classs: \r\n\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    String requestBody = &quot;{&quot;sample request body&quot;}&quot;;\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(requestBody, headers);\r\n\r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n    &quot;apiURL&quot;,\r\n\tHttpMethod.POST,\r\n\tentity,\r\n\tString.class\r\n\t);\r\n\r\n\tString responseBody = response.getBody();\r\n\r\n\r\n","title":"unable to find valid certification path to requested target (SunCertPathBuilderException)","body":"<p>I have a spring boot application that is running on my server. I need to make a POST api call to an external api that is in another server. Now I need to make a secure connection. I have our own certificate (CA signed) and their certificate(they did not provide me any private key). Both in PEM Format. I have converted my certificate file sample.crt using my private key to pkcs12 format.</p>\n<pre><code>sudo openssl pkcs12 -export -in sample.crt -inkey private.key -out \nsample.p12 -name sample\n</code></pre>\n<p>Then I have converted their certificate to jks format and import it to truststore using keytool</p>\n<pre><code>sudo keytool -import -file thirdparty.crt -alias thirdparty -keystore \ntruststore.jks\n</code></pre>\n<p>I store these files to src/main/resources</p>\n<p>my application.properties file is:</p>\n<pre><code>server.port=8332\nserver.ssl.key-store=classpath:sample.p12\nserver.ssl.key-store-password=password\nserver.ssl.key-alias=sample\nserver.ssl.key-store-type=PKCS12\nserver.ssl.trust-store=classpath:truststore.jks\nserver.ssl.trust-store-password=password\nserver.ssl.trust-store-type=JKS\n</code></pre>\n<p>my api call classs:</p>\n<pre><code>headers.setContentType(MediaType.APPLICATION_JSON);\nString requestBody = &quot;{&quot;sample request body&quot;}&quot;;\nHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(requestBody, headers);\n\nResponseEntity&lt;String&gt; response = restTemplate.exchange(\n&quot;apiURL&quot;,\nHttpMethod.POST,\nentity,\nString.class\n);\n\nString responseBody = response.getBody();\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","polymorphism","openapi-generator"],"owner":{"account_id":17062075,"reputation":1,"user_id":15210772,"display_name":"Diego Fernando Garcia Restrepo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687367439,"creation_date":1687367439,"question_id":76525664,"body_markdown":"I have a little question, let me know if there is a better place to put the question:\r\n\r\ni&#39;m using &quot;openapi&quot; : &quot;3.0.1&quot; in a java spring boot project\r\nand i&#39;m try to auto generate a rest client base on this endpoint\r\n\r\n\r\n```\r\n@PostMapping(&quot;/new_test-endpoint&quot;)\r\npublic ResponseEntity&lt;String&gt; newTestEndpoint(@RequestBody\r\n                                                  @Schema(oneOf = {FlatFileRequest.class, WebServiceRequest.class})\r\n                                                  PayloadRequest payload);\r\n```\r\n\r\n\r\nPayloadRequest is an Interface and FlatFileRequest and WebServiceRequest its implementations.\r\n\r\nDo you know guys if it is posible open api auto generate 2 diferente rest client methods for both PayloadRequest interface implementations ?\r\n\r\nNow open api generate one rest client method and a DTO with all the properties that belongs to &quot;FlatFileRequest&quot; and &quot;WebServiceRequest&quot; classes.\r\n\r\nin this way\r\n\r\n\r\n```\r\npublic String newTestEndpoint(PayloadRequestDTO payload);\r\n```\r\n\r\n\r\nI would like open api to create two methods similar to:\r\n\r\n\r\n```\r\npublic String newTestEndpoint(FlatFileRequestDTO payload);\r\n\r\npublic String newTestEndpoint(WebServiceRequestDTO payload);\r\n```\r\n\r\n","title":"Can open api tools auto generate polymorphic rest client methods?","body":"<p>I have a little question, let me know if there is a better place to put the question:</p>\n<p>i'm using &quot;openapi&quot; : &quot;3.0.1&quot; in a java spring boot project\nand i'm try to auto generate a rest client base on this endpoint</p>\n<pre><code>@PostMapping(&quot;/new_test-endpoint&quot;)\npublic ResponseEntity&lt;String&gt; newTestEndpoint(@RequestBody\n                                                  @Schema(oneOf = {FlatFileRequest.class, WebServiceRequest.class})\n                                                  PayloadRequest payload);\n</code></pre>\n<p>PayloadRequest is an Interface and FlatFileRequest and WebServiceRequest its implementations.</p>\n<p>Do you know guys if it is posible open api auto generate 2 diferente rest client methods for both PayloadRequest interface implementations ?</p>\n<p>Now open api generate one rest client method and a DTO with all the properties that belongs to &quot;FlatFileRequest&quot; and &quot;WebServiceRequest&quot; classes.</p>\n<p>in this way</p>\n<pre><code>public String newTestEndpoint(PayloadRequestDTO payload);\n</code></pre>\n<p>I would like open api to create two methods similar to:</p>\n<pre><code>public String newTestEndpoint(FlatFileRequestDTO payload);\n\npublic String newTestEndpoint(WebServiceRequestDTO payload);\n</code></pre>\n"},{"tags":["java","spring-boot","couchbase","spring-data-couchbase"],"answers":[{"comments":[{"owner":{"account_id":1223103,"reputation":401,"user_id":1189333,"display_name":"serkanz"},"score":0,"creation_date":1687372734,"post_id":76525643,"comment_id":134929162,"body_markdown":"Thanks @michael for your reply. I think we could go with 4.x version with Spring Boot 2.7 then. Is there a list of changes between 4.x and 5.x?","body":"Thanks @michael for your reply. I think we could go with 4.x version with Spring Boot 2.7 then. Is there a list of changes between 4.x and 5.x?"}],"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687367246,"creation_date":1687367246,"answer_id":76525643,"question_id":76504217,"body_markdown":"spring-data-couchbase 5.1 has a dependency on spring-boot 3.1. \r\n\r\nhttps://github.com/spring-projects/spring-data-couchbase/blob/5.1.x/pom.xml","title":"Spring Data Couchbase Version Compatibility with Spring Boot","body":"<p>spring-data-couchbase 5.1 has a dependency on spring-boot 3.1.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-couchbase/blob/5.1.x/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-couchbase/blob/5.1.x/pom.xml</a></p>\n"}],"owner":{"account_id":1223103,"reputation":401,"user_id":1189333,"display_name":"serkanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76525643,"answer_count":1,"score":1,"last_activity_date":1687367246,"creation_date":1687157148,"question_id":76504217,"body_markdown":"We plan to upgrade **Spring Data Couchbase** to **5.1.0** in our Spring Boot project. However we couldn&#39;t find any information if **5.X** version is compatible with **Spring Boot 2.7.X**. \r\n\r\nDoes **Spring Data Couchbase** have any release document on compatibility and any other changes since **4.x** versions? Reference documents on **docs.spring.io** (https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/) don&#39;t provide any information about this topic.\r\n\r\nThank you and best regards","title":"Spring Data Couchbase Version Compatibility with Spring Boot","body":"<p>We plan to upgrade <strong>Spring Data Couchbase</strong> to <strong>5.1.0</strong> in our Spring Boot project. However we couldn't find any information if <strong>5.X</strong> version is compatible with <strong>Spring Boot 2.7.X</strong>.</p>\n<p>Does <strong>Spring Data Couchbase</strong> have any release document on compatibility and any other changes since <strong>4.x</strong> versions? Reference documents on <strong>docs.spring.io</strong> (<a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/</a>) don't provide any information about this topic.</p>\n<p>Thank you and best regards</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1687366728,"post_id":76525556,"comment_id":134928092,"body_markdown":"Both will work, both approaches have pros and cons, choose the one for you. If you don&#39;t know or care, go simpler.","body":"Both will work, both approaches have pros and cons, choose the one for you. If you don&#39;t know or care, go simpler."},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1687367882,"post_id":76525556,"comment_id":134928303,"body_markdown":"There are no &quot;best practices,&quot; just good practices in context.","body":"There are no &quot;best practices,&quot; just good practices in context."},{"owner":{"account_id":26232792,"reputation":21,"user_id":19908422,"display_name":"Message Believer"},"score":0,"creation_date":1687374964,"post_id":76525556,"comment_id":134929568,"body_markdown":"@PetrJaneček which one you would choose and why?","body":"@PetrJaneček which one you would choose and why?"}],"answers":[{"tags":[],"owner":{"account_id":27871817,"reputation":11,"user_id":21282172,"display_name":"Alexis U"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687367139,"creation_date":1687367139,"answer_id":76525631,"question_id":76525556,"body_markdown":"Always depends on business rules:\r\n\r\n 1. running in different servers comes with distribuide arquitecture that comes with better individual maintain, resilience and portability, but it requires more time to develop and mount and maintaining multiples services up.\r\n 2. running on the same server have better communication beteween services, better integral mantaining. But, it has much less resilience due to has only one service with all the system, if it go off, the waste es worst. \r\n\r\nNevertheless, it up to business rules. \r\n\r\n ","title":"Front-end and back-end mixing or leave it separate","body":"<p>Always depends on business rules:</p>\n<ol>\n<li>running in different servers comes with distribuide arquitecture that comes with better individual maintain, resilience and portability, but it requires more time to develop and mount and maintaining multiples services up.</li>\n<li>running on the same server have better communication beteween services, better integral mantaining. But, it has much less resilience due to has only one service with all the system, if it go off, the waste es worst.</li>\n</ol>\n<p>Nevertheless, it up to business rules.</p>\n"}],"owner":{"account_id":26232792,"reputation":21,"user_id":19908422,"display_name":"Message Believer"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1687368170,"answer_count":1,"score":-3,"last_activity_date":1687367139,"creation_date":1687366513,"question_id":76525556,"body_markdown":"Which is the best practice on the below?\r\n\r\n1. Front-end code running in different server (Nginx or Apache httd server) and Back-end code running in different server (Tomcat Server)\r\n2. Front-end code and Back-end code running in same port (Tomcat Server). Front-end code moved to static folder in Spring Boot\r\n\r\nThanks\r\n\r\nThere are 2 approaches - same server or different server. Both will work\r\n\r\nExpected: Which one is the best practice and why?","title":"Front-end and back-end mixing or leave it separate","body":"<p>Which is the best practice on the below?</p>\n<ol>\n<li>Front-end code running in different server (Nginx or Apache httd server) and Back-end code running in different server (Tomcat Server)</li>\n<li>Front-end code and Back-end code running in same port (Tomcat Server). Front-end code moved to static folder in Spring Boot</li>\n</ol>\n<p>Thanks</p>\n<p>There are 2 approaches - same server or different server. Both will work</p>\n<p>Expected: Which one is the best practice and why?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":2349610,"reputation":3207,"user_id":2058844,"accept_rate":64,"display_name":"Paras"},"score":1,"creation_date":1687363855,"post_id":76525190,"comment_id":134927511,"body_markdown":"I think the issue is with your imports. Which JUnit versions are you trying to use? I see a mix-and-match between JUnit4 and JUnit5.","body":"I think the issue is with your imports. Which JUnit versions are you trying to use? I see a mix-and-match between JUnit4 and JUnit5."},{"owner":{"account_id":21918322,"reputation":3,"user_id":16201913,"display_name":"Khare Ayushi"},"score":0,"creation_date":1687364660,"post_id":76525190,"comment_id":134927692,"body_markdown":"I am using JUnit 5","body":"I am using JUnit 5"},{"owner":{"account_id":2349610,"reputation":3207,"user_id":2058844,"accept_rate":64,"display_name":"Paras"},"score":0,"creation_date":1687366107,"post_id":76525190,"comment_id":134927979,"body_markdown":"`@Before` is annotation that belongs to JUnit4. Please look at my answer below. You should use `@BeforeEach`","body":"<code>@Before</code> is annotation that belongs to JUnit4. Please look at my answer below. You should use <code>@BeforeEach</code>"}],"answers":[{"tags":[],"owner":{"account_id":2349610,"reputation":3207,"user_id":2058844,"accept_rate":64,"display_name":"Paras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687366159,"creation_date":1687363990,"answer_id":76525264,"question_id":76525190,"body_markdown":"The main difference between `@BeforeEach` and `@Before` is the version of JUnit they belong to. `@BeforeEach` is used in JUnit 5 (JUnit Jupiter) and offers more flexibility and improved features than `@Before` in JUnit 4. \r\n\r\nIf you&#39;re using JUnit 5, using @BeforeEach for setup operations is recommended. However, if you&#39;re using JUnit 4, you should use @Before.\r\n\r\nTry replacing your imports and use correct method:\r\n\r\nReplace the following imports\r\n\r\n```\r\nimport org.junit.Before;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\n```\r\n\r\nWith\r\n\r\n```\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\n```\r\n\r\nClass\r\n\r\n```\r\npackage com.example.junitrestapiapplication;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.ObjectWriter;\r\nimport org.junit.Before;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.ResultMatcher;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport static net.bytebuddy.matcher.ElementMatchers.is;\r\nimport static org.hamcrest.Matchers.hasSize;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class BookControllerTest {\r\n    AutoCloseable openMocks;\r\n    private MockMvc mockMvc;\r\n     ObjectMapper objectMapper= new ObjectMapper();\r\n     ObjectWriter objectWriter= objectMapper.writer();\r\n\r\n     @Mock\r\n    private BookRepository bookRepository;\r\n\r\n     @InjectMocks\r\n    private BookController bookController;\r\n\r\n     Book RECORD_1 = new Book(1L, &quot;Atomic Habits&quot; , &quot;How to build better habits&quot;  , 5);\r\n     Book RECORD_2= new Book(2l, &quot;Thinking Fast and Slow&quot;, &quot;How to create good mental models about thinking&quot;, 4);\r\n     Book RECORD_3= new Book(3L, &quot;Grokking Algorithms&quot;,&quot;learn algorithms the fun way&quot;,5);\r\n\r\n     @BeforeEach\r\n    public void setUp() throws Exception {\r\n         MockitoAnnotations.openMocks(this);\r\n         this.mockMvc= MockMvcBuilders.standaloneSetup(bookController).build();\r\n\r\n     }\r\n\r\n     @Test\r\n    public void getAllRecords_success() throws Exception{\r\n         List&lt;Book&gt; records= new ArrayList&lt;&gt;(Arrays.asList(RECORD_1, RECORD_2, RECORD_3));\r\n         Mockito.when(bookRepository.findAll()).thenReturn(records);\r\n         mockMvc.perform(MockMvcRequestBuilders.\r\n                 get(&quot;/book&quot;).\r\n                 contentType(MediaType.APPLICATION_JSON)).\r\n                 andExpect(status().isOk()).\r\n                 andExpect(MockMvcResultMatchers.jsonPath(&quot;$&quot;, hasSize(3))).\r\n                 andExpect((ResultMatcher) jsonPath(&quot;$[2].name&quot;, is(&quot;Grokking Algorithms&quot;)));\r\n\r\n     }\r\n}\r\n```","title":"NULLPOINTEREXCEPTION in Mockit test class in Springboot","body":"<p>The main difference between <code>@BeforeEach</code> and <code>@Before</code> is the version of JUnit they belong to. <code>@BeforeEach</code> is used in JUnit 5 (JUnit Jupiter) and offers more flexibility and improved features than <code>@Before</code> in JUnit 4.</p>\n<p>If you're using JUnit 5, using @BeforeEach for setup operations is recommended. However, if you're using JUnit 4, you should use @Before.</p>\n<p>Try replacing your imports and use correct method:</p>\n<p>Replace the following imports</p>\n<pre><code>import org.junit.Before;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.runner.RunWith;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.mockito.junit.jupiter.MockitoExtension;\n</code></pre>\n<p>With</p>\n<pre><code>import org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Mock;\nimport org.mockito.InjectMocks;\nimport org.mockito.junit.jupiter.MockitoExtension;\n</code></pre>\n<p>Class</p>\n<pre><code>package com.example.junitrestapiapplication;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ObjectWriter;\nimport org.junit.Before;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.ResultMatcher;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport static net.bytebuddy.matcher.ElementMatchers.is;\nimport static org.hamcrest.Matchers.hasSize;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@ExtendWith(MockitoExtension.class)\npublic class BookControllerTest {\n    AutoCloseable openMocks;\n    private MockMvc mockMvc;\n     ObjectMapper objectMapper= new ObjectMapper();\n     ObjectWriter objectWriter= objectMapper.writer();\n\n     @Mock\n    private BookRepository bookRepository;\n\n     @InjectMocks\n    private BookController bookController;\n\n     Book RECORD_1 = new Book(1L, &quot;Atomic Habits&quot; , &quot;How to build better habits&quot;  , 5);\n     Book RECORD_2= new Book(2l, &quot;Thinking Fast and Slow&quot;, &quot;How to create good mental models about thinking&quot;, 4);\n     Book RECORD_3= new Book(3L, &quot;Grokking Algorithms&quot;,&quot;learn algorithms the fun way&quot;,5);\n\n     @BeforeEach\n    public void setUp() throws Exception {\n         MockitoAnnotations.openMocks(this);\n         this.mockMvc= MockMvcBuilders.standaloneSetup(bookController).build();\n\n     }\n\n     @Test\n    public void getAllRecords_success() throws Exception{\n         List&lt;Book&gt; records= new ArrayList&lt;&gt;(Arrays.asList(RECORD_1, RECORD_2, RECORD_3));\n         Mockito.when(bookRepository.findAll()).thenReturn(records);\n         mockMvc.perform(MockMvcRequestBuilders.\n                 get(&quot;/book&quot;).\n                 contentType(MediaType.APPLICATION_JSON)).\n                 andExpect(status().isOk()).\n                 andExpect(MockMvcResultMatchers.jsonPath(&quot;$&quot;, hasSize(3))).\n                 andExpect((ResultMatcher) jsonPath(&quot;$[2].name&quot;, is(&quot;Grokking Algorithms&quot;)));\n\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":21918322,"reputation":3,"user_id":16201913,"display_name":"Khare Ayushi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76525264,"answer_count":1,"score":-2,"last_activity_date":1687366159,"creation_date":1687363424,"question_id":76525190,"body_markdown":"I am getting NULLPOINTEREXCEPTION on running this test class that I am writing for my springboot application. I am not sure what the problem is, I tried using initMocks too.\r\n\r\n**BookControllerTest.java**\r\n\r\n```\r\npackage com.example.junitrestapiapplication;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.ObjectWriter;\r\nimport org.junit.Before;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.ResultMatcher;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport static net.bytebuddy.matcher.ElementMatchers.is;\r\nimport static org.hamcrest.Matchers.hasSize;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class BookControllerTest {\r\n    AutoCloseable openMocks;\r\n    private MockMvc mockMvc;\r\n     ObjectMapper objectMapper= new ObjectMapper();\r\n     ObjectWriter objectWriter= objectMapper.writer();\r\n\r\n     @Mock\r\n    private BookRepository bookRepository;\r\n\r\n     @InjectMocks\r\n    private BookController bookController;\r\n\r\n     Book RECORD_1 = new Book(1L, &quot;Atomic Habits&quot; , &quot;How to build better habits&quot;  , 5);\r\n     Book RECORD_2= new Book(2l, &quot;Thinking Fast and Slow&quot;, &quot;How to create good mental models about thinking&quot;, 4);\r\n     Book RECORD_3= new Book(3L, &quot;Grokking Algorithms&quot;,&quot;learn algorithms the fun way&quot;,5);\r\n\r\n     @Before\r\n    public void setUp() throws Exception {\r\n         MockitoAnnotations.openMocks(this);\r\n         this.mockMvc= MockMvcBuilders.standaloneSetup(bookController).build();\r\n\r\n     }\r\n\r\n     @Test\r\n    public void getAllRecords_success() throws Exception{\r\n         List&lt;Book&gt; records= new ArrayList&lt;&gt;(Arrays.asList(RECORD_1, RECORD_2, RECORD_3));\r\n         Mockito.when(bookRepository.findAll()).thenReturn(records);\r\n         mockMvc.perform(MockMvcRequestBuilders.\r\n                 get(&quot;/book&quot;).\r\n                 contentType(MediaType.APPLICATION_JSON)).\r\n                 andExpect(status().isOk()).\r\n                 andExpect(MockMvcResultMatchers.jsonPath(&quot;$&quot;, hasSize(3))).\r\n                 andExpect((ResultMatcher) jsonPath(&quot;$[2].name&quot;, is(&quot;Grokking Algorithms&quot;)));\r\n\r\n     }\r\n}\r\n\r\n\r\n```\r\n\r\n**pom.xml**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.12&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;junit-rest-api-application&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;junit-rest-api-application&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.16.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-bom&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.15.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**BookRepository.java**\r\n\r\n```\r\npackage com.example.junitrestapiapplication;\r\n\r\n\r\nimport org.springframework.data.domain.Example;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.repository.query.FluentQuery;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.function.Function;\r\n\r\n@Repository\r\npublic class BookRepository implements JpaRepository&lt;Book, Long&gt; {\r\n\r\n    @Override\r\n    public List&lt;Book&gt; findAll() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Book&gt; findAll(Sort sort) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;Book&gt; findAll(Pageable pageable) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Book&gt; findAllById(Iterable&lt;Long&gt; longs) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public long count() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public void deleteById(Long aLong) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void delete(Book entity) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void deleteAllById(Iterable&lt;? extends Long&gt; longs) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void deleteAll(Iterable&lt;? extends Book&gt; entities) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void deleteAll() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book&gt; S save(S entity) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;Book&gt; findById(Long aLong) {\r\n        return Optional.empty();\r\n    }\r\n\r\n    @Override\r\n    public boolean existsById(Long aLong) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void flush() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book&gt; S saveAndFlush(S entity) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book&gt; List&lt;S&gt; saveAllAndFlush(Iterable&lt;S&gt; entities) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void deleteAllInBatch(Iterable&lt;Book&gt; entities) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void deleteAllByIdInBatch(Iterable&lt;Long&gt; longs) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void deleteAllInBatch() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Book getOne(Long aLong) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Book getById(Long aLong) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Book getReferenceById(Long aLong) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example) {\r\n        return Optional.empty();\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example, Sort sort) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book&gt; Page&lt;S&gt; findAll(Example&lt;S&gt; example, Pageable pageable) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book&gt; long count(Example&lt;S&gt; example) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book&gt; boolean exists(Example&lt;S&gt; example) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public &lt;S extends Book, R&gt; R findBy(Example&lt;S&gt; example, Function&lt;FluentQuery.FetchableFluentQuery&lt;S&gt;, R&gt; queryFunction) {\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n**BookController.java**\r\n\r\n```\r\npackage com.example.junitrestapiapplication;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@RequestMapping(value=&quot;/book&quot;)\r\npublic class BookController {\r\n    @Autowired\r\n    BookRepository bookRepository;\r\n    @GetMapping\r\n    public List&lt;Book&gt; getAllBookRecords()\r\n    {\r\n        return bookRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(value = &quot;{bookId}&quot;)\r\n    public Book getBookbyID(@PathVariable(value = &quot;bookId&quot;) Long bookId)\r\n    {\r\n        return bookRepository.findById(bookId).get();\r\n    }\r\n\r\n    @PostMapping\r\n    public Book createBookRecord(@RequestBody   Book bookRecord)\r\n    {\r\n        return bookRepository.save(bookRecord);\r\n    }\r\n    @PutMapping\r\n    public Book updateBookRecord(@RequestBody   Book bookRecord ) throws  Exception {\r\n        if(bookRecord==null || bookRecord.getBookId()==null)\r\n        {\r\n            throw new Exception(&quot;Book Record or ID must not be null&quot;);\r\n        }\r\n        Optional&lt;Book&gt; optionalBook=bookRepository.findById(bookRecord.getBookId());\r\n        if(!optionalBook.isPresent())throw new Exception(&quot;Book with ID: &quot;+bookRecord.getBookId()+&quot; does not exist&quot;);\r\n\r\n        Book existingBookRecord=optionalBook.get();\r\n        existingBookRecord.setName(bookRecord.getName());\r\n        existingBookRecord.setSummary(bookRecord.getSummary());\r\n        existingBookRecord.setRating(bookRecord.getRating());\r\n\r\n        return bookRepository.save(existingBookRecord);\r\n    }\r\n}\r\n\r\n```\r\n**Book.java**\r\n\r\n```\r\npackage com.example.junitrestapiapplication;\r\n\r\nimport com.sun.istack.NotNull;\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name=&quot;book_record&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long bookId;\r\n    @NonNull\r\n    private String name;\r\n    @NonNull\r\n    private String summary;\r\n\r\n    private int rating;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI am receiving MockMvc: null on debugging. I have tried changing initialization of Mock.","title":"NULLPOINTEREXCEPTION in Mockit test class in Springboot","body":"<p>I am getting NULLPOINTEREXCEPTION on running this test class that I am writing for my springboot application. I am not sure what the problem is, I tried using initMocks too.</p>\n<p><strong>BookControllerTest.java</strong></p>\n<pre><code>package com.example.junitrestapiapplication;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ObjectWriter;\nimport org.junit.Before;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.ResultMatcher;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport static net.bytebuddy.matcher.ElementMatchers.is;\nimport static org.hamcrest.Matchers.hasSize;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@ExtendWith(MockitoExtension.class)\npublic class BookControllerTest {\n    AutoCloseable openMocks;\n    private MockMvc mockMvc;\n     ObjectMapper objectMapper= new ObjectMapper();\n     ObjectWriter objectWriter= objectMapper.writer();\n\n     @Mock\n    private BookRepository bookRepository;\n\n     @InjectMocks\n    private BookController bookController;\n\n     Book RECORD_1 = new Book(1L, &quot;Atomic Habits&quot; , &quot;How to build better habits&quot;  , 5);\n     Book RECORD_2= new Book(2l, &quot;Thinking Fast and Slow&quot;, &quot;How to create good mental models about thinking&quot;, 4);\n     Book RECORD_3= new Book(3L, &quot;Grokking Algorithms&quot;,&quot;learn algorithms the fun way&quot;,5);\n\n     @Before\n    public void setUp() throws Exception {\n         MockitoAnnotations.openMocks(this);\n         this.mockMvc= MockMvcBuilders.standaloneSetup(bookController).build();\n\n     }\n\n     @Test\n    public void getAllRecords_success() throws Exception{\n         List&lt;Book&gt; records= new ArrayList&lt;&gt;(Arrays.asList(RECORD_1, RECORD_2, RECORD_3));\n         Mockito.when(bookRepository.findAll()).thenReturn(records);\n         mockMvc.perform(MockMvcRequestBuilders.\n                 get(&quot;/book&quot;).\n                 contentType(MediaType.APPLICATION_JSON)).\n                 andExpect(status().isOk()).\n                 andExpect(MockMvcResultMatchers.jsonPath(&quot;$&quot;, hasSize(3))).\n                 andExpect((ResultMatcher) jsonPath(&quot;$[2].name&quot;, is(&quot;Grokking Algorithms&quot;)));\n\n     }\n}\n\n\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.12&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-rest-api-application&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;junit-rest-api-application&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n            &lt;artifactId&gt;derby&lt;/artifactId&gt;\n            &lt;version&gt;10.16.1.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-bom&lt;/artifactId&gt;\n            &lt;version&gt;2.15.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n            &lt;version&gt;1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>BookRepository.java</strong></p>\n<pre><code>package com.example.junitrestapiapplication;\n\n\nimport org.springframework.data.domain.Example;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.query.FluentQuery;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.function.Function;\n\n@Repository\npublic class BookRepository implements JpaRepository&lt;Book, Long&gt; {\n\n    @Override\n    public List&lt;Book&gt; findAll() {\n        return null;\n    }\n\n    @Override\n    public List&lt;Book&gt; findAll(Sort sort) {\n        return null;\n    }\n\n    @Override\n    public Page&lt;Book&gt; findAll(Pageable pageable) {\n        return null;\n    }\n\n    @Override\n    public List&lt;Book&gt; findAllById(Iterable&lt;Long&gt; longs) {\n        return null;\n    }\n\n    @Override\n    public long count() {\n        return 0;\n    }\n\n    @Override\n    public void deleteById(Long aLong) {\n\n    }\n\n    @Override\n    public void delete(Book entity) {\n\n    }\n\n    @Override\n    public void deleteAllById(Iterable&lt;? extends Long&gt; longs) {\n\n    }\n\n    @Override\n    public void deleteAll(Iterable&lt;? extends Book&gt; entities) {\n\n    }\n\n    @Override\n    public void deleteAll() {\n\n    }\n\n    @Override\n    public &lt;S extends Book&gt; S save(S entity) {\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Book&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities) {\n        return null;\n    }\n\n    @Override\n    public Optional&lt;Book&gt; findById(Long aLong) {\n        return Optional.empty();\n    }\n\n    @Override\n    public boolean existsById(Long aLong) {\n        return false;\n    }\n\n    @Override\n    public void flush() {\n\n    }\n\n    @Override\n    public &lt;S extends Book&gt; S saveAndFlush(S entity) {\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Book&gt; List&lt;S&gt; saveAllAndFlush(Iterable&lt;S&gt; entities) {\n        return null;\n    }\n\n    @Override\n    public void deleteAllInBatch(Iterable&lt;Book&gt; entities) {\n\n    }\n\n    @Override\n    public void deleteAllByIdInBatch(Iterable&lt;Long&gt; longs) {\n\n    }\n\n    @Override\n    public void deleteAllInBatch() {\n\n    }\n\n    @Override\n    public Book getOne(Long aLong) {\n        return null;\n    }\n\n    @Override\n    public Book getById(Long aLong) {\n        return null;\n    }\n\n    @Override\n    public Book getReferenceById(Long aLong) {\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Book&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example) {\n        return Optional.empty();\n    }\n\n    @Override\n    public &lt;S extends Book&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example) {\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Book&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example, Sort sort) {\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Book&gt; Page&lt;S&gt; findAll(Example&lt;S&gt; example, Pageable pageable) {\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Book&gt; long count(Example&lt;S&gt; example) {\n        return 0;\n    }\n\n    @Override\n    public &lt;S extends Book&gt; boolean exists(Example&lt;S&gt; example) {\n        return false;\n    }\n\n    @Override\n    public &lt;S extends Book, R&gt; R findBy(Example&lt;S&gt; example, Function&lt;FluentQuery.FetchableFluentQuery&lt;S&gt;, R&gt; queryFunction) {\n        return null;\n    }\n}\n\n\n</code></pre>\n<p><strong>BookController.java</strong></p>\n<pre><code>package com.example.junitrestapiapplication;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(value=&quot;/book&quot;)\npublic class BookController {\n    @Autowired\n    BookRepository bookRepository;\n    @GetMapping\n    public List&lt;Book&gt; getAllBookRecords()\n    {\n        return bookRepository.findAll();\n    }\n\n    @GetMapping(value = &quot;{bookId}&quot;)\n    public Book getBookbyID(@PathVariable(value = &quot;bookId&quot;) Long bookId)\n    {\n        return bookRepository.findById(bookId).get();\n    }\n\n    @PostMapping\n    public Book createBookRecord(@RequestBody   Book bookRecord)\n    {\n        return bookRepository.save(bookRecord);\n    }\n    @PutMapping\n    public Book updateBookRecord(@RequestBody   Book bookRecord ) throws  Exception {\n        if(bookRecord==null || bookRecord.getBookId()==null)\n        {\n            throw new Exception(&quot;Book Record or ID must not be null&quot;);\n        }\n        Optional&lt;Book&gt; optionalBook=bookRepository.findById(bookRecord.getBookId());\n        if(!optionalBook.isPresent())throw new Exception(&quot;Book with ID: &quot;+bookRecord.getBookId()+&quot; does not exist&quot;);\n\n        Book existingBookRecord=optionalBook.get();\n        existingBookRecord.setName(bookRecord.getName());\n        existingBookRecord.setSummary(bookRecord.getSummary());\n        existingBookRecord.setRating(bookRecord.getRating());\n\n        return bookRepository.save(existingBookRecord);\n    }\n}\n\n</code></pre>\n<p><strong>Book.java</strong></p>\n<pre><code>package com.example.junitrestapiapplication;\n\nimport com.sun.istack.NotNull;\nimport lombok.*;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name=&quot;book_record&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long bookId;\n    @NonNull\n    private String name;\n    @NonNull\n    private String summary;\n\n    private int rating;\n}\n\n</code></pre>\n<p>I am receiving MockMvc: null on debugging. I have tried changing initialization of Mock.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","cors"],"owner":{"account_id":8594703,"reputation":206,"user_id":9824708,"display_name":"Isdeniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687366019,"creation_date":1687323495,"question_id":76520071,"body_markdown":"I configured my Spring Boot as the following:\r\n\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(jsr250Enabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t    @Override\r\n\t    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n\t\t    http.cors().and().csrf().disable();\r\n\t\t\r\n            // Other configurations here\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public CorsConfigurationSource corsConfigurationSource() {\r\n\t\t    CorsConfiguration configuration = new CorsConfiguration();\r\n\t\t    configuration.setAllowedOrigins(Arrays.asList(&quot;https://dwdelivery.com.br&quot;));\r\n\t\t    configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n\t\t    configuration.setAllowedHeaders(Arrays.asList(&quot;Authorization&quot;));\r\n\t\t    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\t    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\t\t    return source;\r\n\t    }\r\n    }\r\n\r\nBut when browser sends a request, the response doesn&#39;t came with header `Access-Control-Request-Headers` as shown bellow.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhy is this happening?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9pOXg.png","title":"Header Access-Control-Request-Headers don&#39;t came in response","body":"<p>I configured my Spring Boot as the following:</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(jsr250Enabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.cors().and().csrf().disable();\n    \n        // Other configurations here\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;https://dwdelivery.com.br&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;Authorization&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}\n</code></pre>\n<p>But when browser sends a request, the response doesn't came with header <code>Access-Control-Request-Headers</code> as shown bellow.</p>\n<p><a href=\"https://i.stack.imgur.com/9pOXg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9pOXg.png\" alt=\"enter image description here\" /></a></p>\n<p>Why is this happening?</p>\n"},{"tags":["java","reflection","java-17"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1687337533,"post_id":76521450,"comment_id":134921313,"body_markdown":"Does `get.setAccessible(true)` right before `get.invoke` not work? That said, you really should not do that. If `Inner` does not implement a public interface that exposes `get`, `get` is an implementation detail which YOU SHOULD NOT CALL.","body":"Does <code>get.setAccessible(true)</code> right before <code>get.invoke</code> not work? That said, you really should not do that. If <code>Inner</code> does not implement a public interface that exposes <code>get</code>, <code>get</code> is an implementation detail which YOU SHOULD NOT CALL."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1687338097,"post_id":76521450,"comment_id":134921439,"body_markdown":"Why do you need Reflection? Just call `inner.get()`. If you think, you really have make the call via Reflection, use `Interface.class.getMethod(&quot;get&quot;)`. Or in general terms, don’t use `getClass()`.","body":"Why do you need Reflection? Just call <code>inner.get()</code>. If you think, you really have make the call via Reflection, use <code>Interface.class.getMethod(&quot;get&quot;)</code>. Or in general terms, don’t use <code>getClass()</code>."},{"owner":{"account_id":1914008,"reputation":1385,"user_id":1727039,"accept_rate":40,"display_name":"Mr. P"},"score":0,"creation_date":1687338230,"post_id":76521450,"comment_id":134921468,"body_markdown":"Nope - the method is public, so accessible. That is part of springframework. I do not have the power to change how it looks like :) And yet it does - Inner implements public interface (called Interface here). But still Inner is private.","body":"Nope - the method is public, so accessible. That is part of springframework. I do not have the power to change how it looks like :) And yet it does - Inner implements public interface (called Interface here). But still Inner is private."},{"owner":{"account_id":1914008,"reputation":1385,"user_id":1727039,"accept_rate":40,"display_name":"Mr. P"},"score":0,"creation_date":1687338372,"post_id":76521450,"comment_id":134921506,"body_markdown":"@Holger, because this code is just a example - in project i am using Proxy so i need to call using reflection (or to rewrite a huge chunk od legacy code). I will try with the interface though.","body":"@Holger, because this code is just a example - in project i am using Proxy so i need to call using reflection (or to rewrite a huge chunk od legacy code). I will try with the interface though."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1687338547,"post_id":76521450,"comment_id":134921551,"body_markdown":"As said in [the other comment](https://stackoverflow.com/questions/76521450/?noredirect=1#comment134921446_76521538), a proxy gets the right `Method` object (having the interface or `java.lang.Object` as declaring class) which can be used to invoke the method on a delegate if it implements the same interface. If the delegate implements a different interface, you need to use `Interface.class` as shown above.","body":"As said in <a href=\"https://stackoverflow.com/questions/76521450/?noredirect=1#comment134921446_76521538\">the other comment</a>, a proxy gets the right <code>Method</code> object (having the interface or <code>java.lang.Object</code> as declaring class) which can be used to invoke the method on a delegate if it implements the same interface. If the delegate implements a different interface, you need to use <code>Interface.class</code> as shown above."},{"owner":{"account_id":1914008,"reputation":1385,"user_id":1727039,"accept_rate":40,"display_name":"Mr. P"},"score":0,"creation_date":1687338686,"post_id":76521450,"comment_id":134921591,"body_markdown":"@Holger, you are right with the `Interface.class` thing. Write an answer and i will confirm it. Thanks","body":"@Holger, you are right with the <code>Interface.class</code> thing. Write an answer and i will confirm it. Thanks"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1687346091,"post_id":76521450,"comment_id":134923054,"body_markdown":"Don&#39;t use `getClass().getMethod(...)`. If you know it is an `Inner`, use `Inner.class`. If you did obtain the value using reflection, consider using `m1.getReturnType().getMethod(...)`.","body":"Don&#39;t use <code>getClass().getMethod(...)</code>. If you know it is an <code>Inner</code>, use <code>Inner.class</code>. If you did obtain the value using reflection, consider using <code>m1.getReturnType().getMethod(...)</code>."},{"owner":{"account_id":1914008,"reputation":1385,"user_id":1727039,"accept_rate":40,"display_name":"Mr. P"},"score":0,"creation_date":1687363332,"post_id":76521450,"comment_id":134927393,"body_markdown":"@JohannesKuhn, but `Inner` is `private`. I cannot access it like that. Best way is as @Holger mentioned.","body":"@JohannesKuhn, but <code>Inner</code> is <code>private</code>. I cannot access it like that. Best way is as @Holger mentioned."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1687419707,"post_id":76521450,"comment_id":134934883,"body_markdown":"Yeah. Use the most specific public superclass/interface - in this case `Interface.class`. Or use the return type of `getInner()` - which is `Interface.class` (but in some cases easier to get with `Method.getReturnType()`).","body":"Yeah. Use the most specific public superclass/interface - in this case <code>Interface.class</code>. Or use the return type of <code>getInner()</code> - which is <code>Interface.class</code> (but in some cases easier to get with <code>Method.getReturnType()</code>)."}],"answers":[{"comments":[{"owner":{"account_id":1914008,"reputation":1385,"user_id":1727039,"accept_rate":40,"display_name":"Mr. P"},"score":0,"creation_date":1687337926,"post_id":76521538,"comment_id":134921404,"body_markdown":"I am using a Proxy for delegating. I must use it ;) Tried `setAccessible()` with ot luck - it works for methods - and in this case method is already public.","body":"I am using a Proxy for delegating. I must use it ;) Tried <code>setAccessible()</code> with ot luck - it works for methods - and in this case method is already public."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687338137,"post_id":76521538,"comment_id":134921446,"body_markdown":"A proxy gets the right `Method` object as argument. Just use that.","body":"A proxy gets the right <code>Method</code> object as argument. Just use that."},{"owner":{"account_id":1914008,"reputation":1385,"user_id":1727039,"accept_rate":40,"display_name":"Mr. P"},"score":0,"creation_date":1687338474,"post_id":76521538,"comment_id":134921533,"body_markdown":"Yeap but then in `InvocationHandler` you need to use it. And if caller (Main or InvocationHandler implementation) is in different package than Inner class (or Outer) you get an error.","body":"Yeap but then in <code>InvocationHandler</code> you need to use it. And if caller (Main or InvocationHandler implementation) is in different package than Inner class (or Outer) you get an error."}],"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687337571,"creation_date":1687337571,"answer_id":76521538,"question_id":76521450,"body_markdown":"First of all: reflections are evil, get rid of it ;) then: try `get.setAccessible(true)`","title":"Reflection: How to access private method in private inner class, that is in different package than caller class","body":"<p>First of all: reflections are evil, get rid of it ;) then: try <code>get.setAccessible(true)</code></p>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687365834,"creation_date":1687365506,"answer_id":76525458,"question_id":76521450,"body_markdown":"From the docs (emphasis is mine):\r\n\r\n&gt; An IllegalAccessException is thrown when an application **tries to reflectively** create an instance (other than an array), set or get a field, or **invoke a method**, but the currently executing method **does not have access to the definition** of the specified class, field, method or constructor.\r\n\r\nThus as you obviously can&#39;t access this private class by naming it, the exception is thrown. You can either use `get.setAccessible(true)` or reflect on the  `Interface` that is accessible to you: \r\n\r\n    Outer outer = new Outer();\r\n    Interface inner = outer.getInner();\r\n    \r\n    System.out.println(inner.get());\r\n    \r\n    Method get = Interface.class.getMethod(&quot;get&quot;); // Interface is accessible...\r\n    System.out.println(get.invoke(inner));\r\n\r\nIt works because `invoke` uses the dynamic dispatch.","title":"Reflection: How to access private method in private inner class, that is in different package than caller class","body":"<p>From the docs (emphasis is mine):</p>\n<blockquote>\n<p>An IllegalAccessException is thrown when an application <strong>tries to reflectively</strong> create an instance (other than an array), set or get a field, or <strong>invoke a method</strong>, but the currently executing method <strong>does not have access to the definition</strong> of the specified class, field, method or constructor.</p>\n</blockquote>\n<p>Thus as you obviously can't access this private class by naming it, the exception is thrown. You can either use <code>get.setAccessible(true)</code> or reflect on the  <code>Interface</code> that is accessible to you:</p>\n<pre><code>Outer outer = new Outer();\nInterface inner = outer.getInner();\n\nSystem.out.println(inner.get());\n\nMethod get = Interface.class.getMethod(&quot;get&quot;); // Interface is accessible...\nSystem.out.println(get.invoke(inner));\n</code></pre>\n<p>It works because <code>invoke</code> uses the dynamic dispatch.</p>\n"}],"owner":{"account_id":1914008,"reputation":1385,"user_id":1727039,"accept_rate":40,"display_name":"Mr. P"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687365937,"creation_date":1687336832,"question_id":76521450,"body_markdown":"I am having trouble in accessing private method in private inner class that resides in different package than caller class:\r\n\r\n```java\r\npackage reflectiontest.sompackage;\r\n\r\nimport reflectiontest.Interface;\r\n\r\npublic class Outer {\r\n    private class Inner implements Interface {\r\n        public int get() {\r\n            return 4;\r\n        }\r\n    }\r\n\r\n    public Interface getInner() {\r\n        return new Inner();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage reflectiontest;\r\n\r\npublic interface Interface {\r\n    int get();\r\n}\r\n```\r\n\r\n```java\r\npackage reflectiontest;\r\n\r\nimport reflectiontest.sompackage.Outer;\r\n\r\nimport java.lang.reflect.Method;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        Outer outer = new Outer();\r\n        Interface inner = outer.getInner();\r\n\r\n        System.out.println(inner.get());\r\n\r\n        Method get = inner.getClass().getMethod(&quot;get&quot;);\r\n        System.out.println(get.invoke(inner));\r\n    }\r\n}\r\n```\r\n\r\nLog after running:\r\n```java\r\n4\r\nException in thread &quot;main&quot; java.lang.IllegalAccessException: class reflectiontest.Main cannot access a member of class reflectiontest.sompackage.Outer$Inner with modifiers &quot;public&quot;\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:394)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:709)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:569)\r\n\tat reflectiontest.Main.main(Main.java:17)\r\n```\r\n\r\nDuring debugging i got to the point in `Reflection.verifyMemberAccess()` fails at this point:\r\n```java\r\n        if (!Modifier.isPublic(getClassAccessFlags(memberClass))) {\r\n            isSameClassPackage = isSameClassPackage(currentClass, memberClass);\r\n            gotIsSameClassPackage = true;\r\n            if (!isSameClassPackage) {\r\n                return false;\r\n            }\r\n        }\r\n```\r\n\r\nThe one option is to create a simple caller class inside the same package as Inner, but this seems a workaround.\r\n\r\nAny other ideas on how to get it to work?","title":"Reflection: How to access private method in private inner class, that is in different package than caller class","body":"<p>I am having trouble in accessing private method in private inner class that resides in different package than caller class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package reflectiontest.sompackage;\n\nimport reflectiontest.Interface;\n\npublic class Outer {\n    private class Inner implements Interface {\n        public int get() {\n            return 4;\n        }\n    }\n\n    public Interface getInner() {\n        return new Inner();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package reflectiontest;\n\npublic interface Interface {\n    int get();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package reflectiontest;\n\nimport reflectiontest.sompackage.Outer;\n\nimport java.lang.reflect.Method;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        Outer outer = new Outer();\n        Interface inner = outer.getInner();\n\n        System.out.println(inner.get());\n\n        Method get = inner.getClass().getMethod(&quot;get&quot;);\n        System.out.println(get.invoke(inner));\n    }\n}\n</code></pre>\n<p>Log after running:</p>\n<pre class=\"lang-java prettyprint-override\"><code>4\nException in thread &quot;main&quot; java.lang.IllegalAccessException: class reflectiontest.Main cannot access a member of class reflectiontest.sompackage.Outer$Inner with modifiers &quot;public&quot;\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:394)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:709)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:569)\n    at reflectiontest.Main.main(Main.java:17)\n</code></pre>\n<p>During debugging i got to the point in <code>Reflection.verifyMemberAccess()</code> fails at this point:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        if (!Modifier.isPublic(getClassAccessFlags(memberClass))) {\n            isSameClassPackage = isSameClassPackage(currentClass, memberClass);\n            gotIsSameClassPackage = true;\n            if (!isSameClassPackage) {\n                return false;\n            }\n        }\n</code></pre>\n<p>The one option is to create a simple caller class inside the same package as Inner, but this seems a workaround.</p>\n<p>Any other ideas on how to get it to work?</p>\n"},{"tags":["java","sap-gui"],"answers":[{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258916016,"creation_date":1258622552,"answer_id":1761959,"question_id":1761515,"body_markdown":"If you can connect your programme to SAP, you could always set the function from the wiki as RFC, and get the link from SAP.  Otherwise, you can always test the function to check the return string.  \r\n\r\nthis string can be used to create a SAP GUI Shortcut. those shortcups possess the .sap extension and contains the previous string. For exemple this is the content of a test SAP GUI shortcut :  \r\n\r\n    [System]  \r\n    Name=IFR  \r\n    Description=IFR ECC 6.0  \r\n    Client=300  \r\n    [User]  \r\n    Name=gpatry  \r\n    Language=FR  \r\n    [Function]  \r\n    Title=Connexion SAP IFR  \r\n    Command=PA20  \r\n    [Configuration]  \r\n    WorkDir=D:\\Documents and Settings\\gpatry\\SapWorkDir  \r\n    [Options]  \r\n    Reuse=0  \r\n\r\nIn in the example you gave, such  string was use to create an attachement in the name of &quot;DisplayAddress.SAP&quot; . A click on the attachement launch the GUI.\r\n\r\nIf creating a shortcut is not suffisant, you may try to exec opening the shortcut file, in the same way that open a .doc launch word. I must admit my ignorance on this particuliar point. \r\n\r\nhope this helps,  \r\nregards,  \r\nGuillaume \r\n","title":"Open the SAP GUI thick client screen from Java program","body":"<p>If you can connect your programme to SAP, you could always set the function from the wiki as RFC, and get the link from SAP.  Otherwise, you can always test the function to check the return string.  </p>\n\n<p>this string can be used to create a SAP GUI Shortcut. those shortcups possess the .sap extension and contains the previous string. For exemple this is the content of a test SAP GUI shortcut :  </p>\n\n<pre><code>[System]  \nName=IFR  \nDescription=IFR ECC 6.0  \nClient=300  \n[User]  \nName=gpatry  \nLanguage=FR  \n[Function]  \nTitle=Connexion SAP IFR  \nCommand=PA20  \n[Configuration]  \nWorkDir=D:\\Documents and Settings\\gpatry\\SapWorkDir  \n[Options]  \nReuse=0  \n</code></pre>\n\n<p>In in the example you gave, such  string was use to create an attachement in the name of \"DisplayAddress.SAP\" . A click on the attachement launch the GUI.</p>\n\n<p>If creating a shortcut is not suffisant, you may try to exec opening the shortcut file, in the same way that open a .doc launch word. I must admit my ignorance on this particuliar point. </p>\n\n<p>hope this helps,<br>\nregards,<br>\nGuillaume </p>\n"},{"tags":[],"owner":{"account_id":855,"reputation":3955,"user_id":1119,"accept_rate":100,"display_name":"Chris Carruthers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260776547,"creation_date":1260776547,"answer_id":1899502,"question_id":1761515,"body_markdown":"Guillaume (PATRY) is correct in the general approach to generating the .SAP shortcut content. An alternative approach if you are always launching a particular transaction is to use a hard-coded (or resource-retrieved) template.\r\n\r\nYou then need to save it as a file and launch the file. This can be done as follows:\r\n\r\n    // Generate your .SAP shortcut content by calling an RFC, or manually filling a template.\r\n    String shortcutContent = ...;\r\n    \r\n    File file = new File(...some path, probably inside temp dir...);\r\n\r\n    OutputStream os = new FileOutputStream(file);\r\n    os.write(shortcutContent.getBytes());\r\n    os.close();\r\n    \r\n    String url = &quot;file://&quot; + file.getAbsolutePath();\r\n\r\n    // Ask OS to launch the file\r\n    Runtime runtime = Runtime.getRuntime();\r\n    String cmd = &quot;rundll32 url.dll,FileProtocolHandler &quot; + url;\r\n    runtime.exec(cmd);\r\n\r\n    // Remove file\r\n    file.deleteOnExit();\r\n\r\nYou will of course need to add exception handling around this code appropriate to the surrounding architecture.","title":"Open the SAP GUI thick client screen from Java program","body":"<p>Guillaume (PATRY) is correct in the general approach to generating the .SAP shortcut content. An alternative approach if you are always launching a particular transaction is to use a hard-coded (or resource-retrieved) template.</p>\n\n<p>You then need to save it as a file and launch the file. This can be done as follows:</p>\n\n<pre><code>// Generate your .SAP shortcut content by calling an RFC, or manually filling a template.\nString shortcutContent = ...;\n\nFile file = new File(...some path, probably inside temp dir...);\n\nOutputStream os = new FileOutputStream(file);\nos.write(shortcutContent.getBytes());\nos.close();\n\nString url = \"file://\" + file.getAbsolutePath();\n\n// Ask OS to launch the file\nRuntime runtime = Runtime.getRuntime();\nString cmd = \"rundll32 url.dll,FileProtocolHandler \" + url;\nruntime.exec(cmd);\n\n// Remove file\nfile.deleteOnExit();\n</code></pre>\n\n<p>You will of course need to add exception handling around this code appropriate to the surrounding architecture.</p>\n"},{"tags":[],"owner":{"account_id":2062040,"reputation":31,"user_id":1838365,"display_name":"Adi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1353407141,"creation_date":1353405901,"answer_id":13470793,"question_id":1761515,"body_markdown":"You can create a .SAP file on the desktop with the following content:\r\n\r\n**example:**\r\n\r\n    conn=/H/192.168.90.5/S/3210&amp;clnt=300&amp;lang=RO&amp;tran=*ZME29N SO_EBELN-LOW=4500028729;\r\n    where 192.168.90.5 is the local sap server ip\r\n    3210 is the server port\r\n    300 is the client\r\n    RO - language\r\n    *ZME29N is the transaction followed by the select options.\r\n\r\n* (asterisk) means that the system will execute the transaction with the respective select options.","title":"Open the SAP GUI thick client screen from Java program","body":"<p>You can create a .SAP file on the desktop with the following content:</p>\n\n<p><strong>example:</strong></p>\n\n<pre><code>conn=/H/192.168.90.5/S/3210&amp;clnt=300&amp;lang=RO&amp;tran=*ZME29N SO_EBELN-LOW=4500028729;\nwhere 192.168.90.5 is the local sap server ip\n3210 is the server port\n300 is the client\nRO - language\n*ZME29N is the transaction followed by the select options.\n</code></pre>\n\n<ul>\n<li>(asterisk) means that the system will execute the transaction with the respective select options.</li>\n</ul>\n"}],"owner":{"account_id":879095,"reputation":96,"user_id":184803,"display_name":"Kiru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687365864,"creation_date":1258615827,"question_id":1761515,"body_markdown":"Having any thick client like SAP Logon installed, users can connect to required SAP server and access data through transactions.\r\n\r\nI am trying to invoke the SAP GUI thick client installed in the user&#39;s machine and redirect the user directly to required transaction from the service (in turn Java code).\r\n\r\nIt is possible to do the same from SAP GUI Shortcuts, based on generated IDs. The following link will help - \r\n\r\nhttp://wiki.sdn.sap.com/wiki/display/Snippets/Creating+a+SAP+shortcut+for+any+transaction+and+sending+it+by+mail\r\n\r\nIs it possible to do the same through Java code?\r\n","title":"Open the SAP GUI thick client screen from Java program","body":"<p>Having any thick client like SAP Logon installed, users can connect to required SAP server and access data through transactions.</p>\n<p>I am trying to invoke the SAP GUI thick client installed in the user's machine and redirect the user directly to required transaction from the service (in turn Java code).</p>\n<p>It is possible to do the same from SAP GUI Shortcuts, based on generated IDs. The following link will help -</p>\n<p><a href=\"http://wiki.sdn.sap.com/wiki/display/Snippets/Creating+a+SAP+shortcut+for+any+transaction+and+sending+it+by+mail\" rel=\"nofollow noreferrer\">http://wiki.sdn.sap.com/wiki/display/Snippets/Creating+a+SAP+shortcut+for+any+transaction+and+sending+it+by+mail</a></p>\n<p>Is it possible to do the same through Java code?</p>\n"},{"tags":["python","java","php","automation","sap-gui"],"comments":[{"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"score":0,"creation_date":1400944508,"post_id":23846012,"comment_id":36696723,"body_markdown":"what exactly do you need to automate? There are several technologies available, from batch input to the legacy systems migration workbench. Complex scenarios can sometimes be automated by using SAP workflows.","body":"what exactly do you need to automate? There are several technologies available, from batch input to the legacy systems migration workbench. Complex scenarios can sometimes be automated by using SAP workflows."},{"owner":{"account_id":1385145,"reputation":9710,"user_id":1317348,"accept_rate":64,"display_name":"HimalayanCoder"},"score":0,"creation_date":1401013108,"post_id":23846012,"comment_id":36711938,"body_markdown":"I have to fetch data by using a transaction code and few input items. currently they use SAP Logon 640 desktop client to read data.","body":"I have to fetch data by using a transaction code and few input items. currently they use SAP Logon 640 desktop client to read data."},{"owner":{"account_id":306692,"reputation":5903,"user_id":617581,"display_name":"Dirk Trilsbeek"},"score":0,"creation_date":1401029812,"post_id":23846012,"comment_id":36716261,"body_markdown":"fetch data and save it somewhere outside the SAP system? That would call for a small desktop application, preferably in java or .net, using the SAP Connector (available for both java and .net) and remote enabled function modules on the SAP server side. You can&#39;t call transactions from outside SAP Gui, but you can call function modules like RFC_READ_TABLE and BAPIs like BAPI_MATERIAL_GET_DETAIL. Take a look at the available BAPis using transaction BAPI.","body":"fetch data and save it somewhere outside the SAP system? That would call for a small desktop application, preferably in java or .net, using the SAP Connector (available for both java and .net) and remote enabled function modules on the SAP server side. You can&#39;t call transactions from outside SAP Gui, but you can call function modules like RFC_READ_TABLE and BAPIs like BAPI_MATERIAL_GET_DETAIL. Take a look at the available BAPis using transaction BAPI."},{"owner":{"account_id":62127,"reputation":63652,"user_id":184773,"accept_rate":74,"display_name":"Luke101"},"score":0,"creation_date":1575645925,"post_id":23846012,"comment_id":104647763,"body_markdown":"Did you ever accomplish this task? If so how did you do it?","body":"Did you ever accomplish this task? If so how did you do it?"}],"answers":[{"tags":[],"owner":{"account_id":62127,"reputation":63652,"user_id":184773,"accept_rate":74,"display_name":"Luke101"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401146825,"creation_date":1401146825,"answer_id":23878952,"question_id":23846012,"body_markdown":"We use either VBScript or C# to automate tasks. Using VBSCript is the easiest. Have the SAP GUI record a task then it will produce a vbscript that can serve as a starting point for your coding. When you have this vbscript file then you can translate it into other languages.","title":"How to Automate repeated tasks in SAP Logon","body":"<p>We use either VBScript or C# to automate tasks. Using VBSCript is the easiest. Have the SAP GUI record a task then it will produce a vbscript that can serve as a starting point for your coding. When you have this vbscript file then you can translate it into other languages.</p>\n"},{"tags":[],"owner":{"account_id":469510,"reputation":37,"user_id":876125,"accept_rate":75,"display_name":"sogukk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403185054,"creation_date":1403185054,"answer_id":24307979,"question_id":23846012,"body_markdown":"You can implement Scheduled Jobs using JAVA if i am understanding you correctly.","title":"How to Automate repeated tasks in SAP Logon","body":"<p>You can implement Scheduled Jobs using JAVA if i am understanding you correctly.</p>\n"},{"tags":[],"owner":{"account_id":4362083,"reputation":116,"user_id":3558825,"display_name":"Automator1992"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489728613,"creation_date":1489728613,"answer_id":42849870,"question_id":23846012,"body_markdown":"SapGui has buit in record and playback tool which gives you out of the box vbs files which you can use for automation , if the values does not change, then you can use the same scripts every time.\r\n\r\nYou can find it in the main menu of the sap gui window customise local layout(Alt+F12)-&gt;Script Recording and playback.","title":"How to Automate repeated tasks in SAP Logon","body":"<p>SapGui has buit in record and playback tool which gives you out of the box vbs files which you can use for automation , if the values does not change, then you can use the same scripts every time.</p>\n\n<p>You can find it in the main menu of the sap gui window customise local layout(Alt+F12)->Script Recording and playback.</p>\n"},{"tags":[],"owner":{"account_id":8719383,"reputation":380,"user_id":6522992,"display_name":"Volokh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519203899,"creation_date":1519203899,"answer_id":48901836,"question_id":23846012,"body_markdown":"You can use [Sikuli][1] to automate a lot of tasks in SAP Logon. It can recognise UI elements and interact with them. You just have to provide images of these elements. A lot of functionality in SAP Logon is usable by shortcuts, so you can simulate keyboard input very easily with it either. Sikuli is available for both Java and Python.\r\n\r\n\r\n  [1]: http://www.sikuli.org/\r\n","title":"How to Automate repeated tasks in SAP Logon","body":"<p>You can use <a href=\"http://www.sikuli.org/\" rel=\"nofollow noreferrer\">Sikuli</a> to automate a lot of tasks in SAP Logon. It can recognise UI elements and interact with them. You just have to provide images of these elements. A lot of functionality in SAP Logon is usable by shortcuts, so you can simulate keyboard input very easily with it either. Sikuli is available for both Java and Python.</p>\n"},{"tags":[],"owner":{"account_id":16557519,"reputation":11,"user_id":11964286,"display_name":"Eduardo Mendes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666379379,"creation_date":1666379379,"answer_id":74158212,"question_id":23846012,"body_markdown":"Try Python\r\n\r\nI did with this script.\r\n\r\n        import win32com.client\r\n        import subprocess\r\n        import sys\r\n        import time\r\n\r\n        def saplogin():\r\n\r\n            try:\r\n                # path to saplogon\r\n                path = r&quot;C:\\Program Files (x86)\\SAP\\FrontEnd\\SAPgui\\saplogon.exe&quot;\r\n                subprocess.Popen(path)\r\n                time.sleep(10)\r\n\r\n                SapGuiAuto = win32com.client.GetObject(&#39;SAPGUI&#39;)\r\n                if not type(SapGuiAuto) == win32com.client.CDispatch:\r\n                    return\r\n\r\n                application = SapGuiAuto.GetScriptingEngine\r\n                if not type(application) == win32com.client.CDispatch:\r\n                    SapGuiAuto = None\r\n                    return\r\n                connection = application.OpenConnection(&quot;ModuleName&quot;, True)\r\n\r\n                if not type(connection) == win32com.client.CDispatch:\r\n                    application = None\r\n                    SapGuiAuto = None\r\n                    return\r\n\r\n                session = connection.Children(0)\r\n                if not type(session) == win32com.client.CDispatch:\r\n                    connection = None\r\n                    application = None\r\n                    SapGuiAuto = None\r\n                    return\r\n\r\n                session.findById(&quot;wnd[0]/usr/txtRSYST-BNAME&quot;).text = &quot;Username&quot;\r\n                session.findById(&quot;wnd[0]/usr/pwdRSYST-BCODE&quot;).text = &quot;Password&quot;\r\n                session.findById(&quot;wnd[0]&quot;).sendVKey(0)\r\n                # **Record Your Script with SAP and paste here**\r\n                print(sys.exc_info())\r\n\r\n            finally:\r\n                session = None\r\n                connection = None\r\n                application = None\r\n                SapGuiAuto = None\r\n        saplogin()\r\n\r\n","title":"How to Automate repeated tasks in SAP Logon","body":"<p>Try Python</p>\n<p>I did with this script.</p>\n<pre><code>    import win32com.client\n    import subprocess\n    import sys\n    import time\n\n    def saplogin():\n\n        try:\n            # path to saplogon\n            path = r&quot;C:\\Program Files (x86)\\SAP\\FrontEnd\\SAPgui\\saplogon.exe&quot;\n            subprocess.Popen(path)\n            time.sleep(10)\n\n            SapGuiAuto = win32com.client.GetObject('SAPGUI')\n            if not type(SapGuiAuto) == win32com.client.CDispatch:\n                return\n\n            application = SapGuiAuto.GetScriptingEngine\n            if not type(application) == win32com.client.CDispatch:\n                SapGuiAuto = None\n                return\n            connection = application.OpenConnection(&quot;ModuleName&quot;, True)\n\n            if not type(connection) == win32com.client.CDispatch:\n                application = None\n                SapGuiAuto = None\n                return\n\n            session = connection.Children(0)\n            if not type(session) == win32com.client.CDispatch:\n                connection = None\n                application = None\n                SapGuiAuto = None\n                return\n\n            session.findById(&quot;wnd[0]/usr/txtRSYST-BNAME&quot;).text = &quot;Username&quot;\n            session.findById(&quot;wnd[0]/usr/pwdRSYST-BCODE&quot;).text = &quot;Password&quot;\n            session.findById(&quot;wnd[0]&quot;).sendVKey(0)\n            # **Record Your Script with SAP and paste here**\n            print(sys.exc_info())\n\n        finally:\n            session = None\n            connection = None\n            application = None\n            SapGuiAuto = None\n    saplogin()\n</code></pre>\n"}],"owner":{"account_id":1385145,"reputation":9710,"user_id":1317348,"accept_rate":64,"display_name":"HimalayanCoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5149,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1687365100,"creation_date":1400940889,"question_id":23846012,"body_markdown":"I am given a task to automate few boring tasks that people in office do everyday using SAP Logon 640.\r\n\r\nThere are like 30-40 transactions that are required to be automated.\r\n\r\nI searched a lot on SAP Automation and found SAP GUI Scripting but failed to find any starting point for python, php or java. \r\n\r\nHow should i start to automate SAP transactions using python , php or java ?  I am not even sure what i need from my IT department to get started.  ","title":"How to Automate repeated tasks in SAP Logon","body":"<p>I am given a task to automate few boring tasks that people in office do everyday using SAP Logon 640.</p>\n\n<p>There are like 30-40 transactions that are required to be automated.</p>\n\n<p>I searched a lot on SAP Automation and found SAP GUI Scripting but failed to find any starting point for python, php or java. </p>\n\n<p>How should i start to automate SAP transactions using python , php or java ?  I am not even sure what i need from my IT department to get started.  </p>\n"},{"tags":["java","spring","websocket","stomp","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687364406,"creation_date":1687364406,"answer_id":76525329,"question_id":75326622,"body_markdown":"You can use [`@SubscribeMapping`](https://docs.spring.io/spring-framework/reference/web/websocket/stomp/handle-annotations.html#websocket-stomp-subscribe-mapping):\r\n\r\n&gt; @SubscribeMapping is similar to @MessageMapping but narrows the mapping to subscription messages only. It supports the same method arguments as @MessageMapping. **However for the return value, by default, a message is sent directly to the client** (through clientOutboundChannel, in response to the subscription) and not to the broker (through brokerChannel, as a broadcast to matching subscriptions). Adding @SendTo or @SendToUser overrides this behavior and sends to the broker instead.","title":"How to send messages to specific session in Spring through Websockets (STOMP) while multiple connections are open with same user?","body":"<p>You can use <a href=\"https://docs.spring.io/spring-framework/reference/web/websocket/stomp/handle-annotations.html#websocket-stomp-subscribe-mapping\" rel=\"nofollow noreferrer\"><code>@SubscribeMapping</code></a>:</p>\n<blockquote>\n<p>@SubscribeMapping is similar to @MessageMapping but narrows the mapping to subscription messages only. It supports the same method arguments as @MessageMapping. <strong>However for the return value, by default, a message is sent directly to the client</strong> (through clientOutboundChannel, in response to the subscription) and not to the broker (through brokerChannel, as a broadcast to matching subscriptions). Adding @SendTo or @SendToUser overrides this behavior and sends to the broker instead.</p>\n</blockquote>\n"}],"owner":{"account_id":20500984,"reputation":19,"user_id":15044941,"display_name":"Kaarel Vomm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687364406,"creation_date":1675357644,"question_id":75326622,"body_markdown":"I can configure sending messages to specific users with WebSocketMessageBrokerConfigurer and SimpleMessageBroker, it works well. \r\n\r\nProblem:\r\nWhen somebody subscribes on specific userId, I want to send the previous messages from db to that subscriber. But if there already exists a connection and subscription with same userId (e.g. user logs in from another device/browser), old subscriber will receive the initial messages from db too. And with every new subscriber with the same userId, older subscribers will receive the same messages.\r\n\r\nSo how to send the initial messages from db to specific session, not all sessions?\r\nIs this even possible with STOMP protocol? \r\n\r\nHere is the code:\r\n```\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/stomp/message&quot;).setAllowedOrigins(&quot;*&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/chatroom&quot;, &quot;/user&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        registry.setUserDestinationPrefix(&quot;/user&quot;);\r\n    }\r\n}\r\n\r\npublic class MessageController {\r\n\r\n    @MessageMapping(&quot;/private-message&quot;)\r\n    private void receivePrivateMessage(\r\n            @Payload Message message,\r\n            Principal user,\r\n            @Header(&quot;simpSessionId&quot;) String sessionId) {\r\n        log.info(&quot;server received private message: &quot; + message);\r\n        simpMessagingTemplate.convertAndSendToUser(message.getReceiverId().toString(), &quot;/private-message&quot;,       message);\r\n    }\r\n}\r\n\r\npublic class EventSubscribeListener implements ApplicationListener&lt;SessionSubscribeEvent&gt; {\r\n\r\n    private final SimpMessagingTemplate simpMessagingTemplate;\r\n\r\n    @Override\r\n    public void onApplicationEvent(SessionSubscribeEvent event) {\r\n        log.info(&quot;Stomp subscribed&quot;);\r\n        \r\n        TODO get messages from db and send initial messages from db to to specific session/subscriber\r\n    }\r\n}\r\n```\r\n\r\nOnly idea I had is that I could replace the userId based subscribing to sessionId based subscribing. But that would mean frontend has to get the sessionId and subscribe with it. I don&#39;t want FE to deal with that. ","title":"How to send messages to specific session in Spring through Websockets (STOMP) while multiple connections are open with same user?","body":"<p>I can configure sending messages to specific users with WebSocketMessageBrokerConfigurer and SimpleMessageBroker, it works well.</p>\n<p>Problem:\nWhen somebody subscribes on specific userId, I want to send the previous messages from db to that subscriber. But if there already exists a connection and subscription with same userId (e.g. user logs in from another device/browser), old subscriber will receive the initial messages from db too. And with every new subscriber with the same userId, older subscribers will receive the same messages.</p>\n<p>So how to send the initial messages from db to specific session, not all sessions?\nIs this even possible with STOMP protocol?</p>\n<p>Here is the code:</p>\n<pre><code>public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/stomp/message&quot;).setAllowedOrigins(&quot;*&quot;);\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/chatroom&quot;, &quot;/user&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        registry.setUserDestinationPrefix(&quot;/user&quot;);\n    }\n}\n\npublic class MessageController {\n\n    @MessageMapping(&quot;/private-message&quot;)\n    private void receivePrivateMessage(\n            @Payload Message message,\n            Principal user,\n            @Header(&quot;simpSessionId&quot;) String sessionId) {\n        log.info(&quot;server received private message: &quot; + message);\n        simpMessagingTemplate.convertAndSendToUser(message.getReceiverId().toString(), &quot;/private-message&quot;,       message);\n    }\n}\n\npublic class EventSubscribeListener implements ApplicationListener&lt;SessionSubscribeEvent&gt; {\n\n    private final SimpMessagingTemplate simpMessagingTemplate;\n\n    @Override\n    public void onApplicationEvent(SessionSubscribeEvent event) {\n        log.info(&quot;Stomp subscribed&quot;);\n        \n        TODO get messages from db and send initial messages from db to to specific session/subscriber\n    }\n}\n</code></pre>\n<p>Only idea I had is that I could replace the userId based subscribing to sessionId based subscribing. But that would mean frontend has to get the sessionId and subscribe with it. I don't want FE to deal with that.</p>\n"},{"tags":["java","android","logcat","writetofile"],"comments":[{"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"score":0,"creation_date":1687366362,"post_id":76525309,"comment_id":134928029,"body_markdown":"have you tested &quot;logcat -v time -s &quot; + packageName ?","body":"have you tested &quot;logcat -v time -s &quot; + packageName ?"}],"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687364276,"creation_date":1687364276,"question_id":76525309,"body_markdown":"In my android app, I am writing to file the whole logcat like this:\r\n\r\n\r\n    Runtime.getRuntime().exec( &quot;logcat -f &quot; + dir +&quot;Log&quot;+System.currentTimeMillis()+&quot;.txt&quot;);\r\n\r\nbut I would like to filter out just the output of my app&#39;s package name. I&#39;ve tried with grep but that didn&#39;t help me. There is no built-in way to filer out lines?\r\n\r\nThank you.\r\n\r\n","title":"Printing logcat for only my package name on file?","body":"<p>In my android app, I am writing to file the whole logcat like this:</p>\n<pre><code>Runtime.getRuntime().exec( &quot;logcat -f &quot; + dir +&quot;Log&quot;+System.currentTimeMillis()+&quot;.txt&quot;);\n</code></pre>\n<p>but I would like to filter out just the output of my app's package name. I've tried with grep but that didn't help me. There is no built-in way to filer out lines?</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687364100,"creation_date":1687364100,"answer_id":76525281,"question_id":76525160,"body_markdown":"Short answer: No. \r\n\r\nThis isn&#39;t really a Spring or Java question, so I won&#39;t address that.\r\n\r\nAny information you need should be present in your redirect URL. Typically, this is useful in scenarios where you would want to redirect a user back to a specific page after performing an action. \r\n\r\nSay I try to access `/user-profile` but I&#39;m not logged in. I would be redirected to `/login` since `/user-profile` requires that a user be logged in. However, for a seamless user experience, I&#39;d prefer to send the user back to `/user-profile` after successful login. \r\n\r\nTo achieve this, I wouldn&#39;t actually redirect the user to `/login`, but `/login?return_to=%2Fuser-profile`. Now, when I receive the request at `/login`, I look for the `return_to` parameter. That tells me where the user came from, and I&#39;m able to send them back to that location after they have successfully logged in.\r\n\r\n","title":"Get original url from after redirect in Spring Boot","body":"<p>Short answer: No.</p>\n<p>This isn't really a Spring or Java question, so I won't address that.</p>\n<p>Any information you need should be present in your redirect URL. Typically, this is useful in scenarios where you would want to redirect a user back to a specific page after performing an action.</p>\n<p>Say I try to access <code>/user-profile</code> but I'm not logged in. I would be redirected to <code>/login</code> since <code>/user-profile</code> requires that a user be logged in. However, for a seamless user experience, I'd prefer to send the user back to <code>/user-profile</code> after successful login.</p>\n<p>To achieve this, I wouldn't actually redirect the user to <code>/login</code>, but <code>/login?return_to=%2Fuser-profile</code>. Now, when I receive the request at <code>/login</code>, I look for the <code>return_to</code> parameter. That tells me where the user came from, and I'm able to send them back to that location after they have successfully logged in.</p>\n"}],"owner":{"account_id":25289559,"reputation":13,"user_id":19115926,"display_name":"cookerfresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687364100,"creation_date":1687363139,"question_id":76525160,"body_markdown":"Are there any ways to get original redired URL from external service in Spring Boot? for example, if http://example.com/redirect redirects to my application with route http://localhost/test, can I extract &quot;http://example.com/redirect&quot;?","title":"Get original url from after redirect in Spring Boot","body":"<p>Are there any ways to get original redired URL from external service in Spring Boot? for example, if <a href=\"http://example.com/redirect\" rel=\"nofollow noreferrer\">http://example.com/redirect</a> redirects to my application with route http://localhost/test, can I extract &quot;http://example.com/redirect&quot;?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1687362656,"post_id":76524984,"comment_id":134927234,"body_markdown":"Being picky - don&#39;t run this code very close to midnight or the dates will be very wrong. Perhaps you mean `public abstract &lt;T&gt; Supplier&lt;T&gt; operation();` and concrete definition  PERIOD `public Supplier&lt;Map&lt;String,LocalDate&gt;&gt; operation() `","body":"Being picky - don&#39;t run this code very close to midnight or the dates will be very wrong. Perhaps you mean <code>public abstract &lt;T&gt; Supplier&lt;T&gt; operation();</code> and concrete definition  PERIOD <code>public Supplier&lt;Map&lt;String,LocalDate&gt;&gt; operation() </code>"},{"owner":{"account_id":14086993,"reputation":615,"user_id":10176504,"display_name":"vitorvr"},"score":0,"creation_date":1687363221,"post_id":76524984,"comment_id":134927358,"body_markdown":"Its just an example :D thanks @DuncG! If I made this change the method only will accept Suppliers, but in this case I need to accept Consumers, Functions, etc as well. Is there a way to be more flexible is this case?","body":"Its just an example :D thanks @DuncG! If I made this change the method only will accept Suppliers, but in this case I need to accept Consumers, Functions, etc as well. Is there a way to be more flexible is this case?"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1687364792,"post_id":76524984,"comment_id":134927718,"body_markdown":"don&#180;t know if you can do this with enums but you can do a pseudo enum with a class with static variables and a wrapper class  that houses the string and the function","body":"don&#180;t know if you can do this with enums but you can do a pseudo enum with a class with static variables and a wrapper class  that houses the string and the function"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1687367998,"post_id":76524984,"comment_id":134928322,"body_markdown":"This does not look like a good use case for enums.  Create a set of static constants somewhere, each of which can have their own type, instead of trying to use an enum you&#39;ll have to cast everywhere.","body":"This does not look like a good use case for enums.  Create a set of static constants somewhere, each of which can have their own type, instead of trying to use an enum you&#39;ll have to cast everywhere."}],"answers":[{"comments":[{"owner":{"account_id":14086993,"reputation":615,"user_id":10176504,"display_name":"vitorvr"},"score":0,"creation_date":1687367639,"post_id":76525199,"comment_id":134928256,"body_markdown":"Thanks! This works! Intellij complains about this `Unchecked overriding: return type requires unchecked conversion. Found java.util.function.Function&lt;java.lang.Void,java.util.Map&lt;java.lang.String,java.time.LocalDate&gt;&gt;&#39;, required &#39;java.util.function.Function&lt;T,R&gt;&#39; ` but working fine.\nAnd when I simulate a &quot;Consumer&quot; I have to declare a return explicit `return null` for instance.","body":"Thanks! This works! Intellij complains about this <code>Unchecked overriding: return type requires unchecked conversion. Found java.util.function.Function&lt;java.lang.Void,java.util.Map&lt;jav&zwnj;&#8203;a.lang.String,java.t&zwnj;&#8203;ime.LocalDate&gt;&gt;&#39;, required &#39;java.util.function.Function&lt;T,R&gt;&#39; </code> but working fine. And when I simulate a &quot;Consumer&quot; I have to declare a return explicit <code>return null</code> for instance."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687363951,"creation_date":1687363514,"answer_id":76525199,"question_id":76524984,"body_markdown":"A version using a general `Function` might allow you to declare other arbitrary operations:\r\n\r\n    public enum TestEnum {\r\n        PERIOD(&quot;PERIOD&quot;) {\r\n            @Override\r\n            public Function&lt;Void,Map&lt;String,LocalDate&gt;&gt; operation() {\r\n                return xxxNotUsed -&gt; Map.of(\r\n                        &quot;INIT&quot;, LocalDate.now()\r\n                                .minusDays(1L)\r\n                                .with(TemporalAdjusters.firstDayOfMonth())\r\n                                .minusMonths(1L),\r\n                        &quot;END&quot;, LocalDate.now()\r\n                                .minusDays(1L)\r\n                                .minusMonths(1L)\r\n                                .with(TemporalAdjusters.lastDayOfMonth())\r\n                );\r\n            }\r\n        };\r\n        TestEnum(String x) { value = x;}\r\n        private final String value;\r\n\r\n        public abstract &lt;T,R&gt; Function&lt;T,R&gt; operation();\r\n    }\r\n\r\nNote that I&#39;ve used `Void` as a dummy parameter type for the &quot;Supplier&quot; style of call you wanted for `PERIOD`, and you could use `Function&lt;XYZClass,Void&gt;` for &quot;Consumer&quot; style of operation.","title":"How to create a Enum with a abstract method that returns a generic type that can be a Functional Interface like functions, consumers, suppliers","body":"<p>A version using a general <code>Function</code> might allow you to declare other arbitrary operations:</p>\n<pre><code>public enum TestEnum {\n    PERIOD(&quot;PERIOD&quot;) {\n        @Override\n        public Function&lt;Void,Map&lt;String,LocalDate&gt;&gt; operation() {\n            return xxxNotUsed -&gt; Map.of(\n                    &quot;INIT&quot;, LocalDate.now()\n                            .minusDays(1L)\n                            .with(TemporalAdjusters.firstDayOfMonth())\n                            .minusMonths(1L),\n                    &quot;END&quot;, LocalDate.now()\n                            .minusDays(1L)\n                            .minusMonths(1L)\n                            .with(TemporalAdjusters.lastDayOfMonth())\n            );\n        }\n    };\n    TestEnum(String x) { value = x;}\n    private final String value;\n\n    public abstract &lt;T,R&gt; Function&lt;T,R&gt; operation();\n}\n</code></pre>\n<p>Note that I've used <code>Void</code> as a dummy parameter type for the &quot;Supplier&quot; style of call you wanted for <code>PERIOD</code>, and you could use <code>Function&lt;XYZClass,Void&gt;</code> for &quot;Consumer&quot; style of operation.</p>\n"}],"owner":{"account_id":14086993,"reputation":615,"user_id":10176504,"display_name":"vitorvr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687363951,"creation_date":1687361772,"question_id":76524984,"body_markdown":"I have a Enum that have a field ```value``` and a abstract method that returns a generic type that can be a functional interface to each constant will have your particular behavior.\r\n\r\n```\r\npublic enum TestEnum {\r\n\r\n    PERIOD(&quot;PERIOD&quot;) {\r\n        @Override\r\n        public &lt;T&gt; T operation() {\r\n            return () -&gt; Map.of(\r\n                    &quot;INIT&quot;, LocalDate.now()\r\n                            .minusDays(1L)\r\n                            .with(TemporalAdjusters.firstDayOfMonth())\r\n                            .minusMonths(1L),\r\n                    &quot;END&quot;, LocalDate.now()\r\n                            .minusDays(1L)\r\n                            .minusMonths(1L)\r\n                            .with(TemporalAdjusters.lastDayOfMonth())\r\n            );\r\n        }\r\n    };\r\n\r\n    private final String value;\r\n\r\n    public abstract &lt;T&gt; T operation();\r\n}\r\n```\r\n\r\nIn this can return a supplier but I have other scenarios that can return a `Function`, and `BiConsumers`.\r\n\r\nDoing this I&#39;m receiving a error that required type `T` but I&#39;m providing a `lambda expression`.\r\n\r\nIs there a way to do that?","title":"How to create a Enum with a abstract method that returns a generic type that can be a Functional Interface like functions, consumers, suppliers","body":"<p>I have a Enum that have a field <code>value</code> and a abstract method that returns a generic type that can be a functional interface to each constant will have your particular behavior.</p>\n<pre><code>public enum TestEnum {\n\n    PERIOD(&quot;PERIOD&quot;) {\n        @Override\n        public &lt;T&gt; T operation() {\n            return () -&gt; Map.of(\n                    &quot;INIT&quot;, LocalDate.now()\n                            .minusDays(1L)\n                            .with(TemporalAdjusters.firstDayOfMonth())\n                            .minusMonths(1L),\n                    &quot;END&quot;, LocalDate.now()\n                            .minusDays(1L)\n                            .minusMonths(1L)\n                            .with(TemporalAdjusters.lastDayOfMonth())\n            );\n        }\n    };\n\n    private final String value;\n\n    public abstract &lt;T&gt; T operation();\n}\n</code></pre>\n<p>In this can return a supplier but I have other scenarios that can return a <code>Function</code>, and <code>BiConsumers</code>.</p>\n<p>Doing this I'm receiving a error that required type <code>T</code> but I'm providing a <code>lambda expression</code>.</p>\n<p>Is there a way to do that?</p>\n"},{"tags":["java","android","android-image","fresco"],"owner":{"account_id":28866590,"reputation":1,"user_id":22109221,"display_name":"Animish Prateek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687363951,"creation_date":1687356381,"question_id":76524184,"body_markdown":"&gt; Could not find com.github.stfalcon:frescoimageviewer:0.5.0.\r\nRequired by: project :app\r\n\r\nI&#39;m getting this error while building my project, when I implement &quot;com.github.stfalcon:frescoimageviewer:0.5.0&quot; in build:gradle\r\n\r\nCan someone suggest me a way out?","title":"Does FrescoImageViewer - stfalcon still work for android (java)?","body":"<blockquote>\n<p>Could not find com.github.stfalcon:frescoimageviewer:0.5.0.\nRequired by: project :app</p>\n</blockquote>\n<p>I'm getting this error while building my project, when I implement &quot;com.github.stfalcon:frescoimageviewer:0.5.0&quot; in build:gradle</p>\n<p>Can someone suggest me a way out?</p>\n"},{"tags":["java","ssl","websecurity"],"answers":[{"tags":[],"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687351176,"creation_date":1687351176,"answer_id":76523387,"question_id":76522824,"body_markdown":"You can do the next \r\n\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpHeaders;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.util.EntityUtils;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class GetRequest {\r\n    \r\n        CloseableHttpClient httpClient;\r\n    \r\n        public String doRequest() throws IOException {\r\n            httpClient = HttpClients.createDefault();\r\n            StringBuilder dto = new StringBuilder();\r\n            HttpGet request = new HttpGet(&quot;https://test.example.com&quot;);\r\n    \r\n            // add request headers\r\n            request.addHeader(HttpHeaders.USER_AGENT, &quot;UTF-8&quot;);\r\n    \r\n            try (CloseableHttpResponse response = httpClient.execute(request)) {\r\n                HttpEntity entity = response.getEntity();\r\n                if (entity != null) {\r\n                    // return it as a String\r\n                    String result = EntityUtils.toString(entity);\r\n                    dto.append(result);\r\n                }\r\n            } catch (Exception e) {\r\n                e.prinstracke();\r\n    \r\n            }\r\n            return dto.toString();\r\n        }\r\n    \r\n        public void closeClient() throws IOException {\r\n            this.httpClient.close();\r\n        }\r\n    }\r\n\r\n\r\nIf you get one exception, due it is not valid or self-signed","title":"How to check self-signed certificate from URL","body":"<p>You can do the next</p>\n<pre><code>import org.apache.http.HttpEntity;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n\nimport java.io.IOException;\n\npublic class GetRequest {\n\n    CloseableHttpClient httpClient;\n\n    public String doRequest() throws IOException {\n        httpClient = HttpClients.createDefault();\n        StringBuilder dto = new StringBuilder();\n        HttpGet request = new HttpGet(&quot;https://test.example.com&quot;);\n\n        // add request headers\n        request.addHeader(HttpHeaders.USER_AGENT, &quot;UTF-8&quot;);\n\n        try (CloseableHttpResponse response = httpClient.execute(request)) {\n            HttpEntity entity = response.getEntity();\n            if (entity != null) {\n                // return it as a String\n                String result = EntityUtils.toString(entity);\n                dto.append(result);\n            }\n        } catch (Exception e) {\n            e.prinstracke();\n\n        }\n        return dto.toString();\n    }\n\n    public void closeClient() throws IOException {\n        this.httpClient.close();\n    }\n}\n</code></pre>\n<p>If you get one exception, due it is not valid or self-signed</p>\n"},{"comments":[{"owner":{"account_id":1905234,"reputation":661,"user_id":1720247,"accept_rate":78,"display_name":"Anton Chertash"},"score":0,"creation_date":1687373930,"post_id":76524856,"comment_id":134929383,"body_markdown":"Make sense. Checked on some different pages. Didn&#39;t know that.","body":"Make sense. Checked on some different pages. Didn&#39;t know that."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687363776,"creation_date":1687360714,"answer_id":76524856,"question_id":76522824,"body_markdown":"Here is a relevant _Red Hat_ article.\r\n\r\n_[Red Hat – Who signed my cert? | Enable Sysadmin](https://www.redhat.com/sysadmin/who-signed-my-cert)_.\r\n\r\n&gt; _&quot;... A certificate is self-signed if the subject and issuer match. A certificate is signed by a Certificate Authority (CA) if they are different. ...&quot;_\r\n\r\nYou can utilize the _[X509Certificate](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/cert/X509Certificate.html)_ class, which offers the _[getSubjectX500Principal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/cert/X509Certificate.html#getSubjectX500Principal())_, and _[getIssuerX500Principal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/cert/X509Certificate.html#getIssuerX500Principal())_ methods.","title":"How to check self-signed certificate from URL","body":"<p>Here is a relevant <em>Red Hat</em> article.</p>\n<p><em><a href=\"https://www.redhat.com/sysadmin/who-signed-my-cert\" rel=\"nofollow noreferrer\">Red Hat – Who signed my cert? | Enable Sysadmin</a></em>.</p>\n<blockquote>\n<p><em>&quot;... A certificate is self-signed if the subject and issuer match. A certificate is signed by a Certificate Authority (CA) if they are different. ...&quot;</em></p>\n</blockquote>\n<p>You can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/cert/X509Certificate.html\" rel=\"nofollow noreferrer\">X509Certificate</a></em> class, which offers the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/cert/X509Certificate.html#getSubjectX500Principal()\" rel=\"nofollow noreferrer\">getSubjectX500Principal</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/cert/X509Certificate.html#getIssuerX500Principal()\" rel=\"nofollow noreferrer\">getIssuerX500Principal</a></em> methods.</p>\n"}],"owner":{"account_id":1905234,"reputation":661,"user_id":1720247,"accept_rate":78,"display_name":"Anton Chertash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76524856,"answer_count":2,"score":1,"last_activity_date":1687363776,"creation_date":1687347186,"question_id":76522824,"body_markdown":"How can i check that certificate from given URL is self-signed (like browser does)\r\n\r\n```\r\n\r\nURL destinationURL = new URL(url);\r\nHttpsURLConnection conn = (HttpsURLConnection) destinationURL.openConnection();\r\nconn.connect();\r\nCertificate[] certs = conn.getServerCertificates();\r\n```\r\n\r\n\r\nBut only thing i found is checkValidity(Date d). Which is working fine, but that&#39;s all.","title":"How to check self-signed certificate from URL","body":"<p>How can i check that certificate from given URL is self-signed (like browser does)</p>\n<pre><code>\nURL destinationURL = new URL(url);\nHttpsURLConnection conn = (HttpsURLConnection) destinationURL.openConnection();\nconn.connect();\nCertificate[] certs = conn.getServerCertificates();\n</code></pre>\n<p>But only thing i found is checkValidity(Date d). Which is working fine, but that's all.</p>\n"},{"tags":["java","junit","junit4"],"comments":[{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1687363513,"post_id":15493189,"comment_id":134927432,"body_markdown":"N.B. Junit4&#39;s [@BeforeClass](https://junit.org/junit4/javadoc/4.12/org/junit/BeforeClass.html) has been replaced by Junit5&#39;s [@BeforeAll](https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/BeforeAll.html)","body":"N.B. Junit4&#39;s <a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/BeforeClass.html\" rel=\"nofollow noreferrer\">@BeforeClass</a> has been replaced by Junit5&#39;s <a href=\"https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/BeforeAll.html\" rel=\"nofollow noreferrer\">@BeforeAll</a>"},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":0,"creation_date":1687363545,"post_id":15493189,"comment_id":134927443,"body_markdown":"Should one remove the `junit` tag from this question?","body":"Should one remove the <code>junit</code> tag from this question?"}],"answers":[{"comments":[{"owner":{"account_id":1001236,"reputation":1788,"user_id":1016032,"accept_rate":72,"display_name":"shantanu"},"score":0,"creation_date":1363676120,"post_id":15493216,"comment_id":21933718,"body_markdown":"Actually it is not final. Sorry for my mistake in question. Edited the question.","body":"Actually it is not final. Sorry for my mistake in question. Edited the question."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1392900107,"post_id":15493216,"comment_id":33179030,"body_markdown":"Even if they were `final`, technically you can alter the values using reflection so there is a choice and good reasons for making it. (See my answer.) This is not true for compile time constants, though.","body":"Even if they were <code>final</code>, technically you can alter the values using reflection so there is a choice and good reasons for making it. (See my answer.) This is not true for compile time constants, though."}],"tags":[],"owner":{"account_id":218120,"reputation":52212,"user_id":474283,"display_name":"Cameron Skinner"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363676257,"creation_date":1363675894,"answer_id":15493216,"question_id":15493189,"body_markdown":"If it&#39;s both `static` and `final` then you only have one choice: static initializer.\r\n\r\nThe compiler will prevent you from writing to a final field from inside a method, static or not.\r\n\r\nEDIT: OK, you&#39;ve removed the word &#39;final&#39; from your question. In that case, it makes little difference. The static initializer will run once; so will the @BeforeClass method. Just pick whichever one you think is more readable.","title":"@BeforeClass vs static{}","body":"<p>If it's both <code>static</code> and <code>final</code> then you only have one choice: static initializer.</p>\n\n<p>The compiler will prevent you from writing to a final field from inside a method, static or not.</p>\n\n<p>EDIT: OK, you've removed the word 'final' from your question. In that case, it makes little difference. The static initializer will run once; so will the @BeforeClass method. Just pick whichever one you think is more readable.</p>\n"},{"comments":[{"owner":{"account_id":1001236,"reputation":1788,"user_id":1016032,"accept_rate":72,"display_name":"shantanu"},"score":0,"creation_date":1363676098,"post_id":15493253,"comment_id":21933710,"body_markdown":"I don&#39;t think so. For me it is running only one time for that class.","body":"I don&#39;t think so. For me it is running only one time for that class."},{"owner":{"account_id":218120,"reputation":52212,"user_id":474283,"display_name":"Cameron Skinner"},"score":0,"creation_date":1363676382,"post_id":15493253,"comment_id":21933813,"body_markdown":"According to the JUnit javadocs: &quot;Annotating a public static void no-arg method with @BeforeClass causes it to be run once before any of the test methods in the class&quot;. So both are run exactly once.","body":"According to the JUnit javadocs: &quot;Annotating a public static void no-arg method with @BeforeClass causes it to be run once before any of the test methods in the class&quot;. So both are run exactly once."},{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":0,"creation_date":1363676652,"post_id":15493253,"comment_id":21933934,"body_markdown":"Cameron - it depends on how you have your classes set up, I believe.  I don&#39;t think it behaves exactly like a static initializer.  Can you provide a reference?","body":"Cameron - it depends on how you have your classes set up, I believe.  I don&#39;t think it behaves exactly like a static initializer.  Can you provide a reference?"},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1392898989,"post_id":15493253,"comment_id":33178285,"body_markdown":"Static initializers do **not** run when a class is loaded. They are run before the first use of a class such as construction, static member access or reflective access.","body":"Static initializers do <b>not</b> run when a class is loaded. They are run before the first use of a class such as construction, static member access or reflective access."},{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":0,"creation_date":1408633132,"post_id":15493253,"comment_id":39672040,"body_markdown":"This is nonsense. @BeforeClass is run only once and it&#39;s run at class loading !!!","body":"This is nonsense. @BeforeClass is run only once and it&#39;s run at class loading !!!"}],"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363676029,"creation_date":1363676029,"answer_id":15493253,"question_id":15493189,"body_markdown":"It&#39;s not exactly the same behavior.  `@BeforeClass` runs everytime the tests are run, a static initializer only once when the class is loaded. If your testrunner uses the same classloader, then in the case of `@BeforeClass`, you would re-run the initialization of the static variable.  It depends on what you want to achieve here.","title":"@BeforeClass vs static{}","body":"<p>It's not exactly the same behavior.  <code>@BeforeClass</code> runs everytime the tests are run, a static initializer only once when the class is loaded. If your testrunner uses the same classloader, then in the case of <code>@BeforeClass</code>, you would re-run the initialization of the static variable.  It depends on what you want to achieve here.</p>\n"},{"tags":[],"owner":{"account_id":2071615,"reputation":7603,"user_id":1845976,"accept_rate":56,"display_name":"schnatterer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392898808,"creation_date":1392898808,"answer_id":21907639,"question_id":15493189,"body_markdown":"Here&#39;s a couple of considerations that could be taken into account when deciding whether to use the [static initialization block][1] or [`@BeforeClass`][2]:\r\n\r\n 1. `@BeforeClass` is the antagonist of [`@AfterClass`][3]. So if you do initializations that require cleaning up later (like opening external resources) it would be better (from a semantic point of view) to use the annotated methods.\r\n 2. If you do complex initializations that might throw checked exceptions it&#39;s much more comfortable to use `@BeforeClass`, because you don&#39;t have to catch and wrap it into an unchecked exception.\r\n 3. If you want to use [constant semantics][4] (`private static final String VARIABLE`) with complex initialization, you will have no choice but to use the static initialization block or a static method.\r\n\r\nThere is a related post on SO: [unit testing - What&#39;s the difference between using @BeforeClass and using instance or static variable in JUnit 4 Java?][5]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\r\n  [2]: http://junit.org/javadoc/latest/org/junit/BeforeClass.html\r\n  [3]: http://junit.org/javadoc/latest/org/junit/AfterClass.html\r\n  [4]: http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\r\n  [5]: https://stackoverflow.com/questions/17060392/whats-the-difference-between-using-beforeclass-and-using-instance-or-static-va","title":"@BeforeClass vs static{}","body":"<p>Here's a couple of considerations that could be taken into account when deciding whether to use the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">static initialization block</a> or <a href=\"http://junit.org/javadoc/latest/org/junit/BeforeClass.html\" rel=\"nofollow noreferrer\"><code>@BeforeClass</code></a>:</p>\n\n<ol>\n<li><code>@BeforeClass</code> is the antagonist of <a href=\"http://junit.org/javadoc/latest/org/junit/AfterClass.html\" rel=\"nofollow noreferrer\"><code>@AfterClass</code></a>. So if you do initializations that require cleaning up later (like opening external resources) it would be better (from a semantic point of view) to use the annotated methods.</li>\n<li>If you do complex initializations that might throw checked exceptions it's much more comfortable to use <code>@BeforeClass</code>, because you don't have to catch and wrap it into an unchecked exception.</li>\n<li>If you want to use <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">constant semantics</a> (<code>private static final String VARIABLE</code>) with complex initialization, you will have no choice but to use the static initialization block or a static method.</li>\n</ol>\n\n<p>There is a related post on SO: <a href=\"https://stackoverflow.com/questions/17060392/whats-the-difference-between-using-beforeclass-and-using-instance-or-static-va\">unit testing - What's the difference between using @BeforeClass and using instance or static variable in JUnit 4 Java?</a></p>\n"},{"comments":[{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":0,"creation_date":1408632853,"post_id":21908029,"comment_id":39671841,"body_markdown":"@BeforeClass cannot be used to init static final.","body":"@BeforeClass cannot be used to init static final."},{"owner":{"account_id":124590,"reputation":8425,"user_id":319773,"accept_rate":89,"display_name":"Bevor"},"score":1,"creation_date":1449132635,"post_id":21908029,"comment_id":55876266,"body_markdown":"`@BeforeClass is run before each class&#39;s tests are run`, no: `@BeforeClass` != `@Before`.","body":"<code>@BeforeClass is run before each class&#39;s tests are run</code>, no: <code>@BeforeClass</code> != <code>@Before</code>."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":1,"creation_date":1449132790,"post_id":21908029,"comment_id":55876379,"body_markdown":"Of course not. `@Before` runs before each test, `@BeforeClass` runs before all tests within a class. I said nothing different.","body":"Of course not. <code>@Before</code> runs before each test, <code>@BeforeClass</code> runs before all tests within a class. I said nothing different."},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1554502885,"post_id":21908029,"comment_id":97791238,"body_markdown":"Hi @RafaelWinterhalter, you say &quot;only once per class loader&quot; - why is this a problem? This sounds like we might want multiple runs per class loader - do we?","body":"Hi @RafaelWinterhalter, you say &quot;only once per class loader&quot; - why is this a problem? This sounds like we might want multiple runs per class loader - do we?"},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":1,"creation_date":1554537358,"post_id":21908029,"comment_id":97796170,"body_markdown":"it is highligted to stress out that even an initializer block c n run multiple times.","body":"it is highligted to stress out that even an initializer block c n run multiple times."}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":5,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1392900544,"creation_date":1392899792,"answer_id":21908029,"question_id":15493189,"body_markdown":"There are very different semantics for `@BeforeClass` or a `static` initializer.\r\n\r\nA static initializer is invoked by the JVM and not by JUnit. If an exception is thrown within a static initializer, the test framework might not be able to catch and report the exception. Furthermore, the invocation time of the static initializer is not well-defined compared to the `@BeforeClass` method. It will be run **only once per class loader** on its first actual *use* which is for example the access of a static property, a static method or one of its constructors. Sometimes, it might be hard to figure out when this will be. (If you do not use inheritence: You might one day or some coworker will refactor your test case. If not today, the choice for a static initializer might introduce nasty bugs in the future.)\r\n\r\nOn the other hand, `@BeforeClass` is run before each class&#39;s tests are run. If a class would be subject to different tests, for example due to tests built on inheritance, the `static` initializer will only run for the first test using this class. This means that you made your test order dependent what is something you never want.\r\n\r\nNote that the semantic difference between the two options is bigger than between using `@Before` or a constructor for a test. As a final argument, think about the documentary value of the annotations. It makes your intentions more readable.\r\n\r\nThe only exception for this rule would be immutable constants. Those should be initialized within their declaration in order to keep your code concise and in order to respect [compile time constants][1]. If your values are however mutable, you should not use `static` values at all. Again, mutable values that are altered in a test introduce an order dependency to your test which is to be avoided.\r\n\r\nTL;DR: Use `@BeforeClass`!\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html","title":"@BeforeClass vs static{}","body":"<p>There are very different semantics for <code>@BeforeClass</code> or a <code>static</code> initializer.</p>\n\n<p>A static initializer is invoked by the JVM and not by JUnit. If an exception is thrown within a static initializer, the test framework might not be able to catch and report the exception. Furthermore, the invocation time of the static initializer is not well-defined compared to the <code>@BeforeClass</code> method. It will be run <strong>only once per class loader</strong> on its first actual <em>use</em> which is for example the access of a static property, a static method or one of its constructors. Sometimes, it might be hard to figure out when this will be. (If you do not use inheritence: You might one day or some coworker will refactor your test case. If not today, the choice for a static initializer might introduce nasty bugs in the future.)</p>\n\n<p>On the other hand, <code>@BeforeClass</code> is run before each class's tests are run. If a class would be subject to different tests, for example due to tests built on inheritance, the <code>static</code> initializer will only run for the first test using this class. This means that you made your test order dependent what is something you never want.</p>\n\n<p>Note that the semantic difference between the two options is bigger than between using <code>@Before</code> or a constructor for a test. As a final argument, think about the documentary value of the annotations. It makes your intentions more readable.</p>\n\n<p>The only exception for this rule would be immutable constants. Those should be initialized within their declaration in order to keep your code concise and in order to respect <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html\">compile time constants</a>. If your values are however mutable, you should not use <code>static</code> values at all. Again, mutable values that are altered in a test introduce an order dependency to your test which is to be avoided.</p>\n\n<p>TL;DR: Use <code>@BeforeClass</code>!</p>\n"}],"owner":{"account_id":1001236,"reputation":1788,"user_id":1016032,"accept_rate":72,"display_name":"shantanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10211,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":21908029,"answer_count":4,"score":25,"last_activity_date":1687363426,"creation_date":1363675742,"question_id":15493189,"body_markdown":"I am writing some test cases using JUnit. I need to initialize some static variables which will be used for all the test cases in that class.\r\n\r\nFor this I can use either\r\n\r\n 1. Static initializer block or\r\n 2. Static method with `@BeforeClass`\r\n\r\nWhat are the advantages of using one over another?","title":"@BeforeClass vs static{}","body":"<p>I am writing some test cases using JUnit. I need to initialize some static variables which will be used for all the test cases in that class.</p>\n\n<p>For this I can use either</p>\n\n<ol>\n<li>Static initializer block or</li>\n<li>Static method with <code>@BeforeClass</code></li>\n</ol>\n\n<p>What are the advantages of using one over another?</p>\n"},{"tags":["java","eclipse","jsp","servlets"],"answers":[{"comments":[{"owner":{"account_id":6567949,"reputation":326,"user_id":5076900,"accept_rate":80,"display_name":"Saif Badran"},"score":0,"creation_date":1513495880,"post_id":47845773,"comment_id":82670441,"body_markdown":"I already tried the servlet annotations, although when I move my servlet class to the war module it works, i think i have a problem in dependencies or something","body":"I already tried the servlet annotations, although when I move my servlet class to the war module it works, i think i have a problem in dependencies or something"},{"owner":{"account_id":5295105,"reputation":460,"user_id":4226480,"accept_rate":100,"display_name":"pavlo"},"score":0,"creation_date":1513521482,"post_id":47845773,"comment_id":82676415,"body_markdown":"I have copied your code and with annotation it works.","body":"I have copied your code and with annotation it works."},{"owner":{"account_id":5295105,"reputation":460,"user_id":4226480,"accept_rate":100,"display_name":"pavlo"},"score":0,"creation_date":1513614222,"post_id":47845773,"comment_id":82710286,"body_markdown":"Try to delete your StationsServlet file, and create it again.","body":"Try to delete your StationsServlet file, and create it again."}],"tags":[],"owner":{"account_id":5295105,"reputation":460,"user_id":4226480,"accept_rate":100,"display_name":"pavlo"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513427980,"creation_date":1513427980,"answer_id":47845773,"question_id":47845328,"body_markdown":"\r\nFirst of all check what the problem with exclamation mark near your StationsServlet.java\r\n\r\nAlso try to add annotation `@WebServlet(name = &quot;StationsServlet &quot;, value = &quot;/stations&quot;)`\r\nbefore `public class StationsServlet extends HttpServlet {` in your servlet class.\r\nit need to help.\r\n","title":"Java Servlet on eclipse: Error instantiating servlet class | ClassNotFoundException","body":"<p>First of all check what the problem with exclamation mark near your StationsServlet.java</p>\n\n<p>Also try to add annotation <code>@WebServlet(name = \"StationsServlet \", value = \"/stations\")</code>\nbefore <code>public class StationsServlet extends HttpServlet {</code> in your servlet class.\nit need to help.</p>\n"},{"tags":[],"owner":{"account_id":6567949,"reputation":326,"user_id":5076900,"accept_rate":80,"display_name":"Saif Badran"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1530603880,"creation_date":1530603880,"answer_id":51149136,"question_id":47845328,"body_markdown":"I created a new project and a new workspace and just copied modules and classes to the new one and it worked.\r\n\r\nI guess it was something to do with eclipse project structure and configurations.","title":"Java Servlet on eclipse: Error instantiating servlet class | ClassNotFoundException","body":"<p>I created a new project and a new workspace and just copied modules and classes to the new one and it worked.</p>\n\n<p>I guess it was something to do with eclipse project structure and configurations.</p>\n"},{"tags":[],"owner":{"account_id":2359873,"reputation":9,"user_id":2066798,"display_name":"Hiran Kariyawasam"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642225388,"creation_date":1642225388,"answer_id":70719143,"question_id":47845328,"body_markdown":"\r\nHope this information is useful for the programmers looking for an answer for this common issue. This answer is based on this question.\r\n\r\nPlease make sure your servlet class under the following folder\r\n**(Your Project Name)/src/main/java**\r\n\r\nAdd Annotation to your servlet\r\n**@WebServlet(name=&quot;stationsServlet&quot;, value = &quot;/stations&quot;)**\r\n\r\nYour .jsp (homepage.jsp) form should be,\r\n\r\n**&lt;form action=&quot;stations&quot; method=&quot;get&quot;&gt;**\r\n\r\nPlease follow these steps.\r\n\r\n\r\n\r\n","title":"Java Servlet on eclipse: Error instantiating servlet class | ClassNotFoundException","body":"<p>Hope this information is useful for the programmers looking for an answer for this common issue. This answer is based on this question.</p>\n<p>Please make sure your servlet class under the following folder\n<strong>(Your Project Name)/src/main/java</strong></p>\n<p>Add Annotation to your servlet\n<strong>@WebServlet(name=&quot;stationsServlet&quot;, value = &quot;/stations&quot;)</strong></p>\n<p>Your .jsp (homepage.jsp) form should be,</p>\n<p><strong></strong></p>\n<p>Please follow these steps.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687463097,"post_id":76525140,"comment_id":134944272,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76525140/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28867423,"reputation":1,"user_id":22109878,"display_name":"Sergio Frejo"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687363060,"creation_date":1687362986,"answer_id":76525140,"question_id":47845328,"body_markdown":"I faced this problem on my M1 MacBook Pro, but might replicate in any M1/M2 devices. The problem was the SQLite library version I was using. The one that worked for me was v3.41.2.1. Remember modifying the build path accordingly if necessary. ","title":"Java Servlet on eclipse: Error instantiating servlet class | ClassNotFoundException","body":"<p>I faced this problem on my M1 MacBook Pro, but might replicate in any M1/M2 devices. The problem was the SQLite library version I was using. The one that worked for me was v3.41.2.1. Remember modifying the build path accordingly if necessary.</p>\n"}],"owner":{"account_id":6567949,"reputation":326,"user_id":5076900,"accept_rate":80,"display_name":"Saif Badran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1009,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":51149136,"answer_count":4,"score":-1,"last_activity_date":1687363060,"creation_date":1513424875,"question_id":47845328,"body_markdown":"I know this question has been asked a lot but I tried everything and it&#39;s still not working for me, hoping someone can help.\r\n\r\nI&#39;m trying to run a servlet page on server with eclipse, keeps showing this error:\r\n\r\n[![HTTP Status 500 - Internal Server Error][1]][1]\r\n\r\n\r\nHere&#39;s my source code:\r\n\r\nI&#39;ve wrote a simple servlet page just to see it running on server:\r\n\r\n        package main.java.servlet;\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n\r\n    import javax.servlet.RequestDispatcher;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    public class StationsServlet extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tpublic StationsServlet() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n    \t\tresp.setContentType(&quot;text/html&quot;);\r\n    \t\tPrintWriter writer = resp.getWriter();\r\n    \t\twriter.println(&quot;&lt;html&gt;&quot;);\r\n    \t\twriter.println(&quot;&lt;body&gt;&quot;);\r\n    \t\twriter.println(&quot;Hello&quot;);\r\n    \t\twriter.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n    \t\twriter.flush();\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\r\n    \t}\r\n    }\r\n\r\nMy web.xml :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n    \tversion=&quot;3.1&quot;&gt;\r\n    \t&lt;display-name&gt;weather-files-war&lt;/display-name&gt;\r\n    \t&lt;welcome-file-list&gt;\r\n    \t\t&lt;welcome-file&gt;home.jsp&lt;/welcome-file&gt;\r\n    \t&lt;/welcome-file-list&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;stationsServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;main.java.servlet.StationsServlet&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;stationsServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/stations&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nand finally, my folders/modules structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1qa8c.png\r\n  [2]: https://i.stack.imgur.com/ODQr4.png\r\n\r\n - PS: I created a homepage.jsp and it&#39;s working properly on server, the problem is when hitting the servlet class.","title":"Java Servlet on eclipse: Error instantiating servlet class | ClassNotFoundException","body":"<p>I know this question has been asked a lot but I tried everything and it's still not working for me, hoping someone can help.</p>\n\n<p>I'm trying to run a servlet page on server with eclipse, keeps showing this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1qa8c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1qa8c.png\" alt=\"HTTP Status 500 - Internal Server Error\"></a></p>\n\n<p>Here's my source code:</p>\n\n<p>I've wrote a simple servlet page just to see it running on server:</p>\n\n<pre><code>    package main.java.servlet;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class StationsServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    public StationsServlet() {\n\n    }\n\n    @Override\n    public void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        resp.setContentType(\"text/html\");\n        PrintWriter writer = resp.getWriter();\n        writer.println(\"&lt;html&gt;\");\n        writer.println(\"&lt;body&gt;\");\n        writer.println(\"Hello\");\n        writer.println(\"&lt;/body&gt;&lt;/html&gt;\");\n        writer.flush();\n    }\n\n    @Override\n    public void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n    }\n}\n</code></pre>\n\n<p>My web.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n    version=\"3.1\"&gt;\n    &lt;display-name&gt;weather-files-war&lt;/display-name&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;home.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;stationsServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;main.java.servlet.StationsServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;stationsServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/stations&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>and finally, my folders/modules structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ODQr4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ODQr4.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>PS: I created a homepage.jsp and it's working properly on server, the problem is when hitting the servlet class.</li>\n</ul>\n"},{"tags":["java","lambda","jvm","jna"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1687374991,"post_id":76525090,"comment_id":134929574,"body_markdown":"What’s the point in this `// ... Try to persist jobs to disk ...` part when the signal handler does already call `System.exit(130);` *immediately* after setting the `AtomicBoolean` (while the main thread may still wait up to a second)?","body":"What’s the point in this <code>&#47;&#47; ... Try to persist jobs to disk ...</code> part when the signal handler does already call <code>System.exit(130);</code> <i>immediately</i> after setting the <code>AtomicBoolean</code> (while the main thread may still wait up to a second)?"},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1687377610,"post_id":76525090,"comment_id":134930010,"body_markdown":"You&#39;re not supposed to install a signal handler, since it interferes with the JVM&#39;s signal handler. Use a shutdown hook. https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)","body":"You&#39;re not supposed to install a signal handler, since it interferes with the JVM&#39;s signal handler. Use a shutdown hook. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1687391938,"post_id":76525090,"comment_id":134931927,"body_markdown":"@Holger the first `System.exit(130)` is for illustration only, to showcase that the program won&#39;t exit if atomic boolean is set, but when the line is removed the program can exit","body":"@Holger the first <code>System.exit(130)</code> is for illustration only, to showcase that the program won&#39;t exit if atomic boolean is set, but when the line is removed the program can exit"},{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1687392026,"post_id":76525090,"comment_id":134931938,"body_markdown":"@boneill can&#39;t use shutdown hooks because IO streams area is already closed before the hook triggers making any database IO operation fail.","body":"@boneill can&#39;t use shutdown hooks because IO streams area is already closed before the hook triggers making any database IO operation fail."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1687399503,"post_id":76525090,"comment_id":134932525,"body_markdown":"@quarks perhaps don&#39;t close the IO streams area first? If you want to use signals, a google search is all that&#39;s needed: &quot;java signal handling&quot;","body":"@quarks perhaps don&#39;t close the IO streams area first? If you want to use signals, a google search is all that&#39;s needed: &quot;java signal handling&quot;"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1687425538,"post_id":76525090,"comment_id":134936127,"body_markdown":"But as far as I can understand, you don’t want to have an `exit`  call in the signal handler at all, as the purpose of the `AtomicBoolean` is to let the main thread perform an action. So why do you care whether that exit call works? Shouldn’t you focus on the question whether the main thread perceives the change of the `AtomicBoolean`?","body":"But as far as I can understand, you don’t want to have an <code>exit</code>  call in the signal handler at all, as the purpose of the <code>AtomicBoolean</code> is to let the main thread perform an action. So why do you care whether that exit call works? Shouldn’t you focus on the question whether the main thread perceives the change of the <code>AtomicBoolean</code>?"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687362638,"creation_date":1687362638,"question_id":76525090,"body_markdown":"I&#39;m trying to implement a way to perform a graceful shutdown of my Java application when it receives a SIGINT signal (e.g., when the user presses `CTRL+C`). I want to persist scheduled jobs to disk and perform other cleanup tasks before the application shuts down. I&#39;m using JNA to hook into the C library&#39;s `signal` function.\r\n\r\nHere&#39;s my code:\r\n\r\n```java\r\nimport com.sun.jna.*;\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\n\r\npublic class SignalHandlerExample {\r\n\r\n    public interface CLibrary extends Library {\r\n        CLibrary INSTANCE = (CLibrary) Native.load(&quot;c&quot;, CLibrary.class);\r\n        void signal(int signal, SignalHandler handler);\r\n    }\r\n\r\n    public interface SignalHandler extends com.sun.jna.Callback {\r\n        void handle(int signal);\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        AtomicBoolean shutdownRequested = new AtomicBoolean(false);\r\n\r\n        CLibrary.INSTANCE.signal(2, signal -&gt; {\r\n            // Handle SIGINT here\r\n            System.out.println(&quot;SIGINT received&quot;);\r\n            shutdownRequested.set(true);\r\n            System.exit(130); // When AtomicBoolean is removed, System.exit proceeds\r\n        });\r\n\r\n        // Main loop\r\n        while (true) {\r\n            if (shutdownRequested.get()) {\r\n                System.out.println(&quot;Shutdown requested&quot;);\r\n                // ... Try to persist jobs to disk ...\r\n                System.exit(130);\r\n            }\r\n            Thread.sleep(1000);  // Sleep for 1 second.\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that the program doesn&#39;t exit when I call `System.exit(130)` inside the signal handler if I access an object from outside the lambda (in this case, an `AtomicBoolean`). Instead, I see this message in my IDE console: `Disconnected from the target VM, address: &#39;127.0.0.1:51306&#39;, transport: &#39;socket&#39;`, but the process continues running and the scheduled jobs are still executing.\r\n\r\nHowever, if I remove the access to the `AtomicBoolean` and simplify the signal handler like this:\r\n\r\n```java\r\nCLibrary.INSTANCE.signal(2, signal -&gt; {\r\n    // Handle SIGINT here\r\n    System.out.println(&quot;SIGINT received&quot;);\r\n    System.exit(130); // Works when no outside object is accessed.\r\n});\r\n```\r\n\r\nThe program shuts down as expected when `System.exit(130)` is called.\r\n\r\nI am puzzled by this behavior. Why does accessing an object outside of the lambda cause `System.exit` to not work as expected? Are there limitations or specific behaviors of JNA and signal handling that I should be aware of?\r\n\r\nAny insights or suggestions would be greatly appreciated. ","title":"NA Signal Handling in Java: System.exit not working when accessing external objects inside lambda","body":"<p>I'm trying to implement a way to perform a graceful shutdown of my Java application when it receives a SIGINT signal (e.g., when the user presses <code>CTRL+C</code>). I want to persist scheduled jobs to disk and perform other cleanup tasks before the application shuts down. I'm using JNA to hook into the C library's <code>signal</code> function.</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.jna.*;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic class SignalHandlerExample {\n\n    public interface CLibrary extends Library {\n        CLibrary INSTANCE = (CLibrary) Native.load(&quot;c&quot;, CLibrary.class);\n        void signal(int signal, SignalHandler handler);\n    }\n\n    public interface SignalHandler extends com.sun.jna.Callback {\n        void handle(int signal);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        AtomicBoolean shutdownRequested = new AtomicBoolean(false);\n\n        CLibrary.INSTANCE.signal(2, signal -&gt; {\n            // Handle SIGINT here\n            System.out.println(&quot;SIGINT received&quot;);\n            shutdownRequested.set(true);\n            System.exit(130); // When AtomicBoolean is removed, System.exit proceeds\n        });\n\n        // Main loop\n        while (true) {\n            if (shutdownRequested.get()) {\n                System.out.println(&quot;Shutdown requested&quot;);\n                // ... Try to persist jobs to disk ...\n                System.exit(130);\n            }\n            Thread.sleep(1000);  // Sleep for 1 second.\n        }\n    }\n}\n</code></pre>\n<p>The problem is that the program doesn't exit when I call <code>System.exit(130)</code> inside the signal handler if I access an object from outside the lambda (in this case, an <code>AtomicBoolean</code>). Instead, I see this message in my IDE console: <code>Disconnected from the target VM, address: '127.0.0.1:51306', transport: 'socket'</code>, but the process continues running and the scheduled jobs are still executing.</p>\n<p>However, if I remove the access to the <code>AtomicBoolean</code> and simplify the signal handler like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CLibrary.INSTANCE.signal(2, signal -&gt; {\n    // Handle SIGINT here\n    System.out.println(&quot;SIGINT received&quot;);\n    System.exit(130); // Works when no outside object is accessed.\n});\n</code></pre>\n<p>The program shuts down as expected when <code>System.exit(130)</code> is called.</p>\n<p>I am puzzled by this behavior. Why does accessing an object outside of the lambda cause <code>System.exit</code> to not work as expected? Are there limitations or specific behaviors of JNA and signal handling that I should be aware of?</p>\n<p>Any insights or suggestions would be greatly appreciated.</p>\n"},{"tags":["java","rest","jvm","quarkus"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1687359581,"post_id":76524529,"comment_id":134926483,"body_markdown":"Are you sure this all comes from same loop? I&#39;d expect the pool threads to be called `pool-XXX-thread-YYY` where YYY varies, same XXX if they are all from same thread pool.","body":"Are you sure this all comes from same loop? I&#39;d expect the pool threads to be called <code>pool-XXX-thread-YYY</code> where YYY varies, same XXX if they are all from same thread pool."},{"owner":{"account_id":2768297,"reputation":21,"user_id":2383462,"display_name":"Julian"},"score":0,"creation_date":1687361715,"post_id":76524529,"comment_id":134927022,"body_markdown":"Yes, It is the same loop","body":"Yes, It is the same loop"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1687361978,"post_id":76524529,"comment_id":134927064,"body_markdown":"You&#39;re showing output from different thread pools - the  thread names should not all end &quot;-1&quot;","body":"You&#39;re showing output from different thread pools - the  thread names should not all end &quot;-1&quot;"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1687362577,"post_id":76524529,"comment_id":134927212,"body_markdown":"Could it be that you are calling `setProfileData` several times in a loop? That would explain the pool numbers, as well as the different outputs.","body":"Could it be that you are calling <code>setProfileData</code> several times in a loop? That would explain the pool numbers, as well as the different outputs."},{"owner":{"account_id":2768297,"reputation":21,"user_id":2383462,"display_name":"Julian"},"score":0,"creation_date":1687414657,"post_id":76524529,"comment_id":134933930,"body_markdown":"It seems that you both are correct. There is an external for loop, which is looping the function. About the real problem - that at [3] there is a serial execution - it was that I was giving only 500 items in the profileDataList. Thank you for your answers. That really helped me.","body":"It seems that you both are correct. There is an external for loop, which is looping the function. About the real problem - that at [3] there is a serial execution - it was that I was giving only 500 items in the profileDataList. Thank you for your answers. That really helped me."}],"owner":{"account_id":2768297,"reputation":21,"user_id":2383462,"display_name":"Julian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687362481,"creation_date":1687358483,"question_id":76524529,"body_markdown":"In short, when running code [1], I get the output [2]. When I uncomment the `latch.await();` at the last line, I get the output [3].\r\nIt seems that `ExecutorService` does not run the tasks in parallel when I am blocking the main thread. When I am not waiting in the main thread, parallel execution is as expected.\r\nAnyone know how to avoid this? \r\n\r\nPS: This is running in Quarkus framework, on a `@RequestScoped `context resource.\r\n\r\n[1]\r\n```\r\n    private void setProfileData(String clientId, List&lt;ProfileData&gt; profileDataList)\r\n      throws InterruptedException {\r\n    final int chunkSize = 500;\r\n    var chunks = IntStream.range(0, (profileDataList.size() + chunkSize - 1) / chunkSize)\r\n        .mapToObj(i -&gt; profileDataList.subList(i * chunkSize,\r\n            Math.min(chunkSize * (i + 1), profileDataList.size()))).collect(Collectors.toList());\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(8);\r\n    CountDownLatch latch = new CountDownLatch(chunks.size());\r\n\r\n    for (var c : chunks) {\r\n      executor.submit(() -&gt; {\r\n        try {\r\n          log.error(&quot;Start write&quot;);\r\n          //simulate work on the chunk\r\n          Thread.sleep(5000);\r\n          log.error(&quot;End write&quot;);\r\n        } catch (InterruptedException e) {\r\n          e.printStackTrace();\r\n        } finally {\r\n          latch.countDown();\r\n        }\r\n      });\r\n    }\r\n\r\n    executor.shutdown();\r\n    //latch.await();  // wait for all tasks to complete\r\n  }\r\n```\r\n\r\n[2]\r\n```\r\n2023-06-21 17:30:25,838 ERROR [com.fan.fun.ser.MigrationService] (pool-147-thread-1) Start write\r\n2023-06-21 17:30:25,845 ERROR [com.fan.fun.ser.MigrationService] (pool-148-thread-1) Start write\r\n2023-06-21 17:30:25,851 ERROR [com.fan.fun.ser.MigrationService] (pool-149-thread-1) Start write\r\n...\r\n2023-06-21 17:30:30,843 ERROR [com.fan.fun.ser.MigrationService] (pool-147-thread-1) End write\r\n2023-06-21 17:30:30,849 ERROR [com.fan.fun.ser.MigrationService] (pool-148-thread-1) End write\r\n2023-06-21 17:30:30,856 ERROR [com.fan.fun.ser.MigrationService] (pool-149-thread-1) End write\r\n```\r\n\r\n[3]\r\n```\r\n2023-06-21 17:32:22,571 ERROR [com.fan.fun.ser.MigrationService] (pool-177-thread-1) Start write\r\n2023-06-21 17:32:27,576 ERROR [com.fan.fun.ser.MigrationService] (pool-177-thread-1) End write\r\n2023-06-21 17:32:27,592 ERROR [com.fan.fun.ser.MigrationService] (pool-178-thread-1) Start write\r\n2023-06-21 17:32:32,598 ERROR [com.fan.fun.ser.MigrationService] (pool-178-thread-1) End write\r\n2023-06-21 17:32:32,615 ERROR [com.fan.fun.ser.MigrationService] (pool-179-thread-1) Start write\r\n2023-06-21 17:32:37,620 ERROR [com.fan.fun.ser.MigrationService] (pool-179-thread-1) End write\r\n```","title":"ExecutorService not running tasks in parallel","body":"<p>In short, when running code [1], I get the output [2]. When I uncomment the <code>latch.await();</code> at the last line, I get the output [3].\nIt seems that <code>ExecutorService</code> does not run the tasks in parallel when I am blocking the main thread. When I am not waiting in the main thread, parallel execution is as expected.\nAnyone know how to avoid this?</p>\n<p>PS: This is running in Quarkus framework, on a <code>@RequestScoped </code>context resource.</p>\n<p>[1]</p>\n<pre><code>    private void setProfileData(String clientId, List&lt;ProfileData&gt; profileDataList)\n      throws InterruptedException {\n    final int chunkSize = 500;\n    var chunks = IntStream.range(0, (profileDataList.size() + chunkSize - 1) / chunkSize)\n        .mapToObj(i -&gt; profileDataList.subList(i * chunkSize,\n            Math.min(chunkSize * (i + 1), profileDataList.size()))).collect(Collectors.toList());\n\n    ExecutorService executor = Executors.newFixedThreadPool(8);\n    CountDownLatch latch = new CountDownLatch(chunks.size());\n\n    for (var c : chunks) {\n      executor.submit(() -&gt; {\n        try {\n          log.error(&quot;Start write&quot;);\n          //simulate work on the chunk\n          Thread.sleep(5000);\n          log.error(&quot;End write&quot;);\n        } catch (InterruptedException e) {\n          e.printStackTrace();\n        } finally {\n          latch.countDown();\n        }\n      });\n    }\n\n    executor.shutdown();\n    //latch.await();  // wait for all tasks to complete\n  }\n</code></pre>\n<p>[2]</p>\n<pre><code>2023-06-21 17:30:25,838 ERROR [com.fan.fun.ser.MigrationService] (pool-147-thread-1) Start write\n2023-06-21 17:30:25,845 ERROR [com.fan.fun.ser.MigrationService] (pool-148-thread-1) Start write\n2023-06-21 17:30:25,851 ERROR [com.fan.fun.ser.MigrationService] (pool-149-thread-1) Start write\n...\n2023-06-21 17:30:30,843 ERROR [com.fan.fun.ser.MigrationService] (pool-147-thread-1) End write\n2023-06-21 17:30:30,849 ERROR [com.fan.fun.ser.MigrationService] (pool-148-thread-1) End write\n2023-06-21 17:30:30,856 ERROR [com.fan.fun.ser.MigrationService] (pool-149-thread-1) End write\n</code></pre>\n<p>[3]</p>\n<pre><code>2023-06-21 17:32:22,571 ERROR [com.fan.fun.ser.MigrationService] (pool-177-thread-1) Start write\n2023-06-21 17:32:27,576 ERROR [com.fan.fun.ser.MigrationService] (pool-177-thread-1) End write\n2023-06-21 17:32:27,592 ERROR [com.fan.fun.ser.MigrationService] (pool-178-thread-1) Start write\n2023-06-21 17:32:32,598 ERROR [com.fan.fun.ser.MigrationService] (pool-178-thread-1) End write\n2023-06-21 17:32:32,615 ERROR [com.fan.fun.ser.MigrationService] (pool-179-thread-1) Start write\n2023-06-21 17:32:37,620 ERROR [com.fan.fun.ser.MigrationService] (pool-179-thread-1) End write\n</code></pre>\n"},{"tags":["java","macos","java-8","java-17"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687249613,"post_id":76512739,"comment_id":134906306,"body_markdown":"I&#39;m not too familiar with macs, but didn&#39;t they have a tool named `sdkman` that solves this problem?","body":"I&#39;m not too familiar with macs, but didn&#39;t they have a tool named <code>sdkman</code> that solves this problem?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1687249880,"post_id":76512739,"comment_id":134906360,"body_markdown":"What does your PATH look like. If you have JAVA_HOME pointing at a correct JDK it should work, but if you have added something to your path then it might find a different version of java first. What is the output of `which java`","body":"What does your PATH look like. If you have JAVA_HOME pointing at a correct JDK it should work, but if you have added something to your path then it might find a different version of java first. What is the output of <code>which java</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1687249960,"post_id":76512739,"comment_id":134906383,"body_markdown":"Does this answer your question? [How to set JAVA\\_HOME environment variable on macOS?](https://stackoverflow.com/questions/32517507/how-to-set-java-home-environment-variable-on-macos)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32517507/how-to-set-java-home-environment-variable-on-macos\">How to set JAVA_HOME environment variable on macOS?</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1687250062,"post_id":76512739,"comment_id":134906411,"body_markdown":"The `JAVA_HOME` is something used by tools using Java to locate the JDK; it is not something that is actually used by Java itself, nor by your OS (unless you yourself added `$JAVAHOME$/bin` to the `PATH`).","body":"The <code>JAVA_HOME</code> is something used by tools using Java to locate the JDK; it is not something that is actually used by Java itself, nor by your OS (unless you yourself added <code>$JAVAHOME$&#47;bin</code> to the <code>PATH</code>)."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1687250123,"post_id":76512739,"comment_id":134906429,"body_markdown":"@MarkRotteveel OSX will let you select java&#39;s using java home. It will always refer to a /system/path/java but different java&#39;s will run.","body":"@MarkRotteveel OSX will let you select java&#39;s using java home. It will always refer to a /system/path/java but different java&#39;s will run."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687250361,"post_id":76512739,"comment_id":134906477,"body_markdown":"@matt As far as I&#39;m aware, that doesn&#39;t use `JAVA_HOME`, but some configuration tool (which IIRC changes a symlink), but I have been using sdkman on my work Mac for so long, I can&#39;t remember to alternative any more, and I&#39;m using Windows at home.","body":"@matt As far as I&#39;m aware, that doesn&#39;t use <code>JAVA_HOME</code>, but some configuration tool (which IIRC changes a symlink), but I have been using sdkman on my work Mac for so long, I can&#39;t remember to alternative any more, and I&#39;m using Windows at home."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1687250594,"post_id":76512739,"comment_id":134906512,"body_markdown":"Maybe this is a better answer, it will tell you what JDK&#39;s you have available ie correctly installed. https://stackoverflow.com/a/24657630/2067492","body":"Maybe this is a better answer, it will tell you what JDK&#39;s you have available ie correctly installed. <a href=\"https://stackoverflow.com/a/24657630/2067492\">stackoverflow.com/a/24657630/2067492</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1687250981,"post_id":76512739,"comment_id":134906602,"body_markdown":"@MarkRotteveel When I had a mac, I didn&#39;t use JAVA_HOME for things beyond maven. Then I followed a question on here, and learned that JAVA_HOME can change the default jdk.","body":"@MarkRotteveel When I had a mac, I didn&#39;t use JAVA_HOME for things beyond maven. Then I followed a question on here, and learned that JAVA_HOME can change the default jdk."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687250000,"creation_date":1687250000,"answer_id":76512799,"question_id":76512739,"body_markdown":"My workaround is settting up my environment by editing `.bash_profile` file:\r\n\r\n```shell\r\nexport JAVA_HOME=`/usr/libexec/java_home -v 17`\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\n```\r\n\r\nIt is better to automate using an alias or an executable which comes handy for example when you have to set-up a different Maven version also for the particular Java:\r\n```shell\r\ncp ~/.bash-profile-java-11 ~/.bash-profile\r\n```\r\n\r\n  [1]: https://ohmyz.sh/","title":"How to set java --version corresponding to JAVA_HOME on Mac OS 12.6","body":"<p>My workaround is settting up my environment by editing <code>.bash_profile</code> file:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export JAVA_HOME=`/usr/libexec/java_home -v 17`\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<p>It is better to automate using an alias or an executable which comes handy for example when you have to set-up a different Maven version also for the particular Java:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>cp ~/.bash-profile-java-11 ~/.bash-profile\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687250229,"post_id":76512803,"comment_id":134906450,"body_markdown":"Hehe I have exactly the same - but on Linux","body":"Hehe I have exactly the same - but on Linux"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1687250235,"post_id":76512803,"comment_id":134906452,"body_markdown":"OP already has set JAVA_HOME, but it isn&#39;t using the correct jdk. So this answer doesn&#39;t address the issue.","body":"OP already has set JAVA_HOME, but it isn&#39;t using the correct jdk. So this answer doesn&#39;t address the issue."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687250396,"post_id":76512803,"comment_id":134906483,"body_markdown":"Yes I was about to say that the alias *must* finish with `export PATH=$JAVA_HOME/bin:$PATH`","body":"Yes I was about to say that the alias <i>must</i> finish with <code>export PATH=$JAVA_HOME&#47;bin:$PATH</code>"}],"tags":[],"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687250024,"creation_date":1687250024,"answer_id":76512803,"question_id":76512739,"body_markdown":"I had the same usecase where I have to switch to different java version for different projects\r\n\r\nThis is what I use to switch between different java versions\r\n\r\n    alias j8=&#39;export JAVA_HOME=$JAVA_8_HOME&#39;\r\n    alias j19=&#39;export JAVA_HOME=$JAVA_19_HOME&#39;\r\n    alias j11=&#39;export JAVA_HOME=$JAVA_11_HOME&#39;\r\n\r\nyou can define JAVA_x_HOME with specific path\r\n\r\ne.g. JAVA_8_HOME --&gt; ```/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home```","title":"How to set java --version corresponding to JAVA_HOME on Mac OS 12.6","body":"<p>I had the same usecase where I have to switch to different java version for different projects</p>\n<p>This is what I use to switch between different java versions</p>\n<pre><code>alias j8='export JAVA_HOME=$JAVA_8_HOME'\nalias j19='export JAVA_HOME=$JAVA_19_HOME'\nalias j11='export JAVA_HOME=$JAVA_11_HOME'\n</code></pre>\n<p>you can define JAVA_x_HOME with specific path</p>\n<p>e.g. JAVA_8_HOME --&gt; <code>/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home</code></p>\n"},{"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1687252623,"post_id":76513126,"comment_id":134907038,"body_markdown":"OSX uses (or at least used to) JAVA_HOME to delegate which java gets run. It has a stub in /usr/bin/java (or something similar) which you update JAVA_HOME correctly that stub will start the correct java. You don&#39;t need to change the PATH at all. Although if you have already changed the path, then JAVA_HOME won&#39;t change the version of java being run.","body":"OSX uses (or at least used to) JAVA_HOME to delegate which java gets run. It has a stub in /usr/bin/java (or something similar) which you update JAVA_HOME correctly that stub will start the correct java. You don&#39;t need to change the PATH at all. Although if you have already changed the path, then JAVA_HOME won&#39;t change the version of java being run."}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687252162,"creation_date":1687252162,"answer_id":76513126,"question_id":76512739,"body_markdown":"Just to get rid of some of the confusion about aliases and to show how `JAVA_HOME` and `PATH` interconnect, the following alias approach is what I use. This should be defined where it will be sourced automatically, which for me is ~/.bash_aliases, but might be something different for MacOS\r\n\r\n    alias j8=&#39;export JAVA_HOME=/usr/lib/jvm/bellsoft-java8-full-amd64;export PATH=$JAVA_HOME/bin:$PATH&#39;\r\n\r\n","title":"How to set java --version corresponding to JAVA_HOME on Mac OS 12.6","body":"<p>Just to get rid of some of the confusion about aliases and to show how <code>JAVA_HOME</code> and <code>PATH</code> interconnect, the following alias approach is what I use. This should be defined where it will be sourced automatically, which for me is ~/.bash_aliases, but might be something different for MacOS</p>\n<pre><code>alias j8='export JAVA_HOME=/usr/lib/jvm/bellsoft-java8-full-amd64;export PATH=$JAVA_HOME/bin:$PATH'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":1,"creation_date":1687362640,"post_id":76525005,"comment_id":134927228,"body_markdown":"This is the correct answer. Add `export JAVA_HOME=$(/usr/libexec/java_home -v 17)` to your `~/.bash_profile`.","body":"This is the correct answer. Add <code>export JAVA_HOME=$(&#47;usr&#47;libexec&#47;java_home -v 17)</code> to your <code>~&#47;.bash_profile</code>."}],"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687362231,"creation_date":1687361894,"answer_id":76525005,"question_id":76512739,"body_markdown":"Don&#39;t play with `PATH` in this case, only with `JAVA_HOME`.\r\nThe commands relative to java in `/usr/bin/` are front-ends which use the `JAVA_HOME` variable to locate the correct binaries.\r\n\r\nBut if you mix `JAVA_HOME=&lt;java17&gt;` with a `PATH=&lt;java8&gt;:...` then obviously `java` command from java8 will be executed.\r\n\r\nAt least, put `/usr/bin` in front of `&lt;java8&gt;` in your `PATH`. Best is to never have a reference to a java installation in `PATH`.\r\n\r\nAs a macOS user, I **never** play with `PATH` when I use java, only `JAVA_HOME`.","title":"How to set java --version corresponding to JAVA_HOME on Mac OS 12.6","body":"<p>Don't play with <code>PATH</code> in this case, only with <code>JAVA_HOME</code>.\nThe commands relative to java in <code>/usr/bin/</code> are front-ends which use the <code>JAVA_HOME</code> variable to locate the correct binaries.</p>\n<p>But if you mix <code>JAVA_HOME=&lt;java17&gt;</code> with a <code>PATH=&lt;java8&gt;:...</code> then obviously <code>java</code> command from java8 will be executed.</p>\n<p>At least, put <code>/usr/bin</code> in front of <code>&lt;java8&gt;</code> in your <code>PATH</code>. Best is to never have a reference to a java installation in <code>PATH</code>.</p>\n<p>As a macOS user, I <strong>never</strong> play with <code>PATH</code> when I use java, only <code>JAVA_HOME</code>.</p>\n"}],"owner":{"account_id":13682516,"reputation":473,"user_id":9872503,"display_name":"Singam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":765,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1687362231,"creation_date":1687249536,"question_id":76512739,"body_markdown":"I run Java on MacOS Monterey(12.6) and have two versions of JDKs installed:\r\n```\r\nuser@Users-iMac ~ % ls /Library/Java/JavaVirtualMachines/\r\njdk-17.0.2.jdk\topenjdk-8.jdk\r\n```\r\nI want to work with Java 17. My concern is that the command `java -version` generates the info that I do NOT want:\r\n```\r\nuser@Users-iMac ~ % java -version\r\nopenjdk version &quot;1.8.0_362&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_362-bre_2023_01_22_03_30-b00)\r\n\r\n```\r\nwhereas the command `echo $JAVA_HOME` displays the correct version that I DO want\r\n```\r\nuser@Users-iMac ~ % echo $JAVA_HOME\r\n/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home\r\n\r\n```\r\nHow can I make `java -version make point to Java 17 instead of Java 8?\r\n\r\nThanks\r\n\r\nSingham","title":"How to set java --version corresponding to JAVA_HOME on Mac OS 12.6","body":"<p>I run Java on MacOS Monterey(12.6) and have two versions of JDKs installed:</p>\n<pre><code>user@Users-iMac ~ % ls /Library/Java/JavaVirtualMachines/\njdk-17.0.2.jdk  openjdk-8.jdk\n</code></pre>\n<p>I want to work with Java 17. My concern is that the command <code>java -version</code> generates the info that I do NOT want:</p>\n<pre><code>user@Users-iMac ~ % java -version\nopenjdk version &quot;1.8.0_362&quot;\nOpenJDK Runtime Environment (build 1.8.0_362-bre_2023_01_22_03_30-b00)\n\n</code></pre>\n<p>whereas the command <code>echo $JAVA_HOME</code> displays the correct version that I DO want</p>\n<pre><code>user@Users-iMac ~ % echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home\n\n</code></pre>\n<p>How can I make `java -version make point to Java 17 instead of Java 8?</p>\n<p>Thanks</p>\n<p>Singham</p>\n"},{"tags":["java","android","wear-os","samsung-mobile","samsung-galaxy-watch"],"owner":{"account_id":6734976,"reputation":10698,"user_id":5593959,"accept_rate":84,"display_name":"Dmytro Rostopira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687361892,"creation_date":1686571257,"question_id":76456456,"body_markdown":"I&#39;ve created simple complication which shows air pressure in hhmg units (because default one uses hPa units).\r\n\r\nIt works perfectly on Pixel Watch.\r\n\r\nBut when I&#39;ve installed it on Galaxy Watch 4 it doesn&#39;t appear in the list of complications.\r\n\r\nThe only thing I&#39;ve noticed, this log message:\r\n```\r\nWCS com.google.android.wearable.app W  [PackageChecker]Unexpected complication data type RANGED_TEXT\r\n```\r\nThis is my manifest entry:\r\n```xml\r\n&lt;service\r\n    android:name=&quot;.C&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:icon=&quot;@drawable/ic_sun_not&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:permission=&quot;com.google.android.wearable.permission.BIND_COMPLICATION_PROVIDER&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.support.wearable.complications.ACTION_COMPLICATION_UPDATE_REQUEST&quot;/&gt;\r\n    &lt;/intent-filter&gt;\r\n    &lt;meta-data\r\n        android:name=&quot;android.support.wearable.complications.SUPPORTED_TYPES&quot;\r\n        android:value=&quot;RANGED_TEXT&quot; /&gt;\r\n    &lt;meta-data\r\n        android:name=&quot;android.support.wearable.complications.UPDATE_PERIOD_SECONDS&quot;\r\n        android:value=&quot;3600&quot; /&gt;\r\n&lt;/service&gt;\r\n```\r\nAnd there is the code:\r\n```java\r\npublic class C extends ComplicationDataSourceService {\r\n\r\n    @Nullable\r\n    @Override\r\n    public ComplicationData getPreviewData(@NonNull ComplicationType complicationType) {\r\n        return data(750);\r\n    }\r\n\r\n    private RangedValueComplicationData data(float value) {\r\n        final PlainComplicationText d = new PlainComplicationText.Builder(&quot;ммрс&quot;).build();\r\n        final Icon icon = Icon.createWithResource(this, R.drawable.ic_sun_not);\r\n        final String str = String.valueOf(Math.round(value));\r\n        final PlainComplicationText text = new PlainComplicationText.Builder(str).build();\r\n        return new RangedValueComplicationData\r\n            .Builder(value, 720, 780, d)\r\n            .setMonochromaticImage(new MonochromaticImage.Builder(icon).build())\r\n            .setTitle(text)\r\n            .build();\r\n    }\r\n\r\n    @Override\r\n    public void onComplicationRequest(\r\n            @NonNull ComplicationRequest complicationRequest,\r\n            @NonNull ComplicationRequestListener complicationRequestListener\r\n    ) {\r\n        final L l = new L();\r\n        final SensorManager sensMan = getSystemService(SensorManager.class);\r\n        final Sensor sensor = sensMan.getDefaultSensor(Sensor.TYPE_PRESSURE);\r\n        sensMan.registerListener(l, sensor, SensorManager.SENSOR_DELAY_UI);\r\n        new Timer().schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                final float hhmg = l.lastValue * HPA_TO_MMHG;\r\n                try {\r\n                    complicationRequestListener.onComplicationData(data(hhmg));\r\n                } catch (RemoteException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                sensMan.unregisterListener(l);\r\n            }\r\n        }, 300);\r\n    }\r\n}\r\n```\r\nAnd (just in case it&#39;s relevant) dependency in build.gradle:\r\n```\r\nimplementation(&quot;androidx.wear.watchface:watchface-complications-data-source:1.1.1&quot;)\r\n```","title":"Unexpected complication data (Galaxy Watch 4)","body":"<p>I've created simple complication which shows air pressure in hhmg units (because default one uses hPa units).</p>\n<p>It works perfectly on Pixel Watch.</p>\n<p>But when I've installed it on Galaxy Watch 4 it doesn't appear in the list of complications.</p>\n<p>The only thing I've noticed, this log message:</p>\n<pre><code>WCS com.google.android.wearable.app W  [PackageChecker]Unexpected complication data type RANGED_TEXT\n</code></pre>\n<p>This is my manifest entry:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;service\n    android:name=&quot;.C&quot;\n    android:exported=&quot;true&quot;\n    android:icon=&quot;@drawable/ic_sun_not&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:permission=&quot;com.google.android.wearable.permission.BIND_COMPLICATION_PROVIDER&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.support.wearable.complications.ACTION_COMPLICATION_UPDATE_REQUEST&quot;/&gt;\n    &lt;/intent-filter&gt;\n    &lt;meta-data\n        android:name=&quot;android.support.wearable.complications.SUPPORTED_TYPES&quot;\n        android:value=&quot;RANGED_TEXT&quot; /&gt;\n    &lt;meta-data\n        android:name=&quot;android.support.wearable.complications.UPDATE_PERIOD_SECONDS&quot;\n        android:value=&quot;3600&quot; /&gt;\n&lt;/service&gt;\n</code></pre>\n<p>And there is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class C extends ComplicationDataSourceService {\n\n    @Nullable\n    @Override\n    public ComplicationData getPreviewData(@NonNull ComplicationType complicationType) {\n        return data(750);\n    }\n\n    private RangedValueComplicationData data(float value) {\n        final PlainComplicationText d = new PlainComplicationText.Builder(&quot;ммрс&quot;).build();\n        final Icon icon = Icon.createWithResource(this, R.drawable.ic_sun_not);\n        final String str = String.valueOf(Math.round(value));\n        final PlainComplicationText text = new PlainComplicationText.Builder(str).build();\n        return new RangedValueComplicationData\n            .Builder(value, 720, 780, d)\n            .setMonochromaticImage(new MonochromaticImage.Builder(icon).build())\n            .setTitle(text)\n            .build();\n    }\n\n    @Override\n    public void onComplicationRequest(\n            @NonNull ComplicationRequest complicationRequest,\n            @NonNull ComplicationRequestListener complicationRequestListener\n    ) {\n        final L l = new L();\n        final SensorManager sensMan = getSystemService(SensorManager.class);\n        final Sensor sensor = sensMan.getDefaultSensor(Sensor.TYPE_PRESSURE);\n        sensMan.registerListener(l, sensor, SensorManager.SENSOR_DELAY_UI);\n        new Timer().schedule(new TimerTask() {\n            @Override\n            public void run() {\n                final float hhmg = l.lastValue * HPA_TO_MMHG;\n                try {\n                    complicationRequestListener.onComplicationData(data(hhmg));\n                } catch (RemoteException e) {\n                    throw new RuntimeException(e);\n                }\n                sensMan.unregisterListener(l);\n            }\n        }, 300);\n    }\n}\n</code></pre>\n<p>And (just in case it's relevant) dependency in build.gradle:</p>\n<pre><code>implementation(&quot;androidx.wear.watchface:watchface-complications-data-source:1.1.1&quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":306679,"reputation":2005,"user_id":617556,"accept_rate":64,"display_name":"Paperback Writer"},"score":1,"creation_date":1403074456,"post_id":24278772,"comment_id":37512393,"body_markdown":"It seems that I missed this part in guide. I am not sure why ddl-auto is changed by `spring.jpa.hibernate.ddl-auto` but schema is changed by  &#39;spring.jpa.properties.hibernate.default_schema&#39;. Still it works as described in guide, so thank!","body":"It seems that I missed this part in guide. I am not sure why ddl-auto is changed by <code>spring.jpa.hibernate.ddl-auto</code> but schema is changed by  &#39;spring.jpa.properties.hibernate.default_schema&#39;. Still it works as described in guide, so thank!"},{"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"score":0,"creation_date":1510418825,"post_id":24278772,"comment_id":81430971,"body_markdown":"The *spring.jpa.hibernate.x* vs *spring.jpa.properties.hibernate.x* is really confusing. The *spring.jpa.properties.hibernate.* worked for me.","body":"The <i>spring.jpa.hibernate.x</i> vs <i>spring.jpa.properties.hibernate.x</i> is really confusing. The <i>spring.jpa.properties.hibernate.</i> worked for me."},{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":5,"creation_date":1513637823,"post_id":24278772,"comment_id":82721159,"body_markdown":"pay attention that the schema name must be in lowercase","body":"pay attention that the schema name must be in lowercase"},{"owner":{"account_id":124685,"reputation":371,"user_id":319936,"display_name":"Zhichang Yu"},"score":0,"creation_date":1551710565,"post_id":24278772,"comment_id":96728819,"body_markdown":"The full list of available properties is [here](http://docs.jboss.org/hibernate/core/4.3/devguide/en-US/html_single/#d5e4971).","body":"The full list of available properties is <a href=\"http://docs.jboss.org/hibernate/core/4.3/devguide/en-US/html_single/#d5e4971\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":4,"down_vote_count":0,"up_vote_count":146,"is_accepted":true,"score":146,"last_activity_date":1629968080,"creation_date":1403074099,"answer_id":24278772,"question_id":24278659,"body_markdown":"Use for `application.properties`:\r\n\r\n```\r\nspring.jpa.properties.hibernate.default_schema=your_scheme \r\n```\r\n\r\nOR for `application.yaml`:\r\n\r\n```\r\nspring:\r\n  jpa:\r\n    properties:\r\n      hibernate.default_schema: your_scheme\r\n```\r\n\r\nFrom the Spring Boot reference guide:\r\n\r\n&gt; all properties in `spring.jpa.properties.*` are passed through as normal JPA properties (with the prefix stripped) when the local `EntityManagerFactory` is created\r\n\r\nSee http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-jpa-properties\r\n\r\nFor a full list of available properties see http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-jpa-properties","title":"Change database schema used by Spring Boot","body":"<p>Use for <code>application.properties</code>:</p>\n<pre><code>spring.jpa.properties.hibernate.default_schema=your_scheme \n</code></pre>\n<p>OR for <code>application.yaml</code>:</p>\n<pre><code>spring:\n  jpa:\n    properties:\n      hibernate.default_schema: your_scheme\n</code></pre>\n<p>From the Spring Boot reference guide:</p>\n<blockquote>\n<p>all properties in <code>spring.jpa.properties.*</code> are passed through as normal JPA properties (with the prefix stripped) when the local <code>EntityManagerFactory</code> is created</p>\n</blockquote>\n<p>See <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-jpa-properties\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-jpa-properties</a></p>\n<p>For a full list of available properties see <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-jpa-properties\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-jpa-properties</a></p>\n"},{"comments":[{"owner":{"account_id":6826727,"reputation":963,"user_id":5252244,"accept_rate":50,"display_name":"Jib&#39;z"},"score":0,"creation_date":1588077651,"post_id":60639204,"comment_id":108755988,"body_markdown":"Indeed i had the ikari datasource set up and it would not get the schema through `spring.jpa.properties.hibernate.default_schema` but it worked fine with the ikari way.","body":"Indeed i had the ikari datasource set up and it would not get the schema through <code>spring.jpa.properties.hibernate.default_schema</code> but it worked fine with the ikari way."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":1,"creation_date":1658907275,"post_id":60639204,"comment_id":129165409,"body_markdown":"I cannot see why said JPA option would be &#39;ignored&#39; if using Hikari as it works at the JDBC level and has no knowledge if JPA.\n\nSetting `spring.jpa.properties.hibernate.default_schema` means Hibernate will generate SQL with each object qualified by a schema name (unless already qualified explicitly). Therefore, it will be irrelevant to set a (default) schema name on the JDBC connection itself (i.e. via Hikari). You can say that the two are alternatives. Doing it via Hibernate is a lot better as not every database supports the notion of a default schema on a connection.","body":"I cannot see why said JPA option would be &#39;ignored&#39; if using Hikari as it works at the JDBC level and has no knowledge if JPA.  Setting <code>spring.jpa.properties.hibernate.default_schema</code> means Hibernate will generate SQL with each object qualified by a schema name (unless already qualified explicitly). Therefore, it will be irrelevant to set a (default) schema name on the JDBC connection itself (i.e. via Hikari). You can say that the two are alternatives. Doing it via Hibernate is a lot better as not every database supports the notion of a default schema on a connection."},{"owner":{"account_id":1124885,"reputation":787,"user_id":1112408,"display_name":"vboerchers"},"score":0,"creation_date":1662651423,"post_id":60639204,"comment_id":130060231,"body_markdown":"@peterh you&#39;re right, it&#39;s ugly to be forced to use connection pool specific properties, but as stated `spring.jpa.properties.hibernate.default_schema` did not work. I do not think that a proper solution for Hibernate would be to prefix each object with the schema name - considering native queries.","body":"@peterh you&#39;re right, it&#39;s ugly to be forced to use connection pool specific properties, but as stated <code>spring.jpa.properties.hibernate.default_schema</code> did not work. I do not think that a proper solution for Hibernate would be to prefix each object with the schema name - considering native queries."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1662724647,"post_id":60639204,"comment_id":130078023,"body_markdown":"@vboerchers. You got a point on native queries. The `hibernate.default_schema` only applies to SQL generated by Hibernate. After your comment I no longer know what is preferable. I guess it depends. :-)\nOn a plain vanilla Spring Boot application I still cannot replicate that use of Hikari would mean that `spring.jpa.properties.hibernate.default_schema`  is ignored.","body":"@vboerchers. You got a point on native queries. The <code>hibernate.default_schema</code> only applies to SQL generated by Hibernate. After your comment I no longer know what is preferable. I guess it depends. :-) On a plain vanilla Spring Boot application I still cannot replicate that use of Hikari would mean that <code>spring.jpa.properties.hibernate.default_schema</code>  is ignored."},{"owner":{"account_id":10516436,"reputation":653,"user_id":7752551,"display_name":"Adrien H"},"score":0,"creation_date":1687618661,"post_id":60639204,"comment_id":134963577,"body_markdown":"I swear that at some point, my application worked using hibernate.default_schema, and started ignoring this property when I migrate from SB 3.0.6 to SB 3.1.1.. Or was it when I introduced flyway to my project ? No idea, but that wasn&#39;t clear from the logs or documentation. Anyway, thanks for the information.","body":"I swear that at some point, my application worked using hibernate.default_schema, and started ignoring this property when I migrate from SB 3.0.6 to SB 3.1.1.. Or was it when I introduced flyway to my project ? No idea, but that wasn&#39;t clear from the logs or documentation. Anyway, thanks for the information."}],"tags":[],"owner":{"account_id":1124885,"reputation":787,"user_id":1112408,"display_name":"vboerchers"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1583939710,"creation_date":1583939710,"answer_id":60639204,"question_id":24278659,"body_markdown":"It depends on the DataSource implementation which property has to be used to set the default schema ([reference](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-configure-a-datasource)). With HikariDataSource for example `spring.jpa.properties.hibernate.default_schema` is ignored and you have to set\r\n\r\n    spring.datasource.hikari.schema=schema\r\n\r\nSee the complete list of HikariCP configuration parameters [here](https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby).","title":"Change database schema used by Spring Boot","body":"<p>It depends on the DataSource implementation which property has to be used to set the default schema (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-configure-a-datasource\" rel=\"noreferrer\">reference</a>). With HikariDataSource for example <code>spring.jpa.properties.hibernate.default_schema</code> is ignored and you have to set</p>\n\n<pre><code>spring.datasource.hikari.schema=schema\n</code></pre>\n\n<p>See the complete list of HikariCP configuration parameters <a href=\"https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606519780,"creation_date":1606519780,"answer_id":65044939,"question_id":24278659,"body_markdown":"    spring:\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            default_schema: your_schema_name","title":"Change database schema used by Spring Boot","body":"<pre><code>spring:\n  jpa:\n    properties:\n      hibernate:\n        default_schema: your_schema_name\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11134207,"reputation":1115,"user_id":8173247,"display_name":"Anup Singh"},"score":0,"creation_date":1642235884,"post_id":69049795,"comment_id":125021057,"body_markdown":"spring.datasource.hikari.schema=your_scheme, In my case this is also not working. I have added this in application.properties still hitting error.  PSQLException: ERROR: relation &quot;result_details&quot; does not exist\n  Position: 16\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440)","body":"spring.datasource.hikari.schema=your_scheme, In my case this is also not working. I have added this in application.properties still hitting error.  PSQLException: ERROR: relation &quot;result_details&quot; does not exist   Position: 16 \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorRespons&zwnj;&#8203;e(QueryExecutorImpl.&zwnj;&#8203;java:2440)"}],"tags":[],"owner":{"account_id":4953675,"reputation":71,"user_id":3986908,"display_name":"Bob"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630697421,"creation_date":1630697421,"answer_id":69049795,"question_id":24278659,"body_markdown":"spring.jpa.properties.hibernate.default_schema=your_scheme \r\n\r\nOR\r\n\r\nspring:\r\n  jpa:\r\n    properties:\r\n      hibernate.default_schema: your_scheme\r\n\r\n\r\nWith **HikariDataSource** for example spring.jpa.properties.hibernate.default_schema is ignored and you have to set too\r\n\r\nspring.datasource.hikari.schema=your_scheme","title":"Change database schema used by Spring Boot","body":"<p>spring.jpa.properties.hibernate.default_schema=your_scheme</p>\n<p>OR</p>\n<p>spring:\njpa:\nproperties:\nhibernate.default_schema: your_scheme</p>\n<p>With <strong>HikariDataSource</strong> for example spring.jpa.properties.hibernate.default_schema is ignored and you have to set too</p>\n<p>spring.datasource.hikari.schema=your_scheme</p>\n"},{"tags":[],"owner":{"account_id":11134207,"reputation":1115,"user_id":8173247,"display_name":"Anup Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642236115,"creation_date":1641876946,"answer_id":70661809,"question_id":24278659,"body_markdown":"I was hitting error:\r\nCannot acquire connection from data source\r\norg.postgresql.util.PSQLException: ERROR: unsupported startup parameter: search_path\r\n\r\nSolution:\r\napplication-xyz_dev.yml\r\n\r\nurl: jdbc:postgresql://localhost:8080/your_database?search_path=your_scheme&amp;stringtype=unspecified\r\n\r\nspring:\r\n  jpa:\r\n    properties:\r\n      hibernate.default_schema: your_scheme\r\n","title":"Change database schema used by Spring Boot","body":"<p>I was hitting error:\nCannot acquire connection from data source\norg.postgresql.util.PSQLException: ERROR: unsupported startup parameter: search_path</p>\n<p>Solution:\napplication-xyz_dev.yml</p>\n<p>url: jdbc:postgresql://localhost:8080/your_database?search_path=your_scheme&amp;stringtype=unspecified</p>\n<p>spring:\njpa:\nproperties:\nhibernate.default_schema: your_scheme</p>\n"}],"owner":{"account_id":306679,"reputation":2005,"user_id":617556,"accept_rate":64,"display_name":"Paperback Writer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161479,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":24278772,"answer_count":5,"score":85,"last_activity_date":1687361747,"creation_date":1403073681,"question_id":24278659,"body_markdown":"How do I specify database schema used by Spring Boot? I am using default hibernate (=default) and postgres (but i hoping for a generic solution). I know how to specify JDBC URL:\r\n\r\n    spring.datasource.url=jdbc:postgresql:db_name\r\n\r\nBut unfortunately postgresql does not allow to specify schema in JDBC URL. I know that there is hibernate property `hibernate.default_schema`, so I was hoping that one of the following properties will work:\r\n\r\n    hibernate.default_schema=schema\r\n    spring.hibernate.default_schema=schema\r\n    spring.jpa.hibernate.default_schema=raw_page\r\n\r\nBut unfortunately neither of them seems to have any result.  ","title":"Change database schema used by Spring Boot","body":"<p>How do I specify database schema used by Spring Boot? I am using default hibernate (=default) and postgres (but i hoping for a generic solution). I know how to specify JDBC URL:</p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql:db_name\n</code></pre>\n\n<p>But unfortunately postgresql does not allow to specify schema in JDBC URL. I know that there is hibernate property <code>hibernate.default_schema</code>, so I was hoping that one of the following properties will work:</p>\n\n<pre><code>hibernate.default_schema=schema\nspring.hibernate.default_schema=schema\nspring.jpa.hibernate.default_schema=raw_page\n</code></pre>\n\n<p>But unfortunately neither of them seems to have any result.  </p>\n"},{"tags":["java","jar","program-entry-point"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687361041,"post_id":76524717,"comment_id":134926854,"body_markdown":"Just specifying the `Main-Class` manifest attribute is not enough, You would also need to set the `Class-Path` entry appropriately. Whoever wrote this program, expects you to use the launcher scripts from the root (e.g. `mmax2.bat` for Windows, `mmax2.sh` for Linux), so why not just use it they way the authors intended it?","body":"Just specifying the <code>Main-Class</code> manifest attribute is not enough, You would also need to set the <code>Class-Path</code> entry appropriately. Whoever wrote this program, expects you to use the launcher scripts from the root (e.g. <code>mmax2.bat</code> for Windows, <code>mmax2.sh</code> for Linux), so why not just use it they way the authors intended it?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687426650,"post_id":76524717,"comment_id":134936395,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28866819,"reputation":3,"user_id":22109413,"display_name":"jak326i205"},"score":0,"creation_date":1687511727,"post_id":76524717,"comment_id":134950335,"body_markdown":"@Mark Rotteveel You&#39;re right and I feel extremely stupid. I had focused so much on that jar-file that I missed those other files in the repo. Anyways, you solved it. So thank you very much!!","body":"@Mark Rotteveel You&#39;re right and I feel extremely stupid. I had focused so much on that jar-file that I missed those other files in the repo. Anyways, you solved it. So thank you very much!!"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687363247,"post_id":76524888,"comment_id":134927366,"body_markdown":"Upvoted as correct, but that&#39;s not going to help ultimately as that jar is not &#39;fat&#39; so you will get missing dependencies. So, go fat or get the deps and set the classpath, within or without. As @Mark Rotteveel said above","body":"Upvoted as correct, but that&#39;s not going to help ultimately as that jar is not &#39;fat&#39; so you will get missing dependencies. So, go fat or get the deps and set the classpath, within or without. As @Mark Rotteveel said above"}],"tags":[],"owner":{"account_id":28865468,"reputation":26,"user_id":22108334,"display_name":"yukon12"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687360970,"creation_date":1687360970,"answer_id":76524888,"question_id":76524717,"body_markdown":"I think it should be `Main-Class: org.eml.MMAX2.core.MMAX2` instead.","title":"How do I specify the entry point location in a Manifest-file to run a jar-file?","body":"<p>I think it should be <code>Main-Class: org.eml.MMAX2.core.MMAX2</code> instead.</p>\n"}],"owner":{"account_id":28866819,"reputation":3,"user_id":22109413,"display_name":"jak326i205"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76524888,"answer_count":1,"score":0,"last_activity_date":1687360970,"creation_date":1687359821,"question_id":76524717,"body_markdown":"I am trying to run a program I&#39;ve downloaded ( https://github.com/ottiram/MMAX2 ) which comes as a jar-file on Ubuntu 22.04. When I do, it returns: &quot;no main manifest attribute, in MMAX2.jar&quot;. When I check in /META-INF/MANIFEST.MF, that file only contains one single line, namely: \r\n\r\n&quot;Manifest-Version: 1.0&quot;. \r\n\r\nNo entry point is specified. When I searched for the main method by looking for &quot;public static void main&quot;, I found it in the file /org/eml/MMAX2/core/MMAX2.class in the class &quot;MMAX2&quot; (not sure if the file itself and this class it contains are equivalent?). I assume that I need to specify the location of this method in the Manifest-file!? I tried that several times with different ways of notation, e.g. by adding the following two lines to the Manifest:\r\n\r\n&quot;Main-Class: MMAX2.MMAX2.main\r\n\r\nClass-Path: MMAX2.jar /org/eml/MMAX2/core/&quot;\r\n\r\nBut then, when I try to run the jar, it returns: &quot;Error: Could not find or load main class MMAX2.MMAX2.main\r\nCaused by: java.lang.ClassNotFoundException: MMAX2.MMAX2.main&quot;\r\n\r\nThat also happened with other versions I&#39;ve tried.\r\nI am not super techy, especially not when it comes to Java. Everything I&#39;ve tried so far was the result of me copying code I&#39;ve found as answer to similar questions. Maybe it&#39;s just a syntax-problem? Or my entire approach is wrong? Any help is very much appreciated!\r\n\r\n\r\n\r\n\r\nSummary:\r\nI thought the problem was that the main-method can&#39;t be found from within the Manifest-file. So I tried to add the location of main-method to the Manifest-file, though I&#39;m not sure if I&#39;ve chosen the correct syntax. ","title":"How do I specify the entry point location in a Manifest-file to run a jar-file?","body":"<p>I am trying to run a program I've downloaded ( <a href=\"https://github.com/ottiram/MMAX2\" rel=\"nofollow noreferrer\">https://github.com/ottiram/MMAX2</a> ) which comes as a jar-file on Ubuntu 22.04. When I do, it returns: &quot;no main manifest attribute, in MMAX2.jar&quot;. When I check in /META-INF/MANIFEST.MF, that file only contains one single line, namely:</p>\n<p>&quot;Manifest-Version: 1.0&quot;.</p>\n<p>No entry point is specified. When I searched for the main method by looking for &quot;public static void main&quot;, I found it in the file /org/eml/MMAX2/core/MMAX2.class in the class &quot;MMAX2&quot; (not sure if the file itself and this class it contains are equivalent?). I assume that I need to specify the location of this method in the Manifest-file!? I tried that several times with different ways of notation, e.g. by adding the following two lines to the Manifest:</p>\n<p>&quot;Main-Class: MMAX2.MMAX2.main</p>\n<p>Class-Path: MMAX2.jar /org/eml/MMAX2/core/&quot;</p>\n<p>But then, when I try to run the jar, it returns: &quot;Error: Could not find or load main class MMAX2.MMAX2.main\nCaused by: java.lang.ClassNotFoundException: MMAX2.MMAX2.main&quot;</p>\n<p>That also happened with other versions I've tried.\nI am not super techy, especially not when it comes to Java. Everything I've tried so far was the result of me copying code I've found as answer to similar questions. Maybe it's just a syntax-problem? Or my entire approach is wrong? Any help is very much appreciated!</p>\n<p>Summary:\nI thought the problem was that the main-method can't be found from within the Manifest-file. So I tried to add the location of main-method to the Manifest-file, though I'm not sure if I've chosen the correct syntax.</p>\n"},{"tags":["java","modelio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687362278,"post_id":76522771,"comment_id":134927146,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":13662953,"reputation":1,"user_id":9857503,"display_name":"rumeysa"},"score":0,"creation_date":1693990025,"post_id":76524823,"comment_id":135830965,"body_markdown":"Yes i override this functions.This functions customize the palette but is there any way to access AbstractDiagram element. I mean i want to use diagram element that owns this palette","body":"Yes i override this functions.This functions customize the palette but is there any way to access AbstractDiagram element. I mean i want to use diagram element that owns this palette"}],"tags":[],"owner":{"account_id":1399763,"reputation":3461,"user_id":1328753,"display_name":"Red Beard"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687360519,"creation_date":1687360519,"answer_id":76524823,"question_id":76522771,"body_markdown":"By implementing IDiagramCustomizer, you have to override several methods including:\r\n\r\n 1. keepBasePalette() which will allow you to specfifc if you want to keep the defined palette on the extended diagram type\r\n 2. fillPalette(PaletteRoot paletteRoot) which will allow to define a set of palette groups composed of a set of Tool.\r\n\r\n","title":"How to find AbstractDiagram object of IDiagramCustomizer in Modelio 3.7.1","body":"<p>By implementing IDiagramCustomizer, you have to override several methods including:</p>\n<ol>\n<li>keepBasePalette() which will allow you to specfifc if you want to keep the defined palette on the extended diagram type</li>\n<li>fillPalette(PaletteRoot paletteRoot) which will allow to define a set of palette groups composed of a set of Tool.</li>\n</ol>\n"}],"owner":{"account_id":13662953,"reputation":1,"user_id":9857503,"display_name":"rumeysa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687360519,"creation_date":1687346786,"question_id":76522771,"body_markdown":"I implement IDiagramCustomizer interface in my class for customizing diagram palette. But i dont get AbstractDiagram of this customizer calling for. How to access to diagram object via IDiagramCustomizer\r\n\r\nI need to access diagram properties for customizing palette tool","title":"How to find AbstractDiagram object of IDiagramCustomizer in Modelio 3.7.1","body":"<p>I implement IDiagramCustomizer interface in my class for customizing diagram palette. But i dont get AbstractDiagram of this customizer calling for. How to access to diagram object via IDiagramCustomizer</p>\n<p>I need to access diagram properties for customizing palette tool</p>\n"},{"tags":["java","pdf","itext"],"owner":{"account_id":18323832,"reputation":21,"user_id":13343994,"display_name":"Ali Najafi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687359991,"creation_date":1687342660,"question_id":76522207,"body_markdown":"I have using iText for generating pdf at my project, but the problem is, generated pdf file with text in Arabic printed separated at pdf file.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/efoYj.png)](https://i.stack.imgur.com/efoYj.png)\r\n\r\nAnd this the code:\r\n\r\n    public static void main( String[] args ) throws IOException {\r\n        Document document = new Document();\r\n        try\r\n        {\r\n            @SuppressWarnings(&quot;unused&quot;)\r\n            PdfWriter pdfWriter = PdfWriter.getInstance(document, new FileOutputStream(&quot;d:\\\\pdf.pdf&quot;));\r\n            document.open();\r\n\r\n\r\n\r\n\r\n            BaseFont bf = BaseFont.createFont(&quot;D:\\\\noto-arabic.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\r\n            Font a = new Font(bf,10);\r\n\r\n\r\n            PdfPTable pdfPTable =new PdfPTable(2);\r\n            PdfPCell pdfCell1 = new PdfPCell(new Phrase(&quot;سلام&quot;,a));\r\n            PdfPCell pdfCell2 = new PdfPCell(new Phrase(&quot;Cell-12&quot;));\r\n            pdfPTable.addCell(pdfCell1);\r\n            pdfPTable.addCell(pdfCell2);\r\n            PdfPCell pdfCell3 = new PdfPCell(new Phrase(&quot;Cell-21&quot;));\r\n            pdfCell3.setColspan(2);\r\n            pdfCell3.setBackgroundColor(BaseColor.DARK_GRAY);\r\n            pdfCell3.setBorderColor(BaseColor.RED);\r\n            pdfCell3.setRotation(90);\r\n            pdfPTable.addCell(pdfCell3);\r\n\r\n            pdfPTable.setWidthPercentage(70);\r\n\r\n            pdfWriter.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\r\n\r\n            document.add(pdfPTable);\r\n            document.close();\r\n        }\r\n        catch (FileNotFoundException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        catch (DocumentException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        document.open();\r\n    }\r\n\r\n\r\n\r\nThe text should be:\r\n\r\nسلام","title":"Have problem with iText RTL languages, text separation problem","body":"<p>I have using iText for generating pdf at my project, but the problem is, generated pdf file with text in Arabic printed separated at pdf file.</p>\n<p><a href=\"https://i.stack.imgur.com/efoYj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/efoYj.png\" alt=\"enter image description here\" /></a></p>\n<p>And this the code:</p>\n<pre><code>public static void main( String[] args ) throws IOException {\n    Document document = new Document();\n    try\n    {\n        @SuppressWarnings(&quot;unused&quot;)\n        PdfWriter pdfWriter = PdfWriter.getInstance(document, new FileOutputStream(&quot;d:\\\\pdf.pdf&quot;));\n        document.open();\n\n\n\n\n        BaseFont bf = BaseFont.createFont(&quot;D:\\\\noto-arabic.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\n        Font a = new Font(bf,10);\n\n\n        PdfPTable pdfPTable =new PdfPTable(2);\n        PdfPCell pdfCell1 = new PdfPCell(new Phrase(&quot;سلام&quot;,a));\n        PdfPCell pdfCell2 = new PdfPCell(new Phrase(&quot;Cell-12&quot;));\n        pdfPTable.addCell(pdfCell1);\n        pdfPTable.addCell(pdfCell2);\n        PdfPCell pdfCell3 = new PdfPCell(new Phrase(&quot;Cell-21&quot;));\n        pdfCell3.setColspan(2);\n        pdfCell3.setBackgroundColor(BaseColor.DARK_GRAY);\n        pdfCell3.setBorderColor(BaseColor.RED);\n        pdfCell3.setRotation(90);\n        pdfPTable.addCell(pdfCell3);\n\n        pdfPTable.setWidthPercentage(70);\n\n        pdfWriter.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\n\n        document.add(pdfPTable);\n        document.close();\n    }\n    catch (FileNotFoundException e)\n    {\n        e.printStackTrace();\n    }\n    catch (DocumentException e)\n    {\n        e.printStackTrace();\n    }\n    document.open();\n}\n</code></pre>\n<p>The text should be:</p>\n<p>سلام</p>\n"},{"tags":["java","json","spring","spring-mvc","spring-annotations"],"answers":[{"comments":[{"owner":{"account_id":63802,"reputation":1186,"user_id":188666,"accept_rate":27,"display_name":"Mike"},"score":1,"creation_date":1272906184,"post_id":2752421,"comment_id":2791503,"body_markdown":"Let&#39;s say I have following in ValidationMessages.properties:\n\n    &quot;answerform.questionId.invalid = Invalid question id: {0}.&quot;\n\nfieldError.getCode() will return &quot;answerform.questionId.invalid&quot;, I am looking for the error itself, not the code, ex: &quot;Invalid question id: 123&quot;","body":"Let&#39;s say I have following in ValidationMessages.properties:      &quot;answerform.questionId.invalid = Invalid question id: {0}.&quot;  fieldError.getCode() will return &quot;answerform.questionId.invalid&quot;, I am looking for the error itself, not the code, ex: &quot;Invalid question id: 123&quot;"},{"owner":{"account_id":69063,"reputation":3234,"user_id":201156,"accept_rate":78,"display_name":"armyofda12mnkeys"},"score":0,"creation_date":1434552631,"post_id":2752421,"comment_id":49829260,"body_markdown":"Thanks this helped me... if using internationalization then just pass the locale (and args if needed) to get the translated string to place in your JSON error object: messageSource.getMessage (fieldError.getCode(), fieldError.getArguments(), myQuestionnaire.getLocale ())","body":"Thanks this helped me... if using internationalization then just pass the locale (and args if needed) to get the translated string to place in your JSON error object: messageSource.getMessage (fieldError.getCode(), fieldError.getArguments(), myQuestionnaire.getLocale ())"}],"tags":[],"owner":{"account_id":43546,"reputation":33497,"user_id":127359,"accept_rate":85,"display_name":"Arthur Ronald"},"comment_count":2,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1272917326,"creation_date":1272773658,"answer_id":2752421,"question_id":2751603,"body_markdown":"Disclaimer: I still do not use Spring-MVC 3.0 \r\n\r\nBut i think the same approach used by Spring 2.5 can fullfil your needs\r\n\r\n    for (Object object : bindingResult.getAllErrors()) {\r\n        if(object instanceof FieldError) {\r\n            FieldError fieldError = (FieldError) object;\r\n\r\n            System.out.println(fieldError.getCode());\r\n        }\r\n        \r\n        if(object instanceof ObjectError) {\r\n            ObjectError objectError = (ObjectError) object;\r\n\r\n            System.out.println(objectError.getCode());\r\n        }\r\n    }\r\n\r\nI hope it can be useful to you\r\n\r\n**UPDATE**\r\n\r\nIf you want to get the message provided by your resource bundle, you need a registered messageSource instance (It **must** be called messageSource)\r\n\r\n    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basenames&quot; value=&quot;ValidationMessages&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nInject your MessageSource instance inside your View\r\n\r\n    @Autowired\r\n    private MessageSource messageSource;\r\n\r\nAnd to get your message, do as follows\r\n\r\n    for (Object object : bindingResult.getAllErrors()) {\r\n        if(object instanceof FieldError) {\r\n            FieldError fieldError = (FieldError) object;\r\n\r\n            /**\r\n              * Use null as second parameter if you do not use i18n (internationalization)\r\n              */\r\n\r\n            String message = messageSource.getMessage(fieldError, null);\r\n        }\r\n    }\r\n\r\nYour Validator should looks like\r\n\r\n    /**\r\n      * Use null as fourth parameter if you do not want a default message\r\n      */\r\n    errors.rejectValue(&quot;&lt;FIELD_NAME_GOES_HERE&gt;&quot;, &quot;answerform.questionId.invalid&quot;, new Object [] {&quot;123&quot;}, null);","title":"How to get error text in controller from BindingResult?","body":"<p>Disclaimer: I still do not use Spring-MVC 3.0 </p>\n\n<p>But i think the same approach used by Spring 2.5 can fullfil your needs</p>\n\n<pre><code>for (Object object : bindingResult.getAllErrors()) {\n    if(object instanceof FieldError) {\n        FieldError fieldError = (FieldError) object;\n\n        System.out.println(fieldError.getCode());\n    }\n\n    if(object instanceof ObjectError) {\n        ObjectError objectError = (ObjectError) object;\n\n        System.out.println(objectError.getCode());\n    }\n}\n</code></pre>\n\n<p>I hope it can be useful to you</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you want to get the message provided by your resource bundle, you need a registered messageSource instance (It <strong>must</strong> be called messageSource)</p>\n\n<pre><code>&lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basenames\" value=\"ValidationMessages\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Inject your MessageSource instance inside your View</p>\n\n<pre><code>@Autowired\nprivate MessageSource messageSource;\n</code></pre>\n\n<p>And to get your message, do as follows</p>\n\n<pre><code>for (Object object : bindingResult.getAllErrors()) {\n    if(object instanceof FieldError) {\n        FieldError fieldError = (FieldError) object;\n\n        /**\n          * Use null as second parameter if you do not use i18n (internationalization)\n          */\n\n        String message = messageSource.getMessage(fieldError, null);\n    }\n}\n</code></pre>\n\n<p>Your Validator should looks like</p>\n\n<pre><code>/**\n  * Use null as fourth parameter if you do not want a default message\n  */\nerrors.rejectValue(\"&lt;FIELD_NAME_GOES_HERE&gt;\", \"answerform.questionId.invalid\", new Object [] {\"123\"}, null);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"score":0,"creation_date":1507260675,"post_id":7384449,"comment_id":80148130,"body_markdown":"@J.Wincewicz: sorry for not approving your edit suggestion. The above code I what I have tested (and running) in Spring 3. Your code suggests using a new method, which I&#39;m not 100% sure that it will work with this old version of Spring. You may post it as a separate answer or comments on this post, though.","body":"@J.Wincewicz: sorry for not approving your edit suggestion. The above code I what I have tested (and running) in Spring 3. Your code suggests using a new method, which I&#39;m not 100% sure that it will work with this old version of Spring. You may post it as a separate answer or comments on this post, though."}],"tags":[],"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"comment_count":1,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1507260311,"creation_date":1315811614,"answer_id":7384449,"question_id":2751603,"body_markdown":"I met this problem recently, and found an easier way (maybe it&#39;s the support of Spring 3)\r\n\r\n        List&lt;FieldError&gt; errors = bindingResult.getFieldErrors();\r\n        for (FieldError error : errors ) {\r\n            System.out.println (error.getObjectName() + &quot; - &quot; + error.getDefaultMessage());\r\n        }\r\n\r\nThere&#39;s no need to change/add the message source.","title":"How to get error text in controller from BindingResult?","body":"<p>I met this problem recently, and found an easier way (maybe it's the support of Spring 3)</p>\n\n<pre><code>    List&lt;FieldError&gt; errors = bindingResult.getFieldErrors();\n    for (FieldError error : errors ) {\n        System.out.println (error.getObjectName() + \" - \" + error.getDefaultMessage());\n    }\n</code></pre>\n\n<p>There's no need to change/add the message source.</p>\n"},{"tags":[],"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386870663,"creation_date":1386870663,"answer_id":20550627,"question_id":2751603,"body_markdown":"**BEAN XML:**\r\n\r\n    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n        &lt;property name=&quot;basenames&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;messages&lt;/value&gt;\r\n            &lt;/list&gt;            \r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;messageAccessor&quot; class=&quot;org.springframework.context.support.MessageSourceAccessor&quot;&gt;\r\n        &lt;constructor-arg index=&quot;0&quot; ref=&quot;messageSource&quot;/&gt;\r\n    &lt;/bean&gt;\t\r\n\r\n\r\n----------\r\n**JAVA:**\r\n\r\n    for (FieldError error : errors.getFieldErrors()) {\r\n        logger.debug(messageAccessor.getMessage(error));\r\n    }\r\n\r\n**NOTE:** Calling Errors.getDefaultMessage() will not necessarily return the same message that is generated from the code + args.  The defaultMessage is a separate value defined when calling the Errors.rejectValue() method. See [Errors.rejectValue() API Here][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/1.2.x/api/org/springframework/validation/Errors.html#rejectValue%28java.lang.String,%20java.lang.String,%20java.lang.Object%5B%5D,%20java.lang.String%29","title":"How to get error text in controller from BindingResult?","body":"<p><strong>BEAN XML:</strong></p>\n\n<pre><code>&lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basenames\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;messages&lt;/value&gt;\n        &lt;/list&gt;            \n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"messageAccessor\" class=\"org.springframework.context.support.MessageSourceAccessor\"&gt;\n    &lt;constructor-arg index=\"0\" ref=\"messageSource\"/&gt;\n&lt;/bean&gt; \n</code></pre>\n\n<hr>\n\n<p><strong>JAVA:</strong></p>\n\n<pre><code>for (FieldError error : errors.getFieldErrors()) {\n    logger.debug(messageAccessor.getMessage(error));\n}\n</code></pre>\n\n<p><strong>NOTE:</strong> Calling Errors.getDefaultMessage() will not necessarily return the same message that is generated from the code + args.  The defaultMessage is a separate value defined when calling the Errors.rejectValue() method. See <a href=\"http://docs.spring.io/spring/docs/1.2.x/api/org/springframework/validation/Errors.html#rejectValue%28java.lang.String,%20java.lang.String,%20java.lang.Object%5B%5D,%20java.lang.String%29\" rel=\"nofollow\">Errors.rejectValue() API Here</a></p>\n"},{"comments":[{"owner":{"account_id":3059754,"reputation":407,"user_id":2592686,"accept_rate":80,"display_name":"Simon"},"score":8,"creation_date":1536916276,"post_id":46895694,"comment_id":91604058,"body_markdown":"The &#39;stream().forEach()&#39; chain can be replaced with &#39;forEach()&#39; \nhttps://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-","body":"The &#39;stream().forEach()&#39; chain can be replaced with &#39;forEach()&#39;  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"}],"tags":[],"owner":{"account_id":8239933,"reputation":141,"user_id":6197859,"display_name":"Krzysiek"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1508782832,"creation_date":1508781568,"answer_id":46895694,"question_id":2751603,"body_markdown":"With Java 8 Streams\r\n\r\n    bindingResult\r\n    .getFieldErrors()\r\n    .stream()\r\n    .forEach(f -&gt; System.out.println(f.getField() + &quot;: &quot; + f.getDefaultMessage()));","title":"How to get error text in controller from BindingResult?","body":"<p>With Java 8 Streams</p>\n\n<pre><code>bindingResult\n.getFieldErrors()\n.stream()\n.forEach(f -&gt; System.out.println(f.getField() + \": \" + f.getDefaultMessage()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":232391,"reputation":3552,"user_id":497193,"accept_rate":100,"display_name":"Nubok"},"score":0,"creation_date":1511489923,"post_id":47465362,"comment_id":81885663,"body_markdown":"Perhaps a somewhat more detailled explanation would be helpful.","body":"Perhaps a somewhat more detailled explanation would be helpful."}],"tags":[],"owner":{"account_id":10882505,"reputation":21,"user_id":8000939,"display_name":"Valerii Starovoitov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511488734,"creation_date":1511488734,"answer_id":47465362,"question_id":2751603,"body_markdown":"**WebMvcConfigurerAdapter:**\r\n\r\n\t@Bean(name = &quot;messageSourceAccessor&quot;)\r\n\tpublic org.springframework.context.support.MessageSourceAccessor messageSourceAccessor() {\r\n\t\treturn new MessageSourceAccessor( messageSource());\r\n\t}\r\n\r\n**Controller:**\r\n\r\n\t@Autowired\r\n\t@Qualifier(&quot;messageSourceAccessor&quot;)\r\n\tprivate MessageSourceAccessor\t\t\tmessageSourceAccessor;\r\n    ...\r\n\r\n\tStringBuilder sb = new StringBuilder();\r\n\tfor (ObjectError error : result.getAllErrors()) {\r\n\t\tif ( error instanceof FieldError) {\r\n\t\t\tFieldError fe = (FieldError) error;\r\n\t\t\tsb.append( fe.getField());\r\n\t\t\tsb.append( &quot;: &quot;);\r\n\t\t}\r\n\t\tsb.append( messageSourceAccessor.getMessage( error));\r\n\t\tsb.append( &quot;&lt;br /&gt;&quot;);\r\n\t}","title":"How to get error text in controller from BindingResult?","body":"<p><strong>WebMvcConfigurerAdapter:</strong></p>\n\n<pre><code>@Bean(name = \"messageSourceAccessor\")\npublic org.springframework.context.support.MessageSourceAccessor messageSourceAccessor() {\n    return new MessageSourceAccessor( messageSource());\n}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>@Autowired\n@Qualifier(\"messageSourceAccessor\")\nprivate MessageSourceAccessor           messageSourceAccessor;\n...\n\nStringBuilder sb = new StringBuilder();\nfor (ObjectError error : result.getAllErrors()) {\n    if ( error instanceof FieldError) {\n        FieldError fe = (FieldError) error;\n        sb.append( fe.getField());\n        sb.append( \": \");\n    }\n    sb.append( messageSourceAccessor.getMessage( error));\n    sb.append( \"&lt;br /&gt;\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612847680,"creation_date":1612847680,"answer_id":66113363,"question_id":2751603,"body_markdown":"To obtain a `Map` of all the errors associated with each field:\r\n\r\n```\r\n@Autowired\r\nprivate MessageSource messageSource;\r\n\r\nMap&lt;String, List&lt;String&gt;&gt; errorMap = bindingResult.getFieldErrors().stream()\r\n\t.collect(Collectors.groupingBy(FieldError::getField, \r\n\tCollectors.mapping(e -&gt; messageSource.getMessage(e, LocaleContextHolder.getLocale()), \r\n\t\t\t\t\t\tCollectors.toList())));\r\n//In this example, each field/key is mapped to a \r\n//List of all the errors associated with that field\r\n```\r\n\r\nTo obtain a `Map` with the errors associated with each field merged together as a single `String`:\r\n\r\n\r\n```\r\n@Autowired\r\nprivate MessageSource messageSource;\r\n\r\nMap&lt;String, String&gt; errorMap = bindingResult.getFieldErrors().stream()\r\n\t\t.collect(Collectors\r\n\t\t\t\t.toMap(FieldError::getField, \r\n\t\t\t\t\te -&gt; messageSource.getMessage(e, LocaleContextHolder.getLocale()), \r\n\t\t\t\t\t(a,b)-&gt;a + &quot;&lt;br/&gt;&quot; + b));\r\n//In this example, multiple errors for the same field are separated with &lt;br/&gt;, \r\n//the line break element, to be easily displayed on the front end\r\n```","title":"How to get error text in controller from BindingResult?","body":"<p>To obtain a <code>Map</code> of all the errors associated with each field:</p>\n<pre><code>@Autowired\nprivate MessageSource messageSource;\n\nMap&lt;String, List&lt;String&gt;&gt; errorMap = bindingResult.getFieldErrors().stream()\n    .collect(Collectors.groupingBy(FieldError::getField, \n    Collectors.mapping(e -&gt; messageSource.getMessage(e, LocaleContextHolder.getLocale()), \n                        Collectors.toList())));\n//In this example, each field/key is mapped to a \n//List of all the errors associated with that field\n</code></pre>\n<p>To obtain a <code>Map</code> with the errors associated with each field merged together as a single <code>String</code>:</p>\n<pre><code>@Autowired\nprivate MessageSource messageSource;\n\nMap&lt;String, String&gt; errorMap = bindingResult.getFieldErrors().stream()\n        .collect(Collectors\n                .toMap(FieldError::getField, \n                    e -&gt; messageSource.getMessage(e, LocaleContextHolder.getLocale()), \n                    (a,b)-&gt;a + &quot;&lt;br/&gt;&quot; + b));\n//In this example, multiple errors for the same field are separated with &lt;br/&gt;, \n//the line break element, to be easily displayed on the front end\n</code></pre>\n"}],"owner":{"account_id":63802,"reputation":1186,"user_id":188666,"accept_rate":27,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84747,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":2752421,"answer_count":6,"score":37,"last_activity_date":1687359937,"creation_date":1272749315,"question_id":2751603,"body_markdown":"I have an controller that returns JSON. It takes a form, which validates itself via spring annotations. I can get `FieldError` list from `BindingResult`, but they don&#39;t contain the text that a JSP would display in the `&lt;form:errors&gt;` tag. How can I get the error text to send back in JSON?\r\n\r\n```java\r\n@RequestMapping(method = RequestMethod.POST)\r\npublic @ResponseBody JSONResponse submit(@Valid AnswerForm answerForm, BindingResult result, Model model, HttpServletRequest request, HttpServletResponse response) {\r\n    if (result.hasErrors()) {\r\n        response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n        JSONResponse r = new JSONResponse();\r\n        r.setStatus(JSONResponseStatus.ERROR);\r\n        //HOW DO I GET ERROR MESSAGES OUT OF BindingResult??? \r\n    } else {\r\n        JSONResponse r = new JSONResponse();\r\n        r.setStatus(JSONResponseStatus.OK);\r\n        return r;\r\n    }\r\n}\r\n```\r\n\r\nJSONREsponse class is just a POJO\r\n\r\n```java\r\npublic class JSONResponse implements Serializable {\r\n    private JSONResponseStatus status;\r\n    private String error;\r\n    private Map&lt;String,String&gt; errors;\r\n    private Map&lt;String,Object&gt; data;\r\n    \r\n    // ...getters and setters...\r\n}\r\n```\r\n\r\nCalling `BindingResult.getAllErrors()` returns an array of `FieldError` objects, but it does not have the actual errors.  ","title":"How to get error text in controller from BindingResult?","body":"<p>I have an controller that returns JSON. It takes a form, which validates itself via spring annotations. I can get <code>FieldError</code> list from <code>BindingResult</code>, but they don't contain the text that a JSP would display in the <code>&lt;form:errors&gt;</code> tag. How can I get the error text to send back in JSON?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(method = RequestMethod.POST)\npublic @ResponseBody JSONResponse submit(@Valid AnswerForm answerForm, BindingResult result, Model model, HttpServletRequest request, HttpServletResponse response) {\n    if (result.hasErrors()) {\n        response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n        JSONResponse r = new JSONResponse();\n        r.setStatus(JSONResponseStatus.ERROR);\n        //HOW DO I GET ERROR MESSAGES OUT OF BindingResult??? \n    } else {\n        JSONResponse r = new JSONResponse();\n        r.setStatus(JSONResponseStatus.OK);\n        return r;\n    }\n}\n</code></pre>\n<p>JSONREsponse class is just a POJO</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JSONResponse implements Serializable {\n    private JSONResponseStatus status;\n    private String error;\n    private Map&lt;String,String&gt; errors;\n    private Map&lt;String,Object&gt; data;\n    \n    // ...getters and setters...\n}\n</code></pre>\n<p>Calling <code>BindingResult.getAllErrors()</code> returns an array of <code>FieldError</code> objects, but it does not have the actual errors.</p>\n"},{"tags":["java","netbeans","mercurial"],"comments":[{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":1,"creation_date":1687357003,"post_id":76524278,"comment_id":134925766,"body_markdown":"I don&#39;t think this is a `git` question","body":"I don&#39;t think this is a <code>git</code> question"},{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":1,"creation_date":1687357136,"post_id":76524278,"comment_id":134925800,"body_markdown":"... but since it is tagged, with git you should use `git restore --worktree --source=&lt;some-commit-id-or-branch&gt; -- &lt;the-files-you-want&gt;`. That will get you the files like that in the working tree, won&#39;t mess up with the index. You could also do `git checkout &lt;some-commit-id-or-branch&gt; -- &lt;the-files-you-want&gt;` but using `restore` is preferred these days.","body":"... but since it is tagged, with git you should use <code>git restore --worktree --source=&lt;some-commit-id-or-branch&gt; -- &lt;the-files-you-want&gt;</code>. That will get you the files like that in the working tree, won&#39;t mess up with the index. You could also do <code>git checkout &lt;some-commit-id-or-branch&gt; -- &lt;the-files-you-want&gt;</code> but using <code>restore</code> is preferred these days."},{"owner":{"account_id":119722,"reputation":19505,"user_id":311635,"accept_rate":78,"display_name":"Rudi"},"score":0,"creation_date":1690980670,"post_id":76524278,"comment_id":135428170,"body_markdown":"Are you using git or mercurial? Don&#39;t just thow in the tags, they do have a meaning.","body":"Are you using git or mercurial? Don&#39;t just thow in the tags, they do have a meaning."}],"owner":{"account_id":8562104,"reputation":2510,"user_id":6415828,"accept_rate":69,"display_name":"Diego Alves"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687359919,"creation_date":1687356956,"question_id":76524278,"body_markdown":"I have a project with severial files. I want to return 3 of those files to a specific date in time. I used this. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut this so misleading. When I supposedly would recover all the code of 2018. But it doesn&#39;t it has things of 2019, 2020. \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IAu3Y.png\r\n  [2]: https://i.stack.imgur.com/I5LCn.png\r\n\r\n\r\n\r\nTo solve the issue I have to have an exact copy of the time.","title":"Mercurial and netbeans is there a way to return a file to a specific date?","body":"<p>I have a project with severial files. I want to return 3 of those files to a specific date in time. I used this.</p>\n<p><a href=\"https://i.stack.imgur.com/IAu3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IAu3Y.png\" alt=\"enter image description here\" /></a></p>\n<p>But this so misleading. When I supposedly would recover all the code of 2018. But it doesn't it has things of 2019, 2020.</p>\n<p><a href=\"https://i.stack.imgur.com/I5LCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I5LCn.png\" alt=\"enter image description here\" /></a></p>\n<p>To solve the issue I have to have an exact copy of the time.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687360184,"post_id":76524731,"comment_id":134926646,"body_markdown":"Does this answer your question? [Java Swing ImageIcon, where to put images?](https://stackoverflow.com/questions/17912041/java-swing-imageicon-where-to-put-images). You are using resources incorrectly. The resources directory doesn&#39;t even exist at runtime.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17912041/java-swing-imageicon-where-to-put-images\">Java Swing ImageIcon, where to put images?</a>. You are using resources incorrectly. The resources directory doesn&#39;t even exist at runtime."},{"owner":{"account_id":11235646,"reputation":919,"user_id":8241951,"display_name":"Byte Ninja"},"score":1,"creation_date":1687361126,"post_id":76524731,"comment_id":134926873,"body_markdown":"In a Gradle project, the resources folder is typically considered as the root of the classpath, and the relative paths within the application code are resolved based on that root. Just put the images inside the `src/main/resources` folder, then `private static final PieceLabel whitePawn = new PieceLabel(new ImageIcon(&quot;/white_pawn.png&quot;), Piece.WHITE);\n`","body":"In a Gradle project, the resources folder is typically considered as the root of the classpath, and the relative paths within the application code are resolved based on that root. Just put the images inside the <code>src&#47;main&#47;resources</code> folder, then <code>private static final PieceLabel whitePawn = new PieceLabel(new ImageIcon(&quot;&#47;white_pawn.png&quot;), Piece.WHITE); </code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687362087,"post_id":76524731,"comment_id":134927093,"body_markdown":"*new ImageIcon(&quot;/white_pawn.png&quot;)* is incorrect. That&#39;s *file-wise* access, which is not what you want. You want `new ImageIcon(PieceLabel.class.getResource(&quot;/white_pawn.png&quot;));` (resource access [that&#39;s a `URL`])","body":"<i>new ImageIcon(&quot;/white_pawn.png&quot;)</i> is incorrect. That&#39;s <i>file-wise</i> access, which is not what you want. You want <code>new ImageIcon(PieceLabel.class.getResource(&quot;&#47;white_pawn.png&quot;));</code> (resource access [that&#39;s a <code>URL</code>])"}],"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687359875,"creation_date":1687359875,"question_id":76524731,"body_markdown":"I&#39;m trying to use images located in the resources folder in a gradle project I just created.\r\n\r\nThe project tree is as follows:\r\n\r\n```\r\nD:.\r\n├───main\r\n│   ├───java\r\n│   │   └───chess_game_gui\r\n│   │       ├───GameGUI\r\n│   │       ├───MainComponents\r\n│   │       └───Pieces\r\n│   └───resources\r\n└───test\r\n    ├───java\r\n    │   └───chess_game_gui\r\n    │       └───app\r\n    └───resources\r\n```\r\n\r\nInside a file that is inside the `GameGUI` folder, i have the following line of code:\r\n\r\n```\r\nprivate static final PieceLabel whitePawn = new PieceLabel(new ImageIcon(&quot;../../../resources/white_pawn.png&quot;), Piece.WHITE);\r\n```\r\n\r\nWhich is, to my understanding, supposed to get 3 folder up, end up at the main folder, and then access the resources folder. But it fails (the images do not appear in my app. I know it&#39;s a problem with the path since I just created this gradle project, it used to work without the gradle project structure.)","title":"Access resources folder in gradle java project","body":"<p>I'm trying to use images located in the resources folder in a gradle project I just created.</p>\n<p>The project tree is as follows:</p>\n<pre><code>D:.\n├───main\n│   ├───java\n│   │   └───chess_game_gui\n│   │       ├───GameGUI\n│   │       ├───MainComponents\n│   │       └───Pieces\n│   └───resources\n└───test\n    ├───java\n    │   └───chess_game_gui\n    │       └───app\n    └───resources\n</code></pre>\n<p>Inside a file that is inside the <code>GameGUI</code> folder, i have the following line of code:</p>\n<pre><code>private static final PieceLabel whitePawn = new PieceLabel(new ImageIcon(&quot;../../../resources/white_pawn.png&quot;), Piece.WHITE);\n</code></pre>\n<p>Which is, to my understanding, supposed to get 3 folder up, end up at the main folder, and then access the resources folder. But it fails (the images do not appear in my app. I know it's a problem with the path since I just created this gradle project, it used to work without the gradle project structure.)</p>\n"},{"tags":["java","scala","apache-spark","sbt","sbt-assembly"],"owner":{"account_id":11375595,"reputation":99,"user_id":8340005,"display_name":"maxwellray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687359530,"creation_date":1687359530,"question_id":76524667,"body_markdown":"I have a spark repo that I run on EMR. I use sbt-assembly to build a fat JAR for this. I&#39;d like to start doing some testing on my local, but there is a mismatch in dependencies (hadoop dependency shades EMR&#39;s JARs when running in cluster mode), making it impossible to use the same JAR for both. I&#39;m wondering if there&#39;s a way for me to produce multiple jars using the same build.sbt file. My first shot is below, but it doesn&#39;t generate multiple JARs in the output directory. I assume this is doable with SBT, but I&#39;m not sure how.\r\n\r\n```\r\nThisBuild / version := &quot;0.1.0&quot;\r\n\r\nThisBuild / scalaVersion := &quot;2.12.16&quot;\r\n\r\nThisBuild / javaOptions := Seq(&quot;-Xms512M&quot;, &quot;-Xmx1024M&quot;, &quot;-Xss1M&quot;, &quot;-XX:+UseG1GC&quot;)\r\n\r\nThisBuild / assemblyMergeStrategy := {\r\n  case PathList(&quot;org&quot;, &quot;aopalliance&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;javax&quot;, &quot;inject&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;javax&quot;, &quot;servlet&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;javax&quot;, &quot;activation&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;org&quot;, &quot;apache&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;com&quot;, &quot;google&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;com&quot;, &quot;esotericsoftware&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;com&quot;, &quot;codahale&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;com&quot;, &quot;yammer&quot;, xs@_*) =&gt; MergeStrategy.last\r\n  case PathList(&quot;META-INF&quot;, xs@_*) =&gt; MergeStrategy.discard\r\n  case &quot;about.html&quot; =&gt; MergeStrategy.rename\r\n  case &quot;META-INF/ECLIPSEF.RSA&quot; =&gt; MergeStrategy.last\r\n  case &quot;META-INF/mailcap&quot; =&gt; MergeStrategy.last\r\n  case &quot;META-INF/mimetypes.default&quot; =&gt; MergeStrategy.last\r\n  case &quot;plugin.properties&quot; =&gt; MergeStrategy.last\r\n  case &quot;log4j.properties&quot; =&gt; MergeStrategy.last\r\n  case x if x.endsWith(&quot;.properties&quot;) =&gt; MergeStrategy.last\r\n  case x =&gt; MergeStrategy.first\r\n}\r\n\r\nlazy val commonSettings = Seq(\r\n  libraryDependencies ++= Seq(\r\n    &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.2.1&quot; % Provided,\r\n    &quot;com.amazonaws&quot; % &quot;aws-java-sdk&quot; % &quot;1.12.170&quot;,\r\n    &quot;com.datastax.spark&quot; %% &quot;spark-cassandra-connector&quot; % &quot;3.2.0&quot;,\r\n    &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.5.0&quot;,\r\n    &quot;com.typesafe.play&quot; %% &quot;play-json&quot; % &quot;2.8.2&quot;,\r\n    &quot;com.github.jnr&quot; % &quot;jnr-posix&quot; % &quot;3.1.16&quot;,\r\n    &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.6.0&quot;,\r\n    &quot;com.google.guava&quot; % &quot;guava&quot; % &quot;31.1-jre&quot;,\r\n    &quot;org.apache.httpcomponents&quot; % &quot;httpcore&quot; % &quot;4.4.16&quot;,\r\n    &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.15&quot; % Test,\r\n    &quot;org.mockito&quot; %% &quot;mockito-scala&quot; % &quot;1.17.12&quot; % Test\r\n  )\r\n)\r\n\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .settings(commonSettings: _*)\r\n  .settings(\r\n    name := &quot;admin-precompute&quot;,\r\n    libraryDependencies ++= Seq(\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-common&quot; % &quot;3.2.2&quot; % Provided,\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-client&quot; % &quot;3.2.2&quot; % Provided,\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;3.2.2&quot; % Provided\r\n    ),\r\n    assembly / assemblyOption := (assembly / assemblyOption).value.withIncludeScala(false),\r\n    assembly / assemblyJarName := s&quot;admin-precompute-assembly.jar&quot;,\r\n  )\r\n\r\nlazy val local = (project in file(&quot;.&quot;))\r\n  .settings(commonSettings: _*)\r\n  .settings(\r\n    name := &quot;admin-precompute-local&quot;,\r\n    libraryDependencies ++= Seq(\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-common&quot; % &quot;3.2.2&quot;,\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-client&quot; % &quot;3.2.2&quot;,\r\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;3.2.2&quot;\r\n    ),\r\n    assembly / assemblyOption := (assembly / assemblyOption).value.withIncludeScala(true),\r\n    assembly / assemblyJarName := s&quot;admin-precompute-assembly-local.jar&quot;,\r\n  )\r\n\r\n```\r\n\r\nThanks!","title":"SBT Assembly with Multiple Jars","body":"<p>I have a spark repo that I run on EMR. I use sbt-assembly to build a fat JAR for this. I'd like to start doing some testing on my local, but there is a mismatch in dependencies (hadoop dependency shades EMR's JARs when running in cluster mode), making it impossible to use the same JAR for both. I'm wondering if there's a way for me to produce multiple jars using the same build.sbt file. My first shot is below, but it doesn't generate multiple JARs in the output directory. I assume this is doable with SBT, but I'm not sure how.</p>\n<pre><code>ThisBuild / version := &quot;0.1.0&quot;\n\nThisBuild / scalaVersion := &quot;2.12.16&quot;\n\nThisBuild / javaOptions := Seq(&quot;-Xms512M&quot;, &quot;-Xmx1024M&quot;, &quot;-Xss1M&quot;, &quot;-XX:+UseG1GC&quot;)\n\nThisBuild / assemblyMergeStrategy := {\n  case PathList(&quot;org&quot;, &quot;aopalliance&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;javax&quot;, &quot;inject&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;javax&quot;, &quot;servlet&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;javax&quot;, &quot;activation&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;org&quot;, &quot;apache&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;com&quot;, &quot;google&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;com&quot;, &quot;esotericsoftware&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;com&quot;, &quot;codahale&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;com&quot;, &quot;yammer&quot;, xs@_*) =&gt; MergeStrategy.last\n  case PathList(&quot;META-INF&quot;, xs@_*) =&gt; MergeStrategy.discard\n  case &quot;about.html&quot; =&gt; MergeStrategy.rename\n  case &quot;META-INF/ECLIPSEF.RSA&quot; =&gt; MergeStrategy.last\n  case &quot;META-INF/mailcap&quot; =&gt; MergeStrategy.last\n  case &quot;META-INF/mimetypes.default&quot; =&gt; MergeStrategy.last\n  case &quot;plugin.properties&quot; =&gt; MergeStrategy.last\n  case &quot;log4j.properties&quot; =&gt; MergeStrategy.last\n  case x if x.endsWith(&quot;.properties&quot;) =&gt; MergeStrategy.last\n  case x =&gt; MergeStrategy.first\n}\n\nlazy val commonSettings = Seq(\n  libraryDependencies ++= Seq(\n    &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.2.1&quot; % Provided,\n    &quot;com.amazonaws&quot; % &quot;aws-java-sdk&quot; % &quot;1.12.170&quot;,\n    &quot;com.datastax.spark&quot; %% &quot;spark-cassandra-connector&quot; % &quot;3.2.0&quot;,\n    &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.5.0&quot;,\n    &quot;com.typesafe.play&quot; %% &quot;play-json&quot; % &quot;2.8.2&quot;,\n    &quot;com.github.jnr&quot; % &quot;jnr-posix&quot; % &quot;3.1.16&quot;,\n    &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.6.0&quot;,\n    &quot;com.google.guava&quot; % &quot;guava&quot; % &quot;31.1-jre&quot;,\n    &quot;org.apache.httpcomponents&quot; % &quot;httpcore&quot; % &quot;4.4.16&quot;,\n    &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.15&quot; % Test,\n    &quot;org.mockito&quot; %% &quot;mockito-scala&quot; % &quot;1.17.12&quot; % Test\n  )\n)\n\nlazy val root = (project in file(&quot;.&quot;))\n  .settings(commonSettings: _*)\n  .settings(\n    name := &quot;admin-precompute&quot;,\n    libraryDependencies ++= Seq(\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-common&quot; % &quot;3.2.2&quot; % Provided,\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-client&quot; % &quot;3.2.2&quot; % Provided,\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;3.2.2&quot; % Provided\n    ),\n    assembly / assemblyOption := (assembly / assemblyOption).value.withIncludeScala(false),\n    assembly / assemblyJarName := s&quot;admin-precompute-assembly.jar&quot;,\n  )\n\nlazy val local = (project in file(&quot;.&quot;))\n  .settings(commonSettings: _*)\n  .settings(\n    name := &quot;admin-precompute-local&quot;,\n    libraryDependencies ++= Seq(\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-common&quot; % &quot;3.2.2&quot;,\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-client&quot; % &quot;3.2.2&quot;,\n      &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;3.2.2&quot;\n    ),\n    assembly / assemblyOption := (assembly / assemblyOption).value.withIncludeScala(true),\n    assembly / assemblyJarName := s&quot;admin-precompute-assembly-local.jar&quot;,\n  )\n\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","android","kotlin","cordova","task"],"owner":{"account_id":16146755,"reputation":614,"user_id":11656240,"display_name":"austinw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687359169,"creation_date":1687359169,"question_id":76524617,"body_markdown":"I understand that there is no official way to determine whether the review card was shown to the user or not. But I am curious whether anyone has found a way around this, perhaps by inspecting the UI?\r\n\r\nNote: I am not interested in knowing whether the user actually reviewed or not. All I need to know is whether the dialog was shown!\r\n\r\nI&#39;m currently using the cordova plugin - `cordova-launch-review` to request an in-app-review dialog. It accepts a callback which is called after a successful *request*, but as far as I can tell, it has no way of knowing whether the dialog was actually shown or not.\r\n\r\nLink to the plugin repo: https://github.com/dpa99c/cordova-launch-review/blob/master/src/android/LaunchReview.java\r\n\r\nI&#39;ll paste the code the plugin runs when requesting the review dialog below. It&#39;s pretty standard stuff, very similar to Android&#39;s official documentation: https://developer.android.com/guide/playcore/in-app-review/kotlin-java\r\n\r\n    ReviewManager manager = ReviewManagerFactory.create(cordova.getContext());\r\n\t\t\tTask&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\r\n\t\t\trequest.addOnCompleteListener(requestTask -&gt; {\r\n\t\t\t\ttry{\r\n\t\t\t\t\tif (taskWasSuccessful(requestTask)) {\r\n\t\t\t\t\t\tReviewInfo reviewInfo = requestTask.getResult();\r\n\t\t\t\t\t\tTask&lt;Void&gt; flow = manager.launchReviewFlow(cordova.getActivity(), reviewInfo);\r\n\t\t\t\t\t\tflow.addOnCompleteListener(launchTask -&gt; {\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tif (taskWasSuccessful(launchTask)) {\r\n\t\t\t\t\t\t\t\t\tcallbackContext.success(&quot;requested&quot;);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\thandleTaskFailed(launchTask, callbackContext);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}catch (Exception e){\r\n\t\t\t\t\t\t\t\thandleException(e, callbackContext);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).addOnFailureListener(e -&gt; {\r\n\t\t\t\t\t\t\thandleException(e, callbackContext);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thandleTaskFailed(requestTask, callbackContext);\r\n\t\t\t\t\t}\r\n\t\t\t\t}catch (Exception e){\r\n\t\t\t\t\thandleException(e, callbackContext);\r\n\t\t\t\t}\r\n\t\t\t}).addOnFailureListener(e -&gt; {\r\n\t\t\t\thandleException(e, callbackContext);\r\n\t\t\t});","title":"Has anyone figured out a way to confirm whether the Android in-app-review dialog was shown?","body":"<p>I understand that there is no official way to determine whether the review card was shown to the user or not. But I am curious whether anyone has found a way around this, perhaps by inspecting the UI?</p>\n<p>Note: I am not interested in knowing whether the user actually reviewed or not. All I need to know is whether the dialog was shown!</p>\n<p>I'm currently using the cordova plugin - <code>cordova-launch-review</code> to request an in-app-review dialog. It accepts a callback which is called after a successful <em>request</em>, but as far as I can tell, it has no way of knowing whether the dialog was actually shown or not.</p>\n<p>Link to the plugin repo: <a href=\"https://github.com/dpa99c/cordova-launch-review/blob/master/src/android/LaunchReview.java\" rel=\"nofollow noreferrer\">https://github.com/dpa99c/cordova-launch-review/blob/master/src/android/LaunchReview.java</a></p>\n<p>I'll paste the code the plugin runs when requesting the review dialog below. It's pretty standard stuff, very similar to Android's official documentation: <a href=\"https://developer.android.com/guide/playcore/in-app-review/kotlin-java\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/playcore/in-app-review/kotlin-java</a></p>\n<pre><code>ReviewManager manager = ReviewManagerFactory.create(cordova.getContext());\n        Task&lt;ReviewInfo&gt; request = manager.requestReviewFlow();\n        request.addOnCompleteListener(requestTask -&gt; {\n            try{\n                if (taskWasSuccessful(requestTask)) {\n                    ReviewInfo reviewInfo = requestTask.getResult();\n                    Task&lt;Void&gt; flow = manager.launchReviewFlow(cordova.getActivity(), reviewInfo);\n                    flow.addOnCompleteListener(launchTask -&gt; {\n                        try{\n                            if (taskWasSuccessful(launchTask)) {\n                                callbackContext.success(&quot;requested&quot;);\n                            }else{\n                                handleTaskFailed(launchTask, callbackContext);\n                            }\n                        }catch (Exception e){\n                            handleException(e, callbackContext);\n                        }\n                    }).addOnFailureListener(e -&gt; {\n                        handleException(e, callbackContext);\n                    });\n                } else {\n                    handleTaskFailed(requestTask, callbackContext);\n                }\n            }catch (Exception e){\n                handleException(e, callbackContext);\n            }\n        }).addOnFailureListener(e -&gt; {\n            handleException(e, callbackContext);\n        });\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","reflection"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687362678,"post_id":76523947,"comment_id":134927243,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":15044554,"reputation":11,"user_id":10858134,"display_name":"NkTech"},"score":0,"creation_date":1687366007,"post_id":76524602,"comment_id":134927956,"body_markdown":"Thanks for the answer. Just have one clarification thoough as I&#39;m pretty new to java spring..\nHow will you initialise the map here ?\njpaRepositories.put(&quot;table1&quot;, new Repository1()) will throw compile error as the repositories are interface and we cannot create instance..","body":"Thanks for the answer. Just have one clarification thoough as I&#39;m pretty new to java spring.. How will you initialise the map here ? jpaRepositories.put(&quot;table1&quot;, new Repository1()) will throw compile error as the repositories are interface and we cannot create instance.."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687366354,"post_id":76524602,"comment_id":134928027,"body_markdown":"The above code is all you need. Spring Boot will autowire the map. The only thing is that the class where you use it must be a bean managed by Spring. For example annotated with Component or Service.","body":"The above code is all you need. Spring Boot will autowire the map. The only thing is that the class where you use it must be a bean managed by Spring. For example annotated with Component or Service."},{"owner":{"account_id":15044554,"reputation":11,"user_id":10858134,"display_name":"NkTech"},"score":0,"creation_date":1687369841,"post_id":76524602,"comment_id":134928647,"body_markdown":"Thanks a lot.. This actually loaded all the repository classes into the map","body":"Thanks a lot.. This actually loaded all the repository classes into the map"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687359017,"creation_date":1687359017,"answer_id":76524602,"question_id":76523947,"body_markdown":"The problem with your current solution is that JPA repositories need to be auto-configured by Spring Boot Data JPA to work. \r\n\r\n**Solution**\r\n\r\nYou can use Spring to generate a map of all JPA repositories as proper autowired objects. Then in your code you can get the repository by the key. Which is the repository class name (without package).\r\n\r\nCheck the below example code which logs all defined repositories and their size using `findAll()`.\r\n```\r\n@Autowired\r\nMap&lt;String, JpaRepository&gt; jpaRepositories;\r\n// ...\r\nfor (Map.Entry&lt;String, JpaRepository&gt; repos : jpaRepositories.entrySet()) {\r\n    List items = repos.getValue().findAll();\r\n    log.info(&quot;repository: {}; size: {}&quot;, repos.getKey(), items.size());\r\n}\r\n\r\nSample output:\r\nrepository: customerRepository; size: 1234\r\nrepository: phoneRepository; size: 117\r\n\r\n```","title":"How to access JPA Repository methods from bean object of the particular repository dynamically","body":"<p>The problem with your current solution is that JPA repositories need to be auto-configured by Spring Boot Data JPA to work.</p>\n<p><strong>Solution</strong></p>\n<p>You can use Spring to generate a map of all JPA repositories as proper autowired objects. Then in your code you can get the repository by the key. Which is the repository class name (without package).</p>\n<p>Check the below example code which logs all defined repositories and their size using <code>findAll()</code>.</p>\n<pre><code>@Autowired\nMap&lt;String, JpaRepository&gt; jpaRepositories;\n// ...\nfor (Map.Entry&lt;String, JpaRepository&gt; repos : jpaRepositories.entrySet()) {\n    List items = repos.getValue().findAll();\n    log.info(&quot;repository: {}; size: {}&quot;, repos.getKey(), items.size());\n}\n\nSample output:\nrepository: customerRepository; size: 1234\nrepository: phoneRepository; size: 117\n\n</code></pre>\n"}],"owner":{"account_id":15044554,"reputation":11,"user_id":10858134,"display_name":"NkTech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687359017,"creation_date":1687354859,"question_id":76523947,"body_markdown":"I have a list of repositories that extends JPA Repository and the API needs to fetch a record of a particular table given a primary key..\r\n\r\nI have defined a enum from where I&#39;m able to fetch the repository class object from the given table name..\r\n\r\n```\r\npublic enum DynamicEntityRepository {\r\n\r\n    Table1(Entity1.class),\r\n    Table2(Entity2.class),\r\n    Table3(Entity3.class),\r\n    Table4(Entity4.class),\r\n   \r\n    Class entity;\r\n\r\n}\r\n```\r\n\r\nNow, I want to access the findById(id) method of JPA Repository of the particular table..\r\n\r\n```\r\n DynamicEntityRepository repo = DynamicEntityRepository.valueOf(tableName);\r\n \r\n\r\n /*\r\n   Here I want to access findById(id) of the particular repository by passing the param\r\n*/\r\n\r\n```\r\n\r\n\r\nI have tried using reflection to invoke the findById method of the Repository class but it throws NoSuchMethodException as the Repository originally does not have findById method.. It indeed extends JPARepository&#39;s default method..\r\n\r\n\r\nIs there any other way to solve this ?","title":"How to access JPA Repository methods from bean object of the particular repository dynamically","body":"<p>I have a list of repositories that extends JPA Repository and the API needs to fetch a record of a particular table given a primary key..</p>\n<p>I have defined a enum from where I'm able to fetch the repository class object from the given table name..</p>\n<pre><code>public enum DynamicEntityRepository {\n\n    Table1(Entity1.class),\n    Table2(Entity2.class),\n    Table3(Entity3.class),\n    Table4(Entity4.class),\n   \n    Class entity;\n\n}\n</code></pre>\n<p>Now, I want to access the findById(id) method of JPA Repository of the particular table..</p>\n<pre><code> DynamicEntityRepository repo = DynamicEntityRepository.valueOf(tableName);\n \n\n /*\n   Here I want to access findById(id) of the particular repository by passing the param\n*/\n\n</code></pre>\n<p>I have tried using reflection to invoke the findById method of the Repository class but it throws NoSuchMethodException as the Repository originally does not have findById method.. It indeed extends JPARepository's default method..</p>\n<p>Is there any other way to solve this ?</p>\n"},{"tags":["java","remedy"],"answers":[{"tags":[],"owner":{"account_id":11757082,"reputation":69,"user_id":8604431,"display_name":"Anshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595504235,"creation_date":1595504235,"answer_id":63053338,"question_id":62922776,"body_markdown":"Got the solution, we need to upgrade our Arapi jar to Arapi9 in order to support premium encryption.","title":"Getting 9002 error while connecting to Access Remedy Server via Java AR API","body":"<p>Got the solution, we need to upgrade our Arapi jar to Arapi9 in order to support premium encryption.</p>\n"}],"owner":{"account_id":11757082,"reputation":69,"user_id":8604431,"display_name":"Anshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63053338,"answer_count":1,"score":1,"last_activity_date":1687358852,"creation_date":1594842723,"question_id":62922776,"body_markdown":"I am trying to connect to Access Remedy Server for creating ticket in BMC Remedy via Java but it is giving error i.e.\r\n\r\n&gt; ERROR (9002): The data encryption key exchange failed; \r\n\r\nAccess Remedy Application host that I am  trying to connect is encrypted and we have added cryptojce.jar,cryptocommon.jar, and jcmFIPS.jar\r\n\r\nI can see one argument getting passed mentioned below.\r\n\r\n    com.bmc.arsys.arencrypt.c:? - fipsProviderJsafeJCE installed = false\r\n\r\nIs there anything I am missing here to enable proper exchange of encryption key?\r\n\r\nI am using Java 8 on tomcat v9. and using arapi7604_build002-1.0-arapi7604_build002.jar","title":"Getting 9002 error while connecting to Access Remedy Server via Java AR API","body":"<p>I am trying to connect to Access Remedy Server for creating ticket in BMC Remedy via Java but it is giving error i.e.</p>\n<blockquote>\n<p>ERROR (9002): The data encryption key exchange failed;</p>\n</blockquote>\n<p>Access Remedy Application host that I am  trying to connect is encrypted and we have added cryptojce.jar,cryptocommon.jar, and jcmFIPS.jar</p>\n<p>I can see one argument getting passed mentioned below.</p>\n<pre><code>com.bmc.arsys.arencrypt.c:? - fipsProviderJsafeJCE installed = false\n</code></pre>\n<p>Is there anything I am missing here to enable proper exchange of encryption key?</p>\n<p>I am using Java 8 on tomcat v9. and using arapi7604_build002-1.0-arapi7604_build002.jar</p>\n"},{"tags":["java","android","notifications","android-pendingintent"],"answers":[{"tags":[],"owner":{"account_id":2268152,"reputation":34,"user_id":1996242,"display_name":"walex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687358846,"creation_date":1687358846,"answer_id":76524575,"question_id":76523546,"body_markdown":"Try \r\n\r\n    android:launchMode=&quot;singleTop&quot;\r\n\r\nin your manifest\r\n\r\n    \r\n\r\n","title":"Prevent Activity from relaunching when clicking on the notification","body":"<p>Try</p>\n<pre><code>android:launchMode=&quot;singleTop&quot;\n</code></pre>\n<p>in your manifest</p>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687358846,"creation_date":1687352301,"question_id":76523546,"body_markdown":"I&#39;m trying to achieve the following :\r\n\r\n1 - If I click on Notification and `MyActivity` is already launched (in foreground)\r\n\r\n**Do nothing.**\r\n\r\n2 - If I click on Notification and `MyActivity` is already launched (in background)\r\n\r\n**Call it and not relaunch it.**\r\n\r\n3 - If I click on Notification and `MyActivity` is not launched\r\n\r\n**Launch the activity**\r\n\r\n\r\nMy code :\r\n\r\n \r\n\r\n    private Notification buildNotification() {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n                builder = new Notification.Builder(this, CHANNEL_ID);\r\n            else\r\n                builder = new Notification.Builder(this);\r\n            Intent intent = new Intent(this, MyActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |\r\n                    Intent.FLAG_ACTIVITY_SINGLE_TOP |\r\n                    Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n            builder.setContentTitle(StringUtils.getString(R.string.app_name))\r\n                    .setContentText(StringUtils.getString(R.string.app_is_running))\r\n                    .setSmallIcon(R.mipmap.ic_launcher_foreground)\r\n                    .setPriority(Notification.PRIORITY_HIGH)\r\n                    .setOnlyAlertOnce(false)\r\n                    .setAutoCancel(false)\r\n                    .setContentIntent(pendingIntent);\r\n            return builder.build();\r\n        }\r\n\r\n**The issue :**\r\n\r\nThe activity is always relaunching, even if the activity is already launched in foreground or background.\r\n\r\nThank you.\r\n\r\n\r\n","title":"Prevent Activity from relaunching when clicking on the notification","body":"<p>I'm trying to achieve the following :</p>\n<p>1 - If I click on Notification and <code>MyActivity</code> is already launched (in foreground)</p>\n<p><strong>Do nothing.</strong></p>\n<p>2 - If I click on Notification and <code>MyActivity</code> is already launched (in background)</p>\n<p><strong>Call it and not relaunch it.</strong></p>\n<p>3 - If I click on Notification and <code>MyActivity</code> is not launched</p>\n<p><strong>Launch the activity</strong></p>\n<p>My code :</p>\n<pre><code>private Notification buildNotification() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n            builder = new Notification.Builder(this, CHANNEL_ID);\n        else\n            builder = new Notification.Builder(this);\n        Intent intent = new Intent(this, MyActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |\n                Intent.FLAG_ACTIVITY_SINGLE_TOP |\n                Intent.FLAG_ACTIVITY_NEW_TASK);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n        builder.setContentTitle(StringUtils.getString(R.string.app_name))\n                .setContentText(StringUtils.getString(R.string.app_is_running))\n                .setSmallIcon(R.mipmap.ic_launcher_foreground)\n                .setPriority(Notification.PRIORITY_HIGH)\n                .setOnlyAlertOnce(false)\n                .setAutoCancel(false)\n                .setContentIntent(pendingIntent);\n        return builder.build();\n    }\n</code></pre>\n<p><strong>The issue :</strong></p>\n<p>The activity is always relaunching, even if the activity is already launched in foreground or background.</p>\n<p>Thank you.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"display_name":"user2809386"},"score":0,"creation_date":1547197080,"post_id":14977018,"comment_id":95117462,"body_markdown":"so which one is better to use? which answer will you accept?","body":"so which one is better to use? which answer will you accept?"}],"answers":[{"tags":[],"owner":{"account_id":34522,"reputation":10891,"user_id":97641,"accept_rate":74,"display_name":"Wilhelm Kleu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361354874,"creation_date":1361354874,"answer_id":14977122,"question_id":14977018,"body_markdown":"Have a look at:\r\n\r\n- `JPA query language`: [The Java Persistence Query Language][1]  \r\n- `JPA Criteria API`:  [Using the Criteria API to Create Queries][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/tutorial/doc/bnbtg.html\r\n  [2]: http://docs.oracle.com/javaee/6/tutorial/doc/gjitv.html","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Have a look at:</p>\n\n<ul>\n<li><code>JPA query language</code>: <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnbtg.html\" rel=\"nofollow\">The Java Persistence Query Language</a>  </li>\n<li><code>JPA Criteria API</code>:  <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gjitv.html\" rel=\"nofollow\">Using the Criteria API to Create Queries</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1362678,"reputation":3515,"user_id":1299738,"accept_rate":64,"display_name":"Neo"},"score":0,"creation_date":1361355597,"post_id":14977153,"comment_id":21030881,"body_markdown":"Is this Hibernate specific? Can I use this with JPA as well?","body":"Is this Hibernate specific? Can I use this with JPA as well?"},{"owner":{"account_id":1363991,"reputation":10122,"user_id":1300817,"accept_rate":100,"display_name":"Raul Rene"},"score":0,"creation_date":1361362469,"post_id":14977153,"comment_id":21034406,"body_markdown":"`Criteria` is Hibernate specific because it comes from `org.hibernate` package.","body":"<code>Criteria</code> is Hibernate specific because it comes from <code>org.hibernate</code> package."},{"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"score":15,"creation_date":1448636020,"post_id":14977153,"comment_id":55677329,"body_markdown":"may you forgive my newbie question : what is the session instance ?","body":"may you forgive my newbie question : what is the session instance ?"},{"owner":{"account_id":1014745,"reputation":5245,"user_id":1026567,"accept_rate":80,"display_name":"skeryl"},"score":1,"creation_date":1451926723,"post_id":14977153,"comment_id":56937357,"body_markdown":"in your example, you&#39;re calling `session.createCriteria` on a class named `YourClass` but in the following examples you reference a class named `YourObject`. This is a typo, correct?","body":"in your example, you&#39;re calling <code>session.createCriteria</code> on a class named <code>YourClass</code> but in the following examples you reference a class named <code>YourObject</code>. This is a typo, correct?"},{"owner":{"account_id":1014824,"reputation":667,"user_id":1026624,"display_name":"marcioggs"},"score":0,"creation_date":1660133549,"post_id":14977153,"comment_id":129460032,"body_markdown":"createCriteria is deprecated since 5.2 in favor of using JPA criteria.\nhttps://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/SharedSessionContract.html#createCriteria-java.lang.Class-","body":"createCriteria is deprecated since 5.2 in favor of using JPA criteria. <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/SharedSessionContract.html#createCriteria-java.lang.Class-\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/&hellip;</a>"}],"tags":[],"owner":{"account_id":1363991,"reputation":10122,"user_id":1300817,"accept_rate":100,"display_name":"Raul Rene"},"comment_count":5,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1361354947,"creation_date":1361354947,"answer_id":14977153,"question_id":14977018,"body_markdown":"It is not a &quot;problem&quot; as you stated it.\r\n\r\nHibernate has the built-in `find()`, but you have to build your own query in order to get a particular object. I recommend using *Hibernate*&#39;s `Criteria` :\r\n\r\n    Criteria criteria = session.createCriteria(YourClass.class);\r\n    YourObject yourObject = criteria.add(Restrictions.eq(&quot;yourField&quot;, yourFieldValue))\r\n                                 .uniqueResult();\r\n\r\nThis will create a `criteria` on your current class, adding the restriction that the column &quot;yourField&quot; is equal to the value `yourFieldValue`. `uniqueResult()` tells it to bring a unique result. If more objects match, you should retrive a list.\r\n\r\n    List&lt;YourObject&gt; list = criteria.add(Restrictions.eq(&quot;yourField&quot;, yourFieldValue)).list();\r\n\r\nIf you have any further questions, please feel free to ask. Hope this helps.","title":"JPA: How to get entity based on field value other than ID?","body":"<p>It is not a \"problem\" as you stated it.</p>\n\n<p>Hibernate has the built-in <code>find()</code>, but you have to build your own query in order to get a particular object. I recommend using <em>Hibernate</em>'s <code>Criteria</code> :</p>\n\n<pre><code>Criteria criteria = session.createCriteria(YourClass.class);\nYourObject yourObject = criteria.add(Restrictions.eq(\"yourField\", yourFieldValue))\n                             .uniqueResult();\n</code></pre>\n\n<p>This will create a <code>criteria</code> on your current class, adding the restriction that the column \"yourField\" is equal to the value <code>yourFieldValue</code>. <code>uniqueResult()</code> tells it to bring a unique result. If more objects match, you should retrive a list.</p>\n\n<pre><code>List&lt;YourObject&gt; list = criteria.add(Restrictions.eq(\"yourField\", yourFieldValue)).list();\n</code></pre>\n\n<p>If you have any further questions, please feel free to ask. Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":346993,"reputation":9154,"user_id":680847,"accept_rate":93,"display_name":"stephen.hanson"},"score":36,"creation_date":1400014362,"post_id":14977726,"comment_id":36305746,"body_markdown":"I can&#39;t believe how much code that is for something so simple. That&#39;s an API fail IMO.","body":"I can&#39;t believe how much code that is for something so simple. That&#39;s an API fail IMO."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1576518914,"post_id":14977726,"comment_id":104917753,"body_markdown":"@stephen.hanson Makes me wonder if it&#39;s worth using ORM at all? But that would mean going back to JDBC and mapping ResultSets on your own etc etc which ain&#39;t nice either ; (","body":"@stephen.hanson Makes me wonder if it&#39;s worth using ORM at all? But that would mean going back to JDBC and mapping ResultSets on your own etc etc which ain&#39;t nice either ; ("}],"tags":[],"owner":{"account_id":2130094,"reputation":1331,"user_id":1891112,"accept_rate":71,"display_name":"tinker_fairy"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527592296,"creation_date":1361356581,"answer_id":14977726,"question_id":14977018,"body_markdown":"Write a custom method like this:     \r\n\r\n    public Object findByYourField(Class entityClass, String yourFieldValue)\r\n\t{\r\n\t\tCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;Object&gt; criteriaQuery = criteriaBuilder.createQuery(entityClass);\r\n\t\tRoot&lt;Object&gt; root = criteriaQuery.from(entityClass);\r\n\t\tcriteriaQuery.select(root);\r\n\r\n\t\tParameterExpression&lt;String&gt; params = criteriaBuilder.parameter(String.class);\r\n\t\tcriteriaQuery.where(criteriaBuilder.equal(root.get(&quot;yourField&quot;), params));\r\n\r\n\t\tTypedQuery&lt;Object&gt; query = entityManager.createQuery(criteriaQuery);\r\n\t\tquery.setParameter(params, yourFieldValue);\r\n\r\n\t\tList&lt;Object&gt; queryResult = query.getResultList();\r\n\r\n\t\tObject returnObject = null;\r\n\r\n\t\tif (CollectionUtils.isNotEmpty(queryResult)) {\r\n\t\t\treturnObject = queryResult.get(0);\r\n\t\t}\r\n\r\n\t\treturn returnObject;\r\n\t}","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Write a custom method like this:     </p>\n\n<pre><code>public Object findByYourField(Class entityClass, String yourFieldValue)\n{\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Object&gt; criteriaQuery = criteriaBuilder.createQuery(entityClass);\n    Root&lt;Object&gt; root = criteriaQuery.from(entityClass);\n    criteriaQuery.select(root);\n\n    ParameterExpression&lt;String&gt; params = criteriaBuilder.parameter(String.class);\n    criteriaQuery.where(criteriaBuilder.equal(root.get(\"yourField\"), params));\n\n    TypedQuery&lt;Object&gt; query = entityManager.createQuery(criteriaQuery);\n    query.setParameter(params, yourFieldValue);\n\n    List&lt;Object&gt; queryResult = query.getResultList();\n\n    Object returnObject = null;\n\n    if (CollectionUtils.isNotEmpty(queryResult)) {\n        returnObject = queryResult.get(0);\n    }\n\n    return returnObject;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2595962,"reputation":65,"user_id":2249647,"display_name":"kristianva"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1395702188,"creation_date":1395702188,"answer_id":22622378,"question_id":14977018,"body_markdown":"Using CrudRepository and JPA query works for me: \r\n\r\n    \r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.data.repository.query.Param;\r\n    \r\n    public interface TokenCrudRepository extends CrudRepository&lt;Token, Integer&gt; {\r\n\r\n     /**\r\n     * Finds a token by using the user as a search criteria.\r\n     * @param user\r\n     * @return  A token element matching with the given user.\r\n     */\r\n        @Query(&quot;SELECT t FROM Token t WHERE LOWER(t.user) = LOWER(:user)&quot;)\r\n        public Token find(@Param(&quot;user&quot;) String user);\r\n       \r\n    }\r\n\r\nand you invoke the find custom method like this:\r\n\r\n    public void destroyCurrentToken(String user){\r\n    \tAbstractApplicationContext context = getContext();\r\n    \t\r\n    \trepository = context.getBean(TokenCrudRepository.class);\r\n    \t\r\n    \tToken token = ((TokenCrudRepository) repository).find(user);\r\n        \t\t\r\n        int idToken = token.getId();\r\n        \t\r\n        repository.delete(idToken);\r\n    \r\n        context.close();\r\n    }\r\n\r\n","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Using CrudRepository and JPA query works for me: </p>\n\n<pre><code>import org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.data.repository.query.Param;\n\npublic interface TokenCrudRepository extends CrudRepository&lt;Token, Integer&gt; {\n\n /**\n * Finds a token by using the user as a search criteria.\n * @param user\n * @return  A token element matching with the given user.\n */\n    @Query(\"SELECT t FROM Token t WHERE LOWER(t.user) = LOWER(:user)\")\n    public Token find(@Param(\"user\") String user);\n\n}\n</code></pre>\n\n<p>and you invoke the find custom method like this:</p>\n\n<pre><code>public void destroyCurrentToken(String user){\n    AbstractApplicationContext context = getContext();\n\n    repository = context.getBean(TokenCrudRepository.class);\n\n    Token token = ((TokenCrudRepository) repository).find(user);\n\n    int idToken = token.getId();\n\n    repository.delete(idToken);\n\n    context.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2029560,"reputation":9470,"user_id":1813669,"accept_rate":67,"display_name":"scadge"},"score":32,"creation_date":1512997658,"post_id":35179837,"comment_id":82467774,"body_markdown":"Note that this is only valid for Spring, not Hibernate or JPA in general.","body":"Note that this is only valid for Spring, not Hibernate or JPA in general."}],"tags":[],"owner":{"account_id":5106357,"reputation":389,"user_id":4094329,"display_name":"cici"},"comment_count":1,"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1510315622,"creation_date":1454509981,"answer_id":35179837,"question_id":14977018,"body_markdown":"if you have repository for entity `Foo` and need to select all entries with exact string value `boo` (also works for other primitive types or entity types). Put this into your repository interface:\r\n\r\n    List&lt;Foo&gt; findByBoo(String boo);\r\n\r\nif you need to order results:\r\n\r\n    List&lt;Foo&gt; findByBooOrderById(String boo);\r\n\r\nSee more at [reference][1].\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details","title":"JPA: How to get entity based on field value other than ID?","body":"<p>if you have repository for entity <code>Foo</code> and need to select all entries with exact string value <code>boo</code> (also works for other primitive types or entity types). Put this into your repository interface:</p>\n\n<pre><code>List&lt;Foo&gt; findByBoo(String boo);\n</code></pre>\n\n<p>if you need to order results:</p>\n\n<pre><code>List&lt;Foo&gt; findByBooOrderById(String boo);\n</code></pre>\n\n<p>See more at <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\" rel=\"noreferrer\">reference</a>.</p>\n"},{"tags":[],"owner":{"account_id":1012051,"reputation":3609,"user_id":1024412,"accept_rate":54,"display_name":"KG6ZVP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465807793,"creation_date":1465807793,"answer_id":37785374,"question_id":14977018,"body_markdown":"I&#39;ve written a library that helps do precisely this. It allows search by object simply by initializing only the fields you want to filter by: https://github.com/kg6zvp/GenericEntityEJB","title":"JPA: How to get entity based on field value other than ID?","body":"<p>I've written a library that helps do precisely this. It allows search by object simply by initializing only the fields you want to filter by: <a href=\"https://github.com/kg6zvp/GenericEntityEJB\" rel=\"nofollow\">https://github.com/kg6zvp/GenericEntityEJB</a></p>\n"},{"comments":[{"owner":{"account_id":2751934,"reputation":758,"user_id":2525319,"accept_rate":71,"display_name":"Cas"},"score":1,"creation_date":1523869061,"post_id":38342585,"comment_id":86720958,"body_markdown":"Where does `User_` come from?","body":"Where does <code>User_</code> come from?"},{"owner":{"account_id":453918,"reputation":2857,"user_id":851185,"accept_rate":79,"display_name":"jean"},"score":1,"creation_date":1538644294,"post_id":38342585,"comment_id":92218290,"body_markdown":"Generated by who?","body":"Generated by who?"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1538706057,"post_id":38342585,"comment_id":92245590,"body_markdown":"@jean You might wanna look at https://stackoverflow.com/a/11245730/330457","body":"@jean You might wanna look at <a href=\"https://stackoverflow.com/a/11245730/330457\">stackoverflow.com/a/11245730/330457</a>"},{"owner":{"account_id":6339727,"reputation":413,"user_id":4922074,"display_name":"Thiago Cavalcanti"},"score":1,"creation_date":1675884141,"post_id":38342585,"comment_id":133026144,"body_markdown":"@JinKwon you&#39;re the man!! thanksss\n\nPs: User_.scn is the name of the parameter.","body":"@JinKwon you&#39;re the man!! thanksss  Ps: User_.scn is the name of the parameter."}],"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1510004628,"creation_date":1468383290,"answer_id":38342585,"question_id":14977018,"body_markdown":"Basically, you should add a specific unique field. I usually use `xxxUri` fields.\r\n\r\n\r\n    class User {\r\n    \r\n        @Id\r\n        // automatically generated\r\n        private Long id;\r\n    \r\n        // globally unique id\r\n        @Column(name = &quot;SCN&quot;, nullable = false, unique = true)\r\n        private String scn;\r\n    }\r\n\r\nAnd you business method will do like this.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public User findUserByScn(@NotNull final String scn) {\r\n        CriteriaBuilder builder = manager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;User&gt; criteria = builder.createQuery(User.class);\r\n        Root&lt;User&gt; from = criteria.from(User.class);\r\n        criteria.select(from);\r\n        criteria.where(builder.equal(from.get(User_.scn), scn));\r\n        TypedQuery&lt;User&gt; typed = manager.createQuery(criteria);\r\n        try {\r\n            return typed.getSingleResult();\r\n        } catch (final NoResultException nre) {\r\n            return null;\r\n        }\r\n    }\r\n","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Basically, you should add a specific unique field. I usually use <code>xxxUri</code> fields.</p>\n\n<pre><code>class User {\n\n    @Id\n    // automatically generated\n    private Long id;\n\n    // globally unique id\n    @Column(name = \"SCN\", nullable = false, unique = true)\n    private String scn;\n}\n</code></pre>\n\n<p>And you business method will do like this.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public User findUserByScn(@NotNull final String scn) {\n    CriteriaBuilder builder = manager.getCriteriaBuilder();\n    CriteriaQuery&lt;User&gt; criteria = builder.createQuery(User.class);\n    Root&lt;User&gt; from = criteria.from(User.class);\n    criteria.select(from);\n    criteria.where(builder.equal(from.get(User_.scn), scn));\n    TypedQuery&lt;User&gt; typed = manager.createQuery(criteria);\n    try {\n        return typed.getSingleResult();\n    } catch (final NoResultException nre) {\n        return null;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10231365,"reputation":2456,"user_id":7551963,"accept_rate":86,"display_name":"Menai Ala Eddine - Aladdin"},"score":0,"creation_date":1522325934,"post_id":47914248,"comment_id":86119047,"body_markdown":"I think ,in your caase the email should be an Id .","body":"I think ,in your caase the email should be an Id ."},{"owner":{"account_id":10250946,"reputation":1325,"user_id":7565209,"display_name":"Chenhai-胡晨海"},"score":1,"creation_date":1544712883,"post_id":47914248,"comment_id":94380760,"body_markdown":"ya it was the legacy database created 10 years ago, sometime there is no way to fix around","body":"ya it was the legacy database created 10 years ago, sometime there is no way to fix around"},{"owner":{"account_id":202328,"reputation":656,"user_id":449335,"accept_rate":80,"display_name":"Jukka H&#228;m&#228;l&#228;inen"},"score":0,"creation_date":1687356988,"post_id":47914248,"comment_id":134925761,"body_markdown":"No, your email field should definitely NOT be an id. Email can change and id field is something that should be immutable as it is used as foreign key from other tables. Imagine using the email as id and referring it from 10 tables and then the user wants to change their email. Ouch. This is a rookie mistake that you should not be making.","body":"No, your email field should definitely NOT be an id. Email can change and id field is something that should be immutable as it is used as foreign key from other tables. Imagine using the email as id and referring it from 10 tables and then the user wants to change their email. Ouch. This is a rookie mistake that you should not be making."},{"owner":{"account_id":202328,"reputation":656,"user_id":449335,"accept_rate":80,"display_name":"Jukka H&#228;m&#228;l&#228;inen"},"score":0,"creation_date":1687357239,"post_id":47914248,"comment_id":134925841,"body_markdown":"Chenhai-胡晨海 I want to thank you for solving another problem not related to this question for me. Been using Hibernate 13 years now and did not know about the @NaturalId annotation.","body":"Chenhai-胡晨海 I want to thank you for solving another problem not related to this question for me. Been using Hibernate 13 years now and did not know about the @NaturalId annotation."}],"tags":[],"owner":{"account_id":10250946,"reputation":1325,"user_id":7565209,"display_name":"Chenhai-胡晨海"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1513803762,"creation_date":1513803419,"answer_id":47914248,"question_id":14977018,"body_markdown":"Best practice is using @NaturalId annotation. It can be used as the business key for some cases it is too complicated, so some fields are using as the identifier in the real world. \r\nFor example, I have user class with user id as primary key, and email is also unique field. So we can use email as our natural id  \r\n\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    public class User {\r\n\t  @Id\r\n\t  @Column(name=&quot;id&quot;)\r\n\t  private int id;\r\n\t  \r\n      @NaturalId\r\n\t  @Column(name=&quot;email&quot;)\r\n\t  private String email;\r\n      \r\n      @Column(name=&quot;name&quot;)\r\n      private String name;\r\n    }\r\nTo get our record, just simply use &#39;session.byNaturalId()&#39;\r\n\r\n    Session session = sessionFactory.getCurrentSession();\r\n    User user = session.byNaturalId(User.class)\r\n                       .using(&quot;email&quot;,&quot;huchenhai@qq.com&quot;)\r\n                       .load()\r\n    \r\n","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Best practice is using @NaturalId annotation. It can be used as the business key for some cases it is too complicated, so some fields are using as the identifier in the real world. \nFor example, I have user class with user id as primary key, and email is also unique field. So we can use email as our natural id  </p>\n\n<pre><code>@Entity\n@Table(name=\"user\")\npublic class User {\n  @Id\n  @Column(name=\"id\")\n  private int id;\n\n  @NaturalId\n  @Column(name=\"email\")\n  private String email;\n\n  @Column(name=\"name\")\n  private String name;\n}\n</code></pre>\n\n<p>To get our record, just simply use 'session.byNaturalId()'</p>\n\n<pre><code>Session session = sessionFactory.getCurrentSession();\nUser user = session.byNaturalId(User.class)\n                   .using(\"email\",\"huchenhai@qq.com\")\n                   .load()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1308827,"reputation":1559,"user_id":1257265,"accept_rate":38,"display_name":"kappa"},"score":1,"creation_date":1557297657,"post_id":54524568,"comment_id":98712364,"body_markdown":"In springbot you can use repositories, and just defining methods like findByEmail(String email) in its interface will do the magic","body":"In springbot you can use repositories, and just defining methods like findByEmail(String email) in its interface will do the magic"},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":2,"creation_date":1560975991,"post_id":54524568,"comment_id":99918007,"body_markdown":"I&#39;m lost - what on earth did I get out of moving from SQL to JPA if I have to still manually write out queries as strings?","body":"I&#39;m lost - what on earth did I get out of moving from SQL to JPA if I have to still manually write out queries as strings?"},{"owner":{"account_id":2483756,"reputation":1093,"user_id":2162653,"accept_rate":88,"display_name":"Ubunfu"},"score":0,"creation_date":1567798447,"post_id":54524568,"comment_id":102085428,"body_markdown":"I&#39;m not an expert, but I&#39;m very concerned about what appears to be a welcoming \n invitation for SQL injection in this solution.  Unless you can explain how this is not the case I would not recommend anyone ever do this.  @Serenade, please don&#39;t take this personally :)","body":"I&#39;m not an expert, but I&#39;m very concerned about what appears to be a welcoming   invitation for SQL injection in this solution.  Unless you can explain how this is not the case I would not recommend anyone ever do this.  @Serenade, please don&#39;t take this personally :)"},{"owner":{"account_id":8264624,"reputation":309,"user_id":6214664,"display_name":"Serenade"},"score":1,"creation_date":1569066982,"post_id":54524568,"comment_id":102480728,"body_markdown":"@Ubunfu, as far as I am aware, this is an example of parameter binding (using `.setParameter()` on the `EntityManager` `Query`. The user data is not within the query string itself. From the docs I have found, using this approach means the JDBC driver will properly escape the data before the query is executed. For an example, check [here](https://software-security.sans.org/developer-how-to/fix-sql-injection-in-java-persistence-api-jpa), [here](https://vladmihalcea.com/a-beginners-guide-to-sql-injection-and-how-you-should-prevent-it/), and [here](https://www.baeldung.com/sql-injection).","body":"@Ubunfu, as far as I am aware, this is an example of parameter binding (using <code>.setParameter()</code> on the <code>EntityManager</code> <code>Query</code>. The user data is not within the query string itself. From the docs I have found, using this approach means the JDBC driver will properly escape the data before the query is executed. For an example, check <a href=\"https://software-security.sans.org/developer-how-to/fix-sql-injection-in-java-persistence-api-jpa\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://vladmihalcea.com/a-beginners-guide-to-sql-injection-and-how-you-should-prevent-it/\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"https://www.baeldung.com/sql-injection\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":8264624,"reputation":309,"user_id":6214664,"display_name":"Serenade"},"score":0,"creation_date":1569067451,"post_id":54524568,"comment_id":102480821,"body_markdown":"@Ubunfu, also: If I&#39;ve convinced you, could you remove the downvote? Thanks!","body":"@Ubunfu, also: If I&#39;ve convinced you, could you remove the downvote? Thanks!"},{"owner":{"account_id":2483756,"reputation":1093,"user_id":2162653,"accept_rate":88,"display_name":"Ubunfu"},"score":0,"creation_date":1569073750,"post_id":54524568,"comment_id":102482337,"body_markdown":"Oh yea looks like you’re right. JPA makes best effort to protect you from SQL injection as long as you’re not using literal String concatenation to manually build a query. Unfortunately SO isn’t letting me remove the downvote unless you edit the answer?... I’ll try again later but to anyone who reads this just ignore my comment lol","body":"Oh yea looks like you’re right. JPA makes best effort to protect you from SQL injection as long as you’re not using literal String concatenation to manually build a query. Unfortunately SO isn’t letting me remove the downvote unless you edit the answer?... I’ll try again later but to anyone who reads this just ignore my comment lol"}],"tags":[],"owner":{"account_id":8264624,"reputation":309,"user_id":6214664,"display_name":"Serenade"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1569084775,"creation_date":1549315774,"answer_id":54524568,"question_id":14977018,"body_markdown":"In my Spring Boot app I resolved a similar type of issue like this:      \r\n\r\n```java\r\n@Autowired\r\nprivate EntityManager entityManager;\r\n\r\npublic User findByEmail(String email) {\r\n    User user = null;\r\n    Query query = entityManager.createQuery(&quot;SELECT u FROM User u WHERE u.email=:email&quot;);\r\n    query.setParameter(&quot;email&quot;, email);\r\n    try {\r\n        user = (User) query.getSingleResult();\r\n    } catch (Exception e) {\r\n        // Handle exception\r\n    }\r\n    return user;\r\n}\r\n```","title":"JPA: How to get entity based on field value other than ID?","body":"<p>In my Spring Boot app I resolved a similar type of issue like this:      </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate EntityManager entityManager;\n\npublic User findByEmail(String email) {\n    User user = null;\n    Query query = entityManager.createQuery(\"SELECT u FROM User u WHERE u.email=:email\");\n    query.setParameter(\"email\", email);\n    try {\n        user = (User) query.getSingleResult();\n    } catch (Exception e) {\n        // Handle exception\n    }\n    return user;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8266065,"reputation":151,"user_id":6215571,"display_name":"Claude Sylvanshine"},"score":1,"creation_date":1567433484,"post_id":55095213,"comment_id":101953022,"body_markdown":"The question is not about Spring, it is about JPA and Hibernate. They can be used outside of Spring.","body":"The question is not about Spring, it is about JPA and Hibernate. They can be used outside of Spring."}],"tags":[],"owner":{"account_id":2282282,"reputation":1401,"user_id":2007101,"display_name":"Chinmoy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552278319,"creation_date":1552278319,"answer_id":55095213,"question_id":14977018,"body_markdown":"Refer - [Spring docs for query methods][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\r\n\r\nWe can add methods in Spring Jpa by passing diff params in methods like:   \r\n`List&lt;Person&gt; findByEmailAddressAndLastname(EmailAddress emailAddress, String lastname);`  \r\n\r\n    // Enabling static ORDER BY for a query \r\n\r\n    List&lt;Person&gt; findByLastnameOrderByFirstnameAsc(String lastname);\r\n\r\n \r\n","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Refer - <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\" rel=\"nofollow noreferrer\">Spring docs for query methods</a></p>\n\n<p>We can add methods in Spring Jpa by passing diff params in methods like:<br>\n<code>List&lt;Person&gt; findByEmailAddressAndLastname(EmailAddress emailAddress, String lastname);</code>  </p>\n\n<pre><code>// Enabling static ORDER BY for a query \n\nList&lt;Person&gt; findByLastnameOrderByFirstnameAsc(String lastname);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2483756,"reputation":1093,"user_id":2162653,"accept_rate":88,"display_name":"Ubunfu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567805462,"creation_date":1567805147,"answer_id":57828698,"question_id":14977018,"body_markdown":"Edit: Just realized that @Chinmoy was getting at basically the same thing, but I think I may have done a better job ELI5 :)\r\n\r\nIf you&#39;re using a flavor of Spring Data to help persist / fetch things from whatever kind of `Repository` you&#39;ve defined, you can probably have your JPA provider do this for you via some clever tricks with method names in your `Repository` interface class.  Allow me to explain.\r\n\r\n(As a disclaimer, I just a few moments ago did/still am figuring this out for myself.) \r\n\r\nFor example, if I am storing Tokens in my database, I might have an entity class that looks like this:\r\n\r\n```\r\n@Data // &lt;&lt; Project Lombok convenience annotation\r\n@Entity\r\npublic class Token {\r\n    @Id\r\n    @Column(name = &quot;TOKEN_ID&quot;)\r\n    private String tokenId;\r\n\r\n    @Column(name = &quot;TOKEN&quot;)\r\n    private String token;\r\n\r\n    @Column(name = &quot;EXPIRATION&quot;)\r\n    private String expiration;\r\n\r\n    @Column(name = &quot;SCOPE&quot;)\r\n    private String scope;\r\n}\r\n```\r\n\r\nAnd I probably have a `CrudRepository&lt;K,V&gt;` interface defined like this, to give me simple CRUD operations on that Repository for free.\r\n\r\n```\r\n@Repository\r\n// CrudRepository&lt;{Entity Type}, {Entity Primary Key Type}&gt;\r\npublic interface TokenRepository extends CrudRepository&lt;Token, String&gt; { }\r\n```\r\n\r\nAnd when I&#39;m looking up one of these tokens, my purpose might be checking the expiration or scope, for example.  In either of those cases, I probably don&#39;t have the `tokenId` handy, but rather just the value of a `token` field itself that I want to look up.  \r\n\r\nTo do that, you can add an additional method to your `TokenRepository` interface in a clever way to tell your JPA provider that the value you&#39;re passing in to the method is not the `tokenId`, but the value of another field within the Entity class, and it should take that into account when it is generating the actual SQL that it will run against your database. \r\n\r\n```\r\n@Repository\r\n// CrudRepository&lt;{Entity Type}, {Entity Primary Key Type}&gt;\r\npublic interface TokenRepository extends CrudRepository&lt;Token, String&gt; { \r\n    List&lt;Token&gt; findByToken(String token);\r\n}\r\n```\r\n\r\nI read about this on the [Spring Data R2DBC docs page](https://docs.spring.io/spring-data/r2dbc/docs/1.0.0.M1/reference/html/#repositories.query-methods.query-creation), and it seems to be working so far within a SpringBoot 2.x app storing in an embedded H2 database.","title":"JPA: How to get entity based on field value other than ID?","body":"<p>Edit: Just realized that @Chinmoy was getting at basically the same thing, but I think I may have done a better job ELI5 :)</p>\n\n<p>If you're using a flavor of Spring Data to help persist / fetch things from whatever kind of <code>Repository</code> you've defined, you can probably have your JPA provider do this for you via some clever tricks with method names in your <code>Repository</code> interface class.  Allow me to explain.</p>\n\n<p>(As a disclaimer, I just a few moments ago did/still am figuring this out for myself.) </p>\n\n<p>For example, if I am storing Tokens in my database, I might have an entity class that looks like this:</p>\n\n<pre><code>@Data // &lt;&lt; Project Lombok convenience annotation\n@Entity\npublic class Token {\n    @Id\n    @Column(name = \"TOKEN_ID\")\n    private String tokenId;\n\n    @Column(name = \"TOKEN\")\n    private String token;\n\n    @Column(name = \"EXPIRATION\")\n    private String expiration;\n\n    @Column(name = \"SCOPE\")\n    private String scope;\n}\n</code></pre>\n\n<p>And I probably have a <code>CrudRepository&lt;K,V&gt;</code> interface defined like this, to give me simple CRUD operations on that Repository for free.</p>\n\n<pre><code>@Repository\n// CrudRepository&lt;{Entity Type}, {Entity Primary Key Type}&gt;\npublic interface TokenRepository extends CrudRepository&lt;Token, String&gt; { }\n</code></pre>\n\n<p>And when I'm looking up one of these tokens, my purpose might be checking the expiration or scope, for example.  In either of those cases, I probably don't have the <code>tokenId</code> handy, but rather just the value of a <code>token</code> field itself that I want to look up.  </p>\n\n<p>To do that, you can add an additional method to your <code>TokenRepository</code> interface in a clever way to tell your JPA provider that the value you're passing in to the method is not the <code>tokenId</code>, but the value of another field within the Entity class, and it should take that into account when it is generating the actual SQL that it will run against your database. </p>\n\n<pre><code>@Repository\n// CrudRepository&lt;{Entity Type}, {Entity Primary Key Type}&gt;\npublic interface TokenRepository extends CrudRepository&lt;Token, String&gt; { \n    List&lt;Token&gt; findByToken(String token);\n}\n</code></pre>\n\n<p>I read about this on the <a href=\"https://docs.spring.io/spring-data/r2dbc/docs/1.0.0.M1/reference/html/#repositories.query-methods.query-creation\" rel=\"nofollow noreferrer\">Spring Data R2DBC docs page</a>, and it seems to be working so far within a SpringBoot 2.x app storing in an embedded H2 database.</p>\n"},{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568268910,"creation_date":1568268910,"answer_id":57900710,"question_id":14977018,"body_markdown":"This solution is from Beginning Hibernate book: \r\n\r\n         Query&lt;User&gt; query = session.createQuery(&quot;from User u where u.scn=:scn&quot;, User.class);\r\n         query.setParameter(&quot;scn&quot;, scn);\r\n         User user = query.uniqueResult();    \r\n","title":"JPA: How to get entity based on field value other than ID?","body":"<p>This solution is from Beginning Hibernate book: </p>\n\n<pre><code>     Query&lt;User&gt; query = session.createQuery(\"from User u where u.scn=:scn\", User.class);\n     query.setParameter(\"scn\", scn);\n     User user = query.uniqueResult();    \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"score":1,"creation_date":1644982279,"post_id":59361897,"comment_id":125747494,"body_markdown":"I think this is the best answer. Consider my revision","body":"I think this is the best answer. Consider my revision"},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1645022303,"post_id":59361897,"comment_id":125760173,"body_markdown":"@amphibient Thanks! Is `Queryquery` the way it&#39;s supposed to be, or is it a typo?","body":"@amphibient Thanks! Is <code>Queryquery</code> the way it&#39;s supposed to be, or is it a typo?"},{"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"score":0,"creation_date":1645024568,"post_id":59361897,"comment_id":125761230,"body_markdown":"it is not typed","body":"it is not typed"}],"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645024579,"creation_date":1576518664,"answer_id":59361897,"question_id":14977018,"body_markdown":"All the answers require you to write some sort of SQL/HQL/whatever. Why? You don&#39;t have to - just use `CriteriaBuilder`:\r\n\r\n**Person.java**:\r\n\r\n```\r\n@Entity\r\nclass Person  {\r\n  @Id @GeneratedValue\r\n  private int id;\r\n\r\n  @Column(name = &quot;name&quot;)\r\n  private String name;\r\n  @Column(name = &quot;age&quot;)\r\n  private int age;\r\n  ...\r\n}\r\n```\r\n**Dao.java**:\r\n```\r\npublic class Dao  {\r\n  public static Person getPersonByName(String name)  {\r\n        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n        \r\n        CriteriaBuilder cb = session.getCriteriaBuilder();\r\n        \r\n        CriteriaQuery&lt;Person&gt; cr = cb.createQuery(Person.class);\r\n        Root&lt;Person&gt; root = cr.from(Person.class);\r\n        cr.select(root).where(cb.equal(root.get(&quot;name&quot;), name));  //here you pass a class field, not a table column (in this example they are called the same)\r\n\r\n        Query query = session.createQuery(cr);\r\n        query.setMaxResults(1);\r\n        List&lt;Person&gt; resultList = query.getResultList();\r\n\r\n        Person result = resultList.get(0);\r\n        \r\n        return result;\r\n  }\r\n}\r\n```\r\n\r\n**example of use:**\r\n\r\n```\r\npublic static void main(String[] args)  {\r\n  Person person = Dao.getPersonByName(&quot;John&quot;);\r\n  System.out.println(person.getAge());  //John&#39;s age\r\n}\r\n```","title":"JPA: How to get entity based on field value other than ID?","body":"<p>All the answers require you to write some sort of SQL/HQL/whatever. Why? You don't have to - just use <code>CriteriaBuilder</code>:</p>\n<p><strong>Person.java</strong>:</p>\n<pre><code>@Entity\nclass Person  {\n  @Id @GeneratedValue\n  private int id;\n\n  @Column(name = &quot;name&quot;)\n  private String name;\n  @Column(name = &quot;age&quot;)\n  private int age;\n  ...\n}\n</code></pre>\n<p><strong>Dao.java</strong>:</p>\n<pre><code>public class Dao  {\n  public static Person getPersonByName(String name)  {\n        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        session.beginTransaction();\n        \n        CriteriaBuilder cb = session.getCriteriaBuilder();\n        \n        CriteriaQuery&lt;Person&gt; cr = cb.createQuery(Person.class);\n        Root&lt;Person&gt; root = cr.from(Person.class);\n        cr.select(root).where(cb.equal(root.get(&quot;name&quot;), name));  //here you pass a class field, not a table column (in this example they are called the same)\n\n        Query query = session.createQuery(cr);\n        query.setMaxResults(1);\n        List&lt;Person&gt; resultList = query.getResultList();\n\n        Person result = resultList.get(0);\n        \n        return result;\n  }\n}\n</code></pre>\n<p><strong>example of use:</strong></p>\n<pre><code>public static void main(String[] args)  {\n  Person person = Dao.getPersonByName(&quot;John&quot;);\n  System.out.println(person.getAge());  //John's age\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7517278,"reputation":11,"user_id":5710288,"display_name":"kamalveer singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588321934,"creation_date":1588321934,"answer_id":61539168,"question_id":14977018,"body_markdown":"No, you don&#39;t need to make criteria query it would be boilerplate code you just do simple thing if you working in Spring-boot:\r\nin your repo declare a method name with findBy[exact field name].\r\nExample- \r\nif your model or document consist a string field **myField**  and you want to find by it then your method name will be:\r\n\r\n**findBymyField(String myField);**","title":"JPA: How to get entity based on field value other than ID?","body":"<p>No, you don't need to make criteria query it would be boilerplate code you just do simple thing if you working in Spring-boot:\nin your repo declare a method name with findBy[exact field name].\nExample- \nif your model or document consist a string field <strong>myField</strong>  and you want to find by it then your method name will be:</p>\n\n<p><strong>findBymyField(String myField);</strong></p>\n"},{"comments":[{"owner":{"account_id":253764,"reputation":7391,"user_id":532685,"accept_rate":92,"display_name":"nycynik"},"score":0,"creation_date":1614583301,"post_id":63907563,"comment_id":117419043,"body_markdown":"feels like the best answer.","body":"feels like the best answer."},{"owner":{"account_id":13200910,"reputation":1537,"user_id":9534184,"display_name":"nassim"},"score":0,"creation_date":1653134809,"post_id":63907563,"comment_id":127780091,"body_markdown":"gives me exception : java.lang.ClassCastException: class com.example.API.model.Currency cannot be cast to class java.io.Serializable","body":"gives me exception : java.lang.ClassCastException: class com.example.API.model.Currency cannot be cast to class java.io.Serializable"},{"owner":{"account_id":4919995,"reputation":129,"user_id":3962816,"accept_rate":75,"display_name":"gaurav kumar"},"score":0,"creation_date":1681789070,"post_id":63907563,"comment_id":134109680,"body_markdown":"@nassim seems problem with your model class, if you are using composite key. Then your model class needs to be serializable.","body":"@nassim seems problem with your model class, if you are using composite key. Then your model class needs to be serializable."}],"tags":[],"owner":{"account_id":19126061,"reputation":169,"user_id":13969017,"display_name":"romeucr"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1600193297,"creation_date":1600193297,"answer_id":63907563,"question_id":14977018,"body_markdown":"I solved a similar problem, where I wanted to find a book by its isbnCode not by your id(primary key).  \r\n\r\n```\r\n@Entity\r\npublic class Book implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String isbnCode;\r\n\r\n...\r\n```\r\n\r\nIn the repository the method was created like @kamalveer singh mentioned. Note that the method name is findBy+fieldName (in my case: findByisbnCode):\r\n\r\n```\r\n@Repository\r\npublic interface BookRepository extends JpaRepository&lt;Book, Integer&gt; {\r\n\r\n\tBook findByisbnCode(String isbnCode);\r\n}\r\n```\r\n\r\nThen, implemented the method in the service:  \r\n````\r\n@Service\r\npublic class BookService {\r\n\r\n\t@Autowired\r\n\tprivate BookRepository repo;\r\n\t\r\n\t\r\n\tpublic Book findByIsbnCode(String isbnCode) {\r\n\t\tBook obj = repo.findByisbnCode(isbnCode);\r\n\t\treturn obj; \r\n\t}\r\n}","title":"JPA: How to get entity based on field value other than ID?","body":"<p>I solved a similar problem, where I wanted to find a book by its isbnCode not by your id(primary key).</p>\n<pre><code>@Entity\npublic class Book implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n    private String isbnCode;\n\n...\n</code></pre>\n<p>In the repository the method was created like @kamalveer singh mentioned. Note that the method name is findBy+fieldName (in my case: findByisbnCode):</p>\n<pre><code>@Repository\npublic interface BookRepository extends JpaRepository&lt;Book, Integer&gt; {\n\n    Book findByisbnCode(String isbnCode);\n}\n</code></pre>\n<p>Then, implemented the method in the service:</p>\n<pre><code>@Service\npublic class BookService {\n\n    @Autowired\n    private BookRepository repo;\n    \n    \n    public Book findByIsbnCode(String isbnCode) {\n        Book obj = repo.findByisbnCode(isbnCode);\n        return obj; \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4971565,"reputation":336,"user_id":3999107,"accept_rate":20,"display_name":"Dheeraj Upadhyay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651472791,"creation_date":1651472791,"answer_id":72083034,"question_id":14977018,"body_markdown":"This is very basic query :\r\n\r\nEntity : **Student** \r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class Student{\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;, strategy = GenerationType.IDENTITY)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;\r\n\r\n    @Column(nullable = false)\r\n    @Version\r\n    @JsonIgnore\r\n    private Integer version;\r\n\r\n\tprivate String studentId;\r\n\r\n\tprivate String studentName;\r\n\r\n\tprivate OffsetDateTime enrollDate;\r\n\t\r\n    }\r\n\r\n\r\nRepository Interface : **StudentRepository** \r\n\r\n    @Repository\r\n    public interface StudentRepository extends JpaRepository&lt;Student, String&gt; {\r\n\r\n\tList&lt;Student&gt; findByStudentName(String studentName);\r\n\r\n\tList&lt;Student&gt; findByStudentNameOrderByEnrollDateDesc(String studentName);\r\n\r\n    @Transactional\r\n\t@Modifying\r\n\tvoid deleteByStudentName(String studentName);\r\n    } \r\n\r\nNote: \r\nfindByColumnName : give results by criteria\r\n\r\nList&lt;Student&gt; findByStudentName(String studentName)\r\nInternally convert into query : **select * from Student where name=&#39;studentName&#39;**\r\n\r\n@Transactional \r\n@Modifying\r\n**Is useful when you want to remove persisted data from database.**","title":"JPA: How to get entity based on field value other than ID?","body":"<p>This is very basic query :</p>\n<p>Entity : <strong>Student</strong></p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\npublic class Student{\n@Id\n@GeneratedValue(generator = &quot;uuid2&quot;, strategy = GenerationType.IDENTITY)\n@GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\nprivate String id;\n\n@Column(nullable = false)\n@Version\n@JsonIgnore\nprivate Integer version;\n\nprivate String studentId;\n\nprivate String studentName;\n\nprivate OffsetDateTime enrollDate;\n\n}\n</code></pre>\n<p>Repository Interface : <strong>StudentRepository</strong></p>\n<pre><code>@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, String&gt; {\n\nList&lt;Student&gt; findByStudentName(String studentName);\n\nList&lt;Student&gt; findByStudentNameOrderByEnrollDateDesc(String studentName);\n\n@Transactional\n@Modifying\nvoid deleteByStudentName(String studentName);\n} \n</code></pre>\n<p>Note:\nfindByColumnName : give results by criteria</p>\n<p>List findByStudentName(String studentName)\nInternally convert into query : <strong>select * from Student where name='studentName'</strong></p>\n<p>@Transactional\n@Modifying\n<strong>Is useful when you want to remove persisted data from database.</strong></p>\n"},{"tags":[],"owner":{"account_id":202328,"reputation":656,"user_id":449335,"accept_rate":80,"display_name":"Jukka H&#228;m&#228;l&#228;inen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687358679,"creation_date":1687358679,"answer_id":76524558,"question_id":14977018,"body_markdown":"I think all these answers are missing the easiest way of getting the id, which is returning the persisted entity right after persisting it. So if this is your entity:\r\n\r\n    public class Entity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    }\r\n\r\nThe ID is to be generated at flush when using entity manager. You can call flush the entity manager explicitly:\r\n\r\n    em.persist(entity);\r\n    em.flush();\r\n    return entity.getId();\r\n\r\n(In fact above I would return the whole entity to the client instead of just the id, but this is only an example.)\r\n\r\nOr you can just return the entity and when the transaction is ended, it will also be flushed and the id should be filled automatically to your entity:\r\n\r\n    @Transactional(readOnly = false)\r\n    @Override\r\n    public Entity store(Entity entity) {\r\n        dao.store(entity);\r\n        // the id should be filled after this gets returned as the transaction boundary is set for this method\r\n        return entity;\r\n    }\r\n\r\nAs the question is very old, I will also add modern way with Spring Data:\r\n\r\n    @Transactional(readOnly = false)\r\n    @Override\r\n    public Entity store(Entity entity) {\r\n        return getRepository().save(entity);\r\n    }\r\n\r\nThere is no need for extra fetches.","title":"JPA: How to get entity based on field value other than ID?","body":"<p>I think all these answers are missing the easiest way of getting the id, which is returning the persisted entity right after persisting it. So if this is your entity:</p>\n<pre><code>public class Entity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n}\n</code></pre>\n<p>The ID is to be generated at flush when using entity manager. You can call flush the entity manager explicitly:</p>\n<pre><code>em.persist(entity);\nem.flush();\nreturn entity.getId();\n</code></pre>\n<p>(In fact above I would return the whole entity to the client instead of just the id, but this is only an example.)</p>\n<p>Or you can just return the entity and when the transaction is ended, it will also be flushed and the id should be filled automatically to your entity:</p>\n<pre><code>@Transactional(readOnly = false)\n@Override\npublic Entity store(Entity entity) {\n    dao.store(entity);\n    // the id should be filled after this gets returned as the transaction boundary is set for this method\n    return entity;\n}\n</code></pre>\n<p>As the question is very old, I will also add modern way with Spring Data:</p>\n<pre><code>@Transactional(readOnly = false)\n@Override\npublic Entity store(Entity entity) {\n    return getRepository().save(entity);\n}\n</code></pre>\n<p>There is no need for extra fetches.</p>\n"}],"owner":{"account_id":1362678,"reputation":3515,"user_id":1299738,"accept_rate":64,"display_name":"Neo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252005,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"answer_count":17,"score":90,"last_activity_date":1687358679,"creation_date":1361354516,"question_id":14977018,"body_markdown":"In JPA (Hibernate), when we automatically generate the ID field, it is assumed that the user has no knowledge about this key. So, when obtaining the entity, user would query based on some field other than ID. How do we obtain the entity in that case (since `em.find()` cannot be used). \r\n\r\nI understand we can use a query and filter the results later. But, is there a more direct way (because this is a very common problem as I understand).","title":"JPA: How to get entity based on field value other than ID?","body":"<p>In JPA (Hibernate), when we automatically generate the ID field, it is assumed that the user has no knowledge about this key. So, when obtaining the entity, user would query based on some field other than ID. How do we obtain the entity in that case (since <code>em.find()</code> cannot be used). </p>\n\n<p>I understand we can use a query and filter the results later. But, is there a more direct way (because this is a very common problem as I understand).</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1687349562,"post_id":76523148,"comment_id":134923848,"body_markdown":"it helps if you read the stacktraces: Caused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String; chances are, you are now using another version, and the signature of the method changed, or it has been removed","body":"it helps if you read the stacktraces: Caused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lan&zwnj;&#8203;g/String; chances are, you are now using another version, and the signature of the method changed, or it has been removed"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687353386,"post_id":76523148,"comment_id":134924756,"body_markdown":"Does this answer your question? [Getting NoSuchMethodError:javax.servlet.ServletContext.getVirtualServerName()](https://stackoverflow.com/questions/34950164/getting-nosuchmethoderrorjavax-servlet-servletcontext-getvirtualservername)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34950164/getting-nosuchmethoderrorjavax-servlet-servletcontext-getvirtualservername\">Getting NoSuchMethodError:javax.servlet.ServletContext.getVirtualSer&zwnj;&#8203;verName()</a>"},{"owner":{"account_id":25717565,"reputation":57,"user_id":19475057,"display_name":"Дейвид Аптикадир"},"score":0,"creation_date":1687358543,"post_id":76523148,"comment_id":134926171,"body_markdown":"Yes, it helped quite a lot thank you @Stultuske","body":"Yes, it helped quite a lot thank you @Stultuske"}],"answers":[{"tags":[],"owner":{"account_id":27453782,"reputation":1,"user_id":20945562,"display_name":"SillyGoose"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687356004,"creation_date":1687353057,"answer_id":76523668,"question_id":76523148,"body_markdown":"I think your using an old mehtod which isn&#39;t supported anymore or sth is packaged wrong in the jar. Also try to update all dependencies.","title":"Can&#39;t start my spring boot app after reinstalling intelijidea ultimate","body":"<p>I think your using an old mehtod which isn't supported anymore or sth is packaged wrong in the jar. Also try to update all dependencies.</p>\n"},{"tags":[],"owner":{"account_id":25717565,"reputation":57,"user_id":19475057,"display_name":"Дейвид Аптикадир"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687358490,"creation_date":1687358490,"answer_id":76524532,"question_id":76523148,"body_markdown":"Hi I found the issue it was this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0-alpha-1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\n\r\nafter removing it everything worked fine.","title":"Can&#39;t start my spring boot app after reinstalling intelijidea ultimate","body":"<p>Hi I found the issue it was this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0-alpha-1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>after removing it everything worked fine.</p>\n"}],"owner":{"account_id":25717565,"reputation":57,"user_id":19475057,"display_name":"Дейвид Аптикадир"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687358490,"creation_date":1687349467,"question_id":76523148,"body_markdown":"I had to reinstall my intelijidea ultimate, before that I was running my spring boot app just fine. After reinstalling I am stuck getting this error:\r\n\r\n    2023-06-21 13:07:34.579  INFO 5684 --- [  restartedMain] e.m.MicrosoftCreateNewAccountApplication : Starting MicrosoftCreateNewAccountApplication on DESKTOP-V3T6AKK with PID 5684 (D:\\work\\MicrosoftCreateNewAccount\\target\\classes started by David in D:\\work\\MicrosoftCreateNewAccount)\r\n    2023-06-21 13:07:34.579  INFO 5684 --- [  restartedMain] e.m.MicrosoftCreateNewAccountApplication : No active profile set, falling back to default profiles: default\r\n    2023-06-21 13:07:34.680  INFO 5684 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@42adbd49: startup date [Wed Jun 21 13:07:34 BST 2023]; root of context hierarchy\r\n    2023-06-21 13:07:35.249  INFO 5684 --- [  restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n    2023-06-21 13:07:35.254  INFO 5684 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-06-21 13:07:35.255  INFO 5684 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.27\r\n    2023-06-21 13:07:35.304 ERROR 5684 --- [cat-startStop-1] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n    \r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122) [na:1.8.0_362]\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192) [na:1.8.0_362]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_362]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_362]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_362]\r\n    \tat java.lang.Thread.run(Thread.java:750) [na:1.8.0_362]\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 6 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [Pipeline[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5117) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 6 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.authenticator.NonLoginAuthenticator[]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:182) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 8 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1194) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 10 common frames omitted\r\n    \r\n    2023-06-21 13:07:35.304 ERROR 5684 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n    \r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_362]\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_362]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:367) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:99) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:84) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:554) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:179) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537) [spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat com.example.microsoftcreatenewaccount.MicrosoftCreateNewAccountApplication.main(MicrosoftCreateNewAccountApplication.java:12) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_362]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_362]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_362]\r\n    \tat java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_362]\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 6 common frames omitted\r\n    \r\n    2023-06-21 13:07:35.305  WARN 5684 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    2023-06-21 13:07:35.309  INFO 5684 --- [  restartedMain] utoConfigurationReportLoggingInitializer : \r\n    \r\n    Error starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n    2023-06-21 13:07:35.312 ERROR 5684 --- [  restartedMain] o.s.boot.SpringApplication               : Application startup failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:137) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat com.example.microsoftcreatenewaccount.MicrosoftCreateNewAccountApplication.main(MicrosoftCreateNewAccountApplication.java:12) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    Caused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:123) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:84) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:554) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:179) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \t... 13 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardServer[-1]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:367) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:99) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n    \t... 18 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Tomcat]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 20 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 22 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\r\n    \t... 24 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 0\r\n\r\n","title":"Can&#39;t start my spring boot app after reinstalling intelijidea ultimate","body":"<p>I had to reinstall my intelijidea ultimate, before that I was running my spring boot app just fine. After reinstalling I am stuck getting this error:</p>\n<pre><code>2023-06-21 13:07:34.579  INFO 5684 --- [  restartedMain] e.m.MicrosoftCreateNewAccountApplication : Starting MicrosoftCreateNewAccountApplication on DESKTOP-V3T6AKK with PID 5684 (D:\\work\\MicrosoftCreateNewAccount\\target\\classes started by David in D:\\work\\MicrosoftCreateNewAccount)\n2023-06-21 13:07:34.579  INFO 5684 --- [  restartedMain] e.m.MicrosoftCreateNewAccountApplication : No active profile set, falling back to default profiles: default\n2023-06-21 13:07:34.680  INFO 5684 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@42adbd49: startup date [Wed Jun 21 13:07:34 BST 2023]; root of context hierarchy\n2023-06-21 13:07:35.249  INFO 5684 --- [  restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2023-06-21 13:07:35.254  INFO 5684 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-06-21 13:07:35.255  INFO 5684 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.27\n2023-06-21 13:07:35.304 ERROR 5684 --- [cat-startStop-1] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122) [na:1.8.0_362]\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192) [na:1.8.0_362]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_362]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_362]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_362]\n    at java.lang.Thread.run(Thread.java:750) [na:1.8.0_362]\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 6 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [Pipeline[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5117) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 6 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.authenticator.NonLoginAuthenticator[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:182) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 8 common frames omitted\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\n    at org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1194) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 10 common frames omitted\n\n2023-06-21 13:07:35.304 ERROR 5684 --- [  restartedMain] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_362]\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_362]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:367) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:99) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:84) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:554) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:179) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537) [spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at com.example.microsoftcreatenewaccount.MicrosoftCreateNewAccountApplication.main(MicrosoftCreateNewAccountApplication.java:12) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.10.RELEASE.jar:1.5.10.RELEASE]\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_362]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_362]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_362]\n    at java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_362]\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 6 common frames omitted\n\n2023-06-21 13:07:35.305  WARN 5684 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n2023-06-21 13:07:35.309  INFO 5684 --- [  restartedMain] utoConfigurationReportLoggingInitializer : \n\nError starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2023-06-21 13:07:35.312 ERROR 5684 --- [  restartedMain] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:137) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at com.example.microsoftcreatenewaccount.MicrosoftCreateNewAccountApplication.main(MicrosoftCreateNewAccountApplication.java:12) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.10.RELEASE.jar:1.5.10.RELEASE]\nCaused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:123) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:84) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:554) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:179) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:164) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    ... 13 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardServer[-1]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:367) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:99) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\n    ... 18 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Tomcat]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 20 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 22 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.27.jar:8.5.27]\n    ... 24 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","json","hashmap"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687293246,"post_id":76518173,"comment_id":134915705,"body_markdown":"Do you need to do it with exactly gson library?","body":"Do you need to do it with exactly gson library?"},{"owner":{"account_id":13833731,"reputation":402,"user_id":9985849,"display_name":"Akshay Katiha"},"score":0,"creation_date":1687683434,"post_id":76518173,"comment_id":134968567,"body_markdown":"No @gdomo. Any solution would have worked for me. BTW thanks for the answer","body":"No @gdomo. Any solution would have worked for me. BTW thanks for the answer"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687294325,"creation_date":1687294325,"answer_id":76518318,"question_id":76518173,"body_markdown":"With the gson library it could be achived like this:\r\n\r\n\r\n    final List&lt;String&gt; failedCases = JsonParser.parseString(jsonString)\r\n            .getAsJsonObject().entrySet()\r\n            .stream() // get stream of all json entries, i.e. tags\r\n            .map(Map.Entry::getValue) // get stream of tag values\r\n            .map(JsonElement::getAsJsonObject)\r\n            .flatMap(e -&gt; e.entrySet().stream()) // get stream of all test cases entries (name to value)\r\n            .filter(e -&gt; e.getValue().getAsJsonObject() // filter test cases with &quot;failed&quot; Status value\r\n                    .get(&quot;Status&quot;).getAsString().equals(&quot;fail&quot;)\r\n            )\r\n            .map(Map.Entry::getKey) // get test cases names\r\n            .collect(Collectors.toList());","title":"Parse JSON file that has nested keys","body":"<p>With the gson library it could be achived like this:</p>\n<pre><code>final List&lt;String&gt; failedCases = JsonParser.parseString(jsonString)\n        .getAsJsonObject().entrySet()\n        .stream() // get stream of all json entries, i.e. tags\n        .map(Map.Entry::getValue) // get stream of tag values\n        .map(JsonElement::getAsJsonObject)\n        .flatMap(e -&gt; e.entrySet().stream()) // get stream of all test cases entries (name to value)\n        .filter(e -&gt; e.getValue().getAsJsonObject() // filter test cases with &quot;failed&quot; Status value\n                .get(&quot;Status&quot;).getAsString().equals(&quot;fail&quot;)\n        )\n        .map(Map.Entry::getKey) // get test cases names\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687300793,"creation_date":1687300793,"answer_id":76518790,"question_id":76518173,"body_markdown":"@gdomo &#39;s answer is pretty clean, here is how you can do the same with jackson\r\n\r\n    Map&lt;String, Map&lt;String, TestCase&gt;&gt; json = objectMapper.readValue(file, new TypeReference&lt;&gt;() {});\r\n        List&lt;String&gt; passes = json\r\n                .values() // Lists of Entry { testCaseName: TestCase } grouped by tagName\r\n                .stream().flatMap(entry -&gt; entry.entrySet().stream())   // 1 list of all Entries { testCaseName : TestCase }\r\n                .filter(entry -&gt; entry.getValue().getStatus().equals(&quot;pass&quot;)) // filter entries that pass\r\n                .map(Map.Entry::getKey)       // get the testCaseNames of entries that pass\r\n                .toList();\r\nnotice I am using a defined TestCase class &quot;which is cleaner practice&quot; \r\n\r\n    public class TestCase {\r\n        @JsonProperty(value = &quot;Status&quot;)\r\n        private String status;\r\n        @JsonProperty(value = &quot;RunTime&quot;)\r\n        private String runtime;\r\n        // getters, setters\r\n    }","title":"Parse JSON file that has nested keys","body":"<p>@gdomo 's answer is pretty clean, here is how you can do the same with jackson</p>\n<pre><code>Map&lt;String, Map&lt;String, TestCase&gt;&gt; json = objectMapper.readValue(file, new TypeReference&lt;&gt;() {});\n    List&lt;String&gt; passes = json\n            .values() // Lists of Entry { testCaseName: TestCase } grouped by tagName\n            .stream().flatMap(entry -&gt; entry.entrySet().stream())   // 1 list of all Entries { testCaseName : TestCase }\n            .filter(entry -&gt; entry.getValue().getStatus().equals(&quot;pass&quot;)) // filter entries that pass\n            .map(Map.Entry::getKey)       // get the testCaseNames of entries that pass\n            .toList();\n</code></pre>\n<p>notice I am using a defined TestCase class &quot;which is cleaner practice&quot;</p>\n<pre><code>public class TestCase {\n    @JsonProperty(value = &quot;Status&quot;)\n    private String status;\n    @JsonProperty(value = &quot;RunTime&quot;)\n    private String runtime;\n    // getters, setters\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687358486,"creation_date":1687358486,"answer_id":76524530,"question_id":76518173,"body_markdown":"You may try library _Josson_.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(jsonString);\r\n    JsonNode node = josson.getNode(&quot;**.*[value.Status=&#39;pass&#39;]*.get(..key)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ &quot;TestCaseName1&quot;, &quot;TestCaseName3&quot; ]\r\n","title":"Parse JSON file that has nested keys","body":"<p>You may try library <em>Josson</em>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(jsonString);\nJsonNode node = josson.getNode(&quot;**.*[value.Status='pass']*.get(..key)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ &quot;TestCaseName1&quot;, &quot;TestCaseName3&quot; ]\n</code></pre>\n"}],"owner":{"account_id":13833731,"reputation":402,"user_id":9985849,"display_name":"Akshay Katiha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687358486,"creation_date":1687292763,"question_id":76518173,"body_markdown":"I have a JSON file that contains nested key-value pairs. My JSON file looks like this\r\n```\r\n{\r\n   &quot;TagName1&quot;:{\r\n      &quot;TestCaseName1&quot;:{\r\n         &quot;Status&quot;:&quot;pass&quot;,\r\n         &quot;RunTime&quot;:&quot;063045&quot;\r\n      },\r\n      &quot;TestCaseName2&quot;:{\r\n         &quot;Status&quot;:&quot;fail&quot;,\r\n         &quot;RunTime&quot;:&quot;064045&quot;\r\n      }\r\n   },\r\n   &quot;TagName2&quot;:{\r\n      &quot;TestCaseName3&quot;:{\r\n         &quot;Status&quot;:&quot;pass&quot;,\r\n         &quot;RunTime&quot;:&quot;073045&quot;\r\n      },\r\n      &quot;TestCaseName4&quot;:{\r\n         &quot;Status&quot;:&quot;fail&quot;,\r\n         &quot;RunTime&quot;:&quot;074045&quot;\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nI want to fetch the name of test cases based on their `Status`. Is there a way to do fetch nested key-values from JSON file?\r\n\r\nI tried to solve this problem by using Reader and creating nested Hashmap of key-value pair, something like this\r\n\r\n```\r\ntry{\r\n    Gson gson = new Gson();\r\n    Reader reader = Files.newBufferReader(Paths.get(filePath));\r\n    HashMap&lt;String, HashMap&lt;String, HashMap&lt;String,String&gt;&gt;&gt; parsedJson = gson.fromJson(reader,HashMap.class);\r\n} \r\n```\r\nI am struck at extracting the Status value. Is there a way to read the `Status` value and fetch the name of test case.","title":"Parse JSON file that has nested keys","body":"<p>I have a JSON file that contains nested key-value pairs. My JSON file looks like this</p>\n<pre><code>{\n   &quot;TagName1&quot;:{\n      &quot;TestCaseName1&quot;:{\n         &quot;Status&quot;:&quot;pass&quot;,\n         &quot;RunTime&quot;:&quot;063045&quot;\n      },\n      &quot;TestCaseName2&quot;:{\n         &quot;Status&quot;:&quot;fail&quot;,\n         &quot;RunTime&quot;:&quot;064045&quot;\n      }\n   },\n   &quot;TagName2&quot;:{\n      &quot;TestCaseName3&quot;:{\n         &quot;Status&quot;:&quot;pass&quot;,\n         &quot;RunTime&quot;:&quot;073045&quot;\n      },\n      &quot;TestCaseName4&quot;:{\n         &quot;Status&quot;:&quot;fail&quot;,\n         &quot;RunTime&quot;:&quot;074045&quot;\n      }\n   }\n}\n</code></pre>\n<p>I want to fetch the name of test cases based on their <code>Status</code>. Is there a way to do fetch nested key-values from JSON file?</p>\n<p>I tried to solve this problem by using Reader and creating nested Hashmap of key-value pair, something like this</p>\n<pre><code>try{\n    Gson gson = new Gson();\n    Reader reader = Files.newBufferReader(Paths.get(filePath));\n    HashMap&lt;String, HashMap&lt;String, HashMap&lt;String,String&gt;&gt;&gt; parsedJson = gson.fromJson(reader,HashMap.class);\n} \n</code></pre>\n<p>I am struck at extracting the Status value. Is there a way to read the <code>Status</code> value and fetch the name of test case.</p>\n"},{"tags":["java","ssl","bouncycastle","java-7"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1687359687,"post_id":76524453,"comment_id":134926510,"body_markdown":"The bcprov+bcutil jars, accessed by the `BouncyCastleProvider` class, provide only cryptographic _primitives_, including AES-GCM. You are still using the Sun/Oracle/Open provider _for TLS_ (SunJSSE) which does not implement ciphersuites _containing_ AES-GCM. **For GCM you need to also use the bctls jar accessed by `org.bouncycastle.jsse.provider.BouncyCastleJsseProvider`.** However you should be able to use the 5th or 6th suite in your &#39;Testing&#39; list, which are CBC suites, with &#39;standard&#39; j7.","body":"The bcprov+bcutil jars, accessed by the <code>BouncyCastleProvider</code> class, provide only cryptographic <i>primitives</i>, including AES-GCM. You are still using the Sun/Oracle/Open provider <i>for TLS</i> (SunJSSE) which does not implement ciphersuites <i>containing</i> AES-GCM. <b>For GCM you need to also use the bctls jar accessed by <code>org.bouncycastle.jsse.provider.BouncyCastleJsseProvider</code>.</b> However you should be able to use the 5th or 6th suite in your &#39;Testing&#39; list, which are CBC suites, with &#39;standard&#39; j7."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1687360513,"post_id":76524453,"comment_id":134926716,"body_markdown":"... In particular TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 and/or TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 should work -- and they&#39;re listed as &#39;ignoring&#39; in the debuglog, I think because they can&#39;t be used in protocols below TLSv1.2. Try `setEnabledProtocols` to `&quot;TLSv1.2&quot;` _only_ and see if that helps.","body":"... In particular TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 and/or TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 should work -- and they&#39;re listed as &#39;ignoring&#39; in the debuglog, I think because they can&#39;t be used in protocols below TLSv1.2. Try <code>setEnabledProtocols</code> to <code>&quot;TLSv1.2&quot;</code> <i>only</i> and see if that helps."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1687360921,"post_id":76524453,"comment_id":134926824,"body_markdown":"In fact now I look at the previous A you linked it already said for GCM in 7 to download _both_ bcprov and bctls and configure _both_ BouncyCastleProvider and BouncyCastleJsseProvider !","body":"In fact now I look at the previous A you linked it already said for GCM in 7 to download <i>both</i> bcprov and bctls and configure <i>both</i> BouncyCastleProvider and BouncyCastleJsseProvider !"},{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1687365686,"post_id":76524453,"comment_id":134927887,"body_markdown":"@dave_thompson_085 My bad, I missed that part. Now I am getting another error, but I have opened another question for that. Thank you for your clarification about why both providers are needed (which is not explained in that answer).","body":"@dave_thompson_085 My bad, I missed that part. Now I am getting another error, but I have opened another question for that. Thank you for your clarification about why both providers are needed (which is not explained in that answer)."}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687358055,"creation_date":1687358055,"question_id":76524453,"body_markdown":"First of all, I premise that I am fully aware that Java 7 is EOL, vulnerable, extremely old and should not be used in 2023, but I need to mantain a legacy application which requires Java 7. **I cannot upgrade it**, so, please, read the full question (or jump to the next one) instead of commenting immediately with &quot;Java 7 is old, upgrade it&quot; just because there is &quot;Java 7&quot; in the title. Thank you for your understanding.\r\n\r\n---\r\n\r\nI have a legacy Java 7 application which sends some HTTPS requests to a server. Recently, that server changed its supported TLS ciphers so now all HTTP requests done from my Java application throw an exception.\r\n\r\nThis is a sample of the code I am using to send the HTTP requests:\r\n``` java\r\nURL url = new URL(&quot;https://precision.epayworldwide.com/up-interface&quot;);\r\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\nString responseLine = reader.readLine();\r\n\r\nwhile (responseLine != null)\r\n{\r\n\tSystem.out.printf(&quot;%s\\n&quot;, responseLine);\r\n\tresponseLine = reader.readLine();\r\n}\r\n```\r\n\r\nand this is the exception I get:\r\n```\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n\tat sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1943)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1059)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1294)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1321)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1305)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n\tat Main.main(Main.java:17)\r\n```\r\n\r\nTo try to fix this exception I have tried the following steps (as suggested by [this](https://stackoverflow.com/a/49154932/9864539) answer):\r\n1. I have donwloaded `bcprov-jdk15to18-175.jar` from [BouncyCastle](https://www.bouncycastle.org/latest_releases.html) and I have added this JAR in my `jdk/jre/lib/ext` directory.\r\n2. I have edited the `jdk/jre/lib/security/java.security` file placing `org.bouncycastle.jce.provider.BouncyCastleProvider` at the top of the list of providers:\r\n\r\n```\r\n#\r\n# List of providers and their preference orders (see above):\r\n#\r\nsecurity.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\r\nsecurity.provider.2=sun.security.provider.Sun\r\nsecurity.provider.3=sun.security.rsa.SunRsaSign\r\nsecurity.provider.4=sun.security.ec.SunEC\r\nsecurity.provider.5=com.sun.net.ssl.internal.ssl.Provider\r\nsecurity.provider.6=com.sun.crypto.provider.SunJCE\r\nsecurity.provider.7=sun.security.jgss.SunProvider\r\nsecurity.provider.8=com.sun.security.sasl.Provider\r\nsecurity.provider.9=org.jcp.xml.dsig.internal.dom.XMLDSigRI\r\nsecurity.provider.10=sun.security.smartcardio.SunPCSC\r\nsecurity.provider.11=sun.security.mscapi.SunMSCAPI\r\n```\r\n\r\nBut I still get the handshake failure alert from the server.\r\n\r\nI have also tried to add the `bcutil-jdk15to18-175.jar` to my `jdk/jre/lib/ext` directory (as suggested by a comment in the linked answer), but I still get the exception.\r\n\r\nI have enabled TLS logging by adding the JVM argument `-Djavax.net.debug=ssl:handshake:verbose` and this is what I get:\r\n\r\n```\r\ntrigger seeding of SecureRandom\r\ndone seeding SecureRandom\r\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\r\nAllow unsafe renegotiation: false\r\nAllow legacy hello messages: true\r\nIs initial handshake: true\r\nIs secure renegotiation: false\r\nmain, setSoTimeout(0) called\r\n%% No cached client session\r\n*** ClientHello, TLSv1.2\r\nRandomCookie:  GMT: 1670579945 bytes = { 154, 22, 251, 69, 138, 101, 239, 72, 131, 212, 72, 151, 61, 82, 28, 179, 11, 15, 212, 118, 164, 38, 59, 49, 139, 50, 122, 48 }\r\nSession ID:  {}\r\nCipher Suites: [TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA]\r\nCompression Methods:  { 0 }\r\nExtension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\r\nExtension ec_point_formats, formats: [uncompressed]\r\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA, MD5withRSA\r\nExtension server_name, server_name: [host_name: precision.epayworldwide.com]\r\n***\r\nmain, WRITE: TLSv1.2 Handshake, length = 229\r\nmain, READ: TLSv1.2 Alert, length = 2\r\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\r\nmain, called closeSocket()\r\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n```\r\n\r\nIt seems that the `HttpURLConnection` is not using the AES-GCM cipher (e.g. `TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256`), even though it should be implemented by the JARs I have added.\r\n\r\nFor the records, I have tested the server I am connecting to with [this](https://superuser.com/a/224263/1220635) script and these are the supported ciphers:\r\n\r\n```\r\nTesting ECDHE-RSA-AES256-GCM-SHA384...YES\r\nTesting DHE-RSA-AES256-GCM-SHA384...YES\r\nTesting ECDHE-RSA-AES128-GCM-SHA256...YES\r\nTesting DHE-RSA-AES128-GCM-SHA256...YES\r\nTesting ECDHE-RSA-AES256-SHA384...YES\r\nTesting ECDHE-RSA-AES128-SHA256...YES\r\nTesting AES256-GCM-SHA384...YES\r\n```\r\n\r\nI am trying to support AES-GCM on my client because it&#39;s one of the ciphers supported by the server.\r\n\r\nIf possible, I would like to resolve this problem without changing the code (e.g. by explicitly setting the ciphers the `HttpURLConnection` should use).","title":"Add support for AES-GCM for TLS in Java 7","body":"<p>First of all, I premise that I am fully aware that Java 7 is EOL, vulnerable, extremely old and should not be used in 2023, but I need to mantain a legacy application which requires Java 7. <strong>I cannot upgrade it</strong>, so, please, read the full question (or jump to the next one) instead of commenting immediately with &quot;Java 7 is old, upgrade it&quot; just because there is &quot;Java 7&quot; in the title. Thank you for your understanding.</p>\n<hr />\n<p>I have a legacy Java 7 application which sends some HTTPS requests to a server. Recently, that server changed its supported TLS ciphers so now all HTTP requests done from my Java application throw an exception.</p>\n<p>This is a sample of the code I am using to send the HTTP requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;https://precision.epayworldwide.com/up-interface&quot;);\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\nBufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\nString responseLine = reader.readLine();\n\nwhile (responseLine != null)\n{\n    System.out.printf(&quot;%s\\n&quot;, responseLine);\n    responseLine = reader.readLine();\n}\n</code></pre>\n<p>and this is the exception I get:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n    at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1943)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1059)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1294)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1321)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1305)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n    at Main.main(Main.java:17)\n</code></pre>\n<p>To try to fix this exception I have tried the following steps (as suggested by <a href=\"https://stackoverflow.com/a/49154932/9864539\">this</a> answer):</p>\n<ol>\n<li>I have donwloaded <code>bcprov-jdk15to18-175.jar</code> from <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">BouncyCastle</a> and I have added this JAR in my <code>jdk/jre/lib/ext</code> directory.</li>\n<li>I have edited the <code>jdk/jre/lib/security/java.security</code> file placing <code>org.bouncycastle.jce.provider.BouncyCastleProvider</code> at the top of the list of providers:</li>\n</ol>\n<pre><code>#\n# List of providers and their preference orders (see above):\n#\nsecurity.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\nsecurity.provider.2=sun.security.provider.Sun\nsecurity.provider.3=sun.security.rsa.SunRsaSign\nsecurity.provider.4=sun.security.ec.SunEC\nsecurity.provider.5=com.sun.net.ssl.internal.ssl.Provider\nsecurity.provider.6=com.sun.crypto.provider.SunJCE\nsecurity.provider.7=sun.security.jgss.SunProvider\nsecurity.provider.8=com.sun.security.sasl.Provider\nsecurity.provider.9=org.jcp.xml.dsig.internal.dom.XMLDSigRI\nsecurity.provider.10=sun.security.smartcardio.SunPCSC\nsecurity.provider.11=sun.security.mscapi.SunMSCAPI\n</code></pre>\n<p>But I still get the handshake failure alert from the server.</p>\n<p>I have also tried to add the <code>bcutil-jdk15to18-175.jar</code> to my <code>jdk/jre/lib/ext</code> directory (as suggested by a comment in the linked answer), but I still get the exception.</p>\n<p>I have enabled TLS logging by adding the JVM argument <code>-Djavax.net.debug=ssl:handshake:verbose</code> and this is what I get:</p>\n<pre><code>trigger seeding of SecureRandom\ndone seeding SecureRandom\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\nAllow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\nmain, setSoTimeout(0) called\n%% No cached client session\n*** ClientHello, TLSv1.2\nRandomCookie:  GMT: 1670579945 bytes = { 154, 22, 251, 69, 138, 101, 239, 72, 131, 212, 72, 151, 61, 82, 28, 179, 11, 15, 212, 118, 164, 38, 59, 49, 139, 50, 122, 48 }\nSession ID:  {}\nCipher Suites: [TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA]\nCompression Methods:  { 0 }\nExtension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\nExtension ec_point_formats, formats: [uncompressed]\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA, MD5withRSA\nExtension server_name, server_name: [host_name: precision.epayworldwide.com]\n***\nmain, WRITE: TLSv1.2 Handshake, length = 229\nmain, READ: TLSv1.2 Alert, length = 2\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n</code></pre>\n<p>It seems that the <code>HttpURLConnection</code> is not using the AES-GCM cipher (e.g. <code>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code>), even though it should be implemented by the JARs I have added.</p>\n<p>For the records, I have tested the server I am connecting to with <a href=\"https://superuser.com/a/224263/1220635\">this</a> script and these are the supported ciphers:</p>\n<pre><code>Testing ECDHE-RSA-AES256-GCM-SHA384...YES\nTesting DHE-RSA-AES256-GCM-SHA384...YES\nTesting ECDHE-RSA-AES128-GCM-SHA256...YES\nTesting DHE-RSA-AES128-GCM-SHA256...YES\nTesting ECDHE-RSA-AES256-SHA384...YES\nTesting ECDHE-RSA-AES128-SHA256...YES\nTesting AES256-GCM-SHA384...YES\n</code></pre>\n<p>I am trying to support AES-GCM on my client because it's one of the ciphers supported by the server.</p>\n<p>If possible, I would like to resolve this problem without changing the code (e.g. by explicitly setting the ciphers the <code>HttpURLConnection</code> should use).</p>\n"},{"tags":["java","spring-boot","garbage-collection"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687358292,"post_id":76524438,"comment_id":134926097,"body_markdown":"You want something like `try (InputStreamResource resource = new InputStreamResource(Files.newInputStream(Path.of(filePath)))) {return ResponseEntity.ok().header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + filePath()).contentType(mediaType).contentLength(file.length()).body(resource);}` A little tweak might be necessary to putting the file name in the header","body":"You want something like <code>try (InputStreamResource resource = new InputStreamResource(Files.newInputStream(Path.of(filePath)))&zwnj;&#8203;) {return ResponseEntity.ok().header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + filePath()).contentType(mediaType).contentLength(file.length&zwnj;&#8203;()).body(resource);}</code> A little tweak might be necessary to putting the file name in the header"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687375163,"post_id":76524438,"comment_id":134929616,"body_markdown":"That’s not the responsibility of the GC but the *caller* which will process the `ResponseEntity`.","body":"That’s not the responsibility of the GC but the <i>caller</i> which will process the <code>ResponseEntity</code>."}],"owner":{"account_id":16708431,"reputation":23,"user_id":12076312,"display_name":"Akhouri Soumya Prakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687357967,"creation_date":1687357967,"question_id":76524438,"body_markdown":"In an approach similar to the one given below to download a file using InputStreamResource, how can we ensure that there is no resource leak from the FileInputStream. \r\n\r\n\r\n```\r\n@GetMapping(&quot;/download&quot;)\r\npublic ResponseEntity&lt;InputStreamResource&gt; downloadFile() throws IOException {\r\n  MediaType mediaType = MediaTypeUtils.getMediaTypeForFileName(this.servletContext, fileName);\r\n\r\n  File file = new File(filePath);\r\n  InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\r\n\r\n  return ResponseEntity.ok()\r\n      .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + file.getName())\r\n      .contentType(mediaType)\r\n      .contentLength(file.length())\r\n      .body(resource);\r\n}\r\n```\r\n\r\nWill the GC always take care of the FileInputStream created from `new FileInputStream(file)` or is there a chance that leaks can occur. If so, then how to handle it?\r\n\r\nAlmost every approach I&#39;ve tried to close the FileInputStream explicitly or by using try-with-resource blocks leads to java.io.IOException: Stream Closed, which I think happens because the stream is closed before the responseEntity can be returned.","title":"How to handle FileInputStream while using an InputStreamResource to return a file in Springboot?","body":"<p>In an approach similar to the one given below to download a file using InputStreamResource, how can we ensure that there is no resource leak from the FileInputStream.</p>\n<pre><code>@GetMapping(&quot;/download&quot;)\npublic ResponseEntity&lt;InputStreamResource&gt; downloadFile() throws IOException {\n  MediaType mediaType = MediaTypeUtils.getMediaTypeForFileName(this.servletContext, fileName);\n\n  File file = new File(filePath);\n  InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\n\n  return ResponseEntity.ok()\n      .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + file.getName())\n      .contentType(mediaType)\n      .contentLength(file.length())\n      .body(resource);\n}\n</code></pre>\n<p>Will the GC always take care of the FileInputStream created from <code>new FileInputStream(file)</code> or is there a chance that leaks can occur. If so, then how to handle it?</p>\n<p>Almost every approach I've tried to close the FileInputStream explicitly or by using try-with-resource blocks leads to java.io.IOException: Stream Closed, which I think happens because the stream is closed before the responseEntity can be returned.</p>\n"},{"tags":["java","builder","lombok"],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1687357940,"creation_date":1588890906,"answer_id":61668919,"question_id":61658719,"body_markdown":"The generated code for `@SuperBuilder` is complex and loaded with type parameters. Therefore, it is advisable to `delombok` your class and use the output as a reference.\r\n\r\nYou can do this with this command:\r\n\r\n    java -jar path/to/lombok.jar delombok -p path/to/src/main/java/Child.java\r\n\r\nThe output will show what code lombok generates. I assume the `Child` class is not abstract (I think you have a typo in your questions). You want to customize the `build()` method, so you are interested in the `ChildBuilderImpl`, because this class contains that method. You can copy the class header to your source file and add your custom `build()` method:\r\n\r\n    private static final class ChildBuilderImpl extends Child.ChildBuilder&lt;Child, Child.ChildBuilderImpl&gt; {\r\n        @java.lang.Override\r\n        public Child build() {\r\n            // Do validation here, e.g.:\r\n            if (((Child.ChildBuilder&lt;?, ?&gt;)this).b == 0)\r\n                throw new IllegalArgumentException(&quot;b must not be 0&quot;);\r\n            return new Child(this);\r\n        }\r\n    }\r\n\r\nRemark: I would prefer performing the validation in the constructor, because otherwise you could programmatically invoke the constructor without the values getting validated. However, customizing the `@SuperBuilder` constructor is not possible at the moment; it will be possible with the next lombok release. I&#39;ll update this question when it is released.\r\n\r\nUpdate: You can customize the constructor since Lombok v1.18.16.","title":"Customize lombok super builder","body":"<p>The generated code for <code>@SuperBuilder</code> is complex and loaded with type parameters. Therefore, it is advisable to <code>delombok</code> your class and use the output as a reference.</p>\n<p>You can do this with this command:</p>\n<pre><code>java -jar path/to/lombok.jar delombok -p path/to/src/main/java/Child.java\n</code></pre>\n<p>The output will show what code lombok generates. I assume the <code>Child</code> class is not abstract (I think you have a typo in your questions). You want to customize the <code>build()</code> method, so you are interested in the <code>ChildBuilderImpl</code>, because this class contains that method. You can copy the class header to your source file and add your custom <code>build()</code> method:</p>\n<pre><code>private static final class ChildBuilderImpl extends Child.ChildBuilder&lt;Child, Child.ChildBuilderImpl&gt; {\n    @java.lang.Override\n    public Child build() {\n        // Do validation here, e.g.:\n        if (((Child.ChildBuilder&lt;?, ?&gt;)this).b == 0)\n            throw new IllegalArgumentException(&quot;b must not be 0&quot;);\n        return new Child(this);\n    }\n}\n</code></pre>\n<p>Remark: I would prefer performing the validation in the constructor, because otherwise you could programmatically invoke the constructor without the values getting validated. However, customizing the <code>@SuperBuilder</code> constructor is not possible at the moment; it will be possible with the next lombok release. I'll update this question when it is released.</p>\n<p>Update: You can customize the constructor since Lombok v1.18.16.</p>\n"}],"owner":{"account_id":3952151,"reputation":392,"user_id":3262047,"accept_rate":50,"display_name":"explorer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2144,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61668919,"answer_count":1,"score":4,"last_activity_date":1687357940,"creation_date":1588857243,"question_id":61658719,"body_markdown":"I have a parent abstract class &quot;Parent&quot; and child class &quot;Child&quot;. I am using @SuperBuilder to generate builder APIs. Now, I want to perform some validations on the members of class &quot;Parent&quot; and &quot;Child&quot; as part of build. I couldn&#39;t find any solution to customize lombok super builder. As per [lombok][1] doc, it seems to be possible. Can someone please shed some light?\r\n\r\n    @SuperBuilder\r\n    public abstract class Parent {\r\n        int x;\r\n        int y;\r\n        int z;\r\n        int a;\r\n    }\r\n\r\n    @SuperBuilder\r\n    public abstract class Child extends Parent {\r\n        int b;\r\n        int c;\r\n        int d;\r\n   \r\n        // I want something like\r\n        public static class ChildBuilder {\r\n             \r\n           public Child build() {\r\n               Child child = // Get child somehow;\r\n               validate(child);\r\n           }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://projectlombok.org/features/experimental/SuperBuilder","title":"Customize lombok super builder","body":"<p>I have a parent abstract class \"Parent\" and child class \"Child\". I am using @SuperBuilder to generate builder APIs. Now, I want to perform some validations on the members of class \"Parent\" and \"Child\" as part of build. I couldn't find any solution to customize lombok super builder. As per <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\">lombok</a> doc, it seems to be possible. Can someone please shed some light?</p>\n\n<pre><code>@SuperBuilder\npublic abstract class Parent {\n    int x;\n    int y;\n    int z;\n    int a;\n}\n\n@SuperBuilder\npublic abstract class Child extends Parent {\n    int b;\n    int c;\n    int d;\n\n    // I want something like\n    public static class ChildBuilder {\n\n       public Child build() {\n           Child child = // Get child somehow;\n           validate(child);\n       }\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687358329,"post_id":76521991,"comment_id":134926113,"body_markdown":"Please add your **full `StatusConverter`** implementation (with full I mean including the imports and package declaration). Specify which Spring Data version you are using (or Spring Boot and provide the dependencies) and if possible add your entity as well.","body":"Please add your <b>full <code>StatusConverter</code></b> implementation (with full I mean including the imports and package declaration). Specify which Spring Data version you are using (or Spring Boot and provide the dependencies) and if possible add your entity as well."}],"answers":[{"tags":[],"owner":{"account_id":2149557,"reputation":7697,"user_id":1906362,"accept_rate":50,"display_name":"Woody"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687357700,"creation_date":1687357700,"answer_id":76524397,"question_id":76521991,"body_markdown":"This was because I didn&#39;t use @Convert on the column definition.","title":"Jpa custom findBy method enum value conversion","body":"<p>This was because I didn't use @Convert on the column definition.</p>\n"}],"owner":{"account_id":2149557,"reputation":7697,"user_id":1906362,"accept_rate":50,"display_name":"Woody"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687357700,"creation_date":1687340978,"question_id":76521991,"body_markdown":"I have the following enum used by a JPA Entity :\r\n\r\n```\r\n@RequiredArgsConstructor\r\nenum Status {\r\n  ACTIVE(&quot;Active&quot;),\r\n  INACTIVE(&quot;Inactive&quot;);\r\n\r\n  final String activeStatus;\r\n\r\n  public String getStatus() { return activeStatus; }\r\n}\r\n```\r\nIt has an AttributeConverter which converts to a String when I write to the DB and the works in the other direction as well so the value of `activeStatus` is persisted and the String value e.g. &quot;Inactive&quot; is turned into the correct enum instance Status.INACTIVE.\r\n\r\nThe trouble I&#39;m having is that my custom findBy method doesn&#39;t find anything :\r\n\r\n```\r\nList&lt;Entity&gt; findByStatus(Status status);\r\n```\r\n\r\nThis seems to be because the generated query is using the string &quot;ACTIVE&quot; and not using the converter.  I could just use the string value, but it seems like I must be missing how to do this ?  I tried adding an @Convert annotation specifying the converter to my findBy method :\r\n```\r\n@Convert(converter = StatusConverter.class)\r\nList&lt;Entity&gt; findByStatus(Status status);\r\n```\r\nbut it didn&#39;t make any difference","title":"Jpa custom findBy method enum value conversion","body":"<p>I have the following enum used by a JPA Entity :</p>\n<pre><code>@RequiredArgsConstructor\nenum Status {\n  ACTIVE(&quot;Active&quot;),\n  INACTIVE(&quot;Inactive&quot;);\n\n  final String activeStatus;\n\n  public String getStatus() { return activeStatus; }\n}\n</code></pre>\n<p>It has an AttributeConverter which converts to a String when I write to the DB and the works in the other direction as well so the value of <code>activeStatus</code> is persisted and the String value e.g. &quot;Inactive&quot; is turned into the correct enum instance Status.INACTIVE.</p>\n<p>The trouble I'm having is that my custom findBy method doesn't find anything :</p>\n<pre><code>List&lt;Entity&gt; findByStatus(Status status);\n</code></pre>\n<p>This seems to be because the generated query is using the string &quot;ACTIVE&quot; and not using the converter.  I could just use the string value, but it seems like I must be missing how to do this ?  I tried adding an @Convert annotation specifying the converter to my findBy method :</p>\n<pre><code>@Convert(converter = StatusConverter.class)\nList&lt;Entity&gt; findByStatus(Status status);\n</code></pre>\n<p>but it didn't make any difference</p>\n"},{"tags":["java","datetime","parsing","logic","date-arithmetic"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685340370,"post_id":76354129,"comment_id":134642544,"body_markdown":"No matter is using the old and cumbersome `Calendar` or the modern `ZonedDateTime` adding 4 hours to convert from EDT (North American Eastern Daylight Time) to UTC is wrong. You are getting a moment in time 4 hours later and still in Eastern Time. Both classes can do the conversion for you, though, you just need to apply UTC time zone to them.","body":"No matter is using the old and cumbersome <code>Calendar</code> or the modern <code>ZonedDateTime</code> adding 4 hours to convert from EDT (North American Eastern Daylight Time) to UTC is wrong. You are getting a moment in time 4 hours later and still in Eastern Time. Both classes can do the conversion for you, though, you just need to apply UTC time zone to them."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685356110,"post_id":76354129,"comment_id":134644729,"body_markdown":"You decide yourself whether you prefer the 5 lines or the 2 lines or which you find clearer to read. And probably nothing that matters: from `Calendar.getInstance()` you are not guaranteed to get a Gregoran calendar. Since converting between time zones or adding 4 hours is the same in all calendar systems that I can think of, it shouldn’t matter for your particular use case.","body":"You decide yourself whether you prefer the 5 lines or the 2 lines or which you find clearer to read. And probably nothing that matters: from <code>Calendar.getInstance()</code> you are not guaranteed to get a Gregoran calendar. Since converting between time zones or adding 4 hours is the same in all calendar systems that I can think of, it shouldn’t matter for your particular use case."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685371957,"post_id":76354129,"comment_id":134647598,"body_markdown":"@OleV.V., I&#39;m not concerned about design implications, which I&#39;ve clearly outlined.  I&#39;m interested in why one abstraction is considered to produce a more logical result than the other.  As you can see, there is no difference in their results, they are the exact same value.  This is now the second response which is implying that I will encounter some sort of design flaw.  Where is the flaw?  I provided the entire code which is needed to produce the result; what have I forgotten to type, there is no more logic required.  Please, apply the topic.","body":"@OleV.V., I&#39;m not concerned about design implications, which I&#39;ve clearly outlined.  I&#39;m interested in why one abstraction is considered to produce a more logical result than the other.  As you can see, there is no difference in their results, they are the exact same value.  This is now the second response which is implying that I will encounter some sort of design flaw.  Where is the flaw?  I provided the entire code which is needed to produce the result; what have I forgotten to type, there is no more logic required.  Please, apply the topic."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685372416,"post_id":76354129,"comment_id":134647700,"body_markdown":"@OleV.V., Additionally, _&quot;... adding 4 hours to convert ... to UTC is wrong. ... you are getting a moment in time 4 hours later and still in Eastern Time&quot;_.  That&#39;s not correct, for the example, it&#39;s 11 am in EDT, and 3 pm at the UTC.  That is EDT plus 4.  If I understand correctly, you&#39;re saying it&#39;s because the time-zone still says EDT.  I didn&#39;t change the time-zone, though, I was simply looking to derive a UTC value.  Your saying that _that_ is the error in the logic?  That&#39;s a bit much, almost pretentious.","body":"@OleV.V., Additionally, <i>&quot;... adding 4 hours to convert ... to UTC is wrong. ... you are getting a moment in time 4 hours later and still in Eastern Time&quot;</i>.  That&#39;s not correct, for the example, it&#39;s 11 am in EDT, and 3 pm at the UTC.  That is EDT plus 4.  If I understand correctly, you&#39;re saying it&#39;s because the time-zone still says EDT.  I didn&#39;t change the time-zone, though, I was simply looking to derive a UTC value.  Your saying that <i>that</i> is the error in the logic?  That&#39;s a bit much, almost pretentious."}],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685332624,"post_id":76354558,"comment_id":134641831,"body_markdown":"So, I&#39;m not looking for an empirical evaluation.  I&#39;m not interested in a _&quot;most people&quot;_ consideration.  I&#39;m interested in the parsing of a value, which appears to have some sort of stigma associated with it; where there is a preferred abstraction.  And, I&#39;m failing to understand the idiomatic principle, aside from convoluted empirical stasis.  If there is no logical reason that a basic procedure cannot be done with one abstraction over another, then why would there be deferment?","body":"So, I&#39;m not looking for an empirical evaluation.  I&#39;m not interested in a <i>&quot;most people&quot;</i> consideration.  I&#39;m interested in the parsing of a value, which appears to have some sort of stigma associated with it; where there is a preferred abstraction.  And, I&#39;m failing to understand the idiomatic principle, aside from convoluted empirical stasis.  If there is no logical reason that a basic procedure cannot be done with one abstraction over another, then why would there be deferment?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1685332763,"post_id":76354558,"comment_id":134641848,"body_markdown":"Hey, if you want to write everything in assembly, because every procedure can be done in raw assembly, be my guest.  I understand you&#39;re not looking for an &quot;empirical evaluation,&quot; but what I&#39;ve told you is an accurate explanation of why people avoid java.util.Calendar, to the point that most people aren&#39;t even willing to help debug code that uses it.  What is &quot;idiomatic,&quot; what is recommended for use by the community, is supposed to be clear to read and easy to use, and Calendar isn&#39;t, and that&#39;s _enough_ reason not to use it.","body":"Hey, if you want to write everything in assembly, because every procedure can be done in raw assembly, be my guest.  I understand you&#39;re not looking for an &quot;empirical evaluation,&quot; but what I&#39;ve told you is an accurate explanation of why people avoid java.util.Calendar, to the point that most people aren&#39;t even willing to help debug code that uses it.  What is &quot;idiomatic,&quot; what is recommended for use by the community, is supposed to be clear to read and easy to use, and Calendar isn&#39;t, and that&#39;s <i>enough</i> reason not to use it."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1685333366,"post_id":76354558,"comment_id":134641895,"body_markdown":"To put it another way, there is &quot;stigma&quot; associated with java.util.Calendar because its use is noticeably correlated with incorrect code, even if a particular example of code that uses it is correct.","body":"To put it another way, there is &quot;stigma&quot; associated with java.util.Calendar because its use is noticeably correlated with incorrect code, even if a particular example of code that uses it is correct."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685333398,"post_id":76354558,"comment_id":134641899,"body_markdown":"I guess what the situation is, is that rather than the allusion of miscalculation, and some sort of unavoidable transcendence, it&#39;s the result of rhetoric and adherence.  Interesting, that some people choose that, over logic.  Look how deviating it is!  Were talking about calculating milliseconds and you&#39;re more than positive that one approach is better than the other.  I appreciate your time, thanks.","body":"I guess what the situation is, is that rather than the allusion of miscalculation, and some sort of unavoidable transcendence, it&#39;s the result of rhetoric and adherence.  Interesting, that some people choose that, over logic.  Look how deviating it is!  Were talking about calculating milliseconds and you&#39;re more than positive that one approach is better than the other.  I appreciate your time, thanks."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685333737,"post_id":76354558,"comment_id":134641932,"body_markdown":"We&#39;ll, yes, that is my point, exactly.  What is the correlated data, which depicts the parsing of a date, executes a more logical value with one framework, versus another.  And, the answer is always the same, that _&quot;most people&quot;_ choose one way over another.  That&#39;s called empirical evidence, which is essentially the complete inverse of what logic defines.  It&#39;s what Descarte explains, as far as I&#39;m concerned.  There&#39;s no time for rhetoric in logic.","body":"We&#39;ll, yes, that is my point, exactly.  What is the correlated data, which depicts the parsing of a date, executes a more logical value with one framework, versus another.  And, the answer is always the same, that <i>&quot;most people&quot;</i> choose one way over another.  That&#39;s called empirical evidence, which is essentially the complete inverse of what logic defines.  It&#39;s what Descarte explains, as far as I&#39;m concerned.  There&#39;s no time for rhetoric in logic."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685334626,"post_id":76354558,"comment_id":134642023,"body_markdown":"So, no, you&#39;re referring to what is called a &quot;colloquialism&quot;, and more broadly, &quot;empiricism&quot;.  It&#39;s where there can be irrefutable proof of something, with provided logic, and there will be a non-conformance, which will poorly advise.  It&#39;s what Socrates taught, he referred to it as rhetoric.  Where, there is no logic; like a receipt at a store.  Something that is idiomatic is something that is the quality, or, the attributing factor of the logic.  So, the item that you bought, it&#39;s irrefutable, it&#39;s the logic.  The receipt is the &quot;empirical&quot; value; because of some undefined factor.","body":"So, no, you&#39;re referring to what is called a &quot;colloquialism&quot;, and more broadly, &quot;empiricism&quot;.  It&#39;s where there can be irrefutable proof of something, with provided logic, and there will be a non-conformance, which will poorly advise.  It&#39;s what Socrates taught, he referred to it as rhetoric.  Where, there is no logic; like a receipt at a store.  Something that is idiomatic is something that is the quality, or, the attributing factor of the logic.  So, the item that you bought, it&#39;s irrefutable, it&#39;s the logic.  The receipt is the &quot;empirical&quot; value; because of some undefined factor."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1685384001,"post_id":76354558,"comment_id":134649525,"body_markdown":"&quot;Interesting, that some people choose that, over logic.&quot;  When there have been [bugs costing millions of dollars](https://www.theguardian.com/technology/2014/dec/29/twitter-2015-date-bug) due to subtle incorrectness, I don&#39;t think this is surprising in any way.  My team has found hundreds of critical bugs caused by incorrect usage of date and time APIs, and found that their frequency is substantially reduced by using java.time.  I deny that this is surprising, wrong, or strange.","body":"&quot;Interesting, that some people choose that, over logic.&quot;  When there have been <a href=\"https://www.theguardian.com/technology/2014/dec/29/twitter-2015-date-bug\" rel=\"nofollow noreferrer\">bugs costing millions of dollars</a> due to subtle incorrectness, I don&#39;t think this is surprising in any way.  My team has found hundreds of critical bugs caused by incorrect usage of date and time APIs, and found that their frequency is substantially reduced by using java.time.  I deny that this is surprising, wrong, or strange."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685392047,"post_id":76354558,"comment_id":134650606,"body_markdown":"I&#39;m talking about the parsing of a string, which I included in my question, in detail, with results.  Where is the invalid usage, and where does the ill-logic begin?  You are continuously telling me that there is some _possible_ error that may occur.  Where?  Is there an error with the calculation?  Is the _Calendar_ class using an invalid number?  Your reply is regarding using the wrong index for the month.  Where in my abstraction am I calculating a month value?  I&#39;ve defined all of these aspects, yet, there is still some sort of error that _may_ happen.","body":"I&#39;m talking about the parsing of a string, which I included in my question, in detail, with results.  Where is the invalid usage, and where does the ill-logic begin?  You are continuously telling me that there is some <i>possible</i> error that may occur.  Where?  Is there an error with the calculation?  Is the <i>Calendar</i> class using an invalid number?  Your reply is regarding using the wrong index for the month.  Where in my abstraction am I calculating a month value?  I&#39;ve defined all of these aspects, yet, there is still some sort of error that <i>may</i> happen."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":8,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685331761,"creation_date":1685331761,"answer_id":76354558,"question_id":76354129,"body_markdown":"No, they are not using a &quot;more accurate year measurement.&quot;  There is no aspect in which Calendar is _incorrect_ or will result in values that are simply wrong.\r\n\r\nCalendar is obsolete because it is difficult to use correctly, e.g. numbering months from 0 to 11 instead of 1 to 12. \r\nIt also conflates physical and civil times, which it&#39;s important to draw a distinction between.\r\n\r\nIt&#39;s possible to write 100% correct code with java.util.Calendar.  Most people won&#39;t, though.","title":"What are the implications of using ZoneDateTime versus Calendar, when converting and augmenting values?","body":"<p>No, they are not using a &quot;more accurate year measurement.&quot;  There is no aspect in which Calendar is <em>incorrect</em> or will result in values that are simply wrong.</p>\n<p>Calendar is obsolete because it is difficult to use correctly, e.g. numbering months from 0 to 11 instead of 1 to 12.\nIt also conflates physical and civil times, which it's important to draw a distinction between.</p>\n<p>It's possible to write 100% correct code with java.util.Calendar.  Most people won't, though.</p>\n"}],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1687357295,"creation_date":1685321601,"question_id":76354129,"body_markdown":"I am unsure of what unforeseeable implications, specifically invalidation, will occur when utilizing a _[Calendar](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html)_ object, versus using a _[ZonedDateTime](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html)_ object.\r\n\r\nI am wondering if insight can be provided to why the conversion, or parsing, of a value must be done using one framework versus the other.\r\n\r\nI&#39;ve reviewed the _Java Tutorials_, in reference to _&quot;[legacy date-time code](https://docs.oracle.com/javase/tutorial/datetime/iso/index.html)&quot;_, and I am unable to procure where an invalidation may happen.\r\n\r\nTo paraphrase, the tutorial mentions the following.\r\n\r\n&gt; _&quot;The Calendar class was not type safe&quot;._\r\n\r\nI am not concerned with type safety, parsing is only a few steps.\r\n\r\n&gt; _&quot;Because the classes were mutable, they could not be used in multithreaded applications&quot;._\r\n\r\nMutable state is not a topic.\r\n\r\n&gt; &quot;Bugs in application code were common due to the unusual numbering of months and the lack of type safety&quot;.\r\n\r\nI&#39;m not concerned with an index versus an enumeration.\r\n\r\nNone of these points defy an antithesis for abstraction.\r\n\r\nAs a demonstration, I&#39;ll utilize both classes collectively, in an attempt to discuss their logic.\r\n\r\nI can parse a formatted _String_ value using _[SimpleDateFormat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/SimpleDateFormat.html)_, and _Calendar_.\r\n\r\n```java\r\nString string = &quot;MMMM dd, yyyy &#39;@&#39; h:mm:ss a z&quot;;\r\nSimpleDateFormat format = new SimpleDateFormat(string);\r\nString value = &quot;May 28, 2023 @ 6:50:01 pm EDT&quot;;\r\nCalendar calendar = Calendar.getInstance();\r\ncalendar.setTime(format.parse(value));\r\n```\r\n\r\nIf I print the data from _calendar_ I receive a valid result.\r\n\r\n```java\r\nSystem.out.println(calendar.getTimeInMillis());\r\nSystem.out.printf(&quot;%tc&quot;, calendar.getTimeInMillis());\r\n```\r\n\r\n```none\r\n1685314201000\r\nSun May 28 18:50:01 EDT 2023\r\n```\r\n\r\nAnd, I could parse the same formatted _String_ value using _[DateTimeFormatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html)_, and _ZonedDateTime_.  \r\nGranted, I have to uppercase the _&quot;PM&quot;_ within _value_&amp;mdash;this is not a set-back.  \r\nThe _DateTimeParseException_ had even specified a character index.\r\n\r\n```java\r\nDateTimeFormatter format = DateTimeFormatter.ofPattern(string);\r\nZonedDateTime zonedDateTime = ZonedDateTime.parse(value, format);\r\n```\r\n\r\nSimilarly, if I print the data from _zonedDateTime_, I get a valid result.\r\n\r\n```java\r\nSystem.out.println(zonedDateTime.toInstant().toEpochMilli());\r\nSystem.out.printf(&quot;%tc%n&quot;, zonedDateTime.toInstant().toEpochMilli());\r\nSystem.out.println(zonedDateTime);\r\n```\r\n\r\n```none\r\n1685314201000\r\nSun May 28 18:50:01 EDT 2023\r\n2023-05-28T18:50:01-04:00[America/New_York]\r\n```\r\n\r\nIf you review the data side-by-side, you&#39;ll find they are equivalent, thus both are valid.\r\n\r\nIf I wanted to augment the values, let&#39;s say, by adding 4 hours, _since EDT is UTC-4_, to derive a UTC value; I can achieve this with both classes.\r\n\r\nFor the _Calendar_ class I can use the _[add](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#add(int,int))_ method.  \r\nWhich, has an extensible [specification](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#field-manipulation-heading) from within the _Calendar_ class.\r\n\r\n```java\r\ncalendar.add(Calendar.HOUR_OF_DAY, 4);\r\n```\r\n\r\n```none\r\n1685328601000\r\nSun May 28 22:50:01 EDT 2023\r\n```\r\n\r\nEquivalently, for _zonedDateTime_, I can use the _[plusHours](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html#plusHours(long))_ method.\r\n\r\n```java\r\nzonedDateTime = zonedDateTime.plusHours(4);\r\n```\r\n\r\n```none\r\n1685328601000\r\nSun May 28 22:50:01 EDT 2023\r\n2023-05-28T22:50:01-04:00[America/New_York]\r\n```\r\n\r\nAgain, I&#39;m arriving at equal values, in terms of _Calendar_ versus _ZonedDateTime_.\r\n\r\nIf I subtract _1,685,314,201,000_ from _1,685,328,601,000_, I get _14,400,000_.  \r\n_14,400,000_ is equivalent to, _4 hours_ &amp;times; (_60 minutes_ &amp;times; (_60 seconds_ &amp;times; _1000 milliseconds_)).\r\n\r\nThis brings me to my conclusion, on the adverse effects of using one class over another, in terms of basic parsing, and augmentation.\r\n\r\nWhat is the unforeseen error that will be calculated when using one class versus the other?\r\n\r\nFor example, is one class using a more accurate year measurement, such as _365.25 days_, over _365.2425_?\r\n\r\nAside from the design implications stated by Java, where does one class prove as idiomatic over another&amp;mdash;considering both will generate equivalent values.  \r\n\r\nI mean _idiomatic_ from the philosophical stand-point, and not _idiomatic_ in the paradigmatic, ideological, protestant way.\r\n\r\nEmpirical evidence need not apply.","title":"What are the implications of using ZoneDateTime versus Calendar, when converting and augmenting values?","body":"<p>I am unsure of what unforeseeable implications, specifically invalidation, will occur when utilizing a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\">Calendar</a></em> object, versus using a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">ZonedDateTime</a></em> object.</p>\n<p>I am wondering if insight can be provided to why the conversion, or parsing, of a value must be done using one framework versus the other.</p>\n<p>I've reviewed the <em>Java Tutorials</em>, in reference to <em>&quot;<a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/index.html\" rel=\"nofollow noreferrer\">legacy date-time code</a>&quot;</em>, and I am unable to procure where an invalidation may happen.</p>\n<p>To paraphrase, the tutorial mentions the following.</p>\n<blockquote>\n<p><em>&quot;The Calendar class was not type safe&quot;.</em></p>\n</blockquote>\n<p>I am not concerned with type safety, parsing is only a few steps.</p>\n<blockquote>\n<p><em>&quot;Because the classes were mutable, they could not be used in multithreaded applications&quot;.</em></p>\n</blockquote>\n<p>Mutable state is not a topic.</p>\n<blockquote>\n<p>&quot;Bugs in application code were common due to the unusual numbering of months and the lack of type safety&quot;.</p>\n</blockquote>\n<p>I'm not concerned with an index versus an enumeration.</p>\n<p>None of these points defy an antithesis for abstraction.</p>\n<p>As a demonstration, I'll utilize both classes collectively, in an attempt to discuss their logic.</p>\n<p>I can parse a formatted <em>String</em> value using <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SimpleDateFormat</a></em>, and <em>Calendar</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;MMMM dd, yyyy '@' h:mm:ss a z&quot;;\nSimpleDateFormat format = new SimpleDateFormat(string);\nString value = &quot;May 28, 2023 @ 6:50:01 pm EDT&quot;;\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(format.parse(value));\n</code></pre>\n<p>If I print the data from <em>calendar</em> I receive a valid result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(calendar.getTimeInMillis());\nSystem.out.printf(&quot;%tc&quot;, calendar.getTimeInMillis());\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1685314201000\nSun May 28 18:50:01 EDT 2023\n</code></pre>\n<p>And, I could parse the same formatted <em>String</em> value using <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a></em>, and <em>ZonedDateTime</em>.<br />\nGranted, I have to uppercase the <em>&quot;PM&quot;</em> within <em>value</em>—this is not a set-back.<br />\nThe <em>DateTimeParseException</em> had even specified a character index.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter format = DateTimeFormatter.ofPattern(string);\nZonedDateTime zonedDateTime = ZonedDateTime.parse(value, format);\n</code></pre>\n<p>Similarly, if I print the data from <em>zonedDateTime</em>, I get a valid result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(zonedDateTime.toInstant().toEpochMilli());\nSystem.out.printf(&quot;%tc%n&quot;, zonedDateTime.toInstant().toEpochMilli());\nSystem.out.println(zonedDateTime);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1685314201000\nSun May 28 18:50:01 EDT 2023\n2023-05-28T18:50:01-04:00[America/New_York]\n</code></pre>\n<p>If you review the data side-by-side, you'll find they are equivalent, thus both are valid.</p>\n<p>If I wanted to augment the values, let's say, by adding 4 hours, <em>since EDT is UTC-4</em>, to derive a UTC value; I can achieve this with both classes.</p>\n<p>For the <em>Calendar</em> class I can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#add(int,int)\" rel=\"nofollow noreferrer\">add</a></em> method.<br />\nWhich, has an extensible <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#field-manipulation-heading\" rel=\"nofollow noreferrer\">specification</a> from within the <em>Calendar</em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>calendar.add(Calendar.HOUR_OF_DAY, 4);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1685328601000\nSun May 28 22:50:01 EDT 2023\n</code></pre>\n<p>Equivalently, for <em>zonedDateTime</em>, I can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html#plusHours(long)\" rel=\"nofollow noreferrer\">plusHours</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>zonedDateTime = zonedDateTime.plusHours(4);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1685328601000\nSun May 28 22:50:01 EDT 2023\n2023-05-28T22:50:01-04:00[America/New_York]\n</code></pre>\n<p>Again, I'm arriving at equal values, in terms of <em>Calendar</em> versus <em>ZonedDateTime</em>.</p>\n<p>If I subtract <em>1,685,314,201,000</em> from <em>1,685,328,601,000</em>, I get <em>14,400,000</em>.<br />\n<em>14,400,000</em> is equivalent to, <em>4 hours</em> × (<em>60 minutes</em> × (<em>60 seconds</em> × <em>1000 milliseconds</em>)).</p>\n<p>This brings me to my conclusion, on the adverse effects of using one class over another, in terms of basic parsing, and augmentation.</p>\n<p>What is the unforeseen error that will be calculated when using one class versus the other?</p>\n<p>For example, is one class using a more accurate year measurement, such as <em>365.25 days</em>, over <em>365.2425</em>?</p>\n<p>Aside from the design implications stated by Java, where does one class prove as idiomatic over another—considering both will generate equivalent values.</p>\n<p>I mean <em>idiomatic</em> from the philosophical stand-point, and not <em>idiomatic</em> in the paradigmatic, ideological, protestant way.</p>\n<p>Empirical evidence need not apply.</p>\n"},{"tags":["java","android","parcel"],"answers":[{"tags":[],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687357144,"creation_date":1687357144,"answer_id":76524312,"question_id":76524228,"body_markdown":"I have solved this by adding a `setDataPosition(0)` call:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tTextView tv = findViewById(R.id.value);\r\n\r\n\t\tParcel p = Parcel.obtain();\r\n\t\tp.writeString(&quot;hello&quot;);\r\n\t\tp.setDataPosition(0);\r\n\t\tString val = p.readString();\r\n\t\ttv.setText(val);\r\n\t\tp.recycle();\r\n\t}\r\n}\r\n```","title":"Parcel readString() method returns null","body":"<p>I have solved this by adding a <code>setDataPosition(0)</code> call:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView tv = findViewById(R.id.value);\n\n        Parcel p = Parcel.obtain();\n        p.writeString(&quot;hello&quot;);\n        p.setDataPosition(0);\n        String val = p.readString();\n        tv.setText(val);\n        p.recycle();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687357144,"creation_date":1687356645,"question_id":76524228,"body_markdown":"I am trying to understand how the Parcel object works. So I have made this code:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tTextView tv = findViewById(R.id.value);\r\n\r\n\t\tParcel p = Parcel.obtain();\r\n\t\tp.writeString(&quot;hello&quot;);\r\n\t\tString val = p.readString();\r\n\t\ttv.setText(val);\r\n\t\tp.recycle();\r\n\t}\r\n}\r\n```\r\nDebugging the code I have noticed that readString() returns null. Why?","title":"Parcel readString() method returns null","body":"<p>I am trying to understand how the Parcel object works. So I have made this code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView tv = findViewById(R.id.value);\n\n        Parcel p = Parcel.obtain();\n        p.writeString(&quot;hello&quot;);\n        String val = p.readString();\n        tv.setText(val);\n        p.recycle();\n    }\n}\n</code></pre>\n<p>Debugging the code I have noticed that readString() returns null. Why?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1521393961,"post_id":49350091,"comment_id":85701339,"body_markdown":"Possible duplicate of [Getting &quot;The path to the driver executable must be set by the webdriver.chrome.driver system property&quot;though set correct path](https://stackoverflow.com/questions/44476647/getting-the-path-to-the-driver-executable-must-be-set-by-the-webdriver-chrome-d)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/44476647/getting-the-path-to-the-driver-executable-must-be-set-by-the-webdriver-chrome-d\">Getting &quot;The path to the driver executable must be set by the webdriver.chrome.driver system property&quot;though set correct path</a>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1521393982,"post_id":49350091,"comment_id":85701349,"body_markdown":"A quick google of the error message would have brought up info that would have solved your problem.","body":"A quick google of the error message would have brought up info that would have solved your problem."}],"answers":[{"comments":[{"owner":{"account_id":17295469,"reputation":137,"user_id":12526239,"display_name":"Yasin Bekar"},"score":0,"creation_date":1663708449,"post_id":49356246,"comment_id":130302756,"body_markdown":"I agree that it is all about the provided PATH of the driver. Mac and Windows work differently, so you must check the / and \\ as well as the folder structure.","body":"I agree that it is all about the provided PATH of the driver. Mac and Windows work differently, so you must check the / and \\ as well as the folder structure."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1521460452,"creation_date":1521436757,"answer_id":49356246,"question_id":49350091,"body_markdown":"The error says it all :\r\n\r\n\tException in thread &quot;main&quot; java.lang.IllegalStateException : The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html  \r\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:199) \r\n\r\nThe following phrases from the error implies that there is an error in the line containing **webdriver.chrome.driver**\r\n\r\nThe error can be either of the following :\r\n\r\n- Error in the [_System Class Method_](https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#setProperty(java.lang.String,%20java.lang.String)) `setProperty()`(including sequence) :\r\n\r\n\t\tSystem.setProperty()\r\n&gt;This line should be the very **first line** in your script.\r\n\r\n- Error in the specified [_Key_](https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html) :\r\n\r\n\t\t&quot;WebDriver.Chrome.driver&quot;\r\n\t\t\r\n- Error in the _Value_ field :\r\n\r\n\t\t&quot;E:\\\\chromedriver.exe&quot;\r\n\r\n &gt;You have to pass the absolute path of the _WebDriver_  through either of the following options :\r\n\r\n - Escaping the back slash (`\\\\`) e.g. `&quot;C:\\\\path\\\\to\\\\chromedriver.exe&quot;`\r\n - Single forward slash (`/`) e.g. `&quot;C:/path/to/chromedriver.exe&quot;`\r\n\t\t\r\nYour code seems to be having two issues as follows :\r\n\r\n - First issue is in specifying the _Key_ which instead of `&quot;WebDriver.Chrome.driver&quot;` should have been **`&quot;webdriver.chrome.driver&quot;`** as follows :\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;E:\\\\chromedriver.exe&quot;);\r\n\t\t\r\n - Second issue is in the _sequence_ of mentioning the _Key_ **`&quot;webDriver.chrome.driver&quot;`** in your program which should be before **`WebDriver driver = new ChromeDriver();`** as follows :\r\n\r\n\t\tSystem.setProperty(&quot;WebDriver.Chrome.driver&quot;, &quot;E:\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.google.com&quot;);","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<p>The error says it all :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException : The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html  \nat com.google.common.base.Preconditions.checkState(Preconditions.java:199) \n</code></pre>\n\n<p>The following phrases from the error implies that there is an error in the line containing <strong>webdriver.chrome.driver</strong></p>\n\n<p>The error can be either of the following :</p>\n\n<ul>\n<li><p>Error in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#setProperty(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\"><em>System Class Method</em></a> <code>setProperty()</code>(including sequence) :</p>\n\n<pre><code>System.setProperty()\n</code></pre>\n\n<blockquote>\n  <p>This line should be the very <strong>first line</strong> in your script.</p>\n</blockquote></li>\n<li><p>Error in the specified <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"noreferrer\"><em>Key</em></a> :</p>\n\n<pre><code>\"WebDriver.Chrome.driver\"\n</code></pre></li>\n<li><p>Error in the <em>Value</em> field :</p>\n\n<pre><code>\"E:\\\\chromedriver.exe\"\n</code></pre>\n\n<blockquote>\n  <p>You have to pass the absolute path of the <em>WebDriver</em>  through either of the following options :</p>\n</blockquote>\n\n<ul>\n<li>Escaping the back slash (<code>\\\\</code>) e.g. <code>\"C:\\\\path\\\\to\\\\chromedriver.exe\"</code></li>\n<li>Single forward slash (<code>/</code>) e.g. <code>\"C:/path/to/chromedriver.exe\"</code></li>\n</ul></li>\n</ul>\n\n<p>Your code seems to be having two issues as follows :</p>\n\n<ul>\n<li><p>First issue is in specifying the <em>Key</em> which instead of <code>\"WebDriver.Chrome.driver\"</code> should have been <strong><code>\"webdriver.chrome.driver\"</code></strong> as follows :</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"E:\\\\chromedriver.exe\");\n</code></pre></li>\n<li><p>Second issue is in the <em>sequence</em> of mentioning the <em>Key</em> <strong><code>\"webDriver.chrome.driver\"</code></strong> in your program which should be before <strong><code>WebDriver driver = new ChromeDriver();</code></strong> as follows :</p>\n\n<pre><code>System.setProperty(\"WebDriver.Chrome.driver\", \"E:\\\\chromedriver.exe\");\nWebDriver driver = new ChromeDriver();\ndriver.get(\"https://www.google.com\");\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25312260,"reputation":1,"user_id":19134849,"display_name":"Sonu Chamoli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652781318,"creation_date":1652781318,"answer_id":72271853,"question_id":49350091,"body_markdown":"I have seen many people are using wrong sequence.\r\nthe sequence  should be.\r\n1. First set the property and then launch the browser\r\n\r\n System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;F:/chrome/chromedriver.exe&quot;);\r\n  \t\tWebDriver driver = new ChromeDriver();\r\n\r\n\t\t  driver.navigate().to(&quot;https://www.google.com&quot;);\r\n","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<p>I have seen many people are using wrong sequence.\nthe sequence  should be.</p>\n<ol>\n<li>First set the property and then launch the browser</li>\n</ol>\n<p>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;F:/chrome/chromedriver.exe&quot;);\nWebDriver driver = new ChromeDriver();</p>\n<pre><code>      driver.navigate().to(&quot;https://www.google.com&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12918789,"reputation":679,"user_id":9978153,"display_name":"Vladimir Shefer"},"score":0,"creation_date":1665705905,"post_id":74003043,"comment_id":130767341,"body_markdown":"thanks, but this is a duplication answer to the answer above","body":"thanks, but this is a duplication answer to the answer above"}],"tags":[],"owner":{"account_id":26569806,"reputation":11,"user_id":20196191,"display_name":"Vanshika"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665302417,"creation_date":1665302417,"answer_id":74003043,"question_id":49350091,"body_markdown":"Download the chromedriver version corresponding to the chrome version in your system from https://chromedriver.chromium.org/downloads . Unzip the file and run the below code in the IDE.\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class Selintroduction {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t//Invoking browser\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\HP\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\tWebDriver driver = new ChromeDriver();\r\n\r\n\t}\r\n\r\n}\r\n\r\n(Path would depend on your file location in the PC.)","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<p>Download the chromedriver version corresponding to the chrome version in your system from <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a> . Unzip the file and run the below code in the IDE.</p>\n<p>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;</p>\n<p>public class Selintroduction {</p>\n<pre><code>public static void main(String[] args) {\n\n    //Invoking browser\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\HP\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\nWebDriver driver = new ChromeDriver();\n\n}\n</code></pre>\n<p>}</p>\n<p>(Path would depend on your file location in the PC.)</p>\n"},{"tags":[],"owner":{"account_id":6560864,"reputation":31,"user_id":5072005,"display_name":"arjun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669391890,"creation_date":1669130789,"answer_id":74535099,"question_id":49350091,"body_markdown":"I was facing the same error when my code was like so:\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\abs\\\\chromedriver_win32.exe&quot;);\r\n```\r\nIt works after adding `&quot;chromedriver&quot;` before `&quot;.exe&quot;` like so:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\abs\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<p>I was facing the same error when my code was like so:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\abs\\\\chromedriver_win32.exe&quot;);\n</code></pre>\n<p>It works after adding <code>&quot;chromedriver&quot;</code> before <code>&quot;.exe&quot;</code> like so:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\abs\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5462902,"reputation":1300,"user_id":4344420,"display_name":"Schwarz Software"},"score":0,"creation_date":1687437267,"post_id":76524305,"comment_id":134938719,"body_markdown":"Please surround the code in ``` characters to make it clearly formatted for stack overflow","body":"Please surround the code in ``` characters to make it clearly formatted for stack overflow"}],"tags":[],"owner":{"account_id":28866719,"reputation":1,"user_id":22109331,"display_name":"meen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687357099,"creation_date":1687357099,"answer_id":76524305,"question_id":49350091,"body_markdown":"try to use WebDriverManager.chromedriver().setup();\r\n\t\t   WebDriver driver = new ChromeDriver();\r\n\r\nif the path is not working, please use latest selenium webdriver like 4.10 and \r\nuse above code ","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<p>try to use WebDriverManager.chromedriver().setup();\nWebDriver driver = new ChromeDriver();</p>\n<p>if the path is not working, please use latest selenium webdriver like 4.10 and\nuse above code</p>\n"}],"owner":{"account_id":13169715,"reputation":31,"user_id":9512577,"display_name":"Prashant Morade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27403,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":49356246,"answer_count":5,"score":2,"last_activity_date":1687357099,"creation_date":1521389679,"question_id":49350091,"body_markdown":"    Exception in thread &quot;main&quot; java.lang.IllegalStateException : The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html \t\r\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:199) \t\r\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:109) \t\r\n    at org.openqa.selenium.chrome.ChromeDriverService.access$0(ChromeDriverService.java:1) \t\r\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137) \tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:296) \t\r\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88) \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:116) \t\r\n    at practise_locators.DatePicker.main(DatePicker.java:11)\r\n\r\n\r\nHere is my code:\r\n\r\n    package practise_locators;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class DatePicker {\r\n    \r\n        public static void main(String[] args){\r\n            WebDriver driver = new ChromeDriver();\r\n            System.setProperty(&quot;WebDriver.Chrome.driver&quot;, &quot;E:\\\\chromedriver.exe&quot;);\r\n            driver.get(&quot;https://www.google.com&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException:The path to the driver executable must be set by the : system property","body":"<pre><code>Exception in thread \"main\" java.lang.IllegalStateException : The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from http://chromedriver.storage.googleapis.com/index.html  \nat com.google.common.base.Preconditions.checkState(Preconditions.java:199)  \nat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:109)  \nat org.openqa.selenium.chrome.ChromeDriverService.access$0(ChromeDriverService.java:1)  \nat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:137)   at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:296)   \nat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:88)     at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:116)    \nat practise_locators.DatePicker.main(DatePicker.java:11)\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>package practise_locators;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class DatePicker {\n\n    public static void main(String[] args){\n        WebDriver driver = new ChromeDriver();\n        System.setProperty(\"WebDriver.Chrome.driver\", \"E:\\\\chromedriver.exe\");\n        driver.get(\"https://www.google.com\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","lambda","functional-programming","functional-interface"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1687351970,"post_id":76523385,"comment_id":134924422,"body_markdown":"What is the return type of `Thing::getReason`? I guess by modelling the type as `Optional&lt;?&gt;` you are losing out on the type info. Is your goal just to check if the underlying value of the optional a String? Does this help [How can I know if Object is String type object?](https://stackoverflow.com/questions/4344871/how-can-i-know-if-object-is-string-type-object)?","body":"What is the return type of <code>Thing::getReason</code>? I guess by modelling the type as <code>Optional&lt;?&gt;</code> you are losing out on the type info. Is your goal just to check if the underlying value of the optional a String? Does this help <a href=\"https://stackoverflow.com/questions/4344871/how-can-i-know-if-object-is-string-type-object\">How can I know if Object is String type object?</a>?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1687352089,"post_id":76523385,"comment_id":134924454,"body_markdown":"To add to my earlier point, since you are returning a Function, you won&#39;t know if the type of the value (i.e., checking if the Object represented by the wildcard `?`) is String until you invoke the function.","body":"To add to my earlier point, since you are returning a Function, you won&#39;t know if the type of the value (i.e., checking if the Object represented by the wildcard <code>?</code>) is String until you invoke the function."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1687352237,"post_id":76523385,"comment_id":134924489,"body_markdown":"We might be having a [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). A context has a `Thing` and it has various fields like reason, destination etc., (you haven&#39;t specified their types). Starting with this, what is your problem and what are you trying to achieve?","body":"We might be having a <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. A context has a <code>Thing</code> and it has various fields like reason, destination etc., (you haven&#39;t specified their types). Starting with this, what is your problem and what are you trying to achieve?"},{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":0,"creation_date":1687356775,"post_id":76523385,"comment_id":134925700,"body_markdown":"@Thiyagu So, right now, those fields can either be a String or Long, but might eventually become more types. I think I want to have a Function&lt;Context, Optional&lt;?&gt;&gt; and transform it to Function&lt;Context, Optional&lt;String&gt;&gt; based on a mapper method, such that in a different method I can pass in the Function&lt;Context, Optional&lt;String&gt;&gt;. The reasons for this are somewhat more complex than I can really encompass here, but that is the crux of the problem. I&#39;m adding in to the example of the method I want to be able to pass a function into.","body":"@Thiyagu So, right now, those fields can either be a String or Long, but might eventually become more types. I think I want to have a Function&lt;Context, Optional&lt;?&gt;&gt; and transform it to Function&lt;Context, Optional&lt;String&gt;&gt; based on a mapper method, such that in a different method I can pass in the Function&lt;Context, Optional&lt;String&gt;&gt;. The reasons for this are somewhat more complex than I can really encompass here, but that is the crux of the problem. I&#39;m adding in to the example of the method I want to be able to pass a function into."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1687357109,"post_id":76523385,"comment_id":134925794,"body_markdown":"Can you explore if you can do the type checking at the place where you invoke the function? Pass the result of `accessor.apply(msg)` to some function and there you check if the result is of the required type. If not, you can return back an empty Optional.","body":"Can you explore if you can do the type checking at the place where you invoke the function? Pass the result of <code>accessor.apply(msg)</code> to some function and there you check if the result is of the required type. If not, you can return back an empty Optional."},{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":0,"creation_date":1687357320,"post_id":76523385,"comment_id":134925863,"body_markdown":"I think I can sort of see how that might work. I will dig into that soon and see if I can figure it out.","body":"I think I can sort of see how that might work. I will dig into that soon and see if I can figure it out."}],"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687356845,"creation_date":1687351159,"question_id":76523385,"body_markdown":"I have a number of accessor methods that interrogate various objects and return a Function&lt;Context, ?&gt;, like such:\r\n\r\n      public static Function&lt;ExmonMessageCtx, Optional&lt;?&gt;&gt; reason() {\r\n        return ctx -&gt;\r\n            ctx.getThing().map(Thing::getReason);\r\n      }\r\n\r\n  \r\n  The ultimate type of these accessor methods is either a String or Long but that could expand to different types.\r\n  \r\n  I also have a &quot;master&quot; accessor method like such:\r\n  \r\n\r\n      public static Function&lt;Context, Optional&lt;?&gt;&gt; masterAccessor(String name) {\r\n          switch (name) {\r\n          case &quot;reason&quot;:\r\n              return reason();\r\n    \t  case &quot;destination&quot;:\r\n    \t      return destination():\r\n    \t\t  ...\r\n    \t  default:\r\n    \t      return ctx -&gt; Optional.empty():\r\n    \t}\r\n\t\r\nWhat I would like to be able to do is to take this master accessor function and apply another function such that it will return a Function&lt;Context, Optional&lt;String&gt;&gt; if, for example, I want to map it against Strings. If the particular name given actually would result in one of the field accessors that uses a Long, it would return an Optional.empty().\r\n\r\nSo, what I am trying to figure out is how to make that type mapping method. \r\n\r\nI&#39;ve tried to create a mapping method like this \r\n\r\n    public static Function&lt;Context, Optional&lt;String&gt;&gt; stringType(String name, Optional&lt;?&gt; value) {\r\n          switch (name) {\r\n          case &quot;reason&quot;:\r\n          case &quot;destination&quot;:\r\n    \t  ...\r\n              return ctx -&gt; Optional.of((String) value.get());\r\n          default:\r\n              return ctx -&gt; Optional.empty();\r\n          }\r\n    }\r\n\r\nbut then I&#39;m not sure how to apply it to the master accessor function. Obviously, I&#39;m still trying to understand this functional programming approach so I&#39;m sure I&#39;m failing to grasp something inherit to this, but that&#39;s why I&#39;m here. Maybe this approach is wrong but my mandate here is that the masterAccessor method should not really change and I definitely shouldn&#39;t have different master accessors for each type (like a stringMasterAccessor and longMasterAccessor).\r\n\r\nEdit: I want to end up with a function that I can pass in to a method like the one below:\r\n\r\n      public static Predicate&lt;Context&gt; stringEquals(\r\n          Function&lt;Context, Optional&lt;String&gt;&gt; accessor, String str) {\r\n        return predicate(accessor, val -&gt; str.equals(val));\r\n\r\n      public static &lt;T&gt; Predicate&lt;Context&gt; predicate(\r\n          Function&lt;Context, Optional&lt;T&gt;&gt; accessor, Predicate&lt;T&gt; predicate) {\r\n        return msg -&gt; accessor.apply(msg).map(v -&gt; predicate.test(v)).orElse(false);\r\n\r\n  }\r\n      }","title":"Mapping wild card Function interface to a typed Function interface","body":"<p>I have a number of accessor methods that interrogate various objects and return a Function&lt;Context, ?&gt;, like such:</p>\n<pre><code>  public static Function&lt;ExmonMessageCtx, Optional&lt;?&gt;&gt; reason() {\n    return ctx -&gt;\n        ctx.getThing().map(Thing::getReason);\n  }\n</code></pre>\n<p>The ultimate type of these accessor methods is either a String or Long but that could expand to different types.</p>\n<p>I also have a &quot;master&quot; accessor method like such:</p>\n<pre><code>  public static Function&lt;Context, Optional&lt;?&gt;&gt; masterAccessor(String name) {\n      switch (name) {\n      case &quot;reason&quot;:\n          return reason();\n      case &quot;destination&quot;:\n          return destination():\n          ...\n      default:\n          return ctx -&gt; Optional.empty():\n    }\n</code></pre>\n<p>What I would like to be able to do is to take this master accessor function and apply another function such that it will return a Function&lt;Context, Optional&gt; if, for example, I want to map it against Strings. If the particular name given actually would result in one of the field accessors that uses a Long, it would return an Optional.empty().</p>\n<p>So, what I am trying to figure out is how to make that type mapping method.</p>\n<p>I've tried to create a mapping method like this</p>\n<pre><code>public static Function&lt;Context, Optional&lt;String&gt;&gt; stringType(String name, Optional&lt;?&gt; value) {\n      switch (name) {\n      case &quot;reason&quot;:\n      case &quot;destination&quot;:\n      ...\n          return ctx -&gt; Optional.of((String) value.get());\n      default:\n          return ctx -&gt; Optional.empty();\n      }\n}\n</code></pre>\n<p>but then I'm not sure how to apply it to the master accessor function. Obviously, I'm still trying to understand this functional programming approach so I'm sure I'm failing to grasp something inherit to this, but that's why I'm here. Maybe this approach is wrong but my mandate here is that the masterAccessor method should not really change and I definitely shouldn't have different master accessors for each type (like a stringMasterAccessor and longMasterAccessor).</p>\n<p>Edit: I want to end up with a function that I can pass in to a method like the one below:</p>\n<pre><code>  public static Predicate&lt;Context&gt; stringEquals(\n      Function&lt;Context, Optional&lt;String&gt;&gt; accessor, String str) {\n    return predicate(accessor, val -&gt; str.equals(val));\n\n  public static &lt;T&gt; Predicate&lt;Context&gt; predicate(\n      Function&lt;Context, Optional&lt;T&gt;&gt; accessor, Predicate&lt;T&gt; predicate) {\n    return msg -&gt; accessor.apply(msg).map(v -&gt; predicate.test(v)).orElse(false);\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","promise","vert.x","vertx-verticle","java-vertx-web"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1691329689,"post_id":76524119,"comment_id":135474118,"body_markdown":"you should be using `return` after each `promise.fail()`","body":"you should be using <code>return</code> after each <code>promise.fail()</code>"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687356799,"creation_date":1687356799,"answer_id":76524252,"question_id":76524119,"body_markdown":"Well, java executes each line of a method one by one until 1) `return` called 2) an exception is thrown 3) method ends.\r\n\r\nSince `promise.fail` just sets the failure to the promise it doesn&#39;t meet any of 3 conditions, so you program would be executed further. Though, you could easily test it by yourself.","title":"Do function execution continues after failing Promise in Java Vertx","body":"<p>Well, java executes each line of a method one by one until 1) <code>return</code> called 2) an exception is thrown 3) method ends.</p>\n<p>Since <code>promise.fail</code> just sets the failure to the promise it doesn't meet any of 3 conditions, so you program would be executed further. Though, you could easily test it by yourself.</p>\n"}],"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687356799,"creation_date":1687355907,"question_id":76524119,"body_markdown":"I have a function which I&#39;m trying to reduce complexity of. \r\n\r\n```\r\npublic Future&lt;JsonArray&gt; getAllCompanies() {\r\n\r\n\t\tString url = ...\r\n\r\n\t\treturn Future.future(\r\n\t\t\t\tpromise -&gt; webClient.getAbs(url).putHeader(String.valueOf(HttpHeaders.ACCEPT), APPLICATION_JSON)\r\n\t\t\t\t.putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), APPLICATION_JSON)\r\n\t\t\t\t.basicAuthentication(username, password).send(ar -&gt; {\r\n\t\t\t\t\tif (ar.succeeded()) {\r\n\t\t\t\t\t\tHttpResponse&lt;Buffer&gt; response = ar.result();\r\n\t\t\t\t\t\tif (response.statusCode() == 200 || response.statusCode() == 201) {\r\n\t\t\t\t\t\t\tlogger.info(&quot;getAllCompanies API call succeeded with code 200&quot;);\r\n\t\t\t\t\t\t\tJsonObject json = null;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tjson = response.bodyAsJsonObject();\r\n\t\t\t\t\t\t\t} catch (DecodeException e) {\r\n\t\t\t\t\t\t\t\tlogger.error(ERROR_GETTING_RESPONSE_BODY_AS_JSON, e);\r\n\t\t\t\t\t\t\t\tlogger.error(response.bodyAsString());\r\n\t\t\t\t\t\t\t\tpromise.fail(JSON_DECODE_FAILED);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (json != null) {\r\n\t\t\t\t\t\t\t\tJsonArray results = json.getJsonArray(RESULT);\r\n\r\n\t\t\t\t\t\t\t\tlogger.info(&quot;FINISHED! Returned {} companies&quot;, results.size());\r\n\t\t\t\t\t\t\t\tpromise.complete(results);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlogger.error(&quot;getAllCompanies call failed with HTTP status code: {}&quot;,\r\n\t\t\t\t\t\t\t\t\tresponse.statusCode());\r\n\t\t\t\t\t\t\tlogger.error(response.bodyAsString());\r\n\t\t\t\t\t\t\tpromise.fail(HTTP_STATUS_CODE_FAILURE);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlogger.error(&quot;getAllCompanies call failed to complete!&quot;, ar.cause());\r\n\t\t\t\t\t\tpromise.fail(HTTP_REQUEST_FAILED);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t}\r\n```\r\n\r\nAnd I&#39;m doing it by bringing false conditions to the top and removing else block which brings down the nested code. \r\n\r\nThis is the updated code:\r\n\r\n```\r\npublic Future&lt;JsonArray&gt; getAllCompanies() {\r\n\r\n\t\tString url = ...\r\n\r\n\t\treturn Future.future(\r\n\t\t\t\tpromise -&gt; webClient.getAbs(url).putHeader(String.valueOf(HttpHeaders.ACCEPT), APPLICATION_JSON)\r\n\t\t\t\t.putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), APPLICATION_JSON)\r\n\t\t\t\t.basicAuthentication(username, password).send(ar -&gt; {\r\n\t\t\t\t\tif (!ar.succeeded()) {\r\n\t\t\t\t\t\tlogger.error(&quot;getAllCompanies call failed to complete!&quot;, ar.cause());\r\n\t\t\t\t\t\tpromise.fail(HTTP_REQUEST_FAILED);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tHttpResponse&lt;Buffer&gt; response = ar.result();\r\n\t\t\t\t\tif (response.statusCode() != 200 &amp;&amp; response.statusCode() != 201) {\r\n\t\t\t\t\t\tlogger.error(&quot;getAllCompanies call failed with HTTP status code: {}&quot;,\r\n\t\t\t\t\t\t\t\tresponse.statusCode());\r\n\t\t\t\t\t\tlogger.error(response.bodyAsString());\r\n\t\t\t\t\t\tpromise.fail(HTTP_STATUS_CODE_FAILURE);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlogger.info(&quot;getAllCompanies API call succeeded with code 200&quot;);\r\n\t\t\t\t\tJsonObject json = null;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tjson = response.bodyAsJsonObject();\r\n\t\t\t\t\t} catch (DecodeException e) {\r\n\t\t\t\t\t\tlogger.error(ERROR_GETTING_RESPONSE_BODY_AS_JSON, e);\r\n\t\t\t\t\t\tlogger.error(response.bodyAsString());\r\n\t\t\t\t\t\tpromise.fail(JSON_DECODE_FAILED);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (json != null) {\r\n\t\t\t\t\t\tJsonArray results = json.getJsonArray(RESULT);\r\n\r\n\t\t\t\t\t\tlogger.info(&quot;FINISHED! Returned {} companies&quot;, results.size());\r\n\t\t\t\t\t\tpromise.complete(results);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t}\r\n```\r\n\r\nIf the program comes inside the updated code&#39;s first if condition **!ar.succeeded()** and promise.fail is called **promise.fail(HTTP_REQUEST_FAILED);** Do program continues or just returns it? Because I have removed else block, I don&#39;t want it to continute, perhaps I use **return;** statement? I would like to know how **Vertx Future** and **promise** works!\r\n\r\n","title":"Do function execution continues after failing Promise in Java Vertx","body":"<p>I have a function which I'm trying to reduce complexity of.</p>\n<pre><code>public Future&lt;JsonArray&gt; getAllCompanies() {\n\n        String url = ...\n\n        return Future.future(\n                promise -&gt; webClient.getAbs(url).putHeader(String.valueOf(HttpHeaders.ACCEPT), APPLICATION_JSON)\n                .putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), APPLICATION_JSON)\n                .basicAuthentication(username, password).send(ar -&gt; {\n                    if (ar.succeeded()) {\n                        HttpResponse&lt;Buffer&gt; response = ar.result();\n                        if (response.statusCode() == 200 || response.statusCode() == 201) {\n                            logger.info(&quot;getAllCompanies API call succeeded with code 200&quot;);\n                            JsonObject json = null;\n                            try {\n                                json = response.bodyAsJsonObject();\n                            } catch (DecodeException e) {\n                                logger.error(ERROR_GETTING_RESPONSE_BODY_AS_JSON, e);\n                                logger.error(response.bodyAsString());\n                                promise.fail(JSON_DECODE_FAILED);\n                            }\n                            if (json != null) {\n                                JsonArray results = json.getJsonArray(RESULT);\n\n                                logger.info(&quot;FINISHED! Returned {} companies&quot;, results.size());\n                                promise.complete(results);\n                            }\n                        } else {\n                            logger.error(&quot;getAllCompanies call failed with HTTP status code: {}&quot;,\n                                    response.statusCode());\n                            logger.error(response.bodyAsString());\n                            promise.fail(HTTP_STATUS_CODE_FAILURE);\n                        }\n                    } else {\n                        logger.error(&quot;getAllCompanies call failed to complete!&quot;, ar.cause());\n                        promise.fail(HTTP_REQUEST_FAILED);\n                    }\n                }));\n    }\n</code></pre>\n<p>And I'm doing it by bringing false conditions to the top and removing else block which brings down the nested code.</p>\n<p>This is the updated code:</p>\n<pre><code>public Future&lt;JsonArray&gt; getAllCompanies() {\n\n        String url = ...\n\n        return Future.future(\n                promise -&gt; webClient.getAbs(url).putHeader(String.valueOf(HttpHeaders.ACCEPT), APPLICATION_JSON)\n                .putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), APPLICATION_JSON)\n                .basicAuthentication(username, password).send(ar -&gt; {\n                    if (!ar.succeeded()) {\n                        logger.error(&quot;getAllCompanies call failed to complete!&quot;, ar.cause());\n                        promise.fail(HTTP_REQUEST_FAILED);\n                    }\n                    HttpResponse&lt;Buffer&gt; response = ar.result();\n                    if (response.statusCode() != 200 &amp;&amp; response.statusCode() != 201) {\n                        logger.error(&quot;getAllCompanies call failed with HTTP status code: {}&quot;,\n                                response.statusCode());\n                        logger.error(response.bodyAsString());\n                        promise.fail(HTTP_STATUS_CODE_FAILURE);\n                    }\n                    logger.info(&quot;getAllCompanies API call succeeded with code 200&quot;);\n                    JsonObject json = null;\n                    try {\n                        json = response.bodyAsJsonObject();\n                    } catch (DecodeException e) {\n                        logger.error(ERROR_GETTING_RESPONSE_BODY_AS_JSON, e);\n                        logger.error(response.bodyAsString());\n                        promise.fail(JSON_DECODE_FAILED);\n                    }\n                    if (json != null) {\n                        JsonArray results = json.getJsonArray(RESULT);\n\n                        logger.info(&quot;FINISHED! Returned {} companies&quot;, results.size());\n                        promise.complete(results);\n                    }\n                }));\n    }\n</code></pre>\n<p>If the program comes inside the updated code's first if condition <strong>!ar.succeeded()</strong> and promise.fail is called <strong>promise.fail(HTTP_REQUEST_FAILED);</strong> Do program continues or just returns it? Because I have removed else block, I don't want it to continute, perhaps I use <strong>return;</strong> statement? I would like to know how <strong>Vertx Future</strong> and <strong>promise</strong> works!</p>\n"},{"tags":["java","android","admob"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1687091884,"post_id":76499323,"comment_id":134885874,"body_markdown":"Are you sure that you are using real ad unit ids on production? Is `onAdImpression` called in `FullScreenContentCallback`?","body":"Are you sure that you are using real ad unit ids on production? Is <code>onAdImpression</code> called in <code>FullScreenContentCallback</code>?"},{"owner":{"account_id":28843161,"reputation":11,"user_id":22090831,"display_name":"Tanvi Verma"},"score":0,"creation_date":1687096264,"post_id":76499323,"comment_id":134886329,"body_markdown":"Yes..i am using original ad unit id ..in onAdinmpresion i am get log line.   Every time when  ad is shown on onAdImpression method is being called but ...no impression is recording in admob dash board","body":"Yes..i am using original ad unit id ..in onAdinmpresion i am get log line.   Every time when  ad is shown on onAdImpression method is being called but ...no impression is recording in admob dash board"}],"owner":{"account_id":28843161,"reputation":11,"user_id":22090831,"display_name":"Tanvi Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687356376,"creation_date":1687070280,"question_id":76499323,"body_markdown":"I have InterstitialManger class and  InterstailBackup class for showing inter ads in my app when Interstitial class ads failed to load ads then i am showing ads by InterstialBackup manger class in activities  , Ads are showing perfectly in the app but the problem is impression in not recording , suppose in-app ad is shown 100 times but is admob dashBoard impression count is  7 , 8 , 10 very less.\r\n\r\nHere are my codes \r\n\r\nInterstitialManger class :-- \r\n\r\nSame implementation for InterstialBackup\r\n\r\n\r\n```\r\npublic class InterstitialManager {\r\n  private static final String TAG = &quot;InterstitialManager&quot;;\r\n  public InterstitialAd interstitialAd;\r\n  private boolean adLoaded;\r\n  private String adUnitId;\r\n  InterstitialManagerBackup interstitialManagerBackup ;\r\n\r\n    public InterstitialManager(Context context, String adUnitId) {\r\n        this.adUnitId = adUnitId;\r\n        loadAd(context);\r\n    }\r\n\r\n private void loadAd(Context context) {\r\n     InterstitialAd.load(context, adUnitId, new AdRequest.Builder().build(),\r\n     new InterstitialAdLoadCallback() {\r\n      @Override\r\n      public void onAdLoaded(InterstitialAd ad) {\r\n       interstitialAd = ad;\r\n            adLoaded = true;\r\n                        interstitialManagerBackup = new InterstitialManagerBackup(context,&quot;ca-app-pub-3940256099942544/1033173712&quot;);\r\n                        Log.d(TAG, &quot;Interstitial ad loaded&quot;+interstitialAd.toString());\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        super.onAdFailedToLoad(loadAdError);\r\n                        Log.d(TAG, &quot;Interstitial ad failed&quot;+loadAdError.getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void showAd(Activity activity) {\r\n        if (adLoaded &amp;&amp; interstitialAd != null) {\r\n            interstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                @Override\r\n                public void onAdImpression() {\r\n                    Log.d(TAG, &quot;Interstitial ad impression recorded&quot;);\r\n                }\r\n\r\n                @Override\r\n                public void onAdDismissedFullScreenContent() {\r\n                   \r\n                    interstitialAd = null;\r\n                      loadAd(activity.getApplicationContext());     \r\n                    Log.d(TAG, &quot;Interstitial ad dismissed&quot;);\r\n                }\r\n            });\r\n            interstitialAd.show(activity);\r\n        } else {\r\n            Log.d(TAG, &quot;Interstitial ad not loaded yet. Loading now...&quot;);\r\n            loadAd(activity.getApplicationContext());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nIn application class i am loading ad:-\r\n\r\n`\r\n```\r\n public class MyApplication extends Application {\r\n    private InterstitialManager interstitialManager;\r\n    private InterstitialManagerBackup interstitialManagerBackup;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        interstitialManager = new InterstitialManager(this, &quot;ca-app-pub-3940256099942544/1033173712&quot;);\r\n        interstitialManagerBackup = new InterstitialManagerBackup(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;);\r\n\r\n    }\r\n\r\n    public InterstitialManager getInterstitialManager() {\r\n        return interstitialManager;\r\n    }\r\n\r\n    public InterstitialManagerBackup getInterstitialManagerBackup() {\r\n        return interstitialManagerBackup;\r\n    }\r\n}`\r\n```\r\n\r\n\r\nIn Activity showing ads like this:-\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n   ` private InterstitialManager interstitialManager;\r\n    Button showAdbutton,nextActButton;\r\n    private InterstitialManagerBackup interstitialManagerBackup;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        showAdbutton = findViewById(R.id.btn_show_ad);\r\n        nextActButton = findViewById(R.id.second_act);\r\n\r\n\r\n\r\n        \r\n\r\n        MyApplication application = (MyApplication) getApplication();\r\n        interstitialManager = application.getInterstitialManager();\r\n        interstitialManagerBackup = application.getInterstitialManagerBackup();\r\n\r\n\r\n        showAdbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (interstitialManager.interstitialAd!= null){\r\n                    showInterstitialAd();\r\n                }else{\r\n                    showInterstitailBackup();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void showInterstitialAd() {\r\n        interstitialManager.showAd(this);\r\n    }\r\n    private  void showInterstitailBackup(){\r\n        interstitialManagerBackup.showAd(MainActivity.this);\r\n    }\r\n}\r\n\r\n```\r\nwhat is wrong in this implementation why ads impression is not recording\r\n\r\nI am tried to show ads with above classes, i want the correct ads impression that ads are shown in my app but the count is too low","title":"Admob Interstiial ads impressions are very less in Admob dashboard","body":"<p>I have InterstitialManger class and  InterstailBackup class for showing inter ads in my app when Interstitial class ads failed to load ads then i am showing ads by InterstialBackup manger class in activities  , Ads are showing perfectly in the app but the problem is impression in not recording , suppose in-app ad is shown 100 times but is admob dashBoard impression count is  7 , 8 , 10 very less.</p>\n<p>Here are my codes</p>\n<p>InterstitialManger class :--</p>\n<p>Same implementation for InterstialBackup</p>\n<pre><code>public class InterstitialManager {\n  private static final String TAG = &quot;InterstitialManager&quot;;\n  public InterstitialAd interstitialAd;\n  private boolean adLoaded;\n  private String adUnitId;\n  InterstitialManagerBackup interstitialManagerBackup ;\n\n    public InterstitialManager(Context context, String adUnitId) {\n        this.adUnitId = adUnitId;\n        loadAd(context);\n    }\n\n private void loadAd(Context context) {\n     InterstitialAd.load(context, adUnitId, new AdRequest.Builder().build(),\n     new InterstitialAdLoadCallback() {\n      @Override\n      public void onAdLoaded(InterstitialAd ad) {\n       interstitialAd = ad;\n            adLoaded = true;\n                        interstitialManagerBackup = new InterstitialManagerBackup(context,&quot;ca-app-pub-3940256099942544/1033173712&quot;);\n                        Log.d(TAG, &quot;Interstitial ad loaded&quot;+interstitialAd.toString());\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        super.onAdFailedToLoad(loadAdError);\n                        Log.d(TAG, &quot;Interstitial ad failed&quot;+loadAdError.getMessage());\n                    }\n                });\n    }\n\n    public void showAd(Activity activity) {\n        if (adLoaded &amp;&amp; interstitialAd != null) {\n            interstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                @Override\n                public void onAdImpression() {\n                    Log.d(TAG, &quot;Interstitial ad impression recorded&quot;);\n                }\n\n                @Override\n                public void onAdDismissedFullScreenContent() {\n                   \n                    interstitialAd = null;\n                      loadAd(activity.getApplicationContext());     \n                    Log.d(TAG, &quot;Interstitial ad dismissed&quot;);\n                }\n            });\n            interstitialAd.show(activity);\n        } else {\n            Log.d(TAG, &quot;Interstitial ad not loaded yet. Loading now...&quot;);\n            loadAd(activity.getApplicationContext());\n        }\n    }\n}\n</code></pre>\n<p>In application class i am loading ad:-</p>\n<p>`</p>\n<pre><code> public class MyApplication extends Application {\n    private InterstitialManager interstitialManager;\n    private InterstitialManagerBackup interstitialManagerBackup;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        interstitialManager = new InterstitialManager(this, &quot;ca-app-pub-3940256099942544/1033173712&quot;);\n        interstitialManagerBackup = new InterstitialManagerBackup(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;);\n\n    }\n\n    public InterstitialManager getInterstitialManager() {\n        return interstitialManager;\n    }\n\n    public InterstitialManagerBackup getInterstitialManagerBackup() {\n        return interstitialManagerBackup;\n    }\n}`\n</code></pre>\n<p>In Activity showing ads like this:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n   ` private InterstitialManager interstitialManager;\n    Button showAdbutton,nextActButton;\n    private InterstitialManagerBackup interstitialManagerBackup;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        showAdbutton = findViewById(R.id.btn_show_ad);\n        nextActButton = findViewById(R.id.second_act);\n\n\n\n        \n\n        MyApplication application = (MyApplication) getApplication();\n        interstitialManager = application.getInterstitialManager();\n        interstitialManagerBackup = application.getInterstitialManagerBackup();\n\n\n        showAdbutton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                if (interstitialManager.interstitialAd!= null){\n                    showInterstitialAd();\n                }else{\n                    showInterstitailBackup();\n                }\n\n            }\n        });\n\n\n    }\n\n    private void showInterstitialAd() {\n        interstitialManager.showAd(this);\n    }\n    private  void showInterstitailBackup(){\n        interstitialManagerBackup.showAd(MainActivity.this);\n    }\n}\n\n</code></pre>\n<p>what is wrong in this implementation why ads impression is not recording</p>\n<p>I am tried to show ads with above classes, i want the correct ads impression that ads are shown in my app but the count is too low</p>\n"},{"tags":["java","authentication","oauth-2.0","authorization","microservices"],"answers":[{"comments":[{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1687211978,"post_id":76508916,"comment_id":134902350,"body_markdown":"I&#39;ll give this a try thank you. Should this be done at the api-gateway level or the microservice level?","body":"I&#39;ll give this a try thank you. Should this be done at the api-gateway level or the microservice level?"},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1687214665,"post_id":76508916,"comment_id":134902677,"body_markdown":"That didn&#39;t work either sadly. I am not entirely sure where to go from here. I was thinking of moving everything security related into the api-gateway, but I still want to be able to test that the endpoints are secured in the microservice.","body":"That didn&#39;t work either sadly. I am not entirely sure where to go from here. I was thinking of moving everything security related into the api-gateway, but I still want to be able to test that the endpoints are secured in the microservice."},{"owner":{"account_id":3528543,"reputation":1934,"user_id":2948891,"display_name":"taleodor"},"score":0,"creation_date":1687217311,"post_id":76508916,"comment_id":134902914,"body_markdown":"Try to change the order / check if you have other blocks that may be hijacking the global paths, i.e. `/**` and also that the path locations are actually correct. We have a similar configuration working in some of our projects - so I would suggest trying to do just a hello world project on that first - generally, I know this is working from past experience (although could be some other config interfering here). We are also trying to avoid usage of API Gateways where possible - I can probably find a reference if you&#39;re interested.","body":"Try to change the order / check if you have other blocks that may be hijacking the global paths, i.e. <code>&#47;**</code> and also that the path locations are actually correct. We have a similar configuration working in some of our projects - so I would suggest trying to do just a hello world project on that first - generally, I know this is working from past experience (although could be some other config interfering here). We are also trying to avoid usage of API Gateways where possible - I can probably find a reference if you&#39;re interested."},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1687217851,"post_id":76508916,"comment_id":134902951,"body_markdown":"I’ll try debugging more and see if there is any other configuration or paths interfering. In regards to the reference, I’d love to take a look at it. Based on simple Google searches, implementing the authentication and authorization at the API Gateway level or the microservice level seems to be subjective.","body":"I’ll try debugging more and see if there is any other configuration or paths interfering. In regards to the reference, I’d love to take a look at it. Based on simple Google searches, implementing the authentication and authorization at the API Gateway level or the microservice level seems to be subjective."},{"owner":{"account_id":3528543,"reputation":1934,"user_id":2948891,"display_name":"taleodor"},"score":0,"creation_date":1687222436,"post_id":76508916,"comment_id":134903277,"body_markdown":"This is the talk on the subject that is very good I believe - https://www.youtube.com/watch?v=rXi5CLjIQ9k","body":"This is the talk on the subject that is very good I believe - <a href=\"https://www.youtube.com/watch?v=rXi5CLjIQ9k\" rel=\"nofollow noreferrer\">youtube.com/watch?v=rXi5CLjIQ9k</a>"},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1687440439,"post_id":76508916,"comment_id":134939506,"body_markdown":"I posted a comment with the solution. Appreciate the help — I enjoyed the video as well.","body":"I posted a comment with the solution. Appreciate the help — I enjoyed the video as well."}],"tags":[],"owner":{"account_id":3528543,"reputation":1934,"user_id":2948891,"display_name":"taleodor"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687196019,"creation_date":1687196019,"answer_id":76508916,"question_id":76507865,"body_markdown":"`.permitAll()` means permit any role, but you still put `authenticated()` - which means that the user has to be authenticated via Keycloak (in your case) to access.\r\n\r\nWhat you probably want instead is something along these lines (I haven&#39;t tested but hopefully shows the idea - that you need a separate block without `authenticated()`:\r\n\r\n```\r\nhttp.authorizeHttpRequests(request -&gt; request\r\n                        .requestMatchers(&quot;/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                        .requestMatchers(&quot;/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\r\n                        .anyRequest().authenticated())\r\n.and()\r\n\t  \t.authorizeHttpRequests()\r\n\t  \t\t           .requestMatchers(&quot;/public/users/**&quot;).permitAll()\r\n.and()\r\n        .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(authenticationConverter);\r\n```","title":"Spring Security configuration not allowing public access to specific endpoints","body":"<p><code>.permitAll()</code> means permit any role, but you still put <code>authenticated()</code> - which means that the user has to be authenticated via Keycloak (in your case) to access.</p>\n<p>What you probably want instead is something along these lines (I haven't tested but hopefully shows the idea - that you need a separate block without <code>authenticated()</code>:</p>\n<pre><code>http.authorizeHttpRequests(request -&gt; request\n                        .requestMatchers(&quot;/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\n                        .requestMatchers(&quot;/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\n                        .anyRequest().authenticated())\n.and()\n        .authorizeHttpRequests()\n                       .requestMatchers(&quot;/public/users/**&quot;).permitAll()\n.and()\n        .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(authenticationConverter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687355726,"creation_date":1687355726,"answer_id":76524088,"question_id":76507865,"body_markdown":"Here is how I solved the issue, thanks to the help from @taleodor.  It wasn’t related to anything interfering with the requests — simply poor design on my end.\r\n\r\nI simply had to modify the security configuration in my API Gateway to pwrmit all requests to my micro-service like below:\r\n\r\n```\r\n   @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity security) {\r\n        security.csrf().disable()\r\n                .authorizeExchange(exchange -&gt; exchange\r\n                        .pathMatchers(&quot;/eureka/**&quot;).permitAll()\r\n                        .pathMatchers(&quot;/user-service/v0.1-dev/**&quot;).permitAll()\r\n                        .anyExchange().authenticated());\r\n\r\n        return security.build();\r\n    }\r\n   ```\r\n\r\nThen in the micro-service, the configuration somewhat stayed the same:\r\n```\r\n\r\n@Bean\r\n    public SecurityFilterChain securedSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests(request -&gt; request\r\n                        .requestMatchers(&quot;/public/users/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/auth/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                        .requestMatchers(&quot;/auth/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\r\n                        .anyRequest()\r\n                        .authenticated());\r\n\r\n        http.oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(authenticationConverter);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nThis [article](https://www.solutelabs.com/blog/authentication-and-authorization-in-microservices#:~:text=An%20API%20gateway%20should%20be,microservices%20specific%20to%20the%20application) also helped me solve the issue. This can be a subjective topic, but to summarize it, authentication checks should be done at the API Gateway level and the authorization checks should be done at the micro-service level. ","title":"Spring Security configuration not allowing public access to specific endpoints","body":"<p>Here is how I solved the issue, thanks to the help from @taleodor.  It wasn’t related to anything interfering with the requests — simply poor design on my end.</p>\n<p>I simply had to modify the security configuration in my API Gateway to pwrmit all requests to my micro-service like below:</p>\n<pre><code>   @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity security) {\n        security.csrf().disable()\n                .authorizeExchange(exchange -&gt; exchange\n                        .pathMatchers(&quot;/eureka/**&quot;).permitAll()\n                        .pathMatchers(&quot;/user-service/v0.1-dev/**&quot;).permitAll()\n                        .anyExchange().authenticated());\n\n        return security.build();\n    }\n</code></pre>\n<p>Then in the micro-service, the configuration somewhat stayed the same:</p>\n<pre><code>\n@Bean\n    public SecurityFilterChain securedSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests(request -&gt; request\n                        .requestMatchers(&quot;/public/users/**&quot;).permitAll()\n                        .requestMatchers(&quot;/auth/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\n                        .requestMatchers(&quot;/auth/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\n                        .anyRequest()\n                        .authenticated());\n\n        http.oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(authenticationConverter);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>This <a href=\"https://www.solutelabs.com/blog/authentication-and-authorization-in-microservices#:%7E:text=An%20API%20gateway%20should%20be,microservices%20specific%20to%20the%20application\" rel=\"nofollow noreferrer\">article</a> also helped me solve the issue. This can be a subjective topic, but to summarize it, authentication checks should be done at the API Gateway level and the authorization checks should be done at the micro-service level.</p>\n"}],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687355726,"creation_date":1687186831,"question_id":76507865,"body_markdown":"As the title states, I am facing issues allowing access to what should be publicly accessible endpoints in my microservices architecture. I am using Keycloak for role-based authentication, which works great, except when accessing public endpoints, I keep running into a ```401 Unauthorized``` error, despite using the ```.permitAll()``` method in my ```SecurityFilterChain``` Bean.\r\n\r\nIt is important to note that I am also using the Spring Clouds API gateway to route incoming requests to the load-balanced microservice.\r\n\r\nThe code and configuration classes are pasted below, but this is what I have been trying for the last few days to solve the issue. \r\n\r\n1. I initially implemented the authentication at the API gateway level. However, no matter what I tried, I kept getting the 401 status when accessing the endpoints from my microservice, which led to solution attempt 2.\r\n\r\n2. I implemented the authentication at the microservice level instead, and the role-based authentication worked, but accessing the public endpoints was still an issue.\r\n\r\n3. I tried disabling CSRF in my microservice ```SecurityFilterChain``` Bean, but it also didn&#39;t change anything.\r\n\r\n4. At the moment, I completely removed the public endpoints from the ```SecurityFilterChain``` Bean in my microservice. Instead, I added the public endpoint at the API gateway level in the ```SecurityWebFilterChain``` Bean, which also did not work.\r\n\r\n5. As a last resort, I added the ```PermitAll``` annotation from the ```javax.annotation.security``` package to my endpoints in my ```PublicUserController``` (the controller class for all publically available endpoints) which did not work.\r\n\r\n\r\nOther than tutorials, this is the first time I am implementing something like this on my own so it is still fairly new and I am not sure where to go from here. Any guidance towards the right direction on the issue would be greatly appreciated. I&#39;m happy to clarify anything or add any additional code if needed. Any help/guidance is greatly appreciated.\r\n\r\n# User Service #\r\n#### SecurityConfiguration ####\r\n**Note:** the path I am trying to make public is ```/public/users/**```. It should accept HttpMethod.PUT, HttpMethod.DELETE, and HttpMethod.POST.\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(securedEnabled = true)\r\npublic class SecurityConfiguration {\r\n\r\n    private final AuthenticationConverter authenticationConverter;\r\n\r\n    @Autowired\r\n    public SecurityConfiguration(AuthenticationConverter authenticationConverter) {\r\n        this.authenticationConverter = authenticationConverter;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securedSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests(request -&gt; request\r\n                        .requestMatchers(&quot;/public/users/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                        .requestMatchers(&quot;/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\r\n                        .anyRequest().authenticated())\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(authenticationConverter);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n# Api Gateway #\r\n#### UserServiceRouteConfiguration ####\r\n```\r\n@Configuration\r\npublic class UserServiceRouteConfiguration {\r\n\r\n    private final String API_VERSION = &quot;v0.1-dev&quot;;\r\n\r\n    @Bean\r\n    public RouteLocator userServiceRouteLocator(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n                .route(&quot;user-service&quot;, route -&gt; route\r\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/subscribers/users/**&quot;)\r\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\r\n                        .uri(&quot;lb://user-service&quot;))\r\n                .route(&quot;user-service&quot;, route -&gt; route\r\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/admins/users/**&quot;)\r\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\r\n                        .uri(&quot;lb://user-service&quot;))\r\n                .route(&quot;user-service&quot;, route -&gt; route\r\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/public/users/**&quot;)\r\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\r\n                        .uri(&quot;lb://user-service&quot;))\r\n                .build();\r\n    }\r\n}\r\n```\r\n#### SecurityConfiguration ####\r\n**Note:** this is is where I first started implementing the role-based auth, but wasn&#39;t working as mentioned above.\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity security) {\r\n        return security.csrf().disable()\r\n                .authorizeExchange(exchange -&gt; exchange\r\n                        .pathMatchers(&quot;/eureka/**&quot;).permitAll()\r\n                        .anyExchange().authenticated())\r\n                .oauth2ResourceServer(ServerHttpSecurity.OAuth2ResourceServerSpec::jwt)\r\n                .build();\r\n    }\r\n}\r\n```","title":"Spring Security configuration not allowing public access to specific endpoints","body":"<p>As the title states, I am facing issues allowing access to what should be publicly accessible endpoints in my microservices architecture. I am using Keycloak for role-based authentication, which works great, except when accessing public endpoints, I keep running into a <code>401 Unauthorized</code> error, despite using the <code>.permitAll()</code> method in my <code>SecurityFilterChain</code> Bean.</p>\n<p>It is important to note that I am also using the Spring Clouds API gateway to route incoming requests to the load-balanced microservice.</p>\n<p>The code and configuration classes are pasted below, but this is what I have been trying for the last few days to solve the issue.</p>\n<ol>\n<li><p>I initially implemented the authentication at the API gateway level. However, no matter what I tried, I kept getting the 401 status when accessing the endpoints from my microservice, which led to solution attempt 2.</p>\n</li>\n<li><p>I implemented the authentication at the microservice level instead, and the role-based authentication worked, but accessing the public endpoints was still an issue.</p>\n</li>\n<li><p>I tried disabling CSRF in my microservice <code>SecurityFilterChain</code> Bean, but it also didn't change anything.</p>\n</li>\n<li><p>At the moment, I completely removed the public endpoints from the <code>SecurityFilterChain</code> Bean in my microservice. Instead, I added the public endpoint at the API gateway level in the <code>SecurityWebFilterChain</code> Bean, which also did not work.</p>\n</li>\n<li><p>As a last resort, I added the <code>PermitAll</code> annotation from the <code>javax.annotation.security</code> package to my endpoints in my <code>PublicUserController</code> (the controller class for all publically available endpoints) which did not work.</p>\n</li>\n</ol>\n<p>Other than tutorials, this is the first time I am implementing something like this on my own so it is still fairly new and I am not sure where to go from here. Any guidance towards the right direction on the issue would be greatly appreciated. I'm happy to clarify anything or add any additional code if needed. Any help/guidance is greatly appreciated.</p>\n<h1>User Service</h1>\n<h4>SecurityConfiguration</h4>\n<p><strong>Note:</strong> the path I am trying to make public is <code>/public/users/**</code>. It should accept HttpMethod.PUT, HttpMethod.DELETE, and HttpMethod.POST.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(securedEnabled = true)\npublic class SecurityConfiguration {\n\n    private final AuthenticationConverter authenticationConverter;\n\n    @Autowired\n    public SecurityConfiguration(AuthenticationConverter authenticationConverter) {\n        this.authenticationConverter = authenticationConverter;\n    }\n\n    @Bean\n    public SecurityFilterChain securedSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(request -&gt; request\n                        .requestMatchers(&quot;/public/users/**&quot;).permitAll()\n                        .requestMatchers(&quot;/admins/users/**&quot;).hasRole(&quot;ADMIN&quot;)\n                        .requestMatchers(&quot;/subscribers/users/**&quot;).hasRole(&quot;SUBSCRIBER&quot;)\n                        .anyRequest().authenticated())\n                .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(authenticationConverter);\n\n        return http.build();\n    }\n}\n</code></pre>\n<h1>Api Gateway</h1>\n<h4>UserServiceRouteConfiguration</h4>\n<pre><code>@Configuration\npublic class UserServiceRouteConfiguration {\n\n    private final String API_VERSION = &quot;v0.1-dev&quot;;\n\n    @Bean\n    public RouteLocator userServiceRouteLocator(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(&quot;user-service&quot;, route -&gt; route\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/subscribers/users/**&quot;)\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\n                        .uri(&quot;lb://user-service&quot;))\n                .route(&quot;user-service&quot;, route -&gt; route\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/admins/users/**&quot;)\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\n                        .uri(&quot;lb://user-service&quot;))\n                .route(&quot;user-service&quot;, route -&gt; route\n                        .path(&quot;/user-service/&quot; + API_VERSION + &quot;/public/users/**&quot;)\n                        .and().method(HttpMethod.GET, HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE)\n                        .uri(&quot;lb://user-service&quot;))\n                .build();\n    }\n}\n</code></pre>\n<h4>SecurityConfiguration</h4>\n<p><strong>Note:</strong> this is is where I first started implementing the role-based auth, but wasn't working as mentioned above.</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity security) {\n        return security.csrf().disable()\n                .authorizeExchange(exchange -&gt; exchange\n                        .pathMatchers(&quot;/eureka/**&quot;).permitAll()\n                        .anyExchange().authenticated())\n                .oauth2ResourceServer(ServerHttpSecurity.OAuth2ResourceServerSpec::jwt)\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","hbase","crud","hbase-shell"],"answers":[{"tags":[],"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687355609,"creation_date":1687355609,"answer_id":76524074,"question_id":73627474,"body_markdown":"As far as I understand this HBase behaviour and the HBase concepts that lead to it, the main problem is the Long.MAX_VALUE is a special value, that will be changed to the current time on the server side. \r\n\r\nBy design, Long.MAX_VALUE should not be used as a timestamp for any row, but HBase does not provide any protection to avoid it.\r\n\r\nIf you discover HBase client code, e.g. [Put][1], you can see using HConstants.LATEST_TIMESTAMP as the default timestamp for every put. Which means that the server should use the current timestamp.\r\n\r\n      public Put(byte [] row) {\r\n        this(row, HConstants.LATEST_TIMESTAMP);\r\n      }\r\n\r\nAlso, you can read [this comment][2] for LATEST_TIMESTAMP constant with a detailed description of deleting rows.\r\n\r\nThe solution provided in the mailing-archive is based on manually rewriting HFile with the delete marker for the desired row. Also, it contains a gist with an example of code: https://www.mail-archive.com/user@hbase.apache.org/msg44615.html\r\n\r\n  [1]: https://github.com/apache/hbase/blob/cf02edbb1cea37a9a1cc4a64ff50f77a86955e5c/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Put.java#L51\r\n  [2]: https://github.com/apache/hbase/blame/cf02edbb1cea37a9a1cc4a64ff50f77a86955e5c/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java#L644","title":"Not able to delete a Row which has a timestamp Long.MAX_VALUE from Hbase","body":"<p>As far as I understand this HBase behaviour and the HBase concepts that lead to it, the main problem is the Long.MAX_VALUE is a special value, that will be changed to the current time on the server side.</p>\n<p>By design, Long.MAX_VALUE should not be used as a timestamp for any row, but HBase does not provide any protection to avoid it.</p>\n<p>If you discover HBase client code, e.g. <a href=\"https://github.com/apache/hbase/blob/cf02edbb1cea37a9a1cc4a64ff50f77a86955e5c/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Put.java#L51\" rel=\"nofollow noreferrer\">Put</a>, you can see using HConstants.LATEST_TIMESTAMP as the default timestamp for every put. Which means that the server should use the current timestamp.</p>\n<pre><code>  public Put(byte [] row) {\n    this(row, HConstants.LATEST_TIMESTAMP);\n  }\n</code></pre>\n<p>Also, you can read <a href=\"https://github.com/apache/hbase/blame/cf02edbb1cea37a9a1cc4a64ff50f77a86955e5c/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java#L644\" rel=\"nofollow noreferrer\">this comment</a> for LATEST_TIMESTAMP constant with a detailed description of deleting rows.</p>\n<p>The solution provided in the mailing-archive is based on manually rewriting HFile with the delete marker for the desired row. Also, it contains a gist with an example of code: <a href=\"https://www.mail-archive.com/user@hbase.apache.org/msg44615.html\" rel=\"nofollow noreferrer\">https://www.mail-archive.com/user@hbase.apache.org/msg44615.html</a></p>\n"}],"owner":{"account_id":15385820,"reputation":912,"user_id":11099895,"display_name":"Shashank Gb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76524074,"answer_count":1,"score":1,"last_activity_date":1687355609,"creation_date":1662496224,"question_id":73627474,"body_markdown":"Somehow I ended up adding a row to `Hbase` with timestamp as `Long.MAX_VALUE`. Now Either not able to `put` with less than that `Long.MAX_VALUE` to the same `key` or `delete` that inserted row.\r\n\r\n**What cause this issue**\r\n\r\nOnce I succesfully added this row (For some curiosity). Is it bad to add a `timestamp` value like this?\r\n```\r\nmm21000000000:422021000000000     column=s:fe:k, timestamp=9223370481975138807, value=m21000000000\r\nmm21000000000:422021000000000     column=s:fe:m21000000000, timestamp=9223370481975138807, value=\\x01\r\n```\r\nNow, If I try to add one more column to same row like this without `timestamp` or less than the `timestamp` as `&lt; Long.MAX_VALUE`, it won&#39;t working. Of course If I add a new `row` with diff `key` it works.\r\n```\r\nput &#39;ue_combo&#39;,&#39;mm21000000000:422021000000000&#39;,&#39;s:le:k&#39;,&#39;3422021000000000&#39; // I&#39;ll be adding this via JAVA\r\n//Briefly\r\nput.addColumn(&quot;s&quot;.getBytes(), &quot;le:k&quot;.getBytes(), ts, &quot;3422021000000000&quot;.getBytes()); //ts is timestamp\r\n```\r\nFinally decided to get rid of that row and tried deleting that row using `key` value and also used `ROWPREFIXFILTER` as shown below\r\n```\r\ndeleteall &#39;table_name&#39;, &#39;mm21000000000:422021000000000&#39;\r\ndeleteall &#39;table_name&#39;, {ROWPREFIXFILTER =&gt; &#39;mm&#39;}\r\n```\r\n**Not at all deleting**\r\n\r\nSolution via shell command or through Hbase APIs via `JAVA` codebase will help. Also able to figure the issue but not able to understand it thoroughly. Is `Hbase` understanding that the row added with `timestamp` as `Long.MAX_VALUE` will be added in future time? `Hbase` only allow in increasing ordered `timestamp` then meaning once a maxed `timestamp` is stored less than that `timestamp` cannot be inserted?\r\n\r\nI found this [mail-archive](https://www.mail-archive.com/user@hbase.apache.org/msg44599.html), didn&#39;t understood much but I think he tries to overriding the `Hbase` code. That&#39;s not possible in my case.\r\n\r\nIf you need anything extra, please mention in the comment","title":"Not able to delete a Row which has a timestamp Long.MAX_VALUE from Hbase","body":"<p>Somehow I ended up adding a row to <code>Hbase</code> with timestamp as <code>Long.MAX_VALUE</code>. Now Either not able to <code>put</code> with less than that <code>Long.MAX_VALUE</code> to the same <code>key</code> or <code>delete</code> that inserted row.</p>\n<p><strong>What cause this issue</strong></p>\n<p>Once I succesfully added this row (For some curiosity). Is it bad to add a <code>timestamp</code> value like this?</p>\n<pre><code>mm21000000000:422021000000000     column=s:fe:k, timestamp=9223370481975138807, value=m21000000000\nmm21000000000:422021000000000     column=s:fe:m21000000000, timestamp=9223370481975138807, value=\\x01\n</code></pre>\n<p>Now, If I try to add one more column to same row like this without <code>timestamp</code> or less than the <code>timestamp</code> as <code>&lt; Long.MAX_VALUE</code>, it won't working. Of course If I add a new <code>row</code> with diff <code>key</code> it works.</p>\n<pre><code>put 'ue_combo','mm21000000000:422021000000000','s:le:k','3422021000000000' // I'll be adding this via JAVA\n//Briefly\nput.addColumn(&quot;s&quot;.getBytes(), &quot;le:k&quot;.getBytes(), ts, &quot;3422021000000000&quot;.getBytes()); //ts is timestamp\n</code></pre>\n<p>Finally decided to get rid of that row and tried deleting that row using <code>key</code> value and also used <code>ROWPREFIXFILTER</code> as shown below</p>\n<pre><code>deleteall 'table_name', 'mm21000000000:422021000000000'\ndeleteall 'table_name', {ROWPREFIXFILTER =&gt; 'mm'}\n</code></pre>\n<p><strong>Not at all deleting</strong></p>\n<p>Solution via shell command or through Hbase APIs via <code>JAVA</code> codebase will help. Also able to figure the issue but not able to understand it thoroughly. Is <code>Hbase</code> understanding that the row added with <code>timestamp</code> as <code>Long.MAX_VALUE</code> will be added in future time? <code>Hbase</code> only allow in increasing ordered <code>timestamp</code> then meaning once a maxed <code>timestamp</code> is stored less than that <code>timestamp</code> cannot be inserted?</p>\n<p>I found this <a href=\"https://www.mail-archive.com/user@hbase.apache.org/msg44599.html\" rel=\"nofollow noreferrer\">mail-archive</a>, didn't understood much but I think he tries to overriding the <code>Hbase</code> code. That's not possible in my case.</p>\n<p>If you need anything extra, please mention in the comment</p>\n"},{"tags":["java","pdf","pdf-generation","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1687360714,"post_id":76524067,"comment_id":134926767,"body_markdown":"have you tried `newLineAtOffset()` ? Try twice the font size as Y offset.","body":"have you tried <code>newLineAtOffset()</code> ? Try twice the font size as Y offset."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1687361920,"post_id":76524067,"comment_id":134927056,"body_markdown":"`showText` renders from left to right, correct, but it does nothing vertically, it neither goes from bottom to top nor from top to bottom. If you experience a bottom-to-top writing order in your code, some other part of your code causes that. Unfortunately you don&#39;t show your pivotal code. Thus, we cannot tell how to change that direction.","body":"<code>showText</code> renders from left to right, correct, but it does nothing vertically, it neither goes from bottom to top nor from top to bottom. If you experience a bottom-to-top writing order in your code, some other part of your code causes that. Unfortunately you don&#39;t show your pivotal code. Thus, we cannot tell how to change that direction."}],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687355547,"creation_date":1687355547,"question_id":76524067,"body_markdown":"It is to my understanding that, when within a text block, the showText() method of PDFBox renders the text from left to right and from down to up.\r\n\r\nIs there a way to change that? I&#39;m implementing a functionality that renders multiple lines of text of different font sizes so when writing one line I do not know the height of the line that will come below and it is causing me problems because they overlap. \r\n\r\nIt would be useful if I can just write some text, set the new current position to the bottom of the written text and write some more text starting from there but rendering it up to down instead of down to up.\r\n","title":"How to change text rendering direction in PDFBox 2.0.27","body":"<p>It is to my understanding that, when within a text block, the showText() method of PDFBox renders the text from left to right and from down to up.</p>\n<p>Is there a way to change that? I'm implementing a functionality that renders multiple lines of text of different font sizes so when writing one line I do not know the height of the line that will come below and it is causing me problems because they overlap.</p>\n<p>It would be useful if I can just write some text, set the new current position to the bottom of the written text and write some more text starting from there but rendering it up to down instead of down to up.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1687353680,"post_id":76523427,"comment_id":134924841,"body_markdown":"Tested the same code on `jdk1.8.0_341` and there was no problem, reached 21k.","body":"Tested the same code on <code>jdk1.8.0_341</code> and there was no problem, reached 21k."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687353851,"post_id":76523427,"comment_id":134924887,"body_markdown":"@MissChanandlerBong That&#39;s a pretty out of date platform to test on.","body":"@MissChanandlerBong That&#39;s a pretty out of date platform to test on."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687354148,"post_id":76523427,"comment_id":134924968,"body_markdown":"You are running into the &quot;premature garbage collection&quot; problem. See linked Q&amp;A. You can test this by adding `mainPane.setOnMouseClicked(e -&gt; System.gc());`. Then clicking on the pane (not the circle) will cause the binding to stop working immediately. Fix it by making the binding an instance variable (so a reference to it is retained).","body":"You are running into the &quot;premature garbage collection&quot; problem. See linked Q&amp;A. You can test this by adding <code>mainPane.setOnMouseClicked(e -&gt; System.gc());</code>. Then clicking on the pane (not the circle) will cause the binding to stop working immediately. Fix it by making the binding an instance variable (so a reference to it is retained)."}],"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1687353974,"answer_count":0,"score":1,"last_activity_date":1687354577,"creation_date":1687351418,"question_id":76523427,"body_markdown":"This question is a follow-up of [this one][1].\r\n\r\nThe following code draws a `Circle` in an `AnchorPane`. The `Circle` is initialized with `centerX=centerY=radius=50`. When dragging mouse on the `Circle`, the `Circle` moves on the `AnchorPane`, such that its center coordinates remains at a constant position with respect to cursor position. \r\n```\r\nimport javafx.application.Application;\r\nimport javafx.beans.Observable;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.beans.binding.DoubleBinding;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HelloApplication extends Application {\r\n\r\n    private final AnchorPane mainPane=new AnchorPane();\r\n\r\n    double x=0,y=0;\r\n    double tx =0, ty =0;\r\n\r\n    int i=0;\r\n\r\n    // create list with an extractor:\r\n    ObservableList&lt;Circle&gt; circles =FXCollections.observableArrayList(circle1 -&gt; new Observable[]{circle1.centerXProperty()});\r\n\r\n    Circle circle = new Circle(50,50,50);\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        \r\n        // Set up stage for show!\r\n        Scene scene = new Scene(mainPane, 1200, 800);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        // set fill color.\r\n        circle.setFill(new Color(1, 0, 0, 0.5));\r\n\r\n        // set up onMousePressed listener.\r\n        circle.setOnMousePressed(mouseEvent -&gt; {\r\n            x=mouseEvent.getX();\r\n            y=mouseEvent.getY();\r\n        });\r\n\r\n        // set up onMouseDragged listener.\r\n        circle.setOnMouseDragged(mouseEvent -&gt; {\r\n            tx=x;\r\n            ty=y;\r\n            x=mouseEvent.getX();\r\n            y=mouseEvent.getY();\r\n            circle.setCenterX(circle.getCenterX()+x-tx);\r\n            circle.setCenterY(circle.getCenterY()+y-ty);\r\n            i++;\r\n        });\r\n\r\n        // add rectangle pane children.\r\n        mainPane.getChildren().addAll(circle);\r\n\r\n        // add rectangle to rectangles.\r\n        circles.add(circle);\r\n\r\n        DoubleBinding centerX = Bindings.createDoubleBinding(\r\n                () -&gt; circles\r\n                        .stream()\r\n                        .mapToDouble(Circle::getCenterX)\r\n                        .min()\r\n                        .orElse(0),\r\n                circles\r\n        );\r\n\r\n        centerX.addListener((obs, oldMin, newMin) -&gt; System.out.println(&quot;center X changed from &quot; + oldMin + &quot; to &quot; + newMin+&quot; , i = &quot;+i));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nA custom `DoubleBinding centerX` tracks the changes in the centerX of the Circle and prints the following message on console:\r\n\r\n`Min X changed from 50.0 to 58.0 , i = 0`\r\n\r\nwhere `i` is an index [the numbers are arbitrary and may change]. \r\n\r\nThis message printing continues well up to approximately `i=7000` and then stops. I would appreciate if someone gives me a hint as to why this happens and how to fix it. Thanks.\r\n\r\n**Addendum**\r\n\r\nThe reason that I captured the `min()` of all `Circle` instances of circles is that I may have more than a `Circle` and I wish to capture the minimum position of the `centerX` values of these `Circle`s. I included only one `Circle` instance in this example for simplicity.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76507114/minimum-of-a-stream-of-doubleproperty-as-a-doubleproperty","title":"Peculiar behavior in custom DoubleBinding (JavaFX)","body":"<p>This question is a follow-up of <a href=\"https://stackoverflow.com/questions/76507114/minimum-of-a-stream-of-doubleproperty-as-a-doubleproperty\">this one</a>.</p>\n<p>The following code draws a <code>Circle</code> in an <code>AnchorPane</code>. The <code>Circle</code> is initialized with <code>centerX=centerY=radius=50</code>. When dragging mouse on the <code>Circle</code>, the <code>Circle</code> moves on the <code>AnchorPane</code>, such that its center coordinates remains at a constant position with respect to cursor position.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.Observable;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.binding.DoubleBinding;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n\n    private final AnchorPane mainPane=new AnchorPane();\n\n    double x=0,y=0;\n    double tx =0, ty =0;\n\n    int i=0;\n\n    // create list with an extractor:\n    ObservableList&lt;Circle&gt; circles =FXCollections.observableArrayList(circle1 -&gt; new Observable[]{circle1.centerXProperty()});\n\n    Circle circle = new Circle(50,50,50);\n\n    @Override\n    public void start(Stage stage) {\n        \n        // Set up stage for show!\n        Scene scene = new Scene(mainPane, 1200, 800);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n\n        // set fill color.\n        circle.setFill(new Color(1, 0, 0, 0.5));\n\n        // set up onMousePressed listener.\n        circle.setOnMousePressed(mouseEvent -&gt; {\n            x=mouseEvent.getX();\n            y=mouseEvent.getY();\n        });\n\n        // set up onMouseDragged listener.\n        circle.setOnMouseDragged(mouseEvent -&gt; {\n            tx=x;\n            ty=y;\n            x=mouseEvent.getX();\n            y=mouseEvent.getY();\n            circle.setCenterX(circle.getCenterX()+x-tx);\n            circle.setCenterY(circle.getCenterY()+y-ty);\n            i++;\n        });\n\n        // add rectangle pane children.\n        mainPane.getChildren().addAll(circle);\n\n        // add rectangle to rectangles.\n        circles.add(circle);\n\n        DoubleBinding centerX = Bindings.createDoubleBinding(\n                () -&gt; circles\n                        .stream()\n                        .mapToDouble(Circle::getCenterX)\n                        .min()\n                        .orElse(0),\n                circles\n        );\n\n        centerX.addListener((obs, oldMin, newMin) -&gt; System.out.println(&quot;center X changed from &quot; + oldMin + &quot; to &quot; + newMin+&quot; , i = &quot;+i));\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>A custom <code>DoubleBinding centerX</code> tracks the changes in the centerX of the Circle and prints the following message on console:</p>\n<p><code>Min X changed from 50.0 to 58.0 , i = 0</code></p>\n<p>where <code>i</code> is an index [the numbers are arbitrary and may change].</p>\n<p>This message printing continues well up to approximately <code>i=7000</code> and then stops. I would appreciate if someone gives me a hint as to why this happens and how to fix it. Thanks.</p>\n<p><strong>Addendum</strong></p>\n<p>The reason that I captured the <code>min()</code> of all <code>Circle</code> instances of circles is that I may have more than a <code>Circle</code> and I wish to capture the minimum position of the <code>centerX</code> values of these <code>Circle</code>s. I included only one <code>Circle</code> instance in this example for simplicity.</p>\n"},{"tags":["java","tomcat","memory","cloud","openshift"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1687059409,"post_id":76497957,"comment_id":134883206,"body_markdown":"Are you expecting the JVM to release memory back to the OS? I&#39;ve never seen that happen, and rightly so: you just configure what it is allowed to consume (max)","body":"Are you expecting the JVM to release memory back to the OS? I&#39;ve never seen that happen, and rightly so: you just configure what it is allowed to consume (max)"},{"owner":{"account_id":11311436,"reputation":133,"user_id":8294431,"display_name":"Shivam Sharma"},"score":0,"creation_date":1687078020,"post_id":76497957,"comment_id":134884444,"body_markdown":"If memory is not given back then HPA will never scale down the pods, because it has some threshold for it. \nHow can I achieve it then ? if memory doesn&#39;t release","body":"If memory is not given back then HPA will never scale down the pods, because it has some threshold for it.  How can I achieve it then ? if memory doesn&#39;t release"}],"answers":[{"comments":[{"owner":{"account_id":11311436,"reputation":133,"user_id":8294431,"display_name":"Shivam Sharma"},"score":0,"creation_date":1687449868,"post_id":76523884,"comment_id":134941761,"body_markdown":"Thanks for the explanation David.\n\nSo all java applications only uses CPU condition in their HPA. Is it a good approach to remove memory condition and only scale on the basis of CPU usage ?","body":"Thanks for the explanation David.  So all java applications only uses CPU condition in their HPA. Is it a good approach to remove memory condition and only scale on the basis of CPU usage ?"},{"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"score":0,"creation_date":1687549249,"post_id":76523884,"comment_id":134958091,"body_markdown":"Yes, that would be my approach, scaling only on cpu and not memory. The word “all” always scares me, I’m sure someone somewhere has an exception, but I’ve always used cpu only.","body":"Yes, that would be my approach, scaling only on cpu and not memory. The word “all” always scares me, I’m sure someone somewhere has an exception, but I’ve always used cpu only."}],"tags":[],"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687354500,"creation_date":1687354500,"answer_id":76523884,"question_id":76497957,"body_markdown":"This is the way that the Java JVM works: it never releases memory. And, assuming a modern JVM, it will generally just allocate as much memory as available in the container on startup. There are a bunch of reasons for this, but the gist of it is that the JVM is doing its own memory management and memory garbage collection so it needs to have as big of a pool of memory available as it can.\r\n\r\nAs such, memory usually isn&#39;t the best option for autoscaling Java applications. Typically you will want to autoscale based on CPU and just set the amount of memory for each pod based on load testing (and generally set memory request to the same amount as memory limit). e.g. If I have a CPU request size of 2000 mCPU, I&#39;ll do performance benchmarking on a 2000 mCPU container and gradually reduce the available memory until I notice a degradation in performance or unacceptable GC. That then establishes my pod resources and I can use HPA to scale up and down based on CPU. \r\n\r\nStandard disclaimers apply: performance tuning is a very application specific thing. But autoscaling Java based applications on memory usage isn&#39;t going to work effectively.","title":"Open shift Pod Memory is not releasing for Java tomcat application | No Memory Leak in application","body":"<p>This is the way that the Java JVM works: it never releases memory. And, assuming a modern JVM, it will generally just allocate as much memory as available in the container on startup. There are a bunch of reasons for this, but the gist of it is that the JVM is doing its own memory management and memory garbage collection so it needs to have as big of a pool of memory available as it can.</p>\n<p>As such, memory usually isn't the best option for autoscaling Java applications. Typically you will want to autoscale based on CPU and just set the amount of memory for each pod based on load testing (and generally set memory request to the same amount as memory limit). e.g. If I have a CPU request size of 2000 mCPU, I'll do performance benchmarking on a 2000 mCPU container and gradually reduce the available memory until I notice a degradation in performance or unacceptable GC. That then establishes my pod resources and I can use HPA to scale up and down based on CPU.</p>\n<p>Standard disclaimers apply: performance tuning is a very application specific thing. But autoscaling Java based applications on memory usage isn't going to work effectively.</p>\n"}],"owner":{"account_id":11311436,"reputation":133,"user_id":8294431,"display_name":"Shivam Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76523884,"answer_count":1,"score":0,"last_activity_date":1687354500,"creation_date":1687032228,"question_id":76497957,"body_markdown":"I have a java tomcat application deployed on open shift environment and I have observed pod memory is not releasing even after the load has stopped (No Traffic). I have waited till 1 day but still,  memory not released due to which pods are never scaling down. In HPA properties also, utilized memory is above 80%.\r\n\r\n**I have already analyzed the heap dump of application and there is no memory leak at all, also never observed any out of memory error/exception.**\r\n\r\nTried using below JVM props which I found on open shift blog (given below) but still the problem is not resolved.\r\nhttps://cloud.redhat.com/blog/scaling-java-containers\r\n\r\n**About Application**   \r\nIt&#39;s bit of traditional application (Advance Java &amp; Servlets) built in monolithic architecture and using tomcat 8 as a application server.\r\n\r\n\r\n*It&#39;d be really helpful if anyone can help or share their expertise in scaling java application on open shift.*\r\n ","title":"Open shift Pod Memory is not releasing for Java tomcat application | No Memory Leak in application","body":"<p>I have a java tomcat application deployed on open shift environment and I have observed pod memory is not releasing even after the load has stopped (No Traffic). I have waited till 1 day but still,  memory not released due to which pods are never scaling down. In HPA properties also, utilized memory is above 80%.</p>\n<p><strong>I have already analyzed the heap dump of application and there is no memory leak at all, also never observed any out of memory error/exception.</strong></p>\n<p>Tried using below JVM props which I found on open shift blog (given below) but still the problem is not resolved.\n<a href=\"https://cloud.redhat.com/blog/scaling-java-containers\" rel=\"nofollow noreferrer\">https://cloud.redhat.com/blog/scaling-java-containers</a></p>\n<p><strong>About Application</strong><br />\nIt's bit of traditional application (Advance Java &amp; Servlets) built in monolithic architecture and using tomcat 8 as a application server.</p>\n<p><em>It'd be really helpful if anyone can help or share their expertise in scaling java application on open shift.</em></p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686918897,"post_id":76489930,"comment_id":134868294,"body_markdown":"You control the repeats by acking (commit the offset), or otherwise manually seeking the consumer forward","body":"You control the repeats by acking (commit the offset), or otherwise manually seeking the consumer forward"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686921203,"post_id":76489930,"comment_id":134868792,"body_markdown":"@OneCricketeer\nCould you explain what is going on in case of ack absence ? why method listen is called multiple times ? why this process is not infinite ?","body":"@OneCricketeer Could you explain what is going on in case of ack absence ? why method listen is called multiple times ? why this process is not infinite ?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686924438,"post_id":76489930,"comment_id":134869584,"body_markdown":"As far as I know the delivery in Kafka doesn&#39;t work that way. There is a cursor for consumer on the topic partition and in the perfect world we never need to commit offsets (ack in your terms) and consumer always forward to the next offset after the current delivery. A committed offset makes sense only after restart. At this point the consumer group takes a committed offset and starts consuming from there. Therefore you&#39;ll see those redeliveries only after restart if you don&#39;t ack.","body":"As far as I know the delivery in Kafka doesn&#39;t work that way. There is a cursor for consumer on the topic partition and in the perfect world we never need to commit offsets (ack in your terms) and consumer always forward to the next offset after the current delivery. A committed offset makes sense only after restart. At this point the consumer group takes a committed offset and starts consuming from there. Therefore you&#39;ll see those redeliveries only after restart if you don&#39;t ack."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686925597,"post_id":76489930,"comment_id":134869879,"body_markdown":"@Artem Bilan so why do I see the behaviour I described in the topic ? method &quot;listen&quot; is called multiple times. You can easily run my code to make sure I don&#39;t lie.","body":"@Artem Bilan so why do I see the behaviour I described in the topic ? method &quot;listen&quot; is called multiple times. You can easily run my code to make sure I don&#39;t lie."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686925932,"post_id":76489930,"comment_id":134869952,"body_markdown":"Because you send a new data on application start and consumer reads this one and previously not committed. You&#39;ll see difference when you also log a `KafkaHeaders.OFFSET` header in your `listen()` method.","body":"Because you send a new data on application start and consumer reads this one and previously not committed. You&#39;ll see difference when you also log a <code>KafkaHeaders.OFFSET</code> header in your <code>listen()</code> method."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686926428,"post_id":76489930,"comment_id":134870050,"body_markdown":"@Artem Bilan si if I change the topic name and restart the app - I should receive a single message ?","body":"@Artem Bilan si if I change the topic name and restart the app - I should receive a single message ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686926751,"post_id":76489930,"comment_id":134870132,"body_markdown":"Actual reults:\n1 start - 1;\n2 start - 4;\n3 start - 6;\n4 start - 8;\n5 start - 9;\n6 start - 11;\n7 start - 13;\n\nAny ideas why ?","body":"Actual reults: 1 start - 1; 2 start - 4; 3 start - 6; 4 start - 8; 5 start - 9; 6 start - 11; 7 start - 13;  Any ideas why ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686927092,"post_id":76489930,"comment_id":134870200,"body_markdown":"when I setup concurrency to 1 - results became more predictable\n1 start - 1;\n2 start - 2;\n3 start - 3;\n4 start - 4:\n5 start - 5;","body":"when I setup concurrency to 1 - results became more predictable 1 start - 1; 2 start - 2; 3 start - 3; 4 start - 4: 5 start - 5;"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686927095,"post_id":76489930,"comment_id":134870201,"body_markdown":"If you change the topic name, then it is fully different story and you must not receive data from other topics. It is probably better to test the behavior without sending a new message on restart again and again.","body":"If you change the topic name, then it is fully different story and you must not receive data from other topics. It is probably better to test the behavior without sending a new message on restart again and again."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686927215,"post_id":76489930,"comment_id":134870233,"body_markdown":"@Artem Bilan looks like it is related to the  concurreny option (please read prvious comment) even with send on startup","body":"@Artem Bilan looks like it is related to the  concurreny option (please read prvious comment) even with send on startup"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1686927257,"post_id":76489930,"comment_id":134870240,"body_markdown":"The concurrency must not matter: you just have `partitions(1)`, so only one consumer will be active.","body":"The concurrency must not matter: you just have <code>partitions(1)</code>, so only one consumer will be active."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686927333,"post_id":76489930,"comment_id":134870253,"body_markdown":"@Artem Bilan could you please run the code from the topic  for a single time ?\n\nYou will find &quot;foo:1 finished&quot; twice","body":"@Artem Bilan could you please run the code from the topic  for a single time ?  You will find &quot;foo:1 finished&quot; twice"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1686929559,"post_id":76489930,"comment_id":134870725,"body_markdown":"Probably your `Thread.sleep(5000);` is too long and it causes a rebalance on consumer group and this way a new consumer after rebalance will rewind to its committed offset.","body":"Probably your <code>Thread.sleep(5000);</code> is too long and it causes a rebalance on consumer group and this way a new consumer after rebalance will rewind to its committed offset."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686930337,"post_id":76489930,"comment_id":134870906,"body_markdown":"@Artem Bilan I removed timeout and result still the same","body":"@Artem Bilan I removed timeout and result still the same"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686930392,"post_id":76489930,"comment_id":134870920,"body_markdown":"And concurrency really matters(just try)","body":"And concurrency really matters(just try)"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686930754,"post_id":76489930,"comment_id":134870999,"body_markdown":"Sorry, I cannot: it is not easy to have a dedicated Apache Kafka on Windows. The embedded doesn&#39;t fit our scenario and I would need some effort to start it in the Docker.","body":"Sorry, I cannot: it is not easy to have a dedicated Apache Kafka on Windows. The embedded doesn&#39;t fit our scenario and I would need some effort to start it in the Docker."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1686931456,"post_id":76489930,"comment_id":134871128,"body_markdown":"BTW I use bitnami/kafka:latest image","body":"BTW I use bitnami/kafka:latest image"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687003935,"post_id":76489930,"comment_id":134878259,"body_markdown":"I assume you&#39;re using latest Spring-kafka?","body":"I assume you&#39;re using latest Spring-kafka?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1687157363,"post_id":76489930,"comment_id":134892034,"body_markdown":"@OneCricketeer I use spring-boot 3.0.4 and spring-kafka from corresponding release train(I don&#39;t provide version explicitly)","body":"@OneCricketeer I use spring-boot 3.0.4 and spring-kafka from corresponding release train(I don&#39;t provide version explicitly)"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687354370,"creation_date":1687354370,"answer_id":76523862,"question_id":76489930,"body_markdown":"&gt;As you can see I setup AckMode.MANUAL and don&#39;t call ack manually. My expectations that message should be redilivered after some timeout ?\r\n\r\nNo; Kafka doesn&#39;t work that way. It maintains 2 pointers, the current position and the committed offset, after the consumer starts, they are unrelated, failing to ack a record will not cause it to be redelivered until you restart the consumer (and then only as long as you haven&#39;t acked a following record in the same partition). Polls only return records from the current position; committing offsets is independent.\r\n\r\nYou have to throw and exception, and the default error handler will re-seek the partition and the record will be redelivered.","title":"When message will be reaccepted by kafkaListener in case of ack absence?","body":"<blockquote>\n<p>As you can see I setup AckMode.MANUAL and don't call ack manually. My expectations that message should be redilivered after some timeout ?</p>\n</blockquote>\n<p>No; Kafka doesn't work that way. It maintains 2 pointers, the current position and the committed offset, after the consumer starts, they are unrelated, failing to ack a record will not cause it to be redelivered until you restart the consumer (and then only as long as you haven't acked a following record in the same partition). Polls only return records from the current position; committing offsets is independent.</p>\n<p>You have to throw and exception, and the default error handler will re-seek the partition and the record will be redelivered.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687354370,"creation_date":1686916429,"question_id":76489930,"body_markdown":"Let&#39;s say I have spring boot application\r\n\r\n    @SpringBootApplication\r\n    @Slf4j\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n        @KafkaListener(id = &quot;so76481597&quot;, topics = &quot;so76481597&quot;)\r\n        void listen(String in, Acknowledgment acknowledgment, @Header(KafkaHeaders.DELIVERY_ATTEMPT) int del) throws InterruptedException {\r\n            log.warn(in + &quot;:&quot; + del);\r\n            Thread.sleep(5000);\r\n            log.warn(in + &quot;:&quot; + del + &quot; finished&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        NewTopic topic() {\r\n            return TopicBuilder.name(&quot;so76481597&quot;).partitions(1).replicas(1).build();\r\n        }\r\n    \r\n        @Bean\r\n        ApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template) {\r\n            return args -&gt; {\r\n                template.send(&quot;so76481597&quot;, &quot;foo&quot;);\r\n            };\r\n        }\r\n    \r\n        @Bean\r\n        ContainerCustomizer&lt;String, Message, ConcurrentMessageListenerContainer&lt;String, Message&gt;&gt; containerCustomizer(\r\n                ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; factory) {\r\n    \r\n            ContainerCustomizer&lt;String, Message, ConcurrentMessageListenerContainer&lt;String, Message&gt;&gt; cust = container -&gt; {\r\n                container.getContainerProperties().setDeliveryAttemptHeader(true);\r\n                container.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\r\n                container.setConcurrency(3);\r\n            };\r\n            factory.setContainerCustomizer(cust);\r\n            return cust;\r\n        }\r\n    }\r\n\r\n\r\nAs you can see I setup AckMode.MANUAL and don&#39;t call ack manually. My expectations that message should be redilivered after some timeout ? \r\n\r\n\r\nCould I control this timeout ?\r\n\r\nCould I control amount of repeats ?\r\n\r\n\r\n\r\nOn practice I see:\r\n\r\n    2023-06-16 14:46:11.081  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:16.096  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:16.097  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:21.104  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:21.104  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:26.108  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:26.128  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:31.134  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:31.134  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:36.148  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:36.148  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:41.160  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 14:46:41.160  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 14:46:46.174  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n\r\nSo \r\n 1. Next (the same) message is accepted just after previous listener is finished. It is weird a bit for me. What will be if application is shutdown during mesasge habdling ?\r\n 2. Application tries to accept message 9 time and then stopped to try. Can I configure it ?\r\n\r\nUpdate\r\n-\r\nI tried to restart application multiple times and delivery amount was always different. Sometimes - 2 times like here\r\n\r\n    2023-06-16 15:58:26.741  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 15:58:36.755  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n    2023-06-16 15:58:36.756  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\r\n    2023-06-16 15:58:46.757  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\r\n\r\n\r\nsometimes - 3, sometimes 7. So the amount is  not determined. Why ?","title":"When message will be reaccepted by kafkaListener in case of ack absence?","body":"<p>Let's say I have spring boot application</p>\n<pre><code>@SpringBootApplication\n@Slf4j\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @KafkaListener(id = &quot;so76481597&quot;, topics = &quot;so76481597&quot;)\n    void listen(String in, Acknowledgment acknowledgment, @Header(KafkaHeaders.DELIVERY_ATTEMPT) int del) throws InterruptedException {\n        log.warn(in + &quot;:&quot; + del);\n        Thread.sleep(5000);\n        log.warn(in + &quot;:&quot; + del + &quot; finished&quot;);\n    }\n\n    @Bean\n    NewTopic topic() {\n        return TopicBuilder.name(&quot;so76481597&quot;).partitions(1).replicas(1).build();\n    }\n\n    @Bean\n    ApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template) {\n        return args -&gt; {\n            template.send(&quot;so76481597&quot;, &quot;foo&quot;);\n        };\n    }\n\n    @Bean\n    ContainerCustomizer&lt;String, Message, ConcurrentMessageListenerContainer&lt;String, Message&gt;&gt; containerCustomizer(\n            ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; factory) {\n\n        ContainerCustomizer&lt;String, Message, ConcurrentMessageListenerContainer&lt;String, Message&gt;&gt; cust = container -&gt; {\n            container.getContainerProperties().setDeliveryAttemptHeader(true);\n            container.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\n            container.setConcurrency(3);\n        };\n        factory.setContainerCustomizer(cust);\n        return cust;\n    }\n}\n</code></pre>\n<p>As you can see I setup AckMode.MANUAL and don't call ack manually. My expectations that message should be redilivered after some timeout ?</p>\n<p>Could I control this timeout ?</p>\n<p>Could I control amount of repeats ?</p>\n<p>On practice I see:</p>\n<pre><code>2023-06-16 14:46:11.081  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:16.096  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:16.097  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:21.104  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:21.104  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:26.108  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:26.128  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:31.134  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:31.134  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:36.148  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:36.148  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:41.160  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 14:46:41.160  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 14:46:46.174  WARN 35328 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n</code></pre>\n<p>So</p>\n<ol>\n<li>Next (the same) message is accepted just after previous listener is finished. It is weird a bit for me. What will be if application is shutdown during mesasge habdling ?</li>\n<li>Application tries to accept message 9 time and then stopped to try. Can I configure it ?</li>\n</ol>\n<h2>Update</h2>\n<p>I tried to restart application multiple times and delivery amount was always different. Sometimes - 2 times like here</p>\n<pre><code>2023-06-16 15:58:26.741  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 15:58:36.755  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n2023-06-16 15:58:36.756  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1\n2023-06-16 15:58:46.757  WARN 28160 --- [o76481597-0-C-1] com.example.demo.DemoApplication         : foo:1 finished\n</code></pre>\n<p>sometimes - 3, sometimes 7. So the amount is  not determined. Why ?</p>\n"},{"tags":["java","swing","jmenuitem"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687356103,"post_id":76522969,"comment_id":134925498,"body_markdown":"Create a sub menu for the menu item. The popup will be displayed automatically but you can then add a MouseListener to menu item to handle the mouse click. Post an [mre] if you need more help and for all questions in the future.","body":"Create a sub menu for the menu item. The popup will be displayed automatically but you can then add a MouseListener to menu item to handle the mouse click. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you need more help and for all questions in the future."}],"owner":{"account_id":6605774,"reputation":404,"user_id":5102638,"display_name":"opeongo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687354367,"creation_date":1687348267,"question_id":76522969,"body_markdown":"I am using Java/Swing to add a JMenu with JMenuItem&#39;s.  I want to add some optional complex actions to each menu item, but without having to add more cluttering hierarchical menus.\r\n\r\nIs it possible to capture a right-click on a JMenuItem and use this event to open a JPopupMenu context menu?  When I try to right-click on a JMenu item the event is consumed to perform the menu action.  Is it possible to intercept and override this with a mouselistener?\r\n\r\nMy intended behaviour is:\r\n- left-click do menu action\r\n- right-click show popup menu","title":"Right-click on a menu item and popup a context menu","body":"<p>I am using Java/Swing to add a JMenu with JMenuItem's.  I want to add some optional complex actions to each menu item, but without having to add more cluttering hierarchical menus.</p>\n<p>Is it possible to capture a right-click on a JMenuItem and use this event to open a JPopupMenu context menu?  When I try to right-click on a JMenu item the event is consumed to perform the menu action.  Is it possible to intercept and override this with a mouselistener?</p>\n<p>My intended behaviour is:</p>\n<ul>\n<li>left-click do menu action</li>\n<li>right-click show popup menu</li>\n</ul>\n"},{"tags":["java","java-8","crystal-reports","classpath"],"comments":[{"owner":{"account_id":11884350,"reputation":1324,"user_id":8697156,"display_name":"R. McMillan"},"score":0,"creation_date":1687953351,"post_id":76516475,"comment_id":135008309,"body_markdown":"Have you checked the SAP support website for this?  There appears to be a Knowledge Base Article about this specific error and how to troubleshoot, but for some reason I&#39;m unable to access the article through my login.\n\nYou may also need to verify you have the correct JDBC installed, or you may need to reinstall it as well.  This error is usually due to a failure to connect to the database through JDBC.","body":"Have you checked the SAP support website for this?  There appears to be a Knowledge Base Article about this specific error and how to troubleshoot, but for some reason I&#39;m unable to access the article through my login.  You may also need to verify you have the correct JDBC installed, or you may need to reinstall it as well.  This error is usually due to a failure to connect to the database through JDBC."}],"answers":[{"comments":[{"owner":{"account_id":28859584,"reputation":11,"user_id":22103693,"display_name":"Ferengi"},"score":0,"creation_date":1687457897,"post_id":76523852,"comment_id":134943271,"body_markdown":"It did not work. I even uninstalled 2016, found and installed CR 2020 and STILL get this error!  I am so confused here. Still looking for a solution.","body":"It did not work. I even uninstalled 2016, found and installed CR 2020 and STILL get this error!  I am so confused here. Still looking for a solution."}],"tags":[],"owner":{"account_id":1383262,"reputation":671,"user_id":1315817,"accept_rate":76,"display_name":"Brad Cypert"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687354278,"creation_date":1687354278,"answer_id":76523852,"question_id":76516475,"body_markdown":"I could be wrong, but my hunch here is that you copied files over to your new laptop that reference your old Java executable. Make sure Java is installed on your new system and see if you can update that reference (likely in a config file). If that doesnt work, consider reinstalling the software.","title":"SAP Crystal Reports Invalid Argument provided","body":"<p>I could be wrong, but my hunch here is that you copied files over to your new laptop that reference your old Java executable. Make sure Java is installed on your new system and see if you can update that reference (likely in a config file). If that doesnt work, consider reinstalling the software.</p>\n"}],"owner":{"account_id":28859584,"reputation":11,"user_id":22103693,"display_name":"Ferengi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687354278,"creation_date":1687276260,"question_id":76516475,"body_markdown":"Hello my favorite people!\r\n\r\nI received a new laptop with Windows 11.  I&#39;ve installed Crystal 2016 (SP09), installed JDK, went through all installations. These are the same versions on the tomcat server so I *think* I should be using the same so there are no issues when I mess with CRs.\r\n\r\nI keep getting this error every time I open the Crystal reports on my new laptop.  Any help would be greatly appreciated!\r\n\r\nError:\r\n&gt; Invalid Argument provided. Details: Java Server startup failure. Verify the PATH (JDK), CLASSPATH, and IORFileLocation properties in the CRConfig.xml file. In addition, verify that you are using JDK 1.5. \r\n&gt;\r\n&gt; ![enter image description here](https://i.stack.imgur.com/D5lU3.png)\r\n\r\n\r\nI compared everything between my old laptop with Windows 10 and it all looks exactly the same. I even copied over the Java folder (`C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\java`) which included the `CRConfig.xml` file and moved it from the old to the new laptop but same results. I&#39;m convinced it&#39;s Windows 11 but I haven&#39;t found the cause.  \r\n","title":"SAP Crystal Reports Invalid Argument provided","body":"<p>Hello my favorite people!</p>\n<p>I received a new laptop with Windows 11.  I've installed Crystal 2016 (SP09), installed JDK, went through all installations. These are the same versions on the tomcat server so I <em>think</em> I should be using the same so there are no issues when I mess with CRs.</p>\n<p>I keep getting this error every time I open the Crystal reports on my new laptop.  Any help would be greatly appreciated!</p>\n<p>Error:</p>\n<blockquote>\n<p>Invalid Argument provided. Details: Java Server startup failure. Verify the PATH (JDK), CLASSPATH, and IORFileLocation properties in the CRConfig.xml file. In addition, verify that you are using JDK 1.5.</p>\n<p><img src=\"https://i.stack.imgur.com/D5lU3.png\" alt=\"enter image description here\" /></p>\n</blockquote>\n<p>I compared everything between my old laptop with Windows 10 and it all looks exactly the same. I even copied over the Java folder (<code>C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\java</code>) which included the <code>CRConfig.xml</code> file and moved it from the old to the new laptop but same results. I'm convinced it's Windows 11 but I haven't found the cause.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2190012,"reputation":403,"user_id":1937350,"accept_rate":25,"display_name":"seba"},"score":0,"creation_date":1605452557,"post_id":59185613,"comment_id":114648351,"body_markdown":"I would really like to know if you were successful. I was able to install Developer Studio 12.6 using Oracle&#39;s JDK 15.0.1 by creating a link in lib from jrt-fs.jar to dt.jar, or installation would fail. However, after installation I get &quot;Developer Studio is unable to find a supported version of Java&quot;.","body":"I would really like to know if you were successful. I was able to install Developer Studio 12.6 using Oracle&#39;s JDK 15.0.1 by creating a link in lib from jrt-fs.jar to dt.jar, or installation would fail. However, after installation I get &quot;Developer Studio is unable to find a supported version of Java&quot;."},{"owner":{"account_id":16827062,"reputation":23,"user_id":12166089,"display_name":"mark2"},"score":0,"creation_date":1605544187,"post_id":59185613,"comment_id":114676001,"body_markdown":"@seba unfortunately no, I was never able to get it installed, sorry. I just wrote it off as Oracle actively checking to see if you had OpenJDK installed and trying everything it could to get you to uninstall it.","body":"@seba unfortunately no, I was never able to get it installed, sorry. I just wrote it off as Oracle actively checking to see if you had OpenJDK installed and trying everything it could to get you to uninstall it."},{"owner":{"account_id":2190012,"reputation":403,"user_id":1937350,"accept_rate":25,"display_name":"seba"},"score":0,"creation_date":1605562884,"post_id":59185613,"comment_id":114683710,"body_markdown":"Actually,  after installing as I described many utilities,  like the analyzer, do work.","body":"Actually,  after installing as I described many utilities,  like the analyzer, do work."},{"owner":{"account_id":3434990,"reputation":201,"user_id":3349595,"display_name":"Truong"},"score":0,"creation_date":1620052027,"post_id":59185613,"comment_id":119080359,"body_markdown":"@seba After installing Oracle Java 8, it works like a charm.","body":"@seba After installing Oracle Java 8, it works like a charm."}],"answers":[{"comments":[{"owner":{"account_id":16827062,"reputation":23,"user_id":12166089,"display_name":"mark2"},"score":0,"creation_date":1575568202,"post_id":59185656,"comment_id":104619162,"body_markdown":"Do you have a list of which directories these might be? I tried adding every directory within /usr/java that I thought could be relevant but the installer still gives me that error. I even tried setting up the Oracle JDK with the [alternatives system](https://fedoraproject.org/wiki/Java#Switching_alternatives) but still had no luck.","body":"Do you have a list of which directories these might be? I tried adding every directory within /usr/java that I thought could be relevant but the installer still gives me that error. I even tried setting up the Oracle JDK with the <a href=\"https://fedoraproject.org/wiki/Java#Switching_alternatives\" rel=\"nofollow noreferrer\">alternatives system</a> but still had no luck."},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":0,"creation_date":1575585557,"post_id":59185656,"comment_id":104626461,"body_markdown":"Where did you install the Oracle JDK?","body":"Where did you install the Oracle JDK?"},{"owner":{"account_id":16827062,"reputation":23,"user_id":12166089,"display_name":"mark2"},"score":0,"creation_date":1575651946,"post_id":59185656,"comment_id":104650694,"body_markdown":"Initially I installed it to `/usr/java`, which is the default, but when following the directions on the Fedora documentation page I uninstalled that version and installed it to `/usr/local/java`.","body":"Initially I installed it to <code>&#47;usr&#47;java</code>, which is the default, but when following the directions on the Fedora documentation page I uninstalled that version and installed it to <code>&#47;usr&#47;local&#47;java</code>."},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":0,"creation_date":1575917103,"post_id":59185656,"comment_id":104719295,"body_markdown":"I suspect that the executables would be in `/usr/local/java/bin` then, and that&#39;s the directory to add to the PATH.","body":"I suspect that the executables would be in <code>&#47;usr&#47;local&#47;java&#47;bin</code> then, and that&#39;s the directory to add to the PATH."}],"tags":[],"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575499465,"creation_date":1575499465,"answer_id":59185656,"question_id":59185613,"body_markdown":"Yes.  Setup the `PATH` to include the Oracle JDK before /usr/bin, and any other location that might contain java executables.  I recommend using a script to set this and then execute the Developer Studio executable.\r\n\r\nIt may also be possible via `JAVA_HOME`.","title":"Is it possible to use Oracle Developer Studio on a system with OpenJDK installed?","body":"<p>Yes.  Setup the <code>PATH</code> to include the Oracle JDK before /usr/bin, and any other location that might contain java executables.  I recommend using a script to set this and then execute the Developer Studio executable.</p>\n\n<p>It may also be possible via <code>JAVA_HOME</code>.</p>\n"},{"tags":[],"owner":{"account_id":20221505,"reputation":1,"user_id":14830861,"display_name":"Lachs16"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687354266,"creation_date":1687354266,"answer_id":76523850,"question_id":59185613,"body_markdown":"You can specify the Java Home directory with the `--javahome` parameter. All I had to do was to install the official Java JRE and then specify the installation directory like this:\r\n\r\n    sudo ./developerstudio.sh --javahome /usr/lib/jvm/jre-1.8-oracle-x64/\r\n\r\nThen to execute it you also have to specify the JDK location with the parameter `--jdkhome`. Only version 8 seems to work however.\r\n\r\n    /opt/oracle/developerstudio12.6/bin/devstudio --jdkhome /usr/java/jdk1.8.0_202-amd64/jre/","title":"Is it possible to use Oracle Developer Studio on a system with OpenJDK installed?","body":"<p>You can specify the Java Home directory with the <code>--javahome</code> parameter. All I had to do was to install the official Java JRE and then specify the installation directory like this:</p>\n<pre><code>sudo ./developerstudio.sh --javahome /usr/lib/jvm/jre-1.8-oracle-x64/\n</code></pre>\n<p>Then to execute it you also have to specify the JDK location with the parameter <code>--jdkhome</code>. Only version 8 seems to work however.</p>\n<pre><code>/opt/oracle/developerstudio12.6/bin/devstudio --jdkhome /usr/java/jdk1.8.0_202-amd64/jre/\n</code></pre>\n"}],"owner":{"account_id":16827062,"reputation":23,"user_id":12166089,"display_name":"mark2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687354266,"creation_date":1575499197,"question_id":59185613,"body_markdown":"I&#39;m interested in trying out Oracle Developer Studio on Fedora. Fedora&#39;s default Java version  is OpenJDK. If you try to run the installation binary for Developer Studio, it quits with this error relating to OpenJDK:\r\n\r\n&lt;!-- language: none --&gt;\r\n```\r\nSearching for JVM on the system...\r\nThis machine has an open source distribution of java (OpenJDK) installed. OpenJDK is not supported. Please install Oracle JDK to proceed.\r\nTo download Java installation bundle (JDK or JRE), visit http://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n```\r\n\r\nI tried downloading and installing Oracle JDK, but even with Oracle JDK installed it gives me this error. Attempting to uninstall OpenJDK threatens to uninstall an extra 395 packages that seem to depend on it, which I&#39;m unwilling to do. Is there a way to run Oracle Developer Studio and have it use the Oracle JDK I have installed?","title":"Is it possible to use Oracle Developer Studio on a system with OpenJDK installed?","body":"<p>I'm interested in trying out Oracle Developer Studio on Fedora. Fedora's default Java version  is OpenJDK. If you try to run the installation binary for Developer Studio, it quits with this error relating to OpenJDK:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Searching for JVM on the system...\nThis machine has an open source distribution of java (OpenJDK) installed. OpenJDK is not supported. Please install Oracle JDK to proceed.\nTo download Java installation bundle (JDK or JRE), visit http://www.oracle.com/technetwork/java/javase/downloads/index.html\n</code></pre>\n\n<p>I tried downloading and installing Oracle JDK, but even with Oracle JDK installed it gives me this error. Attempting to uninstall OpenJDK threatens to uninstall an extra 395 packages that seem to depend on it, which I'm unwilling to do. Is there a way to run Oracle Developer Studio and have it use the Oracle JDK I have installed?</p>\n"},{"tags":["java","object","methods"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1687342087,"post_id":76522093,"comment_id":134922328,"body_markdown":"Your whole program structure looks like it may be off. You shouldn&#39;t be passing player and enemy object *properties* into any method that needs to interact with these objects directly. Instead, pass the player and enemy objects themselves. But having said this, you shouldn&#39;t even being having to do this. Those objects should be passed into the Game object via a constructor or setter method, and then they should be free to interact with each other within the Game object. Re-think your structure.","body":"Your whole program structure looks like it may be off. You shouldn&#39;t be passing player and enemy object <i>properties</i> into any method that needs to interact with these objects directly. Instead, pass the player and enemy objects themselves. But having said this, you shouldn&#39;t even being having to do this. Those objects should be passed into the Game object via a constructor or setter method, and then they should be free to interact with each other within the Game object. Re-think your structure."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1687342102,"post_id":76522093,"comment_id":134922332,"body_markdown":"As an aside, you will want to learn and use [Java naming conventions](http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java). Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.","body":"As an aside, you will want to learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1687342584,"post_id":76522093,"comment_id":134922411,"body_markdown":"*&quot;Because the methods in the main class can&#39;t access the getters and setters from the Object-Class, I needed to find a different solution.&quot;* -- and this is your problem. The main or Game class, *should* be able to call these methods. Don&#39;t try to fix poor program design with a kludge.  Again, re-think your program structure. I have to wonder though if this question is a poor fit for this site as it is quite broad.","body":"<i>&quot;Because the methods in the main class can&#39;t access the getters and setters from the Object-Class, I needed to find a different solution.&quot;</i> -- and this is your problem. The main or Game class, <i>should</i> be able to call these methods. Don&#39;t try to fix poor program design with a kludge.  Again, re-think your program structure. I have to wonder though if this question is a poor fit for this site as it is quite broad."},{"owner":{"account_id":26328372,"reputation":1,"user_id":19989309,"display_name":"benshee"},"score":0,"creation_date":1687353743,"post_id":76522093,"comment_id":134924859,"body_markdown":"@HovercraftFullOfEels, thanks for the reminder about the naming in Java. I was so busy with ideas for the program that I overlooked the variable names. I am also thinking about the re-structure, so thank you for your comment!","body":"@HovercraftFullOfEels, thanks for the reminder about the naming in Java. I was so busy with ideas for the program that I overlooked the variable names. I am also thinking about the re-structure, so thank you for your comment!"}],"owner":{"account_id":26328372,"reputation":1,"user_id":19989309,"display_name":"benshee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687354000,"creation_date":1687341811,"question_id":76522093,"body_markdown":"So I am creating a small text based RPG and at the moment I&#39;m trying to implement an HPUpdate into a method. \r\n\r\nBecause the methods in the main class can&#39;t access the getters and setters from the Object-Class, I needed to find a different solution. \r\n\r\nI found one, don&#39;t know if it&#39;s correct, but it only seems to update the HP once, after that it always repeats the same HPUPdate. \r\n\r\n&quot;Goblin loses 10 HP!&quot;\r\n&quot;Goblin has 40HP remaining!&quot; \r\n\r\nafter attacking again, it&#39;s the same. \r\n\r\nSo not 30HP remaining, but 40HP again. \r\n\r\nI made a second main class, where it worked, without using a Method. But I want to do it in a method. \r\n\r\nHere&#39;s the code:\r\n\r\n```java\r\n\r\nCharacters Fiona = new Characters(100, 10, 50, &quot;Fiona&quot;); // PLAYER CHARACTER INIT, FIONA = TEMP NAME\r\n\t\tEnemies Goblin = new Enemies(50, 10, 10, &quot;Goblin&quot;); // GOBLIN ENEMY INIT\r\n\r\n```\r\n\r\n```java\r\nbattlesystem(Fiona.getSpd(), Goblin.getSpd(), Fiona.getName(), Goblin.getName(), Fiona.getDmg(),\r\n\t\t\t\tGoblin.getDmg(), Fiona.setHp(setHPChar(Fiona.getHp(), Goblin.getDmg())),\r\n\t\t\t\tGoblin.setHp(setHPEnem(Goblin.getHp(), Fiona.getDmg())), Fiona.Statstostring(), Goblin.Statstostring());\r\n\r\n\t}\r\n\r\n\t// BATTLE_SYSTEM --&gt; WIP\r\n\tpublic static int battlesystem(int playerspeed, int enemyspeed, String playername, String enemyname, int enemyDMG,\r\n\t\t\tint playerDMG, int playerHPUpdate, int enemyHPUpdate, String playerstats, String enemystats) {\r\n\r\n\t\tScanner sc1 = new Scanner(System.in);\r\n\t\tint newplayerhp = 0;\r\n\t\tSystem.out.printf(&quot; Battle start! %n&quot;); // Begin Battle-Scenario\r\n\t\tif (playerspeed &lt;= enemyspeed) {\r\n\t\t\tSystem.out.printf(&quot; Goblin attacks! %n&quot;);\r\n\t\t\tSystem.out.printf(&quot; You lose %d HP! %n&quot;, enemyDMG);\r\n\t\t\tSystem.out.printf(&quot; You have %d HP left!%n&quot;, playerHPUpdate);\r\n\t\t} else {\r\n\r\n\t\t\tSystem.out.printf(&quot; %n What is your Strategy? %n&quot;);\r\n\t\t\tint i = 0;\r\n\t\t\twhile (i &lt; 1) {\r\n\t\t\t\tSystem.out.printf(&quot; %n%n (A)ttack %n (D)efend %n (I)tems %n (S)tats %n (F)lee %n&quot;);\r\n\t\t\t\tString choice = sc1.nextLine();\r\n\t\t\t\tswitch (choice.toUpperCase()) {\r\n\t\t\t\tcase &quot;A&quot;:\r\n\t\t\t\t\tSystem.out.printf(&quot; You decide to attack the Goblin! %n&quot;);\r\n\t\t\t\t\tSystem.out.printf(&quot; %S attacks!&quot;, playername);\r\n\t\t\t\t\tSystem.out.printf(&quot; %S loses %d HP%n&quot;, enemyname, enemyDMG);\r\n\t\t\t\t\tSystem.out.printf(&quot; Goblin has %d HP left!%n&quot;, enemyHPUpdate);\r\n\r\n\t\t\t\t\tbreak;\r\n```\r\n\r\n\r\nEDIT: \r\n\r\nHere&#39;s the UpdateHP-Method:\r\n\r\n    public static int setHPChar(int oldcharHP, int enemDMG) { // UPDATE Character HP through subtraction of the Enemy\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Damage\r\n\r\n\t\tint updateCharHP = oldcharHP - enemDMG; // setHP = getHP - getDMG\r\n\t\treturn updateCharHP;\r\n\r\n\t}\r\n\r\n\tpublic static int setHPEnem(int oldenemHP, int charDMG) { // // UPDATE Enemy HP through subtraction of the Character\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Damage\r\n\r\n\t\tint updateEnemHP = oldenemHP - charDMG; // setHP = getHP - getDMG\r\n\t\treturn updateEnemHP;\r\n\t}\r\n\r\n\r\nHere&#39;s the object class:\r\n\r\n\r\n\r\n```\r\n    private int hp; // Health Points STAT OF OBJECT\r\n\tprivate int dmg; // Damage Points STAT OF OBJECT\r\n\tprivate int spd; // Speed Points STAT OF OBJECT\r\n\tprivate String name; // Name OF OBJECT\r\n\tprivate boolean haskey = false; // BOOLEAN if OBJECT HAS A KEY --&gt; only used in first    Scenario at the moment\r\n\r\n\tpublic int getHp() { // PRINTS Health Points of Character\r\n\r\n\t\treturn hp;\r\n\t}\r\n\r\n\tpublic int setHp(int hp) { // INCREASES OR DECREASES Character Health Points\r\n\t\tthis.hp = hp;\r\n\t\treturn hp;\r\n\t}\r\n```\r\n\r\n\r\n\r\n\r\nSo to recap, Character attacks Enemy, Enemy loses HP through Characters DMG.\r\n\r\nEnemyHP - CharacterDMG = newEnemyHP.","title":"Need to update HP via setHP in a Method in main-class (use non main-class method (setHP) in main-class method)","body":"<p>So I am creating a small text based RPG and at the moment I'm trying to implement an HPUpdate into a method.</p>\n<p>Because the methods in the main class can't access the getters and setters from the Object-Class, I needed to find a different solution.</p>\n<p>I found one, don't know if it's correct, but it only seems to update the HP once, after that it always repeats the same HPUPdate.</p>\n<p>&quot;Goblin loses 10 HP!&quot;\n&quot;Goblin has 40HP remaining!&quot;</p>\n<p>after attacking again, it's the same.</p>\n<p>So not 30HP remaining, but 40HP again.</p>\n<p>I made a second main class, where it worked, without using a Method. But I want to do it in a method.</p>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nCharacters Fiona = new Characters(100, 10, 50, &quot;Fiona&quot;); // PLAYER CHARACTER INIT, FIONA = TEMP NAME\n        Enemies Goblin = new Enemies(50, 10, 10, &quot;Goblin&quot;); // GOBLIN ENEMY INIT\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>battlesystem(Fiona.getSpd(), Goblin.getSpd(), Fiona.getName(), Goblin.getName(), Fiona.getDmg(),\n                Goblin.getDmg(), Fiona.setHp(setHPChar(Fiona.getHp(), Goblin.getDmg())),\n                Goblin.setHp(setHPEnem(Goblin.getHp(), Fiona.getDmg())), Fiona.Statstostring(), Goblin.Statstostring());\n\n    }\n\n    // BATTLE_SYSTEM --&gt; WIP\n    public static int battlesystem(int playerspeed, int enemyspeed, String playername, String enemyname, int enemyDMG,\n            int playerDMG, int playerHPUpdate, int enemyHPUpdate, String playerstats, String enemystats) {\n\n        Scanner sc1 = new Scanner(System.in);\n        int newplayerhp = 0;\n        System.out.printf(&quot; Battle start! %n&quot;); // Begin Battle-Scenario\n        if (playerspeed &lt;= enemyspeed) {\n            System.out.printf(&quot; Goblin attacks! %n&quot;);\n            System.out.printf(&quot; You lose %d HP! %n&quot;, enemyDMG);\n            System.out.printf(&quot; You have %d HP left!%n&quot;, playerHPUpdate);\n        } else {\n\n            System.out.printf(&quot; %n What is your Strategy? %n&quot;);\n            int i = 0;\n            while (i &lt; 1) {\n                System.out.printf(&quot; %n%n (A)ttack %n (D)efend %n (I)tems %n (S)tats %n (F)lee %n&quot;);\n                String choice = sc1.nextLine();\n                switch (choice.toUpperCase()) {\n                case &quot;A&quot;:\n                    System.out.printf(&quot; You decide to attack the Goblin! %n&quot;);\n                    System.out.printf(&quot; %S attacks!&quot;, playername);\n                    System.out.printf(&quot; %S loses %d HP%n&quot;, enemyname, enemyDMG);\n                    System.out.printf(&quot; Goblin has %d HP left!%n&quot;, enemyHPUpdate);\n\n                    break;\n</code></pre>\n<p>EDIT:</p>\n<p>Here's the UpdateHP-Method:</p>\n<pre><code>public static int setHPChar(int oldcharHP, int enemDMG) { // UPDATE Character HP through subtraction of the Enemy\n                                                            // Damage\n\n    int updateCharHP = oldcharHP - enemDMG; // setHP = getHP - getDMG\n    return updateCharHP;\n\n}\n\npublic static int setHPEnem(int oldenemHP, int charDMG) { // // UPDATE Enemy HP through subtraction of the Character\n                                                            // Damage\n\n    int updateEnemHP = oldenemHP - charDMG; // setHP = getHP - getDMG\n    return updateEnemHP;\n}\n</code></pre>\n<p>Here's the object class:</p>\n<pre><code>    private int hp; // Health Points STAT OF OBJECT\n    private int dmg; // Damage Points STAT OF OBJECT\n    private int spd; // Speed Points STAT OF OBJECT\n    private String name; // Name OF OBJECT\n    private boolean haskey = false; // BOOLEAN if OBJECT HAS A KEY --&gt; only used in first    Scenario at the moment\n\n    public int getHp() { // PRINTS Health Points of Character\n\n        return hp;\n    }\n\n    public int setHp(int hp) { // INCREASES OR DECREASES Character Health Points\n        this.hp = hp;\n        return hp;\n    }\n</code></pre>\n<p>So to recap, Character attacks Enemy, Enemy loses HP through Characters DMG.</p>\n<p>EnemyHP - CharacterDMG = newEnemyHP.</p>\n"},{"tags":["java","sap-commerce-cloud","add-on","hybris-data-hub"],"comments":[{"owner":{"account_id":19504853,"reputation":155,"user_id":14270116,"display_name":"Tugba Alparslan"},"score":0,"creation_date":1687349442,"post_id":76482116,"comment_id":134923814,"body_markdown":"I solved the problem. I did it by installing the new asm addon.","body":"I solved the problem. I did it by installing the new asm addon."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1691491830,"post_id":76482116,"comment_id":135495893,"body_markdown":"Tugba, why did not you accept the answer?","body":"Tugba, why did not you accept the answer?"}],"answers":[{"comments":[{"owner":{"account_id":19504853,"reputation":155,"user_id":14270116,"display_name":"Tugba Alparslan"},"score":0,"creation_date":1687362295,"post_id":76523736,"comment_id":134927148,"body_markdown":"yes, I added it as a comment that I solved the problem in this way, thanks anyway.","body":"yes, I added it as a comment that I solved the problem in this way, thanks anyway."},{"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"score":0,"creation_date":1687526566,"post_id":76523736,"comment_id":134953470,"body_markdown":"I must have missed that :) glad you got it resolved","body":"I must have missed that :) glad you got it resolved"}],"tags":[],"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687353521,"creation_date":1687353521,"answer_id":76523736,"question_id":76482116,"body_markdown":"You need to perform an addon install of the ASM addon against your storefront. This will add the required javascript and styling\r\n\r\n\r\n    ant addoninstall -Daddonnames=&quot;assistedservicestorefront&quot; -DaddonStorefront.&lt;storefrontTemplateName&gt;=&quot;Storefront1&quot;","title":"ASM component is not displaying properly","body":"<p>You need to perform an addon install of the ASM addon against your storefront. This will add the required javascript and styling</p>\n<pre><code>ant addoninstall -Daddonnames=&quot;assistedservicestorefront&quot; -DaddonStorefront.&lt;storefrontTemplateName&gt;=&quot;Storefront1&quot;\n</code></pre>\n"}],"owner":{"account_id":19504853,"reputation":155,"user_id":14270116,"display_name":"Tugba Alparslan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687353521,"creation_date":1686829349,"question_id":76482116,"body_markdown":"Assisted Service Mode component is not working properly.\r\nIt could be frontend problem. How can I solve?\r\n\r\nThis is how it looks on my screen:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/weoYU.png)](https://i.stack.imgur.com/weoYU.png)\r\n\r\nThis is what I expect:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/5K6VO.png)](https://i.stack.imgur.com/5K6VO.png)\r\n","title":"ASM component is not displaying properly","body":"<p>Assisted Service Mode component is not working properly.\nIt could be frontend problem. How can I solve?</p>\n<p>This is how it looks on my screen:</p>\n<p><a href=\"https://i.stack.imgur.com/weoYU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/weoYU.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what I expect:</p>\n<p><a href=\"https://i.stack.imgur.com/5K6VO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5K6VO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","javafx","jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1687346759,"post_id":76522730,"comment_id":134923204,"body_markdown":"I&#39;d probably give [this](https://github.com/Akman/jpackage-maven-plugin) a try. That&#39;s not the way to read a custom log config - you&#39;d need `getResourceAsStream` when it&#39;s any sort of packaged. Why do you need that anyway btw?","body":"I&#39;d probably give <a href=\"https://github.com/Akman/jpackage-maven-plugin\" rel=\"nofollow noreferrer\">this</a> a try. That&#39;s not the way to read a custom log config - you&#39;d need <code>getResourceAsStream</code> when it&#39;s any sort of packaged. Why do you need that anyway btw?"},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1687352603,"post_id":76522730,"comment_id":134924560,"body_markdown":"i get fxml file config like this. I need to make a jar file from the application so that a user without a development environment can use a graphical application","body":"i get fxml file config like this. I need to make a jar file from the application so that a user without a development environment can use a graphical application"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687408170,"post_id":76522730,"comment_id":134933159,"body_markdown":"As noted by g00se and by comments on your previous question, do not use `FileInputStream` to read resources. What you&#39;re doing will only work in your development environment and will break once packaged in a JAR file or JRT image. Use `Class#getResource(String)` and/or `Class#getResourceAsStream(String)`.","body":"As noted by g00se and by comments on your previous question, do not use <code>FileInputStream</code> to read resources. What you&#39;re doing will only work in your development environment and will break once packaged in a JAR file or JRT image. Use <code>Class#getResource(String)</code> and/or <code>Class#getResourceAsStream(String)</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687411574,"post_id":76522730,"comment_id":134933460,"body_markdown":"Actually the pom.xml mentions SpringBoot, so if you want to configure logging, you should follow the SpringBoot logging documentation (which won’t tell you to do what you are currently doing or to write code yourself to load logging configuration from a resource).","body":"Actually the pom.xml mentions SpringBoot, so if you want to configure logging, you should follow the SpringBoot logging documentation (which won’t tell you to do what you are currently doing or to write code yourself to load logging configuration from a resource)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687411972,"post_id":76522730,"comment_id":134933516,"body_markdown":"SpringBoot maven plugin can create a single jar for an application, again study the SpringBoot documentation for this.  However, it might not be what you want, as the generated jar is not Java module system aware, so you would need not to have JavaFX modules as maven dependencies and to develop, package and run the app using a JDK or JRE that includes JavaFX modules, such as Azul Zulu JDK FX distributions.","body":"SpringBoot maven plugin can create a single jar for an application, again study the SpringBoot documentation for this.  However, it might not be what you want, as the generated jar is not Java module system aware, so you would need not to have JavaFX modules as maven dependencies and to develop, package and run the app using a JDK or JRE that includes JavaFX modules, such as Azul Zulu JDK FX distributions."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687412255,"post_id":76522730,"comment_id":134933553,"body_markdown":"Maybe you want [maven shade](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing) instead, or the jpackage solution mentioned by g00se or something from [packaging in the JavaFX tag](https://stackoverflow.com/tags/javafx/info).","body":"Maybe you want <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">maven shade</a> instead, or the jpackage solution mentioned by g00se or something from <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging in the JavaFX tag</a>."}],"answers":[{"comments":[{"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"score":0,"creation_date":1687636621,"post_id":76523707,"comment_id":134965491,"body_markdown":"Include the relevant info from the link in the answer.  Links rot","body":"Include the relevant info from the link in the answer.  Links rot"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687636639,"post_id":76523707,"comment_id":134965495,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76523707/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24908121,"reputation":307,"user_id":22024291,"display_name":"Elle Bishop"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1687353329,"creation_date":1687353329,"answer_id":76523707,"question_id":76522730,"body_markdown":"**Creating Executable Jars**\r\n\r\nhttps://taylorial.com/tools/jar/\r\n\r\nCheck out the link above, as it mentions clearly and step by step how to create an executable `.jar` file","title":"How to create jar file of javaFx application and run application via jar file?","body":"<p><strong>Creating Executable Jars</strong></p>\n<p><a href=\"https://taylorial.com/tools/jar/\" rel=\"nofollow noreferrer\">https://taylorial.com/tools/jar/</a></p>\n<p>Check out the link above, as it mentions clearly and step by step how to create an executable <code>.jar</code> file</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687353329,"creation_date":1687346451,"question_id":76522730,"body_markdown":"I have a javaFX application and I want the user to be able to run it without a development environment, that is, just click on the jar file and work with the graphical application\r\n\r\n\r\n\r\n```\r\npublic class RunFrame extends Application {\r\n\r\n    static Logger LOGGER;\r\n    static {\r\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\r\n            LogManager.getLogManager().readConfiguration(ins);\r\n            LOGGER = Logger.getLogger(RunFrame.class.getName());\r\n        } catch (IOException e) {\r\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage)  {\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader();\r\n            URL xmlUrl = getClass().getResource(&quot;/RunFrameScene.fxml&quot;);\r\n            loader.setLocation(xmlUrl);\r\n            Parent root = loader.load();\r\n            stage.setTitle(&quot;App&quot;);\r\n            stage.getIcons().add(new Image(RunFrame .class.getClassLoader().getResourceAsStream(&quot;logo.png&quot;)));\r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n            LOGGER.log(Level.INFO,&quot;Success &quot;);\r\n        } catch (Exception e) {\r\n            LOGGER.log(Level.SEVERE,&quot;Error&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe class through which the application is launched\r\n\r\n\r\n```\r\npublic class FrameRunApp {\r\n    static Logger LOGGER;\r\n    static {\r\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)){\r\n            LogManager.getLogManager().readConfiguration(ins);\r\n            LOGGER = Logger.getLogger(FrameRunApp .class.getName());\r\n        }catch (Exception e){\r\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n            FrameRunApp.main(args);\r\n        }\r\n    }\r\n```\r\nAlso I have a pom.xml file\r\n\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.apache.activemq.examples.broker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jms-examples&lt;/artifactId&gt;\r\n        &lt;version&gt;2.27.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;jmx&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;FrameApplication&lt;/name&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-fxml --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI don&#39;t really understand how to create a jar file and just run the app&#39;s application on it, rather than by designing run the app&#39;s launcher method.\r\n","title":"How to create jar file of javaFx application and run application via jar file?","body":"<p>I have a javaFX application and I want the user to be able to run it without a development environment, that is, just click on the jar file and work with the graphical application</p>\n<pre><code>public class RunFrame extends Application {\n\n    static Logger LOGGER;\n    static {\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\n            LogManager.getLogManager().readConfiguration(ins);\n            LOGGER = Logger.getLogger(RunFrame.class.getName());\n        } catch (IOException e) {\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\n        }\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage)  {\n        try {\n            FXMLLoader loader = new FXMLLoader();\n            URL xmlUrl = getClass().getResource(&quot;/RunFrameScene.fxml&quot;);\n            loader.setLocation(xmlUrl);\n            Parent root = loader.load();\n            stage.setTitle(&quot;App&quot;);\n            stage.getIcons().add(new Image(RunFrame .class.getClassLoader().getResourceAsStream(&quot;logo.png&quot;)));\n            stage.setScene(new Scene(root));\n            stage.show();\n            LOGGER.log(Level.INFO,&quot;Success &quot;);\n        } catch (Exception e) {\n            LOGGER.log(Level.SEVERE,&quot;Error&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>The class through which the application is launched</p>\n<pre><code>public class FrameRunApp {\n    static Logger LOGGER;\n    static {\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)){\n            LogManager.getLogManager().readConfiguration(ins);\n            LOGGER = Logger.getLogger(FrameRunApp .class.getName());\n        }catch (Exception e){\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\n        }\n    }\n\n    public static void main(String[] args) {\n            FrameRunApp.main(args);\n        }\n    }\n</code></pre>\n<p>Also I have a pom.xml file</p>\n<pre><code>&lt;?xml version='1.0'?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.apache.activemq.examples.broker&lt;/groupId&gt;\n        &lt;artifactId&gt;jms-examples&lt;/artifactId&gt;\n        &lt;version&gt;2.27.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;jmx&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;FrameApplication&lt;/name&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\n            &lt;version&gt;1.7.36&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-fxml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I don't really understand how to create a jar file and just run the app's application on it, rather than by designing run the app's launcher method.</p>\n"},{"tags":["java","multithreading","java-threads"],"answers":[{"comments":[{"owner":{"account_id":1358031,"reputation":1289,"user_id":1296019,"accept_rate":87,"display_name":"cocorossello"},"score":0,"creation_date":1687356294,"post_id":76523661,"comment_id":134925549,"body_markdown":"I understand it may be desirable for extremely short operations, but real world is... more complex. Consider VirtualThreadExecutor in tomcat, if someone enables it, it will be impossible to profile it. I wonder how profilers can possibly work around that (ex: https://github.com/newrelic/newrelic-java-agent/blob/6e6c4db548243b5c438f27ba9dffaf511ae204db/newrelic-agent/src/main/java/com/newrelic/agent/profile/v2/Profile.java#LL90C1-L90C1 )","body":"I understand it may be desirable for extremely short operations, but real world is... more complex. Consider VirtualThreadExecutor in tomcat, if someone enables it, it will be impossible to profile it. I wonder how profilers can possibly work around that (ex: <a href=\"https://github.com/newrelic/newrelic-java-agent/blob/6e6c4db548243b5c438f27ba9dffaf511ae204db/newrelic-agent/src/main/java/com/newrelic/agent/profile/v2/Profile.java#LL90C1-L90C1\" rel=\"nofollow noreferrer\">github.com/newrelic/newrelic-java-agent/blob/&hellip;</a> )"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687356842,"post_id":76523661,"comment_id":134925718,"body_markdown":"I think you have missed my point.  If virtual threads *did* support CPU measurement, that would make them too slow for most use-cases where CPU measurement is not a requirements.  If you need to be able to measure thread CPU time, you shouldn&#39;t be using virtual threads.","body":"I think you have missed my point.  If virtual threads <i>did</i> support CPU measurement, that would make them too slow for most use-cases where CPU measurement is not a requirements.  If you need to be able to measure thread CPU time, you shouldn&#39;t be using virtual threads."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687357035,"post_id":76523661,"comment_id":134925773,"body_markdown":"Maybe you should ask the authors of that profiler how they intend to solve this (IMO) unsolvable problem :-)","body":"Maybe you should ask the authors of that profiler how they intend to solve this (IMO) unsolvable problem :-)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687353023,"creation_date":1687353023,"answer_id":76523661,"question_id":76523477,"body_markdown":"&gt; So, the question is how are we supposed to measure CPU times with the introduction of virtual threads?\r\n\r\nI don&#39;t think it is possible.\r\n\r\nWhy? Because to measure virtual thread CPU time, the runtime would need to make syscalls to find and record the current (non-virtual) thread&#39;s CPU time ... *each time there is a virtual thread switch*. The overhead of those syscalls would (largely) defeat to point of implementing virtual threads in the first place.","title":"How to measure CPU time in java virtual threads?","body":"<blockquote>\n<p>So, the question is how are we supposed to measure CPU times with the introduction of virtual threads?</p>\n</blockquote>\n<p>I don't think it is possible.</p>\n<p>Why? Because to measure virtual thread CPU time, the runtime would need to make syscalls to find and record the current (non-virtual) thread's CPU time ... <em>each time there is a virtual thread switch</em>. The overhead of those syscalls would (largely) defeat to point of implementing virtual threads in the first place.</p>\n"}],"owner":{"account_id":1358031,"reputation":1289,"user_id":1296019,"accept_rate":87,"display_name":"cocorossello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687353023,"creation_date":1687351727,"question_id":76523477,"body_markdown":"In java, to measure CPU time used for a thread, one usually does something like: \r\n\r\n    var cpuTimeStart = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime();\r\n    //Some lengthy operation\r\n    var totalCPU = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime() - cpuTimeStart;\r\n\r\nThis works fine. But since the introduction of virtual threads (JDK 21), this method only works for platform threads, not for virtual threads.\r\n\r\nSo this always reports 0:\r\n\r\n    var vThread = Thread.ofVirtual().start(() -&gt; {\r\n      var cpuTimeStart = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime();\r\n      //Some lengthy operation\r\n      var totalCPU = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime() - cpuTimeStart;\r\n      //totalCPU is always 0\r\n    });\r\n    vThread.join();\r\n\r\n\r\nSo, the question is how are we supposed to measure CPU times with the introduction of virtual threads?\r\n\r\n","title":"How to measure CPU time in java virtual threads?","body":"<p>In java, to measure CPU time used for a thread, one usually does something like:</p>\n<pre><code>var cpuTimeStart = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime();\n//Some lengthy operation\nvar totalCPU = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime() - cpuTimeStart;\n</code></pre>\n<p>This works fine. But since the introduction of virtual threads (JDK 21), this method only works for platform threads, not for virtual threads.</p>\n<p>So this always reports 0:</p>\n<pre><code>var vThread = Thread.ofVirtual().start(() -&gt; {\n  var cpuTimeStart = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime();\n  //Some lengthy operation\n  var totalCPU = ManagementFactory.getThreadMXBean().getCurrentThreadCpuTime() - cpuTimeStart;\n  //totalCPU is always 0\n});\nvThread.join();\n</code></pre>\n<p>So, the question is how are we supposed to measure CPU times with the introduction of virtual threads?</p>\n"},{"tags":["java","ubuntu","jenkins"],"comments":[{"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"score":0,"creation_date":1577176245,"post_id":59465780,"comment_id":105111659,"body_markdown":"Can this thread help you: https://issues.jenkins-ci.org/browse/JENKINS-16273","body":"Can this thread help you: <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-16273\" rel=\"nofollow noreferrer\">issues.jenkins-ci.org/browse/JENKINS-16273</a>"},{"owner":{"account_id":17044282,"reputation":11,"user_id":12331486,"display_name":"Opher Lubzens"},"score":0,"creation_date":1577182149,"post_id":59465780,"comment_id":105113767,"body_markdown":"tried. didn&#39;t help, thanks.","body":"tried. didn&#39;t help, thanks."}],"answers":[{"comments":[{"owner":{"account_id":7316829,"reputation":237,"user_id":5574192,"display_name":"Hatley"},"score":0,"creation_date":1618350280,"post_id":61951909,"comment_id":118574791,"body_markdown":"PASSWORD - it may be the Jenkins user&#39;s password, or it may be the user&#39;s &quot;API token&quot; that can be generated for each user under their Jenkins account&#39;s &#39;Configure&#39; page.","body":"PASSWORD - it may be the Jenkins user&#39;s password, or it may be the user&#39;s &quot;API token&quot; that can be generated for each user under their Jenkins account&#39;s &#39;Configure&#39; page."}],"tags":[],"owner":{"account_id":4607011,"reputation":31,"user_id":3736182,"display_name":"Guolirong"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590139890,"creation_date":1590139890,"answer_id":61951909,"question_id":59465780,"body_markdown":"Using this option:    -jnlpCredentials USER:PASSWORD\r\n\r\nUSER is your Jenkins user ID","title":"Jenkins returns 403 forbidden when slaves try to contact it","body":"<p>Using this option:    -jnlpCredentials USER:PASSWORD</p>\n\n<p>USER is your Jenkins user ID</p>\n"},{"tags":[],"owner":{"account_id":1946027,"reputation":617,"user_id":1751166,"display_name":"PravyNandas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668898675,"creation_date":1668898675,"answer_id":74504402,"question_id":59465780,"body_markdown":"In latest version the option is -auth USER:PASSWORD\r\n\r\nUSER - username of the jenkins master\r\nPASSWORD - that user&#39;s password (Or API key setup from account details)","title":"Jenkins returns 403 forbidden when slaves try to contact it","body":"<p>In latest version the option is -auth USER:PASSWORD</p>\n<p>USER - username of the jenkins master\nPASSWORD - that user's password (Or API key setup from account details)</p>\n"},{"comments":[{"owner":{"account_id":1821904,"reputation":730,"user_id":1655780,"display_name":"Steven the Easily Amused"},"score":1,"creation_date":1687455084,"post_id":76523621,"comment_id":134942733,"body_markdown":"It&#39;s not advisable to allow unauthenticated (anonymous) read access.  And it is worse to let an agent register without authentication.  These actions are not required for agents to register and should not be used.","body":"It&#39;s not advisable to allow unauthenticated (anonymous) read access.  And it is worse to let an agent register without authentication.  These actions are not required for agents to register and should not be used."}],"tags":[],"owner":{"account_id":28866205,"reputation":1,"user_id":22108913,"display_name":"Leo Bernat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687352750,"creation_date":1687352750,"answer_id":76523621,"question_id":59465780,"body_markdown":"Error : \r\nFailed to obtain https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp\r\njava.io.IOException: Failed to load https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp: 403 null\r\n\r\nFix : \r\n1. Navigate to https://jenkins.site/manage/configureSecurity/\r\n2. Anonymous user need to have Read, connect &amp; Discover permission","title":"Jenkins returns 403 forbidden when slaves try to contact it","body":"<p>Error :\nFailed to obtain <a href=\"https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp\" rel=\"nofollow noreferrer\">https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp</a>\njava.io.IOException: Failed to load <a href=\"https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp\" rel=\"nofollow noreferrer\">https://jenkins.site/manage/computer/ValidateNode/jenkins-agent.jnlp</a>: 403 null</p>\n<p>Fix :</p>\n<ol>\n<li>Navigate to <a href=\"https://jenkins.site/manage/configureSecurity/\" rel=\"nofollow noreferrer\">https://jenkins.site/manage/configureSecurity/</a></li>\n<li>Anonymous user need to have Read, connect &amp; Discover permission</li>\n</ol>\n"}],"owner":{"account_id":17044282,"reputation":11,"user_id":12331486,"display_name":"Opher Lubzens"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4709,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1687352750,"creation_date":1577175152,"question_id":59465780,"body_markdown":"I installed jenkins on Ubuntu and when I try to run the agents to create nodes I get back an IOException:\r\n\r\n    Failing to obtain http://&lt;Master IP&gt;:8090/computer/&lt;Slave IP&gt;/slave-agent.jnlp\r\n    java.io.IOException: Failed to load http://&lt;Master IP&gt;:8090/computer/&lt;Slave IP&gt;/slave-agent.jnlp: 403 Forbidden\r\n            at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:499)\r\n            at hudson.remoting.Launcher.run(Launcher.java:325)\r\n            at hudson.remoting.Launcher.main(Launcher.java:283)\r\n\r\n\r\nAs far as I can tell iptables isn&#39;t up and I can&#39;t find the reason behind it.","title":"Jenkins returns 403 forbidden when slaves try to contact it","body":"<p>I installed jenkins on Ubuntu and when I try to run the agents to create nodes I get back an IOException:</p>\n\n<pre><code>Failing to obtain http://&lt;Master IP&gt;:8090/computer/&lt;Slave IP&gt;/slave-agent.jnlp\njava.io.IOException: Failed to load http://&lt;Master IP&gt;:8090/computer/&lt;Slave IP&gt;/slave-agent.jnlp: 403 Forbidden\n        at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:499)\n        at hudson.remoting.Launcher.run(Launcher.java:325)\n        at hudson.remoting.Launcher.main(Launcher.java:283)\n</code></pre>\n\n<p>As far as I can tell iptables isn't up and I can't find the reason behind it.</p>\n"},{"tags":["java","spring","spring-data","spring-data-mongodb","mockmvc"],"answers":[{"comments":[{"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"score":1,"creation_date":1533145482,"post_id":51622661,"comment_id":90243059,"body_markdown":"The whole security filter chain is there, in fact the authentication context is there when I call repository.findAll(). But MockMvc for some reason cleans it and that makes a perfectly reasonable test case not possible to execute. Anyway, I tried your approach but I get the same error. Thanks a lot for trying to help","body":"The whole security filter chain is there, in fact the authentication context is there when I call repository.findAll(). But MockMvc for some reason cleans it and that makes a perfectly reasonable test case not possible to execute. Anyway, I tried your approach but I get the same error. Thanks a lot for trying to help"}],"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533074085,"creation_date":1533074085,"answer_id":51622661,"question_id":51622300,"body_markdown":"I think instead of using the `AutoConfigureMockMvc` annotation you could configure `MockMvc` manually and configure Spring security as follows:\r\n\r\n    import static org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurers.*;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class BookCustomRepositoryIntegrationTest {\r\n        \r\n        @Before\r\n        public void setup() {\r\n            mockMvc = MockMvcBuilders\r\n                    .webAppContextSetup(context)\r\n                    .apply(springSecurity()) 1\r\n                    .build();\r\n        }\r\n        // ...\r\n    }\r\n\r\nAs the [documentation][1] states:\r\n\r\n&gt;In order to use Spring Security with Spring MVC Test it is necessary to add the Spring Security FilterChainProxy as a Filter. It is also necessary to add Spring Security’s TestSecurityContextHolderPostProcessor to support Running as a User in Spring MVC Test with Annotations. This can be done using Spring Security’s SecurityMockMvcConfigurers.springSecurity().\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/html/test-mockmvc.html","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>I think instead of using the <code>AutoConfigureMockMvc</code> annotation you could configure <code>MockMvc</code> manually and configure Spring security as follows:</p>\n\n<pre><code>import static org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurers.*;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class BookCustomRepositoryIntegrationTest {\n\n    @Before\n    public void setup() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(context)\n                .apply(springSecurity()) 1\n                .build();\n    }\n    // ...\n}\n</code></pre>\n\n<p>As the <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/test-mockmvc.html\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n\n<blockquote>\n  <p>In order to use Spring Security with Spring MVC Test it is necessary to add the Spring Security FilterChainProxy as a Filter. It is also necessary to add Spring Security’s TestSecurityContextHolderPostProcessor to support Running as a User in Spring MVC Test with Annotations. This can be done using Spring Security’s SecurityMockMvcConfigurers.springSecurity().</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"score":4,"creation_date":1534602603,"post_id":51899431,"comment_id":90769357,"body_markdown":"Hi @seregamorph, than you for your suggestion. This is the best workaround I&#39;ve seen so far, so I&#39;ll upvote it. However, I&#39;m not convinced that manually setting the security context after each interaction with MockMvc makes for a very readable test so I wouldn&#39;t consider it a definitive solution.","body":"Hi @seregamorph, than you for your suggestion. This is the best workaround I&#39;ve seen so far, so I&#39;ll upvote it. However, I&#39;m not convinced that manually setting the security context after each interaction with MockMvc makes for a very readable test so I wouldn&#39;t consider it a definitive solution."},{"owner":{"account_id":2090041,"reputation":2250,"user_id":1860089,"accept_rate":40,"display_name":"Amnon"},"score":0,"creation_date":1698404739,"post_id":51899431,"comment_id":136404354,"body_markdown":"I used this workaround as well, as I am maintaining a huge codebase with many tests that look like that.","body":"I used this workaround as well, as I am maintaining a huge codebase with many tests that look like that."}],"tags":[],"owner":{"account_id":4238302,"reputation":443,"user_id":3468905,"display_name":"seregamorph"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1534522707,"creation_date":1534522707,"answer_id":51899431,"question_id":51622300,"body_markdown":"Your case does not work, because SecurityContextPersistenceFilter and FilterChainProxy filters clear SecurityContextHolder, but the `TestSecurityContextHolder` (filled by `WithSecurityContextTestExecutionListener`) still contains SecurityContext.\r\n\r\nTry this approach:\r\n\r\n    @Test\r\n    @WithMockUser\r\n    public void reproduceBug() throws Exception {\r\n        repository.findAll();\r\n        mockMvc.perform(get(&quot;/books&quot;)\r\n                .contentType(APPLICATION_JSON_UTF8))\r\n                .andExpect(status().isOk());\r\n        SecurityContextHolder.setContext(TestSecurityContextHolder.getContext());\r\n        repository.findAll();\r\n    }\r\n\r\n","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>Your case does not work, because SecurityContextPersistenceFilter and FilterChainProxy filters clear SecurityContextHolder, but the <code>TestSecurityContextHolder</code> (filled by <code>WithSecurityContextTestExecutionListener</code>) still contains SecurityContext.</p>\n\n<p>Try this approach:</p>\n\n<pre><code>@Test\n@WithMockUser\npublic void reproduceBug() throws Exception {\n    repository.findAll();\n    mockMvc.perform(get(\"/books\")\n            .contentType(APPLICATION_JSON_UTF8))\n            .andExpect(status().isOk());\n    SecurityContextHolder.setContext(TestSecurityContextHolder.getContext());\n    repository.findAll();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1003860,"reputation":69,"user_id":7385326,"display_name":"Stefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617181881,"creation_date":1617176838,"answer_id":66883704,"question_id":51622300,"body_markdown":"I just now found a nice solution to this problem. You can register a MockMvcBuilderCustomizer bean in your test configuration and all works fine.\r\n\r\n    public class MockMvcTestSecurityContextPropagationCustomizer implements MockMvcBuilderCustomizer {\r\n\r\n    @Override\r\n    public void customize(ConfigurableMockMvcBuilder&lt;?&gt; builder) {\r\n        builder.alwaysDo(result -&gt; {\r\n            log.debug(&quot;resetting SecurityContextHolder to TestSecurityContextHolder&quot;);\r\n            SecurityContextHolder.setContext(TestSecurityContextHolder.getContext());\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n[spring-boot]","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>I just now found a nice solution to this problem. You can register a MockMvcBuilderCustomizer bean in your test configuration and all works fine.</p>\n<pre><code>public class MockMvcTestSecurityContextPropagationCustomizer implements MockMvcBuilderCustomizer {\n\n@Override\npublic void customize(ConfigurableMockMvcBuilder&lt;?&gt; builder) {\n    builder.alwaysDo(result -&gt; {\n        log.debug(&quot;resetting SecurityContextHolder to TestSecurityContextHolder&quot;);\n        SecurityContextHolder.setContext(TestSecurityContextHolder.getContext());\n    });\n}\n</code></pre>\n<p>}</p>\n<p>[spring-boot]</p>\n"},{"tags":[],"owner":{"account_id":5888943,"reputation":1,"user_id":4636142,"display_name":"Marwen Mighri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664724013,"creation_date":1664722313,"answer_id":73926790,"question_id":51622300,"body_markdown":"a good practice would be to separate the tests with the RestController from the tests of the other layers of the application. In your case i think you should not mix rest calls tests with respositories calls tests ..\r\n\r\ni guess you should make a mock mvc call to test your &quot;repository.findAll()&quot; \r\n\r\nI&#39;m working with Spring Boot 2.6.7 ( spring-security-test-5.6.3.jar ) and Junit 5 and the TestSecurityContextHolder holds the security context even after performing a MockMVC http request.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes = MyApp.class, webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureMockMvc\r\n    public class MyTests {\r\n    \r\n    ...\r\n    \r\n    \t@Test\r\n    \t@WithMockUser\r\n    \tpublic void test_make_many_mockmvc_calls() {\r\n    \t\r\n    \t\t\t//The first call\r\n    \t\t\tmockMvc.perform(MockMvcRequestBuilders.get(&quot;/books&quot;)//\r\n    \t\t\t\t.contentType(MediaType.APPLICATION_JSON)//\r\n    \t\t\t\t.accept(MediaType.APPLICATION_JSON))//\r\n    \t\t\t\t.andExpect(MockMvcResultMatchers.status().isOk());\r\n    \t\r\n    \t\t\t//Another call\r\n    \t\t\tmockMvc.perform(MockMvcRequestBuilders.get(&quot;/books&quot;)//\r\n    \t\t\t\t.contentType(MediaType.APPLICATION_JSON)//\r\n    \t\t\t\t.accept(MediaType.APPLICATION_JSON))//\r\n    \t\t\t\t.andExpect(MockMvcResultMatchers.status().isOk());\r\n    \t}\r\n    ...\r\n    }\r\n\r\n\r\nbut if you wont a good workaround u need to add some stuff.. in fact your repository.findAll() will resolve security informations using the SecurityEvaluationContextExtension witch use the main SecurityContextHolder ( not the TestSecurityContextHolder ).\r\n\r\nSo i guess you should make something like this :\r\n\r\n    public class MyCustomSecurityEvaluationContextExtension implements EvaluationContextExtension {\r\n    ...\r\n    \t@Override\r\n    \tpublic SecurityExpressionRoot getRootObject() {\r\n    \t\t\r\n    \t\t//Override the way you retrieve the Authentication object\r\n    \t}\r\n    ...\r\n    }\r\n\r\n","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>a good practice would be to separate the tests with the RestController from the tests of the other layers of the application. In your case i think you should not mix rest calls tests with respositories calls tests ..</p>\n<p>i guess you should make a mock mvc call to test your &quot;repository.findAll()&quot;</p>\n<p>I'm working with Spring Boot 2.6.7 ( spring-security-test-5.6.3.jar ) and Junit 5 and the TestSecurityContextHolder holds the security context even after performing a MockMVC http request.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = MyApp.class, webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\npublic class MyTests {\n\n...\n\n    @Test\n    @WithMockUser\n    public void test_make_many_mockmvc_calls() {\n    \n            //The first call\n            mockMvc.perform(MockMvcRequestBuilders.get(&quot;/books&quot;)//\n                .contentType(MediaType.APPLICATION_JSON)//\n                .accept(MediaType.APPLICATION_JSON))//\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    \n            //Another call\n            mockMvc.perform(MockMvcRequestBuilders.get(&quot;/books&quot;)//\n                .contentType(MediaType.APPLICATION_JSON)//\n                .accept(MediaType.APPLICATION_JSON))//\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    }\n...\n}\n</code></pre>\n<p>but if you wont a good workaround u need to add some stuff.. in fact your repository.findAll() will resolve security informations using the SecurityEvaluationContextExtension witch use the main SecurityContextHolder ( not the TestSecurityContextHolder ).</p>\n<p>So i guess you should make something like this :</p>\n<pre><code>public class MyCustomSecurityEvaluationContextExtension implements EvaluationContextExtension {\n...\n    @Override\n    public SecurityExpressionRoot getRootObject() {\n        \n        //Override the way you retrieve the Authentication object\n    }\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123066,"reputation":31,"user_id":317288,"display_name":"GregAngel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687352463,"creation_date":1687352463,"answer_id":76523580,"question_id":51622300,"body_markdown":"Inspired by [@brass-monkey](https://stackoverflow.com/users/5118762/brass-monkey), as it&#39;s the simplest solution, here is the code that works for me:\r\n\r\n```java\r\n    @BeforeEach\r\n    void setUp() {\r\n        mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(applicationContext)\r\n                .apply(springSecurity())\r\n                .alwaysDo(result -&gt; SecurityContextHolder.setContext(TestSecurityContextHolder.getContext()))\r\n                .build();\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/5118762/brass-monkey","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>Inspired by <a href=\"https://stackoverflow.com/users/5118762/brass-monkey\">@brass-monkey</a>, as it's the simplest solution, here is the code that works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @BeforeEach\n    void setUp() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(applicationContext)\n                .apply(springSecurity())\n                .alwaysDo(result -&gt; SecurityContextHolder.setContext(TestSecurityContextHolder.getContext()))\n                .build();\n    }\n</code></pre>\n"}],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2824,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1687352463,"creation_date":1533072306,"question_id":51622300,"body_markdown":"I&#39;m trying to run some integration test using SpringBoot + Spring Data Mongo + SpringMVC\n\nI&#39;ve simplified and generified the code but it should be able to reproduce the behavior with the following test.\n\nAs you can see from `BookRepository` interface I want the user to be able to retrieve only the books that he owns (`@Query(&quot;{ &#39;ownerName&#39; : &#39;?#{principal?.username})`) and I&#39;m writing a test to perform a `POST` to save a Book and then verify the book has the owner set appropriately. \n\nFor the purpose of the question here I&#39;ve simplified the test to just to a `GET` and then calling `findAll()`\n\n## Problem\nAfter performing any `MockMvc` request, the `SecurityContext` is cleared using `ThreadLocalSecurityContextHolderStrategy#clearContext()` which cause the following exception to be thrown when I try to call `repository.findAll();`\n\n`java.lang.IllegalArgumentException: Authentication object cannot be null`\n\n\n\n### BookRepository.java\n    @RepositoryRestResource\n    public interface BookRepository extends MongoRepository&lt;Book, String&gt; {\n          \n        @Query(&quot;{ &#39;ownerName&#39; : ?#{principal?.username} }&quot;)\n        List&lt;Book&gt; findAll();  \n     \n    }\n\n\n### BookCustomRepositoryIntegrationTest.java\n\n    /**\n     * Integrate data mongo + mvc\n     */\n    @RunWith(SpringRunner.class)\n    @SpringBootTest\n    @AutoConfigureMockMvc\n    public class BookCustomRepositoryIntegrationTest {\n        \n        @Autowired\n        BookRepository repository;\n    \n        @Autowired\n        MockMvc mockMvc;  \n    \n        @Test\n        @WithMockUser\n        public void reproduceBug() throws Exception {\n\n            repository.findAll(); //Runs allright\n    \n            mockMvc.perform(get(&quot;/books&quot;)\n                    .contentType(APPLICATION_JSON_UTF8))\n                    .andExpect(status().isOk());\n    \n            repository.findAll(); //Throws exception: java.lang.IllegalArgumentException: Authentication object cannot be null\n    \n    \n        }\n    \n    }","title":"MockMvc seems to be clear SecurityContext after performing request (java.lang.IllegalArgumentException: Authentication object cannot be null)","body":"<p>I'm trying to run some integration test using SpringBoot + Spring Data Mongo + SpringMVC</p>\n<p>I've simplified and generified the code but it should be able to reproduce the behavior with the following test.</p>\n<p>As you can see from <code>BookRepository</code> interface I want the user to be able to retrieve only the books that he owns (<code>@Query(&quot;{ 'ownerName' : '?#{principal?.username})</code>) and I'm writing a test to perform a <code>POST</code> to save a Book and then verify the book has the owner set appropriately.</p>\n<p>For the purpose of the question here I've simplified the test to just to a <code>GET</code> and then calling <code>findAll()</code></p>\n<h2>Problem</h2>\n<p>After performing any <code>MockMvc</code> request, the <code>SecurityContext</code> is cleared using <code>ThreadLocalSecurityContextHolderStrategy#clearContext()</code> which cause the following exception to be thrown when I try to call <code>repository.findAll();</code></p>\n<p><code>java.lang.IllegalArgumentException: Authentication object cannot be null</code></p>\n<h3>BookRepository.java</h3>\n<pre><code>@RepositoryRestResource\npublic interface BookRepository extends MongoRepository&lt;Book, String&gt; {\n      \n    @Query(&quot;{ 'ownerName' : ?#{principal?.username} }&quot;)\n    List&lt;Book&gt; findAll();  \n \n}\n</code></pre>\n<h3>BookCustomRepositoryIntegrationTest.java</h3>\n<pre><code>/**\n * Integrate data mongo + mvc\n */\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class BookCustomRepositoryIntegrationTest {\n    \n    @Autowired\n    BookRepository repository;\n\n    @Autowired\n    MockMvc mockMvc;  \n\n    @Test\n    @WithMockUser\n    public void reproduceBug() throws Exception {\n\n        repository.findAll(); //Runs allright\n\n        mockMvc.perform(get(&quot;/books&quot;)\n                .contentType(APPLICATION_JSON_UTF8))\n                .andExpect(status().isOk());\n\n        repository.findAll(); //Throws exception: java.lang.IllegalArgumentException: Authentication object cannot be null\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","osgi","felix"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687332307,"post_id":76520890,"comment_id":134920089,"body_markdown":"is that a springboot Component annotation? Spring beans are singletons","body":"is that a springboot Component annotation? Spring beans are singletons"},{"owner":{"account_id":6652869,"reputation":53,"user_id":5134320,"accept_rate":40,"display_name":"Karthikeyan V"},"score":0,"creation_date":1687332531,"post_id":76520890,"comment_id":134920140,"body_markdown":"@Stultuske This is not a springboot component and it uses osgi annotations. Im using karaf to deploy it.","body":"@Stultuske This is not a springboot component and it uses osgi annotations. Im using karaf to deploy it."}],"answers":[{"comments":[{"owner":{"account_id":6652869,"reputation":53,"user_id":5134320,"accept_rate":40,"display_name":"Karthikeyan V"},"score":0,"creation_date":1687358043,"post_id":76523550,"comment_id":134926018,"body_markdown":"Is there a way to do this in DS version lesser than 1.3 ? Also Im confused where to check on DS version","body":"Is there a way to do this in DS version lesser than 1.3 ? Also Im confused where to check on DS version"},{"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"score":0,"creation_date":1687446714,"post_id":76523550,"comment_id":134941042,"body_markdown":"No, since the prototype scope feature was added in DS 1.3 which relies upon support added in OSGi Core Release 6. The DS version can be seen in the package version of org.osgi.service.component. Your DS implementation should document which DS spec version is supported.","body":"No, since the prototype scope feature was added in DS 1.3 which relies upon support added in OSGi Core Release 6. The DS version can be seen in the package version of org.osgi.service.component. Your DS implementation should document which DS spec version is supported."}],"tags":[],"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687352322,"creation_date":1687352322,"answer_id":76523550,"question_id":76520890,"body_markdown":"You will want to use [ServiceScope.PROTOTYPE](https://docs.osgi.org/javadoc/r6/cmpn/org/osgi/service/component/annotations/ServiceScope.html#PROTOTYPE) service components (and remove `immediate=true`. This feature was introduced in DS 1.3. ","title":"How to create multiple unique instance of an osgi component?","body":"<p>You will want to use <a href=\"https://docs.osgi.org/javadoc/r6/cmpn/org/osgi/service/component/annotations/ServiceScope.html#PROTOTYPE\" rel=\"nofollow noreferrer\">ServiceScope.PROTOTYPE</a> service components (and remove <code>immediate=true</code>. This feature was introduced in DS 1.3.</p>\n"}],"owner":{"account_id":6652869,"reputation":53,"user_id":5134320,"accept_rate":40,"display_name":"Karthikeyan V"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687352322,"creation_date":1687332153,"question_id":76520890,"body_markdown":"I have a component UrlManager. Whenever this binds in other components I need to get unique instance of UrlManager. How can I do it ? My DS version is 1.2.\r\nNote: Im using Osgi component annotations.\r\n\r\n  \r\n``` \r\n    import org.osgi.service.component.annotations.Component;\r\n    @Component(immediate=true, name=&quot;UrlManager&quot;, service={UrlManager.class})\r\n    public class UrlManager implements Urls\r\n    {\r\n       public String getId()\r\n       {\r\n       }\r\n    } \r\n\r\n    \r\n```\r\n\r\n   ","title":"How to create multiple unique instance of an osgi component?","body":"<p>I have a component UrlManager. Whenever this binds in other components I need to get unique instance of UrlManager. How can I do it ? My DS version is 1.2.\nNote: Im using Osgi component annotations.</p>\n<pre><code>    import org.osgi.service.component.annotations.Component;\n    @Component(immediate=true, name=&quot;UrlManager&quot;, service={UrlManager.class})\n    public class UrlManager implements Urls\n    {\n       public String getId()\n       {\n       }\n    } \n\n    \n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1639407824,"creation_date":1639407824,"answer_id":70336729,"question_id":70334420,"body_markdown":"Try\r\n\r\n    management:\r\n      health:\r\n        mail:\r\n          enabled: false","title":"How to disable the mail health check in Spring Boot?","body":"<p>Try</p>\n<pre><code>management:\n  health:\n    mail:\n      enabled: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3718157,"reputation":1597,"user_id":3093796,"display_name":"Amit Chaurasia"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687352280,"creation_date":1687352280,"answer_id":76523542,"question_id":70334420,"body_markdown":"Add below to the application.properties file present in your resources folder.\r\n\r\n    management.health.mail.enabled=false\r\n\r\nThis answer is just an extension to the accepted answer from Nick.","title":"How to disable the mail health check in Spring Boot?","body":"<p>Add below to the application.properties file present in your resources folder.</p>\n<pre><code>management.health.mail.enabled=false\n</code></pre>\n<p>This answer is just an extension to the accepted answer from Nick.</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10484,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":70336729,"answer_count":2,"score":11,"last_activity_date":1687352280,"creation_date":1639397282,"question_id":70334420,"body_markdown":"I would like to disable the mail health check in spring boot as the values will be set during runtime. I&#39;ve found this mentioned in certain GitHub issues for Spring Boot but the configs mentioned vary. \r\n\r\nThis is my exception after starting my Spring Boot application. \r\n\r\n      2021-12-13 11:58:52.173 |tion(3)-192.168.1.89 |WARN  |o.s.boot.actuate.mail.MailHealthIndicator   | Mail health check failed\r\n    com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: localhost, 25; timeout -1\r\n      at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)\r\n      at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)\r\n      at javax.mail.Service.connect(Service.java:342)\r\n      at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)\r\n      at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398)\r\n      at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42)\r\n      at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\r\n      at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\r\n      at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)\r\n      at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)\r\n      at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)\r\n      at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)\r\n      at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)\r\n      at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)\r\n      at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)\r\n      at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)\r\n      at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      at java.lang.reflect.Method.invoke(Method.java:498)\r\n      at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\r\n      at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)\r\n      at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\r\n      at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)\r\n      at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)\r\n      at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n      at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n      at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n      at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n      at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n      at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n      at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n      at sun.reflect.GeneratedMethodAccessor441.invoke(Unknown Source)\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      at java.lang.reflect.Method.invoke(Method.java:498)\r\n      at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n      at sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n      at sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n      at java.security.AccessController.doPrivileged(Native Method)\r\n      at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n      at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n      at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n      at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n      at java.security.AccessController.doPrivileged(Native Method)\r\n      at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n      at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n      at java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n      at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n      at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n      at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n      at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n      at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n      at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n      at java.net.Socket.connect(Socket.java:607)\r\n      at java.net.Socket.connect(Socket.java:556)\r\n      at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:335)\r\n      at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)\r\n      at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)\r\n      ... 48 common frames omitted\r\n\r\nI&#39;ve tried adding this to my config but it is throwing the same exception. \r\n\r\n    mail:\r\n      test-connection: false\r\n      properties:\r\n        management:\r\n          health:\r\n            mail:\r\n              enabled: false\r\n\r\nWhat is the correct config to disable the mail health checks in Spring Boot? ","title":"How to disable the mail health check in Spring Boot?","body":"<p>I would like to disable the mail health check in spring boot as the values will be set during runtime. I've found this mentioned in certain GitHub issues for Spring Boot but the configs mentioned vary.</p>\n<p>This is my exception after starting my Spring Boot application.</p>\n<pre><code>  2021-12-13 11:58:52.173 |tion(3)-192.168.1.89 |WARN  |o.s.boot.actuate.mail.MailHealthIndicator   | Mail health check failed\ncom.sun.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 25; timeout -1\n  at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)\n  at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)\n  at javax.mail.Service.connect(Service.java:342)\n  at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)\n  at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398)\n  at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42)\n  at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\n  at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\n  at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:71)\n  at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:39)\n  at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)\n  at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)\n  at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)\n  at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)\n  at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)\n  at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)\n  at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:55)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:498)\n  at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\n  at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)\n  at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\n  at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)\n  at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)\n  at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n  at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n  at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n  at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n  at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n  at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\n  at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n  at sun.reflect.GeneratedMethodAccessor441.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:498)\n  at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n  at sun.rmi.transport.Transport$1.run(Transport.java:200)\n  at sun.rmi.transport.Transport$1.run(Transport.java:197)\n  at java.security.AccessController.doPrivileged(Native Method)\n  at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n  at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n  at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n  at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n  at java.security.AccessController.doPrivileged(Native Method)\n  at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n  at java.lang.Thread.run(Thread.java:748)\nCaused by: java.net.ConnectException: Connection refused: connect\n  at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n  at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n  at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n  at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n  at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n  at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n  at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n  at java.net.Socket.connect(Socket.java:607)\n  at java.net.Socket.connect(Socket.java:556)\n  at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:335)\n  at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)\n  at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)\n  ... 48 common frames omitted\n</code></pre>\n<p>I've tried adding this to my config but it is throwing the same exception.</p>\n<pre><code>mail:\n  test-connection: false\n  properties:\n    management:\n      health:\n        mail:\n          enabled: false\n</code></pre>\n<p>What is the correct config to disable the mail health checks in Spring Boot?</p>\n"},{"tags":["java","flux","influxql"],"owner":{"account_id":28865174,"reputation":11,"user_id":22108105,"display_name":"lorenzo mora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687351825,"creation_date":1687351825,"question_id":76523492,"body_markdown":"I need to convert this query written in InfluxQL\r\nUSE MyDB; DROP SERIES FROM MyDB.autogen.MyTable WHERE MyTakKey = &#39;MyTagValue&#39;\r\n\r\nI need to convert into flux.\r\n\r\nString influxQuery = &quot;from(bucket:&quot;MyDB/autogen&quot;)&quot; + &quot; |\\&gt; range(start: 1970-01-01T00:00:00Z, stop: 2023-06-30T00:00:00Z)&quot; + &quot; |\\&gt; filter(fn: (r) =\\&gt; r.\\_measurement == &quot;&quot; + measurement + &quot;&quot; &quot; + &quot; and r.MyTakKey == &quot;&quot; + &quot;MyTagValue&quot; + &quot;&quot;)&quot; + &quot; |\\&gt; drop(columns:&quot; + field + &quot;)&quot;;","title":"How to translate a simple query from influxQL to Flux","body":"<p>I need to convert this query written in InfluxQL\nUSE MyDB; DROP SERIES FROM MyDB.autogen.MyTable WHERE MyTakKey = 'MyTagValue'</p>\n<p>I need to convert into flux.</p>\n<p>String influxQuery = &quot;from(bucket:&quot;MyDB/autogen&quot;)&quot; + &quot; |&gt; range(start: 1970-01-01T00:00:00Z, stop: 2023-06-30T00:00:00Z)&quot; + &quot; |&gt; filter(fn: (r) =&gt; r._measurement == &quot;&quot; + measurement + &quot;&quot; &quot; + &quot; and r.MyTakKey == &quot;&quot; + &quot;MyTagValue&quot; + &quot;&quot;)&quot; + &quot; |&gt; drop(columns:&quot; + field + &quot;)&quot;;</p>\n"},{"tags":["java","transactions","timeout","keycloak","keycloak-spi"],"answers":[{"tags":[],"owner":{"account_id":8382762,"reputation":210,"user_id":6294106,"display_name":"lombocska"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590838536,"creation_date":1590838536,"answer_id":62101841,"question_id":62064818,"body_markdown":"I can answer my own answer. \r\n\r\nThere is no possibility to customize the transaction timeout for this process, since ImportSynchronization.sync is called from `KeycloakModelUtils.runJobInTransaction`, that can only configured via default-timeout as mentioned above.\r\n","title":"Keycloak custom spi - custom transaction timeout","body":"<p>I can answer my own answer. </p>\n\n<p>There is no possibility to customize the transaction timeout for this process, since ImportSynchronization.sync is called from <code>KeycloakModelUtils.runJobInTransaction</code>, that can only configured via default-timeout as mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":26948582,"reputation":1,"user_id":20518174,"display_name":"Tom Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687351776,"creation_date":1687351776,"answer_id":76523486,"question_id":62064818,"body_markdown":"If someone wonders how this might be fixed in Keycloak 21.1.1++, here is what I did:\r\n- enable quarkus config file\r\n  - add `KC_QUARKUS_PROPERTIES_ENABLED=true` as env variable or `kc.quarkus-properties-enabled` flag\r\n- make a `quarkus.properties` file, and add hte following:\r\n\r\n```\r\nquarkus.transaction-manager.default-transaction-timeout=PT6H\r\n```\r\nThe `quarkus.properties` file must be copied to the `conf` folder in the Keycloak distribution.\r\n\r\nSources: tons of debugging :)\r\n\r\nhttps://www.keycloak.org/migration/migrating-to-quarkus\r\n\r\nhttps://quarkus.io/guides/transaction#configuring-the-transaction-timeout\r\n\r\nRegarding the duration format:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\r\n","title":"Keycloak custom spi - custom transaction timeout","body":"<p>If someone wonders how this might be fixed in Keycloak 21.1.1++, here is what I did:</p>\n<ul>\n<li>enable quarkus config file\n<ul>\n<li>add <code>KC_QUARKUS_PROPERTIES_ENABLED=true</code> as env variable or <code>kc.quarkus-properties-enabled</code> flag</li>\n</ul>\n</li>\n<li>make a <code>quarkus.properties</code> file, and add hte following:</li>\n</ul>\n<pre><code>quarkus.transaction-manager.default-transaction-timeout=PT6H\n</code></pre>\n<p>The <code>quarkus.properties</code> file must be copied to the <code>conf</code> folder in the Keycloak distribution.</p>\n<p>Sources: tons of debugging :)</p>\n<p><a href=\"https://www.keycloak.org/migration/migrating-to-quarkus\" rel=\"nofollow noreferrer\">https://www.keycloak.org/migration/migrating-to-quarkus</a></p>\n<p><a href=\"https://quarkus.io/guides/transaction#configuring-the-transaction-timeout\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/transaction#configuring-the-transaction-timeout</a></p>\n<p>Regarding the duration format:</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-</a></p>\n"}],"owner":{"account_id":8382762,"reputation":210,"user_id":6294106,"display_name":"lombocska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687351776,"creation_date":1590669232,"question_id":62064818,"body_markdown":"I am trying to do a ***sync*** process via the *keycloak ImportSynchronization* interface. \r\n(wildlfy 18.0.1.Final)\r\nit provides the following method to override:\r\n```\r\n    @Override\r\n    public SynchronizationResult sync(\r\n        final KeycloakSessionFactory sessionFactory,\r\n        final String realmId,\r\n        final UserStorageProviderModel model) {\r\n    ...}\r\n```\r\n\r\nThis sync process takes *much more time than our default transaction timeout* (300 sec = 5 min).\r\n\r\n***I am aware of this possible opportunity:***\r\n```&lt;subsystem xmlns=&quot;urn:jboss:domain:transactions:5.0&quot;&gt;\r\n            &lt;core-environment node-identifier=&quot;${jboss.tx.node.id:1}&quot;&gt;\r\n                &lt;process-id&gt;\r\n                    &lt;uuid/&gt;\r\n                &lt;/process-id&gt;\r\n            &lt;/core-environment&gt;\r\n            &lt;recovery-environment socket-binding=&quot;txn-recovery-environment&quot; status-socket-binding=&quot;txn-status-manager&quot;/&gt;\r\n            &lt;coordinator-environment statistics-enabled=&quot;${wildfly.transactions.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;\r\n                                     default-timeout=&quot;${env.TRANSACTION_TIMEOUT_SEC:300}&quot;/&gt;\r\n            &lt;object-store path=&quot;tx-object-store&quot; relative-to=&quot;jboss.server.data.dir&quot;/&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n\r\n***BUT this is not what I want, unfortunately.***\r\n\r\nI ***don&#39;t want*** to increase the timeout for all of our processes, just for this one. Meaning I am searching for a custom transaction timeout solution. (something like @TransactionTimeout...)\r\n\r\n---\r\nI&#39;ve tried the following\r\n\r\n```\r\n\r\n@Override\r\n\tpublic SynchronizationResult doCleanup(final KeycloakSessionFactory keycloakSessionFactory, final String realmId)  {\r\n        final SynchronizationResult synchronizationResult = new SynchronizationResult();\r\n\r\n        try {\r\n\r\n            final RealmModel realmModel = this.getRealmModelInTx(realmId, keycloakSessionFactory);\r\n\r\n            Thread.sleep(&lt;more than tx timeout&gt;);\r\n\r\n\t\t\tfinal int userEntityCountBeforeCleanup = this.getUserCountInTx(realmModel, keycloakSessionFactory);\r\n...}\r\n\r\n```\r\n\r\nand ***in both methods, I created a new keycloakSession and a new transactionManager*** and ***closed*** them like here:\r\n\r\n```\r\n\tprivate CleanupTransactionHandler createSession(final KeycloakSessionFactory  keycloakSessionFactory) {\r\n\t\tKeycloakTransactionManager transactionManager = null;\r\n\t\tfinal KeycloakSession keycloakSession = keycloakSessionFactory.create();\r\n\r\n\t\tlog.tracef(&quot;KeycloakSession has been created [%s].&quot;, keycloakSession.hashCode());\r\n\t\ttransactionManager = keycloakSession.getTransactionManager();\r\n\t\ttransactionManager.begin();\r\n\t\tlog.tracef(&quot;KeycloakTransactionManager&#39;s transaction has been begun [%s].&quot;, transactionManager.hashCode());\r\n\t\treturn new CleanupTransactionHandler(keycloakSession,transactionManager);\r\n\t}\r\n\r\n\tprivate void closeSession(final KeycloakSession keycloakSession) {\r\n\t\tkeycloakSession.close();\r\n\t\tlog.tracef(&quot;KeycloakSession has been closed [%s].&quot;, keycloakSession.hashCode());\r\n\t}\r\n\r\n\tprivate void rollback(final KeycloakTransactionManager keycloakTransactionManager) {\r\n\t\tkeycloakTransactionManager.rollback();\r\n\t\tlog.tracef(&quot;KeycloakTransactionManager&#39;s transaction has been rolled back [%s].&quot;, keycloakTransactionManager.hashCode());\r\n\t}\r\n```\r\n\r\n\r\n","title":"Keycloak custom spi - custom transaction timeout","body":"<p>I am trying to do a <strong><em>sync</em></strong> process via the <em>keycloak ImportSynchronization</em> interface. \n(wildlfy 18.0.1.Final)\nit provides the following method to override:</p>\n\n<pre><code>    @Override\n    public SynchronizationResult sync(\n        final KeycloakSessionFactory sessionFactory,\n        final String realmId,\n        final UserStorageProviderModel model) {\n    ...}\n</code></pre>\n\n<p>This sync process takes <em>much more time than our default transaction timeout</em> (300 sec = 5 min).</p>\n\n<p><strong><em>I am aware of this possible opportunity:</em></strong></p>\n\n<pre><code>            &lt;core-environment node-identifier=\"${jboss.tx.node.id:1}\"&gt;\n                &lt;process-id&gt;\n                    &lt;uuid/&gt;\n                &lt;/process-id&gt;\n            &lt;/core-environment&gt;\n            &lt;recovery-environment socket-binding=\"txn-recovery-environment\" status-socket-binding=\"txn-status-manager\"/&gt;\n            &lt;coordinator-environment statistics-enabled=\"${wildfly.transactions.statistics-enabled:${wildfly.statistics-enabled:false}}\"\n                                     default-timeout=\"${env.TRANSACTION_TIMEOUT_SEC:300}\"/&gt;\n            &lt;object-store path=\"tx-object-store\" relative-to=\"jboss.server.data.dir\"/&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n\n<p><strong><em>BUT this is not what I want, unfortunately.</em></strong></p>\n\n<p>I <strong><em>don't want</em></strong> to increase the timeout for all of our processes, just for this one. Meaning I am searching for a custom transaction timeout solution. (something like @TransactionTimeout...)</p>\n\n<hr>\n\n<p>I've tried the following</p>\n\n<pre><code>\n@Override\n    public SynchronizationResult doCleanup(final KeycloakSessionFactory keycloakSessionFactory, final String realmId)  {\n        final SynchronizationResult synchronizationResult = new SynchronizationResult();\n\n        try {\n\n            final RealmModel realmModel = this.getRealmModelInTx(realmId, keycloakSessionFactory);\n\n            Thread.sleep(&lt;more than tx timeout&gt;);\n\n            final int userEntityCountBeforeCleanup = this.getUserCountInTx(realmModel, keycloakSessionFactory);\n...}\n\n</code></pre>\n\n<p>and <strong><em>in both methods, I created a new keycloakSession and a new transactionManager</em></strong> and <strong><em>closed</em></strong> them like here:</p>\n\n<pre><code>    private CleanupTransactionHandler createSession(final KeycloakSessionFactory  keycloakSessionFactory) {\n        KeycloakTransactionManager transactionManager = null;\n        final KeycloakSession keycloakSession = keycloakSessionFactory.create();\n\n        log.tracef(\"KeycloakSession has been created [%s].\", keycloakSession.hashCode());\n        transactionManager = keycloakSession.getTransactionManager();\n        transactionManager.begin();\n        log.tracef(\"KeycloakTransactionManager's transaction has been begun [%s].\", transactionManager.hashCode());\n        return new CleanupTransactionHandler(keycloakSession,transactionManager);\n    }\n\n    private void closeSession(final KeycloakSession keycloakSession) {\n        keycloakSession.close();\n        log.tracef(\"KeycloakSession has been closed [%s].\", keycloakSession.hashCode());\n    }\n\n    private void rollback(final KeycloakTransactionManager keycloakTransactionManager) {\n        keycloakTransactionManager.rollback();\n        log.tracef(\"KeycloakTransactionManager's transaction has been rolled back [%s].\", keycloakTransactionManager.hashCode());\n    }\n</code></pre>\n"},{"tags":["java","functional-programming","refactoring"],"answers":[{"tags":[],"owner":{"account_id":22747974,"reputation":5,"user_id":16908509,"display_name":"Silop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651753218,"creation_date":1651753218,"answer_id":72127087,"question_id":72104643,"body_markdown":"I came up with somewhat of a solution.\r\n\r\nI created a new class which implemented BiConsumer&lt;List&lt;String&gt;, Integer&gt;.\r\n\r\n```\r\npublic Mangler(final Cracker c)\r\n{\r\n    this.c = c;\r\n}\r\n\r\npublic void start(String s, int i)\r\n{\r\n    accept(Mangle.getAllMangles(s), i - 1); \r\n}\r\n\r\n@Override\r\npublic void accept(List&lt;String&gt; strings, Integer integer)\r\n{\r\n    if (integer == 0) {\r\n        strings.forEach(x -&gt; c.checkAllVictims(x));\r\n        return;\r\n    }\r\n    strings.forEach(x -&gt; this.accept(Mangle.getAllMangles(x), integer - 1));\r\n}\r\n```\r\nWhich I could then call in the crack() function of my Cracker class:\r\n```\r\nMangler m = new Mangler(this);\r\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 1));\r\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 2));\r\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 3));\r\n```\r\nI also changed the parallelism to apply only to the dictionary of the Cracker instead of making the whole class a Runnable.","title":"Is there a good way to convert this java function into a recursive, scalable [lambda] function","body":"<p>I came up with somewhat of a solution.</p>\n<p>I created a new class which implemented BiConsumer&lt;List, Integer&gt;.</p>\n<pre><code>public Mangler(final Cracker c)\n{\n    this.c = c;\n}\n\npublic void start(String s, int i)\n{\n    accept(Mangle.getAllMangles(s), i - 1); \n}\n\n@Override\npublic void accept(List&lt;String&gt; strings, Integer integer)\n{\n    if (integer == 0) {\n        strings.forEach(x -&gt; c.checkAllVictims(x));\n        return;\n    }\n    strings.forEach(x -&gt; this.accept(Mangle.getAllMangles(x), integer - 1));\n}\n</code></pre>\n<p>Which I could then call in the crack() function of my Cracker class:</p>\n<pre><code>Mangler m = new Mangler(this);\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 1));\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 2));\ndictionary.parallelStream().forEach(word -&gt; m.start(word, 3));\n</code></pre>\n<p>I also changed the parallelism to apply only to the dictionary of the Cracker instead of making the whole class a Runnable.</p>\n"},{"comments":[{"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"score":1,"creation_date":1687351730,"post_id":76523430,"comment_id":134924379,"body_markdown":"Since one of these links is a SO overflow question, this question is thechnically a duplicate","body":"Since one of these links is a SO overflow question, this question is thechnically a duplicate"},{"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"score":0,"creation_date":1689944031,"post_id":76523430,"comment_id":135288426,"body_markdown":"If there is an inherent problem with my answer, please let me know. Because all the links address the question.","body":"If there is an inherent problem with my answer, please let me know. Because all the links address the question."}],"tags":[],"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687351443,"creation_date":1687351443,"answer_id":76523430,"question_id":72104643,"body_markdown":"See https://stackoverflow.com/questions/19429667/implement-recursive-lambda-function-using-java-8\r\nas well as https://pysaumont.github.io/2014/09/01/Recursive-lambdas-in-Java-8.html\r\nand https://dzone.com/articles/do-it-java-8-recursive-lambdas\r\nand https://coderanch.com/t/634917/java/Recursion-Lambda-Java.\r\nSeems that you should find at least one viable solution.","title":"Is there a good way to convert this java function into a recursive, scalable [lambda] function","body":"<p>See <a href=\"https://stackoverflow.com/questions/19429667/implement-recursive-lambda-function-using-java-8\">Implement recursive lambda function using Java 8</a>\nas well as <a href=\"https://pysaumont.github.io/2014/09/01/Recursive-lambdas-in-Java-8.html\" rel=\"nofollow noreferrer\">https://pysaumont.github.io/2014/09/01/Recursive-lambdas-in-Java-8.html</a>\nand <a href=\"https://dzone.com/articles/do-it-java-8-recursive-lambdas\" rel=\"nofollow noreferrer\">https://dzone.com/articles/do-it-java-8-recursive-lambdas</a>\nand <a href=\"https://coderanch.com/t/634917/java/Recursion-Lambda-Java\" rel=\"nofollow noreferrer\">https://coderanch.com/t/634917/java/Recursion-Lambda-Java</a>.\nSeems that you should find at least one viable solution.</p>\n"}],"owner":{"account_id":22747974,"reputation":5,"user_id":16908509,"display_name":"Silop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687351443,"creation_date":1651606747,"question_id":72104643,"body_markdown":"I have written a function which I see great potential in being a recursive lambda function but I just can&#39;t wrap my head around how to implement it myself. The reason why I want to convert it to a recursive lambda function is the ability for me to run it for as long as I want where as currently I would have to copy paste another segment of code.\r\n```\r\n    private void crack()\r\n    {\r\n        System.out.println(&quot;Trying 1 mangle&quot;);\r\n        wordList.forEach(\r\n                x -&gt; Mangle.getAllMangles(x).forEach(this::checkAllVictims)\r\n        );\r\n        System.out.println(&quot;Trying 2 mangles&quot;);\r\n        wordList.forEach(\r\n                x -&gt; Mangle.getAllMangles(x).forEach(\r\n                        y -&gt; Mangle.getAllMangles(y).forEach(this::checkAllVictims)\r\n                )\r\n        );\r\n        System.out.println(&quot;Trying 3 mangles&quot;);\r\n        wordList.forEach(\r\n                x -&gt; Mangle.getAllMangles(x).forEach(\r\n                        y -&gt; Mangle.getAllMangles(y).forEach(\r\n                                z -&gt; Mangle.getAllMangles(z).forEach(this::checkAllVictims)\r\n                        )\r\n                )\r\n        );\r\n    }\r\n```\r\nHow would one go about refactoring this function the best way possible?\r\n\r\nFrom a course on functional programming with Elixir a year ago I did something similar but I do not know how to apply the same principle here.\r\n\r\n```\r\ndef to_church(0) do\r\n    fn(_), y -&gt; y end\r\nend\r\ndef to_church(n) do\r\n    fn(f, x) -&gt; f.(to_church(n - 1).(f, x)) end\r\nend\r\n```\r\nThe whole Elixir code can be found [here](https://github.com/ID1019/functional-programming/blob/master/exercises/lambda/src/church.ex) if more context is needed.\r\n\r\n\r\nAnother issue I have had, which is not the main issue of this question but would be a cherry on top to have answered, is that when running the above code in parallel as part of a Runnable object in an ExecutorService thread pool (run() calls crack()) all the threads except the first one allocated stops executing after printing &quot;Trying 1 mangle&quot;. They simply just dissapear without a trace and I do not know why.","title":"Is there a good way to convert this java function into a recursive, scalable [lambda] function","body":"<p>I have written a function which I see great potential in being a recursive lambda function but I just can't wrap my head around how to implement it myself. The reason why I want to convert it to a recursive lambda function is the ability for me to run it for as long as I want where as currently I would have to copy paste another segment of code.</p>\n<pre><code>    private void crack()\n    {\n        System.out.println(&quot;Trying 1 mangle&quot;);\n        wordList.forEach(\n                x -&gt; Mangle.getAllMangles(x).forEach(this::checkAllVictims)\n        );\n        System.out.println(&quot;Trying 2 mangles&quot;);\n        wordList.forEach(\n                x -&gt; Mangle.getAllMangles(x).forEach(\n                        y -&gt; Mangle.getAllMangles(y).forEach(this::checkAllVictims)\n                )\n        );\n        System.out.println(&quot;Trying 3 mangles&quot;);\n        wordList.forEach(\n                x -&gt; Mangle.getAllMangles(x).forEach(\n                        y -&gt; Mangle.getAllMangles(y).forEach(\n                                z -&gt; Mangle.getAllMangles(z).forEach(this::checkAllVictims)\n                        )\n                )\n        );\n    }\n</code></pre>\n<p>How would one go about refactoring this function the best way possible?</p>\n<p>From a course on functional programming with Elixir a year ago I did something similar but I do not know how to apply the same principle here.</p>\n<pre><code>def to_church(0) do\n    fn(_), y -&gt; y end\nend\ndef to_church(n) do\n    fn(f, x) -&gt; f.(to_church(n - 1).(f, x)) end\nend\n</code></pre>\n<p>The whole Elixir code can be found <a href=\"https://github.com/ID1019/functional-programming/blob/master/exercises/lambda/src/church.ex\" rel=\"nofollow noreferrer\">here</a> if more context is needed.</p>\n<p>Another issue I have had, which is not the main issue of this question but would be a cherry on top to have answered, is that when running the above code in parallel as part of a Runnable object in an ExecutorService thread pool (run() calls crack()) all the threads except the first one allocated stops executing after printing &quot;Trying 1 mangle&quot;. They simply just dissapear without a trace and I do not know why.</p>\n"},{"tags":["java","cmd","project","javac"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687351298,"post_id":76523401,"comment_id":134924273,"body_markdown":"&quot;But then I would have to compile all the files with the classes it&#39;s using, recursively.&quot; indeed","body":"&quot;But then I would have to compile all the files with the classes it&#39;s using, recursively.&quot; indeed"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687353211,"post_id":76523401,"comment_id":134924716,"body_markdown":"*Im asking this because I want to upload it to GitHub and add instructions on how to run it without assuming that the viewer has vscode installed.* You should be using Maven or Gradle","body":"<i>Im asking this because I want to upload it to GitHub and add instructions on how to run it without assuming that the viewer has vscode installed.</i> You should be using Maven or Gradle"},{"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"score":0,"creation_date":1687353918,"post_id":76523401,"comment_id":134924907,"body_markdown":"I see. Never did such a thing before... can you refer me to an article or a good tutorial on how to compile and run java projects using Gradle or Maven?","body":"I see. Never did such a thing before... can you refer me to an article or a good tutorial on how to compile and run java projects using Gradle or Maven?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1687353932,"post_id":76523401,"comment_id":134924909,"body_markdown":"And build it locally, providing a jar distro (perhaps with a runner script).","body":"And build it locally, providing a jar distro (perhaps with a runner script)."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1687353975,"post_id":76523401,"comment_id":134924924,"body_markdown":"The maven and Gradle docs should be sufficient to get started.","body":"The maven and Gradle docs should be sufficient to get started."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687354161,"post_id":76523401,"comment_id":134924973,"body_markdown":"Yes, and when you&#39;ve looked at the Maven docs, [here](https://technojeeves.com/tech/maven-chess-project.zip) is your project as Maven. All you need to do is replace the dummy files with your own and it will compile and run for you. Package names, should all be lower case, but I&#39;ve left in your originals","body":"Yes, and when you&#39;ve looked at the Maven docs, <a href=\"https://technojeeves.com/tech/maven-chess-project.zip\" rel=\"nofollow noreferrer\">here</a> is your project as Maven. All you need to do is replace the dummy files with your own and it will compile and run for you. Package names, should all be lower case, but I&#39;ve left in your originals"},{"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"score":0,"creation_date":1687355743,"post_id":76523401,"comment_id":134925400,"body_markdown":"@g00se, one more question - is there any way to integrate maven into my existing project without creating a new one with maven and copying the source file in there? Since i&#39;ve already uploaded the project to github","body":"@g00se, one more question - is there any way to integrate maven into my existing project without creating a new one with maven and copying the source file in there? Since i&#39;ve already uploaded the project to github"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687355869,"post_id":76523401,"comment_id":134925429,"body_markdown":"As long as your keep the right paths, but tbh, it&#39;s better to keep a working project and build a new one alongside rather than risk wrecking something that already works. VS Code says it import Maven projects without issue, but if you put the github link up, I&#39;ll help put your code into the Maven skeleton","body":"As long as your keep the right paths, but tbh, it&#39;s better to keep a working project and build a new one alongside rather than risk wrecking something that already works. VS Code says it import Maven projects without issue, but if you put the github link up, I&#39;ll help put your code into the Maven skeleton"}],"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687351404,"creation_date":1687351248,"question_id":76523401,"body_markdown":"I made a project (Chess GUI game) that includes a few directories, in java.\r\nHere is the project tree:\r\n\r\n```\r\n├───images\r\n│       black_bishop.png\r\n│       black_king.png\r\n│       black_knight.png\r\n│       black_pawn.png\r\n│       black_queen.png\r\n│       black_rook.png\r\n│       white_bishop.png\r\n│       white_king.png\r\n│       white_knight.png\r\n│       white_pawn.png\r\n│       white_queen.png\r\n│       white_rook.png\r\n│\r\n└───source\r\n    ├───GameGUI\r\n    │       ChessBoardPanel.java\r\n    │       ChessCellPanel.java\r\n    │       Game.java\r\n    │       PieceLabel.java\r\n    │\r\n    ├───MainComponents\r\n    │       Board.java\r\n    │       Cell.java\r\n    │       Move.java\r\n    │       Piece.java\r\n    │\r\n    └───Pieces\r\n            Bishop.java\r\n            King.java\r\n            Knight.java\r\n            Pawn.java\r\n            Queen.java\r\n            Rook.java\r\n```\r\n\r\nWhen trying to compile the file with the main method, which is `Game.java`, I go to the directory (in cmd using `cd`), and use `javac Game.java`.\r\n\r\nBut it doesn&#39;t compile and shows the following error:\r\n\r\n```\r\nsource\\GameGUI\\Game.java:18: error: cannot find symbol\r\n                frame.add(new ChessBoardPanel());\r\n                              ^\r\n  symbol: class ChessBoardPanel\r\n1 error\r\n```\r\n\r\nI suppose it&#39;s because I have to compile the `ChessBoardPanel.java` file as well. But then I would have to compile all the files with the classes it&#39;s using, recursively.\r\n\r\nI can do it by hand I guess, but my question is, is there a faster way? I just haven&#39;t tried to compile it and run manually since I was using vscode&#39;s extension to run it directly.\r\n\r\nIm asking this because I want to upload it to GitHub and add instructions on how to run it without assuming that the viewer has vscode installed. ","title":"Compile entire java project through cmd","body":"<p>I made a project (Chess GUI game) that includes a few directories, in java.\nHere is the project tree:</p>\n<pre><code>├───images\n│       black_bishop.png\n│       black_king.png\n│       black_knight.png\n│       black_pawn.png\n│       black_queen.png\n│       black_rook.png\n│       white_bishop.png\n│       white_king.png\n│       white_knight.png\n│       white_pawn.png\n│       white_queen.png\n│       white_rook.png\n│\n└───source\n    ├───GameGUI\n    │       ChessBoardPanel.java\n    │       ChessCellPanel.java\n    │       Game.java\n    │       PieceLabel.java\n    │\n    ├───MainComponents\n    │       Board.java\n    │       Cell.java\n    │       Move.java\n    │       Piece.java\n    │\n    └───Pieces\n            Bishop.java\n            King.java\n            Knight.java\n            Pawn.java\n            Queen.java\n            Rook.java\n</code></pre>\n<p>When trying to compile the file with the main method, which is <code>Game.java</code>, I go to the directory (in cmd using <code>cd</code>), and use <code>javac Game.java</code>.</p>\n<p>But it doesn't compile and shows the following error:</p>\n<pre><code>source\\GameGUI\\Game.java:18: error: cannot find symbol\n                frame.add(new ChessBoardPanel());\n                              ^\n  symbol: class ChessBoardPanel\n1 error\n</code></pre>\n<p>I suppose it's because I have to compile the <code>ChessBoardPanel.java</code> file as well. But then I would have to compile all the files with the classes it's using, recursively.</p>\n<p>I can do it by hand I guess, but my question is, is there a faster way? I just haven't tried to compile it and run manually since I was using vscode's extension to run it directly.</p>\n<p>Im asking this because I want to upload it to GitHub and add instructions on how to run it without assuming that the viewer has vscode installed.</p>\n"},{"tags":["java","django","postgresql","subprocess"],"answers":[{"tags":[],"owner":{"account_id":2654977,"reputation":21,"user_id":2295858,"display_name":"langlais"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687351357,"creation_date":1687351357,"answer_id":76523415,"question_id":76516505,"body_markdown":"Finally managed to make it work by loading configuration from a file and first creating the driver, and then using it to open the connection. See the following code - java side:\r\n\r\n```\r\n    protected boolean loadConfiguration() {\r\n        Properties properties = new Properties();\r\n\r\n        try (FileInputStream fileInputStream = new FileInputStream(CONFIG_FILE)) {\r\n            properties.load(fileInputStream);\r\n            mURL = properties.getProperty(&quot;url&quot;);\r\n            mUser = properties.getProperty(&quot;user&quot;);\r\n            mPassword = properties.getProperty(&quot;password&quot;);\r\n            return connect() != null;\r\n        } catch (IOException e) {\r\n            WTrace.errTrace(&quot;Error reading config: &quot; + e.getLocalizedMessage());\r\n        }\r\n        return connect() != null;\r\n    }\r\n    \r\n    protected Connection connect() {\r\n        if (mConn == null) {\r\n            try {\r\n                Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            } catch (ClassNotFoundException ex) {\r\n                System.err.println(&quot;Cannot load DB driver: &quot; + ex.getLocalizedMessage());\r\n            }\r\n            Properties info = new Properties(); \r\n            info.put(&quot;user&quot;, mUser); \r\n            info.put(&quot;password&quot;, mPassword);\r\n\r\n            Driver driver;\r\n            try {\r\n                driver = DriverManager.getDriver(mURL);\r\n            } catch (SQLException ex) {\r\n                System.err.println(&quot;Get DB driver error: &quot; + ex.getLocalizedMessage());\r\n                return null;\r\n            }\r\n            try {\r\n                mConn = driver.connect(mURL, info);\r\n            } catch (SQLException ex) {\r\n                System.err.println(&quot;Connect error: &quot; + ex.getLocalizedMessage());\r\n            }\r\n            System.err.println(&quot;Connection: &quot; + mConn == null ? &quot;fail&quot; : &quot;OK&quot;);\r\n        }\r\n        return mConn;\r\n    }\r\n```\r\n","title":"Running a java jar from Django with subprocess.run","body":"<p>Finally managed to make it work by loading configuration from a file and first creating the driver, and then using it to open the connection. See the following code - java side:</p>\n<pre><code>    protected boolean loadConfiguration() {\n        Properties properties = new Properties();\n\n        try (FileInputStream fileInputStream = new FileInputStream(CONFIG_FILE)) {\n            properties.load(fileInputStream);\n            mURL = properties.getProperty(&quot;url&quot;);\n            mUser = properties.getProperty(&quot;user&quot;);\n            mPassword = properties.getProperty(&quot;password&quot;);\n            return connect() != null;\n        } catch (IOException e) {\n            WTrace.errTrace(&quot;Error reading config: &quot; + e.getLocalizedMessage());\n        }\n        return connect() != null;\n    }\n    \n    protected Connection connect() {\n        if (mConn == null) {\n            try {\n                Class.forName(&quot;org.postgresql.Driver&quot;);\n            } catch (ClassNotFoundException ex) {\n                System.err.println(&quot;Cannot load DB driver: &quot; + ex.getLocalizedMessage());\n            }\n            Properties info = new Properties(); \n            info.put(&quot;user&quot;, mUser); \n            info.put(&quot;password&quot;, mPassword);\n\n            Driver driver;\n            try {\n                driver = DriverManager.getDriver(mURL);\n            } catch (SQLException ex) {\n                System.err.println(&quot;Get DB driver error: &quot; + ex.getLocalizedMessage());\n                return null;\n            }\n            try {\n                mConn = driver.connect(mURL, info);\n            } catch (SQLException ex) {\n                System.err.println(&quot;Connect error: &quot; + ex.getLocalizedMessage());\n            }\n            System.err.println(&quot;Connection: &quot; + mConn == null ? &quot;fail&quot; : &quot;OK&quot;);\n        }\n        return mConn;\n    }\n</code></pre>\n"}],"owner":{"account_id":2654977,"reputation":21,"user_id":2295858,"display_name":"langlais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687351357,"creation_date":1687276600,"question_id":76516505,"body_markdown":"I am going mad over something that should be very simple.\r\n\r\nI have a jar program that needs to read stuff from a database, called from Django. It takes the db connection url as an arg. When I run it in the command line, all&#39;s fine:\r\n\r\n```\r\nC:\\Dev\\mcl&gt;java -jar mcl.jar &quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&lt;user&gt;&amp;password=&lt;pwd&gt;&quot;\r\n```\r\n\r\nHowever when I run it within Django from a thread, it doesn&#39;t find the postgres driver. I use:\r\n\r\n```\r\nresult = subprocess.run([&#39;java.exe&#39;, &#39;-jar&#39;, &#39;mcl.jar&#39;, &#39;&quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&lt;user&gt;&amp;password=&lt;pwd&gt;&quot;&#39;], cwd=r&#39;C:\\\\Dev\\\\mcl&#39;, capture_output=True, shell=True, text=True)\r\n\r\n```\r\n\r\nIt doesn&#39;t work, I get: \r\nNo suitable driver found for &quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&lt;user&gt;&amp;password=&lt;pwd&gt;&quot;\r\n\r\nI have tried many things, embedding the postgres jar in mcl.jar, changing the arguments in the subprocess.run call but nothing works.\r\n\r\nIn the java I have tried with and without\r\n```\r\nClass.forName(&quot;org.postgresql.Driver&quot;);\r\n```\r\nThe Java code is:\r\n\r\n```\r\n          try {\r\n                mConn = DriverManager.getConnection(mURL);\r\n                mConn.setAutoCommit(true);\r\n            } catch (SQLException ex) {\r\n                System.err.println(&quot;Database connection error: &quot; + ex.getLocalizedMessage());\r\n                mConn = null;\r\n            }\r\n```\r\n\r\nThere must be something specific to Django environment, but what?\r\n","title":"Running a java jar from Django with subprocess.run","body":"<p>I am going mad over something that should be very simple.</p>\n<p>I have a jar program that needs to read stuff from a database, called from Django. It takes the db connection url as an arg. When I run it in the command line, all's fine:</p>\n<pre><code>C:\\Dev\\mcl&gt;java -jar mcl.jar &quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&lt;user&gt;&amp;password=&lt;pwd&gt;&quot;\n</code></pre>\n<p>However when I run it within Django from a thread, it doesn't find the postgres driver. I use:</p>\n<pre><code>result = subprocess.run(['java.exe', '-jar', 'mcl.jar', '&quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&lt;user&gt;&amp;password=&lt;pwd&gt;&quot;'], cwd=r'C:\\\\Dev\\\\mcl', capture_output=True, shell=True, text=True)\n\n</code></pre>\n<p>It doesn't work, I get:\nNo suitable driver found for &quot;jdbc:postgresql://&lt;IP:PORT&gt;/DBName?user=&amp;password=&quot;</p>\n<p>I have tried many things, embedding the postgres jar in mcl.jar, changing the arguments in the subprocess.run call but nothing works.</p>\n<p>In the java I have tried with and without</p>\n<pre><code>Class.forName(&quot;org.postgresql.Driver&quot;);\n</code></pre>\n<p>The Java code is:</p>\n<pre><code>          try {\n                mConn = DriverManager.getConnection(mURL);\n                mConn.setAutoCommit(true);\n            } catch (SQLException ex) {\n                System.err.println(&quot;Database connection error: &quot; + ex.getLocalizedMessage());\n                mConn = null;\n            }\n</code></pre>\n<p>There must be something specific to Django environment, but what?</p>\n"},{"tags":["java","android","xml","editor"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687393090,"post_id":76523277,"comment_id":134932031,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28865836,"reputation":1,"user_id":22108620,"display_name":"Kali Linux"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687351068,"creation_date":1687350327,"question_id":76523277,"body_markdown":"I made an Android application a while ago. Now i moved to Python. All I have of my old Android project is the APK file that built back then. \r\nLooking at it now i do not like the way that the UI looks. So i want to edit some elements. \r\nTo do that i used a Linux machine to decompile(disassemble) the APK file using ApkTool. Now i have a bunch of folders and whatnot. \r\nMy question came when i tried to view the XML code of the decompiled APK and have a preview of the current UI on the other side of my screen (you know how android studio does it). is there any way that i can get a software of any kind that lets me convert my APK file into a 100% Android project. i just want to change a few UI elements. \r\nGoing into the res/layout folder that got generated and looking at the XML files, i feel like those are not really the UI files that i would have normally worked on in Android Studio. \r\nPlus, installing Android Studio is pretty tiresome (i have experience with that). So is there any other software that can do what i want? i would prefer if it was on a Linux machine. But windows is okay too. \r\nSo to simplify my question: Is there any way that i can disassemble an APK file, view its layout files (XML) and make some changes to the layout elements (buttons and whatnot)?\r\n\r\nI literally spent hours every day trying to find a solution to this online. I even asked ChatGPT and BARD. I am stuck as stuck can ever get. ","title":"Change UI elements of and APK file","body":"<p>I made an Android application a while ago. Now i moved to Python. All I have of my old Android project is the APK file that built back then.\nLooking at it now i do not like the way that the UI looks. So i want to edit some elements.\nTo do that i used a Linux machine to decompile(disassemble) the APK file using ApkTool. Now i have a bunch of folders and whatnot.\nMy question came when i tried to view the XML code of the decompiled APK and have a preview of the current UI on the other side of my screen (you know how android studio does it). is there any way that i can get a software of any kind that lets me convert my APK file into a 100% Android project. i just want to change a few UI elements.\nGoing into the res/layout folder that got generated and looking at the XML files, i feel like those are not really the UI files that i would have normally worked on in Android Studio.\nPlus, installing Android Studio is pretty tiresome (i have experience with that). So is there any other software that can do what i want? i would prefer if it was on a Linux machine. But windows is okay too.\nSo to simplify my question: Is there any way that i can disassemble an APK file, view its layout files (XML) and make some changes to the layout elements (buttons and whatnot)?</p>\n<p>I literally spent hours every day trying to find a solution to this online. I even asked ChatGPT and BARD. I am stuck as stuck can ever get.</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1687341587,"post_id":76522027,"comment_id":134922241,"body_markdown":"The formats are very different… You may stay *not satisified* because this requires checks. There&#39;s a chance you can minimze the amount of checks, so… How does your code look?","body":"The formats are very different… You may stay <i>not satisified</i> because this requires checks. There&#39;s a chance you can minimze the amount of checks, so… How does your code look?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1687347189,"post_id":76522027,"comment_id":134923308,"body_markdown":"Do you want to keep the input format and only convert the values to UTC? How do you know if `&quot;2023-06-14T19:19:52.13844&quot;` is not UTC already? It has no zone or offset…","body":"Do you want to keep the input format and only convert the values to UTC? How do you know if <code>&quot;2023-06-14T19:19:52.13844&quot;</code> is not UTC already? It has no zone or offset…"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687350831,"creation_date":1687345129,"answer_id":76522538,"question_id":76522027,"body_markdown":"For your formats and inputs, the following works:\r\n\r\n    import java.time.*;\r\n    import java.time.temporal.*;\r\n    import java.time.format.*;\r\n    \r\n    public class MultiPats {\r\n        public static void main(String[] args) {\r\n            try {\r\n                String sDate = args[0];\r\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;&quot; + &quot;[yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSS]&quot;\r\n                        + &quot;[yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX]&quot; + &quot;[yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;]&quot;);\r\n                Object x = formatter.parse(args[0]);\r\n                TemporalAccessor ta = formatter.parseBest(args[0], ZonedDateTime::from, OffsetDateTime::from,\r\n                        LocalDateTime::from);\r\n                if (ta instanceof ZonedDateTime) {\r\n                    System.out.printf(&quot;%s = ZDT = %s. In UTC: %s%n&quot;, sDate, ta.query(ZonedDateTime::from), ta.query(ZonedDateTime::from).withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)));\r\n                } else if (ta instanceof OffsetDateTime) {\r\n                    System.out.printf(&quot;%s = ODT = %s. In UTC: %n&quot;, sDate, ta.query(OffsetDateTime::from), ta.query(OffsetDateTime::from).withOffsetSameInstant(ZoneOffset.UTC));\r\n                } else if (ta instanceof LocalDateTime) {\r\n                    System.out.printf(&quot;%s = LDT = %s%n&quot;, sDate, ta.query(LocalDateTime::from));\r\n    \r\n                }\r\n    \r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Convert DateTime String to UTC DateTime String","body":"<p>For your formats and inputs, the following works:</p>\n<pre><code>import java.time.*;\nimport java.time.temporal.*;\nimport java.time.format.*;\n\npublic class MultiPats {\n    public static void main(String[] args) {\n        try {\n            String sDate = args[0];\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;&quot; + &quot;[yyyy-MM-dd'T'HH:mm:ss.SSSSS]&quot;\n                    + &quot;[yyyy-MM-dd'T'HH:mm:ss.SSSXXX]&quot; + &quot;[yyyy-MM-dd'T'HH:mm:ss.SSS'Z']&quot;);\n            Object x = formatter.parse(args[0]);\n            TemporalAccessor ta = formatter.parseBest(args[0], ZonedDateTime::from, OffsetDateTime::from,\n                    LocalDateTime::from);\n            if (ta instanceof ZonedDateTime) {\n                System.out.printf(&quot;%s = ZDT = %s. In UTC: %s%n&quot;, sDate, ta.query(ZonedDateTime::from), ta.query(ZonedDateTime::from).withZoneSameInstant(ZoneId.of(&quot;UTC&quot;)));\n            } else if (ta instanceof OffsetDateTime) {\n                System.out.printf(&quot;%s = ODT = %s. In UTC: %n&quot;, sDate, ta.query(OffsetDateTime::from), ta.query(OffsetDateTime::from).withOffsetSameInstant(ZoneOffset.UTC));\n            } else if (ta instanceof LocalDateTime) {\n                System.out.printf(&quot;%s = LDT = %s%n&quot;, sDate, ta.query(LocalDateTime::from));\n\n            }\n\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687349479,"creation_date":1687349479,"answer_id":76523150,"question_id":76522027,"body_markdown":"You may want to check the length of the `String`s in order to find out if you need a pattern that is not build-in / predefined. Checking that may become a real pain if you are expecting (a lot) more than your 4 examples.\r\n\r\nHowever, one of your examples (`&quot;2023-06-14T19:19:52.13844&quot;`) defines a time of day along with a date but lacks zone and offset. You can parse it and declare it UTC time, but you cannot be sure that time actually was in UTC, exclusively judging from the values of the `String`. If you know the origin zone or offset, you would have to add it, convert to UTC and then format without zone and offset.\r\n\r\n### example code\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// define some formatters for input parsing and output formatting\r\n\tvar dtf25 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSS&quot;);\r\n\tvar dtf26 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSz&quot;);\r\n\tvar dtf29 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSxxx&quot;);\r\n\t\r\n\t// no conversion needed, this is already in UTC\r\n\tSystem.out.println(OffsetDateTime.parse(&quot;2023-06-14T19:19:52.138Z&quot;));\r\n\t// no conversion possible, origin zone or offset are unknown\r\n\tSystem.out.println(\r\n\t\t\tLocalDateTime.parse(&quot;2023-06-14T19:19:52.13844&quot;)\r\n\t\t\t\t\t\t .format(dtf25)\r\n\t\t\t\t\t);\r\n\t// parse, convert zone and print in the source format\r\n\tSystem.out.println(\r\n\t\t\tZonedDateTime.parse(&quot;2023-06-14T19:19:52.138PDT&quot;, dtf26)\r\n\t\t\t\t\t\t .withZoneSameInstant(ZoneOffset.UTC)\r\n\t\t\t\t\t\t .format(dtf26)\r\n\t\t\t\t\t);\r\n\t// parse, convert zone and print in the source format\r\n\tSystem.out.println(\r\n\t\t\tOffsetDateTime.parse(&quot;2023-06-14T19:19:52.138-07:00&quot;)\r\n\t\t\t\t\t\t  .withOffsetSameInstant(ZoneOffset.UTC)\r\n\t\t\t\t\t\t  .format(dtf29)\r\n\t\t\t\t\t);\r\n}\r\n```\r\n\r\n### output\r\n\r\n```none\r\n2023-06-14T19:19:52.138Z\r\n2023-06-14T19:19:52.13844\r\n2023-06-15T02:19:52.138Z\r\n2023-06-15T02:19:52.138+00:00\r\n```","title":"Convert DateTime String to UTC DateTime String","body":"<p>You may want to check the length of the <code>String</code>s in order to find out if you need a pattern that is not build-in / predefined. Checking that may become a real pain if you are expecting (a lot) more than your 4 examples.</p>\n<p>However, one of your examples (<code>&quot;2023-06-14T19:19:52.13844&quot;</code>) defines a time of day along with a date but lacks zone and offset. You can parse it and declare it UTC time, but you cannot be sure that time actually was in UTC, exclusively judging from the values of the <code>String</code>. If you know the origin zone or offset, you would have to add it, convert to UTC and then format without zone and offset.</p>\n<h3>example code</h3>\n<pre><code>public static void main(String[] args) {\n    // define some formatters for input parsing and output formatting\n    var dtf25 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSSS&quot;);\n    var dtf26 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSz&quot;);\n    var dtf29 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSxxx&quot;);\n    \n    // no conversion needed, this is already in UTC\n    System.out.println(OffsetDateTime.parse(&quot;2023-06-14T19:19:52.138Z&quot;));\n    // no conversion possible, origin zone or offset are unknown\n    System.out.println(\n            LocalDateTime.parse(&quot;2023-06-14T19:19:52.13844&quot;)\n                         .format(dtf25)\n                    );\n    // parse, convert zone and print in the source format\n    System.out.println(\n            ZonedDateTime.parse(&quot;2023-06-14T19:19:52.138PDT&quot;, dtf26)\n                         .withZoneSameInstant(ZoneOffset.UTC)\n                         .format(dtf26)\n                    );\n    // parse, convert zone and print in the source format\n    System.out.println(\n            OffsetDateTime.parse(&quot;2023-06-14T19:19:52.138-07:00&quot;)\n                          .withOffsetSameInstant(ZoneOffset.UTC)\n                          .format(dtf29)\n                    );\n}\n</code></pre>\n<h3>output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>2023-06-14T19:19:52.138Z\n2023-06-14T19:19:52.13844\n2023-06-15T02:19:52.138Z\n2023-06-15T02:19:52.138+00:00\n</code></pre>\n"}],"owner":{"account_id":14587036,"reputation":15,"user_id":10535476,"display_name":"spurohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1687350831,"creation_date":1687341284,"question_id":76522027,"body_markdown":"I am trying to write a simple piece of Java code that takes a datetime string along with the format and converts it into UTC into same format. I am able to achieve this using lot of checks and try catch but not satisfied.\r\n\r\nIs there any cleaner way in which I can handle this. Obviously the method only does something meaningful for date formats that have timezone or offset information. I want to gracefully process any inputs.\r\n\r\nSome samples -\r\n\r\n    \r\nFormat yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSS\r\nInput 2023-06-14T19:19:52.13844\r\n\r\nFormat yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX\r\nInput 2023-06-14T19:19:52.138-07:00\r\n\r\nFormat yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;\r\nInput 2023-06-14T19:19:52.138Z\r\n\r\nFormat yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSz\r\nInput 2023-06-14T19:19:52.138PDT\r\n\r\nThanks in advance.","title":"Convert DateTime String to UTC DateTime String","body":"<p>I am trying to write a simple piece of Java code that takes a datetime string along with the format and converts it into UTC into same format. I am able to achieve this using lot of checks and try catch but not satisfied.</p>\n<p>Is there any cleaner way in which I can handle this. Obviously the method only does something meaningful for date formats that have timezone or offset information. I want to gracefully process any inputs.</p>\n<p>Some samples -</p>\n<p>Format yyyy-MM-dd'T'HH:mm:ss.SSSSS\nInput 2023-06-14T19:19:52.13844</p>\n<p>Format yyyy-MM-dd'T'HH:mm:ss.SSSXXX\nInput 2023-06-14T19:19:52.138-07:00</p>\n<p>Format yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\nInput 2023-06-14T19:19:52.138Z</p>\n<p>Format yyyy-MM-dd'T'HH:mm:ss.SSSz\nInput 2023-06-14T19:19:52.138PDT</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","logging","aop"],"answers":[{"comments":[{"owner":{"account_id":10983199,"reputation":91,"user_id":8069714,"display_name":"Aksoy"},"score":0,"creation_date":1609437686,"post_id":65524162,"comment_id":115845074,"body_markdown":"How can I get request and response as string in this method ?","body":"How can I get request and response as string in this method ?"},{"owner":{"account_id":17589164,"reputation":4057,"user_id":12761369,"display_name":"k-wasilewski"},"score":0,"creation_date":1609437732,"post_id":65524162,"comment_id":115845088,"body_markdown":"I&#39;ve added it to my answer.","body":"I&#39;ve added it to my answer."}],"tags":[],"owner":{"account_id":17589164,"reputation":4057,"user_id":12761369,"display_name":"k-wasilewski"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609437632,"creation_date":1609437250,"answer_id":65524162,"question_id":65523527,"body_markdown":"Add this dependency:\r\n```\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nthen, create an `Around` aspect for your controllers&#39; methods&#39; execution:\r\n```\r\n    @Around(&quot;within(path.to.your.controller.*)&quot;)\r\n    public Object pointcutWithin(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        logger.info(&quot; ###### pointcutWithin() before&quot;);\r\n        long start = System.nanoTime();\r\n\r\n        Object result = joinPoint.proceed();\r\n\r\n        logger.info(&quot; ###### pointcutWithin() after&quot;);\r\n        long end = System.nanoTime();\r\n\r\n        long timeElapsedInMillis = (end - start) / 1000000;\r\n        logger.info(&quot; ###### elapsed time in millis: &quot;+timeElapsedInMillis);\r\n\r\n        return result;\r\n    }\r\n```\r\n\r\nAs for persisting: first, get the req and resp like so:\r\n```\r\nMyRequest req = (MyRequest) joinPoint.getArgs()[0];\r\n\r\nMyResponse resp = (MyResponse) result;\r\n```\r\n\r\nthen it&#39;s up to you what you actually want t o persist. For classes with simple fields I&#39;d go with a `varchar`, just remember to override their `toString` methods.","title":"How to save requests and responses to database in spring boot","body":"<p>Add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>then, create an <code>Around</code> aspect for your controllers' methods' execution:</p>\n<pre><code>    @Around(&quot;within(path.to.your.controller.*)&quot;)\n    public Object pointcutWithin(ProceedingJoinPoint joinPoint) throws Throwable {\n        logger.info(&quot; ###### pointcutWithin() before&quot;);\n        long start = System.nanoTime();\n\n        Object result = joinPoint.proceed();\n\n        logger.info(&quot; ###### pointcutWithin() after&quot;);\n        long end = System.nanoTime();\n\n        long timeElapsedInMillis = (end - start) / 1000000;\n        logger.info(&quot; ###### elapsed time in millis: &quot;+timeElapsedInMillis);\n\n        return result;\n    }\n</code></pre>\n<p>As for persisting: first, get the req and resp like so:</p>\n<pre><code>MyRequest req = (MyRequest) joinPoint.getArgs()[0];\n\nMyResponse resp = (MyResponse) result;\n</code></pre>\n<p>then it's up to you what you actually want t o persist. For classes with simple fields I'd go with a <code>varchar</code>, just remember to override their <code>toString</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609438338,"creation_date":1609437571,"answer_id":65524216,"question_id":65523527,"body_markdown":"&gt; First question is what type I should use in my entity for request and\r\n&gt; response ( string, blob, etc)\r\n&gt; \r\n\r\nIt mainly depends on the database vendor and request/response length. &lt;br&gt;\r\nString may be limited for some vendors and blob is so required. \r\nOn the other hand, matching on blob is slower.  \r\nAnother alternative is using a nosql format such as JSON.  \r\n \r\n \r\n&gt; Second question, how to get request,response and its controller name\r\n&gt; to create the entity to save to database ?\r\n\r\nThere are really several ways.  \r\nYou could take advantage of built-in Spring Boot [http tracing features][1] but it has a limitation : posted/received of request/responses are not available. \r\n\r\n&gt; 5.8. HTTP Tracing\r\n&gt; \r\n&gt; HTTP Tracing can be enabled by providing a bean of type\r\n&gt; HttpTraceRepository in your application’s configuration. For\r\n&gt; convenience, Spring Boot offers an InMemoryHttpTraceRepository that\r\n&gt; stores traces for the last 100 request-response exchanges, by default.\r\n&gt; InMemoryHttpTraceRepository is limited compared to other tracing\r\n&gt; solutions and we recommend using it only for development environments.\r\n&gt; For production environments, use of a production-ready tracing or\r\n&gt; observability solution, such as Zipkin or Spring Cloud Sleuth, is\r\n&gt; recommended. Alternatively, create your own HttpTraceRepository that\r\n&gt; meets your needs.\r\n&gt; \r\n&gt; The httptrace endpoint can be used to obtain information about the\r\n&gt; request-response exchanges that are stored in the HttpTraceRepository.\r\n&gt; \r\n&gt; 5.8.1. Custom HTTP tracing\r\n&gt; \r\n&gt; To customize the items that are included in each trace, use the\r\n&gt; management.trace.http.include configuration property. For advanced\r\n&gt; customization, consider registering your own HttpExchangeTracer\r\n&gt; implementation.\r\n&gt; \r\n\r\nAlternatives are implementing a filter for requests/responses and log in it.  \r\nFor example : \r\n\r\n    @Component\r\n    public class RequestResponseStoringFilter implements Filter {\r\n        \r\n      @Override\r\n      public void doFilter(ServletRequest req, ServletResponse res,\r\n          FilterChain chain) throws IOException, ServletException {\r\n    \r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n        long start = System.currentTimeMillis();\r\n        try {\r\n            chain.doFilter(req, resp);\r\n        } finally {\r\n           // Measure elapsed time\r\n            long elapsed = System.currentTimeMillis() - start;\r\n           // store request data and store response data in a DB\r\n           .....\r\n        }\r\n\r\n      }\r\n    \r\n      @Override\r\n      public void destroy() {}\r\n    \r\n      @Override\r\n      public void init(FilterConfig arg0) throws ServletException {}\r\n    \r\n    }\r\n\r\n&gt; Lastly, is it possible to calculate response time (time spent in the\r\n&gt; controller) of the controller ?\r\n\r\nThe way implement a Filter can do that as shown above.  \r\nThe httptrace endpoint way provides that with the `timeTaken` field.   &lt;br&gt;\r\nFIY, here is the content of a [HttpTrace][2] instance :    \r\n\r\n&lt;pre&gt;\r\nHttpTrace.Principal\tgetPrincipal() \r\nHttpTrace.Request\tgetRequest() \r\nHttpTrace.Response\tgetResponse() \r\nHttpTrace.Session\tgetSession() \r\nInstant\tgetTimestamp() \r\nLong\tgetTimeTaken() \r\n&lt;/pre&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-http-tracing\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/trace/http/HttpTrace.html\r\n","title":"How to save requests and responses to database in spring boot","body":"<blockquote>\n<p>First question is what type I should use in my entity for request and\nresponse ( string, blob, etc)</p>\n</blockquote>\n<p>It mainly depends on the database vendor and request/response length. <br>\nString may be limited for some vendors and blob is so required.\nOn the other hand, matching on blob is slower.<br />\nAnother alternative is using a nosql format such as JSON.</p>\n<blockquote>\n<p>Second question, how to get request,response and its controller name\nto create the entity to save to database ?</p>\n</blockquote>\n<p>There are really several ways.<br />\nYou could take advantage of built-in Spring Boot <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-http-tracing\" rel=\"nofollow noreferrer\">http tracing features</a> but it has a limitation : posted/received of request/responses are not available.</p>\n<blockquote>\n<p>5.8. HTTP Tracing</p>\n<p>HTTP Tracing can be enabled by providing a bean of type\nHttpTraceRepository in your application’s configuration. For\nconvenience, Spring Boot offers an InMemoryHttpTraceRepository that\nstores traces for the last 100 request-response exchanges, by default.\nInMemoryHttpTraceRepository is limited compared to other tracing\nsolutions and we recommend using it only for development environments.\nFor production environments, use of a production-ready tracing or\nobservability solution, such as Zipkin or Spring Cloud Sleuth, is\nrecommended. Alternatively, create your own HttpTraceRepository that\nmeets your needs.</p>\n<p>The httptrace endpoint can be used to obtain information about the\nrequest-response exchanges that are stored in the HttpTraceRepository.</p>\n<p>5.8.1. Custom HTTP tracing</p>\n<p>To customize the items that are included in each trace, use the\nmanagement.trace.http.include configuration property. For advanced\ncustomization, consider registering your own HttpExchangeTracer\nimplementation.</p>\n</blockquote>\n<p>Alternatives are implementing a filter for requests/responses and log in it.<br />\nFor example :</p>\n<pre><code>@Component\npublic class RequestResponseStoringFilter implements Filter {\n    \n  @Override\n  public void doFilter(ServletRequest req, ServletResponse res,\n      FilterChain chain) throws IOException, ServletException {\n\n    HttpServletRequest request = (HttpServletRequest) req;\n    HttpServletResponse response = (HttpServletResponse) res;\n\n    long start = System.currentTimeMillis();\n    try {\n        chain.doFilter(req, resp);\n    } finally {\n       // Measure elapsed time\n        long elapsed = System.currentTimeMillis() - start;\n       // store request data and store response data in a DB\n       .....\n    }\n\n  }\n\n  @Override\n  public void destroy() {}\n\n  @Override\n  public void init(FilterConfig arg0) throws ServletException {}\n\n}\n</code></pre>\n<blockquote>\n<p>Lastly, is it possible to calculate response time (time spent in the\ncontroller) of the controller ?</p>\n</blockquote>\n<p>The way implement a Filter can do that as shown above.<br />\nThe httptrace endpoint way provides that with the <code>timeTaken</code> field.   <br>\nFIY, here is the content of a <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/trace/http/HttpTrace.html\" rel=\"nofollow noreferrer\">HttpTrace</a> instance :</p>\n<pre>\nHttpTrace.Principal getPrincipal() \nHttpTrace.Request   getRequest() \nHttpTrace.Response  getResponse() \nHttpTrace.Session   getSession() \nInstant getTimestamp() \nLong    getTimeTaken() \n</pre>\n"},{"comments":[{"owner":{"account_id":10983199,"reputation":91,"user_id":8069714,"display_name":"Aksoy"},"score":0,"creation_date":1609671578,"post_id":65527391,"comment_id":115890094,"body_markdown":"First of all, thank you for your answer and it works. However, I have no idea how I can get response time ?","body":"First of all, thank you for your answer and it works. However, I have no idea how I can get response time ?"}],"tags":[],"owner":{"account_id":1924336,"reputation":155,"user_id":1735146,"display_name":"Eric"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609480992,"creation_date":1609477894,"answer_id":65527391,"question_id":65523527,"body_markdown":"This kinda expands on the other answers, but I think It warrants a separate answer.\r\n\r\nIf your pulling in spring-boot-starter-web, then you&#39;re already pulling in spring-aop. If your going to go down the point cut route though, I&#39;d highly recommend just using the Micrometer `@Timed` annotation which comes with `spring-boot-starter-actuator`. I&#39;ve written my own metric pointcuts a many times, but if your just after timings and counts of successes and failures, `@Timed` works great. \r\n\r\nI&#39;d also highly recommend looking into using a time series database (e.g [influx](https://www.influxdata.com/products/influxdb/)) for storing things like response times and other performance metrics. Keep your raw payloads and other possible auditing concerns in a separate DB. There are some very powerful things you can do with influx and running [Grafana](https://grafana.com/) or [Chronograf](https://www.influxdata.com/time-series-platform/chronograf/) on top of it. Without a doubt one of the best things my current company has done is years is adopting Influx/Chronograf.\r\n\r\nWith regards to the request/response capture, I had a weird edge case in my work flow once where the http trace just wasn&#39;t working for some hard requirements. You can capture the contents directly in a chain filter yourself with a `ContentCachingRequestWrapper`\r\nThen you can access them with:\r\n```\r\n @Component\r\nclass MyPayloadCapturingFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request)\r\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response)\r\n\r\n        filterChain.doFilter(requestWrapper, responseWrapper)\r\n\r\n        def requestBody = new String(requestWrapper.contentAsByteArray)\r\n        def responseBody = new String(responseWrapper.contentAsByteArray)\r\n        //..do something with them\r\n    }\r\n}\r\n```\r\nnote the `OncePerRequestFilter`, I found times when my Filter was firing multiple times for the same request. This prevents that. ","title":"How to save requests and responses to database in spring boot","body":"<p>This kinda expands on the other answers, but I think It warrants a separate answer.</p>\n<p>If your pulling in spring-boot-starter-web, then you're already pulling in spring-aop. If your going to go down the point cut route though, I'd highly recommend just using the Micrometer <code>@Timed</code> annotation which comes with <code>spring-boot-starter-actuator</code>. I've written my own metric pointcuts a many times, but if your just after timings and counts of successes and failures, <code>@Timed</code> works great.</p>\n<p>I'd also highly recommend looking into using a time series database (e.g <a href=\"https://www.influxdata.com/products/influxdb/\" rel=\"nofollow noreferrer\">influx</a>) for storing things like response times and other performance metrics. Keep your raw payloads and other possible auditing concerns in a separate DB. There are some very powerful things you can do with influx and running <a href=\"https://grafana.com/\" rel=\"nofollow noreferrer\">Grafana</a> or <a href=\"https://www.influxdata.com/time-series-platform/chronograf/\" rel=\"nofollow noreferrer\">Chronograf</a> on top of it. Without a doubt one of the best things my current company has done is years is adopting Influx/Chronograf.</p>\n<p>With regards to the request/response capture, I had a weird edge case in my work flow once where the http trace just wasn't working for some hard requirements. You can capture the contents directly in a chain filter yourself with a <code>ContentCachingRequestWrapper</code>\nThen you can access them with:</p>\n<pre><code> @Component\nclass MyPayloadCapturingFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request)\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response)\n\n        filterChain.doFilter(requestWrapper, responseWrapper)\n\n        def requestBody = new String(requestWrapper.contentAsByteArray)\n        def responseBody = new String(responseWrapper.contentAsByteArray)\n        //..do something with them\n    }\n}\n</code></pre>\n<p>note the <code>OncePerRequestFilter</code>, I found times when my Filter was firing multiple times for the same request. This prevents that.</p>\n"},{"tags":[],"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687350790,"creation_date":1687350790,"answer_id":76523337,"question_id":65523527,"body_markdown":"Minor improvements to the Eric&#39;s answer : https://stackoverflow.com/a/65527391/2933389.\r\n\r\n```java\r\n@Component\r\npublic class MyPayloadCapturingFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request)\r\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response)\r\n\r\n        filterChain.doFilter(requestWrapper, responseWrapper)\r\n        // In the absence of the below line, client will get an empty response body. This helps to copy the response body for the intermidatory operation (audit).\r\n        responseWrapper.copyBodyToResponse();\r\n\r\n        String requestBody = new String(requestWrapper.contentAsByteArray)\r\n        String responseBody = new String(responseWrapper.contentAsByteArray)\r\n        //..do something with them\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to save requests and responses to database in spring boot","body":"<p>Minor improvements to the Eric's answer : <a href=\"https://stackoverflow.com/a/65527391/2933389\">https://stackoverflow.com/a/65527391/2933389</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyPayloadCapturingFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request)\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response)\n\n        filterChain.doFilter(requestWrapper, responseWrapper)\n        // In the absence of the below line, client will get an empty response body. This helps to copy the response body for the intermidatory operation (audit).\n        responseWrapper.copyBodyToResponse();\n\n        String requestBody = new String(requestWrapper.contentAsByteArray)\n        String responseBody = new String(responseWrapper.contentAsByteArray)\n        //..do something with them\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10983199,"reputation":91,"user_id":8069714,"display_name":"Aksoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9670,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1687350790,"creation_date":1609433324,"question_id":65523527,"body_markdown":"I would like to write an aspect or something like that and whenever a request comes to the controller it saves the request and the response to the database. \r\n\r\nFirst question is what type I should use in my entity for request and response ( string, blob, etc)\r\n\r\nSecond question, how to get request,response and its controller name  to create the entity to save to database ?\r\n\r\n\r\nLastly, is it possible to calculate response time (time spent in the controller) of the controller ? ","title":"How to save requests and responses to database in spring boot","body":"<p>I would like to write an aspect or something like that and whenever a request comes to the controller it saves the request and the response to the database.</p>\n<p>First question is what type I should use in my entity for request and response ( string, blob, etc)</p>\n<p>Second question, how to get request,response and its controller name  to create the entity to save to database ?</p>\n<p>Lastly, is it possible to calculate response time (time spent in the controller) of the controller ?</p>\n"},{"tags":["java","android","kotlin","koin"],"owner":{"account_id":7491585,"reputation":1597,"user_id":5693082,"display_name":"dotGitignore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687348978,"creation_date":1687348978,"question_id":76523079,"body_markdown":"I am currently implementing a [Koin Annotations][1] to my project and I would like to know how to declare the `KoinViewModel` and shared its data between java class fragments?\r\n\r\n    @KoinViewModel\r\n    class TestViewModel: ViewModel() {\r\n        private val _testData : MutableLiveData&lt;String&gt; by lazy { MutableLiveData(&quot;init&quot;) }\r\n        val testData: LiveData&lt;String&gt; = _testData\r\n    \r\n        fun updateTestData(s: String) {\r\n            _testData.postValue(s)\r\n        }\r\n    }\r\n\r\n\r\neg:\r\n\r\n    public class TestJavaFragment  extends Fragment {\r\n    \r\n        private final TestViewModel testViewModelLazy = KoinJavaComponent.get(TestViewModel.class);\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            testViewModelLazy.updateTestData(&quot;newValue&quot;);\r\n        }\r\n    }\r\n \r\nI know this is incorrect because I am not getting the updated value of `testData` to another fragment class.\r\n\r\neg:\r\n\r\n    public class TestJavaFragment2 extends Fragment {\r\n        private final TestViewModel testViewModelLazy = KoinJavaComponent.get(TestViewModel.class);\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            testViewModelLazy.getTestData().observe(getViewLifecycleOwner(), s -&gt; {\r\n                // here I am getting the &quot;init&quot; again.\r\n                Log.i(&quot;TestJavaFragment2&quot;, s);\r\n            });\r\n        }\r\n    }\r\n\r\ndependency versions:\r\n\r\n    dependencies {\r\n        api(&quot;io.insert-koin:koin-android:3.4.1&quot;)\r\n        api(&quot;io.insert-koin:koin-annotations:1.2.1&quot;)\r\n        ksp(&quot;io.insert-koin:koin-ksp-compiler:1.2.1&quot;)\r\n    }\r\n\r\nAny help is appreciated, Thank you!\r\n\r\n  [1]: https://insert-koin.io/docs/setup/annotations/","title":"How to use KOIN ViewModel in Java classes?","body":"<p>I am currently implementing a <a href=\"https://insert-koin.io/docs/setup/annotations/\" rel=\"nofollow noreferrer\">Koin Annotations</a> to my project and I would like to know how to declare the <code>KoinViewModel</code> and shared its data between java class fragments?</p>\n<pre><code>@KoinViewModel\nclass TestViewModel: ViewModel() {\n    private val _testData : MutableLiveData&lt;String&gt; by lazy { MutableLiveData(&quot;init&quot;) }\n    val testData: LiveData&lt;String&gt; = _testData\n\n    fun updateTestData(s: String) {\n        _testData.postValue(s)\n    }\n}\n</code></pre>\n<p>eg:</p>\n<pre><code>public class TestJavaFragment  extends Fragment {\n\n    private final TestViewModel testViewModelLazy = KoinJavaComponent.get(TestViewModel.class);\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        testViewModelLazy.updateTestData(&quot;newValue&quot;);\n    }\n}\n</code></pre>\n<p>I know this is incorrect because I am not getting the updated value of <code>testData</code> to another fragment class.</p>\n<p>eg:</p>\n<pre><code>public class TestJavaFragment2 extends Fragment {\n    private final TestViewModel testViewModelLazy = KoinJavaComponent.get(TestViewModel.class);\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        testViewModelLazy.getTestData().observe(getViewLifecycleOwner(), s -&gt; {\n            // here I am getting the &quot;init&quot; again.\n            Log.i(&quot;TestJavaFragment2&quot;, s);\n        });\n    }\n}\n</code></pre>\n<p>dependency versions:</p>\n<pre><code>dependencies {\n    api(&quot;io.insert-koin:koin-android:3.4.1&quot;)\n    api(&quot;io.insert-koin:koin-annotations:1.2.1&quot;)\n    ksp(&quot;io.insert-koin:koin-ksp-compiler:1.2.1&quot;)\n}\n</code></pre>\n<p>Any help is appreciated, Thank you!</p>\n"},{"tags":["java","spring-boot","logback"],"comments":[{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1687347560,"post_id":76522844,"comment_id":134923390,"body_markdown":"Have you tried building parent pom with mvn clean install? if yes then try with  force (-U) for both parent and child","body":"Have you tried building parent pom with mvn clean install? if yes then try with  force (-U) for both parent and child"}],"answers":[{"comments":[{"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"score":0,"creation_date":1687350376,"post_id":76523021,"comment_id":134924045,"body_markdown":"Oh yes it was just that -_-. Thank you :)","body":"Oh yes it was just that -_-. Thank you :)"}],"tags":[],"owner":{"account_id":24834381,"reputation":26,"user_id":18713197,"display_name":"서혜영"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687348600,"creation_date":1687348600,"answer_id":76523021,"question_id":76522844,"body_markdown":"A version change from 1.3 to 1.3.0 is required.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nLink:\r\nhttps://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.3.0","title":"Spring boot: Upgrading logback 1.2.12 to 1.3","body":"<p>A version change from 1.3 to 1.3.0 is required.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Link:\n<a href=\"https://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.3.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.3.0</a></p>\n"}],"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76523021,"answer_count":1,"score":0,"last_activity_date":1687348600,"creation_date":1687347311,"question_id":76522844,"body_markdown":"I use spring boot 2.7.12 and our company, for security reason, is asking to use at least the v1.3 of logback. \r\nI see that spring-boot-starter-logging (v2.7.12) is using version 1.2.12 of logback-classic.\r\n\r\nI would like to force the version to 1.3 but when I try to add this in parent pom:\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n      ...\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n          &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nI have this error in child pom:\r\n\r\n    Missing artifact ch.qos.logback:logback-classic:jar:1.3\r\n\r\n\r\nI do not understand how to solve it.\r\n\r\nCan you help me please?","title":"Spring boot: Upgrading logback 1.2.12 to 1.3","body":"<p>I use spring boot 2.7.12 and our company, for security reason, is asking to use at least the v1.3 of logback.\nI see that spring-boot-starter-logging (v2.7.12) is using version 1.2.12 of logback-classic.</p>\n<p>I would like to force the version to 1.3 but when I try to add this in parent pom:</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n  ...\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    ...\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>I have this error in child pom:</p>\n<pre><code>Missing artifact ch.qos.logback:logback-classic:jar:1.3\n</code></pre>\n<p>I do not understand how to solve it.</p>\n<p>Can you help me please?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1687335575,"post_id":76521067,"comment_id":134920838,"body_markdown":"Either 1. initialize the switch state before setting onCheckedChangeListener, or 2. use onClickListener instead.","body":"Either 1. initialize the switch state before setting onCheckedChangeListener, or 2. use onClickListener instead."},{"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"score":0,"creation_date":1687339362,"post_id":76521067,"comment_id":134921755,"body_markdown":"i forget about the onClickListner that also works on swtich , thanks a lot","body":"i forget about the onClickListner that also works on swtich , thanks a lot"}],"answers":[{"tags":[],"owner":{"display_name":"user22101027"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687348370,"creation_date":1687348370,"answer_id":76522986,"question_id":76521067,"body_markdown":"    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Switch;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Switch restartSwitch;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            restartSwitch = findViewById(R.id.restartSwitch);\r\n    \r\n            restartSwitch.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (restartSwitch.isChecked()) {\r\n                        restartApp();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void restartApp() {\r\n            PackageManager packageManager = getPackageManager();\r\n            Intent intent = packageManager.getLaunchIntentForPackage(getPackageName());\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    }\r\n\r\n","title":"Restart App programmatically when Switch is Pressed","body":"<pre><code>import android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Switch;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Switch restartSwitch;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        restartSwitch = findViewById(R.id.restartSwitch);\n\n        restartSwitch.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (restartSwitch.isChecked()) {\n                    restartApp();\n                }\n            }\n        });\n    }\n\n    private void restartApp() {\n        PackageManager packageManager = getPackageManager();\n        Intent intent = packageManager.getLaunchIntentForPackage(getPackageName());\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76522986,"answer_count":1,"score":0,"last_activity_date":1687348370,"creation_date":1687333553,"question_id":76521067,"body_markdown":"I would like to restart the app whenever the switch is pressed, regardless of its current position. However, the issue is that the app restarts even when I navigate to the fragment containing the switch. I specifically want the restart to occur only when the switch is clicked. Here&#39;s what I have attempted so far: \r\n\r\n     nsfwSetting.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n    \r\n    \r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    SharedPreferences.Editor editor = mSharedPrefs_nsfw_settings.edit();\r\n                    editor.putBoolean(REWARD_GRANTED_KEY, isChecked);\r\n                    editor.apply();\r\n                    restartMainActivity()\r\n                }\r\n            });\r\n            nsfwSetting.setChecked(mSharedPrefs_nsfw_settings.getBoolean(REWARD_GRANTED_KEY, false));\r\n    \r\n     private void restartMainActivity() {\r\n            Intent intent = new Intent(requireActivity(), MainActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n            requireActivity().finish();\r\n        }\r\n\r\nCould you please assist me in achieving the desired behavior where the app restarts only upon clicking the switch?\r\n\r\n   \r\n","title":"Restart App programmatically when Switch is Pressed","body":"<p>I would like to restart the app whenever the switch is pressed, regardless of its current position. However, the issue is that the app restarts even when I navigate to the fragment containing the switch. I specifically want the restart to occur only when the switch is clicked. Here's what I have attempted so far:</p>\n<pre><code> nsfwSetting.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n\n\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                SharedPreferences.Editor editor = mSharedPrefs_nsfw_settings.edit();\n                editor.putBoolean(REWARD_GRANTED_KEY, isChecked);\n                editor.apply();\n                restartMainActivity()\n            }\n        });\n        nsfwSetting.setChecked(mSharedPrefs_nsfw_settings.getBoolean(REWARD_GRANTED_KEY, false));\n\n private void restartMainActivity() {\n        Intent intent = new Intent(requireActivity(), MainActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(intent);\n        requireActivity().finish();\n    }\n</code></pre>\n<p>Could you please assist me in achieving the desired behavior where the app restarts only upon clicking the switch?</p>\n"},{"tags":["java","websocket","cloudflare"],"comments":[{"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"score":0,"creation_date":1687398574,"post_id":76522961,"comment_id":134932472,"body_markdown":"Maybe caused by Cloudflare’s default timeout 100 seconds.","body":"Maybe caused by Cloudflare’s default timeout 100 seconds."},{"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"score":0,"creation_date":1687771244,"post_id":76522961,"comment_id":134978025,"body_markdown":"I don&#39;t think that is the case - because heartbeat/ping-pong is implemented as per the API&#39;s. And the disconnects happen randomly - not every 100 seconds","body":"I don&#39;t think that is the case - because heartbeat/ping-pong is implemented as per the API&#39;s. And the disconnects happen randomly - not every 100 seconds"}],"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687348221,"creation_date":1687348221,"question_id":76522961,"body_markdown":"I am working on an app where I am connecting via Websocket to different exchanges to listen for order updates.  \r\nWhat I am seeing is occasional disconnects happening for the exchanges that are using cloudflare - bitfinex, coinbase and okx to be exact. For the other exchanges that I am connecting to (and they dont seem to be using cloudflare based on the investigation) the issue is not present.  \r\nThe reason/code that I am receiving is\r\nreason: Unexpected Status of SSLEngineResult after an unwrap() operation\r\ncode: 1006.  \r\nI have implemented a reconnection mechanism and it works fine, but I am trying to understand why this happens in the first place.  \r\nAlso ping/pong mechanisms are implemented as well (although for Bitfinex/Coinbase they are not clearly explained in the API).   \r\n\r\nI am using Java 11 + Spring Boot 2 along with the default implementation of Tomcat Websockets (also tested Java 17 + Spring Boot 3 but same behavior).  \r\nThe service is running on AWS -a Kubernetes Pod which is in a Private VPC and is using NAT Gateway to access the Websocket API’s.  \r\n\r\nThanks a lot for the help.  \r\nBest Regards","title":"Cloudflare Random WebSocket Disconnections","body":"<p>I am working on an app where I am connecting via Websocket to different exchanges to listen for order updates.<br />\nWhat I am seeing is occasional disconnects happening for the exchanges that are using cloudflare - bitfinex, coinbase and okx to be exact. For the other exchanges that I am connecting to (and they dont seem to be using cloudflare based on the investigation) the issue is not present.<br />\nThe reason/code that I am receiving is\nreason: Unexpected Status of SSLEngineResult after an unwrap() operation\ncode: 1006.<br />\nI have implemented a reconnection mechanism and it works fine, but I am trying to understand why this happens in the first place.<br />\nAlso ping/pong mechanisms are implemented as well (although for Bitfinex/Coinbase they are not clearly explained in the API).</p>\n<p>I am using Java 11 + Spring Boot 2 along with the default implementation of Tomcat Websockets (also tested Java 17 + Spring Boot 3 but same behavior).<br />\nThe service is running on AWS -a Kubernetes Pod which is in a Private VPC and is using NAT Gateway to access the Websocket API’s.</p>\n<p>Thanks a lot for the help.<br />\nBest Regards</p>\n"},{"tags":["java","linux","docker","docker-compose","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":52964,"reputation":4211,"user_id":2162529,"accept_rate":67,"display_name":"Pierre-Gilles Levallois"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687347661,"creation_date":1687347661,"answer_id":76522898,"question_id":72225833,"body_markdown":"Setting the `buildkit` option to `false` is not sufficient, if you are behind a proxy, you should set **both** `HTTP_PROXY`and HTTPS_PROXY` env vars to get it work.\r\n\r\non Windows, in a CMD :\r\n\r\n    set HTTP_PROXY=YourProxyUrl:Port\r\n    set HTTPS_PROXY=YourProxyUrl:Port\r\n\r\non Windows in a GitBash shell, or on a MacOs shell : \r\n\r\n    export HTTP_PROXY=YourProxyUrl:Port\r\n    export HTTPS_PROXY=YourProxyUrl:Port\r\n\r\n\r\n  ","title":"error: failed to solve: failed to fetch oauth token: Post &quot;https://auth.docker.io/token&quot;: dial tcp: i/o timeout","body":"<p>Setting the <code>buildkit</code> option to <code>false</code> is not sufficient, if you are behind a proxy, you should set <strong>both</strong> <code>HTTP_PROXY</code>and HTTPS_PROXY` env vars to get it work.</p>\n<p>on Windows, in a CMD :</p>\n<pre><code>set HTTP_PROXY=YourProxyUrl:Port\nset HTTPS_PROXY=YourProxyUrl:Port\n</code></pre>\n<p>on Windows in a GitBash shell, or on a MacOs shell :</p>\n<pre><code>export HTTP_PROXY=YourProxyUrl:Port\nexport HTTPS_PROXY=YourProxyUrl:Port\n</code></pre>\n"}],"owner":{"account_id":14498670,"reputation":394,"user_id":10472512,"display_name":"megh_sat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1687347661,"creation_date":1652426766,"question_id":72225833,"body_markdown":"I&#39;m trying to build a docker image for my java file on my M1 max MacBook, my dockerfile:\r\n\r\n```\r\nFROM openjdk:8-alpine\r\nCOPY . /src/java\r\nWORKDIR /src/java\r\nRUN [&quot;javac&quot;,&quot;greenchallenge.java&quot;]\r\nENTRYPOINT [&quot;java&quot;,&quot;greenchallenge&quot;]\r\n```\r\n\r\nSteps followed to build the image:\r\n1. Created a new builder using: ```docker buildx create --name pibuilder```\r\n (*I wanted to use the multi architecture feature*)\r\n2. Initialed the builder using: ```docker buildx use pibuilder ```.\r\n3. Built the image and pushed it using: \r\n```\r\ndocker buildx build --platform linux/amd64,linux/arm64,linux/arm/v7 -t my_java:latest -t my_java:1.0.0 --push .\r\n\r\n```\r\n\r\nAfter running **step-3**, I got the below log:\r\n```\r\n[+] Building 47.2s (7/7) FINISHED                                               \r\n =&gt; [internal] booting buildkit                                           15.8s\r\n =&gt; =&gt; pulling image moby/buildkit:buildx-stable-1                        15.2s\r\n =&gt; =&gt; creating container buildx_buildkit_javabuildernew40                 0.6s\r\n =&gt; [internal] load build definition from dockerfile                       0.0s\r\n =&gt; =&gt; transferring dockerfile: 351B                                       0.0s\r\n =&gt; [internal] load .dockerignore                                          0.0s\r\n =&gt; =&gt; transferring context: 2B                                            0.0s\r\n =&gt; ERROR [linux/arm/v7 internal] load metadata for docker.io/library/op  31.3s\r\n =&gt; CANCELED [linux/amd64 internal] load metadata for docker.io/library/  31.3s\r\n =&gt; CANCELED [linux/arm64 internal] load metadata for docker.io/library/  31.3s\r\n =&gt; [auth] library/openjdk:pull token for registry-1.docker.io             0.0s\r\n------\r\n &gt; [linux/arm/v7 internal] load metadata for docker.io/library/openjdk:8-alpine:\r\n------\r\ndockerfile:1\r\n--------------------\r\n   1 | &gt;&gt;&gt; FROM openjdk:8-alpine\r\n   2 |     COPY . /src/java\r\n   3 |     WORKDIR /src/java\r\n--------------------\r\nerror: failed to solve: failed to fetch oauth token: Post &quot;https://auth.docker.io/token&quot;: dial tcp: i/o timeout\r\n```\r\n**Note:** I&#39;m using work Environment, I bypassed proxy as well. \r\n**Note:** As mentioned [here][1] I set ```&quot;buildkit&quot;:false``` and used ```docker login``` in terminal. \r\n\r\nHope you help me to solve the error, thanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65361083/docker-build-failed-to-fetch-oauth-token-for-openjdk","title":"error: failed to solve: failed to fetch oauth token: Post &quot;https://auth.docker.io/token&quot;: dial tcp: i/o timeout","body":"<p>I'm trying to build a docker image for my java file on my M1 max MacBook, my dockerfile:</p>\n<pre><code>FROM openjdk:8-alpine\nCOPY . /src/java\nWORKDIR /src/java\nRUN [&quot;javac&quot;,&quot;greenchallenge.java&quot;]\nENTRYPOINT [&quot;java&quot;,&quot;greenchallenge&quot;]\n</code></pre>\n<p>Steps followed to build the image:</p>\n<ol>\n<li>Created a new builder using: <code>docker buildx create --name pibuilder</code>\n(<em>I wanted to use the multi architecture feature</em>)</li>\n<li>Initialed the builder using: <code>docker buildx use pibuilder </code>.</li>\n<li>Built the image and pushed it using:</li>\n</ol>\n<pre><code>docker buildx build --platform linux/amd64,linux/arm64,linux/arm/v7 -t my_java:latest -t my_java:1.0.0 --push .\n\n</code></pre>\n<p>After running <strong>step-3</strong>, I got the below log:</p>\n<pre><code>[+] Building 47.2s (7/7) FINISHED                                               \n =&gt; [internal] booting buildkit                                           15.8s\n =&gt; =&gt; pulling image moby/buildkit:buildx-stable-1                        15.2s\n =&gt; =&gt; creating container buildx_buildkit_javabuildernew40                 0.6s\n =&gt; [internal] load build definition from dockerfile                       0.0s\n =&gt; =&gt; transferring dockerfile: 351B                                       0.0s\n =&gt; [internal] load .dockerignore                                          0.0s\n =&gt; =&gt; transferring context: 2B                                            0.0s\n =&gt; ERROR [linux/arm/v7 internal] load metadata for docker.io/library/op  31.3s\n =&gt; CANCELED [linux/amd64 internal] load metadata for docker.io/library/  31.3s\n =&gt; CANCELED [linux/arm64 internal] load metadata for docker.io/library/  31.3s\n =&gt; [auth] library/openjdk:pull token for registry-1.docker.io             0.0s\n------\n &gt; [linux/arm/v7 internal] load metadata for docker.io/library/openjdk:8-alpine:\n------\ndockerfile:1\n--------------------\n   1 | &gt;&gt;&gt; FROM openjdk:8-alpine\n   2 |     COPY . /src/java\n   3 |     WORKDIR /src/java\n--------------------\nerror: failed to solve: failed to fetch oauth token: Post &quot;https://auth.docker.io/token&quot;: dial tcp: i/o timeout\n</code></pre>\n<p><strong>Note:</strong> I'm using work Environment, I bypassed proxy as well.\n<strong>Note:</strong> As mentioned <a href=\"https://stackoverflow.com/questions/65361083/docker-build-failed-to-fetch-oauth-token-for-openjdk\">here</a> I set <code>&quot;buildkit&quot;:false</code> and used <code>docker login</code> in terminal.</p>\n<p>Hope you help me to solve the error, thanks in advance.</p>\n"},{"tags":["java","macos","uri"],"owner":{"account_id":1612514,"reputation":159,"user_id":1491077,"accept_rate":100,"display_name":"Fredrik Rafn Strandberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687347608,"creation_date":1687347608,"question_id":76522890,"body_markdown":"We need help to get an URI handler for a Java application on macOS working.\r\n\r\nWe are implementing SSO for an existing Java application and after login in a browser we want to use an URI handler to be able to return to the Java application with some values passed.\r\n\r\nWe were able to implement this on Windows by registering an URI handler in the Windows registry. When navigating to the URI in the browser, a new instance of our application is started with the URI passed as parameters to the main method. The new instance can then send the necessary values from the URI to the already running instance and then exit.\r\n\r\nOn macOS we are able to register an URI scheme in the Info.plist file like this:\r\n\r\n    &lt;key&gt;CFBundleURLTypes&lt;/key&gt;\r\n    &lt;array&gt;\r\n        &lt;dict&gt;\r\n            &lt;key&gt;CFBundleURLName&lt;/key&gt;\r\n            &lt;string&gt;com.company.ourscheme/string&gt;\r\n            &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;\r\n            &lt;array&gt;\r\n                &lt;string&gt;ourscheme&lt;/string&gt;\r\n            &lt;/array&gt;\r\n        &lt;/dict&gt;\r\n    &lt;/array&gt;\r\n\r\nAs we understand it, [the URI will not be passed as an argument to our Main method][1] (it isn&#39;t for us). So, we have tried using [the setOpenURIHandler in java.desktop][2]\r\n\r\n    Desktop.getDesktop().setOpenURIHandler((event) -&gt; {\r\n         System.out.println(&quot;Open URI: &quot; + event.getURI());\r\n         // do something with the URI\r\n    });\r\n\r\nas described by [the answer given by Alex Suzuki here][3]. The requirements are:\r\n\r\n 1. The Java app is a bundled application (our application is)\r\n 2. Use a CFBundleDocumentTypes array\r\n\r\n We have registered for public.data like this:\r\n\r\n    &lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;\r\n    &lt;array&gt;\r\n        &lt;dict&gt;\r\n            &lt;key&gt;CFBundleTypeIconFiles&lt;/key&gt;\r\n            &lt;array/&gt;\r\n            &lt;key&gt;CFBundleTypeName&lt;/key&gt;\r\n            &lt;string&gt;public.data&lt;/string&gt;\r\n            &lt;key&gt;LSHandlerRank&lt;/key&gt;\r\n            &lt;string&gt;Alternate&lt;/string&gt;\r\n            &lt;key&gt;LSItemContentTypes&lt;/key&gt;\r\n            &lt;array&gt;\r\n                &lt;string&gt;public.data&lt;/string&gt;\r\n            &lt;/array&gt;\r\n        &lt;/dict&gt;\r\n    &lt;/array&gt;\r\n\r\nWe have tried to minimize our application so it basically just opens a dialog and waits. The callback method would print and log any callback and any URI provided.\r\n\r\nWhen we enter an URI in the browser:\r\n\r\n&gt; ourscheme://testing\r\n\r\nor use open on the command line:\r\n\r\n&gt; open ourscheme://testing\r\n\r\nWe never get any callback at all. If the application is not running, it is started (but no callback). If the application is already running it does get focus (but no callback).\r\n\r\nWe have tested with a variety of URI&#39;s in case the DocumentTypes registration requires the URI to represent an existing document type, such as:\r\n\r\n&gt; ourscheme://file.txt\r\n\r\nAny idea what we are doing wrong? Are we on the right track here or is there any other strategies on how to solve this?\r\n\r\nWorth to mention is perhaps that we have wrapped our Java application in a small C program which is our executable. The C program just launches Java with some parameters like this (I removed some error handling in the example, but the file is only 33 rows long):\r\n\r\n    int main(int argc, char *argv[])\r\n    {\r\n       // Set some variables used below ...\r\n    \r\n      char *args[] = {java, concat(&quot;-Duser.dir=&quot;, userdir), &quot;-Dsun.awt.disablegrab=true&quot;, concat(&quot;-Xdock:icon=&quot;, icon), &quot;-Xdock:name=Our Product&quot;, &quot;-Dcom.apple.macos.use-file-dialog-packages=true&quot;, &quot;-Dcom.apple.macos.useSmallTabs=true&quot;, &quot;-Dapple.laf.useScreenMenuBar=false&quot;,     &quot;-Dcom.apple.mrj.application.apple.menu.about.name=Our Product&quot;, &quot;-Xms64M&quot;, &quot;-Xmx1024M&quot;, &quot;-jar&quot;, jar, &quot;custom-argument&quot;, NULL};\r\n     \r\n      execv(java, args)\r\n      \r\n      return 0;\r\n    }\r\n\r\nCould this C wrapper somehow affect the URI handler registration?\r\n\r\nThank you in advance for any help!\r\n\r\n**Environment:**\r\n\r\nmacOS Monterey (M1, Aarch64) and Java 17\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3953716/custom-protocol-handler-not-passing-argument-on-osx\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html#setOpenURIHandler(java.awt.desktop.OpenURIHandler)\r\n  [3]: https://stackoverflow.com/questions/20074610/handle-custom-url-schemes-in-an-os-x-java-application/20225859#20225859","title":"Custom URI handler on macOS for bundled Java application","body":"<p>We need help to get an URI handler for a Java application on macOS working.</p>\n<p>We are implementing SSO for an existing Java application and after login in a browser we want to use an URI handler to be able to return to the Java application with some values passed.</p>\n<p>We were able to implement this on Windows by registering an URI handler in the Windows registry. When navigating to the URI in the browser, a new instance of our application is started with the URI passed as parameters to the main method. The new instance can then send the necessary values from the URI to the already running instance and then exit.</p>\n<p>On macOS we are able to register an URI scheme in the Info.plist file like this:</p>\n<pre><code>&lt;key&gt;CFBundleURLTypes&lt;/key&gt;\n&lt;array&gt;\n    &lt;dict&gt;\n        &lt;key&gt;CFBundleURLName&lt;/key&gt;\n        &lt;string&gt;com.company.ourscheme/string&gt;\n        &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;\n        &lt;array&gt;\n            &lt;string&gt;ourscheme&lt;/string&gt;\n        &lt;/array&gt;\n    &lt;/dict&gt;\n&lt;/array&gt;\n</code></pre>\n<p>As we understand it, <a href=\"https://stackoverflow.com/questions/3953716/custom-protocol-handler-not-passing-argument-on-osx\">the URI will not be passed as an argument to our Main method</a> (it isn't for us). So, we have tried using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html#setOpenURIHandler(java.awt.desktop.OpenURIHandler)\" rel=\"nofollow noreferrer\">the setOpenURIHandler in java.desktop</a></p>\n<pre><code>Desktop.getDesktop().setOpenURIHandler((event) -&gt; {\n     System.out.println(&quot;Open URI: &quot; + event.getURI());\n     // do something with the URI\n});\n</code></pre>\n<p>as described by <a href=\"https://stackoverflow.com/questions/20074610/handle-custom-url-schemes-in-an-os-x-java-application/20225859#20225859\">the answer given by Alex Suzuki here</a>. The requirements are:</p>\n<ol>\n<li>The Java app is a bundled application (our application is)</li>\n<li>Use a CFBundleDocumentTypes array</li>\n</ol>\n<p>We have registered for public.data like this:</p>\n<pre><code>&lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;\n&lt;array&gt;\n    &lt;dict&gt;\n        &lt;key&gt;CFBundleTypeIconFiles&lt;/key&gt;\n        &lt;array/&gt;\n        &lt;key&gt;CFBundleTypeName&lt;/key&gt;\n        &lt;string&gt;public.data&lt;/string&gt;\n        &lt;key&gt;LSHandlerRank&lt;/key&gt;\n        &lt;string&gt;Alternate&lt;/string&gt;\n        &lt;key&gt;LSItemContentTypes&lt;/key&gt;\n        &lt;array&gt;\n            &lt;string&gt;public.data&lt;/string&gt;\n        &lt;/array&gt;\n    &lt;/dict&gt;\n&lt;/array&gt;\n</code></pre>\n<p>We have tried to minimize our application so it basically just opens a dialog and waits. The callback method would print and log any callback and any URI provided.</p>\n<p>When we enter an URI in the browser:</p>\n<blockquote>\n<p>ourscheme://testing</p>\n</blockquote>\n<p>or use open on the command line:</p>\n<blockquote>\n<p>open ourscheme://testing</p>\n</blockquote>\n<p>We never get any callback at all. If the application is not running, it is started (but no callback). If the application is already running it does get focus (but no callback).</p>\n<p>We have tested with a variety of URI's in case the DocumentTypes registration requires the URI to represent an existing document type, such as:</p>\n<blockquote>\n<p>ourscheme://file.txt</p>\n</blockquote>\n<p>Any idea what we are doing wrong? Are we on the right track here or is there any other strategies on how to solve this?</p>\n<p>Worth to mention is perhaps that we have wrapped our Java application in a small C program which is our executable. The C program just launches Java with some parameters like this (I removed some error handling in the example, but the file is only 33 rows long):</p>\n<pre><code>int main(int argc, char *argv[])\n{\n   // Set some variables used below ...\n\n  char *args[] = {java, concat(&quot;-Duser.dir=&quot;, userdir), &quot;-Dsun.awt.disablegrab=true&quot;, concat(&quot;-Xdock:icon=&quot;, icon), &quot;-Xdock:name=Our Product&quot;, &quot;-Dcom.apple.macos.use-file-dialog-packages=true&quot;, &quot;-Dcom.apple.macos.useSmallTabs=true&quot;, &quot;-Dapple.laf.useScreenMenuBar=false&quot;,     &quot;-Dcom.apple.mrj.application.apple.menu.about.name=Our Product&quot;, &quot;-Xms64M&quot;, &quot;-Xmx1024M&quot;, &quot;-jar&quot;, jar, &quot;custom-argument&quot;, NULL};\n \n  execv(java, args)\n  \n  return 0;\n}\n</code></pre>\n<p>Could this C wrapper somehow affect the URI handler registration?</p>\n<p>Thank you in advance for any help!</p>\n<p><strong>Environment:</strong></p>\n<p>macOS Monterey (M1, Aarch64) and Java 17</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":4523492,"reputation":1277,"user_id":3676021,"accept_rate":57,"display_name":"Kartik_Koro"},"score":0,"creation_date":1403173170,"post_id":24304129,"comment_id":37560252,"body_markdown":"If i&#39;m not wrong, Collections.max() and Collections.min() also iterate through each element.","body":"If i&#39;m not wrong, Collections.max() and Collections.min() also iterate through each element."},{"owner":{"account_id":1254086,"reputation":3387,"user_id":1213934,"accept_rate":58,"display_name":"logoff"},"score":0,"creation_date":1403173214,"post_id":24304129,"comment_id":37560278,"body_markdown":"`max` and `min` make no sense per se, because `Collection` is a generic type. for instance if you have `Collection&lt;Object&gt;`, what would be `max` and `min`? take a look here: http://stackoverflow.com/questions/122105/what-is-the-best-way-to-filter-a-java-collection","body":"<code>max</code> and <code>min</code> make no sense per se, because <code>Collection</code> is a generic type. for instance if you have <code>Collection&lt;Object&gt;</code>, what would be <code>max</code> and <code>min</code>? take a look here: <a href=\"http://stackoverflow.com/questions/122105/what-is-the-best-way-to-filter-a-java-collection\" title=\"what is the best way to filter a java collection\">stackoverflow.com/questions/122105/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4523492,"reputation":1277,"user_id":3676021,"accept_rate":57,"display_name":"Kartik_Koro"},"score":1,"creation_date":1403173204,"post_id":24304199,"comment_id":37560276,"body_markdown":"Didn&#39;t know about this, seems useful! :D","body":"Didn&#39;t know about this, seems useful! :D"},{"owner":{"account_id":1677932,"reputation":485,"user_id":1543001,"accept_rate":62,"display_name":"Chirag"},"score":0,"creation_date":1403173277,"post_id":24304199,"comment_id":37560312,"body_markdown":"very useful..something new to me..Thanks","body":"very useful..something new to me..Thanks"},{"owner":{"account_id":1677932,"reputation":485,"user_id":1543001,"accept_rate":62,"display_name":"Chirag"},"score":0,"creation_date":1403178682,"post_id":24304199,"comment_id":37563496,"body_markdown":"I am not getting how to use this predicate and pass it in to argument. Can anyone give me demo ?","body":"I am not getting how to use this predicate and pass it in to argument. Can anyone give me demo ?"},{"owner":{"account_id":2674499,"reputation":191,"user_id":4475193,"display_name":"Stanislav Codes"},"score":1,"creation_date":1539739267,"post_id":24304199,"comment_id":92608047,"body_markdown":"Still useful and saves lives four years later :D","body":"Still useful and saves lives four years later :D"},{"owner":{"account_id":4731437,"reputation":329,"user_id":3826954,"accept_rate":67,"display_name":"stackbacker"},"score":0,"creation_date":1689260970,"post_id":24304199,"comment_id":135191362,"body_markdown":"Should probably be noted that the above solution will return true for an empty list.","body":"Should probably be noted that the above solution will return true for an empty list."}],"tags":[],"owner":{"account_id":985197,"reputation":12521,"user_id":1003886,"accept_rate":66,"display_name":"kajacx"},"comment_count":5,"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1403173396,"creation_date":1403173092,"answer_id":24304199,"question_id":24304129,"body_markdown":"If you have java 8, use stream&#39;s `allMatch` function ([reference][1]):\r\n\r\n     ArrayList&lt;Integer&gt; col = ...;\r\n     col.stream().allMatch(i -&gt; i&gt;0); //for example all integers bigger than zero\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html","title":"how to check if all elements of java collection match some condition?","body":"<p>If you have java 8, use stream's <code>allMatch</code> function (<a href=\"http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\">reference</a>):</p>\n\n<pre><code> ArrayList&lt;Integer&gt; col = ...;\n col.stream().allMatch(i -&gt; i&gt;0); //for example all integers bigger than zero\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1677932,"reputation":485,"user_id":1543001,"accept_rate":62,"display_name":"Chirag"},"score":0,"creation_date":1403173381,"post_id":24304247,"comment_id":37560379,"body_markdown":"I want to do my job only if all elements of list &gt; of my condition","body":"I want to do my job only if all elements of list &gt; of my condition"}],"tags":[],"owner":{"account_id":1768620,"reputation":4271,"user_id":1613902,"accept_rate":45,"display_name":"Pracede"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1403173437,"creation_date":1403173270,"answer_id":24304247,"question_id":24304129,"body_markdown":"You cannot check values without iterating on all elements of the ***list***. \r\n\r\n    for(Integer value : myArrayList){\r\n    \r\n        if(value &gt; MY_MIN_VALUE){\r\n            // do my job\r\n        }\r\n    }\r\n\r\nI hope this will help","title":"how to check if all elements of java collection match some condition?","body":"<p>You cannot check values without iterating on all elements of the <strong><em>list</em></strong>. </p>\n\n<pre><code>for(Integer value : myArrayList){\n\n    if(value &gt; MY_MIN_VALUE){\n        // do my job\n    }\n}\n</code></pre>\n\n<p>I hope this will help</p>\n"},{"tags":[],"owner":{"account_id":41811,"reputation":15440,"user_id":121595,"accept_rate":48,"display_name":"amorfis"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1403174302,"creation_date":1403174302,"answer_id":24304572,"question_id":24304129,"body_markdown":"You can use Google guavas `Iterables.all` \n\n     Iterables.all(collection, new Predicate() {\n        boolean apply(T element)  {\n           .... //check your condition \n       } \n     } \n","title":"how to check if all elements of java collection match some condition?","body":"<p>You can use Google guavas <code>Iterables.all</code> </p>\n\n<pre><code> Iterables.all(collection, new Predicate() {\n    boolean apply(T element)  {\n       .... //check your condition \n   } \n } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26898896,"reputation":1,"user_id":20476368,"display_name":"Michael Pichler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687346800,"creation_date":1687346800,"answer_id":76522773,"question_id":24304129,"body_markdown":"The answer `col.stream().allMatch` is the best solution for the original task, i.e. to check if all elements fulfill some condition.\r\n\r\nIf you instead want to find the min or max int value of a Stream/Collection you must first convert it to an `IntStream` using `col.stream().mapToInt(ToIntFunction)` where the ToIntFunction can be `MyObject::getIntvalue` or `o -&gt; o.getIntValue()` or `Integer::intValue` if you already have a List&amp;lt;Integer&amp;gt; as explained on https://stackoverflow.com/questions/24633913/how-do-i-get-an-intstream-from-a-listinteger","title":"how to check if all elements of java collection match some condition?","body":"<p>The answer <code>col.stream().allMatch</code> is the best solution for the original task, i.e. to check if all elements fulfill some condition.</p>\n<p>If you instead want to find the min or max int value of a Stream/Collection you must first convert it to an <code>IntStream</code> using <code>col.stream().mapToInt(ToIntFunction)</code> where the ToIntFunction can be <code>MyObject::getIntvalue</code> or <code>o -&gt; o.getIntValue()</code> or <code>Integer::intValue</code> if you already have a List&lt;Integer&gt; as explained on <a href=\"https://stackoverflow.com/questions/24633913/how-do-i-get-an-intstream-from-a-listinteger\">How do I get an IntStream from a List&lt;Integer&gt;?</a></p>\n"}],"owner":{"account_id":1677932,"reputation":485,"user_id":1543001,"accept_rate":62,"display_name":"Chirag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31095,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":24304199,"answer_count":4,"score":26,"last_activity_date":1687346800,"creation_date":1403172849,"question_id":24304129,"body_markdown":"I have an `ArrayList&lt;Integer&gt;`. I want to check if all elements of the list are greater then or less then certain condition. I can do it by iterating on each element. But I want to know if there is any method in Collection class to get the answer like we can do to find maximum or minimum with `Collections.max()` and `Collections.min()` respectively.","title":"how to check if all elements of java collection match some condition?","body":"<p>I have an <code>ArrayList&lt;Integer&gt;</code>. I want to check if all elements of the list are greater then or less then certain condition. I can do it by iterating on each element. But I want to know if there is any method in Collection class to get the answer like we can do to find maximum or minimum with <code>Collections.max()</code> and <code>Collections.min()</code> respectively.</p>\n"},{"tags":["java","spring-boot","servlets","apache-commons-fileupload"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1688383026,"post_id":76517385,"comment_id":135062386,"body_markdown":"To avoid the x-y problem (https://xyproblem.info/), do you **really need** commons-fileupload? See https://stackoverflow.com/a/68820846/2886891","body":"To avoid the x-y problem (<a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a>), do you <b>really need</b> commons-fileupload? See <a href=\"https://stackoverflow.com/a/68820846/2886891\">stackoverflow.com/a/68820846/2886891</a>"}],"answers":[{"comments":[{"owner":{"account_id":1144755,"reputation":1415,"user_id":1127772,"display_name":"Carlos Saltos"},"score":0,"creation_date":1698959616,"post_id":76517610,"comment_id":136474252,"body_markdown":"Great !! ... thanks !! ... we are trying to use Apache commons fileupload2 for Jakarta at new Olon versions ... here a commit as a reference -&gt; https://github.com/talenteca/olon-web-framework/commit/4e7a7de8059cf8250024957f7f42c7f619a69dfe","body":"Great !! ... thanks !! ... we are trying to use Apache commons fileupload2 for Jakarta at new Olon versions ... here a commit as a reference -&gt; <a href=\"https://github.com/talenteca/olon-web-framework/commit/4e7a7de8059cf8250024957f7f42c7f619a69dfe\" rel=\"nofollow noreferrer\">github.com/talenteca/olon-web-framework/commit/&hellip;</a>"},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1700265209,"post_id":76517610,"comment_id":136637384,"body_markdown":"@carlos-saltos thanks, good to see folks using it, I&#39;m trying the streaming way so can handle huge files too","body":"@carlos-saltos thanks, good to see folks using it, I&#39;m trying the streaming way so can handle huge files too"}],"tags":[],"owner":{"account_id":17959846,"reputation":51,"user_id":13051065,"display_name":"odinx"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1687286560,"creation_date":1687286560,"answer_id":76517610,"question_id":76517385,"body_markdown":"Apache is planning to release a [new version][1] of FileUpload that supports Jakarta, which should resolve the issues with migrating from javax to jakarta.\r\n\r\nPlease note that the dependency declaration will be changed for the new version. You can refer to the [previous link][1] for more information:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-fileupload2-jakarta&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://github.com/apache/commons-fileupload#where-can-i-get-the-latest-release","title":"commons-fileupload and jakarta.servlet","body":"<p>Apache is planning to release a <a href=\"https://github.com/apache/commons-fileupload#where-can-i-get-the-latest-release\" rel=\"nofollow noreferrer\">new version</a> of FileUpload that supports Jakarta, which should resolve the issues with migrating from javax to jakarta.</p>\n<p>Please note that the dependency declaration will be changed for the new version. You can refer to the <a href=\"https://github.com/apache/commons-fileupload#where-can-i-get-the-latest-release\" rel=\"nofollow noreferrer\">previous link</a> for more information:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-fileupload2-jakarta&lt;/artifactId&gt;\n  &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":17959846,"reputation":51,"user_id":13051065,"display_name":"odinx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2988,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76517610,"answer_count":1,"score":1,"last_activity_date":1687345824,"creation_date":1687284335,"question_id":76517385,"body_markdown":"We are currently in the process of migrating our application to Spring Boot 3. We have been using the Commons FileUpload streaming API to directly load large multipart files into a remote file share. However, we have encountered an issue where the **`javax.servlet.http.HttpServletRequest`** has been migrated to **`jakarta.servlet.http.HttpServletRequest`**. As a result, the FileUpload library is no longer functioning since it requires **`javax.servlet.http.HttpServletRequest`**.\r\n\r\nDoes Servlet API or Spring framework provide a similar functionality for file streaming without the need to save all files in memory beforehand?","title":"commons-fileupload and jakarta.servlet","body":"<p>We are currently in the process of migrating our application to Spring Boot 3. We have been using the Commons FileUpload streaming API to directly load large multipart files into a remote file share. However, we have encountered an issue where the <strong><code>javax.servlet.http.HttpServletRequest</code></strong> has been migrated to <strong><code>jakarta.servlet.http.HttpServletRequest</code></strong>. As a result, the FileUpload library is no longer functioning since it requires <strong><code>javax.servlet.http.HttpServletRequest</code></strong>.</p>\n<p>Does Servlet API or Spring framework provide a similar functionality for file streaming without the need to save all files in memory beforehand?</p>\n"},{"tags":["java","boolean","autoboxing"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":10,"creation_date":1291120291,"post_id":4313513,"comment_id":4684902,"body_markdown":"Why don&#39;t you try it out yourself?","body":"Why don&#39;t you try it out yourself?"},{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":0,"creation_date":1291124426,"post_id":4313513,"comment_id":4685636,"body_markdown":"@Jesper: I did, see my own answer below","body":"@Jesper: I did, see my own answer below"}],"answers":[{"comments":[{"owner":{"display_name":"user285879"},"score":0,"creation_date":1433977526,"post_id":4313525,"comment_id":49589655,"body_markdown":"This is a great way to go.  The ApacheCommons libraries make Java programming a joy.","body":"This is a great way to go.  The ApacheCommons libraries make Java programming a joy."},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1541536621,"post_id":4313525,"comment_id":93249343,"body_markdown":"glancing at the code in lang3, this does `Boolean.TRUE.equals(...)`, etc. Personally didn&#39;t think it was worth the 3rd party dep.","body":"glancing at the code in lang3, this does <code>Boolean.TRUE.equals(...)</code>, etc. Personally didn&#39;t think it was worth the 3rd party dep."},{"owner":{"account_id":4541793,"reputation":26874,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1550581653,"post_id":4313525,"comment_id":96314108,"body_markdown":"@xenoterracide not if you just want to avoid `Boolean.TRUE.equals(myValue)` but if you&#39;re already using the Apache Commons library for other stuff, then why not take advantage of it even more?","body":"@xenoterracide not if you just want to avoid <code>Boolean.TRUE.equals(myValue)</code> but if you&#39;re already using the Apache Commons library for other stuff, then why not take advantage of it even more?"}],"tags":[],"owner":{"account_id":28934,"reputation":7258,"user_id":77722,"accept_rate":90,"display_name":"Tobias"},"comment_count":3,"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1291118769,"creation_date":1291118769,"answer_id":4313525,"question_id":4313513,"body_markdown":"Use ApacheCommons BooleanUtils.isTrue() or .isFalse()","title":"Boolean != false","body":"<p>Use ApacheCommons BooleanUtils.isTrue() or .isFalse()</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1291118887,"creation_date":1291118887,"answer_id":4313548,"question_id":4313513,"body_markdown":"It will throw a `NullPointerException` ([autounboxing][1] of `null` throws NPE).\r\n\r\nBut that only means that you must not allow a `null` value. Either use a default, or don&#39;t use autounboxing and make a non-null check. Because using a `null` value of a boolean means you have 3, not 2 values. (Better ways of handling it were proposed by Michael and Tobiask)\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html","title":"Boolean != false","body":"<p>It will throw a <code>NullPointerException</code> (<a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html\" rel=\"noreferrer\">autounboxing</a> of <code>null</code> throws NPE).</p>\n\n<p>But that only means that you must not allow a <code>null</code> value. Either use a default, or don't use autounboxing and make a non-null check. Because using a <code>null</code> value of a boolean means you have 3, not 2 values. (Better ways of handling it were proposed by Michael and Tobiask)</p>\n"},{"tags":[],"owner":{"account_id":58153,"reputation":5728,"user_id":2922388,"accept_rate":65,"display_name":"Gopi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1291118891,"creation_date":1291118891,"answer_id":4313550,"question_id":4313513,"body_markdown":"As Boolean will give you an object, you must always check for NULL before working on the object","title":"Boolean != false","body":"<p>As Boolean will give you an object, you must always check for NULL before working on the object</p>\n"},{"comments":[{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":2,"creation_date":1291119346,"post_id":4313559,"comment_id":4684728,"body_markdown":"Or if you want to do something when someBool is `null` as well, `!Boolean.FALSE.equals(someBool)`","body":"Or if you want to do something when someBool is <code>null</code> as well, <code>!Boolean.FALSE.equals(someBool)</code>"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1291120455,"post_id":4313559,"comment_id":4684930,"body_markdown":"@Bart `Boolean.FALSE.equals(null)` will return `false` - your statement does exactly the same as Michael&#39;s answer.","body":"@Bart <code>Boolean.FALSE.equals(null)</code> will return <code>false</code> - your statement does exactly the same as Michael&#39;s answer."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":9,"creation_date":1291120943,"post_id":4313559,"comment_id":4685026,"body_markdown":"@Jesper: Nope. `!Boolean.FALSE.equals(null)` returns `true` while `Boolean.TRUE.equals(null)` returns `false`. However, this does demonstrate nicely that double negations are hard to parse mentally and therefore are better avoided.","body":"@Jesper: Nope. <code>!Boolean.FALSE.equals(null)</code> returns <code>true</code> while <code>Boolean.TRUE.equals(null)</code> returns <code>false</code>. However, this does demonstrate nicely that double negations are hard to parse mentally and therefore are better avoided."},{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":0,"creation_date":1291124272,"post_id":4313559,"comment_id":4685615,"body_markdown":"In my case I have a Boolean doFoo. An error is thrown if doFoo is true and foo is not done, or if doFoo is false and foo is done. If doFoo is null no errors are thrown regardless","body":"In my case I have a Boolean doFoo. An error is thrown if doFoo is true and foo is not done, or if doFoo is false and foo is done. If doFoo is null no errors are thrown regardless"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1291128805,"post_id":4313559,"comment_id":4686523,"body_markdown":"@Michael, @Bart Argh, you&#39;re right, I even tried it out but made a mistake while doing so... sorry.","body":"@Michael, @Bart Argh, you&#39;re right, I even tried it out but made a mistake while doing so... sorry."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":5,"down_vote_count":0,"up_vote_count":127,"is_accepted":false,"score":127,"last_activity_date":1291118934,"creation_date":1291118934,"answer_id":4313559,"question_id":4313513,"body_markdown":"If you want to handle `Boolean` instances as well as primitives and be null-safe, you can use this:\r\n\r\n    if(Boolean.TRUE.equals(someBool))","title":"Boolean != false","body":"<p>If you want to handle <code>Boolean</code> instances as well as primitives and be null-safe, you can use this:</p>\n\n<pre><code>if(Boolean.TRUE.equals(someBool))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1291119007,"creation_date":1291119007,"answer_id":4313569,"question_id":4313513,"body_markdown":"If `someBool` is `Boolean` \r\n\r\n    if (someBull != null &amp;&amp; someBull) {\r\n      //Yeah, true.\r\n    }\r\n\r\nSince Boolean can be `null` make sure you avoid `NullPointerException` by checking for not null.","title":"Boolean != false","body":"<p>If <code>someBool</code> is <code>Boolean</code> </p>\n\n<pre><code>if (someBull != null &amp;&amp; someBull) {\n  //Yeah, true.\n}\n</code></pre>\n\n<p>Since Boolean can be <code>null</code> make sure you avoid <code>NullPointerException</code> by checking for not null.</p>\n"},{"tags":[],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1291119015,"creation_date":1291119015,"answer_id":4313570,"question_id":4313513,"body_markdown":"If its null then you&#39;ll get a NullPointerException","title":"Boolean != false","body":"<p>If its null then you'll get a NullPointerException</p>\n"},{"comments":[{"owner":{"account_id":1052591,"reputation":1052,"user_id":1056109,"accept_rate":100,"display_name":"Chris Parton"},"score":1,"creation_date":1411530797,"post_id":4313575,"comment_id":40732937,"body_markdown":"You can avoid the double negation by saying `Boolean.TRUE.equals(o)`","body":"You can avoid the double negation by saying <code>Boolean.TRUE.equals(o)</code>"},{"owner":{"account_id":182955,"reputation":2403,"user_id":418031,"accept_rate":89,"display_name":"Zavael"},"score":0,"creation_date":1447069729,"post_id":4313575,"comment_id":54991477,"body_markdown":"@ChrisParton no, you can not actualy. See the comments on Michael Borgwardt answer for difference in null case","body":"@ChrisParton no, you can not actualy. See the comments on Michael Borgwardt answer for difference in null case"}],"tags":[],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1291119058,"creation_date":1291119058,"answer_id":4313575,"question_id":4313513,"body_markdown":"I did a little test:\r\n\r\n\r\n\t\tBoolean o = null;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(o ? &quot;yes&quot; : &quot;no&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tSystem.out.println((o != false) ? &quot;yes&quot; : &quot;no&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\nThe output is surprising:\r\n\r\n    java.lang.NullPointerException\r\n    \tat btest.main(btest.java:10)\r\n    java.lang.NullPointerException\r\n    \tat btest.main(btest.java:15)\r\n\r\nThe first NPE is to be expected, because o will be autounboxed (and that fails because it&#39;s null). The second happens for the same reason, but it doesn&#39;t feel natural. Anyway, the solution is to do:\r\n\r\n    System.out.println(!Boolean.FALSE.equals(o) ? &quot;yes&quot; : &quot;no&quot;);","title":"Boolean != false","body":"<p>I did a little test:</p>\n\n<pre><code>    Boolean o = null;\n    try {\n        System.out.println(o ? \"yes\" : \"no\");\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    try {\n        System.out.println((o != false) ? \"yes\" : \"no\");\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>The output is surprising:</p>\n\n<pre><code>java.lang.NullPointerException\n    at btest.main(btest.java:10)\njava.lang.NullPointerException\n    at btest.main(btest.java:15)\n</code></pre>\n\n<p>The first NPE is to be expected, because o will be autounboxed (and that fails because it's null). The second happens for the same reason, but it doesn't feel natural. Anyway, the solution is to do:</p>\n\n<pre><code>System.out.println(!Boolean.FALSE.equals(o) ? \"yes\" : \"no\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":481212,"reputation":6556,"user_id":894885,"accept_rate":88,"display_name":"Samuel Edwin Ward"},"score":2,"creation_date":1320675150,"post_id":4326815,"comment_id":9840603,"body_markdown":"Unfortunately there are other reasons one would want to use Boolean, for instance storing the values a collection of Objects.  In that case you have to deal with the three use cases whether you want them or not.","body":"Unfortunately there are other reasons one would want to use Boolean, for instance storing the values a collection of Objects.  In that case you have to deal with the three use cases whether you want them or not."}],"tags":[],"owner":{"account_id":678144,"reputation":600,"user_id":525655,"display_name":"aksarben"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291222456,"creation_date":1291222456,"answer_id":4326815,"question_id":4313513,"body_markdown":"Good illustrations of the difference between the primitive **boolean** &amp; the object **Boolean**. The former can be only **true** or **false**. The latter can be **true**, **false**, or **unknown/undefined**. (i.e., null). Which you use depends on whether you want to deal with two use cases or three.","title":"Boolean != false","body":"<p>Good illustrations of the difference between the primitive <strong>boolean</strong> &amp; the object <strong>Boolean</strong>. The former can be only <strong>true</strong> or <strong>false</strong>. The latter can be <strong>true</strong>, <strong>false</strong>, or <strong>unknown/undefined</strong>. (i.e., null). Which you use depends on whether you want to deal with two use cases or three.</p>\n"},{"comments":[{"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"score":4,"creation_date":1373635475,"post_id":16769521,"comment_id":25642518,"body_markdown":"This won&#39;t work if I create a Boolean with new, it will work only when [valueOf](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/Integer.java#Integer.valueOf%28int%29) and possibly autoboxing is used `assertThat(new Boolean(true) == Boolean.TRUE, is(true));` this test doesn&#39;t pass...","body":"This won&#39;t work if I create a Boolean with new, it will work only when <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/Integer.java#Integer.valueOf%28int%29\" rel=\"nofollow noreferrer\">valueOf</a> and possibly autoboxing is used <code>assertThat(new Boolean(true) == Boolean.TRUE, is(true));</code> this test doesn&#39;t pass..."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":2,"creation_date":1373640121,"post_id":16769521,"comment_id":25645475,"body_markdown":"@stivlo: I would have though Booleans (and all primitive-representing objects) would have been in some form of pool and considered equals. Thank you for the comment, I learnt something today.","body":"@stivlo: I would have though Booleans (and all primitive-representing objects) would have been in some form of pool and considered equals. Thank you for the comment, I learnt something today."},{"owner":{"account_id":176838,"reputation":1045,"user_id":407782,"display_name":"Dallas"},"score":0,"creation_date":1415897820,"post_id":16769521,"comment_id":42377490,"body_markdown":"use `Boolean.TRUE.equals(myBool)` or `Boolean.FALSE.equals(myBool)` instead.","body":"use <code>Boolean.TRUE.equals(myBool)</code> or <code>Boolean.FALSE.equals(myBool)</code> instead."}],"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1369644678,"creation_date":1369644678,"answer_id":16769521,"question_id":4313513,"body_markdown":"You can however compare a null Boolean with a Boolean instance. For example :\r\n\r\n\tBoolean myBool = null;\r\n\tSystem.out.println(myBool == Boolean.FALSE);\r\n\tSystem.out.println(myBool == Boolean.TRUE);\r\n\r\nprints :\r\n\r\n    false\r\n    false","title":"Boolean != false","body":"<p>You can however compare a null Boolean with a Boolean instance. For example :</p>\n\n<pre><code>Boolean myBool = null;\nSystem.out.println(myBool == Boolean.FALSE);\nSystem.out.println(myBool == Boolean.TRUE);\n</code></pre>\n\n<p>prints :</p>\n\n<pre><code>false\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208983,"reputation":2546,"user_id":459783,"accept_rate":41,"display_name":"Dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502217539,"creation_date":1502215986,"answer_id":45575323,"question_id":4313513,"body_markdown":"It&#39;s old, but `Boolean.valueOf(null)` is `false`, just like `Boolean.valueOf(false)` is `false`.","title":"Boolean != false","body":"<p>It's old, but <code>Boolean.valueOf(null)</code> is <code>false</code>, just like <code>Boolean.valueOf(false)</code> is <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":1651641,"reputation":8505,"user_id":1522117,"display_name":"nickl-"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504312799,"creation_date":1504312799,"answer_id":46009474,"question_id":4313513,"body_markdown":"Actually the Boolean constructor accepts null, returns FALSE and doesn&#39;t throw a NullPointerTantrum. \r\n\r\n     new Boolean(null);\r\n     &lt;false&gt;\r\n\r\n\r\nThis has the added bonus of also giving a thruthy response to the string `&quot;true&quot;` which is not the case for `Boolean.TRUE.equals` but we are more restricted again having only constructors for Strings and Booleans. \r\n\r\nSomething you can overcome with string concatenation, which is also null-proof.\r\n\r\n     new Boolean(&quot;&quot;+null);\r\n     &lt;false&gt;\r\n\r\n     new Boolean(&quot;&quot;+false);\r\n     &lt;false&gt;\r\n\r\n     new Boolean(&quot;&quot;+new Object());\r\n     &lt;false&gt;\r\n\r\n     new Boolean(&quot;&quot;+6);\r\n     &lt;false&gt;\r\n\r\n     new Boolean(&quot;&quot;+new Integer(9));\r\n     &lt;false&gt;\r\n\r\nEnsuring that all the TRUE options, available in java, still remains.\r\n\r\n     new Boolean(&quot;&quot;+true);\r\n     &lt;true&gt;\r\n\r\n     new Boolean(&quot;&quot;+&quot;true&quot;);\r\n     &lt;true&gt;\r\n","title":"Boolean != false","body":"<p>Actually the Boolean constructor accepts null, returns FALSE and doesn't throw a NullPointerTantrum. </p>\n\n<pre><code> new Boolean(null);\n &lt;false&gt;\n</code></pre>\n\n<p>This has the added bonus of also giving a thruthy response to the string <code>\"true\"</code> which is not the case for <code>Boolean.TRUE.equals</code> but we are more restricted again having only constructors for Strings and Booleans. </p>\n\n<p>Something you can overcome with string concatenation, which is also null-proof.</p>\n\n<pre><code> new Boolean(\"\"+null);\n &lt;false&gt;\n\n new Boolean(\"\"+false);\n &lt;false&gt;\n\n new Boolean(\"\"+new Object());\n &lt;false&gt;\n\n new Boolean(\"\"+6);\n &lt;false&gt;\n\n new Boolean(\"\"+new Integer(9));\n &lt;false&gt;\n</code></pre>\n\n<p>Ensuring that all the TRUE options, available in java, still remains.</p>\n\n<pre><code> new Boolean(\"\"+true);\n &lt;true&gt;\n\n new Boolean(\"\"+\"true\");\n &lt;true&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4408231,"reputation":1174,"user_id":3591946,"accept_rate":85,"display_name":"Kohei Nozaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524866289,"creation_date":1524866289,"answer_id":50070804,"question_id":4313513,"body_markdown":"If it&#39;s Java 7+ you can use\r\n\r\n    import java.util.Objects;\r\n\r\nAnd\r\n\r\n    if (Objects.equals(someBool, true))\r\n","title":"Boolean != false","body":"<p>If it's Java 7+ you can use</p>\n\n<pre><code>import java.util.Objects;\n</code></pre>\n\n<p>And</p>\n\n<pre><code>if (Objects.equals(someBool, true))\n</code></pre>\n"}],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49560,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":4313548,"answer_count":12,"score":35,"last_activity_date":1687345754,"creation_date":1291118675,"question_id":4313513,"body_markdown":"In Java, you would usually say that\r\n\r\n`if(someBool != false)`\r\n\r\nis the same as\r\n\r\n`if(someBool)`\r\n\r\nBut what if `someBool` is not of type `boolean` but  `Boolean`, and its value is `null`?","title":"Boolean != false","body":"<p>In Java, you would usually say that</p>\n\n<p><code>if(someBool != false)</code></p>\n\n<p>is the same as</p>\n\n<p><code>if(someBool)</code></p>\n\n<p>But what if <code>someBool</code> is not of type <code>boolean</code> but  <code>Boolean</code>, and its value is <code>null</code>?</p>\n"},{"tags":["java","performance","boolean","nullable"],"answers":[{"comments":[{"owner":{"account_id":2309970,"reputation":2023,"user_id":2028317,"accept_rate":92,"display_name":"Delmon Young"},"score":0,"creation_date":1365634067,"post_id":15937737,"comment_id":22707441,"body_markdown":"So could I do something like: **Boolean hideInNav = parent.getProperties().get(&quot;hideInNav&quot;, false); if(hideInNav != null){ do something } **","body":"So could I do something like: **Boolean hideInNav = parent.getProperties().get(&quot;hideInNav&quot;, false); if(hideInNav != null){ do something } **"},{"owner":{"account_id":1530673,"reputation":3748,"user_id":1427942,"display_name":"Eich"},"score":1,"creation_date":1365634237,"post_id":15937737,"comment_id":22707497,"body_markdown":"Yes, because then `hideInNav` holds a reference to a `Boolean` object and can be `null` (no reference assigned). Therefor you can check if the reference is `null`.","body":"Yes, because then <code>hideInNav</code> holds a reference to a <code>Boolean</code> object and can be <code>null</code> (no reference assigned). Therefor you can check if the reference is <code>null</code>."},{"owner":{"account_id":1714996,"reputation":1970,"user_id":1572286,"display_name":"Youness"},"score":1,"creation_date":1552074369,"post_id":15937737,"comment_id":96887565,"body_markdown":"BooleanUtils.isTrue(java.lang.Boolean bool) is what I use to check its status in the condition as Boolean can be null.  https://commons.apache.org/proper/commons-lang/javadocs/api-2.4/org/apache/commons/lang/BooleanUtils.html","body":"BooleanUtils.isTrue(java.lang.Boolean bool) is what I use to check its status in the condition as Boolean can be null.  <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.4/org/apache/commons/lang/BooleanUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-2.4/org/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1530673,"reputation":3748,"user_id":1427942,"display_name":"Eich"},"score":1,"creation_date":1552564803,"post_id":15937737,"comment_id":97062888,"body_markdown":"Without apache commons:\n```Boolean.TRUE.equals(xxx)```","body":"Without apache commons: <code>Boolean.TRUE.equals(xxx)</code>"}],"tags":[],"owner":{"account_id":1530673,"reputation":3748,"user_id":1427942,"display_name":"Eich"},"comment_count":4,"down_vote_count":1,"up_vote_count":151,"is_accepted":true,"score":150,"last_activity_date":1476111386,"creation_date":1365633439,"answer_id":15937737,"question_id":15937715,"body_markdown":"`boolean` can only be `true` or `false` because it&#39;s a [primitive datatype](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) (+ a `boolean` variables default value is `false`). You can use the class `Boolean` instead if you want to use `null` values. Boolean is a reference type, that&#39;s the reason you can assign `null` to a Boolean &quot;variable&quot;. Example:\r\n\r\n    Boolean testvar = null;\r\n    if (testvar == null) { ...}","title":"Java check if boolean is null","body":"<p><code>boolean</code> can only be <code>true</code> or <code>false</code> because it's a <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">primitive datatype</a> (+ a <code>boolean</code> variables default value is <code>false</code>). You can use the class <code>Boolean</code> instead if you want to use <code>null</code> values. Boolean is a reference type, that's the reason you can assign <code>null</code> to a Boolean \"variable\". Example:</p>\n\n<pre><code>Boolean testvar = null;\nif (testvar == null) { ...}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9075275,"reputation":605,"user_id":6920453,"display_name":"Sajid khan"},"score":1,"creation_date":1552739146,"post_id":15937739,"comment_id":97130787,"body_markdown":"Correct Explanation, Thanks.","body":"Correct Explanation, Thanks."},{"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"score":0,"creation_date":1683238805,"post_id":15937739,"comment_id":134340603,"body_markdown":"for me this is not correct, boolean  is giving null","body":"for me this is not correct, boolean  is giving null"},{"owner":{"account_id":5672288,"reputation":294,"user_id":4486592,"display_name":"Guilherme Taffarel Bergamin"},"score":0,"creation_date":1698676029,"post_id":15937739,"comment_id":136431866,"body_markdown":"@صليعليمحمد-AtefFarouk, then you are either not working with Java or you mistook `Boolean` for `boolean`.","body":"@صليعليمحمد-AtefFarouk, then you are either not working with Java or you mistook <code>Boolean</code> for <code>boolean</code>."}],"tags":[],"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"comment_count":3,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1677079405,"creation_date":1365633445,"answer_id":15937739,"question_id":15937715,"body_markdown":" - A `boolean` cannot be `null` in Java.\r\n - A `Boolean`, however, can be `null`.\r\n - If a `boolean` is not assigned a value (say a *member* of a class)\r\n   then it will be `false` by default.","title":"Java check if boolean is null","body":"<ul>\n<li>A <code>boolean</code> cannot be <code>null</code> in Java.</li>\n<li>A <code>Boolean</code>, however, can be <code>null</code>.</li>\n<li>If a <code>boolean</code> is not assigned a value (say a <em>member</em> of a class)\nthen it will be <code>false</code> by default.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"score":0,"creation_date":1365672592,"post_id":15937764,"comment_id":22719932,"body_markdown":"Agreed. Not the best time for spelling mistakes! Swiftly editing :)","body":"Agreed. Not the best time for spelling mistakes! Swiftly editing :)"}],"tags":[],"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365672600,"creation_date":1365633551,"answer_id":15937764,"question_id":15937715,"body_markdown":"`null` is a value assigned to a reference type. `null` is a reserved value, indicating that a reference does not resemble an instance of an object.\r\n\r\nA `boolean` is not an instance of an Object. It is a primitive type, like `int` and `float`. In the same way that: `int x` has a value of `0`, `boolean x` has a value of `false`.","title":"Java check if boolean is null","body":"<p><code>null</code> is a value assigned to a reference type. <code>null</code> is a reserved value, indicating that a reference does not resemble an instance of an object.</p>\n\n<p>A <code>boolean</code> is not an instance of an Object. It is a primitive type, like <code>int</code> and <code>float</code>. In the same way that: <code>int x</code> has a value of <code>0</code>, <code>boolean x</code> has a value of <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":1890809,"reputation":1104,"user_id":1708941,"display_name":"Kenogu Labz"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1365633572,"creation_date":1365633572,"answer_id":15937768,"question_id":15937715,"body_markdown":"`boolean` is a primitive type, and therefore can not be null.\r\n\r\nIts boxed type, `Boolean`, can be null.\r\n\r\nThe function is probably returning a `Boolean` as opposed to a `boolean`, so assigning the result to a `Boolean`-type variable will allow you to test for nullity.","title":"Java check if boolean is null","body":"<p><code>boolean</code> is a primitive type, and therefore can not be null.</p>\n\n<p>Its boxed type, <code>Boolean</code>, can be null.</p>\n\n<p>The function is probably returning a <code>Boolean</code> as opposed to a <code>boolean</code>, so assigning the result to a <code>Boolean</code>-type variable will allow you to test for nullity.</p>\n"},{"tags":[],"owner":{"account_id":1310033,"reputation":2369,"user_id":1258206,"accept_rate":50,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1365634198,"creation_date":1365633604,"answer_id":15937771,"question_id":15937715,"body_markdown":"In Java, `null` only applies to object references; since `boolean` is a primitive type, it cannot be assigned `null`.\r\n\r\nIt&#39;s hard to get context from your example, but I&#39;m guessing that if `hideInNav` is not in the object returned by `getProperties()`, the (default value?) you&#39;ve indicated will be `false`.  I suspect this is the bug that you&#39;re seeing, as `false` is not equal to `null`, so `hideNavigation` is getting the empty string?\r\n\r\nYou might get some better answers with a bit more context to your code sample.","title":"Java check if boolean is null","body":"<p>In Java, <code>null</code> only applies to object references; since <code>boolean</code> is a primitive type, it cannot be assigned <code>null</code>.</p>\n\n<p>It's hard to get context from your example, but I'm guessing that if <code>hideInNav</code> is not in the object returned by <code>getProperties()</code>, the (default value?) you've indicated will be <code>false</code>.  I suspect this is the bug that you're seeing, as <code>false</code> is not equal to <code>null</code>, so <code>hideNavigation</code> is getting the empty string?</p>\n\n<p>You might get some better answers with a bit more context to your code sample.</p>\n"},{"comments":[{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":2,"creation_date":1372093799,"post_id":15937867,"comment_id":25053396,"body_markdown":"The capitalization of `Boolean` in “A `Boolean` which…” is unfortunate.  A variable of type `boolean` can only hold `true` and `false`, but a variable of type `Boolean` holds a `Boolean` object, or `null`.","body":"The capitalization of <code>Boolean</code> in “A <code>Boolean</code> which…” is unfortunate.  A variable of type <code>boolean</code> can only hold <code>true</code> and <code>false</code>, but a variable of type <code>Boolean</code> holds a <code>Boolean</code> object, or <code>null</code>."}],"tags":[],"owner":{"account_id":2584301,"reputation":1317,"user_id":2240355,"display_name":"Joban"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1376720108,"creation_date":1365634095,"answer_id":15937867,"question_id":15937715,"body_markdown":"The only thing that can be a `null` is a non-primivite.\n\nA `boolean` which can only hold `TRUE` or `FALSE` is a primitive. The `TRUE`/`FALSE` in memory are actually numbers (`0` and `1`)\n\n&gt; 0 = FALSE\n&gt;\n&gt; 1 = TRUE\n\nSo when you instantiate an object it will be null\n`String str; // will equal null`\n\nOn the other hand if you instaniate a primitive it will be assigned to 0 default.\n\n`boolean isTrue; // will be 0`\n\n`int i; // will be 0`","title":"Java check if boolean is null","body":"<p>The only thing that can be a <code>null</code> is a non-primivite.</p>\n<p>A <code>boolean</code> which can only hold <code>TRUE</code> or <code>FALSE</code> is a primitive. The <code>TRUE</code>/<code>FALSE</code> in memory are actually numbers (<code>0</code> and <code>1</code>)</p>\n<blockquote>\n<p>0 = FALSE</p>\n<p>1 = TRUE</p>\n</blockquote>\n<p>So when you instantiate an object it will be null\n<code>String str; // will equal null</code></p>\n<p>On the other hand if you instaniate a primitive it will be assigned to 0 default.</p>\n<p><code>boolean isTrue; // will be 0</code></p>\n<p><code>int i; // will be 0</code></p>\n"},{"tags":[],"owner":{"account_id":2859365,"reputation":81,"user_id":2454920,"display_name":"Nikunj Trivedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593423546,"creation_date":1593422838,"answer_id":62635115,"question_id":15937715,"body_markdown":"**boolean** is a primitive data type in Java and **primitive data types can not be null like other primitives int, float etc**, they should be containing default values if not assigned.\r\n\r\nIn Java, only objects can assigned to null, it means the corresponding object has no reference and so does not contain any representation in memory.\r\n\r\nHence If you want to work with object as *null* , you should be using Boolean class which wraps ***a primitive boolean type value*** inside its object.\r\n\r\n&gt; These are called wrapper classes in Java\r\n\r\nFor Example:\r\n\r\n    Boolean bool = readValue(...); // Read Your Value\r\n    if (bool  == null) { do This ...}","title":"Java check if boolean is null","body":"<p><strong>boolean</strong> is a primitive data type in Java and <strong>primitive data types can not be null like other primitives int, float etc</strong>, they should be containing default values if not assigned.</p>\n<p>In Java, only objects can assigned to null, it means the corresponding object has no reference and so does not contain any representation in memory.</p>\n<p>Hence If you want to work with object as <em>null</em> , you should be using Boolean class which wraps <em><strong>a primitive boolean type value</strong></em> inside its object.</p>\n<blockquote>\n<p>These are called wrapper classes in Java</p>\n</blockquote>\n<p>For Example:</p>\n<pre><code>Boolean bool = readValue(...); // Read Your Value\nif (bool  == null) { do This ...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3368179,"reputation":3257,"user_id":2828176,"accept_rate":83,"display_name":"Ferdous Wahid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687345690,"creation_date":1687345690,"answer_id":76522631,"question_id":15937715,"body_markdown":"You can use `Objects.equals()` from `java.util.Objects`\r\n\r\n    if(Objects.equals(value1, value1){\r\n     //your code\r\n    }\r\n\r\nIn documentation it said, this will check null and value as well. \r\n\r\nImplementation from Java doc:\r\n\r\n    Returns true if the arguments are equal to each other and false otherwise. \r\n    Consequently, if both arguments are null, true is returned and if exactly one \r\n    argument is null, false is returned. Otherwise, equality is determined by using \r\n    the equals method of the first argument.\r\n\r\n    Params: a – an object \r\n            b – an object to be compared with a for equality\r\n    Returns: true if the arguments are equal to each other and false otherwise\r\n    See Also: Object.equals(Object)\r\n    \r\n    public static boolean equals(Object a, Object b) {\r\n        return (a == b) || (a != null &amp;&amp; a.equals(b));\r\n    }","title":"Java check if boolean is null","body":"<p>You can use <code>Objects.equals()</code> from <code>java.util.Objects</code></p>\n<pre><code>if(Objects.equals(value1, value1){\n //your code\n}\n</code></pre>\n<p>In documentation it said, this will check null and value as well.</p>\n<p>Implementation from Java doc:</p>\n<pre><code>Returns true if the arguments are equal to each other and false otherwise. \nConsequently, if both arguments are null, true is returned and if exactly one \nargument is null, false is returned. Otherwise, equality is determined by using \nthe equals method of the first argument.\n\nParams: a – an object \n        b – an object to be compared with a for equality\nReturns: true if the arguments are equal to each other and false otherwise\nSee Also: Object.equals(Object)\n\npublic static boolean equals(Object a, Object b) {\n    return (a == b) || (a != null &amp;&amp; a.equals(b));\n}\n</code></pre>\n"}],"owner":{"account_id":2309970,"reputation":2023,"user_id":2028317,"accept_rate":92,"display_name":"Delmon Young"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320253,"favorite_count":0,"down_vote_count":3,"up_vote_count":102,"accepted_answer_id":15937737,"answer_count":8,"score":99,"last_activity_date":1687345690,"creation_date":1365633341,"question_id":15937715,"body_markdown":"How do you check if a boolean is null or not? So if I know &quot;hideInNav&quot; is null. How do I stop \r\nit from further executing? Something like the below doesn&#39;t seem to work but why? \r\n\r\n    boolean hideInNav = parent.getProperties().get(&quot;hideInNav&quot;, false);\r\n    String hideNavigation = hideInNav != null ? hideInNav : &quot;&quot;;\r\n\r\n","title":"Java check if boolean is null","body":"<p>How do you check if a boolean is null or not? So if I know \"hideInNav\" is null. How do I stop \nit from further executing? Something like the below doesn't seem to work but why? </p>\n\n<pre><code>boolean hideInNav = parent.getProperties().get(\"hideInNav\", false);\nString hideNavigation = hideInNav != null ? hideInNav : \"\";\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1543497354,"post_id":53539728,"comment_id":93946803,"body_markdown":"The pattern in `@JsonFormat` seems to be a `SimpleDateFormat` pattern which indicates said class is being used internally. `SimpleDateFormat` has a method to set it to non-lenient (`setLenient(false)`) to make it throw a `java.text.ParseException` for a date like this. So the question would be: how do you tell `@JsonFormat` to use a non-lenient format here?","body":"The pattern in <code>@JsonFormat</code> seems to be a <code>SimpleDateFormat</code> pattern which indicates said class is being used internally. <code>SimpleDateFormat</code> has a method to set it to non-lenient (<code>setLenient(false)</code>) to make it throw a <code>java.text.ParseException</code> for a date like this. So the question would be: how do you tell <code>@JsonFormat</code> to use a non-lenient format here?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1543498014,"post_id":53539728,"comment_id":93947194,"body_markdown":"`@JsonFormat` already seems to have the `lenient` property as of Jackson 2.9.0: http://static.javadoc.io/com.fasterxml.jackson.core/jackson-annotations/2.9.0/com/fasterxml/jackson/annotation/JsonFormat.html - so `@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM/dd/yyyy&quot;, lenient = false)` should do the trick, provided that you&#39;re using Jackson 2.9.0 or higher.","body":"<code>@JsonFormat</code> already seems to have the <code>lenient</code> property as of Jackson 2.9.0: <a href=\"http://static.javadoc.io/com.fasterxml.jackson.core/jackson-annotations/2.9.0/com/fasterxml/jackson/annotation/JsonFormat.html\" rel=\"nofollow noreferrer\">static.javadoc.io/com.fasterxml.jackson.core/&hellip;</a> - so <code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM&#47;dd&#47;yyyy&quot;, lenient = false)</code> should do the trick, provided that you&#39;re using Jackson 2.9.0 or higher."}],"answers":[{"tags":[],"owner":{"account_id":5384313,"reputation":2155,"user_id":4288730,"display_name":"hasnae"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1543497729,"creation_date":1543497729,"answer_id":53540029,"question_id":53539728,"body_markdown":"You can use a custom deserializer :\r\n\r\n    public class DateDeSerializer extends StdDeserializer&lt;Date&gt; {\r\n    \r\n        public DateDeSerializer() {\r\n            super(Date.class);\r\n        }\r\n    \r\n        @Override\r\n        public Date deserialize(JsonParser p, DeserializationContext ctxt)\r\n            throws IOException, JsonProcessingException {\r\n            String value = p.readValueAs(String.class);\r\n            try {\r\n                return new SimpleDateFormat(&quot;MM/dd/yyyy&quot;).parse(value);\r\n            } catch (DateTimeParseException e) {\r\n                //throw an error\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n and use like :\r\n\r\n\r\n    @JsonDeserialize(using = DateDeSerializer .class)\r\n     private Date startDate;","title":"How to validate date in the format &quot;MM/dd/yyyy&quot; in Spring Boot?","body":"<p>You can use a custom deserializer :</p>\n\n<pre><code>public class DateDeSerializer extends StdDeserializer&lt;Date&gt; {\n\n    public DateDeSerializer() {\n        super(Date.class);\n    }\n\n    @Override\n    public Date deserialize(JsonParser p, DeserializationContext ctxt)\n        throws IOException, JsonProcessingException {\n        String value = p.readValueAs(String.class);\n        try {\n            return new SimpleDateFormat(\"MM/dd/yyyy\").parse(value);\n        } catch (DateTimeParseException e) {\n            //throw an error\n        }\n    }\n\n}\n</code></pre>\n\n<p>and use like :</p>\n\n<pre><code>@JsonDeserialize(using = DateDeSerializer .class)\n private Date startDate;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":204450,"reputation":11422,"user_id":452680,"accept_rate":91,"display_name":"Saravanan"},"score":2,"creation_date":1543497953,"post_id":53540043,"comment_id":93947156,"body_markdown":"In this case how to show our custom error message for invalid dates..?","body":"In this case how to show our custom error message for invalid dates..?"},{"owner":{"account_id":11913998,"reputation":20337,"user_id":8718377,"display_name":"veben"},"score":0,"creation_date":1543498415,"post_id":53540043,"comment_id":93947444,"body_markdown":"@Saravanan, you can use typeMismatch, but it&#39;s not ideal. See http://jtuts.com/2014/11/09/validating-dates-in-spring-form-objects/","body":"@Saravanan, you can use typeMismatch, but it&#39;s not ideal. See <a href=\"http://jtuts.com/2014/11/09/validating-dates-in-spring-form-objects/\" rel=\"nofollow noreferrer\">jtuts.com/2014/11/09/validating-dates-in-spring-form-objects</a>"},{"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"score":1,"creation_date":1633374679,"post_id":53540043,"comment_id":122738209,"body_markdown":"This is perfect","body":"This is perfect"}],"tags":[],"owner":{"account_id":11913998,"reputation":20337,"user_id":8718377,"display_name":"veben"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1543497770,"creation_date":1543497770,"answer_id":53540043,"question_id":53539728,"body_markdown":"You can use something like that:\r\n\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\r\n    @JsonFormat(pattern = &quot;MM/dd/yyyy&quot;)\r\n    private LocalDate startDate;\r\n\r\nBut I don&#39;t know if it can work with class `Date`","title":"How to validate date in the format &quot;MM/dd/yyyy&quot; in Spring Boot?","body":"<p>You can use something like that:</p>\n\n<pre><code>@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\n@JsonFormat(pattern = \"MM/dd/yyyy\")\nprivate LocalDate startDate;\n</code></pre>\n\n<p>But I don't know if it can work with class <code>Date</code></p>\n"},{"comments":[{"owner":{"account_id":204450,"reputation":11422,"user_id":452680,"accept_rate":91,"display_name":"Saravanan"},"score":0,"creation_date":1543499818,"post_id":53540453,"comment_id":93948284,"body_markdown":"I tried your approach.. but it is showing @CustomDateValidator is not an annotation type.","body":"I tried your approach.. but it is showing @CustomDateValidator is not an annotation type."},{"owner":{"account_id":3928715,"reputation":442,"user_id":3248142,"display_name":"G.Noulas"},"score":0,"creation_date":1543500352,"post_id":53540453,"comment_id":93948587,"body_markdown":"check here for details https://www.baeldung.com/spring-mvc-custom-validator","body":"check here for details <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-custom-validator</a>"},{"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"score":0,"creation_date":1675617921,"post_id":53540453,"comment_id":132963536,"body_markdown":"I&#39;m almost sure that it should be `@CustomDateConstraint private LocalDate startDate;` instead of `@CustomDateValidator private LocalDate startDate;` . Already posted an update to your post @G.Noulas :-)","body":"I&#39;m almost sure that it should be <code>@CustomDateConstraint private LocalDate startDate;</code> instead of <code>@CustomDateValidator private LocalDate startDate;</code> . Already posted an update to your post @G.Noulas :-)"}],"tags":[],"owner":{"account_id":3928715,"reputation":442,"user_id":3248142,"display_name":"G.Noulas"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543499080,"creation_date":1543499080,"answer_id":53540453,"question_id":53539728,"body_markdown":"    @CustomDateValidator\r\n    private LocalDate startDate;\r\n    \r\n    @Documented\r\n    @Constraint(validatedBy = CustomDateValidator.class)\r\n    @Target( { ElementType.METHOD, ElementType.FIELD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface CustomDateConstraint {\r\n        String message() default &quot;Invalid date format&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n    \r\n    public class CustomDateValidator implements\r\n      ConstraintValidator&lt;CustomDateConstraint, LocalDate&gt; {\r\n     \r\n    \tprivate static final String DATE_PATTERN = &quot;MM/dd/yyyy&quot;;\r\n     \r\n        @Override\r\n        public void initialize(CustomDateConstraint customDate) {\r\n        }\r\n     \r\n        @Override\r\n        public boolean isValid(LocalDate customDateField,\r\n          ConstraintValidatorContext cxt) {\r\n    \t\t  SimpleDateFormat sdf = new SimpleDateFormat(DATE_PATTERN);\r\n    \t\t   try\r\n            {\r\n    \t\t\tsdf.setLenient(false);\r\n                Date d = sdf.parse(customDateField);\r\n                return true;\r\n            }\r\n            catch (ParseException e)\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n     \r\n    }","title":"How to validate date in the format &quot;MM/dd/yyyy&quot; in Spring Boot?","body":"<pre><code>@CustomDateValidator\nprivate LocalDate startDate;\n\n@Documented\n@Constraint(validatedBy = CustomDateValidator.class)\n@Target( { ElementType.METHOD, ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomDateConstraint {\n    String message() default \"Invalid date format\";\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class CustomDateValidator implements\n  ConstraintValidator&lt;CustomDateConstraint, LocalDate&gt; {\n\n    private static final String DATE_PATTERN = \"MM/dd/yyyy\";\n\n    @Override\n    public void initialize(CustomDateConstraint customDate) {\n    }\n\n    @Override\n    public boolean isValid(LocalDate customDateField,\n      ConstraintValidatorContext cxt) {\n          SimpleDateFormat sdf = new SimpleDateFormat(DATE_PATTERN);\n           try\n        {\n            sdf.setLenient(false);\n            Date d = sdf.parse(customDateField);\n            return true;\n        }\n        catch (ParseException e)\n        {\n            return false;\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6542879,"reputation":369,"user_id":5059727,"accept_rate":60,"display_name":"Mayank Jain"},"score":1,"creation_date":1687268067,"post_id":76511562,"comment_id":134910643,"body_markdown":"This will not work as Pattern annotation is not applicable on field with data type &quot;Date&quot;. \nBy using pattern annotation, you&#39;ll get exception &quot;javax.validation.UnexpectedTypeException&quot;","body":"This will not work as Pattern annotation is not applicable on field with data type &quot;Date&quot;.  By using pattern annotation, you&#39;ll get exception &quot;javax.validation.UnexpectedTypeException&quot;"}],"tags":[],"owner":{"account_id":6164499,"reputation":475,"user_id":4805256,"display_name":"arjun kumar"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1687345635,"creation_date":1687237860,"answer_id":76511562,"question_id":53539728,"body_markdown":"Try using below\r\n\r\n&gt; @Pattern(regexp = &quot;\\\\d{4}-\\\\d{2}-\\\\d{2}&quot;, message = &quot;Invalid date\r\n&gt; format. The expected format is yyyy-MM-dd&quot;)\r\n\r\nDo the change in regex and message according to expectation.\r\nNote:  this is applicable for String data type only. so if you can convert it to String, it would be easy for you to manage such validation.","title":"How to validate date in the format &quot;MM/dd/yyyy&quot; in Spring Boot?","body":"<p>Try using below</p>\n<blockquote>\n<p>@Pattern(regexp = &quot;\\d{4}-\\d{2}-\\d{2}&quot;, message = &quot;Invalid date\nformat. The expected format is yyyy-MM-dd&quot;)</p>\n</blockquote>\n<p>Do the change in regex and message according to expectation.\nNote:  this is applicable for String data type only. so if you can convert it to String, it would be easy for you to manage such validation.</p>\n"}],"owner":{"account_id":204450,"reputation":11422,"user_id":452680,"accept_rate":91,"display_name":"Saravanan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47831,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1687345635,"creation_date":1543496752,"question_id":53539728,"body_markdown":"I need to validate the given date has valid month, date and year. Basically, date format would be `MM/dd/yyyy`. But date coming like `13/40/2018` then I need to throw an error message like:\r\n\r\n&gt; invalid start date\r\n\r\nIs there any annotation available in spring to get this done?\r\n\r\n    @NotNull(message = ExceptionConstants.INVALID_START_DATE)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM/dd/yyyy&quot;)\r\n    private Date startDate;","title":"How to validate date in the format &quot;MM/dd/yyyy&quot; in Spring Boot?","body":"<p>I need to validate the given date has valid month, date and year. Basically, date format would be <code>MM/dd/yyyy</code>. But date coming like <code>13/40/2018</code> then I need to throw an error message like:</p>\n<blockquote>\n<p>invalid start date</p>\n</blockquote>\n<p>Is there any annotation available in spring to get this done?</p>\n<pre><code>@NotNull(message = ExceptionConstants.INVALID_START_DATE)\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM/dd/yyyy&quot;)\nprivate Date startDate;\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","intellij-idea"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1687344774,"post_id":76522468,"comment_id":134922804,"body_markdown":"Do you use Spring?","body":"Do you use Spring?"},{"owner":{"account_id":26147565,"reputation":81,"user_id":19835993,"display_name":"Michael Sparrow"},"score":0,"creation_date":1687344907,"post_id":76522468,"comment_id":134922823,"body_markdown":"Yes. I&#39;m using Spring Boot to be exact.","body":"Yes. I&#39;m using Spring Boot to be exact."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1687344919,"post_id":76522468,"comment_id":134922825,"body_markdown":"please share the complete stacktrace","body":"please share the complete stacktrace"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1687345233,"post_id":76522468,"comment_id":134922900,"body_markdown":"The parameter oldValue and newValue should be primitive types, not objects","body":"The parameter oldValue and newValue should be primitive types, not objects"},{"owner":{"account_id":26147565,"reputation":81,"user_id":19835993,"display_name":"Michael Sparrow"},"score":0,"creation_date":1687345513,"post_id":76522468,"comment_id":134922966,"body_markdown":"That indeed did the trick. Thanks. I saw your comment after posting the answer &#128077;","body":"That indeed did the trick. Thanks. I saw your comment after posting the answer 👍"}],"answers":[{"tags":[],"owner":{"account_id":26147565,"reputation":81,"user_id":19835993,"display_name":"Michael Sparrow"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687345445,"creation_date":1687345445,"answer_id":76522587,"question_id":76522468,"body_markdown":"**I&#39;ve got the solution.** The problem occured after the update of Spring Boot to the version 3. It&#39;s no longer possible to use the self-made java entities in native queries - **Customer** in this case.\r\n\r\nThe solution in this case was to replace the Customer entity with just the id of it.","title":"Could not resolve NativeQuery parameter type | Spring Boot update version 3","body":"<p><strong>I've got the solution.</strong> The problem occured after the update of Spring Boot to the version 3. It's no longer possible to use the self-made java entities in native queries - <strong>Customer</strong> in this case.</p>\n<p>The solution in this case was to replace the Customer entity with just the id of it.</p>\n"}],"owner":{"account_id":26147565,"reputation":81,"user_id":19835993,"display_name":"Michael Sparrow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76522587,"answer_count":1,"score":1,"last_activity_date":1687345554,"creation_date":1687344701,"question_id":76522468,"body_markdown":"I&#39;m trying to query a *PostgreSQL* database using a native query in *Hibernate*. Unfortunately whenever I try I get the error: **Could not resolve NativeQuery parameter type : org.hibernate.query.internal.QueryParameterPositionalImpl@22**.\r\n\r\nThat&#39;s the query:\r\n```\r\n@Modifying(clearAutomatically = true, flushAutomatically = true)\r\n@Query(value = &quot;update table_name set column1=?3 where column1=?2 and parameter=?1&quot;, nativeQuery = true)\r\nint myQuery(String parameter, Customer oldValue, Customer newValue);\r\n```\r\n\r\nIs it dependent on the SQL-Dialect settings in Intellij? I&#39;ve set it to *Generic SQL*. Has anyone stumbled upon this problem before? Thanks in advice :)","title":"Could not resolve NativeQuery parameter type | Spring Boot update version 3","body":"<p>I'm trying to query a <em>PostgreSQL</em> database using a native query in <em>Hibernate</em>. Unfortunately whenever I try I get the error: <strong>Could not resolve NativeQuery parameter type : org.hibernate.query.internal.QueryParameterPositionalImpl@22</strong>.</p>\n<p>That's the query:</p>\n<pre><code>@Modifying(clearAutomatically = true, flushAutomatically = true)\n@Query(value = &quot;update table_name set column1=?3 where column1=?2 and parameter=?1&quot;, nativeQuery = true)\nint myQuery(String parameter, Customer oldValue, Customer newValue);\n</code></pre>\n<p>Is it dependent on the SQL-Dialect settings in Intellij? I've set it to <em>Generic SQL</em>. Has anyone stumbled upon this problem before? Thanks in advice :)</p>\n"},{"tags":["java","lucene"],"answers":[{"comments":[{"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"score":0,"creation_date":1659978015,"post_id":44855770,"comment_id":129418605,"body_markdown":"what about atomicity of the operation? with two statements it&#39;s possible to be left in the incomplete state so now error handling is on you :(","body":"what about atomicity of the operation? with two statements it&#39;s possible to be left in the incomplete state so now error handling is on you :("},{"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"score":0,"creation_date":1681092663,"post_id":44855770,"comment_id":133998146,"body_markdown":"is there a way to update a doc by multiple terms? as in i have a composite primary key in the index","body":"is there a way to update a doc by multiple terms? as in i have a composite primary key in the index"}],"tags":[],"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498863319,"creation_date":1498863319,"answer_id":44855770,"question_id":44853827,"body_markdown":"All that `updateDocument` does is delete documents that contain the term, and then add the new document. So, you can just use `deleteDocuments`, which you can pass a Query to instead, followed by `addDocument` to accomplish the same thing.\r\n\r\n    writer.deleteDocuments(LongPoint.newExactQuery(&quot;foo_number&quot;, 1000));\r\n    writer.addDocument(newDoc);","title":"Lucene - Update documents using LongPoint Field as Term in writer.updateDocuments()","body":"<p>All that <code>updateDocument</code> does is delete documents that contain the term, and then add the new document. So, you can just use <code>deleteDocuments</code>, which you can pass a Query to instead, followed by <code>addDocument</code> to accomplish the same thing.</p>\n\n<pre><code>writer.deleteDocuments(LongPoint.newExactQuery(\"foo_number\", 1000));\nwriter.addDocument(newDoc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18287082,"reputation":1,"user_id":13314733,"display_name":"Hrozhek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687345421,"creation_date":1687345421,"answer_id":76522586,"question_id":44853827,"body_markdown":"This problem should be addressed in the nearest Lucene release (9.7.0 I guess). There were a pull request that added an updateDocuments(Query, Iterable) method to IndexWriter.","title":"Lucene - Update documents using LongPoint Field as Term in writer.updateDocuments()","body":"<p>This problem should be addressed in the nearest Lucene release (9.7.0 I guess). There were a pull request that added an updateDocuments(Query, Iterable) method to IndexWriter.</p>\n"}],"owner":{"account_id":2542455,"reputation":119,"user_id":2207975,"accept_rate":0,"display_name":"pandaren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687345421,"creation_date":1498851734,"question_id":44853827,"body_markdown":"I am trying to update a document in my index using writer.update(Term t, Document doc) method.\r\nUpdate is successful if I specify a TextField in Term, but fails when I supply a LongPoint in Term\r\n&lt;br&gt;\r\nA sample of my code:&lt;br&gt;\r\n\r\n    package com.luceneserver.core;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.apache.lucene.document.Document;\r\n    import org.apache.lucene.document.Field.Store;\r\n    import org.apache.lucene.document.LongPoint;\r\n    import org.apache.lucene.document.StoredField;\r\n    import org.apache.lucene.document.TextField;\r\n    import org.apache.lucene.index.DirectoryReader;\r\n    import org.apache.lucene.index.IndexReader;\r\n    import org.apache.lucene.index.IndexWriter;\r\n    import org.apache.lucene.index.IndexWriterConfig;\r\n    import org.apache.lucene.index.Term;\r\n    import org.apache.lucene.search.IndexSearcher;\r\n    import org.apache.lucene.search.MatchAllDocsQuery;\r\n    import org.apache.lucene.search.ScoreDoc;\r\n    import org.apache.lucene.store.RAMDirectory;\r\n    \r\n    public class SampleDocUpdates {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tIndexWriter writer = new IndexWriter(new RAMDirectory(), new IndexWriterConfig());\r\n    \t\tIndexReader reader;\r\n    \t\tIndexSearcher searcher;\r\n    \t\t\r\n    \t\t\r\n    \t\t// first document in the index\r\n    \t\tDocument initialDoc = new Document();\r\n    \t\t// adding a text field\r\n    \t\tinitialDoc.add(new TextField(&quot;foo_text&quot;, &quot;abc&quot;, Store.YES));\r\n    \t\t// adding a numeric field\r\n    \t\tinitialDoc.add(new LongPoint(&quot;foo_number&quot;, 1000));\r\n    \t\t// adding stored field to display hits\r\n    \t\tinitialDoc.add(new StoredField(&quot;foo_number&quot;, 1000));\r\n    \t\t\r\n    \t\t\r\n    \t\twriter.addDocument(initialDoc);\r\n    \t\t\r\n    \t\t\r\n    \t\t// second document in index which should update the first one..\r\n    \t\tDocument newDoc = new Document();\r\n    \t\tnewDoc.add(new TextField(&quot;foo_text&quot;, &quot;def&quot;, Store.YES));\r\n    \t\tnewDoc.add(new LongPoint(&quot;foo_number&quot;, 2000));\r\n    \t\tnewDoc.add(new StoredField(&quot;foo_number&quot;, 2000));\r\n    \t\t\r\n    \t\t\r\n    \t\t// update doc with foo_text:abc with the newDoc instance.\r\n    \t\twriter.updateDocument(new Term(&quot;foo_text&quot;, &quot;abc&quot;), newDoc);\r\n    \t\t\r\n    \t\treader = DirectoryReader.open(writer);\r\n    \t\tsearcher = new IndexSearcher(reader);\r\n    \t\t\r\n    \t\tScoreDoc[] scoreDocs = searcher.search(new MatchAllDocsQuery(), 1000).scoreDocs;\r\n    \t\t\r\n    \t\tfor (ScoreDoc scoreDoc : scoreDocs) {\r\n    \t\t\tSystem.out.println(searcher.doc(scoreDoc.doc).get(&quot;foo_text&quot;)+&quot;\\t&quot;+searcher.doc(scoreDoc.doc).get(&quot;foo_number&quot;));\r\n    \t\t\t//&#39;def\t2000&#39;\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThis code successfully updates the initial document with second document...  \r\nbut if I use \r\n&gt;writer.updateDocument(new Term(&quot;foo_number&quot;, 1000), newDoc);  \r\n\r\nIt fails... My requirement is to update documents by uniquely identifying the documents based on the LongPoint field..  \r\nThe documentation (lucene 6.3.0) has only updateDocuments() with Terms as selection criteria and not a LongPoint field.  \r\nIs there any alternative way to achieve this?\r\n\r\n","title":"Lucene - Update documents using LongPoint Field as Term in writer.updateDocuments()","body":"<p>I am trying to update a document in my index using writer.update(Term t, Document doc) method.\nUpdate is successful if I specify a TextField in Term, but fails when I supply a LongPoint in Term\n<br>\nA sample of my code:<br></p>\n\n<pre><code>package com.luceneserver.core;\n\nimport java.io.IOException;\n\nimport org.apache.lucene.document.Document;\nimport org.apache.lucene.document.Field.Store;\nimport org.apache.lucene.document.LongPoint;\nimport org.apache.lucene.document.StoredField;\nimport org.apache.lucene.document.TextField;\nimport org.apache.lucene.index.DirectoryReader;\nimport org.apache.lucene.index.IndexReader;\nimport org.apache.lucene.index.IndexWriter;\nimport org.apache.lucene.index.IndexWriterConfig;\nimport org.apache.lucene.index.Term;\nimport org.apache.lucene.search.IndexSearcher;\nimport org.apache.lucene.search.MatchAllDocsQuery;\nimport org.apache.lucene.search.ScoreDoc;\nimport org.apache.lucene.store.RAMDirectory;\n\npublic class SampleDocUpdates {\n\n    public static void main(String[] args) throws IOException {\n        IndexWriter writer = new IndexWriter(new RAMDirectory(), new IndexWriterConfig());\n        IndexReader reader;\n        IndexSearcher searcher;\n\n\n        // first document in the index\n        Document initialDoc = new Document();\n        // adding a text field\n        initialDoc.add(new TextField(\"foo_text\", \"abc\", Store.YES));\n        // adding a numeric field\n        initialDoc.add(new LongPoint(\"foo_number\", 1000));\n        // adding stored field to display hits\n        initialDoc.add(new StoredField(\"foo_number\", 1000));\n\n\n        writer.addDocument(initialDoc);\n\n\n        // second document in index which should update the first one..\n        Document newDoc = new Document();\n        newDoc.add(new TextField(\"foo_text\", \"def\", Store.YES));\n        newDoc.add(new LongPoint(\"foo_number\", 2000));\n        newDoc.add(new StoredField(\"foo_number\", 2000));\n\n\n        // update doc with foo_text:abc with the newDoc instance.\n        writer.updateDocument(new Term(\"foo_text\", \"abc\"), newDoc);\n\n        reader = DirectoryReader.open(writer);\n        searcher = new IndexSearcher(reader);\n\n        ScoreDoc[] scoreDocs = searcher.search(new MatchAllDocsQuery(), 1000).scoreDocs;\n\n        for (ScoreDoc scoreDoc : scoreDocs) {\n            System.out.println(searcher.doc(scoreDoc.doc).get(\"foo_text\")+\"\\t\"+searcher.doc(scoreDoc.doc).get(\"foo_number\"));\n            //'def  2000'\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>This code successfully updates the initial document with second document...<br>\nbut if I use </p>\n\n<blockquote>\n  <p>writer.updateDocument(new Term(\"foo_number\", 1000), newDoc);  </p>\n</blockquote>\n\n<p>It fails... My requirement is to update documents by uniquely identifying the documents based on the LongPoint field..<br>\nThe documentation (lucene 6.3.0) has only updateDocuments() with Terms as selection criteria and not a LongPoint field.<br>\nIs there any alternative way to achieve this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7804,"page":357,"page_size":100}
